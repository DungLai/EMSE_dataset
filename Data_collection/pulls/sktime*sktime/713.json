{"url":"https://api.github.com/repos/sktime/sktime/pulls/713","id":581446298,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgxNDQ2Mjk4","html_url":"https://github.com/sktime/sktime/pull/713","diff_url":"https://github.com/sktime/sktime/pull/713.diff","patch_url":"https://github.com/sktime/sktime/pull/713.patch","issue_url":"https://api.github.com/repos/sktime/sktime/issues/713","number":713,"state":"closed","locked":false,"title":"Fix cross validation for KNN classifiers","user":{"login":"AidenRushbrooke","id":72034940,"node_id":"MDQ6VXNlcjcyMDM0OTQw","avatar_url":"https://avatars.githubusercontent.com/u/72034940?v=4","gravatar_id":"","url":"https://api.github.com/users/AidenRushbrooke","html_url":"https://github.com/AidenRushbrooke","followers_url":"https://api.github.com/users/AidenRushbrooke/followers","following_url":"https://api.github.com/users/AidenRushbrooke/following{/other_user}","gists_url":"https://api.github.com/users/AidenRushbrooke/gists{/gist_id}","starred_url":"https://api.github.com/users/AidenRushbrooke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AidenRushbrooke/subscriptions","organizations_url":"https://api.github.com/users/AidenRushbrooke/orgs","repos_url":"https://api.github.com/users/AidenRushbrooke/repos","events_url":"https://api.github.com/users/AidenRushbrooke/events{/privacy}","received_events_url":"https://api.github.com/users/AidenRushbrooke/received_events","type":"User","site_admin":false},"body":"<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look at our contribution guide: https://github.com/alan-turing-institute/sktime/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n<!--\r\nExample: Fixes #1234. See also #3456.\r\n\r\nPlease use keywords (e.g., Fixes) to create link to the issues or pull requests\r\nyou resolved, so that they will automatically be closed when your pull request\r\nis merged. See https://github.com/blog/1506-closing-issues-via-pull-requests\r\n-->\r\nRelated to issue #596.\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n<!--\r\nA clear and concise description of what you have implemented.\r\n-->\r\nRolls back changes relating to the terms \"distance_params\" and \"metric_params\" to fix cross validation for KNN classifers.\r\nAlso includes setting the defaults for each parameter manually, if none have been provided.\r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\n<!--\r\nIf your contribution does add a new hard dependency, we may suggest to initially develop your contribution in a separate companion package in https://github.com/sktime/ to keep external dependencies of the core sktime package to a minimum.\r\n-->\r\nNo\r\n#### What should a reviewer concentrate their feedback on?\r\n\r\n<!-- This section is particularly useful if you have a pull request that is still in development. You can guide the reviews to focus on the parts that are ready for their comments. We suggest using bullets (indicated by * or -) and filled checkboxes [x] here -->\r\nAre there better ways to fix this issue while keeping the same naming conventions\r\n#### Any other comments?\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is necessary; assistance handling other issues is very welcome. We value all user contributions, no matter how minor they are. If we are slow to review, either the pull request needs some benchmarking, tinkering, convincing, etc. or more likely the reviewers are simply busy. In either case, we ask for your understanding during the review process.\r\n-->\r\nDue to the way the classifier is cloned during cross validation, the distance metric was not being set correctly. This is because the distance functions still look for the parameters in metric_params, following the scikit-learn implementation. There may be better ways of resolving this issue whilst keeping the same naming convention, but I found this method the cleanest of options.\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [ ] I've added myself to the [list of contributors](https://github.com/alan-turing-institute/sktime/blob/master/.all-contributorsrc).\r\n- [ ] Optionally, I've updated sktime's [CODEOWNERS](https://github.com/alan-turing-institute/sktime/blob/master/CODEOWNERS) to receive notifications about future changes to these files.\r\n- [ ] I've added unit tests and made sure they pass locally.\r\n\r\n##### For new estimators\r\n- [ ] I've added the estimator to the online documentation.\r\n- [ ] I've updated the existing example notebooks or provided a new one to showcase how my estimator works.\r\n\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n","created_at":"2021-02-28T03:49:17Z","updated_at":"2021-05-21T18:15:37Z","closed_at":"2021-05-21T18:15:37Z","merged_at":null,"merge_commit_sha":"6ce3e9c29a06c6ce91ba34f1559b68c4a74d39d7","assignee":null,"assignees":[],"requested_reviewers":[{"login":"TonyBagnall","id":9594042,"node_id":"MDQ6VXNlcjk1OTQwNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9594042?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyBagnall","html_url":"https://github.com/TonyBagnall","followers_url":"https://api.github.com/users/TonyBagnall/followers","following_url":"https://api.github.com/users/TonyBagnall/following{/other_user}","gists_url":"https://api.github.com/users/TonyBagnall/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyBagnall/subscriptions","organizations_url":"https://api.github.com/users/TonyBagnall/orgs","repos_url":"https://api.github.com/users/TonyBagnall/repos","events_url":"https://api.github.com/users/TonyBagnall/events{/privacy}","received_events_url":"https://api.github.com/users/TonyBagnall/received_events","type":"User","site_admin":false},{"login":"jasonlines","id":38794632,"node_id":"MDQ6VXNlcjM4Nzk0NjMy","avatar_url":"https://avatars.githubusercontent.com/u/38794632?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonlines","html_url":"https://github.com/jasonlines","followers_url":"https://api.github.com/users/jasonlines/followers","following_url":"https://api.github.com/users/jasonlines/following{/other_user}","gists_url":"https://api.github.com/users/jasonlines/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonlines/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonlines/subscriptions","organizations_url":"https://api.github.com/users/jasonlines/orgs","repos_url":"https://api.github.com/users/jasonlines/repos","events_url":"https://api.github.com/users/jasonlines/events{/privacy}","received_events_url":"https://api.github.com/users/jasonlines/received_events","type":"User","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/sktime/sktime/pulls/713/commits","review_comments_url":"https://api.github.com/repos/sktime/sktime/pulls/713/comments","review_comment_url":"https://api.github.com/repos/sktime/sktime/pulls/comments{/number}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/713/comments","statuses_url":"https://api.github.com/repos/sktime/sktime/statuses/f50e621d991a7d9f4791f54e0d58421ed191e7fa","head":{"label":"AidenRushbrooke:Knn_cvfix","ref":"Knn_cvfix","sha":"f50e621d991a7d9f4791f54e0d58421ed191e7fa","user":{"login":"AidenRushbrooke","id":72034940,"node_id":"MDQ6VXNlcjcyMDM0OTQw","avatar_url":"https://avatars.githubusercontent.com/u/72034940?v=4","gravatar_id":"","url":"https://api.github.com/users/AidenRushbrooke","html_url":"https://github.com/AidenRushbrooke","followers_url":"https://api.github.com/users/AidenRushbrooke/followers","following_url":"https://api.github.com/users/AidenRushbrooke/following{/other_user}","gists_url":"https://api.github.com/users/AidenRushbrooke/gists{/gist_id}","starred_url":"https://api.github.com/users/AidenRushbrooke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AidenRushbrooke/subscriptions","organizations_url":"https://api.github.com/users/AidenRushbrooke/orgs","repos_url":"https://api.github.com/users/AidenRushbrooke/repos","events_url":"https://api.github.com/users/AidenRushbrooke/events{/privacy}","received_events_url":"https://api.github.com/users/AidenRushbrooke/received_events","type":"User","site_admin":false},"repo":{"id":299361782,"node_id":"MDEwOlJlcG9zaXRvcnkyOTkzNjE3ODI=","name":"sktime","full_name":"AidenRushbrooke/sktime","private":false,"owner":{"login":"AidenRushbrooke","id":72034940,"node_id":"MDQ6VXNlcjcyMDM0OTQw","avatar_url":"https://avatars.githubusercontent.com/u/72034940?v=4","gravatar_id":"","url":"https://api.github.com/users/AidenRushbrooke","html_url":"https://github.com/AidenRushbrooke","followers_url":"https://api.github.com/users/AidenRushbrooke/followers","following_url":"https://api.github.com/users/AidenRushbrooke/following{/other_user}","gists_url":"https://api.github.com/users/AidenRushbrooke/gists{/gist_id}","starred_url":"https://api.github.com/users/AidenRushbrooke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AidenRushbrooke/subscriptions","organizations_url":"https://api.github.com/users/AidenRushbrooke/orgs","repos_url":"https://api.github.com/users/AidenRushbrooke/repos","events_url":"https://api.github.com/users/AidenRushbrooke/events{/privacy}","received_events_url":"https://api.github.com/users/AidenRushbrooke/received_events","type":"User","site_admin":false},"html_url":"https://github.com/AidenRushbrooke/sktime","description":"A unified toolbox for machine learning with time series","fork":true,"url":"https://api.github.com/repos/AidenRushbrooke/sktime","forks_url":"https://api.github.com/repos/AidenRushbrooke/sktime/forks","keys_url":"https://api.github.com/repos/AidenRushbrooke/sktime/keys{/key_id}","collaborators_url":"https://api.github.com/repos/AidenRushbrooke/sktime/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/AidenRushbrooke/sktime/teams","hooks_url":"https://api.github.com/repos/AidenRushbrooke/sktime/hooks","issue_events_url":"https://api.github.com/repos/AidenRushbrooke/sktime/issues/events{/number}","events_url":"https://api.github.com/repos/AidenRushbrooke/sktime/events","assignees_url":"https://api.github.com/repos/AidenRushbrooke/sktime/assignees{/user}","branches_url":"https://api.github.com/repos/AidenRushbrooke/sktime/branches{/branch}","tags_url":"https://api.github.com/repos/AidenRushbrooke/sktime/tags","blobs_url":"https://api.github.com/repos/AidenRushbrooke/sktime/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/AidenRushbrooke/sktime/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/AidenRushbrooke/sktime/git/refs{/sha}","trees_url":"https://api.github.com/repos/AidenRushbrooke/sktime/git/trees{/sha}","statuses_url":"https://api.github.com/repos/AidenRushbrooke/sktime/statuses/{sha}","languages_url":"https://api.github.com/repos/AidenRushbrooke/sktime/languages","stargazers_url":"https://api.github.com/repos/AidenRushbrooke/sktime/stargazers","contributors_url":"https://api.github.com/repos/AidenRushbrooke/sktime/contributors","subscribers_url":"https://api.github.com/repos/AidenRushbrooke/sktime/subscribers","subscription_url":"https://api.github.com/repos/AidenRushbrooke/sktime/subscription","commits_url":"https://api.github.com/repos/AidenRushbrooke/sktime/commits{/sha}","git_commits_url":"https://api.github.com/repos/AidenRushbrooke/sktime/git/commits{/sha}","comments_url":"https://api.github.com/repos/AidenRushbrooke/sktime/comments{/number}","issue_comment_url":"https://api.github.com/repos/AidenRushbrooke/sktime/issues/comments{/number}","contents_url":"https://api.github.com/repos/AidenRushbrooke/sktime/contents/{+path}","compare_url":"https://api.github.com/repos/AidenRushbrooke/sktime/compare/{base}...{head}","merges_url":"https://api.github.com/repos/AidenRushbrooke/sktime/merges","archive_url":"https://api.github.com/repos/AidenRushbrooke/sktime/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/AidenRushbrooke/sktime/downloads","issues_url":"https://api.github.com/repos/AidenRushbrooke/sktime/issues{/number}","pulls_url":"https://api.github.com/repos/AidenRushbrooke/sktime/pulls{/number}","milestones_url":"https://api.github.com/repos/AidenRushbrooke/sktime/milestones{/number}","notifications_url":"https://api.github.com/repos/AidenRushbrooke/sktime/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/AidenRushbrooke/sktime/labels{/name}","releases_url":"https://api.github.com/repos/AidenRushbrooke/sktime/releases{/id}","deployments_url":"https://api.github.com/repos/AidenRushbrooke/sktime/deployments","created_at":"2020-09-28T16:05:23Z","updated_at":"2022-01-08T01:19:50Z","pushed_at":"2023-01-09T11:40:03Z","git_url":"git://github.com/AidenRushbrooke/sktime.git","ssh_url":"git@github.com:AidenRushbrooke/sktime.git","clone_url":"https://github.com/AidenRushbrooke/sktime.git","svn_url":"https://github.com/AidenRushbrooke/sktime","homepage":"https://sktime.org","size":56324,"stargazers_count":0,"watchers_count":0,"language":"Python","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"sktime:main","ref":"main","sha":"ee7a06843a44f4aaec7582d847e36073a9ab0566","user":{"login":"sktime","id":56396127,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2Mzk2MTI3","avatar_url":"https://avatars.githubusercontent.com/u/56396127?v=4","gravatar_id":"","url":"https://api.github.com/users/sktime","html_url":"https://github.com/sktime","followers_url":"https://api.github.com/users/sktime/followers","following_url":"https://api.github.com/users/sktime/following{/other_user}","gists_url":"https://api.github.com/users/sktime/gists{/gist_id}","starred_url":"https://api.github.com/users/sktime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sktime/subscriptions","organizations_url":"https://api.github.com/users/sktime/orgs","repos_url":"https://api.github.com/users/sktime/repos","events_url":"https://api.github.com/users/sktime/events{/privacy}","received_events_url":"https://api.github.com/users/sktime/received_events","type":"Organization","site_admin":false},"repo":{"id":156401841,"node_id":"MDEwOlJlcG9zaXRvcnkxNTY0MDE4NDE=","name":"sktime","full_name":"sktime/sktime","private":false,"owner":{"login":"sktime","id":56396127,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2Mzk2MTI3","avatar_url":"https://avatars.githubusercontent.com/u/56396127?v=4","gravatar_id":"","url":"https://api.github.com/users/sktime","html_url":"https://github.com/sktime","followers_url":"https://api.github.com/users/sktime/followers","following_url":"https://api.github.com/users/sktime/following{/other_user}","gists_url":"https://api.github.com/users/sktime/gists{/gist_id}","starred_url":"https://api.github.com/users/sktime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sktime/subscriptions","organizations_url":"https://api.github.com/users/sktime/orgs","repos_url":"https://api.github.com/users/sktime/repos","events_url":"https://api.github.com/users/sktime/events{/privacy}","received_events_url":"https://api.github.com/users/sktime/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/sktime/sktime","description":"A unified framework for machine learning with time series","fork":false,"url":"https://api.github.com/repos/sktime/sktime","forks_url":"https://api.github.com/repos/sktime/sktime/forks","keys_url":"https://api.github.com/repos/sktime/sktime/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sktime/sktime/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sktime/sktime/teams","hooks_url":"https://api.github.com/repos/sktime/sktime/hooks","issue_events_url":"https://api.github.com/repos/sktime/sktime/issues/events{/number}","events_url":"https://api.github.com/repos/sktime/sktime/events","assignees_url":"https://api.github.com/repos/sktime/sktime/assignees{/user}","branches_url":"https://api.github.com/repos/sktime/sktime/branches{/branch}","tags_url":"https://api.github.com/repos/sktime/sktime/tags","blobs_url":"https://api.github.com/repos/sktime/sktime/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sktime/sktime/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sktime/sktime/git/refs{/sha}","trees_url":"https://api.github.com/repos/sktime/sktime/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sktime/sktime/statuses/{sha}","languages_url":"https://api.github.com/repos/sktime/sktime/languages","stargazers_url":"https://api.github.com/repos/sktime/sktime/stargazers","contributors_url":"https://api.github.com/repos/sktime/sktime/contributors","subscribers_url":"https://api.github.com/repos/sktime/sktime/subscribers","subscription_url":"https://api.github.com/repos/sktime/sktime/subscription","commits_url":"https://api.github.com/repos/sktime/sktime/commits{/sha}","git_commits_url":"https://api.github.com/repos/sktime/sktime/git/commits{/sha}","comments_url":"https://api.github.com/repos/sktime/sktime/comments{/number}","issue_comment_url":"https://api.github.com/repos/sktime/sktime/issues/comments{/number}","contents_url":"https://api.github.com/repos/sktime/sktime/contents/{+path}","compare_url":"https://api.github.com/repos/sktime/sktime/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sktime/sktime/merges","archive_url":"https://api.github.com/repos/sktime/sktime/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sktime/sktime/downloads","issues_url":"https://api.github.com/repos/sktime/sktime/issues{/number}","pulls_url":"https://api.github.com/repos/sktime/sktime/pulls{/number}","milestones_url":"https://api.github.com/repos/sktime/sktime/milestones{/number}","notifications_url":"https://api.github.com/repos/sktime/sktime/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sktime/sktime/labels{/name}","releases_url":"https://api.github.com/repos/sktime/sktime/releases{/id}","deployments_url":"https://api.github.com/repos/sktime/sktime/deployments","created_at":"2018-11-06T15:08:24Z","updated_at":"2023-01-26T19:26:46Z","pushed_at":"2023-01-26T23:01:42Z","git_url":"git://github.com/sktime/sktime.git","ssh_url":"git@github.com:sktime/sktime.git","clone_url":"https://github.com/sktime/sktime.git","svn_url":"https://github.com/sktime/sktime","homepage":"https://sktime.org","size":57239,"stargazers_count":6065,"watchers_count":6065,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1009,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":648,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["data-mining","data-science","forecasting","machine-learning","scikit-learn","time-series","time-series-analysis","time-series-classification","time-series-regression"],"visibility":"public","forks":1009,"open_issues":648,"watchers":6065,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/sktime/sktime/pulls/713"},"html":{"href":"https://github.com/sktime/sktime/pull/713"},"issue":{"href":"https://api.github.com/repos/sktime/sktime/issues/713"},"comments":{"href":"https://api.github.com/repos/sktime/sktime/issues/713/comments"},"review_comments":{"href":"https://api.github.com/repos/sktime/sktime/pulls/713/comments"},"review_comment":{"href":"https://api.github.com/repos/sktime/sktime/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/sktime/sktime/pulls/713/commits"},"statuses":{"href":"https://api.github.com/repos/sktime/sktime/statuses/f50e621d991a7d9f4791f54e0d58421ed191e7fa"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null,"merged":false,"mergeable":null,"rebaseable":null,"mergeable_state":"unknown","merged_by":null,"comments":4,"review_comments":0,"maintainer_can_modify":false,"commits":8,"additions":31,"deletions":16,"changed_files":2}