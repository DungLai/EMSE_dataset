{"url":"https://api.github.com/repos/sktime/sktime/pulls/3436","id":1059274462,"node_id":"PR_kwDOCVKAsc4_Iz7e","html_url":"https://github.com/sktime/sktime/pull/3436","diff_url":"https://github.com/sktime/sktime/pull/3436.diff","patch_url":"https://github.com/sktime/sktime/pull/3436.patch","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3436","number":3436,"state":"closed","locked":false,"title":"[ENH] support for `@targetlabel` identifier for `.ts` files in `load_from_tsfile`","user":{"login":"achieveordie","id":54197164,"node_id":"MDQ6VXNlcjU0MTk3MTY0","avatar_url":"https://avatars.githubusercontent.com/u/54197164?v=4","gravatar_id":"","url":"https://api.github.com/users/achieveordie","html_url":"https://github.com/achieveordie","followers_url":"https://api.github.com/users/achieveordie/followers","following_url":"https://api.github.com/users/achieveordie/following{/other_user}","gists_url":"https://api.github.com/users/achieveordie/gists{/gist_id}","starred_url":"https://api.github.com/users/achieveordie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achieveordie/subscriptions","organizations_url":"https://api.github.com/users/achieveordie/orgs","repos_url":"https://api.github.com/users/achieveordie/repos","events_url":"https://api.github.com/users/achieveordie/events{/privacy}","received_events_url":"https://api.github.com/users/achieveordie/received_events","type":"User","site_admin":false},"body":"<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/alan-turing-institute/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n<!--\r\nExample: Fixes #1234. See also #3456.\r\n\r\nPlease use keywords (e.g., Fixes) to create link to the issues or pull requests\r\nyou resolved, so that they will automatically be closed when your pull request\r\nis merged. See https://github.com/blog/1506-closing-issues-via-pull-requests\r\n-->\r\nFixes #3412.\r\n\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n<!--\r\nA clear and concise description of what you have implemented.\r\n-->\r\nAdd an `elif` block to read for `@targetlabel` in two places - `_read_header()` and `load_from_tsfile_to_dataframe()`. The implementation is very similar to `@classlabel` but it doesn't accept additional values (since regression data has no class labels).\r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\n<!--\r\nIf your contribution does add a new hard dependency, we may suggest to initially develop your contribution in a separate companion package in https://github.com/sktime/ to keep external dependencies of the core sktime package to a minimum.\r\n-->\r\nNo.\r\n\r\n#### What should a reviewer concentrate their feedback on?\r\n\r\n<!-- This section is particularly useful if you have a pull request that is still in development. You can guide the reviews to focus on the parts that are ready for their comments. We suggest using bullets (indicated by * or -) and filled checkboxes [x] here -->\r\n@TonyBagnall, I found a minor typo in one of the keys of `meta_data` of `_read_header()`. It probably should be `has_class_label` instead of `class_label`. Since it was written by you, please check if I misunderstood.\r\n\r\n- [x] Remove a possible silent bug due to a typo.\r\n- [x] Add `@targetlabel` as a valid identifier.\r\n- [x] Add a test for regression data. For this, I want to add [Covid19 Death Rate Dataset](https://zenodo.org/record/3902690#.YyV4qXZBxEY) from tseregression. I need confirmation if the licence associated with it doesn't clash with our usage. This dataset would go inside `datasets/data/`. If this is not possible, I could also create a dummy regression dataset for testing purposes, similar to `UnitTest`.\r\n\r\n#### Any other comments?\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is necessary; assistance handling other issues is very welcome. We value all user contributions, no matter how minor they are. If we are slow to review, either the pull request needs some benchmarking, tinkering, convincing, etc. or more likely the reviewers are simply busy. In either case, we ask for your understanding during the review process.\r\n-->\r\nThere is a major issue with our current implementation. When timestamps are present, code requires that we have class labels present(a list of possible labels like `[0, 1, 2]`). This is contrary to regression data. Since this might require major changes throughout, we could add it into the workflow as mentioned [here](https://github.com/alan-turing-institute/sktime/issues/3412#issuecomment-1249071631). This PR only solves those cases where there is regression data without timestamps.\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [x] I've added unit tests and made sure they pass locally.\r\n- [x] The PR title starts with either [ENH], [MNT], [DOC], or [BUG] indicating whether the PR topic is related to enhancement, maintenance, documentation, or bug.\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n","created_at":"2022-09-17T08:02:26Z","updated_at":"2022-10-01T20:19:15Z","closed_at":"2022-10-01T20:18:30Z","merged_at":"2022-10-01T20:18:30Z","merge_commit_sha":"eef9dd60914d44d691b4c301d00b26561690bbec","assignee":null,"assignees":[],"requested_reviewers":[{"login":"aiwalter","id":29627036,"node_id":"MDQ6VXNlcjI5NjI3MDM2","avatar_url":"https://avatars.githubusercontent.com/u/29627036?v=4","gravatar_id":"","url":"https://api.github.com/users/aiwalter","html_url":"https://github.com/aiwalter","followers_url":"https://api.github.com/users/aiwalter/followers","following_url":"https://api.github.com/users/aiwalter/following{/other_user}","gists_url":"https://api.github.com/users/aiwalter/gists{/gist_id}","starred_url":"https://api.github.com/users/aiwalter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aiwalter/subscriptions","organizations_url":"https://api.github.com/users/aiwalter/orgs","repos_url":"https://api.github.com/users/aiwalter/repos","events_url":"https://api.github.com/users/aiwalter/events{/privacy}","received_events_url":"https://api.github.com/users/aiwalter/received_events","type":"User","site_admin":false}],"requested_teams":[],"labels":[{"id":3821859781,"node_id":"LA_kwDOCVKAsc7jzPPF","url":"https://api.github.com/repos/sktime/sktime/labels/module:datasets&loaders","name":"module:datasets&loaders","color":"0052cc","default":false,"description":"data sets and data loaders"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/sktime/sktime/pulls/3436/commits","review_comments_url":"https://api.github.com/repos/sktime/sktime/pulls/3436/comments","review_comment_url":"https://api.github.com/repos/sktime/sktime/pulls/comments{/number}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3436/comments","statuses_url":"https://api.github.com/repos/sktime/sktime/statuses/7a5be9e3deaf34d8a9d8e914655617c1e0695dcd","head":{"label":"achieveordie:regression_identifier","ref":"regression_identifier","sha":"7a5be9e3deaf34d8a9d8e914655617c1e0695dcd","user":{"login":"achieveordie","id":54197164,"node_id":"MDQ6VXNlcjU0MTk3MTY0","avatar_url":"https://avatars.githubusercontent.com/u/54197164?v=4","gravatar_id":"","url":"https://api.github.com/users/achieveordie","html_url":"https://github.com/achieveordie","followers_url":"https://api.github.com/users/achieveordie/followers","following_url":"https://api.github.com/users/achieveordie/following{/other_user}","gists_url":"https://api.github.com/users/achieveordie/gists{/gist_id}","starred_url":"https://api.github.com/users/achieveordie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achieveordie/subscriptions","organizations_url":"https://api.github.com/users/achieveordie/orgs","repos_url":"https://api.github.com/users/achieveordie/repos","events_url":"https://api.github.com/users/achieveordie/events{/privacy}","received_events_url":"https://api.github.com/users/achieveordie/received_events","type":"User","site_admin":false},"repo":{"id":518294581,"node_id":"R_kgDOHuSMNQ","name":"sktime","full_name":"achieveordie/sktime","private":false,"owner":{"login":"achieveordie","id":54197164,"node_id":"MDQ6VXNlcjU0MTk3MTY0","avatar_url":"https://avatars.githubusercontent.com/u/54197164?v=4","gravatar_id":"","url":"https://api.github.com/users/achieveordie","html_url":"https://github.com/achieveordie","followers_url":"https://api.github.com/users/achieveordie/followers","following_url":"https://api.github.com/users/achieveordie/following{/other_user}","gists_url":"https://api.github.com/users/achieveordie/gists{/gist_id}","starred_url":"https://api.github.com/users/achieveordie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achieveordie/subscriptions","organizations_url":"https://api.github.com/users/achieveordie/orgs","repos_url":"https://api.github.com/users/achieveordie/repos","events_url":"https://api.github.com/users/achieveordie/events{/privacy}","received_events_url":"https://api.github.com/users/achieveordie/received_events","type":"User","site_admin":false},"html_url":"https://github.com/achieveordie/sktime","description":"A unified framework for machine learning with time series","fork":true,"url":"https://api.github.com/repos/achieveordie/sktime","forks_url":"https://api.github.com/repos/achieveordie/sktime/forks","keys_url":"https://api.github.com/repos/achieveordie/sktime/keys{/key_id}","collaborators_url":"https://api.github.com/repos/achieveordie/sktime/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/achieveordie/sktime/teams","hooks_url":"https://api.github.com/repos/achieveordie/sktime/hooks","issue_events_url":"https://api.github.com/repos/achieveordie/sktime/issues/events{/number}","events_url":"https://api.github.com/repos/achieveordie/sktime/events","assignees_url":"https://api.github.com/repos/achieveordie/sktime/assignees{/user}","branches_url":"https://api.github.com/repos/achieveordie/sktime/branches{/branch}","tags_url":"https://api.github.com/repos/achieveordie/sktime/tags","blobs_url":"https://api.github.com/repos/achieveordie/sktime/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/achieveordie/sktime/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/achieveordie/sktime/git/refs{/sha}","trees_url":"https://api.github.com/repos/achieveordie/sktime/git/trees{/sha}","statuses_url":"https://api.github.com/repos/achieveordie/sktime/statuses/{sha}","languages_url":"https://api.github.com/repos/achieveordie/sktime/languages","stargazers_url":"https://api.github.com/repos/achieveordie/sktime/stargazers","contributors_url":"https://api.github.com/repos/achieveordie/sktime/contributors","subscribers_url":"https://api.github.com/repos/achieveordie/sktime/subscribers","subscription_url":"https://api.github.com/repos/achieveordie/sktime/subscription","commits_url":"https://api.github.com/repos/achieveordie/sktime/commits{/sha}","git_commits_url":"https://api.github.com/repos/achieveordie/sktime/git/commits{/sha}","comments_url":"https://api.github.com/repos/achieveordie/sktime/comments{/number}","issue_comment_url":"https://api.github.com/repos/achieveordie/sktime/issues/comments{/number}","contents_url":"https://api.github.com/repos/achieveordie/sktime/contents/{+path}","compare_url":"https://api.github.com/repos/achieveordie/sktime/compare/{base}...{head}","merges_url":"https://api.github.com/repos/achieveordie/sktime/merges","archive_url":"https://api.github.com/repos/achieveordie/sktime/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/achieveordie/sktime/downloads","issues_url":"https://api.github.com/repos/achieveordie/sktime/issues{/number}","pulls_url":"https://api.github.com/repos/achieveordie/sktime/pulls{/number}","milestones_url":"https://api.github.com/repos/achieveordie/sktime/milestones{/number}","notifications_url":"https://api.github.com/repos/achieveordie/sktime/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/achieveordie/sktime/labels{/name}","releases_url":"https://api.github.com/repos/achieveordie/sktime/releases{/id}","deployments_url":"https://api.github.com/repos/achieveordie/sktime/deployments","created_at":"2022-07-27T03:22:45Z","updated_at":"2022-08-01T03:45:44Z","pushed_at":"2023-01-18T05:32:46Z","git_url":"git://github.com/achieveordie/sktime.git","ssh_url":"git@github.com:achieveordie/sktime.git","clone_url":"https://github.com/achieveordie/sktime.git","svn_url":"https://github.com/achieveordie/sktime","homepage":"https://sktime.org","size":54707,"stargazers_count":0,"watchers_count":0,"language":"Python","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"sktime:main","ref":"main","sha":"822b95c4b4109bf65cbb0f669d259dfbaedcc4fd","user":{"login":"sktime","id":56396127,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2Mzk2MTI3","avatar_url":"https://avatars.githubusercontent.com/u/56396127?v=4","gravatar_id":"","url":"https://api.github.com/users/sktime","html_url":"https://github.com/sktime","followers_url":"https://api.github.com/users/sktime/followers","following_url":"https://api.github.com/users/sktime/following{/other_user}","gists_url":"https://api.github.com/users/sktime/gists{/gist_id}","starred_url":"https://api.github.com/users/sktime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sktime/subscriptions","organizations_url":"https://api.github.com/users/sktime/orgs","repos_url":"https://api.github.com/users/sktime/repos","events_url":"https://api.github.com/users/sktime/events{/privacy}","received_events_url":"https://api.github.com/users/sktime/received_events","type":"Organization","site_admin":false},"repo":{"id":156401841,"node_id":"MDEwOlJlcG9zaXRvcnkxNTY0MDE4NDE=","name":"sktime","full_name":"sktime/sktime","private":false,"owner":{"login":"sktime","id":56396127,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2Mzk2MTI3","avatar_url":"https://avatars.githubusercontent.com/u/56396127?v=4","gravatar_id":"","url":"https://api.github.com/users/sktime","html_url":"https://github.com/sktime","followers_url":"https://api.github.com/users/sktime/followers","following_url":"https://api.github.com/users/sktime/following{/other_user}","gists_url":"https://api.github.com/users/sktime/gists{/gist_id}","starred_url":"https://api.github.com/users/sktime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sktime/subscriptions","organizations_url":"https://api.github.com/users/sktime/orgs","repos_url":"https://api.github.com/users/sktime/repos","events_url":"https://api.github.com/users/sktime/events{/privacy}","received_events_url":"https://api.github.com/users/sktime/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/sktime/sktime","description":"A unified framework for machine learning with time series","fork":false,"url":"https://api.github.com/repos/sktime/sktime","forks_url":"https://api.github.com/repos/sktime/sktime/forks","keys_url":"https://api.github.com/repos/sktime/sktime/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sktime/sktime/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sktime/sktime/teams","hooks_url":"https://api.github.com/repos/sktime/sktime/hooks","issue_events_url":"https://api.github.com/repos/sktime/sktime/issues/events{/number}","events_url":"https://api.github.com/repos/sktime/sktime/events","assignees_url":"https://api.github.com/repos/sktime/sktime/assignees{/user}","branches_url":"https://api.github.com/repos/sktime/sktime/branches{/branch}","tags_url":"https://api.github.com/repos/sktime/sktime/tags","blobs_url":"https://api.github.com/repos/sktime/sktime/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sktime/sktime/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sktime/sktime/git/refs{/sha}","trees_url":"https://api.github.com/repos/sktime/sktime/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sktime/sktime/statuses/{sha}","languages_url":"https://api.github.com/repos/sktime/sktime/languages","stargazers_url":"https://api.github.com/repos/sktime/sktime/stargazers","contributors_url":"https://api.github.com/repos/sktime/sktime/contributors","subscribers_url":"https://api.github.com/repos/sktime/sktime/subscribers","subscription_url":"https://api.github.com/repos/sktime/sktime/subscription","commits_url":"https://api.github.com/repos/sktime/sktime/commits{/sha}","git_commits_url":"https://api.github.com/repos/sktime/sktime/git/commits{/sha}","comments_url":"https://api.github.com/repos/sktime/sktime/comments{/number}","issue_comment_url":"https://api.github.com/repos/sktime/sktime/issues/comments{/number}","contents_url":"https://api.github.com/repos/sktime/sktime/contents/{+path}","compare_url":"https://api.github.com/repos/sktime/sktime/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sktime/sktime/merges","archive_url":"https://api.github.com/repos/sktime/sktime/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sktime/sktime/downloads","issues_url":"https://api.github.com/repos/sktime/sktime/issues{/number}","pulls_url":"https://api.github.com/repos/sktime/sktime/pulls{/number}","milestones_url":"https://api.github.com/repos/sktime/sktime/milestones{/number}","notifications_url":"https://api.github.com/repos/sktime/sktime/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sktime/sktime/labels{/name}","releases_url":"https://api.github.com/repos/sktime/sktime/releases{/id}","deployments_url":"https://api.github.com/repos/sktime/sktime/deployments","created_at":"2018-11-06T15:08:24Z","updated_at":"2023-01-26T19:26:46Z","pushed_at":"2023-01-26T23:01:42Z","git_url":"git://github.com/sktime/sktime.git","ssh_url":"git@github.com:sktime/sktime.git","clone_url":"https://github.com/sktime/sktime.git","svn_url":"https://github.com/sktime/sktime","homepage":"https://sktime.org","size":57239,"stargazers_count":6065,"watchers_count":6065,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1009,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":648,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["data-mining","data-science","forecasting","machine-learning","scikit-learn","time-series","time-series-analysis","time-series-classification","time-series-regression"],"visibility":"public","forks":1009,"open_issues":648,"watchers":6065,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/sktime/sktime/pulls/3436"},"html":{"href":"https://github.com/sktime/sktime/pull/3436"},"issue":{"href":"https://api.github.com/repos/sktime/sktime/issues/3436"},"comments":{"href":"https://api.github.com/repos/sktime/sktime/issues/3436/comments"},"review_comments":{"href":"https://api.github.com/repos/sktime/sktime/pulls/3436/comments"},"review_comment":{"href":"https://api.github.com/repos/sktime/sktime/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/sktime/sktime/pulls/3436/commits"},"statuses":{"href":"https://api.github.com/repos/sktime/sktime/statuses/7a5be9e3deaf34d8a9d8e914655617c1e0695dcd"}},"author_association":"COLLABORATOR","auto_merge":null,"active_lock_reason":null,"merged":true,"mergeable":null,"rebaseable":null,"mergeable_state":"unknown","merged_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"comments":5,"review_comments":0,"maintainer_can_modify":false,"commits":2,"additions":320,"deletions":2,"changed_files":6}