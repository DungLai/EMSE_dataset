{"url":"https://api.github.com/repos/blue-oil/blueoil/pulls/144","id":250289611,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwMjg5NjEx","html_url":"https://github.com/blue-oil/blueoil/pull/144","diff_url":"https://github.com/blue-oil/blueoil/pull/144.diff","patch_url":"https://github.com/blue-oil/blueoil/pull/144.patch","issue_url":"https://api.github.com/repos/blue-oil/blueoil/issues/144","number":144,"state":"closed","locked":true,"title":"Output GPU Inference Model Template","user":{"login":"Joeper214","id":2352389,"node_id":"MDQ6VXNlcjIzNTIzODk=","avatar_url":"https://avatars.githubusercontent.com/u/2352389?v=4","gravatar_id":"","url":"https://api.github.com/users/Joeper214","html_url":"https://github.com/Joeper214","followers_url":"https://api.github.com/users/Joeper214/followers","following_url":"https://api.github.com/users/Joeper214/following{/other_user}","gists_url":"https://api.github.com/users/Joeper214/gists{/gist_id}","starred_url":"https://api.github.com/users/Joeper214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joeper214/subscriptions","organizations_url":"https://api.github.com/users/Joeper214/orgs","repos_url":"https://api.github.com/users/Joeper214/repos","events_url":"https://api.github.com/users/Joeper214/events{/privacy}","received_events_url":"https://api.github.com/users/Joeper214/received_events","type":"User","site_admin":false},"body":"<!--- üëâüëâüëâ Provide a general summary of your changes. üëàüëàüëà -->\r\n\r\n## Motivation and Context\r\n<!--- üí≠üí°üí≠ Why is this change required? What problem does it solve? üí≠üí°üí≠ -->\r\n<!--- üîó If it fixes an open issue, please link to the issue here. üîó -->\r\n\r\nCurrently, we only have output models for CPU and FPGA to run prediction on specific devices. But some users want to run prediction using GPU as well. The objective is to generate a file that can be executed on GPU using a trained model from blueoil then enable DeLTA-Lite to download it from the User Interface.\r\n\r\n- Fixes #117 \r\n\r\n## Description\r\n<!--- üìùüéØüìù Describe your changes in detail. üìùüéØüìù -->\r\n\r\nWe will update the click interface of run.py script with the following changes.\r\nInstead of using shared library, we will update it to use ‚Äúinference model‚Äù instead. Which will accept the following files:\r\n\r\n- Protocol buffer file for GPU\r\n- Shared library for FPGA\r\n- Shared Library for CPU\r\n\r\n\r\nThen we will add a flag (if-else) statement that will check if the file is either a protocol buffer or a shared library. Since the reason is The NN library only supports small devices which is different from the goal of this task which will add support for GPU.\r\n\r\n- If  the file is a shared library, we will load it into Lmnet NN Library class\r\n\r\n- For GPU, we will load the protocol buffer file to the tensorflow graph directly. \r\nCreate ProtobufLoader class that loads protocol buffer and use the same interface with NN library when running the graph. The reason is to avoid complicated function and make the code more readable and easy to manage.\r\n\r\n## How has this been tested?\r\n<!--- üôÜüëåüôÜ Please describe in detail how you tested your changes. üôÜüëåüôÜ -->\r\n<!--- Include details of your testing environment, details of your manual tests, snippet code or commands of your manual tests, table of experiments results metrics, tests ran to see how your change affects other areas of the code, etc. -->\r\n<!--- If you have experiments report documents please link to here. -->\r\nrun on X86 / FPGA / GPU (Jetson)\r\n\r\n## Screenshots (if appropriate):\r\n\r\n## Types of changes\r\n<!--- üèÅüéåüèÅ What types of changes does your code introduce? Put an `x` in all the boxes that apply: üèÅüéåüèÅ -->\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature / Optimization (non-breaking change which adds functionality)\r\n- [x] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n\r\n## Checklist:\r\n<!--- ‚úÖ‚úÖ‚úÖ Go over all the following points, and put an `x` in all the boxes that apply. ‚úÖ‚úÖ‚úÖ -->\r\n<!--- If you're unsure about any of these, don't hesitate to ask. We're here to help! -->\r\n\r\n<!--- TODO(wakisaka): After decide our code style, add this.\r\n- [ ] My code follows the code style of this project.\r\n-->\r\n- [x] My change requires a change to the documentation.\r\n- [ ] I have updated the documentation accordingly.\r\n","created_at":"2019-02-05T05:41:47Z","updated_at":"2019-03-04T13:52:25Z","closed_at":"2019-03-04T13:52:25Z","merged_at":"2019-03-04T13:52:25Z","merge_commit_sha":"12bc54aafe5f5564fb0800638365def9be757b51","assignee":null,"assignees":[],"requested_reviewers":[{"login":"nlpng","id":34891526,"node_id":"MDQ6VXNlcjM0ODkxNTI2","avatar_url":"https://avatars.githubusercontent.com/u/34891526?v=4","gravatar_id":"","url":"https://api.github.com/users/nlpng","html_url":"https://github.com/nlpng","followers_url":"https://api.github.com/users/nlpng/followers","following_url":"https://api.github.com/users/nlpng/following{/other_user}","gists_url":"https://api.github.com/users/nlpng/gists{/gist_id}","starred_url":"https://api.github.com/users/nlpng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlpng/subscriptions","organizations_url":"https://api.github.com/users/nlpng/orgs","repos_url":"https://api.github.com/users/nlpng/repos","events_url":"https://api.github.com/users/nlpng/events{/privacy}","received_events_url":"https://api.github.com/users/nlpng/received_events","type":"User","site_admin":false},{"login":"lm-jira","id":43122237,"node_id":"MDQ6VXNlcjQzMTIyMjM3","avatar_url":"https://avatars.githubusercontent.com/u/43122237?v=4","gravatar_id":"","url":"https://api.github.com/users/lm-jira","html_url":"https://github.com/lm-jira","followers_url":"https://api.github.com/users/lm-jira/followers","following_url":"https://api.github.com/users/lm-jira/following{/other_user}","gists_url":"https://api.github.com/users/lm-jira/gists{/gist_id}","starred_url":"https://api.github.com/users/lm-jira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lm-jira/subscriptions","organizations_url":"https://api.github.com/users/lm-jira/orgs","repos_url":"https://api.github.com/users/lm-jira/repos","events_url":"https://api.github.com/users/lm-jira/events{/privacy}","received_events_url":"https://api.github.com/users/lm-jira/received_events","type":"User","site_admin":false}],"requested_teams":[],"labels":[{"id":1095590113,"node_id":"MDU6TGFiZWwxMDk1NTkwMTEz","url":"https://api.github.com/repos/blue-oil/blueoil/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"milestone":{"url":"https://api.github.com/repos/blue-oil/blueoil/milestones/2","html_url":"https://github.com/blue-oil/blueoil/milestone/2","labels_url":"https://api.github.com/repos/blue-oil/blueoil/milestones/2/labels","id":4043707,"node_id":"MDk6TWlsZXN0b25lNDA0MzcwNw==","number":2,"title":"v0.4.0","description":"","creator":{"login":"iizukak","id":478824,"node_id":"MDQ6VXNlcjQ3ODgyNA==","avatar_url":"https://avatars.githubusercontent.com/u/478824?v=4","gravatar_id":"","url":"https://api.github.com/users/iizukak","html_url":"https://github.com/iizukak","followers_url":"https://api.github.com/users/iizukak/followers","following_url":"https://api.github.com/users/iizukak/following{/other_user}","gists_url":"https://api.github.com/users/iizukak/gists{/gist_id}","starred_url":"https://api.github.com/users/iizukak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iizukak/subscriptions","organizations_url":"https://api.github.com/users/iizukak/orgs","repos_url":"https://api.github.com/users/iizukak/repos","events_url":"https://api.github.com/users/iizukak/events{/privacy}","received_events_url":"https://api.github.com/users/iizukak/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":27,"state":"closed","created_at":"2019-02-09T13:25:24Z","updated_at":"2019-06-14T04:54:17Z","due_on":"2019-03-15T07:00:00Z","closed_at":"2019-04-04T05:52:33Z"},"draft":false,"commits_url":"https://api.github.com/repos/blue-oil/blueoil/pulls/144/commits","review_comments_url":"https://api.github.com/repos/blue-oil/blueoil/pulls/144/comments","review_comment_url":"https://api.github.com/repos/blue-oil/blueoil/pulls/comments{/number}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/issues/144/comments","statuses_url":"https://api.github.com/repos/blue-oil/blueoil/statuses/c9cc5ed7d437ad69b117cb9e963b00e9ffd4ffd0","head":{"label":"Joeper214:output_gpu_inference_model","ref":"output_gpu_inference_model","sha":"c9cc5ed7d437ad69b117cb9e963b00e9ffd4ffd0","user":{"login":"Joeper214","id":2352389,"node_id":"MDQ6VXNlcjIzNTIzODk=","avatar_url":"https://avatars.githubusercontent.com/u/2352389?v=4","gravatar_id":"","url":"https://api.github.com/users/Joeper214","html_url":"https://github.com/Joeper214","followers_url":"https://api.github.com/users/Joeper214/followers","following_url":"https://api.github.com/users/Joeper214/following{/other_user}","gists_url":"https://api.github.com/users/Joeper214/gists{/gist_id}","starred_url":"https://api.github.com/users/Joeper214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joeper214/subscriptions","organizations_url":"https://api.github.com/users/Joeper214/orgs","repos_url":"https://api.github.com/users/Joeper214/repos","events_url":"https://api.github.com/users/Joeper214/events{/privacy}","received_events_url":"https://api.github.com/users/Joeper214/received_events","type":"User","site_admin":false},"repo":null},"base":{"label":"blue-oil:master","ref":"master","sha":"96e456e8806ec437aef5d960b1e9161454135d1e","user":{"login":"blue-oil","id":43470236,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzNDcwMjM2","avatar_url":"https://avatars.githubusercontent.com/u/43470236?v=4","gravatar_id":"","url":"https://api.github.com/users/blue-oil","html_url":"https://github.com/blue-oil","followers_url":"https://api.github.com/users/blue-oil/followers","following_url":"https://api.github.com/users/blue-oil/following{/other_user}","gists_url":"https://api.github.com/users/blue-oil/gists{/gist_id}","starred_url":"https://api.github.com/users/blue-oil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blue-oil/subscriptions","organizations_url":"https://api.github.com/users/blue-oil/orgs","repos_url":"https://api.github.com/users/blue-oil/repos","events_url":"https://api.github.com/users/blue-oil/events{/privacy}","received_events_url":"https://api.github.com/users/blue-oil/received_events","type":"Organization","site_admin":false},"repo":{"id":153597157,"node_id":"MDEwOlJlcG9zaXRvcnkxNTM1OTcxNTc=","name":"blueoil","full_name":"blue-oil/blueoil","private":false,"owner":{"login":"blue-oil","id":43470236,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzNDcwMjM2","avatar_url":"https://avatars.githubusercontent.com/u/43470236?v=4","gravatar_id":"","url":"https://api.github.com/users/blue-oil","html_url":"https://github.com/blue-oil","followers_url":"https://api.github.com/users/blue-oil/followers","following_url":"https://api.github.com/users/blue-oil/following{/other_user}","gists_url":"https://api.github.com/users/blue-oil/gists{/gist_id}","starred_url":"https://api.github.com/users/blue-oil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blue-oil/subscriptions","organizations_url":"https://api.github.com/users/blue-oil/orgs","repos_url":"https://api.github.com/users/blue-oil/repos","events_url":"https://api.github.com/users/blue-oil/events{/privacy}","received_events_url":"https://api.github.com/users/blue-oil/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/blue-oil/blueoil","description":"Bring Deep Learning to small devices","fork":false,"url":"https://api.github.com/repos/blue-oil/blueoil","forks_url":"https://api.github.com/repos/blue-oil/blueoil/forks","keys_url":"https://api.github.com/repos/blue-oil/blueoil/keys{/key_id}","collaborators_url":"https://api.github.com/repos/blue-oil/blueoil/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/blue-oil/blueoil/teams","hooks_url":"https://api.github.com/repos/blue-oil/blueoil/hooks","issue_events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/events{/number}","events_url":"https://api.github.com/repos/blue-oil/blueoil/events","assignees_url":"https://api.github.com/repos/blue-oil/blueoil/assignees{/user}","branches_url":"https://api.github.com/repos/blue-oil/blueoil/branches{/branch}","tags_url":"https://api.github.com/repos/blue-oil/blueoil/tags","blobs_url":"https://api.github.com/repos/blue-oil/blueoil/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/blue-oil/blueoil/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/blue-oil/blueoil/git/refs{/sha}","trees_url":"https://api.github.com/repos/blue-oil/blueoil/git/trees{/sha}","statuses_url":"https://api.github.com/repos/blue-oil/blueoil/statuses/{sha}","languages_url":"https://api.github.com/repos/blue-oil/blueoil/languages","stargazers_url":"https://api.github.com/repos/blue-oil/blueoil/stargazers","contributors_url":"https://api.github.com/repos/blue-oil/blueoil/contributors","subscribers_url":"https://api.github.com/repos/blue-oil/blueoil/subscribers","subscription_url":"https://api.github.com/repos/blue-oil/blueoil/subscription","commits_url":"https://api.github.com/repos/blue-oil/blueoil/commits{/sha}","git_commits_url":"https://api.github.com/repos/blue-oil/blueoil/git/commits{/sha}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/comments{/number}","issue_comment_url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments{/number}","contents_url":"https://api.github.com/repos/blue-oil/blueoil/contents/{+path}","compare_url":"https://api.github.com/repos/blue-oil/blueoil/compare/{base}...{head}","merges_url":"https://api.github.com/repos/blue-oil/blueoil/merges","archive_url":"https://api.github.com/repos/blue-oil/blueoil/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/blue-oil/blueoil/downloads","issues_url":"https://api.github.com/repos/blue-oil/blueoil/issues{/number}","pulls_url":"https://api.github.com/repos/blue-oil/blueoil/pulls{/number}","milestones_url":"https://api.github.com/repos/blue-oil/blueoil/milestones{/number}","notifications_url":"https://api.github.com/repos/blue-oil/blueoil/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/blue-oil/blueoil/labels{/name}","releases_url":"https://api.github.com/repos/blue-oil/blueoil/releases{/id}","deployments_url":"https://api.github.com/repos/blue-oil/blueoil/deployments","created_at":"2018-10-18T09:19:36Z","updated_at":"2022-11-10T12:34:45Z","pushed_at":"2021-04-22T08:46:57Z","git_url":"git://github.com/blue-oil/blueoil.git","ssh_url":"git@github.com:blue-oil/blueoil.git","clone_url":"https://github.com/blue-oil/blueoil.git","svn_url":"https://github.com/blue-oil/blueoil","homepage":"https://blueoil.org","size":304801,"stargazers_count":250,"watchers_count":250,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":84,"mirror_url":null,"archived":true,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","fpga","machine-learning","python","quantization"],"visibility":"public","forks":84,"open_issues":153,"watchers":250,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/blue-oil/blueoil/pulls/144"},"html":{"href":"https://github.com/blue-oil/blueoil/pull/144"},"issue":{"href":"https://api.github.com/repos/blue-oil/blueoil/issues/144"},"comments":{"href":"https://api.github.com/repos/blue-oil/blueoil/issues/144/comments"},"review_comments":{"href":"https://api.github.com/repos/blue-oil/blueoil/pulls/144/comments"},"review_comment":{"href":"https://api.github.com/repos/blue-oil/blueoil/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/blue-oil/blueoil/pulls/144/commits"},"statuses":{"href":"https://api.github.com/repos/blue-oil/blueoil/statuses/c9cc5ed7d437ad69b117cb9e963b00e9ffd4ffd0"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null,"merged":true,"mergeable":null,"rebaseable":null,"mergeable_state":"unknown","merged_by":{"login":"iizukak","id":478824,"node_id":"MDQ6VXNlcjQ3ODgyNA==","avatar_url":"https://avatars.githubusercontent.com/u/478824?v=4","gravatar_id":"","url":"https://api.github.com/users/iizukak","html_url":"https://github.com/iizukak","followers_url":"https://api.github.com/users/iizukak/followers","following_url":"https://api.github.com/users/iizukak/following{/other_user}","gists_url":"https://api.github.com/users/iizukak/gists{/gist_id}","starred_url":"https://api.github.com/users/iizukak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iizukak/subscriptions","organizations_url":"https://api.github.com/users/iizukak/orgs","repos_url":"https://api.github.com/users/iizukak/repos","events_url":"https://api.github.com/users/iizukak/events{/privacy}","received_events_url":"https://api.github.com/users/iizukak/received_events","type":"User","site_admin":false},"comments":15,"review_comments":31,"maintainer_can_modify":false,"commits":30,"additions":255,"deletions":70,"changed_files":9}