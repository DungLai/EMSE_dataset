{"url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/2","repository_url":"https://api.github.com/repos/nikitakit/self-attentive-parser","labels_url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/2/comments","events_url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/2/events","html_url":"https://github.com/nikitakit/self-attentive-parser/issues/2","id":331988497,"node_id":"MDU6SXNzdWUzMzE5ODg0OTc=","number":2,"title":"Error as I follow the \"Usage with spaCy\" example","user":{"login":"colingoldberg","id":2991417,"node_id":"MDQ6VXNlcjI5OTE0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2991417?v=4","gravatar_id":"","url":"https://api.github.com/users/colingoldberg","html_url":"https://github.com/colingoldberg","followers_url":"https://api.github.com/users/colingoldberg/followers","following_url":"https://api.github.com/users/colingoldberg/following{/other_user}","gists_url":"https://api.github.com/users/colingoldberg/gists{/gist_id}","starred_url":"https://api.github.com/users/colingoldberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colingoldberg/subscriptions","organizations_url":"https://api.github.com/users/colingoldberg/orgs","repos_url":"https://api.github.com/users/colingoldberg/repos","events_url":"https://api.github.com/users/colingoldberg/events{/privacy}","received_events_url":"https://api.github.com/users/colingoldberg/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-06-13T13:12:13Z","updated_at":"2018-06-18T19:14:21Z","closed_at":"2018-06-18T19:14:20Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nOn macosx 10.13.5 I got an error at the 'nlp.add_pipe(BeneparComponent(\"benepar_en\"))' statement:\r\n\r\n`\r\n$ python\r\nPython 3.6.4 |Anaconda custom (64-bit)| (default, Dec 21 2017, 15:39:08) \r\n[GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import benepar\r\n/Users/colingoldberg/anaconda3/lib/python3.6/site-packages/h5py/__init__.py:34: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\n>>> benepar.download('benepar_en')\r\n[nltk_data] Downloading package benepar_en to\r\n[nltk_data]     /Users/colingoldberg/nltk_data...\r\nTrue\r\n>>> import spacy\r\n>>> from benepar.spacy_plugin import BeneparComponent\r\n>>> nlp = spacy.load('en')\r\n>>> nlp.add_pipe(BeneparComponent(\"benepar_en\"))\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/colingoldberg/anaconda3/lib/python3.6/site-packages/benepar/spacy_plugin.py\", line 73, in __init__\r\n    super(BeneparComponent, self).__init__(filename, batch_size)\r\n  File \"/Users/colingoldberg/anaconda3/lib/python3.6/site-packages/benepar/base_parser.py\", line 163, in __init__\r\n    tf.import_graph_def(graph_def, name='')\r\n  File \"/Users/colingoldberg/anaconda3/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py\", line 316, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/Users/colingoldberg/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\", line 541, in import_graph_def\r\n    raise ValueError('No op named %s in defined operations.' % node.op)\r\nValueError: No op named ClipByValue in defined operations.\r\n\r\n`\r\n\r\nI also tried this on an AWS EC2 (t2.small) instance (2GB memory), and got the following error:\r\n\r\n`\r\n# python\r\nPython 3.6.3 |Anaconda custom (64-bit)| (default, Oct 13 2017, 12:02:49) \r\n[GCC 7.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import benepar\r\n>>> benepar.download('benepar_en')\r\n[nltk_data] Downloading package benepar_en to /root/nltk_data...\r\n[nltk_data]   Package benepar_en is already up-to-date!\r\nTrue\r\n>>> import spacy\r\n>>> from benepar.spacy_plugin import BeneparComponent\r\n>>> nlp = spacy.load('en')\r\n>>> nlp.add_pipe(BeneparComponent(\"benepar_en\"))\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/share/anaconda3/lib/python3.6/site-packages/benepar/spacy_plugin.py\", line 73, in __init__\r\n    super(BeneparComponent, self).__init__(filename, batch_size)\r\n  File \"/usr/local/share/anaconda3/lib/python3.6/site-packages/benepar/base_parser.py\", line 163, in __init__\r\n    tf.import_graph_def(graph_def, name='')\r\n  File \"/usr/local/share/anaconda3/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py\", line 432, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/share/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\", line 486, in import_graph_def\r\n    with c_api_util.tf_buffer(graph_def.SerializeToString()) as serialized:\r\nMemoryError\r\n\r\n`\r\n\r\nI look forward to having this issue resolved so that I can continue testing.\r\n\r\nThank you.\r\n\r\nColin Goldberg\r\n","closed_by":{"login":"colingoldberg","id":2991417,"node_id":"MDQ6VXNlcjI5OTE0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2991417?v=4","gravatar_id":"","url":"https://api.github.com/users/colingoldberg","html_url":"https://github.com/colingoldberg","followers_url":"https://api.github.com/users/colingoldberg/followers","following_url":"https://api.github.com/users/colingoldberg/following{/other_user}","gists_url":"https://api.github.com/users/colingoldberg/gists{/gist_id}","starred_url":"https://api.github.com/users/colingoldberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colingoldberg/subscriptions","organizations_url":"https://api.github.com/users/colingoldberg/orgs","repos_url":"https://api.github.com/users/colingoldberg/repos","events_url":"https://api.github.com/users/colingoldberg/events{/privacy}","received_events_url":"https://api.github.com/users/colingoldberg/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/2/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/2/timeline","performed_via_github_app":null,"state_reason":"completed"}