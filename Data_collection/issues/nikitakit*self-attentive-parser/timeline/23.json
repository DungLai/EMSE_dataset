[{"id":2335076199,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjMzNTA3NjE5OQ==","url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/events/2335076199","actor":{"login":"xiaoxiaoAurora","id":32284169,"node_id":"MDQ6VXNlcjMyMjg0MTY5","avatar_url":"https://avatars.githubusercontent.com/u/32284169?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoxiaoAurora","html_url":"https://github.com/xiaoxiaoAurora","followers_url":"https://api.github.com/users/xiaoxiaoAurora/followers","following_url":"https://api.github.com/users/xiaoxiaoAurora/following{/other_user}","gists_url":"https://api.github.com/users/xiaoxiaoAurora/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoxiaoAurora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoxiaoAurora/subscriptions","organizations_url":"https://api.github.com/users/xiaoxiaoAurora/orgs","repos_url":"https://api.github.com/users/xiaoxiaoAurora/repos","events_url":"https://api.github.com/users/xiaoxiaoAurora/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoxiaoAurora/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-05-12T05:15:58Z","rename":{"from":"Run: python src/main.py train AttributeError: module 'torch.nn._functions' has no attribute 'dropout'","to":"AttributeError: 'LeafParseNode' object has no attribute 'oracle_label'"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/comments/491695942","html_url":"https://github.com/nikitakit/self-attentive-parser/issues/23#issuecomment-491695942","issue_url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/23","id":491695942,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTY5NTk0Mg==","user":{"login":"nikitakit","id":252225,"node_id":"MDQ6VXNlcjI1MjIyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/252225?v=4","gravatar_id":"","url":"https://api.github.com/users/nikitakit","html_url":"https://github.com/nikitakit","followers_url":"https://api.github.com/users/nikitakit/followers","following_url":"https://api.github.com/users/nikitakit/following{/other_user}","gists_url":"https://api.github.com/users/nikitakit/gists{/gist_id}","starred_url":"https://api.github.com/users/nikitakit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikitakit/subscriptions","organizations_url":"https://api.github.com/users/nikitakit/orgs","repos_url":"https://api.github.com/users/nikitakit/repos","events_url":"https://api.github.com/users/nikitakit/events{/privacy}","received_events_url":"https://api.github.com/users/nikitakit/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T06:44:39Z","updated_at":"2019-05-13T06:44:39Z","author_association":"OWNER","body":"This is a known limitation with how the parser is currently formulated: each tree must contain a non-terminal node at the root. In your example above, the \"part-of-speech\" tag PU is the root node, which breaks that assumption.\r\n\r\nThe way I usually work around this is by wrapping all trees with a \"TOP\" symbol for the root node, and then disabling the \"strip_top\" flag when the treebank is known to contain examples that don't have a root non-terminal label.","reactions":{"url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/comments/491695942/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nikitakit","id":252225,"node_id":"MDQ6VXNlcjI1MjIyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/252225?v=4","gravatar_id":"","url":"https://api.github.com/users/nikitakit","html_url":"https://github.com/nikitakit","followers_url":"https://api.github.com/users/nikitakit/followers","following_url":"https://api.github.com/users/nikitakit/following{/other_user}","gists_url":"https://api.github.com/users/nikitakit/gists{/gist_id}","starred_url":"https://api.github.com/users/nikitakit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikitakit/subscriptions","organizations_url":"https://api.github.com/users/nikitakit/orgs","repos_url":"https://api.github.com/users/nikitakit/repos","events_url":"https://api.github.com/users/nikitakit/events{/privacy}","received_events_url":"https://api.github.com/users/nikitakit/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/comments/492898136","html_url":"https://github.com/nikitakit/self-attentive-parser/issues/23#issuecomment-492898136","issue_url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/23","id":492898136,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjg5ODEzNg==","user":{"login":"xiaoxiaoAurora","id":32284169,"node_id":"MDQ6VXNlcjMyMjg0MTY5","avatar_url":"https://avatars.githubusercontent.com/u/32284169?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoxiaoAurora","html_url":"https://github.com/xiaoxiaoAurora","followers_url":"https://api.github.com/users/xiaoxiaoAurora/followers","following_url":"https://api.github.com/users/xiaoxiaoAurora/following{/other_user}","gists_url":"https://api.github.com/users/xiaoxiaoAurora/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoxiaoAurora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoxiaoAurora/subscriptions","organizations_url":"https://api.github.com/users/xiaoxiaoAurora/orgs","repos_url":"https://api.github.com/users/xiaoxiaoAurora/repos","events_url":"https://api.github.com/users/xiaoxiaoAurora/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoxiaoAurora/received_events","type":"User","site_admin":false},"created_at":"2019-05-16T03:01:54Z","updated_at":"2019-05-16T03:01:54Z","author_association":"NONE","body":"> This is a known limitation with how the parser is currently formulated: each tree must contain a non-terminal node at the root. In your example above, the \"part-of-speech\" tag PU is the root node, which breaks that assumption.\r\n> \r\n> The way I usually work around this is by wrapping all trees with a \"TOP\" symbol for the root node, and then disabling the \"strip_top\" flag when the treebank is known to contain examples that don't have a root non-terminal label.\r\n\r\nGreat! Thank you very much! That is very helpful.\r\nHowever,  When I tried to train the model on CTB data as the following comand:  \r\n\r\n```\r\npython src/main.py train --use-elmo --model-path-base models/ctb_elmo --num-layers 4 --epochs 500\r\n```\r\nI got a result:\r\n\r\n```\r\nepoch 134 batch 112/112 processed 2,985,118 batch-loss 6.4597 grad-norm 17.0195 epoch-elapsed 0h05m52s total-elapsed 13h54m52s  \r\ndev-fscore (Recall=84.26, Precision=85.77, FScore=85.01, CompleteMatch=19.32) dev-elapsed 0h00m15s total-elapsed 13h55m07s  \r\nTerminating due to lack of improvement in dev fscore.\r\n```  \r\n\r\nand this score is less than your **\"91.69 F1 on CTB 5.1 test set in benepar_zh\"**  \r\nmy CTB data size:\r\n- train data: 22277\r\n- dev data: 1761  \r\n\r\ncan you provide parameter settings in detail? ","reactions":{"url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/comments/492898136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiaoxiaoAurora","id":32284169,"node_id":"MDQ6VXNlcjMyMjg0MTY5","avatar_url":"https://avatars.githubusercontent.com/u/32284169?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoxiaoAurora","html_url":"https://github.com/xiaoxiaoAurora","followers_url":"https://api.github.com/users/xiaoxiaoAurora/followers","following_url":"https://api.github.com/users/xiaoxiaoAurora/following{/other_user}","gists_url":"https://api.github.com/users/xiaoxiaoAurora/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoxiaoAurora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoxiaoAurora/subscriptions","organizations_url":"https://api.github.com/users/xiaoxiaoAurora/orgs","repos_url":"https://api.github.com/users/xiaoxiaoAurora/repos","events_url":"https://api.github.com/users/xiaoxiaoAurora/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoxiaoAurora/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/comments/493343087","html_url":"https://github.com/nikitakit/self-attentive-parser/issues/23#issuecomment-493343087","issue_url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/23","id":493343087,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzM0MzA4Nw==","user":{"login":"nikitakit","id":252225,"node_id":"MDQ6VXNlcjI1MjIyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/252225?v=4","gravatar_id":"","url":"https://api.github.com/users/nikitakit","html_url":"https://github.com/nikitakit","followers_url":"https://api.github.com/users/nikitakit/followers","following_url":"https://api.github.com/users/nikitakit/following{/other_user}","gists_url":"https://api.github.com/users/nikitakit/gists{/gist_id}","starred_url":"https://api.github.com/users/nikitakit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikitakit/subscriptions","organizations_url":"https://api.github.com/users/nikitakit/orgs","repos_url":"https://api.github.com/users/nikitakit/repos","events_url":"https://api.github.com/users/nikitakit/events{/privacy}","received_events_url":"https://api.github.com/users/nikitakit/received_events","type":"User","site_admin":false},"created_at":"2019-05-17T06:54:26Z","updated_at":"2019-05-17T06:54:26Z","author_association":"OWNER","body":"It looks like you're using the English ELMo embeddings to learn a parser for Chinese, which works poorly due to the language mismatch. I recommend that you use the Chinese version of BERT instead. Here is the command needed for training the model: https://github.com/nikitakit/self-attentive-parser/blob/master/EXPERIMENTS.md#chinese-models\r\n\r\nIt also looks like our dataset sizes don't match. See [here](https://github.com/nikitakit/parser-data-gen/tree/master/corpora/ctb_5.1) for CTB data preparation scripts. My data sizes are 17544 train / 352 dev / 348 test.","reactions":{"url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/comments/493343087/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nikitakit","id":252225,"node_id":"MDQ6VXNlcjI1MjIyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/252225?v=4","gravatar_id":"","url":"https://api.github.com/users/nikitakit","html_url":"https://github.com/nikitakit","followers_url":"https://api.github.com/users/nikitakit/followers","following_url":"https://api.github.com/users/nikitakit/following{/other_user}","gists_url":"https://api.github.com/users/nikitakit/gists{/gist_id}","starred_url":"https://api.github.com/users/nikitakit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikitakit/subscriptions","organizations_url":"https://api.github.com/users/nikitakit/orgs","repos_url":"https://api.github.com/users/nikitakit/repos","events_url":"https://api.github.com/users/nikitakit/events{/privacy}","received_events_url":"https://api.github.com/users/nikitakit/received_events","type":"User","site_admin":false}},{"id":2366401902,"node_id":"MDExOkNsb3NlZEV2ZW50MjM2NjQwMTkwMg==","url":"https://api.github.com/repos/nikitakit/self-attentive-parser/issues/events/2366401902","actor":{"login":"nikitakit","id":252225,"node_id":"MDQ6VXNlcjI1MjIyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/252225?v=4","gravatar_id":"","url":"https://api.github.com/users/nikitakit","html_url":"https://github.com/nikitakit","followers_url":"https://api.github.com/users/nikitakit/followers","following_url":"https://api.github.com/users/nikitakit/following{/other_user}","gists_url":"https://api.github.com/users/nikitakit/gists{/gist_id}","starred_url":"https://api.github.com/users/nikitakit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikitakit/subscriptions","organizations_url":"https://api.github.com/users/nikitakit/orgs","repos_url":"https://api.github.com/users/nikitakit/repos","events_url":"https://api.github.com/users/nikitakit/events{/privacy}","received_events_url":"https://api.github.com/users/nikitakit/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-24T18:41:50Z","state_reason":null,"performed_via_github_app":null}]