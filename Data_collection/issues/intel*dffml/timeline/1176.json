[{"url":"https://api.github.com/repos/intel/dffml/issues/comments/887654173","html_url":"https://github.com/intel/dffml/issues/1176#issuecomment-887654173","issue_url":"https://api.github.com/repos/intel/dffml/issues/1176","id":887654173,"node_id":"IC_kwDOCOlgGM406Icd","user":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"created_at":"2021-07-27T16:24:46Z","updated_at":"2021-07-27T16:24:46Z","author_association":"MEMBER","body":".ci/run.sh-  \"${PYTHON}\" -m unittest discover -v\n.ci/run.sh-  cd \"${SRC_ROOT}/${PLUGIN}\"\n.ci/run.sh-}\n.ci/run.sh-\n.ci/run.sh-test_no_skips() {\n.ci/run.sh-  # Log skipped tests to file\n.ci/run.sh-  check_skips=\"$(mktemp)\"\n.ci/run.sh-  TEMP_DIRS+=(\"${check_skips}\")\n.ci/run.sh-\n.ci/run.sh-  # Run with coverage\n.ci/run.sh:  RUN_CONSOLETESTS=1 \"${PYTHON}\" -u -m coverage run -m unittest discover -v 2>&1 | tee \"${check_skips}\"\n.ci/run.sh-  \"${PYTHON}\" -m coverage report -m\n.ci/run.sh-\n.ci/run.sh-  # Fail if any coroutines were not awaited\n.ci/run.sh-  unawaited=$(grep -nE 'coroutine .* was never awaited' \"${check_skips}\" | wc -l)\n.ci/run.sh-  if [ \"$unawaited\" -ne 0 ]; then\n.ci/run.sh-    echo \"Found un-awaited coroutines\" >&2\n.ci/run.sh-    exit 1\n.ci/run.sh-  fi\n.ci/run.sh-\n.ci/run.sh-  # Fail if any tests were skipped or errored\n--\n.ci/run.sh-\n.ci/run.sh-  cd \"${SRC_ROOT}\"\n.ci/run.sh-\n.ci/run.sh-  # Log tests to file\n.ci/run.sh-  test_log=\"$(mktemp)\"\n.ci/run.sh-  TEMP_DIRS+=(\"${test_log}\")\n.ci/run.sh-\n.ci/run.sh-  # Install base package with testing and development utilities\n.ci/run.sh-  \"${PYTHON}\" -m pip install -U -e \".[dev]\"\n.ci/run.sh-\n.ci/run.sh:  RUN_CONSOLETESTS=1 \"${PYTHON}\" -u -m unittest \"tests.docs.test_consoletest.TestDocs.test_${PLUGIN}\" 2>&1 | tee \"${test_log}\"\n.ci/run.sh-\n.ci/run.sh-  # Fail if any coroutines were not awaited\n.ci/run.sh-  unawaited=$(grep -nE 'coroutine .* was never awaited' \"${test_log}\" | wc -l)\n.ci/run.sh-  if [ \"$unawaited\" -ne 0 ]; then\n.ci/run.sh-    echo \"Found un-awaited coroutines\" >&2\n.ci/run.sh-    exit 1\n.ci/run.sh-  fi\n.ci/run.sh-\n.ci/run.sh-  cd \"${SRC_ROOT}\"\n.ci/run.sh-\n--\ntests/docs/test_consoletest.py-    if b\":test:\" not in pathlib.Path(filepath).read_bytes():\ntests/docs/test_consoletest.py-        continue\ntests/docs/test_consoletest.py-    relative = filepath.relative_to(DOCS_PATH).with_suffix(\"\")\ntests/docs/test_consoletest.py-    if str(relative) in SKIP_DOCS:\ntests/docs/test_consoletest.py-        continue\ntests/docs/test_consoletest.py-    # Create the testcase\ntests/docs/test_consoletest.py-    testcase = mktestcase(filepath, relative, str(relative) not in NO_SETUP)\ntests/docs/test_consoletest.py-    if str(relative) not in NO_SETUP:\ntests/docs/test_consoletest.py-        # Don't check for a long test entry in the workflow if doc in NO_SETUP\ntests/docs/test_consoletest.py-        TestDocs.TESTABLE_DOCS.append(str(relative))\ntests/docs/test_consoletest.py:        # Skip if not in NO_SETUP and RUN_CONSOLETESTS not set\ntests/docs/test_consoletest.py-        testcase = unittest.skipIf(\ntests/docs/test_consoletest.py:            \"RUN_CONSOLETESTS\" not in os.environ,\ntests/docs/test_consoletest.py:            \"RUN_CONSOLETESTS environment variable not set\",\ntests/docs/test_consoletest.py-        )(testcase)\ntests/docs/test_consoletest.py-        # Do not add the tests if we are running with GitHub Actions for the main\ntests/docs/test_consoletest.py-        # package. This is because there are seperate jobs for each tutorial test\ntests/docs/test_consoletest.py-        # and the TestDocs.test__all_docs_being_tested ensures that we are running a\ntests/docs/test_consoletest.py-        # job for each tutorial\ntests/docs/test_consoletest.py-        if (\ntests/docs/test_consoletest.py-            \"GITHUB_ACTIONS\" in os.environ\ntests/docs/test_consoletest.py-            and \"PLUGIN\" in os.environ\ntests/docs/test_consoletest.py-            and os.environ[\"PLUGIN\"] == \".\"\ntests/docs/test_consoletest.py-        ):\n","reactions":{"url":"https://api.github.com/repos/intel/dffml/issues/comments/887654173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/intel/dffml/issues/comments/887657283","html_url":"https://github.com/intel/dffml/issues/1176#issuecomment-887657283","issue_url":"https://api.github.com/repos/intel/dffml/issues/1176","id":887657283,"node_id":"IC_kwDOCOlgGM406JND","user":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"created_at":"2021-07-27T16:29:14Z","updated_at":"2021-07-27T16:29:14Z","author_association":"MEMBER","body":"Let us put them all under one CI job, rather than splitting each out as we did with the consoletests\n","reactions":{"url":"https://api.github.com/repos/intel/dffml/issues/comments/887657283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false}}]