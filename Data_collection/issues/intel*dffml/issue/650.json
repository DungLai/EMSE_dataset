{"url":"https://api.github.com/repos/intel/dffml/issues/650","repository_url":"https://api.github.com/repos/intel/dffml","labels_url":"https://api.github.com/repos/intel/dffml/issues/650/labels{/name}","comments_url":"https://api.github.com/repos/intel/dffml/issues/650/comments","events_url":"https://api.github.com/repos/intel/dffml/issues/650/events","html_url":"https://github.com/intel/dffml/issues/650","id":621251993,"node_id":"MDU6SXNzdWU2MjEyNTE5OTM=","number":650,"title":"util: data: parser_helper: Make lists out of comma sepearted values?","user":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"labels":[{"id":1782066938,"node_id":"MDU6TGFiZWwxNzgyMDY2OTM4","url":"https://api.github.com/repos/intel/dffml/labels/community%20input%20needed!","name":"community input needed!","color":"acff47","default":false,"description":"Help! We need your input on this issue!"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/intel/dffml/milestones/13","html_url":"https://github.com/intel/dffml/milestone/13","labels_url":"https://api.github.com/repos/intel/dffml/milestones/13/labels","id":5432127,"node_id":"MDk6TWlsZXN0b25lNTQzMjEyNw==","number":13,"title":"Ongoing","description":"Ongoing issues tied to no specific release or event","creator":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"open_issues":4,"closed_issues":2,"state":"open","created_at":"2020-05-17T15:18:11Z","updated_at":"2020-06-16T22:55:06Z","due_on":null,"closed_at":null},"comments":1,"created_at":"2020-05-19T20:07:51Z","updated_at":"2020-05-22T04:19:46Z","closed_at":"2020-05-22T04:19:34Z","author_association":"MEMBER","active_lock_reason":null,"body":"Should we do the following\r\n\r\n```patch\r\nFrom 9317befa483cd9d020131637b5016f5978abb019 Mon Sep 17 00:00:00 2001\r\nFrom: John Andersen <johnandersenpdx@gmail.com>\r\nDate: Tue, 19 May 2020 13:02:47 -0700\r\nSubject: [PATCH] util: data: parser_helper: Treat comma as list\r\n\r\nSigned-off-by: John Andersen <johnandersenpdx@gmail.com>\r\n---\r\n dffml/util/data.py | 8 ++++++++\r\n 1 file changed, 8 insertions(+)\r\n\r\ndiff --git a/dffml/util/data.py b/dffml/util/data.py\r\nindex 7eb8a2fd..5b693135 100644\r\n--- a/dffml/util/data.py\r\n+++ b/dffml/util/data.py\r\n@@ -290,10 +290,16 @@ def parser_helper(value):\r\n     True\r\n     >>> parser_helper(\"[1, 2, 3]\")\r\n     [1, 2, 3]\r\n+    >>> parser_helper(\"1,2,3\")\r\n+    (1, 2, 3)\r\n     >>> parser_helper(\"hello\")\r\n     'hello'\r\n     >>> parser_helper(\"'on'\")\r\n     'on'\r\n+    >>> parser_helper(\"on,off,feed,face,42\")\r\n+    [True, False, 'feed', 'face', 42]\r\n+    >>> parser_helper(\"list,\")\r\n+    ['list']\r\n     \"\"\"\r\n     if not isinstance(value, str):\r\n         return value\r\n@@ -306,4 +312,6 @@ def parser_helper(value):\r\n     try:\r\n         return ast.literal_eval(value)\r\n     except:\r\n+        if \",\" in value:\r\n+            return list(map(parser_helper, filter(bool, value.split(\",\"))))\r\n         return value\r\n-- \r\n2.17.1\r\n```\r\n","closed_by":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/intel/dffml/issues/650/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/intel/dffml/issues/650/timeline","performed_via_github_app":null,"state_reason":"completed"}