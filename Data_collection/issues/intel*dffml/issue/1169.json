{"url":"https://api.github.com/repos/intel/dffml/issues/1169","repository_url":"https://api.github.com/repos/intel/dffml","labels_url":"https://api.github.com/repos/intel/dffml/issues/1169/labels{/name}","comments_url":"https://api.github.com/repos/intel/dffml/issues/1169/comments","events_url":"https://api.github.com/repos/intel/dffml/issues/1169/events","html_url":"https://github.com/intel/dffml/issues/1169","id":946722730,"node_id":"MDU6SXNzdWU5NDY3MjI3MzA=","number":1169,"title":"setup.py: test: Local tests failing to run altogether ","user":{"login":"programmer290399","id":41383069,"node_id":"MDQ6VXNlcjQxMzgzMDY5","avatar_url":"https://avatars.githubusercontent.com/u/41383069?v=4","gravatar_id":"","url":"https://api.github.com/users/programmer290399","html_url":"https://github.com/programmer290399","followers_url":"https://api.github.com/users/programmer290399/followers","following_url":"https://api.github.com/users/programmer290399/following{/other_user}","gists_url":"https://api.github.com/users/programmer290399/gists{/gist_id}","starred_url":"https://api.github.com/users/programmer290399/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/programmer290399/subscriptions","organizations_url":"https://api.github.com/users/programmer290399/orgs","repos_url":"https://api.github.com/users/programmer290399/repos","events_url":"https://api.github.com/users/programmer290399/events{/privacy}","received_events_url":"https://api.github.com/users/programmer290399/received_events","type":"User","site_admin":false},"labels":[{"id":1062701217,"node_id":"MDU6TGFiZWwxMDYyNzAxMjE3","url":"https://api.github.com/repos/intel/dffml/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-07-17T05:49:44Z","updated_at":"2021-07-17T07:58:52Z","closed_at":"2021-07-17T07:58:52Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"## Describe the bug\r\n\r\nTrying to run all local tests results in error.\r\n\r\n## Steps To Reproduce\r\nJust ran the following command,\r\n\r\n```bash\r\n$ python setup.py test\r\n```\r\n\r\n## Expected behavior\r\n\r\nAll the tests should run resulting in a list of failed or passed tets\r\n\r\n## Logs or Screenshots\r\n\r\n```log\r\nrunning test\r\nWARNING: Testing via this command is deprecated and will be removed in a future version. Users looking for a generic test entry point independent of test runner are encouraged to use tox.\r\nrunning egg_info\r\nwriting dffml.egg-info/PKG-INFO\r\nwriting dependency_links to dffml.egg-info/dependency_links.txt\r\nwriting entry points to dffml.egg-info/entry_points.txt\r\nwriting requirements to dffml.egg-info/requires.txt\r\nwriting top-level names to dffml.egg-info/top_level.txt\r\nreading manifest file 'dffml.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nadding license file 'LICENSE'\r\nwriting manifest file 'dffml.egg-info/SOURCES.txt'\r\nrunning build_ext\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 166, in <module>\r\n    \"clf = dffml.accuracy.clf:ClassificationAccuracy\",\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/setuptools/__init__.py\", line 153, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib/python3.7/distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/usr/lib/python3.7/distutils/dist.py\", line 966, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/lib/python3.7/distutils/dist.py\", line 985, in run_command\r\n    cmd_obj.run()\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/setuptools/command/test.py\", line 232, in run\r\n    self.run_tests()\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/setuptools/command/test.py\", line 254, in run_tests\r\n    exit=False,\r\n  File \"/usr/lib/python3.7/unittest/main.py\", line 100, in __init__\r\n    self.parseArgs(argv)\r\n  File \"/usr/lib/python3.7/unittest/main.py\", line 124, in parseArgs\r\n    self._do_discovery(argv[2:])\r\n  File \"/usr/lib/python3.7/unittest/main.py\", line 244, in _do_discovery\r\n    self.createTests(from_discovery=True, Loader=Loader)\r\n  File \"/usr/lib/python3.7/unittest/main.py\", line 154, in createTests\r\n    self.test = loader.discover(self.start, self.pattern, self.top)\r\n  File \"/usr/lib/python3.7/unittest/loader.py\", line 349, in discover\r\n    tests = list(self._find_tests(start_dir, pattern))\r\n  File \"/usr/lib/python3.7/unittest/loader.py\", line 406, in _find_tests\r\n    full_path, pattern, namespace)\r\n  File \"/usr/lib/python3.7/unittest/loader.py\", line 483, in _find_test_path\r\n    tests = self.loadTestsFromModule(package, pattern=pattern)\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/setuptools/command/test.py\", line 50, in loadTestsFromModule\r\n    tests.append(self.loadTestsFromName(submodule))\r\n  File \"/usr/lib/python3.7/unittest/loader.py\", line 205, in loadTestsFromName\r\n    test = obj()\r\nTypeError: accuracy() missing 2 required positional arguments: 'model' and 'accuracy_scorer'\r\n```\r\n\r\n## Packages in use and versions\r\n```\r\ndffml 0.4.0 \r\ndffml-config-yaml 0.1.0 \r\ndffml-config-image 0.1.0 \r\ndffml-model-scratch 0.1.0 \r\ndffml-model-scikit 0.1.0 \r\ndffml-model-tensorflow 0.3.0 \r\ndffml-model-tensorflow-hub 0.1.0 \r\ndffml-model-vowpalWabbit 0.1.0 \r\ndffml-model-xgboost 0.1.0 \r\ndffml-model-pytorch 0.1.0 \r\ndffml-model-spacy 0.1.0 \r\ndffml-model-daal4py 0.1.0 \r\ndffml-model-autosklearn 0.1.0 \r\ndffml-feature-git 0.3.0 \r\ndffml-feature-auth 0.1.0 \r\ndffml-operations-binsec 0.1.0 \r\ndffml-operations-deploy 0.1.0 \r\ndffml-operations-image 0.1.0 \r\ndffml-operations-nlp 0.1.0 \r\ndffml-service-http 0.1.0 \r\ndffml-source-mysql 0.1.0 \r\n```\r\n\r\n## Misc Notes\r\n\r\nLooks like a minor issue which was caused by recent merge of Accuracy scorers , maybe @sk-ip  can help.","closed_by":{"login":"programmer290399","id":41383069,"node_id":"MDQ6VXNlcjQxMzgzMDY5","avatar_url":"https://avatars.githubusercontent.com/u/41383069?v=4","gravatar_id":"","url":"https://api.github.com/users/programmer290399","html_url":"https://github.com/programmer290399","followers_url":"https://api.github.com/users/programmer290399/followers","following_url":"https://api.github.com/users/programmer290399/following{/other_user}","gists_url":"https://api.github.com/users/programmer290399/gists{/gist_id}","starred_url":"https://api.github.com/users/programmer290399/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/programmer290399/subscriptions","organizations_url":"https://api.github.com/users/programmer290399/orgs","repos_url":"https://api.github.com/users/programmer290399/repos","events_url":"https://api.github.com/users/programmer290399/events{/privacy}","received_events_url":"https://api.github.com/users/programmer290399/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/intel/dffml/issues/1169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/intel/dffml/issues/1169/timeline","performed_via_github_app":null,"state_reason":"completed"}