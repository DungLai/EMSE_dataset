{"url":"https://api.github.com/repos/intel/dffml/issues/1196","repository_url":"https://api.github.com/repos/intel/dffml","labels_url":"https://api.github.com/repos/intel/dffml/issues/1196/labels{/name}","comments_url":"https://api.github.com/repos/intel/dffml/issues/1196/comments","events_url":"https://api.github.com/repos/intel/dffml/issues/1196/events","html_url":"https://github.com/intel/dffml/issues/1196","id":974799869,"node_id":"MDU6SXNzdWU5NzQ3OTk4Njk=","number":1196,"title":"model: autosklearn: Fails in retraining a saved model ","user":{"login":"programmer290399","id":41383069,"node_id":"MDQ6VXNlcjQxMzgzMDY5","avatar_url":"https://avatars.githubusercontent.com/u/41383069?v=4","gravatar_id":"","url":"https://api.github.com/users/programmer290399","html_url":"https://github.com/programmer290399","followers_url":"https://api.github.com/users/programmer290399/followers","following_url":"https://api.github.com/users/programmer290399/following{/other_user}","gists_url":"https://api.github.com/users/programmer290399/gists{/gist_id}","starred_url":"https://api.github.com/users/programmer290399/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/programmer290399/subscriptions","organizations_url":"https://api.github.com/users/programmer290399/orgs","repos_url":"https://api.github.com/users/programmer290399/repos","events_url":"https://api.github.com/users/programmer290399/events{/privacy}","received_events_url":"https://api.github.com/users/programmer290399/received_events","type":"User","site_admin":false},"labels":[{"id":1062701217,"node_id":"MDU6TGFiZWwxMDYyNzAxMjE3","url":"https://api.github.com/repos/intel/dffml/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-08-19T15:39:39Z","updated_at":"2021-08-19T15:39:39Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"body":"## Describe the bug\r\n\r\nA loaded model cannot be retrained currently, maybe it is a bug. \r\n\r\n## Steps To Reproduce\r\n\r\nRan the `model/autosklearn/examples/autoregressor.py` twice in a row, \r\nso the first run saved a model and the second run loaded it in memory.\r\n```bash\r\n$ python3 model/autosklearn/examples/autoregressor.py\r\n$ python3 model/autosklearn/examples/autoregressor.py\r\n```\r\n\r\n## Expected behavior\r\n\r\nThe second model which has been loaded from the disk should retrain without breaking. \r\n\r\n## Logs or Screenshots\r\n\r\n```traceback\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/logging/config.py\", line 563, in configure\r\n    handler = self.configure_handler(handlers[name])\r\n  File \"/usr/lib/python3.7/logging/config.py\", line 736, in configure_handler\r\n    result = factory(**kwargs)\r\n  File \"/usr/lib/python3.7/logging/__init__.py\", line 1087, in __init__\r\n    StreamHandler.__init__(self, self._open())\r\n  File \"/usr/lib/python3.7/logging/__init__.py\", line 1116, in _open\r\n    return open(self.baseFilename, self.mode, encoding=self.encoding)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/tmp/autosklearn_tmp_570bef92-0102-11ec-a3b1-2016b9896520/distributed.log'\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/saahil/rps/dffml/debug_data/py-or-ipynb/ask_reg_test.py\", line 36, in <module>\r\n    main()\r\n  File \"/home/saahil/rps/dffml/debug_data/py-or-ipynb/ask_reg_test.py\", line 21, in main\r\n    train(model, base + \"train_ask_reg.csv\")\r\n  File \"/home/saahil/rps/dffml/dffml/noasync.py\", line 13, in train\r\n    return asyncio.run(high_level_train(*args, **kwargs))\r\n  File \"/usr/lib/python3.7/asyncio/runners.py\", line 43, in run\r\n    return loop.run_until_complete(main)\r\n  File \"/usr/lib/python3.7/asyncio/base_events.py\", line 587, in run_until_complete\r\n    return future.result()\r\n  File \"/home/saahil/rps/dffml/dffml/high_level/ml.py\", line 61, in train\r\n    return await mctx.train(sctx)\r\n  File \"/home/saahil/rps/dffml/model/autosklearn/dffml_model_autosklearn/config.py\", line 81, in train\r\n    self.model.fit(x_train, y_train)\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/autosklearn/estimators.py\", line 818, in fit\r\n    dataset_name=dataset_name,\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/autosklearn/estimators.py\", line 344, in fit\r\n    self.automl_.fit(load_models=self.load_models, **kwargs)\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/autosklearn/automl.py\", line 1698, in fit\r\n    is_classification=False,\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/autosklearn/automl.py\", line 475, in fit\r\n    self._logger = self._get_logger(dataset_name)\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/autosklearn/automl.py\", line 308, in _get_logger\r\n    output_dir=self._backend.temporary_directory,\r\n  File \"/home/saahil/rps/dffml/.venv/lib/python3.7/site-packages/autosklearn/util/logging_.py\", line 41, in setup_logger\r\n    logging.config.dictConfig(logging_config)\r\n  File \"/usr/lib/python3.7/logging/config.py\", line 800, in dictConfig\r\n    dictConfigClass(config).configure()\r\n  File \"/usr/lib/python3.7/logging/config.py\", line 571, in configure\r\n    '%r' % name) from e\r\nValueError: Unable to configure handler 'distributed_logfile'\r\n```\r\n\r\n## Misc Notes\r\n\r\nThere may be some detail or fact that I may be unaware of, and might have incorrectly used the code example. if that is the case please point it out and close the issue ðŸ™‚ ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/intel/dffml/issues/1196/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/intel/dffml/issues/1196/timeline","performed_via_github_app":null,"state_reason":null}