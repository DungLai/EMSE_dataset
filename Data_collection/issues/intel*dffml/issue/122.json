{"url":"https://api.github.com/repos/intel/dffml/issues/122","repository_url":"https://api.github.com/repos/intel/dffml","labels_url":"https://api.github.com/repos/intel/dffml/issues/122/labels{/name}","comments_url":"https://api.github.com/repos/intel/dffml/issues/122/comments","events_url":"https://api.github.com/repos/intel/dffml/issues/122/events","html_url":"https://github.com/intel/dffml/issues/122","id":468775099,"node_id":"MDU6SXNzdWU0Njg3NzUwOTk=","number":122,"title":"source: sources: Add help method feature_data","user":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"labels":[{"id":1062701220,"node_id":"MDU6TGFiZWwxMDYyNzAxMjIw","url":"https://api.github.com/repos/intel/dffml/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":1062701224,"node_id":"MDU6TGFiZWwxMDYyNzAxMjI0","url":"https://api.github.com/repos/intel/dffml/labels/good%20first%20issue","name":"good first issue","color":"7057ff","default":true,"description":"Good for newcomers"},{"id":1474884231,"node_id":"MDU6TGFiZWwxNDc0ODg0MjMx","url":"https://api.github.com/repos/intel/dffml/labels/kind/sources","name":"kind/sources","color":"0c0fb5","default":false,"description":"Issues partaining to the data sources"},{"id":1740453173,"node_id":"MDU6TGFiZWwxNzQwNDUzMTcz","url":"https://api.github.com/repos/intel/dffml/labels/p4","name":"p4","color":"45ccaa","default":false,"description":"Nice To Have"},{"id":1740453646,"node_id":"MDU6TGFiZWwxNzQwNDUzNjQ2","url":"https://api.github.com/repos/intel/dffml/labels/tXS","name":"tXS","color":"b0ea8f","default":false,"description":"Esitmated Time To Complete: Extra Short"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/intel/dffml/milestones/2","html_url":"https://github.com/intel/dffml/milestone/2","labels_url":"https://api.github.com/repos/intel/dffml/milestones/2/labels","id":4447270,"node_id":"MDk6TWlsZXN0b25lNDQ0NzI3MA==","number":2,"title":"0.5.0 Beta Release","description":"","creator":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"open_issues":5,"closed_issues":102,"state":"open","created_at":"2019-06-27T19:58:47Z","updated_at":"2022-06-18T15:55:29Z","due_on":null,"closed_at":null},"comments":4,"created_at":"2019-07-16T17:26:07Z","updated_at":"2020-01-28T16:06:22Z","closed_at":"2020-01-28T16:06:22Z","author_association":"MEMBER","active_lock_reason":null,"body":"```diff\r\ncommit b8ba950d4da49484252471449733356e93b23fe1 (pdxjohnny/sources_feature_data, sources_feature_data)\r\nAuthor: John Andersen <john.s.andersen@intel.com>\r\nDate:   Tue Jul 16 10:23:56 2019 -0700\r\n\r\n    sources.feature_data\r\n\r\n    Signed-off-by: John Andersen <john.s.andersen@intel.com>\r\n\r\ndiff --git a/dffml/source/source.py b/dffml/source/source.py\r\nindex 9eacdc0..682d9e9 100644\r\n--- a/dffml/source/source.py\r\n+++ b/dffml/source/source.py\r\n@@ -6,6 +6,7 @@ source project's source URL.\r\n \"\"\"\r\n import abc\r\n import asyncio\r\n+from collections import OrderedDict\r\n from typing import AsyncIterator, Dict, List, Optional, Callable, Tuple, Any\r\n\r\n from ..base import (\r\n@@ -99,6 +100,26 @@ class SourcesContext(AsyncContextManagerListContext):\r\n         ):\r\n             yield repo\r\n\r\n+    async def with_feature_data(\r\n+        self, features: List[str]\r\n+    ) -> AsyncIterator[Repo]:\r\n+        async for repo in self.with_features(features):\r\n+            feature_data = repo.features(features)\r\n+            yield repo, OrderedDict(\r\n+                {name: feature_data[name] for name in features}\r\n+            )\r\n+\r\n+    async def feature_data(\r\n+        self, features: List[str]\r\n+    ) -> OrderedDict:\r\n+        all_feature_data = OrderedDict(\r\n+            {name: [] for name in features}\r\n+        )\r\n+        async for repo, feature_data in self.with_feature_data(features):\r\n+            for name in all_feature_data.keys():\r\n+                all_feature_data[name].append(feature_data[name])\r\n+        return all_feature_data\r\n+\r\n\r\n class Sources(AsyncContextManagerList):\r\n```\r\n\r\n\r\nNote: It turns out we don't need OrderedDict","closed_by":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/intel/dffml/issues/122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/intel/dffml/issues/122/timeline","performed_via_github_app":null,"state_reason":"completed"}