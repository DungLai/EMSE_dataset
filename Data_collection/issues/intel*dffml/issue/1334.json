{"url":"https://api.github.com/repos/intel/dffml/issues/1334","repository_url":"https://api.github.com/repos/intel/dffml","labels_url":"https://api.github.com/repos/intel/dffml/issues/1334/labels{/name}","comments_url":"https://api.github.com/repos/intel/dffml/issues/1334/comments","events_url":"https://api.github.com/repos/intel/dffml/issues/1334/events","html_url":"https://github.com/intel/dffml/issues/1334","id":1169712115,"node_id":"I_kwDOCOlgGM5FuGPz","number":1334,"title":"service: dev: install: scipy 1.4.1 pip installation blows up","user":{"login":"mHash1m","id":58783659,"node_id":"MDQ6VXNlcjU4NzgzNjU5","avatar_url":"https://avatars.githubusercontent.com/u/58783659?v=4","gravatar_id":"","url":"https://api.github.com/users/mHash1m","html_url":"https://github.com/mHash1m","followers_url":"https://api.github.com/users/mHash1m/followers","following_url":"https://api.github.com/users/mHash1m/following{/other_user}","gists_url":"https://api.github.com/users/mHash1m/gists{/gist_id}","starred_url":"https://api.github.com/users/mHash1m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mHash1m/subscriptions","organizations_url":"https://api.github.com/users/mHash1m/orgs","repos_url":"https://api.github.com/users/mHash1m/repos","events_url":"https://api.github.com/users/mHash1m/events{/privacy}","received_events_url":"https://api.github.com/users/mHash1m/received_events","type":"User","site_admin":false},"labels":[{"id":1062701217,"node_id":"MDU6TGFiZWwxMDYyNzAxMjE3","url":"https://api.github.com/repos/intel/dffml/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-03-15T13:57:33Z","updated_at":"2022-03-15T15:00:03Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Python3.9 Venv\r\nscipy 1.4.1 \r\n\r\nI've recreated the issue faced by some new folks.\r\nAs pointed out by @programmer290399 it could just be caused by Python3.9.\r\nHowever, this is simply solved by removing the pin at 1.4.1 and installing 1.8.0 instead. I don't see any other errors in installation at least.\r\nping @pdxjohnny \r\n\r\n```\r\nCollecting scipy==1.4.1\r\n  Using cached scipy-1.4.1.tar.gz (24.6 MB)\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  × Preparing metadata (pyproject.toml) did not run successfully.\r\n  │ exit code: 1\r\n  ╰─> [139 lines of output]\r\n      setup.py:418: UserWarning: Unrecognized setuptools command ('dist_info --egg-base /private/var/folders/n2/9fqgxn9906g60fqj_jb_xk4c0000gn/T/pip-modern-metadata-19syt_9j'), proceeding with generating Cython sources and expanding templates\r\n        warnings.warn(\"Unrecognized setuptools command ('{}'), proceeding with \"\r\n      Running from scipy source directory.\r\n      lapack_opt_info:\r\n      lapack_mkl_info:\r\n      customize UnixCCompiler\r\n        libraries mkl_rt not found in ['/Users/hashimchaudry/dffml/.venv/lib', '/usr/local/lib', '/usr/lib']\r\n        NOT AVAILABLE\r\n      \r\n      openblas_lapack_info:\r\n      customize UnixCCompiler\r\n      customize UnixCCompiler\r\n        libraries openblas not found in ['/Users/hashimchaudry/dffml/.venv/lib', '/usr/local/lib', '/usr/lib']\r\n        NOT AVAILABLE\r\n      \r\n      openblas_clapack_info:\r\n      customize UnixCCompiler\r\n      customize UnixCCompiler\r\n        libraries openblas,lapack not found in ['/Users/hashimchaudry/dffml/.venv/lib', '/usr/local/lib', '/usr/lib']\r\n        NOT AVAILABLE\r\n      \r\n      flame_info:\r\n      customize UnixCCompiler\r\n        libraries flame not found in ['/Users/hashimchaudry/dffml/.venv/lib', '/usr/local/lib', '/usr/lib']\r\n        NOT AVAILABLE\r\n      \r\n      atlas_3_10_threads_info:\r\n      Setting PTATLAS=ATLAS\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /Users/hashimchaudry/dffml/.venv/lib\r\n      customize UnixCCompiler\r\n        libraries tatlas,tatlas not found in /Users/hashimchaudry/dffml/.venv/lib\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /usr/local/lib\r\n      customize UnixCCompiler\r\n        libraries tatlas,tatlas not found in /usr/local/lib\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /usr/lib\r\n      customize UnixCCompiler\r\n        libraries tatlas,tatlas not found in /usr/lib\r\n      <class 'numpy.distutils.system_info.atlas_3_10_threads_info'>\r\n        NOT AVAILABLE\r\n      \r\n      atlas_3_10_info:\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /Users/hashimchaudry/dffml/.venv/lib\r\n      customize UnixCCompiler\r\n        libraries satlas,satlas not found in /Users/hashimchaudry/dffml/.venv/lib\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /usr/local/lib\r\n      customize UnixCCompiler\r\n        libraries satlas,satlas not found in /usr/local/lib\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /usr/lib\r\n      customize UnixCCompiler\r\n        libraries satlas,satlas not found in /usr/lib\r\n      <class 'numpy.distutils.system_info.atlas_3_10_info'>\r\n        NOT AVAILABLE\r\n      \r\n      atlas_threads_info:\r\n      Setting PTATLAS=ATLAS\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /Users/hashimchaudry/dffml/.venv/lib\r\n      customize UnixCCompiler\r\n        libraries ptf77blas,ptcblas,atlas not found in /Users/hashimchaudry/dffml/.venv/lib\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /usr/local/lib\r\n      customize UnixCCompiler\r\n        libraries ptf77blas,ptcblas,atlas not found in /usr/local/lib\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /usr/lib\r\n      customize UnixCCompiler\r\n        libraries ptf77blas,ptcblas,atlas not found in /usr/lib\r\n      <class 'numpy.distutils.system_info.atlas_threads_info'>\r\n        NOT AVAILABLE\r\n      \r\n      atlas_info:\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /Users/hashimchaudry/dffml/.venv/lib\r\n      customize UnixCCompiler\r\n        libraries f77blas,cblas,atlas not found in /Users/hashimchaudry/dffml/.venv/lib\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /usr/local/lib\r\n      customize UnixCCompiler\r\n        libraries f77blas,cblas,atlas not found in /usr/local/lib\r\n      customize UnixCCompiler\r\n        libraries lapack_atlas not found in /usr/lib\r\n      customize UnixCCompiler\r\n        libraries f77blas,cblas,atlas not found in /usr/lib\r\n      <class 'numpy.distutils.system_info.atlas_info'>\r\n        NOT AVAILABLE\r\n      \r\n      accelerate_info:\r\n        NOT AVAILABLE\r\n      \r\n      lapack_info:\r\n      customize UnixCCompiler\r\n        libraries lapack not found in ['/Users/hashimchaudry/dffml/.venv/lib', '/usr/local/lib', '/usr/lib']\r\n        NOT AVAILABLE\r\n      \r\n      /private/var/folders/n2/9fqgxn9906g60fqj_jb_xk4c0000gn/T/pip-build-env-ez06qzzw/overlay/lib/python3.9/site-packages/numpy/distutils/system_info.py:1712: UserWarning:\r\n          Lapack (http://www.netlib.org/lapack/) libraries not found.\r\n          Directories to search for the libraries can be specified in the\r\n          numpy/distutils/site.cfg file (section [lapack]) or by setting\r\n          the LAPACK environment variable.\r\n        if getattr(self, '_calc_info_{}'.format(lapack))():\r\n      lapack_src_info:\r\n        NOT AVAILABLE\r\n      \r\n      /private/var/folders/n2/9fqgxn9906g60fqj_jb_xk4c0000gn/T/pip-build-env-ez06qzzw/overlay/lib/python3.9/site-packages/numpy/distutils/system_info.py:1712: UserWarning:\r\n          Lapack (http://www.netlib.org/lapack/) sources not found.\r\n          Directories to search for the sources can be specified in the\r\n          numpy/distutils/site.cfg file (section [lapack_src]) or by setting\r\n          the LAPACK_SRC environment variable.\r\n        if getattr(self, '_calc_info_{}'.format(lapack))():\r\n        NOT AVAILABLE\r\n      \r\n      Traceback (most recent call last):\r\n        File \"/Users/hashimchaudry/dffml/.venv/lib/python3.9/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n          main()\r\n        File \"/Users/hashimchaudry/dffml/.venv/lib/python3.9/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n        File \"/Users/hashimchaudry/dffml/.venv/lib/python3.9/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 164, in prepare_metadata_for_build_wheel\r\n          return hook(metadata_directory, config_settings)\r\n        File \"/private/var/folders/n2/9fqgxn9906g60fqj_jb_xk4c0000gn/T/pip-build-env-ez06qzzw/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 188, in prepare_metadata_for_build_wheel\r\n          self.run_setup()\r\n        File \"/private/var/folders/n2/9fqgxn9906g60fqj_jb_xk4c0000gn/T/pip-build-env-ez06qzzw/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 281, in run_setup\r\n          super(_BuildMetaLegacyBackend,\r\n        File \"/private/var/folders/n2/9fqgxn9906g60fqj_jb_xk4c0000gn/T/pip-build-env-ez06qzzw/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n          exec(compile(code, __file__, 'exec'), locals())\r\n        File \"setup.py\", line 540, in <module>\r\n          setup_package()\r\n        File \"setup.py\", line 536, in setup_package\r\n          setup(**metadata)\r\n        File \"/private/var/folders/n2/9fqgxn9906g60fqj_jb_xk4c0000gn/T/pip-build-env-ez06qzzw/overlay/lib/python3.9/site-packages/numpy/distutils/core.py\", line 137, in setup\r\n          config = configuration()\r\n        File \"setup.py\", line 435, in configuration\r\n          raise NotFoundError(msg)\r\n      numpy.distutils.system_info.NotFoundError: No lapack/blas resources found. Note: Accelerate is no longer supported.\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n× Encountered error while generating package metadata.\r\n╰─> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\nTraceback (most recent call last):\r\n  File \"/Users/hashimchaudry/dffml/.venv/bin/dffml\", line 33, in <module>\r\n    sys.exit(load_entry_point('dffml', 'console_scripts', 'dffml')())\r\n  File \"/Users/hashimchaudry/dffml/dffml/util/cli/cmd.py\", line 272, in main\r\n    result = loop.run_until_complete(cls._main(*argv[1:]))\r\n  File \"/usr/local/Cellar/python@3.9/3.9.7/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py\", line 642, in run_until_complete\r\n    return future.result()\r\n  File \"/Users/hashimchaudry/dffml/dffml/util/cli/cmd.py\", line 238, in _main\r\n    return await cls.cli(*args)\r\n  File \"/Users/hashimchaudry/dffml/dffml/util/cli/cmd.py\", line 224, in cli\r\n    return await cmd.do_run()\r\n  File \"/Users/hashimchaudry/dffml/dffml/util/cli/cmd.py\", line 203, in do_run\r\n    return await self.run()\r\n  File \"/Users/hashimchaudry/dffml/dffml/service/dev.py\", line 454, in run\r\n    raise RuntimeError(f\"pip failed to install: {','.join(failed)}\")\r\nRuntimeError: pip failed to install: \r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/intel/dffml/issues/1334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/intel/dffml/issues/1334/timeline","performed_via_github_app":null,"state_reason":null}