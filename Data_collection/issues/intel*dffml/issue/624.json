{"url":"https://api.github.com/repos/intel/dffml/issues/624","repository_url":"https://api.github.com/repos/intel/dffml","labels_url":"https://api.github.com/repos/intel/dffml/issues/624/labels{/name}","comments_url":"https://api.github.com/repos/intel/dffml/issues/624/comments","events_url":"https://api.github.com/repos/intel/dffml/issues/624/events","html_url":"https://github.com/intel/dffml/issues/624","id":615246458,"node_id":"MDU6SXNzdWU2MTUyNDY0NTg=","number":624,"title":"windows: At least 4 tests failing on Windows","user":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"labels":[{"id":1062701217,"node_id":"MDU6TGFiZWwxMDYyNzAxMjE3","url":"https://api.github.com/repos/intel/dffml/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1740392441,"node_id":"MDU6TGFiZWwxNzQwMzkyNDQx","url":"https://api.github.com/repos/intel/dffml/labels/p0","name":"p0","color":"b60205","default":false,"description":"Critical Priority"},{"id":1740462287,"node_id":"MDU6TGFiZWwxNzQwNDYyMjg3","url":"https://api.github.com/repos/intel/dffml/labels/tM","name":"tM","color":"82c8e0","default":false,"description":"Esitmated Time To Complete: Medium"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/intel/dffml/milestones/3","html_url":"https://github.com/intel/dffml/milestone/3","labels_url":"https://api.github.com/repos/intel/dffml/milestones/3/labels","id":4447271,"node_id":"MDk6TWlsZXN0b25lNDQ0NzI3MQ==","number":3,"title":"1.0 Release","description":"","creator":{"login":"pdxjohnny","id":5950433,"node_id":"MDQ6VXNlcjU5NTA0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5950433?v=4","gravatar_id":"","url":"https://api.github.com/users/pdxjohnny","html_url":"https://github.com/pdxjohnny","followers_url":"https://api.github.com/users/pdxjohnny/followers","following_url":"https://api.github.com/users/pdxjohnny/following{/other_user}","gists_url":"https://api.github.com/users/pdxjohnny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdxjohnny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdxjohnny/subscriptions","organizations_url":"https://api.github.com/users/pdxjohnny/orgs","repos_url":"https://api.github.com/users/pdxjohnny/repos","events_url":"https://api.github.com/users/pdxjohnny/events{/privacy}","received_events_url":"https://api.github.com/users/pdxjohnny/received_events","type":"User","site_admin":false},"open_issues":108,"closed_issues":1,"state":"open","created_at":"2019-06-27T19:59:32Z","updated_at":"2022-04-27T22:07:45Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2020-05-09T19:40:02Z","updated_at":"2021-08-31T17:08:25Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"```\r\ntest_cached_download (tests.util.test_net.TestNet) ... Exception in thread Thread-4:\r\nTraceback (most recent call last):\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\.eggs\\httptest-0.0.15-py3.7.egg\\httptest\\httptest.py\", line 226, in serve_forever\r\n    ready = selector.select()\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\selectors.py\", line 323, in select\r\n    r, w, _ = self._select(self._readers, self._writers, [], timeout)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\selectors.py\", line 314, in _select\r\n    r, w, x = select.select(r, w, w, timeout)\r\nOSError: [WinError 10038] An operation was attempted on something that is not a socket\r\n\r\nERROR\r\ntest_cached_download_unpack_archive (tests.util.test_net.TestNet) ... Exception in thread Thread-5:\r\nTraceback (most recent call last):\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\.eggs\\httptest-0.0.15-py3.7.egg\\httptest\\httptest.py\", line 226, in serve_forever\r\n    ready = selector.select()\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\selectors.py\", line 323, in select\r\n    r, w, _ = self._select(self._readers, self._writers, [], timeout)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\selectors.py\", line 314, in _select\r\n    r, w, x = select.select(r, w, w, timeout)\r\nOSError: [WinError 10038] An operation was attempted on something that is not a socket\r\n\r\nERROR\r\ntest_prepend_to_path (tests.util.test_os.TestOS) ... ok\r\ntest_all_common_files_accounted_for (tests.util.test_skel.TestSkelUtil) ... ok\r\ntest_mktempdir (tests.util.test_tempdir.TestTempDir) ... ok\r\ntest_rmtempdirs (tests.util.test_tempdir.TestTempDir) ... ok\r\ntest_removes_on_aexit (tests.util.test_tempdir.TestTempDirAsyncContextManager) ... ok\r\n\r\n======================================================================\r\nERROR: tearDownClass (tests.db.test_sqlite.TestSqlDatabase)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\db\\test_sqlite.py\", line 16, in tearDownClass\r\n    os.remove(cls.database_name)\r\nPermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\\\Users\\\\johnsa1\\\\AppData\\\\Local\\\\Temp\\\\tmpwn7s3r4z.db'\r\n\r\n======================================================================\r\nERROR: tearDownClass (tests.operation.test_sqlite_query.TestSqliteQuery)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\operation\\test_sqlite_query.py\", line 30, in tearDownClass\r\n    os.unlink(cls.database_name)\r\nPermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\\\Users\\\\johnsa1\\\\AppData\\\\Local\\\\Temp\\\\tmp26z_gb7q.db'\r\n\r\n======================================================================\r\nERROR: test_run (tests.service.test_dev.TestDevelopSkelLink)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\service\\test_dev.py\", line 141, in test_run\r\n    await Develop.cli(\"skel\", \"link\")\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 179, in cli\r\n    return await cmd.do_run()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 161, in do_run\r\n    return await self.run()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\service\\dev.py\", line 156, in run\r\n    self.skel.create_symlinks(plugin)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\skel.py\", line 58, in create_symlinks\r\n    linkpath.resolve().symlink_to(filepath)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\pathlib.py\", line 1337, in symlink_to\r\n    self._accessor.symlink(target, self, target_is_directory)\r\nOSError: symbolic link privilege not held\r\n\r\n======================================================================\r\nERROR: test_run (tests.service.test_dev.TestRun)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\service\\test_dev.py\", line 286, in test_run\r\n    \"debug\",\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 179, in cli\r\n    return await cmd.do_run()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 161, in do_run\r\n    return await self.run()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\service\\dev.py\", line 185, in run\r\n    return await self.run_op(attr, obj)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\service\\dev.py\", line 249, in run_op\r\n    async with orchestrator(dataflow) as octx:\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\df\\memory.py\", line 1170, in __aenter__\r\n    await self.initialize_dataflow(self.config.dataflow)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\df\\memory.py\", line 1226, in initialize_dataflow\r\n    operation, opimp_config, opimp=opimp\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\df\\memory.py\", line 897, in instantiate\r\n    ] = await self._stack.enter_async_context(opimp(config))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\contextlib.py\", line 570, in enter_async_context\r\n    result = await _cm_type.__aenter__(cm)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynchelper.py\", line 179, in __aenter__\r\n    self._stack = await aenter_stack(self, context_managers)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynchelper.py\", line 158, in aenter_stack\r\n    obj, key, await stack.enter_async_context(ctxmanager())\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\contextlib.py\", line 570, in enter_async_context\r\n    result = await _cm_type.__aenter__(cm)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\db\\sqlite.py\", line 104, in __aenter__\r\n    self.db = sqlite3.connect(self.config.filename)\r\nsqlite3.OperationalError: unable to open database file\r\n\r\n======================================================================\r\nERROR: test_key (tests.source.test_csv.TestCSVSource)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\source\\test_csv.py\", line 98, in test_key\r\n    CSVSourceConfig(filename=fileobj.name, key=\"KeyHeader\")\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\source\\file.py\", line 39, in __aenter__\r\n    await self._open()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\source\\file.py\", line 76, in _open\r\n    opener = open(self.config.filename, self.READMODE)\r\nPermissionError: [Errno 13] Permission denied: 'C:\\\\Users\\\\johnsa1\\\\AppData\\\\Local\\\\Temp\\\\tmpd1iyjupj'\r\n\r\n======================================================================\r\nERROR: tearDownClass (tests.source.test_db.TestDbSource)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\source\\test_db.py\", line 73, in tearDownClass\r\n    os.remove(cls.database_name)\r\nPermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\\\Users\\\\johnsa1\\\\AppData\\\\Local\\\\Temp\\\\tmpgy8r4d9w.db'\r\n\r\n======================================================================\r\nERROR: test_run (tests.test_cli.TestDataflowRunAllRecords)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\test_cli.py\", line 308, in test_run\r\n    '[\"result\"]=get_single_spec',\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 179, in cli\r\n    return await cmd.do_run()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 159, in do_run\r\n    return [res async for res in self.run()]\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 159, in <listcomp>\r\n    return [res async for res in self.run()]\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\cli\\dataflow.py\", line 241, in run\r\n    exported = await loader.loadb(dataflow_path.read_bytes())\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\pathlib.py\", line 1199, in read_bytes\r\n    with self.open(mode='rb') as f:\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\pathlib.py\", line 1193, in open\r\n    opener=self._opener)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\pathlib.py\", line 1046, in _opener\r\n    return self._accessor.open(self, flags, mode)\r\nPermissionError: [Errno 13] Permission denied: 'C:\\\\Users\\\\johnsa1\\\\AppData\\\\Local\\\\Temp\\\\tmp39wk2liq.json'\r\n\r\n======================================================================\r\nERROR: test_run (tests.test_cli.TestDataflowRunRecordSet)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\test_cli.py\", line 357, in test_run\r\n    '[\"result\"]=get_single_spec',\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 179, in cli\r\n    return await cmd.do_run()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 159, in do_run\r\n    return [res async for res in self.run()]\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\cli\\cmd.py\", line 159, in <listcomp>\r\n    return [res async for res in self.run()]\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\cli\\dataflow.py\", line 241, in run\r\n    exported = await loader.loadb(dataflow_path.read_bytes())\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\pathlib.py\", line 1199, in read_bytes\r\n    with self.open(mode='rb') as f:\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\pathlib.py\", line 1193, in open\r\n    opener=self._opener)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\pathlib.py\", line 1046, in _opener\r\n    return self._accessor.open(self, flags, mode)\r\nPermissionError: [Errno 13] Permission denied: 'C:\\\\Users\\\\johnsa1\\\\AppData\\\\Local\\\\Temp\\\\tmprseheuo1.json'\r\n\r\n======================================================================\r\nERROR: test_docstring (tests.test_docstrings.high_level_save)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\test_docstrings.py\", line 207, in testcase\r\n    run_doctest(obj, state)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\test_docstrings.py\", line 176, in run_doctest\r\n    raise Exception(output.getvalue())\r\nException: **********************************************************************\r\nFile \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\high_level.py\", line 265, in save\r\nFailed example:\r\n    asyncio.run(main())\r\nExpected:\r\n    key,tag,Expertise,Trust,Years,prediction_Salary,confidence_Salary\r\n    myrecord,untagged,1,0.1,0,10,1.0\r\nGot:\r\n    key,tag,Expertise,Trust,Years,prediction_Salary,confidence_Salary\r\n    <BLANKLINE>\r\n    myrecord,untagged,1,0.1,0,10,1.0\r\n\r\n\r\n======================================================================\r\nERROR: test_cached_download (tests.util.test_net.TestNet)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 1317, in do_open\r\n    encode_chunked=req.has_header('Transfer-encoding'))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 1252, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 1298, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 1247, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 1026, in _send_output\r\n    self.send(msg)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 966, in send\r\n    self.connect()\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 938, in connect\r\n    (self.host,self.port), self.timeout, self.source_address)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\socket.py\", line 727, in create_connection\r\n    raise err\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\socket.py\", line 716, in create_connection\r\n    sock.connect(sa)\r\nOSError: [WinError 10013] An attempt was made to access a socket in a way forbidden by its access permissions\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\.eggs\\httptest-0.0.15-py3.7.egg\\httptest\\httptest.py\", line 304, in wrap\r\n    res = await func(*args, ts=self, **kwargs)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\util\\test_net.py\", line 79, in test_cached_download\r\n    shutil.unpack_archive(await func(), extracted)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\net.py\", line 130, in wrapper\r\n    url, protocol_allowlist=protocol_allowlist\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\net.py\", line 57, in sync_urlopen\r\n    return urllib.request.urlopen(url)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 222, in urlopen\r\n    return opener.open(url, data, timeout)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 525, in open\r\n    response = self._open(req, data)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 543, in _open\r\n    '_open', req)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 503, in _call_chain\r\n    result = func(*args)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 1345, in http_open\r\n    return self.do_open(http.client.HTTPConnection, req)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 1319, in do_open\r\n    raise URLError(err)\r\nurllib.error.URLError: <urlopen error [WinError 10013] An attempt was made to access a socket in a way forbidden by its access permissions>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\.eggs\\httptest-0.0.15-py3.7.egg\\httptest\\httptest.py\", line 306, in wrap\r\n    server.stop_background()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\.eggs\\httptest-0.0.15-py3.7.egg\\httptest\\httptest.py\", line 254, in stop_background\r\n    self.__send.send('shutdown')\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\multiprocessing\\connection.py\", line 206, in send\r\n    self._send_bytes(_ForkingPickler.dumps(obj))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\multiprocessing\\connection.py\", line 280, in _send_bytes\r\n    ov, err = _winapi.WriteFile(self._handle, buf, overlapped=True)\r\nBrokenPipeError: [WinError 232] The pipe is being closed\r\n\r\n======================================================================\r\nERROR: test_cached_download_unpack_archive (tests.util.test_net.TestNet)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 1317, in do_open\r\n    encode_chunked=req.has_header('Transfer-encoding'))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 1252, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 1298, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 1247, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 1026, in _send_output\r\n    self.send(msg)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 966, in send\r\n    self.connect()\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\http\\client.py\", line 938, in connect\r\n    (self.host,self.port), self.timeout, self.source_address)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\socket.py\", line 727, in create_connection\r\n    raise err\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\socket.py\", line 716, in create_connection\r\n    sock.connect(sa)\r\nOSError: [WinError 10013] An attempt was made to access a socket in a way forbidden by its access permissions\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\.eggs\\httptest-0.0.15-py3.7.egg\\httptest\\httptest.py\", line 304, in wrap\r\n    res = await func(*args, ts=self, **kwargs)\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\util\\test_net.py\", line 99, in test_cached_download_unpack_archive\r\n    self.verify_extracted_contents(await func())\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\net.py\", line 214, in wrapper\r\n    await extract()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\net.py\", line 130, in wrapper\r\n    url, protocol_allowlist=protocol_allowlist\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\net.py\", line 57, in sync_urlopen\r\n    return urllib.request.urlopen(url)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 222, in urlopen\r\n    return opener.open(url, data, timeout)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 525, in open\r\n    response = self._open(req, data)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 543, in _open\r\n    '_open', req)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 503, in _call_chain\r\n    result = func(*args)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 1345, in http_open\r\n    return self.do_open(http.client.HTTPConnection, req)\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\urllib\\request.py\", line 1319, in do_open\r\n    raise URLError(err)\r\nurllib.error.URLError: <urlopen error [WinError 10013] An attempt was made to access a socket in a way forbidden by its access permissions>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\.eggs\\httptest-0.0.15-py3.7.egg\\httptest\\httptest.py\", line 306, in wrap\r\n    server.stop_background()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\.eggs\\httptest-0.0.15-py3.7.egg\\httptest\\httptest.py\", line 254, in stop_background\r\n    self.__send.send('shutdown')\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\multiprocessing\\connection.py\", line 206, in send\r\n    self._send_bytes(_ForkingPickler.dumps(obj))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\multiprocessing\\connection.py\", line 280, in _send_bytes\r\n    ov, err = _winapi.WriteFile(self._handle, buf, overlapped=True)\r\nBrokenPipeError: [WinError 232] The pipe is being closed\r\n\r\n======================================================================\r\nFAIL: test_memory_to_csv (tests.integration.test_cli.TestMerge)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\integration\\test_cli.py\", line 86, in test_memory_to_csv\r\n    + \"\\n\",\r\nAssertionError: 'key,tag\\n\\nA,untagged\\n\\nB,untagged\\n\\nC,untagged\\n\\n' != 'key,tag\\nA,untagged\\nB,untagged\\nC,untagged\\n'\r\n  key,tag\r\n-\r\n  A,untagged\r\n-\r\n  B,untagged\r\n-\r\n  C,untagged\r\n-\r\n\r\n\r\n======================================================================\r\nFAIL: test_json_to_csv (tests.test_cli.TestMerge)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\dffml\\util\\asynctestcase.py\", line 68, in run_it\r\n    result = self.loop.run_until_complete(coro(*args, **kwargs))\r\n  File \"c:\\program files (x86)\\microsoft visual studio\\shared\\python37_64\\lib\\asyncio\\base_events.py\", line 579, in run_until_complete\r\n    return future.result()\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\test_cli.py\", line 195, in test_json_to_csv\r\n    \"Incorrect data in csv file\",\r\nAssertionError: 'key,tag\\n\\n0.8236072570817508,untagged\\n\\n0.142169[273 chars]\\n\\n' != 'key,tag\\n0.8236072570817508,untagged\\n0.1421693505[251 chars]ed\\n'\r\n  key,tag\r\n-\r\n  0.8236072570817508,untagged\r\n-\r\n  0.14216935050515278,untagged\r\n-\r\n  0.3405641981549047,untagged\r\n-\r\n  0.06312509858153093,untagged\r\n-\r\n  0.24745981055072985,untagged\r\n-\r\n  0.053573406514786814,untagged\r\n-\r\n  0.9864401241532709,untagged\r\n-\r\n  0.28990877943200677,untagged\r\n-\r\n  0.883475955793344,untagged\r\n-\r\n  0.31413144016770056,untagged\r\n-\r\n : Incorrect data in csv file\r\n\r\n======================================================================\r\nFAIL: test_evaluated (tests.test_record.TestRecord)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\test_record.py\", line 103, in test_evaluated\r\n    self.assertNotEqual(old_last_updated, self.full.data.last_updated)\r\nAssertionError: datetime.datetime(2020, 5, 9, 12, 38, 28, 912743) == datetime.datetime(2020, 5, 9, 12, 38, 28, 912743)\r\n\r\n======================================================================\r\nFAIL: test_predicted (tests.test_record.TestRecord)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\johnsa1\\documents\\python\\dffml\\tests\\test_record.py\", line 115, in test_predicted\r\n    self.assertNotEqual(old_last_updated, self.full.data.last_updated)\r\nAssertionError: datetime.datetime(2020, 5, 9, 12, 38, 28, 914766) == datetime.datetime(2020, 5, 9, 12, 38, 28, 914766)\r\n\r\n----------------------------------------------------------------------\r\nRan 242 tests in 37.967s\r\n\r\nFAILED (failures=4, errors=11)\r\nTest failed: <unittest.runner.TextTestResult run=242 errors=11 failures=4>\r\nerror: Test failed: <unittest.runner.TextTestResult run=242 errors=11 failures=4>\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/intel/dffml/issues/624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/intel/dffml/issues/624/timeline","performed_via_github_app":null,"state_reason":null}