{"url":"https://api.github.com/repos/richzhang/PerceptualSimilarity/issues/30","repository_url":"https://api.github.com/repos/richzhang/PerceptualSimilarity","labels_url":"https://api.github.com/repos/richzhang/PerceptualSimilarity/issues/30/labels{/name}","comments_url":"https://api.github.com/repos/richzhang/PerceptualSimilarity/issues/30/comments","events_url":"https://api.github.com/repos/richzhang/PerceptualSimilarity/issues/30/events","html_url":"https://github.com/richzhang/PerceptualSimilarity/issues/30","id":476518047,"node_id":"MDU6SXNzdWU0NzY1MTgwNDc=","number":30,"title":"bug when run the code","user":{"login":"ForawardStar","id":32625467,"node_id":"MDQ6VXNlcjMyNjI1NDY3","avatar_url":"https://avatars.githubusercontent.com/u/32625467?v=4","gravatar_id":"","url":"https://api.github.com/users/ForawardStar","html_url":"https://github.com/ForawardStar","followers_url":"https://api.github.com/users/ForawardStar/followers","following_url":"https://api.github.com/users/ForawardStar/following{/other_user}","gists_url":"https://api.github.com/users/ForawardStar/gists{/gist_id}","starred_url":"https://api.github.com/users/ForawardStar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ForawardStar/subscriptions","organizations_url":"https://api.github.com/users/ForawardStar/orgs","repos_url":"https://api.github.com/users/ForawardStar/repos","events_url":"https://api.github.com/users/ForawardStar/events{/privacy}","received_events_url":"https://api.github.com/users/ForawardStar/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-08-04T05:49:01Z","updated_at":"2019-08-04T07:29:44Z","closed_at":"2019-08-04T07:29:44Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\nWhen I run the code, I have a bug when a function in \"networks_basic.py\" is called, which is \"in_tens.mean([2,3], keepdim=keepdim)\". I don't know how to trackle this, so  I take the liberty to ask for help. After search on the Internet, I guess the reason may be that the argument \"dim\" in the first position should be an integer instead of a list \"[2,3]\". The detailed error reporting information are as fllow.\r\n   Thanks\r\n\r\n\"Traceback (most recent call last):\r\n  File \"compute_dists_pair.py\", line 34, in <module>\r\n    dist01 = model.forward(img0,img1).item()\r\n  File \"PerceptualSimilarity-master/models/__init__.py\", line 40, in forward\r\n    return self.model.forward(target, pred)\r\n  File \"PerceptualSimilarity-master/models/dist_model.py\", line 116, in forward\r\n    return self.net.forward(in0, in1, retPerLayer=retPerLayer)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/parallel/data_parallel.py\", line 121, in forward\r\n    return self.module(*inputs[0], **kwargs[0])\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 477, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"PerceptualSimilarity-master/models/networks_basic.py\", line 79, in forward\r\n    res = [spatial_average(self.lins[kk].model(diffs[kk]), keepdim=True) for kk in range(self.L)]\r\n  File \"PerceptualSimilarity-master/models/networks_basic.py\", line 79, in <listcomp>\r\n    res = [spatial_average(self.lins[kk].model(diffs[kk]), keepdim=True) for kk in range(self.L)]\r\n  File \"PerceptualSimilarity-master/models/networks_basic.py\", line 18, in spatial_average\r\n    return in_tens.mean([2,3],keepdim=keepdim)\r\nTypeError: mean() received an invalid combination of arguments - got (list, keepdim=bool), but expected one of:\r\n * ()\r\n * (torch.dtype dtype)\r\n * (int dim, torch.dtype dtype)\r\n      didn't match because some of the keywords were incorrect: keepdim\r\n * (int dim, bool keepdim, torch.dtype dtype)\r\n * (int dim, bool keepdim)\r\n      didn't match because some of the arguments have invalid types: (list, keepdim=bool)\r\n\r\n\"","closed_by":{"login":"richzhang","id":18079594,"node_id":"MDQ6VXNlcjE4MDc5NTk0","avatar_url":"https://avatars.githubusercontent.com/u/18079594?v=4","gravatar_id":"","url":"https://api.github.com/users/richzhang","html_url":"https://github.com/richzhang","followers_url":"https://api.github.com/users/richzhang/followers","following_url":"https://api.github.com/users/richzhang/following{/other_user}","gists_url":"https://api.github.com/users/richzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/richzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richzhang/subscriptions","organizations_url":"https://api.github.com/users/richzhang/orgs","repos_url":"https://api.github.com/users/richzhang/repos","events_url":"https://api.github.com/users/richzhang/events{/privacy}","received_events_url":"https://api.github.com/users/richzhang/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/richzhang/PerceptualSimilarity/issues/30/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/richzhang/PerceptualSimilarity/issues/30/timeline","performed_via_github_app":null,"state_reason":"completed"}