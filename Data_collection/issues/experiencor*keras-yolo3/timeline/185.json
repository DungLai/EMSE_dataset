[{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/comments/504789296","html_url":"https://github.com/experiencor/keras-yolo3/issues/185#issuecomment-504789296","issue_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/185","id":504789296,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDc4OTI5Ng==","user":{"login":"kabrau","id":2559616,"node_id":"MDQ6VXNlcjI1NTk2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/2559616?v=4","gravatar_id":"","url":"https://api.github.com/users/kabrau","html_url":"https://github.com/kabrau","followers_url":"https://api.github.com/users/kabrau/followers","following_url":"https://api.github.com/users/kabrau/following{/other_user}","gists_url":"https://api.github.com/users/kabrau/gists{/gist_id}","starred_url":"https://api.github.com/users/kabrau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kabrau/subscriptions","organizations_url":"https://api.github.com/users/kabrau/orgs","repos_url":"https://api.github.com/users/kabrau/repos","events_url":"https://api.github.com/users/kabrau/events{/privacy}","received_events_url":"https://api.github.com/users/kabrau/received_events","type":"User","site_admin":false},"created_at":"2019-06-23T21:36:37Z","updated_at":"2019-06-23T21:36:37Z","author_association":"NONE","body":"I will to explain whats I understand if you follow the code, you found these lines in yolo.py:\r\n\r\n> xy_delta    = xywh_mask  * ... * self.xywh_scale\r\n> wh_delta    = xywh_mask  * ... * self.xywh_scale\r\n> conf_delta  = object_mask * ... * self.noobj_scale\r\n> **class_delta** = object_mask * ...  *  **self.class_scale**\r\n\r\n> loss_xy    = tf.reduce_sum(tf.square(xy_delta),       list(range(1,5)))\r\n> loss_wh    = tf.reduce_sum(tf.square(wh_delta),       list(range(1,5)))\r\n> loss_conf  = tf.reduce_sum(tf.square(conf_delta),     list(range(1,5)))\r\n> **loss_class** = tf.reduce_sum(**class_delta**,               list(range(1,5)))\r\n\r\n> **loss** = loss_xy + loss_wh + loss_conf + **loss_class**\r\n\r\nThe loss is calculated from loss_xy (box position) + loss_wh (box size) + loss_conf (precision recall) + loss_class (correct class)\r\n\r\nThen self.class_scale has influence in class_delta/loss_class, i.e. if you change to 2, the correct class has the double importance, but if you change to 0, correct class do not has influence in the loss.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/comments/504789296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kabrau","id":2559616,"node_id":"MDQ6VXNlcjI1NTk2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/2559616?v=4","gravatar_id":"","url":"https://api.github.com/users/kabrau","html_url":"https://github.com/kabrau","followers_url":"https://api.github.com/users/kabrau/followers","following_url":"https://api.github.com/users/kabrau/following{/other_user}","gists_url":"https://api.github.com/users/kabrau/gists{/gist_id}","starred_url":"https://api.github.com/users/kabrau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kabrau/subscriptions","organizations_url":"https://api.github.com/users/kabrau/orgs","repos_url":"https://api.github.com/users/kabrau/repos","events_url":"https://api.github.com/users/kabrau/events{/privacy}","received_events_url":"https://api.github.com/users/kabrau/received_events","type":"User","site_admin":false}}]