[{"id":1831287228,"node_id":"MDExOkNsb3NlZEV2ZW50MTgzMTI4NzIyOA==","url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/events/1831287228","actor":{"login":"oli37","id":17362476,"node_id":"MDQ6VXNlcjE3MzYyNDc2","avatar_url":"https://avatars.githubusercontent.com/u/17362476?v=4","gravatar_id":"","url":"https://api.github.com/users/oli37","html_url":"https://github.com/oli37","followers_url":"https://api.github.com/users/oli37/followers","following_url":"https://api.github.com/users/oli37/following{/other_user}","gists_url":"https://api.github.com/users/oli37/gists{/gist_id}","starred_url":"https://api.github.com/users/oli37/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oli37/subscriptions","organizations_url":"https://api.github.com/users/oli37/orgs","repos_url":"https://api.github.com/users/oli37/repos","events_url":"https://api.github.com/users/oli37/events{/privacy}","received_events_url":"https://api.github.com/users/oli37/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-09-06T19:45:32Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/comments/450795441","html_url":"https://github.com/experiencor/keras-yolo3/issues/132#issuecomment-450795441","issue_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/132","id":450795441,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDc5NTQ0MQ==","user":{"login":"JingchangHuang","id":24809761,"node_id":"MDQ6VXNlcjI0ODA5NzYx","avatar_url":"https://avatars.githubusercontent.com/u/24809761?v=4","gravatar_id":"","url":"https://api.github.com/users/JingchangHuang","html_url":"https://github.com/JingchangHuang","followers_url":"https://api.github.com/users/JingchangHuang/followers","following_url":"https://api.github.com/users/JingchangHuang/following{/other_user}","gists_url":"https://api.github.com/users/JingchangHuang/gists{/gist_id}","starred_url":"https://api.github.com/users/JingchangHuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingchangHuang/subscriptions","organizations_url":"https://api.github.com/users/JingchangHuang/orgs","repos_url":"https://api.github.com/users/JingchangHuang/repos","events_url":"https://api.github.com/users/JingchangHuang/events{/privacy}","received_events_url":"https://api.github.com/users/JingchangHuang/received_events","type":"User","site_admin":false},"created_at":"2019-01-02T06:45:24Z","updated_at":"2019-01-02T06:45:24Z","author_association":"NONE","body":"I have the same question, does anyone can help explain？","reactions":{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/comments/450795441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JingchangHuang","id":24809761,"node_id":"MDQ6VXNlcjI0ODA5NzYx","avatar_url":"https://avatars.githubusercontent.com/u/24809761?v=4","gravatar_id":"","url":"https://api.github.com/users/JingchangHuang","html_url":"https://github.com/JingchangHuang","followers_url":"https://api.github.com/users/JingchangHuang/followers","following_url":"https://api.github.com/users/JingchangHuang/following{/other_user}","gists_url":"https://api.github.com/users/JingchangHuang/gists{/gist_id}","starred_url":"https://api.github.com/users/JingchangHuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingchangHuang/subscriptions","organizations_url":"https://api.github.com/users/JingchangHuang/orgs","repos_url":"https://api.github.com/users/JingchangHuang/repos","events_url":"https://api.github.com/users/JingchangHuang/events{/privacy}","received_events_url":"https://api.github.com/users/JingchangHuang/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/comments/450800783","html_url":"https://github.com/experiencor/keras-yolo3/issues/132#issuecomment-450800783","issue_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/132","id":450800783,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDgwMDc4Mw==","user":{"login":"JingchangHuang","id":24809761,"node_id":"MDQ6VXNlcjI0ODA5NzYx","avatar_url":"https://avatars.githubusercontent.com/u/24809761?v=4","gravatar_id":"","url":"https://api.github.com/users/JingchangHuang","html_url":"https://github.com/JingchangHuang","followers_url":"https://api.github.com/users/JingchangHuang/followers","following_url":"https://api.github.com/users/JingchangHuang/following{/other_user}","gists_url":"https://api.github.com/users/JingchangHuang/gists{/gist_id}","starred_url":"https://api.github.com/users/JingchangHuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingchangHuang/subscriptions","organizations_url":"https://api.github.com/users/JingchangHuang/orgs","repos_url":"https://api.github.com/users/JingchangHuang/repos","events_url":"https://api.github.com/users/JingchangHuang/events{/privacy}","received_events_url":"https://api.github.com/users/JingchangHuang/received_events","type":"User","site_admin":false},"created_at":"2019-01-02T07:33:43Z","updated_at":"2019-01-02T07:33:43Z","author_association":"NONE","body":"@oli37 have you solve this question？","reactions":{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/comments/450800783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JingchangHuang","id":24809761,"node_id":"MDQ6VXNlcjI0ODA5NzYx","avatar_url":"https://avatars.githubusercontent.com/u/24809761?v=4","gravatar_id":"","url":"https://api.github.com/users/JingchangHuang","html_url":"https://github.com/JingchangHuang","followers_url":"https://api.github.com/users/JingchangHuang/followers","following_url":"https://api.github.com/users/JingchangHuang/following{/other_user}","gists_url":"https://api.github.com/users/JingchangHuang/gists{/gist_id}","starred_url":"https://api.github.com/users/JingchangHuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingchangHuang/subscriptions","organizations_url":"https://api.github.com/users/JingchangHuang/orgs","repos_url":"https://api.github.com/users/JingchangHuang/repos","events_url":"https://api.github.com/users/JingchangHuang/events{/privacy}","received_events_url":"https://api.github.com/users/JingchangHuang/received_events","type":"User","site_admin":false}},{"id":2049861899,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA0OTg2MTg5OQ==","url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/events/2049861899","actor":{"login":"oli37","id":17362476,"node_id":"MDQ6VXNlcjE3MzYyNDc2","avatar_url":"https://avatars.githubusercontent.com/u/17362476?v=4","gravatar_id":"","url":"https://api.github.com/users/oli37","html_url":"https://github.com/oli37","followers_url":"https://api.github.com/users/oli37/followers","following_url":"https://api.github.com/users/oli37/following{/other_user}","gists_url":"https://api.github.com/users/oli37/gists{/gist_id}","starred_url":"https://api.github.com/users/oli37/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oli37/subscriptions","organizations_url":"https://api.github.com/users/oli37/orgs","repos_url":"https://api.github.com/users/oli37/repos","events_url":"https://api.github.com/users/oli37/events{/privacy}","received_events_url":"https://api.github.com/users/oli37/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-02T07:33:44Z","performed_via_github_app":null},{"id":2049861900,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwNDk4NjE5MDA=","url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/events/2049861900","actor":{"login":"oli37","id":17362476,"node_id":"MDQ6VXNlcjE3MzYyNDc2","avatar_url":"https://avatars.githubusercontent.com/u/17362476?v=4","gravatar_id":"","url":"https://api.github.com/users/oli37","html_url":"https://github.com/oli37","followers_url":"https://api.github.com/users/oli37/followers","following_url":"https://api.github.com/users/oli37/following{/other_user}","gists_url":"https://api.github.com/users/oli37/gists{/gist_id}","starred_url":"https://api.github.com/users/oli37/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oli37/subscriptions","organizations_url":"https://api.github.com/users/oli37/orgs","repos_url":"https://api.github.com/users/oli37/repos","events_url":"https://api.github.com/users/oli37/events{/privacy}","received_events_url":"https://api.github.com/users/oli37/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-02T07:33:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/comments/451017125","html_url":"https://github.com/experiencor/keras-yolo3/issues/132#issuecomment-451017125","issue_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/132","id":451017125,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTAxNzEyNQ==","user":{"login":"oli37","id":17362476,"node_id":"MDQ6VXNlcjE3MzYyNDc2","avatar_url":"https://avatars.githubusercontent.com/u/17362476?v=4","gravatar_id":"","url":"https://api.github.com/users/oli37","html_url":"https://github.com/oli37","followers_url":"https://api.github.com/users/oli37/followers","following_url":"https://api.github.com/users/oli37/following{/other_user}","gists_url":"https://api.github.com/users/oli37/gists{/gist_id}","starred_url":"https://api.github.com/users/oli37/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oli37/subscriptions","organizations_url":"https://api.github.com/users/oli37/orgs","repos_url":"https://api.github.com/users/oli37/repos","events_url":"https://api.github.com/users/oli37/events{/privacy}","received_events_url":"https://api.github.com/users/oli37/received_events","type":"User","site_admin":false},"created_at":"2019-01-02T23:27:59Z","updated_at":"2019-01-02T23:27:59Z","author_association":"NONE","body":"Hi, it's been some time and I don't exactly know what I did back then, but this code snippet might help you:\r\n\r\n    def output_decoder(raw_network_output, objectness_thresh=0.5):\r\n    # defined by YOLOv3\r\n    global i\r\n    number_of_boxes = 3\r\n    number_of_detection_scales = 3\r\n    standardized_image_size = 416\r\n    feature_map_size = [13, 26, 52]\r\n\r\n    anchors = [[[116, 90], [156, 198], [373, 326]],  # detection scale 13x13\r\n               [[30, 61], [62, 45], [59, 119]],  # detection scale 26x26\r\n               [[10, 13], [16, 30], [33, 23]]]  # detection scale 52x52\r\n\r\n    number_of_classes = raw_network_output[0].shape[-1] // number_of_boxes\r\n    boxes = np.zeros([0, number_of_classes])\r\n\r\n    for detection_scale in range(number_of_detection_scales):\r\n        current_fm_size = feature_map_size[detection_scale]\r\n\r\n        reshaped = raw_network_output[detection_scale].reshape(\r\n            (current_fm_size, current_fm_size, number_of_boxes, -1))\r\n\r\n        box = np.zeros([current_fm_size, current_fm_size, number_of_boxes, number_of_classes])\r\n\r\n        box[..., :2] = _sigmoid(reshaped[..., :2])  # x, y\r\n        box[..., 2:4] = np.exp(reshaped[..., 2:4]) * anchors[detection_scale]  # w, h\r\n        box[..., 4:] = _sigmoid(reshaped[..., 4:])  # objectness, class_probabilities\r\n\r\n        col = np.tile(np.arange(0, current_fm_size), current_fm_size).reshape(-1, current_fm_size)\r\n        row = np.tile(np.arange(0, current_fm_size).reshape(-1, 1), current_fm_size)\r\n        col = col.reshape(current_fm_size, current_fm_size, 1, 1).repeat(3, axis=-2)\r\n        row = row.reshape(current_fm_size, current_fm_size, 1, 1).repeat(3, axis=-2)\r\n        grid = np.concatenate((col, row), axis=-1)\r\n\r\n        box[..., :2] += grid\r\n        box[..., :2] /= (current_fm_size, current_fm_size)\r\n        box[..., 2:4] /= (standardized_image_size, standardized_image_size)\r\n        box[..., :2] -= (box[..., 2:4] / 2.)\r\n\r\n        # x-->0, y-->1, w-->2, h-->3, objectness-->4, class_probabilities-->5:84\r\n        # extract only values that exceed the objectness-threshold\r\n        mask = box[..., 4] > objectness_thresh\r\n        box = box[mask]\r\n        boxes = np.concatenate((boxes, box))\r\n\r\n    return boxes\r\n","reactions":{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/comments/451017125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"oli37","id":17362476,"node_id":"MDQ6VXNlcjE3MzYyNDc2","avatar_url":"https://avatars.githubusercontent.com/u/17362476?v=4","gravatar_id":"","url":"https://api.github.com/users/oli37","html_url":"https://github.com/oli37","followers_url":"https://api.github.com/users/oli37/followers","following_url":"https://api.github.com/users/oli37/following{/other_user}","gists_url":"https://api.github.com/users/oli37/gists{/gist_id}","starred_url":"https://api.github.com/users/oli37/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oli37/subscriptions","organizations_url":"https://api.github.com/users/oli37/orgs","repos_url":"https://api.github.com/users/oli37/repos","events_url":"https://api.github.com/users/oli37/events{/privacy}","received_events_url":"https://api.github.com/users/oli37/received_events","type":"User","site_admin":false}}]