{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/198","repository_url":"https://api.github.com/repos/experiencor/keras-yolo3","labels_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/198/labels{/name}","comments_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/198/comments","events_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/198/events","html_url":"https://github.com/experiencor/keras-yolo3/issues/198","id":467937600,"node_id":"MDU6SXNzdWU0Njc5Mzc2MDA=","number":198,"title":"Loss becomes NaN after 20k steps","user":{"login":"vss96","id":10259922,"node_id":"MDQ6VXNlcjEwMjU5OTIy","avatar_url":"https://avatars.githubusercontent.com/u/10259922?v=4","gravatar_id":"","url":"https://api.github.com/users/vss96","html_url":"https://github.com/vss96","followers_url":"https://api.github.com/users/vss96/followers","following_url":"https://api.github.com/users/vss96/following{/other_user}","gists_url":"https://api.github.com/users/vss96/gists{/gist_id}","starred_url":"https://api.github.com/users/vss96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vss96/subscriptions","organizations_url":"https://api.github.com/users/vss96/orgs","repos_url":"https://api.github.com/users/vss96/repos","events_url":"https://api.github.com/users/vss96/events{/privacy}","received_events_url":"https://api.github.com/users/vss96/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-07-15T04:37:49Z","updated_at":"2021-10-31T05:43:22Z","closed_at":"2021-10-31T05:43:22Z","author_association":"NONE","active_lock_reason":null,"body":"So I was trying to train a separate set of images on this model and i noticed that after a certain amount of time the loss becomes NaN. I'm not sure why it is happening and i tried increasing the number of warmup epochs to 10 but that still didn't help.\r\nMy config file:\r\n`{\r\n\r\n    \"model\" : {\r\n        \"min_input_size\":       100,\r\n        \"max_input_size\":       600,\r\n        \"anchors\":              [27,26, 59,55, 94,115, 147,68, 164,281, 182,163, 261,303, 335,183, 380,356],\r\n\r\n        \"labels\":               [\"redbull\"]\r\n\r\n   },\r\n\r\n    \"train\": {\r\n        \"train_image_folder\":   \"../../data/synthetic_data_approach_1/images/\",\r\n        \"train_annot_folder\":   \"../../data/synthetic_data_approach_1/annotations/\",\r\n        \"cache_name\":           \"flickr_synth_train.pkl\",\r\n        \"pretrained_weights\":   \"yolov3.weights\",\r\n\r\n        \"train_times\":          8,\r\n        \"batch_size\":           6,\r\n        \"learning_rate\":        1e-3,\r\n        \"nb_epochs\":            50,\r\n        \"warmup_epochs\":        10,\r\n        \"ignore_thresh\":        0.5,\r\n        \"gpus\":                 \"0\",\r\n\r\n\r\n        \"grid_scales\":          [1,1,1],\r\n        \"obj_scale\":            5,\r\n        \"noobj_scale\":          1,\r\n        \"xywh_scale\":           1,\r\n        \"class_scale\":          1,\r\n\r\n        \"tensorboard_dir\":      \"logs\",\r\n        \"saved_weights_name\":   \"logo_weights.h5\",\r\n        \"debug\":                true,\r\n        \"trainable\":            true\r\n\r\n    },\r\n\r\n\r\n    \"valid\": {\r\n        \"valid_image_folder\":   \"\",\r\n        \"valid_annot_folder\":   \"\",\r\n        \"cache_name\":           \"\",\r\n        \"valid_times\":          1\r\n    }\r\n}`","closed_by":{"login":"vss96","id":10259922,"node_id":"MDQ6VXNlcjEwMjU5OTIy","avatar_url":"https://avatars.githubusercontent.com/u/10259922?v=4","gravatar_id":"","url":"https://api.github.com/users/vss96","html_url":"https://github.com/vss96","followers_url":"https://api.github.com/users/vss96/followers","following_url":"https://api.github.com/users/vss96/following{/other_user}","gists_url":"https://api.github.com/users/vss96/gists{/gist_id}","starred_url":"https://api.github.com/users/vss96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vss96/subscriptions","organizations_url":"https://api.github.com/users/vss96/orgs","repos_url":"https://api.github.com/users/vss96/repos","events_url":"https://api.github.com/users/vss96/events{/privacy}","received_events_url":"https://api.github.com/users/vss96/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/198/timeline","performed_via_github_app":null,"state_reason":"completed"}