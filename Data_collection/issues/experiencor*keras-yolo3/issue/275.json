{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/275","repository_url":"https://api.github.com/repos/experiencor/keras-yolo3","labels_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/275/labels{/name}","comments_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/275/comments","events_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/275/events","html_url":"https://github.com/experiencor/keras-yolo3/issues/275","id":626536584,"node_id":"MDU6SXNzdWU2MjY1MzY1ODQ=","number":275,"title":"Augmented images (and xml files) not used","user":{"login":"NoxTheXelor","id":26748640,"node_id":"MDQ6VXNlcjI2NzQ4NjQw","avatar_url":"https://avatars.githubusercontent.com/u/26748640?v=4","gravatar_id":"","url":"https://api.github.com/users/NoxTheXelor","html_url":"https://github.com/NoxTheXelor","followers_url":"https://api.github.com/users/NoxTheXelor/followers","following_url":"https://api.github.com/users/NoxTheXelor/following{/other_user}","gists_url":"https://api.github.com/users/NoxTheXelor/gists{/gist_id}","starred_url":"https://api.github.com/users/NoxTheXelor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NoxTheXelor/subscriptions","organizations_url":"https://api.github.com/users/NoxTheXelor/orgs","repos_url":"https://api.github.com/users/NoxTheXelor/repos","events_url":"https://api.github.com/users/NoxTheXelor/events{/privacy}","received_events_url":"https://api.github.com/users/NoxTheXelor/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-05-28T14:05:33Z","updated_at":"2020-05-28T15:18:37Z","closed_at":"2020-05-28T15:18:37Z","author_association":"NONE","active_lock_reason":null,"body":"I made a data augmentation of my dataset and then move the images into the trains folders\r\nBut when I run the trainn script, it warn me the number of detected labels, wich are the same of those before the data augmentation. \r\nIn another words, the augmented images and xml file are not took into account \r\n![image](https://user-images.githubusercontent.com/26748640/83150883-1d2e5580-a0fc-11ea-87ac-446cadbcb9dc.png)\r\nEdit : I have remove the vanilla dataset (I just let the the augmented images & labels) from the trains folders and I got this : \r\n```\r\nvalid_annot_folder not exists. Spliting the trainining set.\r\nSeen labels:    {'Background': 26, 'Spallation': 1313, 'ExposedBars': 1047, 'CorrosionStain': 1174, 'Efflorescence': 694, 'Crack': 1819}\r\n\r\nGiven labels:   ['Crack', 'Spallation', 'Efflorescence', 'ExposedBars', 'CorrosionStain']\r\n\r\nTraining on:    ['CorrosionStain', 'Crack', 'Efflorescence', 'ExposedBars', 'Spallation']\r\n\r\nWARNING:tensorflow:From C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\tensorflow_core\\python\\ops\\resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\nWARNING:tensorflow:From e:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\yolo.py:151: The name tf.assign_add is deprecated. Please use tf.compat.v1.assign_add instead.\r\n\r\nC:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\callbacks\\callbacks.py:998: UserWarning: `epsilon` argument is deprecated and will be removed, use `min_delta` instead.\r\n  warnings.warn('`epsilon` argument is deprecated and '\r\nWARNING:tensorflow:From C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py:422: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.\r\n\r\nWARNING:tensorflow:From C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py:431: The name tf.is_variable_initialized is deprecated. Please use tf.compat.v1.is_variable_initialized instead.\r\n\r\nWARNING:tensorflow:From C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py:438: The name tf.variables_initializer is deprecated. Please use tf.compat.v1.variables_initializer instead.\r\n\r\nWARNING:tensorflow:From C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\callbacks\\tensorboard_v1.py:200: The name tf.summary.merge_all is deprecated. Please use tf.compat.v1.summary.merge_all instead.\r\n\r\nWARNING:tensorflow:From C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\callbacks\\tensorboard_v1.py:203: The name tf.summary.FileWriter is deprecated. Please use tf.compat.v1.summary.FileWriter instead.\r\n\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0001151.jpg\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0000700.jpg\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0000052.jpg\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0000752.jpg\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0000776.jpg\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0000328.jpg\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0001143.jpg\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0001094.jpg\r\nCannot find  E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\train_image_folder\\image_0001182.jpg\r\nEpoch 1/103\r\nTraceback (most recent call last):\r\n  File \"e:/EPHEC/Bac_3/Q2/TFE/experiencor/keras-yolo3-master/train.py\", line 296, in <module>\r\n    _main_(args)\r\n  File \"e:/EPHEC/Bac_3/Q2/TFE/experiencor/keras-yolo3-master/train.py\", line 272, in _main_\r\n    max_queue_size   = 8\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\legacy\\interfaces.py\", line 91, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\engine\\training.py\", line 1732, in fit_generator\r\n    initial_epoch=initial_epoch)\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\engine\\training_generator.py\", line 185, in fit_generator\r\n    generator_output = next(output_generator)\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\utils\\data_utils.py\", line 625, in get\r\n    six.reraise(*sys.exc_info())\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\six.py\", line 703, in reraise\r\n    raise value\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\utils\\data_utils.py\", line 610, in get\r\n    inputs = future.get(timeout=30)\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\multiprocessing\\pool.py\", line 644, in get\r\n    raise self._value\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\multiprocessing\\pool.py\", line 119, in worker\r\n    result = (True, func(*args, **kwds))\r\n  File \"C:\\Users\\Antoine\\Anaconda3\\envs\\experiencor\\lib\\site-packages\\keras\\utils\\data_utils.py\", line 406, in get_index\r\n    return _SHARED_SEQUENCES[uid][i]\r\n  File \"e:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\generator.py\", line 73, in __getitem__\r\n    img, all_objs = self._aug_image(train_instance, net_h, net_w)\r\n  File \"e:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master\\generator.py\", line 163, in _aug_image\r\n    image = image[:,:,::-1] # RGB image\r\nTypeError: 'NoneType' object is not subscriptable\r\nPS E:\\EPHEC\\Bac_3\\Q2\\TFE\\experiencor\\keras-yolo3-master>\r\n```\r\nDoes someone have an idea why ?\r\nThanks\r\n","closed_by":{"login":"NoxTheXelor","id":26748640,"node_id":"MDQ6VXNlcjI2NzQ4NjQw","avatar_url":"https://avatars.githubusercontent.com/u/26748640?v=4","gravatar_id":"","url":"https://api.github.com/users/NoxTheXelor","html_url":"https://github.com/NoxTheXelor","followers_url":"https://api.github.com/users/NoxTheXelor/followers","following_url":"https://api.github.com/users/NoxTheXelor/following{/other_user}","gists_url":"https://api.github.com/users/NoxTheXelor/gists{/gist_id}","starred_url":"https://api.github.com/users/NoxTheXelor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NoxTheXelor/subscriptions","organizations_url":"https://api.github.com/users/NoxTheXelor/orgs","repos_url":"https://api.github.com/users/NoxTheXelor/repos","events_url":"https://api.github.com/users/NoxTheXelor/events{/privacy}","received_events_url":"https://api.github.com/users/NoxTheXelor/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/experiencor/keras-yolo3/issues/275/timeline","performed_via_github_app":null,"state_reason":"completed"}