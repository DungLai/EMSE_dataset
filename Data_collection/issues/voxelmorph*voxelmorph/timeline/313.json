[{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846476981","html_url":"https://github.com/voxelmorph/voxelmorph/issues/313#issuecomment-846476981","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/313","id":846476981,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjQ3Njk4MQ==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-05-22T23:42:46Z","updated_at":"2021-05-22T23:42:46Z","author_association":"COLLABORATOR","body":"Hi @neel-dey ,\r\n\r\nThanks, these are very good points. The multi-modal NCC was only experimentally added (and we should note this in the code), and we haven't really done thorough testing -- and I think your domain shift (counter)example is a good one. I suspect we could still implement a 'split' NCC without actually splitting the computation. \r\n\r\n@brf2 and @ahoopes might be interested in this discussion as well.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846476981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":4782799570,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc4Mjc5OTU3MA==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4782799570","actor":{"login":"ahoopes","id":24280487,"node_id":"MDQ6VXNlcjI0MjgwNDg3","avatar_url":"https://avatars.githubusercontent.com/u/24280487?v=4","gravatar_id":"","url":"https://api.github.com/users/ahoopes","html_url":"https://github.com/ahoopes","followers_url":"https://api.github.com/users/ahoopes/followers","following_url":"https://api.github.com/users/ahoopes/following{/other_user}","gists_url":"https://api.github.com/users/ahoopes/gists{/gist_id}","starred_url":"https://api.github.com/users/ahoopes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahoopes/subscriptions","organizations_url":"https://api.github.com/users/ahoopes/orgs","repos_url":"https://api.github.com/users/ahoopes/repos","events_url":"https://api.github.com/users/ahoopes/events{/privacy}","received_events_url":"https://api.github.com/users/ahoopes/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-22T23:42:46Z","performed_via_github_app":null},{"id":4782799571,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3ODI3OTk1NzE=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4782799571","actor":{"login":"ahoopes","id":24280487,"node_id":"MDQ6VXNlcjI0MjgwNDg3","avatar_url":"https://avatars.githubusercontent.com/u/24280487?v=4","gravatar_id":"","url":"https://api.github.com/users/ahoopes","html_url":"https://github.com/ahoopes","followers_url":"https://api.github.com/users/ahoopes/followers","following_url":"https://api.github.com/users/ahoopes/following{/other_user}","gists_url":"https://api.github.com/users/ahoopes/gists{/gist_id}","starred_url":"https://api.github.com/users/ahoopes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahoopes/subscriptions","organizations_url":"https://api.github.com/users/ahoopes/orgs","repos_url":"https://api.github.com/users/ahoopes/repos","events_url":"https://api.github.com/users/ahoopes/events{/privacy}","received_events_url":"https://api.github.com/users/ahoopes/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-22T23:42:47Z","performed_via_github_app":null},{"id":4782799572,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc4Mjc5OTU3Mg==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4782799572","actor":{"login":"brf2","id":28354037,"node_id":"MDQ6VXNlcjI4MzU0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/28354037?v=4","gravatar_id":"","url":"https://api.github.com/users/brf2","html_url":"https://github.com/brf2","followers_url":"https://api.github.com/users/brf2/followers","following_url":"https://api.github.com/users/brf2/following{/other_user}","gists_url":"https://api.github.com/users/brf2/gists{/gist_id}","starred_url":"https://api.github.com/users/brf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brf2/subscriptions","organizations_url":"https://api.github.com/users/brf2/orgs","repos_url":"https://api.github.com/users/brf2/repos","events_url":"https://api.github.com/users/brf2/events{/privacy}","received_events_url":"https://api.github.com/users/brf2/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-22T23:42:47Z","performed_via_github_app":null},{"id":4782799573,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3ODI3OTk1NzM=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4782799573","actor":{"login":"brf2","id":28354037,"node_id":"MDQ6VXNlcjI4MzU0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/28354037?v=4","gravatar_id":"","url":"https://api.github.com/users/brf2","html_url":"https://github.com/brf2","followers_url":"https://api.github.com/users/brf2/followers","following_url":"https://api.github.com/users/brf2/following{/other_user}","gists_url":"https://api.github.com/users/brf2/gists{/gist_id}","starred_url":"https://api.github.com/users/brf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brf2/subscriptions","organizations_url":"https://api.github.com/users/brf2/orgs","repos_url":"https://api.github.com/users/brf2/repos","events_url":"https://api.github.com/users/brf2/events{/privacy}","received_events_url":"https://api.github.com/users/brf2/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-22T23:42:47Z","performed_via_github_app":null},{"id":4782799574,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc4Mjc5OTU3NA==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4782799574","actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-22T23:42:47Z","performed_via_github_app":null},{"id":4782799575,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3ODI3OTk1NzU=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4782799575","actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-22T23:42:47Z","performed_via_github_app":null},{"id":4782799631,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ3ODI3OTk2MzE=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4782799631","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-05-22T23:42:53Z","label":{"name":"voxelmorph","color":"1d76db"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846489878","html_url":"https://github.com/voxelmorph/voxelmorph/issues/313#issuecomment-846489878","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/313","id":846489878,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjQ4OTg3OA==","user":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"created_at":"2021-05-23T02:10:08Z","updated_at":"2021-05-23T02:12:21Z","author_association":"CONTRIBUTOR","body":"Makes sense, thanks for the response. Implementing channel-wise NCC directly should just need two changes in https://github.com/voxelmorph/voxelmorph/blob/master/voxelmorph/tf/losses.py#L37 at L37 and L51, such that (changes marked with `# CHANGED HERE`):\r\n\r\n```python\r\nclass NCC:\r\n    \"\"\"\r\n    Local (over window) normalized cross correlation loss.\r\n    \"\"\"\r\n\r\n    def __init__(self, win=None, eps=1e-5):\r\n        self.win = win\r\n        self.eps = eps\r\n\r\n    def ncc(self, I, J):\r\n        # get dimension of volume\r\n        # assumes I, J are sized [batch_size, *vol_shape, nb_feats]\r\n        ndims = len(I.get_shape().as_list()) - 2\r\n        assert ndims in [1, 2, 3], \"volumes should be 1 to 3 dimensions. found: %d\" % ndims\r\n\r\n        # set window size\r\n        if self.win is None:\r\n            self.win = [9] * ndims\r\n\r\n        # get convolution function\r\n        conv_fn = getattr(tf.nn, 'conv%dd' % ndims)\r\n\r\n        # compute CC squares\r\n        I2 = I * I\r\n        J2 = J * J\r\n        IJ = I * J\r\n\r\n        # compute filters\r\n        in_ch = J.get_shape().as_list()[-1]\r\n        sum_filt = tf.ones([*self.win, 1, in_ch])  # CHANGED HERE\r\n        strides = 1\r\n        if ndims > 1:\r\n            strides = [1] * (ndims + 2)\r\n\r\n        # compute local sums via convolution\r\n        padding = 'SAME'\r\n        I_sum = conv_fn(I, sum_filt, strides, padding)\r\n        J_sum = conv_fn(J, sum_filt, strides, padding)\r\n        I2_sum = conv_fn(I2, sum_filt, strides, padding)\r\n        J2_sum = conv_fn(J2, sum_filt, strides, padding)\r\n        IJ_sum = conv_fn(IJ, sum_filt, strides, padding)\r\n\r\n        # compute cross correlation\r\n        win_size = np.prod(self.win)  # CHANGED HERE\r\n        u_I = I_sum / win_size\r\n        u_J = J_sum / win_size\r\n\r\n        cross = IJ_sum - u_J * I_sum - u_I * J_sum + u_I * u_J * win_size  # TODO: simplify this\r\n        I_var = I2_sum - 2 * u_I * I_sum + u_I * u_I * win_size\r\n        J_var = J2_sum - 2 * u_J * J_sum + u_J * u_J * win_size\r\n\r\n        cc = cross * cross / (I_var * J_var + self.eps)\r\n\r\n        # return mean cc for each entry in batch\r\n        return tf.reduce_mean(K.batch_flatten(cc), axis=-1)\r\n\r\n    def loss(self, y_true, y_pred):\r\n        return - self.ncc(y_true, y_pred)\r\n```\r\n\r\nI haven't assessed this super carefully or critically, but numerical tests worked fine. If it looks correct, I can send a PR.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846489878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846635786","html_url":"https://github.com/voxelmorph/voxelmorph/issues/313#issuecomment-846635786","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/313","id":846635786,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjYzNTc4Ng==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-05-23T22:45:47Z","updated_at":"2021-05-23T22:45:47Z","author_association":"COLLABORATOR","body":"Thanks so much @neel-dey  this looks great. Feel free to do a PR and we'll evaluate.\r\n\r\n@brf2 I think you were playing with mutli-channel NCC at some point, does this sound ok to you?","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846635786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":4783813737,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc4MzgxMzczNw==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4783813737","actor":{"login":"brf2","id":28354037,"node_id":"MDQ6VXNlcjI4MzU0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/28354037?v=4","gravatar_id":"","url":"https://api.github.com/users/brf2","html_url":"https://github.com/brf2","followers_url":"https://api.github.com/users/brf2/followers","following_url":"https://api.github.com/users/brf2/following{/other_user}","gists_url":"https://api.github.com/users/brf2/gists{/gist_id}","starred_url":"https://api.github.com/users/brf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brf2/subscriptions","organizations_url":"https://api.github.com/users/brf2/orgs","repos_url":"https://api.github.com/users/brf2/repos","events_url":"https://api.github.com/users/brf2/events{/privacy}","received_events_url":"https://api.github.com/users/brf2/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-23T22:45:48Z","performed_via_github_app":null},{"id":4783813738,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3ODM4MTM3Mzg=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4783813738","actor":{"login":"brf2","id":28354037,"node_id":"MDQ6VXNlcjI4MzU0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/28354037?v=4","gravatar_id":"","url":"https://api.github.com/users/brf2","html_url":"https://github.com/brf2","followers_url":"https://api.github.com/users/brf2/followers","following_url":"https://api.github.com/users/brf2/following{/other_user}","gists_url":"https://api.github.com/users/brf2/gists{/gist_id}","starred_url":"https://api.github.com/users/brf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brf2/subscriptions","organizations_url":"https://api.github.com/users/brf2/orgs","repos_url":"https://api.github.com/users/brf2/repos","events_url":"https://api.github.com/users/brf2/events{/privacy}","received_events_url":"https://api.github.com/users/brf2/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-23T22:45:48Z","performed_via_github_app":null},{"id":4783813740,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc4MzgxMzc0MA==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4783813740","actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-23T22:45:48Z","performed_via_github_app":null},{"id":4783813742,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3ODM4MTM3NDI=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4783813742","actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-23T22:45:48Z","performed_via_github_app":null},{"actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"created_at":"2021-05-23T23:34:29Z","updated_at":"2021-05-23T23:34:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/314","repository_url":"https://api.github.com/repos/voxelmorph/voxelmorph","labels_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/314/labels{/name}","comments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/314/comments","events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/314/events","html_url":"https://github.com/voxelmorph/voxelmorph/pull/314","id":899133900,"node_id":"MDExOlB1bGxSZXF1ZXN0NjUwODc2MDk2","number":314,"title":"Computing multi-channel NCC over channels individually","user":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-05-23T23:34:28Z","updated_at":"2021-05-23T23:34:28Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":133389787,"node_id":"MDEwOlJlcG9zaXRvcnkxMzMzODk3ODc=","name":"voxelmorph","full_name":"voxelmorph/voxelmorph","private":false,"owner":{"login":"voxelmorph","id":38796681,"node_id":"MDQ6VXNlcjM4Nzk2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/38796681?v=4","gravatar_id":"","url":"https://api.github.com/users/voxelmorph","html_url":"https://github.com/voxelmorph","followers_url":"https://api.github.com/users/voxelmorph/followers","following_url":"https://api.github.com/users/voxelmorph/following{/other_user}","gists_url":"https://api.github.com/users/voxelmorph/gists{/gist_id}","starred_url":"https://api.github.com/users/voxelmorph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voxelmorph/subscriptions","organizations_url":"https://api.github.com/users/voxelmorph/orgs","repos_url":"https://api.github.com/users/voxelmorph/repos","events_url":"https://api.github.com/users/voxelmorph/events{/privacy}","received_events_url":"https://api.github.com/users/voxelmorph/received_events","type":"User","site_admin":false},"html_url":"https://github.com/voxelmorph/voxelmorph","description":"Unsupervised Learning for Image Registration","fork":false,"url":"https://api.github.com/repos/voxelmorph/voxelmorph","forks_url":"https://api.github.com/repos/voxelmorph/voxelmorph/forks","keys_url":"https://api.github.com/repos/voxelmorph/voxelmorph/keys{/key_id}","collaborators_url":"https://api.github.com/repos/voxelmorph/voxelmorph/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/voxelmorph/voxelmorph/teams","hooks_url":"https://api.github.com/repos/voxelmorph/voxelmorph/hooks","issue_events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events{/number}","events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/events","assignees_url":"https://api.github.com/repos/voxelmorph/voxelmorph/assignees{/user}","branches_url":"https://api.github.com/repos/voxelmorph/voxelmorph/branches{/branch}","tags_url":"https://api.github.com/repos/voxelmorph/voxelmorph/tags","blobs_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/refs{/sha}","trees_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/trees{/sha}","statuses_url":"https://api.github.com/repos/voxelmorph/voxelmorph/statuses/{sha}","languages_url":"https://api.github.com/repos/voxelmorph/voxelmorph/languages","stargazers_url":"https://api.github.com/repos/voxelmorph/voxelmorph/stargazers","contributors_url":"https://api.github.com/repos/voxelmorph/voxelmorph/contributors","subscribers_url":"https://api.github.com/repos/voxelmorph/voxelmorph/subscribers","subscription_url":"https://api.github.com/repos/voxelmorph/voxelmorph/subscription","commits_url":"https://api.github.com/repos/voxelmorph/voxelmorph/commits{/sha}","git_commits_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/commits{/sha}","comments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/comments{/number}","issue_comment_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments{/number}","contents_url":"https://api.github.com/repos/voxelmorph/voxelmorph/contents/{+path}","compare_url":"https://api.github.com/repos/voxelmorph/voxelmorph/compare/{base}...{head}","merges_url":"https://api.github.com/repos/voxelmorph/voxelmorph/merges","archive_url":"https://api.github.com/repos/voxelmorph/voxelmorph/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/voxelmorph/voxelmorph/downloads","issues_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues{/number}","pulls_url":"https://api.github.com/repos/voxelmorph/voxelmorph/pulls{/number}","milestones_url":"https://api.github.com/repos/voxelmorph/voxelmorph/milestones{/number}","notifications_url":"https://api.github.com/repos/voxelmorph/voxelmorph/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/voxelmorph/voxelmorph/labels{/name}","releases_url":"https://api.github.com/repos/voxelmorph/voxelmorph/releases{/id}","deployments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/deployments","created_at":"2018-05-14T16:19:41Z","updated_at":"2023-01-18T17:59:57Z","pushed_at":"2023-01-17T12:51:17Z","git_url":"git://github.com/voxelmorph/voxelmorph.git","ssh_url":"git@github.com:voxelmorph/voxelmorph.git","clone_url":"https://github.com/voxelmorph/voxelmorph.git","svn_url":"https://github.com/voxelmorph/voxelmorph","homepage":"","size":132194,"stargazers_count":1715,"watchers_count":1715,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":511,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":93,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","diffeomorphism","image-alignment","image-registration","machine-learning","optical-flow","probabilistic","unsupervised-learning"],"visibility":"public","forks":511,"open_issues":93,"watchers":1715,"default_branch":"dev","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/pulls/314","html_url":"https://github.com/voxelmorph/voxelmorph/pull/314","diff_url":"https://github.com/voxelmorph/voxelmorph/pull/314.diff","patch_url":"https://github.com/voxelmorph/voxelmorph/pull/314.patch","merged_at":null},"body":"This should resolve #313. Thanks for the review!\r\n\r\nWhile we're here, there are use-cases that weigh one modality more than others (e.g., T1 NCC weighed higher than FA NCC is common in DWI analysis). This is straightforward to add with an optional `weights` arg, but there may be some concerns with mild feature creep. Let me know if I should add it. :)","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/314/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846643509","html_url":"https://github.com/voxelmorph/voxelmorph/issues/313#issuecomment-846643509","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/313","id":846643509,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjY0MzUwOQ==","user":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"created_at":"2021-05-23T23:37:01Z","updated_at":"2021-05-23T23:37:01Z","author_association":"CONTRIBUTOR","body":"Great, opened PR #314.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846643509/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846673984","html_url":"https://github.com/voxelmorph/voxelmorph/issues/313#issuecomment-846673984","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/313","id":846673984,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjY3Mzk4NA==","user":{"login":"brf2","id":28354037,"node_id":"MDQ6VXNlcjI4MzU0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/28354037?v=4","gravatar_id":"","url":"https://api.github.com/users/brf2","html_url":"https://github.com/brf2","followers_url":"https://api.github.com/users/brf2/followers","following_url":"https://api.github.com/users/brf2/following{/other_user}","gists_url":"https://api.github.com/users/brf2/gists{/gist_id}","starred_url":"https://api.github.com/users/brf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brf2/subscriptions","organizations_url":"https://api.github.com/users/brf2/orgs","repos_url":"https://api.github.com/users/brf2/repos","events_url":"https://api.github.com/users/brf2/events{/privacy}","received_events_url":"https://api.github.com/users/brf2/received_events","type":"User","site_admin":false},"created_at":"2021-05-24T01:35:50Z","updated_at":"2021-05-24T02:20:26Z","author_association":"COLLABORATOR","body":"Sure. I don’t think I have used multi-channel NCC yet, but certainly we will want it!\r\n\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/846673984/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brf2","id":28354037,"node_id":"MDQ6VXNlcjI4MzU0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/28354037?v=4","gravatar_id":"","url":"https://api.github.com/users/brf2","html_url":"https://github.com/brf2","followers_url":"https://api.github.com/users/brf2/followers","following_url":"https://api.github.com/users/brf2/following{/other_user}","gists_url":"https://api.github.com/users/brf2/gists{/gist_id}","starred_url":"https://api.github.com/users/brf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brf2/subscriptions","organizations_url":"https://api.github.com/users/brf2/orgs","repos_url":"https://api.github.com/users/brf2/repos","events_url":"https://api.github.com/users/brf2/events{/privacy}","received_events_url":"https://api.github.com/users/brf2/received_events","type":"User","site_admin":false}},{"id":4784041225,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc4NDA0MTIyNQ==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4784041225","actor":{"login":"brf2","id":28354037,"node_id":"MDQ6VXNlcjI4MzU0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/28354037?v=4","gravatar_id":"","url":"https://api.github.com/users/brf2","html_url":"https://github.com/brf2","followers_url":"https://api.github.com/users/brf2/followers","following_url":"https://api.github.com/users/brf2/following{/other_user}","gists_url":"https://api.github.com/users/brf2/gists{/gist_id}","starred_url":"https://api.github.com/users/brf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brf2/subscriptions","organizations_url":"https://api.github.com/users/brf2/orgs","repos_url":"https://api.github.com/users/brf2/repos","events_url":"https://api.github.com/users/brf2/events{/privacy}","received_events_url":"https://api.github.com/users/brf2/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-24T01:35:50Z","performed_via_github_app":null},{"id":4784041226,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3ODQwNDEyMjY=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4784041226","actor":{"login":"brf2","id":28354037,"node_id":"MDQ6VXNlcjI4MzU0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/28354037?v=4","gravatar_id":"","url":"https://api.github.com/users/brf2","html_url":"https://github.com/brf2","followers_url":"https://api.github.com/users/brf2/followers","following_url":"https://api.github.com/users/brf2/following{/other_user}","gists_url":"https://api.github.com/users/brf2/gists{/gist_id}","starred_url":"https://api.github.com/users/brf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brf2/subscriptions","organizations_url":"https://api.github.com/users/brf2/orgs","repos_url":"https://api.github.com/users/brf2/repos","events_url":"https://api.github.com/users/brf2/events{/privacy}","received_events_url":"https://api.github.com/users/brf2/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-24T01:35:50Z","performed_via_github_app":null},{"id":4784041227,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc4NDA0MTIyNw==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4784041227","actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-24T01:35:50Z","performed_via_github_app":null},{"id":4784041228,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3ODQwNDEyMjg=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4784041228","actor":{"login":"neel-dey","id":46202852,"node_id":"MDQ6VXNlcjQ2MjAyODUy","avatar_url":"https://avatars.githubusercontent.com/u/46202852?v=4","gravatar_id":"","url":"https://api.github.com/users/neel-dey","html_url":"https://github.com/neel-dey","followers_url":"https://api.github.com/users/neel-dey/followers","following_url":"https://api.github.com/users/neel-dey/following{/other_user}","gists_url":"https://api.github.com/users/neel-dey/gists{/gist_id}","starred_url":"https://api.github.com/users/neel-dey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neel-dey/subscriptions","organizations_url":"https://api.github.com/users/neel-dey/orgs","repos_url":"https://api.github.com/users/neel-dey/repos","events_url":"https://api.github.com/users/neel-dey/events{/privacy}","received_events_url":"https://api.github.com/users/neel-dey/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-24T01:35:50Z","performed_via_github_app":null}]