[{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/623796698","html_url":"https://github.com/voxelmorph/voxelmorph/issues/184#issuecomment-623796698","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/184","id":623796698,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzc5NjY5OA==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2020-05-05T01:57:24Z","updated_at":"2020-05-05T01:57:24Z","author_association":"COLLABORATOR","body":"Hi @zzx332 \r\n\r\nSorry, there are a whole slew of questions there\r\n\r\nCan you register MR to CT? Sure, I would encourage you to look at https://arxiv.org/abs/2004.10282 and try our recent code in the redesign branch, perhaps trying an affine registration first.\r\n\r\nCan you register CT to CT images of liver? Sure, for that I don't think you need NMI (NCC should work since they are both CT). I'm not quite sure why you think that the fields are overfitting. Did you try visualizing results?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/623796698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":3302334819,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMwMjMzNDgxOQ==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/3302334819","actor":{"login":"zzx332","id":45729525,"node_id":"MDQ6VXNlcjQ1NzI5NTI1","avatar_url":"https://avatars.githubusercontent.com/u/45729525?v=4","gravatar_id":"","url":"https://api.github.com/users/zzx332","html_url":"https://github.com/zzx332","followers_url":"https://api.github.com/users/zzx332/followers","following_url":"https://api.github.com/users/zzx332/following{/other_user}","gists_url":"https://api.github.com/users/zzx332/gists{/gist_id}","starred_url":"https://api.github.com/users/zzx332/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzx332/subscriptions","organizations_url":"https://api.github.com/users/zzx332/orgs","repos_url":"https://api.github.com/users/zzx332/repos","events_url":"https://api.github.com/users/zzx332/events{/privacy}","received_events_url":"https://api.github.com/users/zzx332/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-05T01:57:24Z","performed_via_github_app":null},{"id":3302334821,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMDIzMzQ4MjE=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/3302334821","actor":{"login":"zzx332","id":45729525,"node_id":"MDQ6VXNlcjQ1NzI5NTI1","avatar_url":"https://avatars.githubusercontent.com/u/45729525?v=4","gravatar_id":"","url":"https://api.github.com/users/zzx332","html_url":"https://github.com/zzx332","followers_url":"https://api.github.com/users/zzx332/followers","following_url":"https://api.github.com/users/zzx332/following{/other_user}","gists_url":"https://api.github.com/users/zzx332/gists{/gist_id}","starred_url":"https://api.github.com/users/zzx332/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzx332/subscriptions","organizations_url":"https://api.github.com/users/zzx332/orgs","repos_url":"https://api.github.com/users/zzx332/repos","events_url":"https://api.github.com/users/zzx332/events{/privacy}","received_events_url":"https://api.github.com/users/zzx332/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-05T01:57:24Z","performed_via_github_app":null},{"id":3302335006,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzMDIzMzUwMDY=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/3302335006","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-05T01:57:31Z","label":{"name":"voxelmorph","color":"1d76db"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/624480579","html_url":"https://github.com/voxelmorph/voxelmorph/issues/184#issuecomment-624480579","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/184","id":624480579,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDQ4MDU3OQ==","user":{"login":"zzx332","id":45729525,"node_id":"MDQ6VXNlcjQ1NzI5NTI1","avatar_url":"https://avatars.githubusercontent.com/u/45729525?v=4","gravatar_id":"","url":"https://api.github.com/users/zzx332","html_url":"https://github.com/zzx332","followers_url":"https://api.github.com/users/zzx332/followers","following_url":"https://api.github.com/users/zzx332/following{/other_user}","gists_url":"https://api.github.com/users/zzx332/gists{/gist_id}","starred_url":"https://api.github.com/users/zzx332/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzx332/subscriptions","organizations_url":"https://api.github.com/users/zzx332/orgs","repos_url":"https://api.github.com/users/zzx332/repos","events_url":"https://api.github.com/users/zzx332/events{/privacy}","received_events_url":"https://api.github.com/users/zzx332/received_events","type":"User","site_admin":false},"created_at":"2020-05-06T07:10:09Z","updated_at":"2020-05-06T07:45:42Z","author_association":"NONE","body":"Here is my result on MR to CT.the first is mi_loss，mi_loss=-10*globalmi(If set to mi_loss=-globalmi,miloss does not decrease).The second one is smooth_loss.Loss = mi_loss+smooth_loss\r\n\r\nMi_loss:https://user-images.githubusercontent.com/45729525/81144615-08e8b400-8fa7-11ea-8c3e-e33d36cf8190.png\r\nsmooth_loss:https://user-images.githubusercontent.com/45729525/81144674-2584ec00-8fa7-11ea-9b95-d844c5842598.png\r\nIt looks like globalloss is not converging.(decreases too much,from -0.02 to -0.35)\r\nsmooth_loss first decreases and then increases.\r\nHere is dice on the test set.It looks ok, but the warped image is bad.\r\nval_dice:https://user-images.githubusercontent.com/45729525/81145967-f58b1800-8fa9-11ea-88c4-2643784840e6.png\r\nimg_fixed:https://user-images.githubusercontent.com/45729525/81146587-2ddf2600-8fab-11ea-9aca-071f6256059e.jpg\r\nimg_moving:https://user-images.githubusercontent.com/45729525/81146583-2a4b9f00-8fab-11ea-962c-4ec433ff3cd6.jpg\r\nimg_warped:https://user-images.githubusercontent.com/45729525/81146166-531f6480-8faa-11ea-8130-bada6792eb4f.jpg\r\nIs it caused by my loss function setting?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/624480579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzx332","id":45729525,"node_id":"MDQ6VXNlcjQ1NzI5NTI1","avatar_url":"https://avatars.githubusercontent.com/u/45729525?v=4","gravatar_id":"","url":"https://api.github.com/users/zzx332","html_url":"https://github.com/zzx332","followers_url":"https://api.github.com/users/zzx332/followers","following_url":"https://api.github.com/users/zzx332/following{/other_user}","gists_url":"https://api.github.com/users/zzx332/gists{/gist_id}","starred_url":"https://api.github.com/users/zzx332/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzx332/subscriptions","organizations_url":"https://api.github.com/users/zzx332/orgs","repos_url":"https://api.github.com/users/zzx332/repos","events_url":"https://api.github.com/users/zzx332/events{/privacy}","received_events_url":"https://api.github.com/users/zzx332/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/624647690","html_url":"https://github.com/voxelmorph/voxelmorph/issues/184#issuecomment-624647690","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/184","id":624647690,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDY0NzY5MA==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2020-05-06T13:25:37Z","updated_at":"2020-05-06T13:25:37Z","author_association":"COLLABORATOR","body":"It looks to me like you have not run the algorithm for long enough, as it is still converging.\r\n\r\nAlthough we haven't played with the MI loss too much, setting the mi_loss to 10 is too larger I think, you should definitely try to make it work with 1. I don't know what you mean by 'does not decrease' -- can you show a screenshot? If it decreases with 10 I'd be very surprised if it doesn't decrease with 1. ","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/624647690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/626183907","html_url":"https://github.com/voxelmorph/voxelmorph/issues/184#issuecomment-626183907","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/184","id":626183907,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjE4MzkwNw==","user":{"login":"zzx332","id":45729525,"node_id":"MDQ6VXNlcjQ1NzI5NTI1","avatar_url":"https://avatars.githubusercontent.com/u/45729525?v=4","gravatar_id":"","url":"https://api.github.com/users/zzx332","html_url":"https://github.com/zzx332","followers_url":"https://api.github.com/users/zzx332/followers","following_url":"https://api.github.com/users/zzx332/following{/other_user}","gists_url":"https://api.github.com/users/zzx332/gists{/gist_id}","starred_url":"https://api.github.com/users/zzx332/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzx332/subscriptions","organizations_url":"https://api.github.com/users/zzx332/orgs","repos_url":"https://api.github.com/users/zzx332/repos","events_url":"https://api.github.com/users/zzx332/events{/privacy}","received_events_url":"https://api.github.com/users/zzx332/received_events","type":"User","site_admin":false},"created_at":"2020-05-09T14:24:32Z","updated_at":"2020-05-09T14:26:05Z","author_association":"NONE","body":"Thank you for your kindful help！\r\nI run the algorithm for long enough,but it seems that mi_loss has not fully converged:\r\nhttps://user-images.githubusercontent.com/45729525/81475749-a6124980-9240-11ea-9c7f-11cca63048c5.png\r\nAt the same time my smoothloss has been rising：\r\nhttps://user-images.githubusercontent.com/45729525/81475774-dce85f80-9240-11ea-990c-974230d8a0b1.png\r\nLoss=-mi_loss+0.1smoothloss\r\nIs this due to the big difference between my data（ct MRI liver）？\r\nMRI：https://user-images.githubusercontent.com/45729525/81475842-2cc72680-9241-11ea-9aab-4dbf7a8d8da5.png\r\nCT：https://user-images.githubusercontent.com/45729525/81475854-39e41580-9241-11ea-8f24-2b6705f2f657.png\r\nI read your paper on multimodality:https://arxiv.org/abs/2004.10282\r\nVery good paper.The article mentions that the code is in the branch,but I did not find the code implementation from the branch.\r\nCan you share the T2 atlas ？I don't know how to build a qualified T2 altas with segmentation.\r\nSorry for my graduation project does not have enough data...","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/626183907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzx332","id":45729525,"node_id":"MDQ6VXNlcjQ1NzI5NTI1","avatar_url":"https://avatars.githubusercontent.com/u/45729525?v=4","gravatar_id":"","url":"https://api.github.com/users/zzx332","html_url":"https://github.com/zzx332","followers_url":"https://api.github.com/users/zzx332/followers","following_url":"https://api.github.com/users/zzx332/following{/other_user}","gists_url":"https://api.github.com/users/zzx332/gists{/gist_id}","starred_url":"https://api.github.com/users/zzx332/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzx332/subscriptions","organizations_url":"https://api.github.com/users/zzx332/orgs","repos_url":"https://api.github.com/users/zzx332/repos","events_url":"https://api.github.com/users/zzx332/events{/privacy}","received_events_url":"https://api.github.com/users/zzx332/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/672053828","html_url":"https://github.com/voxelmorph/voxelmorph/issues/184#issuecomment-672053828","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/184","id":672053828,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjA1MzgyOA==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2020-08-11T16:07:10Z","updated_at":"2020-08-11T16:07:10Z","author_association":"COLLABORATOR","body":"Hi @zzx332 \r\n\r\nSorry for the delay. We've been working hard on the new version of the vxm library. \r\nCould you check if the new version, in the [`master` branch](https://github.com/voxelmorph/voxelmorph/tree/master) leads to the same issues?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/672053828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":3643930369,"node_id":"MDExOkNsb3NlZEV2ZW50MzY0MzkzMDM2OQ==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/3643930369","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-08-11T16:07:10Z","state_reason":null,"performed_via_github_app":null},{"id":3643930372,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzY0MzkzMDM3Mg==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/3643930372","actor":{"login":"zzx332","id":45729525,"node_id":"MDQ6VXNlcjQ1NzI5NTI1","avatar_url":"https://avatars.githubusercontent.com/u/45729525?v=4","gravatar_id":"","url":"https://api.github.com/users/zzx332","html_url":"https://github.com/zzx332","followers_url":"https://api.github.com/users/zzx332/followers","following_url":"https://api.github.com/users/zzx332/following{/other_user}","gists_url":"https://api.github.com/users/zzx332/gists{/gist_id}","starred_url":"https://api.github.com/users/zzx332/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzx332/subscriptions","organizations_url":"https://api.github.com/users/zzx332/orgs","repos_url":"https://api.github.com/users/zzx332/repos","events_url":"https://api.github.com/users/zzx332/events{/privacy}","received_events_url":"https://api.github.com/users/zzx332/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-11T16:07:10Z","performed_via_github_app":null},{"id":3643930378,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2NDM5MzAzNzg=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/3643930378","actor":{"login":"zzx332","id":45729525,"node_id":"MDQ6VXNlcjQ1NzI5NTI1","avatar_url":"https://avatars.githubusercontent.com/u/45729525?v=4","gravatar_id":"","url":"https://api.github.com/users/zzx332","html_url":"https://github.com/zzx332","followers_url":"https://api.github.com/users/zzx332/followers","following_url":"https://api.github.com/users/zzx332/following{/other_user}","gists_url":"https://api.github.com/users/zzx332/gists{/gist_id}","starred_url":"https://api.github.com/users/zzx332/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzx332/subscriptions","organizations_url":"https://api.github.com/users/zzx332/orgs","repos_url":"https://api.github.com/users/zzx332/repos","events_url":"https://api.github.com/users/zzx332/events{/privacy}","received_events_url":"https://api.github.com/users/zzx332/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-11T16:07:10Z","performed_via_github_app":null}]