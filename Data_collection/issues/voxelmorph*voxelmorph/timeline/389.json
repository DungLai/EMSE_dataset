[{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1025329482","html_url":"https://github.com/voxelmorph/voxelmorph/issues/389#issuecomment-1025329482","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/389","id":1025329482,"node_id":"IC_kwDOB_Nd2849HUlK","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2022-01-31T02:52:12Z","updated_at":"2022-01-31T02:52:12Z","author_association":"COLLABORATOR","body":"Hi @codeenthusiast ,\r\n\r\nI believe the answer is yes -- our template (atlas) building tools should apply to your dataset of 30-50 CTs. Just to be sure, what does surgical signify here? I suspect this script should help you: https://github.com/voxelmorph/voxelmorph/blob/dev/scripts/tf/train_template.py\r\n\r\nWe haven't built CT atlases, so it might be useful to know a bit about your data, how diverse they are, etc. \r\n\r\nOur atlas building tutorial might also help: https://colab.research.google.com/drive/1SkQbrWTQHpQFrG4J2WoBgGZC9yAzUas2?usp=sharing","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1025329482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":5977773878,"node_id":"MEE_lADOB_Nd285CsPFXzwAAAAFkTZc2","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/5977773878","actor":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-01-31T02:52:13Z","performed_via_github_app":null},{"id":5977773880,"node_id":"SE_lADOB_Nd285CsPFXzwAAAAFkTZc4","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/5977773880","actor":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-01-31T02:52:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1025332683","html_url":"https://github.com/voxelmorph/voxelmorph/issues/389#issuecomment-1025332683","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/389","id":1025332683,"node_id":"IC_kwDOB_Nd2849HVXL","user":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false},"created_at":"2022-01-31T03:03:12Z","updated_at":"2022-01-31T03:03:12Z","author_association":"NONE","body":"Thanks Adrian for your reply! Sorry for the confusion, they are just fine-cut head CT's. Primarily, we are interested in registering small structures in the head such as inferior turbinate (image below).\r\n\r\nWe would like to build an atlas to serve as our population representation. From here, we were hoping to 1) develop SSM's to showcase the variability of a particular structure in the population and 2) segment the atlas, register a new image to the atlas, and then perform label propagation.\r\n\r\n![](https://user-images.githubusercontent.com/6239462/148625510-870c23a3-3be9-4ad8-aa85-3e02c1c55b70.png)\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1025332683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1025334388","html_url":"https://github.com/voxelmorph/voxelmorph/issues/389#issuecomment-1025334388","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/389","id":1025334388,"node_id":"IC_kwDOB_Nd2849HVx0","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2022-01-31T03:06:54Z","updated_at":"2022-01-31T03:06:54Z","author_association":"COLLABORATOR","body":"Got it, makes sense. You should be able to do with with vxm.\r\n\r\nI'd recommending going through the tutorial, it gives an idea of our atlas building frameworks with simplistic examples.\r\n\r\nIt would be optimal if your data was **roughly** affinely in the same space already. The most challenging part will be to tune the loss to match your dataset. I haven't worked with CT too much, but normalizing the data to be between [0-1] by some fixed hausdorff unit and using our standard script might be a way to start -- another one I might suggest is to just extract  the middle slice (just for quick experimentation) and building an atlas for that. It would enable you to quickly see what's possible and tune your loss. ","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1025334388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1025336033","html_url":"https://github.com/voxelmorph/voxelmorph/issues/389#issuecomment-1025336033","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/389","id":1025336033,"node_id":"IC_kwDOB_Nd2849HWLh","user":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false},"created_at":"2022-01-31T03:09:59Z","updated_at":"2022-01-31T03:09:59Z","author_association":"NONE","body":"Sounds great, thanks again Adrian. Will give that a try and post here again if any issues.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1025336033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false}},{"id":5977815198,"node_id":"CE_lADOB_Nd285CsPFXzwAAAAFkTjie","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/5977815198","actor":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-01-31T03:09:59Z","state_reason":null,"performed_via_github_app":null},{"id":6004701970,"node_id":"REE_lADOB_Nd285CsPFXzwAAAAFl6HsS","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/6004701970","actor":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2022-02-03T18:04:06Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1029262513","html_url":"https://github.com/voxelmorph/voxelmorph/issues/389#issuecomment-1029262513","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/389","id":1029262513,"node_id":"IC_kwDOB_Nd2849WUyx","user":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false},"created_at":"2022-02-03T18:09:42Z","updated_at":"2022-02-03T18:09:42Z","author_association":"NONE","body":"Hi Adrian, just following up on the suggested resources. I had a look at the train_template. From my understanding, I need to pass in a set of images to img_list and call the read_file_list function. Thereafter, the vxm.networks.TemplateCreation function would generate my template which would technically be the average of all my CT's. Do I have the correct understanding?\r\n\r\nTwo other questions:\r\n1) I am working with 3D slicer. I know the accepted file types are NIFTI or .npz, but does it support .nrrd?\r\n2) By unconditional template creation, I assume this means unlabelled images? \r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/1029262513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false}},{"id":6014329886,"node_id":"CE_lADOB_Nd285CsPFXzwAAAAFme2Qe","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/6014329886","actor":{"login":"codeenthusiast","id":6239462,"node_id":"MDQ6VXNlcjYyMzk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6239462?v=4","gravatar_id":"","url":"https://api.github.com/users/codeenthusiast","html_url":"https://github.com/codeenthusiast","followers_url":"https://api.github.com/users/codeenthusiast/followers","following_url":"https://api.github.com/users/codeenthusiast/following{/other_user}","gists_url":"https://api.github.com/users/codeenthusiast/gists{/gist_id}","starred_url":"https://api.github.com/users/codeenthusiast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeenthusiast/subscriptions","organizations_url":"https://api.github.com/users/codeenthusiast/orgs","repos_url":"https://api.github.com/users/codeenthusiast/repos","events_url":"https://api.github.com/users/codeenthusiast/events{/privacy}","received_events_url":"https://api.github.com/users/codeenthusiast/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-02-05T22:11:21Z","state_reason":null,"performed_via_github_app":null}]