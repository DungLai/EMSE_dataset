[{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/766460752","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-766460752","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":766460752,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NjQ2MDc1Mg==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-01-24T23:36:52Z","updated_at":"2021-01-24T23:36:52Z","author_association":"COLLABORATOR","body":"Hi @boveiri \r\n\r\n> There are some problems with the Transformation Matrices issued by the Voxelmorph\r\n\r\nI think the problem is how you're using them. There's a couple of places the problem could be:\r\n\r\n- the SpatialTransformer layer takes a displacement affine matrix (i.e. without the identity map), and adds the identity map to it during the transform. So I'd recommend first adding the identity 2x2 matrix to the affine.  \r\n- The affine matrix is the one that warps the moving pixels to the fixed space, which means that the resulting field is in the space of the fixed image (i.e. it tells us for every location in the fixed space where to grab pixels from the moving image), so in a sense this deformation is backwards from what you expect. To move points from the moving to the fixed, you therefore need to first take the inverse affine.  \r\n\r\nso you need to add identity, invert, and then apply this to the annotations.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/766460752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":4243076724,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI0MzA3NjcyNA==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4243076724","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-01-24T23:36:52Z","performed_via_github_app":null},{"id":4243076725,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyNDMwNzY3MjU=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4243076725","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-01-24T23:36:52Z","performed_via_github_app":null},{"id":4243077006,"node_id":"MDEyOkxhYmVsZWRFdmVudDQyNDMwNzcwMDY=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4243077006","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-01-24T23:37:09Z","label":{"name":"voxelmorph","color":"1d76db"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/767069470","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-767069470","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":767069470,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NzA2OTQ3MA==","user":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"created_at":"2021-01-25T19:46:50Z","updated_at":"2021-01-25T19:46:50Z","author_association":"NONE","body":"Dear Adrian, many thanks for your guidance, though I am somewhat confused with adding the identity 2x2 matrix to the transformation one because the transformation matrix is a 2x3 matrix and cannot be added with a 2x2 matrix!\r\n\r\nBut if I have properly understood, I need to add a [0, 0, 1] row as the third row of the transformation matrix outputted by the Voxelmorph so that I have the following transformation matrix for the image in my previous comment:\r\n\r\nNetwork_Output = [0.05199242, -0.07193471, -2.9393158, 0.11451177, -0.01375515, 12.57087] ->2x3\r\n\r\nValid_Transformation_Matrix = [[0.05199242, -0.07193471, -2.9393158], [0.11451177, -0.01375515, 12.57087], [0, 0 ,1]] -> 3x3\r\n\r\nAfterwards I used TFM_inv = np.linalg.inv(np.array(Valid_Transformation_Matrix)) to produce the inverted matrix that gave me the following array:\r\n\r\nTFM_inv = [[-1.82860552,    9.56297878, -125.58981208], [-15.22316036,    6.91185672, -131.6337281 ], [0.,     0.,    1.]] -> 3x3\r\n\r\nbut when I multiply a location of annotation i.e. Landmark_Location = [95, 134] -> 2x1  adding 1 as the third row -> [95, 134, 1] -> 3x1\r\n\r\nTFM_inv @ [95, 134, 1] = [982, -651, 1] !!! where both the fix and moving image are in (256, 256, 1) shape, and the warped image outputted by the SpatialTransform show a very light transformation between the moving and warped images.\r\n\r\nPlease help me if I have any mistakes in the computations.\r\n   \r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/767069470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/767116201","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-767116201","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":767116201,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NzExNjIwMQ==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-01-25T21:13:03Z","updated_at":"2021-01-25T21:13:03Z","author_association":"COLLABORATOR","body":"@boveiri I meant add identity to the non-translation part of the affine:\r\n\r\n```\r\naff = np.array([[0.05199242, -0.07193471, -2.9393158], [0.11451177, -0.01375515, 12.57087], [0, 0, 1]])\r\naff[:2, :2] += np.eye(2)\r\ninv_aff = np.linalg.inv(aff)\r\ninv_aff @ [95, 134, 1] # gives array([100.71829837, 111.42841393,   1.        ])\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/767116201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":4247741883,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI0Nzc0MTg4Mw==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4247741883","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-01-25T21:13:03Z","performed_via_github_app":null},{"id":4247741885,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyNDc3NDE4ODU=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4247741885","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-01-25T21:13:03Z","performed_via_github_app":null},{"id":4252960349,"node_id":"MDExOkNsb3NlZEV2ZW50NDI1Mjk2MDM0OQ==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4252960349","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-01-26T22:08:09Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770415215","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-770415215","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":770415215,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDQxNTIxNQ==","user":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"created_at":"2021-01-31T17:11:57Z","updated_at":"2021-01-31T17:19:03Z","author_association":"NONE","body":"Dear Adrian, I don't know how to thank you! Your help is highly appreciated.\r\n\r\nBut it seems there are somethings more than adding 2x2 Identity matrix. For example, here is the warped MR image transformed based on the following Affine transformation matrix by the SpatialTransformer layer:\r\n\r\nTFM=np.array([[ 1.0169007e-01,  4.2508245e-02,  1.5823326e+01], [-3.9284952e-02, -8.4735174e-03,  3.4517705e+00], [0, 0, 1]])\r\n\r\n![WhatsApp Image 2021-01-31 at 20 34 35](https://user-images.githubusercontent.com/52887476/106391742-2ba7dc00-6404-11eb-80ea-8d82ee6f86f9.jpeg)\r\n\r\n(In this plot, the leftmost subplot is the original MRI and the rightmost one is the warped one produced by the SpatialTransformer layer)\r\n\r\nBut when we directly transform the image using matrix multiplication or PIL.Image.transform function, we get the following plot:\r\n\r\nTFM[:2, :2] += np.eye(2)\r\nTFM_inv=np.linalg.inv(TFM)\r\ndMR1 = dMR1.transform((size, size),Image.AFFINE, data=TFM_inv.flatten()[:6], resample=Image.NEAREST)\r\n\r\n![07122-1](https://user-images.githubusercontent.com/52887476/106391609-87be3080-6403-11eb-8d50-965c85dfcb6b.png)\r\n\r\n(annotations are transformed using simple @ (matrix multiplication operator), and show that the transformed image produced by PIL.Image.transform is correctly transformed) \r\nI found that there are sensible errors in image translations and some in rotations.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770415215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770421539","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-770421539","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":770421539,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDQyMTUzOQ==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-01-31T17:53:11Z","updated_at":"2021-01-31T17:53:11Z","author_association":"COLLABORATOR","body":"@boveiri \r\n\r\nCan you show the *entire* code in a code block? How do you transform the image and the annotations with `@` or with PIL ? Otherwise I'm not quite sure of the details. There's a few issues that have to do with space choices -- for example, the default in voxelmorph is to affine transform about the center of the image (not top-left corner). Other systems might require an affine matrix with respect to the top left corner. Also, just a reminder that to warp the annotations you need to use `TFM_inv`, but to warp the image (the same image that the anotations are on!) you need to use `TFM`. This is because of how interpolation algorithms work -- if you need to warp an entire grid, you need the inverse transform of warping specific precise points.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770421539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":4270579294,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI3MDU3OTI5NA==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4270579294","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-01-31T17:53:11Z","performed_via_github_app":null},{"id":4270579296,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyNzA1NzkyOTY=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4270579296","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-01-31T17:53:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770450035","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-770450035","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":770450035,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDQ1MDAzNQ==","user":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"created_at":"2021-01-31T21:00:53Z","updated_at":"2021-01-31T21:03:16Z","author_association":"NONE","body":"Thank you for your timely response. Yes, I use TFM for calculating the new locations of annotations in the warped image, while I use TFM_inv  for PIL.Image.transform function since this function use the inverted of the transformation matrix (I am confused as it is the inverse of what you told me!). The source code is as follows:\r\n\r\n```\r\npoints=np.array([[128, 147, 1], [128, 120, 1], [128, 172, 1], [128, 61, 1], [128, 222, 1], [197, 146, 1], [62, 146, 1]]) \r\nTFM=np.array([[ 1.0169007e-01,  4.2508245e-02,  1.5823326e+01], [-3.9284952e-02, -8.4735174e-03,  3.4517705e+00], [0, 0, 1]])\r\nTFM[:2, :2] += np.eye(2)\r\nTFM_inv=np.linalg.inv(TFM)\r\n\r\ndMR1 = Image.fromarray(dMR); size = dMR.shape[0]\r\ndMR1 = dMR1.transform((size, size),Image.AFFINE, data=TFM_inv.flatten()[:6], resample=Image.NEAREST)\r\ndMR = np.asarray(dMR1)\r\n\r\nfor i in range(points.__len__()):\r\n    new_point = TFM @ points[i]\r\n    f_show_point(new_point)  #this is a function showing any point in the subplot given the location as its input parameter\r\n```\r\nI think your note about the origin of the coordination may cause this problem, but how can I  solve the problem?","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770450035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770899293","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-770899293","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":770899293,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDg5OTI5Mw==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-02-01T14:31:07Z","updated_at":"2021-02-01T14:31:07Z","author_association":"COLLABORATOR","body":"well we subtract the center coordinate from all the points before transforming them, so I imagine (but have not verified) that simply adding (or subtracting?) the center (so roughly `vol_shape / 2` in each dimension) from the translation component of the affine matrix should do the job.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770899293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770992679","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-770992679","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":770992679,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDk5MjY3OQ==","user":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"created_at":"2021-02-01T16:44:04Z","updated_at":"2021-02-01T19:33:44Z","author_association":"NONE","body":"Thanks for the guidance, but I examined this before and it doesn't work! The below plot is an example:\r\n\r\n![07122-new](https://user-images.githubusercontent.com/52887476/106487856-5a878600-64c8-11eb-9f98-e03806815a02.png)\r\n\r\nThe leftmost subplot is the CT image, the rightmost subplot is the original MRI, and the middle is the warped MRI transformed by the SpatialTransformer layer (network's output). \r\n\r\nFirstly, I subtracted the half of the image's size from x and y, then I transformed the points using simple @ (matrix manipulation). Finally, I added the half of the image's size to x and y and showed the points in the middle subplot (red points). As it can be seen, the red points are not matched with the warped image transformed by the SpatialTransformer layer. (Yellow points are landmarks in the CT image, and I showed them in the warped MRI to show that the Voxelmorph works properly to register the pair of inputted images but there is something wrong with the transformation matrix produced by the network).  ","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/770992679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/771825762","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-771825762","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":771825762,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTgyNTc2Mg==","user":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"created_at":"2021-02-02T17:37:17Z","updated_at":"2021-02-02T17:37:17Z","author_association":"NONE","body":"![07122-6-New](https://user-images.githubusercontent.com/52887476/106638392-10baa080-6599-11eb-9d14-7bcf01fa69d1.png)\r\n\r\nThe left subplot is the MRI (warped) transformed by the SptialTransformer layer (network's output), where the red points are annotations firstly subtracted by the half of image's size, then transformed by @, then added with the half of image's size, and finally illustrated.\r\n\r\nThe right subplot is the MRI (warped) transformed by TFM_inv (inverse of the transformation matrix) using PIL.Image.transform() function, where the red points are annotations transformed by @ (simple matrix manipulation).\r\n\r\nIt is obvious that the applying the transformation doesn't need to subtract/add half of image's size. Nevertheless, the output images produced by SpatialTransformer layer has major difference with other approaches like PIL.Image.transform(), and unfortunately this problem has halted our project for calculating TRE (Target Registration Error). It is appreciated if you have any solution or alternative for us.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/771825762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/771862408","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-771862408","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":771862408,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTg2MjQwOA==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-02-02T18:20:03Z","updated_at":"2021-02-02T18:20:03Z","author_association":"COLLABORATOR","body":"@boveiri ,\r\n\r\nI am a bit confused -- have you tried using solely VoxelMorph functions to warp your images and annotations? \r\n\r\nI understand that you want to play with other methods to transform images and annotations, but are you finding that the voxelmorph functions are doing it wrong? (e.g. using `SpatialTransformer` for images, and `vxm.tf.utils.point_spatial_transformer` for points)\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/771862408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":4280911103,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI4MDkxMTEwMw==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4280911103","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-02-02T18:20:04Z","performed_via_github_app":null},{"id":4280911105,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyODA5MTExMDU=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4280911105","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-02-02T18:20:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/772731995","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-772731995","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":772731995,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjczMTk5NQ==","user":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"created_at":"2021-02-03T18:42:34Z","updated_at":"2021-02-03T19:14:02Z","author_association":"NONE","body":"Thank you for your support and nice guidance. Actually, I was not aware of `vxm.tf.utils.point_spatial_transformer` for points, and if it can obviate the problem, we can use it. In the first step, I tried to warp the moving image using `neuron.layers.SpatialTransformer()` but I faced the following error or such ones several times:\r\n\r\nLets my moving image be `MR_org` with the shape (256, 256), and the flatten affine transformation matrix be `TFM` with shape (6, ). I tried to warp the moving image using the following code:\r\n\r\n```\r\ntImMoving = tf.convert_to_tensor(dMR_org, dtype=tf.float32)\r\ntaffine =tf.convert_to_tensor(TFM, dtype=tf.float32)\r\ntImWarped = sess.run(neuron.layers.SpatialTransformer()([tImMoving, taffine]), feed_dict={tImMoving: dMR_org, taffine: TFM})\r\n```\r\nbut the error is:\r\n\r\n```\r\nFile \"D:/Python/Reg/Draft_Show_Marks.py\", line 55, in <module>\r\n    tImWarped = sess.run(neuron.layers.SpatialTransformer()([tImMoving, taffine]), feed_dict={tImMoving: dMR_org, taffine: TFM})\r\n  File \"C:\\Users\\Hamidreza\\Anaconda3\\envs\\myenv\\lib\\site-packages\\keras\\engine\\topology.py\", line 594, in __call__\r\n    self.build(input_shapes)\r\n  File \"D:\\Python\\Reg\\voxelmorph-lib\\voxelmorph\\ext\\neuron-lib\\neuron\\layers.py\", line 117, in build\r\n    if trf_shape[-1] != self.ndims:\r\nIndexError: tuple index out of range\r\n```\r\nI inspected your code and found that line 117 in layers.py is about non-affine transformations! please help if I need to reshape the affine transformation matrix to any other shapes. (however, I tried shapes like (2,3) or (3,2) for transformation matrix, or (256, 256, 1) for the inputted image, but just the lines of error were changed).","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/772731995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/772805750","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-772805750","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":772805750,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjgwNTc1MA==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-02-03T20:36:44Z","updated_at":"2021-02-03T20:36:44Z","author_association":"COLLABORATOR","body":"@boveiri \r\nyou seem to be using quite old vode, we've moved SpatialTransformer from neurite to voxelmorph a long time ago, and have moved to tf 2.0 quite a bit ago, so I'm not quite sure which version you have. The following works for us:\r\n\r\n```\r\nvol_shape = [128, 128]\r\nkeras_vol_shape = [1] + vol_shape + [1]\r\n\r\nim = np.random.uniform(size=keras_vol_shape)\r\naff = np.random.randn(1, 2, 3)  \r\n\r\nwarped_im = vxm.layers.SpatialTransformer()([im, aff])\r\nprint(im.shape, aff.shape, warped_im.shape)\r\n```\r\n\r\nand outputs\r\n\r\n```\r\n(1, 128, 128, 1) (1, 2, 3) (1, 128, 128, 1)\r\n```\r\n ","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/772805750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":4287428842,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI4NzQyODg0Mg==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4287428842","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-02-03T20:36:44Z","performed_via_github_app":null},{"id":4287428847,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyODc0Mjg4NDc=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4287428847","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-02-03T20:36:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/772863254","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-772863254","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":772863254,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjg2MzI1NA==","user":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"created_at":"2021-02-03T22:15:18Z","updated_at":"2021-02-03T22:15:18Z","author_association":"NONE","body":"Thank you for your helpful comments in a timely manner, and sorry for my simple questions. Actually, yes, I am using the old versions of neuron and voxelmorph as I was infected with COVID and had severe problems for some months. I finally could issue the problem of using `neuron.layers.SpatialTransformer()` to properly transform the moving image to the warped image in a correct manner. If we can transform the points using `vxm.tf.utils.point_spatial_transformer()` properly, we will be able to close this issue very successfully.\r\n\r\nLets the followings be the list of points and the affine transformation:\r\n\r\n```\r\npoints=np.array([[128, 147, 1], [128, 120, 1], [128, 172, 1], [128, 61, 1], [128, 222, 1], [197, 146, 1], [62, 146, 1]]) \r\nTFM=np.array([[ 1.0169007e-01,  4.2508245e-02,  1.5823326e+01], [-3.9284952e-02, -8.4735174e-03,  3.4517705e+00], [0, 0, 1]]) \r\n```\r\nCould you please show me an example how to get proper warped points using `vxm.tf.utils.point_spatial_transformer()` function?\r\n\r\nI have some questions, too, and it is appreciated if you could guide:\r\n\r\n1- Is the vxm.tf.utils.point_spatial_transformer() able to work with affine transformations?\r\n2- I have tf version 1.15.0 and cannot transfer to tf version 2.0, let me know if the `vxm.tf.utils.point_spatial_transformer()` works with my tf version or if you have any old implementation of the function that could work for me?\r\n\r\nThanks and regards,\r\n ","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/772863254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/772916833","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-772916833","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":772916833,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjkxNjgzMw==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-02-04T00:10:37Z","updated_at":"2021-02-04T00:10:37Z","author_association":"COLLABORATOR","body":"sorry to hear about COVID\r\n\r\nHere's some code that works for me, but this is using tf2.3:\r\n\r\n```\r\nvol_shape = 256, 256  # volume shape\r\nTFM[:2, :2] += 1       # add identity\r\n\r\nfield = vxm.utils.affine_to_shift(TFM, vol_shape, shift_center=True)[np.newaxis, ...]\r\npoints_tf = tf.convert_to_tensor(points[np.newaxis, :, :2], dtype=tf.float32)\r\nfield_tf = tf.convert_to_tensor(field, dtype=tf.float32)\r\nwarped_pts = vxm.utils.point_spatial_transformer([points_tf, field_tf])[0, ...]\r\n```","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/772916833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/773393495","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-773393495","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":773393495,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzM5MzQ5NQ==","user":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"created_at":"2021-02-04T15:28:34Z","updated_at":"2021-02-04T19:03:12Z","author_association":"NONE","body":"Thanks for your sympathy. If the problem can be solve I will be better! I used the `vxm.utils.point_spatial_transformer()` function to warp the points but its results are same as we use simple matrix multiplication like `TFM @ points` . I don't know it is important or not but since I am using the `neuron.layers.SpatialTransformer()` i.e. the old version, I simply copy/pasted `point_spatial_transformer()` function from voxelmorph/utils.py to the voxelmorph/neuron/utils.py, but I think it is OK and it caused no error, since the main work is done by the `affine_to_shift()` function situated in the neuron.utils library.\r\n\r\nI also used `affine_to_shift()` function and simply adding the produced displacement field to the points, but the result is the same:\r\n\r\n![07122-6-New-New](https://user-images.githubusercontent.com/52887476/106913740-91a0a600-6719-11eb-90f7-1c6cf86b8890.png)\r\n\r\nThe points in the leftmost subplot were warped using `TFM @ points`, while the points in the rightmost subplot were warped using `point_spatial_transformer()`, where the results are exactly the same.\r\n\r\nWith some experiments, I made confidant that there is an inconsistency between the warped image outputted by the `SpatialTransformer()` for affine transformation with other transformation methods to warp the points, since the output of the warped points are same both with `TFM @ points` and `point_spatial_transformer()` (and both are inconsistent with the warped image by the `SpatialTransformer()`. ","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/773393495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/774052093","html_url":"https://github.com/voxelmorph/voxelmorph/issues/266#issuecomment-774052093","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/266","id":774052093,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDA1MjA5Mw==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2021-02-05T14:04:32Z","updated_at":"2021-02-05T14:04:32Z","author_association":"COLLABORATOR","body":"@boveiri , I don't think there's any inconsistency between the functions.\r\n\r\nI wrote up a quick colab to verify this, and they seem to be consistent to me. Perhaps this can help you figure out where your problem is. https://colab.research.google.com/drive/1V0CutSIfmtgDJg1XIkEnGteJuw0u7qT-?usp=sharing","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/774052093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":4296246771,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI5NjI0Njc3MQ==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4296246771","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-02-05T14:04:32Z","performed_via_github_app":null},{"id":4296246776,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyOTYyNDY3NzY=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/4296246776","actor":{"login":"boveiri","id":52887476,"node_id":"MDQ6VXNlcjUyODg3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/52887476?v=4","gravatar_id":"","url":"https://api.github.com/users/boveiri","html_url":"https://github.com/boveiri","followers_url":"https://api.github.com/users/boveiri/followers","following_url":"https://api.github.com/users/boveiri/following{/other_user}","gists_url":"https://api.github.com/users/boveiri/gists{/gist_id}","starred_url":"https://api.github.com/users/boveiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boveiri/subscriptions","organizations_url":"https://api.github.com/users/boveiri/orgs","repos_url":"https://api.github.com/users/boveiri/repos","events_url":"https://api.github.com/users/boveiri/events{/privacy}","received_events_url":"https://api.github.com/users/boveiri/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-02-05T14:04:32Z","performed_via_github_app":null}]