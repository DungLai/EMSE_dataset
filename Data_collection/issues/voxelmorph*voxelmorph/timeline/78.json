[{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/521718415","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-521718415","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":521718415,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTcxODQxNQ==","user":{"login":"balakg","id":8753801,"node_id":"MDQ6VXNlcjg3NTM4MDE=","avatar_url":"https://avatars.githubusercontent.com/u/8753801?v=4","gravatar_id":"","url":"https://api.github.com/users/balakg","html_url":"https://github.com/balakg","followers_url":"https://api.github.com/users/balakg/followers","following_url":"https://api.github.com/users/balakg/following{/other_user}","gists_url":"https://api.github.com/users/balakg/gists{/gist_id}","starred_url":"https://api.github.com/users/balakg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balakg/subscriptions","organizations_url":"https://api.github.com/users/balakg/orgs","repos_url":"https://api.github.com/users/balakg/repos","events_url":"https://api.github.com/users/balakg/events{/privacy}","received_events_url":"https://api.github.com/users/balakg/received_events","type":"User","site_admin":false},"created_at":"2019-08-15T17:05:48Z","updated_at":"2019-08-15T17:05:48Z","author_association":"COLLABORATOR","body":"Hi, sorry for the late reply. The atlas_seg.nii.gz and aseg may contain slightly different number of structures. Just use the labels.mat file as shown in 'test.py' for the 30 structures that we used. These structures are the ones we found to be shared among all our test data and the atlas.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/521718415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"balakg","id":8753801,"node_id":"MDQ6VXNlcjg3NTM4MDE=","avatar_url":"https://avatars.githubusercontent.com/u/8753801?v=4","gravatar_id":"","url":"https://api.github.com/users/balakg","html_url":"https://github.com/balakg","followers_url":"https://api.github.com/users/balakg/followers","following_url":"https://api.github.com/users/balakg/following{/other_user}","gists_url":"https://api.github.com/users/balakg/gists{/gist_id}","starred_url":"https://api.github.com/users/balakg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balakg/subscriptions","organizations_url":"https://api.github.com/users/balakg/orgs","repos_url":"https://api.github.com/users/balakg/repos","events_url":"https://api.github.com/users/balakg/events{/privacy}","received_events_url":"https://api.github.com/users/balakg/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523278959","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-523278959","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":523278959,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3ODk1OQ==","user":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false},"created_at":"2019-08-21T03:21:03Z","updated_at":"2019-08-21T03:21:03Z","author_association":"NONE","body":"Hi,\r\nI use the aseg.nii.gz and label.mat to test the dice ,using the following command:\r\n\r\npython3 test.py ../models/cvpr2018_vm2_cc.h5 0\r\n\r\n![image](https://user-images.githubusercontent.com/43518644/63399740-0d167680-c404-11e9-97a8-a317afd3375f.png)\r\n the dice was low,but i  use the following cmd to register my norm.nii.gz,it performs well.\r\npython3 register.py ../data/norml.nii.gz ../data/atlas_norm.nii.gz --out_img ../data/out.nii.gz --model_file ../models/cvpr2018_vm2_cc.h5\r\nThe following picture is preprocessed image,atas image ,and result moved image.\r\n![image](https://user-images.githubusercontent.com/43518644/63399970-ce34f080-c404-11e9-9833-fe34ae06ce06.png) \r\n![image](https://user-images.githubusercontent.com/43518644/63399963-bfe6d480-c404-11e9-88ee-e584210784a3.png)\r\n![image](https://user-images.githubusercontent.com/43518644/63399933-a5146000-c404-11e9-862a-c6f06ee7fcce.png)\r\n\r\nand I found that the  aseg.nii.gz was generated from freesurfer recon-all  the aseg.nii.gz was different from the atlas_seg.nii.gz which you supply. the segmentation parts of aseg.nii.gz was different from the atlas_seg.nii.gz. but .So I don't know where something went wrong.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523278959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523287903","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-523287903","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":523287903,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI4NzkwMw==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2019-08-21T04:13:37Z","updated_at":"2019-08-21T04:13:50Z","author_association":"COLLABORATOR","body":"what Dice result do you get if you use the provided `test_seg.npz`?","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523287903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523321090","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-523321090","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":523321090,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMyMTA5MA==","user":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false},"created_at":"2019-08-21T06:46:41Z","updated_at":"2019-08-21T06:46:41Z","author_association":"NONE","body":"Hi:\r\n I use the \r\npython3 test.py ../models/cvpr2018_vm2_cc.h5 0\r\nto test test_seg.npz ,the dice result is :\r\n![image](https://user-images.githubusercontent.com/43518644/63408834-79a06e00-c422-11e9-9573-334cb1d3a4f3.png)\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523321090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523326679","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-523326679","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":523326679,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMyNjY3OQ==","user":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false},"created_at":"2019-08-21T07:05:48Z","updated_at":"2019-08-21T07:05:48Z","author_association":"NONE","body":"Hi,\r\nI use freesurfer to do the preprocessing:\r\nrecon-all  -i sub-A00000159/mprage.nii.gz  -subjid sub-A00000159 -autorecon1\r\nrecon-all  -subjid sub-A00000159 -autorecon2\r\nthen I extract norm.mgz and aseg.mgz and follow your preprocess steps describe in your paper.\r\n1-intensity normalize to [0-1] for norm.mgz\r\n2-crop for norm.mgz and aseg.mgz\r\n3-affine transformation using FSL flirt for norm.mgz and aseg.mgz\r\nnote: I didn't do intensity normalize for aseg.mgz\r\n\r\nand I can convert the aseg.mgz to aseg.nii.gz ,and the aseg.nii.gz is shows as follows:\r\n![image](https://user-images.githubusercontent.com/43518644/63409469-d6e8ef00-c423-11e9-98f6-2827c4c2f0c3.png)\r\nand the labels in the aseg.nii.gz is shows as follows:\r\n![image](https://user-images.githubusercontent.com/43518644/63409554-fda72580-c423-11e9-85c3-ac047509b5fd.png)\r\nMeantime,I also print the labels in the atlas_seg,\r\n![image](https://user-images.githubusercontent.com/43518644/63409657-2deec400-c424-11e9-815c-3648ff92b553.png)\r\nand the atlas_seg.nii.gz shows as follows:\r\n![image](https://user-images.githubusercontent.com/43518644/63409712-4b239280-c424-11e9-9a92-0d863d0ff6e5.png)\r\nthe labels in label.mat are all on the labels in aseg.nii.gz and atlas_seg.nii.gz\r\nBut it is obvious that the areas of the same label of the aseg.nii.gz and atlas_seg.nii.gz \r\nare just on the opposite sides.\r\nBut the aseg.mgz was anatomically segmented with FreeSurfer,So I have no idea about the problem of labels in the two image .\r\n\r\n\r\n\r\nI just use the following cmd to register my norm.nii.gz,it performs well.\r\npython3 register.py ../data/norml.nii.gz ../data/atlas_norm.nii.gz --out_img ../data/out.nii.gz --model_file ../models/cvpr2018_vm2_cc.h5\r\nWhen I want to use the aseg.npz to test the dice,I found that the aseg.nii.gz was different from the atlas_seg.nii.gz which you supply.the segmentation parts of aseg.nii.gz was different from the atlas_seg.nii.gz.but the aseg.nii.gz was generated from freesurfer recon-all .","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523326679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523448723","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-523448723","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":523448723,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQ0ODcyMw==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2019-08-21T13:07:44Z","updated_at":"2019-08-21T13:07:44Z","author_association":"COLLABORATOR","body":"> Hi:\r\n> I use the\r\n> python3 test.py ../models/cvpr2018_vm2_cc.h5 0\r\n> to test test_seg.npz ,the dice result is :\r\n> ![image](https://user-images.githubusercontent.com/43518644/63408834-79a06e00-c422-11e9-9573-334cb1d3a4f3.png)\r\n\r\nSo the Dice result with our image looks good, which probably means that the `aseg` computed from your pipline is somehow different.\r\n\r\n> But it is obvious that the areas of the same label of the aseg.nii.gz and atlas_seg.nii.gz\r\nare just on the opposite sides.\r\n\r\nIf this is the case, it sounds like there could be a flip going on -- I'm not sure why this is happened, but could you try flipping the image and segmentations, registering, and see how it goes?","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523448723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523791083","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-523791083","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":523791083,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzc5MTA4Mw==","user":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false},"created_at":"2019-08-22T07:47:19Z","updated_at":"2019-08-22T07:47:19Z","author_association":"NONE","body":"Hi:\r\n  I am so sorry to bother you again. I still don't understand why my aseg.nii.gz is  different from atlas_seg.nii.gz what you provided. The follows is the aseg.nii.gz generated from freesurfer:\r\n![image](https://user-images.githubusercontent.com/43518644/63495371-4b8a5f00-c4f2-11e9-9550-d252f9605411.png)\r\n\r\nIs the preprocessing steps correct? and I use the mri_convert to convert the aseg.mgz to NIFTI,the aseg.nii.gz is as follows:\r\n![image](https://user-images.githubusercontent.com/43518644/63495713-f4d15500-c4f2-11e9-9c4c-dc1a8a764229.png)\r\nthen I perform the crop,affine transformation on the aseg.nii.gz, the preprocessed aseg.nii.gz is as follows:\r\n![image](https://user-images.githubusercontent.com/43518644/63495821-2d712e80-c4f3-11e9-9554-3235439d7506.png)\r\n I extracted the atlas_seg.nii.gz from the atlas_norm.npz,then the atlas_seg.nii.gz is as follows:\r\n![image](https://user-images.githubusercontent.com/43518644/63496014-a6708600-c4f3-11e9-8e89-027ca8731efb.png)\r\n\r\nCould you tell me how do you get the test_seg.nii.gz, because the the positions of labels in test_seg.nii.gz  are the same with the atlas_seg.nii.gz. I don't know which step went wrong.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/523791083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false}},{"actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2019-08-23T04:19:21Z","updated_at":"2019-08-23T04:19:21Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/44","repository_url":"https://api.github.com/repos/voxelmorph/voxelmorph","labels_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/44/labels{/name}","comments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/44/comments","events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/44/events","html_url":"https://github.com/voxelmorph/voxelmorph/issues/44","id":441037674,"node_id":"MDU6SXNzdWU0NDEwMzc2NzQ=","number":44,"title":"Can we train model on my data, and use atlas_norm.nii ,test_vol.nii and test_seg to test it.","user":{"login":"hassaanmahmood","id":20740538,"node_id":"MDQ6VXNlcjIwNzQwNTM4","avatar_url":"https://avatars.githubusercontent.com/u/20740538?v=4","gravatar_id":"","url":"https://api.github.com/users/hassaanmahmood","html_url":"https://github.com/hassaanmahmood","followers_url":"https://api.github.com/users/hassaanmahmood/followers","following_url":"https://api.github.com/users/hassaanmahmood/following{/other_user}","gists_url":"https://api.github.com/users/hassaanmahmood/gists{/gist_id}","starred_url":"https://api.github.com/users/hassaanmahmood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hassaanmahmood/subscriptions","organizations_url":"https://api.github.com/users/hassaanmahmood/orgs","repos_url":"https://api.github.com/users/hassaanmahmood/repos","events_url":"https://api.github.com/users/hassaanmahmood/events{/privacy}","received_events_url":"https://api.github.com/users/hassaanmahmood/received_events","type":"User","site_admin":false},"labels":[{"id":1347467145,"node_id":"MDU6TGFiZWwxMzQ3NDY3MTQ1","url":"https://api.github.com/repos/voxelmorph/voxelmorph/labels/voxelmorph","name":"voxelmorph","color":"1d76db","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":34,"created_at":"2019-05-07T05:44:57Z","updated_at":"2019-09-23T01:51:37Z","closed_at":"2019-05-07T12:46:31Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":133389787,"node_id":"MDEwOlJlcG9zaXRvcnkxMzMzODk3ODc=","name":"voxelmorph","full_name":"voxelmorph/voxelmorph","private":false,"owner":{"login":"voxelmorph","id":38796681,"node_id":"MDQ6VXNlcjM4Nzk2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/38796681?v=4","gravatar_id":"","url":"https://api.github.com/users/voxelmorph","html_url":"https://github.com/voxelmorph","followers_url":"https://api.github.com/users/voxelmorph/followers","following_url":"https://api.github.com/users/voxelmorph/following{/other_user}","gists_url":"https://api.github.com/users/voxelmorph/gists{/gist_id}","starred_url":"https://api.github.com/users/voxelmorph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voxelmorph/subscriptions","organizations_url":"https://api.github.com/users/voxelmorph/orgs","repos_url":"https://api.github.com/users/voxelmorph/repos","events_url":"https://api.github.com/users/voxelmorph/events{/privacy}","received_events_url":"https://api.github.com/users/voxelmorph/received_events","type":"User","site_admin":false},"html_url":"https://github.com/voxelmorph/voxelmorph","description":"Unsupervised Learning for Image Registration","fork":false,"url":"https://api.github.com/repos/voxelmorph/voxelmorph","forks_url":"https://api.github.com/repos/voxelmorph/voxelmorph/forks","keys_url":"https://api.github.com/repos/voxelmorph/voxelmorph/keys{/key_id}","collaborators_url":"https://api.github.com/repos/voxelmorph/voxelmorph/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/voxelmorph/voxelmorph/teams","hooks_url":"https://api.github.com/repos/voxelmorph/voxelmorph/hooks","issue_events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events{/number}","events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/events","assignees_url":"https://api.github.com/repos/voxelmorph/voxelmorph/assignees{/user}","branches_url":"https://api.github.com/repos/voxelmorph/voxelmorph/branches{/branch}","tags_url":"https://api.github.com/repos/voxelmorph/voxelmorph/tags","blobs_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/refs{/sha}","trees_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/trees{/sha}","statuses_url":"https://api.github.com/repos/voxelmorph/voxelmorph/statuses/{sha}","languages_url":"https://api.github.com/repos/voxelmorph/voxelmorph/languages","stargazers_url":"https://api.github.com/repos/voxelmorph/voxelmorph/stargazers","contributors_url":"https://api.github.com/repos/voxelmorph/voxelmorph/contributors","subscribers_url":"https://api.github.com/repos/voxelmorph/voxelmorph/subscribers","subscription_url":"https://api.github.com/repos/voxelmorph/voxelmorph/subscription","commits_url":"https://api.github.com/repos/voxelmorph/voxelmorph/commits{/sha}","git_commits_url":"https://api.github.com/repos/voxelmorph/voxelmorph/git/commits{/sha}","comments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/comments{/number}","issue_comment_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments{/number}","contents_url":"https://api.github.com/repos/voxelmorph/voxelmorph/contents/{+path}","compare_url":"https://api.github.com/repos/voxelmorph/voxelmorph/compare/{base}...{head}","merges_url":"https://api.github.com/repos/voxelmorph/voxelmorph/merges","archive_url":"https://api.github.com/repos/voxelmorph/voxelmorph/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/voxelmorph/voxelmorph/downloads","issues_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues{/number}","pulls_url":"https://api.github.com/repos/voxelmorph/voxelmorph/pulls{/number}","milestones_url":"https://api.github.com/repos/voxelmorph/voxelmorph/milestones{/number}","notifications_url":"https://api.github.com/repos/voxelmorph/voxelmorph/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/voxelmorph/voxelmorph/labels{/name}","releases_url":"https://api.github.com/repos/voxelmorph/voxelmorph/releases{/id}","deployments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/deployments","created_at":"2018-05-14T16:19:41Z","updated_at":"2023-01-18T17:59:57Z","pushed_at":"2023-01-17T12:51:17Z","git_url":"git://github.com/voxelmorph/voxelmorph.git","ssh_url":"git@github.com:voxelmorph/voxelmorph.git","clone_url":"https://github.com/voxelmorph/voxelmorph.git","svn_url":"https://github.com/voxelmorph/voxelmorph","homepage":"","size":132194,"stargazers_count":1715,"watchers_count":1715,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":511,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":93,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","diffeomorphism","image-alignment","image-registration","machine-learning","optical-flow","probabilistic","unsupervised-learning"],"visibility":"public","forks":511,"open_issues":93,"watchers":1715,"default_branch":"dev","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"for doing that do I need to first register my data to the atlas?\r\nwhat other steps should I follow please.\r\nthanks","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/44/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/44/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/524167205","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-524167205","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":524167205,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDE2NzIwNQ==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2019-08-23T04:23:54Z","updated_at":"2019-08-23T04:23:54Z","author_association":"COLLABORATOR","body":"I don't know which step went wrong either, perhaps slightly different ways or versions of FreeSurfer. \r\nI would recommend you try the following:\r\n\r\n1. Perhaps this is related to @hassaanmahmood's problem in #44, and perhaps the two of you can communicate. \r\n2. try flipping and rotating (see numpy flip and transpose functions) to get to the right orientation. This might be an issue with headers.\r\n3. You could alternatively build your own atlas from the current dataset using our new tool: https://github.com/voxelmorph/voxelmorph/blob/master/src/train_img_template.py . This will basically train a voxelmorph as well as lean an atlas at the same time. Here's the paper: https://arxiv.org/abs/1908.02738\r\n\r\nIt seems like in this case voxelmorph is actually doing well (via `register.py`) and this is just an issue with the labels/orientation. Unfortunately we're not able to help at this level of detail as we're preparing for the next big release in a few weeks. I encourage you to explore the ideas above.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/524167205/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":2578472968,"node_id":"MDExOkNsb3NlZEV2ZW50MjU3ODQ3Mjk2OA==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/2578472968","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-08-23T04:23:54Z","state_reason":null,"performed_via_github_app":null},{"id":2578472972,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU3ODQ3Mjk3Mg==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/2578472972","actor":{"login":"hassaanmahmood","id":20740538,"node_id":"MDQ6VXNlcjIwNzQwNTM4","avatar_url":"https://avatars.githubusercontent.com/u/20740538?v=4","gravatar_id":"","url":"https://api.github.com/users/hassaanmahmood","html_url":"https://github.com/hassaanmahmood","followers_url":"https://api.github.com/users/hassaanmahmood/followers","following_url":"https://api.github.com/users/hassaanmahmood/following{/other_user}","gists_url":"https://api.github.com/users/hassaanmahmood/gists{/gist_id}","starred_url":"https://api.github.com/users/hassaanmahmood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hassaanmahmood/subscriptions","organizations_url":"https://api.github.com/users/hassaanmahmood/orgs","repos_url":"https://api.github.com/users/hassaanmahmood/repos","events_url":"https://api.github.com/users/hassaanmahmood/events{/privacy}","received_events_url":"https://api.github.com/users/hassaanmahmood/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-23T04:23:54Z","performed_via_github_app":null},{"id":2578472973,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1Nzg0NzI5NzM=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/2578472973","actor":{"login":"hassaanmahmood","id":20740538,"node_id":"MDQ6VXNlcjIwNzQwNTM4","avatar_url":"https://avatars.githubusercontent.com/u/20740538?v=4","gravatar_id":"","url":"https://api.github.com/users/hassaanmahmood","html_url":"https://github.com/hassaanmahmood","followers_url":"https://api.github.com/users/hassaanmahmood/followers","following_url":"https://api.github.com/users/hassaanmahmood/following{/other_user}","gists_url":"https://api.github.com/users/hassaanmahmood/gists{/gist_id}","starred_url":"https://api.github.com/users/hassaanmahmood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hassaanmahmood/subscriptions","organizations_url":"https://api.github.com/users/hassaanmahmood/orgs","repos_url":"https://api.github.com/users/hassaanmahmood/repos","events_url":"https://api.github.com/users/hassaanmahmood/events{/privacy}","received_events_url":"https://api.github.com/users/hassaanmahmood/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-23T04:23:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/524529303","html_url":"https://github.com/voxelmorph/voxelmorph/issues/78#issuecomment-524529303","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/78","id":524529303,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDUyOTMwMw==","user":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false},"created_at":"2019-08-24T07:42:47Z","updated_at":"2019-08-24T07:42:47Z","author_association":"NONE","body":"Hi:\r\n I found a problem, The follows is the \r\norigin_moving_img| fixed_img | affine_moving_img| moved_img\r\norigin_moving_seg | fixed_seg | affine_moving_seg| moved_seg\r\n![image](https://user-images.githubusercontent.com/43518644/63633999-6dffb200-c683-11e9-996b-a188b37f6d56.png)\r\nI found that the the labels in origin_seg is similiar to atlas_seg, so I tried to use the origin_seg to test the dice,the result is follows:\r\n![image](https://user-images.githubusercontent.com/43518644/63634063-efefdb00-c683-11e9-8bb8-a3d8caf9b0cf.png)\r\nI use the Ants to do the affine transform\r\n![image](https://user-images.githubusercontent.com/43518644/63634160-3560d800-c685-11e9-94ac-811d99429c0b.png)\r\nbut the transform img is different from the origin_moving_seg. It looks like the transform img has been reversed，I don't know why the affine_seg becomes like this after affine transformation.\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/524529303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xyzxzj","id":43518644,"node_id":"MDQ6VXNlcjQzNTE4NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/43518644?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzxzj","html_url":"https://github.com/xyzxzj","followers_url":"https://api.github.com/users/xyzxzj/followers","following_url":"https://api.github.com/users/xyzxzj/following{/other_user}","gists_url":"https://api.github.com/users/xyzxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzxzj/subscriptions","organizations_url":"https://api.github.com/users/xyzxzj/orgs","repos_url":"https://api.github.com/users/xyzxzj/repos","events_url":"https://api.github.com/users/xyzxzj/events{/privacy}","received_events_url":"https://api.github.com/users/xyzxzj/received_events","type":"User","site_admin":false}}]