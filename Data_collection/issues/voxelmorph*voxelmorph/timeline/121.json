[{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/551843078","html_url":"https://github.com/voxelmorph/voxelmorph/issues/121#issuecomment-551843078","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/121","id":551843078,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTg0MzA3OA==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2019-11-08T14:14:19Z","updated_at":"2019-11-08T14:14:19Z","author_association":"COLLABORATOR","body":"Assuming you are reading the [NeurIPS paper](https://arxiv.org/abs/1908.02738), the unconditional atlas is figure 2 without the decoder. Instead, we essentialy learn a parameter at each voxel: the intensity of the image (Section 3.1, end of second para). In the code, the file is [train_img_template.py](https://github.com/voxelmorph/voxelmorph/blob/master/src/train_img_template.py) which uses the \r\n`img_atlas_diff_model()` network construction.\r\n\r\nI'm not sure about the context of the segmentation question -- which paper are you reading? But Imagine having a segmentation map `HxWxD`, then having the one-hot representation of is `HxWxDxL` where `L` is the number of labels. You can apply a `SpatialTransformer()` layer to such a Tensor, and it will warp all the labels according to the transform.","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/551843078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"id":2783086729,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3ODMwODY3Mjk=","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/2783086729","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-08T14:14:42Z","label":{"name":"atlas-construction","color":"ff7f7c"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/552090815","html_url":"https://github.com/voxelmorph/voxelmorph/issues/121#issuecomment-552090815","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/121","id":552090815,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjA5MDgxNQ==","user":{"login":"theoVag","id":32677031,"node_id":"MDQ6VXNlcjMyNjc3MDMx","avatar_url":"https://avatars.githubusercontent.com/u/32677031?v=4","gravatar_id":"","url":"https://api.github.com/users/theoVag","html_url":"https://github.com/theoVag","followers_url":"https://api.github.com/users/theoVag/followers","following_url":"https://api.github.com/users/theoVag/following{/other_user}","gists_url":"https://api.github.com/users/theoVag/gists{/gist_id}","starred_url":"https://api.github.com/users/theoVag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theoVag/subscriptions","organizations_url":"https://api.github.com/users/theoVag/orgs","repos_url":"https://api.github.com/users/theoVag/repos","events_url":"https://api.github.com/users/theoVag/events{/privacy}","received_events_url":"https://api.github.com/users/theoVag/received_events","type":"User","site_admin":false},"created_at":"2019-11-09T11:22:50Z","updated_at":"2019-11-09T11:22:50Z","author_association":"NONE","body":"Hello and thank you for the fast reply I am studying both the Learning Conditional Deformable Templates with Convolutional Networks and VoxelMorph: A Learning Framework for Deformable Medical Image Registration. The segmentation question is related to the second one. More specific the part of the article that I didn't understand very well says \r\n![image](https://user-images.githubusercontent.com/32677031/68527762-58e60700-02f3-11ea-9f29-dc1f5e374260.png) . To clarify, the one hot encoding is used so it can be transformed in the network? In addition, this kind of encoding should be applied in atlas construction (in the label image) ?\r\n","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/552090815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"theoVag","id":32677031,"node_id":"MDQ6VXNlcjMyNjc3MDMx","avatar_url":"https://avatars.githubusercontent.com/u/32677031?v=4","gravatar_id":"","url":"https://api.github.com/users/theoVag","html_url":"https://github.com/theoVag","followers_url":"https://api.github.com/users/theoVag/followers","following_url":"https://api.github.com/users/theoVag/following{/other_user}","gists_url":"https://api.github.com/users/theoVag/gists{/gist_id}","starred_url":"https://api.github.com/users/theoVag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theoVag/subscriptions","organizations_url":"https://api.github.com/users/theoVag/orgs","repos_url":"https://api.github.com/users/theoVag/repos","events_url":"https://api.github.com/users/theoVag/events{/privacy}","received_events_url":"https://api.github.com/users/theoVag/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/552122699","html_url":"https://github.com/voxelmorph/voxelmorph/issues/121#issuecomment-552122699","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/121","id":552122699,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjEyMjY5OQ==","user":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"created_at":"2019-11-09T17:58:11Z","updated_at":"2019-11-09T17:58:11Z","author_association":"COLLABORATOR","body":"The one hot encoding is used to warp the labels. Without a one-hot encoding you would have to use something a nearest-neighbor interpolation when warping, which does not have derivatives.\r\n\r\nWe didn't talk about segmentations in the atlas paper -- if you want to build a segmentation template, then yes you could do it this way!","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/552122699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/552124056","html_url":"https://github.com/voxelmorph/voxelmorph/issues/121#issuecomment-552124056","issue_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/121","id":552124056,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjEyNDA1Ng==","user":{"login":"theoVag","id":32677031,"node_id":"MDQ6VXNlcjMyNjc3MDMx","avatar_url":"https://avatars.githubusercontent.com/u/32677031?v=4","gravatar_id":"","url":"https://api.github.com/users/theoVag","html_url":"https://github.com/theoVag","followers_url":"https://api.github.com/users/theoVag/followers","following_url":"https://api.github.com/users/theoVag/following{/other_user}","gists_url":"https://api.github.com/users/theoVag/gists{/gist_id}","starred_url":"https://api.github.com/users/theoVag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theoVag/subscriptions","organizations_url":"https://api.github.com/users/theoVag/orgs","repos_url":"https://api.github.com/users/theoVag/repos","events_url":"https://api.github.com/users/theoVag/events{/privacy}","received_events_url":"https://api.github.com/users/theoVag/received_events","type":"User","site_admin":false},"created_at":"2019-11-09T18:14:31Z","updated_at":"2019-11-09T18:14:31Z","author_association":"NONE","body":"Thank you very much for your help! Keep up with the good work!","reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/comments/552124056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"theoVag","id":32677031,"node_id":"MDQ6VXNlcjMyNjc3MDMx","avatar_url":"https://avatars.githubusercontent.com/u/32677031?v=4","gravatar_id":"","url":"https://api.github.com/users/theoVag","html_url":"https://github.com/theoVag","followers_url":"https://api.github.com/users/theoVag/followers","following_url":"https://api.github.com/users/theoVag/following{/other_user}","gists_url":"https://api.github.com/users/theoVag/gists{/gist_id}","starred_url":"https://api.github.com/users/theoVag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theoVag/subscriptions","organizations_url":"https://api.github.com/users/theoVag/orgs","repos_url":"https://api.github.com/users/theoVag/repos","events_url":"https://api.github.com/users/theoVag/events{/privacy}","received_events_url":"https://api.github.com/users/theoVag/received_events","type":"User","site_admin":false}},{"id":2785523071,"node_id":"MDExOkNsb3NlZEV2ZW50Mjc4NTUyMzA3MQ==","url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/events/2785523071","actor":{"login":"theoVag","id":32677031,"node_id":"MDQ6VXNlcjMyNjc3MDMx","avatar_url":"https://avatars.githubusercontent.com/u/32677031?v=4","gravatar_id":"","url":"https://api.github.com/users/theoVag","html_url":"https://github.com/theoVag","followers_url":"https://api.github.com/users/theoVag/followers","following_url":"https://api.github.com/users/theoVag/following{/other_user}","gists_url":"https://api.github.com/users/theoVag/gists{/gist_id}","starred_url":"https://api.github.com/users/theoVag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theoVag/subscriptions","organizations_url":"https://api.github.com/users/theoVag/orgs","repos_url":"https://api.github.com/users/theoVag/repos","events_url":"https://api.github.com/users/theoVag/events{/privacy}","received_events_url":"https://api.github.com/users/theoVag/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-11-09T18:14:31Z","state_reason":null,"performed_via_github_app":null}]