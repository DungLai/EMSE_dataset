{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/385","repository_url":"https://api.github.com/repos/voxelmorph/voxelmorph","labels_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/385/labels{/name}","comments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/385/comments","events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/385/events","html_url":"https://github.com/voxelmorph/voxelmorph/issues/385","id":1098017212,"node_id":"I_kwDOB_Nd285Bcmm8","number":385,"title":"error register.py voxelmorph line 65","user":{"login":"Robotronikpi","id":44471192,"node_id":"MDQ6VXNlcjQ0NDcxMTky","avatar_url":"https://avatars.githubusercontent.com/u/44471192?v=4","gravatar_id":"","url":"https://api.github.com/users/Robotronikpi","html_url":"https://github.com/Robotronikpi","followers_url":"https://api.github.com/users/Robotronikpi/followers","following_url":"https://api.github.com/users/Robotronikpi/following{/other_user}","gists_url":"https://api.github.com/users/Robotronikpi/gists{/gist_id}","starred_url":"https://api.github.com/users/Robotronikpi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Robotronikpi/subscriptions","organizations_url":"https://api.github.com/users/Robotronikpi/orgs","repos_url":"https://api.github.com/users/Robotronikpi/repos","events_url":"https://api.github.com/users/Robotronikpi/events{/privacy}","received_events_url":"https://api.github.com/users/Robotronikpi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-01-10T15:13:01Z","updated_at":"2022-07-28T21:03:33Z","closed_at":"2022-07-28T21:03:33Z","author_association":"NONE","active_lock_reason":null,"body":"****\r\nHi,\r\nI try to register images with voxelmorp using the command\r\n%run register.py --moving temp.npz --fixed temp.npz --moved temp2.npz --model model_1.h5 --gpu 0\r\ntemp.npz (3D array between 0,1)\r\nand model_1.h5 is :  https://surfer.nmr.mgh.harvard.edu/ftp/data/voxelmorph/synthmorph/shapes-dice-vel-3-res-8-16-32-256f.h5\r\nand i get this error : \r\n***\r\n``\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n/opt/notebooks/voxelmorph-dev/scripts/tf/register.py in <module>\r\n     63 with tf.device(device):\r\n     64     # load model and predict\r\n---> 65     warp = vxm.networks.VxmDense.load(args.model,input_model=None).register(moving, fixed)\r\n     66     moved = vxm.networks.Transform(inshape, nb_feats=nb_feats).predict([moving, warp])\r\n     67 \r\n\r\nTypeError: load() got an unexpected keyword argument 'input_model'\r\n``\r\n-------------------------------------------------------------------------------------------\r\n***\r\nif i change line 65 by warp = vxm.networks.VxmDense.load(args.model).register(moving, fixed)\r\ni get a new error: \r\n***\r\n``\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n/opt/notebooks/voxelmorph-dev/scripts/tf/register.py in <module>\r\n     63 with tf.device(device):\r\n     64     # load model and predict\r\n---> 65     warp = vxm.networks.VxmDense.load(args.model).register(moving, fixed)\r\n     66     moved = vxm.networks.Transform(inshape, nb_feats=nb_feats).predict([moving, warp])\r\n     67 \r\n\r\n/opt/conda/lib/python3.6/site-packages/voxelmorph/tf/modelio.py in load(cls, path, by_name)\r\n    101             ]\r\n    102 \r\n--> 103         model = cls(**config)\r\n    104         model.load_weights(path, by_name=by_name)\r\n    105         return model\r\n\r\n/opt/conda/lib/python3.6/site-packages/voxelmorph/tf/modelio.py in wrapper(self, *args, **kwargs)\r\n     20         # run the constructor first to avoid any issues with\r\n     21         # the keras Model class not being initialized yet\r\n---> 22         retval = func(self, *args, **kwargs)\r\n     23 \r\n     24         params = {}\r\n\r\nTypeError: __init__() got an unexpected keyword argument 'name'\r\n------------------------------------------------------------------------------------------------\r\n``\r\n***\r\nAnyone have any idea how to avoid these mistakes?\r\nI have already reinstalled voxelmorph, neurite and pystrum and it doesn't change anything.\r\n***\r\n","closed_by":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/385/timeline","performed_via_github_app":null,"state_reason":"completed"}