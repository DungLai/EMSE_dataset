{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/288","repository_url":"https://api.github.com/repos/voxelmorph/voxelmorph","labels_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/288/labels{/name}","comments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/288/comments","events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/288/events","html_url":"https://github.com/voxelmorph/voxelmorph/issues/288","id":846675049,"node_id":"MDU6SXNzdWU4NDY2NzUwNDk=","number":288,"title":"How to use segmentation labels when trying to train a new registration model by using train_synth_reg.py?","user":{"login":"MoXiaoYing96","id":52778658,"node_id":"MDQ6VXNlcjUyNzc4NjU4","avatar_url":"https://avatars.githubusercontent.com/u/52778658?v=4","gravatar_id":"","url":"https://api.github.com/users/MoXiaoYing96","html_url":"https://github.com/MoXiaoYing96","followers_url":"https://api.github.com/users/MoXiaoYing96/followers","following_url":"https://api.github.com/users/MoXiaoYing96/following{/other_user}","gists_url":"https://api.github.com/users/MoXiaoYing96/gists{/gist_id}","starred_url":"https://api.github.com/users/MoXiaoYing96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MoXiaoYing96/subscriptions","organizations_url":"https://api.github.com/users/MoXiaoYing96/orgs","repos_url":"https://api.github.com/users/MoXiaoYing96/repos","events_url":"https://api.github.com/users/MoXiaoYing96/events{/privacy}","received_events_url":"https://api.github.com/users/MoXiaoYing96/received_events","type":"User","site_admin":false},"labels":[{"id":1347467145,"node_id":"MDU6TGFiZWwxMzQ3NDY3MTQ1","url":"https://api.github.com/repos/voxelmorph/voxelmorph/labels/voxelmorph","name":"voxelmorph","color":"1d76db","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-03-31T13:31:57Z","updated_at":"2021-04-01T02:29:09Z","closed_at":"2021-04-01T02:29:00Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, I'am trying to train a new registration model by using **_train_synth_reg.py_**.\r\n\r\nAs the describe of paper \"_**VoxelMorph: A Learning Framework for Deformable Medical Image Registration**_\", the loss function includes the _Lsim_, _Lsmooth_ and _Lseg_. _Lseg_ represents the anatomical segmentation information used during training which improves the effect of registration. \r\n\r\nI processed the OASIS-1 dataset by using \"recon-all\" command of freesurfer and preprocessed the dataset same as mentioned in the paper. But the homepage shows nothing about how to use label file when train the registration model, now I don't know how to import the segmentation information when training the model.\r\n\r\nI guessed that \"**_--labels_**\" of generation parameters is the keyword of import segmentation information. I have tried some files to train the network: _aseg.nii.gz_, _aseg.stats_, _lh.aparc.annot_, _lh.cortex.label_, _aparc.annot.ctab_.  \r\n\r\nThe commands I used (e.g.): \r\n_python train_synth_reg.py --data-dir /public/home/jd_mxy/First_reg_OASIS --labels aseg.stats_\r\n (I haved appointed the location of _--model-dir_ in _train_synth_reg.py_, and I changed the _--epochs_ and _--save-freq_ to meet the need of mine).\r\n\r\nBut all these files return running error information:\r\n![image](https://user-images.githubusercontent.com/52778658/113145825-81acca80-9261-11eb-81a9-7101b3a11316.png)\r\n\r\nI tried to upgrade or downgrade the version of numpy, but it doesn't work. I don't know whether the question is caused by the version of numpy, or the file type of I input.\r\n\r\nSo, whether the keyword is _--labels_ or not? What's the file type of labels? From all the _recon-all_  FreeSurfer files, which one I can used as the anatomical segmentation information? \r\n\r\nSorry for bother you for this, I carefully browsed the issue and discussion about label, but I didnâ€™t get the answer I wanted.\r\nHope to receive your answer, thanks for your patient answer!\r\n ","closed_by":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/288/timeline","performed_via_github_app":null,"state_reason":"completed"}