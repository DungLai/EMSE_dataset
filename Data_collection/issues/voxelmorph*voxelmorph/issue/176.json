{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/176","repository_url":"https://api.github.com/repos/voxelmorph/voxelmorph","labels_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/176/labels{/name}","comments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/176/comments","events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/176/events","html_url":"https://github.com/voxelmorph/voxelmorph/issues/176","id":601643496,"node_id":"MDU6SXNzdWU2MDE2NDM0OTY=","number":176,"title":"Problem about train_unsupervised_segmentation.py","user":{"login":"Alison-brie","id":29921392,"node_id":"MDQ6VXNlcjI5OTIxMzky","avatar_url":"https://avatars.githubusercontent.com/u/29921392?v=4","gravatar_id":"","url":"https://api.github.com/users/Alison-brie","html_url":"https://github.com/Alison-brie","followers_url":"https://api.github.com/users/Alison-brie/followers","following_url":"https://api.github.com/users/Alison-brie/following{/other_user}","gists_url":"https://api.github.com/users/Alison-brie/gists{/gist_id}","starred_url":"https://api.github.com/users/Alison-brie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alison-brie/subscriptions","organizations_url":"https://api.github.com/users/Alison-brie/orgs","repos_url":"https://api.github.com/users/Alison-brie/repos","events_url":"https://api.github.com/users/Alison-brie/events{/privacy}","received_events_url":"https://api.github.com/users/Alison-brie/received_events","type":"User","site_admin":false},"labels":[{"id":1347463826,"node_id":"MDU6TGFiZWwxMzQ3NDYzODI2","url":"https://api.github.com/repos/voxelmorph/voxelmorph/labels/unifiedseg","name":"unifiedseg","color":"e28d38","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-17T01:45:40Z","updated_at":"2020-10-26T14:43:29Z","closed_at":"2020-10-26T14:43:29Z","author_association":"NONE","active_lock_reason":null,"body":"**Task** (what are you trying to do/register?)\r\n\r\nTry to re-implementation of  \"Unsupervised deep learning for Bayesian brain MRI segmentation\" using train_unsupervised_segmentation.py on my own brain vol data.\r\n\r\n**What have you tried**\r\n\r\nThe train_unsupervised_segmentation.py doesn't work for me. I get the following error:\r\n\r\nAttributeError: tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[1,160,192,224,11] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\n\t [[{{node training/Adam/gradients/lambda_1/Sum_grad/Tile}}]]\r\n\r\n**Details of experiments**\r\n\r\nTensorFlow 1.13.1\r\nKeras 2.2.4\r\ngpu_device TITAN Xp\r\ntotalMemory: 12.00GiB freeMemory: 9.94GiB\r\nDefault parameters for the train_unsupervised_segmentation.py, except the data_dir.\r\n\r\nI also tried the vm1 model with diffeomorphic=True, still got the same question. It seems that I need a GPU with more memory, and do you think so? Or do I have to reduce the model size more? (my data size is (160,192,224))\r\nI wonder how much memory of GPU you run your code on?\r\nAnd it would be great to give some suggestions or opinions.\r\n\r\nThanks for your time a lot.\r\n\r\n","closed_by":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/176/timeline","performed_via_github_app":null,"state_reason":"completed"}