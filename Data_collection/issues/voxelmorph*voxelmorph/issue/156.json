{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/156","repository_url":"https://api.github.com/repos/voxelmorph/voxelmorph","labels_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/156/labels{/name}","comments_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/156/comments","events_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/156/events","html_url":"https://github.com/voxelmorph/voxelmorph/issues/156","id":572955217,"node_id":"MDU6SXNzdWU1NzI5NTUyMTc=","number":156,"title":"Training affine model (redesign branch) does not converge ","user":{"login":"armaneshaghi","id":4290297,"node_id":"MDQ6VXNlcjQyOTAyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/4290297?v=4","gravatar_id":"","url":"https://api.github.com/users/armaneshaghi","html_url":"https://github.com/armaneshaghi","followers_url":"https://api.github.com/users/armaneshaghi/followers","following_url":"https://api.github.com/users/armaneshaghi/following{/other_user}","gists_url":"https://api.github.com/users/armaneshaghi/gists{/gist_id}","starred_url":"https://api.github.com/users/armaneshaghi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/armaneshaghi/subscriptions","organizations_url":"https://api.github.com/users/armaneshaghi/orgs","repos_url":"https://api.github.com/users/armaneshaghi/repos","events_url":"https://api.github.com/users/armaneshaghi/events{/privacy}","received_events_url":"https://api.github.com/users/armaneshaghi/received_events","type":"User","site_admin":false},"labels":[{"id":1347467145,"node_id":"MDU6TGFiZWwxMzQ3NDY3MTQ1","url":"https://api.github.com/repos/voxelmorph/voxelmorph/labels/voxelmorph","name":"voxelmorph","color":"1d76db","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"ahoopes","id":24280487,"node_id":"MDQ6VXNlcjI0MjgwNDg3","avatar_url":"https://avatars.githubusercontent.com/u/24280487?v=4","gravatar_id":"","url":"https://api.github.com/users/ahoopes","html_url":"https://github.com/ahoopes","followers_url":"https://api.github.com/users/ahoopes/followers","following_url":"https://api.github.com/users/ahoopes/following{/other_user}","gists_url":"https://api.github.com/users/ahoopes/gists{/gist_id}","starred_url":"https://api.github.com/users/ahoopes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahoopes/subscriptions","organizations_url":"https://api.github.com/users/ahoopes/orgs","repos_url":"https://api.github.com/users/ahoopes/repos","events_url":"https://api.github.com/users/ahoopes/events{/privacy}","received_events_url":"https://api.github.com/users/ahoopes/received_events","type":"User","site_admin":false},"assignees":[{"login":"ahoopes","id":24280487,"node_id":"MDQ6VXNlcjI0MjgwNDg3","avatar_url":"https://avatars.githubusercontent.com/u/24280487?v=4","gravatar_id":"","url":"https://api.github.com/users/ahoopes","html_url":"https://github.com/ahoopes","followers_url":"https://api.github.com/users/ahoopes/followers","following_url":"https://api.github.com/users/ahoopes/following{/other_user}","gists_url":"https://api.github.com/users/ahoopes/gists{/gist_id}","starred_url":"https://api.github.com/users/ahoopes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahoopes/subscriptions","organizations_url":"https://api.github.com/users/ahoopes/orgs","repos_url":"https://api.github.com/users/ahoopes/repos","events_url":"https://api.github.com/users/ahoopes/events{/privacy}","received_events_url":"https://api.github.com/users/ahoopes/received_events","type":"User","site_admin":false}],"milestone":null,"comments":13,"created_at":"2020-02-28T19:22:22Z","updated_at":"2020-10-12T01:13:34Z","closed_at":"2020-10-12T01:13:34Z","author_association":"NONE","active_lock_reason":null,"body":"I am trying to train the affine model from the redesign branch. I am using the following command line on rescaled (0 to 1), resized, and brain extracted images. \r\n\r\n```\r\npython train_affine.py --gpu 0 --steps-per-epoch 100 --epochs 1500 --lr 0.00001 --model-dir ./affine_models/ --batch-size 2 --prob-same 0.3  ./train/\r\n```\r\n\r\nModel loss starts at 0.88 but after a few epochs goes to -inf, 1 and stays at 1. \r\n\r\nIf I use the affine model for registration, it produces empty outputs. \r\n\r\nWould you be able to provide a minimal example to train an affine model? \r\n","closed_by":{"login":"adalca","id":3219675,"node_id":"MDQ6VXNlcjMyMTk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3219675?v=4","gravatar_id":"","url":"https://api.github.com/users/adalca","html_url":"https://github.com/adalca","followers_url":"https://api.github.com/users/adalca/followers","following_url":"https://api.github.com/users/adalca/following{/other_user}","gists_url":"https://api.github.com/users/adalca/gists{/gist_id}","starred_url":"https://api.github.com/users/adalca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adalca/subscriptions","organizations_url":"https://api.github.com/users/adalca/orgs","repos_url":"https://api.github.com/users/adalca/repos","events_url":"https://api.github.com/users/adalca/events{/privacy}","received_events_url":"https://api.github.com/users/adalca/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/voxelmorph/voxelmorph/issues/156/timeline","performed_via_github_app":null,"state_reason":"completed"}