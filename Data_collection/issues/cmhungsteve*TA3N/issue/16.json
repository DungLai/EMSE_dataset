{"url":"https://api.github.com/repos/cmhungsteve/TA3N/issues/16","repository_url":"https://api.github.com/repos/cmhungsteve/TA3N","labels_url":"https://api.github.com/repos/cmhungsteve/TA3N/issues/16/labels{/name}","comments_url":"https://api.github.com/repos/cmhungsteve/TA3N/issues/16/comments","events_url":"https://api.github.com/repos/cmhungsteve/TA3N/issues/16/events","html_url":"https://github.com/cmhungsteve/TA3N/issues/16","id":649752845,"node_id":"MDU6SXNzdWU2NDk3NTI4NDU=","number":16,"title":"Cannot run code using default save_attention setting","user":{"login":"xuyu0010","id":16400742,"node_id":"MDQ6VXNlcjE2NDAwNzQy","avatar_url":"https://avatars.githubusercontent.com/u/16400742?v=4","gravatar_id":"","url":"https://api.github.com/users/xuyu0010","html_url":"https://github.com/xuyu0010","followers_url":"https://api.github.com/users/xuyu0010/followers","following_url":"https://api.github.com/users/xuyu0010/following{/other_user}","gists_url":"https://api.github.com/users/xuyu0010/gists{/gist_id}","starred_url":"https://api.github.com/users/xuyu0010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuyu0010/subscriptions","organizations_url":"https://api.github.com/users/xuyu0010/orgs","repos_url":"https://api.github.com/users/xuyu0010/repos","events_url":"https://api.github.com/users/xuyu0010/events{/privacy}","received_events_url":"https://api.github.com/users/xuyu0010/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-02T08:46:24Z","updated_at":"2020-07-11T16:54:18Z","closed_at":"2020-07-11T16:54:18Z","author_association":"NONE","active_lock_reason":null,"body":"Thank you for the wonderful code. \r\n\r\nHowever, when trying to reproduce the results, I am getting errors using the default setting in opts.py. I found that when running it would produce the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 836, in <module>\r\n    main()\r\n  File \"main.py\", line 240, in main\r\n    loss_c, attn_epoch_source, attn_epoch_target = train(num_class, source_loader, target_loader, model, criterion, criterion_domain, optimizer, epoch, train_file, train_short_file, alpha, beta, gamma, mu)\r\n  File \"main.py\", line 668, in train\r\n    return losses_c.avg, attn_epoch_source.mean(0), attn_epoch_target.mean(0)\r\nRuntimeError: invalid argument 2: invalid dimension 0 at /opt/conda/conda-bld/pytorch_1524584710464/work/aten/src/TH/generic/THTensorMath.c:3897\r\n```\r\nAfter checking, I suspect that the save_attention argument was the cause, and I change the default from -1 to 0. Although now it could run, I am getting only 73.89% accuracy. Could you help explain why the save_attention was set to -1? And what is the meaning of it setting to different values? Thank you!","closed_by":{"login":"xuyu0010","id":16400742,"node_id":"MDQ6VXNlcjE2NDAwNzQy","avatar_url":"https://avatars.githubusercontent.com/u/16400742?v=4","gravatar_id":"","url":"https://api.github.com/users/xuyu0010","html_url":"https://github.com/xuyu0010","followers_url":"https://api.github.com/users/xuyu0010/followers","following_url":"https://api.github.com/users/xuyu0010/following{/other_user}","gists_url":"https://api.github.com/users/xuyu0010/gists{/gist_id}","starred_url":"https://api.github.com/users/xuyu0010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuyu0010/subscriptions","organizations_url":"https://api.github.com/users/xuyu0010/orgs","repos_url":"https://api.github.com/users/xuyu0010/repos","events_url":"https://api.github.com/users/xuyu0010/events{/privacy}","received_events_url":"https://api.github.com/users/xuyu0010/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cmhungsteve/TA3N/issues/16/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cmhungsteve/TA3N/issues/16/timeline","performed_via_github_app":null,"state_reason":"completed"}