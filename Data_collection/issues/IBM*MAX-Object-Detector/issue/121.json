{"url":"https://api.github.com/repos/IBM/MAX-Object-Detector/issues/121","repository_url":"https://api.github.com/repos/IBM/MAX-Object-Detector","labels_url":"https://api.github.com/repos/IBM/MAX-Object-Detector/issues/121/labels{/name}","comments_url":"https://api.github.com/repos/IBM/MAX-Object-Detector/issues/121/comments","events_url":"https://api.github.com/repos/IBM/MAX-Object-Detector/issues/121/events","html_url":"https://github.com/IBM/MAX-Object-Detector/issues/121","id":589257047,"node_id":"MDU6SXNzdWU1ODkyNTcwNDc=","number":121,"title":"model training fails ","user":{"login":"ptitzler","id":13068832,"node_id":"MDQ6VXNlcjEzMDY4ODMy","avatar_url":"https://avatars.githubusercontent.com/u/13068832?v=4","gravatar_id":"","url":"https://api.github.com/users/ptitzler","html_url":"https://github.com/ptitzler","followers_url":"https://api.github.com/users/ptitzler/followers","following_url":"https://api.github.com/users/ptitzler/following{/other_user}","gists_url":"https://api.github.com/users/ptitzler/gists{/gist_id}","starred_url":"https://api.github.com/users/ptitzler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptitzler/subscriptions","organizations_url":"https://api.github.com/users/ptitzler/orgs","repos_url":"https://api.github.com/users/ptitzler/repos","events_url":"https://api.github.com/users/ptitzler/events{/privacy}","received_events_url":"https://api.github.com/users/ptitzler/received_events","type":"User","site_admin":false},"labels":[{"id":862104486,"node_id":"MDU6TGFiZWw4NjIxMDQ0ODY=","url":"https://api.github.com/repos/IBM/MAX-Object-Detector/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"SSaishruthi","id":22990801,"node_id":"MDQ6VXNlcjIyOTkwODAx","avatar_url":"https://avatars.githubusercontent.com/u/22990801?v=4","gravatar_id":"","url":"https://api.github.com/users/SSaishruthi","html_url":"https://github.com/SSaishruthi","followers_url":"https://api.github.com/users/SSaishruthi/followers","following_url":"https://api.github.com/users/SSaishruthi/following{/other_user}","gists_url":"https://api.github.com/users/SSaishruthi/gists{/gist_id}","starred_url":"https://api.github.com/users/SSaishruthi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SSaishruthi/subscriptions","organizations_url":"https://api.github.com/users/SSaishruthi/orgs","repos_url":"https://api.github.com/users/SSaishruthi/repos","events_url":"https://api.github.com/users/SSaishruthi/events{/privacy}","received_events_url":"https://api.github.com/users/SSaishruthi/received_events","type":"User","site_admin":false},"assignees":[{"login":"SSaishruthi","id":22990801,"node_id":"MDQ6VXNlcjIyOTkwODAx","avatar_url":"https://avatars.githubusercontent.com/u/22990801?v=4","gravatar_id":"","url":"https://api.github.com/users/SSaishruthi","html_url":"https://github.com/SSaishruthi","followers_url":"https://api.github.com/users/SSaishruthi/followers","following_url":"https://api.github.com/users/SSaishruthi/following{/other_user}","gists_url":"https://api.github.com/users/SSaishruthi/gists{/gist_id}","starred_url":"https://api.github.com/users/SSaishruthi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SSaishruthi/subscriptions","organizations_url":"https://api.github.com/users/SSaishruthi/orgs","repos_url":"https://api.github.com/users/SSaishruthi/repos","events_url":"https://api.github.com/users/SSaishruthi/events{/privacy}","received_events_url":"https://api.github.com/users/SSaishruthi/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-03-27T16:36:07Z","updated_at":"2020-03-27T20:33:58Z","closed_at":"2020-03-27T20:33:58Z","author_association":"MEMBER","active_lock_reason":null,"body":"training log file:\r\n```\r\nTraining with training/test data at:\r\n  DATA_DIR: /mnt/data/a-od-in\r\n  MODEL_DIR: /job/model-code\r\n  TRAINING_JOB: \r\n  TRAINING_COMMAND: chmod +x *.sh && ./train-max-model.sh\r\nStoring trained model at:\r\n  RESULT_DIR: /mnt/results/a-od-out/training-uGH1W19ZR\r\nFri Mar 27 15:55:42 UTC 2020: Running Tensorflow job\r\n# ************************************************************\r\n# Preparing for model training\r\n# ************************************************************\r\nTraining data is stored in /mnt/data/a-od-in\r\nTraining work files and results will be stored in /mnt/results/a-od-out/training-uGH1W19ZR\r\nInstalling prerequisite packages ...\r\nRequirement already satisfied: Cython in /opt/conda/lib/python3.6/site-packages (from -r training_requirements.txt (line 1)) (0.29.15)\r\nRequirement already satisfied: contextlib2 in /opt/conda/lib/python3.6/site-packages (from -r training_requirements.txt (line 2)) (0.6.0.post1)\r\nCollecting pycocotools==2.0.0\r\n  Downloading pycocotools-2.0.0.tar.gz (1.5 MB)\r\nCollecting coremltools==2.0\r\n  Downloading coremltools-2.0-cp36-none-manylinux1_x86_64.whl (2.7 MB)\r\nCollecting tfcoreml==0.3.0\r\n  Downloading tfcoreml-0.3.0-py3-none-any.whl (38 kB)\r\nCollecting tensorflowjs==0.8.0\r\n  Downloading tensorflowjs-0.8.0-py3-none-any.whl (39 kB)\r\nCollecting tensorflow-hub==0.3.0\r\n  Downloading tensorflow_hub-0.3.0-py2.py3-none-any.whl (73 kB)\r\nCollecting h5py==2.8.0\r\n  Downloading h5py-2.8.0-cp36-cp36m-manylinux1_x86_64.whl (2.8 MB)\r\nCollecting numpy==1.17.5\r\n  Downloading numpy-1.17.5-cp36-cp36m-manylinux1_x86_64.whl (20.0 MB)\r\nBuilding wheels for collected packages: pycocotools\r\n  Building wheel for pycocotools (setup.py): started\r\n  Building wheel for pycocotools (setup.py): finished with status 'done'\r\n  Created wheel for pycocotools: filename=pycocotools-2.0.0-cp36-cp36m-linux_x86_64.whl size=280641 sha256=a6286e9b8a13f150b736ef67703ea56d00109b65e9ff337d57146dd69f5cc4a9\r\n  Stored in directory: /home/gpuuser/.cache/pip/wheels/64/7a/c0/ac8f633d11a5f1a6902c72acb9fa828a2bb3639afba4e94a6c\r\nSuccessfully built pycocotools\r\nInstalling collected packages: pycocotools, coremltools, tfcoreml, tensorflowjs, tensorflow-hub, h5py, numpy\r\n  WARNING: The script coremlconverter is installed in '/home/gpuuser/.local/bin' which is not on PATH.\r\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\r\n  WARNING: The script tensorflowjs_converter is installed in '/home/gpuuser/.local/bin' which is not on PATH.\r\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\r\n  WARNING: The scripts f2py, f2py3 and f2py3.6 are installed in '/home/gpuuser/.local/bin' which is not on PATH.\r\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\r\nSuccessfully installed coremltools-2.0 h5py-2.8.0 numpy-1.17.5 pycocotools-2.0.0 tensorflow-hub-0.3.0 tensorflowjs-0.8.0 tfcoreml-0.3.0\r\nTraining completed. Output is stored in /mnt/results/a-od-out/training-uGH1W19ZR.\r\nRunning training command \"./training_command.sh\"\r\n# ************************************************************\r\n# Preparing data ...\r\n# ************************************************************\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/opt/conda/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/job/model-code/data/prepare_data_object_detection.py\", line 213, in <module>\r\n    main()\r\n  File \"/job/model-code/data/prepare_data_object_detection.py\", line 172, in main\r\n    opener.retrieve(download_base + model_file, tar_path)\r\n  File \"/opt/conda/lib/python3.6/urllib/request.py\", line 1791, in retrieve\r\n    fp = self.open(url, data)\r\n  File \"/opt/conda/lib/python3.6/urllib/request.py\", line 1757, in open\r\n    return getattr(self, name)(url)\r\n  File \"/opt/conda/lib/python3.6/urllib/request.py\", line 1967, in open_https\r\n    return self._open_generic_http(self._https_connection, url, data)\r\n  File \"/opt/conda/lib/python3.6/urllib/request.py\", line 1932, in _open_generic_http\r\n    response.status, response.reason, response.msg, data)\r\n  File \"/opt/conda/lib/python3.6/urllib/request.py\", line 1952, in http_error\r\n    return self.http_error_default(url, fp, errcode, errmsg, headers)\r\n  File \"/opt/conda/lib/python3.6/urllib/request.py\", line 1957, in http_error_default\r\n    raise HTTPError(url, errcode, errmsg, headers, None)\r\nurllib.error.HTTPError: HTTP Error 404: Not Found\r\n84 training and 36 validation examples.\r\n---------------------------------\r\n Using pre-trained model weights \r\n---------------------------------\r\nDownloading model checkpoint...\r\nReturn code from task 1: 1\r\nError: Training run exited with status code 1\r\nawk: cannot open /mnt/results/a-od-out/training-uGH1W19ZR/checkpoint/checkpoint (No such file or directory)\r\n\r\ncp: cannot stat '/mnt/results/a-od-out/training-uGH1W19ZR/checkpoint/*': No such file or directory\r\ncp: cannot stat '/mnt/results/a-od-out/training-uGH1W19ZR/model/frozen_inference_graph.pb': No such file or directory\r\ncp: cannot stat '/mnt/results/a-od-out/training-uGH1W19ZR/model/saved_model/saved_model.pb': No such file or directory\r\n# ************************************************************\r\n# Packaging artifacts\r\n# ************************************************************\r\nCreating downloadable archive \"/mnt/results/a-od-out/training-uGH1W19ZR/model_training_output.tar.gz\".\r\n./\r\n./trained_model/\r\n./trained_model/tensorflow/\r\n./trained_model/tensorflow/checkpoint/\r\n./trained_model/tensorflow/frozen_graph_def/\r\n./trained_model/tensorflow/frozen_graph_def/label_map.pbtxt\r\n./trained_model/tensorflow/saved_model/\r\n./trained_model/tensorflow/saved_model/label_map.pbtxt\r\nPackaging completed.\r\n```","closed_by":{"login":"ptitzler","id":13068832,"node_id":"MDQ6VXNlcjEzMDY4ODMy","avatar_url":"https://avatars.githubusercontent.com/u/13068832?v=4","gravatar_id":"","url":"https://api.github.com/users/ptitzler","html_url":"https://github.com/ptitzler","followers_url":"https://api.github.com/users/ptitzler/followers","following_url":"https://api.github.com/users/ptitzler/following{/other_user}","gists_url":"https://api.github.com/users/ptitzler/gists{/gist_id}","starred_url":"https://api.github.com/users/ptitzler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptitzler/subscriptions","organizations_url":"https://api.github.com/users/ptitzler/orgs","repos_url":"https://api.github.com/users/ptitzler/repos","events_url":"https://api.github.com/users/ptitzler/events{/privacy}","received_events_url":"https://api.github.com/users/ptitzler/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/IBM/MAX-Object-Detector/issues/121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/IBM/MAX-Object-Detector/issues/121/timeline","performed_via_github_app":null,"state_reason":"completed"}