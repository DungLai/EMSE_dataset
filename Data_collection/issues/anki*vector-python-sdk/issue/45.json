{"url":"https://api.github.com/repos/anki/vector-python-sdk/issues/45","repository_url":"https://api.github.com/repos/anki/vector-python-sdk","labels_url":"https://api.github.com/repos/anki/vector-python-sdk/issues/45/labels{/name}","comments_url":"https://api.github.com/repos/anki/vector-python-sdk/issues/45/comments","events_url":"https://api.github.com/repos/anki/vector-python-sdk/issues/45/events","html_url":"https://github.com/anki/vector-python-sdk/issues/45","id":710739610,"node_id":"MDU6SXNzdWU3MTA3Mzk2MTA=","number":45,"title":"Trying to call \"say_text\" twice error","user":{"login":"edeneliel","id":16021466,"node_id":"MDQ6VXNlcjE2MDIxNDY2","avatar_url":"https://avatars.githubusercontent.com/u/16021466?v=4","gravatar_id":"","url":"https://api.github.com/users/edeneliel","html_url":"https://github.com/edeneliel","followers_url":"https://api.github.com/users/edeneliel/followers","following_url":"https://api.github.com/users/edeneliel/following{/other_user}","gists_url":"https://api.github.com/users/edeneliel/gists{/gist_id}","starred_url":"https://api.github.com/users/edeneliel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edeneliel/subscriptions","organizations_url":"https://api.github.com/users/edeneliel/orgs","repos_url":"https://api.github.com/users/edeneliel/repos","events_url":"https://api.github.com/users/edeneliel/events{/privacy}","received_events_url":"https://api.github.com/users/edeneliel/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-09-29T03:54:28Z","updated_at":"2020-09-29T03:54:28Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Let's say i want to make my vector say \"Sorry\" every time he's not able to get what i said\r\nSo i wrote this code:\r\n\r\n```\r\ndef on_wake_word(robot, event_type, event):\r\n    if \"wake_word_end\" in str(event) and event.wake_word_end.intent_json == '':\r\n        try:\r\n            robot.conn.request_control()\r\n            robot.behavior.say_text(\"Sorry i couldn't help\")\r\n        finally:\r\n            robot.conn.release_control()\r\n\r\n\r\nif __name__ == \"__main__\":\r\n\r\n    with Robot() as vector_robot:\r\n        vector_robot.events.subscribe(on_wake_word, Events.wake_word)\r\n\r\n        while True:\r\n            sleep(1)\r\n```\r\n\r\nthe function does called twice if i try to trigger vector, the first time vector reacts as he should, and say the text,\r\nthe second time though, he gets there and throw an error:\r\n\r\n```\r\n<_MultiThreadedRendezvous of RPC that terminated with:\r\n\tstatus = StatusCode.INTERNAL\r\n\tdetails = \"Failed to say text\"\r\n\tdebug_error_string = \"{\"created\":\"@1601351205.816768000\",\"description\":\"Error received from peer ipv4:X.X.X.X:443\",\"file\":\"src/core/lib/surface/call.cc\",\"file_line\":1062,\"grpc_message\":\"Failed to say text\",\"grpc_status\":13}\"\r\n>\r\n```\r\n\r\nexpected:\r\nThat vector will work multiple times with the same call,\r\n\r\nThanks ahead, Eden","closed_by":null,"reactions":{"url":"https://api.github.com/repos/anki/vector-python-sdk/issues/45/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/anki/vector-python-sdk/issues/45/timeline","performed_via_github_app":null,"state_reason":null}