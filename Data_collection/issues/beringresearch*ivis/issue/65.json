{"url":"https://api.github.com/repos/beringresearch/ivis/issues/65","repository_url":"https://api.github.com/repos/beringresearch/ivis","labels_url":"https://api.github.com/repos/beringresearch/ivis/issues/65/labels{/name}","comments_url":"https://api.github.com/repos/beringresearch/ivis/issues/65/comments","events_url":"https://api.github.com/repos/beringresearch/ivis/issues/65/events","html_url":"https://github.com/beringresearch/ivis/issues/65","id":601086710,"node_id":"MDU6SXNzdWU2MDEwODY3MTA=","number":65,"title":"R pkg fit() call finishes but subprocess doesn't terminate","user":{"login":"sheffe","id":3778733,"node_id":"MDQ6VXNlcjM3Nzg3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/3778733?v=4","gravatar_id":"","url":"https://api.github.com/users/sheffe","html_url":"https://github.com/sheffe","followers_url":"https://api.github.com/users/sheffe/followers","following_url":"https://api.github.com/users/sheffe/following{/other_user}","gists_url":"https://api.github.com/users/sheffe/gists{/gist_id}","starred_url":"https://api.github.com/users/sheffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sheffe/subscriptions","organizations_url":"https://api.github.com/users/sheffe/orgs","repos_url":"https://api.github.com/users/sheffe/repos","events_url":"https://api.github.com/users/sheffe/events{/privacy}","received_events_url":"https://api.github.com/users/sheffe/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-04-16T14:08:21Z","updated_at":"2020-06-11T08:22:22Z","closed_at":"2020-06-11T08:22:22Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This model consistently feels like a magic trick, thanks for contributing!\r\n\r\n**Bug**\r\nI'm running the ivis R package(v1.7.1) (more system details below). I can get model$fit() and model$transform() working just fine and producing substantive results. However, when the R process finishes and returns the fitted model, I'm seeing continued sky-high system usage. The R process calling ivis is definitely completed and back to a command prompt, but in htop I can see the RStudio GUI process (parent of the rsession process) occupying at least 2 full cores. Some process further down is not stopping when the R process gets the returned value. (Restarting the R session does kill it.)\r\n\r\nI don't understand enough of the ivis-through-reticulate toolchain to provide more helpful diagnostics in this first report, but happy to run experiments and document further.\r\n\r\n**Environment**\r\n- ivis R package(v1.7.1), installed from Github (beringresearch/ivis@56a8479) 14 Apr 2020\r\n- reticulate (v1.15), 2020-04-02 CRAN (R 3.6.2)\r\n- R 3.6.2 on MacOS 10.14.6 (18G4032)\r\n```\r\nplatform       x86_64-apple-darwin15.6.0   \r\narch           x86_64                      \r\nos             darwin15.6.0                \r\nsystem         x86_64, darwin15.6.0        \r\nstatus                                     \r\nmajor          3                           \r\nminor          6.2                         \r\nyear           2019                        \r\nmonth          12                          \r\nday            12                          \r\nsvn rev        77560                       \r\nlanguage       R                           \r\nversion.string R version 3.6.2 (2019-12-12)\r\nnickname       Dark and Stormy Night  \r\n```","closed_by":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/65/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beringresearch/ivis/issues/65/timeline","performed_via_github_app":null,"state_reason":"completed"}