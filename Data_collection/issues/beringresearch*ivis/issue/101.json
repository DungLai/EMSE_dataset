{"url":"https://api.github.com/repos/beringresearch/ivis/issues/101","repository_url":"https://api.github.com/repos/beringresearch/ivis","labels_url":"https://api.github.com/repos/beringresearch/ivis/issues/101/labels{/name}","comments_url":"https://api.github.com/repos/beringresearch/ivis/issues/101/comments","events_url":"https://api.github.com/repos/beringresearch/ivis/issues/101/events","html_url":"https://github.com/beringresearch/ivis/issues/101","id":930873439,"node_id":"MDU6SXNzdWU5MzA4NzM0Mzk=","number":101,"title":"`NotFittedError` after caching and reloading fitted `Ivis` instance","user":{"login":"imatheussm","id":4311541,"node_id":"MDQ6VXNlcjQzMTE1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/4311541?v=4","gravatar_id":"","url":"https://api.github.com/users/imatheussm","html_url":"https://github.com/imatheussm","followers_url":"https://api.github.com/users/imatheussm/followers","following_url":"https://api.github.com/users/imatheussm/following{/other_user}","gists_url":"https://api.github.com/users/imatheussm/gists{/gist_id}","starred_url":"https://api.github.com/users/imatheussm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imatheussm/subscriptions","organizations_url":"https://api.github.com/users/imatheussm/orgs","repos_url":"https://api.github.com/users/imatheussm/repos","events_url":"https://api.github.com/users/imatheussm/events{/privacy}","received_events_url":"https://api.github.com/users/imatheussm/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-06-27T08:01:18Z","updated_at":"2021-10-06T21:31:23Z","closed_at":"2021-10-06T21:31:23Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"# The issue\r\n\r\nA fitted `Ivis` instance is not adequately preserved when `joblib.dump()` is used to save it. Consequently, when `Ivis` is used as part of a `sklearn.pipeline.Pipeline` object with `memory != None`, errors occur.\r\n\r\n# Minimal reproducible examples\r\n\r\nTwo examples are provided herein: one with `sklearn.pipeline.Pipeline`, and other with `joblib` only (`sklearn` uses `joblib` in `sklearn.pipeline.Pipeline`, so I thought this second example could help).\r\n\r\n## Environment\r\n\r\nA virtual environment was created specifically for this project, wherein all modules specified in requirements.txt were installed. My setup runs an up-to-date version of Windows 10 (no WSL).\r\n\r\n### Runtime\r\n\r\n```\r\npython=3.9.5\r\n```\r\n\r\n### Relevant modules\r\n\r\n```\r\nivis=2.0.4\r\ntensorflow=2.5.0\r\n```\r\n\r\n## Example with `sklearn.pipeline.Pipeline`\r\n\r\n### Script\r\n\r\n```\r\nimport tempfile\r\nimport ivis\r\n\r\nfrom sklearn import datasets, ensemble, model_selection, pipeline, preprocessing, svm\r\n\r\n\r\nX, y = datasets.load_iris(return_X_y=True)\r\n\r\npipeline_with_ivis = pipeline.Pipeline([\r\n    (\"normalize\", preprocessing.MinMaxScaler()),\r\n    (\"project\", None),\r\n    (\"classify\", None),\r\n], memory=tempfile.mkdtemp())\r\n\r\nparameter_grid = {\r\n    \"project\": (ivis.Ivis(verbose=0),),\r\n    \"project__k\": (15,),\r\n\r\n    \"classify\": (ensemble.RandomForestClassifier(), svm.SVC()),\r\n    \"classify__random_state\": (2021,)\r\n}\r\n\r\ngrid_search = model_selection.GridSearchCV(pipeline_with_ivis, parameter_grid, scoring=\"accuracy\", cv=10, verbose=3,\r\n                                           return_train_score=True).fit(X, y)  # should fail\r\n\r\n```\r\n\r\n### Log with errors\r\n\r\n```\r\nFitting 10 folds for each of 2 candidates, totalling 20 fits\r\n[CV 1/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=1.000) total time=  11.3s\r\n[CV 2/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=1.000) total time=   4.3s\r\n[CV 3/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=1.000) total time=   8.6s\r\n[CV 4/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=1.000) total time=   3.9s\r\n[CV 5/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=0.800) total time=   6.4s\r\n[CV 6/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=0.800) total time=   5.8s\r\n[CV 7/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=1.000) total time=   4.5s\r\n[CV 8/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=0.800) total time=   5.3s\r\n[CV 9/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=0.667) total time=   4.3s\r\n[CV 10/10] END classify=RandomForestClassifier(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=1.000, test=0.800) total time=   3.8s\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n[CV 1/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n[CV 2/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n[CV 3/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n[CV 4/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n[CV 5/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n[CV 6/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\n[CV 7/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n[CV 8/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n[CV 9/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py:696: UserWarning: Scoring failed. The score on this train-test partition for these parameters will be set to nan. Details: \r\nTraceback (most recent call last):\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 687, in _score\r\n    scores = scorer(estimator, X_test, y_test)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 199, in __call__\r\n    return self._score(partial(_cached_call, None), estimator, X, y_true,\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 236, in _score\r\n    y_pred = method_caller(estimator, \"predict\", X)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\metrics\\_scorer.py\", line 53, in _cached_call\r\n    return getattr(estimator, method)(*args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\utils\\metaestimators.py\", line 120, in <lambda>\r\n    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\pipeline.py\", line 418, in predict\r\n    Xt = transform.transform(Xt)\r\n  File \"<REPOSITORY_ROOT>\\ivis\\ivis.py\", line 331, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n  warnings.warn(\r\n[CV 10/10] END classify=SVC(), classify__random_state=2021, project=Ivis(verbose=0), project__k=15;, score=(train=nan, test=nan) total time=   0.0s\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_search.py:922: UserWarning: One or more of the test scores are non-finite: [0.88666667        nan]\r\n  warnings.warn(\r\n<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\sklearn\\model_selection\\_search.py:922: UserWarning: One or more of the train scores are non-finite: [ 1. nan]\r\n  warnings.warn(\r\n```\r\n\r\n## Example without `sklearn.pipeline.Pipeline`\r\n\r\n### Script\r\n\r\n```\r\nimport ivis\r\nimport joblib\r\n\r\nfrom sklearn import datasets, model_selection\r\n\r\n\r\nX, y = datasets.load_iris(return_X_y=True)\r\nX_train, X_test, y_train, y_test = model_selection.train_test_split(X, y, test_size=0.33, random_state=42)\r\nmodel = ivis.Ivis(k=15, batch_size=15, verbose=0).fit(X_train, y_train)\r\n\r\njoblib.dump(model, \"ivis.pkl\")\r\n\r\nnew_model = joblib.load(\"ivis.pkl\")\r\n\r\nmodel.transform(X_test)      # should work\r\nnew_model.transform(X_test)  # should fail\r\n```\r\n\r\n### Log with errors\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 1, in <module>\r\n  File \"<USER_FOLDER>\\AppData\\Local\\JetBrains\\Toolbox\\apps\\PyCharm-P\\ch-0\\211.7142.13\\plugins\\python\\helpers\\pydev\\_pydev_bundle\\pydev_umd.py\", line 197, in runfile\r\n    pydev_imports.execfile(filename, global_vars, local_vars)  # execute the script\r\n  File \"<USER_FOLDER>\\AppData\\Local\\JetBrains\\Toolbox\\apps\\PyCharm-P\\ch-0\\211.7142.13\\plugins\\python\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"<REPOSITORY_ROOT>/playground3.py\", line 20, in <module>\r\n    new_model.transform(X_test)  # should fail\r\n  File \"<REPOSITORY_ROOT>\\venv\\lib\\site-packages\\ivis\\ivis.py\", line 329, in transform\r\n    raise NotFittedError(\"Model was not fitted yet. Call `fit` before calling `transform`.\")\r\nsklearn.exceptions.NotFittedError: Model was not fitted yet. Call `fit` before calling `transform`.\r\n```\r\n\r\n# Discussion\r\n\r\nAs seen in the example with `sklearn.pipeline.Pipeline` and `sklearn.model_selection.GridSearchCV`, everything runs smoothly when `Ivis` is fitted the first time for all folds. When the model is cached and retrieved for the subsequent runs, however, errors happen because at least `Ivis.encoder` is missing. Upon experimentation, it was found that even after loading `Ivis.encoder`, errors happened with the reloaded model, indicating that other important attributes were not properly pickled.\r\n\r\nAlthough I never tested such functions, it seems that saving and loading capabilities were already developed for `Ivis` in `Ivis.save_model()` and `Ivis.load_model()`. However, to ensure that `Ivis` is pickleable, it would be ideal to transfer and adapt this functionality to `Ivis.__getstate__()` and `Ivis.__setstate__()` (the latter of which does not exist AFAIK) so that `pickle` and `joblib` know how to pickle an `Ivis` instance. This would enable its employment in `Pipeline` objects with `memory != None`, thus significantly speeding up the hyper-parameter fine-tuning process performed by `GridSearchCV`.","closed_by":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beringresearch/ivis/issues/101/timeline","performed_via_github_app":null,"state_reason":"completed"}