{"url":"https://api.github.com/repos/beringresearch/ivis/issues/28","repository_url":"https://api.github.com/repos/beringresearch/ivis","labels_url":"https://api.github.com/repos/beringresearch/ivis/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/beringresearch/ivis/issues/28/comments","events_url":"https://api.github.com/repos/beringresearch/ivis/issues/28/events","html_url":"https://github.com/beringresearch/ivis/issues/28","id":473763623,"node_id":"MDU6SXNzdWU0NzM3NjM2MjM=","number":28,"title":"Issue installing and running ivis R package in RStudio","user":{"login":"kevinrue","id":5769108,"node_id":"MDQ6VXNlcjU3NjkxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/5769108?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrue","html_url":"https://github.com/kevinrue","followers_url":"https://api.github.com/users/kevinrue/followers","following_url":"https://api.github.com/users/kevinrue/following{/other_user}","gists_url":"https://api.github.com/users/kevinrue/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrue/subscriptions","organizations_url":"https://api.github.com/users/kevinrue/orgs","repos_url":"https://api.github.com/users/kevinrue/repos","events_url":"https://api.github.com/users/kevinrue/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrue/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-07-28T16:50:48Z","updated_at":"2019-07-28T18:27:25Z","closed_at":"2019-07-28T18:27:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Hello,\r\n\r\nFor [JOSS review](https://github.com/openjournals/joss-reviews/issues/1596).\r\n\r\nThe installation instructions fail when run in the RStudio environment:\r\n\r\n```\r\n> devtools::install_github(\"beringresearch/ivis/R-package\", force=TRUE)\r\nDownloading GitHub repo beringresearch/ivis@master\r\n✔  checking for file ‘/private/var/folders/cp/8rn2cs_x79zcbp_yb75ychg80000gq/T/Rtmpud6pnU/remotesbe4d59017fdb/beringresearch-ivis-bbccdb7/R-package/DESCRIPTION’ ...\r\n─  preparing ‘ivis’:\r\n✔  checking DESCRIPTION meta-information ...\r\n─  checking for LF line-endings in source and make files and shell scripts\r\n─  checking for empty or unneeded directories\r\n─  building ‘ivis_1.1.3.tar.gz’\r\n   \r\n* installing *source* package ‘ivis’ ...\r\n** using staged installation\r\n** R\r\n** byte-compile and prepare package for lazy loading\r\n** help\r\n*** installing help indices\r\n** building package indices\r\n** testing if installed package can be loaded from temporary location\r\nError: package or namespace load failed for ‘ivis’:\r\n .onLoad failed in loadNamespace() for 'ivis', details:\r\n  call: path.expand(path)\r\n  error: invalid 'path' argument\r\nError: loading failed\r\nExecution halted\r\nERROR: loading failed\r\n* removing ‘/Library/Frameworks/R.framework/Versions/3.6/Resources/library/ivis’\r\n* restoring previous ‘/Library/Frameworks/R.framework/Versions/3.6/Resources/library/ivis’\r\nError: Failed to install 'ivis' from GitHub:\r\n  (converted from warning) installation of package ‘/var/folders/cp/8rn2cs_x79zcbp_yb75ychg80000gq/T//Rtmpud6pnU/filebe4d71713083/ivis_1.1.3.tar.gz’ had non-zero exit status\r\n```\r\n\r\nHowever, it does work fine when run in the console (Darwin Kernel Version 18.6.0: Thu Apr 25 23:16:27 PDT 2019; root:xnu-4903.261.4~2/RELEASE_X86_64 x86_64):\r\n\r\n```\r\n> devtools::install_github(\"beringresearch/ivis/R-package\", force=TRUE)\r\nDownloading GitHub repo beringresearch/ivis@master\r\n   checking for file ‘/private/var/folders/cp/8rn2cs_x79zcbp_yb75ychg80000gq/T/Rtmpvj2CT3/remotesc3827327cfb8/beringresearch-ivis-bbccdb7/R-package/DESCRIPTION’✔  checking for file ‘/private/var/folders/cp/8rn2cs_x79zcbp_yb75ychg80000gq/T/Rtmpvj2CT3/remotesc3827327cfb8/beringresearch-ivis-bbccdb7/R-package/DESCRIPTION’\r\n─  preparing ‘ivis’:\r\n✔  checking DESCRIPTION meta-information ...\r\n─  checking for LF line-endings in source and make files and shell scripts\r\n─  checking for empty or unneeded directories\r\n─  building ‘ivis_1.1.3.tar.gz’\r\n   \r\n* installing *source* package ‘ivis’ ...\r\n** using staged installation\r\n** R\r\n** byte-compile and prepare package for lazy loading\r\n** help\r\n*** installing help indices\r\n** building package indices\r\n** testing if installed package can be loaded from temporary location\r\n** testing if installed package can be loaded from final location\r\n** testing if installed package keeps a record of temporary installation path\r\n* DONE (ivis)\r\n```\r\n\r\nMoreover, the `ivis` package (installed from the terminal) can be loaded from an R console in a terminal, but throws the following error when loaded in RStudio\r\n\r\n```\r\n> library(ivis)\r\nError: package or namespace load failed for ‘ivis’:\r\n .onLoad failed in loadNamespace() for 'ivis', details:\r\n  call: path.expand(path)\r\n  error: invalid 'path' argument\r\n```\r\n\r\nThis is most likely due to `conda` not being on the `PATH` in RStudio:\r\n```\r\n# RStudio\r\n> system(\"echo $PATH\")\r\n/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/ncbi/igblast/bin:/Library/TeX/texbin:/opt/X11/bin:/opt/local/bin\r\n# Console\r\n> system(\"echo $PATH\")\r\n/Users/kevin/miniconda3/bin:/Users/kevin/miniconda3/condabin:/usr/local/opt/imagemagick@6/bin:/Users/kevin/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/ncbi/igblast/bin:/Library/TeX/texbin:/opt/X11/bin\r\n```\r\n\r\nIs there a recommended way to set up an environment to run `ivis` in RStudio, or are users only expected to run it from a terminal R console?\r\n\r\nThanks!","closed_by":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/28/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beringresearch/ivis/issues/28/timeline","performed_via_github_app":null,"state_reason":"completed"}