{"url":"https://api.github.com/repos/beringresearch/ivis/issues/61","repository_url":"https://api.github.com/repos/beringresearch/ivis","labels_url":"https://api.github.com/repos/beringresearch/ivis/issues/61/labels{/name}","comments_url":"https://api.github.com/repos/beringresearch/ivis/issues/61/comments","events_url":"https://api.github.com/repos/beringresearch/ivis/issues/61/events","html_url":"https://github.com/beringresearch/ivis/issues/61","id":583148505,"node_id":"MDU6SXNzdWU1ODMxNDg1MDU=","number":61,"title":"embedding dim cannot be 1","user":{"login":"hhaootian","id":41531307,"node_id":"MDQ6VXNlcjQxNTMxMzA3","avatar_url":"https://avatars.githubusercontent.com/u/41531307?v=4","gravatar_id":"","url":"https://api.github.com/users/hhaootian","html_url":"https://github.com/hhaootian","followers_url":"https://api.github.com/users/hhaootian/followers","following_url":"https://api.github.com/users/hhaootian/following{/other_user}","gists_url":"https://api.github.com/users/hhaootian/gists{/gist_id}","starred_url":"https://api.github.com/users/hhaootian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhaootian/subscriptions","organizations_url":"https://api.github.com/users/hhaootian/orgs","repos_url":"https://api.github.com/users/hhaootian/repos","events_url":"https://api.github.com/users/hhaootian/events{/privacy}","received_events_url":"https://api.github.com/users/hhaootian/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-03-17T16:42:17Z","updated_at":"2020-03-19T20:45:56Z","closed_at":"2020-03-19T20:45:56Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\n`embedding_dims` set to be 1 will lead to -> \r\nValueError: Invalid reduction dimension 1 for input with 1 dimensions. for 'loss/stacked_triplets_loss/Sum' (op: 'Sum') with input shapes: [?], [] and with computed input tensors: input[1] = <1>.\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\nfrom tensorflow.keras.datasets import mnist\r\nfrom ivis import Ivis\r\n\r\n(X_train, Y_train), (X_test, Y_test) = mnist.load_data()\r\nX_train = np.reshape(X_train, (len(X_train), 28 * 28))\r\nX_test = np.reshape(X_test, (len(X_test), 28 * 28))\r\n\r\nmodel = Ivis(embedding_dims=1)\r\nmodel.fit(X_train, Y_train)\r\n```\r\n\r\n**Expected behavior**\r\nIt should work when reducing to one dimension. \r\n\r\n**Versions**\r\n - OS: [GCC 7.3.0] on linux\r\n - Ivis 1.7.1\r\n - Python 3.6.7\r\n","closed_by":{"login":"hhaootian","id":41531307,"node_id":"MDQ6VXNlcjQxNTMxMzA3","avatar_url":"https://avatars.githubusercontent.com/u/41531307?v=4","gravatar_id":"","url":"https://api.github.com/users/hhaootian","html_url":"https://github.com/hhaootian","followers_url":"https://api.github.com/users/hhaootian/followers","following_url":"https://api.github.com/users/hhaootian/following{/other_user}","gists_url":"https://api.github.com/users/hhaootian/gists{/gist_id}","starred_url":"https://api.github.com/users/hhaootian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhaootian/subscriptions","organizations_url":"https://api.github.com/users/hhaootian/orgs","repos_url":"https://api.github.com/users/hhaootian/repos","events_url":"https://api.github.com/users/hhaootian/events{/privacy}","received_events_url":"https://api.github.com/users/hhaootian/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/61/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beringresearch/ivis/issues/61/timeline","performed_via_github_app":null,"state_reason":"completed"}