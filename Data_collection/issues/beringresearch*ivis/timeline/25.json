[{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510846229","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510846229","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510846229,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg0NjIyOQ==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T11:04:27Z","updated_at":"2019-07-12T11:04:41Z","author_association":"NONE","body":"Full trace:\r\n\r\n```\r\nUsing TensorFlow backend.\r\nExtracting KNN from index\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-1-b58dbf548167> in <module>\r\n     13 \r\n     14 # Generate embeddings\r\n---> 15 embeddings = model.fit_transform(X_scaled)\r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\ivis.py in fit_transform(self, X, Y, shuffle_mode)\r\n    228         \"\"\"\r\n    229 \r\n--> 230         self.fit(X, Y, shuffle_mode)\r\n    231         return self.transform(X)\r\n    232 \r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\ivis.py in fit(self, X, Y, shuffle_mode)\r\n    207         \"\"\"\r\n    208 \r\n--> 209         self._fit(X, Y, shuffle_mode)\r\n    210         return self\r\n    211 \r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\ivis.py in _fit(self, X, Y, shuffle_mode)\r\n    132                                        search_k=self.search_k,\r\n    133                                        precompute=self.precompute,\r\n--> 134                                        verbose=self.verbose)\r\n    135 \r\n    136         loss_monitor = 'loss'\r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\data\\triplet_generators.py in generator_from_index(X, Y, index_path, k, batch_size, search_k, precompute, verbose)\r\n     38 \r\n     39             neighbour_matrix = extract_knn(X, index_path, k=k,\r\n---> 40                                            search_k=search_k, verbose=verbose)\r\n     41             return KnnTripletGenerator(X, neighbour_matrix,\r\n     42                                        batch_size=batch_size)\r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\data\\knn.py in extract_knn(X, index_filepath, k, search_k, verbose)\r\n     53 \r\n     54     for process in process_pool:\r\n---> 55         process.start()\r\n     56 \r\n     57     # Read from queue constantly to prevent it from becoming full\r\n\r\n~\\Anaconda3\\lib\\multiprocessing\\process.py in start(self)\r\n    110                'daemonic processes are not allowed to have children'\r\n    111         _cleanup()\r\n--> 112         self._popen = self._Popen(self)\r\n    113         self._sentinel = self._popen.sentinel\r\n    114         # Avoid a refcycle if the target function holds an indirect\r\n\r\n~\\Anaconda3\\lib\\multiprocessing\\context.py in _Popen(process_obj)\r\n    221     @staticmethod\r\n    222     def _Popen(process_obj):\r\n--> 223         return _default_context.get_context().Process._Popen(process_obj)\r\n    224 \r\n    225 class DefaultContext(BaseContext):\r\n\r\n~\\Anaconda3\\lib\\multiprocessing\\context.py in _Popen(process_obj)\r\n    320         def _Popen(process_obj):\r\n    321             from .popen_spawn_win32 import Popen\r\n--> 322             return Popen(process_obj)\r\n    323 \r\n    324     class SpawnContext(BaseContext):\r\n\r\n~\\Anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py in __init__(self, process_obj)\r\n     63             try:\r\n     64                 reduction.dump(prep_data, to_child)\r\n---> 65                 reduction.dump(process_obj, to_child)\r\n     66             finally:\r\n     67                 set_spawning_popen(None)\r\n\r\n~\\Anaconda3\\lib\\multiprocessing\\reduction.py in dump(obj, file, protocol)\r\n     58 def dump(obj, file, protocol=None):\r\n     59     '''Replacement for pickle.dump() using ForkingPickler.'''\r\n---> 60     ForkingPickler(file, protocol).dump(obj)\r\n     61 \r\n     62 #\r\n\r\nTypeError: can't pickle annoy.Annoy objects\r\n```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510846229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510847473","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510847473","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510847473,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg0NzQ3Mw==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T11:09:17Z","updated_at":"2019-07-12T11:09:31Z","author_association":"NONE","body":"Additionally, if I do not explicitly specify a full path to the annoy_index_path, I see the following:\r\n\r\n```OSError: [Errno 22] Invalid argument```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510847473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510847709","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510847709","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510847709,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg0NzcwOQ==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T11:10:14Z","updated_at":"2019-07-12T11:10:14Z","author_association":"NONE","body":"Trace:\r\n\r\n```\r\nBuilding KNN index\r\n---------------------------------------------------------------------------\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-2-94d0c1d9d499> in <module>\r\n     13 \r\n     14 # Generate embeddings\r\n---> 15 embeddings = model.fit_transform(X_scaled)\r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\ivis.py in fit_transform(self, X, Y, shuffle_mode)\r\n    228         \"\"\"\r\n    229 \r\n--> 230         self.fit(X, Y, shuffle_mode)\r\n    231         return self.transform(X)\r\n    232 \r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\ivis.py in fit(self, X, Y, shuffle_mode)\r\n    207         \"\"\"\r\n    208 \r\n--> 209         self._fit(X, Y, shuffle_mode)\r\n    210         return self\r\n    211 \r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\ivis.py in _fit(self, X, Y, shuffle_mode)\r\n    124                 print('Building KNN index')\r\n    125             build_annoy_index(X, self.annoy_index_path,\r\n--> 126                               ntrees=self.ntrees, verbose=self.verbose)\r\n    127 \r\n    128         datagen = generator_from_index(X, Y,\r\n\r\n~\\Anaconda3\\lib\\site-packages\\ivis\\data\\knn.py in build_annoy_index(X, path, ntrees, verbose)\r\n     15 \r\n     16     index = AnnoyIndex(X.shape[1])\r\n---> 17     index.on_disk_build(path)\r\n     18 \r\n     19     if issparse(X):\r\n\r\nOSError: [Errno 22] Invalid argument\r\n```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510847709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510850485","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510850485","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510850485,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg1MDQ4NQ==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T11:21:24Z","updated_at":"2019-07-12T11:21:24Z","author_association":"NONE","body":"May be useful? https://github.com/spotify/annoy/issues/367","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510850485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510851162","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510851162","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510851162,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg1MTE2Mg==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T11:23:55Z","updated_at":"2019-07-12T11:23:55Z","author_association":"COLLABORATOR","body":"Hi - thanks for trying out ivis.\r\n\r\nWe haven't tested the package on a Windows machine, but judging from error traces, the issues may be around multicore retrieval of KNNs that require the Annoy index to be mmapped to memory.\r\n\r\nWith respect to ``annoy_index_path`` - ivis automatically assigns a path to the nearest neighbour index if one wasn't provided. I suspect here the issue may be the slight differences in how paths are interpreted on Windows vs Linux machines.\r\n\r\nTo get to the bottom of this, we'll need get a hold of a windows VM and reproduce these errors.\r\n\r\nMeanwhile, you could try and test out ivis through a docker container.","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510851162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510851660","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510851660","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510851660,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg1MTY2MA==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T11:25:57Z","updated_at":"2019-07-12T11:27:42Z","author_association":"NONE","body":"Thought as much. I will post any additional findings here as a reference if it may help future work...\r\n\r\nOne other thing I've noticed. If I do not pre-compute the index, it gets a bit further but then fails on something seemingly different during the first epoch:\r\n\r\n```IndexError: Item index larger than the largest item index```\r\n\r\nSpecifically here:\r\n```...\\triplet_generators.py in knn_triplet_from_annoy_index(self, row_index)\r\n     97         triplet = []\r\n     98         neighbour_list = np.array(self.annoy_index.get_nns_by_item(row_index, self.k + 1,\r\n---> 99                                   search_k=self.search_k, include_distances=False), dtype=np.uint32)\r\n    100 \r\n    101         # Take a random neighbour as positive\r\n```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510851660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510852891","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510852891","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510852891,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg1Mjg5MQ==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T11:31:01Z","updated_at":"2019-07-12T11:31:01Z","author_association":"COLLABORATOR","body":"Yea - that makes sense. With ``precompute=False`` ivis goes straight into training the network and retrieves NNs just for a training batch at training time - a feature that allows us to scale ivis to out-of-memory datasets.\r\n\r\nDownloading a Windows VM now and will start testing.\r\n\r\nJust to warn you - may take a week or two for any changes to be released into the master branch as we have tests that need to be passed and new tests for Windows will need to be written if an official support is to be implemented. ","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510852891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510853298","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510853298","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510853298,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg1MzI5OA==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T11:32:33Z","updated_at":"2019-07-12T11:32:33Z","author_association":"NONE","body":"No worries. Appreciate the speedy reply. Happy to be a guinea pig if needed. :)","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510853298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"id":2478785213,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyNDc4Nzg1MjEz","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2478785213","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-07-12T11:43:52Z","assignee":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"id":2478785494,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyNDc4Nzg1NDk0","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2478785494","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-07-12T11:43:59Z","assignee":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510941663","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-510941663","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":510941663,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDk0MTY2Mw==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T16:02:59Z","updated_at":"2019-07-12T16:05:28Z","author_association":"COLLABORATOR","body":"Hi - I managed to reproduce the issue on a Windows machine and unfortunately it seems to be a lot more complicated than I originally thought.\r\n\r\nThe error is generated by a method that carries out multicore retrieval of nearest neighbours from an on-disk Annoy index. The index file (``annoy.index``) is mmaped across processes and workers that retrieve the neighbours.\r\n\r\nNow, on Linux-y systems only the main process runs the whole module, while on Windows, all new processes run the entire module \"from scratch\". This means that on Linux-y systems, it isn't necessary to pickle objects whilst passing them around each fork, but it is necessary to pickle them on Windows...and Annoy index is not pickleable...\r\n\r\nBecause of this frustrating distinction, single thread neighbour retrieval will work absolutely fine on both Windows and Linux, but multithreading will fail. Only multi-threaded retrieval is implemented in ``ivis`` for speed.\r\n\r\nIt would be great if we could get some help wrangling python's multiprocessing module to play nicely with annoy index on Windows and we'll carry on working  on it. For the time being, I think you'd be better off running ivis inside a docker container.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/510941663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"id":2479512577,"node_id":"MDEyOkxhYmVsZWRFdmVudDI0Nzk1MTI1Nzc=","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2479512577","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-07-12T16:03:19Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"id":2479512579,"node_id":"MDEyOkxhYmVsZWRFdmVudDI0Nzk1MTI1Nzk=","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2479512579","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-07-12T16:03:19Z","label":{"name":"help wanted","color":"008672"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/511090305","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-511090305","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":511090305,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTA5MDMwNQ==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-13T05:22:52Z","updated_at":"2019-07-13T05:22:52Z","author_association":"NONE","body":"I have a few ideas on this. Will take a crack at it in the coming week. ","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/511090305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/514284775","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-514284775","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":514284775,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDI4NDc3NQ==","user":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"created_at":"2019-07-23T16:27:39Z","updated_at":"2019-07-23T16:27:39Z","author_association":"COLLABORATOR","body":"Hi, have pushed a branch with some changes made for Windows compatibility: https://github.com/beringresearch/ivis/tree/windows-annoy\r\n\r\nThe branch has been tested on Python 3.7.\r\n\r\nWhen on Windows, on disk-building of the Annoy Index will be disabled as it doesn't seem to work currently (see https://github.com/spotify/annoy/issues/353). \r\n\r\nDo try out the new branch and let us know if you encounter any further issues.","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/514284775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/514577966","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-514577966","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":514577966,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDU3Nzk2Ng==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-24T10:34:10Z","updated_at":"2019-07-24T10:34:10Z","author_association":"NONE","body":"Brilliant. I have put some time aside to look at this tomorrow. Will provide feedback. :)","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/514577966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/515027146","html_url":"https://github.com/beringresearch/ivis/issues/25#issuecomment-515027146","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/25","id":515027146,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTAyNzE0Ng==","user":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"created_at":"2019-07-25T12:40:10Z","updated_at":"2019-07-25T12:40:10Z","author_association":"NONE","body":"I can confirm this is working my side. I've tested on a Python 3.7 and Python 3.6 environment. Both Windows 10.\r\n\r\nI suppose this does mean there are memory limitations for a user to consider when running this on Windows for now. It may be useful to just have a note on this in the wiki. \r\n\r\nThanks a lot.\r\n","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/515027146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false}},{"id":2509367303,"node_id":"MDExOkNsb3NlZEV2ZW50MjUwOTM2NzMwMw==","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2509367303","actor":{"login":"paul-harambee","id":40761664,"node_id":"MDQ6VXNlcjQwNzYxNjY0","avatar_url":"https://avatars.githubusercontent.com/u/40761664?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-harambee","html_url":"https://github.com/paul-harambee","followers_url":"https://api.github.com/users/paul-harambee/followers","following_url":"https://api.github.com/users/paul-harambee/following{/other_user}","gists_url":"https://api.github.com/users/paul-harambee/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-harambee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-harambee/subscriptions","organizations_url":"https://api.github.com/users/paul-harambee/orgs","repos_url":"https://api.github.com/users/paul-harambee/repos","events_url":"https://api.github.com/users/paul-harambee/events{/privacy}","received_events_url":"https://api.github.com/users/paul-harambee/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-07-25T12:40:10Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T05:55:25Z","updated_at":"2019-10-10T05:55:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/48","repository_url":"https://api.github.com/repos/beringresearch/ivis","labels_url":"https://api.github.com/repos/beringresearch/ivis/issues/48/labels{/name}","comments_url":"https://api.github.com/repos/beringresearch/ivis/issues/48/comments","events_url":"https://api.github.com/repos/beringresearch/ivis/issues/48/events","html_url":"https://github.com/beringresearch/ivis/issues/48","id":504194661,"node_id":"MDU6SXNzdWU1MDQxOTQ2NjE=","number":48,"title":"Bug with index.build(ntrees)","user":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"assignees":[{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false}],"milestone":null,"comments":15,"created_at":"2019-10-08T18:06:18Z","updated_at":"2019-10-21T08:32:52Z","closed_at":"2019-10-15T16:23:57Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":144551119,"node_id":"MDEwOlJlcG9zaXRvcnkxNDQ1NTExMTk=","name":"ivis","full_name":"beringresearch/ivis","private":false,"owner":{"login":"beringresearch","id":14840322,"node_id":"MDQ6VXNlcjE0ODQwMzIy","avatar_url":"https://avatars.githubusercontent.com/u/14840322?v=4","gravatar_id":"","url":"https://api.github.com/users/beringresearch","html_url":"https://github.com/beringresearch","followers_url":"https://api.github.com/users/beringresearch/followers","following_url":"https://api.github.com/users/beringresearch/following{/other_user}","gists_url":"https://api.github.com/users/beringresearch/gists{/gist_id}","starred_url":"https://api.github.com/users/beringresearch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beringresearch/subscriptions","organizations_url":"https://api.github.com/users/beringresearch/orgs","repos_url":"https://api.github.com/users/beringresearch/repos","events_url":"https://api.github.com/users/beringresearch/events{/privacy}","received_events_url":"https://api.github.com/users/beringresearch/received_events","type":"User","site_admin":false},"html_url":"https://github.com/beringresearch/ivis","description":"Dimensionality reduction in very large datasets using Siamese Networks","fork":false,"url":"https://api.github.com/repos/beringresearch/ivis","forks_url":"https://api.github.com/repos/beringresearch/ivis/forks","keys_url":"https://api.github.com/repos/beringresearch/ivis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beringresearch/ivis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beringresearch/ivis/teams","hooks_url":"https://api.github.com/repos/beringresearch/ivis/hooks","issue_events_url":"https://api.github.com/repos/beringresearch/ivis/issues/events{/number}","events_url":"https://api.github.com/repos/beringresearch/ivis/events","assignees_url":"https://api.github.com/repos/beringresearch/ivis/assignees{/user}","branches_url":"https://api.github.com/repos/beringresearch/ivis/branches{/branch}","tags_url":"https://api.github.com/repos/beringresearch/ivis/tags","blobs_url":"https://api.github.com/repos/beringresearch/ivis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beringresearch/ivis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beringresearch/ivis/git/refs{/sha}","trees_url":"https://api.github.com/repos/beringresearch/ivis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beringresearch/ivis/statuses/{sha}","languages_url":"https://api.github.com/repos/beringresearch/ivis/languages","stargazers_url":"https://api.github.com/repos/beringresearch/ivis/stargazers","contributors_url":"https://api.github.com/repos/beringresearch/ivis/contributors","subscribers_url":"https://api.github.com/repos/beringresearch/ivis/subscribers","subscription_url":"https://api.github.com/repos/beringresearch/ivis/subscription","commits_url":"https://api.github.com/repos/beringresearch/ivis/commits{/sha}","git_commits_url":"https://api.github.com/repos/beringresearch/ivis/git/commits{/sha}","comments_url":"https://api.github.com/repos/beringresearch/ivis/comments{/number}","issue_comment_url":"https://api.github.com/repos/beringresearch/ivis/issues/comments{/number}","contents_url":"https://api.github.com/repos/beringresearch/ivis/contents/{+path}","compare_url":"https://api.github.com/repos/beringresearch/ivis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beringresearch/ivis/merges","archive_url":"https://api.github.com/repos/beringresearch/ivis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beringresearch/ivis/downloads","issues_url":"https://api.github.com/repos/beringresearch/ivis/issues{/number}","pulls_url":"https://api.github.com/repos/beringresearch/ivis/pulls{/number}","milestones_url":"https://api.github.com/repos/beringresearch/ivis/milestones{/number}","notifications_url":"https://api.github.com/repos/beringresearch/ivis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beringresearch/ivis/labels{/name}","releases_url":"https://api.github.com/repos/beringresearch/ivis/releases{/id}","deployments_url":"https://api.github.com/repos/beringresearch/ivis/deployments","created_at":"2018-08-13T08:31:01Z","updated_at":"2023-01-17T15:00:20Z","pushed_at":"2023-01-11T12:25:50Z","git_url":"git://github.com/beringresearch/ivis.git","ssh_url":"git@github.com:beringresearch/ivis.git","clone_url":"https://github.com/beringresearch/ivis.git","svn_url":"https://github.com/beringresearch/ivis","homepage":"http://bering-ivis.readthedocs.io","size":36707,"stargazers_count":286,"watchers_count":286,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":37,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["data-visualization","dimensionality-reduction","machine-learning","neural-network","siamese-neural-network"],"visibility":"public","forks":37,"open_issues":2,"watchers":286,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello,\r\n\r\nI'm trying to run the ivis examples (both the simple iris one and the mnist one, and I keep getting this error whenever the model fitting is being called (running this on Debian). Any thoughts?\r\n\r\n```python\r\nIn [7]: embeddings = ivis.fit_transform(mnist.data)\r\n\r\nError truncating file: Invalid argument\r\n---------------------------------------------------------------------------\r\nException                                 Traceback (most recent call last)\r\n<ipython-input-7-d5f1692c2b85> in <module>\r\n----> 1 embeddings = ivis.fit_transform(mnist.data)\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.7/site-packages/ivis/ivis.py in fit_transform(self, X, Y, shuffle_mode)\r\n    289         \"\"\"\r\n    290\r\n--> 291         self.fit(X, Y, shuffle_mode)\r\n    292         return self.transform(X)\r\n    293\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.7/site-packages/ivis/ivis.py in fit(self, X, Y, shuffle_mode)\r\n    269         \"\"\"\r\n    270\r\n--> 271         self._fit(X, Y, shuffle_mode)\r\n    272         return self\r\n    273\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.7/site-packages/ivis/ivis.py in _fit(self, X, Y, shuffle_mode)\r\n    146                 print('Building KNN index')\r\n    147             build_annoy_index(X, self.annoy_index_path,\r\n--> 148                               ntrees=self.ntrees, verbose=self.verbose)\r\n    149\r\n    150         datagen = generator_from_index(X, Y,\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.7/site-packages/ivis/data/knn.py in build_annoy_index(X, path, ntrees, verbose)\r\n     28\r\n     29     # Build n trees\r\n---> 30     index.build(ntrees)\r\n     31     if platform.system() == 'Windows':\r\n     32         index.save(path)\r\n\r\nException: Invalid argument\r\n```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/48/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beringresearch/ivis/issues/48/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]