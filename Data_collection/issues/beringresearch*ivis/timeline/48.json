[{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539645779","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-539645779","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":539645779,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTY0NTc3OQ==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-10-08T18:35:59Z","updated_at":"2019-10-08T18:35:59Z","author_association":"COLLABORATOR","body":"Hi - could you check a couple of things:\r\n\r\n1. Annoy library installation - what do you get if you run:\r\n\r\n```python\r\nimport annoy\r\n```\r\n\r\nfrom the environment where ivis was installed?\r\n\r\n2. What ivis version is used?\r\n\r\n```python\r\nimport ivis\r\nivis.__version__\r\n```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539645779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539649373","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-539649373","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":539649373,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTY0OTM3Mw==","user":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false},"created_at":"2019-10-08T18:45:31Z","updated_at":"2019-10-08T18:45:31Z","author_association":"NONE","body":"Annoy imports without issues (and pip freeze shows that annoy is at 1.16.0)\r\nIvis version installed is 1.5.3","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539649373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539658409","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-539658409","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":539658409,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTY1ODQwOQ==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-10-08T19:08:35Z","updated_at":"2019-10-08T19:09:53Z","author_association":"COLLABORATOR","body":"Ok, cool.\r\n\r\nI'm still not able to reproduce the error and our build tests are passing ok both on a Mac and Ubuntu with python 3.7. Could you provide a bit more info:\r\n\r\n1. Did you install ivis from git or directly from pip?\r\n2. How is ivis object constructed - are you copying the example verbatim or are you passing additional parameters into the constructor?\r\n3. I noticed that you're using a conda environment - would you mind trying ivis inside a standard virtual environment? We haven't had any issues with conda in the past, but conda annoy ships under a different name (python-annoy) and may be there is a conflict somewhere... It's a long shot, but worth checking.\r\n\r\nCopying in @Szubie to see if we can get to the bottom of this.\r\n","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539658409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"id":2696549030,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjY5NjU0OTAzMA==","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2696549030","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-08T19:08:35Z","performed_via_github_app":null},{"id":2696549032,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2OTY1NDkwMzI=","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2696549032","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-08T19:08:35Z","performed_via_github_app":null},{"id":2696549595,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyNjk2NTQ5NTk1","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2696549595","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-10-08T19:08:47Z","assignee":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"id":2696549602,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyNjk2NTQ5NjAy","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2696549602","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-10-08T19:08:47Z","assignee":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539676626","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-539676626","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":539676626,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTY3NjYyNg==","user":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"created_at":"2019-10-08T19:57:00Z","updated_at":"2019-10-08T19:57:28Z","author_association":"COLLABORATOR","body":"It looks like the Annoy is running into issues when building the KNN index. The error given is similar to the one mentioned in this open issue on the Annoy repo: https://github.com/spotify/annoy/issues/404\r\n\r\nIt might be worth reinstalling an older version of Annoy (such as 1.15.2) to see if that resolves the issue.","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539676626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539740001","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-539740001","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":539740001,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTc0MDAwMQ==","user":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false},"created_at":"2019-10-08T23:03:32Z","updated_at":"2019-10-08T23:03:32Z","author_association":"NONE","body":"@idroz @Szubie ok so I downgraded to 1.15.2 for Annoy and it went past the first part without errorring, BUT then it dies here.\r\n\r\nAnd to answer your question @idroz, I am using the Iris example verbatim from the README.\r\n\r\n```python\r\n\r\nBuilding KNN index\r\n100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 150/150 [00:00<00:00, 165173.43it/s]\r\nExtracting KNN from index\r\n  0%|                                                                                                                                                                                                                                                   | 0/150 [00:00<?, ?it/s]\r\nWARNING:tensorflow:From /opt/conda/envs/ivisumap/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be remove\r\nd in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\nTraining neural network\r\nEpoch 1/1000\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-8-ddab2956ed6f> in <module>\r\n----> 1 embeddings = model.fit_transform(X_scaled)\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/ivis/ivis.py in fit_transform(self, X, Y, shuffle_mode)\r\n    289         \"\"\"\r\n    290\r\n--> 291         self.fit(X, Y, shuffle_mode)\r\n    292         return self.transform(X)\r\n    293\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/ivis/ivis.py in fit(self, X, Y, shuffle_mode)\r\n    269         \"\"\"\r\n    270\r\n--> 271         self._fit(X, Y, shuffle_mode)\r\n    272         return self\r\n    273\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/ivis/ivis.py in _fit(self, X, Y, shuffle_mode)\r\n    251             shuffle=shuffle_mode,\r\n    252             workers=multiprocessing.cpu_count(),\r\n--> 253             verbose=self.verbose)\r\n    254         self.loss_history_ += hist.history['loss']\r\n    255\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training.py in fit_generator(self, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, validation_freq, class_weight, max_queue_size, workers, u\r\nse_multiprocessing, shuffle, initial_epoch)\r\n   1295         shuffle=shuffle,\r\n   1296         initial_epoch=initial_epoch,\r\n-> 1297         steps_name='steps_per_epoch')\r\n   1298\r\n   1299   def evaluate_generator(self,\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_generator.py in model_iteration(model, data, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, validation_freq, class_weight, max_queue_size, wo\r\nrkers, use_multiprocessing, shuffle, initial_epoch, mode, batch_size, steps_name, **kwargs)\r\n    219     step = 0\r\n    220     while step < target_steps:\r\n--> 221       batch_data = _get_next_batch(generator)\r\n    222       if batch_data is None:\r\n    223         if is_dataset:\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_generator.py in _get_next_batch(generator)\r\n    361   \"\"\"Retrieves the next batch of input data.\"\"\"\r\n    362   try:\r\n--> 363     generator_output = next(generator)\r\n    364   except (StopIteration, errors.OutOfRangeError):\r\n    365     return None\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/tensorflow_core/python/keras/utils/data_utils.py in get(self)\r\n    783     except Exception:  # pylint: disable=broad-except\r\n    784       self.stop()\r\n--> 785       six.reraise(*sys.exc_info())\r\n    786\r\n    787\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/six.py in reraise(tp, value, tb)\r\n    691             if value.__traceback__ is not tb:\r\n    692                 raise value.with_traceback(tb)\r\n--> 693             raise value\r\n    694         finally:\r\n    695             value = None\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/tensorflow_core/python/keras/utils/data_utils.py in get(self)\r\n    777     try:\r\n    778       while self.is_running():\r\n--> 779         inputs = self.queue.get(block=True).get()\r\n    780         self.queue.task_done()\r\n    781         if inputs is not None:\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/multiprocessing/pool.py in get(self, timeout)\r\n    668             return self._value\r\n    669         else:\r\n--> 670             raise self._value\r\n    671\r\n    672     def _set(self, i, obj):\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/multiprocessing/pool.py in worker(inqueue, outqueue, initializer, initargs, maxtasks, wrap_exception)\r\n    117         job, i, func, args, kwds = task\r\n    118         try:\r\n--> 119             result = (True, func(*args, **kwds))\r\n    120         except Exception as e:\r\n    121             if wrap_exception and func is not _helper_reraises_exception:\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/tensorflow_core/python/keras/utils/data_utils.py in get_index(uid, i)\r\n    569       The value at index `i`.\r\n    570   \"\"\"\r\n--> 571   return _SHARED_SEQUENCES[uid][i]\r\n    572\r\n    573\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/ivis/data/triplet_generators.py in __getitem__(self, idx)\r\n    127         placeholder_labels = self.placeholder_labels[:len(batch_indices)]\r\n    128         triplet_batch = [self.knn_triplet_from_neighbour_list(row_index, self.neighbour_matrix[row_index])\r\n--> 129                          for row_index in batch_indices]\r\n    130\r\n    131         if (issparse(self.X)):\r\n\r\n/opt/conda/envs/ivisumap/lib/python3.6/site-packages/ivis/data/triplet_generators.py in <listcomp>(.0)\r\n    127         placeholder_labels = self.placeholder_labels[:len(batch_indices)]\r\n    128         triplet_batch = [self.knn_triplet_from_neighbour_list(row_index, self.neighbour_matrix[row_index])\r\n--> 129                          for row_index in batch_indices]\r\n    130\r\n    131         if (issparse(self.X)):\r\n\r\nIndexError: index 0 is out of bounds for axis 0 with size 0\r\n```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539740001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false}},{"id":2697138140,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjY5NzEzODE0MA==","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2697138140","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-08T23:03:32Z","performed_via_github_app":null},{"id":2697138141,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2OTcxMzgxNDE=","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2697138141","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-08T23:03:32Z","performed_via_github_app":null},{"id":2697138144,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjY5NzEzODE0NA==","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2697138144","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-08T23:03:32Z","performed_via_github_app":null},{"id":2697138145,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2OTcxMzgxNDU=","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2697138145","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-08T23:03:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539809910","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-539809910","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":539809910,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTgwOTkxMA==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T03:36:36Z","updated_at":"2019-10-09T04:01:55Z","author_association":"COLLABORATOR","body":"It still looks like Annoy is not working properly and returns a 0-length array when queried for KNNs. Could you test Annoy in isolation - what's the output of the following script:\r\n\r\n```python\r\nfrom annoy import AnnoyIndex\r\nimport random\r\n\r\nf = 40\r\nt = AnnoyIndex(f, 'angular') \r\nfor i in range(1000):\r\n    v = [random.gauss(0, 1) for z in range(f)]\r\n    t.add_item(i, v)\r\n\r\nt.build(10)\r\nt.save('test.ann')\r\n\r\nu = AnnoyIndex(f, 'angular')\r\nu.load('test.ann')\r\nprint(u.get_nns_by_item(0, 1000))\r\n```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/539809910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540031611","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-540031611","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":540031611,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDAzMTYxMQ==","user":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T14:39:20Z","updated_at":"2019-10-09T14:39:20Z","author_association":"NONE","body":"It actually prints the `u` object:\r\n```python\r\nprint(u.get_nns_by_item(0, 1000))\r\n[0, 655, 105, 412, 24, 604, 927, 147, 697, 131, 314, 554, 756, 102, 38, 184, 239, 87, 755, 932, 973, 505, 208, 597, 212, 103, 155, 950, 881, 133, 654, 52, 742, 134, 601, 419, 323, 386, 687, 582, 75, 179, 542, 191, 299, 66, 593, 494, 606, 433, 348, 631, 904, 279, 736, 235, 903, 449, 693, 234, 730,  ......\r\n```","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540031611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540387078","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-540387078","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":540387078,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDM4NzA3OA==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T05:55:25Z","updated_at":"2019-10-10T06:00:16Z","author_association":"COLLABORATOR","body":"Hi - unfortunately we can't reproduce the issue. We ran a Debian VM with conda environments on a Unix machine and python 3.6 and 3.7 - ivis works as expected.\r\n\r\nThis does sound similar to an earlier issue #25 , which is Windows related... where parallel neighbour retrieval fails due to differences in multi-processing approaches between Linux and Windows. Are you by any chance using a Linux subsystem for Windows?","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540387078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540402216","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-540402216","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":540402216,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDQwMjIxNg==","user":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T06:27:23Z","updated_at":"2019-10-10T07:01:33Z","author_association":"COLLABORATOR","body":"> It actually prints the `u` object:\r\n\r\nThanks for this. This makes me suspect that the issue is caused by the Annoy index being built directly on disk. \r\n\r\nI've pushed a new branch which allows the user to specify whether or not to build the Annoy index directly on disk when constructing the Ivis object here: https://github.com/beringresearch/ivis/tree/on-disk-build-config\r\n\r\nHopefully disabling the on_disk_build by passing in `build_index_on_disk=False` when constructing the Ivis object will help solve the issue.","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540402216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540560514","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-540560514","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":540560514,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDU2MDUxNA==","user":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T12:51:33Z","updated_at":"2019-10-10T12:51:33Z","author_association":"NONE","body":"You're indeed correct @idroz : I am using Debian through the subsystem for Linux ","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540560514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false}},{"id":2702589429,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjcwMjU4OTQyOQ==","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2702589429","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-10T12:51:35Z","performed_via_github_app":null},{"id":2702589431,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3MDI1ODk0MzE=","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2702589431","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-10T12:51:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540591016","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-540591016","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":540591016,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDU5MTAxNg==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T13:45:45Z","updated_at":"2019-10-10T13:45:45Z","author_association":"COLLABORATOR","body":"Interesting use-case. I think that a branch submitted by @Szubie should address that issue. Let us know if it works and we’ll merge to master.","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540591016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"id":2702786249,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjcwMjc4NjI0OQ==","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2702786249","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-10T13:45:45Z","performed_via_github_app":null},{"id":2702786252,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3MDI3ODYyNTI=","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2702786252","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-10T13:45:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540623677","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-540623677","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":540623677,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDYyMzY3Nw==","user":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T14:49:24Z","updated_at":"2019-10-10T14:49:24Z","author_association":"NONE","body":"Thank you so much!! I can confirm that creating the Ivis model with `build_index_on_disk=False` works!","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/540623677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sadatnfs","id":19790145,"node_id":"MDQ6VXNlcjE5NzkwMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/19790145?v=4","gravatar_id":"","url":"https://api.github.com/users/sadatnfs","html_url":"https://github.com/sadatnfs","followers_url":"https://api.github.com/users/sadatnfs/followers","following_url":"https://api.github.com/users/sadatnfs/following{/other_user}","gists_url":"https://api.github.com/users/sadatnfs/gists{/gist_id}","starred_url":"https://api.github.com/users/sadatnfs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sadatnfs/subscriptions","organizations_url":"https://api.github.com/users/sadatnfs/orgs","repos_url":"https://api.github.com/users/sadatnfs/repos","events_url":"https://api.github.com/users/sadatnfs/events{/privacy}","received_events_url":"https://api.github.com/users/sadatnfs/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/542295480","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-542295480","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":542295480,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MjI5NTQ4MA==","user":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"created_at":"2019-10-15T16:23:57Z","updated_at":"2019-10-15T16:23:57Z","author_association":"COLLABORATOR","body":"> Thank you so much!! I can confirm that creating the Ivis model with `build_index_on_disk=False` works!\r\n\r\nThanks for confirming. We have merged the fixes addressing this issue into the master branch here:\r\nhttps://github.com/beringresearch/ivis/commit/f5707df521149f7d1dd4c1101fbf0bd7ca5b84ec\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/542295480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false}},{"id":2714644171,"node_id":"MDExOkNsb3NlZEV2ZW50MjcxNDY0NDE3MQ==","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2714644171","actor":{"login":"Szubie","id":13461031,"node_id":"MDQ6VXNlcjEzNDYxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/13461031?v=4","gravatar_id":"","url":"https://api.github.com/users/Szubie","html_url":"https://github.com/Szubie","followers_url":"https://api.github.com/users/Szubie/followers","following_url":"https://api.github.com/users/Szubie/following{/other_user}","gists_url":"https://api.github.com/users/Szubie/gists{/gist_id}","starred_url":"https://api.github.com/users/Szubie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Szubie/subscriptions","organizations_url":"https://api.github.com/users/Szubie/orgs","repos_url":"https://api.github.com/users/Szubie/repos","events_url":"https://api.github.com/users/Szubie/events{/privacy}","received_events_url":"https://api.github.com/users/Szubie/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-15T16:23:58Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/544202985","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-544202985","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":544202985,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDIwMjk4NQ==","user":{"login":"pwolff","id":7240863,"node_id":"MDQ6VXNlcjcyNDA4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/7240863?v=4","gravatar_id":"","url":"https://api.github.com/users/pwolff","html_url":"https://github.com/pwolff","followers_url":"https://api.github.com/users/pwolff/followers","following_url":"https://api.github.com/users/pwolff/following{/other_user}","gists_url":"https://api.github.com/users/pwolff/gists{/gist_id}","starred_url":"https://api.github.com/users/pwolff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwolff/subscriptions","organizations_url":"https://api.github.com/users/pwolff/orgs","repos_url":"https://api.github.com/users/pwolff/repos","events_url":"https://api.github.com/users/pwolff/events{/privacy}","received_events_url":"https://api.github.com/users/pwolff/received_events","type":"User","site_admin":false},"created_at":"2019-10-19T22:37:56Z","updated_at":"2019-10-19T22:40:33Z","author_association":"NONE","body":"I too got the error \"IndexError: index 0 is out of bounds for axis 0 with size 0\" while attempting to run Ivis in windows. I added the fixes in f5707df, but the error remained. \r\nThe solution was quite simple, though.\r\nIvis launches child processes, and in windows this requires using fork to start them.\r\nJust add the \"if __name__ == '__main__':\" to the main module.\r\nThis is easy to forget when you simply drop code in an ide. ","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/544202985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pwolff","id":7240863,"node_id":"MDQ6VXNlcjcyNDA4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/7240863?v=4","gravatar_id":"","url":"https://api.github.com/users/pwolff","html_url":"https://github.com/pwolff","followers_url":"https://api.github.com/users/pwolff/followers","following_url":"https://api.github.com/users/pwolff/following{/other_user}","gists_url":"https://api.github.com/users/pwolff/gists{/gist_id}","starred_url":"https://api.github.com/users/pwolff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwolff/subscriptions","organizations_url":"https://api.github.com/users/pwolff/orgs","repos_url":"https://api.github.com/users/pwolff/repos","events_url":"https://api.github.com/users/pwolff/events{/privacy}","received_events_url":"https://api.github.com/users/pwolff/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/544408713","html_url":"https://github.com/beringresearch/ivis/issues/48#issuecomment-544408713","issue_url":"https://api.github.com/repos/beringresearch/ivis/issues/48","id":544408713,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDQwODcxMw==","user":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false},"created_at":"2019-10-21T08:32:52Z","updated_at":"2019-10-21T08:32:52Z","author_association":"COLLABORATOR","body":"Thanks, @pwolff . In which module did you add `If name == 'main'`? We can't seem to reproduce the error in a Windows machine - would you be able to submit a pull request?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/beringresearch/ivis/issues/comments/544408713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"idroz","id":12413294,"node_id":"MDQ6VXNlcjEyNDEzMjk0","avatar_url":"https://avatars.githubusercontent.com/u/12413294?v=4","gravatar_id":"","url":"https://api.github.com/users/idroz","html_url":"https://github.com/idroz","followers_url":"https://api.github.com/users/idroz/followers","following_url":"https://api.github.com/users/idroz/following{/other_user}","gists_url":"https://api.github.com/users/idroz/gists{/gist_id}","starred_url":"https://api.github.com/users/idroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idroz/subscriptions","organizations_url":"https://api.github.com/users/idroz/orgs","repos_url":"https://api.github.com/users/idroz/repos","events_url":"https://api.github.com/users/idroz/events{/privacy}","received_events_url":"https://api.github.com/users/idroz/received_events","type":"User","site_admin":false}},{"id":2728769318,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjcyODc2OTMxOA==","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2728769318","actor":{"login":"pwolff","id":7240863,"node_id":"MDQ6VXNlcjcyNDA4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/7240863?v=4","gravatar_id":"","url":"https://api.github.com/users/pwolff","html_url":"https://github.com/pwolff","followers_url":"https://api.github.com/users/pwolff/followers","following_url":"https://api.github.com/users/pwolff/following{/other_user}","gists_url":"https://api.github.com/users/pwolff/gists{/gist_id}","starred_url":"https://api.github.com/users/pwolff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwolff/subscriptions","organizations_url":"https://api.github.com/users/pwolff/orgs","repos_url":"https://api.github.com/users/pwolff/repos","events_url":"https://api.github.com/users/pwolff/events{/privacy}","received_events_url":"https://api.github.com/users/pwolff/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-21T08:32:52Z","performed_via_github_app":null},{"id":2728769319,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3Mjg3NjkzMTk=","url":"https://api.github.com/repos/beringresearch/ivis/issues/events/2728769319","actor":{"login":"pwolff","id":7240863,"node_id":"MDQ6VXNlcjcyNDA4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/7240863?v=4","gravatar_id":"","url":"https://api.github.com/users/pwolff","html_url":"https://github.com/pwolff","followers_url":"https://api.github.com/users/pwolff/followers","following_url":"https://api.github.com/users/pwolff/following{/other_user}","gists_url":"https://api.github.com/users/pwolff/gists{/gist_id}","starred_url":"https://api.github.com/users/pwolff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwolff/subscriptions","organizations_url":"https://api.github.com/users/pwolff/orgs","repos_url":"https://api.github.com/users/pwolff/repos","events_url":"https://api.github.com/users/pwolff/events{/privacy}","received_events_url":"https://api.github.com/users/pwolff/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-21T08:32:52Z","performed_via_github_app":null}]