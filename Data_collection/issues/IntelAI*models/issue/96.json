{"url":"https://api.github.com/repos/IntelAI/models/issues/96","repository_url":"https://api.github.com/repos/IntelAI/models","labels_url":"https://api.github.com/repos/IntelAI/models/issues/96/labels{/name}","comments_url":"https://api.github.com/repos/IntelAI/models/issues/96/comments","events_url":"https://api.github.com/repos/IntelAI/models/issues/96/events","html_url":"https://github.com/IntelAI/models/issues/96","id":1126887734,"node_id":"I_kwDOCTQkLM5DKvE2","number":96,"title":"Patches missing for IntelTensorFlow_PerformanceAnalysis","user":{"login":"kaze31","id":83753242,"node_id":"MDQ6VXNlcjgzNzUzMjQy","avatar_url":"https://avatars.githubusercontent.com/u/83753242?v=4","gravatar_id":"","url":"https://api.github.com/users/kaze31","html_url":"https://github.com/kaze31","followers_url":"https://api.github.com/users/kaze31/followers","following_url":"https://api.github.com/users/kaze31/following{/other_user}","gists_url":"https://api.github.com/users/kaze31/gists{/gist_id}","starred_url":"https://api.github.com/users/kaze31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaze31/subscriptions","organizations_url":"https://api.github.com/users/kaze31/orgs","repos_url":"https://api.github.com/users/kaze31/repos","events_url":"https://api.github.com/users/kaze31/events{/privacy}","received_events_url":"https://api.github.com/users/kaze31/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-02-08T07:28:15Z","updated_at":"2022-07-27T07:02:24Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"# Summary\r\n/opt/intel/oneapi/modelzoo/latest/models/docs/notebooks/perf_analysis/profiling/patches doesn't contain patches needed for execution of jupyter notebook in /opt/intel/oneapi/modelzoo/latest/models/docs/notebooks/perf_analysis/benchmark_perf_comparison.ipynb and benchmark_perf_timeline_analysis.ipynb\r\n\r\nFor functionality of the two jupyter notebooks under oneAPI-samples/AI-and-Analytics/Features-and-Functionality/IntelTensorFlow_PerformanceAnalysis (benchmark_perf_comparison and benchmark_perf_timeline_analysis), the models should be patched to correctly produce timeline .json files. However, many models available in benchmark_perf_comparison don't got their corresponding patches in /opt/intel/oneapi/modelzoo/latest/models/docs/notebooks/perf_analysis/profiling/patches.\r\n\r\n# URL\r\nIntelTensorFlow_PerformanceAnalysis: https://github.com/oneapi-src/oneAPI-samples/tree/master/AI-and-Analytics/Features-and-Functionality/IntelTensorFlow_PerformanceAnalysis\r\nbenchmark_perf_comparison: https://github.com/IntelAI/models/blob/master/docs/notebooks/perf_analysis/benchmark_perf_comparison.ipynb\r\n\r\n# Steps to reproduce\r\nI followed the instructions in the IntelTensorFlow_PerformanceAnalysis, \"Running the Sample\" section to $cp -rf /opt/intel/oneapi/modelzoo/latest/models ~/ to get the models. Also followed all other instructions to prepare both environments and run the codes in the jupyter notebook. In execution, I chose topology 0: resnet50 infer fp32 and topology 1: resnet50v1_5 infer fp32. \r\n\r\n# Observed behavior\r\nAfter execution of benchmark_perf_comparison notebook, a .json file containing the tensorflow timelines is expected to be produced. However, no json file is found. The problem is that the models have to be patched to make the json file, but both topology 0: resnet50 infer fp32 and topology 1: resnet50v1_5 infer fp32 don't have their corresponding patches in models/docs/notebooks/perf_analysis/profiling/patches. These are not the only case. In fact, most topologies in the 12 supported topologies don't have their corresponding patches.\r\n\r\n# Expected behavior\r\nThere should be corresponding patches in the models/docs/notebooks/perf_analysis/profiling/patches folder, so that a .json file containing the timeline can be output and be used in the following execution. I think either the supported topologies should be changed to match the existing patches, or additional patches should be added to match the supported topologies.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/IntelAI/models/issues/96/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/IntelAI/models/issues/96/timeline","performed_via_github_app":null,"state_reason":null}