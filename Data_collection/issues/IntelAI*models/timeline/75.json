[{"url":"https://api.github.com/repos/IntelAI/models/issues/comments/803135785","html_url":"https://github.com/IntelAI/models/issues/75#issuecomment-803135785","issue_url":"https://api.github.com/repos/IntelAI/models/issues/75","id":803135785,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzEzNTc4NQ==","user":{"login":"dmsuehir","id":13952606,"node_id":"MDQ6VXNlcjEzOTUyNjA2","avatar_url":"https://avatars.githubusercontent.com/u/13952606?v=4","gravatar_id":"","url":"https://api.github.com/users/dmsuehir","html_url":"https://github.com/dmsuehir","followers_url":"https://api.github.com/users/dmsuehir/followers","following_url":"https://api.github.com/users/dmsuehir/following{/other_user}","gists_url":"https://api.github.com/users/dmsuehir/gists{/gist_id}","starred_url":"https://api.github.com/users/dmsuehir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmsuehir/subscriptions","organizations_url":"https://api.github.com/users/dmsuehir/orgs","repos_url":"https://api.github.com/users/dmsuehir/repos","events_url":"https://api.github.com/users/dmsuehir/events{/privacy}","received_events_url":"https://api.github.com/users/dmsuehir/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T21:11:00Z","updated_at":"2021-03-19T21:11:00Z","author_association":"MEMBER","body":"@jaidayal We have instructions for running the launch_benchmark.py script without docker here: https://github.com/IntelAI/models/blob/master/docs/general/tensorflow/LaunchBenchmark.md#running-the-launch-script-on-bare-metal\r\nIn general, you'll need to make sure that your environment has all of the dependencies installed and leave out the `--docker-image` flag when you run the script.\r\n\r\nWe also have model packages, which are intended to be run without docker. It's a tar file that includes the scripts needed to run and the pretrained model (for inference packages). The model packages can be found at the [oneContainer portal](https://software.intel.com/content/www/us/en/develop/tools/containers/full-catalog.html). We also have direct links to our model zoo packages in the table [here](https://github.com/IntelAI/models/tree/master/benchmarks#tensorflow-use-cases) -- in the column labeled oneContainer Portal, there are links to the \"Model Packages\" in each row. ","reactions":{"url":"https://api.github.com/repos/IntelAI/models/issues/comments/803135785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmsuehir","id":13952606,"node_id":"MDQ6VXNlcjEzOTUyNjA2","avatar_url":"https://avatars.githubusercontent.com/u/13952606?v=4","gravatar_id":"","url":"https://api.github.com/users/dmsuehir","html_url":"https://github.com/dmsuehir","followers_url":"https://api.github.com/users/dmsuehir/followers","following_url":"https://api.github.com/users/dmsuehir/following{/other_user}","gists_url":"https://api.github.com/users/dmsuehir/gists{/gist_id}","starred_url":"https://api.github.com/users/dmsuehir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmsuehir/subscriptions","organizations_url":"https://api.github.com/users/dmsuehir/orgs","repos_url":"https://api.github.com/users/dmsuehir/repos","events_url":"https://api.github.com/users/dmsuehir/events{/privacy}","received_events_url":"https://api.github.com/users/dmsuehir/received_events","type":"User","site_admin":false}},{"id":4484300801,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQ4NDMwMDgwMQ==","url":"https://api.github.com/repos/IntelAI/models/issues/events/4484300801","actor":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-19T21:11:00Z","performed_via_github_app":null},{"id":4484300807,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0ODQzMDA4MDc=","url":"https://api.github.com/repos/IntelAI/models/issues/events/4484300807","actor":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-19T21:11:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/IntelAI/models/issues/comments/803145077","html_url":"https://github.com/IntelAI/models/issues/75#issuecomment-803145077","issue_url":"https://api.github.com/repos/IntelAI/models/issues/75","id":803145077,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzE0NTA3Nw==","user":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T21:30:59Z","updated_at":"2021-03-19T21:30:59Z","author_association":"NONE","body":"Okay, the Launch Benchmark script invokes a series of other scripts, which ultimately invoke the one that runs the actual application. If I am going to put something like numactl (or a separate launcher for a custom OS like mcexec) how would I do that? Ultimately, I want to run just the application and not a whole bunch of intermediary scripts. ","reactions":{"url":"https://api.github.com/repos/IntelAI/models/issues/comments/803145077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/IntelAI/models/issues/comments/803150909","html_url":"https://github.com/IntelAI/models/issues/75#issuecomment-803150909","issue_url":"https://api.github.com/repos/IntelAI/models/issues/75","id":803150909,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzE1MDkwOQ==","user":{"login":"dmsuehir","id":13952606,"node_id":"MDQ6VXNlcjEzOTUyNjA2","avatar_url":"https://avatars.githubusercontent.com/u/13952606?v=4","gravatar_id":"","url":"https://api.github.com/users/dmsuehir","html_url":"https://github.com/dmsuehir","followers_url":"https://api.github.com/users/dmsuehir/followers","following_url":"https://api.github.com/users/dmsuehir/following{/other_user}","gists_url":"https://api.github.com/users/dmsuehir/gists{/gist_id}","starred_url":"https://api.github.com/users/dmsuehir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmsuehir/subscriptions","organizations_url":"https://api.github.com/users/dmsuehir/orgs","repos_url":"https://api.github.com/users/dmsuehir/repos","events_url":"https://api.github.com/users/dmsuehir/events{/privacy}","received_events_url":"https://api.github.com/users/dmsuehir/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T21:43:47Z","updated_at":"2021-03-19T21:43:47Z","author_association":"MEMBER","body":"@jaidayal You could call the model script directly to bypass launch_benchmark.py. If you already have a launch_benchmark.py command that's working you can run that command with `--verbose` and that prints out a bunch of extra info including the actual model script command.\r\n\r\nFor example if I run:\r\n```\r\npython launch_benchmark.py \\\r\n    --in-graph /tmp/dmsuehir/resnet50_fp32_pretrained_model.pb \\\r\n    --model-name resnet50 \\\r\n    --framework tensorflow \\\r\n    --precision fp32 \\\r\n    --mode inference \\\r\n    --batch-size=1 \\\r\n    --socket-id 0 \\\r\n    --docker-image intel/intel-optimized-tensorflow:2.4.0 \\\r\n    --verbose\r\n```\r\nToward the end of the log file, there's a line that says `Running:` followed by the model command:\r\n```\r\nRunning: numactl --cpunodebind=0 --membind=0 python /workspace/intelai_models/inference/eval_image_classifier_inference.py --input-graph=/in_graph/resnet50_fp32_pretrained_model.pb --num-inter-threads=1 --num-intra-threads=28 --num-cores=28 --batch-size=1 --warmup-steps=10 --steps=50\r\n```\r\nThat `eval_image_classifier_inference.py` script is in the model zoo repo [here](https://github.com/IntelAI/models/blob/master/models/image_recognition/tensorflow/resnet50/inference/eval_image_classifier_inference.py). Since I had `--socket-id 0` in my original launch_benchmark.py command, numactl is being used and you could modify those args to whatever you need. Note that part of the intermediate scripts within the model zoo is looking at your system (number of cores, etc) to set the optimal number of threads, etc for the model and there are env vars like `OMP_NUM_THREADS` that are also getting set. If you are bypassing the launch_benchmark.py script, you'll want to set those vars yourself. The [general best practices doc](https://github.com/IntelAI/models/blob/master/docs/general/tensorflow/GeneralBestPractices.md) has basic information on this but what each model does in the zoo might vary depending on what the model's engineer has found to be the best configs.","reactions":{"url":"https://api.github.com/repos/IntelAI/models/issues/comments/803150909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmsuehir","id":13952606,"node_id":"MDQ6VXNlcjEzOTUyNjA2","avatar_url":"https://avatars.githubusercontent.com/u/13952606?v=4","gravatar_id":"","url":"https://api.github.com/users/dmsuehir","html_url":"https://github.com/dmsuehir","followers_url":"https://api.github.com/users/dmsuehir/followers","following_url":"https://api.github.com/users/dmsuehir/following{/other_user}","gists_url":"https://api.github.com/users/dmsuehir/gists{/gist_id}","starred_url":"https://api.github.com/users/dmsuehir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmsuehir/subscriptions","organizations_url":"https://api.github.com/users/dmsuehir/orgs","repos_url":"https://api.github.com/users/dmsuehir/repos","events_url":"https://api.github.com/users/dmsuehir/events{/privacy}","received_events_url":"https://api.github.com/users/dmsuehir/received_events","type":"User","site_admin":false}},{"id":4484399871,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQ4NDM5OTg3MQ==","url":"https://api.github.com/repos/IntelAI/models/issues/events/4484399871","actor":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-19T21:43:47Z","performed_via_github_app":null},{"id":4484399876,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0ODQzOTk4NzY=","url":"https://api.github.com/repos/IntelAI/models/issues/events/4484399876","actor":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-19T21:43:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/IntelAI/models/issues/comments/804210955","html_url":"https://github.com/IntelAI/models/issues/75#issuecomment-804210955","issue_url":"https://api.github.com/repos/IntelAI/models/issues/75","id":804210955,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDIxMDk1NQ==","user":{"login":"dmsuehir","id":13952606,"node_id":"MDQ6VXNlcjEzOTUyNjA2","avatar_url":"https://avatars.githubusercontent.com/u/13952606?v=4","gravatar_id":"","url":"https://api.github.com/users/dmsuehir","html_url":"https://github.com/dmsuehir","followers_url":"https://api.github.com/users/dmsuehir/followers","following_url":"https://api.github.com/users/dmsuehir/following{/other_user}","gists_url":"https://api.github.com/users/dmsuehir/gists{/gist_id}","starred_url":"https://api.github.com/users/dmsuehir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmsuehir/subscriptions","organizations_url":"https://api.github.com/users/dmsuehir/orgs","repos_url":"https://api.github.com/users/dmsuehir/repos","events_url":"https://api.github.com/users/dmsuehir/events{/privacy}","received_events_url":"https://api.github.com/users/dmsuehir/received_events","type":"User","site_admin":false},"created_at":"2021-03-22T16:33:15Z","updated_at":"2021-03-22T16:33:15Z","author_association":"MEMBER","body":"Hi @jaidayal\r\n\r\nHas your question from this issue been resolved? If so, can we close this issue?\r\n\r\nThanks,\r\nDina","reactions":{"url":"https://api.github.com/repos/IntelAI/models/issues/comments/804210955/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmsuehir","id":13952606,"node_id":"MDQ6VXNlcjEzOTUyNjA2","avatar_url":"https://avatars.githubusercontent.com/u/13952606?v=4","gravatar_id":"","url":"https://api.github.com/users/dmsuehir","html_url":"https://github.com/dmsuehir","followers_url":"https://api.github.com/users/dmsuehir/followers","following_url":"https://api.github.com/users/dmsuehir/following{/other_user}","gists_url":"https://api.github.com/users/dmsuehir/gists{/gist_id}","starred_url":"https://api.github.com/users/dmsuehir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmsuehir/subscriptions","organizations_url":"https://api.github.com/users/dmsuehir/orgs","repos_url":"https://api.github.com/users/dmsuehir/repos","events_url":"https://api.github.com/users/dmsuehir/events{/privacy}","received_events_url":"https://api.github.com/users/dmsuehir/received_events","type":"User","site_admin":false}},{"id":4491268108,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQ5MTI2ODEwOA==","url":"https://api.github.com/repos/IntelAI/models/issues/events/4491268108","actor":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-22T16:33:15Z","performed_via_github_app":null},{"id":4491268112,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0OTEyNjgxMTI=","url":"https://api.github.com/repos/IntelAI/models/issues/events/4491268112","actor":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-22T16:33:15Z","performed_via_github_app":null},{"id":4491273770,"node_id":"MDExOkNsb3NlZEV2ZW50NDQ5MTI3Mzc3MA==","url":"https://api.github.com/repos/IntelAI/models/issues/events/4491273770","actor":{"login":"jaidayal","id":25988266,"node_id":"MDQ6VXNlcjI1OTg4MjY2","avatar_url":"https://avatars.githubusercontent.com/u/25988266?v=4","gravatar_id":"","url":"https://api.github.com/users/jaidayal","html_url":"https://github.com/jaidayal","followers_url":"https://api.github.com/users/jaidayal/followers","following_url":"https://api.github.com/users/jaidayal/following{/other_user}","gists_url":"https://api.github.com/users/jaidayal/gists{/gist_id}","starred_url":"https://api.github.com/users/jaidayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaidayal/subscriptions","organizations_url":"https://api.github.com/users/jaidayal/orgs","repos_url":"https://api.github.com/users/jaidayal/repos","events_url":"https://api.github.com/users/jaidayal/events{/privacy}","received_events_url":"https://api.github.com/users/jaidayal/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-03-22T16:34:14Z","state_reason":null,"performed_via_github_app":null}]