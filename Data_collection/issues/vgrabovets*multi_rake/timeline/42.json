[{"url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/comments/965062027","html_url":"https://github.com/vgrabovets/multi_rake/issues/42#issuecomment-965062027","issue_url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/42","id":965062027,"node_id":"IC_kwDOCClEUM45ha2L","user":{"login":"7homasSutter","id":9306853,"node_id":"MDQ6VXNlcjkzMDY4NTM=","avatar_url":"https://avatars.githubusercontent.com/u/9306853?v=4","gravatar_id":"","url":"https://api.github.com/users/7homasSutter","html_url":"https://github.com/7homasSutter","followers_url":"https://api.github.com/users/7homasSutter/followers","following_url":"https://api.github.com/users/7homasSutter/following{/other_user}","gists_url":"https://api.github.com/users/7homasSutter/gists{/gist_id}","starred_url":"https://api.github.com/users/7homasSutter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/7homasSutter/subscriptions","organizations_url":"https://api.github.com/users/7homasSutter/orgs","repos_url":"https://api.github.com/users/7homasSutter/repos","events_url":"https://api.github.com/users/7homasSutter/events{/privacy}","received_events_url":"https://api.github.com/users/7homasSutter/received_events","type":"User","site_admin":false},"created_at":"2021-11-10T11:58:36Z","updated_at":"2021-11-17T10:45:14Z","author_association":"NONE","body":"Seems like a problem in detecting the language-code correctly. I didn't go to deep into checking what exactly happens but it's either that the input text got modified in a bad way or a bug in `pycld2.detect(text)`.\r\n\r\nA workaround that works is to provide the language-code when the `Rake()` object is initialised:\r\n```\r\nfrom multi_rake import Rake\r\n\r\nrake = Rake(language_code='en', stopwords=stopwords, max_words=3)\r\nkeywords = rake.apply(text)\r\n```","reactions":{"url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/comments/965062027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"7homasSutter","id":9306853,"node_id":"MDQ6VXNlcjkzMDY4NTM=","avatar_url":"https://avatars.githubusercontent.com/u/9306853?v=4","gravatar_id":"","url":"https://api.github.com/users/7homasSutter","html_url":"https://github.com/7homasSutter","followers_url":"https://api.github.com/users/7homasSutter/followers","following_url":"https://api.github.com/users/7homasSutter/following{/other_user}","gists_url":"https://api.github.com/users/7homasSutter/gists{/gist_id}","starred_url":"https://api.github.com/users/7homasSutter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/7homasSutter/subscriptions","organizations_url":"https://api.github.com/users/7homasSutter/orgs","repos_url":"https://api.github.com/users/7homasSutter/repos","events_url":"https://api.github.com/users/7homasSutter/events{/privacy}","received_events_url":"https://api.github.com/users/7homasSutter/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/comments/965103651","html_url":"https://github.com/vgrabovets/multi_rake/issues/42#issuecomment-965103651","issue_url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/42","id":965103651,"node_id":"IC_kwDOCClEUM45hlAj","user":{"login":"vgrabovets","id":22475959,"node_id":"MDQ6VXNlcjIyNDc1OTU5","avatar_url":"https://avatars.githubusercontent.com/u/22475959?v=4","gravatar_id":"","url":"https://api.github.com/users/vgrabovets","html_url":"https://github.com/vgrabovets","followers_url":"https://api.github.com/users/vgrabovets/followers","following_url":"https://api.github.com/users/vgrabovets/following{/other_user}","gists_url":"https://api.github.com/users/vgrabovets/gists{/gist_id}","starred_url":"https://api.github.com/users/vgrabovets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vgrabovets/subscriptions","organizations_url":"https://api.github.com/users/vgrabovets/orgs","repos_url":"https://api.github.com/users/vgrabovets/repos","events_url":"https://api.github.com/users/vgrabovets/events{/privacy}","received_events_url":"https://api.github.com/users/vgrabovets/received_events","type":"User","site_admin":false},"created_at":"2021-11-10T12:53:13Z","updated_at":"2021-11-10T12:53:13Z","author_association":"OWNER","body":"Could you, please, provide text that causes this error?","reactions":{"url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/comments/965103651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vgrabovets","id":22475959,"node_id":"MDQ6VXNlcjIyNDc1OTU5","avatar_url":"https://avatars.githubusercontent.com/u/22475959?v=4","gravatar_id":"","url":"https://api.github.com/users/vgrabovets","html_url":"https://github.com/vgrabovets","followers_url":"https://api.github.com/users/vgrabovets/followers","following_url":"https://api.github.com/users/vgrabovets/following{/other_user}","gists_url":"https://api.github.com/users/vgrabovets/gists{/gist_id}","starred_url":"https://api.github.com/users/vgrabovets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vgrabovets/subscriptions","organizations_url":"https://api.github.com/users/vgrabovets/orgs","repos_url":"https://api.github.com/users/vgrabovets/repos","events_url":"https://api.github.com/users/vgrabovets/events{/privacy}","received_events_url":"https://api.github.com/users/vgrabovets/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/comments/971454845","html_url":"https://github.com/vgrabovets/multi_rake/issues/42#issuecomment-971454845","issue_url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/42","id":971454845,"node_id":"IC_kwDOCClEUM455zl9","user":{"login":"7homasSutter","id":9306853,"node_id":"MDQ6VXNlcjkzMDY4NTM=","avatar_url":"https://avatars.githubusercontent.com/u/9306853?v=4","gravatar_id":"","url":"https://api.github.com/users/7homasSutter","html_url":"https://github.com/7homasSutter","followers_url":"https://api.github.com/users/7homasSutter/followers","following_url":"https://api.github.com/users/7homasSutter/following{/other_user}","gists_url":"https://api.github.com/users/7homasSutter/gists{/gist_id}","starred_url":"https://api.github.com/users/7homasSutter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/7homasSutter/subscriptions","organizations_url":"https://api.github.com/users/7homasSutter/orgs","repos_url":"https://api.github.com/users/7homasSutter/repos","events_url":"https://api.github.com/users/7homasSutter/events{/privacy}","received_events_url":"https://api.github.com/users/7homasSutter/received_events","type":"User","site_admin":false},"created_at":"2021-11-17T10:45:26Z","updated_at":"2021-11-17T10:45:26Z","author_association":"NONE","body":"I tested a bit around and it's not that simple to reproduce because I'm using text extracted from PDF files. If I just copy and past the text here or to a new text file the error seems to disappear. However, I set up a small python gist with an example code that triggers the bug: https://gist.github.com/7homasSutter/45c4fe43283c67feb1caff3175876baa \r\n\r\nBy default the gist scripts assumes the pdf file'./test/ChopChop.pdf'. And here is the example PDF: [PDF-Download](https://www.sciencedirect.com/science/article/pii/S2666281721000998?via%3Dihub)\r\n\r\nI hope that helps you to reproduce the bug.","reactions":{"url":"https://api.github.com/repos/vgrabovets/multi_rake/issues/comments/971454845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"7homasSutter","id":9306853,"node_id":"MDQ6VXNlcjkzMDY4NTM=","avatar_url":"https://avatars.githubusercontent.com/u/9306853?v=4","gravatar_id":"","url":"https://api.github.com/users/7homasSutter","html_url":"https://github.com/7homasSutter","followers_url":"https://api.github.com/users/7homasSutter/followers","following_url":"https://api.github.com/users/7homasSutter/following{/other_user}","gists_url":"https://api.github.com/users/7homasSutter/gists{/gist_id}","starred_url":"https://api.github.com/users/7homasSutter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/7homasSutter/subscriptions","organizations_url":"https://api.github.com/users/7homasSutter/orgs","repos_url":"https://api.github.com/users/7homasSutter/repos","events_url":"https://api.github.com/users/7homasSutter/events{/privacy}","received_events_url":"https://api.github.com/users/7homasSutter/received_events","type":"User","site_admin":false}}]