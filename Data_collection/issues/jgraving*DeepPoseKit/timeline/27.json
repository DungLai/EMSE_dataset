[{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/553478677","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-553478677","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":553478677,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzQ3ODY3Nw==","user":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"created_at":"2019-11-13T16:24:46Z","updated_at":"2019-11-13T16:49:35Z","author_association":"OWNER","body":"Currently there is no way to indicate that body part is not visible when making annotations. We're still testing this feature internally (ended up being a bit more complicated than expected), but should be available soon. Hopefully before end of November. \r\n\r\nLeaving them with the default coordinate will affect training, so I would recommend just annotating as best as you can near where the body part should be (such as the closest visible body part). ","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/553478677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false}},{"id":2795942806,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50Mjc5NTk0MjgwNg==","url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events/2795942806","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-11-13T16:25:43Z","rename":{"from":"Way to handle missing keypoints during annotation?","to":"Update GUI to allow for annotating missing keypoints"},"performed_via_github_app":null},{"id":2795943952,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3OTU5NDM5NTI=","url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events/2795943952","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-13T16:25:58Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"id":2795943954,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3OTU5NDM5NTQ=","url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events/2795943954","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-13T16:25:58Z","label":{"name":"pinned","color":"654321"},"performed_via_github_app":null},{"id":2795943956,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3OTU5NDM5NTY=","url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events/2795943956","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-13T16:25:58Z","label":{"name":"question","color":"d876e3"},"performed_via_github_app":null},{"id":2796016873,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50Mjc5NjAxNjg3Mw==","url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events/2796016873","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-11-13T16:45:10Z","rename":{"from":"Update GUI to allow for annotating missing keypoints","to":"Update GUI to allow for annotating keypoints that are not visible"},"performed_via_github_app":null},{"id":2802297259,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MjgwMjI5NzI1OQ==","url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events/2802297259","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2019-11-15T11:07:00Z","label":{"name":"pinned","color":"654321"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/585939517","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-585939517","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":585939517,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTkzOTUxNw==","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-02-13T19:46:42Z","updated_at":"2020-02-13T19:46:42Z","author_association":"CONTRIBUTOR","body":"Has there been any update to this? Can you describe what challenges there are in implementing this? I'm not particularly experienced, but this is critical for me and I'd be glad to help if it's not overly complex.","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/585939517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/586195951","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-586195951","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":586195951,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjE5NTk1MQ==","user":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"created_at":"2020-02-14T10:19:27Z","updated_at":"2020-02-14T10:24:40Z","author_association":"OWNER","body":"We had a student working on this as part of a larger update, who unfortunately left before they finished the update. This ended up being more complicated than I originally thought and haven't had time to finish it. I can take a look at the code next week to see how much progress they made and try to adapt it if useful.\r\n\r\nBasically [the GUI class](https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/annotate/gui/GUI.py) and [Annotator class](https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/annotate/gui/Annotator.py) (which subclasses the GUI class) need to be updated with a new [hotkey](https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/annotate/utils/hotkeys.py) and logic that [detects the new hotkey when pressed](https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/annotate/gui/Annotator.py#314) and sets the coordinates to NaN. Then it needs logic that detects NaNs and [changes the text color](https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/annotate/gui/GUI.py#282) (to grey or something similar) and doesn't draw the [points/crosshairs](https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/annotate/gui/GUI.py#442) or [lines for the skeleton ](https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/annotate/gui/GUI.py#474)in the GUI to visually indicate that the point is not visible.","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/586195951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/586727623","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-586727623","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":586727623,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjcyNzYyMw==","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-02-16T16:49:31Z","updated_at":"2020-02-16T16:49:31Z","author_association":"CONTRIBUTOR","body":"Ok thanks please let me know!","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/586727623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/586897295","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-586897295","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":586897295,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njg5NzI5NQ==","user":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"created_at":"2020-02-17T09:27:16Z","updated_at":"2020-02-17T09:30:07Z","author_association":"OWNER","body":"I implemented the changes in the `Annotator`. Before I push to pip could you check that it's working for you by installing the latest dev version?\r\n``` bash\r\npip install --update git+https://www.github.com/jgraving/deepposekit.git\r\n```\r\nThe hotkey is <kbd>V</kbd> to toggle visibility within the gui. The euclidean error and confidence scores during training may be unreliable as there is no confidence score threshold implemented for these metrics. I'd recommend turning off the skeleton/graph confidence maps during training `use_graph=False` for the `TrainingGenerator` as it will draw arbitrary lines to keypoints that aren't visible.  You could run into accuracy problems if certain keypoints are only rarely visible, so it might be worth adding an online hard keypoint mining (OHKM) loss function at some point to dynamically reweight rare keypoints during training.","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/586897295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/587062616","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-587062616","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":587062616,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzA2MjYxNg==","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-02-17T16:06:13Z","updated_at":"2020-02-17T16:06:13Z","author_association":"CONTRIBUTOR","body":"Thanks for this!\r\n\r\nI verified that it works, in the annotator (but not downstream training). I'm not sure I totally understand the concern around training. As I understand, 'non visible' points now have their location set to NaN. I could imagine two ways of handling this at training time. (1), the network is trained to predict 0 confidence values across the entire image, (2) The loss for non-visible points is masked out, so that it has no contribution to training. I agree that if implemented as (1) I'm not sure what will happen during training. I had assumed that (2) was the idea here, to simply ignore elements of the loss (keypoint and associated graph components) related to the non-visible point. If implemented as (2), I don't understand why this would cause instability during training?\r\n\r\nAs an aside, something that is an issue at least on windows computers, is that installing DPK with pip causes the opencv version to be changed to opencv-python-headless. I think that's the wrong version, and it causes lots of errors, and it has to be manually uninstalled and opencv-python needs to be manually installed afterwards. I know this issue has come up with imgaug package as well:\r\nhttps://github.com/aleju/imgaug/issues/473","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/587062616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/587104034","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-587104034","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":587104034,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzEwNDAzNA==","user":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"created_at":"2020-02-17T17:57:40Z","updated_at":"2020-02-18T10:08:52Z","author_association":"OWNER","body":"Good to hear! Currently scenario (1) is used at training time as the network has to be optimized to predict zeros when the keypoint isn't visible so the low confidence score can be used to filter non-visible points during inference. However, the graph/skeleton drawing function hasn't been updated to deal with the NaNs, which is why I'd recommend disabling this in the `TrainingGenerator`. \r\n\r\nThere shouldn't be any instability during training with the loss function or optimizer. My comment was pointing out that if non-visible keypoints are predicted as all zeros then the predicted keypoint coordinates will basically be a random coordinate in the image (with low confidence) and the euclidean error metric shown during training may not be a reliable indicator of performance. This metric needs to be updated to only include euclidean error for keypoints above a confidence threshold (e.g. p >= 0.1).\r\n\r\nMy other comment was if specific types of keypoints are only rarely visible within the training set, then the network might just learn to always predict values close to zero, which is why online hard keypoints mining loss is useful, as it detects average error for each keypoint within a training batch and dynamically reweights the top-k highest error keypoints. \r\n\r\nI'll take a look later this week to see if I can implement the changes I described. I'll also look into your comment about the dependencies.","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/587104034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false}},{"actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"created_at":"2020-02-18T09:36:32Z","updated_at":"2020-02-18T09:36:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/42","repository_url":"https://api.github.com/repos/jgraving/DeepPoseKit","labels_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/42/labels{/name}","comments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/42/comments","events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/42/events","html_url":"https://github.com/jgraving/DeepPoseKit/issues/42","id":566762787,"node_id":"MDU6SXNzdWU1NjY3NjI3ODc=","number":42,"title":"Fix opencv issues when installing dependences ","user":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"labels":[{"id":1348126481,"node_id":"MDU6TGFiZWwxMzQ4MTI2NDgx","url":"https://api.github.com/repos/jgraving/DeepPoseKit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-02-18T09:36:32Z","updated_at":"2020-02-23T14:27:29Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"repository":{"id":185012179,"node_id":"MDEwOlJlcG9zaXRvcnkxODUwMTIxNzk=","name":"DeepPoseKit","full_name":"jgraving/DeepPoseKit","private":false,"owner":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"html_url":"https://github.com/jgraving/DeepPoseKit","description":"a toolkit for pose estimation using deep learning","fork":false,"url":"https://api.github.com/repos/jgraving/DeepPoseKit","forks_url":"https://api.github.com/repos/jgraving/DeepPoseKit/forks","keys_url":"https://api.github.com/repos/jgraving/DeepPoseKit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/jgraving/DeepPoseKit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/jgraving/DeepPoseKit/teams","hooks_url":"https://api.github.com/repos/jgraving/DeepPoseKit/hooks","issue_events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events{/number}","events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/events","assignees_url":"https://api.github.com/repos/jgraving/DeepPoseKit/assignees{/user}","branches_url":"https://api.github.com/repos/jgraving/DeepPoseKit/branches{/branch}","tags_url":"https://api.github.com/repos/jgraving/DeepPoseKit/tags","blobs_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/refs{/sha}","trees_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/jgraving/DeepPoseKit/statuses/{sha}","languages_url":"https://api.github.com/repos/jgraving/DeepPoseKit/languages","stargazers_url":"https://api.github.com/repos/jgraving/DeepPoseKit/stargazers","contributors_url":"https://api.github.com/repos/jgraving/DeepPoseKit/contributors","subscribers_url":"https://api.github.com/repos/jgraving/DeepPoseKit/subscribers","subscription_url":"https://api.github.com/repos/jgraving/DeepPoseKit/subscription","commits_url":"https://api.github.com/repos/jgraving/DeepPoseKit/commits{/sha}","git_commits_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/commits{/sha}","comments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/comments{/number}","issue_comment_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments{/number}","contents_url":"https://api.github.com/repos/jgraving/DeepPoseKit/contents/{+path}","compare_url":"https://api.github.com/repos/jgraving/DeepPoseKit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/jgraving/DeepPoseKit/merges","archive_url":"https://api.github.com/repos/jgraving/DeepPoseKit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/jgraving/DeepPoseKit/downloads","issues_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues{/number}","pulls_url":"https://api.github.com/repos/jgraving/DeepPoseKit/pulls{/number}","milestones_url":"https://api.github.com/repos/jgraving/DeepPoseKit/milestones{/number}","notifications_url":"https://api.github.com/repos/jgraving/DeepPoseKit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/jgraving/DeepPoseKit/labels{/name}","releases_url":"https://api.github.com/repos/jgraving/DeepPoseKit/releases{/id}","deployments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/deployments","created_at":"2019-05-05T09:48:51Z","updated_at":"2022-12-31T10:52:48Z","pushed_at":"2022-07-07T08:44:41Z","git_url":"git://github.com/jgraving/DeepPoseKit.git","ssh_url":"git@github.com:jgraving/DeepPoseKit.git","clone_url":"https://github.com/jgraving/DeepPoseKit.git","svn_url":"https://github.com/jgraving/DeepPoseKit","homepage":"http://deepposekit.org","size":3255,"stargazers_count":345,"watchers_count":345,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":82,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":22,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["animal","animal-pose-estimation","behavior-analysis","deep-learning","deepposekit","estimation","keras","machine-learning","neural-networks","pose","pose-estimation","python","tensorflow"],"visibility":"public","forks":82,"open_issues":22,"watchers":345,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"See discussion in #27 ","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/42/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/42/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/587577069","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-587577069","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":587577069,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzU3NzA2OQ==","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-02-18T17:24:26Z","updated_at":"2020-02-18T17:24:26Z","author_association":"CONTRIBUTOR","body":"I think I understand your points now, except that I don't understand why making essentially random predictions for non-visible key points will impact the euclidean error? If the key point is not visible, than there is no true location for the predicted location, of any confidence level, to be compared to, right? Or will it be compared to a random location?","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/587577069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/610521609","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-610521609","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":610521609,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDUyMTYwOQ==","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-04-07T17:32:59Z","updated_at":"2020-04-07T17:32:59Z","author_association":"CONTRIBUTOR","body":"I've verified that training works for non-visible points, thanks for making the change! I disabled graph prediction and observed wacky euclidean errors as you said. Something that confused me at first, so maybe helps others to understand, is that the data generator converts NaN (non-visible) coordinates to -9999, presumably because this is so far away from the image that the target confidence map will be all 0.\r\n\r\nI will try to update the euclidean error metric to exclude non-visible points. It seems like this could be done using the ground truth visibility rather than implementing a confidence threshold?","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/610521609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/610537599","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-610537599","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":610537599,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDUzNzU5OQ==","user":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"created_at":"2020-04-07T18:04:47Z","updated_at":"2020-04-07T18:04:59Z","author_association":"OWNER","body":"> Something that confused me at first, so maybe helps others to understand, is that the data generator converts NaN (non-visible) coordinates to -9999, presumably because this is so far away from the image that the target confidence map will be all 0.\r\n\r\nYes. This was done for two reasons 1) imgaug doesn't support NaN values for keypoints (or didn't at the time, but perhaps this has been updated), and 2) a large negative value was used so that even after augmentation the keypoint would be outside the coordinate range of the image in order to produce an all zero confidence map. Now that I look at the code perhaps this should be done within the `TrainingGenerator` rather than the `BaseGenerator`. However, would affect visualizations within the examples which would need to be updated to deal with the NaNs as well.\r\n\r\n\r\n> It seems like this could be done using the ground truth visibility rather than implementing a confidence threshold?\r\n\r\nYeah, that's a good point, you're right. I was wrong. Not sure what I was thinking before. You can use the ground truth data to select which keypoints are included in the euclidean error calculations.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/610537599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/613666490","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-613666490","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":613666490,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzY2NjQ5MA==","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-04-14T20:32:36Z","updated_at":"2020-04-14T20:32:36Z","author_association":"CONTRIBUTOR","body":"So I was going to implement this, but then realized it could be a bit tricky. \r\n\r\nThere are three places changes could be implemented: (1) Logger callback on_epoch_end; (2) base_model.evaluate; (3) utils.keypoints.keypoint_errors function. (3) makes the most sense to me, but wonder what you think? Also, I noticed that there is a confidence mask option built into the logger already, so this is possible but not ideal solution I think.\r\n\r\nIn any case, the problem is that we need to identify which points are not visible for each frame, but NaN values have been converted to large negative numbers. Naively, I'd say we could just identify any keypoint predictions which are negative and mask w/ those. However, is it possible that an augmentation pipeline could make some true annotation points take on negative values? If so, either we could hack it using some 'large' negative threshold, or more principled approach would be to modify base_model.evaluate to grab keypoints without conversion to NaN?","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/613666490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/614090857","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-614090857","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":614090857,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDA5MDg1Nw==","user":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"created_at":"2020-04-15T14:58:19Z","updated_at":"2020-04-15T15:05:00Z","author_association":"OWNER","body":">There are three places changes could be implemented: (1) Logger callback on_epoch_end; (2) base_model.evaluate; (3) utils.keypoints.keypoint_errors function. (3) makes the most sense to me, but wonder what you think? Also, I noticed that there is a confidence mask option built into the logger already, so this is possible but not ideal solution I think.\r\n\r\n\r\nRight, I agree. The confidence mask option was added as a quick solution, because it was just a couple lines of code. Another consideration is you want to ensure when evaluating the model that it predicts low confidence scores for points that aren't visible, but this perhaps that type of evaluation should be separate from the Euclidean error score.\r\n\r\n> In any case, the problem is that we need to identify which points are not visible for each frame, but NaN values have been converted to large negative numbers. Naively, I'd say we could just identify any keypoint predictions which are negative and mask w/ those. However, is it possible that an augmentation pipeline could make some true annotation points take on negative values? If so, either we could hack it using some 'large' negative threshold, or more principled approach would be to modify base_model.evaluate to grab keypoints without conversion to NaN?\r\n\r\nAugmentation isn't applied during validation, so the non-visible keypoints in the validation set will always be set to a static value and should be easy to detect. https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/io/BaseGenerator.py#L107 \r\n\r\nShould be just a matter of adapting the code from the confidence mask https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/callbacks.py#L138\r\n\r\nHowever, I suppose if users wanted an additional validation augmenter feature down the line it would be better for the code to be more general. Not sure how valuable a feature like that is though, as it would apply non-deterministic transformations during validation.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/614090857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/614119679","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-614119679","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":614119679,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDExOTY3OQ==","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-04-15T15:47:27Z","updated_at":"2020-04-15T15:47:27Z","author_association":"CONTRIBUTOR","body":"Ok, I just wasnt sure because if we are modifying\nutils.keypoints.keypoint_errors function, I worried it might be used at\nother places in the code.\n\nSo it sounds like the thing to do is to modify that function so it\nidentifies non-visible  points by their large negative value. Then it sets\nall errors for those points to NaN. Then the logger can be changed to mask\nout NaN errors, and the NaN indexes can also be used to report confidence\nscores separately for visible and non-visible points.\n\nOn Wed, Apr 15, 2020 at 10:58 AM Jake Graving <notifications@github.com>\nwrote:\n\n> There are three places changes could be implemented: (1) Logger callback\n> on_epoch_end; (2) base_model.evaluate; (3) utils.keypoints.keypoint_errors\n> function. (3) makes the most sense to me, but wonder what you think? Also,\n> I noticed that there is a confidence mask option built into the logger\n> already, so this is possible but not ideal solution I think.\n>\n> Right, I agree. The confidence mask option was added as a quick solution,\n> because it was just a couple lines of code. Another consideration is you\n> want to ensure when evaluating the model that it predicts low confidence\n> scores for points that aren't visible, but this perhaps that type of\n> evaluation should be separate from the Euclidean error score.\n>\n> In any case, the problem is that we need to identify which points are not\n> visible for each frame, but NaN values have been converted to large\n> negative numbers. Naively, I'd say we could just identify any keypoint\n> predictions which are negative and mask w/ those. However, is it possible\n> that an augmentation pipeline could make some true annotation points take\n> on negative values? If so, either we could hack it using some 'large'\n> negative threshold, or more principled approach would be to modify\n> base_model.evaluate to grab keypoints without conversion to NaN?\n>\n> Augmentation isn't applied during validation, so the non-visible keypoints\n> in the validation set will always be set to a static value and should be\n> easy to detect.\n> https://github.com/jgraving/DeepPoseKit/blob/master/deepposekit/io/BaseGenerator.py#L107\n>\n> \n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-614090857>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABJNQGQC6IRNJ7XBHQGLTA3RMXDRZANCNFSM4JM4KV6Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/614119679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/615971354","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-615971354","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":615971354,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTk3MTM1NA==","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-04-18T22:58:38Z","updated_at":"2020-04-18T22:58:38Z","author_association":"CONTRIBUTOR","body":"Just made a pull request for this issue, plus a few minor things that came up in implementing it","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/615971354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false}},{"actor":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"created_at":"2020-04-26T02:06:11Z","updated_at":"2020-04-26T02:06:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/50","repository_url":"https://api.github.com/repos/jgraving/DeepPoseKit","labels_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/50/labels{/name}","comments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/50/comments","events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/50/events","html_url":"https://github.com/jgraving/DeepPoseKit/pull/50","id":602570555,"node_id":"MDExOlB1bGxSZXF1ZXN0NDA1NTcyMzk0","number":50,"title":"Fixing error metrics as discussed in #27","user":{"login":"Selmaan","id":5429274,"node_id":"MDQ6VXNlcjU0MjkyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5429274?v=4","gravatar_id":"","url":"https://api.github.com/users/Selmaan","html_url":"https://github.com/Selmaan","followers_url":"https://api.github.com/users/Selmaan/followers","following_url":"https://api.github.com/users/Selmaan/following{/other_user}","gists_url":"https://api.github.com/users/Selmaan/gists{/gist_id}","starred_url":"https://api.github.com/users/Selmaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Selmaan/subscriptions","organizations_url":"https://api.github.com/users/Selmaan/orgs","repos_url":"https://api.github.com/users/Selmaan/repos","events_url":"https://api.github.com/users/Selmaan/events{/privacy}","received_events_url":"https://api.github.com/users/Selmaan/received_events","type":"User","site_admin":false},"labels":[{"id":1348126481,"node_id":"MDU6TGFiZWwxMzQ4MTI2NDgx","url":"https://api.github.com/repos/jgraving/DeepPoseKit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-04-18T22:57:55Z","updated_at":"2020-08-25T14:07:00Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":185012179,"node_id":"MDEwOlJlcG9zaXRvcnkxODUwMTIxNzk=","name":"DeepPoseKit","full_name":"jgraving/DeepPoseKit","private":false,"owner":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"html_url":"https://github.com/jgraving/DeepPoseKit","description":"a toolkit for pose estimation using deep learning","fork":false,"url":"https://api.github.com/repos/jgraving/DeepPoseKit","forks_url":"https://api.github.com/repos/jgraving/DeepPoseKit/forks","keys_url":"https://api.github.com/repos/jgraving/DeepPoseKit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/jgraving/DeepPoseKit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/jgraving/DeepPoseKit/teams","hooks_url":"https://api.github.com/repos/jgraving/DeepPoseKit/hooks","issue_events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events{/number}","events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/events","assignees_url":"https://api.github.com/repos/jgraving/DeepPoseKit/assignees{/user}","branches_url":"https://api.github.com/repos/jgraving/DeepPoseKit/branches{/branch}","tags_url":"https://api.github.com/repos/jgraving/DeepPoseKit/tags","blobs_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/refs{/sha}","trees_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/jgraving/DeepPoseKit/statuses/{sha}","languages_url":"https://api.github.com/repos/jgraving/DeepPoseKit/languages","stargazers_url":"https://api.github.com/repos/jgraving/DeepPoseKit/stargazers","contributors_url":"https://api.github.com/repos/jgraving/DeepPoseKit/contributors","subscribers_url":"https://api.github.com/repos/jgraving/DeepPoseKit/subscribers","subscription_url":"https://api.github.com/repos/jgraving/DeepPoseKit/subscription","commits_url":"https://api.github.com/repos/jgraving/DeepPoseKit/commits{/sha}","git_commits_url":"https://api.github.com/repos/jgraving/DeepPoseKit/git/commits{/sha}","comments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/comments{/number}","issue_comment_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments{/number}","contents_url":"https://api.github.com/repos/jgraving/DeepPoseKit/contents/{+path}","compare_url":"https://api.github.com/repos/jgraving/DeepPoseKit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/jgraving/DeepPoseKit/merges","archive_url":"https://api.github.com/repos/jgraving/DeepPoseKit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/jgraving/DeepPoseKit/downloads","issues_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues{/number}","pulls_url":"https://api.github.com/repos/jgraving/DeepPoseKit/pulls{/number}","milestones_url":"https://api.github.com/repos/jgraving/DeepPoseKit/milestones{/number}","notifications_url":"https://api.github.com/repos/jgraving/DeepPoseKit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/jgraving/DeepPoseKit/labels{/name}","releases_url":"https://api.github.com/repos/jgraving/DeepPoseKit/releases{/id}","deployments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/deployments","created_at":"2019-05-05T09:48:51Z","updated_at":"2022-12-31T10:52:48Z","pushed_at":"2022-07-07T08:44:41Z","git_url":"git://github.com/jgraving/DeepPoseKit.git","ssh_url":"git@github.com:jgraving/DeepPoseKit.git","clone_url":"https://github.com/jgraving/DeepPoseKit.git","svn_url":"https://github.com/jgraving/DeepPoseKit","homepage":"http://deepposekit.org","size":3255,"stargazers_count":345,"watchers_count":345,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":82,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":22,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["animal","animal-pose-estimation","behavior-analysis","deep-learning","deepposekit","estimation","keras","machine-learning","neural-networks","pose","pose-estimation","python","tensorflow"],"visibility":"public","forks":82,"open_issues":22,"watchers":345,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/pulls/50","html_url":"https://github.com/jgraving/DeepPoseKit/pull/50","diff_url":"https://github.com/jgraving/DeepPoseKit/pull/50.diff","patch_url":"https://github.com/jgraving/DeepPoseKit/pull/50.patch","merged_at":null},"body":"I implemented these changes, plus two minor additions.\r\n\r\nFirst, for keypoints which are supposed to be not-visible, it seemed reasonable to replace their confience score with 1 minus the confidence score, for the purposes of reporting online during training, since the target confidence for these points is 0. Euclidean errors however should be masked out, since they are not defined for non-visible keypoints. These changes only affect values printed to command line during training, but not logged values to disk. This is fine, because the keypoint errors logged to disk includes NaN values for non-visible keypoints\r\n\r\nSecond, in debugging these changes, I noticed that the logger callback appeared to be broken. Instead of adding a new entry for each epoch, it appears to have a first entry with all zeros, and a second entry with only the most recent values. This looked like a single line got misplaced outside a conditional statement, and I tested that logger works correctly after making this change.","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/50/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/50/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/842022342","html_url":"https://github.com/jgraving/DeepPoseKit/issues/27#issuecomment-842022342","issue_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/27","id":842022342,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MjAyMjM0Mg==","user":{"login":"rubeea","id":11279062,"node_id":"MDQ6VXNlcjExMjc5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/11279062?v=4","gravatar_id":"","url":"https://api.github.com/users/rubeea","html_url":"https://github.com/rubeea","followers_url":"https://api.github.com/users/rubeea/followers","following_url":"https://api.github.com/users/rubeea/following{/other_user}","gists_url":"https://api.github.com/users/rubeea/gists{/gist_id}","starred_url":"https://api.github.com/users/rubeea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubeea/subscriptions","organizations_url":"https://api.github.com/users/rubeea/orgs","repos_url":"https://api.github.com/users/rubeea/repos","events_url":"https://api.github.com/users/rubeea/events{/privacy}","received_events_url":"https://api.github.com/users/rubeea/received_events","type":"User","site_admin":false},"created_at":"2021-05-17T06:08:49Z","updated_at":"2021-05-17T06:08:49Z","author_association":"NONE","body":"@jgraving Hi, is it possible to annotate multiple object instances with keypoints in the annotator? I have a dataset in which each image contains more than one object instance but the annotator just annotates the keypoints of one object. Is this feature supported?","reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/comments/842022342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rubeea","id":11279062,"node_id":"MDQ6VXNlcjExMjc5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/11279062?v=4","gravatar_id":"","url":"https://api.github.com/users/rubeea","html_url":"https://github.com/rubeea","followers_url":"https://api.github.com/users/rubeea/followers","following_url":"https://api.github.com/users/rubeea/following{/other_user}","gists_url":"https://api.github.com/users/rubeea/gists{/gist_id}","starred_url":"https://api.github.com/users/rubeea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubeea/subscriptions","organizations_url":"https://api.github.com/users/rubeea/orgs","repos_url":"https://api.github.com/users/rubeea/repos","events_url":"https://api.github.com/users/rubeea/events{/privacy}","received_events_url":"https://api.github.com/users/rubeea/received_events","type":"User","site_admin":false}},{"id":4752321823,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc1MjMyMTgyMw==","url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events/4752321823","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-17T06:08:50Z","performed_via_github_app":null},{"id":4752321825,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3NTIzMjE4MjU=","url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/events/4752321825","actor":{"login":"jgraving","id":5445636,"node_id":"MDQ6VXNlcjU0NDU2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5445636?v=4","gravatar_id":"","url":"https://api.github.com/users/jgraving","html_url":"https://github.com/jgraving","followers_url":"https://api.github.com/users/jgraving/followers","following_url":"https://api.github.com/users/jgraving/following{/other_user}","gists_url":"https://api.github.com/users/jgraving/gists{/gist_id}","starred_url":"https://api.github.com/users/jgraving/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgraving/subscriptions","organizations_url":"https://api.github.com/users/jgraving/orgs","repos_url":"https://api.github.com/users/jgraving/repos","events_url":"https://api.github.com/users/jgraving/events{/privacy}","received_events_url":"https://api.github.com/users/jgraving/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-17T06:08:50Z","performed_via_github_app":null}]