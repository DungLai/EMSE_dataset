{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/33","repository_url":"https://api.github.com/repos/jgraving/DeepPoseKit","labels_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/33/labels{/name}","comments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/33/comments","events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/33/events","html_url":"https://github.com/jgraving/DeepPoseKit/issues/33","id":530568977,"node_id":"MDU6SXNzdWU1MzA1Njg5Nzc=","number":33,"title":"When 2 models are served at the same time, they seem to interfere and produce wrong results","user":{"login":"eduramiba","id":197285,"node_id":"MDQ6VXNlcjE5NzI4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/197285?v=4","gravatar_id":"","url":"https://api.github.com/users/eduramiba","html_url":"https://github.com/eduramiba","followers_url":"https://api.github.com/users/eduramiba/followers","following_url":"https://api.github.com/users/eduramiba/following{/other_user}","gists_url":"https://api.github.com/users/eduramiba/gists{/gist_id}","starred_url":"https://api.github.com/users/eduramiba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eduramiba/subscriptions","organizations_url":"https://api.github.com/users/eduramiba/orgs","repos_url":"https://api.github.com/users/eduramiba/repos","events_url":"https://api.github.com/users/eduramiba/events{/privacy}","received_events_url":"https://api.github.com/users/eduramiba/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-11-30T11:45:36Z","updated_at":"2019-11-30T15:48:56Z","closed_at":"2019-11-30T15:48:56Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I set up a simple flask + gunicorn server to deploy the 2 models that I trained and it seems to work fine.\r\n\r\nBut something very strange happens. When I serve only 1 model, outputs are correct and consistent.\r\nBut when I serve the 2 models at the same time, outputs become somehow corrupted and inconsistent.\r\n\r\nI run 2 separate gunicorn processes, one for each model serving, with a different port.\r\n\r\nI have tried using only CPU inference, and also tried GPU for one and CPU for the other.\r\nI also tried tensorflow 2.0 and tensorflow 1.15 but it happened with both versions.\r\n\r\nAny idea what could be the cause? Is there something in this model that could interfere with other instances somehow?\r\n\r\nThank you!","closed_by":{"login":"eduramiba","id":197285,"node_id":"MDQ6VXNlcjE5NzI4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/197285?v=4","gravatar_id":"","url":"https://api.github.com/users/eduramiba","html_url":"https://github.com/eduramiba","followers_url":"https://api.github.com/users/eduramiba/followers","following_url":"https://api.github.com/users/eduramiba/following{/other_user}","gists_url":"https://api.github.com/users/eduramiba/gists{/gist_id}","starred_url":"https://api.github.com/users/eduramiba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eduramiba/subscriptions","organizations_url":"https://api.github.com/users/eduramiba/orgs","repos_url":"https://api.github.com/users/eduramiba/repos","events_url":"https://api.github.com/users/eduramiba/events{/privacy}","received_events_url":"https://api.github.com/users/eduramiba/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/33/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/33/timeline","performed_via_github_app":null,"state_reason":"completed"}