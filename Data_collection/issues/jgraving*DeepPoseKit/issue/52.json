{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/52","repository_url":"https://api.github.com/repos/jgraving/DeepPoseKit","labels_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/52/labels{/name}","comments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/52/comments","events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/52/events","html_url":"https://github.com/jgraving/DeepPoseKit/issues/52","id":608337355,"node_id":"MDU6SXNzdWU2MDgzMzczNTU=","number":52,"title":"Strange behavior from draw_graph function in keypoints.py","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[{"id":1348126481,"node_id":"MDU6TGFiZWwxMzQ4MTI2NDgx","url":"https://api.github.com/repos/jgraving/DeepPoseKit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-04-28T13:52:54Z","updated_at":"2020-05-06T09:34:55Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi! \r\nI've been trying to train a model on a human foot keypoint dataset using deepposekit. I was visualizing the skeleton and keypoint confidence graphs produced by the TrainingGenerator and noticed that certain parts of the skeleton aren't visible - in particular, the part from the big toe to the heel. The keypoints are in the order [left big toe, left little toe, left heel, right big toe, right little toe, right heel] so I've defined my graph to be [2, 2, -1, 5, 5, -1]. The result of this is that line 89 in utils/keypoints.py: \r\n\r\nedge_confidence = edge_confidence[..., 1:] \r\n\r\ncuts off the edge confidence from the big toe to the heel that was just computed. In my particular case I was able to fix the issue by replacing the line with edge_confidence = edge_confidence[..., :-1] but this obviously won't work for every graph. I'm wondering if this is a bug or if perhaps I've defined my graph in some unexpected way. \r\n\r\nI also noticed that draw_graph doesn't deal with unlabelled keypoints and will draw lines from labelled to unlabelled keypoints (which are located at [-99999, -99999]). Is this correct?\r\n\r\nThanks!","closed_by":null,"reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/52/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/52/timeline","performed_via_github_app":null,"state_reason":null}