{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/28","repository_url":"https://api.github.com/repos/jgraving/DeepPoseKit","labels_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/28/comments","events_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/28/events","html_url":"https://github.com/jgraving/DeepPoseKit/issues/28","id":522422153,"node_id":"MDU6SXNzdWU1MjI0MjIxNTM=","number":28,"title":"Poor performance with StackedDenseNet","user":{"login":"richard-warren","id":31221441,"node_id":"MDQ6VXNlcjMxMjIxNDQx","avatar_url":"https://avatars.githubusercontent.com/u/31221441?v=4","gravatar_id":"","url":"https://api.github.com/users/richard-warren","html_url":"https://github.com/richard-warren","followers_url":"https://api.github.com/users/richard-warren/followers","following_url":"https://api.github.com/users/richard-warren/following{/other_user}","gists_url":"https://api.github.com/users/richard-warren/gists{/gist_id}","starred_url":"https://api.github.com/users/richard-warren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richard-warren/subscriptions","organizations_url":"https://api.github.com/users/richard-warren/orgs","repos_url":"https://api.github.com/users/richard-warren/repos","events_url":"https://api.github.com/users/richard-warren/events{/privacy}","received_events_url":"https://api.github.com/users/richard-warren/received_events","type":"User","site_admin":false},"labels":[{"id":1348126491,"node_id":"MDU6TGFiZWwxMzQ4MTI2NDkx","url":"https://api.github.com/repos/jgraving/DeepPoseKit/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-11-13T19:24:22Z","updated_at":"2019-11-15T18:14:21Z","closed_at":"2019-11-15T18:14:21Z","author_association":"NONE","active_lock_reason":null,"body":"I'm finding that DeepPoseKit underperforms DeepLabCut (both used within the DPK package) when there are long range spatial contingencies in the data. See the image below, where the left and right paw in the top view are swapped (this appears to happen less frequently with DLC). The bottom view is useful here for resolving ambiguities in the top view; I think deeper networks (DLC) may have an easier time with these long range contingencies due to greater receptive field size at the outputs. Perhaps there are tweaks I can make to DPK that solve the problem though.\r\n\r\n![image](https://user-images.githubusercontent.com/31221441/68795939-ec834480-061f-11ea-83f2-2a1666ad80e8.png)\r\n\r\nHere is my augmentation (notice no FlipAxis):\r\n```\r\naugmenter = []\r\nsometimes = []\r\n\r\nsometimes.append(iaa.Affine(scale={\"x\": (0.98, 1.02), \"y\": (0.98, 1.02)},\r\n                            translate_percent={'x': (-0.02, 0.02), 'y': (-0.02, 0.02)},\r\n                            shear=(-8, 8),\r\n                            order=ia.ALL,\r\n                            cval=ia.ALL,\r\n                            mode=ia.ALL)\r\n                 )\r\nsometimes.append(iaa.Affine(scale=(0.9, 1.1),\r\n                            mode=ia.ALL,\r\n                            order=ia.ALL,\r\n                            cval=ia.ALL)\r\n                 )\r\naugmenter.append(iaa.Sometimes(0.75, sometimes))\r\naugmenter.append(iaa.Affine(rotate=(-5, 5),\r\n                            mode=ia.ALL,\r\n                            order=ia.ALL,\r\n                            cval=ia.ALL)\r\n                 )\r\naugmenter = iaa.Sequential(augmenter)\r\n```\r\n\r\nAnd here is the model configuration:\r\n```\r\n{'name': 'StackedDenseNet',\r\n 'n_stacks': 2,\r\n 'n_transitions': 6,\r\n 'growth_rate': 32,\r\n 'bottleneck_factor': 1,\r\n 'compression_factor': 0.5,\r\n 'pretrained': True,\r\n 'subpixel': True}\r\n```\r\nThank you in advance for the help,\r\nRick\r\n\r\n","closed_by":{"login":"richard-warren","id":31221441,"node_id":"MDQ6VXNlcjMxMjIxNDQx","avatar_url":"https://avatars.githubusercontent.com/u/31221441?v=4","gravatar_id":"","url":"https://api.github.com/users/richard-warren","html_url":"https://github.com/richard-warren","followers_url":"https://api.github.com/users/richard-warren/followers","following_url":"https://api.github.com/users/richard-warren/following{/other_user}","gists_url":"https://api.github.com/users/richard-warren/gists{/gist_id}","starred_url":"https://api.github.com/users/richard-warren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richard-warren/subscriptions","organizations_url":"https://api.github.com/users/richard-warren/orgs","repos_url":"https://api.github.com/users/richard-warren/repos","events_url":"https://api.github.com/users/richard-warren/events{/privacy}","received_events_url":"https://api.github.com/users/richard-warren/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/28/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jgraving/DeepPoseKit/issues/28/timeline","performed_via_github_app":null,"state_reason":"completed"}