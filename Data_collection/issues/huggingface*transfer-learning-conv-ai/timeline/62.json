[{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/599730619","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/62#issuecomment-599730619","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/62","id":599730619,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTczMDYxOQ==","user":{"login":"ricsinaruto","id":18282017,"node_id":"MDQ6VXNlcjE4MjgyMDE3","avatar_url":"https://avatars.githubusercontent.com/u/18282017?v=4","gravatar_id":"","url":"https://api.github.com/users/ricsinaruto","html_url":"https://github.com/ricsinaruto","followers_url":"https://api.github.com/users/ricsinaruto/followers","following_url":"https://api.github.com/users/ricsinaruto/following{/other_user}","gists_url":"https://api.github.com/users/ricsinaruto/gists{/gist_id}","starred_url":"https://api.github.com/users/ricsinaruto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ricsinaruto/subscriptions","organizations_url":"https://api.github.com/users/ricsinaruto/orgs","repos_url":"https://api.github.com/users/ricsinaruto/repos","events_url":"https://api.github.com/users/ricsinaruto/events{/privacy}","received_events_url":"https://api.github.com/users/ricsinaruto/received_events","type":"User","site_admin":false},"created_at":"2020-03-16T19:53:41Z","updated_at":"2020-03-16T19:53:41Z","author_association":"NONE","body":"I guess there's no easy way to solve this, here's what I tried and worked in lowering my RAM usage:\r\n* deleting unused dataset files immediately, while building the dataset (eg. in the build inputs, labels for loops)\r\n* switching to int32-based numpy arrays instead of lists\r\n\r\nIn the end I had to lower the number of candidates and the history size, but the biggest improvement was from implementing the Dataset class, and putting the padding inside the __getitem__ function. I think this is the only way for this code to work for larger datasets, if the Dataset class is implemented from the beginning instead of building the whole dataset in memory.","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/599730619/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ricsinaruto","id":18282017,"node_id":"MDQ6VXNlcjE4MjgyMDE3","avatar_url":"https://avatars.githubusercontent.com/u/18282017?v=4","gravatar_id":"","url":"https://api.github.com/users/ricsinaruto","html_url":"https://github.com/ricsinaruto","followers_url":"https://api.github.com/users/ricsinaruto/followers","following_url":"https://api.github.com/users/ricsinaruto/following{/other_user}","gists_url":"https://api.github.com/users/ricsinaruto/gists{/gist_id}","starred_url":"https://api.github.com/users/ricsinaruto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ricsinaruto/subscriptions","organizations_url":"https://api.github.com/users/ricsinaruto/orgs","repos_url":"https://api.github.com/users/ricsinaruto/repos","events_url":"https://api.github.com/users/ricsinaruto/events{/privacy}","received_events_url":"https://api.github.com/users/ricsinaruto/received_events","type":"User","site_admin":false}},{"id":3134749627,"node_id":"MDExOkNsb3NlZEV2ZW50MzEzNDc0OTYyNw==","url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/events/3134749627","actor":{"login":"ricsinaruto","id":18282017,"node_id":"MDQ6VXNlcjE4MjgyMDE3","avatar_url":"https://avatars.githubusercontent.com/u/18282017?v=4","gravatar_id":"","url":"https://api.github.com/users/ricsinaruto","html_url":"https://github.com/ricsinaruto","followers_url":"https://api.github.com/users/ricsinaruto/followers","following_url":"https://api.github.com/users/ricsinaruto/following{/other_user}","gists_url":"https://api.github.com/users/ricsinaruto/gists{/gist_id}","starred_url":"https://api.github.com/users/ricsinaruto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ricsinaruto/subscriptions","organizations_url":"https://api.github.com/users/ricsinaruto/orgs","repos_url":"https://api.github.com/users/ricsinaruto/repos","events_url":"https://api.github.com/users/ricsinaruto/events{/privacy}","received_events_url":"https://api.github.com/users/ricsinaruto/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-03-16T19:53:41Z","state_reason":null,"performed_via_github_app":null}]