[{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/538787595","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/36#issuecomment-538787595","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/36","id":538787595,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODc4NzU5NQ==","user":{"login":"sshleifer","id":6045025,"node_id":"MDQ6VXNlcjYwNDUwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6045025?v=4","gravatar_id":"","url":"https://api.github.com/users/sshleifer","html_url":"https://github.com/sshleifer","followers_url":"https://api.github.com/users/sshleifer/followers","following_url":"https://api.github.com/users/sshleifer/following{/other_user}","gists_url":"https://api.github.com/users/sshleifer/gists{/gist_id}","starred_url":"https://api.github.com/users/sshleifer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sshleifer/subscriptions","organizations_url":"https://api.github.com/users/sshleifer/orgs","repos_url":"https://api.github.com/users/sshleifer/repos","events_url":"https://api.github.com/users/sshleifer/events{/privacy}","received_events_url":"https://api.github.com/users/sshleifer/received_events","type":"User","site_admin":false},"created_at":"2019-10-06T20:59:57Z","updated_at":"2019-10-06T20:59:57Z","author_association":"CONTRIBUTOR","body":"1) you have one training example?\r\n2) try passing `--dataset_cache` or `--dataset_path` to `interact.py`\r\n\r\n","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/538787595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sshleifer","id":6045025,"node_id":"MDQ6VXNlcjYwNDUwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6045025?v=4","gravatar_id":"","url":"https://api.github.com/users/sshleifer","html_url":"https://github.com/sshleifer","followers_url":"https://api.github.com/users/sshleifer/followers","following_url":"https://api.github.com/users/sshleifer/following{/other_user}","gists_url":"https://api.github.com/users/sshleifer/gists{/gist_id}","starred_url":"https://api.github.com/users/sshleifer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sshleifer/subscriptions","organizations_url":"https://api.github.com/users/sshleifer/orgs","repos_url":"https://api.github.com/users/sshleifer/repos","events_url":"https://api.github.com/users/sshleifer/events{/privacy}","received_events_url":"https://api.github.com/users/sshleifer/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/538800491","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/36#issuecomment-538800491","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/36","id":538800491,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODgwMDQ5MQ==","user":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"created_at":"2019-10-06T23:41:41Z","updated_at":"2019-10-06T23:42:23Z","author_association":"NONE","body":">     1. you have one training example?\r\n> \r\n>     2. try passing `--dataset_cache` or `--dataset_path` to `interact.py`\r\n\r\n1. Yes\r\n2. \r\nHere is full traceback:\r\n\r\n```\r\npython ./interact.py --model_checkpoint ./runs/Oct05_01-32-39_joo-tf_openai-gpt/ --dataset_path=\"my.json\"\r\nINFO:./interact.py:Namespace(dataset_cache='./dataset_cache', dataset_path='my.json', device='cuda', max_history=2, max_length=20, min_length=1, model='gpt', model_checkpoint='./runs/Oct05_01-32-39_joo-tf_openai-gpt/', no_sample=False, seed=42, temperature=0.7, top_k=0, top_p=0.9)\r\nINFO:./interact.py:Get pretrained model and tokenizer\r\nINFO:pytorch_transformers.tokenization_utils:Model name './runs/Oct05_01-32-39_joo-tf_openai-gpt/' not found in model shortcut name list (openai-gpt). Assuming './runs/Oct05_01-32-39_joo-tf_openai-gpt/' is a path or url to a directory containing tokenizer files.\r\nINFO:pytorch_transformers.tokenization_utils:loading file ./runs/Oct05_01-32-39_joo-tf_openai-gpt/vocab.json\r\nINFO:pytorch_transformers.tokenization_utils:loading file ./runs/Oct05_01-32-39_joo-tf_openai-gpt/merges.txt\r\nINFO:pytorch_transformers.tokenization_utils:loading file ./runs/Oct05_01-32-39_joo-tf_openai-gpt/added_tokens.json\r\nINFO:pytorch_transformers.tokenization_utils:loading file ./runs/Oct05_01-32-39_joo-tf_openai-gpt/special_tokens_map.json\r\nINFO:pytorch_transformers.tokenization_utils:loading file ./runs/Oct05_01-32-39_joo-tf_openai-gpt/tokenizer_config.json\r\nWARNING:pytorch_transformers.tokenization_openai:ftfy or spacy is not installed using BERT BasicTokenizer instead of SpaCy & ftfy.\r\nINFO:pytorch_transformers.modeling_utils:loading configuration file ./runs/Oct05_01-32-39_joo-tf_openai-gpt/config.json\r\nINFO:pytorch_transformers.modeling_utils:Model config {\r\n  \"afn\": \"gelu\",\r\n  \"attn_pdrop\": 0.1,\r\n  \"embd_pdrop\": 0.1,\r\n  \"finetuning_task\": null,\r\n  \"initializer_range\": 0.02,\r\n  \"layer_norm_epsilon\": 1e-05,\r\n  \"n_ctx\": 512,\r\n  \"n_embd\": 768,\r\n  \"n_head\": 12,\r\n  \"n_layer\": 12,\r\n  \"n_positions\": 512,\r\n  \"n_special\": 0,\r\n  \"num_labels\": 1,\r\n  \"output_attentions\": false,\r\n  \"output_hidden_states\": false,\r\n  \"predict_special_tokens\": true,\r\n  \"pruned_heads\": {},\r\n  \"resid_pdrop\": 0.1,\r\n  \"summary_activation\": null,\r\n  \"summary_first_dropout\": 0.1,\r\n  \"summary_proj_to_labels\": true,\r\n  \"summary_type\": \"cls_index\",\r\n  \"summary_use_proj\": true,\r\n  \"torchscript\": false,\r\n  \"vocab_size\": 40483\r\n}\r\n\r\nINFO:pytorch_transformers.modeling_utils:loading weights file ./runs/Oct05_01-32-39_joo-tf_openai-gpt/pytorch_model.bin\r\nINFO:pytorch_transformers.modeling_utils:Weights from pretrained model not used in OpenAIGPTLMHeadModel: ['multiple_choice_head.summary.weight', 'multiple_choice_head.summary.bias']\r\nINFO:pytorch_transformers.tokenization_utils:Assigning <bos> to the bos_token key of the tokenizer\r\nINFO:pytorch_transformers.tokenization_utils:Assigning <eos> to the eos_token key of the tokenizer\r\nINFO:pytorch_transformers.tokenization_utils:Assigning <pad> to the pad_token key of the tokenizer\r\nINFO:pytorch_transformers.tokenization_utils:Assigning ('<speaker1>', '<speaker2>') to the additional_special_tokens key of the tokenizer\r\nINFO:./interact.py:Sample a personality\r\nINFO:/home/joo/Документы/LocalRepository/transfer-learning-conv-ai/utils.py:Load tokenized dataset from cache at ./dataset_cache_OpenAIGPTTokenizer\r\nINFO:/home/joo/Документы/LocalRepository/transfer-learning-conv-ai/utils.py:Filter personalities\r\nINFO:/home/joo/Документы/LocalRepository/transfer-learning-conv-ai/utils.py:Gathered 18878 personalities\r\nINFO:./interact.py:Selected personality: i prefer vinyl records to any other music recording format. i fix airplanes for a living. i drive junk cars that no one else wants. i think if i work hard enough i can fix the world. i am never still.\r\n>>> can you drive a car?\r\nno i don't, i just fix planes to make sure i get where i want to go\r\n>>> \r\n```\r\n\r\nResult remains the same for both `--dataset_cache` and `--dataset_path`, interaction works, but it always run the same personality (i prefer vinyl records to any other music recording format ..... etc). And no any mention on my custom personality i set up in my.json.\r\nSo i am still sure i simply reproduced your results in this repo on my PC","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/538800491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/539984981","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/36#issuecomment-539984981","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/36","id":539984981,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTk4NDk4MQ==","user":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T12:47:10Z","updated_at":"2019-10-09T12:47:10Z","author_association":"NONE","body":"I am still curious, was not able to pass my dataset:\r\n1) I added to original 200mb json my personality\r\n2) trained once more with `--dataset_path ./my.json`\r\n3) invoke interact.py with new checkpoint and path python ./interact.py --model_checkpoint ./runs/Oct08_18-22-53_joo-tf_openai-gpt/ --dataset_path ./my.json\r\nand it reports `Gathered 18878 personalities` (but not 18879, with my own).\r\nI changed the code in interact.py to choose my first perosnality this way\r\n\r\nwas:\r\n`personality = random.choice(personalities)`\r\n\r\nbecome:\r\n`personality = personalities[0]`\r\n\r\nand this first personality is not mine.","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/539984981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/540215585","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/36#issuecomment-540215585","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/36","id":540215585,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDIxNTU4NQ==","user":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T21:47:14Z","updated_at":"2019-10-09T21:47:14Z","author_association":"NONE","body":"Solved: hardcoded dataset path in utils.py, dont know why it doesnot load usual way","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/540215585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false}},{"id":2700615738,"node_id":"MDExOkNsb3NlZEV2ZW50MjcwMDYxNTczOA==","url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/events/2700615738","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-09T21:47:14Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/646042940","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/36#issuecomment-646042940","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/36","id":646042940,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjA0Mjk0MA==","user":{"login":"monisha08041998","id":67107464,"node_id":"MDQ6VXNlcjY3MTA3NDY0","avatar_url":"https://avatars.githubusercontent.com/u/67107464?v=4","gravatar_id":"","url":"https://api.github.com/users/monisha08041998","html_url":"https://github.com/monisha08041998","followers_url":"https://api.github.com/users/monisha08041998/followers","following_url":"https://api.github.com/users/monisha08041998/following{/other_user}","gists_url":"https://api.github.com/users/monisha08041998/gists{/gist_id}","starred_url":"https://api.github.com/users/monisha08041998/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monisha08041998/subscriptions","organizations_url":"https://api.github.com/users/monisha08041998/orgs","repos_url":"https://api.github.com/users/monisha08041998/repos","events_url":"https://api.github.com/users/monisha08041998/events{/privacy}","received_events_url":"https://api.github.com/users/monisha08041998/received_events","type":"User","site_admin":false},"created_at":"2020-06-18T14:08:07Z","updated_at":"2020-06-18T14:08:07Z","author_association":"NONE","body":"> Solved: hardcoded dataset path in utils.py, dont know why it doesnot load usual way\r\n\r\nhave u solved this issue?","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/646042940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"monisha08041998","id":67107464,"node_id":"MDQ6VXNlcjY3MTA3NDY0","avatar_url":"https://avatars.githubusercontent.com/u/67107464?v=4","gravatar_id":"","url":"https://api.github.com/users/monisha08041998","html_url":"https://github.com/monisha08041998","followers_url":"https://api.github.com/users/monisha08041998/followers","following_url":"https://api.github.com/users/monisha08041998/following{/other_user}","gists_url":"https://api.github.com/users/monisha08041998/gists{/gist_id}","starred_url":"https://api.github.com/users/monisha08041998/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monisha08041998/subscriptions","organizations_url":"https://api.github.com/users/monisha08041998/orgs","repos_url":"https://api.github.com/users/monisha08041998/repos","events_url":"https://api.github.com/users/monisha08041998/events{/privacy}","received_events_url":"https://api.github.com/users/monisha08041998/received_events","type":"User","site_admin":false}}]