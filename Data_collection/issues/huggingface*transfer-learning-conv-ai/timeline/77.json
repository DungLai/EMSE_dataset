[{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/634726981","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/77#issuecomment-634726981","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/77","id":634726981,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDcyNjk4MQ==","user":{"login":"DamienLopez1","id":60041070,"node_id":"MDQ6VXNlcjYwMDQxMDcw","avatar_url":"https://avatars.githubusercontent.com/u/60041070?v=4","gravatar_id":"","url":"https://api.github.com/users/DamienLopez1","html_url":"https://github.com/DamienLopez1","followers_url":"https://api.github.com/users/DamienLopez1/followers","following_url":"https://api.github.com/users/DamienLopez1/following{/other_user}","gists_url":"https://api.github.com/users/DamienLopez1/gists{/gist_id}","starred_url":"https://api.github.com/users/DamienLopez1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DamienLopez1/subscriptions","organizations_url":"https://api.github.com/users/DamienLopez1/orgs","repos_url":"https://api.github.com/users/DamienLopez1/repos","events_url":"https://api.github.com/users/DamienLopez1/events{/privacy}","received_events_url":"https://api.github.com/users/DamienLopez1/received_events","type":"User","site_admin":false},"created_at":"2020-05-27T15:08:43Z","updated_at":"2020-05-27T15:08:43Z","author_association":"NONE","body":"I suggest looking at example_entry.py. The candidates are all possible replies to the prompt sentence. In train.py:\r\n\r\n`for j, candidate in enumerate(utterance[\"candidates\"][-num_candidates:]):\r\n                        lm_labels = bool(j == num_candidates-1)\r\n                        instance = build_input_from_segments(persona, history, candidate, tokenizer, lm_labels)`\r\n\r\nThe last sentence in candidate is taken as the gold reply. Everything else in candidates is taken as the distractor.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/634726981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DamienLopez1","id":60041070,"node_id":"MDQ6VXNlcjYwMDQxMDcw","avatar_url":"https://avatars.githubusercontent.com/u/60041070?v=4","gravatar_id":"","url":"https://api.github.com/users/DamienLopez1","html_url":"https://github.com/DamienLopez1","followers_url":"https://api.github.com/users/DamienLopez1/followers","following_url":"https://api.github.com/users/DamienLopez1/following{/other_user}","gists_url":"https://api.github.com/users/DamienLopez1/gists{/gist_id}","starred_url":"https://api.github.com/users/DamienLopez1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DamienLopez1/subscriptions","organizations_url":"https://api.github.com/users/DamienLopez1/orgs","repos_url":"https://api.github.com/users/DamienLopez1/repos","events_url":"https://api.github.com/users/DamienLopez1/events{/privacy}","received_events_url":"https://api.github.com/users/DamienLopez1/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/642255341","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/77#issuecomment-642255341","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/77","id":642255341,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjI1NTM0MQ==","user":{"login":"basiclaser","id":3663537,"node_id":"MDQ6VXNlcjM2NjM1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/3663537?v=4","gravatar_id":"","url":"https://api.github.com/users/basiclaser","html_url":"https://github.com/basiclaser","followers_url":"https://api.github.com/users/basiclaser/followers","following_url":"https://api.github.com/users/basiclaser/following{/other_user}","gists_url":"https://api.github.com/users/basiclaser/gists{/gist_id}","starred_url":"https://api.github.com/users/basiclaser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/basiclaser/subscriptions","organizations_url":"https://api.github.com/users/basiclaser/orgs","repos_url":"https://api.github.com/users/basiclaser/repos","events_url":"https://api.github.com/users/basiclaser/events{/privacy}","received_events_url":"https://api.github.com/users/basiclaser/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T20:59:40Z","updated_at":"2020-06-10T21:00:15Z","author_association":"NONE","body":"> I suggest looking at example_entry.py. The candidates are all possible replies to the prompt sentence. In train.py:\r\n\r\nPlease could you share which command you're running to train on the example_entry.py?\r\n\r\nI'm trying (without modifying example_entry.py) `python ./train.py --dataset_path=example_entry.py` but i get errors like \r\n```\r\nERROR:ignite.engine.engine.Engine:Engine run is terminating due to exception: Target -100 is out of bounds..\r\n```","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/642255341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"basiclaser","id":3663537,"node_id":"MDQ6VXNlcjM2NjM1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/3663537?v=4","gravatar_id":"","url":"https://api.github.com/users/basiclaser","html_url":"https://github.com/basiclaser","followers_url":"https://api.github.com/users/basiclaser/followers","following_url":"https://api.github.com/users/basiclaser/following{/other_user}","gists_url":"https://api.github.com/users/basiclaser/gists{/gist_id}","starred_url":"https://api.github.com/users/basiclaser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/basiclaser/subscriptions","organizations_url":"https://api.github.com/users/basiclaser/orgs","repos_url":"https://api.github.com/users/basiclaser/repos","events_url":"https://api.github.com/users/basiclaser/events{/privacy}","received_events_url":"https://api.github.com/users/basiclaser/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/646561934","html_url":"https://github.com/huggingface/transfer-learning-conv-ai/issues/77#issuecomment-646561934","issue_url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/77","id":646561934,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjU2MTkzNA==","user":{"login":"DamienLopez1","id":60041070,"node_id":"MDQ6VXNlcjYwMDQxMDcw","avatar_url":"https://avatars.githubusercontent.com/u/60041070?v=4","gravatar_id":"","url":"https://api.github.com/users/DamienLopez1","html_url":"https://github.com/DamienLopez1","followers_url":"https://api.github.com/users/DamienLopez1/followers","following_url":"https://api.github.com/users/DamienLopez1/following{/other_user}","gists_url":"https://api.github.com/users/DamienLopez1/gists{/gist_id}","starred_url":"https://api.github.com/users/DamienLopez1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DamienLopez1/subscriptions","organizations_url":"https://api.github.com/users/DamienLopez1/orgs","repos_url":"https://api.github.com/users/DamienLopez1/repos","events_url":"https://api.github.com/users/DamienLopez1/events{/privacy}","received_events_url":"https://api.github.com/users/DamienLopez1/received_events","type":"User","site_admin":false},"created_at":"2020-06-19T10:28:08Z","updated_at":"2020-06-19T10:28:08Z","author_association":"NONE","body":"Sorry for the late response.\r\n\r\nI did not really use the example_entry.py to run an example. As far as I am aware example_entry.py is just an example of the format in the JSON files. \r\n\r\nIf you want to see how all the distractors being selected I suggest you add a print statement in this code snippet from train.py:\r\n\r\n`for j, candidate in enumerate(utterance[\"candidates\"][-num_candidates:]): \r\n      lm_labels = bool(j == num_candidates-1)\r\n      print(candidate)\r\n      instance = build_input_from_segments(persona, history, candidate, tokenizer, lm_labels)`\r\n\r\nIn my code its at line 93. ","reactions":{"url":"https://api.github.com/repos/huggingface/transfer-learning-conv-ai/issues/comments/646561934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DamienLopez1","id":60041070,"node_id":"MDQ6VXNlcjYwMDQxMDcw","avatar_url":"https://avatars.githubusercontent.com/u/60041070?v=4","gravatar_id":"","url":"https://api.github.com/users/DamienLopez1","html_url":"https://github.com/DamienLopez1","followers_url":"https://api.github.com/users/DamienLopez1/followers","following_url":"https://api.github.com/users/DamienLopez1/following{/other_user}","gists_url":"https://api.github.com/users/DamienLopez1/gists{/gist_id}","starred_url":"https://api.github.com/users/DamienLopez1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DamienLopez1/subscriptions","organizations_url":"https://api.github.com/users/DamienLopez1/orgs","repos_url":"https://api.github.com/users/DamienLopez1/repos","events_url":"https://api.github.com/users/DamienLopez1/events{/privacy}","received_events_url":"https://api.github.com/users/DamienLopez1/received_events","type":"User","site_admin":false}}]