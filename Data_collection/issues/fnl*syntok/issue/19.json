{"url":"https://api.github.com/repos/fnl/syntok/issues/19","repository_url":"https://api.github.com/repos/fnl/syntok","labels_url":"https://api.github.com/repos/fnl/syntok/issues/19/labels{/name}","comments_url":"https://api.github.com/repos/fnl/syntok/issues/19/comments","events_url":"https://api.github.com/repos/fnl/syntok/issues/19/events","html_url":"https://github.com/fnl/syntok/issues/19","id":1117340601,"node_id":"I_kwDOCWUVgc5CmUO5","number":19,"title":"Parenthesis at the end of input cause IndexError","user":{"login":"windreamer","id":572167,"node_id":"MDQ6VXNlcjU3MjE2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/572167?v=4","gravatar_id":"","url":"https://api.github.com/users/windreamer","html_url":"https://github.com/windreamer","followers_url":"https://api.github.com/users/windreamer/followers","following_url":"https://api.github.com/users/windreamer/following{/other_user}","gists_url":"https://api.github.com/users/windreamer/gists{/gist_id}","starred_url":"https://api.github.com/users/windreamer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/windreamer/subscriptions","organizations_url":"https://api.github.com/users/windreamer/orgs","repos_url":"https://api.github.com/users/windreamer/repos","events_url":"https://api.github.com/users/windreamer/events{/privacy}","received_events_url":"https://api.github.com/users/windreamer/received_events","type":"User","site_admin":false},"labels":[{"id":1127969181,"node_id":"MDU6TGFiZWwxMTI3OTY5MTgx","url":"https://api.github.com/repos/fnl/syntok/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-01-28T12:18:39Z","updated_at":"2022-01-31T00:45:01Z","closed_at":"2022-01-30T20:46:45Z","author_association":"NONE","active_lock_reason":null,"body":"Hi folks,\r\nI like this cool segmenter for quality and speed, but something is a bit weird. \r\n\r\n```python\r\nfrom syntok.segmenter import analyze\r\ntext='''Alexandri Aetoli Testimonia et Fragmenta. Studi e Testi 15. (1999)'''\r\n\r\nfor p in analyze(text):\r\n    for s in p:\r\n        print(' '.join(str(t) for t in s))\r\n```\r\n\r\nI got:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-15-1217f364130d> in <module>\r\n      1 for p in analyze(text):\r\n----> 2     for s in p:\r\n      3         print(' '.join(str(t) for t in s))\r\n      4\r\n\r\n~/Codebase/toolchain/__pypackages__/3.9/lib/syntok/segmenter.py in segment(tokens, bracket_skip_len)\r\n    106         State.max_bracket_skipping_length = int(bracket_skip_len)\r\n    107\r\n--> 108     for state in Begin(tokens):\r\n    109         if state.at_sentence:\r\n    110             history = state.collect_history()\r\n\r\n~/Codebase/toolchain/__pypackages__/3.9/lib/syntok/_segmentation_states.py in __iter__(self)\r\n    128         while state is not None:\r\n    129             yield state\r\n--> 130             state = next(state, None)\r\n    131\r\n    132     @abstractmethod\r\n\r\n~/Codebase/toolchain/__pypackages__/3.9/lib/syntok/_segmentation_states.py in __next__(self)\r\n    468                 return Terminal(self._stream, self._queue, self._history)\r\n    469\r\n--> 470             self._move()  # Do not skip parenthesis if they open the sentence.\r\n    471\r\n    472             if self.next_is_a_terminal:\r\n\r\n~/Codebase/toolchain/__pypackages__/3.9/lib/syntok/_segmentation_states.py in _move(self)\r\n    324     def _move(self) -> bool:\r\n    325         \"\"\"Advance the queue, storing the old value in history.\"\"\"\r\n--> 326         self.__history.append(self.__queue.pop(0))\r\n    327\r\n    328         if not self.__queue:\r\n\r\nIndexError: pop from empty list\r\n```\r\n\r\nIs there any one can help me on it?","closed_by":{"login":"fnl","id":109501,"node_id":"MDQ6VXNlcjEwOTUwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/109501?v=4","gravatar_id":"","url":"https://api.github.com/users/fnl","html_url":"https://github.com/fnl","followers_url":"https://api.github.com/users/fnl/followers","following_url":"https://api.github.com/users/fnl/following{/other_user}","gists_url":"https://api.github.com/users/fnl/gists{/gist_id}","starred_url":"https://api.github.com/users/fnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fnl/subscriptions","organizations_url":"https://api.github.com/users/fnl/orgs","repos_url":"https://api.github.com/users/fnl/repos","events_url":"https://api.github.com/users/fnl/events{/privacy}","received_events_url":"https://api.github.com/users/fnl/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/fnl/syntok/issues/19/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fnl/syntok/issues/19/timeline","performed_via_github_app":null,"state_reason":"completed"}