[{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/558352357","html_url":"https://github.com/WLM1ke/poptimizer/issues/1#issuecomment-558352357","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/1","id":558352357,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODM1MjM1Nw==","user":{"login":"d0xin","id":3667422,"node_id":"MDQ6VXNlcjM2Njc0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3667422?v=4","gravatar_id":"","url":"https://api.github.com/users/d0xin","html_url":"https://github.com/d0xin","followers_url":"https://api.github.com/users/d0xin/followers","following_url":"https://api.github.com/users/d0xin/following{/other_user}","gists_url":"https://api.github.com/users/d0xin/gists{/gist_id}","starred_url":"https://api.github.com/users/d0xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0xin/subscriptions","organizations_url":"https://api.github.com/users/d0xin/orgs","repos_url":"https://api.github.com/users/d0xin/repos","events_url":"https://api.github.com/users/d0xin/events{/privacy}","received_events_url":"https://api.github.com/users/d0xin/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T21:40:25Z","updated_at":"2019-11-25T21:40:25Z","author_association":"NONE","body":"Прошу прощения. Ошибка по всей видимости в другой библиотеке - aiomoex.\r\n","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/558352357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"d0xin","id":3667422,"node_id":"MDQ6VXNlcjM2Njc0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3667422?v=4","gravatar_id":"","url":"https://api.github.com/users/d0xin","html_url":"https://github.com/d0xin","followers_url":"https://api.github.com/users/d0xin/followers","following_url":"https://api.github.com/users/d0xin/following{/other_user}","gists_url":"https://api.github.com/users/d0xin/gists{/gist_id}","starred_url":"https://api.github.com/users/d0xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0xin/subscriptions","organizations_url":"https://api.github.com/users/d0xin/orgs","repos_url":"https://api.github.com/users/d0xin/repos","events_url":"https://api.github.com/users/d0xin/events{/privacy}","received_events_url":"https://api.github.com/users/d0xin/received_events","type":"User","site_admin":false}},{"id":2829722653,"node_id":"MDExOkNsb3NlZEV2ZW50MjgyOTcyMjY1Mw==","url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/events/2829722653","actor":{"login":"d0xin","id":3667422,"node_id":"MDQ6VXNlcjM2Njc0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3667422?v=4","gravatar_id":"","url":"https://api.github.com/users/d0xin","html_url":"https://github.com/d0xin","followers_url":"https://api.github.com/users/d0xin/followers","following_url":"https://api.github.com/users/d0xin/following{/other_user}","gists_url":"https://api.github.com/users/d0xin/gists{/gist_id}","starred_url":"https://api.github.com/users/d0xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0xin/subscriptions","organizations_url":"https://api.github.com/users/d0xin/orgs","repos_url":"https://api.github.com/users/d0xin/repos","events_url":"https://api.github.com/users/d0xin/events{/privacy}","received_events_url":"https://api.github.com/users/d0xin/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-11-25T21:40:25Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/558353341","html_url":"https://github.com/WLM1ke/poptimizer/issues/1#issuecomment-558353341","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/1","id":558353341,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODM1MzM0MQ==","user":{"login":"d0xin","id":3667422,"node_id":"MDQ6VXNlcjM2Njc0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3667422?v=4","gravatar_id":"","url":"https://api.github.com/users/d0xin","html_url":"https://github.com/d0xin","followers_url":"https://api.github.com/users/d0xin/followers","following_url":"https://api.github.com/users/d0xin/following{/other_user}","gists_url":"https://api.github.com/users/d0xin/gists{/gist_id}","starred_url":"https://api.github.com/users/d0xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0xin/subscriptions","organizations_url":"https://api.github.com/users/d0xin/orgs","repos_url":"https://api.github.com/users/d0xin/repos","events_url":"https://api.github.com/users/d0xin/events{/privacy}","received_events_url":"https://api.github.com/users/d0xin/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T21:43:24Z","updated_at":"2019-11-25T21:44:44Z","author_association":"NONE","body":"```\r\n          REGNUMBER  LOTSIZE   SHORTNAME\r\nSECID\r\nABRD   1-02-12500-A       10  АбрауДюрсо\r\nAFKS   1-05-01669-A      100  Система ао\r\nAFLT   1-01-00010-A       10    Аэрофлот\r\nAGRO           None        1    AGRO-гдр\r\nAKRN   1-03-00207-A        1       Акрон\r\n\r\n          REGNUMBER  LOTSIZE   SHORTNAME\r\nSECID\r\nYNDX           None        1  Yandex clA\r\nYRSB   1-01-50099-A       10     ТНСэнЯр\r\nYRSBP  2-01-50099-A       10   ТНСэнЯр-п\r\nZILL   1-02-00036-A        1      ЗИЛ ао\r\nZVEZ   1-01-00169-D     1000   ЗВЕЗДА ао\r\n```\r\n\r\n\r\nВидимо из-за \"None\" и берется цена AGRO","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/558353341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"d0xin","id":3667422,"node_id":"MDQ6VXNlcjM2Njc0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3667422?v=4","gravatar_id":"","url":"https://api.github.com/users/d0xin","html_url":"https://github.com/d0xin","followers_url":"https://api.github.com/users/d0xin/followers","following_url":"https://api.github.com/users/d0xin/following{/other_user}","gists_url":"https://api.github.com/users/d0xin/gists{/gist_id}","starred_url":"https://api.github.com/users/d0xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0xin/subscriptions","organizations_url":"https://api.github.com/users/d0xin/orgs","repos_url":"https://api.github.com/users/d0xin/repos","events_url":"https://api.github.com/users/d0xin/events{/privacy}","received_events_url":"https://api.github.com/users/d0xin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/558355710","html_url":"https://github.com/WLM1ke/poptimizer/issues/1#issuecomment-558355710","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/1","id":558355710,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODM1NTcxMA==","user":{"login":"d0xin","id":3667422,"node_id":"MDQ6VXNlcjM2Njc0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3667422?v=4","gravatar_id":"","url":"https://api.github.com/users/d0xin","html_url":"https://github.com/d0xin","followers_url":"https://api.github.com/users/d0xin/followers","following_url":"https://api.github.com/users/d0xin/following{/other_user}","gists_url":"https://api.github.com/users/d0xin/gists{/gist_id}","starred_url":"https://api.github.com/users/d0xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0xin/subscriptions","organizations_url":"https://api.github.com/users/d0xin/orgs","repos_url":"https://api.github.com/users/d0xin/repos","events_url":"https://api.github.com/users/d0xin/events{/privacy}","received_events_url":"https://api.github.com/users/d0xin/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T21:50:19Z","updated_at":"2019-11-25T21:50:19Z","author_association":"NONE","body":"Переоткрою))) Похоже, что это всё таки поиск алиасов по регнамберу виновен.","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/558355710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"d0xin","id":3667422,"node_id":"MDQ6VXNlcjM2Njc0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3667422?v=4","gravatar_id":"","url":"https://api.github.com/users/d0xin","html_url":"https://github.com/d0xin","followers_url":"https://api.github.com/users/d0xin/followers","following_url":"https://api.github.com/users/d0xin/following{/other_user}","gists_url":"https://api.github.com/users/d0xin/gists{/gist_id}","starred_url":"https://api.github.com/users/d0xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0xin/subscriptions","organizations_url":"https://api.github.com/users/d0xin/orgs","repos_url":"https://api.github.com/users/d0xin/repos","events_url":"https://api.github.com/users/d0xin/events{/privacy}","received_events_url":"https://api.github.com/users/d0xin/received_events","type":"User","site_admin":false}},{"id":2829750955,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyODI5NzUwOTU1","url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/events/2829750955","actor":{"login":"d0xin","id":3667422,"node_id":"MDQ6VXNlcjM2Njc0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3667422?v=4","gravatar_id":"","url":"https://api.github.com/users/d0xin","html_url":"https://github.com/d0xin","followers_url":"https://api.github.com/users/d0xin/followers","following_url":"https://api.github.com/users/d0xin/following{/other_user}","gists_url":"https://api.github.com/users/d0xin/gists{/gist_id}","starred_url":"https://api.github.com/users/d0xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0xin/subscriptions","organizations_url":"https://api.github.com/users/d0xin/orgs","repos_url":"https://api.github.com/users/d0xin/repos","events_url":"https://api.github.com/users/d0xin/events{/privacy}","received_events_url":"https://api.github.com/users/d0xin/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2019-11-25T21:50:19Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/558456964","html_url":"https://github.com/WLM1ke/poptimizer/issues/1#issuecomment-558456964","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/1","id":558456964,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODQ1Njk2NA==","user":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"created_at":"2019-11-26T04:42:39Z","updated_at":"2019-11-26T04:42:39Z","author_association":"OWNER","body":"Формально переписать поиск алиасов не сложно, но есть следующая более крупная проблема. Бумаги без регистрационного номера - это депозитарные расписки на иностранные бумаги, которые платят дивиденды в иностранной валюте. Я, во-первых, по таким бумагам не вбивал информацию о дивидендах, а, во-вторых, надо очень много блоков перелопачивать для того, чтобы реализовать поддержку дивидендов в разных валютах. \r\n\r\nДля себя я решил, что на данном этапе не стоит с этим заморачиваться, и в своем портфеле не держу такие бумаги. \r\n\r\nПо этому ишью вижу 3 возможных решения:\r\n1. В поиске алиасов падать по исключению с сообщением об отсутствии поддержки таких бумаг.\r\n2. В поиске алиасов выдавать ворнинг с сообщением об отсутствии полной поддержки таких бумаг - данные по дивидендам не ведутся.\r\n3. Реализовать поддержку иностранных бумаг в полной мере. Но думаю до этого у меня руки дойдут очень не скоро. ","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/558456964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false}},{"id":2869957225,"node_id":"MDExOkNsb3NlZEV2ZW50Mjg2OTk1NzIyNQ==","url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/events/2869957225","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"event":"closed","commit_id":"ddd4b93a4dd6c54b9ac8c9e8f6cb0d99273c8def","commit_url":"https://api.github.com/repos/WLM1ke/poptimizer/commits/ddd4b93a4dd6c54b9ac8c9e8f6cb0d99273c8def","created_at":"2019-12-10T10:36:08Z","state_reason":null,"performed_via_github_app":null}]