[{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1131651689","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1131651689","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1131651689,"node_id":"IC_kwDOCYyMws5Dc6Jp","user":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"created_at":"2022-05-19T12:52:45Z","updated_at":"2022-05-19T17:49:36Z","author_association":"OWNER","body":"1. У вас там достаточно много организмов, эта ситуация штатная. Как вариант просто запускать каждый день, чтобы все пробежало на новых данных. Как популяция уменьшится, должно начать эволюционировать дальше\r\n2. Про hmean ничего не могу сказать - это патч от одного из пользователей. Про resample не до конца понимаю, что значит \"часто значительно меняет предложения\". Я без проблем могу проконсультировать - найдите меня в телеграмме WLMike -  почти всегда свободен. Можно хоть сейчас","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1131651689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false}},{"id":6642254309,"node_id":"MEE_lADOCYyMws5KAvrRzwAAAAGL6MHl","url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/events/6642254309","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-19T12:52:46Z","performed_via_github_app":null},{"id":6642254318,"node_id":"SE_lADOCYyMws5KAvrRzwAAAAGL6MHu","url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/events/6642254318","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-19T12:52:46Z","performed_via_github_app":null},{"id":6644648335,"node_id":"MEE_lADOCYyMws5KAvrRzwAAAAGMDUmP","url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/events/6644648335","actor":{"login":"WLMIKE","id":22919510,"node_id":"MDQ6VXNlcjIyOTE5NTEw","avatar_url":"https://avatars.githubusercontent.com/u/22919510?v=4","gravatar_id":"","url":"https://api.github.com/users/WLMIKE","html_url":"https://github.com/WLMIKE","followers_url":"https://api.github.com/users/WLMIKE/followers","following_url":"https://api.github.com/users/WLMIKE/following{/other_user}","gists_url":"https://api.github.com/users/WLMIKE/gists{/gist_id}","starred_url":"https://api.github.com/users/WLMIKE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLMIKE/subscriptions","organizations_url":"https://api.github.com/users/WLMIKE/orgs","repos_url":"https://api.github.com/users/WLMIKE/repos","events_url":"https://api.github.com/users/WLMIKE/events{/privacy}","received_events_url":"https://api.github.com/users/WLMIKE/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-19T17:49:25Z","performed_via_github_app":null},{"id":6644648342,"node_id":"SE_lADOCYyMws5KAvrRzwAAAAGMDUmW","url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/events/6644648342","actor":{"login":"WLMIKE","id":22919510,"node_id":"MDQ6VXNlcjIyOTE5NTEw","avatar_url":"https://avatars.githubusercontent.com/u/22919510?v=4","gravatar_id":"","url":"https://api.github.com/users/WLMIKE","html_url":"https://github.com/WLMIKE","followers_url":"https://api.github.com/users/WLMIKE/followers","following_url":"https://api.github.com/users/WLMIKE/following{/other_user}","gists_url":"https://api.github.com/users/WLMIKE/gists{/gist_id}","starred_url":"https://api.github.com/users/WLMIKE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLMIKE/subscriptions","organizations_url":"https://api.github.com/users/WLMIKE/orgs","repos_url":"https://api.github.com/users/WLMIKE/repos","events_url":"https://api.github.com/users/WLMIKE/events{/privacy}","received_events_url":"https://api.github.com/users/WLMIKE/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-19T17:49:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1133569169","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1133569169","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1133569169,"node_id":"IC_kwDOCYyMws5DkOSR","user":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false},"created_at":"2022-05-21T08:40:39Z","updated_at":"2022-05-21T08:40:39Z","author_association":"NONE","body":"Михаил, спасибо огромное! \r\n\r\nПроговорили голосом, хочу зафиксировать ключевые моменты (как я их понял) для последователей. \r\n\r\nВыяснили, что:\r\n1) 59 бумаг, по которым  Train Size~=89000, не достаточно для используеого метода машинного обучения. Вероятный минимум Train Size - 100к, лучше 200к+ (~200 бумаг), в идеале 800к+\r\n2) для обучения вполне нормально использовать гораздо бОльшее кол-во бумаг, даже если  3//4 из них не будут покупаться в портфель.\r\n3) p-value используется не только во время оптимизации портфеля, но и при обучении.  Лучше его не трогать, если не понимаешь для чего.\r\n4) на многопроцессорных/многоядерных компьютерах   увеличение num_workers в файле data_loader.py совсем незначительно (незаметно) поднимает скорость прохождения Tests во время процесса эволюции .  На этом этапе гораздо больше времени тратится на чтение/передачу больших объемов данных, которое идет в один поток. Предположительно тут есть возможность для оптимизации кода, которая может дать выигрыш в скорости эволюции на порядок для системы с 16core-CPU.\r\n5) использование GPU \"в лоб\" вероятно не принесет значительного прироста производительности во время эволюции.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1133569169/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1140230236","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1140230236","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1140230236,"node_id":"IC_kwDOCYyMws5D9ohc","user":{"login":"vSINKS","id":61885366,"node_id":"MDQ6VXNlcjYxODg1MzY2","avatar_url":"https://avatars.githubusercontent.com/u/61885366?v=4","gravatar_id":"","url":"https://api.github.com/users/vSINKS","html_url":"https://github.com/vSINKS","followers_url":"https://api.github.com/users/vSINKS/followers","following_url":"https://api.github.com/users/vSINKS/following{/other_user}","gists_url":"https://api.github.com/users/vSINKS/gists{/gist_id}","starred_url":"https://api.github.com/users/vSINKS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vSINKS/subscriptions","organizations_url":"https://api.github.com/users/vSINKS/orgs","repos_url":"https://api.github.com/users/vSINKS/repos","events_url":"https://api.github.com/users/vSINKS/events{/privacy}","received_events_url":"https://api.github.com/users/vSINKS/received_events","type":"User","site_admin":false},"created_at":"2022-05-28T10:23:52Z","updated_at":"2022-05-28T10:23:52Z","author_association":"NONE","body":"Столкнулся с такой же ситуацией. Организмов - 143 / Максимум оценок - 142. Часто выходит сообщение \"Удаляю - Слишком большая длинна истории - 159\" или \"Медленный, не размножается ...\". Уже неделю работает в таком режиме. Я не совсем понял рекомендацию \"...Как вариант просто запускать каждый день, чтобы все пробежало на новых данных. Как популяция уменьшится, должно начать эволюционировать дальше\". \r\nНеобходимо каждый день прерывать эволюцию и запускать снова?\r\nУ меня популяция не уменьшилась, наоборот, приросла на 3-4 организма за неделю.","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1140230236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vSINKS","id":61885366,"node_id":"MDQ6VXNlcjYxODg1MzY2","avatar_url":"https://avatars.githubusercontent.com/u/61885366?v=4","gravatar_id":"","url":"https://api.github.com/users/vSINKS","html_url":"https://github.com/vSINKS","followers_url":"https://api.github.com/users/vSINKS/followers","following_url":"https://api.github.com/users/vSINKS/following{/other_user}","gists_url":"https://api.github.com/users/vSINKS/gists{/gist_id}","starred_url":"https://api.github.com/users/vSINKS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vSINKS/subscriptions","organizations_url":"https://api.github.com/users/vSINKS/orgs","repos_url":"https://api.github.com/users/vSINKS/repos","events_url":"https://api.github.com/users/vSINKS/events{/privacy}","received_events_url":"https://api.github.com/users/vSINKS/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1140231347","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1140231347","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1140231347,"node_id":"IC_kwDOCYyMws5D9oyz","user":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"created_at":"2022-05-28T10:30:23Z","updated_at":"2022-05-28T10:30:23Z","author_association":"OWNER","body":"В начале дня запускаете, дожидаетесь подобных сообщений и останавливаете. На следующий день запускаете снова. \r\n\r\nPS: постараюсь на следующей неделе выкатить версию, где этой проблемы нет. ","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1140231347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1140231645","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1140231645","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1140231645,"node_id":"IC_kwDOCYyMws5D9o3d","user":{"login":"vSINKS","id":61885366,"node_id":"MDQ6VXNlcjYxODg1MzY2","avatar_url":"https://avatars.githubusercontent.com/u/61885366?v=4","gravatar_id":"","url":"https://api.github.com/users/vSINKS","html_url":"https://github.com/vSINKS","followers_url":"https://api.github.com/users/vSINKS/followers","following_url":"https://api.github.com/users/vSINKS/following{/other_user}","gists_url":"https://api.github.com/users/vSINKS/gists{/gist_id}","starred_url":"https://api.github.com/users/vSINKS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vSINKS/subscriptions","organizations_url":"https://api.github.com/users/vSINKS/orgs","repos_url":"https://api.github.com/users/vSINKS/repos","events_url":"https://api.github.com/users/vSINKS/events{/privacy}","received_events_url":"https://api.github.com/users/vSINKS/received_events","type":"User","site_admin":false},"created_at":"2022-05-28T10:32:37Z","updated_at":"2022-05-28T10:32:37Z","author_association":"NONE","body":"Спасибо!","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1140231645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vSINKS","id":61885366,"node_id":"MDQ6VXNlcjYxODg1MzY2","avatar_url":"https://avatars.githubusercontent.com/u/61885366?v=4","gravatar_id":"","url":"https://api.github.com/users/vSINKS","html_url":"https://github.com/vSINKS","followers_url":"https://api.github.com/users/vSINKS/followers","following_url":"https://api.github.com/users/vSINKS/following{/other_user}","gists_url":"https://api.github.com/users/vSINKS/gists{/gist_id}","starred_url":"https://api.github.com/users/vSINKS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vSINKS/subscriptions","organizations_url":"https://api.github.com/users/vSINKS/orgs","repos_url":"https://api.github.com/users/vSINKS/repos","events_url":"https://api.github.com/users/vSINKS/events{/privacy}","received_events_url":"https://api.github.com/users/vSINKS/received_events","type":"User","site_admin":false}},{"id":6737727975,"node_id":"CE_lADOCYyMws5KAvrRzwAAAAGRmZHn","url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/events/6737727975","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"event":"closed","commit_id":"1eb9c31ddf6eeb002df2427ccb746af673c6d6d4","commit_url":"https://api.github.com/repos/WLM1ke/poptimizer/commits/1eb9c31ddf6eeb002df2427ccb746af673c6d6d4","created_at":"2022-06-03T15:29:03Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146755612","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146755612","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146755612,"node_id":"IC_kwDOCYyMws5EWhoc","user":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T07:20:56Z","updated_at":"2022-06-05T07:22:06Z","author_association":"NONE","body":"Михаил, добрый день.\r\n\r\nПосле обновлений от 3 июня три модели смогли обновится (у них изменилось кол-во tickers), часть удалились, и вторые сутки больше ничего не меняется. Всегда получаем \"Слишком большая длинна истории\", что сподвигло смотреть код.\r\n\r\nПодскажите пожалуйста, нет ли ошибки в models.py?\r\n\r\n...\r\n        n_tickers = len(self._tickers)\r\n        days, rez = divmod(len(loader.dataset), n_tickers)\r\n        if rez:\r\n            history = int(self._phenotype[\"data\"][\"history_days\"])\r\n            raise TooLongHistoryError(f\"Слишком большая длинна истории - {history}\")\r\n...\r\n\r\nМы этим условием хотим добиться, чтобы длина dataset нацело делилась на кол-во тикеров в портфеле?\r\n\r\n\r\nЯ для отладки исправил вывод raise \r\n            raise TooLongHistoryError(f\"Слишком большая длинна истории - {history};    {days}, {rez} = divmod({len_loader_dataset}, {n_tickers})\")\r\nи получил:\r\n\r\n\r\n2022-06-05 09:46 Удаляю - Слишком большая длинна истории - 357;    0, 159 = divmod(159, 227)\r\n2022-06-05 09:46 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:46 Удаляю - Слишком большая длинна истории - 222;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:46 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:46 Удаляю - Слишком большая длинна истории - 249;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 254;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 217;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 243;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 221;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 250;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 243;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:47 Удаляю - Слишком большая длинна истории - 218;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 246;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 249;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 236;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 247;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 243;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 247;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 242;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:48 Удаляю - Слишком большая длинна истории - 249;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 214;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 237;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 248;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 242;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 230;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 242;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 217;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:49 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 231;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 241;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 218;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 212;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 246;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 241;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:50 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 250;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 256;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 248;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 213;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:51 Удаляю - Слишком большая длинна истории - 250;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 241;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 215;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 260;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 250;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 248;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 241;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 215;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:52 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 247;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 248;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 239;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 248;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 255;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 234;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 250;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:53 Удаляю - Слишком большая длинна истории - 252;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 261;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 242;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 246;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 243;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 250;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:54 Удаляю - Слишком большая длинна истории - 250;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 247;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 214;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 243;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 256;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 249;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 354;    0, 159 = divmod(159, 227)\r\n2022-06-05 09:55 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 252;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 248;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 222;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 240;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 215;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:56 Удаляю - Слишком большая длинна истории - 208;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 248;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 220;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 249;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 246;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 246;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 249;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 216;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:57 Удаляю - Слишком большая длинна истории - 214;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 343;    0, 179 = divmod(179, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 245;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 201;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 274;    0, 223 = divmod(223, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 250;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 243;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:58 Удаляю - Слишком большая длинна истории - 244;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:59 Удаляю - Слишком большая длинна истории - 217;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:59 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:59 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:59 Удаляю - Слишком большая длинна истории - 248;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:59 Удаляю - Слишком большая длинна истории - 251;    0, 225 = divmod(225, 227)\r\n2022-06-05 09:59 Удаляю - Слишком большая длинна истории - 233;    0, 226 = divmod(226, 227)\r\n2022-06-05 09:59 Удаляю - Слишком большая длинна истории - 1225;    0, 140 = divmod(140, 227)\r\n2022-06-05 09:59 Удаляю - Слишком большая длинна истории - 252;    0, 225 = divmod(225, 227)\r\n\r\nКажется, что никогда это условие не сможем пройти.","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146755612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146756274","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146756274","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146756274,"node_id":"IC_kwDOCYyMws5EWhyy","user":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T07:28:11Z","updated_at":"2022-06-05T07:28:11Z","author_association":"OWNER","body":"Ошибки тут нет. В тестовых данных примеров должно быть количество тикеров * количество тестовых дней. Если их эта зависимость нарушается, то у части тикеров слишком короткая история для тестирования. Вымирание большого числа моделей при новом подходе вполне нормально. ","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146756274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146787329","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146787329","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146787329,"node_id":"IC_kwDOCYyMws5EWpYB","user":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T11:27:58Z","updated_at":"2022-06-05T11:29:22Z","author_association":"NONE","body":"Спасибо!\r\n\r\nА как добиться, чтобы \"_в тестовых данных примеров было количество тикеров * количество тестовых дней_\" ?\r\nЯ для пробы удалил из портфеля \"короткие\" бумаги:\r\nБумага\tДней\r\nREGN-RM\t245\r\nCMCSA-RM\t247\r\nGILD-RM\t247\r\nTMUS-RM\t247\r\nEBAY-RM\t248\r\nGPS-RM\t248\r\nMRNA-RM\t248\r\nORCL-RM\t248\r\nPTR-RM\t248\r\nTTWO-RM\t248\r\nBCSB\t273\r\nFIXP\t283\r\n\r\nСледующая\r\nABT-RM\t304\r\n\r\nТ.е. самая \"короткая\" по истории бумага у меня сейчас ABT-RM 304 дня истории, но это не помогло. Стал разбираться дальше, обнаружил что:\r\n\r\npopulation.count=64   (около 40 моделей умерли после нового релиза - это нормально)\r\n64 торговых дня назад было Timestamp('2022-02-04 00:00:00')\r\nпоэтому в evolve.py цикл organism.evaluate_fitness запускается начиная с 2022-02-04\r\nВ evaluate_fitness создается Model c end = 2022-02-04, которая не проходит quality_metrics - вываливается по Exception из-за TooLongHistoryError и следующий цикл опять начинается с 2022-02-04\r\nВываливается в _eval_llh, так как len(loader.dataset) у меня всегда меньше n_tickers, а должно быть либо равно, либо в n-раз больше.\r\n\r\nЗдесь я уже теряюсь...\r\nВидимо len(loader.dataset)  это и есть \"_кол-во примеров в тестовых данных_\".  Но не могу понять, что ему мешает стать равным n*tickers.","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146787329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146788653","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146788653","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146788653,"node_id":"IC_kwDOCYyMws5EWpst","user":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T11:37:54Z","updated_at":"2022-06-05T11:37:54Z","author_association":"OWNER","body":"Допустим у вас 64 модели, прогноз делается на 21 (это дефолтная установка, не знаю как у вам), и пусть у вас самая короткая история по бумаге 245 дня.\r\nДалее важен параметр модели history_days (он у всех моделей разный). \r\n\r\nСобственно, чтобы все было нормально, минимальная история по бумаге (245) должна быть больше, чем 64 + 21 + history_days, то есть в этом условном случае history_days < 245 - 64 - 21 = 160. ","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146788653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146809441","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146809441","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146809441,"node_id":"IC_kwDOCYyMws5EWuxh","user":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T13:55:40Z","updated_at":"2022-06-05T13:55:40Z","author_association":"NONE","body":"Еще раз спасибо!\r\nПроверил в коллекции моделей, нашел три штуки, у которых history_days был больше максимально возможного для меня по формуле из Вашего предыдущего ответа (259 -64 - 21 = 174), и удалил их.\r\n\r\nСейчас  у всех Родителей (и в СУБД и в логе эволюции) history_days в допустимых пределах (<174 +3. т.к. три модели удалил ), но у всех Потомков history_days в диапазоне 200 - 250+  (наблюдал в течении 10 минут).  Таким образом ни одна из родительских моделей не может перестроиться на изменившееся кол-во тикеров.\r\nНормально ли это?   \r\nНе проще начать обучение заново?  Или нужно просто время, чтобы рандом попал в допустимый history_days для Потомков?","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146809441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146810293","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146810293","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146810293,"node_id":"IC_kwDOCYyMws5EWu-1","user":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T14:00:57Z","updated_at":"2022-06-05T14:00:57Z","author_association":"OWNER","body":"С потомками, что странное. Они должны иметь history_days в некой симметричной окрестности около history_days родителя. То есть условно, если у вас у родителя 174 дня, то примерно в половине случаев будут получаться потомки с меньшим количеством дней. ","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146810293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146831914","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146831914","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146831914,"node_id":"IC_kwDOCYyMws5EW0Qq","user":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T15:12:44Z","updated_at":"2022-06-05T15:12:44Z","author_association":"NONE","body":"Похоже это возвращет функция _to_bounds из chromosome.py.\r\nДля key=history_days на вход ей подается\r\nparent1[key]=126.37099112505452, \r\nparent2[key]=163.5959968136489, \r\nscale=0.12803687993289598, \r\ndiff=-4.766173583851928, \r\nraw_value=126.30325883031003, \r\ngene.upper_bound=None, \r\ngene.lower_bound=189, \r\n\r\nВозвращает \r\nchild[key]=251.69674116968997\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146831914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146835725","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146835725","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146835725,"node_id":"IC_kwDOCYyMws5EW1MN","user":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T15:38:43Z","updated_at":"2022-06-05T15:43:08Z","author_association":"OWNER","body":"Понял, моя ошибка - запушил изменения","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146835725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146844587","html_url":"https://github.com/WLM1ke/poptimizer/issues/106#issuecomment-1146844587","issue_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/106","id":1146844587,"node_id":"IC_kwDOCYyMws5EW3Wr","user":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T16:35:13Z","updated_at":"2022-06-05T16:35:13Z","author_association":"NONE","body":"Спасибо, помогло.\r\nОткатил модели на состояние \"до обновлений от 3июня\", запустил эволюцию, буду наблюдать.","reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/comments/1146844587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Snest1","id":26552339,"node_id":"MDQ6VXNlcjI2NTUyMzM5","avatar_url":"https://avatars.githubusercontent.com/u/26552339?v=4","gravatar_id":"","url":"https://api.github.com/users/Snest1","html_url":"https://github.com/Snest1","followers_url":"https://api.github.com/users/Snest1/followers","following_url":"https://api.github.com/users/Snest1/following{/other_user}","gists_url":"https://api.github.com/users/Snest1/gists{/gist_id}","starred_url":"https://api.github.com/users/Snest1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snest1/subscriptions","organizations_url":"https://api.github.com/users/Snest1/orgs","repos_url":"https://api.github.com/users/Snest1/repos","events_url":"https://api.github.com/users/Snest1/events{/privacy}","received_events_url":"https://api.github.com/users/Snest1/received_events","type":"User","site_admin":false}}]