{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/97","repository_url":"https://api.github.com/repos/WLM1ke/poptimizer","labels_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/97/labels{/name}","comments_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/97/comments","events_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/97/events","html_url":"https://github.com/WLM1ke/poptimizer/issues/97","id":1107320420,"node_id":"I_kwDOCYyMws5CAF5k","number":97,"title":"Вопрос по добавлению/удалению тикеров, а также по моделям.","user":{"login":"Questtt","id":93656699,"node_id":"U_kgDOBZUWew","avatar_url":"https://avatars.githubusercontent.com/u/93656699?v=4","gravatar_id":"","url":"https://api.github.com/users/Questtt","html_url":"https://github.com/Questtt","followers_url":"https://api.github.com/users/Questtt/followers","following_url":"https://api.github.com/users/Questtt/following{/other_user}","gists_url":"https://api.github.com/users/Questtt/gists{/gist_id}","starred_url":"https://api.github.com/users/Questtt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Questtt/subscriptions","organizations_url":"https://api.github.com/users/Questtt/orgs","repos_url":"https://api.github.com/users/Questtt/repos","events_url":"https://api.github.com/users/Questtt/events{/privacy}","received_events_url":"https://api.github.com/users/Questtt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-01-18T20:12:41Z","updated_at":"2022-01-21T13:11:18Z","closed_at":"2022-01-21T13:10:06Z","author_association":"NONE","active_lock_reason":null,"body":"Добрый день.\r\nДано:\r\nесть свой файлик yaml, в который решил добавить те тикеры, которые есть в моем портфеле\r\nОсновной файлик Base,yaml не трогал, лежит там же.\r\n1) При добавлении в файлик нескольких тикеров\r\n  MCHP-RM: 10\r\n  HOOD-RM: 30\r\n  SFTL: 76\r\n  SPBE: 100\r\n  TUSD: 53000\r\n\r\nи последующем запуске эволюции сразу лезут ошибки вида\r\nDateCheckRequired(timestamp=datetime.datetime(2022, 1, 18, 19, 39, 56, 71760))\r\n***2022-01-17: Шаг эволюции — 2***\r\nLLH - (2.4163, 2.5501, 2.6234)\r\nRET - (-0.4540, -0.0710, 0.4886)\r\nОрганизмов - 85 / Максимум оценок - 43 / Поколений - 28\r\nScale - 100.00% / Jump - 100.00%\r\n\r\nРодитель:\r\nLLH —  2.4163:  2.7493,  2.6579,  2.4699,  2.4052,  2.7301,  2.7596,  2.7478,  2.7000,  2.6327,  2.6701,  2.6168,  2.5104,  2.5461,  2.5803,  2.5389,  2.5670,  2.6316,  2.6467,  2.3963,  2.4169,  2.4133,  2.1570,  2.0501,  1.8055,  2.1613,  2.2694,  2.2799,  2.3627,  2.3293,  2.3727,  2.4316,  2.2940,  2.3144,  2.3029,  2.1684,  2.3228,  2.2833,  2.4085,  2.1471,  2.2747,  2.4163,  2.5512,  2.5370\r\nRET — -0.0903:  0.7476,  0.9777,  0.8330,  0.9740,  0.8815, -0.5283, -0.8624,  0.2988,  0.1168, -0.0903, -0.6548, -0.4354, -0.5218, -0.3202, -0.2633, -0.2295,  0.1301, -0.2642, -0.2813, -0.1566, -0.3569, -0.5271, -0.6825, -0.5586, -0.8170, -0.9328,  0.1180,  0.8336,  0.0467,  0.5420,  0.9018,  0.6491,  0.0775,  0.1866,  0.0258,  0.3128,  0.1574, -0.1091, -0.1108, -0.4889, -0.1940,  0.7710,  1.3757\r\nTimer — 0:03:22 / Scores - 43\r\nData: {'batch_size': 544.1814490060337, 'history_days': 126.37214308665581, 'ticker_on': -13491.846639888232, 'day_of_year_on': -0.601958378825853, 'day_of_period_on': 29.320250898279127, 'prices_on': 219.3078601523154, 'dividends_on': -94.03392082356538, 'turnover_on': -103.31561921851228, 'average_turnover_on': 37.584941661289825, 'rvi_on': 8.402798891568866, 'mcftrr_on': -0.2789684357328445, 'imoex_on': -24.26899966300151, 'ticker_type_on': 694.8571667119032, 'usd_on': 47.56922801593863, 'open_on': -132.18096255162706, 'high_on': 2.4895491290099665, 'low_on': 114.84474608037817, 'meogtrr_on': 2.095715318698276}\r\nModel: {'start_bn': -421.3330993824715, 'kernels': 3.719762867174905, 'sub_blocks': 1.9520882594366002, 'gate_channels': 8.440372214039686, 'residual_channels': 5.875438269756684, 'skip_channels': 7.40759706459868, 'end_channels': 7.62571004461237, 'mixture_size': 10.523801895289735}\r\nOptimizer: {'betas': 0.9990115004885081, 'eps': 7.955905503913788e-05, 'weight_decay': 0.005508104412380203}\r\nScheduler: {'max_lr': 0.009869463663043398, 'epochs': 2.2468356409415797, 'pct_start': 0.35004594173121356, 'anneal_strategy': -0.9423892531093931, 'base_momentum': 0.8445112716437683, 'max_momentum': 0.9234711039553989, 'div_factor': 295.2147414200126, 'final_div_factor': 44610292.672476746}\r\nUtility: {'risk_aversion': 0.9999991339442165, 'error_tolerance': 5.0221981632873055e-09}\r\n\r\nLLH worst difference: median - -0.0598, upper - 0.0321, max - 0.0907\r\nRET worst difference: median - -0.1266, upper - 0.3109, max - 0.5497\r\nMargin - 34.95%, Time excess - 0.00%\r\n\r\nПретендент - новый организм:\r\nLLH — -\r\nRET — -\r\nTimer — 0:00:00 / Scores - 0\r\nData: {'batch_size': 546.0288263569632, 'history_days': 70.69244290473151, 'ticker_on': -539390685.840478, 'day_of_year_on': -607495.4801111785, 'day_of_period_on': -8929092.988403583, 'prices_on': 860.7470191170048, 'dividends_on': -9067.985229056168, 'turnover_on': -1622023639.9564042, 'average_turnover_on': -255887899.8858772, 'rvi_on': -63315.11569619761, 'mcftrr_on': 6306.1632638281135, 'imoex_on': 1343119.0439553764, 'ticker_type_on': -3195745.751872108, 'usd_on': 9714512.01830391, 'open_on': -517211.8643529856, 'high_on': -207.54076891507916, 'low_on': -4808746.602419375, 'meogtrr_on': -351584.44049646135}\r\nModel: {'start_bn': 949674.8117367319, 'kernels': 52.600334602229125, 'sub_blocks': 2.153565411706507, 'gate_channels': 8.347306285275819, 'residual_channels': 10.527285597153835, 'skip_channels': 2484.763325765774, 'end_channels': 4.157612469882803, 'mixture_size': 8.498520495937893}\r\nOptimizer: {'betas': 0.9978341459548834, 'eps': 1.1944942001621881e-05, 'weight_decay': 0.13978151294114266}\r\nScheduler: {'max_lr': 0.006932698487612888, 'epochs': 1.63914976243321, 'pct_start': 0.38025769596284015, 'anneal_strategy': -423319.59884408774, 'base_momentum': 0.6350220928447462, 'max_momentum': 0.886668315656381, 'div_factor': 499938.9681106344, 'final_div_factor': 5948204855146.895}\r\nUtility: {'risk_aversion': 1.000022100491393, 'error_tolerance': 9.250173338794867e-06}\r\n\r\nDateCheckRequired(timestamp=datetime.datetime(2022, 1, 18, 19, 39, 58, 394184))\r\n**Удаляю - Слишком большая длинна истории - 70**\r\n\r\n\r\nИ такое сообщение постоянно выходит\r\nПричем если удалить данные тикеры - сразу становится все ок - при длине истории больше 130 модель эволюционирует без проблем\r\n\r\n2) И вопрос про удаление тикеров - оптимизация мне настойчиво пишет купить тикер STSBP, которым мой брокер не торгует, я хотел бы исключить данный тикер из эволюции, но в этом случае при запуске эволюции в пятницу днем получал ошибку, что такой-то тикер не найден.\r\nUPD: Хотя сейчас запустилось после удаления данного тикера. Значит, удалять тикеры можно делать только вечером ?\r\n\r\n3) Есть ли смысл обмениваться моделями ? У меня в один момент численность популяции снизилась до 1 модели, я попросил товарища скинуть бэкап своих моделей, и загрузил их к себе, и уже на основе их продолжаю эволюцию\r\n\r\n\r\n\r\n","closed_by":{"login":"Questtt","id":93656699,"node_id":"U_kgDOBZUWew","avatar_url":"https://avatars.githubusercontent.com/u/93656699?v=4","gravatar_id":"","url":"https://api.github.com/users/Questtt","html_url":"https://github.com/Questtt","followers_url":"https://api.github.com/users/Questtt/followers","following_url":"https://api.github.com/users/Questtt/following{/other_user}","gists_url":"https://api.github.com/users/Questtt/gists{/gist_id}","starred_url":"https://api.github.com/users/Questtt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Questtt/subscriptions","organizations_url":"https://api.github.com/users/Questtt/orgs","repos_url":"https://api.github.com/users/Questtt/repos","events_url":"https://api.github.com/users/Questtt/events{/privacy}","received_events_url":"https://api.github.com/users/Questtt/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/97/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/97/timeline","performed_via_github_app":null,"state_reason":"completed"}