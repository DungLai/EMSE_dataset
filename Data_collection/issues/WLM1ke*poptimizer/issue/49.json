{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/49","repository_url":"https://api.github.com/repos/WLM1ke/poptimizer","labels_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/49/labels{/name}","comments_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/49/comments","events_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/49/events","html_url":"https://github.com/WLM1ke/poptimizer/issues/49","id":740673329,"node_id":"MDU6SXNzdWU3NDA2NzMzMjk=","number":49,"title":"RuntimeError","user":{"login":"RomaKoks","id":8873242,"node_id":"MDQ6VXNlcjg4NzMyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/8873242?v=4","gravatar_id":"","url":"https://api.github.com/users/RomaKoks","html_url":"https://github.com/RomaKoks","followers_url":"https://api.github.com/users/RomaKoks/followers","following_url":"https://api.github.com/users/RomaKoks/following{/other_user}","gists_url":"https://api.github.com/users/RomaKoks/gists{/gist_id}","starred_url":"https://api.github.com/users/RomaKoks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RomaKoks/subscriptions","organizations_url":"https://api.github.com/users/RomaKoks/orgs","repos_url":"https://api.github.com/users/RomaKoks/repos","events_url":"https://api.github.com/users/RomaKoks/events{/privacy}","received_events_url":"https://api.github.com/users/RomaKoks/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-11T10:57:19Z","updated_at":"2020-11-11T12:46:23Z","closed_at":"2020-11-11T12:46:23Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Потомок:\r\nПобед - 0\r\nData: {'batch_size': 204.9562127867058, 'history_days': 3.3102549152105727, 'ticker_on': -5776.724982106083, 'day_of_year_on': -1780.9273236372533, 'day_of_period_on': -13489.714181493244, 'prices_on': -30336.533005284495, 'dividends_on': -548625.4968190438, 'turnover_on': -397529.18654028786, 'average_turnover_on': -1324596.296612373, 'rvi_on': -954.3014412478325, 'mcftrr_on': -0.5122750395318638}\r\nModel: {'start_bn': -580395.1587646941, 'kernels': 3.538092510358175, 'sub_blocks': 1.191626480806004, 'gate_channels': 294.91508063470513, 'residual_channels': 145.71541125887177, 'skip_channels': 135.19470189097453, 'end_channels': 201.1516020489509}\r\nOptimizer: {'betas': 0.9893778147420297, 'eps': 2.735814118142896e-07, 'weight_decay': 0.49070839808123856, 'amsgrad': -258547.40207594028}\r\nScheduler: {'max_lr': 0.007796431125684897, 'epochs': 8.460116105978639, 'pct_start': 0.35364452023660325, 'anneal_strategy': -29558.046276696186, 'base_momentum': 0.9862028678552708, 'max_momentum': 0.5580588206266746, 'div_factor': 365.9928552054215, 'final_div_factor': 25411.010159529764}\r\nКоличество слоев - 30\r\nКоличество параметров - 769546\r\nEpochs - 8.46\r\nTrain size - 189826\r\n~~> Train:   0%|          | 0/7877 [00:00<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/__main__.py\", line 19, in evolve\r\n    ev.evolve(port)\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/evolve/evolve.py\", line 56, in evolve\r\n    child_fitness = self._eval_and_print(child, tickers, end)\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/evolve/evolve.py\", line 84, in _eval_and_print\r\n    fitness = organism.evaluate_fitness(tickers, end)\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/evolve/population.py\", line 76, in evaluate_fitness\r\n    llh = model.llh\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/dl/model.py\", line 104, in llh\r\n    self._llh = self._eval_llh()\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/dl/model.py\", line 123, in _eval_llh\r\n    model = self.get_model(loader)\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/dl/model.py\", line 159, in get_model\r\n    self._model = self._train_model()\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/dl/model.py\", line 229, in _train_model\r\n    output = model(batch)\r\n  File \"/home/user_name/anaconda3/envs/finan/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/dl/models/wave_net.py\", line 273, in forward\r\n    y, skip = block(y)\r\n  File \"/home/user_name/anaconda3/envs/finan/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/dl/models/wave_net.py\", line 121, in forward\r\n    y = sub_block(y)\r\n  File \"/home/user_name/anaconda3/envs/finan/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/user_name/PycharmProjects/poptimizer/poptimizer/dl/models/wave_net.py\", line 51, in forward\r\n    y_signal = self.signal_conv(y)\r\n  File \"/home/user_name/anaconda3/envs/finan/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/user_name/anaconda3/envs/finan/lib/python3.8/site-packages/torch/nn/modules/conv.py\", line 256, in forward\r\n    return F.conv1d(input, self.weight, self.bias, self.stride,\r\nRuntimeError: Given groups=1, weight of size [294, 145, 3], expected input[1, 1, 3] to have 145 channels, but got 1 channels instead","closed_by":{"login":"WLM1ke","id":35304528,"node_id":"MDQ6VXNlcjM1MzA0NTI4","avatar_url":"https://avatars.githubusercontent.com/u/35304528?v=4","gravatar_id":"","url":"https://api.github.com/users/WLM1ke","html_url":"https://github.com/WLM1ke","followers_url":"https://api.github.com/users/WLM1ke/followers","following_url":"https://api.github.com/users/WLM1ke/following{/other_user}","gists_url":"https://api.github.com/users/WLM1ke/gists{/gist_id}","starred_url":"https://api.github.com/users/WLM1ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WLM1ke/subscriptions","organizations_url":"https://api.github.com/users/WLM1ke/orgs","repos_url":"https://api.github.com/users/WLM1ke/repos","events_url":"https://api.github.com/users/WLM1ke/events{/privacy}","received_events_url":"https://api.github.com/users/WLM1ke/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/49/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/WLM1ke/poptimizer/issues/49/timeline","performed_via_github_app":null,"state_reason":"completed"}