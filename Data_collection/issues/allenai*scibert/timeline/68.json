[{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/562217096","html_url":"https://github.com/allenai/scibert/issues/68#issuecomment-562217096","issue_url":"https://api.github.com/repos/allenai/scibert/issues/68","id":562217096,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjIxNzA5Ng==","user":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"created_at":"2019-12-05T16:55:58Z","updated_at":"2019-12-05T16:55:58Z","author_association":"COLLABORATOR","body":"Interesting. I have seen the same pattern while training transformers for another project. I don't know why this is happening, but it doesn't seem to be a bug","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/562217096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/562217966","html_url":"https://github.com/allenai/scibert/issues/68#issuecomment-562217966","issue_url":"https://api.github.com/repos/allenai/scibert/issues/68","id":562217966,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjIxNzk2Ng==","user":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"created_at":"2019-12-05T16:57:54Z","updated_at":"2019-12-05T16:57:54Z","author_association":"COLLABORATOR","body":"Can you try this for regular BERT and see if you get the same pattern?","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/562217966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/562513686","html_url":"https://github.com/allenai/scibert/issues/68#issuecomment-562513686","issue_url":"https://api.github.com/repos/allenai/scibert/issues/68","id":562513686,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjUxMzY4Ng==","user":{"login":"RommeZetaAlpha","id":58464344,"node_id":"MDQ6VXNlcjU4NDY0MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/58464344?v=4","gravatar_id":"","url":"https://api.github.com/users/RommeZetaAlpha","html_url":"https://github.com/RommeZetaAlpha","followers_url":"https://api.github.com/users/RommeZetaAlpha/followers","following_url":"https://api.github.com/users/RommeZetaAlpha/following{/other_user}","gists_url":"https://api.github.com/users/RommeZetaAlpha/gists{/gist_id}","starred_url":"https://api.github.com/users/RommeZetaAlpha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RommeZetaAlpha/subscriptions","organizations_url":"https://api.github.com/users/RommeZetaAlpha/orgs","repos_url":"https://api.github.com/users/RommeZetaAlpha/repos","events_url":"https://api.github.com/users/RommeZetaAlpha/events{/privacy}","received_events_url":"https://api.github.com/users/RommeZetaAlpha/received_events","type":"User","site_admin":false},"created_at":"2019-12-06T10:11:02Z","updated_at":"2019-12-06T10:11:02Z","author_association":"NONE","body":"We also tried this for the regular BERT uncased model. This gives us the following results.\r\n\r\nThe first image show the word `difference` in the context `Computer Vision: What is the difference between HOG and SIFT feature descriptor?`. This gives a clear peak at 308. This happens for more tokens but not as consistent as in Scibert. \r\n\r\n<a href=\"https://imgbb.com/\"><img src=\"https://i.ibb.co/nf8xQHb/difference-bert.png\" alt=\"difference-bert\" border=\"0\"></a>\r\n\r\nAnother example, the word `linear` in the context `How are linear regression and gradient descent related, is gradient descent a type of linear regression, and is it similar to ordinary least squares (OLS) and generalized least squares (GLS)?` creates an output that is much more expected. \r\n\r\n<a href=\"https://imgbb.com/\"><img src=\"https://i.ibb.co/hV1szXw/linear-bert.png\" alt=\"linear-bert\" border=\"0\"></a>\r\n\r\nBesides results for Bert, we found some tokens in which the pattern doesn't occur when using SciBert. These are for example symbols \"),?\" and the token `The`\r\n\r\n<a href=\"https://imgbb.com/\"><img src=\"https://i.ibb.co/NZVp5Gq/the-scibert.png\" alt=\"the-scibert\" border=\"0\"></a>\r\n\r\n#### Conclusion\r\nWe see a pattern in both Bert and SciBert, but it is not as strong and therefore we expect it to have less of an impact on the similarity metrics/distances. Not only is it not as consistent, Bert also shows many more peaks which causes a consistent peak to be of less impact. \r\n\r\nDo you have any ideas what it can be caused by and what the possible implications are?\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/562513686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RommeZetaAlpha","id":58464344,"node_id":"MDQ6VXNlcjU4NDY0MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/58464344?v=4","gravatar_id":"","url":"https://api.github.com/users/RommeZetaAlpha","html_url":"https://github.com/RommeZetaAlpha","followers_url":"https://api.github.com/users/RommeZetaAlpha/followers","following_url":"https://api.github.com/users/RommeZetaAlpha/following{/other_user}","gists_url":"https://api.github.com/users/RommeZetaAlpha/gists{/gist_id}","starred_url":"https://api.github.com/users/RommeZetaAlpha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RommeZetaAlpha/subscriptions","organizations_url":"https://api.github.com/users/RommeZetaAlpha/orgs","repos_url":"https://api.github.com/users/RommeZetaAlpha/repos","events_url":"https://api.github.com/users/RommeZetaAlpha/events{/privacy}","received_events_url":"https://api.github.com/users/RommeZetaAlpha/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/566021387","html_url":"https://github.com/allenai/scibert/issues/68#issuecomment-566021387","issue_url":"https://api.github.com/repos/allenai/scibert/issues/68","id":566021387,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjAyMTM4Nw==","user":{"login":"RommeZetaAlpha","id":58464344,"node_id":"MDQ6VXNlcjU4NDY0MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/58464344?v=4","gravatar_id":"","url":"https://api.github.com/users/RommeZetaAlpha","html_url":"https://github.com/RommeZetaAlpha","followers_url":"https://api.github.com/users/RommeZetaAlpha/followers","following_url":"https://api.github.com/users/RommeZetaAlpha/following{/other_user}","gists_url":"https://api.github.com/users/RommeZetaAlpha/gists{/gist_id}","starred_url":"https://api.github.com/users/RommeZetaAlpha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RommeZetaAlpha/subscriptions","organizations_url":"https://api.github.com/users/RommeZetaAlpha/orgs","repos_url":"https://api.github.com/users/RommeZetaAlpha/repos","events_url":"https://api.github.com/users/RommeZetaAlpha/events{/privacy}","received_events_url":"https://api.github.com/users/RommeZetaAlpha/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T11:25:45Z","updated_at":"2019-12-16T11:25:45Z","author_association":"NONE","body":"Did you already have a look at this? ","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/566021387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RommeZetaAlpha","id":58464344,"node_id":"MDQ6VXNlcjU4NDY0MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/58464344?v=4","gravatar_id":"","url":"https://api.github.com/users/RommeZetaAlpha","html_url":"https://github.com/RommeZetaAlpha","followers_url":"https://api.github.com/users/RommeZetaAlpha/followers","following_url":"https://api.github.com/users/RommeZetaAlpha/following{/other_user}","gists_url":"https://api.github.com/users/RommeZetaAlpha/gists{/gist_id}","starred_url":"https://api.github.com/users/RommeZetaAlpha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RommeZetaAlpha/subscriptions","organizations_url":"https://api.github.com/users/RommeZetaAlpha/orgs","repos_url":"https://api.github.com/users/RommeZetaAlpha/repos","events_url":"https://api.github.com/users/RommeZetaAlpha/events{/privacy}","received_events_url":"https://api.github.com/users/RommeZetaAlpha/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/566163267","html_url":"https://github.com/allenai/scibert/issues/68#issuecomment-566163267","issue_url":"https://api.github.com/repos/allenai/scibert/issues/68","id":566163267,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjE2MzI2Nw==","user":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T17:35:15Z","updated_at":"2019-12-16T17:35:15Z","author_association":"COLLABORATOR","body":"As I said, I don't think this is a bug, it is just how the model decided to represent your tokens. As to the similarity measures, maybe normalizing the vector somehow will prevent this dimension to dominate the score","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/566163267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false}}]