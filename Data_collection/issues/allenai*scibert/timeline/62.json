[{"id":2724219202,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjcyNDIxOTIwMg==","url":"https://api.github.com/repos/allenai/scibert/issues/events/2724219202","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-18T09:39:15Z","performed_via_github_app":null},{"id":2724219206,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3MjQyMTkyMDY=","url":"https://api.github.com/repos/allenai/scibert/issues/events/2724219206","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-18T09:39:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/543728234","html_url":"https://github.com/allenai/scibert/issues/62#issuecomment-543728234","issue_url":"https://api.github.com/repos/allenai/scibert/issues/62","id":543728234,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MzcyODIzNA==","user":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"created_at":"2019-10-18T12:54:19Z","updated_at":"2019-10-18T12:54:19Z","author_association":"COLLABORATOR","body":"Yes, these are the same parameters I used for training. It is possible that our corpus is more difficult because of the pdf parsing noise. I can find the learning curves for you if you think it is going to be useful","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/543728234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/546261785","html_url":"https://github.com/allenai/scibert/issues/62#issuecomment-546261785","issue_url":"https://api.github.com/repos/allenai/scibert/issues/62","id":546261785,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjI2MTc4NQ==","user":{"login":"stefan-it","id":20651387,"node_id":"MDQ6VXNlcjIwNjUxMzg3","avatar_url":"https://avatars.githubusercontent.com/u/20651387?v=4","gravatar_id":"","url":"https://api.github.com/users/stefan-it","html_url":"https://github.com/stefan-it","followers_url":"https://api.github.com/users/stefan-it/followers","following_url":"https://api.github.com/users/stefan-it/following{/other_user}","gists_url":"https://api.github.com/users/stefan-it/gists{/gist_id}","starred_url":"https://api.github.com/users/stefan-it/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefan-it/subscriptions","organizations_url":"https://api.github.com/users/stefan-it/orgs","repos_url":"https://api.github.com/users/stefan-it/repos","events_url":"https://api.github.com/users/stefan-it/events{/privacy}","received_events_url":"https://api.github.com/users/stefan-it/received_events","type":"User","site_admin":false},"created_at":"2019-10-25T08:41:41Z","updated_at":"2019-10-25T08:41:41Z","author_association":"NONE","body":"Hi @ibeltagy thanks for your reply :) I've another question. The initial pre-training starts with a sequence length of 128:\r\n\r\n```bash\r\npython3 run_pretraining.py \\\r\n--input_file=gs://s2-bert/s2-tfRecords/tfRecords_s2vocab_uncased_128/*.tfrecord \\\r\n--output_dir=gs://s2-bert/s2-models/3B-s2vocab_uncased_128  \\\r\n--do_train=True --do_eval=True \\\r\n--bert_config_file=/mnt/disk1/bert_config/s2vocab_uncased.json \\\r\n--train_batch_size=256 --max_seq_length=128 \\\r\n--max_predictions_per_seq=20 --num_train_steps=500000 \\\r\n--num_warmup_steps=1000 --learning_rate=1e-4 --use_tpu=True \\\r\n--tpu_name=node-3 --max_eval_steps=2000  --eval_batch_size 256  \\\r\n--init_checkpoint=gs://s2-bert/s2-models/3B-s2vocab_uncased_128 \\\r\n--tpu_zone=us-central1-a\r\n```\r\n\r\nCan you explain where the `init_checkpoint` comes from (because it is actually the same path as used for the `output_dir`) ðŸ¤”\r\n\r\n","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/546261785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stefan-it","id":20651387,"node_id":"MDQ6VXNlcjIwNjUxMzg3","avatar_url":"https://avatars.githubusercontent.com/u/20651387?v=4","gravatar_id":"","url":"https://api.github.com/users/stefan-it","html_url":"https://github.com/stefan-it","followers_url":"https://api.github.com/users/stefan-it/followers","following_url":"https://api.github.com/users/stefan-it/following{/other_user}","gists_url":"https://api.github.com/users/stefan-it/gists{/gist_id}","starred_url":"https://api.github.com/users/stefan-it/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefan-it/subscriptions","organizations_url":"https://api.github.com/users/stefan-it/orgs","repos_url":"https://api.github.com/users/stefan-it/repos","events_url":"https://api.github.com/users/stefan-it/events{/privacy}","received_events_url":"https://api.github.com/users/stefan-it/received_events","type":"User","site_admin":false}},{"id":2743411567,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc0MzQxMTU2Nw==","url":"https://api.github.com/repos/allenai/scibert/issues/events/2743411567","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-25T08:41:42Z","performed_via_github_app":null},{"id":2743411569,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3NDM0MTE1Njk=","url":"https://api.github.com/repos/allenai/scibert/issues/events/2743411569","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-25T08:41:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/546734793","html_url":"https://github.com/allenai/scibert/issues/62#issuecomment-546734793","issue_url":"https://api.github.com/repos/allenai/scibert/issues/62","id":546734793,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjczNDc5Mw==","user":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"created_at":"2019-10-27T21:10:52Z","updated_at":"2019-10-27T21:11:17Z","author_association":"COLLABORATOR","body":"It is a randomly initialized checkpoint. I run `run_pretraining.py` without `--init_checkpoint` for the script to generate a randomly initialized model and saves it to `--output_dir` , kill the script, and then run it again with `--init_checkpoin=output_dir`","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/546734793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/551100056","html_url":"https://github.com/allenai/scibert/issues/62#issuecomment-551100056","issue_url":"https://api.github.com/repos/allenai/scibert/issues/62","id":551100056,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTEwMDA1Ng==","user":{"login":"stefan-it","id":20651387,"node_id":"MDQ6VXNlcjIwNjUxMzg3","avatar_url":"https://avatars.githubusercontent.com/u/20651387?v=4","gravatar_id":"","url":"https://api.github.com/users/stefan-it","html_url":"https://github.com/stefan-it","followers_url":"https://api.github.com/users/stefan-it/followers","following_url":"https://api.github.com/users/stefan-it/following{/other_user}","gists_url":"https://api.github.com/users/stefan-it/gists{/gist_id}","starred_url":"https://api.github.com/users/stefan-it/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefan-it/subscriptions","organizations_url":"https://api.github.com/users/stefan-it/orgs","repos_url":"https://api.github.com/users/stefan-it/repos","events_url":"https://api.github.com/users/stefan-it/events{/privacy}","received_events_url":"https://api.github.com/users/stefan-it/received_events","type":"User","site_admin":false},"created_at":"2019-11-07T14:22:52Z","updated_at":"2019-11-07T14:22:52Z","author_association":"NONE","body":"Thanks Iz :heart: Just a last question on that pre-training topic: what was the number of tfrecords (and their corresponding text size per shard) ðŸ¤”","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/551100056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stefan-it","id":20651387,"node_id":"MDQ6VXNlcjIwNjUxMzg3","avatar_url":"https://avatars.githubusercontent.com/u/20651387?v=4","gravatar_id":"","url":"https://api.github.com/users/stefan-it","html_url":"https://github.com/stefan-it","followers_url":"https://api.github.com/users/stefan-it/followers","following_url":"https://api.github.com/users/stefan-it/following{/other_user}","gists_url":"https://api.github.com/users/stefan-it/gists{/gist_id}","starred_url":"https://api.github.com/users/stefan-it/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefan-it/subscriptions","organizations_url":"https://api.github.com/users/stefan-it/orgs","repos_url":"https://api.github.com/users/stefan-it/repos","events_url":"https://api.github.com/users/stefan-it/events{/privacy}","received_events_url":"https://api.github.com/users/stefan-it/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/551104902","html_url":"https://github.com/allenai/scibert/issues/62#issuecomment-551104902","issue_url":"https://api.github.com/repos/allenai/scibert/issues/62","id":551104902,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTEwNDkwMg==","user":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false},"created_at":"2019-11-07T14:34:17Z","updated_at":"2019-11-07T14:34:17Z","author_association":"COLLABORATOR","body":"250 tfrecords, each file is 800-900MB (around 4000 papers)","reactions":{"url":"https://api.github.com/repos/allenai/scibert/issues/comments/551104902/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ibeltagy","id":2287797,"node_id":"MDQ6VXNlcjIyODc3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2287797?v=4","gravatar_id":"","url":"https://api.github.com/users/ibeltagy","html_url":"https://github.com/ibeltagy","followers_url":"https://api.github.com/users/ibeltagy/followers","following_url":"https://api.github.com/users/ibeltagy/following{/other_user}","gists_url":"https://api.github.com/users/ibeltagy/gists{/gist_id}","starred_url":"https://api.github.com/users/ibeltagy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibeltagy/subscriptions","organizations_url":"https://api.github.com/users/ibeltagy/orgs","repos_url":"https://api.github.com/users/ibeltagy/repos","events_url":"https://api.github.com/users/ibeltagy/events{/privacy}","received_events_url":"https://api.github.com/users/ibeltagy/received_events","type":"User","site_admin":false}},{"id":2779578113,"node_id":"MDExOkNsb3NlZEV2ZW50Mjc3OTU3ODExMw==","url":"https://api.github.com/repos/allenai/scibert/issues/events/2779578113","actor":{"login":"stefan-it","id":20651387,"node_id":"MDQ6VXNlcjIwNjUxMzg3","avatar_url":"https://avatars.githubusercontent.com/u/20651387?v=4","gravatar_id":"","url":"https://api.github.com/users/stefan-it","html_url":"https://github.com/stefan-it","followers_url":"https://api.github.com/users/stefan-it/followers","following_url":"https://api.github.com/users/stefan-it/following{/other_user}","gists_url":"https://api.github.com/users/stefan-it/gists{/gist_id}","starred_url":"https://api.github.com/users/stefan-it/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefan-it/subscriptions","organizations_url":"https://api.github.com/users/stefan-it/orgs","repos_url":"https://api.github.com/users/stefan-it/repos","events_url":"https://api.github.com/users/stefan-it/events{/privacy}","received_events_url":"https://api.github.com/users/stefan-it/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-11-07T14:40:13Z","state_reason":null,"performed_via_github_app":null}]