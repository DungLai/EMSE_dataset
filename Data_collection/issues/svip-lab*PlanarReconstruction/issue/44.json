{"url":"https://api.github.com/repos/svip-lab/PlanarReconstruction/issues/44","repository_url":"https://api.github.com/repos/svip-lab/PlanarReconstruction","labels_url":"https://api.github.com/repos/svip-lab/PlanarReconstruction/issues/44/labels{/name}","comments_url":"https://api.github.com/repos/svip-lab/PlanarReconstruction/issues/44/comments","events_url":"https://api.github.com/repos/svip-lab/PlanarReconstruction/issues/44/events","html_url":"https://github.com/svip-lab/PlanarReconstruction/issues/44","id":1146436353,"node_id":"I_kwDOCkf1w85EVTsB","number":44,"title":"Assessment link questions","user":{"login":"DING606","id":59251932,"node_id":"MDQ6VXNlcjU5MjUxOTMy","avatar_url":"https://avatars.githubusercontent.com/u/59251932?v=4","gravatar_id":"","url":"https://api.github.com/users/DING606","html_url":"https://github.com/DING606","followers_url":"https://api.github.com/users/DING606/followers","following_url":"https://api.github.com/users/DING606/following{/other_user}","gists_url":"https://api.github.com/users/DING606/gists{/gist_id}","starred_url":"https://api.github.com/users/DING606/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DING606/subscriptions","organizations_url":"https://api.github.com/users/DING606/orgs","repos_url":"https://api.github.com/users/DING606/repos","events_url":"https://api.github.com/users/DING606/events{/privacy}","received_events_url":"https://api.github.com/users/DING606/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-22T04:18:37Z","updated_at":"2022-02-22T04:18:37Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Thank you for your valuable work!The .mat file is required to obtain the RI, VI and SI indicators. How to get the .mat file?\r\n\r\nlabel_all = load(fullfile(label_path, [ ID, '-planes.mat']));\r\n\r\neval_planes.m codeï¼š\r\nclc\r\nclear\r\nclose all\r\n\r\npred_path = '../tst/plane_sgmts';\r\nlabel_path = 'labels/SYN_GT_sgmt';\r\n\r\nD = dir(fullfile(pred_path , '*.png'));\r\nri_all = zeros([length(D),1]);\r\ngce_all = zeros([length(D),1]);\r\nsc_all = zeros([length(D),1]);\r\nvi_all = zeros([length(D),1]);\r\n\r\nfor res_idx = 1:length(D)\r\n    imgname = D(res_idx).name;\r\n    pred_res = imread(fullfile(pred_path, imgname));\r\n    \r\n    ID = imgname(1:end-4); \r\n    label_all = load(fullfile(label_path, [ ID, '-planes.mat']));\r\n    label = uint8(label_all.assignment);\r\n    \r\n    % based on the experiment it seems upsample the pred to label size will\r\n    % lead to a better result\r\n    pred_res_upsample = imresize(pred_res,[380 640],'nearest');\r\n    [ri_all(res_idx), gce_all(res_idx), vi_all(res_idx)] = ...\r\n    compare_segmentations(label, pred_res_upsample);\r\n\r\n    if min(min(pred_res)) < 1\r\n        pred_res_upsample = pred_res_upsample - min(min(pred_res_upsample)) + 1;\r\n    end\r\n    if min(min(label)) < 1\r\n        label = label - min(min(label)) + 1;\r\n    end\r\n    \r\n    sc_all(res_idx) = compute_sc(uint8(pred_res_upsample), label);  \r\nend\r\n\r\navg_ri  =  mean(ri_all);  % the higher the better\r\navg_vi  =  mean(vi_all);  % the lower  the better\r\navg_sc  =  mean(sc_all);  % the higher the better\r\n\r\nstd_ri  =  std(ri_all);\r\nstd_vi  =  std(vi_all);\r\nstd_sc  =  std(sc_all);\r\n\r\nsprintf('ri: %.3f, voi: %.3f, sc: %.3f',avg_ri, avg_vi, avg_sc)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/svip-lab/PlanarReconstruction/issues/44/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/svip-lab/PlanarReconstruction/issues/44/timeline","performed_via_github_app":null,"state_reason":null}