{"url":"https://api.github.com/repos/lfortran/lfortran/issues/220","repository_url":"https://api.github.com/repos/lfortran/lfortran","labels_url":"https://api.github.com/repos/lfortran/lfortran/issues/220/labels{/name}","comments_url":"https://api.github.com/repos/lfortran/lfortran/issues/220/comments","events_url":"https://api.github.com/repos/lfortran/lfortran/issues/220/events","html_url":"https://github.com/lfortran/lfortran/issues/220","id":1338685813,"node_id":"I_kwDOCpMuHc5Pyrl1","number":220,"title":"Couldn't parse a small module for several reasons","user":{"login":"certik","id":20568,"node_id":"MDQ6VXNlcjIwNTY4","avatar_url":"https://avatars.githubusercontent.com/u/20568?v=4","gravatar_id":"","url":"https://api.github.com/users/certik","html_url":"https://github.com/certik","followers_url":"https://api.github.com/users/certik/followers","following_url":"https://api.github.com/users/certik/following{/other_user}","gists_url":"https://api.github.com/users/certik/gists{/gist_id}","starred_url":"https://api.github.com/users/certik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/certik/subscriptions","organizations_url":"https://api.github.com/users/certik/orgs","repos_url":"https://api.github.com/users/certik/repos","events_url":"https://api.github.com/users/certik/events{/privacy}","received_events_url":"https://api.github.com/users/certik/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-08-15T08:20:15Z","updated_at":"2022-09-29T18:25:41Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"*Original issue*: https://gitlab.com/lfortran/lfortran/-/issues/119\n\nI just came across `lfortran` and wanted to use it to look at the AST for a project that I work with. Unfortunately `ast.parse_file` was unable to parse the first module I tried.\n\nI was able to reproduce this in a simple test case (apologies is this is documented, I couldn't see it in any of the open issues or documentation).\n\n~~~~\nmodule test\n!  implicit none !< Uncomment to avoid the first issue\n  private\n  integer, public :: a !< Split into declaration,  integer :: a, and visibility  attribute statement, public :: a \nend module test\n~~~~\n\nThe first issue comes from not having `private` before `implicit none` \n\n`SyntaxErrorException: Syntax Error:3:2: extraneous input 'private' expecting {KW_IMPLICIT, KW_USE, NEWLINE}\n  private`\n\nInterestingly adding `use some_made_up_module` instead of `implicit none` still doesn't allow this to be parsed successfully -- I guess `implicit none` is _required_ and I may have just missed this in the documentation.\n\nThe second issue comes from having the visibility attribute as a part of the declaration. It's possible to work around this by splitting the declaration and visibility statement, but this may not be practical for large projects.\n\nThis is with v0.1.14 installed with `pip install --user lfortran`.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/lfortran/lfortran/issues/220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/lfortran/lfortran/issues/220/timeline","performed_via_github_app":null,"state_reason":null}