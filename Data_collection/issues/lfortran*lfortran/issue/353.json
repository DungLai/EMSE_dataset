{"url":"https://api.github.com/repos/lfortran/lfortran/issues/353","repository_url":"https://api.github.com/repos/lfortran/lfortran","labels_url":"https://api.github.com/repos/lfortran/lfortran/issues/353/labels{/name}","comments_url":"https://api.github.com/repos/lfortran/lfortran/issues/353/comments","events_url":"https://api.github.com/repos/lfortran/lfortran/issues/353/events","html_url":"https://github.com/lfortran/lfortran/issues/353","id":1338729134,"node_id":"I_kwDOCpMuHc5Py2Ku","number":353,"title":"ASR mismatch between `gfortran` modules and source","user":{"login":"certik","id":20568,"node_id":"MDQ6VXNlcjIwNTY4","avatar_url":"https://avatars.githubusercontent.com/u/20568?v=4","gravatar_id":"","url":"https://api.github.com/users/certik","html_url":"https://github.com/certik","followers_url":"https://api.github.com/users/certik/followers","following_url":"https://api.github.com/users/certik/following{/other_user}","gists_url":"https://api.github.com/users/certik/gists{/gist_id}","starred_url":"https://api.github.com/users/certik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/certik/subscriptions","organizations_url":"https://api.github.com/users/certik/orgs","repos_url":"https://api.github.com/users/certik/repos","events_url":"https://api.github.com/users/certik/events{/privacy}","received_events_url":"https://api.github.com/users/certik/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-08-15T09:06:34Z","updated_at":"2022-08-15T09:06:34Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"*Original issue*: https://gitlab.com/lfortran/lfortran/-/issues/395\n\nGiven a file from the `examples/project1` directory:\n\n```fortran\nmodule b\nimplicit none\nprivate\npublic g\n\ncontains\n\ninteger function g()\ng = 5\nend function\n\nend module\n```\n\nThe ASR generated by `lfortran --show-asr b.f90` is:\n\n```bash\n(TranslationUnit (SymbolTable 1 {b: (Module (SymbolTable 2 {g: (Function (SymbolTable 3 {g: (Variable 3 g ReturnVar () Default (Integer 4 []) Source Public Required)}) g [] [(= (Var 3 g) (ConstantInteger 5 (Integer 4 [])))] (Var 3 g) Source Public Implementation)}) b [] .false.)}) [])\n```\n\nWhile from the `gfortran` file we get:\n\n```bash\n(TranslationUnit (SymbolTable 1 {g: (Subroutine (SymbolTable 2 {}) g [] [] GFortranModule Public Interface)}) [])\n```\n\nFrom `zcat b.mod` we get:\n```bash\nGFORTRAN module version '14' created from b.f90\n(() () () () () () () () () () () () () () () () () () () () () () () ()\n() () ())\n\n()\n\n()\n\n()\n\n()\n\n()\n\n(2 'g' 'b' '' 1 ((PROCEDURE UNKNOWN-INTENT MODULE-PROC DECL UNKNOWN 0 0\nFUNCTION IMPLICIT_PURE) () (INTEGER 4 0 0 0 INTEGER ()) 0 0 () () 2 () ()\n0 0)\n)\n\n('g' 0 2)\n```\n\nFor reference, the diff is:\n\n![image](/uploads/7b17fbb467eb9ad3fd61e23ae217d9fb/image.png)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/lfortran/lfortran/issues/353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/lfortran/lfortran/issues/353/timeline","performed_via_github_app":null,"state_reason":null}