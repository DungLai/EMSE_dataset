{"url":"https://api.github.com/repos/lfortran/lfortran/issues/524","repository_url":"https://api.github.com/repos/lfortran/lfortran","labels_url":"https://api.github.com/repos/lfortran/lfortran/issues/524/labels{/name}","comments_url":"https://api.github.com/repos/lfortran/lfortran/issues/524/comments","events_url":"https://api.github.com/repos/lfortran/lfortran/issues/524/events","html_url":"https://github.com/lfortran/lfortran/issues/524","id":1338782378,"node_id":"I_kwDOCpMuHc5PzDKq","number":524,"title":"Python 3 required for grammar/asdl_cpp.py","user":{"login":"certik","id":20568,"node_id":"MDQ6VXNlcjIwNTY4","avatar_url":"https://avatars.githubusercontent.com/u/20568?v=4","gravatar_id":"","url":"https://api.github.com/users/certik","html_url":"https://github.com/certik","followers_url":"https://api.github.com/users/certik/followers","following_url":"https://api.github.com/users/certik/following{/other_user}","gists_url":"https://api.github.com/users/certik/gists{/gist_id}","starred_url":"https://api.github.com/users/certik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/certik/subscriptions","organizations_url":"https://api.github.com/users/certik/orgs","repos_url":"https://api.github.com/users/certik/repos","events_url":"https://api.github.com/users/certik/events{/privacy}","received_events_url":"https://api.github.com/users/certik/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-08-15T09:59:44Z","updated_at":"2022-08-15T09:59:44Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"*Original issue*: https://gitlab.com/lfortran/lfortran/-/issues/681\n\nOld title: Non-ASCII characters in file grammar/asdl_cpp.py\n\n```\nubaid[@ ubaid-Lenovo-ideapad-330-15ARR](https://gitlab.com/ubaid-Lenovo-ideapad-330-15ARR):~/Desktop/My-Projects/GSoC/lfortran$ ./build0.sh \n+ ci/version.sh\n++ git describe --tags --dirty\n+ version=v0.14.0-1466-g991a0fcc-dirty\n+ version=0.14.0-1466-g991a0fcc-dirty\n+ echo 0.14.0-1466-g991a0fcc-dirty\n+ python grammar/asdl_cpp.py\n  File \"grammar/asdl_cpp.py\", line 472\nSyntaxError: Non-ASCII character '\\xe2' in file grammar/asdl_cpp.py on line 472, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details \n```\n\nI am facing this error on running `./build0.sh`. The other command `./build1.sh` works fine.\n\nI tried adding `# -*- coding: utf-8 -*-` at the top of `grammar/asdl_cpp.py` as mentioned [here](https://stackoverflow.com/a/24221963/11474769), but it gives another error that\n\n```\nubaid[@ ubaid-Lenovo-ideapad-330-15ARR](https://gitlab.com/ubaid-Lenovo-ideapad-330-15ARR):~/Desktop/My-Projects/GSoC/lfortran$ ./build0.sh \n+ ci/version.sh\n++ git describe --tags --dirty\n+ version=v0.14.0-1467-g6c782d0c-dirty\n+ version=0.14.0-1467-g6c782d0c-dirty\n+ echo 0.14.0-1467-g6c782d0c-dirty\n+ python2 grammar/asdl_cpp.py\nAssuming default values of AST.asdl and ast.h\nTraceback (most recent call last):\n  File \"grammar/asdl_cpp.py\", line 1736, in <module>\n    sys.exit(main(sys.argv))\n  File \"grammar/asdl_cpp.py\", line 1714, in main\n    fp = open(out_file, \"w\", encoding=\"utf-8\")\nTypeError: 'encoding' is an invalid keyword argument for this function\n```\n\nI also tried adding `# coding: utf-8` at the top of `grammar/asdl_cpp.py` as mentioned in the 3rd answer [here](https://syntaxfix.com/question/10578/python-syntaxerror-non-ascii-character-xe2-in-file), but it gives the same above error that `encoding` is an invalid keyword argument\n\nCurrently, I am able to build the lfortran executable as `./build1.sh` works.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/lfortran/lfortran/issues/524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/lfortran/lfortran/issues/524/timeline","performed_via_github_app":null,"state_reason":null}