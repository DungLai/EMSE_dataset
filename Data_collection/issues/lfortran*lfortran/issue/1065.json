{"url":"https://api.github.com/repos/lfortran/lfortran/issues/1065","repository_url":"https://api.github.com/repos/lfortran/lfortran","labels_url":"https://api.github.com/repos/lfortran/lfortran/issues/1065/labels{/name}","comments_url":"https://api.github.com/repos/lfortran/lfortran/issues/1065/comments","events_url":"https://api.github.com/repos/lfortran/lfortran/issues/1065/events","html_url":"https://github.com/lfortran/lfortran/issues/1065","id":1474756010,"node_id":"I_kwDOCpMuHc5X5v2q","number":1065,"title":"Respect ``ArrayInitializer_t.m_vartype`` in ``ArrayInitializer``","user":{"login":"czgdp1807","id":36567889,"node_id":"MDQ6VXNlcjM2NTY3ODg5","avatar_url":"https://avatars.githubusercontent.com/u/36567889?v=4","gravatar_id":"","url":"https://api.github.com/users/czgdp1807","html_url":"https://github.com/czgdp1807","followers_url":"https://api.github.com/users/czgdp1807/followers","following_url":"https://api.github.com/users/czgdp1807/following{/other_user}","gists_url":"https://api.github.com/users/czgdp1807/gists{/gist_id}","starred_url":"https://api.github.com/users/czgdp1807/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/czgdp1807/subscriptions","organizations_url":"https://api.github.com/users/czgdp1807/orgs","repos_url":"https://api.github.com/users/czgdp1807/repos","events_url":"https://api.github.com/users/czgdp1807/events{/privacy}","received_events_url":"https://api.github.com/users/czgdp1807/received_events","type":"User","site_admin":false},"labels":[{"id":4854986878,"node_id":"LA_kwDOCpMuHc8AAAABIWE4fg","url":"https://api.github.com/repos/lfortran/lfortran/labels/stf","name":"stf","color":"C5DEF5","default":false,"description":"Part of the Sovereign Tech Fund project"}],"state":"closed","locked":false,"assignee":{"login":"Thirumalai-Shaktivel","id":74826228,"node_id":"MDQ6VXNlcjc0ODI2MjI4","avatar_url":"https://avatars.githubusercontent.com/u/74826228?v=4","gravatar_id":"","url":"https://api.github.com/users/Thirumalai-Shaktivel","html_url":"https://github.com/Thirumalai-Shaktivel","followers_url":"https://api.github.com/users/Thirumalai-Shaktivel/followers","following_url":"https://api.github.com/users/Thirumalai-Shaktivel/following{/other_user}","gists_url":"https://api.github.com/users/Thirumalai-Shaktivel/gists{/gist_id}","starred_url":"https://api.github.com/users/Thirumalai-Shaktivel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thirumalai-Shaktivel/subscriptions","organizations_url":"https://api.github.com/users/Thirumalai-Shaktivel/orgs","repos_url":"https://api.github.com/users/Thirumalai-Shaktivel/repos","events_url":"https://api.github.com/users/Thirumalai-Shaktivel/events{/privacy}","received_events_url":"https://api.github.com/users/Thirumalai-Shaktivel/received_events","type":"User","site_admin":false},"assignees":[{"login":"Thirumalai-Shaktivel","id":74826228,"node_id":"MDQ6VXNlcjc0ODI2MjI4","avatar_url":"https://avatars.githubusercontent.com/u/74826228?v=4","gravatar_id":"","url":"https://api.github.com/users/Thirumalai-Shaktivel","html_url":"https://github.com/Thirumalai-Shaktivel","followers_url":"https://api.github.com/users/Thirumalai-Shaktivel/followers","following_url":"https://api.github.com/users/Thirumalai-Shaktivel/following{/other_user}","gists_url":"https://api.github.com/users/Thirumalai-Shaktivel/gists{/gist_id}","starred_url":"https://api.github.com/users/Thirumalai-Shaktivel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thirumalai-Shaktivel/subscriptions","organizations_url":"https://api.github.com/users/Thirumalai-Shaktivel/orgs","repos_url":"https://api.github.com/users/Thirumalai-Shaktivel/repos","events_url":"https://api.github.com/users/Thirumalai-Shaktivel/events{/privacy}","received_events_url":"https://api.github.com/users/Thirumalai-Shaktivel/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2022-12-04T12:05:29Z","updated_at":"2022-12-12T03:34:14Z","closed_at":"2022-12-12T03:34:14Z","author_association":"MEMBER","active_lock_reason":null,"body":"A rough example,\r\n\r\n```fortran\r\nprogram debug\r\nimplicit none\r\nlogical, allocatable :: list_logical(:)\r\ninteger, allocatable :: list_integer(:)\r\nlist_logical = [logical :: ]\r\nlist_integer = [integer :: ]\r\nend program\r\n```\r\n\r\nAST,\r\n\r\n```bash\r\n(TranslationUnit [(Program debug () [] [(ImplicitNone [] ())] [(Declaration (AttrType TypeLogical [] () None) [(SimpleAttribute AttrAllocatable)] [(list_logical [(() () DimensionExpr)] [] () None ())] ()) (Declaration (AttrType TypeInteger [] () None) [(SimpleAttribute AttrAllocatable)] [(list_integer [(() () DimensionExpr)] [] () None ())] ())] [(= 0 list_logical [] (ArrayInitializer (AttrType TypeLogical [] () None) () []) ()) (= 0 list_integer [] (ArrayInitializer (AttrType TypeInteger [] () None) () []) ())] [])])\r\n```\r\n\r\nASR error,\r\n\r\n```\r\n(lf) 17:34:19:~/lfortran_project/lfortran % lfortran /Users/czgdp1807/lfortran_project/debug.f90 --show-asr\r\nTraceback (most recent call last):\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/bin/lfortran.cpp\", line 1825\r\n    return emit_asr(arg_file, lfortran_pass_manager,\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/bin/lfortran.cpp\", line 612\r\n    r = fe.get_asr2(input, lm, diagnostics);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/fortran_evaluator.cpp\", line 234\r\n    Result<ASR::TranslationUnit_t*> res2 = get_asr3(*ast, diagnostics);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/fortran_evaluator.cpp\", line 256\r\n    compiler_options.symtab_only, compiler_options);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/semantics/ast_to_asr.cpp\", line 64\r\n    auto res = body_visitor(al, ast, diagnostics, unit, compiler_options,\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/semantics/ast_body_visitor.cpp\", line 2159\r\n    b.visit_TranslationUnit(ast);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/semantics/ast_body_visitor.cpp\", line 114\r\n    visit_ast(*x.m_items[i]);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/ast.h\", line 4764\r\n    void visit_ast(const ast_t &b) { visit_ast_t(b, self()); }\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/ast.h\", line 4721\r\n    case astType::unit: { v.visit_unit((const unit_t &)x); return; }\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/ast.h\", line 4767\r\n    void visit_mod(const mod_t &b) { visit_mod_t(b, self()); }\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/ast.h\", line 4364\r\n    case modType::BlockData: { v.visit_BlockData((const BlockData_t &)x); return; }\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/semantics/ast_body_visitor.cpp\", line 1074\r\n    transform_stmts(body, x.n_body, x.m_body);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/semantics/ast_body_visitor.cpp\", line 90\r\n    this->visit_stmt(*m_body[i]);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/ast.h\", line 4809\r\n    void visit_stmt(const stmt_t &b) { visit_stmt_t(b, self()); }\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/ast.h\", line 4465\r\n    case stmtType::Assign: { v.visit_Assign((const Assign_t &)x); return; }\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/semantics/ast_body_visitor.cpp\", line 1387\r\n    ASR::expr_t *target = LFortran::ASRUtils::EXPR(tmp);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/ast.h\", line 4860\r\n    void visit_expr(const expr_t &b) { visit_expr_t(b, self()); }\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/ast.h\", line 4529\r\n    case exprType::CoarrayRef: { v.visit_CoarrayRef((const CoarrayRef_t &)x); return; }\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/semantics/ast_common_visitor.h\", line 1770\r\n    type = ASRUtils::duplicate_type(al, type, &dims);\r\n  File \"/Users/czgdp1807/lfortran_project/lfortran/src/lfortran/semantics/ast_common_visitor.h\", line 1770\r\n    type = ASRUtils::duplicate_type(al, type, &dims);\r\n  Binary file \"/usr/lib/system/libsystem_platform.dylib\", local address: 0x1803fc2a3\r\nSegfault: Signal SIGSEGV (segmentation fault) received\r\n```","closed_by":{"login":"Thirumalai-Shaktivel","id":74826228,"node_id":"MDQ6VXNlcjc0ODI2MjI4","avatar_url":"https://avatars.githubusercontent.com/u/74826228?v=4","gravatar_id":"","url":"https://api.github.com/users/Thirumalai-Shaktivel","html_url":"https://github.com/Thirumalai-Shaktivel","followers_url":"https://api.github.com/users/Thirumalai-Shaktivel/followers","following_url":"https://api.github.com/users/Thirumalai-Shaktivel/following{/other_user}","gists_url":"https://api.github.com/users/Thirumalai-Shaktivel/gists{/gist_id}","starred_url":"https://api.github.com/users/Thirumalai-Shaktivel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thirumalai-Shaktivel/subscriptions","organizations_url":"https://api.github.com/users/Thirumalai-Shaktivel/orgs","repos_url":"https://api.github.com/users/Thirumalai-Shaktivel/repos","events_url":"https://api.github.com/users/Thirumalai-Shaktivel/events{/privacy}","received_events_url":"https://api.github.com/users/Thirumalai-Shaktivel/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/lfortran/lfortran/issues/1065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/lfortran/lfortran/issues/1065/timeline","performed_via_github_app":null,"state_reason":"completed"}