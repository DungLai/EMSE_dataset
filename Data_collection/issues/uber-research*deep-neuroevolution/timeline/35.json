[{"url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/comments/529150891","html_url":"https://github.com/uber-research/deep-neuroevolution/issues/35#issuecomment-529150891","issue_url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/35","id":529150891,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTE1MDg5MQ==","user":{"login":"EmanueleLM","id":11848510,"node_id":"MDQ6VXNlcjExODQ4NTEw","avatar_url":"https://avatars.githubusercontent.com/u/11848510?v=4","gravatar_id":"","url":"https://api.github.com/users/EmanueleLM","html_url":"https://github.com/EmanueleLM","followers_url":"https://api.github.com/users/EmanueleLM/followers","following_url":"https://api.github.com/users/EmanueleLM/following{/other_user}","gists_url":"https://api.github.com/users/EmanueleLM/gists{/gist_id}","starred_url":"https://api.github.com/users/EmanueleLM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmanueleLM/subscriptions","organizations_url":"https://api.github.com/users/EmanueleLM/orgs","repos_url":"https://api.github.com/users/EmanueleLM/repos","events_url":"https://api.github.com/users/EmanueleLM/events{/privacy}","received_events_url":"https://api.github.com/users/EmanueleLM/received_events","type":"User","site_admin":false},"created_at":"2019-09-07T22:09:52Z","updated_at":"2019-09-07T22:09:52Z","author_association":"NONE","body":"I'm almost there to solve the problem, still some issues.\r\n\r\nIf you modify atari_wrappers.py, class 'WarpFrame' to this version:\r\n```\r\nclass WarpFrame(gym.ObservationWrapper):\r\n    def __init__(self, env, show_warped=False):\r\n        \"\"\"Warp frames to 84x84 as done in the Nature paper and later work.\"\"\"\r\n        gym.ObservationWrapper.__init__(self, env)\r\n\r\n        if 'SpaceInvaders' in str(env):\r\n            self.res1, self.res2 = 210, 160\r\n        else:\r\n            self.res1, self.res2 = 84, 84\r\n        self.observation_space = spaces.Box(low=0, high=255, shape=(self.res1, self.res2, 1))\r\n        self.viewer = None\r\n        self.show_warped = show_warped\r\n```\r\n\r\nAnd add this to the first part of the function 'wrap_deepmind': \r\n```\r\ndef wrap_deepmind(env, episode_life=False, skip=4, stack_frames=4, noop_max=30, noops=None, show_warped=False):\r\n    \"\"\"Configure environment for DeepMind-style Atari.\r\n    Note: this does not include frame stacking!\"\"\" \r\n    if 'SpaceInvaders' in str(env):\r\n        stack_frames = 3\r\n```\r\n\r\nOnce this part is done, if you run the viz.py it works, but it doesn't play as better as 'standard' Atari games like Frtosbite: please note that this happens despite the snapshot indicates a higher score than what is then shown by viz.py.\r\n\r\nIf I modify the first line after the declaration of the function '_observation(self, obs)', that stores a 'stubbed' numpy array of magical floats, the behavior of the net and the scores change dramatically, so I'd like to ask what this array is meant to store.\r\nThe Github version is the following:\r\n```\r\n    def _observation(self, obs):\r\n        frame = np.dot(obs.astype('float32'), np.array([0.299, 0.587, 0.114], 'float32'))  # real black magic?\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/comments/529150891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"EmanueleLM","id":11848510,"node_id":"MDQ6VXNlcjExODQ4NTEw","avatar_url":"https://avatars.githubusercontent.com/u/11848510?v=4","gravatar_id":"","url":"https://api.github.com/users/EmanueleLM","html_url":"https://github.com/EmanueleLM","followers_url":"https://api.github.com/users/EmanueleLM/followers","following_url":"https://api.github.com/users/EmanueleLM/following{/other_user}","gists_url":"https://api.github.com/users/EmanueleLM/gists{/gist_id}","starred_url":"https://api.github.com/users/EmanueleLM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmanueleLM/subscriptions","organizations_url":"https://api.github.com/users/EmanueleLM/orgs","repos_url":"https://api.github.com/users/EmanueleLM/repos","events_url":"https://api.github.com/users/EmanueleLM/events{/privacy}","received_events_url":"https://api.github.com/users/EmanueleLM/received_events","type":"User","site_admin":false}}]