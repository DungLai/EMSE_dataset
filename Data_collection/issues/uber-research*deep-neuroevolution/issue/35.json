{"url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/35","repository_url":"https://api.github.com/repos/uber-research/deep-neuroevolution","labels_url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/35/labels{/name}","comments_url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/35/comments","events_url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/35/events","html_url":"https://github.com/uber-research/deep-neuroevolution/issues/35","id":490228018,"node_id":"MDU6SXNzdWU0OTAyMjgwMTg=","number":35,"title":"Snapshots visualization","user":{"login":"EmanueleLM","id":11848510,"node_id":"MDQ6VXNlcjExODQ4NTEw","avatar_url":"https://avatars.githubusercontent.com/u/11848510?v=4","gravatar_id":"","url":"https://api.github.com/users/EmanueleLM","html_url":"https://github.com/EmanueleLM","followers_url":"https://api.github.com/users/EmanueleLM/followers","following_url":"https://api.github.com/users/EmanueleLM/following{/other_user}","gists_url":"https://api.github.com/users/EmanueleLM/gists{/gist_id}","starred_url":"https://api.github.com/users/EmanueleLM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmanueleLM/subscriptions","organizations_url":"https://api.github.com/users/EmanueleLM/orgs","repos_url":"https://api.github.com/users/EmanueleLM/repos","events_url":"https://api.github.com/users/EmanueleLM/events{/privacy}","received_events_url":"https://api.github.com/users/EmanueleLM/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-09-06T09:32:28Z","updated_at":"2019-09-07T22:09:52Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"When I try to visualize the snapshots generated by games like Frostbite, i just run the command \r\n```\r\npython -m scripts.viz 'FrsotbiteNoFrameskip-v0' <snapshot_file>\r\n```\r\n\r\nThis works like a charm, but when I change the game, so like SpaceInvaders, after the training and the generation of the snapshots files, when I run:\r\n```\r\npython -m scripts.viz 'SpaceInvadersNoFrameskip-v0' <snapshot_file>\r\n```\r\nIt doesn't work as it expects inputs of shape (1,84,84,4) but SpaceInvaders' inputs are (1, 210, 160, 3).\r\n\r\nIts like the script viz.py has stubbed the expected input shape and can't handle different games from those with (1,84,84,4) tensors. \r\n\r\nDid anyone run into the same issue?\r\n\r\nDetails of the error:\r\nInput command:\r\n```\r\npython3 -m scripts.viz 'SpaceInvadersNoFrameskip-v0' keep_exploring/old_gens/gen_125-153/snapshot_iter00028_rew1100.h5\r\n```\r\nError reported:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/usr/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/emanuele/Desktop/deepneuro/deep-neuroevolution/scripts/viz.py\", line 63, in <module>\r\n    main()\r\n  File \"/home/emanuele/.local/lib/python3.7/site-packages/click/core.py\", line 722, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/emanuele/.local/lib/python3.7/site-packages/click/core.py\", line 697, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/emanuele/.local/lib/python3.7/site-packages/click/core.py\", line 895, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/emanuele/.local/lib/python3.7/site-packages/click/core.py\", line 535, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/emanuele/Desktop/deepneuro/deep-neuroevolution/scripts/viz.py\", line 54, in main\r\n    rews, t, novelty_vector = pi.rollout(env, render=True, random_stream=np.random if stochastic else None)\r\n  File \"/home/emanuele/Desktop/deepneuro/deep-neuroevolution/es_distributed/policies.py\", line 509, in rollout\r\n    ac = self.act(ob[None], random_stream=random_stream)[0]\r\n  File \"/home/emanuele/Desktop/deepneuro/deep-neuroevolution/es_distributed/policies.py\", line 485, in act\r\n    return self._act(train_vars)\r\n  File \"/home/emanuele/Desktop/deepneuro/deep-neuroevolution/es_distributed/tf_util.py\", line 176, in <lambda>\r\n    return lambda *inputs : f(*inputs)[0]\r\n  File \"/home/emanuele/Desktop/deepneuro/deep-neuroevolution/es_distributed/tf_util.py\", line 191, in __call__\r\n    results = get_session().run(self.outputs_update, feed_dict=feed_dict)[:-1]\r\n  File \"/home/emanuele/.local/lib/python3.7/site-packages/tensorflow/python/client/session.py\", line 950, in run\r\n    run_metadata_ptr)\r\n  File \"/home/emanuele/.local/lib/python3.7/site-packages/tensorflow/python/client/session.py\", line 1149, in _run\r\n    str(subfeed_t.get_shape())))\r\nValueError: Cannot feed value of shape (1, 84, 84, 4) for Tensor 'GAAtariPolicy/Placeholder:0', which has shape '(?, 210, 160, 3)'\r\n\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/35/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/uber-research/deep-neuroevolution/issues/35/timeline","performed_via_github_app":null,"state_reason":null}