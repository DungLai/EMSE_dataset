[{"url":"https://api.github.com/repos/Seanny123/da-rnn/issues/comments/676462586","html_url":"https://github.com/Seanny123/da-rnn/issues/11#issuecomment-676462586","issue_url":"https://api.github.com/repos/Seanny123/da-rnn/issues/11","id":676462586,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjQ2MjU4Ng==","user":{"login":"ljtruong","id":8170076,"node_id":"MDQ6VXNlcjgxNzAwNzY=","avatar_url":"https://avatars.githubusercontent.com/u/8170076?v=4","gravatar_id":"","url":"https://api.github.com/users/ljtruong","html_url":"https://github.com/ljtruong","followers_url":"https://api.github.com/users/ljtruong/followers","following_url":"https://api.github.com/users/ljtruong/following{/other_user}","gists_url":"https://api.github.com/users/ljtruong/gists{/gist_id}","starred_url":"https://api.github.com/users/ljtruong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljtruong/subscriptions","organizations_url":"https://api.github.com/users/ljtruong/orgs","repos_url":"https://api.github.com/users/ljtruong/repos","events_url":"https://api.github.com/users/ljtruong/events{/privacy}","received_events_url":"https://api.github.com/users/ljtruong/received_events","type":"User","site_admin":false},"created_at":"2020-08-19T14:37:27Z","updated_at":"2020-08-19T14:46:06Z","author_association":"NONE","body":"Here's my experimentation with and without tanh in the encoder. Note, I've ensured I've set my model to eval + no_grad before predicting and no_grad during validation. which is different in this repo and I believe it should have been implemented.\r\n\r\nwithout tanh in encoder\r\n![without tanh](https://user-images.githubusercontent.com/8170076/90647511-bb553600-e27b-11ea-9fb9-a2b8b8d19892.PNG)\r\n\r\nwith tanh in encoder\r\n![with tanh](https://user-images.githubusercontent.com/8170076/90647523-c14b1700-e27b-11ea-926c-3ffa61dabc65.PNG)\r\n\r\nIn addition, during training the validation loss will reduce faster with tanh. 10 epochs\r\nwith tanh\r\n![without tanh](https://user-images.githubusercontent.com/8170076/90648505-f3a94400-e27c-11ea-8425-e77eb806e21a.png)\r\nwith tanh in encoder\r\n![with tanh](https://user-images.githubusercontent.com/8170076/90648689-2f440e00-e27d-11ea-9431-a62ed2a59a0f.png)\r\n\r\nNote: I've trained, validated and predicted over the whole dataset for testing purposes. My assumption was I should get near 99%+ accuracy if the underlying equations are working properly.","reactions":{"url":"https://api.github.com/repos/Seanny123/da-rnn/issues/comments/676462586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ljtruong","id":8170076,"node_id":"MDQ6VXNlcjgxNzAwNzY=","avatar_url":"https://avatars.githubusercontent.com/u/8170076?v=4","gravatar_id":"","url":"https://api.github.com/users/ljtruong","html_url":"https://github.com/ljtruong","followers_url":"https://api.github.com/users/ljtruong/followers","following_url":"https://api.github.com/users/ljtruong/following{/other_user}","gists_url":"https://api.github.com/users/ljtruong/gists{/gist_id}","starred_url":"https://api.github.com/users/ljtruong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljtruong/subscriptions","organizations_url":"https://api.github.com/users/ljtruong/orgs","repos_url":"https://api.github.com/users/ljtruong/repos","events_url":"https://api.github.com/users/ljtruong/events{/privacy}","received_events_url":"https://api.github.com/users/ljtruong/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Seanny123/da-rnn/issues/comments/676489780","html_url":"https://github.com/Seanny123/da-rnn/issues/11#issuecomment-676489780","issue_url":"https://api.github.com/repos/Seanny123/da-rnn/issues/11","id":676489780,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjQ4OTc4MA==","user":{"login":"chuanchuan12138","id":42372288,"node_id":"MDQ6VXNlcjQyMzcyMjg4","avatar_url":"https://avatars.githubusercontent.com/u/42372288?v=4","gravatar_id":"","url":"https://api.github.com/users/chuanchuan12138","html_url":"https://github.com/chuanchuan12138","followers_url":"https://api.github.com/users/chuanchuan12138/followers","following_url":"https://api.github.com/users/chuanchuan12138/following{/other_user}","gists_url":"https://api.github.com/users/chuanchuan12138/gists{/gist_id}","starred_url":"https://api.github.com/users/chuanchuan12138/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chuanchuan12138/subscriptions","organizations_url":"https://api.github.com/users/chuanchuan12138/orgs","repos_url":"https://api.github.com/users/chuanchuan12138/repos","events_url":"https://api.github.com/users/chuanchuan12138/events{/privacy}","received_events_url":"https://api.github.com/users/chuanchuan12138/received_events","type":"User","site_admin":false},"created_at":"2020-08-19T15:16:48Z","updated_at":"2020-08-19T15:16:48Z","author_association":"NONE","body":"Hi worulz, thanks for your careful experiment, it really clears up my confusion.\r\nAs for your no_grad operantion, I think main.py  doesn't consider to have a validation or predict operation, it just train the model , while in the predict function , in my opinion, it just aims to show the loss of that train epoch, you may consider it a train process.\r\n I don't know if it's correct or not, but I think the no_grad function is used in validation or test process, so it's necessary if you want to evaluate the model, but not this place, maybe another function.\r\nThank you again for your clear pics for comparison.\r\n","reactions":{"url":"https://api.github.com/repos/Seanny123/da-rnn/issues/comments/676489780/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chuanchuan12138","id":42372288,"node_id":"MDQ6VXNlcjQyMzcyMjg4","avatar_url":"https://avatars.githubusercontent.com/u/42372288?v=4","gravatar_id":"","url":"https://api.github.com/users/chuanchuan12138","html_url":"https://github.com/chuanchuan12138","followers_url":"https://api.github.com/users/chuanchuan12138/followers","following_url":"https://api.github.com/users/chuanchuan12138/following{/other_user}","gists_url":"https://api.github.com/users/chuanchuan12138/gists{/gist_id}","starred_url":"https://api.github.com/users/chuanchuan12138/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chuanchuan12138/subscriptions","organizations_url":"https://api.github.com/users/chuanchuan12138/orgs","repos_url":"https://api.github.com/users/chuanchuan12138/repos","events_url":"https://api.github.com/users/chuanchuan12138/events{/privacy}","received_events_url":"https://api.github.com/users/chuanchuan12138/received_events","type":"User","site_admin":false}}]