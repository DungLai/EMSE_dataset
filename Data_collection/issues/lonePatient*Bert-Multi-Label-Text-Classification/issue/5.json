{"url":"https://api.github.com/repos/lonePatient/Bert-Multi-Label-Text-Classification/issues/5","repository_url":"https://api.github.com/repos/lonePatient/Bert-Multi-Label-Text-Classification","labels_url":"https://api.github.com/repos/lonePatient/Bert-Multi-Label-Text-Classification/issues/5/labels{/name}","comments_url":"https://api.github.com/repos/lonePatient/Bert-Multi-Label-Text-Classification/issues/5/comments","events_url":"https://api.github.com/repos/lonePatient/Bert-Multi-Label-Text-Classification/issues/5/events","html_url":"https://github.com/lonePatient/Bert-Multi-Label-Text-Classification/issues/5","id":435069633,"node_id":"MDU6SXNzdWU0MzUwNjk2MzM=","number":5,"title":"The training process stops automatically","user":{"login":"BrambleXu","id":10768193,"node_id":"MDQ6VXNlcjEwNzY4MTkz","avatar_url":"https://avatars.githubusercontent.com/u/10768193?v=4","gravatar_id":"","url":"https://api.github.com/users/BrambleXu","html_url":"https://github.com/BrambleXu","followers_url":"https://api.github.com/users/BrambleXu/followers","following_url":"https://api.github.com/users/BrambleXu/following{/other_user}","gists_url":"https://api.github.com/users/BrambleXu/gists{/gist_id}","starred_url":"https://api.github.com/users/BrambleXu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrambleXu/subscriptions","organizations_url":"https://api.github.com/users/BrambleXu/orgs","repos_url":"https://api.github.com/users/BrambleXu/repos","events_url":"https://api.github.com/users/BrambleXu/events{/privacy}","received_events_url":"https://api.github.com/users/BrambleXu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-04-19T06:46:23Z","updated_at":"2019-04-23T00:28:02Z","closed_at":"2019-04-23T00:28:02Z","author_association":"NONE","active_lock_reason":null,"body":"The training process stops automatically.\r\n\r\nAfter I ran the command `python train_bert_multi_label.py`, the logs shows:\r\n```\r\n(pytorch_p36) sh-4.2$ python train_bert_multi_label.py\r\n[2019-04-19 06:38:47]: bert train_bert_multi_label.py[line:26] INFO  seed is 2018\r\n[2019-04-19 06:38:47]: bert train_bert_multi_label.py[line:29] INFO  starting load data from disk\r\n100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 159571/159571 [00:09<00:00, 16886.93it/s]\r\n[2019-04-19 06:38:58]: bert data_transformer.py[line:83] INFO  train val split\r\nMerge: 159571it [00:00, 1059390.92it/s]\r\nwrite data to disk: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 127657/127657 [00:00<00:00, 158794.66it/s]\r\nwrite data to disk: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 31914/31914 [00:00<00:00, 149889.67it/s]\r\n[2019-04-19 06:39:02]: bert train_bert_multi_label.py[line:75] INFO  initializing model\r\n[2019-04-19 06:39:06]: bert train_bert_multi_label.py[line:98] INFO  initializing callbacks\r\n[2019-04-19 06:39:06]: bert train_bert_multi_label.py[line:116] INFO  training model....\r\nmodel summary info:\r\nSegmentation fault\r\n(pytorch_p36) sh-4.2$\r\n```\r\nIt seems there are some errors in the `Trainer.train()`\r\n```\r\nprint(\"model summary info: \")\r\nfor step, (input_ids, input_mask, segment_ids, label_ids) in enumerate(train_data):\r\n    input_ids = input_ids.to(self.device)\r\n    input_mask = input_mask.to(self.device)\r\n    segment_ids = segment_ids.to(self.device)\r\n    summary(self.model,*(input_ids, segment_ids,input_mask),show_input=True)\r\n    break\r\n```\r\nI have one GPU, so I set the `config['train']['n_gpu'] = [0]`. ","closed_by":{"login":"BrambleXu","id":10768193,"node_id":"MDQ6VXNlcjEwNzY4MTkz","avatar_url":"https://avatars.githubusercontent.com/u/10768193?v=4","gravatar_id":"","url":"https://api.github.com/users/BrambleXu","html_url":"https://github.com/BrambleXu","followers_url":"https://api.github.com/users/BrambleXu/followers","following_url":"https://api.github.com/users/BrambleXu/following{/other_user}","gists_url":"https://api.github.com/users/BrambleXu/gists{/gist_id}","starred_url":"https://api.github.com/users/BrambleXu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrambleXu/subscriptions","organizations_url":"https://api.github.com/users/BrambleXu/orgs","repos_url":"https://api.github.com/users/BrambleXu/repos","events_url":"https://api.github.com/users/BrambleXu/events{/privacy}","received_events_url":"https://api.github.com/users/BrambleXu/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/lonePatient/Bert-Multi-Label-Text-Classification/issues/5/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/lonePatient/Bert-Multi-Label-Text-Classification/issues/5/timeline","performed_via_github_app":null,"state_reason":"completed"}