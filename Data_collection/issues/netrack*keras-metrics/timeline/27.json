[{"id":2086299025,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwODYyOTkwMjU=","url":"https://api.github.com/repos/netrack/keras-metrics/issues/events/2086299025","actor":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-01-21T12:42:58Z","label":{"name":"kind/feature-request","color":"c5def5"},"performed_via_github_app":null},{"id":2086299027,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwODYyOTkwMjc=","url":"https://api.github.com/repos/netrack/keras-metrics/issues/events/2086299027","actor":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-01-21T12:42:58Z","label":{"name":"area/metrics","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485256756","html_url":"https://github.com/netrack/keras-metrics/issues/27#issuecomment-485256756","issue_url":"https://api.github.com/repos/netrack/keras-metrics/issues/27","id":485256756,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTI1Njc1Ng==","user":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false},"created_at":"2019-04-21T14:37:32Z","updated_at":"2019-04-21T14:37:32Z","author_association":"NONE","body":"I have a save model. It cannot be reloaded. Error says: `Unknown metric function:binary_precision`. Any wolkaround?","reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485256756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485259887","html_url":"https://github.com/netrack/keras-metrics/issues/27#issuecomment-485259887","issue_url":"https://api.github.com/repos/netrack/keras-metrics/issues/27","id":485259887,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTI1OTg4Nw==","user":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false},"created_at":"2019-04-21T15:20:11Z","updated_at":"2019-04-21T15:20:11Z","author_association":"MEMBER","body":"@wandonye, it would be great to see a sample of code, that you're using to save model. Do you use ```custom_objects``` argument for model saving? ","reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485259887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false}},{"id":2290173434,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI5MDE3MzQzNA==","url":"https://api.github.com/repos/netrack/keras-metrics/issues/events/2290173434","actor":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-21T15:20:11Z","performed_via_github_app":null},{"id":2290173435,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyOTAxNzM0MzU=","url":"https://api.github.com/repos/netrack/keras-metrics/issues/events/2290173435","actor":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-21T15:20:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485261630","html_url":"https://github.com/netrack/keras-metrics/issues/27#issuecomment-485261630","issue_url":"https://api.github.com/repos/netrack/keras-metrics/issues/27","id":485261630,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTI2MTYzMA==","user":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false},"created_at":"2019-04-21T15:44:10Z","updated_at":"2019-04-21T15:44:10Z","author_association":"NONE","body":"@ybubnov thanks for the prompt reply. I didn't use any argument other than the filename when saving the model.\r\n\r\nHere are the codes involved:\r\n\r\n```\r\nimport keras_metrics as km\r\n...\r\nnnmodel.compile(loss='binary_crossentropy', optimizer='adam', metrics=[km.precision(), km.recall()])\r\n...\r\nnnmodel.save('neural_net1.h5')\r\n```","reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485261630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false}},{"id":2290183832,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI5MDE4MzgzMg==","url":"https://api.github.com/repos/netrack/keras-metrics/issues/events/2290183832","actor":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-21T15:44:10Z","performed_via_github_app":null},{"id":2290183833,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyOTAxODM4MzM=","url":"https://api.github.com/repos/netrack/keras-metrics/issues/events/2290183833","actor":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-21T15:44:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485261817","html_url":"https://github.com/netrack/keras-metrics/issues/27#issuecomment-485261817","issue_url":"https://api.github.com/repos/netrack/keras-metrics/issues/27","id":485261817,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTI2MTgxNw==","user":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false},"created_at":"2019-04-21T15:46:52Z","updated_at":"2019-04-21T15:46:52Z","author_association":"NONE","body":"Also tried using `custom_object` when loading the model. Something like:\r\n```\r\n{binary_precision:km.binary_precision}\r\n```\r\nBut then there is another error saying something like `fn expect 0 or 1 input but got 2`\r\n","reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485261817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485262603","html_url":"https://github.com/netrack/keras-metrics/issues/27#issuecomment-485262603","issue_url":"https://api.github.com/repos/netrack/keras-metrics/issues/27","id":485262603,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTI2MjYwMw==","user":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false},"created_at":"2019-04-21T15:58:05Z","updated_at":"2019-04-22T07:15:48Z","author_association":"MEMBER","body":"@wandonye, It does not seem there is a problem in the given code snippets. If it's possible to provide a working sample, which produces an error, that would simplify the troubleshooting.","reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/485262603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false}},{"id":2290189383,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI5MDE4OTM4Mw==","url":"https://api.github.com/repos/netrack/keras-metrics/issues/events/2290189383","actor":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-21T15:58:05Z","performed_via_github_app":null},{"id":2290189384,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyOTAxODkzODQ=","url":"https://api.github.com/repos/netrack/keras-metrics/issues/events/2290189384","actor":{"login":"wandonye","id":7805834,"node_id":"MDQ6VXNlcjc4MDU4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7805834?v=4","gravatar_id":"","url":"https://api.github.com/users/wandonye","html_url":"https://github.com/wandonye","followers_url":"https://api.github.com/users/wandonye/followers","following_url":"https://api.github.com/users/wandonye/following{/other_user}","gists_url":"https://api.github.com/users/wandonye/gists{/gist_id}","starred_url":"https://api.github.com/users/wandonye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wandonye/subscriptions","organizations_url":"https://api.github.com/users/wandonye/orgs","repos_url":"https://api.github.com/users/wandonye/repos","events_url":"https://api.github.com/users/wandonye/events{/privacy}","received_events_url":"https://api.github.com/users/wandonye/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-21T15:58:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/493963583","html_url":"https://github.com/netrack/keras-metrics/issues/27#issuecomment-493963583","issue_url":"https://api.github.com/repos/netrack/keras-metrics/issues/27","id":493963583,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzk2MzU4Mw==","user":{"login":"mdf-github","id":6410859,"node_id":"MDQ6VXNlcjY0MTA4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/6410859?v=4","gravatar_id":"","url":"https://api.github.com/users/mdf-github","html_url":"https://github.com/mdf-github","followers_url":"https://api.github.com/users/mdf-github/followers","following_url":"https://api.github.com/users/mdf-github/following{/other_user}","gists_url":"https://api.github.com/users/mdf-github/gists{/gist_id}","starred_url":"https://api.github.com/users/mdf-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdf-github/subscriptions","organizations_url":"https://api.github.com/users/mdf-github/orgs","repos_url":"https://api.github.com/users/mdf-github/repos","events_url":"https://api.github.com/users/mdf-github/events{/privacy}","received_events_url":"https://api.github.com/users/mdf-github/received_events","type":"User","site_admin":false},"created_at":"2019-05-20T12:21:58Z","updated_at":"2019-05-20T12:26:08Z","author_association":"NONE","body":"I get the same error. Code snippet:\r\n\r\n\r\n```\r\nmodel = Sequential()\r\nfor layer, n in enumerate(n_neurons):\r\n    l1_val = l1_vals[layer]\r\n    l2_val = l2_vals[layer]\r\n    if all(l == 0 for l in [l1_val, l2_val]):\r\n        reg = None\r\n    else:\r\n        reg = regularizers.l1_l2(l1=l1_val, l2=l2_val)\r\n\r\n\r\n    layer_kwargs_ind = layer_kwargs[layer]\r\n    layer_kwargs_ind['kernel_regularizer'] = reg\r\n    layer_kwargs_ind['kernel_initializer'] = kernel_initializer[layer]\r\n\r\n    if layer == 0:\r\n        model.add(Dense(n, input_shape=input_shape,\r\n            **layer_kwargs_ind))\r\n    else:\r\n        model.add(Dense(n,\r\n            **layer_kwargs_ind))\r\n    model.add(Activation(hidden_act[layer]))\r\n    \r\n# output\r\nmodel.add(Dense(n_output))\r\nmodel.add(Activation(output_act))\r\n\r\n# add precision and recall for each label\r\nprec_0 = keras_metrics.binary_precision(label=0)\r\n## prec_1 = keras_metrics.binary_precision(label=1)\r\nrecall_0 = keras_metrics.binary_recall(label=0)\r\n## recall_1 = keras_metrics.binary_recall(label=1)\r\n\r\n\r\nif compile_kwargs is None:\r\n    compile_kwargs = {}\r\nif opt_kwargs is None:\r\n    opt_kwargs = {}\r\nmodel.compile(optimizer=opt(lr=lr, **opt_kwargs), loss=loss,\r\n    metrics=['accuracy',\r\n        prec_0,\r\n        ## prec_1,\r\n        recall_0,\r\n        ## recall_1\r\n        ],\r\n    **compile_kwargs)\r\n\r\ncallbacks=[\r\n    cb.TerminateOnNaN(),\r\n    cb.ReduceLROnPlateau(patience=10, verbose=1, min_lr=1e-3, factor=0.5),\r\n    cb.EarlyStopping(patience=10, min_delta=0.005),\r\n]\r\n\r\nhist = model.fit(\r\n    x_train, y_train,\r\n    batch_size=params['batch_size'], epochs=params['epochs'],\r\n    validation_data=(x_val, y_val),\r\n    callbacks=callbacks,\r\n    ## **fit_kwargs\r\n)\r\nmodel.save('model.h5')\r\n```\r\nThere is no error in saving the model. However, when I try:\r\n\r\n```\r\nkeras.load_model('model.h5')\r\n```\r\n\r\nI get\r\n\r\n```ValueError: Unknown metric function:binary_precision```\r\n\r\nWhen I try:\r\n```\r\nimport keras_metrics as km\r\nmodel = load_model('general_fnn_model_params_20190517-201322.h5', custom_objects={'binary_precision': km.binary_precision})\r\n```\r\n\r\nI get the error\r\n```TypeError: fn() takes from 0 to 1 positional arguments but 2 were given```\r\n\r\nBasically same as the issue provided above.","reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/493963583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mdf-github","id":6410859,"node_id":"MDQ6VXNlcjY0MTA4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/6410859?v=4","gravatar_id":"","url":"https://api.github.com/users/mdf-github","html_url":"https://github.com/mdf-github","followers_url":"https://api.github.com/users/mdf-github/followers","following_url":"https://api.github.com/users/mdf-github/following{/other_user}","gists_url":"https://api.github.com/users/mdf-github/gists{/gist_id}","starred_url":"https://api.github.com/users/mdf-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdf-github/subscriptions","organizations_url":"https://api.github.com/users/mdf-github/orgs","repos_url":"https://api.github.com/users/mdf-github/repos","events_url":"https://api.github.com/users/mdf-github/events{/privacy}","received_events_url":"https://api.github.com/users/mdf-github/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/493964921","html_url":"https://github.com/netrack/keras-metrics/issues/27#issuecomment-493964921","issue_url":"https://api.github.com/repos/netrack/keras-metrics/issues/27","id":493964921,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzk2NDkyMQ==","user":{"login":"mdf-github","id":6410859,"node_id":"MDQ6VXNlcjY0MTA4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/6410859?v=4","gravatar_id":"","url":"https://api.github.com/users/mdf-github","html_url":"https://github.com/mdf-github","followers_url":"https://api.github.com/users/mdf-github/followers","following_url":"https://api.github.com/users/mdf-github/following{/other_user}","gists_url":"https://api.github.com/users/mdf-github/gists{/gist_id}","starred_url":"https://api.github.com/users/mdf-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdf-github/subscriptions","organizations_url":"https://api.github.com/users/mdf-github/orgs","repos_url":"https://api.github.com/users/mdf-github/repos","events_url":"https://api.github.com/users/mdf-github/events{/privacy}","received_events_url":"https://api.github.com/users/mdf-github/received_events","type":"User","site_admin":false},"created_at":"2019-05-20T12:26:22Z","updated_at":"2019-05-20T12:26:22Z","author_association":"NONE","body":"> I get the same error. Code snippet:\r\n> \r\n> ```\r\n> model = Sequential()\r\n> for layer, n in enumerate(n_neurons):\r\n>     l1_val = l1_vals[layer]\r\n>     l2_val = l2_vals[layer]\r\n>     if all(l == 0 for l in [l1_val, l2_val]):\r\n>         reg = None\r\n>     else:\r\n>         reg = regularizers.l1_l2(l1=l1_val, l2=l2_val)\r\n> \r\n> \r\n>     layer_kwargs_ind = layer_kwargs[layer]\r\n>     layer_kwargs_ind['kernel_regularizer'] = reg\r\n>     layer_kwargs_ind['kernel_initializer'] = kernel_initializer[layer]\r\n> \r\n>     if layer == 0:\r\n>         model.add(Dense(n, input_shape=input_shape,\r\n>             **layer_kwargs_ind))\r\n>     else:\r\n>         model.add(Dense(n,\r\n>             **layer_kwargs_ind))\r\n>     model.add(Activation(hidden_act[layer]))\r\n>     \r\n> # output\r\n> model.add(Dense(n_output))\r\n> model.add(Activation(output_act))\r\n> \r\n> # add precision and recall for each label\r\n> prec_0 = keras_metrics.binary_precision(label=0)\r\n> ## prec_1 = keras_metrics.binary_precision(label=1)\r\n> recall_0 = keras_metrics.binary_recall(label=0)\r\n> ## recall_1 = keras_metrics.binary_recall(label=1)\r\n> \r\n> \r\n> if compile_kwargs is None:\r\n>     compile_kwargs = {}\r\n> if opt_kwargs is None:\r\n>     opt_kwargs = {}\r\n> model.compile(optimizer=opt(lr=lr, **opt_kwargs), loss=loss,\r\n>     metrics=['accuracy',\r\n>         prec_0,\r\n>         ## prec_1,\r\n>         recall_0,\r\n>         ## recall_1\r\n>         ],\r\n>     **compile_kwargs)\r\n> \r\n> callbacks=[\r\n>     cb.TerminateOnNaN(),\r\n>     cb.ReduceLROnPlateau(patience=10, verbose=1, min_lr=1e-3, factor=0.5),\r\n>     cb.EarlyStopping(patience=10, min_delta=0.005),\r\n> ]\r\n> \r\n> hist = model.fit(\r\n>     x_train, y_train,\r\n>     batch_size=params['batch_size'], epochs=params['epochs'],\r\n>     validation_data=(x_val, y_val),\r\n>     callbacks=callbacks,\r\n>     ## **fit_kwargs\r\n> )\r\n> model.save('model.h5')\r\n> ```\r\n> \r\n> There is no error in saving the model. However, when I try:\r\n> \r\n> ```\r\n> keras.load_model('model.h5')\r\n> ```\r\n> \r\n> I get\r\n> \r\n> `ValueError: Unknown metric function:binary_precision`\r\n> \r\n> When I try:\r\n> \r\n> ```\r\n> import keras_metrics as km\r\n> model = load_model('general_fnn_model_params_20190517-201322.h5', custom_objects={'binary_precision': km.binary_precision})\r\n> ```\r\n> \r\n> I get the error\r\n> `TypeError: fn() takes from 0 to 1 positional arguments but 2 were given`\r\n> \r\n> Basically same as the issue provided above.\r\n\r\nI found the fix. So apparently all the args must also be given. In my case:\r\n\r\n```\r\nmodel = load_model('general_fnn_model_params_20190517-201322.h5', custom_objects={'binary_precision': km.binary_precision(label=0), 'binary_recall': km.binary_recall(label=0)})\r\n```\r\nworked.","reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/comments/493964921/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mdf-github","id":6410859,"node_id":"MDQ6VXNlcjY0MTA4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/6410859?v=4","gravatar_id":"","url":"https://api.github.com/users/mdf-github","html_url":"https://github.com/mdf-github","followers_url":"https://api.github.com/users/mdf-github/followers","following_url":"https://api.github.com/users/mdf-github/following{/other_user}","gists_url":"https://api.github.com/users/mdf-github/gists{/gist_id}","starred_url":"https://api.github.com/users/mdf-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdf-github/subscriptions","organizations_url":"https://api.github.com/users/mdf-github/orgs","repos_url":"https://api.github.com/users/mdf-github/repos","events_url":"https://api.github.com/users/mdf-github/events{/privacy}","received_events_url":"https://api.github.com/users/mdf-github/received_events","type":"User","site_admin":false}}]