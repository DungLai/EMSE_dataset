{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/3","repository_url":"https://api.github.com/repos/netrack/keras-metrics","labels_url":"https://api.github.com/repos/netrack/keras-metrics/issues/3/labels{/name}","comments_url":"https://api.github.com/repos/netrack/keras-metrics/issues/3/comments","events_url":"https://api.github.com/repos/netrack/keras-metrics/issues/3/events","html_url":"https://github.com/netrack/keras-metrics/issues/3","id":345429838,"node_id":"MDU6SXNzdWUzNDU0Mjk4Mzg=","number":3,"title":"Binary classification with 2 units gives wrong precision and recall","user":{"login":"Avcu","id":20123775,"node_id":"MDQ6VXNlcjIwMTIzNzc1","avatar_url":"https://avatars.githubusercontent.com/u/20123775?v=4","gravatar_id":"","url":"https://api.github.com/users/Avcu","html_url":"https://github.com/Avcu","followers_url":"https://api.github.com/users/Avcu/followers","following_url":"https://api.github.com/users/Avcu/following{/other_user}","gists_url":"https://api.github.com/users/Avcu/gists{/gist_id}","starred_url":"https://api.github.com/users/Avcu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Avcu/subscriptions","organizations_url":"https://api.github.com/users/Avcu/orgs","repos_url":"https://api.github.com/users/Avcu/repos","events_url":"https://api.github.com/users/Avcu/events{/privacy}","received_events_url":"https://api.github.com/users/Avcu/received_events","type":"User","site_admin":false},"labels":[{"id":947392021,"node_id":"MDU6TGFiZWw5NDczOTIwMjE=","url":"https://api.github.com/repos/netrack/keras-metrics/labels/kind/bug","name":"kind/bug","color":"FF5252","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-07-28T07:57:56Z","updated_at":"2018-07-30T19:57:32Z","closed_at":"2018-07-30T19:57:32Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Hi, I've seen the similar issue that was about evaluation after training on multi-class classification, mine is about the training. If one has only one unit at the end, everything is correct, however if dense layer with two units is used for the last layer with a softmax activation, true positive is always equals to true negative, and false positive is always equals to false negative in every batch during the training. And when you sum all of them you obtain a number that is exactly equals to twice of batch size. Please kindly check my code below.\r\nNote: I'm aware of the fact that these metrics shouldn't be checked per batch basis, but seeing something wrong pushed me to create this issue. By the way, thanks for the library and effort.\r\n\r\nhttps://colab.research.google.com/drive/1lmQ-hWcN4tsGMicd4dKnSjeTD-BdgJuE","closed_by":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/3/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netrack/keras-metrics/issues/3/timeline","performed_via_github_app":null,"state_reason":"completed"}