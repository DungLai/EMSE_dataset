{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/13","repository_url":"https://api.github.com/repos/netrack/keras-metrics","labels_url":"https://api.github.com/repos/netrack/keras-metrics/issues/13/labels{/name}","comments_url":"https://api.github.com/repos/netrack/keras-metrics/issues/13/comments","events_url":"https://api.github.com/repos/netrack/keras-metrics/issues/13/events","html_url":"https://github.com/netrack/keras-metrics/issues/13","id":360173637,"node_id":"MDU6SXNzdWUzNjAxNzM2Mzc=","number":13,"title":"load_model problem","user":{"login":"Bjoux2","id":12781926,"node_id":"MDQ6VXNlcjEyNzgxOTI2","avatar_url":"https://avatars.githubusercontent.com/u/12781926?v=4","gravatar_id":"","url":"https://api.github.com/users/Bjoux2","html_url":"https://github.com/Bjoux2","followers_url":"https://api.github.com/users/Bjoux2/followers","following_url":"https://api.github.com/users/Bjoux2/following{/other_user}","gists_url":"https://api.github.com/users/Bjoux2/gists{/gist_id}","starred_url":"https://api.github.com/users/Bjoux2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bjoux2/subscriptions","organizations_url":"https://api.github.com/users/Bjoux2/orgs","repos_url":"https://api.github.com/users/Bjoux2/repos","events_url":"https://api.github.com/users/Bjoux2/events{/privacy}","received_events_url":"https://api.github.com/users/Bjoux2/received_events","type":"User","site_admin":false},"labels":[{"id":1057102940,"node_id":"MDU6TGFiZWwxMDU3MTAyOTQw","url":"https://api.github.com/repos/netrack/keras-metrics/labels/kind/feature-request","name":"kind/feature-request","color":"c5def5","default":false,"description":""},{"id":1057103512,"node_id":"MDU6TGFiZWwxMDU3MTAzNTEy","url":"https://api.github.com/repos/netrack/keras-metrics/labels/area/metrics","name":"area/metrics","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-09-14T06:31:47Z","updated_at":"2019-01-24T11:56:05Z","closed_at":"2019-01-24T11:56:05Z","author_association":"NONE","active_lock_reason":null,"body":"keras-metrics is useful in the process of training \r\n\r\n`model.compile(loss=keras.losses.categorical_crossentropy,\r\n                  optimizer=keras.optimizers.Adadelta(),\r\n                  metrics=['accuracy', keras_metrics.precision(), keras_metrics.recall()])`\r\n\r\nduring the training, it reported this:\r\n\r\n1766016/1839646 [=====>..] - ETA: 2s - loss: 0.3919 - acc: 0.8308 - precision: 0.6595 - recall: 0.3231\r\n1767424/1839646 [=====>..] - ETA: 2s - loss: 0.3919 - acc: 0.8308 - precision: 0.6595 - recall: 0.3231\r\n1768832/1839646 [=====>..] - ETA: 2s - loss: 0.3920 - acc: 0.8307 - precision: 0.6594 - recall: 0.3231\r\n1770368/1839646 [=====>..] - ETA: 2s - loss: 0.3920 - acc: 0.8307 - precision: 0.6594 - recall: 0.3232\r\n1771776/1839646 [=====>..] - ETA: 2s - loss: 0.3919 - acc: 0.8308 - precision: 0.6595 - recall: 0.3232\r\n\r\nand I save the model with the code:\r\n`model.save(model_save_path + '/mlp_pssm_%s.h5' % short_mid_long)`\r\n\r\nthings going well, so far.\r\n\r\nhowever, when I was trying to load the model  with the code:\r\n`clf = load_model(models_path + '/%s_%s.h5' % (model_type,contact_type))`\r\n\r\nI got this error:\r\nValueError: Unknown metric function: {'class_name': 'precision', 'config': {'name': 'precision', 'trainable': True}}\r\n\r\nHow to fix this error? \r\nThanks!\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"ybubnov","id":1778407,"node_id":"MDQ6VXNlcjE3Nzg0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1778407?v=4","gravatar_id":"","url":"https://api.github.com/users/ybubnov","html_url":"https://github.com/ybubnov","followers_url":"https://api.github.com/users/ybubnov/followers","following_url":"https://api.github.com/users/ybubnov/following{/other_user}","gists_url":"https://api.github.com/users/ybubnov/gists{/gist_id}","starred_url":"https://api.github.com/users/ybubnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ybubnov/subscriptions","organizations_url":"https://api.github.com/users/ybubnov/orgs","repos_url":"https://api.github.com/users/ybubnov/repos","events_url":"https://api.github.com/users/ybubnov/events{/privacy}","received_events_url":"https://api.github.com/users/ybubnov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/netrack/keras-metrics/issues/13/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netrack/keras-metrics/issues/13/timeline","performed_via_github_app":null,"state_reason":"completed"}