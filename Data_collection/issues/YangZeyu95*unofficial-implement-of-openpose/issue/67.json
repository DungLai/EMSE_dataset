{"url":"https://api.github.com/repos/YangZeyu95/unofficial-implement-of-openpose/issues/67","repository_url":"https://api.github.com/repos/YangZeyu95/unofficial-implement-of-openpose","labels_url":"https://api.github.com/repos/YangZeyu95/unofficial-implement-of-openpose/issues/67/labels{/name}","comments_url":"https://api.github.com/repos/YangZeyu95/unofficial-implement-of-openpose/issues/67/comments","events_url":"https://api.github.com/repos/YangZeyu95/unofficial-implement-of-openpose/issues/67/events","html_url":"https://github.com/YangZeyu95/unofficial-implement-of-openpose/issues/67","id":729341930,"node_id":"MDU6SXNzdWU3MjkzNDE5MzA=","number":67,"title":"Help: Problem with training","user":{"login":"Elina-ye","id":72963535,"node_id":"MDQ6VXNlcjcyOTYzNTM1","avatar_url":"https://avatars.githubusercontent.com/u/72963535?v=4","gravatar_id":"","url":"https://api.github.com/users/Elina-ye","html_url":"https://github.com/Elina-ye","followers_url":"https://api.github.com/users/Elina-ye/followers","following_url":"https://api.github.com/users/Elina-ye/following{/other_user}","gists_url":"https://api.github.com/users/Elina-ye/gists{/gist_id}","starred_url":"https://api.github.com/users/Elina-ye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Elina-ye/subscriptions","organizations_url":"https://api.github.com/users/Elina-ye/orgs","repos_url":"https://api.github.com/users/Elina-ye/repos","events_url":"https://api.github.com/users/Elina-ye/events{/privacy}","received_events_url":"https://api.github.com/users/Elina-ye/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-10-26T07:56:55Z","updated_at":"2021-03-26T01:55:57Z","closed_at":"2021-03-26T01:55:57Z","author_association":"NONE","active_lock_reason":null,"body":"Thank you for your sharing.\r\nI tried to train the model by myself, however, I met some problems...\r\n\r\n1. At the first, the code works well, but the process stopped at 0% for a long time, it shows that :\r\n\"0%|                                                                                        | 0/11828 [00:00<?, ?it/s]\"\r\n\r\n2. Then the following sentences kept repeating many times after that long time waiting:\r\n\"2020-10-26 14:37:06.724670: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_100.dll\r\nWARNING:tensorflow:\r\nThe TensorFlow contrib module will not be included in TensorFlow 2.0.\r\nFor more information, please see:\r\n  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md\r\n  * https://github.com/tensorflow/addons\r\n  * https://github.com/tensorflow/io (for I/O related ops)\r\nIf you depend on functionality not listed there, please file an issue.\"\r\n\r\n3. After repeated those sentences many times, the training was continuing. I noticed the checkpoint will be saved every 1000 times, cause \"parser.add_argument('--save_checkpoint_frequency', type=int, default=1000)\". However, the training was stopped, I had received an error. The information shows that:\r\n\" 8%|██████▍                                                                     | 996/11828 [17:42<2:39:05,  1.1  \r\n8%|██████▍                                                                     | 997/11828 [17:43<2:39:09,  1.1  \r\n8%|██████▍                                                                     | 998/11828 [17:44<2:39:01,  1.1 \r\n8%|██████▍                                                                     | 999/11828 [17:45<2:39:02,  1.13it/s]\r\n[2020-10-26 14:53:14,907] [train] [INFO] echos=0.084545, setp=1000, total_loss=495.363190, lr=0.000100\r\n\r\n500it [10:20,  1.24s/it]\r\n  8%|██████▍                                                                     | 999/11828 [28:09<5:05:17,  1.69s/it]\r\n2020-10-26 15:03:35.384219: W tensorflow/core/kernels/queue_base.cc:277] _0_fifo_queue: Skipping cancelled enqueue attempt with queue not closed\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 195, in <module>\r\n    train()\r\n  File \"train.py\", line 174, in train\r\n    df_valid.reset_state()\r\n  File \"D:\\anaconda3\\envs\\tf_gpu\\lib\\site-packages\\tensorpack\\dataflow\\base.py\", line 181, in reset_state\r\n    self.ds.reset_state()\r\n  File \"D:\\anaconda3\\envs\\tf_gpu\\lib\\site-packages\\tensorpack\\dataflow\\parallel.py\", line 236, in reset_state\r\n    assert not self._reset_done, \"reset_state() was called twice! This violates the API of DataFlow!\"\r\nAssertionError: reset_state() was called twice! This violates the API of DataFlow!\r\n[2020-10-26 15:03:35,832] [pose_dataset] [ERROR] err type1, placeholders=[<tf.Tensor 'inputs/Placeholder:0' shape=(10, 368, 368, 3) dtype=float32>, <tf.Tensor 'inputs/Placeholder_1:0' shape=(10, 46, 46, 19) dtype=float32>, <tf.Tensor 'inputs/Placeholder_2:0' shape=(10, 46, 46, 38) dtype=float32>]\r\n[2020-10-26 15:03:35,832] [pose_dataset] [INFO] Thread-1 Exited.\"\r\n\r\nIt seems like the error was happened because the \"df_valid.reset_state()\"was called twice in train.py. Thus, I checked my code and I think there is no conflict between the two commands.  I don't know what should I do to solve it? Can someone help me?","closed_by":{"login":"YangZeyu95","id":28431121,"node_id":"MDQ6VXNlcjI4NDMxMTIx","avatar_url":"https://avatars.githubusercontent.com/u/28431121?v=4","gravatar_id":"","url":"https://api.github.com/users/YangZeyu95","html_url":"https://github.com/YangZeyu95","followers_url":"https://api.github.com/users/YangZeyu95/followers","following_url":"https://api.github.com/users/YangZeyu95/following{/other_user}","gists_url":"https://api.github.com/users/YangZeyu95/gists{/gist_id}","starred_url":"https://api.github.com/users/YangZeyu95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YangZeyu95/subscriptions","organizations_url":"https://api.github.com/users/YangZeyu95/orgs","repos_url":"https://api.github.com/users/YangZeyu95/repos","events_url":"https://api.github.com/users/YangZeyu95/events{/privacy}","received_events_url":"https://api.github.com/users/YangZeyu95/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/YangZeyu95/unofficial-implement-of-openpose/issues/67/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/YangZeyu95/unofficial-implement-of-openpose/issues/67/timeline","performed_via_github_app":null,"state_reason":"completed"}