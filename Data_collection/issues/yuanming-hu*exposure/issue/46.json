{"url":"https://api.github.com/repos/yuanming-hu/exposure/issues/46","repository_url":"https://api.github.com/repos/yuanming-hu/exposure","labels_url":"https://api.github.com/repos/yuanming-hu/exposure/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/yuanming-hu/exposure/issues/46/comments","events_url":"https://api.github.com/repos/yuanming-hu/exposure/issues/46/events","html_url":"https://github.com/yuanming-hu/exposure/issues/46","id":492452956,"node_id":"MDU6SXNzdWU0OTI0NTI5NTY=","number":46,"title":"SaturationPlus Filter Parameter returns 0","user":{"login":"XononoX","id":13067661,"node_id":"MDQ6VXNlcjEzMDY3NjYx","avatar_url":"https://avatars.githubusercontent.com/u/13067661?v=4","gravatar_id":"","url":"https://api.github.com/users/XononoX","html_url":"https://github.com/XononoX","followers_url":"https://api.github.com/users/XononoX/followers","following_url":"https://api.github.com/users/XononoX/following{/other_user}","gists_url":"https://api.github.com/users/XononoX/gists{/gist_id}","starred_url":"https://api.github.com/users/XononoX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XononoX/subscriptions","organizations_url":"https://api.github.com/users/XononoX/orgs","repos_url":"https://api.github.com/users/XononoX/repos","events_url":"https://api.github.com/users/XononoX/events{/privacy}","received_events_url":"https://api.github.com/users/XononoX/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-09-11T20:33:29Z","updated_at":"2019-09-12T17:50:25Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"On all of my results, I am seeing in the .Steps. image that the parameter used for the SaturationPlus filter is always 0.00. Sometimes it's 0.01, but it's never enough to make a meaningful difference in the next image. \r\n\r\nI thought that maybe it was a problem with the data I used to train, but when I looked at the pretrained example's outputs, I saw the same issue with the SaturationPlus filter on those .steps. images. \r\n\r\nThat's the problem I'm experiencing right now. If anyone can offer some guidance, I would appreciate it. Now I'll describe some of the steps I've tried to take to fix it and explain why they haven't worked: \r\n\r\nI noticed that Tensorflow now has a function for adjusting the saturation of images directly: \r\n\r\n`enhanced_s = tf.compat.v1.image.adjust_saturation(img, scale)`\r\n\r\nwhere scale is the multiplier applied to the input image's saturation. I tried replacing the process() function of the SaturationPlusFilter() class in filters.py with this function, of course there's no preexisting gradient for the adjust_saturation() function so I just hardcoded the scale value to 1.5 and used the output param to linearly interpolate between the input and enhanced images as Yuanming-Hu did, but the network still doesn't learn how to properly use the filter after 20000 iterations of training. ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/yuanming-hu/exposure/issues/46/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yuanming-hu/exposure/issues/46/timeline","performed_via_github_app":null,"state_reason":null}