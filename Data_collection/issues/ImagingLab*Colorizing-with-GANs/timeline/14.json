[{"url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/comments/457229182","html_url":"https://github.com/ImagingLab/Colorizing-with-GANs/issues/14#issuecomment-457229182","issue_url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/14","id":457229182,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzIyOTE4Mg==","user":{"login":"knazeri","id":1743048,"node_id":"MDQ6VXNlcjE3NDMwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1743048?v=4","gravatar_id":"","url":"https://api.github.com/users/knazeri","html_url":"https://github.com/knazeri","followers_url":"https://api.github.com/users/knazeri/followers","following_url":"https://api.github.com/users/knazeri/following{/other_user}","gists_url":"https://api.github.com/users/knazeri/gists{/gist_id}","starred_url":"https://api.github.com/users/knazeri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knazeri/subscriptions","organizations_url":"https://api.github.com/users/knazeri/orgs","repos_url":"https://api.github.com/users/knazeri/repos","events_url":"https://api.github.com/users/knazeri/events{/privacy}","received_events_url":"https://api.github.com/users/knazeri/received_events","type":"User","site_admin":false},"created_at":"2019-01-24T15:04:44Z","updated_at":"2019-01-24T15:06:51Z","author_association":"MEMBER","body":"@karoly-hars \r\nYes we did and I'm surprised if it won't have any effect! It should at least give you the same performance as batch-norm. How are your results?\r\nWe chose batch-norm over instance-norm because the network was converging faster. But you have to modify batch-norm a little bit. pix2pix and cycle-gan both mention instance normalization by using batch normalization with batch size of 1, which is not exactly instance-norm unless you turn off the learned statistics.\r\nThe problem with batch normalization in image generation tasks is that at inference time, using the learned affine parameters (mean and variance) might change the actual statistics of the generated image. In our implementation, we specifically turned batch normalization statistics off (`training=True` in tensorflow or `track_running_stats=False` in pytorch) which gave us better results at test time.","reactions":{"url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/comments/457229182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"knazeri","id":1743048,"node_id":"MDQ6VXNlcjE3NDMwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1743048?v=4","gravatar_id":"","url":"https://api.github.com/users/knazeri","html_url":"https://github.com/knazeri","followers_url":"https://api.github.com/users/knazeri/followers","following_url":"https://api.github.com/users/knazeri/following{/other_user}","gists_url":"https://api.github.com/users/knazeri/gists{/gist_id}","starred_url":"https://api.github.com/users/knazeri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knazeri/subscriptions","organizations_url":"https://api.github.com/users/knazeri/orgs","repos_url":"https://api.github.com/users/knazeri/repos","events_url":"https://api.github.com/users/knazeri/events{/privacy}","received_events_url":"https://api.github.com/users/knazeri/received_events","type":"User","site_admin":false}},{"id":2094716248,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA5NDcxNjI0OA==","url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/events/2094716248","actor":{"login":"karoly-hars","id":39346572,"node_id":"MDQ6VXNlcjM5MzQ2NTcy","avatar_url":"https://avatars.githubusercontent.com/u/39346572?v=4","gravatar_id":"","url":"https://api.github.com/users/karoly-hars","html_url":"https://github.com/karoly-hars","followers_url":"https://api.github.com/users/karoly-hars/followers","following_url":"https://api.github.com/users/karoly-hars/following{/other_user}","gists_url":"https://api.github.com/users/karoly-hars/gists{/gist_id}","starred_url":"https://api.github.com/users/karoly-hars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karoly-hars/subscriptions","organizations_url":"https://api.github.com/users/karoly-hars/orgs","repos_url":"https://api.github.com/users/karoly-hars/repos","events_url":"https://api.github.com/users/karoly-hars/events{/privacy}","received_events_url":"https://api.github.com/users/karoly-hars/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-24T15:04:44Z","performed_via_github_app":null},{"id":2094716249,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwOTQ3MTYyNDk=","url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/events/2094716249","actor":{"login":"karoly-hars","id":39346572,"node_id":"MDQ6VXNlcjM5MzQ2NTcy","avatar_url":"https://avatars.githubusercontent.com/u/39346572?v=4","gravatar_id":"","url":"https://api.github.com/users/karoly-hars","html_url":"https://github.com/karoly-hars","followers_url":"https://api.github.com/users/karoly-hars/followers","following_url":"https://api.github.com/users/karoly-hars/following{/other_user}","gists_url":"https://api.github.com/users/karoly-hars/gists{/gist_id}","starred_url":"https://api.github.com/users/karoly-hars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karoly-hars/subscriptions","organizations_url":"https://api.github.com/users/karoly-hars/orgs","repos_url":"https://api.github.com/users/karoly-hars/repos","events_url":"https://api.github.com/users/karoly-hars/events{/privacy}","received_events_url":"https://api.github.com/users/karoly-hars/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-24T15:04:44Z","performed_via_github_app":null},{"id":2098850456,"node_id":"MDExOkNsb3NlZEV2ZW50MjA5ODg1MDQ1Ng==","url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/events/2098850456","actor":{"login":"karoly-hars","id":39346572,"node_id":"MDQ6VXNlcjM5MzQ2NTcy","avatar_url":"https://avatars.githubusercontent.com/u/39346572?v=4","gravatar_id":"","url":"https://api.github.com/users/karoly-hars","html_url":"https://github.com/karoly-hars","followers_url":"https://api.github.com/users/karoly-hars/followers","following_url":"https://api.github.com/users/karoly-hars/following{/other_user}","gists_url":"https://api.github.com/users/karoly-hars/gists{/gist_id}","starred_url":"https://api.github.com/users/karoly-hars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karoly-hars/subscriptions","organizations_url":"https://api.github.com/users/karoly-hars/orgs","repos_url":"https://api.github.com/users/karoly-hars/repos","events_url":"https://api.github.com/users/karoly-hars/events{/privacy}","received_events_url":"https://api.github.com/users/karoly-hars/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-01-26T13:47:56Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/comments/457834063","html_url":"https://github.com/ImagingLab/Colorizing-with-GANs/issues/14#issuecomment-457834063","issue_url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/14","id":457834063,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzgzNDA2Mw==","user":{"login":"karoly-hars","id":39346572,"node_id":"MDQ6VXNlcjM5MzQ2NTcy","avatar_url":"https://avatars.githubusercontent.com/u/39346572?v=4","gravatar_id":"","url":"https://api.github.com/users/karoly-hars","html_url":"https://github.com/karoly-hars","followers_url":"https://api.github.com/users/karoly-hars/followers","following_url":"https://api.github.com/users/karoly-hars/following{/other_user}","gists_url":"https://api.github.com/users/karoly-hars/gists{/gist_id}","starred_url":"https://api.github.com/users/karoly-hars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karoly-hars/subscriptions","organizations_url":"https://api.github.com/users/karoly-hars/orgs","repos_url":"https://api.github.com/users/karoly-hars/repos","events_url":"https://api.github.com/users/karoly-hars/events{/privacy}","received_events_url":"https://api.github.com/users/karoly-hars/received_events","type":"User","site_admin":false},"created_at":"2019-01-26T14:08:44Z","updated_at":"2019-01-26T14:09:22Z","author_association":"NONE","body":"It is possible, that the model just learns differently when InstanceNorm is used. The results from after 15-20 epoch, look like there are color filters applied to the images. Maybe it would lead to the same quality as BatchNorm, after a longer training session. \r\n\r\nHere are some examples:\r\n10 epochs:\r\n![ep10_sample](https://user-images.githubusercontent.com/39346572/51788253-0ed4d000-217c-11e9-85aa-db3fb297766e.png)\r\n14 epochs:\r\n![ep14_sample](https://user-images.githubusercontent.com/39346572/51788255-0f6d6680-217c-11e9-8cae-0acae62b807d.png)\r\n17 epochs:\r\n![ep17_sample](https://user-images.githubusercontent.com/39346572/51788257-0f6d6680-217c-11e9-8a27-65e789f39238.png)\r\n","reactions":{"url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/comments/457834063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"karoly-hars","id":39346572,"node_id":"MDQ6VXNlcjM5MzQ2NTcy","avatar_url":"https://avatars.githubusercontent.com/u/39346572?v=4","gravatar_id":"","url":"https://api.github.com/users/karoly-hars","html_url":"https://github.com/karoly-hars","followers_url":"https://api.github.com/users/karoly-hars/followers","following_url":"https://api.github.com/users/karoly-hars/following{/other_user}","gists_url":"https://api.github.com/users/karoly-hars/gists{/gist_id}","starred_url":"https://api.github.com/users/karoly-hars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karoly-hars/subscriptions","organizations_url":"https://api.github.com/users/karoly-hars/orgs","repos_url":"https://api.github.com/users/karoly-hars/repos","events_url":"https://api.github.com/users/karoly-hars/events{/privacy}","received_events_url":"https://api.github.com/users/karoly-hars/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/comments/457837760","html_url":"https://github.com/ImagingLab/Colorizing-with-GANs/issues/14#issuecomment-457837760","issue_url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/14","id":457837760,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzgzNzc2MA==","user":{"login":"knazeri","id":1743048,"node_id":"MDQ6VXNlcjE3NDMwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1743048?v=4","gravatar_id":"","url":"https://api.github.com/users/knazeri","html_url":"https://github.com/knazeri","followers_url":"https://api.github.com/users/knazeri/followers","following_url":"https://api.github.com/users/knazeri/following{/other_user}","gists_url":"https://api.github.com/users/knazeri/gists{/gist_id}","starred_url":"https://api.github.com/users/knazeri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knazeri/subscriptions","organizations_url":"https://api.github.com/users/knazeri/orgs","repos_url":"https://api.github.com/users/knazeri/repos","events_url":"https://api.github.com/users/knazeri/events{/privacy}","received_events_url":"https://api.github.com/users/knazeri/received_events","type":"User","site_admin":false},"created_at":"2019-01-26T14:59:56Z","updated_at":"2019-01-26T14:59:56Z","author_association":"MEMBER","body":"Honestly, a model with batch norm converges faster, especially when using large batch sizes! I guess it might take a while to converge. But if you are using large batch size (size > 8) then batch-normalization would give you better results. If training batch size is small (size < 8) then instance-normalization gives better results. Ans like I said before, make sure you turn off the statistics (extra parameters learned by the layer) when dealing with generative models.","reactions":{"url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/comments/457837760/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"knazeri","id":1743048,"node_id":"MDQ6VXNlcjE3NDMwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1743048?v=4","gravatar_id":"","url":"https://api.github.com/users/knazeri","html_url":"https://github.com/knazeri","followers_url":"https://api.github.com/users/knazeri/followers","following_url":"https://api.github.com/users/knazeri/following{/other_user}","gists_url":"https://api.github.com/users/knazeri/gists{/gist_id}","starred_url":"https://api.github.com/users/knazeri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knazeri/subscriptions","organizations_url":"https://api.github.com/users/knazeri/orgs","repos_url":"https://api.github.com/users/knazeri/repos","events_url":"https://api.github.com/users/knazeri/events{/privacy}","received_events_url":"https://api.github.com/users/knazeri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/comments/457839452","html_url":"https://github.com/ImagingLab/Colorizing-with-GANs/issues/14#issuecomment-457839452","issue_url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/14","id":457839452,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzgzOTQ1Mg==","user":{"login":"karoly-hars","id":39346572,"node_id":"MDQ6VXNlcjM5MzQ2NTcy","avatar_url":"https://avatars.githubusercontent.com/u/39346572?v=4","gravatar_id":"","url":"https://api.github.com/users/karoly-hars","html_url":"https://github.com/karoly-hars","followers_url":"https://api.github.com/users/karoly-hars/followers","following_url":"https://api.github.com/users/karoly-hars/following{/other_user}","gists_url":"https://api.github.com/users/karoly-hars/gists{/gist_id}","starred_url":"https://api.github.com/users/karoly-hars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karoly-hars/subscriptions","organizations_url":"https://api.github.com/users/karoly-hars/orgs","repos_url":"https://api.github.com/users/karoly-hars/repos","events_url":"https://api.github.com/users/karoly-hars/events{/privacy}","received_events_url":"https://api.github.com/users/karoly-hars/received_events","type":"User","site_admin":false},"created_at":"2019-01-26T15:21:43Z","updated_at":"2019-01-26T15:21:43Z","author_association":"NONE","body":"Good to know. Thank you for clarifying this.","reactions":{"url":"https://api.github.com/repos/ImagingLab/Colorizing-with-GANs/issues/comments/457839452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"karoly-hars","id":39346572,"node_id":"MDQ6VXNlcjM5MzQ2NTcy","avatar_url":"https://avatars.githubusercontent.com/u/39346572?v=4","gravatar_id":"","url":"https://api.github.com/users/karoly-hars","html_url":"https://github.com/karoly-hars","followers_url":"https://api.github.com/users/karoly-hars/followers","following_url":"https://api.github.com/users/karoly-hars/following{/other_user}","gists_url":"https://api.github.com/users/karoly-hars/gists{/gist_id}","starred_url":"https://api.github.com/users/karoly-hars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karoly-hars/subscriptions","organizations_url":"https://api.github.com/users/karoly-hars/orgs","repos_url":"https://api.github.com/users/karoly-hars/repos","events_url":"https://api.github.com/users/karoly-hars/events{/privacy}","received_events_url":"https://api.github.com/users/karoly-hars/received_events","type":"User","site_admin":false}}]