[{"id":2889261943,"node_id":"MDEyOkxhYmVsZWRFdmVudDI4ODkyNjE5NDM=","url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/events/2889261943","actor":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-12-17T10:21:45Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":2893887691,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50Mjg5Mzg4NzY5MQ==","url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/events/2893887691","actor":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-12-18T15:04:42Z","rename":{"from":"Jupyter Notebook seems to use only one CPU in multi-cpu configs","to":"Jupyter Notebook and Jupyter Lab seems to use only one CPU in multi-cpu configs"},"performed_via_github_app":null},{"id":2977367728,"node_id":"MDEyOkxhYmVsZWRFdmVudDI5NzczNjc3Mjg=","url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/events/2977367728","actor":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-01-24T14:14:56Z","label":{"name":"next","color":"FF7F50"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/579670052","html_url":"https://github.com/ml-tooling/ml-workspace/issues/20#issuecomment-579670052","issue_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/20","id":579670052,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTY3MDA1Mg==","user":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T09:30:19Z","updated_at":"2020-01-29T09:30:19Z","author_association":"CONTRIBUTOR","body":"@andr0idsensei I just did some evaluation on different machines with your code, but was not able to replicate the issue (atleast with the current build version of workspace: `mltooling/ml-workspace:0.9.0-SNAPSHOT`). \r\n\r\nFor example, here I tried your code within JupyterLab with two different Pool sizes and both seem to be able to use the available CPUs.\r\n\r\n<img width=\"933\" alt=\"Screenshot at Jan 29 10-19-27\" src=\"https://user-images.githubusercontent.com/2852129/73343849-910d3e00-4281-11ea-88b8-b39b00e42218.png\">\r\n\r\nHave you checked if other Docker containers have access to the full count of CPUs (maybe the Docker daemon has some limiting configuration)? Have you used a CPU limit on the workspace container?","reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/579670052/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false}},{"id":2988768260,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjk4ODc2ODI2MA==","url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/events/2988768260","actor":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-29T09:30:19Z","performed_via_github_app":null},{"id":2988768265,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5ODg3NjgyNjU=","url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/events/2988768265","actor":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-29T09:30:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/579915550","html_url":"https://github.com/ml-tooling/ml-workspace/issues/20#issuecomment-579915550","issue_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/20","id":579915550,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTkxNTU1MA==","user":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T19:18:16Z","updated_at":"2020-01-29T19:18:16Z","author_association":"CONTRIBUTOR","body":"Closing this issue for now since it does not seem to be happening with the latest workspace version. Feel free to reopen the issue if you can still replicate it with the latest version.","reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/579915550/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false}},{"id":2990760142,"node_id":"MDExOkNsb3NlZEV2ZW50Mjk5MDc2MDE0Mg==","url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/events/2990760142","actor":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-01-29T19:18:16Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/583292094","html_url":"https://github.com/ml-tooling/ml-workspace/issues/20#issuecomment-583292094","issue_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/20","id":583292094,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzI5MjA5NA==","user":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T08:48:24Z","updated_at":"2020-02-07T08:48:24Z","author_association":"NONE","body":"Thanks Lukas. I haven't checked with the latest version, but I found that it was caused by setting thread affinity via the KMP_AFFINITY env variable. For me it worked if I set the value to empty.","reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/583292094/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/583377891","html_url":"https://github.com/ml-tooling/ml-workspace/issues/20#issuecomment-583377891","issue_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/20","id":583377891,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzM3Nzg5MQ==","user":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T12:55:28Z","updated_at":"2020-02-07T12:55:28Z","author_association":"CONTRIBUTOR","body":"@andr0idsensei Thanks, thats very valuable feedback. The `KMP` settings where adapted from the recommendations of Intel: https://software.intel.com/en-us/articles/maximize-tensorflow-performance-on-cpu-considerations-and-recommendations-for-inference\r\n\r\nUnfortunately, I don't have a deep understanding of how `KMP_AFFINITY` works, but it seems like that for some hardware setups this setting does not actually optimize the performance.","reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/583377891/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false}},{"id":3017548730,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzAxNzU0ODczMA==","url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/events/3017548730","actor":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-02-07T12:55:28Z","performed_via_github_app":null},{"id":3017548732,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwMTc1NDg3MzI=","url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/events/3017548732","actor":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-02-07T12:55:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/583385829","html_url":"https://github.com/ml-tooling/ml-workspace/issues/20#issuecomment-583385829","issue_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/20","id":583385829,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzM4NTgyOQ==","user":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T13:19:59Z","updated_at":"2020-02-07T13:19:59Z","author_association":"CONTRIBUTOR","body":"I'm a bit confused that the `KMP_AFFINITY` actually has an effect on the python multiprocessing module. I don't think that the multiprocessing module actually uses any `OpenMP` code.","reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/583385829/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/583761173","html_url":"https://github.com/ml-tooling/ml-workspace/issues/20#issuecomment-583761173","issue_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/20","id":583761173,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc2MTE3Mw==","user":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false},"created_at":"2020-02-08T18:00:26Z","updated_at":"2020-02-08T18:00:26Z","author_association":"NONE","body":"Actually, I think that we might have messed up the initial multiprocess test somehow, and multiprocessing may not be affected by that (we haven't re-tested that though). The fact that you mentioned for you the bug was not reproducible, made me think a bit more about this. What we actually noticed was that when we used FastAI and Pytorch to train some models, that we usually trained on a multi-cpu and multi-gpu rig, using ml-workspace training was slower and not all CPU's were used. We tried to replicate that with the Pool example in the initial bug report, and at first it seemed to reproduce. However I think, I tried it once before finding out about KMP_AFFINITY, and I couldn't reproduce it. Since I don't think FastAI and Pytorch use multiprocessing (also haven't verified that) it would make sense that they were affected by KMP_AFFINITY.","reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/583761173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andr0idsensei","id":4376658,"node_id":"MDQ6VXNlcjQzNzY2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/4376658?v=4","gravatar_id":"","url":"https://api.github.com/users/andr0idsensei","html_url":"https://github.com/andr0idsensei","followers_url":"https://api.github.com/users/andr0idsensei/followers","following_url":"https://api.github.com/users/andr0idsensei/following{/other_user}","gists_url":"https://api.github.com/users/andr0idsensei/gists{/gist_id}","starred_url":"https://api.github.com/users/andr0idsensei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andr0idsensei/subscriptions","organizations_url":"https://api.github.com/users/andr0idsensei/orgs","repos_url":"https://api.github.com/users/andr0idsensei/repos","events_url":"https://api.github.com/users/andr0idsensei/events{/privacy}","received_events_url":"https://api.github.com/users/andr0idsensei/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/975222252","html_url":"https://github.com/ml-tooling/ml-workspace/issues/20#issuecomment-975222252","issue_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/20","id":975222252,"node_id":"IC_kwDOC0IVRc46ILXs","user":{"login":"heyi-core","id":16987074,"node_id":"MDQ6VXNlcjE2OTg3MDc0","avatar_url":"https://avatars.githubusercontent.com/u/16987074?v=4","gravatar_id":"","url":"https://api.github.com/users/heyi-core","html_url":"https://github.com/heyi-core","followers_url":"https://api.github.com/users/heyi-core/followers","following_url":"https://api.github.com/users/heyi-core/following{/other_user}","gists_url":"https://api.github.com/users/heyi-core/gists{/gist_id}","starred_url":"https://api.github.com/users/heyi-core/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heyi-core/subscriptions","organizations_url":"https://api.github.com/users/heyi-core/orgs","repos_url":"https://api.github.com/users/heyi-core/repos","events_url":"https://api.github.com/users/heyi-core/events{/privacy}","received_events_url":"https://api.github.com/users/heyi-core/received_events","type":"User","site_admin":false},"created_at":"2021-11-22T08:02:27Z","updated_at":"2021-11-22T08:12:57Z","author_association":"NONE","body":"i have the same bug \r\nyou can find it just by:\r\n1. !stress -c 10\r\n2. import torch\r\n3. !stress -c 10\r\nstep1 show out 100% of 10 cpu\r\nstep3 show out 10% of 10 cpu\r\n\r\nand i find that bug only in jupyter notebook. \r\n\r\ndocker version is 20\r\nml version is last\r\n\r\nand its fine by:\r\n\r\nimport os\r\nos.environ ['KMP_AFFINITY'] = ''","reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/comments/975222252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"heyi-core","id":16987074,"node_id":"MDQ6VXNlcjE2OTg3MDc0","avatar_url":"https://avatars.githubusercontent.com/u/16987074?v=4","gravatar_id":"","url":"https://api.github.com/users/heyi-core","html_url":"https://github.com/heyi-core","followers_url":"https://api.github.com/users/heyi-core/followers","following_url":"https://api.github.com/users/heyi-core/following{/other_user}","gists_url":"https://api.github.com/users/heyi-core/gists{/gist_id}","starred_url":"https://api.github.com/users/heyi-core/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heyi-core/subscriptions","organizations_url":"https://api.github.com/users/heyi-core/orgs","repos_url":"https://api.github.com/users/heyi-core/repos","events_url":"https://api.github.com/users/heyi-core/events{/privacy}","received_events_url":"https://api.github.com/users/heyi-core/received_events","type":"User","site_admin":false}}]