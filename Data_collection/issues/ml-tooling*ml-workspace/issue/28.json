{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/28","repository_url":"https://api.github.com/repos/ml-tooling/ml-workspace","labels_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/28/comments","events_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/28/events","html_url":"https://github.com/ml-tooling/ml-workspace/issues/28","id":559884676,"node_id":"MDU6SXNzdWU1NTk4ODQ2NzY=","number":28,"title":"Docker image does not build","user":{"login":"xprizedevops","id":58445876,"node_id":"MDQ6VXNlcjU4NDQ1ODc2","avatar_url":"https://avatars.githubusercontent.com/u/58445876?v=4","gravatar_id":"","url":"https://api.github.com/users/xprizedevops","html_url":"https://github.com/xprizedevops","followers_url":"https://api.github.com/users/xprizedevops/followers","following_url":"https://api.github.com/users/xprizedevops/following{/other_user}","gists_url":"https://api.github.com/users/xprizedevops/gists{/gist_id}","starred_url":"https://api.github.com/users/xprizedevops/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xprizedevops/subscriptions","organizations_url":"https://api.github.com/users/xprizedevops/orgs","repos_url":"https://api.github.com/users/xprizedevops/repos","events_url":"https://api.github.com/users/xprizedevops/events{/privacy}","received_events_url":"https://api.github.com/users/xprizedevops/received_events","type":"User","site_admin":false},"labels":[{"id":1379266800,"node_id":"MDU6TGFiZWwxMzc5MjY2ODAw","url":"https://api.github.com/repos/ml-tooling/ml-workspace/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working as expected"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-02-04T17:57:14Z","updated_at":"2020-12-12T21:01:54Z","closed_at":"2020-12-12T21:01:54Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nThanks for reporting a bug 🙌 ❤️\r\n\r\nBefore opening a new issue, please make sure that we do not have any duplicates already open. You can ensure this by searching the issue list for this repository. If there is a duplicate, please close your issue and add a comment to the existing issue instead.\r\n\r\nAlso, be sure to check our documentation first: https://github.com/ml-tooling/ml-workspace\r\n-->\r\n\r\n**Describe the bug:**\r\n\r\n<!-- Describe your issue, but please be descriptive! Thanks again 🙌 ❤️ -->\r\nWhen I build the image with docker, I get errors.\r\nI run the following command inside the project root folder:\r\n`docker image build -t ml-workspace .`\r\n\r\nAfter a while I get the error at step 50/97:\r\n`RuntimeError: JupyterLab failed to build`\r\n\r\n**Expected behaviour:**\r\n\r\n<!-- A clear and concise description of what you expected to happen. -->\r\nSuccess build.\r\n\r\n**Steps to reproduce the issue:**\r\n\r\n<!-- include screenshots, logs, code or other info to help explain your problem -->\r\nI run the following command inside the project root folder:\r\n`docker image build -t ml-workspace .`\r\n\r\nAfter a while I get the error at step 50/97:\r\n```\r\nStep 50/97 : RUN     jupyter lab build &&     jupyter labextension install @jupyter-widgets/jupyterlab-manager &&     if [ \"$WORKSPACE_FLAVOR\" = \"minimal\" ]; then         jupyter lab clean &&         jlpm cache clean &&         rm -rf $CONDA_DIR/share/jupyter/lab/staging &&         clean-layer.sh &&         exit 0 ;     fi &&     jupyter labextension install @jupyterlab/toc &&     jupyter labextension install jupyterlab_tensorboard &&     jupyter labextension install @jupyterlab/git &&     pip install jupyterlab-git &&     jupyter serverextension enable --py jupyterlab_git &&     jupyter labextension install jupyter-matplotlib &&     if [ \"$WORKSPACE_FLAVOR\" = \"light\" ]; then         jupyter lab clean &&         jlpm cache clean &&         rm -rf $CONDA_DIR/share/jupyter/lab/staging &&         clean-layer.sh &&         exit 0 ;     fi &&     pip install --pre jupyter-lsp &&     jupyter labextension install @krassowski/jupyterlab-lsp &&     jupyter labextension install @jupyterlab/plotly-extension &&     jupyter labextension install jupyterlab-chart-editor &&     jupyter labextension install @pyviz/jupyterlab_pyviz &&     jupyter labextension install @lckr/jupyterlab_variableinspector &&     jupyter labextension install @ryantam626/jupyterlab_code_formatter &&     pip install jupyterlab_code_formatter &&     jupyter serverextension enable --py jupyterlab_code_formatter &&     jupyter lab build &&     jupyter lab clean &&     jlpm cache clean &&     rm -rf $CONDA_DIR/share/jupyter/lab/staging &&     clean-layer.sh\r\n ---> Running in 62ce5b6a94e6\r\n[LabBuildApp] JupyterLab 1.2.5\r\n[LabBuildApp] Building in /opt/conda/share/jupyter/lab\r\n[LabBuildApp] Building jupyterlab assets (build:prod:minimize)\r\nAn error occured.\r\nRuntimeError: JupyterLab failed to build\r\n```\r\n<!-- \r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n-->\r\n\r\n**Technical details:**\r\n\r\n- Workspace version  <!-- run `echo $WORKSPACE_VERSION` inside the workspace -->: 0.9.1\r\n- Docker version  <!-- run `docker version` on host machine -->: 19.03.05\r\n- Host Machine OS (Windows/Linux/Mac): Windows \r\n- Command used to start the workspace <!-- e.g. `docker run mltooling/ml-workspace:latest` -->:\r\n- Browser (Chrome/Firefox/Safari):\r\n\r\n**Possible Fix:**\r\n\r\n<!--- Not obligatory, but suggest a fix or reason for the bug -->\r\n\r\n**Additional context:**\r\n\r\n<!-- Add any other context about the problem here. -->\r\n","closed_by":{"login":"LukasMasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasMasuch","html_url":"https://github.com/LukasMasuch","followers_url":"https://api.github.com/users/LukasMasuch/followers","following_url":"https://api.github.com/users/LukasMasuch/following{/other_user}","gists_url":"https://api.github.com/users/LukasMasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasMasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasMasuch/subscriptions","organizations_url":"https://api.github.com/users/LukasMasuch/orgs","repos_url":"https://api.github.com/users/LukasMasuch/repos","events_url":"https://api.github.com/users/LukasMasuch/events{/privacy}","received_events_url":"https://api.github.com/users/LukasMasuch/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/28/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/28/timeline","performed_via_github_app":null,"state_reason":"completed"}