{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/34","repository_url":"https://api.github.com/repos/ml-tooling/ml-workspace","labels_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/34/labels{/name}","comments_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/34/comments","events_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/34/events","html_url":"https://github.com/ml-tooling/ml-workspace/issues/34","id":569037215,"node_id":"MDU6SXNzdWU1NjkwMzcyMTU=","number":34,"title":"ml-workspace pod crashing as S3 as mount point. ","user":{"login":"vagarwal77","id":46463536,"node_id":"MDQ6VXNlcjQ2NDYzNTM2","avatar_url":"https://avatars.githubusercontent.com/u/46463536?v=4","gravatar_id":"","url":"https://api.github.com/users/vagarwal77","html_url":"https://github.com/vagarwal77","followers_url":"https://api.github.com/users/vagarwal77/followers","following_url":"https://api.github.com/users/vagarwal77/following{/other_user}","gists_url":"https://api.github.com/users/vagarwal77/gists{/gist_id}","starred_url":"https://api.github.com/users/vagarwal77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagarwal77/subscriptions","organizations_url":"https://api.github.com/users/vagarwal77/orgs","repos_url":"https://api.github.com/users/vagarwal77/repos","events_url":"https://api.github.com/users/vagarwal77/events{/privacy}","received_events_url":"https://api.github.com/users/vagarwal77/received_events","type":"User","site_admin":false},"labels":[{"id":1379266800,"node_id":"MDU6TGFiZWwxMzc5MjY2ODAw","url":"https://api.github.com/repos/ml-tooling/ml-workspace/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working as expected"},{"id":2552279497,"node_id":"MDU6TGFiZWwyNTUyMjc5NDk3","url":"https://api.github.com/repos/ml-tooling/ml-workspace/labels/stale","name":"stale","color":"cfd3d7","default":false,"description":"Awaiting input from creator for prolonged time period"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-21T15:54:25Z","updated_at":"2020-12-27T02:21:16Z","closed_at":"2020-12-27T02:21:16Z","author_association":"NONE","active_lock_reason":null,"body":"Below are the confis - \r\n1. Deployed ml-workspace in AWS EKS cluster as a container. \r\n2. Mount point has been setup to S3 Bi-direction to persist the notebooks. \r\n\r\nAfter every few hours, we are seeing the contain has been crashed.... Below are the pod logs along with yaml file.. \r\n\r\nAny one have set mount point as S3 and getting these errors - \r\n\r\n[I 07:31:19.808 NotebookApp] Build is up to date\r\n[I 07:31:51.717 NotebookApp] Starting buffering for 50495f03-f431-47a9-a64a-ec2135277139:56eab2bd-8c17-43d4-9bc3-9dbf5353d4eb\r\n[I 07:32:04.503 NotebookApp] EOF on FD 75; stopping reading\r\n[I 07:32:04.603 NotebookApp] Terminal 1 closed\r\n[I 07:32:05.407 NotebookApp] EOF on FD 77; stopping reading\r\n[I 07:32:05.507 NotebookApp] Terminal 2 closed\r\n[I 07:32:10.601 NotebookApp] New terminal with automatic name: 1\r\n[I 07:33:45.350 NotebookApp] Saving file at /package.json\r\n[W 07:35:12.626 NotebookApp] delete /package-lock.json\r\n[W 07:35:23.241 NotebookApp] delete /package-lock.json\r\n[W 07:35:23.296 NotebookApp] 404 DELETE /api/contents/package-lock.json?1582270523109 (127.0.0.1): File or directory does not exist: /workspace/package-lock.json\r\n[W 07:35:23.296 NotebookApp] File or directory does not exist: /workspace/package-lock.json\r\n[W 07:35:23.297 NotebookApp] 404 DELETE /api/contents/package-lock.json?1582270523109 (127.0.0.1) 56.64ms referer=http://internal-a202f0609446511eaaa74020d1583377-1568446533.us-east-1.elb.amazonaws.com:8080/lab\r\n[I 07:36:14.259 NotebookApp] Saving file at /package.json\r\n2020-02-21 08:00:01,622 [INFO] Starting configuration backup.\r\n2020-02-21 08:03:01,824 [INFO] Leak check: xfdesktop (mem=34578432.0 cpu=0.0); xfsettingsd (mem=17633280.0 cpu=0.0); xfce4-panel (mem=24084480.0 cpu=0.0)\r\n[I 08:03:48.643 NotebookApp] Saving file at /package.json\r\n[I 08:03:51.421 NotebookApp] Saving file at /package.json\r\n[I 08:09:33.208 NotebookApp] Saving file at /js_components.ipynb\r\n[I 08:09:33.209 NotebookApp] Saving js_components.ipynb\r\n[I 08:13:22.048 NotebookApp] New terminal with automatic name: 2\r\n[W 08:18:31.169 NotebookApp] 404 GET /api/contents?type=directory&_=1582272988521 (127.0.0.1): No such file or directory: \r\n[W 08:18:31.169 NotebookApp] No such file or directory: \r\n[W 08:18:31.170 NotebookApp] 404 GET /api/contents?type=directory&_=1582272988521 (127.0.0.1) 1.32ms referer=http://internal-a202f0609446511eaaa74020d1583377-1568446533.us-east-1.elb.amazonaws.com:8080/tree?\r\n[I 08:18:46.798 NotebookApp] Starting buffering for 77021263-d219-4458-aa86-4ad79285f8e4:86432548-a225-4331-a246-3445198a675c\r\nTraceback (most recent call last):\r\n  File \"/resources/scripts/backup_restore_config.py\", line 53, in <module>\r\n    os.makedirs(CONFIG_BACKUP_FOLDER)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 210, in makedirs\r\n    makedirs(head, mode, exist_ok)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 220, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 107] Transport endpoint is not connected: '/workspace/.workspace'\r\n2020-02-21 09:03:02,056 [INFO] Leak check: xfdesktop (mem=34578432.0 cpu=0.0); xfsettingsd (mem=17633280.0 cpu=0.0); xfce4-panel (mem=24084480.0 cpu=0.0)\r\nTraceback (most recent call last):\r\n  File \"/resources/scripts/backup_restore_config.py\", line 53, in <module>\r\n    os.makedirs(CONFIG_BACKUP_FOLDER)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 210, in makedirs\r\n    makedirs(head, mode, exist_ok)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 220, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 107] Transport endpoint is not connected: '/workspace/.workspace'\r\n2020-02-21 10:03:01,301 [INFO] Leak check: xfdesktop (mem=34578432.0 cpu=0.0); xfsettingsd (mem=17633280.0 cpu=0.0); xfce4-panel (mem=24084480.0 cpu=0.0)\r\nTraceback (most recent call last):\r\n  File \"/resources/scripts/backup_restore_config.py\", line 53, in <module>\r\n    os.makedirs(CONFIG_BACKUP_FOLDER)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 210, in makedirs\r\n    makedirs(head, mode, exist_ok)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 220, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 107] Transport endpoint is not connected: '/workspace/.workspace'\r\n2020-02-21 11:03:01,547 [INFO] Leak check: xfdesktop (mem=34578432.0 cpu=0.0); xfsettingsd (mem=17633280.0 cpu=0.0); xfce4-panel (mem=24084480.0 cpu=0.0)\r\nTraceback (most recent call last):\r\n  File \"/resources/scripts/backup_restore_config.py\", line 53, in <module>\r\n    os.makedirs(CONFIG_BACKUP_FOLDER)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 210, in makedirs\r\n    makedirs(head, mode, exist_ok)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 220, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 107] Transport endpoint is not connected: '/workspace/.workspace'\r\n2020-02-21 12:03:01,778 [INFO] Leak check: xfdesktop (mem=34578432.0 cpu=0.0); xfsettingsd (mem=17633280.0 cpu=0.0); xfce4-panel (mem=24084480.0 cpu=0.0)\r\nTraceback (most recent call last):\r\n  File \"/resources/scripts/backup_restore_config.py\", line 53, in <module>\r\n    os.makedirs(CONFIG_BACKUP_FOLDER)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 210, in makedirs\r\n    makedirs(head, mode, exist_ok)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 220, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 107] Transport endpoint is not connected: '/workspace/.workspace'\r\n2020-02-21 13:03:02,046 [INFO] Leak check: xfdesktop (mem=34578432.0 cpu=0.0); xfsettingsd (mem=17633280.0 cpu=0.0); xfce4-panel (mem=24084480.0 cpu=0.0)\r\nTraceback (most recent call last):\r\n  File \"/resources/scripts/backup_restore_config.py\", line 53, in <module>\r\n    os.makedirs(CONFIG_BACKUP_FOLDER)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 210, in makedirs\r\n    makedirs(head, mode, exist_ok)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 220, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 107] Transport endpoint is not connected: '/workspace/.workspace'\r\n2020-02-21 14:03:01,289 [INFO] Leak check: xfdesktop (mem=34578432.0 cpu=0.0); xfsettingsd (mem=17633280.0 cpu=0.0); xfce4-panel (mem=24084480.0 cpu=0.0)\r\nTraceback (most recent call last):\r\n  File \"/resources/scripts/backup_restore_config.py\", line 53, in <module>\r\n    os.makedirs(CONFIG_BACKUP_FOLDER)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 210, in makedirs\r\n    makedirs(head, mode, exist_ok)\r\n  File \"/opt/conda/lib/python3.6/os.py\", line 220, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 107] Transport endpoint is not connected: '/workspace/.workspace'\r\n2020-02-21 15:03:01,520 [INFO] Leak check: xfdesktop (mem=34578432.0 cpu=0.0); xfsettingsd (mem=17633280.0 cpu=0.0); xfce4-panel (mem=24084480.0 cpu=0.0)\r\n\r\n**YAML file is -** \r\n\r\n[ml.docx](https://github.com/ml-tooling/ml-workspace/files/4236826/ml.docx)\r\n","closed_by":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/34/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ml-tooling/ml-workspace/issues/34/timeline","performed_via_github_app":null,"state_reason":"completed"}