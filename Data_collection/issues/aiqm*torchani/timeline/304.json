[{"url":"https://api.github.com/repos/aiqm/torchani/issues/comments/526442596","html_url":"https://github.com/aiqm/torchani/issues/304#issuecomment-526442596","issue_url":"https://api.github.com/repos/aiqm/torchani/issues/304","id":526442596,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ0MjU5Ng==","user":{"login":"farhadrgh","id":13050245,"node_id":"MDQ6VXNlcjEzMDUwMjQ1","avatar_url":"https://avatars.githubusercontent.com/u/13050245?v=4","gravatar_id":"","url":"https://api.github.com/users/farhadrgh","html_url":"https://github.com/farhadrgh","followers_url":"https://api.github.com/users/farhadrgh/followers","following_url":"https://api.github.com/users/farhadrgh/following{/other_user}","gists_url":"https://api.github.com/users/farhadrgh/gists{/gist_id}","starred_url":"https://api.github.com/users/farhadrgh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/farhadrgh/subscriptions","organizations_url":"https://api.github.com/users/farhadrgh/orgs","repos_url":"https://api.github.com/users/farhadrgh/repos","events_url":"https://api.github.com/users/farhadrgh/events{/privacy}","received_events_url":"https://api.github.com/users/farhadrgh/received_events","type":"User","site_admin":false},"created_at":"2019-08-30T03:33:44Z","updated_at":"2019-08-30T03:33:44Z","author_association":"MEMBER","body":"I would need more clarification about your question. Are you training using a particular dataset that only includes [CHO, CHNO, CO, HO, and O]? What do you mean by 'over the boundary of energy list'? What script are you using for training?\r\n\r\nHere are a couple of general notes about training:\r\n- If you have a dataset with the molecules you have mentioned above, you can follow the example file in [here](https://github.com/aiqm/torchani/blob/master/examples/nnp_training.py).\r\n- The purpose of `energy_shifter` is to approximately shift the average of targets properties (molecular energies) to zero by finding Self Atomic Energies `SAE` through list square fitting.","reactions":{"url":"https://api.github.com/repos/aiqm/torchani/issues/comments/526442596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"farhadrgh","id":13050245,"node_id":"MDQ6VXNlcjEzMDUwMjQ1","avatar_url":"https://avatars.githubusercontent.com/u/13050245?v=4","gravatar_id":"","url":"https://api.github.com/users/farhadrgh","html_url":"https://github.com/farhadrgh","followers_url":"https://api.github.com/users/farhadrgh/followers","following_url":"https://api.github.com/users/farhadrgh/following{/other_user}","gists_url":"https://api.github.com/users/farhadrgh/gists{/gist_id}","starred_url":"https://api.github.com/users/farhadrgh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/farhadrgh/subscriptions","organizations_url":"https://api.github.com/users/farhadrgh/orgs","repos_url":"https://api.github.com/users/farhadrgh/repos","events_url":"https://api.github.com/users/farhadrgh/events{/privacy}","received_events_url":"https://api.github.com/users/farhadrgh/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/aiqm/torchani/issues/comments/526448111","html_url":"https://github.com/aiqm/torchani/issues/304#issuecomment-526448111","issue_url":"https://api.github.com/repos/aiqm/torchani/issues/304","id":526448111,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ0ODExMQ==","user":{"login":"tamaswells","id":30830824,"node_id":"MDQ6VXNlcjMwODMwODI0","avatar_url":"https://avatars.githubusercontent.com/u/30830824?v=4","gravatar_id":"","url":"https://api.github.com/users/tamaswells","html_url":"https://github.com/tamaswells","followers_url":"https://api.github.com/users/tamaswells/followers","following_url":"https://api.github.com/users/tamaswells/following{/other_user}","gists_url":"https://api.github.com/users/tamaswells/gists{/gist_id}","starred_url":"https://api.github.com/users/tamaswells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamaswells/subscriptions","organizations_url":"https://api.github.com/users/tamaswells/orgs","repos_url":"https://api.github.com/users/tamaswells/repos","events_url":"https://api.github.com/users/tamaswells/events{/privacy}","received_events_url":"https://api.github.com/users/tamaswells/received_events","type":"User","site_admin":false},"created_at":"2019-08-30T04:09:06Z","updated_at":"2019-08-30T04:09:06Z","author_association":"CONTRIBUTOR","body":"Hi\r\nI have modified your training script in order to utilize the trained network, where I still use the network framework containing \"HCNO\". Modifications are as follows:\r\n1. I defined a function to convert element string to species torch.tensor by function \"species_to_tensors\"\r\n2. I rewrote the class EnergyShifter since for H2O2, the species tensor is [[3,0,3,0]] while the energy self.self_energies in EnergyShifter.sae only contains two members. So I wrote a function fill_missing_energies to temporarily extend self.self_energies to a tensor containing four members. Besides, for molecule of only one specie, the dimension of self.self_energies is 0 and will make the operation self_energies = self.self_energies[species] crash.     \r\n3. Is it proper to use best.pt rather than latest.pt for the real practice?   \r\n  \r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n------------------ 原始邮件 ------------------\r\n发件人: \"Farhad Ramezanghorbani\"<notifications@github.com>;\r\n发送时间: 2019年8月30日(星期五) 中午11:33\r\n收件人: \"aiqm/torchani\"<torchani@noreply.github.com>;\r\n抄送: \"Xu Nan\"<pplivegw@foxmail.com>;\"Author\"<author@noreply.github.com>;\r\n主题: Re: [aiqm/torchani] how to use an identical network to train moleculeof different elements (#304)\r\n\r\n\r\n\r\n\r\nI would need more clarification about your question. Are you training using a particular dataset that only includes [CHO, CHNO, CO, HO, and O]? What do you mean by 'over the boundary of energy list'? What script are you using for training?\r\n \r\nHere are a couple of general notes about training:\r\n  \r\nIf you have a dataset with the molecules you have mentioned above, you can follow the example file in here.\r\n \r\nThe purpose of energy_shifter is to approximately shift the average of targets properties (molecular energies) to zero by finding Self Atomic Energies SAE through list square fitting.\r\n  \r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or mute the thread.","reactions":{"url":"https://api.github.com/repos/aiqm/torchani/issues/comments/526448111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tamaswells","id":30830824,"node_id":"MDQ6VXNlcjMwODMwODI0","avatar_url":"https://avatars.githubusercontent.com/u/30830824?v=4","gravatar_id":"","url":"https://api.github.com/users/tamaswells","html_url":"https://github.com/tamaswells","followers_url":"https://api.github.com/users/tamaswells/followers","following_url":"https://api.github.com/users/tamaswells/following{/other_user}","gists_url":"https://api.github.com/users/tamaswells/gists{/gist_id}","starred_url":"https://api.github.com/users/tamaswells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamaswells/subscriptions","organizations_url":"https://api.github.com/users/tamaswells/orgs","repos_url":"https://api.github.com/users/tamaswells/repos","events_url":"https://api.github.com/users/tamaswells/events{/privacy}","received_events_url":"https://api.github.com/users/tamaswells/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/aiqm/torchani/issues/comments/526495474","html_url":"https://github.com/aiqm/torchani/issues/304#issuecomment-526495474","issue_url":"https://api.github.com/repos/aiqm/torchani/issues/304","id":526495474,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ5NTQ3NA==","user":{"login":"tamaswells","id":30830824,"node_id":"MDQ6VXNlcjMwODMwODI0","avatar_url":"https://avatars.githubusercontent.com/u/30830824?v=4","gravatar_id":"","url":"https://api.github.com/users/tamaswells","html_url":"https://github.com/tamaswells","followers_url":"https://api.github.com/users/tamaswells/followers","following_url":"https://api.github.com/users/tamaswells/following{/other_user}","gists_url":"https://api.github.com/users/tamaswells/gists{/gist_id}","starred_url":"https://api.github.com/users/tamaswells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamaswells/subscriptions","organizations_url":"https://api.github.com/users/tamaswells/orgs","repos_url":"https://api.github.com/users/tamaswells/repos","events_url":"https://api.github.com/users/tamaswells/events{/privacy}","received_events_url":"https://api.github.com/users/tamaswells/received_events","type":"User","site_admin":false},"created_at":"2019-08-30T07:41:02Z","updated_at":"2019-08-30T07:41:02Z","author_association":"CONTRIBUTOR","body":"I am sorry the attached files of the replied email were missing. Could you give me your personal email address so I can seed you my files?  I intend to integrate torchANI into Lammps. Do you have any ideas for me?","reactions":{"url":"https://api.github.com/repos/aiqm/torchani/issues/comments/526495474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tamaswells","id":30830824,"node_id":"MDQ6VXNlcjMwODMwODI0","avatar_url":"https://avatars.githubusercontent.com/u/30830824?v=4","gravatar_id":"","url":"https://api.github.com/users/tamaswells","html_url":"https://github.com/tamaswells","followers_url":"https://api.github.com/users/tamaswells/followers","following_url":"https://api.github.com/users/tamaswells/following{/other_user}","gists_url":"https://api.github.com/users/tamaswells/gists{/gist_id}","starred_url":"https://api.github.com/users/tamaswells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamaswells/subscriptions","organizations_url":"https://api.github.com/users/tamaswells/orgs","repos_url":"https://api.github.com/users/tamaswells/repos","events_url":"https://api.github.com/users/tamaswells/events{/privacy}","received_events_url":"https://api.github.com/users/tamaswells/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/aiqm/torchani/issues/comments/527168889","html_url":"https://github.com/aiqm/torchani/issues/304#issuecomment-527168889","issue_url":"https://api.github.com/repos/aiqm/torchani/issues/304","id":527168889,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzE2ODg4OQ==","user":{"login":"farhadrgh","id":13050245,"node_id":"MDQ6VXNlcjEzMDUwMjQ1","avatar_url":"https://avatars.githubusercontent.com/u/13050245?v=4","gravatar_id":"","url":"https://api.github.com/users/farhadrgh","html_url":"https://github.com/farhadrgh","followers_url":"https://api.github.com/users/farhadrgh/followers","following_url":"https://api.github.com/users/farhadrgh/following{/other_user}","gists_url":"https://api.github.com/users/farhadrgh/gists{/gist_id}","starred_url":"https://api.github.com/users/farhadrgh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/farhadrgh/subscriptions","organizations_url":"https://api.github.com/users/farhadrgh/orgs","repos_url":"https://api.github.com/users/farhadrgh/repos","events_url":"https://api.github.com/users/farhadrgh/events{/privacy}","received_events_url":"https://api.github.com/users/farhadrgh/received_events","type":"User","site_admin":false},"created_at":"2019-09-02T14:33:09Z","updated_at":"2019-09-02T14:33:09Z","author_association":"MEMBER","body":"You can drag and drop the files on the bottom of comment session, or use GitHub Gist. My email address: farhad.ghorbani@gmail.com\r\n\r\nThe `best.pt` contains the best model trained. Therefore, it is the checkpoint you need to use for evaluating a trained model. `latest.pt` is the checkpoint used for resuming a training process.\r\n\r\n> I am sorry the attached files of the replied email were missing. Could you give me your personal email address so I can seed you my files? I intend to integrate torchANI into Lammps. Do you have any ideas for me?\r\n\r\nI would suggest taking a look at [ASE_ANI](https://github.com/isayev/ASE_ANI) interface which interfaces the ANI CUDA code (NeuroChem) with ASE.\r\n","reactions":{"url":"https://api.github.com/repos/aiqm/torchani/issues/comments/527168889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"farhadrgh","id":13050245,"node_id":"MDQ6VXNlcjEzMDUwMjQ1","avatar_url":"https://avatars.githubusercontent.com/u/13050245?v=4","gravatar_id":"","url":"https://api.github.com/users/farhadrgh","html_url":"https://github.com/farhadrgh","followers_url":"https://api.github.com/users/farhadrgh/followers","following_url":"https://api.github.com/users/farhadrgh/following{/other_user}","gists_url":"https://api.github.com/users/farhadrgh/gists{/gist_id}","starred_url":"https://api.github.com/users/farhadrgh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/farhadrgh/subscriptions","organizations_url":"https://api.github.com/users/farhadrgh/orgs","repos_url":"https://api.github.com/users/farhadrgh/repos","events_url":"https://api.github.com/users/farhadrgh/events{/privacy}","received_events_url":"https://api.github.com/users/farhadrgh/received_events","type":"User","site_admin":false}},{"id":2716104296,"node_id":"MDExOkNsb3NlZEV2ZW50MjcxNjEwNDI5Ng==","url":"https://api.github.com/repos/aiqm/torchani/issues/events/2716104296","actor":{"login":"farhadrgh","id":13050245,"node_id":"MDQ6VXNlcjEzMDUwMjQ1","avatar_url":"https://avatars.githubusercontent.com/u/13050245?v=4","gravatar_id":"","url":"https://api.github.com/users/farhadrgh","html_url":"https://github.com/farhadrgh","followers_url":"https://api.github.com/users/farhadrgh/followers","following_url":"https://api.github.com/users/farhadrgh/following{/other_user}","gists_url":"https://api.github.com/users/farhadrgh/gists{/gist_id}","starred_url":"https://api.github.com/users/farhadrgh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/farhadrgh/subscriptions","organizations_url":"https://api.github.com/users/farhadrgh/orgs","repos_url":"https://api.github.com/users/farhadrgh/repos","events_url":"https://api.github.com/users/farhadrgh/events{/privacy}","received_events_url":"https://api.github.com/users/farhadrgh/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-16T03:39:07Z","state_reason":null,"performed_via_github_app":null}]