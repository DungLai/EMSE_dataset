[{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1064671604","html_url":"https://github.com/Farama-Foundation/Miniworld/issues/53#issuecomment-1064671604","issue_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53","id":1064671604,"node_id":"IC_kwDOCLmp284_dZl0","user":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false},"created_at":"2022-03-11T01:10:51Z","updated_at":"2022-03-11T01:10:51Z","author_association":"CONTRIBUTOR","body":"I'm not able to reproduce this bug with the script you provided. Tested on a Linux machine with numpy 1.21.5 and also the latest 1.22.3. If you upgrade do numpy 1.22.3, does that fix the problem?","reactions":{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1064671604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1064752478","html_url":"https://github.com/Farama-Foundation/Miniworld/issues/53#issuecomment-1064752478","issue_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53","id":1064752478,"node_id":"IC_kwDOCLmp284_dtVe","user":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false},"created_at":"2022-03-11T04:08:53Z","updated_at":"2022-03-11T04:24:45Z","author_association":"NONE","body":"Colab's latest version unfortunately appears to be 1.21.5, so I can't test it on 1.22.3. \r\n\r\nHowever, I tried it again, along with the latest gym version 0.23 (which is what I was using when I reported the issue), and it threw the error. When I downgraded gym to 0.21, it worked fine. Any higher version of gym (0.22, 0.23) gives me the error. ","reactions":{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1064752478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1064771408","html_url":"https://github.com/Farama-Foundation/Miniworld/issues/53#issuecomment-1064771408","issue_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53","id":1064771408,"node_id":"IC_kwDOCLmp284_dx9Q","user":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false},"created_at":"2022-03-11T04:53:50Z","updated_at":"2022-03-11T04:53:50Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/6790637/157804482-8b18b605-c38f-4043-b493-10b24355d576.png)\r\n","reactions":{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1064771408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1064772708","html_url":"https://github.com/Farama-Foundation/Miniworld/issues/53#issuecomment-1064772708","issue_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53","id":1064772708,"node_id":"IC_kwDOCLmp284_dyRk","user":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false},"created_at":"2022-03-11T04:56:52Z","updated_at":"2022-03-11T04:56:52Z","author_association":"CONTRIBUTOR","body":"Might need you to investigate because I can't reproduce it on my end.","reactions":{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1064772708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1069818140","html_url":"https://github.com/Farama-Foundation/Miniworld/issues/53#issuecomment-1069818140","issue_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53","id":1069818140,"node_id":"IC_kwDOCLmp284_xCEc","user":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false},"created_at":"2022-03-17T01:36:30Z","updated_at":"2022-03-17T01:36:30Z","author_association":"NONE","body":"So, this is the offending line, https://github.com/maximecb/gym-miniworld/blob/5f821956eaf8931ec873b6a44d53e7a833e68c87/gym_miniworld/miniworld.py#L885 \r\n\r\n```\r\n           pos = self.rand.float(\r\n                low =[lx + ent.radius, 0, lz + ent.radius],\r\n                high=[hx - ent.radius, 0, hz - ent.radius]\r\n            )\r\n```\r\nIn case of TMazeRight (and other similar envs), the min_x, and max_x are set to the same values, and min_z and max_z set to the same values.\r\nIn which case, the low and high gives values as these:\r\nlow = [10.565685424949239, 0, 6.565685424949238]\r\nhigh = [9.434314575050761, 0, 5.434314575050762]\r\n\r\nwhich the np_random function does not allow anymore. If you instead use low =[lx - ent.radius, 0, lz - ent.radius] and high = [hx + ent.radius, 0, hz + ent.radius], this error goes away. I don't know enough of internal workings of the environment to suggest if this is a good fix or not.\r\n\r\nGym version: 0.23.1\r\nNumpy version: 1.21.5\r\n\r\n","reactions":{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1069818140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false}},{"id":6355371054,"node_id":"LE_lADOCLmp285FbH6ozwAAAAF6z0Qu","url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/events/6355371054","actor":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-04-01T22:00:19Z","label":{"name":"help wanted","color":"008672"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1214175688","html_url":"https://github.com/Farama-Foundation/Miniworld/issues/53#issuecomment-1214175688","issue_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53","id":1214175688,"node_id":"IC_kwDOCLmp285IXtnI","user":{"login":"pseudo-rnd-thoughts","id":14953262,"node_id":"MDQ6VXNlcjE0OTUzMjYy","avatar_url":"https://avatars.githubusercontent.com/u/14953262?v=4","gravatar_id":"","url":"https://api.github.com/users/pseudo-rnd-thoughts","html_url":"https://github.com/pseudo-rnd-thoughts","followers_url":"https://api.github.com/users/pseudo-rnd-thoughts/followers","following_url":"https://api.github.com/users/pseudo-rnd-thoughts/following{/other_user}","gists_url":"https://api.github.com/users/pseudo-rnd-thoughts/gists{/gist_id}","starred_url":"https://api.github.com/users/pseudo-rnd-thoughts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pseudo-rnd-thoughts/subscriptions","organizations_url":"https://api.github.com/users/pseudo-rnd-thoughts/orgs","repos_url":"https://api.github.com/users/pseudo-rnd-thoughts/repos","events_url":"https://api.github.com/users/pseudo-rnd-thoughts/events{/privacy}","received_events_url":"https://api.github.com/users/pseudo-rnd-thoughts/received_events","type":"User","site_admin":false},"created_at":"2022-08-13T15:19:08Z","updated_at":"2022-08-13T15:19:08Z","author_association":"MEMBER","body":"@amy12xx I have used your proposed solution. But the commit, isn't clear what the correct solution is https://github.com/Farama-Foundation/gym-miniworld/commit/de2e131209bbe1fcd1ac61df1ea2737b63f2f469\r\n","reactions":{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/comments/1214175688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pseudo-rnd-thoughts","id":14953262,"node_id":"MDQ6VXNlcjE0OTUzMjYy","avatar_url":"https://avatars.githubusercontent.com/u/14953262?v=4","gravatar_id":"","url":"https://api.github.com/users/pseudo-rnd-thoughts","html_url":"https://github.com/pseudo-rnd-thoughts","followers_url":"https://api.github.com/users/pseudo-rnd-thoughts/followers","following_url":"https://api.github.com/users/pseudo-rnd-thoughts/following{/other_user}","gists_url":"https://api.github.com/users/pseudo-rnd-thoughts/gists{/gist_id}","starred_url":"https://api.github.com/users/pseudo-rnd-thoughts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pseudo-rnd-thoughts/subscriptions","organizations_url":"https://api.github.com/users/pseudo-rnd-thoughts/orgs","repos_url":"https://api.github.com/users/pseudo-rnd-thoughts/repos","events_url":"https://api.github.com/users/pseudo-rnd-thoughts/events{/privacy}","received_events_url":"https://api.github.com/users/pseudo-rnd-thoughts/received_events","type":"User","site_admin":false}},{"id":7183502206,"node_id":"MEE_lADOCLmp285FbH6ozwAAAAGsK4t-","url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/events/7183502206","actor":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-13T15:19:08Z","performed_via_github_app":null},{"id":7183502207,"node_id":"SE_lADOCLmp285FbH6ozwAAAAGsK4t_","url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/events/7183502207","actor":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-13T15:19:08Z","performed_via_github_app":null},{"id":7603356858,"node_id":"CE_lADOCLmp285FbH6ozwAAAAHFMgS6","url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/events/7603356858","actor":{"login":"jkterry1","id":19422700,"node_id":"MDQ6VXNlcjE5NDIyNzAw","avatar_url":"https://avatars.githubusercontent.com/u/19422700?v=4","gravatar_id":"","url":"https://api.github.com/users/jkterry1","html_url":"https://github.com/jkterry1","followers_url":"https://api.github.com/users/jkterry1/followers","following_url":"https://api.github.com/users/jkterry1/following{/other_user}","gists_url":"https://api.github.com/users/jkterry1/gists{/gist_id}","starred_url":"https://api.github.com/users/jkterry1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkterry1/subscriptions","organizations_url":"https://api.github.com/users/jkterry1/orgs","repos_url":"https://api.github.com/users/jkterry1/repos","events_url":"https://api.github.com/users/jkterry1/events{/privacy}","received_events_url":"https://api.github.com/users/jkterry1/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-10-17T15:21:29Z","state_reason":null,"performed_via_github_app":null}]