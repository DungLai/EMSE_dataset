{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/56","repository_url":"https://api.github.com/repos/Farama-Foundation/Miniworld","labels_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/56/labels{/name}","comments_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/56/comments","events_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/56/events","html_url":"https://github.com/Farama-Foundation/Miniworld/issues/56","id":1207634681,"node_id":"I_kwDOCLmp285H-wr5","number":56,"title":"ValueError: high - low < 0","user":{"login":"whwang8","id":71288883,"node_id":"MDQ6VXNlcjcxMjg4ODgz","avatar_url":"https://avatars.githubusercontent.com/u/71288883?v=4","gravatar_id":"","url":"https://api.github.com/users/whwang8","html_url":"https://github.com/whwang8","followers_url":"https://api.github.com/users/whwang8/followers","following_url":"https://api.github.com/users/whwang8/following{/other_user}","gists_url":"https://api.github.com/users/whwang8/gists{/gist_id}","starred_url":"https://api.github.com/users/whwang8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whwang8/subscriptions","organizations_url":"https://api.github.com/users/whwang8/orgs","repos_url":"https://api.github.com/users/whwang8/repos","events_url":"https://api.github.com/users/whwang8/events{/privacy}","received_events_url":"https://api.github.com/users/whwang8/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-04-19T02:21:08Z","updated_at":"2022-04-19T02:46:16Z","closed_at":"2022-04-19T02:46:16Z","author_association":"NONE","active_lock_reason":null,"body":"Hello,\r\n\r\nI am very new to gym-miniworld and trying this out on MacOS Monterey, 12.2.1.\r\n\r\nI am using this command on the terminal:\r\npython3 run_tests.py\r\n\r\nAnd I initially got this output:\r\n2022-04-18 22:01:20.365 Python[57416:1430113] ApplePersistenceIgnoreState: Existing state will not be touched. New state will be written to /var/folders/4_/g2nfzmx935zc9j92ywczb8rc0000gn/T/org.python.python.savedState\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nTraceback (most recent call last):\r\n  File \"/Users/WilliamHwang/gym-miniworld/run_tests.py\", line 15, in <module>\r\n    obs, _, _, _ = env.step(0)\r\n  File \"/Users/WilliamHwang/Library/Python/3.9/lib/python/site-packages/gym/wrappers/order_enforcing.py\", line 12, in step\r\n    assert self._has_reset, \"Cannot call env.step() before calling reset()\"\r\nAssertionError: Cannot call env.step() before calling reset()\r\n\r\nAfter fixing this error by adding a call to env.reset() before the first call to env.step():\r\n\r\n# Try stepping a few times\r\nenv.reset()\r\nfor i in range(0, 10):\r\n    obs, _, _, _ = env.step(0)\r\n\r\nI am running into this output error:\r\n\r\n2022-04-18 22:10:41.972 Python[57709:1436825] ApplePersistenceIgnoreState: Existing state will not be touched. New state will be written to /var/folders/4_/g2nfzmx935zc9j92ywczb8rc0000gn/T/org.python.python.savedState\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nTesting \"MiniWorld-CollectHealth-v0\"\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\n/Users/WilliamHwang/Library/Python/3.9/lib/python/site-packages/gym/utils/seeding.py:47: DeprecationWarning: WARN: Function `rng.randint(low, [high, size, dtype])` is marked as deprecated and will be removed in the future. Please use `rng.integers(low, [high, size, dtype])` instead.\r\n  deprecation(\r\nTesting \"MiniWorld-FourRooms-v0\"\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nTesting \"MiniWorld-Hallway-v0\"\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nTesting \"MiniWorld-Maze-v0\"\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nFalling back to num_samples=4\r\nFalling back to non-multisampled frame buffer\r\nTraceback (most recent call last):\r\n  File \"/Users/WilliamHwang/gym-miniworld/run_tests.py\", line 72, in <module>\r\n    env.reset()\r\n  File \"/Users/WilliamHwang/Library/Python/3.9/lib/python/site-packages/gym/wrappers/order_enforcing.py\", line 18, in reset\r\n    return self.env.reset(**kwargs)\r\n  File \"/Users/WilliamHwang/gym-miniworld/gym_miniworld/miniworld.py\", line 555, in reset\r\n    self._gen_world()\r\n  File \"/Users/WilliamHwang/gym-miniworld/gym_miniworld/envs/maze.py\", line 104, in _gen_world\r\n    self.place_agent()\r\n  File \"/Users/WilliamHwang/gym-miniworld/gym_miniworld/miniworld.py\", line 923, in place_agent\r\n    return self.place_entity(\r\n  File \"/Users/WilliamHwang/gym-miniworld/gym_miniworld/miniworld.py\", line 885, in place_entity\r\n    pos = self.rand.float(\r\n  File \"/Users/WilliamHwang/gym-miniworld/gym_miniworld/random.py\", line 24, in float\r\n    return self.np_random.uniform(low, high, size=shape)\r\n  File \"_generator.pyx\", line 960, in numpy.random._generator.Generator.uniform\r\n  File \"_common.pyx\", line 579, in numpy.random._common.cont\r\n  File \"_common.pyx\", line 484, in numpy.random._common.cont_broadcast_2\r\n  File \"_common.pyx\", line 369, in numpy.random._common.check_array_constraint\r\nValueError: high - low < 0\r\n\r\nIs there a fix for this?\r\n\r\nSecondary question, would this be feasible for testing transfer learning of RL algorithms of robots/agents?\r\nMaybe using the T-maze and Y-maze environments?\r\n\r\nthanks\r\n\r\n\r\n","closed_by":{"login":"whwang8","id":71288883,"node_id":"MDQ6VXNlcjcxMjg4ODgz","avatar_url":"https://avatars.githubusercontent.com/u/71288883?v=4","gravatar_id":"","url":"https://api.github.com/users/whwang8","html_url":"https://github.com/whwang8","followers_url":"https://api.github.com/users/whwang8/followers","following_url":"https://api.github.com/users/whwang8/following{/other_user}","gists_url":"https://api.github.com/users/whwang8/gists{/gist_id}","starred_url":"https://api.github.com/users/whwang8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whwang8/subscriptions","organizations_url":"https://api.github.com/users/whwang8/orgs","repos_url":"https://api.github.com/users/whwang8/repos","events_url":"https://api.github.com/users/whwang8/events{/privacy}","received_events_url":"https://api.github.com/users/whwang8/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/56/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/56/timeline","performed_via_github_app":null,"state_reason":"completed"}