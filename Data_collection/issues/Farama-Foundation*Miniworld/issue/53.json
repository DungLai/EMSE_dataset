{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53","repository_url":"https://api.github.com/repos/Farama-Foundation/Miniworld","labels_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53/labels{/name}","comments_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53/comments","events_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53/events","html_url":"https://github.com/Farama-Foundation/Miniworld/issues/53","id":1164738216,"node_id":"I_kwDOCLmp285FbH6o","number":53,"title":"ValueError using the latest numpy (1.21.5)","user":{"login":"amy12xx","id":6790637,"node_id":"MDQ6VXNlcjY3OTA2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6790637?v=4","gravatar_id":"","url":"https://api.github.com/users/amy12xx","html_url":"https://github.com/amy12xx","followers_url":"https://api.github.com/users/amy12xx/followers","following_url":"https://api.github.com/users/amy12xx/following{/other_user}","gists_url":"https://api.github.com/users/amy12xx/gists{/gist_id}","starred_url":"https://api.github.com/users/amy12xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amy12xx/subscriptions","organizations_url":"https://api.github.com/users/amy12xx/orgs","repos_url":"https://api.github.com/users/amy12xx/repos","events_url":"https://api.github.com/users/amy12xx/events{/privacy}","received_events_url":"https://api.github.com/users/amy12xx/received_events","type":"User","site_admin":false},"labels":[{"id":1037461127,"node_id":"MDU6TGFiZWwxMDM3NDYxMTI3","url":"https://api.github.com/repos/Farama-Foundation/Miniworld/labels/help%20wanted","name":"help wanted","color":"008672","default":true,"description":"Extra attention is needed"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-03-10T04:28:13Z","updated_at":"2022-10-17T15:21:29Z","closed_at":"2022-10-17T15:21:29Z","author_association":"NONE","active_lock_reason":null,"body":"Similar to #51 I get an error on the following envs when using the latest numpy (1.21.5).  Works fine on version 1.20.\r\nTMazeLeft, TMazeRight, YMazeLeft, YMazeRight\r\n\r\nCode snippet to reproduce:\r\n```\r\nimport gym\r\nimport gym_miniworld\r\n\r\nenv = gym.make(\"MiniWorld-TMazeRight-v0\")\r\nenv.reset()\r\n```\r\n\r\nError:\r\n```\r\nFalling back to num_samples=1\r\nFalling back to num_samples=1\r\nTraceback (most recent call last):\r\n  File \"test_world.py\", line 4, in <module>\r\n    env = gym.make(\"MiniWorld-TMazeRight-v0\")\r\n  File \"/usr/local/lib/python3.7/dist-packages/gym/envs/registration.py\", line 676, in make\r\n    return registry.make(id, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/gym/envs/registration.py\", line 520, in make\r\n    return spec.make(**kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/gym/envs/registration.py\", line 140, in make\r\n    env = cls(**_kwargs)\r\n  File \"/content/gym-miniworld/gym_miniworld/envs/tmaze.py\", line 79, in __init__\r\n    super().__init__(goal_pos=[10, 0, 6])\r\n  File \"/content/gym-miniworld/gym_miniworld/envs/tmaze.py\", line 21, in __init__\r\n    **kwargs\r\n  File \"/content/gym-miniworld/gym_miniworld/miniworld.py\", line 523, in __init__\r\n    self.reset()\r\n  File \"/content/gym-miniworld/gym_miniworld/miniworld.py\", line 555, in reset\r\n    self._gen_world()\r\n  File \"/content/gym-miniworld/gym_miniworld/envs/tmaze.py\", line 48, in _gen_world\r\n    max_z=self.goal_pos[2],\r\n  File \"/content/gym-miniworld/gym_miniworld/miniworld.py\", line 887, in place_entity\r\n    high=[hx - ent.radius, 0, hz - ent.radius]\r\n  File \"/content/gym-miniworld/gym_miniworld/random.py\", line 24, in float\r\n    return self.np_random.uniform(low, high, size=shape)\r\n  File \"_generator.pyx\", line 958, in numpy.random._generator.Generator.uniform\r\n  File \"_common.pyx\", line 562, in numpy.random._common.cont\r\n  File \"_common.pyx\", line 467, in numpy.random._common.cont_broadcast_2\r\n  File \"_common.pyx\", line 350, in numpy.random._common.check_array_constraint\r\nValueError: high - low < 0\r\n```\r\n\r\nIt may have to do with how gym's random seeding is implemented. I find that numpy itself does not throw errors for the values passed (for e.g. np.random.uniform(low=[4,7], high=[3,6]) works). ","closed_by":{"login":"jkterry1","id":19422700,"node_id":"MDQ6VXNlcjE5NDIyNzAw","avatar_url":"https://avatars.githubusercontent.com/u/19422700?v=4","gravatar_id":"","url":"https://api.github.com/users/jkterry1","html_url":"https://github.com/jkterry1","followers_url":"https://api.github.com/users/jkterry1/followers","following_url":"https://api.github.com/users/jkterry1/following{/other_user}","gists_url":"https://api.github.com/users/jkterry1/gists{/gist_id}","starred_url":"https://api.github.com/users/jkterry1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkterry1/subscriptions","organizations_url":"https://api.github.com/users/jkterry1/orgs","repos_url":"https://api.github.com/users/jkterry1/repos","events_url":"https://api.github.com/users/jkterry1/events{/privacy}","received_events_url":"https://api.github.com/users/jkterry1/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Farama-Foundation/Miniworld/issues/53/timeline","performed_via_github_app":null,"state_reason":"completed"}