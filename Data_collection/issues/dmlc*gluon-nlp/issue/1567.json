{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1567","repository_url":"https://api.github.com/repos/dmlc/gluon-nlp","labels_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1567/labels{/name}","comments_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1567/comments","events_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1567/events","html_url":"https://github.com/dmlc/gluon-nlp/issues/1567","id":876780058,"node_id":"MDU6SXNzdWU4NzY3ODAwNTg=","number":1567,"title":"GPT2 tests mysteriously killed","user":{"login":"barry-jin","id":69359374,"node_id":"MDQ6VXNlcjY5MzU5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/69359374?v=4","gravatar_id":"","url":"https://api.github.com/users/barry-jin","html_url":"https://github.com/barry-jin","followers_url":"https://api.github.com/users/barry-jin/followers","following_url":"https://api.github.com/users/barry-jin/following{/other_user}","gists_url":"https://api.github.com/users/barry-jin/gists{/gist_id}","starred_url":"https://api.github.com/users/barry-jin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barry-jin/subscriptions","organizations_url":"https://api.github.com/users/barry-jin/orgs","repos_url":"https://api.github.com/users/barry-jin/repos","events_url":"https://api.github.com/users/barry-jin/events{/privacy}","received_events_url":"https://api.github.com/users/barry-jin/received_events","type":"User","site_admin":false},"labels":[{"id":890393501,"node_id":"MDU6TGFiZWw4OTAzOTM1MDE=","url":"https://api.github.com/repos/dmlc/gluon-nlp/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-05-05T19:48:03Z","updated_at":"2021-05-25T02:03:25Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"## Description\r\nGPT2 tests in tests/test_models.py is mysteriously killed. The was found in the recent [nightly tests](https://github.com/dmlc/gluon-nlp/actions/runs/811741483)(cu102-2.0.0b20210502 and cu102-2.0.0b20210504). \r\nBut, after I tried other MXNet nightly build prior to cu102-2.0.0b20210502, the error was still there. So, I suspect that some changes in other upstream packages resulted in this issues. Need more investigation. \r\n\r\n### Error Message\r\n```\r\nroot@ce877b5a6d9d:/workspace/gluon-nlp# python3 -m pytest --durations=50 --device='cpu' --verbose --runslow tests/test_models.py\r\nSetting module np/mx/python random seeds, use MXNET_MODULE_SEED=1945812666 to reproduce.\r\n==================================================================== test session starts =====================================================================\r\nplatform linux -- Python 3.6.9, pytest-6.2.3, py-1.10.0, pluggy-0.13.1 -- /usr/bin/python3\r\ncachedir: .pytest_cache\r\nrootdir: /workspace/gluon-nlp, configfile: pytest.ini\r\nplugins: cov-2.11.1, mock-3.6.0, flaky-3.7.0, env-0.6.2\r\ncollected 55 items                                                                                                                                           \r\n\r\ntests/test_models.py::test_list_backbone_names PASSED                                                                                                  [  1%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_albert_base_v2] PASSED                                                                             [  3%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_albert_large_v2] PASSED                                                                            [  5%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_albert_xlarge_v2] PASSED                                                                           [  7%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_albert_xxlarge_v2] PASSED                                                                          [  9%]\r\ntests/test_models.py::test_get_backbone[ctx0-gluon_en_cased_bert_base_v1] PASSED                                                                       [ 10%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_en_cased_bert_base] PASSED                                                                         [ 12%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_en_cased_bert_large] PASSED                                                                        [ 14%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_en_cased_bert_wwm_large] PASSED                                                                    [ 16%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_en_uncased_bert_base] PASSED                                                                       [ 18%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_en_uncased_bert_large] PASSED                                                                      [ 20%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_en_uncased_bert_wwm_large] PASSED                                                                  [ 21%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_multi_cased_bert_base] PASSED                                                                      [ 23%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_zh_bert_base] PASSED                                                                               [ 25%]\r\ntests/test_models.py::test_get_backbone[ctx0-gluon_electra_small_owt] PASSED                                                                           [ 27%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_electra_base] PASSED                                                                               [ 29%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_electra_large] PASSED                                                                              [ 30%]\r\ntests/test_models.py::test_get_backbone[ctx0-google_electra_small] PASSED                                                                              [ 32%]\r\ntests/test_models.py::test_get_backbone[ctx0-gpt2_124M] SKIPPED (Skipping GPT-2 test)                                                                  [ 34%]\r\ntests/test_models.py::test_get_backbone[ctx0-gpt2_1558M] SKIPPED (Skipping GPT-2 test)                                                                 [ 36%]\r\ntests/test_models.py::test_get_backbone[ctx0-gpt2_355M] Killed\r\n```\r\n\r\n## To Reproduce\r\n(If you developed your own code, please provide a short script that reproduces the error. For existing examples, please provide link.)\r\n\r\n### Steps to reproduce\r\n(Paste the commands you ran that produced the error.)\r\n\r\n1.\r\n2.\r\n\r\n## What have you tried to solve it?\r\n\r\n1.\r\n2.\r\n\r\n## Environment\r\n\r\nWe recommend using our script for collecting the diagnositc information. Run the following command and paste the outputs below:\r\n```\r\ncurl --retry 10 -s https://raw.githubusercontent.com/dmlc/gluon-nlp/master/tools/diagnose.py | python\r\n\r\n# paste outputs here\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1567/timeline","performed_via_github_app":null,"state_reason":null}