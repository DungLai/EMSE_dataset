{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1175","repository_url":"https://api.github.com/repos/dmlc/gluon-nlp","labels_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1175/labels{/name}","comments_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1175/comments","events_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1175/events","html_url":"https://github.com/dmlc/gluon-nlp/issues/1175","id":570254658,"node_id":"MDU6SXNzdWU1NzAyNTQ2NTg=","number":1175,"title":"BERT training script breaks with --verbose --raw","user":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"labels":[{"id":890393501,"node_id":"MDU6TGFiZWw4OTAzOTM1MDE=","url":"https://api.github.com/repos/dmlc/gluon-nlp/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-02-25T01:43:22Z","updated_at":"2020-02-25T01:43:22Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"python version: 3.6.9, using gluonnlp v0.9.x branch. \r\n```\r\n[1,0]<stderr>:is_random_next: False\r\n[1,0]<stderr>:masked_lm_positions: 4 15 16 41 44 45 51 54 61 65 66 69 70 72 80 85 98 108 110 131 136 138 144 152 162 166 169 177 185 206 220 223 232 241 243 253 260 268 272 281 282 290 291 29$ 300 304 306 311 314 327 345 348 356 358 364 376 379 386 389 394 399 404 406 408 409 414 415 429 436 444 446 447 454 469 479 484 491\r\n[1,0]<stderr>:masked_lm_labels: alt ##an isa cub , stage he in the governorate of empire ( - jewish to odessa he his he russian in studio ##ff cha arch , 1910 group to painted . was art . des$gner the within fine ##sari ##at bar ##ano ##vc . year had group society with the in temporary of to was up binding in a institute ( ##hu ) , ##mir male year \" in museum of ##grad . museum in to\r\n[1,0]<stderr>:\r\n[1,0]<stderr>:,)\r\n[1,0]<stderr>:--- Logging error ---\r\n[1,0]<stderr>:Traceback (most recent call last):\r\n[1,0]<stderr>:  File \"/usr/lib/python3.6/logging/__init__.py\", line 996, in emit\r\n[1,0]<stderr>:    stream.write(msg)\r\n[1,0]<stderr>:UnicodeEncodeError: 'ascii' codec can't encode character '\\u2018' in position 93: ordinal not in range(128)\r\n[1,0]<stderr>:Call stack:\r\n[1,0]<stderr>:  File \"run_pretraining.py\", line 474, in <module>\r\n[1,0]<stderr>:    num_batch_workers=args.num_batch_workers)\r\n[1,0]<stderr>:  File \"/data/gluon-nlp/scripts/bert/pretraining_utils.py\", line 233, in get_pretrain_data_text\r\n[1,0]<stderr>:    num_max_dataset_cached=num_max_dataset_cached)\r\n[1,0]<stderr>:  File \"/usr/local/lib/python3.6/dist-packages/gluonnlp/data/datasetloader.py\", line 396, in __init__\r\n[1,0]<stderr>:    initargs=[self._manager])\r\n[1,0]<stderr>:  File \"/usr/lib/python3.6/multiprocessing/context.py\", line 119, in Pool\r\n[1,0]<stderr>:    context=self.get_context())\r\n[1,0]<stderr>:  File \"/usr/lib/python3.6/multiprocessing/pool.py\", line 174, in __init__\r\n[1,0]<stderr>:    self._repopulate_pool()\r\n[1,0]<stderr>:  File \"/usr/lib/python3.6/multiprocessing/pool.py\", line 239, in _repopulate_pool\r\n[1,0]<stderr>:    w.start()\r\n[1,0]<stderr>:  File \"/usr/lib/python3.6/multiprocessing/process.py\", line 105, in start\r\n[1,0]<stderr>:    self._popen = self._Popen(self)\r\n[1,0]<stderr>:  File \"/usr/lib/python3.6/multiprocessing/context.py\", line 277, in _Popen\r\n[1,0]<stderr>:    return Popen(process_obj)\r\n[1,0]<stderr>:  File \"/usr/lib/python3.6/multiprocessing/popen_fork.py\", line 19, in __init__\r\n[1,0]<stderr>:    self._launch(process_obj)\r\n[1,0]<stderr>:  File \"/usr/lib/python3.6/multiprocessing/pop[1,0]<stderr>:en_fork.py\", line 73, in _launch\r\n[1,0]<stderr>:    code = process_obj._bootstrap()\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1175/timeline","performed_via_github_app":null,"state_reason":null}