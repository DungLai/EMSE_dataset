{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/496","repository_url":"https://api.github.com/repos/dmlc/gluon-nlp","labels_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/496/labels{/name}","comments_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/496/comments","events_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/496/events","html_url":"https://github.com/dmlc/gluon-nlp/issues/496","id":394855459,"node_id":"MDU6SXNzdWUzOTQ4NTU0NTk=","number":496,"title":"[BERT][API] Custom classes for Pre-training, QA and classification/regression","user":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"labels":[{"id":963101581,"node_id":"MDU6TGFiZWw5NjMxMDE1ODE=","url":"https://api.github.com/repos/dmlc/gluon-nlp/labels/discussion","name":"discussion","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-12-30T08:27:50Z","updated_at":"2020-02-29T13:05:12Z","closed_at":"2019-05-18T18:01:50Z","author_association":"MEMBER","active_lock_reason":null,"body":"Now we have a generic `BERTModel` class which can be configured to perform encoding, pooling and decoding. It always returns the sequence encoding result, plus some additional output depending on the configuration. However, we may consider providing BERT classes for specific tasks (following https://github.com/huggingface/pytorch-pretrained-BERT#overview). Quote:\r\n\r\n> - BertForPreTraining - BERT Transformer with masked language modeling head and next sentence prediction classifier on top (fully pre-trained)\r\n> - BertForSequenceClassification - BERT Transformer with a sequence classification head on top (BERT Transformer is pre-trained, the sequence classification head is only initialized and has to be trained)\r\n> - BertForQuestionAnswering - BERT Transformer with a token classification head on top (BERT Transformer is pre-trained, the token classification head is only initialized and has to be trained). (cc @fierceX)\r\n> - BertForFeatureExtraction...\r\n\r\nWhy? This makes future optimizations easier when properly hybridized. If we know the task ahead of time, the model can be defined such that only useful results are returned in `forward()`. For example, BERTForPreTraining only need to return decoding result and next sentence prediction results, and does not need to return sequence encoding result. Doing so will lead to better memory utilization and faster speed.\r\n\r\n@kenjewu ","closed_by":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/496/timeline","performed_via_github_app":null,"state_reason":"completed"}