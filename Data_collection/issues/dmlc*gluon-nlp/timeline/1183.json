[{"id":3128326904,"node_id":"MDEyOkxhYmVsZWRFdmVudDMxMjgzMjY5MDQ=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3128326904","actor":{"login":"kaonashi-tyc","id":11814502,"node_id":"MDQ6VXNlcjExODE0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/11814502?v=4","gravatar_id":"","url":"https://api.github.com/users/kaonashi-tyc","html_url":"https://github.com/kaonashi-tyc","followers_url":"https://api.github.com/users/kaonashi-tyc/followers","following_url":"https://api.github.com/users/kaonashi-tyc/following{/other_user}","gists_url":"https://api.github.com/users/kaonashi-tyc/gists{/gist_id}","starred_url":"https://api.github.com/users/kaonashi-tyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaonashi-tyc/subscriptions","organizations_url":"https://api.github.com/users/kaonashi-tyc/orgs","repos_url":"https://api.github.com/users/kaonashi-tyc/repos","events_url":"https://api.github.com/users/kaonashi-tyc/events{/privacy}","received_events_url":"https://api.github.com/users/kaonashi-tyc/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-13T21:47:21Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":3128326915,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzEyODMyNjkxNQ==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3128326915","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-13T21:47:21Z","performed_via_github_app":null},{"id":3128326919,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMjgzMjY5MTk=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3128326919","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-13T21:47:21Z","performed_via_github_app":null},{"id":3128333456,"node_id":"MDE3OlVuc3Vic2NyaWJlZEV2ZW50MzEyODMzMzQ1Ng==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3128333456","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"unsubscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-13T21:49:45Z","performed_via_github_app":null},{"id":3128337399,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzEyODMzNzM5OQ==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3128337399","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-13T21:51:10Z","performed_via_github_app":null},{"id":3128337401,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMjgzMzc0MDE=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3128337401","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-13T21:51:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/619458040","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-619458040","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":619458040,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTQ1ODA0MA==","user":{"login":"kaonashi-tyc","id":11814502,"node_id":"MDQ6VXNlcjExODE0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/11814502?v=4","gravatar_id":"","url":"https://api.github.com/users/kaonashi-tyc","html_url":"https://github.com/kaonashi-tyc","followers_url":"https://api.github.com/users/kaonashi-tyc/followers","following_url":"https://api.github.com/users/kaonashi-tyc/following{/other_user}","gists_url":"https://api.github.com/users/kaonashi-tyc/gists{/gist_id}","starred_url":"https://api.github.com/users/kaonashi-tyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaonashi-tyc/subscriptions","organizations_url":"https://api.github.com/users/kaonashi-tyc/orgs","repos_url":"https://api.github.com/users/kaonashi-tyc/repos","events_url":"https://api.github.com/users/kaonashi-tyc/events{/privacy}","received_events_url":"https://api.github.com/users/kaonashi-tyc/received_events","type":"User","site_admin":false},"created_at":"2020-04-26T00:10:48Z","updated_at":"2020-04-26T00:10:48Z","author_association":"NONE","body":"Hi, any updates on this issue?","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/619458040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kaonashi-tyc","id":11814502,"node_id":"MDQ6VXNlcjExODE0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/11814502?v=4","gravatar_id":"","url":"https://api.github.com/users/kaonashi-tyc","html_url":"https://github.com/kaonashi-tyc","followers_url":"https://api.github.com/users/kaonashi-tyc/followers","following_url":"https://api.github.com/users/kaonashi-tyc/following{/other_user}","gists_url":"https://api.github.com/users/kaonashi-tyc/gists{/gist_id}","starred_url":"https://api.github.com/users/kaonashi-tyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaonashi-tyc/subscriptions","organizations_url":"https://api.github.com/users/kaonashi-tyc/orgs","repos_url":"https://api.github.com/users/kaonashi-tyc/repos","events_url":"https://api.github.com/users/kaonashi-tyc/events{/privacy}","received_events_url":"https://api.github.com/users/kaonashi-tyc/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/619657211","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-619657211","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":619657211,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY1NzIxMQ==","user":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"created_at":"2020-04-27T01:10:42Z","updated_at":"2020-04-27T01:10:42Z","author_association":"MEMBER","body":"@leezu was there any known inconsistency issue with the refactoring PR? ","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/619657211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false}},{"id":3273600327,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI3MzYwMDMyNw==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3273600327","actor":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-27T01:10:42Z","performed_via_github_app":null},{"id":3273600329,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyNzM2MDAzMjk=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3273600329","actor":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-27T01:10:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/620240938","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-620240938","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":620240938,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDI0MDkzOA==","user":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"created_at":"2020-04-27T21:20:08Z","updated_at":"2020-04-27T21:20:08Z","author_association":"MEMBER","body":"dependencies:\r\n```\r\nubuntu@ip-172-31-57-164:~$ pip3 list | grep mxnet\r\nmxnet-cu100         1.6.0\r\nubuntu@ip-172-31-57-164:~$ pip3 list | grep torch\r\ntorch               1.5.0\r\nubuntu@ip-172-31-57-164:~$ pip3 list | grep fairseq\r\nfairseq             0.9.0\r\n```\r\n```\r\nwget https://dl.fbaipublicfiles.com/fairseq/models/xlmr.base.tar.gz\r\npython3 convert_xlmr_model_to_gluon.py --ckpt_dir /home/ubuntu/src/xlmr.base/ --verbose\r\n\r\n```\r\nwith commit 4e555394baf557e5e55e1ae24a2147b03dce2213\r\n\r\n```\r\ntorch.Size([514, 768])\r\nstdev =  6.2218635e-07\r\nstdev =  2.409921e-07\r\nstdev =  2.4556107e-07\r\nstdev =  2.0841426e-07\r\nstdev =  2.5782302e-07\r\n```\r\n\r\n\r\nwith commit 184a000\r\n```\r\n\r\ntorch.Size([514, 768])\r\nstdev =  0.00013029973\r\nstdev =  0.00016538663\r\n\r\n*** Maximum errors for vector of size 4608:  rtol=0.001, atol=0.001\r\n\r\n  1: Error 4.499456  Location of error: (0, 1, 152), a=-0.09637016, b=-0.10132553\r\n  2: Error 1.222937  Location of error: (0, 4, 152), a=0.10587245, b=0.10452169\r\nstdev =  8.325626e-05\r\nstdev =  0.00012943218\r\n\r\n*** Maximum errors for vector of size 5376:  rtol=0.001, atol=0.001\r\n\r\n  1: Error 1.608742  Location of error: (0, 4, 145), a=-0.08318494, b=-0.08493032\r\n  2: Error 1.293719  Location of error: (0, 5, 152), a=0.03806081, b=0.03671959\r\n  3: Error 1.101096  Location of error: (0, 4, 459), a=-0.71366501, b=-0.71555400\r\nstdev =  8.076113e-05\r\n```","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/620240938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/621659400","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-621659400","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":621659400,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTY1OTQwMA==","user":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false},"created_at":"2020-04-30T07:19:33Z","updated_at":"2020-04-30T07:22:00Z","author_association":"CONTRIBUTOR","body":"We can fix commit 184a000 as follows\r\n\r\nBut there are more bugs introduced later\r\n\r\n``` diff\r\ncommit 2a964133c43516db5dc97ae320e80c337b0317e8 (HEAD -> fixfairseq, ec2/fixfairseq)\r\nAuthor: Leonard Lausen <lausen@amazon.com>\r\nDate:   Thu Apr 30 07:02:55 2020 +0000\r\n\r\n    Fix layer_norm_eps in BERTEncoder\r\n\r\ndiff --git a/src/gluonnlp/model/bert.py b/src/gluonnlp/model/bert.py\r\nindex 27bea07d0..ec234c5b3 100644\r\n--- a/src/gluonnlp/model/bert.py\r\n+++ b/src/gluonnlp/model/bert.py\r\n@@ -112,11 +112,12 @@ class BERTEncoder(HybridBlock, Seq2SeqEncoder):\r\n         self._output_attention = output_attention\r\n         self._output_all_encodings = output_all_encodings\r\n         self._dropout = dropout\r\n+        self._layer_norm_eps = layer_norm_eps\r\n\r\n         with self.name_scope():\r\n             if dropout:\r\n                 self.dropout_layer = nn.Dropout(rate=dropout)\r\n-            self.layer_norm = nn.LayerNorm(in_channels=units, epsilon=1e-12)\r\n+            self.layer_norm = nn.LayerNorm(in_channels=units, epsilon=self._layer_norm_eps)\r\n             self.position_weight = self.params.get('position_weight', shape=(max_length, units),\r\n                                                    init=weight_initializer)\r\n             self.transformer_cells = nn.HybridSequential()\r\n@@ -344,7 +345,7 @@ class BERTModel(HybridBlock):\r\n             decoder = nn.HybridSequential(prefix=prefix)\r\n             decoder.add(nn.Dense(units, flatten=False))\r\n             decoder.add(GELU())\r\n-            decoder.add(nn.LayerNorm(in_channels=units, epsilon=1e-12))\r\n+            decoder.add(nn.LayerNorm(in_channels=units, epsilon=self.encoder._layer_norm_eps))\r\n             decoder.add(nn.Dense(vocab_size, flatten=False, params=embed.collect_params()))\r\n         assert decoder[3].weight == list(embed.collect_params().values())[0], \\\r\n             'The weights of word embedding are not tied with those of decoder'\r\n```\r\n\r\nWith that fix, we get \r\n\r\n```\r\nstdev =  3.8439632e-07\r\nstdev =  2.3018535e-07\r\nstdev =  2.380526e-07\r\nstdev =  2.1728458e-07\r\nstdev =  5.5794425e-07\r\n```","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/621659400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/622034975","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-622034975","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":622034975,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjAzNDk3NQ==","user":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false},"created_at":"2020-04-30T18:47:35Z","updated_at":"2020-04-30T18:47:35Z","author_association":"CONTRIBUTOR","body":"@eric-haibin-lin @kaonashi-tyc: @acphile helped to investigate which commit introduces the regression (after the layer_norm eps fix is applied). He finds that 75c29a3518ee42b98cc651b6922cbae85d2e961e is the first bad commit\r\nwhere regression still occurs after modifying src/gluonnlp/model/bert.py\r\n","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/622034975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false}},{"id":3290867601,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI5MDg2NzYwMQ==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3290867601","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-30T18:47:35Z","performed_via_github_app":null},{"id":3290867604,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyOTA4Njc2MDQ=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3290867604","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-30T18:47:35Z","performed_via_github_app":null},{"id":3290867610,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI5MDg2NzYxMA==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3290867610","actor":{"login":"kaonashi-tyc","id":11814502,"node_id":"MDQ6VXNlcjExODE0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/11814502?v=4","gravatar_id":"","url":"https://api.github.com/users/kaonashi-tyc","html_url":"https://github.com/kaonashi-tyc","followers_url":"https://api.github.com/users/kaonashi-tyc/followers","following_url":"https://api.github.com/users/kaonashi-tyc/following{/other_user}","gists_url":"https://api.github.com/users/kaonashi-tyc/gists{/gist_id}","starred_url":"https://api.github.com/users/kaonashi-tyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaonashi-tyc/subscriptions","organizations_url":"https://api.github.com/users/kaonashi-tyc/orgs","repos_url":"https://api.github.com/users/kaonashi-tyc/repos","events_url":"https://api.github.com/users/kaonashi-tyc/events{/privacy}","received_events_url":"https://api.github.com/users/kaonashi-tyc/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-30T18:47:35Z","performed_via_github_app":null},{"id":3290867611,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyOTA4Njc2MTE=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3290867611","actor":{"login":"kaonashi-tyc","id":11814502,"node_id":"MDQ6VXNlcjExODE0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/11814502?v=4","gravatar_id":"","url":"https://api.github.com/users/kaonashi-tyc","html_url":"https://github.com/kaonashi-tyc","followers_url":"https://api.github.com/users/kaonashi-tyc/followers","following_url":"https://api.github.com/users/kaonashi-tyc/following{/other_user}","gists_url":"https://api.github.com/users/kaonashi-tyc/gists{/gist_id}","starred_url":"https://api.github.com/users/kaonashi-tyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaonashi-tyc/subscriptions","organizations_url":"https://api.github.com/users/kaonashi-tyc/orgs","repos_url":"https://api.github.com/users/kaonashi-tyc/repos","events_url":"https://api.github.com/users/kaonashi-tyc/events{/privacy}","received_events_url":"https://api.github.com/users/kaonashi-tyc/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-30T18:47:35Z","performed_via_github_app":null},{"id":3290867618,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI5MDg2NzYxOA==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3290867618","actor":{"login":"acphile","id":24974319,"node_id":"MDQ6VXNlcjI0OTc0MzE5","avatar_url":"https://avatars.githubusercontent.com/u/24974319?v=4","gravatar_id":"","url":"https://api.github.com/users/acphile","html_url":"https://github.com/acphile","followers_url":"https://api.github.com/users/acphile/followers","following_url":"https://api.github.com/users/acphile/following{/other_user}","gists_url":"https://api.github.com/users/acphile/gists{/gist_id}","starred_url":"https://api.github.com/users/acphile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acphile/subscriptions","organizations_url":"https://api.github.com/users/acphile/orgs","repos_url":"https://api.github.com/users/acphile/repos","events_url":"https://api.github.com/users/acphile/events{/privacy}","received_events_url":"https://api.github.com/users/acphile/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-30T18:47:35Z","performed_via_github_app":null},{"id":3290867619,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyOTA4Njc2MTk=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3290867619","actor":{"login":"acphile","id":24974319,"node_id":"MDQ6VXNlcjI0OTc0MzE5","avatar_url":"https://avatars.githubusercontent.com/u/24974319?v=4","gravatar_id":"","url":"https://api.github.com/users/acphile","html_url":"https://github.com/acphile","followers_url":"https://api.github.com/users/acphile/followers","following_url":"https://api.github.com/users/acphile/following{/other_user}","gists_url":"https://api.github.com/users/acphile/gists{/gist_id}","starred_url":"https://api.github.com/users/acphile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acphile/subscriptions","organizations_url":"https://api.github.com/users/acphile/orgs","repos_url":"https://api.github.com/users/acphile/repos","events_url":"https://api.github.com/users/acphile/events{/privacy}","received_events_url":"https://api.github.com/users/acphile/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-30T18:47:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/622087763","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-622087763","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":622087763,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjA4Nzc2Mw==","user":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"created_at":"2020-04-30T20:19:57Z","updated_at":"2020-04-30T20:19:57Z","author_association":"MEMBER","body":"Maybe because we switched to softmax with length, which assigns exact 0 to the masked position, where the older version assigns a number very close to 0...","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/622087763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/660218865","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-660218865","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":660218865,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDIxODg2NQ==","user":{"login":"kaonashi-tyc","id":11814502,"node_id":"MDQ6VXNlcjExODE0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/11814502?v=4","gravatar_id":"","url":"https://api.github.com/users/kaonashi-tyc","html_url":"https://github.com/kaonashi-tyc","followers_url":"https://api.github.com/users/kaonashi-tyc/followers","following_url":"https://api.github.com/users/kaonashi-tyc/following{/other_user}","gists_url":"https://api.github.com/users/kaonashi-tyc/gists{/gist_id}","starred_url":"https://api.github.com/users/kaonashi-tyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaonashi-tyc/subscriptions","organizations_url":"https://api.github.com/users/kaonashi-tyc/orgs","repos_url":"https://api.github.com/users/kaonashi-tyc/repos","events_url":"https://api.github.com/users/kaonashi-tyc/events{/privacy}","received_events_url":"https://api.github.com/users/kaonashi-tyc/received_events","type":"User","site_admin":false},"created_at":"2020-07-17T16:49:54Z","updated_at":"2020-07-17T16:49:54Z","author_association":"NONE","body":"Just check-back, is this issue resolved as of now?","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/660218865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kaonashi-tyc","id":11814502,"node_id":"MDQ6VXNlcjExODE0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/11814502?v=4","gravatar_id":"","url":"https://api.github.com/users/kaonashi-tyc","html_url":"https://github.com/kaonashi-tyc","followers_url":"https://api.github.com/users/kaonashi-tyc/followers","following_url":"https://api.github.com/users/kaonashi-tyc/following{/other_user}","gists_url":"https://api.github.com/users/kaonashi-tyc/gists{/gist_id}","starred_url":"https://api.github.com/users/kaonashi-tyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaonashi-tyc/subscriptions","organizations_url":"https://api.github.com/users/kaonashi-tyc/orgs","repos_url":"https://api.github.com/users/kaonashi-tyc/repos","events_url":"https://api.github.com/users/kaonashi-tyc/events{/privacy}","received_events_url":"https://api.github.com/users/kaonashi-tyc/received_events","type":"User","site_admin":false}},{"id":3563175941,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQzNTYzMTc1OTQx","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3563175941","actor":{"login":"szha","id":2626883,"node_id":"MDQ6VXNlcjI2MjY4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2626883?v=4","gravatar_id":"","url":"https://api.github.com/users/szha","html_url":"https://github.com/szha","followers_url":"https://api.github.com/users/szha/followers","following_url":"https://api.github.com/users/szha/following{/other_user}","gists_url":"https://api.github.com/users/szha/gists{/gist_id}","starred_url":"https://api.github.com/users/szha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szha/subscriptions","organizations_url":"https://api.github.com/users/szha/orgs","repos_url":"https://api.github.com/users/szha/repos","events_url":"https://api.github.com/users/szha/events{/privacy}","received_events_url":"https://api.github.com/users/szha/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-07-19T21:44:16Z","assignee":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/668930856","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-668930856","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":668930856,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODkzMDg1Ng==","user":{"login":"szha","id":2626883,"node_id":"MDQ6VXNlcjI2MjY4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2626883?v=4","gravatar_id":"","url":"https://api.github.com/users/szha","html_url":"https://github.com/szha","followers_url":"https://api.github.com/users/szha/followers","following_url":"https://api.github.com/users/szha/following{/other_user}","gists_url":"https://api.github.com/users/szha/gists{/gist_id}","starred_url":"https://api.github.com/users/szha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szha/subscriptions","organizations_url":"https://api.github.com/users/szha/orgs","repos_url":"https://api.github.com/users/szha/repos","events_url":"https://api.github.com/users/szha/events{/privacy}","received_events_url":"https://api.github.com/users/szha/received_events","type":"User","site_admin":false},"created_at":"2020-08-05T02:04:09Z","updated_at":"2020-08-05T02:04:09Z","author_association":"MEMBER","body":"We found some similar issue in GluonNLP numpy version and came to this fix: https://github.com/apache/incubator-mxnet/pull/18827. Let's verify if this patch fixes this problem too.","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/668930856/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"szha","id":2626883,"node_id":"MDQ6VXNlcjI2MjY4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2626883?v=4","gravatar_id":"","url":"https://api.github.com/users/szha","html_url":"https://github.com/szha","followers_url":"https://api.github.com/users/szha/followers","following_url":"https://api.github.com/users/szha/following{/other_user}","gists_url":"https://api.github.com/users/szha/gists{/gist_id}","starred_url":"https://api.github.com/users/szha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szha/subscriptions","organizations_url":"https://api.github.com/users/szha/orgs","repos_url":"https://api.github.com/users/szha/repos","events_url":"https://api.github.com/users/szha/events{/privacy}","received_events_url":"https://api.github.com/users/szha/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/670707485","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-670707485","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":670707485,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDcwNzQ4NQ==","user":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"created_at":"2020-08-07T20:50:19Z","updated_at":"2020-08-07T20:50:19Z","author_association":"MEMBER","body":"@barry-jin could you help test it with latest mxnet and see if the issue persist? ","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/670707485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false}},{"id":3634723297,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYzNDcyMzI5Nw==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3634723297","actor":{"login":"barry-jin","id":69359374,"node_id":"MDQ6VXNlcjY5MzU5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/69359374?v=4","gravatar_id":"","url":"https://api.github.com/users/barry-jin","html_url":"https://github.com/barry-jin","followers_url":"https://api.github.com/users/barry-jin/followers","following_url":"https://api.github.com/users/barry-jin/following{/other_user}","gists_url":"https://api.github.com/users/barry-jin/gists{/gist_id}","starred_url":"https://api.github.com/users/barry-jin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barry-jin/subscriptions","organizations_url":"https://api.github.com/users/barry-jin/orgs","repos_url":"https://api.github.com/users/barry-jin/repos","events_url":"https://api.github.com/users/barry-jin/events{/privacy}","received_events_url":"https://api.github.com/users/barry-jin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-07T20:50:19Z","performed_via_github_app":null},{"id":3634723299,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MzQ3MjMyOTk=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3634723299","actor":{"login":"barry-jin","id":69359374,"node_id":"MDQ6VXNlcjY5MzU5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/69359374?v=4","gravatar_id":"","url":"https://api.github.com/users/barry-jin","html_url":"https://github.com/barry-jin","followers_url":"https://api.github.com/users/barry-jin/followers","following_url":"https://api.github.com/users/barry-jin/following{/other_user}","gists_url":"https://api.github.com/users/barry-jin/gists{/gist_id}","starred_url":"https://api.github.com/users/barry-jin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barry-jin/subscriptions","organizations_url":"https://api.github.com/users/barry-jin/orgs","repos_url":"https://api.github.com/users/barry-jin/repos","events_url":"https://api.github.com/users/barry-jin/events{/privacy}","received_events_url":"https://api.github.com/users/barry-jin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-07T20:50:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/670708733","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-670708733","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":670708733,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDcwODczMw==","user":{"login":"barry-jin","id":69359374,"node_id":"MDQ6VXNlcjY5MzU5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/69359374?v=4","gravatar_id":"","url":"https://api.github.com/users/barry-jin","html_url":"https://github.com/barry-jin","followers_url":"https://api.github.com/users/barry-jin/followers","following_url":"https://api.github.com/users/barry-jin/following{/other_user}","gists_url":"https://api.github.com/users/barry-jin/gists{/gist_id}","starred_url":"https://api.github.com/users/barry-jin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barry-jin/subscriptions","organizations_url":"https://api.github.com/users/barry-jin/orgs","repos_url":"https://api.github.com/users/barry-jin/repos","events_url":"https://api.github.com/users/barry-jin/events{/privacy}","received_events_url":"https://api.github.com/users/barry-jin/received_events","type":"User","site_admin":false},"created_at":"2020-08-07T20:53:56Z","updated_at":"2020-08-07T20:53:56Z","author_association":"CONTRIBUTOR","body":"@eric-haibin-lin Sure. ","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/670708733/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"barry-jin","id":69359374,"node_id":"MDQ6VXNlcjY5MzU5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/69359374?v=4","gravatar_id":"","url":"https://api.github.com/users/barry-jin","html_url":"https://github.com/barry-jin","followers_url":"https://api.github.com/users/barry-jin/followers","following_url":"https://api.github.com/users/barry-jin/following{/other_user}","gists_url":"https://api.github.com/users/barry-jin/gists{/gist_id}","starred_url":"https://api.github.com/users/barry-jin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barry-jin/subscriptions","organizations_url":"https://api.github.com/users/barry-jin/orgs","repos_url":"https://api.github.com/users/barry-jin/repos","events_url":"https://api.github.com/users/barry-jin/events{/privacy}","received_events_url":"https://api.github.com/users/barry-jin/received_events","type":"User","site_admin":false}},{"id":3634732396,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYzNDczMjM5Ng==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3634732396","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-07T20:53:56Z","performed_via_github_app":null},{"id":3634732399,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MzQ3MzIzOTk=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/3634732399","actor":{"login":"eric-haibin-lin","id":5545640,"node_id":"MDQ6VXNlcjU1NDU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/5545640?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-haibin-lin","html_url":"https://github.com/eric-haibin-lin","followers_url":"https://api.github.com/users/eric-haibin-lin/followers","following_url":"https://api.github.com/users/eric-haibin-lin/following{/other_user}","gists_url":"https://api.github.com/users/eric-haibin-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-haibin-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-haibin-lin/subscriptions","organizations_url":"https://api.github.com/users/eric-haibin-lin/orgs","repos_url":"https://api.github.com/users/eric-haibin-lin/repos","events_url":"https://api.github.com/users/eric-haibin-lin/events{/privacy}","received_events_url":"https://api.github.com/users/eric-haibin-lin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-07T20:53:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/670771048","html_url":"https://github.com/dmlc/gluon-nlp/issues/1183#issuecomment-670771048","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1183","id":670771048,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc3MTA0OA==","user":{"login":"barry-jin","id":69359374,"node_id":"MDQ6VXNlcjY5MzU5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/69359374?v=4","gravatar_id":"","url":"https://api.github.com/users/barry-jin","html_url":"https://github.com/barry-jin","followers_url":"https://api.github.com/users/barry-jin/followers","following_url":"https://api.github.com/users/barry-jin/following{/other_user}","gists_url":"https://api.github.com/users/barry-jin/gists{/gist_id}","starred_url":"https://api.github.com/users/barry-jin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barry-jin/subscriptions","organizations_url":"https://api.github.com/users/barry-jin/orgs","repos_url":"https://api.github.com/users/barry-jin/repos","events_url":"https://api.github.com/users/barry-jin/events{/privacy}","received_events_url":"https://api.github.com/users/barry-jin/received_events","type":"User","site_admin":false},"created_at":"2020-08-07T22:35:52Z","updated_at":"2020-08-07T22:35:52Z","author_association":"CONTRIBUTOR","body":"Dependencies:\r\n```\r\nubuntu@ip-172-31-20-128:~$ pip3 list | grep mxnet\r\nmxnet-cu102         1.6.0\r\nubuntu@ip-172-31-20-128:~$ pip3 list | grep torch\r\ntorch               1.6.0\r\nubuntu@ip-172-31-20-128:~$ pip3 list | grep fairseq\r\nfairseq             0.9.0\r\n```\r\n\r\nSteps: \r\n```\r\nwget https://dl.fbaipublicfiles.com/fairseq/models/xlmr.base.tar.gz\r\ntar -xzvf xmlr.base.tar.gz\r\npython3 convert_xlmr_model_to_gluon.py --ckpt_dir /home/ubuntu/tmp/xlmr.base/ --verbose\r\n```\r\n\r\nOutput: \r\n```\r\ntorch.Size([514, 768])\r\nstdev =  0.19624774\r\n\r\n*** Maximum errors for vector of size 3840:  rtol=0.001, atol=0.001\r\n\r\n  1: Error 1004.471985  Location of error: (0, 3, 152), a=1.01276755, b=-1.85499024\r\n  2: Error 704.276367  Location of error: (0, 4, 588), a=1.44983697, b=7.28421259\r\n  3: Error 647.054993  Location of error: (0, 3, 465), a=-0.56997108, b=0.21840222\r\n  4: Error 600.453857  Location of error: (0, 0, 588), a=1.60323966, b=5.51549196\r\n  5: Error 538.982544  Location of error: (0, 2, 749), a=-0.70366699, b=-0.10700862\r\n  6: Error 522.929871  Location of error: (0, 2, 465), a=-0.22267099, b=0.62938124\r\n  7: Error 508.801910  Location of error: (0, 3, 467), a=0.50823474, b=-0.00115474\r\n  8: Error 508.074127  Location of error: (0, 2, 459), a=-0.04906178, b=-1.13256073\r\n  9: Error 489.671600  Location of error: (0, 2, 152), a=0.31114697, b=-0.34982315\r\n 10: Error 481.318054  Location of error: (0, 2, 145), a=1.19826555, b=0.48399293\r\nstdev =  0.20739098\r\n\r\n*** Maximum errors for vector of size 4608:  rtol=0.001, atol=0.001\r\n\r\n  1: Error 1183.268433  Location of error: (0, 2, 588), a=2.24659586, b=-5.80201578\r\n  2: Error 1161.049805  Location of error: (0, 4, 588), a=2.24659729, b=-6.74044371\r\n  3: Error 928.264038  Location of error: (0, 1, 152), a=-1.12364161, b=-0.10132299\r\n  4: Error 601.523010  Location of error: (0, 2, 259), a=-0.30029136, b=0.75595784\r\n  5: Error 580.307129  Location of error: (0, 2, 145), a=-0.06280632, b=1.23304677\r\n  6: Error 566.850525  Location of error: (0, 3, 145), a=0.53026021, b=-0.08447501\r\n  7: Error 517.987793  Location of error: (0, 4, 145), a=-0.06280673, b=0.94433534\r\n  8: Error 485.135864  Location of error: (0, 2, 459), a=0.22280854, b=-0.50950789\r\n  9: Error 450.751129  Location of error: (0, 2, 12), a=0.06082506, b=0.93141055\r\n 10: Error 446.660492  Location of error: (0, 3, 465), a=-0.33150461, b=0.20811081\r\nstdev =  0.18995003\r\n\r\n*** Maximum errors for vector of size 3840:  rtol=0.001, atol=0.001\r\n\r\n  1: Error 1085.388550  Location of error: (0, 2, 588), a=1.46543539, b=-4.45078850\r\n  2: Error 1066.772461  Location of error: (0, 1, 588), a=1.46543479, b=-5.97044420\r\n  3: Error 787.812927  Location of error: (0, 3, 152), a=0.77056408, b=-0.08129084\r\n  4: Error 655.578003  Location of error: (0, 2, 459), a=0.15703337, b=-1.44748211\r\n  5: Error 601.337708  Location of error: (0, 3, 459), a=0.07274741, b=-1.32591033\r\n  6: Error 526.234802  Location of error: (0, 1, 145), a=-0.01829262, b=1.07213926\r\n  7: Error 472.145905  Location of error: (0, 1, 459), a=0.15703396, b=-0.59696794\r\n  8: Error 416.252808  Location of error: (0, 3, 626), a=-0.33784640, b=0.13431576\r\n  9: Error 395.673187  Location of error: (0, 2, 221), a=0.00158666, b=-0.65210831\r\n 10: Error 373.908081  Location of error: (0, 2, 612), a=-0.22256255, b=0.24173050\r\nstdev =  0.15333436\r\n\r\n*** Maximum errors for vector of size 5376:  rtol=0.001, atol=0.001\r\n\r\n  1: Error 1053.334717  Location of error: (0, 3, 588), a=1.30375504, b=-4.69525385\r\n  2: Error 891.753967  Location of error: (0, 2, 152), a=0.84285378, b=-0.45175028\r\n  3: Error 760.975037  Location of error: (0, 1, 145), a=0.68549037, b=-0.31580281\r\n  4: Error 739.728027  Location of error: (0, 4, 459), a=0.55348921, b=-0.71555465\r\n  5: Error 735.922119  Location of error: (0, 2, 459), a=0.12832984, b=-2.30080748\r\n  6: Error 682.559387  Location of error: (0, 4, 152), a=0.38436258, b=-0.93937868\r\n  7: Error 634.900940  Location of error: (0, 5, 152), a=0.69493502, b=0.03672028\r\n  8: Error 586.230469  Location of error: (0, 2, 465), a=-0.43865040, b=0.35667226\r\n  9: Error 583.885071  Location of error: (0, 3, 259), a=-0.20851725, b=0.90207750\r\n 10: Error 562.726746  Location of error: (0, 4, 145), a=0.52558923, b=-0.08492993\r\nstdev =  0.18738568\r\n\r\n*** Maximum errors for vector of size 3840:  rtol=0.001, atol=0.001\r\n\r\n  1: Error 1129.763306  Location of error: (0, 2, 588), a=1.67255735, b=-4.18295527\r\n  2: Error 1094.432373  Location of error: (0, 3, 588), a=1.67261219, b=-6.12268019\r\n  3: Error 638.781616  Location of error: (0, 1, 459), a=0.08820118, b=-1.52423167\r\n  4: Error 575.069885  Location of error: (0, 1, 152), a=0.27381456, b=-0.70895278\r\n  5: Error 545.580383  Location of error: (0, 2, 259), a=-0.20532960, b=0.74875915\r\n  6: Error 454.918396  Location of error: (0, 1, 626), a=-0.42154688, b=0.06122302\r\n  7: Error 442.742065  Location of error: (0, 3, 259), a=-0.20532867, b=0.42603865\r\n  8: Error 399.461243  Location of error: (0, 1, 391), a=-0.13588569, b=0.43889853\r\n  9: Error 396.245575  Location of error: (0, 1, 221), a=0.37708509, b=-0.03173557\r\n 10: Error 390.489594  Location of error: (0, 2, 465), a=-0.22364777, b=0.27373093\r\n```","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/670771048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"barry-jin","id":69359374,"node_id":"MDQ6VXNlcjY5MzU5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/69359374?v=4","gravatar_id":"","url":"https://api.github.com/users/barry-jin","html_url":"https://github.com/barry-jin","followers_url":"https://api.github.com/users/barry-jin/followers","following_url":"https://api.github.com/users/barry-jin/following{/other_user}","gists_url":"https://api.github.com/users/barry-jin/gists{/gist_id}","starred_url":"https://api.github.com/users/barry-jin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barry-jin/subscriptions","organizations_url":"https://api.github.com/users/barry-jin/orgs","repos_url":"https://api.github.com/users/barry-jin/repos","events_url":"https://api.github.com/users/barry-jin/events{/privacy}","received_events_url":"https://api.github.com/users/barry-jin/received_events","type":"User","site_admin":false}}]