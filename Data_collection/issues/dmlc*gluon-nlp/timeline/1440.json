[{"id":4017650876,"node_id":"MDEyOkxhYmVsZWRFdmVudDQwMTc2NTA4NzY=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/4017650876","actor":{"login":"sxjscience","id":5178350,"node_id":"MDQ6VXNlcjUxNzgzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5178350?v=4","gravatar_id":"","url":"https://api.github.com/users/sxjscience","html_url":"https://github.com/sxjscience","followers_url":"https://api.github.com/users/sxjscience/followers","following_url":"https://api.github.com/users/sxjscience/following{/other_user}","gists_url":"https://api.github.com/users/sxjscience/gists{/gist_id}","starred_url":"https://api.github.com/users/sxjscience/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sxjscience/subscriptions","organizations_url":"https://api.github.com/users/sxjscience/orgs","repos_url":"https://api.github.com/users/sxjscience/repos","events_url":"https://api.github.com/users/sxjscience/events{/privacy}","received_events_url":"https://api.github.com/users/sxjscience/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-19T19:58:46Z","label":{"name":"enhancement","color":"135caf"},"performed_via_github_app":null},{"id":4017650877,"node_id":"MDEyOkxhYmVsZWRFdmVudDQwMTc2NTA4Nzc=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/4017650877","actor":{"login":"sxjscience","id":5178350,"node_id":"MDQ6VXNlcjUxNzgzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5178350?v=4","gravatar_id":"","url":"https://api.github.com/users/sxjscience","html_url":"https://github.com/sxjscience","followers_url":"https://api.github.com/users/sxjscience/followers","following_url":"https://api.github.com/users/sxjscience/following{/other_user}","gists_url":"https://api.github.com/users/sxjscience/gists{/gist_id}","starred_url":"https://api.github.com/users/sxjscience/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sxjscience/subscriptions","organizations_url":"https://api.github.com/users/sxjscience/orgs","repos_url":"https://api.github.com/users/sxjscience/repos","events_url":"https://api.github.com/users/sxjscience/events{/privacy}","received_events_url":"https://api.github.com/users/sxjscience/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-19T19:58:46Z","label":{"name":"good first issue","color":"7057ff"},"performed_via_github_app":null},{"id":4017651306,"node_id":"MDEyOkxhYmVsZWRFdmVudDQwMTc2NTEzMDY=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/4017651306","actor":{"login":"sxjscience","id":5178350,"node_id":"MDQ6VXNlcjUxNzgzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5178350?v=4","gravatar_id":"","url":"https://api.github.com/users/sxjscience","html_url":"https://github.com/sxjscience","followers_url":"https://api.github.com/users/sxjscience/followers","following_url":"https://api.github.com/users/sxjscience/following{/other_user}","gists_url":"https://api.github.com/users/sxjscience/gists{/gist_id}","starred_url":"https://api.github.com/users/sxjscience/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sxjscience/subscriptions","organizations_url":"https://api.github.com/users/sxjscience/orgs","repos_url":"https://api.github.com/users/sxjscience/repos","events_url":"https://api.github.com/users/sxjscience/events{/privacy}","received_events_url":"https://api.github.com/users/sxjscience/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-19T19:58:53Z","label":{"name":"help wanted","color":"b0f22e"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/734871148","html_url":"https://github.com/dmlc/gluon-nlp/issues/1440#issuecomment-734871148","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1440","id":734871148,"node_id":"MDEyOklzc3VlQ29tbWVudDczNDg3MTE0OA==","user":{"login":"shenfei","id":1721221,"node_id":"MDQ6VXNlcjE3MjEyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1721221?v=4","gravatar_id":"","url":"https://api.github.com/users/shenfei","html_url":"https://github.com/shenfei","followers_url":"https://api.github.com/users/shenfei/followers","following_url":"https://api.github.com/users/shenfei/following{/other_user}","gists_url":"https://api.github.com/users/shenfei/gists{/gist_id}","starred_url":"https://api.github.com/users/shenfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenfei/subscriptions","organizations_url":"https://api.github.com/users/shenfei/orgs","repos_url":"https://api.github.com/users/shenfei/repos","events_url":"https://api.github.com/users/shenfei/events{/privacy}","received_events_url":"https://api.github.com/users/shenfei/received_events","type":"User","site_admin":false},"created_at":"2020-11-27T14:51:11Z","updated_at":"2020-11-27T14:51:11Z","author_association":"CONTRIBUTOR","body":"GluonNLP’s `data.batchify.Stack` behaves different from `mxnet.gluon.data.batchify.Stack`.\r\n\r\nDo I use it in a wrong way, or is it a bug of mxnet implementation?\r\n\r\n```python\r\n[ins] In [1]: a = [1, 2, 3, 4]\r\n\r\n[ins] In [2]: b = [4, 5, 6, 8]\r\n\r\n[ins] In [3]: c = [8, 9, 1, 2]\r\n\r\n[ins] In [4]: import gluonnlp.data.batchify as bf\r\n\r\n[ins] In [5]: import mxnet.gluon.data.batchify as mxbf\r\n\r\n[ins] In [6]: bf.Stack()([a, b, c])\r\n[14:36:53] ../src/storage/storage.cc:199: Using Pooled (Naive) StorageManager for CPU\r\nOut[6]:\r\n\r\n[[1 2 3 4]\r\n [4 5 6 8]\r\n [8 9 1 2]]\r\n<NDArray 3x4 @cpu(0)>\r\n\r\n[ins] In [7]: mxbf.Stack()([a, b, c])\r\nOut[7]:\r\n[\r\n [1 4 8]\r\n <NDArray 3 @cpu(0)>,\r\n\r\n [2 5 9]\r\n <NDArray 3 @cpu(0)>,\r\n\r\n [3 6 1]\r\n <NDArray 3 @cpu(0)>,\r\n\r\n [4 8 2]\r\n <NDArray 3 @cpu(0)>]\r\n```\r\n\r\nBTW, the result of mxnet’s `batchify.Stack` is against its docstring.","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/734871148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shenfei","id":1721221,"node_id":"MDQ6VXNlcjE3MjEyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1721221?v=4","gravatar_id":"","url":"https://api.github.com/users/shenfei","html_url":"https://github.com/shenfei","followers_url":"https://api.github.com/users/shenfei/followers","following_url":"https://api.github.com/users/shenfei/following{/other_user}","gists_url":"https://api.github.com/users/shenfei/gists{/gist_id}","starred_url":"https://api.github.com/users/shenfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenfei/subscriptions","organizations_url":"https://api.github.com/users/shenfei/orgs","repos_url":"https://api.github.com/users/shenfei/repos","events_url":"https://api.github.com/users/shenfei/events{/privacy}","received_events_url":"https://api.github.com/users/shenfei/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/734994259","html_url":"https://github.com/dmlc/gluon-nlp/issues/1440#issuecomment-734994259","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1440","id":734994259,"node_id":"MDEyOklzc3VlQ29tbWVudDczNDk5NDI1OQ==","user":{"login":"szha","id":2626883,"node_id":"MDQ6VXNlcjI2MjY4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2626883?v=4","gravatar_id":"","url":"https://api.github.com/users/szha","html_url":"https://github.com/szha","followers_url":"https://api.github.com/users/szha/followers","following_url":"https://api.github.com/users/szha/following{/other_user}","gists_url":"https://api.github.com/users/szha/gists{/gist_id}","starred_url":"https://api.github.com/users/szha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szha/subscriptions","organizations_url":"https://api.github.com/users/szha/orgs","repos_url":"https://api.github.com/users/szha/repos","events_url":"https://api.github.com/users/szha/events{/privacy}","received_events_url":"https://api.github.com/users/szha/received_events","type":"User","site_admin":false},"created_at":"2020-11-27T21:33:05Z","updated_at":"2020-11-27T21:33:05Z","author_association":"MEMBER","body":"cc @zhreshold","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/734994259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"szha","id":2626883,"node_id":"MDQ6VXNlcjI2MjY4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2626883?v=4","gravatar_id":"","url":"https://api.github.com/users/szha","html_url":"https://github.com/szha","followers_url":"https://api.github.com/users/szha/followers","following_url":"https://api.github.com/users/szha/following{/other_user}","gists_url":"https://api.github.com/users/szha/gists{/gist_id}","starred_url":"https://api.github.com/users/szha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szha/subscriptions","organizations_url":"https://api.github.com/users/szha/orgs","repos_url":"https://api.github.com/users/szha/repos","events_url":"https://api.github.com/users/szha/events{/privacy}","received_events_url":"https://api.github.com/users/szha/received_events","type":"User","site_admin":false}},{"id":4047344862,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA0NzM0NDg2Mg==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/4047344862","actor":{"login":"zhreshold","id":3307514,"node_id":"MDQ6VXNlcjMzMDc1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3307514?v=4","gravatar_id":"","url":"https://api.github.com/users/zhreshold","html_url":"https://github.com/zhreshold","followers_url":"https://api.github.com/users/zhreshold/followers","following_url":"https://api.github.com/users/zhreshold/following{/other_user}","gists_url":"https://api.github.com/users/zhreshold/gists{/gist_id}","starred_url":"https://api.github.com/users/zhreshold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhreshold/subscriptions","organizations_url":"https://api.github.com/users/zhreshold/orgs","repos_url":"https://api.github.com/users/zhreshold/repos","events_url":"https://api.github.com/users/zhreshold/events{/privacy}","received_events_url":"https://api.github.com/users/zhreshold/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-11-27T21:33:05Z","performed_via_github_app":null},{"id":4047344864,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNDczNDQ4NjQ=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/4047344864","actor":{"login":"zhreshold","id":3307514,"node_id":"MDQ6VXNlcjMzMDc1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3307514?v=4","gravatar_id":"","url":"https://api.github.com/users/zhreshold","html_url":"https://github.com/zhreshold","followers_url":"https://api.github.com/users/zhreshold/followers","following_url":"https://api.github.com/users/zhreshold/following{/other_user}","gists_url":"https://api.github.com/users/zhreshold/gists{/gist_id}","starred_url":"https://api.github.com/users/zhreshold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhreshold/subscriptions","organizations_url":"https://api.github.com/users/zhreshold/orgs","repos_url":"https://api.github.com/users/zhreshold/repos","events_url":"https://api.github.com/users/zhreshold/events{/privacy}","received_events_url":"https://api.github.com/users/zhreshold/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-11-27T21:33:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/735031257","html_url":"https://github.com/dmlc/gluon-nlp/issues/1440#issuecomment-735031257","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/1440","id":735031257,"node_id":"MDEyOklzc3VlQ29tbWVudDczNTAzMTI1Nw==","user":{"login":"sxjscience","id":5178350,"node_id":"MDQ6VXNlcjUxNzgzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5178350?v=4","gravatar_id":"","url":"https://api.github.com/users/sxjscience","html_url":"https://github.com/sxjscience","followers_url":"https://api.github.com/users/sxjscience/followers","following_url":"https://api.github.com/users/sxjscience/following{/other_user}","gists_url":"https://api.github.com/users/sxjscience/gists{/gist_id}","starred_url":"https://api.github.com/users/sxjscience/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sxjscience/subscriptions","organizations_url":"https://api.github.com/users/sxjscience/orgs","repos_url":"https://api.github.com/users/sxjscience/repos","events_url":"https://api.github.com/users/sxjscience/events{/privacy}","received_events_url":"https://api.github.com/users/sxjscience/received_events","type":"User","site_admin":false},"created_at":"2020-11-28T02:49:05Z","updated_at":"2020-11-28T02:49:05Z","author_association":"MEMBER","body":"It seems to be a bug in the MXNet batchify function and I can confirm that:\r\n\r\n```python\r\nimport mxnet as mx\r\nimport mxnet.gluon.data.batchify as mxbf\r\nmx.npx.set_np()\r\na = [1, 2, 3, 4]\r\nb = [4, 5, 6, 8]\r\nc = [8, 9, 1, 2]\r\nprint(mxbf.Stack()([a, b, c]))\r\nprint(mxbf.Stack()([mx.np.array(a), mx.np.array(b), mx.np.array(c)]))\r\n```\r\n\r\nOutput:\r\n```\r\n[array([1, 4, 8], dtype=int64), array([2, 5, 9], dtype=int64), array([3, 6, 1], dtype=int64), array([4, 8, 2], dtype=int64)]\r\n[[1. 2. 3. 4.]\r\n [4. 5. 6. 8.]\r\n [8. 9. 1. 2.]]\r\n```\r\n\r\nThus, we should fix the bug in MXNet first before switching to use the official implementation.","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/735031257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sxjscience","id":5178350,"node_id":"MDQ6VXNlcjUxNzgzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5178350?v=4","gravatar_id":"","url":"https://api.github.com/users/sxjscience","html_url":"https://github.com/sxjscience","followers_url":"https://api.github.com/users/sxjscience/followers","following_url":"https://api.github.com/users/sxjscience/following{/other_user}","gists_url":"https://api.github.com/users/sxjscience/gists{/gist_id}","starred_url":"https://api.github.com/users/sxjscience/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sxjscience/subscriptions","organizations_url":"https://api.github.com/users/sxjscience/orgs","repos_url":"https://api.github.com/users/sxjscience/repos","events_url":"https://api.github.com/users/sxjscience/events{/privacy}","received_events_url":"https://api.github.com/users/sxjscience/received_events","type":"User","site_admin":false}}]