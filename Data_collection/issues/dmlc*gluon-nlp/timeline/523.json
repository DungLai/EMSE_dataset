[{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/496565476","html_url":"https://github.com/dmlc/gluon-nlp/issues/523#issuecomment-496565476","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/523","id":496565476,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjU2NTQ3Ng==","user":{"login":"ThomasDelteil","id":3716307,"node_id":"MDQ6VXNlcjM3MTYzMDc=","avatar_url":"https://avatars.githubusercontent.com/u/3716307?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasDelteil","html_url":"https://github.com/ThomasDelteil","followers_url":"https://api.github.com/users/ThomasDelteil/followers","following_url":"https://api.github.com/users/ThomasDelteil/following{/other_user}","gists_url":"https://api.github.com/users/ThomasDelteil/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasDelteil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasDelteil/subscriptions","organizations_url":"https://api.github.com/users/ThomasDelteil/orgs","repos_url":"https://api.github.com/users/ThomasDelteil/repos","events_url":"https://api.github.com/users/ThomasDelteil/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasDelteil/received_events","type":"User","site_admin":false},"created_at":"2019-05-28T15:25:48Z","updated_at":"2019-05-28T15:30:53Z","author_association":"CONTRIBUTOR","body":"**tldr:** I think this is quite critical to do in order to simply make sure the pre-trained embeddings we provide are actually reproducing the paper's result. Currently the ELMo embeddings seem to not be usable out-of-the-box in a satisfying manner.\r\n\r\nI've add very mixed result in using directly the pre-trained ELMo embeddings for sentence embeddings. I used the tutorial http://gluon-nlp.mxnet.io/examples/sentence_embedding/elmo_sentence_representation.html to extract the contextualized word embeddings and used several methods to get the the overall sentence embeddings:\r\n- using the average of the embeddings of only the last layer (capturing the most semantic information according to the paper)\r\n- using an average of the average embeddings of all layers.\r\n\r\nI used the cosine similarity for comparing the resulting sentence embeddings and the results are not very good:\r\n\r\nfor example:\r\n\r\n`'The name hippopotamus comes from the ancient Greek word hippopotamos, which means river horse',`\r\nand \r\n`President Donald Trump last week intended to reverse sanctions imposed on two Chinese shipping companies accused of violating North Korea trade prohibitions`\r\n\r\nare closer than\r\n\r\n`'The name hippopotamus comes from the ancient Greek word hippopotamos, which means river horse',`\r\nand\r\n`'Hippos rank as one of the largest animals in Africa and are not known for their sunny dispositions, causing more human deaths in Africa annually than lions, leopards, crocodiles, or any other of the major predators',`\r\n\r\n0.95187436 vs 0.92387373, which are also fairly higher values than I would expect.\r\n\r\nThe poor quality of these results has been corroborated by @la-cruche https://discuss.mxnet.io/t/understand-gluonnlp-elmo-output-shape/3969/9\r\n\r\nWhen doing the same technique with TF embeddings he has claimed to have a lot better results.\r\n\r\nPCA'ed embeddings from TF-Hub ELMo vs Gluon-NLP ELMo on sentences of 2 different articles:\r\n\r\n<img width=\"1136\" alt=\"Screen Shot 2019-05-25 at 12 52 34 AM\" src=\"https://user-images.githubusercontent.com/3716307/58490443-0c7e8480-8122-11e9-9857-df536b6b9d6e.png\">\r\n\r\n<img width=\"1138\" alt=\"Screen Shot 2019-05-25 at 12 52 42 AM\" src=\"https://user-images.githubusercontent.com/3716307/58490444-0c7e8480-8122-11e9-8bb6-eb9ed99d81f7.png\">\r\n","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/496565476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ThomasDelteil","id":3716307,"node_id":"MDQ6VXNlcjM3MTYzMDc=","avatar_url":"https://avatars.githubusercontent.com/u/3716307?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasDelteil","html_url":"https://github.com/ThomasDelteil","followers_url":"https://api.github.com/users/ThomasDelteil/followers","following_url":"https://api.github.com/users/ThomasDelteil/following{/other_user}","gists_url":"https://api.github.com/users/ThomasDelteil/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasDelteil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasDelteil/subscriptions","organizations_url":"https://api.github.com/users/ThomasDelteil/orgs","repos_url":"https://api.github.com/users/ThomasDelteil/repos","events_url":"https://api.github.com/users/ThomasDelteil/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasDelteil/received_events","type":"User","site_admin":false}},{"id":2372224089,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM3MjIyNDA4OQ==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/2372224089","actor":{"login":"la-cruche","id":32586780,"node_id":"MDQ6VXNlcjMyNTg2Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/32586780?v=4","gravatar_id":"","url":"https://api.github.com/users/la-cruche","html_url":"https://github.com/la-cruche","followers_url":"https://api.github.com/users/la-cruche/followers","following_url":"https://api.github.com/users/la-cruche/following{/other_user}","gists_url":"https://api.github.com/users/la-cruche/gists{/gist_id}","starred_url":"https://api.github.com/users/la-cruche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/la-cruche/subscriptions","organizations_url":"https://api.github.com/users/la-cruche/orgs","repos_url":"https://api.github.com/users/la-cruche/repos","events_url":"https://api.github.com/users/la-cruche/events{/privacy}","received_events_url":"https://api.github.com/users/la-cruche/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-28T15:25:48Z","performed_via_github_app":null},{"id":2372224093,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNzIyMjQwOTM=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/2372224093","actor":{"login":"la-cruche","id":32586780,"node_id":"MDQ6VXNlcjMyNTg2Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/32586780?v=4","gravatar_id":"","url":"https://api.github.com/users/la-cruche","html_url":"https://github.com/la-cruche","followers_url":"https://api.github.com/users/la-cruche/followers","following_url":"https://api.github.com/users/la-cruche/following{/other_user}","gists_url":"https://api.github.com/users/la-cruche/gists{/gist_id}","starred_url":"https://api.github.com/users/la-cruche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/la-cruche/subscriptions","organizations_url":"https://api.github.com/users/la-cruche/orgs","repos_url":"https://api.github.com/users/la-cruche/repos","events_url":"https://api.github.com/users/la-cruche/events{/privacy}","received_events_url":"https://api.github.com/users/la-cruche/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-28T15:25:48Z","performed_via_github_app":null},{"id":2374155782,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzNzQxNTU3ODI=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/2374155782","actor":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-05-29T07:46:25Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":2374155784,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzNzQxNTU3ODQ=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/2374155784","actor":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-05-29T07:46:25Z","label":{"name":"release focus","color":"fbca04"},"performed_via_github_app":null},{"id":2374158258,"node_id":"MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQyMzc0MTU4MjU4","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/2374158258","actor":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false},"event":"added_to_project","commit_id":null,"commit_url":null,"created_at":"2019-05-29T07:47:28Z","project_card":{"id":22116064,"url":"https://api.github.com/projects/columns/cards/22116064","project_id":2613536,"project_url":"https://api.github.com/projects/2613536","column_name":"To do"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/496826064","html_url":"https://github.com/dmlc/gluon-nlp/issues/523#issuecomment-496826064","issue_url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/523","id":496826064,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjgyNjA2NA==","user":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false},"created_at":"2019-05-29T07:50:37Z","updated_at":"2019-05-29T07:50:37Z","author_association":"CONTRIBUTOR","body":"@cgraywang do you know what could be the problem?","reactions":{"url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/comments/496826064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leezu","id":946903,"node_id":"MDQ6VXNlcjk0NjkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/946903?v=4","gravatar_id":"","url":"https://api.github.com/users/leezu","html_url":"https://github.com/leezu","followers_url":"https://api.github.com/users/leezu/followers","following_url":"https://api.github.com/users/leezu/following{/other_user}","gists_url":"https://api.github.com/users/leezu/gists{/gist_id}","starred_url":"https://api.github.com/users/leezu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leezu/subscriptions","organizations_url":"https://api.github.com/users/leezu/orgs","repos_url":"https://api.github.com/users/leezu/repos","events_url":"https://api.github.com/users/leezu/events{/privacy}","received_events_url":"https://api.github.com/users/leezu/received_events","type":"User","site_admin":false}},{"id":2374166026,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM3NDE2NjAyNg==","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/2374166026","actor":{"login":"cgraywang","id":25714264,"node_id":"MDQ6VXNlcjI1NzE0MjY0","avatar_url":"https://avatars.githubusercontent.com/u/25714264?v=4","gravatar_id":"","url":"https://api.github.com/users/cgraywang","html_url":"https://github.com/cgraywang","followers_url":"https://api.github.com/users/cgraywang/followers","following_url":"https://api.github.com/users/cgraywang/following{/other_user}","gists_url":"https://api.github.com/users/cgraywang/gists{/gist_id}","starred_url":"https://api.github.com/users/cgraywang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgraywang/subscriptions","organizations_url":"https://api.github.com/users/cgraywang/orgs","repos_url":"https://api.github.com/users/cgraywang/repos","events_url":"https://api.github.com/users/cgraywang/events{/privacy}","received_events_url":"https://api.github.com/users/cgraywang/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-29T07:50:37Z","performed_via_github_app":null},{"id":2374166028,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNzQxNjYwMjg=","url":"https://api.github.com/repos/dmlc/gluon-nlp/issues/events/2374166028","actor":{"login":"cgraywang","id":25714264,"node_id":"MDQ6VXNlcjI1NzE0MjY0","avatar_url":"https://avatars.githubusercontent.com/u/25714264?v=4","gravatar_id":"","url":"https://api.github.com/users/cgraywang","html_url":"https://github.com/cgraywang","followers_url":"https://api.github.com/users/cgraywang/followers","following_url":"https://api.github.com/users/cgraywang/following{/other_user}","gists_url":"https://api.github.com/users/cgraywang/gists{/gist_id}","starred_url":"https://api.github.com/users/cgraywang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgraywang/subscriptions","organizations_url":"https://api.github.com/users/cgraywang/orgs","repos_url":"https://api.github.com/users/cgraywang/repos","events_url":"https://api.github.com/users/cgraywang/events{/privacy}","received_events_url":"https://api.github.com/users/cgraywang/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-29T07:50:37Z","performed_via_github_app":null}]