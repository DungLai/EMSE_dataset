{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/402","repository_url":"https://api.github.com/repos/onnx/onnxmltools","labels_url":"https://api.github.com/repos/onnx/onnxmltools/issues/402/labels{/name}","comments_url":"https://api.github.com/repos/onnx/onnxmltools/issues/402/comments","events_url":"https://api.github.com/repos/onnx/onnxmltools/issues/402/events","html_url":"https://github.com/onnx/onnxmltools/issues/402","id":641941621,"node_id":"MDU6SXNzdWU2NDE5NDE2MjE=","number":402,"title":"Conversion from caffe to onnx through coreml produces paddings with -3.4e+38 value.","user":{"login":"bwery","id":63807449,"node_id":"MDQ6VXNlcjYzODA3NDQ5","avatar_url":"https://avatars.githubusercontent.com/u/63807449?v=4","gravatar_id":"","url":"https://api.github.com/users/bwery","html_url":"https://github.com/bwery","followers_url":"https://api.github.com/users/bwery/followers","following_url":"https://api.github.com/users/bwery/following{/other_user}","gists_url":"https://api.github.com/users/bwery/gists{/gist_id}","starred_url":"https://api.github.com/users/bwery/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwery/subscriptions","organizations_url":"https://api.github.com/users/bwery/orgs","repos_url":"https://api.github.com/users/bwery/repos","events_url":"https://api.github.com/users/bwery/events{/privacy}","received_events_url":"https://api.github.com/users/bwery/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-19T12:41:51Z","updated_at":"2020-08-10T17:31:43Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello, \r\n\r\nI try to use conversion of caffe models to onnx using the path that is documented here, converting to coreml and then converting coreml model to onnx.\r\n\r\nIn the onnx file for some models, there are padding layers that are created for which padding value is set to constant with value -3.4e+38. This padding value is visible while examining the onnx file with netron, while I do not see anything similar in the coreml model. That the reason why I think this is produced during the onnx conversion, but may be I am wrong.\r\n\r\nI don't know if this is a bug, a limitation or a something I am doing wrong. \r\n\r\nThe network I used is the Alexnet network provided in DIGITS, with very few modifications. Difficult to attach because this network has a lot of parameters.\r\n\r\nI have discovered this error because errors are generated when I try using it with TensorRT, which do not accept non-null values in padding. \r\n\r\nMay-be there is a way to force this padding to 0, but I do not find how to do it.\r\n\r\nMy environment Ubuntu 18.04 in an lxc container, python 3.6.9, caffe model produced with the last BLVC release, coremltools 3.4, onnxmltools 1.7.0.\r\n\r\nI tried to generate with opset= 7 and opset = 10.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/onnxmltools/issues/402/timeline","performed_via_github_app":null,"state_reason":null}