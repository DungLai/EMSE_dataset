{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/475","repository_url":"https://api.github.com/repos/onnx/onnxmltools","labels_url":"https://api.github.com/repos/onnx/onnxmltools/issues/475/labels{/name}","comments_url":"https://api.github.com/repos/onnx/onnxmltools/issues/475/comments","events_url":"https://api.github.com/repos/onnx/onnxmltools/issues/475/events","html_url":"https://github.com/onnx/onnxmltools/issues/475","id":932937037,"node_id":"MDU6SXNzdWU5MzI5MzcwMzc=","number":475,"title":"ValueError: No proper operator name found for '<class 'pyspark.ml.pipeline.Pipeline'>'","user":{"login":"prashanthharshangi","id":63607529,"node_id":"MDQ6VXNlcjYzNjA3NTI5","avatar_url":"https://avatars.githubusercontent.com/u/63607529?v=4","gravatar_id":"","url":"https://api.github.com/users/prashanthharshangi","html_url":"https://github.com/prashanthharshangi","followers_url":"https://api.github.com/users/prashanthharshangi/followers","following_url":"https://api.github.com/users/prashanthharshangi/following{/other_user}","gists_url":"https://api.github.com/users/prashanthharshangi/gists{/gist_id}","starred_url":"https://api.github.com/users/prashanthharshangi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashanthharshangi/subscriptions","organizations_url":"https://api.github.com/users/prashanthharshangi/orgs","repos_url":"https://api.github.com/users/prashanthharshangi/repos","events_url":"https://api.github.com/users/prashanthharshangi/events{/privacy}","received_events_url":"https://api.github.com/users/prashanthharshangi/received_events","type":"User","site_admin":false},"labels":[{"id":3289861567,"node_id":"MDU6TGFiZWwzMjg5ODYxNTY3","url":"https://api.github.com/repos/onnx/onnxmltools/labels/better%20error%20message","name":"better error message","color":"5FC769","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-06-29T17:22:04Z","updated_at":"2021-08-24T09:13:41Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I am trying to convert a save pyspark pipeline consisting of simple assembler and linear regression model and I ran into \r\n\r\nValueError: No proper operator name found for '<class 'pyspark.ml.pipeline.Pipeline'>'\r\n\r\nStacktrace below:\r\n```\r\n  File \"/Users/prashanth.harshangi/opt/anaconda3/envs/mlpipe/lib/python3.7/site-packages/onnxmltools/convert/main.py\", line 77, in convert_sparkml\r\n    custom_conversion_functions, custom_shape_calculators, spark_session)\r\n  File \"/Users/prashanth.harshangi/opt/anaconda3/envs/mlpipe/lib/python3.7/site-packages/onnxmltools/convert/sparkml/convert.py\", line 69, in convert\r\n    topology = parse_sparkml(spark_session, model, initial_types, target_opset, custom_conversion_functions, custom_shape_calculators)\r\n  File \"/Users/prashanth.harshangi/opt/anaconda3/envs/mlpipe/lib/python3.7/site-packages/onnxmltools/convert/sparkml/_parse.py\", line 122, in parse_sparkml\r\n    _parse_sparkml(spark, scope, model, inputs, output_dict)\r\n  File \"/Users/prashanth.harshangi/opt/anaconda3/envs/mlpipe/lib/python3.7/site-packages/onnxmltools/convert/sparkml/_parse.py\", line 90, in _parse_sparkml\r\n    return _parse_sparkml_simple_model(spark, scope, model, global_inputs, output_dict)\r\n  File \"/Users/prashanth.harshangi/opt/anaconda3/envs/mlpipe/lib/python3.7/site-packages/onnxmltools/convert/sparkml/_parse.py\", line 51, in _parse_sparkml_simple_model\r\n    this_operator = scope.declare_local_operator(get_sparkml_operator_name(type(model)), model)\r\n  File \"/Users/prashanth.harshangi/opt/anaconda3/envs/mlpipe/lib/python3.7/site-packages/onnxmltools/convert/sparkml/ops_names.py\", line 90, in get_sparkml_operator_name\r\n    raise ValueError(\"No proper operator name found for '%s'\" % model_type)\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/onnxmltools/issues/475/timeline","performed_via_github_app":null,"state_reason":null}