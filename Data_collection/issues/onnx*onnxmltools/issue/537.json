{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/537","repository_url":"https://api.github.com/repos/onnx/onnxmltools","labels_url":"https://api.github.com/repos/onnx/onnxmltools/issues/537/labels{/name}","comments_url":"https://api.github.com/repos/onnx/onnxmltools/issues/537/comments","events_url":"https://api.github.com/repos/onnx/onnxmltools/issues/537/events","html_url":"https://github.com/onnx/onnxmltools/issues/537","id":1187436935,"node_id":"I_kwDOB0J-H85GxtmH","number":537,"title":"onnxmltools==1.10.0 installation error in python 3.10.0","user":{"login":"hanzigs","id":30790120,"node_id":"MDQ6VXNlcjMwNzkwMTIw","avatar_url":"https://avatars.githubusercontent.com/u/30790120?v=4","gravatar_id":"","url":"https://api.github.com/users/hanzigs","html_url":"https://github.com/hanzigs","followers_url":"https://api.github.com/users/hanzigs/followers","following_url":"https://api.github.com/users/hanzigs/following{/other_user}","gists_url":"https://api.github.com/users/hanzigs/gists{/gist_id}","starred_url":"https://api.github.com/users/hanzigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanzigs/subscriptions","organizations_url":"https://api.github.com/users/hanzigs/orgs","repos_url":"https://api.github.com/users/hanzigs/repos","events_url":"https://api.github.com/users/hanzigs/events{/privacy}","received_events_url":"https://api.github.com/users/hanzigs/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-03-31T03:16:49Z","updated_at":"2022-11-24T13:18:32Z","closed_at":"2022-11-24T13:18:32Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\nI am upgrading my python to 3.10.0, currently using 3.9.5 where onnxmltools==1.7.0 working good.\r\nI installed 1.10.0 in py3.10.0, I am getting following error while installing\r\nMay I have some help please\r\n```\r\nCollecting onnxmltools==1.10.0\r\n  Using cached onnxmltools-1.10.0-py2.py3-none-any.whl (300 kB)\r\nCollecting skl2onnx\r\n  Using cached skl2onnx-1.11-py2.py3-none-any.whl (274 kB)\r\nRequirement already satisfied: numpy in c:\\users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages (from onnxmltools==1.10.0) (1.21.5)\r\nCollecting onnx\r\n  Using cached onnx-1.11.0.tar.gz (9.9 MB)\r\nRequirement already satisfied: protobuf>=3.12.2 in c:\\users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages (from onnx->onnxmltools==1.10.0) (3.19.4)\r\nRequirement already satisfied: typing-extensions>=3.6.2.1 in c:\\users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages (from onnx->onnxmltools==1.10.0) (4.1.1)\r\nRequirement already satisfied: scipy>=1.0 in c:\\users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages (from skl2onnx->onnxmltools==1.10.0) (1.8.0)\r\nRequirement already satisfied: scikit-learn>=0.19 in c:\\users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages (from skl2onnx->onnxmltools==1.10.0) (1.0.2)\r\nCollecting onnxconverter-common>=1.7.0\r\n  Using cached onnxconverter_common-1.9.0-py2.py3-none-any.whl (78 kB)\r\nRequirement already satisfied: threadpoolctl>=2.0.0 in c:\\users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages (from scikit-learn>=0.19->skl2onnx->onnxmltools==1.10.0) (3.1.0)\r\nRequirement already satisfied: joblib>=0.11 in c:\\users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages (from scikit-learn>=0.19->skl2onnx->onnxmltools==1.10.0) (1.1.0)\r\nBuilding wheels for collected packages: onnx\r\n  Building wheel for onnx (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: 'C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\python.exe' -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10\\\\setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d 'C:\\Users\\pg\\AppData\\Local\\Temp\\pip-wheel-8ukw42_4'\r\n       cwd: C:\\Users\\pg\\AppData\\Local\\Temp\\pip-install-wy5rosfe\\onnx_cd00ece8f9974594812aa94a6c991c10\\\r\n  Complete output (59 lines):\r\n  fatal: not a git repository (or any of the parent directories): .git\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  running create_version\r\n  running cmake_build\r\n  Using cmake args: ['C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\Scripts\\\\cmake.exe', '-DPYTHON_INCLUDE_DIR=C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\include', '-DPYTHON_EXECUTABLE=C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\python.exe', '-DBUILD_ONNX_PYTHON=ON', '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON', '-DONNX_NAMESPACE=onnx', '-DPY_EXT_SUFFIX=.cp310-win_amd64.pyd', '-DCMAKE_BUILD_TYPE=Release', '-DPY_VERSION=3.10', '-A', 'x64', '-T', 'host=x64', '-DONNX_ML=1', 'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10']\r\n  -- Building for: NMake Makefiles\r\n  CMake Error at CMakeLists.txt:17 (project):\r\n    Generator\r\n\r\n      NMake Makefiles\r\n\r\n    does not support platform specification, but platform\r\n\r\n      x64\r\n\r\n    was specified.\r\n\r\n\r\n  CMake Error: CMAKE_C_COMPILER not set, after EnableLanguage\r\n  CMake Error: CMAKE_CXX_COMPILER not set, after EnableLanguage\r\n  -- Configuring incomplete, errors occurred!\r\n  See also \"C:/Users/pg/AppData/Local/Temp/pip-install-wy5rosfe/onnx_cd00ece8f9974594812aa94a6c991c10/.setuptools-cmake-build/CMakeFiles/CMakeOutput.log\".\r\n  Traceback (most recent call last):\r\n    File \"<string>\", line 1, in <module>\r\n    File \"C:\\Users\\pg\\AppData\\Local\\Temp\\pip-install-wy5rosfe\\onnx_cd00ece8f9974594812aa94a6c991c10\\setup.py\", line 336, in <module>\r\n      setuptools.setup(\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages\\setuptools\\__init__.py\", line 153, in setup\r\n      return distutils.core.setup(**attrs)\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\core.py\", line 148, in setup\r\n      dist.run_commands()\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 966, in run_commands\r\n      self.run_command(cmd)\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages\\wheel\\bdist_wheel.py\", line 299, in run\r\n      self.run_command('build')\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\command\\build.py\", line 135, in run\r\n      self.run_command(cmd_name)\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\pg\\AppData\\Local\\Temp\\pip-install-wy5rosfe\\onnx_cd00ece8f9974594812aa94a6c991c10\\setup.py\", line 232, in run\r\n      self.run_command('cmake_build')\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\pg\\AppData\\Local\\Temp\\pip-install-wy5rosfe\\onnx_cd00ece8f9974594812aa94a6c991c10\\setup.py\", line 218, in run\r\n      subprocess.check_call(cmake_args)\r\n    File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\subprocess.py\", line 369, in check_call\r\n      raise CalledProcessError(retcode, cmd)\r\n  subprocess.CalledProcessError: Command '['C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\Scripts\\\\cmake.exe', '-DPYTHON_INCLUDE_DIR=C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\include', '-DPYTHON_EXECUTABLE=C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\python.exe', '-DBUILD_ONNX_PYTHON=ON', '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON', '-DONNX_NAMESPACE=onnx', '-DPY_EXT_SUFFIX=.cp310-win_amd64.pyd', '-DCMAKE_BUILD_TYPE=Release', '-DPY_VERSION=3.10', '-A', 'x64', '-T', 'host=x64', '-DONNX_ML=1', 'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10']' returned non-zero exit status 1.\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for onnx\r\n  Running setup.py clean for onnx\r\nFailed to build onnx\r\nInstalling collected packages: onnx, onnxconverter-common, skl2onnx, onnxmltools\r\n    Running setup.py install for onnx ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: 'C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\python.exe' -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10\\\\setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record 'C:\\Users\\pg\\AppData\\Local\\Temp\\pip-record-0s12drig\\install-record.txt' --single-version-externally-managed --compile --install-headers 'C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\Include\\onnx'\r\n         cwd: C:\\Users\\pg\\AppData\\Local\\Temp\\pip-install-wy5rosfe\\onnx_cd00ece8f9974594812aa94a6c991c10\\\r\n    Complete output (60 lines):\r\n    fatal: not a git repository (or any of the parent directories): .git\r\n    running install\r\n    running build\r\n    running build_py\r\n    running create_version\r\n    running cmake_build\r\n    Using cmake args: ['C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\Scripts\\\\cmake.exe', '-DPYTHON_INCLUDE_DIR=C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\include', '-DPYTHON_EXECUTABLE=C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\python.exe', '-DBUILD_ONNX_PYTHON=ON', '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON', '-DONNX_NAMESPACE=onnx', '-DPY_EXT_SUFFIX=.cp310-win_amd64.pyd', '-DCMAKE_BUILD_TYPE=Release', '-DPY_VERSION=3.10', '-A', 'x64', '-T', 'host=x64', '-DONNX_ML=1', 'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10']\r\n    CMake Error at CMakeLists.txt:17 (project):\r\n      Generator\r\n\r\n        NMake Makefiles\r\n\r\n      does not support platform specification, but platform\r\n\r\n        x64\r\n\r\n      was specified.\r\n\r\n\r\n    CMake Error: CMAKE_C_COMPILER not set, after EnableLanguage\r\n    CMake Error: CMAKE_CXX_COMPILER not set, after EnableLanguage\r\n    -- Configuring incomplete, errors occurred!\r\n    See also \"C:/Users/pg/AppData/Local/Temp/pip-install-wy5rosfe/onnx_cd00ece8f9974594812aa94a6c991c10/.setuptools-cmake-build/CMakeFiles/CMakeOutput.log\".\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"C:\\Users\\pg\\AppData\\Local\\Temp\\pip-install-wy5rosfe\\onnx_cd00ece8f9974594812aa94a6c991c10\\setup.py\", line 336, in <module>\r\n        setuptools.setup(\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages\\setuptools\\__init__.py\", line 153, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 966, in run_commands\r\n        self.run_command(cmd)\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\site-packages\\setuptools\\command\\install.py\", line 61, in run\r\n        return orig.install.run(self)\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\command\\install.py\", line 568, in run\r\n        self.run_command('build')\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\cmd.py\", line 313, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\command\\build.py\", line 135, in run\r\n        self.run_command(cmd_name)\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\cmd.py\", line 313, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"C:\\Users\\pg\\AppData\\Local\\Temp\\pip-install-wy5rosfe\\onnx_cd00ece8f9974594812aa94a6c991c10\\setup.py\", line 232, in run\r\n        self.run_command('cmake_build')\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\cmd.py\", line 313, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\distutils\\dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"C:\\Users\\pg\\AppData\\Local\\Temp\\pip-install-wy5rosfe\\onnx_cd00ece8f9974594812aa94a6c991c10\\setup.py\", line 218, in run\r\n        subprocess.check_call(cmake_args)\r\n      File \"C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\lib\\subprocess.py\", line 369, in check_call\r\n        raise CalledProcessError(retcode, cmd)\r\n    subprocess.CalledProcessError: Command '['C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\Scripts\\\\cmake.exe', '-DPYTHON_INCLUDE_DIR=C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\include', '-DPYTHON_EXECUTABLE=C:\\\\Users\\\\pg\\\\anaconda3\\\\envs\\\\py3100t2\\\\python.exe', '-DBUILD_ONNX_PYTHON=ON', '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON', '-DONNX_NAMESPACE=onnx', '-DPY_EXT_SUFFIX=.cp310-win_amd64.pyd', '-DCMAKE_BUILD_TYPE=Release', '-DPY_VERSION=3.10', '-A', 'x64', '-T', 'host=x64', '-DONNX_ML=1', 'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10']' returned non-zero exit status 1.\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: 'C:\\Users\\pg\\anaconda3\\envs\\autoMLpy3100t2\\python.exe' -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\pg\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wy5rosfe\\\\onnx_cd00ece8f9974594812aa94a6c991c10\\\\setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record 'C:\\Users\\pg\\AppData\\Local\\Temp\\pip-record-0s12drig\\install-record.txt' --single-version-externally-managed --compile --install-headers 'C:\\Users\\pg\\anaconda3\\envs\\py3100t2\\Include\\onnx' Check the logs for full command output.\r\n```","closed_by":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/onnxmltools/issues/537/timeline","performed_via_github_app":null,"state_reason":"completed"}