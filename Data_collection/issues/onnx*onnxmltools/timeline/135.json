[{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/420524679","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-420524679","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":420524679,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDUyNDY3OQ==","user":{"login":"wschin","id":3524474,"node_id":"MDQ6VXNlcjM1MjQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3524474?v=4","gravatar_id":"","url":"https://api.github.com/users/wschin","html_url":"https://github.com/wschin","followers_url":"https://api.github.com/users/wschin/followers","following_url":"https://api.github.com/users/wschin/following{/other_user}","gists_url":"https://api.github.com/users/wschin/gists{/gist_id}","starred_url":"https://api.github.com/users/wschin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wschin/subscriptions","organizations_url":"https://api.github.com/users/wschin/orgs","repos_url":"https://api.github.com/users/wschin/repos","events_url":"https://api.github.com/users/wschin/events{/privacy}","received_events_url":"https://api.github.com/users/wschin/received_events","type":"User","site_admin":false},"created_at":"2018-09-12T06:13:33Z","updated_at":"2018-09-12T06:13:33Z","author_association":"CONTRIBUTOR","body":"Please try to set up an environment variable, `ONNX_ML=1`, and reinstall onnx python package. There are two versions of ONNX format. The default one doesn't contain enough types to support machine learning pipelines.","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/420524679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wschin","id":3524474,"node_id":"MDQ6VXNlcjM1MjQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3524474?v=4","gravatar_id":"","url":"https://api.github.com/users/wschin","html_url":"https://github.com/wschin","followers_url":"https://api.github.com/users/wschin/followers","following_url":"https://api.github.com/users/wschin/following{/other_user}","gists_url":"https://api.github.com/users/wschin/gists{/gist_id}","starred_url":"https://api.github.com/users/wschin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wschin/subscriptions","organizations_url":"https://api.github.com/users/wschin/orgs","repos_url":"https://api.github.com/users/wschin/repos","events_url":"https://api.github.com/users/wschin/events{/privacy}","received_events_url":"https://api.github.com/users/wschin/received_events","type":"User","site_admin":false}},{"id":1994059827,"node_id":"MDExOkNsb3NlZEV2ZW50MTk5NDA1OTgyNw==","url":"https://api.github.com/repos/onnx/onnxmltools/issues/events/1994059827","actor":{"login":"wenbingl","id":10278425,"node_id":"MDQ6VXNlcjEwMjc4NDI1","avatar_url":"https://avatars.githubusercontent.com/u/10278425?v=4","gravatar_id":"","url":"https://api.github.com/users/wenbingl","html_url":"https://github.com/wenbingl","followers_url":"https://api.github.com/users/wenbingl/followers","following_url":"https://api.github.com/users/wenbingl/following{/other_user}","gists_url":"https://api.github.com/users/wenbingl/gists{/gist_id}","starred_url":"https://api.github.com/users/wenbingl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenbingl/subscriptions","organizations_url":"https://api.github.com/users/wenbingl/orgs","repos_url":"https://api.github.com/users/wenbingl/repos","events_url":"https://api.github.com/users/wenbingl/events{/privacy}","received_events_url":"https://api.github.com/users/wenbingl/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-11-29T01:49:49Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/456564158","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-456564158","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":456564158,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjU2NDE1OA==","user":{"login":"bball3212","id":46941037,"node_id":"MDQ6VXNlcjQ2OTQxMDM3","avatar_url":"https://avatars.githubusercontent.com/u/46941037?v=4","gravatar_id":"","url":"https://api.github.com/users/bball3212","html_url":"https://github.com/bball3212","followers_url":"https://api.github.com/users/bball3212/followers","following_url":"https://api.github.com/users/bball3212/following{/other_user}","gists_url":"https://api.github.com/users/bball3212/gists{/gist_id}","starred_url":"https://api.github.com/users/bball3212/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bball3212/subscriptions","organizations_url":"https://api.github.com/users/bball3212/orgs","repos_url":"https://api.github.com/users/bball3212/repos","events_url":"https://api.github.com/users/bball3212/events{/privacy}","received_events_url":"https://api.github.com/users/bball3212/received_events","type":"User","site_admin":false},"created_at":"2019-01-22T21:09:20Z","updated_at":"2019-01-22T21:09:20Z","author_association":"NONE","body":"I have this same issue, and the solution didnt work...anyone else?","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/456564158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bball3212","id":46941037,"node_id":"MDQ6VXNlcjQ2OTQxMDM3","avatar_url":"https://avatars.githubusercontent.com/u/46941037?v=4","gravatar_id":"","url":"https://api.github.com/users/bball3212","html_url":"https://github.com/bball3212","followers_url":"https://api.github.com/users/bball3212/followers","following_url":"https://api.github.com/users/bball3212/following{/other_user}","gists_url":"https://api.github.com/users/bball3212/gists{/gist_id}","starred_url":"https://api.github.com/users/bball3212/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bball3212/subscriptions","organizations_url":"https://api.github.com/users/bball3212/orgs","repos_url":"https://api.github.com/users/bball3212/repos","events_url":"https://api.github.com/users/bball3212/events{/privacy}","received_events_url":"https://api.github.com/users/bball3212/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/456586946","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-456586946","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":456586946,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjU4Njk0Ng==","user":{"login":"wschin","id":3524474,"node_id":"MDQ6VXNlcjM1MjQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3524474?v=4","gravatar_id":"","url":"https://api.github.com/users/wschin","html_url":"https://github.com/wschin","followers_url":"https://api.github.com/users/wschin/followers","following_url":"https://api.github.com/users/wschin/following{/other_user}","gists_url":"https://api.github.com/users/wschin/gists{/gist_id}","starred_url":"https://api.github.com/users/wschin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wschin/subscriptions","organizations_url":"https://api.github.com/users/wschin/orgs","repos_url":"https://api.github.com/users/wschin/repos","events_url":"https://api.github.com/users/wschin/events{/privacy}","received_events_url":"https://api.github.com/users/wschin/received_events","type":"User","site_admin":false},"created_at":"2019-01-22T22:24:52Z","updated_at":"2019-01-25T21:26:36Z","author_association":"CONTRIBUTOR","body":"Please try reinstall ONNX python packages after setting `ONNX_ML=1`.  If you are using windows command line, please open your cmd.exe and then do\r\n\r\n1. C:\\Users\\UserName>`set ONNX_ML=1`\r\n2. C:\\Users\\UserName>`pip install -I onnx` or `pip install -I git+https://github.com/onnx/onnx`\r\n3. C:\\Users\\UserName>`pip install -I onnxmltools`\r\n\r\nThis should work under Window `Anaconda Prompt`, too.","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/456586946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wschin","id":3524474,"node_id":"MDQ6VXNlcjM1MjQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3524474?v=4","gravatar_id":"","url":"https://api.github.com/users/wschin","html_url":"https://github.com/wschin","followers_url":"https://api.github.com/users/wschin/followers","following_url":"https://api.github.com/users/wschin/following{/other_user}","gists_url":"https://api.github.com/users/wschin/gists{/gist_id}","starred_url":"https://api.github.com/users/wschin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wschin/subscriptions","organizations_url":"https://api.github.com/users/wschin/orgs","repos_url":"https://api.github.com/users/wschin/repos","events_url":"https://api.github.com/users/wschin/events{/privacy}","received_events_url":"https://api.github.com/users/wschin/received_events","type":"User","site_admin":false}},{"actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2019-02-06T18:38:32Z","updated_at":"2019-02-06T18:38:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/34","repository_url":"https://api.github.com/repos/onnx/sklearn-onnx","labels_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/34/labels{/name}","comments_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/34/comments","events_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/34/events","html_url":"https://github.com/onnx/sklearn-onnx/issues/34","id":403254033,"node_id":"MDU6SXNzdWU0MDMyNTQwMzM=","number":34,"title":"AttributeError: 'TypeProto' object has no attribute 'sequence_type'","user":{"login":"cvolcy","id":3706253,"node_id":"MDQ6VXNlcjM3MDYyNTM=","avatar_url":"https://avatars.githubusercontent.com/u/3706253?v=4","gravatar_id":"","url":"https://api.github.com/users/cvolcy","html_url":"https://github.com/cvolcy","followers_url":"https://api.github.com/users/cvolcy/followers","following_url":"https://api.github.com/users/cvolcy/following{/other_user}","gists_url":"https://api.github.com/users/cvolcy/gists{/gist_id}","starred_url":"https://api.github.com/users/cvolcy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cvolcy/subscriptions","organizations_url":"https://api.github.com/users/cvolcy/orgs","repos_url":"https://api.github.com/users/cvolcy/repos","events_url":"https://api.github.com/users/cvolcy/events{/privacy}","received_events_url":"https://api.github.com/users/cvolcy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-01-25T17:32:21Z","updated_at":"2019-02-10T14:03:48Z","closed_at":"2019-02-10T14:03:48Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":162340939,"node_id":"MDEwOlJlcG9zaXRvcnkxNjIzNDA5Mzk=","name":"sklearn-onnx","full_name":"onnx/sklearn-onnx","private":false,"owner":{"login":"onnx","id":31675368,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxNjc1MzY4","avatar_url":"https://avatars.githubusercontent.com/u/31675368?v=4","gravatar_id":"","url":"https://api.github.com/users/onnx","html_url":"https://github.com/onnx","followers_url":"https://api.github.com/users/onnx/followers","following_url":"https://api.github.com/users/onnx/following{/other_user}","gists_url":"https://api.github.com/users/onnx/gists{/gist_id}","starred_url":"https://api.github.com/users/onnx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onnx/subscriptions","organizations_url":"https://api.github.com/users/onnx/orgs","repos_url":"https://api.github.com/users/onnx/repos","events_url":"https://api.github.com/users/onnx/events{/privacy}","received_events_url":"https://api.github.com/users/onnx/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/onnx/sklearn-onnx","description":"Convert scikit-learn models and pipelines to ONNX","fork":false,"url":"https://api.github.com/repos/onnx/sklearn-onnx","forks_url":"https://api.github.com/repos/onnx/sklearn-onnx/forks","keys_url":"https://api.github.com/repos/onnx/sklearn-onnx/keys{/key_id}","collaborators_url":"https://api.github.com/repos/onnx/sklearn-onnx/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/onnx/sklearn-onnx/teams","hooks_url":"https://api.github.com/repos/onnx/sklearn-onnx/hooks","issue_events_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events{/number}","events_url":"https://api.github.com/repos/onnx/sklearn-onnx/events","assignees_url":"https://api.github.com/repos/onnx/sklearn-onnx/assignees{/user}","branches_url":"https://api.github.com/repos/onnx/sklearn-onnx/branches{/branch}","tags_url":"https://api.github.com/repos/onnx/sklearn-onnx/tags","blobs_url":"https://api.github.com/repos/onnx/sklearn-onnx/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/onnx/sklearn-onnx/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/onnx/sklearn-onnx/git/refs{/sha}","trees_url":"https://api.github.com/repos/onnx/sklearn-onnx/git/trees{/sha}","statuses_url":"https://api.github.com/repos/onnx/sklearn-onnx/statuses/{sha}","languages_url":"https://api.github.com/repos/onnx/sklearn-onnx/languages","stargazers_url":"https://api.github.com/repos/onnx/sklearn-onnx/stargazers","contributors_url":"https://api.github.com/repos/onnx/sklearn-onnx/contributors","subscribers_url":"https://api.github.com/repos/onnx/sklearn-onnx/subscribers","subscription_url":"https://api.github.com/repos/onnx/sklearn-onnx/subscription","commits_url":"https://api.github.com/repos/onnx/sklearn-onnx/commits{/sha}","git_commits_url":"https://api.github.com/repos/onnx/sklearn-onnx/git/commits{/sha}","comments_url":"https://api.github.com/repos/onnx/sklearn-onnx/comments{/number}","issue_comment_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments{/number}","contents_url":"https://api.github.com/repos/onnx/sklearn-onnx/contents/{+path}","compare_url":"https://api.github.com/repos/onnx/sklearn-onnx/compare/{base}...{head}","merges_url":"https://api.github.com/repos/onnx/sklearn-onnx/merges","archive_url":"https://api.github.com/repos/onnx/sklearn-onnx/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/onnx/sklearn-onnx/downloads","issues_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues{/number}","pulls_url":"https://api.github.com/repos/onnx/sklearn-onnx/pulls{/number}","milestones_url":"https://api.github.com/repos/onnx/sklearn-onnx/milestones{/number}","notifications_url":"https://api.github.com/repos/onnx/sklearn-onnx/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/onnx/sklearn-onnx/labels{/name}","releases_url":"https://api.github.com/repos/onnx/sklearn-onnx/releases{/id}","deployments_url":"https://api.github.com/repos/onnx/sklearn-onnx/deployments","created_at":"2018-12-18T20:18:48Z","updated_at":"2023-01-15T03:42:06Z","pushed_at":"2023-01-19T03:36:47Z","git_url":"git://github.com/onnx/sklearn-onnx.git","ssh_url":"git@github.com:onnx/sklearn-onnx.git","clone_url":"https://github.com/onnx/sklearn-onnx.git","svn_url":"https://github.com/onnx/sklearn-onnx","homepage":"","size":72005,"stargazers_count":399,"watchers_count":399,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":85,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":54,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["onnx","scikit-learn"],"visibility":"public","forks":85,"open_issues":54,"watchers":399,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm follwing the example from the documentation.\r\n\r\n```python\r\nfrom sklearn.datasets import load_iris\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.ensemble import RandomForestClassifier\r\n\r\nfrom skl2onnx import convert_sklearn\r\nfrom skl2onnx.common.data_types import FloatTensorType\r\n\r\niris = load_iris()\r\nX, y = iris.data, iris.target\r\n\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\n\r\nclf = RandomForestClassifier()\r\nclf.fit(X_train, y_train)\r\n\r\ninitial_type = [('float_input', FloatTensorType([1, 4]))]\r\nonx = convert_sklearn(clf, initial_types=initial_type)\r\nwith open(\"model.onnx\", \"wb\") as f:\r\n    f.write(onx.SerializeToString())\r\n```\r\nAnd i'm getting an AttributeError.\r\n```\r\nTraceback (most recent call last):\r\n  File \"iris.py\", line 17, in <module>\r\n    onx = convert_sklearn(clf, initial_types=initial_type)\r\n  File \"C:\\Users\\u0306\\Anaconda3\\envs\\onnx-tests\\lib\\site-packages\\skl2onnx\\convert.py\", line 78, in convert_sklearn\r\n    onnx_model = convert_topology(topology, name, doc_string, target_opset)\r\n  File \"C:\\Users\\u0306\\Anaconda3\\envs\\onnx-tests\\lib\\site-packages\\skl2onnx\\common\\_topology.py\", line 708, in convert_topology\r\n    container.add_output(other_outputs[name])\r\n  File \"C:\\Users\\u0306\\Anaconda3\\envs\\onnx-tests\\lib\\site-packages\\skl2onnx\\common\\_container.py\", line 152, in add_output\r\n    self.outputs.append(self._make_value_info(variable))\r\n  File \"C:\\Users\\u0306\\Anaconda3\\envs\\onnx-tests\\lib\\site-packages\\skl2onnx\\common\\_container.py\", line 133, in _make_value_info\r\n    value_info.type.CopyFrom(variable.type.to_onnx_type())\r\n  File \"C:\\Users\\u0306\\Anaconda3\\envs\\onnx-tests\\lib\\site-packages\\skl2onnx\\common\\data_types.py\", line 135, in to_onnx_type\r\n    onnx_type.sequence_type.elem_type.CopyFrom(self.element_type.to_onnx_type())\r\nAttributeError: 'TypeProto' object has no attribute 'sequence_type'\r\n```","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/34/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/34/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/465534237","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-465534237","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":465534237,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTUzNDIzNw==","user":{"login":"enpinzolas","id":8517355,"node_id":"MDQ6VXNlcjg1MTczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/8517355?v=4","gravatar_id":"","url":"https://api.github.com/users/enpinzolas","html_url":"https://github.com/enpinzolas","followers_url":"https://api.github.com/users/enpinzolas/followers","following_url":"https://api.github.com/users/enpinzolas/following{/other_user}","gists_url":"https://api.github.com/users/enpinzolas/gists{/gist_id}","starred_url":"https://api.github.com/users/enpinzolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enpinzolas/subscriptions","organizations_url":"https://api.github.com/users/enpinzolas/orgs","repos_url":"https://api.github.com/users/enpinzolas/repos","events_url":"https://api.github.com/users/enpinzolas/events{/privacy}","received_events_url":"https://api.github.com/users/enpinzolas/received_events","type":"User","site_admin":false},"created_at":"2019-02-20T11:21:13Z","updated_at":"2019-02-20T11:21:13Z","author_association":"NONE","body":"I have the same issue, I set the environment variable before reinstalling and I tried reinstalling both from source and pip to no avail.\r\n\r\nI have also tried reinstalling onnxmltools both from pip and source, after setting up the environment variable.","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/465534237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enpinzolas","id":8517355,"node_id":"MDQ6VXNlcjg1MTczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/8517355?v=4","gravatar_id":"","url":"https://api.github.com/users/enpinzolas","html_url":"https://github.com/enpinzolas","followers_url":"https://api.github.com/users/enpinzolas/followers","following_url":"https://api.github.com/users/enpinzolas/following{/other_user}","gists_url":"https://api.github.com/users/enpinzolas/gists{/gist_id}","starred_url":"https://api.github.com/users/enpinzolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enpinzolas/subscriptions","organizations_url":"https://api.github.com/users/enpinzolas/orgs","repos_url":"https://api.github.com/users/enpinzolas/repos","events_url":"https://api.github.com/users/enpinzolas/events{/privacy}","received_events_url":"https://api.github.com/users/enpinzolas/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/465679218","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-465679218","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":465679218,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTY3OTIxOA==","user":{"login":"wschin","id":3524474,"node_id":"MDQ6VXNlcjM1MjQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3524474?v=4","gravatar_id":"","url":"https://api.github.com/users/wschin","html_url":"https://github.com/wschin","followers_url":"https://api.github.com/users/wschin/followers","following_url":"https://api.github.com/users/wschin/following{/other_user}","gists_url":"https://api.github.com/users/wschin/gists{/gist_id}","starred_url":"https://api.github.com/users/wschin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wschin/subscriptions","organizations_url":"https://api.github.com/users/wschin/orgs","repos_url":"https://api.github.com/users/wschin/repos","events_url":"https://api.github.com/users/wschin/events{/privacy}","received_events_url":"https://api.github.com/users/wschin/received_events","type":"User","site_admin":false},"created_at":"2019-02-20T17:35:11Z","updated_at":"2019-02-20T17:35:11Z","author_association":"CONTRIBUTOR","body":"What's your OS? Could you provide more details like printing out your environment variables?","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/465679218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wschin","id":3524474,"node_id":"MDQ6VXNlcjM1MjQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3524474?v=4","gravatar_id":"","url":"https://api.github.com/users/wschin","html_url":"https://github.com/wschin","followers_url":"https://api.github.com/users/wschin/followers","following_url":"https://api.github.com/users/wschin/following{/other_user}","gists_url":"https://api.github.com/users/wschin/gists{/gist_id}","starred_url":"https://api.github.com/users/wschin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wschin/subscriptions","organizations_url":"https://api.github.com/users/wschin/orgs","repos_url":"https://api.github.com/users/wschin/repos","events_url":"https://api.github.com/users/wschin/events{/privacy}","received_events_url":"https://api.github.com/users/wschin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/465914227","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-465914227","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":465914227,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTkxNDIyNw==","user":{"login":"enpinzolas","id":8517355,"node_id":"MDQ6VXNlcjg1MTczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/8517355?v=4","gravatar_id":"","url":"https://api.github.com/users/enpinzolas","html_url":"https://github.com/enpinzolas","followers_url":"https://api.github.com/users/enpinzolas/followers","following_url":"https://api.github.com/users/enpinzolas/following{/other_user}","gists_url":"https://api.github.com/users/enpinzolas/gists{/gist_id}","starred_url":"https://api.github.com/users/enpinzolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enpinzolas/subscriptions","organizations_url":"https://api.github.com/users/enpinzolas/orgs","repos_url":"https://api.github.com/users/enpinzolas/repos","events_url":"https://api.github.com/users/enpinzolas/events{/privacy}","received_events_url":"https://api.github.com/users/enpinzolas/received_events","type":"User","site_admin":false},"created_at":"2019-02-21T08:51:16Z","updated_at":"2019-02-21T08:51:16Z","author_association":"NONE","body":"Sure. I'm on linux, a Ubuntu 16.04 machine. These are the environment variables:\r\n```\r\nXDG_SESSION_ID=216\r\nTERM=xterm\r\nSHELL=/bin/bash\r\nSSH_CLIENT=XXXXXXXX\r\nCONDA_SHLVL=2\r\nCONDA_PROMPT_MODIFIER=(onnx)\r\nOLDPWD=/home/XXX\r\nSSH_TTY=/dev/pts/1\r\nhttp_proxy=XXXXXXXXXXXXXXXXX\r\nUSER=XXX\r\nLS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:\r\nONNX_ML=1\r\nCONDA_EXE=/home/XXX/.miniconda/bin/conda\r\nCONDA_PREFIX_1=/home/XXX/.miniconda\r\nMAIL=/var/mail/XXX\r\nPATH=/home/XXX/.miniconda/envs/onnx/bin:/home/XXX/bin:/home/XXX/.local/bin:/home/XXX/.miniconda/bin:/home/XXX/.miniconda/condabin:/home/XXX/.miniconda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\nCONDA_PREFIX=/home/XXX/.miniconda/envs/onnx\r\nPWD=/var/opt/MLFramework Test/onnx\r\nLANG=es_ES.UTF-8\r\nhttps_proxy=XXXXXXXXXXXXXX\r\nSHLVL=1\r\nHOME=/home/XXX\r\nCONDA_PYTHON_EXE=/home/XXX/.miniconda/bin/python\r\nLOGNAME=XXX\r\nXDG_DATA_DIRS=/usr/local/share:/usr/share:/var/lib/snapd/desktop\r\nSSH_CONNECTION=XXXXXXXXXXXXXXXXXXXX\r\nCONDA_DEFAULT_ENV=onnx\r\nLESSOPEN=| /usr/bin/lesspipe %s\r\nXDG_RUNTIME_DIR=/run/user/1000\r\nLESSCLOSE=/usr/bin/lesspipe %s %s\r\n_=/usr/bin/printenv\r\n```\r\n\r\nAnd this is the execution output.\r\n\r\n```bash\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ echo $ONNX_ML\r\n1\r\n```\r\n```bash\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ pip install -I onnx\r\nCollecting onnx\r\nCollecting six (from onnx)\r\n  Using cached https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\r\nCollecting typing>=3.6.4 (from onnx)\r\n  Using cached https://files.pythonhosted.org/packages/4a/bd/eee1157fc2d8514970b345d69cb9975dcd1e42cd7e61146ed841f6e68309/typing-3.6.6-py3-none-any.whl\r\nCollecting protobuf (from onnx)\r\n  Using cached https://files.pythonhosted.org/packages/3a/30/289ead101f94998d88e8961a3548aea29417ae0057be23972483cddebf4f/protobuf-3.6.1-cp37-cp37m-manylinux1_x86_64.whl\r\nCollecting numpy (from onnx)\r\n  Using cached https://files.pythonhosted.org/packages/61/57/07c49e1a6d2706fb7336b3fb11dd285c1e96535c80833d7524f002f57086/numpy-1.16.1-cp37-cp37m-manylinux1_x86_64.whl\r\nCollecting typing-extensions>=3.6.2.1 (from onnx)\r\n  Using cached https://files.pythonhosted.org/packages/0f/62/c66e553258c37c33f9939abb2dd8d2481803d860ff68e635466f12aa7efa/typing_extensions-3.7.2-py3-none-any.whl\r\nCollecting setuptools (from protobuf->onnx)\r\n  Using cached https://files.pythonhosted.org/packages/d1/6a/4b2fcefd2ea0868810e92d519dacac1ddc64a2e53ba9e3422c3b62b378a6/setuptools-40.8.0-py2.py3-none-any.whl\r\nInstalling collected packages: six, typing, setuptools, protobuf, numpy, typing-extensions, onnx\r\nSuccessfully installed numpy-1.16.1 onnx-1.4.1 protobuf-3.6.1 setuptools-40.8.0 six-1.12.0 typing-3.6.6 typing-extensions-3.7.2\r\n```\r\n```bash\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ pip install -I onnxmltools\r\nCollecting onnxmltools\r\n  Using cached https://files.pythonhosted.org/packages/9a/e6/083b6fe47400f49f02e1909b8327c955e0a3a2f64477bb524528a73960f6/onnxmltools-1.3.1-py2.py3-none-any.whl\r\nCollecting six (from onnxmltools)\r\n  Using cached https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\r\nCollecting numpy (from onnxmltools)\r\n  Using cached https://files.pythonhosted.org/packages/61/57/07c49e1a6d2706fb7336b3fb11dd285c1e96535c80833d7524f002f57086/numpy-1.16.1-cp37-cp37m-manylinux1_x86_64.whl\r\nCollecting protobuf (from onnxmltools)\r\n  Using cached https://files.pythonhosted.org/packages/3a/30/289ead101f94998d88e8961a3548aea29417ae0057be23972483cddebf4f/protobuf-3.6.1-cp37-cp37m-manylinux1_x86_64.whl\r\nCollecting onnx (from onnxmltools)\r\nCollecting setuptools (from protobuf->onnxmltools)\r\n  Using cached https://files.pythonhosted.org/packages/d1/6a/4b2fcefd2ea0868810e92d519dacac1ddc64a2e53ba9e3422c3b62b378a6/setuptools-40.8.0-py2.py3-none-any.whl\r\nCollecting typing>=3.6.4 (from onnx->onnxmltools)\r\n  Using cached https://files.pythonhosted.org/packages/4a/bd/eee1157fc2d8514970b345d69cb9975dcd1e42cd7e61146ed841f6e68309/typing-3.6.6-py3-none-any.whl\r\nCollecting typing-extensions>=3.6.2.1 (from onnx->onnxmltools)\r\n  Using cached https://files.pythonhosted.org/packages/0f/62/c66e553258c37c33f9939abb2dd8d2481803d860ff68e635466f12aa7efa/typing_extensions-3.7.2-py3-none-any.whl\r\nInstalling collected packages: six, numpy, setuptools, protobuf, typing, typing-extensions, onnx, onnxmltools\r\nSuccessfully installed numpy-1.16.1 onnx-1.4.1 onnxmltools-1.3.1 protobuf-3.6.1 setuptools-40.8.0 six-1.12.0 typing-3.6.6 typing-extensions-3.7.2\r\n```\r\n```bash\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ python onnx-tutorial.py\r\n/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to 'lbfgs' in 0.22. Specify a solver to silence this warning.\r\n  FutureWarning)\r\n/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to 'auto' in 0.22. Specify the multi_class option to silence this warning.\r\n  \"this warning.\", FutureWarning)\r\nLogisticRegression(C=1.0, class_weight=None, dual=False, fit_intercept=True,\r\n          intercept_scaling=1, max_iter=100, multi_class='warn',\r\n          n_jobs=None, penalty='l2', random_state=None, solver='warn',\r\n          tol=0.0001, verbose=0, warm_start=False)\r\nTraceback (most recent call last):\r\n  File \"onnx-tutorial.py\", line 17, in <module>\r\n    onx = convert_sklearn(clr, initial_types=initial_type)\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/main.py\", line 50, in convert_sklearn\r\n    custom_conversion_functions, custom_shape_calculators)\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/sklearn/convert.py\", line 93, in convert\r\n    topology.compile()\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/_topology.py\", line 625, in compile\r\n    self._infer_all_types()\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/_topology.py\", line 501, in _infer_all_types\r\n    operator.infer_types()\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/_topology.py\", line 103, in infer_types\r\n    _registration.get_shape_calculator(self.type)(self)\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/shape_calculator.py\", line 28, in calculate_linear_classifier_output_shapes\r\n    check_input_and_output_types(operator, good_input_types=[FloatTensorType, Int64TensorType])\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/utils.py\", line 290, in check_input_and_output_types\r\n    good_input_types))\r\nRuntimeError: Operator SklearnLinearClassifier (type: SklearnLinearClassifier) got an input float_input with a wrong type <class 'skl2onnx.common.data_types.FloatTensorType'>. Only [<class 'onnxmltools.convert.common.data_types.FloatTensorType'>, <class 'onnxmltools.convert.common.data_types.Int64TensorType'>] are allowed\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ python onnx-tutorial.py\r\n/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to 'lbfgs' in 0.22. Specify a solver to silence this warning.\r\n  FutureWarning)\r\n/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to 'auto' in 0.22. Specify the multi_class option to silence this warning.\r\n  \"this warning.\", FutureWarning)\r\nLogisticRegression(C=1.0, class_weight=None, dual=False, fit_intercept=True,\r\n          intercept_scaling=1, max_iter=100, multi_class='warn',\r\n          n_jobs=None, penalty='l2', random_state=None, solver='warn',\r\n          tol=0.0001, verbose=0, warm_start=False)\r\nTraceback (most recent call last):\r\n  File \"onnx-tutorial.py\", line 17, in <module>\r\n    onx = convert_sklearn(clr, initial_types=initial_type)\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/main.py\", line 50, in convert_sklearn\r\n    custom_conversion_functions, custom_shape_calculators)\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/sklearn/convert.py\", line 96, in convert\r\n    onnx_model = convert_topology(topology, name, doc_string, target_opset, targeted_onnx)\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/_topology.py\", line 712, in convert_topology\r\n    container.add_output(other_outputs[name])\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/_container.py\", line 165, in add_output\r\n    self.outputs.append(self._make_value_info(variable))\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/_container.py\", line 146, in _make_value_info\r\n    value_info.type.CopyFrom(variable.type.to_onnx_type())\r\n  File \"/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages/onnxmltools/convert/common/data_types.py\", line 135, in to_onnx_type\r\n    onnx_type.sequence_type.elem_type.CopyFrom(self.element_type.to_onnx_type())\r\nAttributeError: 'TypeProto' object has no attribute 'sequence_type'\r\n\r\n```\r\n\r\nThere are some warnings but I don't think that they are about the error.\r\n\r\nLastly, this is the code that I'm trying to execute:\r\n\r\n```python\r\nfrom sklearn.datasets import load_iris\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.linear_model import LogisticRegression\r\nfrom onnxmltools import convert_sklearn\r\nfrom onnxmltools.convert.common.data_types import FloatTensorType\r\n\r\niris = load_iris()\r\nX, y = iris.data, iris.target\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\n\r\nclr = LogisticRegression()\r\nclr.fit(X_train, y_train)\r\nprint(clr)\r\n\r\n\r\ninitial_type = [('float_input', FloatTensorType([1, 4]))]\r\nonx = convert_sklearn(clr, initial_types=initial_type)\r\nwith open(\"logreg_iris.onnx\", \"wb\") as f:\r\n    f.write(onx.SerializeToString())\r\n```\r\n\r\nI must be doing something wrong but I am not seeing it!","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/465914227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enpinzolas","id":8517355,"node_id":"MDQ6VXNlcjg1MTczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/8517355?v=4","gravatar_id":"","url":"https://api.github.com/users/enpinzolas","html_url":"https://github.com/enpinzolas","followers_url":"https://api.github.com/users/enpinzolas/followers","following_url":"https://api.github.com/users/enpinzolas/following{/other_user}","gists_url":"https://api.github.com/users/enpinzolas/gists{/gist_id}","starred_url":"https://api.github.com/users/enpinzolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enpinzolas/subscriptions","organizations_url":"https://api.github.com/users/enpinzolas/orgs","repos_url":"https://api.github.com/users/enpinzolas/repos","events_url":"https://api.github.com/users/enpinzolas/events{/privacy}","received_events_url":"https://api.github.com/users/enpinzolas/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/466094188","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-466094188","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":466094188,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjA5NDE4OA==","user":{"login":"wschin","id":3524474,"node_id":"MDQ6VXNlcjM1MjQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3524474?v=4","gravatar_id":"","url":"https://api.github.com/users/wschin","html_url":"https://github.com/wschin","followers_url":"https://api.github.com/users/wschin/followers","following_url":"https://api.github.com/users/wschin/following{/other_user}","gists_url":"https://api.github.com/users/wschin/gists{/gist_id}","starred_url":"https://api.github.com/users/wschin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wschin/subscriptions","organizations_url":"https://api.github.com/users/wschin/orgs","repos_url":"https://api.github.com/users/wschin/repos","events_url":"https://api.github.com/users/wschin/events{/privacy}","received_events_url":"https://api.github.com/users/wschin/received_events","type":"User","site_admin":false},"created_at":"2019-02-21T17:40:25Z","updated_at":"2019-02-21T17:40:25Z","author_association":"CONTRIBUTOR","body":"Looks like you're using anaconda, so there could be multiple different python environments. Are you sure that `pip` and `python` are associated to the same environment? Could you print out the package installation paths and the module paths imported in your script?","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/466094188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wschin","id":3524474,"node_id":"MDQ6VXNlcjM1MjQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3524474?v=4","gravatar_id":"","url":"https://api.github.com/users/wschin","html_url":"https://github.com/wschin","followers_url":"https://api.github.com/users/wschin/followers","following_url":"https://api.github.com/users/wschin/following{/other_user}","gists_url":"https://api.github.com/users/wschin/gists{/gist_id}","starred_url":"https://api.github.com/users/wschin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wschin/subscriptions","organizations_url":"https://api.github.com/users/wschin/orgs","repos_url":"https://api.github.com/users/wschin/repos","events_url":"https://api.github.com/users/wschin/events{/privacy}","received_events_url":"https://api.github.com/users/wschin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/466316634","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-466316634","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":466316634,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjMxNjYzNA==","user":{"login":"enpinzolas","id":8517355,"node_id":"MDQ6VXNlcjg1MTczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/8517355?v=4","gravatar_id":"","url":"https://api.github.com/users/enpinzolas","html_url":"https://github.com/enpinzolas","followers_url":"https://api.github.com/users/enpinzolas/followers","following_url":"https://api.github.com/users/enpinzolas/following{/other_user}","gists_url":"https://api.github.com/users/enpinzolas/gists{/gist_id}","starred_url":"https://api.github.com/users/enpinzolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enpinzolas/subscriptions","organizations_url":"https://api.github.com/users/enpinzolas/orgs","repos_url":"https://api.github.com/users/enpinzolas/repos","events_url":"https://api.github.com/users/enpinzolas/events{/privacy}","received_events_url":"https://api.github.com/users/enpinzolas/received_events","type":"User","site_admin":false},"created_at":"2019-02-22T08:32:32Z","updated_at":"2019-02-22T08:32:52Z","author_association":"NONE","body":"Thank you for your time.\r\n\r\nBoth pip and conda are indeed associated to the same environment:\r\n\r\n```\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ which python\r\n/home/XXX/.miniconda/envs/onnx/bin/python\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ which pip\r\n/home/XXX/.miniconda/envs/onnx/bin/pip\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ python -c \"import site; print(site.getsitepackages())\"\r\n['/home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages']\r\n```\r\nInside the packages site are these packages (I'm excludiong those that are not the ones I used in the script besides the ones related to onnx):\r\n\r\n```\r\n(onnx) XXX@ubuntu:/var/opt/MLFramework Test/onnx$ ls /home/XXX/.miniconda/envs/onnx/lib/python3.7/site-packages -lha\r\n{...}\r\ndrwxrwxr-x  14 XXX XXX 4,0K feb 21 09:39 onnx\r\ndrwxrwxr-x   2 XXX XXX 4,0K feb 21 09:39 onnx-1.4.1.dist-info\r\ndrwxrwxr-x   6 XXX XXX 4,0K feb 21 09:39 onnxmltools\r\ndrwxrwxr-x   2 XXX XXX 4,0K feb 21 09:39 onnxmltools-1.3.1.dist-info\r\ndrwxrwxr-x   7 XXX XXX 4,0K feb 20 09:27 onnxruntime\r\ndrwxrwxr-x   2 XXX XXX 4,0K feb 20 09:27 onnxruntime-0.2.1.dist-info\r\ndrwxrwxr-x   3 XXX XXX 4,0K feb 20 12:16 onnxtk\r\ndrwxrwxr-x   2 XXX XXX 4,0K feb 20 12:16 onnxtk-0.0.1.dist-info\r\n{...}\r\ndrwxrwxr-x   2 XXX XXX 4,0K feb 20 09:28 scikit_learn-0.20.2.dist-info\r\ndrwxrwxr-x   7 XXX XXX 4,0K feb 20 12:16 scikitonx\r\ndrwxrwxr-x  22 XXX XXX 4,0K feb 20 12:16 scipy\r\ndrwxrwxr-x   2 XXX XXX 4,0K feb 20 12:16 scipy-1.2.1.dist-info\r\n{...}\r\ndrwxrwxr-x   7 XXX XXX 4,0K feb 20 12:16 skl2onnx\r\ndrwxrwxr-x   2 XXX XXX 4,0K feb 20 12:16 skl2onnx-1.4.2.dist-info\r\ndrwxrwxr-x  29 XXX XXX 4,0K feb 20 09:28 sklearn\r\n{...}\r\ndrwxrwxr-x   6 XXX XXX 4,0K feb 20 12:17 tf2onnx\r\ndrwxrwxr-x   2 XXX XXX 4,0K feb 20 12:17 tf2onnx-0.3.2.dist-info\r\n{...}\r\n```\r\n\r\nBy the way, if I install though pip I need to use `onnxmltools.convert.common.data_types` while if I  install through source it requires `skl2onnx.common.data_types`. Is this normal? Which version is the more robust one?","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/466316634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enpinzolas","id":8517355,"node_id":"MDQ6VXNlcjg1MTczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/8517355?v=4","gravatar_id":"","url":"https://api.github.com/users/enpinzolas","html_url":"https://github.com/enpinzolas","followers_url":"https://api.github.com/users/enpinzolas/followers","following_url":"https://api.github.com/users/enpinzolas/following{/other_user}","gists_url":"https://api.github.com/users/enpinzolas/gists{/gist_id}","starred_url":"https://api.github.com/users/enpinzolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enpinzolas/subscriptions","organizations_url":"https://api.github.com/users/enpinzolas/orgs","repos_url":"https://api.github.com/users/enpinzolas/repos","events_url":"https://api.github.com/users/enpinzolas/events{/privacy}","received_events_url":"https://api.github.com/users/enpinzolas/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/466497695","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-466497695","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":466497695,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjQ5NzY5NQ==","user":{"login":"wenbingl","id":10278425,"node_id":"MDQ6VXNlcjEwMjc4NDI1","avatar_url":"https://avatars.githubusercontent.com/u/10278425?v=4","gravatar_id":"","url":"https://api.github.com/users/wenbingl","html_url":"https://github.com/wenbingl","followers_url":"https://api.github.com/users/wenbingl/followers","following_url":"https://api.github.com/users/wenbingl/following{/other_user}","gists_url":"https://api.github.com/users/wenbingl/gists{/gist_id}","starred_url":"https://api.github.com/users/wenbingl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenbingl/subscriptions","organizations_url":"https://api.github.com/users/wenbingl/orgs","repos_url":"https://api.github.com/users/wenbingl/repos","events_url":"https://api.github.com/users/wenbingl/events{/privacy}","received_events_url":"https://api.github.com/users/wenbingl/received_events","type":"User","site_admin":false},"created_at":"2019-02-22T18:28:04Z","updated_at":"2019-02-22T18:28:04Z","author_association":"MEMBER","body":"The latest ONNX package already has ONNX_ML==1 set by default, please have a try.\r\nThere are some recent changes that sklearn converter has separated from onnxmltools so the answer is skl2onnx.common.data_types. \r\n","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/466497695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wenbingl","id":10278425,"node_id":"MDQ6VXNlcjEwMjc4NDI1","avatar_url":"https://avatars.githubusercontent.com/u/10278425?v=4","gravatar_id":"","url":"https://api.github.com/users/wenbingl","html_url":"https://github.com/wenbingl","followers_url":"https://api.github.com/users/wenbingl/followers","following_url":"https://api.github.com/users/wenbingl/following{/other_user}","gists_url":"https://api.github.com/users/wenbingl/gists{/gist_id}","starred_url":"https://api.github.com/users/wenbingl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenbingl/subscriptions","organizations_url":"https://api.github.com/users/wenbingl/orgs","repos_url":"https://api.github.com/users/wenbingl/repos","events_url":"https://api.github.com/users/wenbingl/events{/privacy}","received_events_url":"https://api.github.com/users/wenbingl/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/469241053","html_url":"https://github.com/onnx/onnxmltools/issues/135#issuecomment-469241053","issue_url":"https://api.github.com/repos/onnx/onnxmltools/issues/135","id":469241053,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTI0MTA1Mw==","user":{"login":"enpinzolas","id":8517355,"node_id":"MDQ6VXNlcjg1MTczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/8517355?v=4","gravatar_id":"","url":"https://api.github.com/users/enpinzolas","html_url":"https://github.com/enpinzolas","followers_url":"https://api.github.com/users/enpinzolas/followers","following_url":"https://api.github.com/users/enpinzolas/following{/other_user}","gists_url":"https://api.github.com/users/enpinzolas/gists{/gist_id}","starred_url":"https://api.github.com/users/enpinzolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enpinzolas/subscriptions","organizations_url":"https://api.github.com/users/enpinzolas/orgs","repos_url":"https://api.github.com/users/enpinzolas/repos","events_url":"https://api.github.com/users/enpinzolas/events{/privacy}","received_events_url":"https://api.github.com/users/enpinzolas/received_events","type":"User","site_admin":false},"created_at":"2019-03-04T12:49:03Z","updated_at":"2019-03-04T12:49:03Z","author_association":"NONE","body":"In the end, I was trying to test other ways to deploy models, and I installed onnx from anaconda by chance. With this onnx version, the script executed correctly.\r\n\r\nIts a pitty that I'm not 100% sure if it was the onnx version or another thing, but I got it to work by installing onnx through:\r\n```bash \r\n conda install -y -c conda-forge onnx\r\n```","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments/469241053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enpinzolas","id":8517355,"node_id":"MDQ6VXNlcjg1MTczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/8517355?v=4","gravatar_id":"","url":"https://api.github.com/users/enpinzolas","html_url":"https://github.com/enpinzolas","followers_url":"https://api.github.com/users/enpinzolas/followers","following_url":"https://api.github.com/users/enpinzolas/following{/other_user}","gists_url":"https://api.github.com/users/enpinzolas/gists{/gist_id}","starred_url":"https://api.github.com/users/enpinzolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enpinzolas/subscriptions","organizations_url":"https://api.github.com/users/enpinzolas/orgs","repos_url":"https://api.github.com/users/enpinzolas/repos","events_url":"https://api.github.com/users/enpinzolas/events{/privacy}","received_events_url":"https://api.github.com/users/enpinzolas/received_events","type":"User","site_admin":false}},{"actor":{"login":"AwasthiMaddy","id":16477787,"node_id":"MDQ6VXNlcjE2NDc3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/16477787?v=4","gravatar_id":"","url":"https://api.github.com/users/AwasthiMaddy","html_url":"https://github.com/AwasthiMaddy","followers_url":"https://api.github.com/users/AwasthiMaddy/followers","following_url":"https://api.github.com/users/AwasthiMaddy/following{/other_user}","gists_url":"https://api.github.com/users/AwasthiMaddy/gists{/gist_id}","starred_url":"https://api.github.com/users/AwasthiMaddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AwasthiMaddy/subscriptions","organizations_url":"https://api.github.com/users/AwasthiMaddy/orgs","repos_url":"https://api.github.com/users/AwasthiMaddy/repos","events_url":"https://api.github.com/users/AwasthiMaddy/events{/privacy}","received_events_url":"https://api.github.com/users/AwasthiMaddy/received_events","type":"User","site_admin":false},"created_at":"2019-04-17T18:31:37Z","updated_at":"2019-04-17T18:31:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/285","repository_url":"https://api.github.com/repos/onnx/onnxmltools","labels_url":"https://api.github.com/repos/onnx/onnxmltools/issues/285/labels{/name}","comments_url":"https://api.github.com/repos/onnx/onnxmltools/issues/285/comments","events_url":"https://api.github.com/repos/onnx/onnxmltools/issues/285/events","html_url":"https://github.com/onnx/onnxmltools/issues/285","id":434415495,"node_id":"MDU6SXNzdWU0MzQ0MTU0OTU=","number":285,"title":"Unsupported splitting criterion error in convert_lightgbm","user":{"login":"AwasthiMaddy","id":16477787,"node_id":"MDQ6VXNlcjE2NDc3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/16477787?v=4","gravatar_id":"","url":"https://api.github.com/users/AwasthiMaddy","html_url":"https://github.com/AwasthiMaddy","followers_url":"https://api.github.com/users/AwasthiMaddy/followers","following_url":"https://api.github.com/users/AwasthiMaddy/following{/other_user}","gists_url":"https://api.github.com/users/AwasthiMaddy/gists{/gist_id}","starred_url":"https://api.github.com/users/AwasthiMaddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AwasthiMaddy/subscriptions","organizations_url":"https://api.github.com/users/AwasthiMaddy/orgs","repos_url":"https://api.github.com/users/AwasthiMaddy/repos","events_url":"https://api.github.com/users/AwasthiMaddy/events{/privacy}","received_events_url":"https://api.github.com/users/AwasthiMaddy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-04-17T18:05:30Z","updated_at":"2019-04-18T22:00:45Z","closed_at":"2019-04-18T22:00:45Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":121798175,"node_id":"MDEwOlJlcG9zaXRvcnkxMjE3OTgxNzU=","name":"onnxmltools","full_name":"onnx/onnxmltools","private":false,"owner":{"login":"onnx","id":31675368,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxNjc1MzY4","avatar_url":"https://avatars.githubusercontent.com/u/31675368?v=4","gravatar_id":"","url":"https://api.github.com/users/onnx","html_url":"https://github.com/onnx","followers_url":"https://api.github.com/users/onnx/followers","following_url":"https://api.github.com/users/onnx/following{/other_user}","gists_url":"https://api.github.com/users/onnx/gists{/gist_id}","starred_url":"https://api.github.com/users/onnx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onnx/subscriptions","organizations_url":"https://api.github.com/users/onnx/orgs","repos_url":"https://api.github.com/users/onnx/repos","events_url":"https://api.github.com/users/onnx/events{/privacy}","received_events_url":"https://api.github.com/users/onnx/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/onnx/onnxmltools","description":"ONNXMLTools enables conversion of models to ONNX","fork":false,"url":"https://api.github.com/repos/onnx/onnxmltools","forks_url":"https://api.github.com/repos/onnx/onnxmltools/forks","keys_url":"https://api.github.com/repos/onnx/onnxmltools/keys{/key_id}","collaborators_url":"https://api.github.com/repos/onnx/onnxmltools/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/onnx/onnxmltools/teams","hooks_url":"https://api.github.com/repos/onnx/onnxmltools/hooks","issue_events_url":"https://api.github.com/repos/onnx/onnxmltools/issues/events{/number}","events_url":"https://api.github.com/repos/onnx/onnxmltools/events","assignees_url":"https://api.github.com/repos/onnx/onnxmltools/assignees{/user}","branches_url":"https://api.github.com/repos/onnx/onnxmltools/branches{/branch}","tags_url":"https://api.github.com/repos/onnx/onnxmltools/tags","blobs_url":"https://api.github.com/repos/onnx/onnxmltools/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/onnx/onnxmltools/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/onnx/onnxmltools/git/refs{/sha}","trees_url":"https://api.github.com/repos/onnx/onnxmltools/git/trees{/sha}","statuses_url":"https://api.github.com/repos/onnx/onnxmltools/statuses/{sha}","languages_url":"https://api.github.com/repos/onnx/onnxmltools/languages","stargazers_url":"https://api.github.com/repos/onnx/onnxmltools/stargazers","contributors_url":"https://api.github.com/repos/onnx/onnxmltools/contributors","subscribers_url":"https://api.github.com/repos/onnx/onnxmltools/subscribers","subscription_url":"https://api.github.com/repos/onnx/onnxmltools/subscription","commits_url":"https://api.github.com/repos/onnx/onnxmltools/commits{/sha}","git_commits_url":"https://api.github.com/repos/onnx/onnxmltools/git/commits{/sha}","comments_url":"https://api.github.com/repos/onnx/onnxmltools/comments{/number}","issue_comment_url":"https://api.github.com/repos/onnx/onnxmltools/issues/comments{/number}","contents_url":"https://api.github.com/repos/onnx/onnxmltools/contents/{+path}","compare_url":"https://api.github.com/repos/onnx/onnxmltools/compare/{base}...{head}","merges_url":"https://api.github.com/repos/onnx/onnxmltools/merges","archive_url":"https://api.github.com/repos/onnx/onnxmltools/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/onnx/onnxmltools/downloads","issues_url":"https://api.github.com/repos/onnx/onnxmltools/issues{/number}","pulls_url":"https://api.github.com/repos/onnx/onnxmltools/pulls{/number}","milestones_url":"https://api.github.com/repos/onnx/onnxmltools/milestones{/number}","notifications_url":"https://api.github.com/repos/onnx/onnxmltools/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/onnx/onnxmltools/labels{/name}","releases_url":"https://api.github.com/repos/onnx/onnxmltools/releases{/id}","deployments_url":"https://api.github.com/repos/onnx/onnxmltools/deployments","created_at":"2018-02-16T20:37:33Z","updated_at":"2023-01-18T07:05:25Z","pushed_at":"2023-01-18T18:13:14Z","git_url":"git://github.com/onnx/onnxmltools.git","ssh_url":"git@github.com:onnx/onnxmltools.git","clone_url":"https://github.com/onnx/onnxmltools.git","svn_url":"https://github.com/onnx/onnxmltools","homepage":"https://onnx.ai","size":3395,"stargazers_count":720,"watchers_count":720,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":161,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":104,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["keras","machine-learning","onnx","python-library","scikit-learn"],"visibility":"public","forks":161,"open_issues":104,"watchers":720,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi \r\n\r\nI am facing below error          \r\n`ValueError: Unsupported splitting criterion: %s. Only <=, <, >=, and > are allowed.`     \r\nwhile converting my LGBMClassifier model to ONNX.  \r\n\r\nPython - 3.7.1 installed through Anaconda on Mac\r\nONNX installed through `conda install -y -c conda-forge onnx`      \r\nonnxmltools & onnxruntime installed through pip      \r\n\r\nAny idea what is causing this error and how to resolve it?       \r\nDoes sklearn API of lightgbm is not supported for converting to onnx?","reactions":{"url":"https://api.github.com/repos/onnx/onnxmltools/issues/285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/onnxmltools/issues/285/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]