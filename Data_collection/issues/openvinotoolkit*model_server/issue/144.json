{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/144","repository_url":"https://api.github.com/repos/openvinotoolkit/model_server","labels_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/144/labels{/name}","comments_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/144/comments","events_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/144/events","html_url":"https://github.com/openvinotoolkit/model_server/issues/144","id":567728734,"node_id":"MDU6SXNzdWU1Njc3Mjg3MzQ=","number":144,"title":"Model Server Hangs with --target_device=MYRIAD","user":{"login":"dcflachs","id":11656775,"node_id":"MDQ6VXNlcjExNjU2Nzc1","avatar_url":"https://avatars.githubusercontent.com/u/11656775?v=4","gravatar_id":"","url":"https://api.github.com/users/dcflachs","html_url":"https://github.com/dcflachs","followers_url":"https://api.github.com/users/dcflachs/followers","following_url":"https://api.github.com/users/dcflachs/following{/other_user}","gists_url":"https://api.github.com/users/dcflachs/gists{/gist_id}","starred_url":"https://api.github.com/users/dcflachs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcflachs/subscriptions","organizations_url":"https://api.github.com/users/dcflachs/orgs","repos_url":"https://api.github.com/users/dcflachs/repos","events_url":"https://api.github.com/users/dcflachs/events{/privacy}","received_events_url":"https://api.github.com/users/dcflachs/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"kromanow94","id":24961770,"node_id":"MDQ6VXNlcjI0OTYxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/24961770?v=4","gravatar_id":"","url":"https://api.github.com/users/kromanow94","html_url":"https://github.com/kromanow94","followers_url":"https://api.github.com/users/kromanow94/followers","following_url":"https://api.github.com/users/kromanow94/following{/other_user}","gists_url":"https://api.github.com/users/kromanow94/gists{/gist_id}","starred_url":"https://api.github.com/users/kromanow94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kromanow94/subscriptions","organizations_url":"https://api.github.com/users/kromanow94/orgs","repos_url":"https://api.github.com/users/kromanow94/repos","events_url":"https://api.github.com/users/kromanow94/events{/privacy}","received_events_url":"https://api.github.com/users/kromanow94/received_events","type":"User","site_admin":false},"assignees":[{"login":"kromanow94","id":24961770,"node_id":"MDQ6VXNlcjI0OTYxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/24961770?v=4","gravatar_id":"","url":"https://api.github.com/users/kromanow94","html_url":"https://github.com/kromanow94","followers_url":"https://api.github.com/users/kromanow94/followers","following_url":"https://api.github.com/users/kromanow94/following{/other_user}","gists_url":"https://api.github.com/users/kromanow94/gists{/gist_id}","starred_url":"https://api.github.com/users/kromanow94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kromanow94/subscriptions","organizations_url":"https://api.github.com/users/kromanow94/orgs","repos_url":"https://api.github.com/users/kromanow94/repos","events_url":"https://api.github.com/users/kromanow94/events{/privacy}","received_events_url":"https://api.github.com/users/kromanow94/received_events","type":"User","site_admin":false}],"milestone":null,"comments":8,"created_at":"2020-02-19T17:45:34Z","updated_at":"2020-02-26T14:48:19Z","closed_at":"2020-02-24T17:46:48Z","author_association":"NONE","active_lock_reason":null,"body":"So this issue is similar to other posted involving NCS2 devices and the Myriad plugin in docker, but i think the specifics here may be unique. After many attempts i was finally able to build an image based on [this](https://docs.openvinotoolkit.org/latest/_docs_install_guides_installing_openvino_docker_linux.html) guide, your Dockerfile_binary_openvino and the Open Vino Workbench dockerfile in which i could access my NCS2 device. I can confirm access to the MYRIAD device by using the `demo_squeezenet_download_convert_run.sh` script from the openvino installation with a MYRIAD target. however when i attempt to launch the model server, whether or not I have run the demo script within the container, it always hangs without completely starting up. If set the LOG_LEVEL=DEBUG the last line printed before it hangs is \r\n` ie_serving.models.ir_engine - DEBUG - [Model: model_1, version: 3] --- effective batch size - auto`\r\nI have tried with batch size set to 1, with the same result. Additionally if i set the target device to CPU the model server start up normally. At this point I am once again stuck, any help would be appreciated.\r\n<details>\r\n  <summary>My Dockerfile</summary>\r\n  \r\n```\r\nFROM ubuntu:18.04\r\nUSER root\r\nWORKDIR /\r\n\r\nRUN useradd -ms /bin/bash openvino && \\\r\n    chown openvino -R /home/openvino\r\n\r\nARG INSTALLDIR=/opt/intel/openvino\r\nARG TEMP_DIR=/tmp/openvino_installer\r\nARG DL_INSTALL_DIR=\"$INSTALLDIR/deployment_tools\"\r\n\r\nARG DEPENDENCIES=\"autoconf \\\r\n                  automake \\\r\n                  build-essential \\\r\n                  cmake \\\r\n                  cpio \\\r\n                  curl \\\r\n                  gnupg2 \\\r\n                  libdrm2 \\\r\n                  libglib2.0-0 \\\r\n                  lsb-release \\\r\n                  libgtk-3-0 \\\r\n                  libtool \\\r\n#                  python3-pip \\\r\n                  udev \\\r\n                  unzip\"\r\n\r\nARG OTHER_DEPENDENCIES=\"virtualenv  \\\r\n\t\t\tsudo \\\r\n\t\t\tpython3.5-dev \\\r\n                       \"\r\n\r\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends software-properties-common && \\\r\n    add-apt-repository ppa:deadsnakes/ppa && \\\r\n    rm -rf /var/lib/apt/lists/*\r\n\r\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends ${DEPENDENCIES} ${OTHER_DEPENDENCIES} && \\\r\n    rm -rf /var/lib/apt/lists/*\r\n\r\nADD l_openvino_toolkit*.tgz $TEMP_DIR/\r\n\r\nRUN cd $TEMP_DIR/l_openvino_toolkit* && \\\r\n    sed -i 's/decline/accept/g' silent.cfg && \\\r\n    ./install.sh -s silent.cfg --ignore-signature && \\\r\n    rm -Rf $TEMP_DIR\r\n\r\n#FOR VPU\r\nRUN usermod -aG users openvino\r\nRUN cp ${INSTALLDIR}/deployment_tools/inference_engine/external/97-myriad-usbboot.rules /etc/udev/rules.d/ && \\\r\n    ldconfig\r\n\r\nWORKDIR /opt\r\nRUN curl -L https://github.com/libusb/libusb/archive/v1.0.22.zip --output v1.0.22.zip && \\\r\n    unzip v1.0.22.zip && cd libusb-1.0.22 && \\\r\n    ./bootstrap.sh && \\\r\n    ./configure --disable-udev --enable-shared && \\\r\n    make -j4\r\n\r\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends libusb-1.0-0-dev && \\\r\n    rm -rf /var/lib/apt/lists/*\r\n\r\nWORKDIR /opt/libusb-1.0.22/libusb\r\nRUN /bin/mkdir -p '/usr/local/lib' && \\\r\n    /bin/bash ../libtool   --mode=install /usr/bin/install -c   libusb-1.0.la '/usr/local/lib' && \\\r\n    /bin/mkdir -p '/usr/local/include/libusb-1.0' && \\\r\n    /usr/bin/install -c -m 644 libusb.h '/usr/local/include/libusb-1.0' && \\\r\n    /bin/mkdir -p '/usr/local/lib/pkgconfig' && \\\r\n    cd  /opt/libusb-1.0.22/ && \\\r\n    /usr/bin/install -c -m 644 libusb-1.0.pc '/usr/local/lib/pkgconfig' && \\\r\n    ldconfig\r\n\r\nENV HDDL_INSTALL_DIR=\"$DL_INSTALL_DIR/inference_engine/external/hddl\"\r\nENV PYTHONPATH=\"$INSTALLDIR/python/python3.5\"\r\nENV LD_LIBRARY_PATH=\"$DL_INSTALL_DIR/inference_engine/external/tbb/lib:$DL_INSTALL_DIR/inference_engine/external/mkltiny_lnx/lib:$DL_INSTALL_DIR/inference_engine/external/hddl/lib:$DL_INSTALL_DIR/inference_engine/lib/intel64\"\r\n\r\nWORKDIR /ie-serving-py\r\n\r\nCOPY start_server.sh setup.py version requirements.txt /ie-serving-py/\r\nRUN virtualenv -p python3.5 .venv && . .venv/bin/activate && pip3 install -r requirements.txt\r\n\r\nCOPY ie_serving /ie-serving-py/ie_serving\r\n\r\nRUN . .venv/bin/activate && pip3 install .\r\n```\r\n</details>","closed_by":{"login":"dcflachs","id":11656775,"node_id":"MDQ6VXNlcjExNjU2Nzc1","avatar_url":"https://avatars.githubusercontent.com/u/11656775?v=4","gravatar_id":"","url":"https://api.github.com/users/dcflachs","html_url":"https://github.com/dcflachs","followers_url":"https://api.github.com/users/dcflachs/followers","following_url":"https://api.github.com/users/dcflachs/following{/other_user}","gists_url":"https://api.github.com/users/dcflachs/gists{/gist_id}","starred_url":"https://api.github.com/users/dcflachs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcflachs/subscriptions","organizations_url":"https://api.github.com/users/dcflachs/orgs","repos_url":"https://api.github.com/users/dcflachs/repos","events_url":"https://api.github.com/users/dcflachs/events{/privacy}","received_events_url":"https://api.github.com/users/dcflachs/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/144/timeline","performed_via_github_app":null,"state_reason":"completed"}