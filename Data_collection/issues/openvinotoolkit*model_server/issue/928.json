{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928","repository_url":"https://api.github.com/repos/openvinotoolkit/model_server","labels_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928/labels{/name}","comments_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928/comments","events_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928/events","html_url":"https://github.com/openvinotoolkit/model_server/issues/928","id":998187678,"node_id":"I_kwDOCPfP3847fyKe","number":928,"title":"Model status returns ERROR_CODE=OK on directory name change","user":{"login":"aticie","id":25616662,"node_id":"MDQ6VXNlcjI1NjE2NjYy","avatar_url":"https://avatars.githubusercontent.com/u/25616662?v=4","gravatar_id":"","url":"https://api.github.com/users/aticie","html_url":"https://github.com/aticie","followers_url":"https://api.github.com/users/aticie/followers","following_url":"https://api.github.com/users/aticie/following{/other_user}","gists_url":"https://api.github.com/users/aticie/gists{/gist_id}","starred_url":"https://api.github.com/users/aticie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aticie/subscriptions","organizations_url":"https://api.github.com/users/aticie/orgs","repos_url":"https://api.github.com/users/aticie/repos","events_url":"https://api.github.com/users/aticie/events{/privacy}","received_events_url":"https://api.github.com/users/aticie/received_events","type":"User","site_admin":false},"labels":[{"id":1070321725,"node_id":"MDU6TGFiZWwxMDcwMzIxNzI1","url":"https://api.github.com/repos/openvinotoolkit/model_server/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-09-16T13:02:17Z","updated_at":"2021-10-15T08:39:08Z","closed_at":"2021-10-15T08:39:08Z","author_association":"NONE","active_lock_reason":null,"body":"I'm running OVMS with the following config:\r\n\r\n```json\r\n{\r\n   \"model_config_list\":[\r\n   \t{\r\n\t \"config\":{\r\n\t    \"name\":\"detection_model\",\r\n\t    \"base_path\":\"/opt/ml/models/detection_model\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nAnd I have a detection_model running under models folder. The model is loading successfully and I can infer images.\r\n\r\n## Issue \r\nIf I delete or rename `detection_model` folder, OVMS prints this error log every second:\r\n\r\n`[2021-09-16 12:24:58.631][59][modelmanager][error][modelmanager.cpp:833] Directory does not exist: /opt/ml/models/detection_model`\r\n\r\nAnd the requests to either to `/v1/models/detection_model/1` or `/v1/config` endpoints return the error_code=ok, implying there's no error with the model:\r\n\r\n```json\r\n{\r\n    \"detection_model\": {\r\n        \"model_version_status\": [\r\n            {\r\n                \"version\": \"1\",\r\n                \"state\": \"AVAILABLE\",\r\n                \"status\": {\r\n                    \"error_code\": \"OK\",\r\n                    \"error_message\": \"OK\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nEven reloading config via POST `/v1/config/reload` returns OK error_code.\r\n\r\n## Expected Behavior\r\nIf the directory does not exist, error log should occur once and the model's error code should state that the directory does not exist. Even if the model is fully functional in the RAM and model state is AVAILABLE, we should know that there's an error with the configuration of the model.\r\n","closed_by":{"login":"dkalinowski","id":53942023,"node_id":"MDQ6VXNlcjUzOTQyMDIz","avatar_url":"https://avatars.githubusercontent.com/u/53942023?v=4","gravatar_id":"","url":"https://api.github.com/users/dkalinowski","html_url":"https://github.com/dkalinowski","followers_url":"https://api.github.com/users/dkalinowski/followers","following_url":"https://api.github.com/users/dkalinowski/following{/other_user}","gists_url":"https://api.github.com/users/dkalinowski/gists{/gist_id}","starred_url":"https://api.github.com/users/dkalinowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkalinowski/subscriptions","organizations_url":"https://api.github.com/users/dkalinowski/orgs","repos_url":"https://api.github.com/users/dkalinowski/repos","events_url":"https://api.github.com/users/dkalinowski/events{/privacy}","received_events_url":"https://api.github.com/users/dkalinowski/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928/timeline","performed_via_github_app":null,"state_reason":"completed"}