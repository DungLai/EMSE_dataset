[{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/702982709","html_url":"https://github.com/openvinotoolkit/model_server/issues/303#issuecomment-702982709","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/303","id":702982709,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjk4MjcwOQ==","user":{"login":"dtrawins","id":20400806,"node_id":"MDQ6VXNlcjIwNDAwODA2","avatar_url":"https://avatars.githubusercontent.com/u/20400806?v=4","gravatar_id":"","url":"https://api.github.com/users/dtrawins","html_url":"https://github.com/dtrawins","followers_url":"https://api.github.com/users/dtrawins/followers","following_url":"https://api.github.com/users/dtrawins/following{/other_user}","gists_url":"https://api.github.com/users/dtrawins/gists{/gist_id}","starred_url":"https://api.github.com/users/dtrawins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtrawins/subscriptions","organizations_url":"https://api.github.com/users/dtrawins/orgs","repos_url":"https://api.github.com/users/dtrawins/repos","events_url":"https://api.github.com/users/dtrawins/events{/privacy}","received_events_url":"https://api.github.com/users/dtrawins/received_events","type":"User","site_admin":false},"created_at":"2020-10-02T22:22:31Z","updated_at":"2020-10-02T22:22:31Z","author_association":"COLLABORATOR","body":"@smcope indeed for models expecting RGB format there should be added a conversion.\r\nIt should be something like this:\r\nimg = img[:, :, [2, 1, 0]]\r\nThe command you listed would rather convert on different dimensions from HWC to CHW.\r\nWe will be adding improvements in the exemplary clients shortly.","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/702982709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dtrawins","id":20400806,"node_id":"MDQ6VXNlcjIwNDAwODA2","avatar_url":"https://avatars.githubusercontent.com/u/20400806?v=4","gravatar_id":"","url":"https://api.github.com/users/dtrawins","html_url":"https://github.com/dtrawins","followers_url":"https://api.github.com/users/dtrawins/followers","following_url":"https://api.github.com/users/dtrawins/following{/other_user}","gists_url":"https://api.github.com/users/dtrawins/gists{/gist_id}","starred_url":"https://api.github.com/users/dtrawins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtrawins/subscriptions","organizations_url":"https://api.github.com/users/dtrawins/orgs","repos_url":"https://api.github.com/users/dtrawins/repos","events_url":"https://api.github.com/users/dtrawins/events{/privacy}","received_events_url":"https://api.github.com/users/dtrawins/received_events","type":"User","site_admin":false}},{"id":3835824912,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgzNTgyNDkxMg==","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/3835824912","actor":{"login":"smcope","id":30935344,"node_id":"MDQ6VXNlcjMwOTM1MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/30935344?v=4","gravatar_id":"","url":"https://api.github.com/users/smcope","html_url":"https://github.com/smcope","followers_url":"https://api.github.com/users/smcope/followers","following_url":"https://api.github.com/users/smcope/following{/other_user}","gists_url":"https://api.github.com/users/smcope/gists{/gist_id}","starred_url":"https://api.github.com/users/smcope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smcope/subscriptions","organizations_url":"https://api.github.com/users/smcope/orgs","repos_url":"https://api.github.com/users/smcope/repos","events_url":"https://api.github.com/users/smcope/events{/privacy}","received_events_url":"https://api.github.com/users/smcope/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-10-02T22:22:31Z","performed_via_github_app":null},{"id":3835824913,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MzU4MjQ5MTM=","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/3835824913","actor":{"login":"smcope","id":30935344,"node_id":"MDQ6VXNlcjMwOTM1MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/30935344?v=4","gravatar_id":"","url":"https://api.github.com/users/smcope","html_url":"https://github.com/smcope","followers_url":"https://api.github.com/users/smcope/followers","following_url":"https://api.github.com/users/smcope/following{/other_user}","gists_url":"https://api.github.com/users/smcope/gists{/gist_id}","starred_url":"https://api.github.com/users/smcope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smcope/subscriptions","organizations_url":"https://api.github.com/users/smcope/orgs","repos_url":"https://api.github.com/users/smcope/repos","events_url":"https://api.github.com/users/smcope/events{/privacy}","received_events_url":"https://api.github.com/users/smcope/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-10-02T22:22:31Z","performed_via_github_app":null},{"id":3936446337,"node_id":"MDEyOkxhYmVsZWRFdmVudDM5MzY0NDYzMzc=","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/3936446337","actor":{"login":"rasapala","id":58549742,"node_id":"MDQ6VXNlcjU4NTQ5NzQy","avatar_url":"https://avatars.githubusercontent.com/u/58549742?v=4","gravatar_id":"","url":"https://api.github.com/users/rasapala","html_url":"https://github.com/rasapala","followers_url":"https://api.github.com/users/rasapala/followers","following_url":"https://api.github.com/users/rasapala/following{/other_user}","gists_url":"https://api.github.com/users/rasapala/gists{/gist_id}","starred_url":"https://api.github.com/users/rasapala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasapala/subscriptions","organizations_url":"https://api.github.com/users/rasapala/orgs","repos_url":"https://api.github.com/users/rasapala/repos","events_url":"https://api.github.com/users/rasapala/events{/privacy}","received_events_url":"https://api.github.com/users/rasapala/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-10-29T13:52:34Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/724681080","html_url":"https://github.com/openvinotoolkit/model_server/issues/303#issuecomment-724681080","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/303","id":724681080,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDY4MTA4MA==","user":{"login":"rasapala","id":58549742,"node_id":"MDQ6VXNlcjU4NTQ5NzQy","avatar_url":"https://avatars.githubusercontent.com/u/58549742?v=4","gravatar_id":"","url":"https://api.github.com/users/rasapala","html_url":"https://github.com/rasapala","followers_url":"https://api.github.com/users/rasapala/followers","following_url":"https://api.github.com/users/rasapala/following{/other_user}","gists_url":"https://api.github.com/users/rasapala/gists{/gist_id}","starred_url":"https://api.github.com/users/rasapala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasapala/subscriptions","organizations_url":"https://api.github.com/users/rasapala/orgs","repos_url":"https://api.github.com/users/rasapala/repos","events_url":"https://api.github.com/users/rasapala/events{/privacy}","received_events_url":"https://api.github.com/users/rasapala/received_events","type":"User","site_admin":false},"created_at":"2020-11-10T12:49:19Z","updated_at":"2020-11-10T12:49:19Z","author_association":"COLLABORATOR","body":"@smcope We are using the resnet50 model in the example from: gs://ovms-public-eu/resnet50\r\nThat is https://github.com/openvinotoolkit/open_model_zoo/blob/master/models/intel/resnet50-binary-0001/description/resnet50-binary-0001.md model that expects the following format:\r\n\r\nA blob with a BGR image in the format: [B, C=3, H=224, W=224], where:\r\n\r\nB – batch size\r\nC – number of channels\r\nH – image height\r\nW – image width\r\n\r\nimg = cv2.imdecode(img, cv2.IMREAD_COLOR) reads an image in BGR channel format with HWC dimensions.\r\nThus we need to transpose it to CHW using img = img.transpose(2,0,1) method.\r\nNo color channels conversion is required here. But as you noticed if model input requires different channels order a channel reorder would be required.\r\nWe have added an option to convert to RGB in https://github.com/openvinotoolkit/model_server/pull/345/files PR using the --rgb_image 1 command line option in the jpeg_classification example.","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/724681080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rasapala","id":58549742,"node_id":"MDQ6VXNlcjU4NTQ5NzQy","avatar_url":"https://avatars.githubusercontent.com/u/58549742?v=4","gravatar_id":"","url":"https://api.github.com/users/rasapala","html_url":"https://github.com/rasapala","followers_url":"https://api.github.com/users/rasapala/followers","following_url":"https://api.github.com/users/rasapala/following{/other_user}","gists_url":"https://api.github.com/users/rasapala/gists{/gist_id}","starred_url":"https://api.github.com/users/rasapala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasapala/subscriptions","organizations_url":"https://api.github.com/users/rasapala/orgs","repos_url":"https://api.github.com/users/rasapala/repos","events_url":"https://api.github.com/users/rasapala/events{/privacy}","received_events_url":"https://api.github.com/users/rasapala/received_events","type":"User","site_admin":false}},{"id":3978740462,"node_id":"MDExOkNsb3NlZEV2ZW50Mzk3ODc0MDQ2Mg==","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/3978740462","actor":{"login":"rasapala","id":58549742,"node_id":"MDQ6VXNlcjU4NTQ5NzQy","avatar_url":"https://avatars.githubusercontent.com/u/58549742?v=4","gravatar_id":"","url":"https://api.github.com/users/rasapala","html_url":"https://github.com/rasapala","followers_url":"https://api.github.com/users/rasapala/followers","following_url":"https://api.github.com/users/rasapala/following{/other_user}","gists_url":"https://api.github.com/users/rasapala/gists{/gist_id}","starred_url":"https://api.github.com/users/rasapala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasapala/subscriptions","organizations_url":"https://api.github.com/users/rasapala/orgs","repos_url":"https://api.github.com/users/rasapala/repos","events_url":"https://api.github.com/users/rasapala/events{/privacy}","received_events_url":"https://api.github.com/users/rasapala/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-11-10T12:49:19Z","state_reason":null,"performed_via_github_app":null},{"id":3978740477,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzk3ODc0MDQ3Nw==","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/3978740477","actor":{"login":"smcope","id":30935344,"node_id":"MDQ6VXNlcjMwOTM1MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/30935344?v=4","gravatar_id":"","url":"https://api.github.com/users/smcope","html_url":"https://github.com/smcope","followers_url":"https://api.github.com/users/smcope/followers","following_url":"https://api.github.com/users/smcope/following{/other_user}","gists_url":"https://api.github.com/users/smcope/gists{/gist_id}","starred_url":"https://api.github.com/users/smcope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smcope/subscriptions","organizations_url":"https://api.github.com/users/smcope/orgs","repos_url":"https://api.github.com/users/smcope/repos","events_url":"https://api.github.com/users/smcope/events{/privacy}","received_events_url":"https://api.github.com/users/smcope/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-11-10T12:49:20Z","performed_via_github_app":null},{"id":3978740487,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM5Nzg3NDA0ODc=","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/3978740487","actor":{"login":"smcope","id":30935344,"node_id":"MDQ6VXNlcjMwOTM1MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/30935344?v=4","gravatar_id":"","url":"https://api.github.com/users/smcope","html_url":"https://github.com/smcope","followers_url":"https://api.github.com/users/smcope/followers","following_url":"https://api.github.com/users/smcope/following{/other_user}","gists_url":"https://api.github.com/users/smcope/gists{/gist_id}","starred_url":"https://api.github.com/users/smcope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smcope/subscriptions","organizations_url":"https://api.github.com/users/smcope/orgs","repos_url":"https://api.github.com/users/smcope/repos","events_url":"https://api.github.com/users/smcope/events{/privacy}","received_events_url":"https://api.github.com/users/smcope/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-11-10T12:49:20Z","performed_via_github_app":null},{"id":3978741375,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQzOTc4NzQxMzc1","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/3978741375","actor":{"login":"rasapala","id":58549742,"node_id":"MDQ6VXNlcjU4NTQ5NzQy","avatar_url":"https://avatars.githubusercontent.com/u/58549742?v=4","gravatar_id":"","url":"https://api.github.com/users/rasapala","html_url":"https://github.com/rasapala","followers_url":"https://api.github.com/users/rasapala/followers","following_url":"https://api.github.com/users/rasapala/following{/other_user}","gists_url":"https://api.github.com/users/rasapala/gists{/gist_id}","starred_url":"https://api.github.com/users/rasapala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasapala/subscriptions","organizations_url":"https://api.github.com/users/rasapala/orgs","repos_url":"https://api.github.com/users/rasapala/repos","events_url":"https://api.github.com/users/rasapala/events{/privacy}","received_events_url":"https://api.github.com/users/rasapala/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-11-10T12:49:33Z","assignee":{"login":"rasapala","id":58549742,"node_id":"MDQ6VXNlcjU4NTQ5NzQy","avatar_url":"https://avatars.githubusercontent.com/u/58549742?v=4","gravatar_id":"","url":"https://api.github.com/users/rasapala","html_url":"https://github.com/rasapala","followers_url":"https://api.github.com/users/rasapala/followers","following_url":"https://api.github.com/users/rasapala/following{/other_user}","gists_url":"https://api.github.com/users/rasapala/gists{/gist_id}","starred_url":"https://api.github.com/users/rasapala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasapala/subscriptions","organizations_url":"https://api.github.com/users/rasapala/orgs","repos_url":"https://api.github.com/users/rasapala/repos","events_url":"https://api.github.com/users/rasapala/events{/privacy}","received_events_url":"https://api.github.com/users/rasapala/received_events","type":"User","site_admin":false},"performed_via_github_app":null}]