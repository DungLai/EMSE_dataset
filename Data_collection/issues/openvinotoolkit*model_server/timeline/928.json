[{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/922886970","html_url":"https://github.com/openvinotoolkit/model_server/issues/928#issuecomment-922886970","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928","id":922886970,"node_id":"IC_kwDOCPfP3843AiM6","user":{"login":"mzegla","id":41325006,"node_id":"MDQ6VXNlcjQxMzI1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/41325006?v=4","gravatar_id":"","url":"https://api.github.com/users/mzegla","html_url":"https://github.com/mzegla","followers_url":"https://api.github.com/users/mzegla/followers","following_url":"https://api.github.com/users/mzegla/following{/other_user}","gists_url":"https://api.github.com/users/mzegla/gists{/gist_id}","starred_url":"https://api.github.com/users/mzegla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mzegla/subscriptions","organizations_url":"https://api.github.com/users/mzegla/orgs","repos_url":"https://api.github.com/users/mzegla/repos","events_url":"https://api.github.com/users/mzegla/events{/privacy}","received_events_url":"https://api.github.com/users/mzegla/received_events","type":"User","site_admin":false},"created_at":"2021-09-20T12:33:51Z","updated_at":"2021-09-20T12:33:51Z","author_association":"COLLABORATOR","body":"The expected way of deleting whole models is via removing it from configuration. When model directory gets deleted we don't unload all versions. I agree that user should know that model files are no longer available even though the model itself is still loaded. We will consider exposing such information via config endpoint.","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/922886970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mzegla","id":41325006,"node_id":"MDQ6VXNlcjQxMzI1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/41325006?v=4","gravatar_id":"","url":"https://api.github.com/users/mzegla","html_url":"https://github.com/mzegla","followers_url":"https://api.github.com/users/mzegla/followers","following_url":"https://api.github.com/users/mzegla/following{/other_user}","gists_url":"https://api.github.com/users/mzegla/gists{/gist_id}","starred_url":"https://api.github.com/users/mzegla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mzegla/subscriptions","organizations_url":"https://api.github.com/users/mzegla/orgs","repos_url":"https://api.github.com/users/mzegla/repos","events_url":"https://api.github.com/users/mzegla/events{/privacy}","received_events_url":"https://api.github.com/users/mzegla/received_events","type":"User","site_admin":false}},{"id":5366315602,"node_id":"LE_lADOCPfP3847fyKezwAAAAE_23pS","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/5366315602","actor":{"login":"rasapala","id":58549742,"node_id":"MDQ6VXNlcjU4NTQ5NzQy","avatar_url":"https://avatars.githubusercontent.com/u/58549742?v=4","gravatar_id":"","url":"https://api.github.com/users/rasapala","html_url":"https://github.com/rasapala","followers_url":"https://api.github.com/users/rasapala/followers","following_url":"https://api.github.com/users/rasapala/following{/other_user}","gists_url":"https://api.github.com/users/rasapala/gists{/gist_id}","starred_url":"https://api.github.com/users/rasapala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasapala/subscriptions","organizations_url":"https://api.github.com/users/rasapala/orgs","repos_url":"https://api.github.com/users/rasapala/repos","events_url":"https://api.github.com/users/rasapala/events{/privacy}","received_events_url":"https://api.github.com/users/rasapala/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-27T15:04:28Z","label":{"name":"question","color":"d876e3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/930291795","html_url":"https://github.com/openvinotoolkit/model_server/issues/928#issuecomment-930291795","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928","id":930291795,"node_id":"IC_kwDOCPfP3843cyBT","user":{"login":"dkalinowski","id":53942023,"node_id":"MDQ6VXNlcjUzOTQyMDIz","avatar_url":"https://avatars.githubusercontent.com/u/53942023?v=4","gravatar_id":"","url":"https://api.github.com/users/dkalinowski","html_url":"https://github.com/dkalinowski","followers_url":"https://api.github.com/users/dkalinowski/followers","following_url":"https://api.github.com/users/dkalinowski/following{/other_user}","gists_url":"https://api.github.com/users/dkalinowski/gists{/gist_id}","starred_url":"https://api.github.com/users/dkalinowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkalinowski/subscriptions","organizations_url":"https://api.github.com/users/dkalinowski/orgs","repos_url":"https://api.github.com/users/dkalinowski/repos","events_url":"https://api.github.com/users/dkalinowski/events{/privacy}","received_events_url":"https://api.github.com/users/dkalinowski/received_events","type":"User","site_admin":false},"created_at":"2021-09-29T15:34:58Z","updated_at":"2021-09-29T15:34:58Z","author_association":"COLLABORATOR","body":"I have tested the scenario you described but cannot reproduce OK error_code in POST `/v1/config/reload` endpoint. The response you should see is:\r\n\r\n```\r\ncurl -s --request POST http://localhost:11338/v1/config/reload\r\n{\r\n        \"error\": \"Reloading models versions failed. Check server logs for more info.\"\r\n}\r\n```\r\nAnd this should indicate in fact problem with model repository structure / config.json file.\r\n\r\nI have tested all recent release images with Model Control API feature (2021.3, 2021.4, 2021.4.1) and all show exactly the same, correct behavior. Is there maybe something more going on in your setup?\r\n\r\nRegarding mentioned expected behavior, can you tell us more about your use case with GET `/v1/config` endpoint returning configuration file error code and message?\r\nThe problem I see with model repository errors being displayed at model version status level is that it could override already existing errors during model version loading.\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/930291795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkalinowski","id":53942023,"node_id":"MDQ6VXNlcjUzOTQyMDIz","avatar_url":"https://avatars.githubusercontent.com/u/53942023?v=4","gravatar_id":"","url":"https://api.github.com/users/dkalinowski","html_url":"https://github.com/dkalinowski","followers_url":"https://api.github.com/users/dkalinowski/followers","following_url":"https://api.github.com/users/dkalinowski/following{/other_user}","gists_url":"https://api.github.com/users/dkalinowski/gists{/gist_id}","starred_url":"https://api.github.com/users/dkalinowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkalinowski/subscriptions","organizations_url":"https://api.github.com/users/dkalinowski/orgs","repos_url":"https://api.github.com/users/dkalinowski/repos","events_url":"https://api.github.com/users/dkalinowski/events{/privacy}","received_events_url":"https://api.github.com/users/dkalinowski/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/932294088","html_url":"https://github.com/openvinotoolkit/model_server/issues/928#issuecomment-932294088","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928","id":932294088,"node_id":"IC_kwDOCPfP3843ka3I","user":{"login":"aticie","id":25616662,"node_id":"MDQ6VXNlcjI1NjE2NjYy","avatar_url":"https://avatars.githubusercontent.com/u/25616662?v=4","gravatar_id":"","url":"https://api.github.com/users/aticie","html_url":"https://github.com/aticie","followers_url":"https://api.github.com/users/aticie/followers","following_url":"https://api.github.com/users/aticie/following{/other_user}","gists_url":"https://api.github.com/users/aticie/gists{/gist_id}","starred_url":"https://api.github.com/users/aticie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aticie/subscriptions","organizations_url":"https://api.github.com/users/aticie/orgs","repos_url":"https://api.github.com/users/aticie/repos","events_url":"https://api.github.com/users/aticie/events{/privacy}","received_events_url":"https://api.github.com/users/aticie/received_events","type":"User","site_admin":false},"created_at":"2021-10-01T14:45:38Z","updated_at":"2021-10-01T14:58:31Z","author_association":"NONE","body":"> I have tested all recent release images with Model Control API feature (2021.3, 2021.4, 2021.4.1) and all show exactly the same, correct behavior. Is there maybe something more going on in your setup?\r\n\r\nI'm sorry, I might have tested it incorrectly. Now that I tried again, I'm getting the same results as you at the /v1/config/reload endpoint.\r\n\r\n> Regarding mentioned expected behavior, can you tell us more about your use case with GET `/v1/config` endpoint returning configuration file error code and message?\r\n\r\nNow that you showed it, there's no need for me to use GET `/v1/config` as I can reload the config to check the current state of the models. What I had in mind before would be something like this:\r\n\r\n```json\r\n\"detection_model\": {\r\n        \"model_version_status\": [\r\n            {\r\n                \"version\": \"1\",\r\n                \"state\": \"AVAILABLE\",\r\n                \"status\": {\r\n                    \"error_code\": \"123\",\r\n                    \"error_message\": \"Directory /opt/ml/models/detection_model does not exist.\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n```\r\n>The problem I see with model repository errors being displayed at model version status level is that it could override already existing errors during model version loading.\r\n\r\nSince I changed a single model's directory, I would expect error status for only that model version, not for all other models.\r\n\r\nEdit: Changed state from \"ERROR\" to \"AVAILABLE\" since we are assuming the model still resides in memory.","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/932294088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aticie","id":25616662,"node_id":"MDQ6VXNlcjI1NjE2NjYy","avatar_url":"https://avatars.githubusercontent.com/u/25616662?v=4","gravatar_id":"","url":"https://api.github.com/users/aticie","html_url":"https://github.com/aticie","followers_url":"https://api.github.com/users/aticie/followers","following_url":"https://api.github.com/users/aticie/following{/other_user}","gists_url":"https://api.github.com/users/aticie/gists{/gist_id}","starred_url":"https://api.github.com/users/aticie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aticie/subscriptions","organizations_url":"https://api.github.com/users/aticie/orgs","repos_url":"https://api.github.com/users/aticie/repos","events_url":"https://api.github.com/users/aticie/events{/privacy}","received_events_url":"https://api.github.com/users/aticie/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/944111464","html_url":"https://github.com/openvinotoolkit/model_server/issues/928#issuecomment-944111464","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/928","id":944111464,"node_id":"IC_kwDOCPfP3844Rf9o","user":{"login":"dkalinowski","id":53942023,"node_id":"MDQ6VXNlcjUzOTQyMDIz","avatar_url":"https://avatars.githubusercontent.com/u/53942023?v=4","gravatar_id":"","url":"https://api.github.com/users/dkalinowski","html_url":"https://github.com/dkalinowski","followers_url":"https://api.github.com/users/dkalinowski/followers","following_url":"https://api.github.com/users/dkalinowski/following{/other_user}","gists_url":"https://api.github.com/users/dkalinowski/gists{/gist_id}","starred_url":"https://api.github.com/users/dkalinowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkalinowski/subscriptions","organizations_url":"https://api.github.com/users/dkalinowski/orgs","repos_url":"https://api.github.com/users/dkalinowski/repos","events_url":"https://api.github.com/users/dkalinowski/events{/privacy}","received_events_url":"https://api.github.com/users/dkalinowski/received_events","type":"User","site_admin":false},"created_at":"2021-10-15T08:39:08Z","updated_at":"2021-10-15T08:39:08Z","author_association":"COLLABORATOR","body":"Closing since the issue got resolved on reporter side.","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/944111464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkalinowski","id":53942023,"node_id":"MDQ6VXNlcjUzOTQyMDIz","avatar_url":"https://avatars.githubusercontent.com/u/53942023?v=4","gravatar_id":"","url":"https://api.github.com/users/dkalinowski","html_url":"https://github.com/dkalinowski","followers_url":"https://api.github.com/users/dkalinowski/followers","following_url":"https://api.github.com/users/dkalinowski/following{/other_user}","gists_url":"https://api.github.com/users/dkalinowski/gists{/gist_id}","starred_url":"https://api.github.com/users/dkalinowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkalinowski/subscriptions","organizations_url":"https://api.github.com/users/dkalinowski/orgs","repos_url":"https://api.github.com/users/dkalinowski/repos","events_url":"https://api.github.com/users/dkalinowski/events{/privacy}","received_events_url":"https://api.github.com/users/dkalinowski/received_events","type":"User","site_admin":false}},{"id":5468506300,"node_id":"CE_lADOCPfP3847fyKezwAAAAFF8si8","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/5468506300","actor":{"login":"dkalinowski","id":53942023,"node_id":"MDQ6VXNlcjUzOTQyMDIz","avatar_url":"https://avatars.githubusercontent.com/u/53942023?v=4","gravatar_id":"","url":"https://api.github.com/users/dkalinowski","html_url":"https://github.com/dkalinowski","followers_url":"https://api.github.com/users/dkalinowski/followers","following_url":"https://api.github.com/users/dkalinowski/following{/other_user}","gists_url":"https://api.github.com/users/dkalinowski/gists{/gist_id}","starred_url":"https://api.github.com/users/dkalinowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkalinowski/subscriptions","organizations_url":"https://api.github.com/users/dkalinowski/orgs","repos_url":"https://api.github.com/users/dkalinowski/repos","events_url":"https://api.github.com/users/dkalinowski/events{/privacy}","received_events_url":"https://api.github.com/users/dkalinowski/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-10-15T08:39:08Z","state_reason":null,"performed_via_github_app":null}]