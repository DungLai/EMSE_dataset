[{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/810876316","html_url":"https://github.com/openvinotoolkit/model_server/issues/609#issuecomment-810876316","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/609","id":810876316,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDg3NjMxNg==","user":{"login":"mzegla","id":41325006,"node_id":"MDQ6VXNlcjQxMzI1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/41325006?v=4","gravatar_id":"","url":"https://api.github.com/users/mzegla","html_url":"https://github.com/mzegla","followers_url":"https://api.github.com/users/mzegla/followers","following_url":"https://api.github.com/users/mzegla/following{/other_user}","gists_url":"https://api.github.com/users/mzegla/gists{/gist_id}","starred_url":"https://api.github.com/users/mzegla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mzegla/subscriptions","organizations_url":"https://api.github.com/users/mzegla/orgs","repos_url":"https://api.github.com/users/mzegla/repos","events_url":"https://api.github.com/users/mzegla/events{/privacy}","received_events_url":"https://api.github.com/users/mzegla/received_events","type":"User","site_admin":false},"created_at":"2021-03-31T08:20:45Z","updated_at":"2021-03-31T08:20:45Z","author_association":"COLLABORATOR","body":"Hi, \r\n\r\nIs \"ERROR - Content error: Can not init Myriad device: NC_ERROR\" the only error message you got or did you see more detailed messages? Did you run OVMS with `--log_level DEBUG` argument?","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/810876316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mzegla","id":41325006,"node_id":"MDQ6VXNlcjQxMzI1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/41325006?v=4","gravatar_id":"","url":"https://api.github.com/users/mzegla","html_url":"https://github.com/mzegla","followers_url":"https://api.github.com/users/mzegla/followers","following_url":"https://api.github.com/users/mzegla/following{/other_user}","gists_url":"https://api.github.com/users/mzegla/gists{/gist_id}","starred_url":"https://api.github.com/users/mzegla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mzegla/subscriptions","organizations_url":"https://api.github.com/users/mzegla/orgs","repos_url":"https://api.github.com/users/mzegla/repos","events_url":"https://api.github.com/users/mzegla/events{/privacy}","received_events_url":"https://api.github.com/users/mzegla/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/810944657","html_url":"https://github.com/openvinotoolkit/model_server/issues/609#issuecomment-810944657","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/609","id":810944657,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDk0NDY1Nw==","user":{"login":"Steedance","id":45638338,"node_id":"MDQ6VXNlcjQ1NjM4MzM4","avatar_url":"https://avatars.githubusercontent.com/u/45638338?v=4","gravatar_id":"","url":"https://api.github.com/users/Steedance","html_url":"https://github.com/Steedance","followers_url":"https://api.github.com/users/Steedance/followers","following_url":"https://api.github.com/users/Steedance/following{/other_user}","gists_url":"https://api.github.com/users/Steedance/gists{/gist_id}","starred_url":"https://api.github.com/users/Steedance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Steedance/subscriptions","organizations_url":"https://api.github.com/users/Steedance/orgs","repos_url":"https://api.github.com/users/Steedance/repos","events_url":"https://api.github.com/users/Steedance/events{/privacy}","received_events_url":"https://api.github.com/users/Steedance/received_events","type":"User","site_admin":false},"created_at":"2021-03-31T10:05:09Z","updated_at":"2021-03-31T10:21:56Z","author_association":"NONE","body":"I was running it with debug logs, below is the all of the logs up to the error.\r\n\r\n```\r\n2021-03-31 09:56:05,786 - ie_serving.main - INFO - Log level set: DEBUG\r\n2021-03-31 09:56:05,786 - ie_serving.main - DEBUG - ie_serving_py arguments: Namespace(config_path='/opt/test/config.json', func=<function parse_config at 0x7fd6ecd02c80>, grpc_workers=192, port=9001, rest_port=0, rest_workers=1)\r\n2021-03-31 09:56:05,787 - ie_serving.main - DEBUG - Configured environment variables: environ({'LOG_LEVEL': 'DEBUG', 'HOSTNAME': 'docker-desktop', 'LD_LIBRARY_PATH': '/opt/intel/openvino/deployment_tools/inference_engine/external/tbb/lib:/opt/intel/openvino/deployment_tools/inference_engine/external/mkltiny_lnx/lib:/opt/intel/openvino/deployment_tools/inference_engine/lib/intel64:/opt/intel/openvino/deployment_tools/ngraph/lib', 'HOME': '/root', 'OLDPWD': '/ie-serving-py', 'PS1': '(.venv) # ', 'PATH': '/ie-serving-py/.venv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'WRAPT_INSTALL_EXTENSIONS': 'false', 'VIRTUAL_ENV': '/ie-serving-py/.venv', 'PWD': '/ie-serving-py', 'DL_INSTALL_DIR': '/opt/intel/openvino/deployment_tools', 'PYTHONPATH': '/opt/intel/openvino/python/python3.6'})\r\n2021-03-31 09:56:05,788 - ie_serving.main - DEBUG - Serialization function: _prepare_output_with_make_tensor_proto\r\n2021-03-31 09:56:05,805 - ie_serving.models.model - INFO - Server start loading model: vehicle-detection-adas-0002\r\n2021-03-31 09:56:05,823 - ie_serving.models.model - DEBUG - ['/opt/test/vehicle-detection-adas-0002/1/']\r\n2021-03-31 09:56:05,857 - ie_serving.models.model_version_status - DEBUG - STATUS CHANGE: Version 1 of model vehicle-detection-adas-0002 status change. New status: {'state': 'START', 'status': {'error_code': 'OK', 'error_message': ''}}\r\n2021-03-31 09:56:05,858 - ie_serving.models.model - INFO - Creating inference engine object for version: 1\r\n2021-03-31 09:56:05,859 - ie_serving.models.model_version_status - DEBUG - STATUS CHANGE: Version 1 of model vehicle-detection-adas-0002 status change. New status: {'state': 'LOADING', 'status': {'error_code': 'OK', 'error_message': ''}}\r\n2021-03-31 09:56:06,104 - ie_serving.models.ir_engine - DEBUG - [Model: vehicle-detection-adas-0002, version: 1] --- effective batch size - 1\r\n2021-03-31 09:56:06,105 - ie_serving.models.ir_engine - DEBUG - [Model: vehicle-detection-adas-0002, version: 1] --- Setting shape to automatic\r\n2021-03-31 09:56:11,225 - ie_serving.models.model - ERROR - Error occurred while loading model version: {'xml_file': '/opt/test/vehicle-detection-adas-0002/1/vehicle-detection-adas-0002.xml', 'bin_file': '/opt/test/vehicle-detection-adas-0002/1/vehicle-detection-adas-0002.bin', 'mapping_config': None, 'version_number': 1, 'batch_size_param': None, 'shape_param': 'auto', 'num_ireq': 1, 'target_device': 'MYRIAD', 'plugin_config': None}\r\n2021-03-31 09:56:11,227 - ie_serving.models.model - ERROR - Content error: Can not init Myriad device: NC_ERROR\r\n2021-03-31 09:56:11,227 - ie_serving.models.model_version_status - DEBUG - STATUS CHANGE: Version 1 of model vehicle-detection-adas-0002 status change. New status: {'state': 'LOADING', 'status': {'error_code': 'UNKNOWN', 'error_message': 'Error occurred while loading version'}}\r\n2021-03-31 09:56:11,234 - ie_serving.models.model - INFO - List of available versions for vehicle-detection-adas-0002 model: []\r\n2021-03-31 09:56:11,234 - ie_serving.models.model - INFO - Default version for vehicle-detection-adas-0002 model is -1\r\n```\r\n\r\nI have successfully used the Myriad with a linux host machine, following the steps outlined here: https://github.com/openvinotoolkit/model_server/blob/main/docs/docker_container.md#prepare-to-use-an-intel-movidius-neural-compute-stick\r\n\r\n```\r\ndocker run --rm -it --net=host -u root --privileged -v /opt/model:/opt/model -v /dev:/dev -p 9001:9001 openvino/model_server \\\r\n--model_path /opt/model --model_name my_model --port 9001 --target_device MYRIAD\r\n```\r\nThe command I am using is very similar to the one above, except I haven't mounted the dev folder. My command is below:\r\n```\r\ndocker run --privileged -u root --net=host -v C:\\Users\\test\\Desktop\\sf\\models\\:/opt/test/:ro -e LOG_LEVEL=DEBUG --name openvino-server 2020.4:noAvx /ie-serving-py/start_server.sh ie_serving config --config_path /opt/test/config.json --port 9001 --grpc_workers 192\r\n```\r\nBelow is the config.json file the model server is using:\r\n```\r\n{\r\n   \"model_config_list\":[\r\n      {\r\n         \"config\":{\r\n            \"name\":\"vehicle-detection-adas-0002\",\r\n            \"base_path\":\"/opt/test/vehicle-detection-adas-0002\",\r\n            \"shape\": \"auto\",\r\n            \"target_device\": \"MYRIAD\"\r\n         }\r\n      },\r\n      {\r\n         \"config\":{\r\n            \"name\":\"vehicle-attributes-recognition-barrier-0042\",\r\n            \"base_path\":\"/opt/test/vehicle-attributes-recognition-barrier-0042\",\r\n            \"batch_size\": \"auto\"\r\n         }\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nI assume preparing the machine to use Myriad would be different on a windows host machine, if so, do you have any information on how to do this?\r\n\r\nIt may also be worth mentioning I am using a WSL backend with docker for windows.\r\n","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/810944657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Steedance","id":45638338,"node_id":"MDQ6VXNlcjQ1NjM4MzM4","avatar_url":"https://avatars.githubusercontent.com/u/45638338?v=4","gravatar_id":"","url":"https://api.github.com/users/Steedance","html_url":"https://github.com/Steedance","followers_url":"https://api.github.com/users/Steedance/followers","following_url":"https://api.github.com/users/Steedance/following{/other_user}","gists_url":"https://api.github.com/users/Steedance/gists{/gist_id}","starred_url":"https://api.github.com/users/Steedance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Steedance/subscriptions","organizations_url":"https://api.github.com/users/Steedance/orgs","repos_url":"https://api.github.com/users/Steedance/repos","events_url":"https://api.github.com/users/Steedance/events{/privacy}","received_events_url":"https://api.github.com/users/Steedance/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/815084505","html_url":"https://github.com/openvinotoolkit/model_server/issues/609#issuecomment-815084505","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/609","id":815084505,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTA4NDUwNQ==","user":{"login":"dcleri","id":12041146,"node_id":"MDQ6VXNlcjEyMDQxMTQ2","avatar_url":"https://avatars.githubusercontent.com/u/12041146?v=4","gravatar_id":"","url":"https://api.github.com/users/dcleri","html_url":"https://github.com/dcleri","followers_url":"https://api.github.com/users/dcleri/followers","following_url":"https://api.github.com/users/dcleri/following{/other_user}","gists_url":"https://api.github.com/users/dcleri/gists{/gist_id}","starred_url":"https://api.github.com/users/dcleri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcleri/subscriptions","organizations_url":"https://api.github.com/users/dcleri/orgs","repos_url":"https://api.github.com/users/dcleri/repos","events_url":"https://api.github.com/users/dcleri/events{/privacy}","received_events_url":"https://api.github.com/users/dcleri/received_events","type":"User","site_admin":false},"created_at":"2021-04-07T17:17:46Z","updated_at":"2021-04-07T17:17:46Z","author_association":"NONE","body":"For my knowledge VPU support on Containers from Windows host is not supported. \r\nFor example there is no mention of how to setup VPU for a container on a WIndows host from the official documentation: https://docs.openvinotoolkit.org/latest/openvino_docs_install_guides_installing_openvino_docker_windows.html\r\n\r\nAnd here for DL_Workbench, it specify that GPU and VPU are not supported under containers with Windows Host: https://docs.openvinotoolkit.org/latest/workbench_docs_Workbench_DG_Install_Workbench.html##minimum\r\n\r\nWhen running VPU via container you need to include an option, in the docker run command, to pass the /dev/ion device, created by the dev_ion driver available on Linux and installed during the VPU setu process.\r\n\r\nAn example to run a docker container with VPU support is: \r\n`docker run -it --rm --device=/dev/ion:/dev/ion -v /var/tmp:/var/tmp <image_name>`\r\n","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/815084505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dcleri","id":12041146,"node_id":"MDQ6VXNlcjEyMDQxMTQ2","avatar_url":"https://avatars.githubusercontent.com/u/12041146?v=4","gravatar_id":"","url":"https://api.github.com/users/dcleri","html_url":"https://github.com/dcleri","followers_url":"https://api.github.com/users/dcleri/followers","following_url":"https://api.github.com/users/dcleri/following{/other_user}","gists_url":"https://api.github.com/users/dcleri/gists{/gist_id}","starred_url":"https://api.github.com/users/dcleri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcleri/subscriptions","organizations_url":"https://api.github.com/users/dcleri/orgs","repos_url":"https://api.github.com/users/dcleri/repos","events_url":"https://api.github.com/users/dcleri/events{/privacy}","received_events_url":"https://api.github.com/users/dcleri/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/822376230","html_url":"https://github.com/openvinotoolkit/model_server/issues/609#issuecomment-822376230","issue_url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/609","id":822376230,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjM3NjIzMA==","user":{"login":"Steedance","id":45638338,"node_id":"MDQ6VXNlcjQ1NjM4MzM4","avatar_url":"https://avatars.githubusercontent.com/u/45638338?v=4","gravatar_id":"","url":"https://api.github.com/users/Steedance","html_url":"https://github.com/Steedance","followers_url":"https://api.github.com/users/Steedance/followers","following_url":"https://api.github.com/users/Steedance/following{/other_user}","gists_url":"https://api.github.com/users/Steedance/gists{/gist_id}","starred_url":"https://api.github.com/users/Steedance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Steedance/subscriptions","organizations_url":"https://api.github.com/users/Steedance/orgs","repos_url":"https://api.github.com/users/Steedance/repos","events_url":"https://api.github.com/users/Steedance/events{/privacy}","received_events_url":"https://api.github.com/users/Steedance/received_events","type":"User","site_admin":false},"created_at":"2021-04-19T10:54:09Z","updated_at":"2021-04-19T10:54:09Z","author_association":"NONE","body":"Okay, thanks for clarifying what the current version of model server supports.","reactions":{"url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/comments/822376230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Steedance","id":45638338,"node_id":"MDQ6VXNlcjQ1NjM4MzM4","avatar_url":"https://avatars.githubusercontent.com/u/45638338?v=4","gravatar_id":"","url":"https://api.github.com/users/Steedance","html_url":"https://github.com/Steedance","followers_url":"https://api.github.com/users/Steedance/followers","following_url":"https://api.github.com/users/Steedance/following{/other_user}","gists_url":"https://api.github.com/users/Steedance/gists{/gist_id}","starred_url":"https://api.github.com/users/Steedance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Steedance/subscriptions","organizations_url":"https://api.github.com/users/Steedance/orgs","repos_url":"https://api.github.com/users/Steedance/repos","events_url":"https://api.github.com/users/Steedance/events{/privacy}","received_events_url":"https://api.github.com/users/Steedance/received_events","type":"User","site_admin":false}},{"id":4661401969,"node_id":"MDExOkNsb3NlZEV2ZW50NDY2MTQwMTk2OQ==","url":"https://api.github.com/repos/openvinotoolkit/model_server/issues/events/4661401969","actor":{"login":"Steedance","id":45638338,"node_id":"MDQ6VXNlcjQ1NjM4MzM4","avatar_url":"https://avatars.githubusercontent.com/u/45638338?v=4","gravatar_id":"","url":"https://api.github.com/users/Steedance","html_url":"https://github.com/Steedance","followers_url":"https://api.github.com/users/Steedance/followers","following_url":"https://api.github.com/users/Steedance/following{/other_user}","gists_url":"https://api.github.com/users/Steedance/gists{/gist_id}","starred_url":"https://api.github.com/users/Steedance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Steedance/subscriptions","organizations_url":"https://api.github.com/users/Steedance/orgs","repos_url":"https://api.github.com/users/Steedance/repos","events_url":"https://api.github.com/users/Steedance/events{/privacy}","received_events_url":"https://api.github.com/users/Steedance/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-04-29T09:07:44Z","state_reason":null,"performed_via_github_app":null}]