{"url":"https://api.github.com/repos/thinkingmachines/geomancer/issues/75","repository_url":"https://api.github.com/repos/thinkingmachines/geomancer","labels_url":"https://api.github.com/repos/thinkingmachines/geomancer/issues/75/labels{/name}","comments_url":"https://api.github.com/repos/thinkingmachines/geomancer/issues/75/comments","events_url":"https://api.github.com/repos/thinkingmachines/geomancer/issues/75/events","html_url":"https://github.com/thinkingmachines/geomancer/issues/75","id":448028890,"node_id":"MDU6SXNzdWU0NDgwMjg4OTA=","number":75,"title":"How to optimize load time for cast?","user":{"login":"tgvgamboa","id":50901624,"node_id":"MDQ6VXNlcjUwOTAxNjI0","avatar_url":"https://avatars.githubusercontent.com/u/50901624?v=4","gravatar_id":"","url":"https://api.github.com/users/tgvgamboa","html_url":"https://github.com/tgvgamboa","followers_url":"https://api.github.com/users/tgvgamboa/followers","following_url":"https://api.github.com/users/tgvgamboa/following{/other_user}","gists_url":"https://api.github.com/users/tgvgamboa/gists{/gist_id}","starred_url":"https://api.github.com/users/tgvgamboa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgvgamboa/subscriptions","organizations_url":"https://api.github.com/users/tgvgamboa/orgs","repos_url":"https://api.github.com/users/tgvgamboa/repos","events_url":"https://api.github.com/users/tgvgamboa/events{/privacy}","received_events_url":"https://api.github.com/users/tgvgamboa/received_events","type":"User","site_admin":false},"labels":[{"id":1247574216,"node_id":"MDU6TGFiZWwxMjQ3NTc0MjE2","url":"https://api.github.com/repos/thinkingmachines/geomancer/labels/question","name":"question","color":"d4e8e7","default":true,"description":"Further information is requested"},{"id":1256235931,"node_id":"MDU6TGFiZWwxMjU2MjM1OTMx","url":"https://api.github.com/repos/thinkingmachines/geomancer/labels/performance","name":"performance","color":"000000","default":false,"description":"Performance optimization"}],"state":"open","locked":true,"assignee":{"login":"ljvmiranda921","id":12949683,"node_id":"MDQ6VXNlcjEyOTQ5Njgz","avatar_url":"https://avatars.githubusercontent.com/u/12949683?v=4","gravatar_id":"","url":"https://api.github.com/users/ljvmiranda921","html_url":"https://github.com/ljvmiranda921","followers_url":"https://api.github.com/users/ljvmiranda921/followers","following_url":"https://api.github.com/users/ljvmiranda921/following{/other_user}","gists_url":"https://api.github.com/users/ljvmiranda921/gists{/gist_id}","starred_url":"https://api.github.com/users/ljvmiranda921/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljvmiranda921/subscriptions","organizations_url":"https://api.github.com/users/ljvmiranda921/orgs","repos_url":"https://api.github.com/users/ljvmiranda921/repos","events_url":"https://api.github.com/users/ljvmiranda921/events{/privacy}","received_events_url":"https://api.github.com/users/ljvmiranda921/received_events","type":"User","site_admin":false},"assignees":[{"login":"ljvmiranda921","id":12949683,"node_id":"MDQ6VXNlcjEyOTQ5Njgz","avatar_url":"https://avatars.githubusercontent.com/u/12949683?v=4","gravatar_id":"","url":"https://api.github.com/users/ljvmiranda921","html_url":"https://github.com/ljvmiranda921","followers_url":"https://api.github.com/users/ljvmiranda921/followers","following_url":"https://api.github.com/users/ljvmiranda921/following{/other_user}","gists_url":"https://api.github.com/users/ljvmiranda921/gists{/gist_id}","starred_url":"https://api.github.com/users/ljvmiranda921/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljvmiranda921/subscriptions","organizations_url":"https://api.github.com/users/ljvmiranda921/orgs","repos_url":"https://api.github.com/users/ljvmiranda921/repos","events_url":"https://api.github.com/users/ljvmiranda921/events{/privacy}","received_events_url":"https://api.github.com/users/ljvmiranda921/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2019-05-24T07:53:32Z","updated_at":"2019-05-27T07:41:19Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"#### Issue Description\r\ngetting features for columns takes around 25 seconds per column for a data frame of 56,761 rows\r\n\r\n#### Steps to reproduce the issue\r\n```python\r\ndf = pd.read_csv('sample.csv')`\r\n```\r\n```python\r\npois_book_instance = SpellBook(\r\n    spells = [\r\n        DistanceToNearest(\r\n            'police',\r\n            source_table = 'project.dataset_id.gis_osm_pois_free_1',\r\n            dburl = 'bigquery://project',\r\n            feature_name = 'pois_dist_police'),\r\n        NumberOf(\r\n            'police',\r\n            within = 1000,\r\n            source_table = 'project.dataset_id.gis_osm_pois_free_1',\r\n            dburl = 'bigquery://project',\r\n            feature_name = 'pois_num_1000_police')\r\n])\r\n```\r\n```python\r\npois_book = pois_book_instance.cast(df)\r\n```\r\n#### What's the expected result?\r\n- hopefully faster\r\n#### What's the actual result?\r\n- CPU times: user 2.33 s, sys: 88 ms, total: 2.42 s\r\nWall time: 46.7 s\r\n#### Additional etailds / screenshot\r\n![image](https://user-images.githubusercontent.com/50901624/58311438-8d483280-7e3b-11e9-9986-a1c9b31b889b.png)\r\n![image](https://user-images.githubusercontent.com/50901624/58311467-a2bd5c80-7e3b-11e9-9817-29a25ba5027e.png)\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/thinkingmachines/geomancer/issues/75/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/thinkingmachines/geomancer/issues/75/timeline","performed_via_github_app":null,"state_reason":null}