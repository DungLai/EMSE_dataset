[{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/597250608","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/218#issuecomment-597250608","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/218","id":597250608,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzI1MDYwOA==","user":{"login":"mgastegger","id":36198330,"node_id":"MDQ6VXNlcjM2MTk4MzMw","avatar_url":"https://avatars.githubusercontent.com/u/36198330?v=4","gravatar_id":"","url":"https://api.github.com/users/mgastegger","html_url":"https://github.com/mgastegger","followers_url":"https://api.github.com/users/mgastegger/followers","following_url":"https://api.github.com/users/mgastegger/following{/other_user}","gists_url":"https://api.github.com/users/mgastegger/gists{/gist_id}","starred_url":"https://api.github.com/users/mgastegger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgastegger/subscriptions","organizations_url":"https://api.github.com/users/mgastegger/orgs","repos_url":"https://api.github.com/users/mgastegger/repos","events_url":"https://api.github.com/users/mgastegger/events{/privacy}","received_events_url":"https://api.github.com/users/mgastegger/received_events","type":"User","site_admin":false},"created_at":"2020-03-10T18:44:35Z","updated_at":"2020-03-10T18:44:35Z","author_association":"COLLABORATOR","body":"In general, these are the energies computed for the free atoms (single atom in vacuum).\r\n\r\nThere are two ways how they can enter SchNetPack.\r\n\r\nFirst, if using `spk_run.py`, SchNetPack only makes use of them if they are given in the metadata of the dataset (e.g. in QM9). To be specific, two entries are needed in the metadata:\r\n- `atref_labels`: list of the properties for which atomrefs are available\r\n- `atomrefs`: a list with the associated values. This is typically created from a numpy array, which has the shape `max_atom_type+1` x `len(atref_labels)`. I will generally refer to it as an array.\r\n\r\nAn example would be: I have the properties `U0` and `H`. The `atref_labels` entry would be\r\n`['U0', 'H']`. Let's say, my highest element is Fluorine with an atomic charge of 9. Then the `atomrefs` array would have the shape (9+1)x2, since I have two properties. Each column of `atomrefs` corresponds to a property in `atref_labels` (using the same order). The row corresponding to an atomic number would then contain the atomref value for that atom type and property. E.g. for the present example, in `atomrefs[1,0]` I would have `U0` of the Hydrogen, `atomrefs[6,0]` would be Carbon etc.\r\n\r\nThe full metadata would be generated along the lines of this:\r\n```\r\nmetadata = {\r\n        'atref_labels' : ['U0', 'H'],\r\n        'atomrefs' : atomref_array.tolist()\r\n    }\r\n```\r\n\r\nThe second way is by passing them to an `Atomwise` based layer via the `atomref` keyword. Here, the column of the above `atomrefs` corresponding to the property to be modeled should be used (which is an `max_atom_type+1` x 1 array).","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/597250608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mgastegger","id":36198330,"node_id":"MDQ6VXNlcjM2MTk4MzMw","avatar_url":"https://avatars.githubusercontent.com/u/36198330?v=4","gravatar_id":"","url":"https://api.github.com/users/mgastegger","html_url":"https://github.com/mgastegger","followers_url":"https://api.github.com/users/mgastegger/followers","following_url":"https://api.github.com/users/mgastegger/following{/other_user}","gists_url":"https://api.github.com/users/mgastegger/gists{/gist_id}","starred_url":"https://api.github.com/users/mgastegger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgastegger/subscriptions","organizations_url":"https://api.github.com/users/mgastegger/orgs","repos_url":"https://api.github.com/users/mgastegger/repos","events_url":"https://api.github.com/users/mgastegger/events{/privacy}","received_events_url":"https://api.github.com/users/mgastegger/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/597362448","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/218#issuecomment-597362448","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/218","id":597362448,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzM2MjQ0OA==","user":{"login":"bkmi","id":12955549,"node_id":"MDQ6VXNlcjEyOTU1NTQ5","avatar_url":"https://avatars.githubusercontent.com/u/12955549?v=4","gravatar_id":"","url":"https://api.github.com/users/bkmi","html_url":"https://github.com/bkmi","followers_url":"https://api.github.com/users/bkmi/followers","following_url":"https://api.github.com/users/bkmi/following{/other_user}","gists_url":"https://api.github.com/users/bkmi/gists{/gist_id}","starred_url":"https://api.github.com/users/bkmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkmi/subscriptions","organizations_url":"https://api.github.com/users/bkmi/orgs","repos_url":"https://api.github.com/users/bkmi/repos","events_url":"https://api.github.com/users/bkmi/events{/privacy}","received_events_url":"https://api.github.com/users/bkmi/received_events","type":"User","site_admin":false},"created_at":"2020-03-10T23:04:51Z","updated_at":"2020-03-10T23:11:45Z","author_association":"NONE","body":"Thank you for your answer but I should have been more specific. From where do you calculate the atomrefs? Do you create a schnet model without them then average across contributions from certain atoms? I want to know where the values built in to QM9 came from.\r\n\r\nAh on second read I think the answer is in the first line, i.e. \r\n\r\n> In general, these are the energies computed for the free atoms (single atom in vacuum).\r\n\r\nI think it must be something like the energy of ionization of all the the electrons from an atom in vacuum, is that right?\r\n\r\nIf so where do the values for the properties other than energy come from?","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/597362448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bkmi","id":12955549,"node_id":"MDQ6VXNlcjEyOTU1NTQ5","avatar_url":"https://avatars.githubusercontent.com/u/12955549?v=4","gravatar_id":"","url":"https://api.github.com/users/bkmi","html_url":"https://github.com/bkmi","followers_url":"https://api.github.com/users/bkmi/followers","following_url":"https://api.github.com/users/bkmi/following{/other_user}","gists_url":"https://api.github.com/users/bkmi/gists{/gist_id}","starred_url":"https://api.github.com/users/bkmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkmi/subscriptions","organizations_url":"https://api.github.com/users/bkmi/orgs","repos_url":"https://api.github.com/users/bkmi/repos","events_url":"https://api.github.com/users/bkmi/events{/privacy}","received_events_url":"https://api.github.com/users/bkmi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/597367283","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/218#issuecomment-597367283","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/218","id":597367283,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzM2NzI4Mw==","user":{"login":"bkmi","id":12955549,"node_id":"MDQ6VXNlcjEyOTU1NTQ5","avatar_url":"https://avatars.githubusercontent.com/u/12955549?v=4","gravatar_id":"","url":"https://api.github.com/users/bkmi","html_url":"https://github.com/bkmi","followers_url":"https://api.github.com/users/bkmi/followers","following_url":"https://api.github.com/users/bkmi/following{/other_user}","gists_url":"https://api.github.com/users/bkmi/gists{/gist_id}","starred_url":"https://api.github.com/users/bkmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkmi/subscriptions","organizations_url":"https://api.github.com/users/bkmi/orgs","repos_url":"https://api.github.com/users/bkmi/repos","events_url":"https://api.github.com/users/bkmi/events{/privacy}","received_events_url":"https://api.github.com/users/bkmi/received_events","type":"User","site_admin":false},"created_at":"2020-03-10T23:21:47Z","updated_at":"2020-03-10T23:21:47Z","author_association":"NONE","body":"I think I found my answer:\r\nhttps://www.nature.com/articles/sdata201422#Sec4\r\n\r\nIt's in the qm9 paper.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/597367283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bkmi","id":12955549,"node_id":"MDQ6VXNlcjEyOTU1NTQ5","avatar_url":"https://avatars.githubusercontent.com/u/12955549?v=4","gravatar_id":"","url":"https://api.github.com/users/bkmi","html_url":"https://github.com/bkmi","followers_url":"https://api.github.com/users/bkmi/followers","following_url":"https://api.github.com/users/bkmi/following{/other_user}","gists_url":"https://api.github.com/users/bkmi/gists{/gist_id}","starred_url":"https://api.github.com/users/bkmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkmi/subscriptions","organizations_url":"https://api.github.com/users/bkmi/orgs","repos_url":"https://api.github.com/users/bkmi/repos","events_url":"https://api.github.com/users/bkmi/events{/privacy}","received_events_url":"https://api.github.com/users/bkmi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/607811214","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/218#issuecomment-607811214","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/218","id":607811214,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzgxMTIxNA==","user":{"login":"mgastegger","id":36198330,"node_id":"MDQ6VXNlcjM2MTk4MzMw","avatar_url":"https://avatars.githubusercontent.com/u/36198330?v=4","gravatar_id":"","url":"https://api.github.com/users/mgastegger","html_url":"https://github.com/mgastegger","followers_url":"https://api.github.com/users/mgastegger/followers","following_url":"https://api.github.com/users/mgastegger/following{/other_user}","gists_url":"https://api.github.com/users/mgastegger/gists{/gist_id}","starred_url":"https://api.github.com/users/mgastegger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgastegger/subscriptions","organizations_url":"https://api.github.com/users/mgastegger/orgs","repos_url":"https://api.github.com/users/mgastegger/repos","events_url":"https://api.github.com/users/mgastegger/events{/privacy}","received_events_url":"https://api.github.com/users/mgastegger/received_events","type":"User","site_admin":false},"created_at":"2020-04-02T12:19:15Z","updated_at":"2020-04-02T12:19:15Z","author_association":"COLLABORATOR","body":"Thats correct.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/607811214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mgastegger","id":36198330,"node_id":"MDQ6VXNlcjM2MTk4MzMw","avatar_url":"https://avatars.githubusercontent.com/u/36198330?v=4","gravatar_id":"","url":"https://api.github.com/users/mgastegger","html_url":"https://github.com/mgastegger","followers_url":"https://api.github.com/users/mgastegger/followers","following_url":"https://api.github.com/users/mgastegger/following{/other_user}","gists_url":"https://api.github.com/users/mgastegger/gists{/gist_id}","starred_url":"https://api.github.com/users/mgastegger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgastegger/subscriptions","organizations_url":"https://api.github.com/users/mgastegger/orgs","repos_url":"https://api.github.com/users/mgastegger/repos","events_url":"https://api.github.com/users/mgastegger/events{/privacy}","received_events_url":"https://api.github.com/users/mgastegger/received_events","type":"User","site_admin":false}},{"id":3191926150,"node_id":"MDExOkNsb3NlZEV2ZW50MzE5MTkyNjE1MA==","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/3191926150","actor":{"login":"mgastegger","id":36198330,"node_id":"MDQ6VXNlcjM2MTk4MzMw","avatar_url":"https://avatars.githubusercontent.com/u/36198330?v=4","gravatar_id":"","url":"https://api.github.com/users/mgastegger","html_url":"https://github.com/mgastegger","followers_url":"https://api.github.com/users/mgastegger/followers","following_url":"https://api.github.com/users/mgastegger/following{/other_user}","gists_url":"https://api.github.com/users/mgastegger/gists{/gist_id}","starred_url":"https://api.github.com/users/mgastegger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgastegger/subscriptions","organizations_url":"https://api.github.com/users/mgastegger/orgs","repos_url":"https://api.github.com/users/mgastegger/repos","events_url":"https://api.github.com/users/mgastegger/events{/privacy}","received_events_url":"https://api.github.com/users/mgastegger/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-04-02T12:19:16Z","state_reason":null,"performed_via_github_app":null}]