[{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/477690489","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/78#issuecomment-477690489","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/78","id":477690489,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY5MDQ4OQ==","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T17:16:28Z","updated_at":"2019-03-28T17:16:28Z","author_association":"CONTRIBUTOR","body":"Hi,\r\nas you already noted, you should use:\r\n`schnetpack_qm9.py train schnet QM9.db TestRun --split 10000 10000 --cuda`\r\nwith the current version instead of providing a directory. THis is because, we now store the atomref data from qm9 as metadata in the db file.\r\n\r\nOtherwise, the script should work. This looks more like a problem with your GPU or python environment. Does it work without CUDA? Maybe, you have a jupyter notebook open in the background that is blocking the GPU?\r\n\r\nP.S. There was an unrelated bug I just fix, so better pull before trying again.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/477690489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/477938029","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/78#issuecomment-477938029","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/78","id":477938029,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzkzODAyOQ==","user":{"login":"somnambWl","id":18290380,"node_id":"MDQ6VXNlcjE4MjkwMzgw","avatar_url":"https://avatars.githubusercontent.com/u/18290380?v=4","gravatar_id":"","url":"https://api.github.com/users/somnambWl","html_url":"https://github.com/somnambWl","followers_url":"https://api.github.com/users/somnambWl/followers","following_url":"https://api.github.com/users/somnambWl/following{/other_user}","gists_url":"https://api.github.com/users/somnambWl/gists{/gist_id}","starred_url":"https://api.github.com/users/somnambWl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somnambWl/subscriptions","organizations_url":"https://api.github.com/users/somnambWl/orgs","repos_url":"https://api.github.com/users/somnambWl/repos","events_url":"https://api.github.com/users/somnambWl/events{/privacy}","received_events_url":"https://api.github.com/users/somnambWl/received_events","type":"User","site_admin":false},"created_at":"2019-03-29T09:55:26Z","updated_at":"2019-03-29T09:55:26Z","author_association":"NONE","body":"Hello,\r\n\r\nI have tried it again with the new version installed with _setup.py_. I got a similar error, but I managed to fix it in the end.\r\nHere is the error:\r\n\r\n```\r\nINFO:root:Random state initialized with seed 2156320712\r\nINFO:root:QM9 will be loaded...\r\nINFO:schnetpack.data.atoms:The dataset has already been downloaded and stored at QM9.db\r\nINFO:root:create splits...\r\nINFO:root:load data...\r\nINFO:root:calculate statistics...\r\nINFO:schnetpack.data.loader:statistics will be calculated...\r\nINFO:root:The model you built has: 1676033 parameters\r\nINFO:root:training...\r\nTraceback (most recent call last):\r\n  File \"/home/kubaw/.virtualenvs/schnet2/bin/schnetpack_qm9.py\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('schnetpack==0.2.1', 'schnetpack_qm9.py')\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 666, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 1453, in run_script\r\n    exec(script_code, namespace, namespace)\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/schnetpack-0.2.1-py3.7.egg/EGG-INFO/scripts/schnetpack_qm9.py\", line 591, in <module>\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/schnetpack-0.2.1-py3.7.egg/EGG-INFO/scripts/schnetpack_qm9.py\", line 323, in train\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/schnetpack-0.2.1-py3.7.egg/schnetpack/train/trainer.py\", line 248, in train\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/schnetpack-0.2.1-py3.7.egg/schnetpack/train/trainer.py\", line 178, in train\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/schnetpack-0.2.1-py3.7.egg/schnetpack/atomistic.py\", line 57, in forward\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/schnetpack-0.2.1-py3.7.egg/schnetpack/representation/schnet.py\", line 211, in forward\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/schnetpack-0.2.1-py3.7.egg/schnetpack/nn/neighbors.py\", line 122, in forward\r\n  File \"/home/kubaw/.virtualenvs/schnet2/lib/python3.7/site-packages/schnetpack-0.2.1-py3.7.egg/schnetpack/nn/neighbors.py\", line 54, in atom_distances\r\nRuntimeError: cublas runtime error : the GPU program failed to execute at /pytorch/aten/src/THC/THCBlas.cu:441\r\n```\r\n\r\nHowever, I managed to fix it by reinstalling torch. \r\n\r\n```\r\npip uninstall torch\r\npip3 install https://download.pytorch.org/whl/cu100/torch-1.0.1.post2-cp37-cp37m-linux_x86_64.whl\r\n```\r\n\r\nBefore, it worked without CUDA and there was not jupyter notebook opened in the background.\r\n\r\nThanks for the help :)","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/477938029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"somnambWl","id":18290380,"node_id":"MDQ6VXNlcjE4MjkwMzgw","avatar_url":"https://avatars.githubusercontent.com/u/18290380?v=4","gravatar_id":"","url":"https://api.github.com/users/somnambWl","html_url":"https://github.com/somnambWl","followers_url":"https://api.github.com/users/somnambWl/followers","following_url":"https://api.github.com/users/somnambWl/following{/other_user}","gists_url":"https://api.github.com/users/somnambWl/gists{/gist_id}","starred_url":"https://api.github.com/users/somnambWl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somnambWl/subscriptions","organizations_url":"https://api.github.com/users/somnambWl/orgs","repos_url":"https://api.github.com/users/somnambWl/repos","events_url":"https://api.github.com/users/somnambWl/events{/privacy}","received_events_url":"https://api.github.com/users/somnambWl/received_events","type":"User","site_admin":false}},{"id":2238738075,"node_id":"MDExOkNsb3NlZEV2ZW50MjIzODczODA3NQ==","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/2238738075","actor":{"login":"somnambWl","id":18290380,"node_id":"MDQ6VXNlcjE4MjkwMzgw","avatar_url":"https://avatars.githubusercontent.com/u/18290380?v=4","gravatar_id":"","url":"https://api.github.com/users/somnambWl","html_url":"https://github.com/somnambWl","followers_url":"https://api.github.com/users/somnambWl/followers","following_url":"https://api.github.com/users/somnambWl/following{/other_user}","gists_url":"https://api.github.com/users/somnambWl/gists{/gist_id}","starred_url":"https://api.github.com/users/somnambWl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somnambWl/subscriptions","organizations_url":"https://api.github.com/users/somnambWl/orgs","repos_url":"https://api.github.com/users/somnambWl/repos","events_url":"https://api.github.com/users/somnambWl/events{/privacy}","received_events_url":"https://api.github.com/users/somnambWl/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-29T09:55:26Z","state_reason":null,"performed_via_github_app":null}]