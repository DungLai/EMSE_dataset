[{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/522453119","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/159#issuecomment-522453119","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/159","id":522453119,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjQ1MzExOQ==","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2019-08-19T07:45:35Z","updated_at":"2019-08-19T07:45:57Z","author_association":"CONTRIBUTOR","body":"Hi,\r\nyou are right, there is no explicit layer at the moment for output per atom. However, you can use the Atomwise layer for that as follows:\r\n```\r\noutput = Atomwise(n_in, contributions=\"charges\")\r\n```\r\nThe result dict will contain the atomwise property \"charges\" then.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/522453119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"id":2565379977,"node_id":"MDEyOkxhYmVsZWRFdmVudDI1NjUzNzk5Nzc=","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/2565379977","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-08-19T07:53:44Z","label":{"name":"feature request","color":"fcf480"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/522472614","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/159#issuecomment-522472614","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/159","id":522472614,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjQ3MjYxNA==","user":{"login":"jduerholt","id":28678090,"node_id":"MDQ6VXNlcjI4Njc4MDkw","avatar_url":"https://avatars.githubusercontent.com/u/28678090?v=4","gravatar_id":"","url":"https://api.github.com/users/jduerholt","html_url":"https://github.com/jduerholt","followers_url":"https://api.github.com/users/jduerholt/followers","following_url":"https://api.github.com/users/jduerholt/following{/other_user}","gists_url":"https://api.github.com/users/jduerholt/gists{/gist_id}","starred_url":"https://api.github.com/users/jduerholt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jduerholt/subscriptions","organizations_url":"https://api.github.com/users/jduerholt/orgs","repos_url":"https://api.github.com/users/jduerholt/repos","events_url":"https://api.github.com/users/jduerholt/events{/privacy}","received_events_url":"https://api.github.com/users/jduerholt/received_events","type":"User","site_admin":false},"created_at":"2019-08-19T08:42:37Z","updated_at":"2019-08-19T08:44:36Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nthanks for your response. I also thought about this opportunity but I did not like that it is then also calculating the average. What I did was to add an additional \"squeeze\" option to the Aggregation layer:\r\n\r\n```\r\nif self.squeeze == True:\r\n   y = input.squeeze()\r\n   return y\r\n```\r\nSince the atom contributions are always of the shape (batchsize, natoms, 1), the squeeze option reduces it to (batchsize, natoms) which makes for me more sense for fitting charges. In addition, I added to the `extxyz_to_db` method the option for writing charges to the ase db file out of a extxyz file.\r\n\r\nI know this changes are very trivial, but if you are interested, I can make a pull request.\r\n\r\nBest\r\n\r\nJohannes","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/522472614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jduerholt","id":28678090,"node_id":"MDQ6VXNlcjI4Njc4MDkw","avatar_url":"https://avatars.githubusercontent.com/u/28678090?v=4","gravatar_id":"","url":"https://api.github.com/users/jduerholt","html_url":"https://github.com/jduerholt","followers_url":"https://api.github.com/users/jduerholt/followers","following_url":"https://api.github.com/users/jduerholt/following{/other_user}","gists_url":"https://api.github.com/users/jduerholt/gists{/gist_id}","starred_url":"https://api.github.com/users/jduerholt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jduerholt/subscriptions","organizations_url":"https://api.github.com/users/jduerholt/orgs","repos_url":"https://api.github.com/users/jduerholt/repos","events_url":"https://api.github.com/users/jduerholt/events{/privacy}","received_events_url":"https://api.github.com/users/jduerholt/received_events","type":"User","site_admin":false}},{"id":2601076952,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MjYwMTA3Njk1Mg==","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/2601076952","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2019-09-02T13:13:32Z","label":{"name":"feature request","color":"fcf480"},"performed_via_github_app":null},{"id":2601076954,"node_id":"MDEyOkxhYmVsZWRFdmVudDI2MDEwNzY5NTQ=","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/2601076954","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-09-02T13:13:32Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"id":4382415649,"node_id":"MDExOkNsb3NlZEV2ZW50NDM4MjQxNTY0OQ==","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/4382415649","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-02-26T15:26:26Z","state_reason":null,"performed_via_github_app":null}]