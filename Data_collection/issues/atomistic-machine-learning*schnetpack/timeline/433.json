[{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1237829356","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1237829356","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1237829356,"node_id":"IC_kwDOCMZ5Ls5Jx8bs","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-06T08:30:49Z","updated_at":"2022-09-06T08:30:49Z","author_association":"CONTRIBUTOR","body":"This is a weird thing. We have had similar problems occurring randomly. I thought at first it is a problem with our cluster, since it does not happen on my local computer. For @NiklasGebauer, it only happened after he set up a new virtual environment. Therefore, it might be caused by a certain (combination?) of python packages, but I am not entirely sure. Could you post your python environment (e.g. `conda list` or `pip list`)?","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1237829356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"id":7328135118,"node_id":"MEE_lADOCMZ5Ls5RO6phzwAAAAG0ynfO","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/7328135118","actor":{"login":"NiklasGebauer","id":2736079,"node_id":"MDQ6VXNlcjI3MzYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2736079?v=4","gravatar_id":"","url":"https://api.github.com/users/NiklasGebauer","html_url":"https://github.com/NiklasGebauer","followers_url":"https://api.github.com/users/NiklasGebauer/followers","following_url":"https://api.github.com/users/NiklasGebauer/following{/other_user}","gists_url":"https://api.github.com/users/NiklasGebauer/gists{/gist_id}","starred_url":"https://api.github.com/users/NiklasGebauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NiklasGebauer/subscriptions","organizations_url":"https://api.github.com/users/NiklasGebauer/orgs","repos_url":"https://api.github.com/users/NiklasGebauer/repos","events_url":"https://api.github.com/users/NiklasGebauer/events{/privacy}","received_events_url":"https://api.github.com/users/NiklasGebauer/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-06T08:30:50Z","performed_via_github_app":null},{"id":7328135121,"node_id":"SE_lADOCMZ5Ls5RO6phzwAAAAG0ynfR","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/7328135121","actor":{"login":"NiklasGebauer","id":2736079,"node_id":"MDQ6VXNlcjI3MzYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2736079?v=4","gravatar_id":"","url":"https://api.github.com/users/NiklasGebauer","html_url":"https://github.com/NiklasGebauer","followers_url":"https://api.github.com/users/NiklasGebauer/followers","following_url":"https://api.github.com/users/NiklasGebauer/following{/other_user}","gists_url":"https://api.github.com/users/NiklasGebauer/gists{/gist_id}","starred_url":"https://api.github.com/users/NiklasGebauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NiklasGebauer/subscriptions","organizations_url":"https://api.github.com/users/NiklasGebauer/orgs","repos_url":"https://api.github.com/users/NiklasGebauer/repos","events_url":"https://api.github.com/users/NiklasGebauer/events{/privacy}","received_events_url":"https://api.github.com/users/NiklasGebauer/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-06T08:30:50Z","performed_via_github_app":null},{"id":7328137795,"node_id":"LE_lADOCMZ5Ls5RO6phzwAAAAG0yoJD","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/7328137795","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-06T08:31:09Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":7328139286,"node_id":"AE_lADOCMZ5Ls5RO6phzwAAAAG0yogW","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/7328139286","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-09-06T08:31:19Z","assignee":{"login":"NiklasGebauer","id":2736079,"node_id":"MDQ6VXNlcjI3MzYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2736079?v=4","gravatar_id":"","url":"https://api.github.com/users/NiklasGebauer","html_url":"https://github.com/NiklasGebauer","followers_url":"https://api.github.com/users/NiklasGebauer/followers","following_url":"https://api.github.com/users/NiklasGebauer/following{/other_user}","gists_url":"https://api.github.com/users/NiklasGebauer/gists{/gist_id}","starred_url":"https://api.github.com/users/NiklasGebauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NiklasGebauer/subscriptions","organizations_url":"https://api.github.com/users/NiklasGebauer/orgs","repos_url":"https://api.github.com/users/NiklasGebauer/repos","events_url":"https://api.github.com/users/NiklasGebauer/events{/privacy}","received_events_url":"https://api.github.com/users/NiklasGebauer/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"id":7328139321,"node_id":"AE_lADOCMZ5Ls5RO6phzwAAAAG0yog5","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/7328139321","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-09-06T08:31:19Z","assignee":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1238110438","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1238110438","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1238110438,"node_id":"IC_kwDOCMZ5Ls5JzBDm","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-06T12:53:17Z","updated_at":"2022-09-06T12:53:17Z","author_association":"NONE","body":"this is my environment with `conda env export > environment.yml` \r\n[environment.txt](https://github.com/atomistic-machine-learning/schnetpack/files/9497019/environment.txt)\r\n","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1238110438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1238123006","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1238123006","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1238123006,"node_id":"IC_kwDOCMZ5Ls5JzEH-","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-06T13:04:08Z","updated_at":"2022-09-06T13:13:39Z","author_association":"NONE","body":"You may be right. When I run another lightning-hydra model (the structure is edited by new Schnetpack) in the same environment, I don't have the same problem at all, and the python packages used for that model are a bit different from the new Schnetpack, but I'm not sure which packages are causing the problem.\r\n\r\nIs there any tool that lists all packages used in the current program?","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1238123006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1238255804","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1238255804","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1238255804,"node_id":"IC_kwDOCMZ5Ls5Jzki8","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-06T14:46:35Z","updated_at":"2022-09-06T14:46:35Z","author_association":"CONTRIBUTOR","body":"On my side, one epoch of QM9 runs takes about 60 seconds on a P100. I will try the same with your environment and report back later.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1238255804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239007689","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1239007689","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1239007689,"node_id":"IC_kwDOCMZ5Ls5J2cHJ","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-07T07:22:33Z","updated_at":"2022-09-07T07:22:33Z","author_association":"NONE","body":"> On my side, one epoch of QM9 runs takes about 60 seconds on a P100. I will try the same with your environment and report back later.\r\n\r\nCould you give me your environment file (like `environment.txt`) ? I'd like to test if it works normally when I use your environment, thanks.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239007689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239011684","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1239011684","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1239011684,"node_id":"IC_kwDOCMZ5Ls5J2dFk","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-07T07:26:47Z","updated_at":"2022-09-07T07:27:09Z","author_association":"CONTRIBUTOR","body":"> Is there any tool that lists all packages used in the current program?\r\n\r\nI am not aware, but that would indeed be useful.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239011684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239018413","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1239018413","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1239018413,"node_id":"IC_kwDOCMZ5Ls5J2eut","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-07T07:33:40Z","updated_at":"2022-09-07T07:33:40Z","author_association":"NONE","body":"\r\n\r\n\r\n> > Is there any tool that lists all packages used in the current program?\r\n> \r\n> I am not aware, but that would indeed be useful.\r\n\r\nI found pipreqs package to do this from https://stackoverflow.com/questions/35796968/get-all-modules-packages-used-by-a-python-project","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239018413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239019751","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1239019751","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1239019751,"node_id":"IC_kwDOCMZ5Ls5J2fDn","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-07T07:35:04Z","updated_at":"2022-09-07T07:35:04Z","author_association":"CONTRIBUTOR","body":"> > > Is there any tool that lists all packages used in the current program?\r\n> > \r\n> > \r\n> > I am not aware, but that would indeed be useful.\r\n> \r\n> I found pipreqs package to do this from https://stackoverflow.com/questions/35796968/get-all-modules-packages-used-by-a-python-project\r\n\r\nNice! I am trying to export my environment, but conda is giving version errors...","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239019751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239034567","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1239034567","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1239034567,"node_id":"IC_kwDOCMZ5Ls5J2irH","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-07T07:49:22Z","updated_at":"2022-09-07T07:49:51Z","author_association":"NONE","body":"```\r\nase==3.22.1\r\nauto_mix_prep==0.2.0\r\ndirsync==2.2.4\r\nfasteners==0.17.3\r\nh5py==3.7.0\r\nmatscipy==0.7.0\r\nscipy==1.7.3\r\ntensorboardX==2.5.1\r\ntqdm==4.64.0\r\n```\r\nThe list is all the packages that are used in the new Schnetpack, but not in my lightning-hydra model, including the version I installed. I think you can confirm if these packages are causing the problem.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239034567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239044767","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1239044767","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1239044767,"node_id":"IC_kwDOCMZ5Ls5J2lKf","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-07T07:59:33Z","updated_at":"2022-09-07T07:59:33Z","author_association":"CONTRIBUTOR","body":"Ok, I don't know what the matter with the conda export, but apparently it is a common bug, that it does not export when there is something wrong in package requirements. Here are my versions of the packages:\r\n\r\n```\r\nase==3.22.0\r\nauto_mix_prep -> not installed (also don't know why it should be used by schnetpack)\r\ndirsync==2.2.5\r\nfasteners==0.16.3\r\nh5py==3.0.0\r\nmatscipy==0.7.0+145.gaa33010\r\nscipy==1.5.4\r\ntensorboardx==2.1\r\ntqdm==4.64.0\r\n```\r\nI'll try your environment now.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239044767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239258328","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1239258328","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1239258328,"node_id":"IC_kwDOCMZ5Ls5J3ZTY","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-07T11:20:10Z","updated_at":"2022-09-07T11:20:10Z","author_association":"NONE","body":"Well, I tried to use your environment except matscipy because I couldn't find the 0.7.0+145.gaa33010 version, but the problem wasn't solved. I guess I need your complete environment (including pip and conda) so that I can run a normal job first.\r\n\r\nBy the way, I can give my complete environment to you:\r\n\r\nthis file is from `pip freeze > requirements.txt` :  [requirements.txt](https://github.com/atomistic-machine-learning/schnetpack/files/9505615/requirements.txt)\r\n\r\nand this file is from `pipreqs` at schnetpack2.0 path: [requirements.txt](https://github.com/atomistic-machine-learning/schnetpack/files/9505644/requirements.txt)\r\n","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239258328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239338490","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1239338490","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1239338490,"node_id":"IC_kwDOCMZ5Ls5J3s36","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-07T12:41:03Z","updated_at":"2022-09-07T12:41:03Z","author_association":"NONE","body":"> Well, I tried to use your environment except matscipy because I couldn't find the 0.7.0+145.gaa33010 version, but the problem wasn't solved. I guess I need your complete environment (including pip and conda) so that I can run a normal job first.\r\n> \r\n> By the way, I can give my complete environment to you:\r\n> \r\n> this file is from `pip freeze > requirements.txt` : [requirements.txt](https://github.com/atomistic-machine-learning/schnetpack/files/9505615/requirements.txt)\r\n> \r\n> and this file is from `pipreqs` at schnetpack2.0 path: [requirements.txt](https://github.com/atomistic-machine-learning/schnetpack/files/9505644/requirements.txt)\r\n\r\nAnd [this file](https://github.com/atomistic-machine-learning/schnetpack/files/9506183/slurm-out.txt) is the output of my job, I've masked a few private messages, but you can see that Epoch 0 took over 3 minutes to complete just over 50%.\r\n","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1239338490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1243189407","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1243189407","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1243189407,"node_id":"IC_kwDOCMZ5Ls5KGZCf","user":{"login":"zonezone12","id":72430447,"node_id":"MDQ6VXNlcjcyNDMwNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/72430447?v=4","gravatar_id":"","url":"https://api.github.com/users/zonezone12","html_url":"https://github.com/zonezone12","followers_url":"https://api.github.com/users/zonezone12/followers","following_url":"https://api.github.com/users/zonezone12/following{/other_user}","gists_url":"https://api.github.com/users/zonezone12/gists{/gist_id}","starred_url":"https://api.github.com/users/zonezone12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zonezone12/subscriptions","organizations_url":"https://api.github.com/users/zonezone12/orgs","repos_url":"https://api.github.com/users/zonezone12/repos","events_url":"https://api.github.com/users/zonezone12/events{/privacy}","received_events_url":"https://api.github.com/users/zonezone12/received_events","type":"User","site_admin":false},"created_at":"2022-09-12T04:01:48Z","updated_at":"2022-09-12T04:01:48Z","author_association":"NONE","body":"I have run schnetpack under this command \r\nspktrain experiment=qm9 model/representation=schnet trainer=debug_trainer \r\nand it took about 6min per epoch.\r\n\r\nmy versions of the packages:\r\nase                     3.22.1\r\ndirsync                 2.2.5\r\nfasteners               0.17.3\r\nh5py                    3.7.0\r\nhydra-colorlog          1.2.0\r\nhydra-core              1.2.0\r\nmatscipy                0.7.0+145.gaa33010\r\nnumpy                   1.23.2\r\npython                    3.8.13\r\npytorch-lightning       1.6.5\r\nPyYAML                  6.0\r\nschnetpack              1.0.0.dev0\r\nscipy                   1.9.1\r\ntensorboard             2.9.0\r\ntensorboard-data-server 0.6.1\r\ntensorboard-plugin-wit  1.8.1\r\ntorch                   1.12.1\r\ntorchmetrics            0.9.3\r\ntqdm                    4.64.1\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1243189407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zonezone12","id":72430447,"node_id":"MDQ6VXNlcjcyNDMwNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/72430447?v=4","gravatar_id":"","url":"https://api.github.com/users/zonezone12","html_url":"https://github.com/zonezone12","followers_url":"https://api.github.com/users/zonezone12/followers","following_url":"https://api.github.com/users/zonezone12/following{/other_user}","gists_url":"https://api.github.com/users/zonezone12/gists{/gist_id}","starred_url":"https://api.github.com/users/zonezone12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zonezone12/subscriptions","organizations_url":"https://api.github.com/users/zonezone12/orgs","repos_url":"https://api.github.com/users/zonezone12/repos","events_url":"https://api.github.com/users/zonezone12/events{/privacy}","received_events_url":"https://api.github.com/users/zonezone12/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1243518277","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1243518277","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1243518277,"node_id":"IC_kwDOCMZ5Ls5KHpVF","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-12T10:14:16Z","updated_at":"2022-09-12T10:14:16Z","author_association":"CONTRIBUTOR","body":"I think I found the issue! In the output file, I see that the flag ``trainer.detect_anomaly`` is set to ``true`` in the config. This should be ``false``! This might have been the default in a previous version, but currently it is ``false`` by default. Could you retry and report whether that was the problem?","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1243518277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1243563680","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1243563680","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1243563680,"node_id":"IC_kwDOCMZ5Ls5KH0ag","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-12T10:54:48Z","updated_at":"2022-09-12T10:54:48Z","author_association":"CONTRIBUTOR","body":"> and it took about 6min per epoch.\r\n\r\nSame issue here: The debug trainer uses ``detect_anomaly`` to identify NaNs, which seems to be quite slow.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1243563680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1244753956","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1244753956","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1244753956,"node_id":"IC_kwDOCMZ5Ls5KMXAk","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-13T00:47:48Z","updated_at":"2022-09-13T00:49:44Z","author_association":"NONE","body":"> I think I found the issue! In the output file, I see that the flag `trainer.detect_anomaly` is set to `true` in the config. This should be `false`! This might have been the default in a previous version, but currently it is `false` by default. Could you retry and report whether that was the problem?\r\n\r\nPlease see [this log file](https://github.com/atomistic-machine-learning/schnetpack/files/9552645/slurm-xxxxxx.txt).\r\nAfter setting `detect_anomaly` to False, the training speed does improve, but only from about 6 minutes to 4 and a half minutes.\r\nI think the main reason for this problem comes from other sources than `detect_anomaly`.\r\nAnyway, thanks to report this finding, it is useful.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1244753956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1244983676","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1244983676","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1244983676,"node_id":"IC_kwDOCMZ5Ls5KNPF8","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-13T07:00:11Z","updated_at":"2022-09-13T07:00:11Z","author_association":"NONE","body":"> > I think I found the issue! In the output file, I see that the flag `trainer.detect_anomaly` is set to `true` in the config. This should be `false`! This might have been the default in a previous version, but currently it is `false` by default. Could you retry and report whether that was the problem?\r\n> \r\n> Please see [this log file](https://github.com/atomistic-machine-learning/schnetpack/files/9552645/slurm-xxxxxx.txt). After setting `detect_anomaly` to False, the training speed does improve, but only from about 6 minutes to 4 and a half minutes. I think the main reason for this problem comes from other sources than `detect_anomaly`. Anyway, thanks to report this finding, it is useful.\r\n\r\nwith `detect_anomaly=False` :\r\n![image](https://user-images.githubusercontent.com/34709131/189831761-8e794281-5c16-437d-bfb9-8252db9ff6ae.png)\r\n![image](https://user-images.githubusercontent.com/34709131/189832139-c3805600-ee88-4883-a25a-b7e39b80e8e0.png)\r\n","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1244983676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1245103800","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1245103800","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1245103800,"node_id":"IC_kwDOCMZ5Ls5KNsa4","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-13T08:55:18Z","updated_at":"2022-09-13T08:55:18Z","author_association":"CONTRIBUTOR","body":"From the log file it seems your validation is also quite slow. Since you're running on a cluster, I have two more ideas:\r\n1. How much CPUs did you assign to the job? Since we now have a batch layout that is more efficient for large systems, we can't use something like the SimpleEnvironmentProvider anymore. Therefore the preprocessing might be a bit more CPU-intensive. Try 2-4 CPU cores (real, not hyperthreads) and 4 train and validation workers.\r\n2. If your data is stored on a slow shared drive, you might want to copy to a fast local directory on the node. SchNetPack can take care of that: when you set ``data.data_workdir=/your/local/directory``, the data is automatically copied there.\r\n\r\nLet me know if this helps.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1245103800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1246023755","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1246023755","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1246023755,"node_id":"IC_kwDOCMZ5Ls5KRNBL","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-13T22:48:31Z","updated_at":"2022-09-14T02:48:33Z","author_association":"NONE","body":"> From the log file it seems your validation is also quite slow. Since you're running on a cluster, I have two more ideas:\r\n> \r\n> 1. How much CPUs did you assign to the job? Since we now have a batch layout that is more efficient for large systems, we can't use something like the SimpleEnvironmentProvider anymore. Therefore the preprocessing might be a bit more CPU-intensive. Try 2-4 CPU cores (real, not hyperthreads) and 4 train and validation workers.\r\n> 2. If your data is stored on a slow shared drive, you might want to copy to a fast local directory on the node. SchNetPack can take care of that: when you set `data.data_workdir=/your/local/directory`, the data is automatically copied there.\r\n> \r\n> Let me know if this helps.\r\n\r\nThank you for your advice.\r\n\r\nMy computing platform is one of the top 60 supercomputers, so I don't think it's a hardware problem.\r\n\r\nFor point 1, each node has 8 GPUs and 36 CPUs, and the CPU model is Intel® Xeon® Gold 6154. I use 4 CPU cores to run my job.\r\n\r\nFor point 2, I use the Hyper File System (HFS) to store my data and I think it should not be a slow shared drive.\r\n\r\nFor my environment, Schnetpack 1.0 no doubt works fine, while Schnetpack 2.0 still takes 1.5 times longer than Schnetpack 1.0 to complete 1 epoch when `detect_anomaly=False` .\r\n\r\n**Edited**: Both Schnetpack 1.0 and Schnetpack 2.0 ran on the same cluster.\r\n\r\n**Edited2**: I have tried to set `validation workers = 4`, but time cost still over 4 minutes.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1246023755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1246044336","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1246044336","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1246044336,"node_id":"IC_kwDOCMZ5Ls5KRSCw","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-13T23:17:10Z","updated_at":"2022-09-14T03:04:38Z","author_association":"NONE","body":"> > From the log file it seems your validation is also quite slow. Since you're running on a cluster, I have two more ideas:\r\n> > \r\n> > 1. How much CPUs did you assign to the job? Since we now have a batch layout that is more efficient for large systems, we can't use something like the SimpleEnvironmentProvider anymore. Therefore the preprocessing might be a bit more CPU-intensive. Try 2-4 CPU cores (real, not hyperthreads) and 4 train and validation workers.\r\n> > 2. If your data is stored on a slow shared drive, you might want to copy to a fast local directory on the node. SchNetPack can take care of that: when you set `data.data_workdir=/your/local/directory`, the data is automatically copied there.\r\n> > \r\n> > Let me know if this helps.\r\n> \r\n> Thank you for your advice.\r\n> \r\n> My computing platform is one of the top 60 supercomputers, so I don't think it's a hardware problem.\r\n> \r\n> For point 1, each node has 8 GPUs and 36 CPUs, and the CPU model is Intel® Xeon® Gold 6154. I use 4 CPU cores to run my job.\r\n> \r\n> For point 2, I use the Hyper File System (HFS) to store my data and I think it should not be a slow shared drive.\r\n> \r\n> For my environment, Schnetpack 1.0 no doubt works fine, while Schnetpack 2.0 still takes 1.5 times longer than Schnetpack 1.0 to complete 1 epoch when `detect_anomaly=False` .\r\n\r\nAlso, if I run another lightning-hydra model with the same configuration and environment, it works fine:\r\n\r\n**Edited:** In the case of `detect_anomaly=False`, this model can improve speed to 7 times faster than `detect_anomaly=True`!\r\n\r\n**Edited2:** Both Schnetpack 1.0, Schnetpack 2.0 and this model all ran on the same cluster.\r\n\r\n![image](https://user-images.githubusercontent.com/34709131/190025309-d194af80-3bf9-41fa-8a83-eaf49c75aaad.png)\r\n![image](https://user-images.githubusercontent.com/34709131/190025439-65ab87a9-a3f2-4ded-bf18-013631f6a4e4.png)\r\n\r\nI still think the problem should be caused by some function or version in the package(s).","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1246044336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1246730029","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1246730029","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1246730029,"node_id":"IC_kwDOCMZ5Ls5KT5ct","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-14T12:59:47Z","updated_at":"2022-09-14T12:59:47Z","author_association":"NONE","body":"I have an idea: Lightning-hydra version of Schnetpack 1.0.\r\nWithout changing any of the model structures and functions used in Schnetpack 1.0 (e.g. without using `scatter_add`, `_atoms_collate_fn` and other new functions), just use the lightning- hydra template to replace the necessary parts, and then try to run the training once with my environment. \r\nRegardless of whether the results are slower or the same compared to the original Schnetpack 1.0, the problem can be narrowed down and we are able to figure out if the problem comes from lightning-hydra or those new functions / structures, what do you think? Would this be too time consuming? Or do you think this should be unhelpful?","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1246730029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1250622706","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1250622706","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1250622706,"node_id":"IC_kwDOCMZ5Ls5Kivzy","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2022-09-19T06:35:45Z","updated_at":"2022-09-19T06:35:45Z","author_association":"CONTRIBUTOR","body":"Besides the fact that this would be a lot of work, I don't think this would help because the SchNetPack 2 code works fast on our computer cluster and you already found that Lightning/Hydra works fine on your side with a different model. Therefore there must be some environment/hardware dependency or conflict. \r\n\r\nI finally got around to set up and export a conda\r\n[environment](https://github.com/atomistic-machine-learning/schnetpack/files/9596542/environment.yml.txt)\r\n similar the one you provided. You also have to install schnetpack with `pip install git+https://github.com/atomistic-machine-learning/schnetpack.git`, since installation via git does not seem to be provided by the conda YAML. \r\n\r\nCalling this with:\r\n``spktrain experiment=qm9 data.num_train=110000 data.num_val=1000 data.batch_size=100 data.datapath=/home/kschuett/data/qm9.db data.data_workdir=/tmp/kristof/spktest model/representation=schnet``\r\nyields 16 it/s in training, leading to approximately 1 min for an epoch including validation.\r\n\r\nPerhaps you can try again with this? You could also send me your trace file, maybe there is some hint what op is causing the slowdown that I can't see on the picture.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1250622706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1250979528","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1250979528","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1250979528,"node_id":"IC_kwDOCMZ5Ls5KkG7I","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-19T12:52:27Z","updated_at":"2022-09-19T12:52:27Z","author_association":"NONE","body":"I will try your suggestion, thanks!","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1250979528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1251019547","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/433#issuecomment-1251019547","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/433","id":1251019547,"node_id":"IC_kwDOCMZ5Ls5KkQsb","user":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false},"created_at":"2022-09-19T13:26:22Z","updated_at":"2022-09-19T13:27:32Z","author_association":"NONE","body":"I think I've found the problem. Have you tried using `python 3.8`?\r\nI have been using `Python 3.8` environment and when I switched to `Python 3.9` everything became much more normal, at least now I can finish 1 epoch in 2 minutes. I hope you can help me to verify this part.\r\nI found this out from the environment file you provided, thanks for your help.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/1251019547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sssaennn","id":34709131,"node_id":"MDQ6VXNlcjM0NzA5MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34709131?v=4","gravatar_id":"","url":"https://api.github.com/users/sssaennn","html_url":"https://github.com/sssaennn","followers_url":"https://api.github.com/users/sssaennn/followers","following_url":"https://api.github.com/users/sssaennn/following{/other_user}","gists_url":"https://api.github.com/users/sssaennn/gists{/gist_id}","starred_url":"https://api.github.com/users/sssaennn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sssaennn/subscriptions","organizations_url":"https://api.github.com/users/sssaennn/orgs","repos_url":"https://api.github.com/users/sssaennn/repos","events_url":"https://api.github.com/users/sssaennn/events{/privacy}","received_events_url":"https://api.github.com/users/sssaennn/received_events","type":"User","site_admin":false}},{"id":7419380218,"node_id":"UNLE_lADOCMZ5Ls5RO6phzwAAAAG6OsH6","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/7419380218","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2022-09-20T07:18:12Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null}]