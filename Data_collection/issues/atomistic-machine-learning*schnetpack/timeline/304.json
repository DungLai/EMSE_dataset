[{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/910120515","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/304#issuecomment-910120515","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/304","id":910120515,"node_id":"IC_kwDOCMZ5Ls42P1ZD","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2021-09-01T09:48:20Z","updated_at":"2021-09-01T09:48:20Z","author_association":"CONTRIBUTOR","body":"Sorry for the late response. We are waiting for the forward mode autograds in PyTorch, which are expected with the next release ([see PyTorch thread](https://github.com/pytorch/pytorch/issues/10223)). Then, this should be possible.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/910120515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"id":5238356338,"node_id":"CE_lADOCMZ5Ls436UI0zwAAAAE4Ovly","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/5238356338","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-09-01T09:48:20Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/912212954","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/304#issuecomment-912212954","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/304","id":912212954,"node_id":"IC_kwDOCMZ5Ls42X0Pa","user":{"login":"OMalenfantThuot","id":38050649,"node_id":"MDQ6VXNlcjM4MDUwNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38050649?v=4","gravatar_id":"","url":"https://api.github.com/users/OMalenfantThuot","html_url":"https://github.com/OMalenfantThuot","followers_url":"https://api.github.com/users/OMalenfantThuot/followers","following_url":"https://api.github.com/users/OMalenfantThuot/following{/other_user}","gists_url":"https://api.github.com/users/OMalenfantThuot/gists{/gist_id}","starred_url":"https://api.github.com/users/OMalenfantThuot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OMalenfantThuot/subscriptions","organizations_url":"https://api.github.com/users/OMalenfantThuot/orgs","repos_url":"https://api.github.com/users/OMalenfantThuot/repos","events_url":"https://api.github.com/users/OMalenfantThuot/events{/privacy}","received_events_url":"https://api.github.com/users/OMalenfantThuot/received_events","type":"User","site_admin":false},"created_at":"2021-09-03T02:51:20Z","updated_at":"2021-09-03T02:51:20Z","author_association":"NONE","body":"After some testing, my impression is that it would only be possible while using a single interaction block, otherwise the representation of each atom depends indirectly on all atoms in the system (because they all get updated between each interaction block), but I could be wrong. Let's wait for this update and see.\r\n\r\nThanks for the answer!","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/912212954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"OMalenfantThuot","id":38050649,"node_id":"MDQ6VXNlcjM4MDUwNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38050649?v=4","gravatar_id":"","url":"https://api.github.com/users/OMalenfantThuot","html_url":"https://github.com/OMalenfantThuot","followers_url":"https://api.github.com/users/OMalenfantThuot/followers","following_url":"https://api.github.com/users/OMalenfantThuot/following{/other_user}","gists_url":"https://api.github.com/users/OMalenfantThuot/gists{/gist_id}","starred_url":"https://api.github.com/users/OMalenfantThuot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OMalenfantThuot/subscriptions","organizations_url":"https://api.github.com/users/OMalenfantThuot/orgs","repos_url":"https://api.github.com/users/OMalenfantThuot/repos","events_url":"https://api.github.com/users/OMalenfantThuot/events{/privacy}","received_events_url":"https://api.github.com/users/OMalenfantThuot/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/912344057","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/304#issuecomment-912344057","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/304","id":912344057,"node_id":"IC_kwDOCMZ5Ls42YUP5","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2021-09-03T08:05:15Z","updated_at":"2021-09-03T08:05:15Z","author_association":"CONTRIBUTOR","body":"Ah, i was referring to the memory cost of storing the activations for backprop.. Regarding your idea, it should still be possible with multiple interaction layers when you have a cutoff, since you will have a \"visual field\" of n_interactions*cutoff. So you can split the system across multiple nodes if you accept some duplicated work.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/912344057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"id":5251985984,"node_id":"REE_lADOCMZ5Ls436UI0zwAAAAE5CvJA","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/5251985984","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2021-09-03T08:05:17Z","state_reason":null,"performed_via_github_app":null},{"id":5251986837,"node_id":"LE_lADOCMZ5Ls436UI0zwAAAAE5CvWV","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/5251986837","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-03T08:05:26Z","label":{"name":"feature request","color":"fcf480"},"performed_via_github_app":null},{"id":5251987455,"node_id":"LE_lADOCMZ5Ls436UI0zwAAAAE5Cvf_","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/5251987455","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-03T08:05:32Z","label":{"name":"help wanted","color":"008672"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/912579512","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/304#issuecomment-912579512","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/304","id":912579512,"node_id":"IC_kwDOCMZ5Ls42ZNu4","user":{"login":"OMalenfantThuot","id":38050649,"node_id":"MDQ6VXNlcjM4MDUwNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38050649?v=4","gravatar_id":"","url":"https://api.github.com/users/OMalenfantThuot","html_url":"https://github.com/OMalenfantThuot","followers_url":"https://api.github.com/users/OMalenfantThuot/followers","following_url":"https://api.github.com/users/OMalenfantThuot/following{/other_user}","gists_url":"https://api.github.com/users/OMalenfantThuot/gists{/gist_id}","starred_url":"https://api.github.com/users/OMalenfantThuot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OMalenfantThuot/subscriptions","organizations_url":"https://api.github.com/users/OMalenfantThuot/orgs","repos_url":"https://api.github.com/users/OMalenfantThuot/repos","events_url":"https://api.github.com/users/OMalenfantThuot/events{/privacy}","received_events_url":"https://api.github.com/users/OMalenfantThuot/received_events","type":"User","site_admin":false},"created_at":"2021-09-03T14:24:59Z","updated_at":"2021-09-03T14:24:59Z","author_association":"NONE","body":"I was thinking the same thing at first, sending only the central atom and its neighbors as a forward pass, getting the energy for this atom and looping on the atoms outside the model. I was able to make this work, but the results were off and I'm 99% sure it's because the representation of the neighbors themselves are updated starting from the second interaction block, and these updates depend on atoms not in the initial cutoff.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/912579512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"OMalenfantThuot","id":38050649,"node_id":"MDQ6VXNlcjM4MDUwNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38050649?v=4","gravatar_id":"","url":"https://api.github.com/users/OMalenfantThuot","html_url":"https://github.com/OMalenfantThuot","followers_url":"https://api.github.com/users/OMalenfantThuot/followers","following_url":"https://api.github.com/users/OMalenfantThuot/following{/other_user}","gists_url":"https://api.github.com/users/OMalenfantThuot/gists{/gist_id}","starred_url":"https://api.github.com/users/OMalenfantThuot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OMalenfantThuot/subscriptions","organizations_url":"https://api.github.com/users/OMalenfantThuot/orgs","repos_url":"https://api.github.com/users/OMalenfantThuot/repos","events_url":"https://api.github.com/users/OMalenfantThuot/events{/privacy}","received_events_url":"https://api.github.com/users/OMalenfantThuot/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/912600007","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/304#issuecomment-912600007","issue_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/304","id":912600007,"node_id":"IC_kwDOCMZ5Ls42ZSvH","user":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"created_at":"2021-09-03T14:54:51Z","updated_at":"2021-09-03T14:54:51Z","author_association":"CONTRIBUTOR","body":"Yes, for this to work, the cutoff of the neighborlist needs to be larger than that of the cutoff function inside the model:\r\n\r\n`cutoff_nbl = n_interaction*cutoff_internal`\r\n\r\nAnd to avoid too many repeated computation it would make sense to partition the system with some overlap instead of looking at every atom separately.","reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/comments/912600007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}},{"id":6042051416,"node_id":"CE_lADOCMZ5Ls436UI0zwAAAAFoImNY","url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/events/6042051416","actor":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-02-10T13:07:57Z","state_reason":null,"performed_via_github_app":null}]