{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/431","repository_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack","labels_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/431/labels{/name}","comments_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/431/comments","events_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/431/events","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/431","id":1352128745,"node_id":"I_kwDOCMZ5Ls5Ql9jp","number":431,"title":"Training on property \"gap\" crashes with experiment=qm9","user":{"login":"NiklasGebauer","id":2736079,"node_id":"MDQ6VXNlcjI3MzYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2736079?v=4","gravatar_id":"","url":"https://api.github.com/users/NiklasGebauer","html_url":"https://github.com/NiklasGebauer","followers_url":"https://api.github.com/users/NiklasGebauer/followers","following_url":"https://api.github.com/users/NiklasGebauer/following{/other_user}","gists_url":"https://api.github.com/users/NiklasGebauer/gists{/gist_id}","starred_url":"https://api.github.com/users/NiklasGebauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NiklasGebauer/subscriptions","organizations_url":"https://api.github.com/users/NiklasGebauer/orgs","repos_url":"https://api.github.com/users/NiklasGebauer/repos","events_url":"https://api.github.com/users/NiklasGebauer/events{/privacy}","received_events_url":"https://api.github.com/users/NiklasGebauer/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-08-26T11:17:40Z","updated_at":"2022-09-30T12:14:04Z","closed_at":"2022-09-30T12:13:53Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The training crashes when calling `spktrain experiment=qm9 globals.property=gap`. In my opinion, it should be possible to train on all properties contained in QM9 using that config.\r\nThe problem is that there are no atomrefs in the qm9.db metadata for the gap while the config for the experiment `qm9` specifies `remove_atomrefs: True` https://github.com/atomistic-machine-learning/schnetpack/blob/0f5043981b9b7a01ebb52daf3e6bb8a9cbed7a08/src/schnetpack/configs/experiment/qm9.yaml#L19 and `add_atomrefs: True` https://github.com/atomistic-machine-learning/schnetpack/blob/0f5043981b9b7a01ebb52daf3e6bb8a9cbed7a08/src/schnetpack/configs/experiment/qm9.yaml#L36\r\n\r\nI think we should either add atomrefs of 0 for gap (and other properties that do not have atomrefs like homo, lumo, etc.) to the db or ignore the setting of `remove_atomrefs` and `add_atomrefs` if the atomrefs for the target property cannot be found in metadata. Which solution do you prefer? Or do you have any other idea how to fix this?","closed_by":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/431/timeline","performed_via_github_app":null,"state_reason":"not_planned"}