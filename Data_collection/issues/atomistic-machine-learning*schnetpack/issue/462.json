{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/462","repository_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack","labels_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/462/labels{/name}","comments_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/462/comments","events_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/462/events","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/462","id":1455385929,"node_id":"I_kwDOCMZ5Ls5Wv21J","number":462,"title":"Question about using own data","user":{"login":"jychoi-hpc","id":3661063,"node_id":"MDQ6VXNlcjM2NjEwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/3661063?v=4","gravatar_id":"","url":"https://api.github.com/users/jychoi-hpc","html_url":"https://github.com/jychoi-hpc","followers_url":"https://api.github.com/users/jychoi-hpc/followers","following_url":"https://api.github.com/users/jychoi-hpc/following{/other_user}","gists_url":"https://api.github.com/users/jychoi-hpc/gists{/gist_id}","starred_url":"https://api.github.com/users/jychoi-hpc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jychoi-hpc/subscriptions","organizations_url":"https://api.github.com/users/jychoi-hpc/orgs","repos_url":"https://api.github.com/users/jychoi-hpc/repos","events_url":"https://api.github.com/users/jychoi-hpc/events{/privacy}","received_events_url":"https://api.github.com/users/jychoi-hpc/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"assignees":[{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2022-11-18T16:02:53Z","updated_at":"2022-12-02T14:01:37Z","closed_at":"2022-12-02T14:01:37Z","author_association":"NONE","active_lock_reason":null,"body":"Hi. I prepared own data by following instructions in here: https://schnetpack.readthedocs.io/en/stable/tutorials/tutorial_01_preparing_data.html\r\nThen, at training, I got the following error:\r\n```\r\n     33     if parent is None:\r\n---> 34         raise ValueError(\"Expected a parent\")\r\n     36 instance_attr = getattr(instance, method_name, None)\r\n     37 if instance_attr is None:\r\n\r\nValueError: Expected a parent\r\n```\r\n\r\nHere is a sketch of what I did. First prepared data:\r\n```\r\n    new_dataset = ASEAtomsData.create('./new_dataset.db', distance_unit='Ang', \r\n                                      property_unit_dict={'energy':'kcal/mol', 'forces':'kcal/mol/Ang'})\r\n    new_dataset.add_systems(property_list, atoms_list)\r\n```\r\nThen, made a loader:\r\n```\r\ntrain_loader = spk.data.loader.AtomsLoader(\r\n    new_dataset, \r\n    batch_size=100, \r\n    shuffle=True,\r\n)\r\n```\r\nThen, ran training (using the same model in Tutorial #3):\r\n```\r\ntrainer = pl.Trainer(\r\n    callbacks=callbacks,\r\n    logger=logger,\r\n    default_root_dir=forcetest,\r\n    max_epochs=5, # for testing, we restrict the number of epochs\r\n)\r\ntrainer.fit(task, datamodule=train_loader)\r\n```\r\n\r\nI appreciate any help. Thanks.","closed_by":{"login":"ktschuett","id":6585114,"node_id":"MDQ6VXNlcjY1ODUxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585114?v=4","gravatar_id":"","url":"https://api.github.com/users/ktschuett","html_url":"https://github.com/ktschuett","followers_url":"https://api.github.com/users/ktschuett/followers","following_url":"https://api.github.com/users/ktschuett/following{/other_user}","gists_url":"https://api.github.com/users/ktschuett/gists{/gist_id}","starred_url":"https://api.github.com/users/ktschuett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktschuett/subscriptions","organizations_url":"https://api.github.com/users/ktschuett/orgs","repos_url":"https://api.github.com/users/ktschuett/repos","events_url":"https://api.github.com/users/ktschuett/events{/privacy}","received_events_url":"https://api.github.com/users/ktschuett/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/462/timeline","performed_via_github_app":null,"state_reason":"completed"}