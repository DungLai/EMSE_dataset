{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/338","repository_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack","labels_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/338/labels{/name}","comments_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/338/comments","events_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/338/events","html_url":"https://github.com/atomistic-machine-learning/schnetpack/issues/338","id":1001046419,"node_id":"I_kwDOCMZ5Ls47qsGT","number":338,"title":"the difference of Energy and force Error for the training and validation set is big","user":{"login":"Manyi-Yang","id":50021753,"node_id":"MDQ6VXNlcjUwMDIxNzUz","avatar_url":"https://avatars.githubusercontent.com/u/50021753?v=4","gravatar_id":"","url":"https://api.github.com/users/Manyi-Yang","html_url":"https://github.com/Manyi-Yang","followers_url":"https://api.github.com/users/Manyi-Yang/followers","following_url":"https://api.github.com/users/Manyi-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Manyi-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Manyi-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manyi-Yang/subscriptions","organizations_url":"https://api.github.com/users/Manyi-Yang/orgs","repos_url":"https://api.github.com/users/Manyi-Yang/repos","events_url":"https://api.github.com/users/Manyi-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Manyi-Yang/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-09-20T14:36:21Z","updated_at":"2021-10-05T11:08:01Z","closed_at":"2021-10-05T11:08:01Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, When did some tests using the SchNet package, I got the following results.  \r\n\r\n### Energy and force Error for the training and validation set\r\n![image](https://user-images.githubusercontent.com/50021753/134016792-0a2f51e0-8af5-42ec-bafd-408c54d54fc3.png)\r\n\r\n> train_dataset MAE:\r\n    energy:    0.30023 meV/atom\r\n    forces:  158.48391 meV/Å\r\n   val_dataset MAE:\r\n    energy:    2.45322 meV/atom\r\n    forces:  171.90308 meV/Å\r\n\r\nHere I have some questions:\r\n1. the energy error for the validation set is about 8 times larger than that of the training set (very good). Is this normal? What are the possible reasons for this result?\r\n2. the force error for both the training set and the validation set is quite larger,  this is a little strange for me because at least the energy error for the training set is quite good. \r\n3. Another question:  can you give me some suggestions on how to choose the value of `batch_size`\r\n\r\n Please give me suggestions on how to improve the model. Thank you very much! \r\n### Here is my args.json file\r\n> {\r\n    \"aggregation_mode\": \"sum\",\r\n    \"batch_size\": 2,\r\n    \"checkpoint_interval\": 1,\r\n    \"contributions\": null,\r\n    \"cuda\": true,\r\n    \"cutoff\": 8.0,\r\n    \"cutoff_function\": \"cosine\",\r\n    \"datapath\": \"/home/myang@iit.local/S/SchNet/Only_S8/dpgen_raw_data_to_i9/aimd_dpgen_raw/model/dataset.db\",\r\n    \"dataset\": \"custom\",\r\n    \"derivative\": \"forces\",\r\n    \"environment_provider\": \"torch\",\r\n    \"features\": 48,\r\n    \"force\": null,\r\n    \"interactions\": 6,\r\n    \"keep_n_checkpoints\": 3,\r\n    \"log_every_n_epochs\": 1,\r\n    \"logger\": \"csv\",\r\n    \"lr\": 0.0005,\r\n    \"lr_decay\": 0.8,\r\n    \"lr_min\": 1e-06,\r\n    \"lr_patience\": 25,\r\n    \"max_epochs\": 10000,\r\n    \"max_steps\": null,\r\n    \"mode\": \"train\",\r\n    \"model\": \"schnet\",\r\n    \"modelpath\": \"model/\",\r\n    \"n_epochs\": 100000,\r\n    \"n_layers\": 3,\r\n    \"negative_dr\": true,\r\n    \"normalize_filter\": false,\r\n    \"num_gaussians\": 25,\r\n    \"output_module\": \"atomwise\",\r\n    \"overwrite\": false,\r\n    \"parallel\": true,\r\n    \"property\": \"energy\",\r\n    \"rho\": 0.1,\r\n    \"seed\": null,\r\n    \"split\": [\r\n        2100,\r\n        124\r\n    ],\r\n    \"split_path\": null,\r\n    \"stress\": null\r\n}\r\n","closed_by":{"login":"Stefaanhess","id":23171261,"node_id":"MDQ6VXNlcjIzMTcxMjYx","avatar_url":"https://avatars.githubusercontent.com/u/23171261?v=4","gravatar_id":"","url":"https://api.github.com/users/Stefaanhess","html_url":"https://github.com/Stefaanhess","followers_url":"https://api.github.com/users/Stefaanhess/followers","following_url":"https://api.github.com/users/Stefaanhess/following{/other_user}","gists_url":"https://api.github.com/users/Stefaanhess/gists{/gist_id}","starred_url":"https://api.github.com/users/Stefaanhess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stefaanhess/subscriptions","organizations_url":"https://api.github.com/users/Stefaanhess/orgs","repos_url":"https://api.github.com/users/Stefaanhess/repos","events_url":"https://api.github.com/users/Stefaanhess/events{/privacy}","received_events_url":"https://api.github.com/users/Stefaanhess/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/atomistic-machine-learning/schnetpack/issues/338/timeline","performed_via_github_app":null,"state_reason":"completed"}