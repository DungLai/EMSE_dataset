{"url":"https://api.github.com/repos/lsdefine/attention-is-all-you-need-keras/issues/2","repository_url":"https://api.github.com/repos/lsdefine/attention-is-all-you-need-keras","labels_url":"https://api.github.com/repos/lsdefine/attention-is-all-you-need-keras/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/lsdefine/attention-is-all-you-need-keras/issues/2/comments","events_url":"https://api.github.com/repos/lsdefine/attention-is-all-you-need-keras/issues/2/events","html_url":"https://github.com/lsdefine/attention-is-all-you-need-keras/issues/2","id":338951261,"node_id":"MDU6SXNzdWUzMzg5NTEyNjE=","number":2,"title":"MultiHeadAttention","user":{"login":"AMSakhnov","id":22341107,"node_id":"MDQ6VXNlcjIyMzQxMTA3","avatar_url":"https://avatars.githubusercontent.com/u/22341107?v=4","gravatar_id":"","url":"https://api.github.com/users/AMSakhnov","html_url":"https://github.com/AMSakhnov","followers_url":"https://api.github.com/users/AMSakhnov/followers","following_url":"https://api.github.com/users/AMSakhnov/following{/other_user}","gists_url":"https://api.github.com/users/AMSakhnov/gists{/gist_id}","starred_url":"https://api.github.com/users/AMSakhnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AMSakhnov/subscriptions","organizations_url":"https://api.github.com/users/AMSakhnov/orgs","repos_url":"https://api.github.com/users/AMSakhnov/repos","events_url":"https://api.github.com/users/AMSakhnov/events{/privacy}","received_events_url":"https://api.github.com/users/AMSakhnov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-07-06T14:02:27Z","updated_at":"2018-07-10T16:20:34Z","closed_at":"2018-07-10T16:20:34Z","author_association":"NONE","active_lock_reason":null,"body":"Hi!\r\n\r\nIt is strange to have n_head == 1, but it does not work in MultiHeadAttention class (mode=1)\r\nTo fix it, it is enough to change\r\n```\r\nhead = Concatenate()(heads)\r\nattn = Concatenate()(attns)\r\n```\r\non\r\n```\r\nif n_head == 1:\r\n    head = heads[0]\r\n    attn = attns[0]\r\nelse:\r\n    head = Concatenate()(heads)\r\n    attn = Concatenate()(attns)\r\n```\r\nbecause\r\n```\r\nA `Concatenate` layer should be called on a list of at least 2 inputs\r\n```","closed_by":{"login":"lsdefine","id":3377819,"node_id":"MDQ6VXNlcjMzNzc4MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3377819?v=4","gravatar_id":"","url":"https://api.github.com/users/lsdefine","html_url":"https://github.com/lsdefine","followers_url":"https://api.github.com/users/lsdefine/followers","following_url":"https://api.github.com/users/lsdefine/following{/other_user}","gists_url":"https://api.github.com/users/lsdefine/gists{/gist_id}","starred_url":"https://api.github.com/users/lsdefine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lsdefine/subscriptions","organizations_url":"https://api.github.com/users/lsdefine/orgs","repos_url":"https://api.github.com/users/lsdefine/repos","events_url":"https://api.github.com/users/lsdefine/events{/privacy}","received_events_url":"https://api.github.com/users/lsdefine/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/lsdefine/attention-is-all-you-need-keras/issues/2/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/lsdefine/attention-is-all-you-need-keras/issues/2/timeline","performed_via_github_app":null,"state_reason":"completed"}