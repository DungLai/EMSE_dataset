{"url":"https://api.github.com/repos/dirty-cat/dirty_cat/issues/275","repository_url":"https://api.github.com/repos/dirty-cat/dirty_cat","labels_url":"https://api.github.com/repos/dirty-cat/dirty_cat/issues/275/labels{/name}","comments_url":"https://api.github.com/repos/dirty-cat/dirty_cat/issues/275/comments","events_url":"https://api.github.com/repos/dirty-cat/dirty_cat/issues/275/events","html_url":"https://github.com/dirty-cat/dirty_cat/issues/275","id":1294060761,"node_id":"I_kwDOB3LOgs5NIczZ","number":275,"title":"`Version` might not work with special versions","user":{"login":"LilianBoulard","id":33222654,"node_id":"MDQ6VXNlcjMzMjIyNjU0","avatar_url":"https://avatars.githubusercontent.com/u/33222654?v=4","gravatar_id":"","url":"https://api.github.com/users/LilianBoulard","html_url":"https://github.com/LilianBoulard","followers_url":"https://api.github.com/users/LilianBoulard/followers","following_url":"https://api.github.com/users/LilianBoulard/following{/other_user}","gists_url":"https://api.github.com/users/LilianBoulard/gists{/gist_id}","starred_url":"https://api.github.com/users/LilianBoulard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LilianBoulard/subscriptions","organizations_url":"https://api.github.com/users/LilianBoulard/orgs","repos_url":"https://api.github.com/users/LilianBoulard/repos","events_url":"https://api.github.com/users/LilianBoulard/events{/privacy}","received_events_url":"https://api.github.com/users/LilianBoulard/received_events","type":"User","site_admin":false},"labels":[{"id":865002870,"node_id":"MDU6TGFiZWw4NjUwMDI4NzA=","url":"https://api.github.com/repos/dirty-cat/dirty_cat/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-07-05T09:48:51Z","updated_at":"2022-11-16T15:13:26Z","closed_at":"2022-11-16T15:13:26Z","author_association":"MEMBER","active_lock_reason":null,"body":"I worked earlier this week on version comparison, and the `Version` class was implemented in the utils. See #261.\r\n\r\nToday I realized that the way it is currently implemented, it will probably raise errors when checking for special versions, such as pre-releases, release candidates, dev versions, and others.\r\nThis is because it separates the version based on the dot character, and uses the two first (or only the first) values as the major and minor versions, which it converts to integers.\r\n\r\nI tested a few scikit-learn versions (taken from [PyPI](https://pypi.org/project/scikit-learn/#history)), and it seems to work :\r\n\r\nTo reproduce:\r\n```commandline\r\n$ pip install --upgrade scikit-learn==0.24.dev0\r\n$ python -c \"import sklearn; print(sklearn.__version__);\"\r\n0.24.dev0\r\n\r\n$ pip install --upgrade scikit-learn==1.0rc2\r\n$ python -c \"import sklearn; print(sklearn.__version__);\"\r\n1.0.rc2\r\n\r\n$ pip install --upgrade scikit-learn==1.1.0rc1\r\n$ python -c \"import sklearn; print(sklearn.__version__);\"\r\n1.1.0rc1\r\n```\r\n\r\nIf the version returned were to be e.g. `1.0rc1`, the method would raise a `ValueError` because it would try to convert `0rc1` (the minor) to an integer.\r\n\r\nCurrently, we only use this class to compare versions of scikit-learn, so it shouldn't be a problem for now.\r\nThis is however something to look out for in the future !","closed_by":{"login":"LilianBoulard","id":33222654,"node_id":"MDQ6VXNlcjMzMjIyNjU0","avatar_url":"https://avatars.githubusercontent.com/u/33222654?v=4","gravatar_id":"","url":"https://api.github.com/users/LilianBoulard","html_url":"https://github.com/LilianBoulard","followers_url":"https://api.github.com/users/LilianBoulard/followers","following_url":"https://api.github.com/users/LilianBoulard/following{/other_user}","gists_url":"https://api.github.com/users/LilianBoulard/gists{/gist_id}","starred_url":"https://api.github.com/users/LilianBoulard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LilianBoulard/subscriptions","organizations_url":"https://api.github.com/users/LilianBoulard/orgs","repos_url":"https://api.github.com/users/LilianBoulard/repos","events_url":"https://api.github.com/users/LilianBoulard/events{/privacy}","received_events_url":"https://api.github.com/users/LilianBoulard/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/dirty-cat/dirty_cat/issues/275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dirty-cat/dirty_cat/issues/275/timeline","performed_via_github_app":null,"state_reason":"completed"}