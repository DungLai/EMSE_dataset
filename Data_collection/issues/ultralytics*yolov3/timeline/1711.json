[{"id":4437235100,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ0MzcyMzUxMDA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4437235100","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-03-10T15:33:12Z","label":{"name":"question","color":"d876e3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/795954476","html_url":"https://github.com/ultralytics/yolov3/issues/1711#issuecomment-795954476","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1711","id":795954476,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NTk1NDQ3Ng==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2021-03-10T19:26:49Z","updated_at":"2021-03-10T19:27:46Z","author_association":"MEMBER","body":"@UrosJankovic yes, overfitting when using pretrained weights and hyp.scatch.yaml is a known issue. hyp.scratch.yaml was evolved for training COCO from scratch (--weights ''), so starting from pretrained models may not produce optimal results.\r\n\r\nFor finetuning from pretrained weights you may want to try hyp.finetune.yaml, which was evolved by finetuning COCO-trained models on VOC for 50 epochs 300 generations. This may fix the objectness loss overfitting.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/795954476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":4438770575,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQzODc3MDU3NQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4438770575","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-10T19:26:49Z","performed_via_github_app":null},{"id":4438770578,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0Mzg3NzA1Nzg=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4438770578","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-10T19:26:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/796104216","html_url":"https://github.com/ultralytics/yolov3/issues/1711#issuecomment-796104216","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1711","id":796104216,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NjEwNDIxNg==","user":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"created_at":"2021-03-10T21:04:35Z","updated_at":"2021-03-10T21:04:35Z","author_association":"NONE","body":"@glenn-jocher the results attached are from training without pretrained weights and hyp.scratch. What would cause overfitting of only validation objectness loss? Also mAP starts to decrease after ~100 epochs here as well.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/796104216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false}},{"id":4439261758,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQzOTI2MTc1OA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4439261758","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-10T21:04:35Z","performed_via_github_app":null},{"id":4439261764,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MzkyNjE3NjQ=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4439261764","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-10T21:04:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/796144871","html_url":"https://github.com/ultralytics/yolov3/issues/1711#issuecomment-796144871","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1711","id":796144871,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NjE0NDg3MQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2021-03-10T21:28:08Z","updated_at":"2021-03-10T21:28:08Z","author_association":"MEMBER","body":"@UrosJankovic to be clear overfitting is a good thing, without it you are not achieving your best results. Also FYI the training mosaics you posted are your labels, not predictions. \r\n\r\nIf one loss component is overfitting then you might try reducing it's associated hyperparameters, i.e. obj and obj_pw. Here are our general guidelines for best results:\r\n\r\n# Training Guide\r\n\r\nðŸ‘‹ Hello! Thanks for asking about improving training results. Most of the time good results can be obtained with no changes to the models or training settings, **provided your dataset is sufficiently large and well labelled**. If at first you don't get good results, there are steps you might be able to take to improve, but we always recommend users first train with all default settings before considering any changes. This helps establish a performance baseline and spot areas for improvement.\r\n\r\nIf you have questions about your training results **we recommend you provide the maximum amount of information possible** if you expect a helpful response, including results plots (train losses, val losses, P, R, mAP), PR curve, confusion matrix, training mosaics, test results and dataset statistics images such as labels.png. All of these are located in your `project/name` directory, typically `yolov5/runs/train/exp`.\r\n\r\nWe've put together a full guide for users looking to get the best results on their YOLOv5 trainings below.\r\n\r\n## Dataset\r\n\r\n- **Images per class.** â‰¥1.5k images per class\r\n- **Instances per class.** â‰¥10k instances (labeled objects) per class total\r\n- **Image variety.** Must be representative of deployed environment. For real-world use cases we recommend images from different times of day, different seasons, different weather, different lighting, different angles, different sources (scraped online, collected locally, different cameras) etc.\r\n- **Label consistency.** All instances of all classes in all images must be labelled. Partial labelling will not work.\r\n- **Label accuracy.** Labels must closely enclose each object. No space should exist between an object and it's bounding box. No objects should be missing a label.\r\n- **Background images.** Background images are images with no objects that are added to a dataset to reduce False Positives (FP). We recommend about 0-10% background images to help reduce FPs (COCO has 1000 background images for reference, 1% of the total).\r\n\r\n<a href=\"https://arxiv.org/abs/1405.0312\"><img width=\"800\" src=\"https://user-images.githubusercontent.com/26833433/109398377-82b0ac00-78f1-11eb-9c76-cc7820669d0d.png\" alt=\"COCO Analysis\"></a>\r\n\r\n\r\n## Model Selection\r\n\r\nLarger models like YOLOv5x will produce better results in nearly all cases, but have more parameters and are slower to run. For mobile applications we recommend YOLOv5s/m, for cloud or desktop applications we recommend YOLOv5l/x. See our README [table](https://github.com/ultralytics/yolov5#pretrained-checkpoints) for a full comparison of all models. \r\n\r\nTo start training from pretrained weights simply pass the name of the model to the `--weights` argument. Models download automatically from the [latest YOLOv5 release](https://github.com/ultralytics/yolov5/releases).\r\n```bash\r\npython train.py --data custom.yaml --weights yolov5s.pt\r\n                                             yolov5m.pt\r\n                                             yolov5l.pt\r\n                                             yolov5x.pt\r\n```\r\n\r\n<p align=\"center\"><img width=\"700\" alt=\"YOLOv5 Models\" src=\"https://user-images.githubusercontent.com/26833433/103595982-ab986000-4eb1-11eb-8c57-4726261b0a88.png\"></p>\r\n\r\n## Training Settings\r\n\r\nBefore modifying anything, **first train with default settings to establish a performance baseline**. A full list of train.py settings can be found in the [train.py](https://github.com/ultralytics/yolov5/blob/master/train.py) argparser.\r\n\r\n- **Epochs.** Start with 300 epochs. If this overfits early then you can reduce epochs. If overfitting does not occur after 300 epochs, train longer, i.e. 600, 1200 etc epochs.\r\n- **Image size.** COCO trains at native resolution of `--img 640`, though due to the high amount of small objects in the dataset it can benefit from training at higher resolutions such as `--img 1280`. If there are many small objects then custom datasets will benefit from training at native or higher resolution. Best inference results are obtained at the same `--img` as the training was run at, i.e. if you train at `--img 1280` you should also test and detect at `--img 1280`.\r\n- **Batch size.** Use the largest `--batch-size` that your hardware allows for. Small batch sizes produce poor batchnorm statistics and should be avoided.\r\n- **Hyperparameters.** Default hyperparameters are in [hyp.scratch.yaml](https://github.com/ultralytics/yolov5/blob/master/data/hyp.scratch.yaml). We recommend you train with default hyperparameters first before thinking of modifying any. In general, increasing augmentation hyperparameters will reduce and delay overfitting, allowing for longer trainings and higher final mAP. Reduction in loss component gain hyperparameters like `hyp['obj']` will help reduce overfitting in those specific loss components. For an automated method of optimizing these hyperparameters, see our [Hyperparameter Evolution Tutorial](https://github.com/ultralytics/yolov5/issues/607).\r\n\r\n## Further Reading\r\n\r\nIf you'd like to know more a good place to start is Karpathy's 'Recipe for Training Neural Networks', which has great ideas for training that apply broadly across all ML domains:\r\nhttp://karpathy.github.io/2019/04/25/recipe/","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/796144871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":4439373682,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQzOTM3MzY4Mg==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4439373682","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-10T21:28:08Z","performed_via_github_app":null},{"id":4439373686,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MzkzNzM2ODY=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4439373686","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-10T21:28:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/799311243","html_url":"https://github.com/ultralytics/yolov3/issues/1711#issuecomment-799311243","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1711","id":799311243,"node_id":"MDEyOklzc3VlQ29tbWVudDc5OTMxMTI0Mw==","user":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"created_at":"2021-03-15T10:36:51Z","updated_at":"2021-03-15T10:36:51Z","author_association":"NONE","body":"So, what I did was use hyp.finetune parameters with yolov3.pt weights and I lowered epochs number to 50. \r\n\r\n![RGB_RESULTS](https://user-images.githubusercontent.com/39414114/111139803-deca3000-8581-11eb-9570-2ef76826e89c.png)\r\n\r\nThese plots look good to me, but there is something about confusion matrix that I don't understand. I have ~70000 images and 50000 objects. I also have a lot of images without an object which is preferable, so could that be a reason for this result? \r\n\r\n![media_images_Results_654_2](https://user-images.githubusercontent.com/39414114/111139953-0de0a180-8582-11eb-8930-44c07cb165dd.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/799311243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/799577277","html_url":"https://github.com/ultralytics/yolov3/issues/1711#issuecomment-799577277","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1711","id":799577277,"node_id":"MDEyOklzc3VlQ29tbWVudDc5OTU3NzI3Nw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2021-03-15T16:53:39Z","updated_at":"2021-03-15T16:53:39Z","author_association":"MEMBER","body":"@UrosJankovic the confusion matrix is not really intended for single class datasets, so I would not really read into it too much. Yes your training results seem reasonable. I'll add our training guidelines here for improving results.\r\n\r\nðŸ‘‹ Hello! Thanks for asking about improving training results. Most of the time good results can be obtained with no changes to the models or training settings, **provided your dataset is sufficiently large and well labelled**. If at first you don't get good results, there are steps you might be able to take to improve, but we always recommend users first train with all default settings before considering any changes. This helps establish a performance baseline and spot areas for improvement.\r\n\r\nIf you have questions about your training results **we recommend you provide the maximum amount of information possible** if you expect a helpful response, including results plots (train losses, val losses, P, R, mAP), PR curve, confusion matrix, training mosaics, test results and dataset statistics images such as labels.png. All of these are located in your `project/name` directory, typically `yolov5/runs/train/exp`.\r\n\r\nWe've put together a full guide for users looking to get the best results on their YOLOv5 trainings below.\r\n\r\n## Dataset\r\n\r\n- **Images per class.** â‰¥1.5k images per class\r\n- **Instances per class.** â‰¥10k instances (labeled objects) per class total\r\n- **Image variety.** Must be representative of deployed environment. For real-world use cases we recommend images from different times of day, different seasons, different weather, different lighting, different angles, different sources (scraped online, collected locally, different cameras) etc.\r\n- **Label consistency.** All instances of all classes in all images must be labelled. Partial labelling will not work.\r\n- **Label accuracy.** Labels must closely enclose each object. No space should exist between an object and it's bounding box. No objects should be missing a label.\r\n- **Background images.** Background images are images with no objects that are added to a dataset to reduce False Positives (FP). We recommend about 0-10% background images to help reduce FPs (COCO has 1000 background images for reference, 1% of the total).\r\n\r\n<a href=\"https://arxiv.org/abs/1405.0312\"><img width=\"800\" src=\"https://user-images.githubusercontent.com/26833433/109398377-82b0ac00-78f1-11eb-9c76-cc7820669d0d.png\" alt=\"COCO Analysis\"></a>\r\n\r\n\r\n## Model Selection\r\n\r\nLarger models like YOLOv5x will produce better results in nearly all cases, but have more parameters and are slower to run. For mobile applications we recommend YOLOv5s/m, for cloud or desktop applications we recommend YOLOv5l/x. See our README [table](https://github.com/ultralytics/yolov5#pretrained-checkpoints) for a full comparison of all models. \r\n\r\nTo start training from pretrained weights simply pass the name of the model to the `--weights` argument. Models download automatically from the [latest YOLOv5 release](https://github.com/ultralytics/yolov5/releases).\r\n```bash\r\npython train.py --data custom.yaml --weights yolov5s.pt\r\n                                             yolov5m.pt\r\n                                             yolov5l.pt\r\n                                             yolov5x.pt\r\n```\r\n\r\n<p align=\"center\"><img width=\"700\" alt=\"YOLOv5 Models\" src=\"https://user-images.githubusercontent.com/26833433/103595982-ab986000-4eb1-11eb-8c57-4726261b0a88.png\"></p>\r\n\r\n## Training Settings\r\n\r\nBefore modifying anything, **first train with default settings to establish a performance baseline**. A full list of train.py settings can be found in the [train.py](https://github.com/ultralytics/yolov5/blob/master/train.py) argparser.\r\n\r\n- **Epochs.** Start with 300 epochs. If this overfits early then you can reduce epochs. If overfitting does not occur after 300 epochs, train longer, i.e. 600, 1200 etc epochs.\r\n- **Image size.** COCO trains at native resolution of `--img 640`, though due to the high amount of small objects in the dataset it can benefit from training at higher resolutions such as `--img 1280`. If there are many small objects then custom datasets will benefit from training at native or higher resolution. Best inference results are obtained at the same `--img` as the training was run at, i.e. if you train at `--img 1280` you should also test and detect at `--img 1280`.\r\n- **Batch size.** Use the largest `--batch-size` that your hardware allows for. Small batch sizes produce poor batchnorm statistics and should be avoided.\r\n- **Hyperparameters.** Default hyperparameters are in [hyp.scratch.yaml](https://github.com/ultralytics/yolov5/blob/master/data/hyp.scratch.yaml). We recommend you train with default hyperparameters first before thinking of modifying any. In general, increasing augmentation hyperparameters will reduce and delay overfitting, allowing for longer trainings and higher final mAP. Reduction in loss component gain hyperparameters like `hyp['obj']` will help reduce overfitting in those specific loss components. For an automated method of optimizing these hyperparameters, see our [Hyperparameter Evolution Tutorial](https://github.com/ultralytics/yolov5/issues/607).\r\n\r\n## Further Reading\r\n\r\nIf you'd like to know more a good place to start is Karpathy's 'Recipe for Training Neural Networks', which has great ideas for training that apply broadly across all ML domains:\r\nhttp://karpathy.github.io/2019/04/25/recipe/","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/799577277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":4459937122,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQ1OTkzNzEyMg==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4459937122","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-15T16:53:39Z","performed_via_github_app":null},{"id":4459937130,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0NTk5MzcxMzA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4459937130","actor":{"login":"urosjankovic","id":39414114,"node_id":"MDQ6VXNlcjM5NDE0MTE0","avatar_url":"https://avatars.githubusercontent.com/u/39414114?v=4","gravatar_id":"","url":"https://api.github.com/users/urosjankovic","html_url":"https://github.com/urosjankovic","followers_url":"https://api.github.com/users/urosjankovic/followers","following_url":"https://api.github.com/users/urosjankovic/following{/other_user}","gists_url":"https://api.github.com/users/urosjankovic/gists{/gist_id}","starred_url":"https://api.github.com/users/urosjankovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/urosjankovic/subscriptions","organizations_url":"https://api.github.com/users/urosjankovic/orgs","repos_url":"https://api.github.com/users/urosjankovic/repos","events_url":"https://api.github.com/users/urosjankovic/events{/privacy}","received_events_url":"https://api.github.com/users/urosjankovic/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-15T16:53:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/819929055","html_url":"https://github.com/ultralytics/yolov3/issues/1711#issuecomment-819929055","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1711","id":819929055,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTkyOTA1NQ==","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"created_at":"2021-04-15T00:12:53Z","updated_at":"2021-04-15T00:12:53Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/819929055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false}},{"id":4596374359,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1OTYzNzQzNTk=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4596374359","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-15T00:12:54Z","label":{"name":"Stale","color":"ededed"},"performed_via_github_app":null},{"id":4615971729,"node_id":"MDExOkNsb3NlZEV2ZW50NDYxNTk3MTcyOQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/4615971729","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-04-20T00:13:06Z","state_reason":null,"performed_via_github_app":null}]