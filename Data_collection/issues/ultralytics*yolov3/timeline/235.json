[{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/485814704","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-485814704","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":485814704,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTgxNDcwNA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-23T13:59:11Z","updated_at":"2019-04-23T14:02:34Z","author_association":"MEMBER","body":"@WannaSeaU why would you stop training at 40 epochs if you don't like your results then? Full training takes 273 epochs with default settings.\r\n\r\nSee https://github.com/ultralytics/yolov3/issues/214 for mAP thresholds.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/485814704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2294187212,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI5NDE4NzIxMg==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2294187212","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-23T13:59:11Z","performed_via_github_app":null},{"id":2294187214,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyOTQxODcyMTQ=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2294187214","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-23T13:59:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487282514","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487282514","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487282514,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzI4MjUxNA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-27T12:34:33Z","updated_at":"2019-04-27T12:34:33Z","author_association":"MEMBER","body":"@WannaSeaU do you have an update on this or can we close the issue?","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487282514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2304717615,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMwNDcxNzYxNQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2304717615","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-27T12:34:34Z","performed_via_github_app":null},{"id":2304717617,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMDQ3MTc2MTc=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2304717617","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-27T12:34:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487335836","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487335836","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487335836,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzMzNTgzNg==","user":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"created_at":"2019-04-28T02:36:54Z","updated_at":"2019-04-28T02:36:54Z","author_association":"CONTRIBUTOR","body":"You can close the issue,thanks!\n\nI’m trying to improve the confidence by training more epochs with responding modified lr_sheduler. However, although the train loss and confidence drop with epochs, the test loss doesn’t improve after about 40epochs. It’s getting overfitted.\n\nThe P, R, mAP, F1-score are quite good though, I’m trying to fine tune the hyps. ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487335836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487364084","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487364084","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487364084,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzM2NDA4NA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-28T09:56:55Z","updated_at":"2019-04-28T09:56:55Z","author_association":"MEMBER","body":"Well I would say as long as the mAP and F1 continue to improve you should continue training, because the mAP and F1 are computed on the test test, not the training set. \r\n\r\nWe wrote new code to tune the hyperparameters using a genetic evolution algorithm. You can access this from train.py by using the `--evolve` argparser argument. It will run your scenario 50 times, evolving the hyperparameters from their initial setting each generation, creating mutation from successful offspring, saving the results in `evolve.txt`.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487364084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487368124","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487368124","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487368124,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzM2ODEyNA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-28T10:54:50Z","updated_at":"2019-04-28T10:54:50Z","author_association":"MEMBER","body":"@WannaSeaU also beware that before the LR scheduler was hardcoded to step down at epochs 218, 245, whereas now the inverse exp curve is tuned to the final epoch, so the curve shape stays the same and it bends back and forth depending on how many epochs you called for. This means that before if you trained to 40 your final lr as 0.001, too high, but now if you train to 40 your final lr will be produced by `hyp['lrf']`.\r\n\r\nAll in all though I don't think this LR scheduling makes a huge difference. BUT, in all of the examples I've seen you really need to train to almost 300 epochs to get the best results. 40 is much too early. Can you post your training results here? Use `from utils import utils; utils.plot_results()`","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487368124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2305195496,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMwNTE5NTQ5Ng==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2305195496","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-28T10:54:50Z","performed_via_github_app":null},{"id":2305195497,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMDUxOTU0OTc=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2305195497","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-28T10:54:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487396130","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487396130","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487396130,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzM5NjEzMA==","user":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"created_at":"2019-04-28T16:50:48Z","updated_at":"2019-04-28T16:50:48Z","author_association":"CONTRIBUTOR","body":"I'm sorry that I forgot to point out that I have trained for the whole 273 epochs, even more, I train for 500 epochs for the purpose of improving `confidence`.\r\n\r\nBesides, I noticed the recent changes of your codes, and the code on my use is cloned on 4.28, which includes the inverse exp curve LR schedule.\r\n\r\nAlso I noticed you have added codes to tune the hyperparameters using a genetic evolution algorithm, but I'm afraid I don't have enough computing power now. (XD)\r\n\r\nIn total the phenomenon I think is weired is:\r\n- The `confidence` isn't high enough(in your examples it can be nearly 1), while the P/R/mAP/F1 is not bad. `confidence = Pr(Object) * IOU` in yolo, which I think is high if P/R/mAP/F1 could reach a nice value.\r\n\r\nThe training is getting ovefitted actually, the results after 273 epochs are shown as follows:\r\n![results_273](https://user-images.githubusercontent.com/23076222/56867345-bb8e4a00-6a16-11e9-9b6f-fc5f0dccdc92.png)\r\n\r\nSome sample inference pics are shown below:\r\n![dataset1_29_20160410_162125虹梅小区 29_9](https://user-images.githubusercontent.com/23076222/56867370-ea0c2500-6a16-11e9-9368-46c806d0d4d3.jpg)\r\n![dataset1_29_20160410_162125虹梅小区 29_7](https://user-images.githubusercontent.com/23076222/56867372-eaa4bb80-6a16-11e9-9653-d47525c28d32.jpg)\r\n![dataset1_28_20160402_132138虹梅小区_8](https://user-images.githubusercontent.com/23076222/56867373-eb3d5200-6a16-11e9-8988-bc4a17c19167.jpg)\r\n![dataset1_27_20160410_171117虹梅小区 27_6](https://user-images.githubusercontent.com/23076222/56867374-eb3d5200-6a16-11e9-82e1-8590a0b0d794.jpg)\r\n![dataset1_10_20160304_122026航天小区 10_13](https://user-images.githubusercontent.com/23076222/56867375-ebd5e880-6a16-11e9-94a9-a65a722a1123.jpg)\r\n\r\nIt suddenly occurs to me that, maybe the problem is in the dataset? ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487396130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487406271","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487406271","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487406271,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzQwNjI3MQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-28T18:59:02Z","updated_at":"2019-04-28T19:01:09Z","author_association":"MEMBER","body":"Haha, interesting. It looks like its working really well! But yes, it seems 40-50 epochs is enough for your application.\r\n\r\nYou should check the class confidence coming out of the inference model, as it currently shows the obj conf times the class conf. Since you have one class you are really misusing the yolov3 structure, so I don't know what to expect (ideally you'd merge conf with cls_conf). Try replacing this line in detect.py, I'm assuming these should all be 1.0:\r\n```python\r\n# Add bbox to the image\r\nlabel = '%s %.2f' % (classes[int(cls)], conf)\r\n```\r\n\r\nwith this:\r\n```python\r\n# Add bbox to the image\r\nlabel = '%s %.2f' % (classes[int(cls)], cls_conf)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487406271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487468573","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487468573","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487468573,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzQ2ODU3Mw==","user":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"created_at":"2019-04-29T06:53:13Z","updated_at":"2019-04-29T06:53:13Z","author_association":"CONTRIBUTOR","body":"I have modified the related configs as you wrote in the tutorial for single class training.\r\n\r\nIt turn out that cls_conf is not 1.0:\r\n\r\nWith `--conf-thres 0.001 --weights weights/latest.pt`:\r\nBefore replacing:\r\n![dataset1_29_20160410_162125虹梅小区 29_7](https://user-images.githubusercontent.com/23076222/56879541-c0411580-6a8b-11e9-8906-4628f9f4ba76.jpg)\r\n\r\nAfter replacing:\r\n![dataset1_29_20160410_162125虹梅小区 29_7](https://user-images.githubusercontent.com/23076222/56879463-6dfff480-6a8b-11e9-97f3-f84713a3b713.jpg)\r\n\r\nWhat's more, the inference performance of 'best.pt' is shown as follows:\r\nWith `--conf-thres 0.001 --weights weights/best.pt`:\r\n![dataset1_29_20160410_162125虹梅小区 29_7](https://user-images.githubusercontent.com/23076222/56879683-642ac100-6a8c-11e9-982d-ebe705fb8f41.jpg)\r\n(Uhmm……in a mess)\r\nWith `--conf-thres 0.01 --weights weights/best.pt`:\r\n![dataset1_29_20160410_162125虹梅小区 29_7](https://user-images.githubusercontent.com/23076222/56879735-a18f4e80-6a8c-11e9-9a3c-c79f82ae8b66.jpg)\r\nWith `--conf-thres 0.1 --weights weights/best.pt`:\r\n\r\n![dataset1_29_20160410_162125虹梅小区 29_7](https://user-images.githubusercontent.com/23076222/56879813-f5019c80-6a8c-11e9-8ac2-e2d1479cff55.jpg)\r\n\r\nWith `--conf-thres 0.5  --weights weights/best.pt`:\r\n![dataset1_29_20160410_162125虹梅小区 29_7](https://user-images.githubusercontent.com/23076222/56879864-1d899680-6a8d-11e9-894f-fbbcf30b4d95.jpg)\r\nIt's default set in detect.py which suffers from low confidence in my application.\r\n\r\nAnd this is a sample inference picture in CityPersons dataset, where the confidence can be nearly 1.0.\r\nThis is completed on the earlier version of this repo.\r\n![b30458cf0fc5616df170a61fe65a022](https://user-images.githubusercontent.com/23076222/56879942-6e998a80-6a8d-11e9-91c6-aa0911466f83.jpg)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487468573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487537863","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487537863","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487537863,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzUzNzg2Mw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-29T11:00:28Z","updated_at":"2019-04-29T11:00:28Z","author_association":"MEMBER","body":"@WannaSeaU Ok hold on, you are bringing up a few different topics here. The first thing to remember is that you don't want to detect at 0.001 conf_thres, this is **only for mAP computation**, with detection typically set around 0.1 to 0.9 depending on your preference for Recall vs Precision. \r\n\r\nThe test seems to show that cls_conf is around 0.5 for all of your targets, and obj_conf would then be 1.0. I'm not sure why cls_conf would be 0.5 since there is only one class, but this means that all of the people are being detected with an object_confidence of about 0.99. The images confidences show the  two multiplied togethor.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487537863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2306350688,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMwNjM1MDY4OA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2306350688","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-29T11:00:28Z","performed_via_github_app":null},{"id":2306350689,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMDYzNTA2ODk=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2306350689","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-29T11:00:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487547622","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-487547622","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":487547622,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzU0NzYyMg==","user":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"created_at":"2019-04-29T11:42:14Z","updated_at":"2019-04-29T11:42:14Z","author_association":"CONTRIBUTOR","body":"@glenn-jocher I'll try to solve it myself, since I beilieve it's my own stuff. Thanks for your kindness.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/487547622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false}},{"id":2306434229,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMwNjQzNDIyOQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2306434229","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-29T11:42:14Z","performed_via_github_app":null},{"id":2306434230,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMDY0MzQyMzA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2306434230","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-29T11:42:14Z","performed_via_github_app":null},{"id":2306439254,"node_id":"MDExOkNsb3NlZEV2ZW50MjMwNjQzOTI1NA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2306439254","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-04-29T11:44:41Z","state_reason":null,"performed_via_github_app":null},{"id":2317845943,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyMzE3ODQ1OTQz","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2317845943","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2019-05-03T16:14:40Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/489165587","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-489165587","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":489165587,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTE2NTU4Nw==","user":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"created_at":"2019-05-03T16:55:10Z","updated_at":"2019-05-03T16:55:10Z","author_association":"CONTRIBUTOR","body":"@glenn-jocher \r\n Hi bro, I got something new to tell you. I have figured out why the cls_conf is  low. In #239, the mAP is high while the cls_conf is also low, I think many person who train on single class don't realize this issue.\r\nThe activation function is sigmoid:\r\nhttps://github.com/ultralytics/yolov3/blob/6316171f3351aa33235b0f9cda71da88dcfc5275/models.py#L165\r\nFor cls loss, the metric function is CrossEntropy(), which includes a log softmax function.\r\nhttps://github.com/ultralytics/yolov3/blob/6316171f3351aa33235b0f9cda71da88dcfc5275/utils/utils.py#L280\r\nAnyway, it's not even a problem for multi-class situation. But for one-class training, the cls loss calculated by CE will always be 0, which means bad classification score will not influence the total score. Therefore networks don't learn to give a high classification score when a person is detected.\r\nIn fact, I think `sigmoid` may need negative samples for better performance, which is unsatisfied in single class scene.\r\nMy solution for this is, use softmax instead of sigmoid for inference. Or else, simplely remove this line in `nms`.\r\nhttps://github.com/ultralytics/yolov3/blob/6316171f3351aa33235b0f9cda71da88dcfc5275/utils/utils.py#L362\r\nYou may consider updating the tutorial for this problem. In addtion, I recalculated the anchors for custom dataset and got a performance boost. You can consider add this into tutorials too.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/489165587/reactions","total_count":9,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null,"event":"commented","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false}},{"id":2317934954,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMxNzkzNDk1NA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2317934954","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-03T16:55:11Z","performed_via_github_app":null},{"id":2317934955,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMTc5MzQ5NTU=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2317934955","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-03T16:55:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/489189855","html_url":"https://github.com/ultralytics/yolov3/issues/235#issuecomment-489189855","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/235","id":489189855,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTE4OTg1NQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-05-03T18:12:01Z","updated_at":"2019-05-03T18:12:01Z","author_association":"MEMBER","body":"@WannaSeaU I think you are right!!! This might be a major bug you discovered. I'll look at this right now.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/489189855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2318110127,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMxODExMDEyNw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2318110127","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-03T18:12:01Z","performed_via_github_app":null},{"id":2318110128,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMTgxMTAxMjg=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2318110128","actor":{"login":"yang-Jin-hai","id":23076222,"node_id":"MDQ6VXNlcjIzMDc2MjIy","avatar_url":"https://avatars.githubusercontent.com/u/23076222?v=4","gravatar_id":"","url":"https://api.github.com/users/yang-Jin-hai","html_url":"https://github.com/yang-Jin-hai","followers_url":"https://api.github.com/users/yang-Jin-hai/followers","following_url":"https://api.github.com/users/yang-Jin-hai/following{/other_user}","gists_url":"https://api.github.com/users/yang-Jin-hai/gists{/gist_id}","starred_url":"https://api.github.com/users/yang-Jin-hai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yang-Jin-hai/subscriptions","organizations_url":"https://api.github.com/users/yang-Jin-hai/orgs","repos_url":"https://api.github.com/users/yang-Jin-hai/repos","events_url":"https://api.github.com/users/yang-Jin-hai/events{/privacy}","received_events_url":"https://api.github.com/users/yang-Jin-hai/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-03T18:12:01Z","performed_via_github_app":null},{"id":2318110460,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzMTgxMTA0NjA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2318110460","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-05-03T18:12:09Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":2318110636,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyMzE4MTEwNjM2","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2318110636","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-05-03T18:12:14Z","assignee":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}]