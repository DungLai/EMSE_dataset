[{"id":2233687759,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyMzM2ODc3NTk=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2233687759","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-03-27T16:14:35Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":2233687765,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzMzY4Nzc2NQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2233687765","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-27T16:14:35Z","performed_via_github_app":null},{"id":2233687768,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMzM2ODc3Njg=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2233687768","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-27T16:14:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477246991","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477246991","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477246991,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzI0Njk5MQ==","user":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"created_at":"2019-03-27T16:44:43Z","updated_at":"2019-03-27T16:44:43Z","author_association":"NONE","body":"Sorry I think you mentioned in https://github.com/ultralytics/yolov3/issues/161 it will be in TODO list to align the results right?\r\nI didn't know the difference is this big.\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477246991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477593300","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477593300","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477593300,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzU5MzMwMA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T13:24:55Z","updated_at":"2019-03-28T13:24:55Z","author_association":"MEMBER","body":"@xiao1228 to compute COCOAPI mAP properly you need to set `--conf_thres 0.001` as you can see in the README: https://github.com/ultralytics/yolov3#map\r\n\r\nYou have yours set to 0.30, which is good for real world results but produces lower mAP.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477593300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2236248466,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzNjI0ODQ2Ng==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236248466","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:24:56Z","performed_via_github_app":null},{"id":2236248467,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMzYyNDg0Njc=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236248467","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:24:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477593905","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477593905","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477593905,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzU5MzkwNQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T13:26:30Z","updated_at":"2019-03-28T13:26:30Z","author_association":"MEMBER","body":"@xiao1228 also note the mAP computation in the current repo is not properly aligned to the COCO metric since it averages the image dimension rather than the class dimension. We have a branch with modifications to align these more closely, you may want to use it instead, or wait a few days untill we merge it with the master branch: https://github.com/ultralytics/yolov3/tree/map_update","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477593905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2236253459,"node_id":"MDExOkNsb3NlZEV2ZW50MjIzNjI1MzQ1OQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236253459","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:26:30Z","state_reason":null,"performed_via_github_app":null},{"id":2236253464,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzNjI1MzQ2NA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236253464","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:26:30Z","performed_via_github_app":null},{"id":2236253465,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMzYyNTM0NjU=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236253465","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:26:30Z","performed_via_github_app":null},{"id":2236253976,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyMjM2MjUzOTc2","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236253976","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:26:39Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477601747","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477601747","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477601747,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzYwMTc0Nw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T13:47:18Z","updated_at":"2019-03-28T13:47:18Z","author_association":"MEMBER","body":"From https://github.com/ultralytics/yolov3/issues/7:\r\n\r\n**UPDATE:** difference narrowed down to 0.531 (repo calculation) vs 0.551 (pycocotools). The `obj_conf` used affects the mAP: whether it is multiplied by `class_conf`, and if so whether that `class_conf` is produced by sigmoid or softmax.\r\n\r\n```bash\r\nrm -rf yolov3 && git clone -b map_update --depth 1 https://github.com/ultralytics/yolov3 yolov3\r\npython3 test.py --conf-thres 0.001 --save-json\r\nNamespace(batch_size=32, cfg='cfg/yolov3.cfg', conf_thres=0.001, data_cfg='cfg/coco.data', img_size=416, iou_thres=0.5, nms_thres=0.5, save_json=True, weights='weights/yolov3.weights')\r\n\r\nUsing cuda _CudaDeviceProperties(name='Tesla V100-SXM2-16GB', major=7, minor=0, total_memory=16130MB, multi_processor_count=80)\r\n      Image      Total          P          R        mAP\r\n100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 157/157 [07:00<00:00,  2.09s/it]\r\n       5000       5000     0.0865      0.727      0.531\r\n\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.308\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.551\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.308\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.143\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.334\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.455\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.267\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.407\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.432\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.240\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.470\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.590\r\n```","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477601747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477626056","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477626056","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477626056,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzYyNjA1Ng==","user":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T14:45:05Z","updated_at":"2019-03-28T14:45:05Z","author_association":"NONE","body":"Hi @glenn-jocher \r\nThank you for the details. I have tested using `conf_thres = 0.001 `\r\n`python3 test.py --weights weights/best.pt --save-json --conf-thres 0.001 --img-size 416`\r\nAnd the COCOAPI still gives out 0.162\r\n```\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.162\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.162\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.161\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.093\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.156\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.093\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.164\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.455\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.599\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.613\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.652\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.556\r\n```","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477626056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false}},{"id":2236517127,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzNjUxNzEyNw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236517127","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-28T14:45:05Z","performed_via_github_app":null},{"id":2236517128,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMzY1MTcxMjg=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236517128","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T14:45:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477671596","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477671596","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477671596,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY3MTU5Ng==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T16:29:50Z","updated_at":"2019-03-28T16:30:16Z","author_association":"MEMBER","body":"@xiao1228 did you train to 270 epochs? If not then yes of course your mAP will be lower.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477671596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2236873833,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzNjg3MzgzMw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236873833","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-28T16:29:50Z","performed_via_github_app":null},{"id":2236873837,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMzY4NzM4Mzc=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236873837","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T16:29:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477672743","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477672743","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477672743,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY3Mjc0Mw==","user":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T16:32:32Z","updated_at":"2019-03-28T16:32:32Z","author_association":"NONE","body":"ok. this is after 110 epochs. I will update you then.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477672743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false}},{"id":2236882396,"node_id":"MDExOkNsb3NlZEV2ZW50MjIzNjg4MjM5Ng==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236882396","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T16:32:32Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477675364","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477675364","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477675364,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY3NTM2NA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T16:39:09Z","updated_at":"2019-03-28T16:39:09Z","author_association":"MEMBER","body":"Oh ok. Still that seems strangely low. We were getting about 0.45 mAP on pycocotools after 70 epochs before, which was the longest we managed to trian. It takes so long to train to 270 that we haven't had time to try.\r\n\r\n0.162 at epoch 110 seems too low to me. Are you just running default training from the darknet53 backbone (i.e. all settings default)?","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477675364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477677441","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477677441","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477677441,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY3NzQ0MQ==","user":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T16:44:11Z","updated_at":"2019-03-28T16:46:18Z","author_association":"NONE","body":"I didnot change anything except I lower down the lr at 50th epoch, like your previous code. ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477677441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477684068","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477684068","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477684068,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY4NDA2OA==","user":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T17:00:29Z","updated_at":"2019-03-28T17:00:29Z","author_association":"NONE","body":"If I dont lower down the lr at 50th epoch, the results at 72th epoch from COCOAPI with `conf_thres = 0.001` is below. Not much difference.\r\n```\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.160\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.161\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.160\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.092\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.151\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.096\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.162\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.464\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.614\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.621\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.658\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.590\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477684068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477689423","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477689423","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477689423,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY4OTQyMw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T17:13:44Z","updated_at":"2019-03-28T17:13:44Z","author_association":"MEMBER","body":"@xiao1228 oh boy, you're going down the rabbit hole now. \r\n\r\nThe question of self-trained mAP is always a big one, especially since we are not sure completely of the optimal loss function to use (if we use the darknet default loss, we see worse results in our tests of the first 10 epochs). I'll see if I can find one of our old checkpoints. This is from release v1.0 (https://github.com/ultralytics/yolov3/releases), which is a bit old now. I think this checkpoint was around epoch 65. I tested it using our map_update branch (https://github.com/ultralytics/yolov3/branches), which we will merge with the master soon. There have been changes of course since v1.0, but these should not change the mAP as much as you are seeing. You've likely altered some other setting that is causing your mAP drop, or perhaps not initialized with the darknet53 backbone.\r\nhttps://storage.googleapis.com/ultralytics/yolov3/best_v1_0.pt\r\n\r\n**In this result, test.py natively return 0.41 mAP, and pycocotools returns 0.425 mAP on best_v1_0.pt around epoch 65.**\r\n\r\n\r\n```bash\r\npython3 test.py --save-json --weights weights/best_v1_0.pt\r\nNamespace(batch_size=32, cfg='cfg/yolov3.cfg', conf_thres=0.001, data_cfg='cfg/coco.data', img_size=416, iou_thres=0.5, nms_thres=0.5, save_json=True, weights='weights/best_v1_0.pt')\r\nUsing cuda _CudaDeviceProperties(name='Tesla V100-SXM2-16GB', major=7, minor=0, total_memory=16130MB, multi_process\r\nor_count=80)\r\n      Image      Total          P          R        mAP\r\n100%|████████████████████████████████████████████████████████████████████████████| 157/157 [07:29<00:00,  2.24s/it]\r\n       5000       5000     0.0653      0.654       0.41\r\n\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.213\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.425\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.193\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.090\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.220\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.307\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.216\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.339\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.364\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.197\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.365\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.504\r\n```","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477689423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2237007789,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzNzAwNzc4OQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2237007789","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-28T17:13:44Z","performed_via_github_app":null},{"id":2237007790,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMzcwMDc3OTA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2237007790","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T17:13:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477715711","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477715711","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477715711,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzcxNTcxMQ==","user":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T18:21:37Z","updated_at":"2019-03-28T18:21:37Z","author_association":"NONE","body":"First you dont need to worry now. Something wrong on my side. Because I just run with COCOAPI with your best_v1_0.pt with \r\n`Namespace(batch_size=32, cfg='cfg/yolov3.cfg', conf_thres=0.001, data_cfg='cfg/coco.data', img_size=416, iou_thres=0.5, nms_thres=0.5, save_json=True, weights='weights/best_v1_0.pt')\r\n`\r\n```\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.157\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.158\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.157\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.084\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.164\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.103\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.159\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.431\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.564\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.631\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.612\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.489\r\n```\r\n\r\nI did not change any settings...also I initialized with the darknet53 backbone. I can produce around 50 mAP from your test.py for image size 416. But however it seems not aligned with COCOAPI. \r\nI really do not know why just getting 0.16 from the COCOAPI. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477715711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477810793","html_url":"https://github.com/ultralytics/yolov3/issues/171#issuecomment-477810793","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/171","id":477810793,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxMDc5Mw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T23:42:48Z","updated_at":"2019-03-28T23:42:48Z","author_association":"MEMBER","body":"@xiao1228 ah I see. You may want to clone the repo again and try training without modifications. Though I would use the `map_update` branch, since it has all the leading changes.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477810793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2237875747,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzNzg3NTc0Nw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2237875747","actor":{"login":"xiao1228","id":11752039,"node_id":"MDQ6VXNlcjExNzUyMDM5","avatar_url":"https://avatars.githubusercontent.com/u/11752039?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao1228","html_url":"https://github.com/xiao1228","followers_url":"https://api.github.com/users/xiao1228/followers","following_url":"https://api.github.com/users/xiao1228/following{/other_user}","gists_url":"https://api.github.com/users/xiao1228/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao1228/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao1228/subscriptions","organizations_url":"https://api.github.com/users/xiao1228/orgs","repos_url":"https://api.github.com/users/xiao1228/repos","events_url":"https://api.github.com/users/xiao1228/events{/privacy}","received_events_url":"https://api.github.com/users/xiao1228/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-28T23:42:48Z","performed_via_github_app":null}]