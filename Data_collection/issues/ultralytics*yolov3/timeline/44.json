[{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/444185628","html_url":"https://github.com/ultralytics/yolov3/issues/44#issuecomment-444185628","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/44","id":444185628,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDE4NTYyOA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2018-12-04T17:29:27Z","updated_at":"2018-12-04T17:29:27Z","author_association":"MEMBER","body":"This is summing the FP's from unassigned anchors to add them to the FP's from the assigned anchors returned by `models.py/build_targets()`. The two togethor are the total FP count.\r\n\r\nThis value is only collected when `-batch_report = True` in train.py. By default `-batch_report = False`, which speeds training by about 20%.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/444185628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/444401716","html_url":"https://github.com/ultralytics/yolov3/issues/44#issuecomment-444401716","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/44","id":444401716,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDQwMTcxNg==","user":{"login":"guigarfr","id":3531331,"node_id":"MDQ6VXNlcjM1MzEzMzE=","avatar_url":"https://avatars.githubusercontent.com/u/3531331?v=4","gravatar_id":"","url":"https://api.github.com/users/guigarfr","html_url":"https://github.com/guigarfr","followers_url":"https://api.github.com/users/guigarfr/followers","following_url":"https://api.github.com/users/guigarfr/following{/other_user}","gists_url":"https://api.github.com/users/guigarfr/gists{/gist_id}","starred_url":"https://api.github.com/users/guigarfr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guigarfr/subscriptions","organizations_url":"https://api.github.com/users/guigarfr/orgs","repos_url":"https://api.github.com/users/guigarfr/repos","events_url":"https://api.github.com/users/guigarfr/events{/privacy}","received_events_url":"https://api.github.com/users/guigarfr/received_events","type":"User","site_admin":false},"created_at":"2018-12-05T08:33:19Z","updated_at":"2018-12-05T12:05:24Z","author_association":"CONTRIBUTOR","body":"Thanks glenn. I am trying to understand the code.\r\n\r\nI am training with a single class, let's call it \"object\". I see that mask (tconf) has size [b, a, grid_size, grid_size], and it is set to:\r\n\r\n- 1 for every image which has been assigned a label with an anchor in a given position\r\n- 0 in all positions for every anchor for every image without any labels (negative sample)\r\n- 0 for every image which has been assigned a label with an anchor in a given position but had not enough IOU (<= 0.1)\r\n\r\nSo then, you're counting all the grid cells which were predicted as \"object\" (confidence > 0.5) except the ones which were assigned 1 in the mask (the ones taken from the targets, which were already assigned as TP, FP or FN) as FP for the corresponding class ( torch.argmax(pred_cls[~mask][i], dim=1) ), right?\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/444401716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"guigarfr","id":3531331,"node_id":"MDQ6VXNlcjM1MzEzMzE=","avatar_url":"https://avatars.githubusercontent.com/u/3531331?v=4","gravatar_id":"","url":"https://api.github.com/users/guigarfr","html_url":"https://github.com/guigarfr","followers_url":"https://api.github.com/users/guigarfr/followers","following_url":"https://api.github.com/users/guigarfr/following{/other_user}","gists_url":"https://api.github.com/users/guigarfr/gists{/gist_id}","starred_url":"https://api.github.com/users/guigarfr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guigarfr/subscriptions","organizations_url":"https://api.github.com/users/guigarfr/orgs","repos_url":"https://api.github.com/users/guigarfr/repos","events_url":"https://api.github.com/users/guigarfr/events{/privacy}","received_events_url":"https://api.github.com/users/guigarfr/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/444432591","html_url":"https://github.com/ultralytics/yolov3/issues/44#issuecomment-444432591","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/44","id":444432591,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDQzMjU5MQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2018-12-05T10:14:53Z","updated_at":"2018-12-05T10:14:53Z","author_association":"MEMBER","body":"Yes that's correct! There may be better ways to optimize this, I've not updated this section because the TPs, FPs, and FNs are now calculated at the end of each epoch when test.py runs on the 5000 validation images. Wikipedia has a great rundown on what these values mean:\r\nhttps://en.wikipedia.org/wiki/Precision_and_recall","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/444432591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/467177777","html_url":"https://github.com/ultralytics/yolov3/issues/44#issuecomment-467177777","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/44","id":467177777,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzE3Nzc3Nw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-02-25T20:50:50Z","updated_at":"2019-02-25T20:50:50Z","author_association":"MEMBER","body":"This code has been removed as of v2.0. Closing issue.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/467177777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2162976844,"node_id":"MDExOkNsb3NlZEV2ZW50MjE2Mjk3Njg0NA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2162976844","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-02-25T20:50:50Z","state_reason":null,"performed_via_github_app":null}]