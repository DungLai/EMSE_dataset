[{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/443535111","html_url":"https://github.com/ultralytics/yolov3/issues/42#issuecomment-443535111","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/42","id":443535111,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MzUzNTExMQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2018-12-02T19:32:49Z","updated_at":"2018-12-02T19:32:49Z","author_association":"MEMBER","body":"Multi-GPU training is not supported yet. See Issue #21.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/443535111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2000099008,"node_id":"MDExOkNsb3NlZEV2ZW50MjAwMDA5OTAwOA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2000099008","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-12-02T19:32:53Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/473759457","html_url":"https://github.com/ultralytics/yolov3/issues/42#issuecomment-473759457","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/42","id":473759457,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mzc1OTQ1Nw==","user":{"login":"longxianlei","id":46415452,"node_id":"MDQ6VXNlcjQ2NDE1NDUy","avatar_url":"https://avatars.githubusercontent.com/u/46415452?v=4","gravatar_id":"","url":"https://api.github.com/users/longxianlei","html_url":"https://github.com/longxianlei","followers_url":"https://api.github.com/users/longxianlei/followers","following_url":"https://api.github.com/users/longxianlei/following{/other_user}","gists_url":"https://api.github.com/users/longxianlei/gists{/gist_id}","starred_url":"https://api.github.com/users/longxianlei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longxianlei/subscriptions","organizations_url":"https://api.github.com/users/longxianlei/orgs","repos_url":"https://api.github.com/users/longxianlei/repos","events_url":"https://api.github.com/users/longxianlei/events{/privacy}","received_events_url":"https://api.github.com/users/longxianlei/received_events","type":"User","site_admin":false},"created_at":"2019-03-18T03:41:50Z","updated_at":"2019-03-18T03:41:50Z","author_association":"NONE","body":"Because the box2 is torch.FloatTensor, the anchor_vec is on cpu. while the box1 is on GPU.\r\nso, just use .cuda() to transform the data  into torch.cuda.FloatTensor()\r\n`        box2 = anchor_vec.cuda().unsqueeze(1)\r\n\r\n        inter_area = torch.min(box1, box2).prod(2)`\r\nbut, when you fix this, the below will also come out some bug.\r\n`        txy[b, a, gj, gi] = gxy - gxy.floor()\r\n\r\n        # Width and height\r\n        twh[b, a, gj, gi] = torch.log(gwh/ anchor_vec[a]) `\r\nyou need to transform the data type to GPU or Cuda according to the error info.\r\nHowever, the main reason for multi-GPU training lies in\r\n`        for i, (imgs, targets, _, _) in enumerate(dataloader):`\r\nwhere the imgs is a tensor, but the targets are lists. When parallel the imgs.to(device). The imgs are divided into batch_size/GPU_nums. But the targets cannot targets.to(device)(since it is a list), and the targets are the same num as the batch_size, cannot distribute into every GPUs. ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/473759457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"longxianlei","id":46415452,"node_id":"MDQ6VXNlcjQ2NDE1NDUy","avatar_url":"https://avatars.githubusercontent.com/u/46415452?v=4","gravatar_id":"","url":"https://api.github.com/users/longxianlei","html_url":"https://github.com/longxianlei","followers_url":"https://api.github.com/users/longxianlei/followers","following_url":"https://api.github.com/users/longxianlei/following{/other_user}","gists_url":"https://api.github.com/users/longxianlei/gists{/gist_id}","starred_url":"https://api.github.com/users/longxianlei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longxianlei/subscriptions","organizations_url":"https://api.github.com/users/longxianlei/orgs","repos_url":"https://api.github.com/users/longxianlei/repos","events_url":"https://api.github.com/users/longxianlei/events{/privacy}","received_events_url":"https://api.github.com/users/longxianlei/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/473759855","html_url":"https://github.com/ultralytics/yolov3/issues/42#issuecomment-473759855","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/42","id":473759855,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mzc1OTg1NQ==","user":{"login":"longxianlei","id":46415452,"node_id":"MDQ6VXNlcjQ2NDE1NDUy","avatar_url":"https://avatars.githubusercontent.com/u/46415452?v=4","gravatar_id":"","url":"https://api.github.com/users/longxianlei","html_url":"https://github.com/longxianlei","followers_url":"https://api.github.com/users/longxianlei/followers","following_url":"https://api.github.com/users/longxianlei/following{/other_user}","gists_url":"https://api.github.com/users/longxianlei/gists{/gist_id}","starred_url":"https://api.github.com/users/longxianlei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longxianlei/subscriptions","organizations_url":"https://api.github.com/users/longxianlei/orgs","repos_url":"https://api.github.com/users/longxianlei/repos","events_url":"https://api.github.com/users/longxianlei/events{/privacy}","received_events_url":"https://api.github.com/users/longxianlei/received_events","type":"User","site_admin":false},"created_at":"2019-03-18T03:44:28Z","updated_at":"2019-03-18T03:44:28Z","author_association":"NONE","body":"`            if nM > 0:\r\n                lxy = k * MSELoss(xy[mask], txy[mask])\r\n                lwh = k * MSELoss(wh[mask], twh[mask])`\r\nthe xy, txy, wh, twh is not the same dims as the batch_size.\r\nthe xy, wh is batch_size/GPU_nums.\r\nbut the txy, twh is the targets_nums( batch_size). There will occur some error.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/473759855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"longxianlei","id":46415452,"node_id":"MDQ6VXNlcjQ2NDE1NDUy","avatar_url":"https://avatars.githubusercontent.com/u/46415452?v=4","gravatar_id":"","url":"https://api.github.com/users/longxianlei","html_url":"https://github.com/longxianlei","followers_url":"https://api.github.com/users/longxianlei/followers","following_url":"https://api.github.com/users/longxianlei/following{/other_user}","gists_url":"https://api.github.com/users/longxianlei/gists{/gist_id}","starred_url":"https://api.github.com/users/longxianlei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longxianlei/subscriptions","organizations_url":"https://api.github.com/users/longxianlei/orgs","repos_url":"https://api.github.com/users/longxianlei/repos","events_url":"https://api.github.com/users/longxianlei/events{/privacy}","received_events_url":"https://api.github.com/users/longxianlei/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/473863044","html_url":"https://github.com/ultralytics/yolov3/issues/42#issuecomment-473863044","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/42","id":473863044,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mzg2MzA0NA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-18T10:56:05Z","updated_at":"2019-03-18T10:56:05Z","author_association":"MEMBER","body":"@longxianlei we just PRd our under-development multi_gpu branch into the master branch, so multi-GPU functionality now works. Many of the items you raised above should be resolved. See https://github.com/ultralytics/yolov3/pull/135 for more info.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/473863044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2209972221,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIwOTk3MjIyMQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2209972221","actor":{"login":"longxianlei","id":46415452,"node_id":"MDQ6VXNlcjQ2NDE1NDUy","avatar_url":"https://avatars.githubusercontent.com/u/46415452?v=4","gravatar_id":"","url":"https://api.github.com/users/longxianlei","html_url":"https://github.com/longxianlei","followers_url":"https://api.github.com/users/longxianlei/followers","following_url":"https://api.github.com/users/longxianlei/following{/other_user}","gists_url":"https://api.github.com/users/longxianlei/gists{/gist_id}","starred_url":"https://api.github.com/users/longxianlei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longxianlei/subscriptions","organizations_url":"https://api.github.com/users/longxianlei/orgs","repos_url":"https://api.github.com/users/longxianlei/repos","events_url":"https://api.github.com/users/longxianlei/events{/privacy}","received_events_url":"https://api.github.com/users/longxianlei/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-18T10:56:06Z","performed_via_github_app":null},{"id":2209972222,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMDk5NzIyMjI=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2209972222","actor":{"login":"longxianlei","id":46415452,"node_id":"MDQ6VXNlcjQ2NDE1NDUy","avatar_url":"https://avatars.githubusercontent.com/u/46415452?v=4","gravatar_id":"","url":"https://api.github.com/users/longxianlei","html_url":"https://github.com/longxianlei","followers_url":"https://api.github.com/users/longxianlei/followers","following_url":"https://api.github.com/users/longxianlei/following{/other_user}","gists_url":"https://api.github.com/users/longxianlei/gists{/gist_id}","starred_url":"https://api.github.com/users/longxianlei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longxianlei/subscriptions","organizations_url":"https://api.github.com/users/longxianlei/orgs","repos_url":"https://api.github.com/users/longxianlei/repos","events_url":"https://api.github.com/users/longxianlei/events{/privacy}","received_events_url":"https://api.github.com/users/longxianlei/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-18T10:56:06Z","performed_via_github_app":null}]