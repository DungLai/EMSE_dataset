[{"id":2884764953,"node_id":"MDEyOkxhYmVsZWRFdmVudDI4ODQ3NjQ5NTM=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2884764953","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-12-16T06:27:20Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/566176997","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-566176997","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":566176997,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjE3Njk5Nw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T18:12:19Z","updated_at":"2019-12-16T18:12:19Z","author_association":"MEMBER","body":"@ming71 yes this might be an interesting addition. I'm not sure about ICDAR, but with COCO, the best mAP@0.5 is obtained at `--conf 0.001 --nms 0.50`, and the highest mAP@0.5..0.95 at `--conf 0.001 --nms 0.70`. \r\n\r\nI would do this:\r\n1. Get COCO mAP at 608: \r\n```\r\npython3 test.py --img-size 608 --conf 0.001 --nms 0.50 --data coco2014.data --weights yolov3-spp.pt\r\n```\r\n2. Use updated detect.py to get multiscale COCO mAP, i.e. [320, 416, 512, 608, 704]. Do this by collecting output at each scale, concatenating, and then running NMS only once on the concatenated output using the same `--conf 0.001 --nms 0.50` settings. ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/566176997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2886960342,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg4Njk2MDM0Mg==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2886960342","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-16T18:12:20Z","performed_via_github_app":null},{"id":2886960345,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4ODY5NjAzNDU=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2886960345","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-16T18:12:20Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/566322935","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-566322935","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":566322935,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjMyMjkzNQ==","user":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T01:03:21Z","updated_at":"2019-12-17T01:03:21Z","author_association":"NONE","body":"umm, for multi-scale test, I randomly choose 2 scales from 448-468, and speed dropped from 30+fps to  10+fps. If you take all 5 scales, it may not reach real-time speed....\r\nanyway, if you add it successfully, can you  inform me here ?Thanks!","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/566322935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/566323831","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-566323831","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":566323831,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjMyMzgzMQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T01:07:27Z","updated_at":"2019-12-17T01:07:27Z","author_association":"MEMBER","body":"@ming71 do you have a paper or reference for multi-scale test improvements in mAP I could look at?","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/566323831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2888059035,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg4ODA1OTAzNQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2888059035","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-17T01:07:27Z","performed_via_github_app":null},{"id":2888059036,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4ODgwNTkwMzY=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2888059036","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-17T01:07:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/566336397","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-566336397","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":566336397,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjMzNjM5Nw==","user":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T01:22:20Z","updated_at":"2019-12-17T01:22:20Z","author_association":"NONE","body":"As far as I know, you can refer to [Refinedet](https://github.com/sfzhang15/RefineDet/blob/master/test/lib/fast_rcnn/test.py)  and [mmdetection](https://github.com/open-mmlab/mmdetection) implemention .\r\nI have no idea which paper first put forward it, but multi-scale test has been regard as a regular effective method for better result.Good luck! ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/566336397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/569785447","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-569785447","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":569785447,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTc4NTQ0Nw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-12-30T20:20:34Z","updated_at":"2019-12-30T20:20:34Z","author_association":"MEMBER","body":"@ming71 it's too bad we can not implement some sort of smart system that exploits the convolutions run on larger images at different strides so as to simulate inference on a smaller image. I suppose this is what yolov3 already does though with the 3 output sizes. \r\n\r\nPerhaps a higher efficiency system would increase the yolov3 output layer count rather than running completely new inference at different resolutions. There are currently 3x3 outputs, perhaps if we increase this to say 4x4  and retrain we might get similar results to multi-scale test?","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/569785447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2914626717,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkxNDYyNjcxNw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2914626717","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-30T20:20:34Z","performed_via_github_app":null},{"id":2914626719,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5MTQ2MjY3MTk=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2914626719","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-30T20:20:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/569785946","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-569785946","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":569785946,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTc4NTk0Ng==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-12-30T20:22:26Z","updated_at":"2019-12-30T20:22:26Z","author_association":"MEMBER","body":"@ming71 the poorest results BTW (which have the largest room for improvement) are the small objects, so perhaps adding a fourth yolo output layer would benefit us the most:\r\n\r\nhttps://github.com/ultralytics/yolov3#map\r\n```bash\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.242\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.448\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.519\r\n```","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/569785946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2914629460,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkxNDYyOTQ2MA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2914629460","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-30T20:22:26Z","performed_via_github_app":null},{"id":2914629461,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5MTQ2Mjk0NjE=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2914629461","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-30T20:22:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/569844637","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-569844637","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":569844637,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTg0NDYzNw==","user":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"created_at":"2019-12-31T01:32:21Z","updated_at":"2019-12-31T01:35:27Z","author_association":"NONE","body":"> @ming71 the poorest results BTW (which have the largest room for improvement) are the small objects, so perhaps adding a fourth yolo output layer would benefit us the most:\r\n> \r\n> https://github.com/ultralytics/yolov3#map\r\n> \r\n> ```shell\r\n>  Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.242\r\n>  Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.448\r\n>  Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.519\r\n> ```\r\n\r\nI've tried multi-scale testing with 2 different scales, achieved a slight improvement  with sacrifice of speed(more than 10fps).It  may not be a practical method.\r\nAs for  improvement for small objects, I think you can refer to **cascade** or **refinement** method, which  are adopted for many SOTA detector([Cascade RCNN](https://arxiv.org/abs/1712.00726) for two-stage and [Refinedet](https://arxiv.org/pdf/1711.06897.pdf) for single-stage).Taking ICDAR competition for example, this bbox refinement method  is embeded with many STOA single stage detectors such as [R3Det](https://arxiv.org/abs/1908.05612), [stela](https://arxiv.org/abs/1909.07549), etc.You can try **bbox refinement** on yolov3, it may take you a big boost for average precision.\r\nI also consider how to optimize this method. If any progress  is made, pls keep me informed, good luck to you ! ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/569844637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false}},{"id":2914955013,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkxNDk1NTAxMw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2914955013","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-31T01:32:21Z","performed_via_github_app":null},{"id":2914955015,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5MTQ5NTUwMTU=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2914955015","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-31T01:32:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/578916983","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-578916983","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":578916983,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODkxNjk4Mw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2020-01-27T19:40:30Z","updated_at":"2020-01-27T19:41:09Z","author_association":"MEMBER","body":"@ming71 I was thinking about this again and haven't made much progress, but my idea remains the same as my original comment https://github.com/ultralytics/yolov3/issues/717#issuecomment-569785447, that I think multi-scale inference may only be reasonable if implemented somehow smartly to recycle some of the computations performed among the different resolutions.\r\n\r\nI do have an interesting piece of new info however, I recently realized a big jump in mAP (75% to 80%) when training a custom dataset on yolov3-tiny3.cfg vs yolov3-tiny.cfg. The only difference was the addition of a 3rd output layer, which increased training time by about 15% only. When I get some time I'll try to train a 4-layer yolov3 I think.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/578916983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2983135895,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjk4MzEzNTg5NQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2983135895","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-27T19:40:31Z","performed_via_github_app":null},{"id":2983135899,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5ODMxMzU4OTk=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2983135899","actor":{"login":"ming71","id":43720092,"node_id":"MDQ6VXNlcjQzNzIwMDky","avatar_url":"https://avatars.githubusercontent.com/u/43720092?v=4","gravatar_id":"","url":"https://api.github.com/users/ming71","html_url":"https://github.com/ming71","followers_url":"https://api.github.com/users/ming71/followers","following_url":"https://api.github.com/users/ming71/following{/other_user}","gists_url":"https://api.github.com/users/ming71/gists{/gist_id}","starred_url":"https://api.github.com/users/ming71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ming71/subscriptions","organizations_url":"https://api.github.com/users/ming71/orgs","repos_url":"https://api.github.com/users/ming71/repos","events_url":"https://api.github.com/users/ming71/events{/privacy}","received_events_url":"https://api.github.com/users/ming71/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-27T19:40:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/595508318","html_url":"https://github.com/ultralytics/yolov3/issues/717#issuecomment-595508318","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/717","id":595508318,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTUwODMxOA==","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"created_at":"2020-03-06T00:09:32Z","updated_at":"2020-03-06T00:09:32Z","author_association":"NONE","body":"This issue is stale because it has been open 30 days with no activity. Remove stale label or comment or this will be closed in 5 days","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/595508318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false}},{"id":3103364355,"node_id":"MDEyOkxhYmVsZWRFdmVudDMxMDMzNjQzNTU=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3103364355","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-06T00:09:33Z","label":{"name":"Stale","color":"ededed"},"performed_via_github_app":null},{"id":3116877220,"node_id":"MDExOkNsb3NlZEV2ZW50MzExNjg3NzIyMA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3116877220","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-03-11T00:09:49Z","state_reason":null,"performed_via_github_app":null}]