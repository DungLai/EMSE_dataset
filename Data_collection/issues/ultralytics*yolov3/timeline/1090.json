[{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/618514507","html_url":"https://github.com/ultralytics/yolov3/issues/1090#issuecomment-618514507","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1090","id":618514507,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODUxNDUwNw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T16:53:46Z","updated_at":"2020-04-23T16:53:46Z","author_association":"MEMBER","body":"@sherman99 your batch size is too small probably, as it's dropped from an effective 16 to 4.\r\n\r\nAlso the cosine LR scheduler produces very high LRs initially, so you can not compare 0-500 on each as apples to apples, as the 0-500 in your 3000 run is at a much higher LR, while the 0-500 LR in your 500 run is designed exactly to reach a minimum LR (and best result) at 500. In other words, the mAP will not keep increasing at the same rate if you extend it to 600 etc, it's designed to peak at 500 in your first run, and then it's designed to peak at 3000 in your second run.\r\n\r\nMaybe do the same batch size but to 1000 epochs to see the effect. Also make sure you `git pull`, the code is updated often.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/618514507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":3265920563,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI2NTkyMDU2Mw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3265920563","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-23T16:53:47Z","performed_via_github_app":null},{"id":3265920566,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyNjU5MjA1NjY=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3265920566","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-23T16:53:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/618854172","html_url":"https://github.com/ultralytics/yolov3/issues/1090#issuecomment-618854172","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1090","id":618854172,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODg1NDE3Mg==","user":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"created_at":"2020-04-24T07:33:34Z","updated_at":"2020-04-24T07:35:30Z","author_association":"NONE","body":"Hi, thank you for your prompt response.\r\nI am aware about the differently scheduled LR, I just wanted to point out that I noticed no drops in the first case.\r\n\r\nAnyway I started the 3000 run all over but instead of `--batch-size 4 --accumulate 1` I used `--batch-size 2 --accumulate 8` as in the 500 run and it has made a world of difference -- see the the plot below.\r\n\r\nHowever I am not sure I properly understand it. I used the batch-size 4 because it was giving me the best results when I was doing some comparisons using yolo-tiny. Apparently these two nets are too different in that regard.\r\n\r\nI am also wondering why in this case it is plateauing so early around 300 epoch out of 3000.\r\n\r\nAnyway the main problem about the recall drops solved, so I am closing this.  Although if someone could give me a proper explanation why it behaves as it does, I would very much appreciate it.\r\n\r\n![results](https://user-images.githubusercontent.com/62949809/80186661-a559a080-860e-11ea-9d51-ef0399d9151c.png)","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/618854172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false}},{"id":3268196769,"node_id":"MDExOkNsb3NlZEV2ZW50MzI2ODE5Njc2OQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3268196769","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-04-24T07:33:34Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/618868300","html_url":"https://github.com/ultralytics/yolov3/issues/1090#issuecomment-618868300","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1090","id":618868300,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODg2ODMwMA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2020-04-24T08:06:17Z","updated_at":"2020-04-24T08:06:30Z","author_association":"MEMBER","body":"Tiny is not recommended. All models will return worse results at smaller batch sizes. Suggest using default settings.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/618868300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621090112","html_url":"https://github.com/ultralytics/yolov3/issues/1090#issuecomment-621090112","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1090","id":621090112,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTA5MDExMg==","user":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"created_at":"2020-04-29T09:27:11Z","updated_at":"2020-04-29T09:28:05Z","author_association":"NONE","body":"Just for others to know: as with all other parameters, it is best start with the generally recommended values (in case of batch size it is 64 or 128), but it is definitely worth to try different ones as well,  because it for some degree depends on your data. In my case batch-size 16 worked the best.\r\n![results_batch16-batch64](https://user-images.githubusercontent.com/62949809/80580711-46c86400-8a0c-11ea-9a75-bd6f5cf72b4d.png)\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621090112/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621339394","html_url":"https://github.com/ultralytics/yolov3/issues/1090#issuecomment-621339394","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1090","id":621339394,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTMzOTM5NA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2020-04-29T17:01:01Z","updated_at":"2020-04-29T17:20:32Z","author_association":"MEMBER","body":"@sherman99 thanks for the insight. How large is your dataset? Did you only change batch-size between the two, or did you also modify the accumulations before the optimizer step?\r\n\r\nI've seen this in the tutorials as well, that they benefit from smaller batch sizes, and more often accumulation. Perhaps dataset size is the main differentiator. For COCO we use bs64, and others use bs128, and for imagenet tasks bs1024 is sometimes used if the hardware can support it.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621339394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":3285562526,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI4NTU2MjUyNg==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3285562526","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-29T17:01:01Z","performed_via_github_app":null},{"id":3285562531,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyODU1NjI1MzE=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3285562531","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-29T17:01:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621350941","html_url":"https://github.com/ultralytics/yolov3/issues/1090#issuecomment-621350941","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1090","id":621350941,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM1MDk0MQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2020-04-29T17:22:27Z","updated_at":"2020-04-29T17:23:25Z","author_association":"MEMBER","body":"Perhaps an auto-batch size approach might adapt to the size of the dataset. Maybe:\r\n\r\n```\r\nmath.log(120000) ** 2 * 0.5  # coco 120k images\r\nOut[10]: 68.389401450042\r\n\r\nmath.log(64) ** 2 * 0.5  # coco64 tutorial, 64 images\r\nOut[11]: 8.648154250527623\r\n```","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621350941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621371219","html_url":"https://github.com/ultralytics/yolov3/issues/1090#issuecomment-621371219","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1090","id":621371219,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM3MTIxOQ==","user":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"created_at":"2020-04-29T18:01:53Z","updated_at":"2020-04-29T18:01:53Z","author_association":"NONE","body":"The dataset is quite small - 750 images.\r\nIn the above comparison the batch 16 and 64 is effective batch; I was using batch-size 4 as this is what fits into my GPU memory and then changing the accumulate accordingly (btw great way how to circumvent the GPU RAM limit - thanks!)\r\n\r\n`math.log(750) ** 2 * 0.5 = 21.9` - quite close to the 16 which worked well for me. So definitely worth remembering - thank you!","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621371219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621376013","html_url":"https://github.com/ultralytics/yolov3/issues/1090#issuecomment-621376013","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1090","id":621376013,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM3NjAxMw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2020-04-29T18:11:35Z","updated_at":"2020-04-29T18:11:35Z","author_association":"MEMBER","body":"@sherman99 hmm interesting. The tutorials seem to train best at bs8 accum1.\r\n\r\nOf course, there's also the epochs dimension to this. I believe that eventually if you train long enough the larger batch-sizes will become more beneficial as they introduce less noise into each step. Even COCO trains better at smaller batch sizes in the first few epochs, but because the dataloader is only defined once, we are restricted to a single batch-size for the entirely of training, at least currently.\r\n\r\nBTW, you should train longer. Your validation losses have not started increasing yet, so you are leaving some mAP on the table.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/621376013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":3285827748,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI4NTgyNzc0OA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3285827748","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-29T18:11:35Z","performed_via_github_app":null},{"id":3285827751,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyODU4Mjc3NTE=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3285827751","actor":{"login":"sherman99","id":62949809,"node_id":"MDQ6VXNlcjYyOTQ5ODA5","avatar_url":"https://avatars.githubusercontent.com/u/62949809?v=4","gravatar_id":"","url":"https://api.github.com/users/sherman99","html_url":"https://github.com/sherman99","followers_url":"https://api.github.com/users/sherman99/followers","following_url":"https://api.github.com/users/sherman99/following{/other_user}","gists_url":"https://api.github.com/users/sherman99/gists{/gist_id}","starred_url":"https://api.github.com/users/sherman99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherman99/subscriptions","organizations_url":"https://api.github.com/users/sherman99/orgs","repos_url":"https://api.github.com/users/sherman99/repos","events_url":"https://api.github.com/users/sherman99/events{/privacy}","received_events_url":"https://api.github.com/users/sherman99/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-29T18:11:35Z","performed_via_github_app":null}]