[{"id":2693816090,"node_id":"MDEyOkxhYmVsZWRFdmVudDI2OTM4MTYwOTA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2693816090","actor":{"login":"alpizano","id":39110859,"node_id":"MDQ6VXNlcjM5MTEwODU5","avatar_url":"https://avatars.githubusercontent.com/u/39110859?v=4","gravatar_id":"","url":"https://api.github.com/users/alpizano","html_url":"https://github.com/alpizano","followers_url":"https://api.github.com/users/alpizano/followers","following_url":"https://api.github.com/users/alpizano/following{/other_user}","gists_url":"https://api.github.com/users/alpizano/gists{/gist_id}","starred_url":"https://api.github.com/users/alpizano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpizano/subscriptions","organizations_url":"https://api.github.com/users/alpizano/orgs","repos_url":"https://api.github.com/users/alpizano/repos","events_url":"https://api.github.com/users/alpizano/events{/privacy}","received_events_url":"https://api.github.com/users/alpizano/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-10-08T01:48:38Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/542660406","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-542660406","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":542660406,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MjY2MDQwNg==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-10-16T11:42:57Z","updated_at":"2019-10-16T11:42:57Z","author_association":"MEMBER","body":"Thanks for the bug report. Yes this can happen if the learning rate is too high, the losses diverge to inf/nan. Can you try a reduced LR or a reduced GIOU weight?","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/542660406/reactions","total_count":6,"+1":3,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2718498429,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjcxODQ5ODQyOQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2718498429","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-16T17:32:12Z","performed_via_github_app":null},{"id":2718498430,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3MTg0OTg0MzA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2718498430","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-16T17:32:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/544203153","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-544203153","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":544203153,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDIwMzE1Mw==","user":{"login":"alpizano","id":39110859,"node_id":"MDQ6VXNlcjM5MTEwODU5","avatar_url":"https://avatars.githubusercontent.com/u/39110859?v=4","gravatar_id":"","url":"https://api.github.com/users/alpizano","html_url":"https://github.com/alpizano","followers_url":"https://api.github.com/users/alpizano/followers","following_url":"https://api.github.com/users/alpizano/following{/other_user}","gists_url":"https://api.github.com/users/alpizano/gists{/gist_id}","starred_url":"https://api.github.com/users/alpizano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpizano/subscriptions","organizations_url":"https://api.github.com/users/alpizano/orgs","repos_url":"https://api.github.com/users/alpizano/repos","events_url":"https://api.github.com/users/alpizano/events{/privacy}","received_events_url":"https://api.github.com/users/alpizano/received_events","type":"User","site_admin":false},"created_at":"2019-10-19T22:40:58Z","updated_at":"2019-10-19T22:41:55Z","author_association":"NONE","body":"> Thanks for the bug report. Yes this can happen if the learning rate is too high, the losses diverge to inf/nan. Can you try a reduced LR or a reduced GIOU weight?\r\n\r\nYou were spot on with the GIOU weight. I reduced LR to 0.0001 but it made no difference, but editing GIOU weight of ```train.py``` (line 19) was the fix and now I'm able to complete all epochs of training with no \"non-finite loss\" etc... error. (Reduced GIOU from 1.582 to 1)\r\n\r\nHopefully this helps anyone else out if there were having a similar error.\r\n\r\nThank you very much sir ❤","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/544203153/reactions","total_count":16,"+1":12,"-1":0,"laugh":0,"hooray":4,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alpizano","id":39110859,"node_id":"MDQ6VXNlcjM5MTEwODU5","avatar_url":"https://avatars.githubusercontent.com/u/39110859?v=4","gravatar_id":"","url":"https://api.github.com/users/alpizano","html_url":"https://github.com/alpizano","followers_url":"https://api.github.com/users/alpizano/followers","following_url":"https://api.github.com/users/alpizano/following{/other_user}","gists_url":"https://api.github.com/users/alpizano/gists{/gist_id}","starred_url":"https://api.github.com/users/alpizano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpizano/subscriptions","organizations_url":"https://api.github.com/users/alpizano/orgs","repos_url":"https://api.github.com/users/alpizano/repos","events_url":"https://api.github.com/users/alpizano/events{/privacy}","received_events_url":"https://api.github.com/users/alpizano/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/546438182","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-546438182","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":546438182,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjQzODE4Mg==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-10-25T17:18:15Z","updated_at":"2019-10-25T17:18:15Z","author_association":"MEMBER","body":"@alpizano hmmm awesome!! It would be nice to somehow make the GIoU loss more robust to this but I can't figure out an easy way to do it. Anyway, good to know lowering the weight fixed it.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/546438182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2744906761,"node_id":"MDExOkNsb3NlZEV2ZW50Mjc0NDkwNjc2MQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2744906761","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-25T17:18:15Z","state_reason":null,"performed_via_github_app":null},{"id":2744906767,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc0NDkwNjc2Nw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2744906767","actor":{"login":"alpizano","id":39110859,"node_id":"MDQ6VXNlcjM5MTEwODU5","avatar_url":"https://avatars.githubusercontent.com/u/39110859?v=4","gravatar_id":"","url":"https://api.github.com/users/alpizano","html_url":"https://github.com/alpizano","followers_url":"https://api.github.com/users/alpizano/followers","following_url":"https://api.github.com/users/alpizano/following{/other_user}","gists_url":"https://api.github.com/users/alpizano/gists{/gist_id}","starred_url":"https://api.github.com/users/alpizano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpizano/subscriptions","organizations_url":"https://api.github.com/users/alpizano/orgs","repos_url":"https://api.github.com/users/alpizano/repos","events_url":"https://api.github.com/users/alpizano/events{/privacy}","received_events_url":"https://api.github.com/users/alpizano/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-25T17:18:15Z","performed_via_github_app":null},{"id":2744906769,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3NDQ5MDY3Njk=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2744906769","actor":{"login":"alpizano","id":39110859,"node_id":"MDQ6VXNlcjM5MTEwODU5","avatar_url":"https://avatars.githubusercontent.com/u/39110859?v=4","gravatar_id":"","url":"https://api.github.com/users/alpizano","html_url":"https://github.com/alpizano","followers_url":"https://api.github.com/users/alpizano/followers","following_url":"https://api.github.com/users/alpizano/following{/other_user}","gists_url":"https://api.github.com/users/alpizano/gists{/gist_id}","starred_url":"https://api.github.com/users/alpizano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpizano/subscriptions","organizations_url":"https://api.github.com/users/alpizano/orgs","repos_url":"https://api.github.com/users/alpizano/repos","events_url":"https://api.github.com/users/alpizano/events{/privacy}","received_events_url":"https://api.github.com/users/alpizano/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-25T17:18:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/549043531","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-549043531","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":549043531,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTA0MzUzMQ==","user":{"login":"zhuxiang","id":1452531,"node_id":"MDQ6VXNlcjE0NTI1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1452531?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuxiang","html_url":"https://github.com/zhuxiang","followers_url":"https://api.github.com/users/zhuxiang/followers","following_url":"https://api.github.com/users/zhuxiang/following{/other_user}","gists_url":"https://api.github.com/users/zhuxiang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuxiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuxiang/subscriptions","organizations_url":"https://api.github.com/users/zhuxiang/orgs","repos_url":"https://api.github.com/users/zhuxiang/repos","events_url":"https://api.github.com/users/zhuxiang/events{/privacy}","received_events_url":"https://api.github.com/users/zhuxiang/received_events","type":"User","site_admin":false},"created_at":"2019-11-02T13:25:05Z","updated_at":"2019-11-02T13:25:05Z","author_association":"NONE","body":"> > Thanks for the bug report. Yes this can happen if the learning rate is too high, the losses diverge to inf/nan. Can you try a reduced LR or a reduced GIOU weight?\r\n> \r\n> You were spot on with the GIOU weight. I reduced LR to 0.0001 but it made no difference, but editing GIOU weight of `train.py` (line 19) was the fix and now I'm able to complete all epochs of training with no \"non-finite loss\" etc... error. (Reduced GIOU from 1.582 to 1)\r\n> \r\n> Hopefully this helps anyone else out if there were having a similar error.\r\n> \r\n> Thank you very much sir ❤\r\n\r\nI have encountered the same problem. When I turn the GIoU down to 1, the problem is still there. Then I lowered the learning rate, the problem was fixed. I don't know why, maybe the hyperparameters' setting are related to the training datasets. Thank you for your help.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/549043531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zhuxiang","id":1452531,"node_id":"MDQ6VXNlcjE0NTI1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1452531?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuxiang","html_url":"https://github.com/zhuxiang","followers_url":"https://api.github.com/users/zhuxiang/followers","following_url":"https://api.github.com/users/zhuxiang/following{/other_user}","gists_url":"https://api.github.com/users/zhuxiang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuxiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuxiang/subscriptions","organizations_url":"https://api.github.com/users/zhuxiang/orgs","repos_url":"https://api.github.com/users/zhuxiang/repos","events_url":"https://api.github.com/users/zhuxiang/events{/privacy}","received_events_url":"https://api.github.com/users/zhuxiang/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/549043587","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-549043587","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":549043587,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTA0MzU4Nw==","user":{"login":"zhuxiang","id":1452531,"node_id":"MDQ6VXNlcjE0NTI1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1452531?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuxiang","html_url":"https://github.com/zhuxiang","followers_url":"https://api.github.com/users/zhuxiang/followers","following_url":"https://api.github.com/users/zhuxiang/following{/other_user}","gists_url":"https://api.github.com/users/zhuxiang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuxiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuxiang/subscriptions","organizations_url":"https://api.github.com/users/zhuxiang/orgs","repos_url":"https://api.github.com/users/zhuxiang/repos","events_url":"https://api.github.com/users/zhuxiang/events{/privacy}","received_events_url":"https://api.github.com/users/zhuxiang/received_events","type":"User","site_admin":false},"created_at":"2019-11-02T13:25:57Z","updated_at":"2019-11-02T13:25:57Z","author_association":"NONE","body":"> Thanks for the bug report. Yes this can happen if the learning rate is too high, the losses diverge to inf/nan. Can you try a reduced LR or a reduced GIOU weight?\r\n\r\nI lowered LR and GIOU, then the problem was fixed. Thank you.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/549043587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zhuxiang","id":1452531,"node_id":"MDQ6VXNlcjE0NTI1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1452531?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuxiang","html_url":"https://github.com/zhuxiang","followers_url":"https://api.github.com/users/zhuxiang/followers","following_url":"https://api.github.com/users/zhuxiang/following{/other_user}","gists_url":"https://api.github.com/users/zhuxiang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuxiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuxiang/subscriptions","organizations_url":"https://api.github.com/users/zhuxiang/orgs","repos_url":"https://api.github.com/users/zhuxiang/repos","events_url":"https://api.github.com/users/zhuxiang/events{/privacy}","received_events_url":"https://api.github.com/users/zhuxiang/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/604961801","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-604961801","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":604961801,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDk2MTgwMQ==","user":{"login":"tibistrat","id":41328007,"node_id":"MDQ6VXNlcjQxMzI4MDA3","avatar_url":"https://avatars.githubusercontent.com/u/41328007?v=4","gravatar_id":"","url":"https://api.github.com/users/tibistrat","html_url":"https://github.com/tibistrat","followers_url":"https://api.github.com/users/tibistrat/followers","following_url":"https://api.github.com/users/tibistrat/following{/other_user}","gists_url":"https://api.github.com/users/tibistrat/gists{/gist_id}","starred_url":"https://api.github.com/users/tibistrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibistrat/subscriptions","organizations_url":"https://api.github.com/users/tibistrat/orgs","repos_url":"https://api.github.com/users/tibistrat/repos","events_url":"https://api.github.com/users/tibistrat/events{/privacy}","received_events_url":"https://api.github.com/users/tibistrat/received_events","type":"User","site_admin":false},"created_at":"2020-03-27T12:00:00Z","updated_at":"2020-03-27T12:00:00Z","author_association":"NONE","body":"I had a similar issue, spotted it while experimenting with the focal loss. I had a nan for the objectness loss. It was caused by setting the targets for the objectness measure equal to the giou, however the giou can be between -1 and +1 and not between 0 and +1. If inside the BCE you put a negative target, there be dragons!\r\n\r\nYou can fix this in the compute_loss function by not only computing the giou (used in the box loss), but also the iou (to use as an objectness target). Something like this:\r\n```\r\ngiou = bbox_iou(pbox.t(), tbox[i], x1y1x2y2=False, GIoU=True)  # giou computation\r\niou = bbox_iou(pbox.t(), tbox[i], x1y1x2y2=False, GIoU=False)\r\nlbox += (1.0 - giou).sum() if red == 'sum' else (1.0 - giou).mean()  # giou loss\r\ntobj[b, a, gj, gi] = iou.detach().type(tobj.dtype) if giou_flag else 1.0 # target Pobj is either the IoU, or simply 1, depending on the flag\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/604961801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tibistrat","id":41328007,"node_id":"MDQ6VXNlcjQxMzI4MDA3","avatar_url":"https://avatars.githubusercontent.com/u/41328007?v=4","gravatar_id":"","url":"https://api.github.com/users/tibistrat","html_url":"https://github.com/tibistrat","followers_url":"https://api.github.com/users/tibistrat/followers","following_url":"https://api.github.com/users/tibistrat/following{/other_user}","gists_url":"https://api.github.com/users/tibistrat/gists{/gist_id}","starred_url":"https://api.github.com/users/tibistrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibistrat/subscriptions","organizations_url":"https://api.github.com/users/tibistrat/orgs","repos_url":"https://api.github.com/users/tibistrat/repos","events_url":"https://api.github.com/users/tibistrat/events{/privacy}","received_events_url":"https://api.github.com/users/tibistrat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/605135164","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-605135164","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":605135164,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTEzNTE2NA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2020-03-27T17:26:57Z","updated_at":"2020-03-27T17:26:57Z","author_association":"MEMBER","body":"@tibistrat latest code has a clamp(0) here to prevent this.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/605135164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":3173358477,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzE3MzM1ODQ3Nw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3173358477","actor":{"login":"tibistrat","id":41328007,"node_id":"MDQ6VXNlcjQxMzI4MDA3","avatar_url":"https://avatars.githubusercontent.com/u/41328007?v=4","gravatar_id":"","url":"https://api.github.com/users/tibistrat","html_url":"https://github.com/tibistrat","followers_url":"https://api.github.com/users/tibistrat/followers","following_url":"https://api.github.com/users/tibistrat/following{/other_user}","gists_url":"https://api.github.com/users/tibistrat/gists{/gist_id}","starred_url":"https://api.github.com/users/tibistrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibistrat/subscriptions","organizations_url":"https://api.github.com/users/tibistrat/orgs","repos_url":"https://api.github.com/users/tibistrat/repos","events_url":"https://api.github.com/users/tibistrat/events{/privacy}","received_events_url":"https://api.github.com/users/tibistrat/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-27T17:26:57Z","performed_via_github_app":null},{"id":3173358480,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxNzMzNTg0ODA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/3173358480","actor":{"login":"tibistrat","id":41328007,"node_id":"MDQ6VXNlcjQxMzI4MDA3","avatar_url":"https://avatars.githubusercontent.com/u/41328007?v=4","gravatar_id":"","url":"https://api.github.com/users/tibistrat","html_url":"https://github.com/tibistrat","followers_url":"https://api.github.com/users/tibistrat/followers","following_url":"https://api.github.com/users/tibistrat/following{/other_user}","gists_url":"https://api.github.com/users/tibistrat/gists{/gist_id}","starred_url":"https://api.github.com/users/tibistrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibistrat/subscriptions","organizations_url":"https://api.github.com/users/tibistrat/orgs","repos_url":"https://api.github.com/users/tibistrat/repos","events_url":"https://api.github.com/users/tibistrat/events{/privacy}","received_events_url":"https://api.github.com/users/tibistrat/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-27T17:26:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/703044638","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-703044638","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":703044638,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzA0NDYzOA==","user":{"login":"stiv-yakovenko","id":4163254,"node_id":"MDQ6VXNlcjQxNjMyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4163254?v=4","gravatar_id":"","url":"https://api.github.com/users/stiv-yakovenko","html_url":"https://github.com/stiv-yakovenko","followers_url":"https://api.github.com/users/stiv-yakovenko/followers","following_url":"https://api.github.com/users/stiv-yakovenko/following{/other_user}","gists_url":"https://api.github.com/users/stiv-yakovenko/gists{/gist_id}","starred_url":"https://api.github.com/users/stiv-yakovenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stiv-yakovenko/subscriptions","organizations_url":"https://api.github.com/users/stiv-yakovenko/orgs","repos_url":"https://api.github.com/users/stiv-yakovenko/repos","events_url":"https://api.github.com/users/stiv-yakovenko/events{/privacy}","received_events_url":"https://api.github.com/users/stiv-yakovenko/received_events","type":"User","site_admin":false},"created_at":"2020-10-03T04:30:08Z","updated_at":"2020-10-03T04:30:08Z","author_association":"NONE","body":"I see this problem with the lastest version.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/703044638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stiv-yakovenko","id":4163254,"node_id":"MDQ6VXNlcjQxNjMyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4163254?v=4","gravatar_id":"","url":"https://api.github.com/users/stiv-yakovenko","html_url":"https://github.com/stiv-yakovenko","followers_url":"https://api.github.com/users/stiv-yakovenko/followers","following_url":"https://api.github.com/users/stiv-yakovenko/following{/other_user}","gists_url":"https://api.github.com/users/stiv-yakovenko/gists{/gist_id}","starred_url":"https://api.github.com/users/stiv-yakovenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stiv-yakovenko/subscriptions","organizations_url":"https://api.github.com/users/stiv-yakovenko/orgs","repos_url":"https://api.github.com/users/stiv-yakovenko/repos","events_url":"https://api.github.com/users/stiv-yakovenko/events{/privacy}","received_events_url":"https://api.github.com/users/stiv-yakovenko/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/703270537","html_url":"https://github.com/ultralytics/yolov3/issues/537#issuecomment-703270537","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/537","id":703270537,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI3MDUzNw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2020-10-04T15:18:12Z","updated_at":"2020-10-04T15:18:12Z","author_association":"MEMBER","body":"This issue should be resolved in yolov5:\r\nhttps://github.com/ultralytics/yolov5","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/703270537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}}]