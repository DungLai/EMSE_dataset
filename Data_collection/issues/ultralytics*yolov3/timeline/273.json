[{"id":2336465324,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzMzY0NjUzMjQ=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2336465324","actor":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-05-13T10:19:43Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":2336560789,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MjMzNjU2MDc4OQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2336560789","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2019-05-13T10:59:12Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":2336560790,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzMzY1NjA3OTA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2336560790","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-05-13T10:59:12Z","label":{"name":"question","color":"d876e3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491776905","html_url":"https://github.com/ultralytics/yolov3/issues/273#issuecomment-491776905","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/273","id":491776905,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTc3NjkwNQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T11:00:56Z","updated_at":"2019-05-13T11:00:56Z","author_association":"MEMBER","body":"@sj88eejqa excellent! mAP computed with pycocotools is valid and correct. Can you supply code to reproduce this?","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491776905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2336564990,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMzNjU2NDk5MA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2336564990","actor":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-13T11:00:56Z","performed_via_github_app":null},{"id":2336564991,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMzY1NjQ5OTE=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2336564991","actor":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-13T11:00:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491846255","html_url":"https://github.com/ultralytics/yolov3/issues/273#issuecomment-491846255","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/273","id":491846255,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTg0NjI1NQ==","user":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T14:29:22Z","updated_at":"2019-05-13T14:31:43Z","author_association":"NONE","body":"I simply just use pycocotools to evaluate. I change the code a little bit, but I don't think that will change the result. Some codes like below:\r\n```\r\n    jdict = []\r\n    for batch_i, (imgs, img_ids, paths, shapes) in enumerate(tqdm(dataloader, desc='Computing mAP')):\r\n        imgs = imgs.to(device)\r\n        assert imgs.is_cuda\r\n        _, _, height, width = imgs.shape  # batch size, channels, height, width (h=w=416)\r\n\r\n        # Run model\r\n        output = model(imgs, train_type='detect',conf_thres=conf_thres, nms_thres=nms_thres) # inference and training outputs\r\n\r\n        # Statistics per image\r\n        for si, pred in enumerate(output):\r\n            if pred is None:\r\n                continue\r\n\r\n            # Append to pycocotools JSON dictionary\r\n            if save_json:\r\n                # [{\"image_id\": 42, \"category_id\": 18, \"bbox\": [258.15, 41.29, 348.26, 243.78], \"score\": 0.236}, ...\r\n                image_id = img_ids[si]\r\n                box = pred[:, :4].clone()  # xyxy\r\n                box = rescale_boxes(box, 416, shapes[si])\r\n                # scale_coords(imgs[si].shape[1:], box, shapes[si])  # to original shape\r\n                box = xyxy2xywh(box)  # xywh\r\n                box[:, :2] -= box[:, 2:] / 2  # xy center to top-left corner\r\n                for di, d in enumerate(pred):\r\n                    jdict.append({\r\n                        'image_id': image_id,\r\n                        'category_id': class_table[int(d[6])+1],\r\n                        'bbox': [float(x) for x in box[di]],\r\n                        'score': float(d[4])\r\n                    })\r\n\r\n    # Save JSON\r\n    if save_json  and len(jdict):\r\n        with open('results.json', 'w') as file:\r\n            json.dump(jdict, file)\r\n\r\n        from pycocotools.coco import COCO\r\n        from pycocotools.cocoeval import COCOeval\r\n\r\n        # https://github.com/cocodataset/cocoapi/blob/master/PythonAPI/pycocoEvalDemo.ipynb\r\n        cocoGt = dataset.getCOCO()  # initialize COCO ground truth api\r\n        cocoDt = cocoGt.loadRes('results.json')  # initialize COCO pred api\r\n\r\n        cocoEval = COCOeval(cocoGt, cocoDt, 'bbox')\r\n        cocoEval.params.imgIds = dataset.ids  # [:32]  # only evaluate these images\r\n        cocoEval.evaluate()\r\n        cocoEval.accumulate()\r\n        cocoEval.summarize()\r\n        map = cocoEval.stats[1]  # update mAP to pycocotools mAP\r\n```\r\nFor more details, my environment  is Python3.5 and Pytorch 0.4.1.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491846255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491849244","html_url":"https://github.com/ultralytics/yolov3/issues/273#issuecomment-491849244","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/273","id":491849244,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTg0OTI0NA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T14:36:32Z","updated_at":"2019-05-13T14:36:32Z","author_association":"MEMBER","body":"Seems correct. Remember yolov3-spp is trained on coco2014 train and val sets minus 5k Val images, so it’s possible your 2017val set contains images it was trained on.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491849244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491894107","html_url":"https://github.com/ultralytics/yolov3/issues/273#issuecomment-491894107","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/273","id":491894107,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTg5NDEwNw==","user":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T16:30:13Z","updated_at":"2019-05-13T16:30:13Z","author_association":"NONE","body":"Yes, you are right. But when I evaluate on 5k Val, I only get mAP 53.7. Just like below:\r\n```\r\nLen of dataset: 5000\r\nComputing mAP: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 157/157 [13:56<00:00,  3.91s/it]\r\nLoading and preparing results...\r\nDONE (t=4.82s)\r\ncreating index...\r\nindex created!\r\nRunning per image evaluation...\r\nEvaluate annotation type *bbox*\r\nDONE (t=70.31s).\r\nAccumulating evaluation results...\r\nDONE (t=6.95s).\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.297\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.537\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.297\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.130\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.327\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.444\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.260\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.397\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.425\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.230\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.466\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.587\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491894107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491916597","html_url":"https://github.com/ultralytics/yolov3/issues/273#issuecomment-491916597","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/273","id":491916597,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTkxNjU5Nw==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T17:36:16Z","updated_at":"2019-05-13T17:36:16Z","author_association":"MEMBER","body":"@sj88eejqa you should get 56.5 with yolov3-spp at 416 per https://github.com/ultralytics/yolov3#map. ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491916597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2337712329,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMzNzcxMjMyOQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2337712329","actor":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-13T17:36:16Z","performed_via_github_app":null},{"id":2337712331,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMzc3MTIzMzE=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2337712331","actor":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-13T17:36:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491922792","html_url":"https://github.com/ultralytics/yolov3/issues/273#issuecomment-491922792","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/273","id":491922792,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTkyMjc5Mg==","user":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T17:54:52Z","updated_at":"2019-05-13T17:54:52Z","author_association":"NONE","body":"I use YOLOv3 416, so I should get 55.4 right? I still struggle with this problem.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491922792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sj88eejqa","id":11806040,"node_id":"MDQ6VXNlcjExODA2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11806040?v=4","gravatar_id":"","url":"https://api.github.com/users/sj88eejqa","html_url":"https://github.com/sj88eejqa","followers_url":"https://api.github.com/users/sj88eejqa/followers","following_url":"https://api.github.com/users/sj88eejqa/following{/other_user}","gists_url":"https://api.github.com/users/sj88eejqa/gists{/gist_id}","starred_url":"https://api.github.com/users/sj88eejqa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj88eejqa/subscriptions","organizations_url":"https://api.github.com/users/sj88eejqa/orgs","repos_url":"https://api.github.com/users/sj88eejqa/repos","events_url":"https://api.github.com/users/sj88eejqa/events{/privacy}","received_events_url":"https://api.github.com/users/sj88eejqa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491948189","html_url":"https://github.com/ultralytics/yolov3/issues/273#issuecomment-491948189","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/273","id":491948189,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk0ODE4OQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T19:09:11Z","updated_at":"2019-05-13T19:09:11Z","author_association":"MEMBER","body":"mAP is correct with yolov3.cfg as well, 0.554. **If your results differ the difference is caused by your changes to the default repository.** Closing this issue as no problems found.\r\n\r\n```bash\r\npython3 test.py --save-json --cfg cfg/yolov3.cfg --weights weights/yolov3.weights\r\nNamespace(batch_size=16, cfg='cfg/yolov3.cfg', conf_thres=0.001, data_cfg='data/coco.data', img_size=416, iou_thres\r\n=0.5, nms_thres=0.5, save_json=True, weights='weights/yolov3.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla V100-SXM2-16GB', total_memory=16130MB)\r\nReading labels: 100%|███████████████████████████████████████████████████████| 5000/5000 [00:00<00:00, 31402.29it/s]\r\n               Class    Images   Targets         P         R       mAP        F1\r\nComputing mAP: 100%|█████████████████████████████████████████████████████████████| 313/313 [06:20<00:00,  1.43it/s]\r\n                 all     5e+03  3.58e+04     0.106     0.726     0.542     0.181\r\n...\r\nloading annotations into memory...\r\nDone (t=6.01s)\r\ncreating index...\r\nindex created!\r\nLoading and preparing results...\r\nDONE (t=2.68s)\r\ncreating index...\r\nindex created!\r\nRunning per image evaluation...\r\nEvaluate annotation type *bbox*\r\nDONE (t=51.57s).\r\nAccumulating evaluation results...\r\nDONE (t=7.59s).\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.311\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.554\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.316\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.143\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.344\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.448\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.268\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.407\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.431\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.235\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.472\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.582\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/491948189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2337949157,"node_id":"MDExOkNsb3NlZEV2ZW50MjMzNzk0OTE1Nw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2337949157","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-13T19:09:11Z","state_reason":null,"performed_via_github_app":null}]