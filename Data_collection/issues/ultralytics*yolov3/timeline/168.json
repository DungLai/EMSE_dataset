[{"id":2231279196,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyMzEyNzkxOTY=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2231279196","actor":{"login":"100330706","id":48351782,"node_id":"MDQ6VXNlcjQ4MzUxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/48351782?v=4","gravatar_id":"","url":"https://api.github.com/users/100330706","html_url":"https://github.com/100330706","followers_url":"https://api.github.com/users/100330706/followers","following_url":"https://api.github.com/users/100330706/following{/other_user}","gists_url":"https://api.github.com/users/100330706/gists{/gist_id}","starred_url":"https://api.github.com/users/100330706/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/100330706/subscriptions","organizations_url":"https://api.github.com/users/100330706/orgs","repos_url":"https://api.github.com/users/100330706/repos","events_url":"https://api.github.com/users/100330706/events{/privacy}","received_events_url":"https://api.github.com/users/100330706/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-03-26T21:39:03Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/476868501","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-476868501","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":476868501,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg2ODUwMQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-26T21:55:54Z","updated_at":"2019-03-26T22:00:54Z","author_association":"MEMBER","body":"The `wh` losses are the most unstable in the darknet implementation due to their unbounded nature, as you noticed. We created the 'power' method to stabilize the training in such situations. Typically if the `wh` losses diverge they do so in the first few epochs.\r\n\r\nHowever, the switch from darknet to power method for the `wh` paremter needs to be done in multiple places in the code, not just in the loss function. This can make switching back and forth confusing, so we should probably parameterize a switch for these two methods. I'll add this to the TODO list for the next release.\r\n\r\nIMPORTANT: If you use the default `yolov3.weights` you should use the default darknet `wh` implementation. The power method should only be used when training a new model, and then all inference done on that model must also use the power method.\r\n\r\nThis issue has a comparison plot of the two methods:\r\nhttps://github.com/ultralytics/yolov3/issues/12#issuecomment-423531011","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/476868501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2231321513,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjIzMTMyMTUxMw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2231321513","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-03-26T21:59:12Z","rename":{"from":"nan values issue solved by the power method but still not optimally converging","to":"width-height loss divergence: 'darknet' method vs. 'power' method"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477121957","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-477121957","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":477121957,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzEyMTk1Nw==","user":{"login":"100330706","id":48351782,"node_id":"MDQ6VXNlcjQ4MzUxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/48351782?v=4","gravatar_id":"","url":"https://api.github.com/users/100330706","html_url":"https://github.com/100330706","followers_url":"https://api.github.com/users/100330706/followers","following_url":"https://api.github.com/users/100330706/following{/other_user}","gists_url":"https://api.github.com/users/100330706/gists{/gist_id}","starred_url":"https://api.github.com/users/100330706/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/100330706/subscriptions","organizations_url":"https://api.github.com/users/100330706/orgs","repos_url":"https://api.github.com/users/100330706/repos","events_url":"https://api.github.com/users/100330706/events{/privacy}","received_events_url":"https://api.github.com/users/100330706/received_events","type":"User","site_admin":false},"created_at":"2019-03-27T12:08:46Z","updated_at":"2019-03-27T12:08:46Z","author_association":"NONE","body":"@glenn-jocher Appreciate your response. So, occasionally not converging is supposed to be normal when using the darknet method, isn't it? Where else should be applied the power method? So far I've seen it commented in build_targets function and in the yolo layer. Would it work by uncommenting just these and commenting the darknet ones?\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477121957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"100330706","id":48351782,"node_id":"MDQ6VXNlcjQ4MzUxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/48351782?v=4","gravatar_id":"","url":"https://api.github.com/users/100330706","html_url":"https://github.com/100330706","followers_url":"https://api.github.com/users/100330706/followers","following_url":"https://api.github.com/users/100330706/following{/other_user}","gists_url":"https://api.github.com/users/100330706/gists{/gist_id}","starred_url":"https://api.github.com/users/100330706/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/100330706/subscriptions","organizations_url":"https://api.github.com/users/100330706/orgs","repos_url":"https://api.github.com/users/100330706/repos","events_url":"https://api.github.com/users/100330706/events{/privacy}","received_events_url":"https://api.github.com/users/100330706/received_events","type":"User","site_admin":false}},{"id":2232867164,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzMjg2NzE2NA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2232867164","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-27T12:08:46Z","performed_via_github_app":null},{"id":2232867165,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMzI4NjcxNjU=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2232867165","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-27T12:08:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477588965","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-477588965","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":477588965,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzU4ODk2NQ==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-03-28T13:13:13Z","updated_at":"2019-03-28T13:13:59Z","author_association":"MEMBER","body":"@100330706 yes, these are the two places you need to make the switch, and in ONNX export also if you plan to use that feature. Note that the power method currently trends from 0 to 4 as the input trends from negative infinity to positive infinity. The yolo method has unbounded outputs, causing it diverge on occasion as you've noticed.\r\n\r\nIf you feel you need higher `wh` anchor multiples than 4 in your scenario you can use a different exponent (i.e. 2^3 instead of 2^2 to range from 0-9). The beauty of this design, and the reason we selected it, is that the output will always equal 1 when the input equals zero, regardless of the exponent used (i.e. sigmoid(0)^x = 1 regardless of x). This is an important quality that centers the results given a random weight initialization.\r\n![comparison](https://user-images.githubusercontent.com/26833433/55160260-3a1b7180-5163-11e9-835b-5691dbd7c689.jpg)","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/477588965/reactions","total_count":4,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2236213579,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIzNjIxMzU3OQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236213579","actor":{"login":"100330706","id":48351782,"node_id":"MDQ6VXNlcjQ4MzUxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/48351782?v=4","gravatar_id":"","url":"https://api.github.com/users/100330706","html_url":"https://github.com/100330706","followers_url":"https://api.github.com/users/100330706/followers","following_url":"https://api.github.com/users/100330706/following{/other_user}","gists_url":"https://api.github.com/users/100330706/gists{/gist_id}","starred_url":"https://api.github.com/users/100330706/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/100330706/subscriptions","organizations_url":"https://api.github.com/users/100330706/orgs","repos_url":"https://api.github.com/users/100330706/repos","events_url":"https://api.github.com/users/100330706/events{/privacy}","received_events_url":"https://api.github.com/users/100330706/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:13:13Z","performed_via_github_app":null},{"id":2236213580,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMzYyMTM1ODA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236213580","actor":{"login":"100330706","id":48351782,"node_id":"MDQ6VXNlcjQ4MzUxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/48351782?v=4","gravatar_id":"","url":"https://api.github.com/users/100330706","html_url":"https://github.com/100330706","followers_url":"https://api.github.com/users/100330706/followers","following_url":"https://api.github.com/users/100330706/following{/other_user}","gists_url":"https://api.github.com/users/100330706/gists{/gist_id}","starred_url":"https://api.github.com/users/100330706/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/100330706/subscriptions","organizations_url":"https://api.github.com/users/100330706/orgs","repos_url":"https://api.github.com/users/100330706/repos","events_url":"https://api.github.com/users/100330706/events{/privacy}","received_events_url":"https://api.github.com/users/100330706/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:13:13Z","performed_via_github_app":null},{"id":2236216689,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjIzNjIxNjY4OQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236216689","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:14:19Z","rename":{"from":"width-height loss divergence: 'darknet' method vs. 'power' method","to":"width-height loss divergence: 'yolo' method vs. 'power' method"},"performed_via_github_app":null},{"id":2236314180,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyMzYzMTQxODA=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236314180","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:45:42Z","label":{"name":"question","color":"d876e3"},"performed_via_github_app":null},{"id":2236314184,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MjIzNjMxNDE4NA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2236314184","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2019-03-28T13:45:42Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":2266339431,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjI2NjMzOTQzMQ==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2266339431","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-04-10T14:43:56Z","rename":{"from":"width-height loss divergence: 'yolo' method vs. 'power' method","to":"width-height: 'yolo' method vs. 'power' method"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/481724580","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-481724580","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":481724580,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTcyNDU4MA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T14:53:18Z","updated_at":"2019-11-14T23:02:21Z","author_association":"MEMBER","body":"**TO SUMMARIZE**: The 'yolo' width-height (`wh`) method is the official darknet `wh` computation method. The 'power' method is a more stable implementation we created to address instability issues arising during training of custom data.\r\n- **If you are running inference from official weights** (i.e. yolov3.weight, yolov3-spp.pt, etc) DO NOT change the `wh` computation method, leave the 'yolo' method in place.\r\n- **If you are training custom data and your `wh` loss is diverging**, you can try swaping 'yolo' `wh` for 'power' `wh`. This change needs to occur in 2 seperate areas of the code. If in doubt, search your yolov3 path for `wh power` to find the instances:\r\n\r\nhttps://github.com/ultralytics/yolov3/blob/f0b4f9f4fb7af71076cc91c48cdf2c9043395ad8/utils/utils.py#L260-L269\r\n\r\nhttps://github.com/ultralytics/yolov3/blob/f0b4f9f4fb7af71076cc91c48cdf2c9043395ad8/models.py#L158-L165\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/481724580/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":3,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T14:56:01Z","updated_at":"2019-04-10T14:56:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/196","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/196/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/196/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/196/events","html_url":"https://github.com/ultralytics/yolov3/issues/196","id":430143867,"node_id":"MDU6SXNzdWU0MzAxNDM4Njc=","number":196,"title":"Some errors and need help","user":{"login":"Mysorrows","id":29940894,"node_id":"MDQ6VXNlcjI5OTQwODk0","avatar_url":"https://avatars.githubusercontent.com/u/29940894?v=4","gravatar_id":"","url":"https://api.github.com/users/Mysorrows","html_url":"https://github.com/Mysorrows","followers_url":"https://api.github.com/users/Mysorrows/followers","following_url":"https://api.github.com/users/Mysorrows/following{/other_user}","gists_url":"https://api.github.com/users/Mysorrows/gists{/gist_id}","starred_url":"https://api.github.com/users/Mysorrows/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mysorrows/subscriptions","organizations_url":"https://api.github.com/users/Mysorrows/orgs","repos_url":"https://api.github.com/users/Mysorrows/repos","events_url":"https://api.github.com/users/Mysorrows/events{/privacy}","received_events_url":"https://api.github.com/users/Mysorrows/received_events","type":"User","site_admin":false},"labels":[{"id":1035696370,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzcw","url":"https://api.github.com/repos/ultralytics/yolov3/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2019-04-07T13:07:07Z","updated_at":"2019-04-10T15:03:59Z","closed_at":"2019-04-10T11:43:25Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":146165888,"node_id":"MDEwOlJlcG9zaXRvcnkxNDYxNjU4ODg=","name":"yolov3","full_name":"ultralytics/yolov3","private":false,"owner":{"login":"ultralytics","id":26833451,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI2ODMzNDUx","avatar_url":"https://avatars.githubusercontent.com/u/26833451?v=4","gravatar_id":"","url":"https://api.github.com/users/ultralytics","html_url":"https://github.com/ultralytics","followers_url":"https://api.github.com/users/ultralytics/followers","following_url":"https://api.github.com/users/ultralytics/following{/other_user}","gists_url":"https://api.github.com/users/ultralytics/gists{/gist_id}","starred_url":"https://api.github.com/users/ultralytics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ultralytics/subscriptions","organizations_url":"https://api.github.com/users/ultralytics/orgs","repos_url":"https://api.github.com/users/ultralytics/repos","events_url":"https://api.github.com/users/ultralytics/events{/privacy}","received_events_url":"https://api.github.com/users/ultralytics/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/ultralytics/yolov3","description":"YOLOv3 in PyTorch > ONNX > CoreML > TFLite","fork":false,"url":"https://api.github.com/repos/ultralytics/yolov3","forks_url":"https://api.github.com/repos/ultralytics/yolov3/forks","keys_url":"https://api.github.com/repos/ultralytics/yolov3/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ultralytics/yolov3/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ultralytics/yolov3/teams","hooks_url":"https://api.github.com/repos/ultralytics/yolov3/hooks","issue_events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/events{/number}","events_url":"https://api.github.com/repos/ultralytics/yolov3/events","assignees_url":"https://api.github.com/repos/ultralytics/yolov3/assignees{/user}","branches_url":"https://api.github.com/repos/ultralytics/yolov3/branches{/branch}","tags_url":"https://api.github.com/repos/ultralytics/yolov3/tags","blobs_url":"https://api.github.com/repos/ultralytics/yolov3/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ultralytics/yolov3/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ultralytics/yolov3/git/refs{/sha}","trees_url":"https://api.github.com/repos/ultralytics/yolov3/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ultralytics/yolov3/statuses/{sha}","languages_url":"https://api.github.com/repos/ultralytics/yolov3/languages","stargazers_url":"https://api.github.com/repos/ultralytics/yolov3/stargazers","contributors_url":"https://api.github.com/repos/ultralytics/yolov3/contributors","subscribers_url":"https://api.github.com/repos/ultralytics/yolov3/subscribers","subscription_url":"https://api.github.com/repos/ultralytics/yolov3/subscription","commits_url":"https://api.github.com/repos/ultralytics/yolov3/commits{/sha}","git_commits_url":"https://api.github.com/repos/ultralytics/yolov3/git/commits{/sha}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/comments{/number}","issue_comment_url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments{/number}","contents_url":"https://api.github.com/repos/ultralytics/yolov3/contents/{+path}","compare_url":"https://api.github.com/repos/ultralytics/yolov3/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ultralytics/yolov3/merges","archive_url":"https://api.github.com/repos/ultralytics/yolov3/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ultralytics/yolov3/downloads","issues_url":"https://api.github.com/repos/ultralytics/yolov3/issues{/number}","pulls_url":"https://api.github.com/repos/ultralytics/yolov3/pulls{/number}","milestones_url":"https://api.github.com/repos/ultralytics/yolov3/milestones{/number}","notifications_url":"https://api.github.com/repos/ultralytics/yolov3/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ultralytics/yolov3/labels{/name}","releases_url":"https://api.github.com/repos/ultralytics/yolov3/releases{/id}","deployments_url":"https://api.github.com/repos/ultralytics/yolov3/deployments","created_at":"2018-08-26T08:57:20Z","updated_at":"2023-01-19T02:45:28Z","pushed_at":"2023-01-02T20:48:03Z","git_url":"git://github.com/ultralytics/yolov3.git","ssh_url":"git@github.com:ultralytics/yolov3.git","clone_url":"https://github.com/ultralytics/yolov3.git","svn_url":"https://github.com/ultralytics/yolov3","homepage":"https://ultralytics.com","size":9609,"stargazers_count":9265,"watchers_count":9265,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":3359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"gpl-3.0","name":"GNU General Public License v3.0","spdx_id":"GPL-3.0","url":"https://api.github.com/licenses/gpl-3.0","node_id":"MDc6TGljZW5zZTk="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["coreml","deep-learning","ios","machine-learning","ml","object-detection","onnx","pytorch","tflite","yolo","yolov3","yolov4","yolov5"],"visibility":"public","forks":3359,"open_issues":7,"watchers":9265,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"1. 'utils.py' . If only people are detected, is it only necessary to return to [1]?   \r\n\r\n`def coco80_to_coco91_class():  \r\n    x = [1]\r\n    return x\r\n`\r\n    \r\n  2.Why does the program stop at Calculate mAP when a loss value exceeds e+3?  I use the program of three days ago, when conf_loss exceeds e+3, it will reappear.\r\n\r\n  3.I am currently using Transfer learning to detect an object (people).  My training set has only 200 pictures, and the verification has only 100 pictures.  At present, its effect is very bad. The values of P, R MAP and F1 are very low, and in most cases are less than 0.01.  Can you give me some advice?\r\n\r\n  4.'train.py'.  When use transfer learn，the  value of 'start_epoch'  should be 0 instead of being obtained from the model?\r\n\r\n![12](https://user-images.githubusercontent.com/29940894/55683990-c6564180-5978-11e9-9056-d6f89d0eca4b.PNG)\r\n\r\n5.'train.py'.  If Transfer of learning is interrupted, the last training cannot be continued after the next use --resume. All gradients will be calculated at this time.\r\n\r\n6.Must the size of the picture be a multiple of 32?  Will the program scale to the default value of 416 pixels?\r\n\r\n**Desktop:**\r\n - OS: [linux]\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/196/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T22:50:17Z","updated_at":"2019-04-10T22:50:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/197","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/197/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/197/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/197/events","html_url":"https://github.com/ultralytics/yolov3/issues/197","id":430234365,"node_id":"MDU6SXNzdWU0MzAyMzQzNjU=","number":197,"title":"mAP and detection not working","user":{"login":"Ownmarc","id":24617457,"node_id":"MDQ6VXNlcjI0NjE3NDU3","avatar_url":"https://avatars.githubusercontent.com/u/24617457?v=4","gravatar_id":"","url":"https://api.github.com/users/Ownmarc","html_url":"https://github.com/Ownmarc","followers_url":"https://api.github.com/users/Ownmarc/followers","following_url":"https://api.github.com/users/Ownmarc/following{/other_user}","gists_url":"https://api.github.com/users/Ownmarc/gists{/gist_id}","starred_url":"https://api.github.com/users/Ownmarc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ownmarc/subscriptions","organizations_url":"https://api.github.com/users/Ownmarc/orgs","repos_url":"https://api.github.com/users/Ownmarc/repos","events_url":"https://api.github.com/users/Ownmarc/events{/privacy}","received_events_url":"https://api.github.com/users/Ownmarc/received_events","type":"User","site_admin":false},"labels":[{"id":1035696370,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzcw","url":"https://api.github.com/repos/ultralytics/yolov3/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":42,"created_at":"2019-04-08T02:59:32Z","updated_at":"2021-01-26T19:34:56Z","closed_at":"2019-04-12T20:03:49Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"repository":{"id":146165888,"node_id":"MDEwOlJlcG9zaXRvcnkxNDYxNjU4ODg=","name":"yolov3","full_name":"ultralytics/yolov3","private":false,"owner":{"login":"ultralytics","id":26833451,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI2ODMzNDUx","avatar_url":"https://avatars.githubusercontent.com/u/26833451?v=4","gravatar_id":"","url":"https://api.github.com/users/ultralytics","html_url":"https://github.com/ultralytics","followers_url":"https://api.github.com/users/ultralytics/followers","following_url":"https://api.github.com/users/ultralytics/following{/other_user}","gists_url":"https://api.github.com/users/ultralytics/gists{/gist_id}","starred_url":"https://api.github.com/users/ultralytics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ultralytics/subscriptions","organizations_url":"https://api.github.com/users/ultralytics/orgs","repos_url":"https://api.github.com/users/ultralytics/repos","events_url":"https://api.github.com/users/ultralytics/events{/privacy}","received_events_url":"https://api.github.com/users/ultralytics/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/ultralytics/yolov3","description":"YOLOv3 in PyTorch > ONNX > CoreML > TFLite","fork":false,"url":"https://api.github.com/repos/ultralytics/yolov3","forks_url":"https://api.github.com/repos/ultralytics/yolov3/forks","keys_url":"https://api.github.com/repos/ultralytics/yolov3/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ultralytics/yolov3/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ultralytics/yolov3/teams","hooks_url":"https://api.github.com/repos/ultralytics/yolov3/hooks","issue_events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/events{/number}","events_url":"https://api.github.com/repos/ultralytics/yolov3/events","assignees_url":"https://api.github.com/repos/ultralytics/yolov3/assignees{/user}","branches_url":"https://api.github.com/repos/ultralytics/yolov3/branches{/branch}","tags_url":"https://api.github.com/repos/ultralytics/yolov3/tags","blobs_url":"https://api.github.com/repos/ultralytics/yolov3/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ultralytics/yolov3/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ultralytics/yolov3/git/refs{/sha}","trees_url":"https://api.github.com/repos/ultralytics/yolov3/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ultralytics/yolov3/statuses/{sha}","languages_url":"https://api.github.com/repos/ultralytics/yolov3/languages","stargazers_url":"https://api.github.com/repos/ultralytics/yolov3/stargazers","contributors_url":"https://api.github.com/repos/ultralytics/yolov3/contributors","subscribers_url":"https://api.github.com/repos/ultralytics/yolov3/subscribers","subscription_url":"https://api.github.com/repos/ultralytics/yolov3/subscription","commits_url":"https://api.github.com/repos/ultralytics/yolov3/commits{/sha}","git_commits_url":"https://api.github.com/repos/ultralytics/yolov3/git/commits{/sha}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/comments{/number}","issue_comment_url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments{/number}","contents_url":"https://api.github.com/repos/ultralytics/yolov3/contents/{+path}","compare_url":"https://api.github.com/repos/ultralytics/yolov3/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ultralytics/yolov3/merges","archive_url":"https://api.github.com/repos/ultralytics/yolov3/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ultralytics/yolov3/downloads","issues_url":"https://api.github.com/repos/ultralytics/yolov3/issues{/number}","pulls_url":"https://api.github.com/repos/ultralytics/yolov3/pulls{/number}","milestones_url":"https://api.github.com/repos/ultralytics/yolov3/milestones{/number}","notifications_url":"https://api.github.com/repos/ultralytics/yolov3/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ultralytics/yolov3/labels{/name}","releases_url":"https://api.github.com/repos/ultralytics/yolov3/releases{/id}","deployments_url":"https://api.github.com/repos/ultralytics/yolov3/deployments","created_at":"2018-08-26T08:57:20Z","updated_at":"2023-01-19T02:45:28Z","pushed_at":"2023-01-02T20:48:03Z","git_url":"git://github.com/ultralytics/yolov3.git","ssh_url":"git@github.com:ultralytics/yolov3.git","clone_url":"https://github.com/ultralytics/yolov3.git","svn_url":"https://github.com/ultralytics/yolov3","homepage":"https://ultralytics.com","size":9609,"stargazers_count":9265,"watchers_count":9265,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":3359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"gpl-3.0","name":"GNU General Public License v3.0","spdx_id":"GPL-3.0","url":"https://api.github.com/licenses/gpl-3.0","node_id":"MDc6TGljZW5zZTk="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["coreml","deep-learning","ios","machine-learning","ml","object-detection","onnx","pytorch","tflite","yolo","yolov3","yolov4","yolov5"],"visibility":"public","forks":3359,"open_issues":7,"watchers":9265,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I think there is something wrong with the scaling of the bounding boxes. My mAP is always at zero even if my training is going well. Also, when I use detect.py, the bounding boxes are at the right places, but are really small.\r\n\r\nI didn't touch anything in util.py and my .txt files for the images are right.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/197/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-05-31T11:18:14Z","updated_at":"2019-05-31T11:18:14Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/307","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/307/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/307/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/307/events","html_url":"https://github.com/ultralytics/yolov3/issues/307","id":450596660,"node_id":"MDU6SXNzdWU0NTA1OTY2NjA=","number":307,"title":"Divergent wh (width-height) loss","user":{"login":"peterhsu2018","id":13391145,"node_id":"MDQ6VXNlcjEzMzkxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13391145?v=4","gravatar_id":"","url":"https://api.github.com/users/peterhsu2018","html_url":"https://github.com/peterhsu2018","followers_url":"https://api.github.com/users/peterhsu2018/followers","following_url":"https://api.github.com/users/peterhsu2018/following{/other_user}","gists_url":"https://api.github.com/users/peterhsu2018/gists{/gist_id}","starred_url":"https://api.github.com/users/peterhsu2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peterhsu2018/subscriptions","organizations_url":"https://api.github.com/users/peterhsu2018/orgs","repos_url":"https://api.github.com/users/peterhsu2018/repos","events_url":"https://api.github.com/users/peterhsu2018/events{/privacy}","received_events_url":"https://api.github.com/users/peterhsu2018/received_events","type":"User","site_admin":false},"labels":[{"id":1035696372,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzcy","url":"https://api.github.com/repos/ultralytics/yolov3/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-05-31T03:20:42Z","updated_at":"2019-06-03T02:08:19Z","closed_at":"2019-06-03T02:08:19Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":146165888,"node_id":"MDEwOlJlcG9zaXRvcnkxNDYxNjU4ODg=","name":"yolov3","full_name":"ultralytics/yolov3","private":false,"owner":{"login":"ultralytics","id":26833451,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI2ODMzNDUx","avatar_url":"https://avatars.githubusercontent.com/u/26833451?v=4","gravatar_id":"","url":"https://api.github.com/users/ultralytics","html_url":"https://github.com/ultralytics","followers_url":"https://api.github.com/users/ultralytics/followers","following_url":"https://api.github.com/users/ultralytics/following{/other_user}","gists_url":"https://api.github.com/users/ultralytics/gists{/gist_id}","starred_url":"https://api.github.com/users/ultralytics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ultralytics/subscriptions","organizations_url":"https://api.github.com/users/ultralytics/orgs","repos_url":"https://api.github.com/users/ultralytics/repos","events_url":"https://api.github.com/users/ultralytics/events{/privacy}","received_events_url":"https://api.github.com/users/ultralytics/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/ultralytics/yolov3","description":"YOLOv3 in PyTorch > ONNX > CoreML > TFLite","fork":false,"url":"https://api.github.com/repos/ultralytics/yolov3","forks_url":"https://api.github.com/repos/ultralytics/yolov3/forks","keys_url":"https://api.github.com/repos/ultralytics/yolov3/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ultralytics/yolov3/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ultralytics/yolov3/teams","hooks_url":"https://api.github.com/repos/ultralytics/yolov3/hooks","issue_events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/events{/number}","events_url":"https://api.github.com/repos/ultralytics/yolov3/events","assignees_url":"https://api.github.com/repos/ultralytics/yolov3/assignees{/user}","branches_url":"https://api.github.com/repos/ultralytics/yolov3/branches{/branch}","tags_url":"https://api.github.com/repos/ultralytics/yolov3/tags","blobs_url":"https://api.github.com/repos/ultralytics/yolov3/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ultralytics/yolov3/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ultralytics/yolov3/git/refs{/sha}","trees_url":"https://api.github.com/repos/ultralytics/yolov3/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ultralytics/yolov3/statuses/{sha}","languages_url":"https://api.github.com/repos/ultralytics/yolov3/languages","stargazers_url":"https://api.github.com/repos/ultralytics/yolov3/stargazers","contributors_url":"https://api.github.com/repos/ultralytics/yolov3/contributors","subscribers_url":"https://api.github.com/repos/ultralytics/yolov3/subscribers","subscription_url":"https://api.github.com/repos/ultralytics/yolov3/subscription","commits_url":"https://api.github.com/repos/ultralytics/yolov3/commits{/sha}","git_commits_url":"https://api.github.com/repos/ultralytics/yolov3/git/commits{/sha}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/comments{/number}","issue_comment_url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments{/number}","contents_url":"https://api.github.com/repos/ultralytics/yolov3/contents/{+path}","compare_url":"https://api.github.com/repos/ultralytics/yolov3/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ultralytics/yolov3/merges","archive_url":"https://api.github.com/repos/ultralytics/yolov3/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ultralytics/yolov3/downloads","issues_url":"https://api.github.com/repos/ultralytics/yolov3/issues{/number}","pulls_url":"https://api.github.com/repos/ultralytics/yolov3/pulls{/number}","milestones_url":"https://api.github.com/repos/ultralytics/yolov3/milestones{/number}","notifications_url":"https://api.github.com/repos/ultralytics/yolov3/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ultralytics/yolov3/labels{/name}","releases_url":"https://api.github.com/repos/ultralytics/yolov3/releases{/id}","deployments_url":"https://api.github.com/repos/ultralytics/yolov3/deployments","created_at":"2018-08-26T08:57:20Z","updated_at":"2023-01-19T02:45:28Z","pushed_at":"2023-01-02T20:48:03Z","git_url":"git://github.com/ultralytics/yolov3.git","ssh_url":"git@github.com:ultralytics/yolov3.git","clone_url":"https://github.com/ultralytics/yolov3.git","svn_url":"https://github.com/ultralytics/yolov3","homepage":"https://ultralytics.com","size":9609,"stargazers_count":9265,"watchers_count":9265,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":3359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"gpl-3.0","name":"GNU General Public License v3.0","spdx_id":"GPL-3.0","url":"https://api.github.com/licenses/gpl-3.0","node_id":"MDc6TGljZW5zZTk="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["coreml","deep-learning","ios","machine-learning","ml","object-detection","onnx","pytorch","tflite","yolo","yolov3","yolov4","yolov5"],"visibility":"public","forks":3359,"open_issues":7,"watchers":9265,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello, i have a question about the hyperparameters setting in train.py,\r\nthe learning rate here and in my .cfg if different, what's the value will be used?\r\n![Screenshot from 2019-05-31 11-55-23](https://user-images.githubusercontent.com/13391145/58680620-1bbc3700-839b-11e9-8903-611c7818152b.png)\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/307/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/513560623","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-513560623","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":513560623,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzU2MDYyMw==","user":{"login":"sanazss","id":43985794,"node_id":"MDQ6VXNlcjQzOTg1Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/43985794?v=4","gravatar_id":"","url":"https://api.github.com/users/sanazss","html_url":"https://github.com/sanazss","followers_url":"https://api.github.com/users/sanazss/followers","following_url":"https://api.github.com/users/sanazss/following{/other_user}","gists_url":"https://api.github.com/users/sanazss/gists{/gist_id}","starred_url":"https://api.github.com/users/sanazss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanazss/subscriptions","organizations_url":"https://api.github.com/users/sanazss/orgs","repos_url":"https://api.github.com/users/sanazss/repos","events_url":"https://api.github.com/users/sanazss/events{/privacy}","received_events_url":"https://api.github.com/users/sanazss/received_events","type":"User","site_admin":false},"created_at":"2019-07-21T14:46:43Z","updated_at":"2019-07-21T14:46:43Z","author_association":"NONE","body":"so all img values are change to the color default you put in the letterbox function. color = 127.5, 127.5, 127.5. they round up to 128. is it the logic behind it? because there is nothing else that could change all values of img to 128 in coco dataset. what if one uses gray images these numbers should change?","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/513560623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sanazss","id":43985794,"node_id":"MDQ6VXNlcjQzOTg1Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/43985794?v=4","gravatar_id":"","url":"https://api.github.com/users/sanazss","html_url":"https://github.com/sanazss","followers_url":"https://api.github.com/users/sanazss/followers","following_url":"https://api.github.com/users/sanazss/following{/other_user}","gists_url":"https://api.github.com/users/sanazss/gists{/gist_id}","starred_url":"https://api.github.com/users/sanazss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanazss/subscriptions","organizations_url":"https://api.github.com/users/sanazss/orgs","repos_url":"https://api.github.com/users/sanazss/repos","events_url":"https://api.github.com/users/sanazss/events{/privacy}","received_events_url":"https://api.github.com/users/sanazss/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/513585526","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-513585526","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":513585526,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzU4NTUyNg==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-07-21T20:34:28Z","updated_at":"2019-07-21T20:34:28Z","author_association":"MEMBER","body":"@sanazss this is grey padding.","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/513585526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2498234136,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ5ODIzNDEzNg==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2498234136","actor":{"login":"sanazss","id":43985794,"node_id":"MDQ6VXNlcjQzOTg1Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/43985794?v=4","gravatar_id":"","url":"https://api.github.com/users/sanazss","html_url":"https://github.com/sanazss","followers_url":"https://api.github.com/users/sanazss/followers","following_url":"https://api.github.com/users/sanazss/following{/other_user}","gists_url":"https://api.github.com/users/sanazss/gists{/gist_id}","starred_url":"https://api.github.com/users/sanazss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanazss/subscriptions","organizations_url":"https://api.github.com/users/sanazss/orgs","repos_url":"https://api.github.com/users/sanazss/repos","events_url":"https://api.github.com/users/sanazss/events{/privacy}","received_events_url":"https://api.github.com/users/sanazss/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-21T20:34:28Z","performed_via_github_app":null},{"id":2498234137,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0OTgyMzQxMzc=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2498234137","actor":{"login":"sanazss","id":43985794,"node_id":"MDQ6VXNlcjQzOTg1Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/43985794?v=4","gravatar_id":"","url":"https://api.github.com/users/sanazss","html_url":"https://github.com/sanazss","followers_url":"https://api.github.com/users/sanazss/followers","following_url":"https://api.github.com/users/sanazss/following{/other_user}","gists_url":"https://api.github.com/users/sanazss/gists{/gist_id}","starred_url":"https://api.github.com/users/sanazss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanazss/subscriptions","organizations_url":"https://api.github.com/users/sanazss/orgs","repos_url":"https://api.github.com/users/sanazss/repos","events_url":"https://api.github.com/users/sanazss/events{/privacy}","received_events_url":"https://api.github.com/users/sanazss/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-21T20:34:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/554104324","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-554104324","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":554104324,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDEwNDMyNA==","user":{"login":"bchugg","id":18011852,"node_id":"MDQ6VXNlcjE4MDExODUy","avatar_url":"https://avatars.githubusercontent.com/u/18011852?v=4","gravatar_id":"","url":"https://api.github.com/users/bchugg","html_url":"https://github.com/bchugg","followers_url":"https://api.github.com/users/bchugg/followers","following_url":"https://api.github.com/users/bchugg/following{/other_user}","gists_url":"https://api.github.com/users/bchugg/gists{/gist_id}","starred_url":"https://api.github.com/users/bchugg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bchugg/subscriptions","organizations_url":"https://api.github.com/users/bchugg/orgs","repos_url":"https://api.github.com/users/bchugg/repos","events_url":"https://api.github.com/users/bchugg/events{/privacy}","received_events_url":"https://api.github.com/users/bchugg/received_events","type":"User","site_admin":false},"created_at":"2019-11-14T22:12:12Z","updated_at":"2019-11-15T01:24:24Z","author_association":"NONE","body":"@glenn-jocher I believe in the newest implementation there are only two places where one needs to make this change (doesn't seem like it needs to be done in build-targets). If this is right, could be useful to update your summary to avoid confusion. If this is wrong, then I'd love to know where else to make the change. My loss currently diverges if using the yolo method, but P, R, mAP and F1 all remain zero when using the power method. Odd. ","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/554104324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bchugg","id":18011852,"node_id":"MDQ6VXNlcjE4MDExODUy","avatar_url":"https://avatars.githubusercontent.com/u/18011852?v=4","gravatar_id":"","url":"https://api.github.com/users/bchugg","html_url":"https://github.com/bchugg","followers_url":"https://api.github.com/users/bchugg/followers","following_url":"https://api.github.com/users/bchugg/following{/other_user}","gists_url":"https://api.github.com/users/bchugg/gists{/gist_id}","starred_url":"https://api.github.com/users/bchugg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bchugg/subscriptions","organizations_url":"https://api.github.com/users/bchugg/orgs","repos_url":"https://api.github.com/users/bchugg/repos","events_url":"https://api.github.com/users/bchugg/events{/privacy}","received_events_url":"https://api.github.com/users/bchugg/received_events","type":"User","site_admin":false}},{"id":2800756870,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjgwMDc1Njg3MA==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2800756870","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-14T22:12:12Z","performed_via_github_app":null},{"id":2800756873,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4MDA3NTY4NzM=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2800756873","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-14T22:12:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/554123838","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-554123838","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":554123838,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDEyMzgzOA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-11-14T23:01:45Z","updated_at":"2019-11-14T23:07:55Z","author_association":"MEMBER","body":"@bchugg it's true that the darknet/power method is subject to divergence (as is clear from the plot above). The introduction of GIoU has _mostly_ suppressed instances of this happening, though it still does happen on occasion, typically when GIoU hyperparameter or  SGD LR are set too high.\r\n\r\nYou are correct also, the introduction of GIoU removed the w/h calculation from build_targets. I will update the  'TO SUMMARIZE' comment above!\r\n\r\nIn any case, to keep things simple for you, I would leave the wh method to the default and simply reduce your GIoU gain or SGD LR hyperparameters:\r\n\r\nhttps://github.com/ultralytics/yolov3/blob/a96e010251372ad675c4b0ef0ad4da85da3ade49/train.py#L23-L30","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/554123838/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"id":2800877437,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjgwMDg3NzQzNw==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2800877437","actor":{"login":"bchugg","id":18011852,"node_id":"MDQ6VXNlcjE4MDExODUy","avatar_url":"https://avatars.githubusercontent.com/u/18011852?v=4","gravatar_id":"","url":"https://api.github.com/users/bchugg","html_url":"https://github.com/bchugg","followers_url":"https://api.github.com/users/bchugg/followers","following_url":"https://api.github.com/users/bchugg/following{/other_user}","gists_url":"https://api.github.com/users/bchugg/gists{/gist_id}","starred_url":"https://api.github.com/users/bchugg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bchugg/subscriptions","organizations_url":"https://api.github.com/users/bchugg/orgs","repos_url":"https://api.github.com/users/bchugg/repos","events_url":"https://api.github.com/users/bchugg/events{/privacy}","received_events_url":"https://api.github.com/users/bchugg/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-14T23:01:45Z","performed_via_github_app":null},{"id":2800877438,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4MDA4Nzc0Mzg=","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2800877438","actor":{"login":"bchugg","id":18011852,"node_id":"MDQ6VXNlcjE4MDExODUy","avatar_url":"https://avatars.githubusercontent.com/u/18011852?v=4","gravatar_id":"","url":"https://api.github.com/users/bchugg","html_url":"https://github.com/bchugg","followers_url":"https://api.github.com/users/bchugg/followers","following_url":"https://api.github.com/users/bchugg/following{/other_user}","gists_url":"https://api.github.com/users/bchugg/gists{/gist_id}","starred_url":"https://api.github.com/users/bchugg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bchugg/subscriptions","organizations_url":"https://api.github.com/users/bchugg/orgs","repos_url":"https://api.github.com/users/bchugg/repos","events_url":"https://api.github.com/users/bchugg/events{/privacy}","received_events_url":"https://api.github.com/users/bchugg/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-14T23:01:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/557850068","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-557850068","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":557850068,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Nzg1MDA2OA==","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"created_at":"2019-11-24T01:57:50Z","updated_at":"2019-11-24T01:57:50Z","author_association":"MEMBER","body":"I've clamped the wh output to max=1E4 now to prevent wh divergence. This should resolve the issue completely now.\r\nhttps://github.com/ultralytics/yolov3/blob/b027c660489399ad30562e17e2a1a2e008176048/utils/utils.py#L342","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/557850068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/573005485","html_url":"https://github.com/ultralytics/yolov3/issues/168#issuecomment-573005485","issue_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","id":573005485,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzAwNTQ4NQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2020-01-10T11:49:46Z","updated_at":"2020-01-10T11:58:38Z","author_association":"NONE","body":"@glenn-jocher i was implementing yolov2 from scratch for face detection and encountered the same issue as loss going nan just because of wh_loss term. So i came across this power method u have developed , and started training it using power method , but observed that exploding gradients problem is gone now but the model is not converging to an acceptable optimal state and loss is getting stagnant after some 1000 epochs to 15.xx loss. so i have some questions which i hope u can help me with :\r\n1)  while building the targets , the w and h dimensions have to log transformed or just in the scale of grid. by doing something like this :\r\n              g_wh = g_wh / (image_w)\r\n2)  the power method u have referred to , does it look something like this :\r\n               wh_loss = clamp(exp(sigmoid(g_wh)) , 1e4) * anchor_dimension . \r\nif not can you please correct the loss equation .\r\n\r\n3) During inference the wh transformation looks something like this :\r\n             p_wh = exp(wh) * anchor_dimension .\r\n  is this way of inferencing correct.\r\n\r\nalso , i am using MSE for regression loss\r\n\r\nthanks.\r\n","reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/comments/573005485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false}},{"id":2938262872,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkzODI2Mjg3Mg==","url":"https://api.github.com/repos/ultralytics/yolov3/issues/events/2938262872","actor":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-10T11:49:46Z","performed_via_github_app":null}]