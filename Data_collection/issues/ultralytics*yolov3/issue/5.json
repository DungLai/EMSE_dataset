{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/5","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/5/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/5/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/5/events","html_url":"https://github.com/ultralytics/yolov3/issues/5","id":357252947,"node_id":"MDU6SXNzdWUzNTcyNTI5NDc=","number":5,"title":"mAP Computation in test.py","user":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"labels":[{"id":1035696371,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzcx","url":"https://api.github.com/repos/ultralytics/yolov3/labels/duplicate","name":"duplicate","color":"cfd3d7","default":true,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-09-05T14:20:53Z","updated_at":"2018-09-19T22:43:51Z","closed_at":"2018-09-19T22:43:51Z","author_association":"MEMBER","active_lock_reason":null,"body":"COCO2014 mAP computation on official YOLOv3 weights corresponds to expected value of 0.58 (same as darknet), but mAP computation on trained checkpoints seems higher than should be. In particular many false positives do not seem to negatively impact mAP.\r\n\r\nFor example validation image 2 should have 4 people and 1 baseball bat. At epoch 37, I see ~140 objects detected. Precision and Recall look like this:\r\n![figure_1](https://user-images.githubusercontent.com/26833433/45099019-974bc900-b126-11e8-971a-0195c6adc773.png)\r\n\r\nPrecision-Recall curve looks like this:\r\n![figure_1](https://user-images.githubusercontent.com/26833433/45099107-d24dfc80-b126-11e8-8091-95097a9fcbec.png)\r\n\r\nAP for this image is then calculated as 0.78, which is strangely high for 4 TP and ~140 FP's.\r\n``` python\r\nAP = compute_ap(recall, precision)\r\nOut[66]: 0.78596\r\n```\r\n\r\nLastly, I believe mAP is supposed to be calculated per class in each image, but here all the classes seem combined.","closed_by":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/5/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/5/timeline","performed_via_github_app":null,"state_reason":"completed"}