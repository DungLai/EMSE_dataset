{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/740","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/740/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/740/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/740/events","html_url":"https://github.com/ultralytics/yolov3/issues/740","id":542150555,"node_id":"MDU6SXNzdWU1NDIxNTA1NTU=","number":740,"title":"Train custom data issue","user":{"login":"YANGYUFEI1234","id":48313636,"node_id":"MDQ6VXNlcjQ4MzEzNjM2","avatar_url":"https://avatars.githubusercontent.com/u/48313636?v=4","gravatar_id":"","url":"https://api.github.com/users/YANGYUFEI1234","html_url":"https://github.com/YANGYUFEI1234","followers_url":"https://api.github.com/users/YANGYUFEI1234/followers","following_url":"https://api.github.com/users/YANGYUFEI1234/following{/other_user}","gists_url":"https://api.github.com/users/YANGYUFEI1234/gists{/gist_id}","starred_url":"https://api.github.com/users/YANGYUFEI1234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YANGYUFEI1234/subscriptions","organizations_url":"https://api.github.com/users/YANGYUFEI1234/orgs","repos_url":"https://api.github.com/users/YANGYUFEI1234/repos","events_url":"https://api.github.com/users/YANGYUFEI1234/events{/privacy}","received_events_url":"https://api.github.com/users/YANGYUFEI1234/received_events","type":"User","site_admin":false},"labels":[{"id":1035696370,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzcw","url":"https://api.github.com/repos/ultralytics/yolov3/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-12-24T14:52:31Z","updated_at":"2020-01-16T19:11:59Z","closed_at":"2020-01-16T19:11:58Z","author_association":"NONE","active_lock_reason":null,"body":"## üêõ Bug\r\nThank you for sharing your project !!!\r\nTraining custom data which has two classes, if I don't modify the filtersize and numclasses in '.cfg' file, everything works fine, I can train and detect normally. (Actually I forget to change the 'cfg' file at the beginning)\r\nHowever if I modify the filtersize to 21, which is (3*(5+2)), and numclasses in yolo layer to 2. \r\nP, R, mAP are always zero, I don't know whether it is a bug or my fault.\r\nI know it seems like I should set default weights to nothing rather than the former default value as training from scratch, but it still doesn't work.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Download ZIP from [https://drive.google.com/file/d/17Fi8F1G138cMuD8tYdWP4BZC9cs32cZ/view?usp=sharing](url)\r\n2. Move all the files except 'yolov3-spp-swim.cfg' in this ZIP to 'data' folder in yolov3 project\r\n3. Move 'yolov3-spp-swim.cfg' to 'cfg' folder in yolov3 project\r\n4. run `python3 train.py --device 0 --data data/swim.data --cfg cfg/yolov3-spp-swim.cfg`\r\n\r\n\r\n\r\n## Expected behavior\r\nread 96 images for training and corresponding labels\r\nread 10 images for training and corresponding labels\r\nAnd then comes with P, R, mAP are all equals to zero no matter how many epochs\r\n![image](https://user-images.githubusercontent.com/48313636/71417620-45271200-26a1-11ea-98e0-0f1039dd911d.png)\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n","closed_by":{"login":"glenn-jocher","id":26833433,"node_id":"MDQ6VXNlcjI2ODMzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/26833433?v=4","gravatar_id":"","url":"https://api.github.com/users/glenn-jocher","html_url":"https://github.com/glenn-jocher","followers_url":"https://api.github.com/users/glenn-jocher/followers","following_url":"https://api.github.com/users/glenn-jocher/following{/other_user}","gists_url":"https://api.github.com/users/glenn-jocher/gists{/gist_id}","starred_url":"https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenn-jocher/subscriptions","organizations_url":"https://api.github.com/users/glenn-jocher/orgs","repos_url":"https://api.github.com/users/glenn-jocher/repos","events_url":"https://api.github.com/users/glenn-jocher/events{/privacy}","received_events_url":"https://api.github.com/users/glenn-jocher/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/740/timeline","performed_via_github_app":null,"state_reason":"completed"}