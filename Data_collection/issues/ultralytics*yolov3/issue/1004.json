{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1004","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1004/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1004/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1004/events","html_url":"https://github.com/ultralytics/yolov3/issues/1004","id":593183571,"node_id":"MDU6SXNzdWU1OTMxODM1NzE=","number":1004,"title":"Exception with NMS when using gpus","user":{"login":"chrisway613","id":15081843,"node_id":"MDQ6VXNlcjE1MDgxODQz","avatar_url":"https://avatars.githubusercontent.com/u/15081843?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisway613","html_url":"https://github.com/chrisway613","followers_url":"https://api.github.com/users/chrisway613/followers","following_url":"https://api.github.com/users/chrisway613/following{/other_user}","gists_url":"https://api.github.com/users/chrisway613/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisway613/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisway613/subscriptions","organizations_url":"https://api.github.com/users/chrisway613/orgs","repos_url":"https://api.github.com/users/chrisway613/repos","events_url":"https://api.github.com/users/chrisway613/events{/privacy}","received_events_url":"https://api.github.com/users/chrisway613/received_events","type":"User","site_admin":false},"labels":[{"id":1890885613,"node_id":"MDU6TGFiZWwxODkwODg1NjEz","url":"https://api.github.com/repos/ultralytics/yolov3/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-04-03T07:40:00Z","updated_at":"2020-05-10T00:08:05Z","closed_at":"2020-05-10T00:08:05Z","author_association":"NONE","active_lock_reason":null,"body":"When I run:\r\n nohup python detect.py --cfg cfg/yolov3.cfg --weights weights/yolov3.pt --device 1,3 --save-txt > detect.log 2>&1 & \r\n\r\nit got the error as below:\r\n\r\n```\r\nimage 1/2 data/samples/bus.jpg: Traceback (most recent call last):\r\n  File \"detect.py\", line 179, in <module>\r\n    detect()\r\n  File \"detect.py\", line 91, in detect\r\n    pred = non_max_suppression(pred, opt.conf_thres, opt.iou_thres, classes=opt.classes, agnostic=opt.agnostic_nms)\r\n  File \"/root/private/yolov3/utils/utils.py\", line 557, in non_max_suppression\r\n    i = torchvision.ops.boxes.nms(boxes, scores, iou_thres)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torchvision/ops/boxes.py\", line 31, in nms\r\n    return torch.ops.torchvision.nms(boxes, scores, iou_threshold)\r\nRuntimeError: Not compiled with GPU support (nms at /tmp/pip-req-build-dkbjnmj4/torchvision/csrc/nms.h:20)\r\nframe #0: c10::Error::Error(c10::SourceLocation, std::string const&) + 0x33 (0x7fba5fd55813 in /usr/local/lib/python3.6/dist-packages/torch/lib/libc10.so)\r\nframe #1: nms(at::Tensor const&, at::Tensor const&, double) + 0x113 (0x7fba4a0ebc03 in /usr/local/lib/python3.6/dist-packages/torchvision/_C.so)\r\nframe #2: c10::detail::wrap_kernel_functor_boxed<c10::detail::WrapRuntimeKernelFunctor_<at::Tensor (*)(at::Tensor const&, at::Tensor const&, double), at::Tensor, c10::guts::typelist::typelist<at::Tensor const&, at::Tensor const&, double> >, true, void>::call(c10::OperatorKernel*, std::vector<c10::IValue, std::allocator<c10::IValue> >*) + 0x77 (0x7fba4a0ff757 in /usr/local/lib/python3.6/dist-packages/torchvision/_C.so)\r\nframe #3: <unknown function> + 0x31d9729 (0x7fb97c23c729 in /usr/local/lib/python3.6/dist-packages/torch/lib/libtorch.so)\r\nframe #4: <unknown function> + 0x3e16013 (0x7fb97ce79013 in /usr/local/lib/python3.6/dist-packages/torch/lib/libtorch.so)\r\nframe #5: <unknown function> + 0x4fe43c (0x7fba60e4f43c in /usr/local/lib/python3.6/dist-packages/torch/lib/libtorch_python.so)\r\nframe #6: <unknown function> + 0x4ccda4 (0x7fba60e1dda4 in /usr/local/lib/python3.6/dist-packages/torch/lib/libtorch_python.so)\r\nframe #7: <unknown function> + 0x2110f4 (0x7fba60b620f4 in /usr/local/lib/python3.6/dist-packages/torch/lib/libtorch_python.so)\r\nframe #8: python() [0x50abc5]\r\n<omitting python frames>\r\nframe #10: python() [0x509ce8]\r\nframe #11: python() [0x50aa1d]\r\nframe #13: python() [0x5081d5]\r\nframe #14: python() [0x50a020]\r\nframe #15: python() [0x50aa1d]\r\nframe #17: python() [0x5064a4]\r\nframe #18: python() [0x50aa1d]\r\nframe #20: python() [0x5081d5]\r\nframe #22: python() [0x635082]\r\nframe #27: __libc_start_main + 0xe7 (0x7fba65454b97 in /lib/x86_64-linux-gnu/libc.so.6)\r\n```\r\n\r\nmaybe I should compile sth for torchvision.ops.boxes.nms?\r\nif so, how to do it?\r\nps: my pytorch version is 1.3, or is this reason?","closed_by":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1004/timeline","performed_via_github_app":null,"state_reason":"completed"}