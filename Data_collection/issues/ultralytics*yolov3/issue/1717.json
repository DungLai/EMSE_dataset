{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1717","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1717/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1717/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1717/events","html_url":"https://github.com/ultralytics/yolov3/issues/1717","id":832318197,"node_id":"MDU6SXNzdWU4MzIzMTgxOTc=","number":1717,"title":"so much virtual memory used during training","user":{"login":"ardeal","id":6227348,"node_id":"MDQ6VXNlcjYyMjczNDg=","avatar_url":"https://avatars.githubusercontent.com/u/6227348?v=4","gravatar_id":"","url":"https://api.github.com/users/ardeal","html_url":"https://github.com/ardeal","followers_url":"https://api.github.com/users/ardeal/followers","following_url":"https://api.github.com/users/ardeal/following{/other_user}","gists_url":"https://api.github.com/users/ardeal/gists{/gist_id}","starred_url":"https://api.github.com/users/ardeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ardeal/subscriptions","organizations_url":"https://api.github.com/users/ardeal/orgs","repos_url":"https://api.github.com/users/ardeal/repos","events_url":"https://api.github.com/users/ardeal/events{/privacy}","received_events_url":"https://api.github.com/users/ardeal/received_events","type":"User","site_admin":false},"labels":[{"id":1035696376,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzc2","url":"https://api.github.com/repos/ultralytics/yolov3/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"},{"id":1890885613,"node_id":"MDU6TGFiZWwxODkwODg1NjEz","url":"https://api.github.com/repos/ultralytics/yolov3/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-16T01:04:14Z","updated_at":"2021-04-21T00:12:46Z","closed_at":"2021-04-21T00:12:46Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nI am training yolov3 code from: https://github.com/ultralytics/yolov3,\r\nthe code could be correctly trained.  My computer configuration is:\r\nCPU i9-9900k with 32GB RAM\r\nGPU 2080Ti with 11GB memory\r\n\r\nthe following message is printed during the training:\r\n```python\r\n\r\nUsing torch 1.7.1+cu101 CUDA:0 (GeForce RTX 2080 Ti, 11264.0MB)\r\nNamespace(adam=False, batch_size=8, bucket='', cache_images=False, cfg='', data='data/coco128.yaml', device='', \r\nepochs=300, evolve=False, exist_ok=False, global_rank=-1, hyp='data/hyp.scratch.yaml', image_weights=False, \r\nimg_size=[640, 640], local_rank=-1, log_imgs=16, multi_scale=False, name='exp', noautoanchor=False, nosave=False, \r\nnotest=False, project='runs/train', rect=False, resume=False, save_dir='runs\\\\train\\\\exp', single_cls=False, sync_bn=False, \r\ntotal_batch_size=8, weights='yolov3.pt', workers=8, world_size=1)\r\nStart Tensorboard with \"tensorboard --logdir runs/train\", view at http://localhost:6006/\r\nHyperparameters {'lr0': 0.01, 'lrf': 0.2, 'momentum': 0.937, 'weight_decay': 0.0005, 'warmup_epochs': 3.0, \r\n'warmup_momentum': 0.8, 'warmup_bias_lr': 0.1, 'box': 0.05, 'cls': 0.5, 'cls_pw': 1.0, 'obj': 1.0, 'obj_pw': 1.0, \r\n'iou_t': 0.2, 'anchor_t': 4.0, 'fl_gamma': 0.0, 'hsv_h': 0.015, 'hsv_s': 0.7, 'hsv_v': 0.4, 'degrees': 0.0, 'translate': 0.1, \r\n'scale': 0.5, 'shear': 0.0, 'perspective': 0.0, 'flipud': 0.0, 'fliplr': 0.5, 'mosaic': 1.0, 'mixup': 0.0}\r\n\r\n......\r\n\r\nModel Summary: 333 layers, 61949149 parameters, 61949149 gradients, 156.4 GFLOPS\r\nTransferred 440/440 items from yolov3.pt\r\nOptimizer groups: 75 .bias, 75 conv.weight, 72 other\r\nScanning 'C:\\doc\\dataset\\COCO\\labels\\train2014.cache' for images and labels... 122218 found, 0 missing, 0 empty, 0 corrupted: 100%|██████████| 122218/122218 [00:00<?, ?it/s]\r\nScanning 'C:\\doc\\dataset\\COCO\\labels\\train2014' for images and labels... 42219 found, 0 missing, 0 empty, 0 corrupted: 100%|██████████| 42219/42219 [01:12<00:00, 582.44it/s]\r\nNew cache created: C:\\doc\\dataset\\COCO\\labels\\train2014.cache\r\nScanning 'C:\\doc\\dataset\\COCO\\labels\\train2014.cache' for images and labels... 42219 found, 0 missing, 0 empty, 0 corrupted: 100%|██████████| 42219/42219 [00:00<?, ?it/s]\r\nAnalyzing anchors... anchors/target = 4.41, Best Possible Recall (BPR) = 0.9943\r\nNote: NumExpr detected 16 cores but \"NUMEXPR_MAX_THREADS\" not set, so enforcing safe limit of 8.\r\nNumExpr defaulting to 8 threads.\r\nImage sizes 640 train, 640 test\r\nUsing 8 dataloader workers\r\nLogging results to runs\\train\\exp\r\nStarting training for 300 epochs...\r\n     Epoch   gpu_mem       box       obj       cls     total   targets  img_size\r\n\t0/299     7.32G   0.03043   0.02528  0.009495   0.06521        83       640:  26%|██▌       | 3982/15278 [18:47<49:17,  3.82it/s]\r\n\r\n\r\n```\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/6227348/111240839-f44d6180-8636-11eb-9e99-9a735beeb806.png)\r\n\r\n\r\nduring the training, I capture the RAM usage.\r\nThere is 32GB RAM and 17.4GB available. virtual memory assigned is 95.8GB and used is 80.1GB. \r\n\r\nAccording to my understanding, if physical memory is not sufficient, CPU will apply virtual memory. in my case, there are 17.4GB physical memory available, why is so much virtual memory used? how is it used?","closed_by":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1717/timeline","performed_via_github_app":null,"state_reason":"completed"}