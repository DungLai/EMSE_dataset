{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1678","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1678/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1678/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1678/events","html_url":"https://github.com/ultralytics/yolov3/issues/1678","id":797234531,"node_id":"MDU6SXNzdWU3OTcyMzQ1MzE=","number":1678,"title":"with regard to exporting .pt to .onnx","user":{"login":"leeyunhome","id":59910227,"node_id":"MDQ6VXNlcjU5OTEwMjI3","avatar_url":"https://avatars.githubusercontent.com/u/59910227?v=4","gravatar_id":"","url":"https://api.github.com/users/leeyunhome","html_url":"https://github.com/leeyunhome","followers_url":"https://api.github.com/users/leeyunhome/followers","following_url":"https://api.github.com/users/leeyunhome/following{/other_user}","gists_url":"https://api.github.com/users/leeyunhome/gists{/gist_id}","starred_url":"https://api.github.com/users/leeyunhome/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leeyunhome/subscriptions","organizations_url":"https://api.github.com/users/leeyunhome/orgs","repos_url":"https://api.github.com/users/leeyunhome/repos","events_url":"https://api.github.com/users/leeyunhome/events{/privacy}","received_events_url":"https://api.github.com/users/leeyunhome/received_events","type":"User","site_admin":false},"labels":[{"id":1035696376,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzc2","url":"https://api.github.com/repos/ultralytics/yolov3/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"},{"id":1890885613,"node_id":"MDU6TGFiZWwxODkwODg1NjEz","url":"https://api.github.com/repos/ultralytics/yolov3/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-01-29T22:00:59Z","updated_at":"2021-03-07T00:33:38Z","closed_at":"2021-03-07T00:33:38Z","author_association":"NONE","active_lock_reason":null,"body":"## ‚ùîQuestion\r\n\r\n![image](https://user-images.githubusercontent.com/59910227/106330598-d9ad6c00-62c6-11eb-88b9-08916f047b85.png)\r\n\r\nAs shown in the code on the right, the input and output names in the torch.onnx.export function were changed as follows and exported.\r\ninput_names=['data'],output_names=['Layer7_cov','Layer7_bbox']\r\n\r\nWhen the converted onnx file was expressed in graph form using a tool called netron, it was confirmed that an output of 391, which I did not specify, also came out.\r\nWhy is there an output called 391 and how do I get rid of this output?\r\n\r\n## Additional context\r\nThere is a lowlevel api called jetson multimedia api. In the following example, the onnx file is loaded and inferred using tensorRT.\r\nhttps://docs.nvidia.com/jetson/l4t-multimedia/l4t_mm_vid_decode_trt.html\r\n\r\nThe onnx file used in this sample is expressed in graph form as follows.\r\n\r\n![image](https://user-images.githubusercontent.com/59910227/106331719-be436080-62c8-11eb-865f-4c7c145cd46f.png)\r\n\r\n![image](https://user-images.githubusercontent.com/59910227/106332056-5ccfc180-62c9-11eb-8651-59d8867cf2fc.png)\r\n\r\nIf you look at the help of the sample program, it says that only dynamic batch(N=-1) onnx model is supported.\r\nWhen exporting to onnx, what kind of work do I need to do to make it into a dynamic batch model?\r\n\r\n**--trt-onnxmodel      set onnx model file name, only support dynamic batch(N=-1) onnx model**\r\n\r\nMy purpose is to make the onnx file according to the structure of this sample.\r\nPlease advise.\r\n\r\nThank you.","closed_by":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1678/timeline","performed_via_github_app":null,"state_reason":"completed"}