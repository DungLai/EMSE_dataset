{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1713","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1713/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1713/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1713/events","html_url":"https://github.com/ultralytics/yolov3/issues/1713","id":828893822,"node_id":"MDU6SXNzdWU4Mjg4OTM4MjI=","number":1713,"title":"pin memory of DataLoader","user":{"login":"ardeal","id":6227348,"node_id":"MDQ6VXNlcjYyMjczNDg=","avatar_url":"https://avatars.githubusercontent.com/u/6227348?v=4","gravatar_id":"","url":"https://api.github.com/users/ardeal","html_url":"https://github.com/ardeal","followers_url":"https://api.github.com/users/ardeal/followers","following_url":"https://api.github.com/users/ardeal/following{/other_user}","gists_url":"https://api.github.com/users/ardeal/gists{/gist_id}","starred_url":"https://api.github.com/users/ardeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ardeal/subscriptions","organizations_url":"https://api.github.com/users/ardeal/orgs","repos_url":"https://api.github.com/users/ardeal/repos","events_url":"https://api.github.com/users/ardeal/events{/privacy}","received_events_url":"https://api.github.com/users/ardeal/received_events","type":"User","site_admin":false},"labels":[{"id":1035696376,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzc2","url":"https://api.github.com/repos/ultralytics/yolov3/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-11T07:55:53Z","updated_at":"2021-03-12T03:12:23Z","closed_at":"2021-03-12T03:12:23Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nThe Pytorch official page describes how to use pin memory of DataLoader.\r\naccording the following section, if collate_fn is defined, the pin_memory function should be defined to make sure pin_memory is applied.\r\nHowever, I didn't see the pin_memory function in the code. Dose this mean that pin_memory is not applied although pin_memory=True?\r\n\r\n\r\n\r\nhttps://pytorch.org/docs/stable/data.html\r\n<code>\r\nMemory Pinning\r\n\r\nHost to GPU copies are much faster when they originate from pinned (page-locked) memory. See Use pinned memory buffers for more details on when and how to use pinned memory generally.\r\n\r\nFor data loading, passing pin_memory=True to a DataLoader will automatically put the fetched data Tensors in pinned memory, and thus enables faster data transfer to CUDA-enabled GPUs.\r\n\r\nThe default memory pinning logic only recognizes Tensors and maps and iterables containing Tensors. By default, if the pinning logic sees a batch that is a custom type (which will occur if you have a collate_fn that returns a custom batch type), or if each element of your batch is a custom type, the pinning logic will not recognize them, and it will return that batch (or those elements) without pinning the memory. To enable memory pinning for custom batch or data type(s), define a pin_memory() method on your custom type(s).\r\n\r\n</code>","closed_by":{"login":"ardeal","id":6227348,"node_id":"MDQ6VXNlcjYyMjczNDg=","avatar_url":"https://avatars.githubusercontent.com/u/6227348?v=4","gravatar_id":"","url":"https://api.github.com/users/ardeal","html_url":"https://github.com/ardeal","followers_url":"https://api.github.com/users/ardeal/followers","following_url":"https://api.github.com/users/ardeal/following{/other_user}","gists_url":"https://api.github.com/users/ardeal/gists{/gist_id}","starred_url":"https://api.github.com/users/ardeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ardeal/subscriptions","organizations_url":"https://api.github.com/users/ardeal/orgs","repos_url":"https://api.github.com/users/ardeal/repos","events_url":"https://api.github.com/users/ardeal/events{/privacy}","received_events_url":"https://api.github.com/users/ardeal/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1713/timeline","performed_via_github_app":null,"state_reason":"completed"}