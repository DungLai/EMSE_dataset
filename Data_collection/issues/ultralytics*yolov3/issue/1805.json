{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1805","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1805/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1805/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1805/events","html_url":"https://github.com/ultralytics/yolov3/issues/1805","id":942899204,"node_id":"MDU6SXNzdWU5NDI4OTkyMDQ=","number":1805,"title":"RuntimeErro r: Output 0 of SelectBackward is a view and is being modified inplace. ","user":{"login":"yuanqiyin","id":50046526,"node_id":"MDQ6VXNlcjUwMDQ2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/50046526?v=4","gravatar_id":"","url":"https://api.github.com/users/yuanqiyin","html_url":"https://github.com/yuanqiyin","followers_url":"https://api.github.com/users/yuanqiyin/followers","following_url":"https://api.github.com/users/yuanqiyin/following{/other_user}","gists_url":"https://api.github.com/users/yuanqiyin/gists{/gist_id}","starred_url":"https://api.github.com/users/yuanqiyin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuanqiyin/subscriptions","organizations_url":"https://api.github.com/users/yuanqiyin/orgs","repos_url":"https://api.github.com/users/yuanqiyin/repos","events_url":"https://api.github.com/users/yuanqiyin/events{/privacy}","received_events_url":"https://api.github.com/users/yuanqiyin/received_events","type":"User","site_admin":false},"labels":[{"id":1035696370,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzcw","url":"https://api.github.com/repos/ultralytics/yolov3/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1890885613,"node_id":"MDU6TGFiZWwxODkwODg1NjEz","url":"https://api.github.com/repos/ultralytics/yolov3/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-07-13T07:27:21Z","updated_at":"2021-08-18T00:06:29Z","closed_at":"2021-08-18T00:06:29Z","author_association":"NONE","active_lock_reason":null,"body":"## ðŸ› Bug\r\n\r\nRuntimeError: Output 0 of SelectBackward is a view and is being modified inplace. This view is the output of a function that returns multiple views. Such functions do not allow the output views to be modified inplace. You should replace the inplace operation by an out-of-place one.\r\n\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nInput:\r\n```\r\ndef non_max_suppression(prediction, conf_thres=0.5, nms_thres=0.5):\r\n\r\n    min_wh, max_wh = 2, 10000\r\n\r\n    output = [None] * len(prediction)\r\n\r\n    for image_i, pred in enumerate(prediction):    # image index , image inference\r\n\r\n        class_conf, class_pred = pred[:, 5:].max(1)\r\n        pred[:, 4] *= class_conf\r\n\r\n        i = (pred[:, 4] > conf_thres) & (pred[:, 2:4] > min_wh).all(1) & (pred[:, 2:4] < max_wh).all(1) & \\\r\n            torch.isfinite(pred).all(1)\r\n        pred = pred[i]\r\n\r\n        # If none are remaining => process next image\r\n        if len(pred) == 0:\r\n            continue\r\n\r\n        # Select predicted classes\r\n        class_conf = class_conf[i]\r\n        class_pred = class_pred[i].unsqueeze(1).float()\r\n\r\n        # Box (center x, center y, width, height) to (x1, y1, x2, y2)\r\n        pred[:, :4] = xywh2xyxy(pred[:, :4])\r\n\r\n        # Detections ordered as (x1y1x2y2, obj_conf, class_conf, class_pred)\r\n        pred = torch.cat((pred[:, :5], class_conf.unsqueeze(1), class_pred), 1)\r\n\r\n        # Get detections sorted by decreasing confidence scores\r\n        pred = pred[(-pred[:, 4]).argsort()]\r\n```\r\n\r\nOutput:\r\n```\r\nTraceback (most recent call last):\r\n  File \"E:/PersonalFile/Code/deep_sort_yolov3_pytorch-master/deep_sort.py\", line 186, in <module>\r\n    det.detect(output_file)\r\n  File \"E:/PersonalFile/Code/deep_sort_yolov3_pytorch-master/deep_sort.py\", line 98, in detect\r\n    bbox_xxyy, cls_conf, cls_ids = self.yolo3.predict(im)\r\n  File \"E:\\PersonalFile\\Code\\deep_sort_yolov3_pytorch-master\\predict.py\", line 54, in predict\r\n    det = non_max_suppression(pred, self.conf_thres, self.nms_thres)[0]\r\n  File \"E:\\PersonalFile\\Code\\deep_sort_yolov3_pytorch-master\\utils\\util.py\", line 615, in non_max_suppression\r\n    pred[:, 4] *= class_conf\r\nRuntimeError: Output 0 of SelectBackward is a view and is being modified inplace. This view is the output of a function that returns multiple views. Such functions do not allow the output views to be modified inplace. You should replace the inplace operation by an out-of-place one.\r\n```\r\n\r\n\r\n## Expected behavior\r\nUsed it to detect and Bug happened.\r\nPlease help me~\r\n\r\n\r\n## Environment\r\n\r\n - OS: [windows10]\r\n - GPU [3070]\r\n\r\n","closed_by":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1805/timeline","performed_via_github_app":null,"state_reason":"completed"}