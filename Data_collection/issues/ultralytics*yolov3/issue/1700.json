{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1700","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1700/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1700/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1700/events","html_url":"https://github.com/ultralytics/yolov3/issues/1700","id":820009898,"node_id":"MDU6SXNzdWU4MjAwMDk4OTg=","number":1700,"title":"ERROR: Unexpected segmentation fault encountered in worker.","user":{"login":"Andrew05200","id":24999657,"node_id":"MDQ6VXNlcjI0OTk5NjU3","avatar_url":"https://avatars.githubusercontent.com/u/24999657?v=4","gravatar_id":"","url":"https://api.github.com/users/Andrew05200","html_url":"https://github.com/Andrew05200","followers_url":"https://api.github.com/users/Andrew05200/followers","following_url":"https://api.github.com/users/Andrew05200/following{/other_user}","gists_url":"https://api.github.com/users/Andrew05200/gists{/gist_id}","starred_url":"https://api.github.com/users/Andrew05200/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Andrew05200/subscriptions","organizations_url":"https://api.github.com/users/Andrew05200/orgs","repos_url":"https://api.github.com/users/Andrew05200/repos","events_url":"https://api.github.com/users/Andrew05200/events{/privacy}","received_events_url":"https://api.github.com/users/Andrew05200/received_events","type":"User","site_admin":false},"labels":[{"id":1035696370,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzcw","url":"https://api.github.com/repos/ultralytics/yolov3/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-03-02T13:17:12Z","updated_at":"2021-03-03T01:54:34Z","closed_at":"2021-03-03T01:36:35Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n## üêõ Bug\r\nA clear and concise description of what the bug is.\r\nI have installed all packages in requirments.txt and downloaded the coco128 dataset from kaggle.\r\nI want to train the coco128.yaml by run `python train.py --img 640 --batch 4 --epochs 5 --data coco128.yaml --weights weights/yolov3-spp.pt`, but I got the error `ERROR: Unexpected segmentation fault encountered in worker.`\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\n ```\r\npython train.py --img 640 --batch 4 --epochs 5 --data coco128.yaml --weights weights/yolov3-spp.pt\r\n\r\n```\r\n\r\nOutput:\r\n```\r\n(mmlab) [root@ain-gpu05 yolov3]# python train.py --img 640 --batch 4 --epochs 5 --data coco128.yaml --weights\r\nYOLOv3  torch 1.7.1 CUDA:0 (GeForce GTX 1080 Ti, 11178.125MB)\r\n\r\nNamespace(adam=False, batch_size=4, bucket='', cache_images=False, cfg='', data='./data/coco128.yaml', device=alse, global_rank=-1, hyp='data/hyp.scratch.yaml', image_weights=False, img_size=[640, 640], local_rank=-1, loscale=False, name='exp', noautoanchor=False, nosave=False, notest=False, project='runs/train', quad=False, rectrain/exp14', single_cls=False, sync_bn=False, total_batch_size=4, weights='weights/yolov3-spp.pt', workers=8,\r\nwandb: Install Weights & Biases for YOLOv3 logging with 'pip install wandb' (recommended)\r\nStart Tensorboard with \"tensorboard --logdir runs/train\", view at http://localhost:6006/\r\nhyperparameters: lr0=0.01, lrf=0.2, momentum=0.937, weight_decay=0.0005, warmup_epochs=3.0, warmup_momentum=0..5, cls_pw=1.0, obj=1.0, obj_pw=1.0, iou_t=0.2, anchor_t=4.0, fl_gamma=0.0, hsv_h=0.015, hsv_s=0.7, hsv_v=0.4,, shear=0.0, perspective=0.0, flipud=0.0, fliplr=0.5, mosaic=1.0, mixup=0.0\r\n\r\n                 from  n    params  module                                  arguments\r\n  0                -1  1       928  models.common.Conv                      [3, 32, 3, 1]\r\n  1                -1  1     18560  models.common.Conv                      [32, 64, 3, 2]\r\n  2                -1  1     20672  models.common.Bottleneck                [64, 64]\r\n  3                -1  1     73984  models.common.Conv                      [64, 128, 3, 2]\r\n  4                -1  2    164608  models.common.Bottleneck                [128, 128]\r\n  5                -1  1    295424  models.common.Conv                      [128, 256, 3, 2]\r\n  6                -1  8   2627584  models.common.Bottleneck                [256, 256]\r\n  7                -1  1   1180672  models.common.Conv                      [256, 512, 3, 2]\r\n  8                -1  8  10498048  models.common.Bottleneck                [512, 512]\r\n  9                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 2]\r\n 10                -1  4  20983808  models.common.Bottleneck                [1024, 1024]\r\n 11                -1  1   5245952  models.common.Bottleneck                [1024, 1024, False]\r\n 12                -1  1   1574912  models.common.SPP                       [1024, 512, [5, 9, 13]]\r\n 13                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 1]\r\n 14                -1  1    525312  models.common.Conv                      [1024, 512, 1, 1]\r\n 15                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 1]\r\n 16                -2  1    131584  models.common.Conv                      [512, 256, 1, 1]\r\n 17                -1  1         0  torch.nn.modules.upsampling.Upsample    [None, 2, 'nearest']\r\n 18           [-1, 8]  1         0  models.common.Concat                    [1]\r\n 19                -1  1   1377792  models.common.Bottleneck                [768, 512, False]\r\n 20                -1  1   1312256  models.common.Bottleneck                [512, 512, False]\r\n 21                -1  1    131584  models.common.Conv                      [512, 256, 1, 1]\r\n 22                -1  1   1180672  models.common.Conv                      [256, 512, 3, 1]\r\n 23                -2  1     33024  models.common.Conv                      [256, 128, 1, 1]\r\n 24                -1  1         0  torch.nn.modules.upsampling.Upsample    [None, 2, 'nearest']\r\n 25           [-1, 6]  1         0  models.common.Concat                    [1]\r\n 26                -1  1    344832  models.common.Bottleneck                [384, 256, False]\r\n 27                -1  2    656896  models.common.Bottleneck                [256, 256, False]\r\n 28      [27, 22, 15]  1    457725  models.yolo.Detect                      [80, [[10, 13, 16, 30, 33, 23], [3, 198, 373, 326]], [256, 512, 1024]]\r\nModel Summary: 342 layers, 62998749 parameters, 62998749 gradients, 157.3 GFLOPS\r\n\r\nTransferred 446/446 items from weights/yolov3-spp.pt\r\nScaled weight_decay = 0.0005\r\nOptimizer groups: 76 .bias, 76 conv.weight, 73 other\r\ntrain: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 train: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0\r\ntrain: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0\r\ntrain: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nPlotting labels...\r\nÊÆµÈîôËØØ(ÂêêÊ†∏)\r\n(mmlab) [root@ain-gpu05 yolov3]# ERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\n\r\n```\r\n\r\n\r\n## Expected behavior\r\nI just want to train custom dataset as coco128yaml\r\n\r\n\r\n## Environment\r\n\r\n![image](https://user-images.githubusercontent.com/24999657/109653593-2de48e00-7b9c-11eb-820a-286d1184a2f3.png)\r\n\r\n - OS: [e.g. centOS]\r\n - GPU [GeForce GTX 1080 Ti, 11178.125MB]\r\n\r\n\r\n\r\n","closed_by":{"login":"Andrew05200","id":24999657,"node_id":"MDQ6VXNlcjI0OTk5NjU3","avatar_url":"https://avatars.githubusercontent.com/u/24999657?v=4","gravatar_id":"","url":"https://api.github.com/users/Andrew05200","html_url":"https://github.com/Andrew05200","followers_url":"https://api.github.com/users/Andrew05200/followers","following_url":"https://api.github.com/users/Andrew05200/following{/other_user}","gists_url":"https://api.github.com/users/Andrew05200/gists{/gist_id}","starred_url":"https://api.github.com/users/Andrew05200/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Andrew05200/subscriptions","organizations_url":"https://api.github.com/users/Andrew05200/orgs","repos_url":"https://api.github.com/users/Andrew05200/repos","events_url":"https://api.github.com/users/Andrew05200/events{/privacy}","received_events_url":"https://api.github.com/users/Andrew05200/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1700/timeline","performed_via_github_app":null,"state_reason":"completed"}