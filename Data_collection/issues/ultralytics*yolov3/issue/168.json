{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/168","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168/events","html_url":"https://github.com/ultralytics/yolov3/issues/168","id":425661167,"node_id":"MDU6SXNzdWU0MjU2NjExNjc=","number":168,"title":"width-height: 'yolo' method vs. 'power' method","user":{"login":"100330706","id":48351782,"node_id":"MDQ6VXNlcjQ4MzUxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/48351782?v=4","gravatar_id":"","url":"https://api.github.com/users/100330706","html_url":"https://github.com/100330706","followers_url":"https://api.github.com/users/100330706/followers","following_url":"https://api.github.com/users/100330706/following{/other_user}","gists_url":"https://api.github.com/users/100330706/gists{/gist_id}","starred_url":"https://api.github.com/users/100330706/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/100330706/subscriptions","organizations_url":"https://api.github.com/users/100330706/orgs","repos_url":"https://api.github.com/users/100330706/repos","events_url":"https://api.github.com/users/100330706/events{/privacy}","received_events_url":"https://api.github.com/users/100330706/received_events","type":"User","site_admin":false},"labels":[{"id":1035696376,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzc2","url":"https://api.github.com/repos/ultralytics/yolov3/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"},{"id":1890885613,"node_id":"MDU6TGFiZWwxODkwODg1NjEz","url":"https://api.github.com/repos/ultralytics/yolov3/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":2907388531,"node_id":"MDU6TGFiZWwyOTA3Mzg4NTMx","url":"https://api.github.com/repos/ultralytics/yolov3/labels/documentation","name":"documentation","color":"0366d6","default":true,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2019-03-26T21:39:03Z","updated_at":"2021-10-06T18:12:24Z","closed_at":"2020-03-13T00:09:40Z","author_association":"NONE","active_lock_reason":null,"body":"Hi! We are running your YOLO implementation into a 5 class detection task. However, it seems that at some iteration of some epoch (it is not always the same), the loss suddenly starts quickly going to infinite, giving nan values. The term that it seems that is increasing exponentially is the wh loss (wh tensor sometimes has negative values I don't know if this is normal). By applying your power method `wh = torch.sigmoid(p[..., 2:4])  # wh (power method)` instead of `wh = p[..., 2:4]  # wh (yolo method)` it seems that this problem stops and the algorithm does not diverge. However, the wh loss flattens out at a higher value (around 1.07, 1.08 instead of going down to 0) than the other losses as shown below:\r\n\r\n```\r\nEpoch       Batch        xy        wh      conf       cls     total  nTargets      time\r\n38/59    425/1242   0.00705      1.07   0.00528  0.000134      1.09         4     0.254\r\n38/59    426/1242    0.0071      1.07   0.00527  0.000133      1.09         4     0.258\r\n38/59    427/1242   0.00711      1.08   0.00527  0.000133      1.09         4     0.254\r\n38/59    428/1242   0.00712      1.08   0.00526  0.000133      1.09         3     0.251\r\n```\r\n\r\nDo you know any clue about why this could be happening? What are the supposed advantages of using the power method?\r\n\r\nKind regards.","closed_by":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/168/timeline","performed_via_github_app":null,"state_reason":"completed"}