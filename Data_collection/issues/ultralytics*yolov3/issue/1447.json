{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1447","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1447/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1447/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1447/events","html_url":"https://github.com/ultralytics/yolov3/issues/1447","id":677642306,"node_id":"MDU6SXNzdWU2Nzc2NDIzMDY=","number":1447,"title":"Very low mAP result on test set while detection seems fine","user":{"login":"JinhangZhu","id":45664104,"node_id":"MDQ6VXNlcjQ1NjY0MTA0","avatar_url":"https://avatars.githubusercontent.com/u/45664104?v=4","gravatar_id":"","url":"https://api.github.com/users/JinhangZhu","html_url":"https://github.com/JinhangZhu","followers_url":"https://api.github.com/users/JinhangZhu/followers","following_url":"https://api.github.com/users/JinhangZhu/following{/other_user}","gists_url":"https://api.github.com/users/JinhangZhu/gists{/gist_id}","starred_url":"https://api.github.com/users/JinhangZhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JinhangZhu/subscriptions","organizations_url":"https://api.github.com/users/JinhangZhu/orgs","repos_url":"https://api.github.com/users/JinhangZhu/repos","events_url":"https://api.github.com/users/JinhangZhu/events{/privacy}","received_events_url":"https://api.github.com/users/JinhangZhu/received_events","type":"User","site_admin":false},"labels":[{"id":1035696376,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzc2","url":"https://api.github.com/repos/ultralytics/yolov3/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-08-12T12:12:18Z","updated_at":"2020-11-26T16:26:19Z","closed_at":"2020-08-25T13:07:41Z","author_association":"NONE","active_lock_reason":null,"body":"## ‚ùîQuestion\r\nHiya! Thank you for your contribution.  I have trained YOLOv3-spp on my own dataset and the test result on the validation set is very good ofc. However, the results on the test set reveal a super-low mAP and the values of other items as well. I may understand that it is due to low generalisation (https://github.com/ultralytics/yolov3/issues/898#issuecomment-623162299), but when I made the model perform detection on some examples from the test set, the results seemed to be not bad.\r\n\r\n**My question**: In addition to using the more diverse dataset, do you have any suggestions about how to improve the mAP on the test set (since I suppose my dataset is large enough)? And could you please explain why the detection of samples are not giving hints of bad mAPs at all?\r\n\r\n## Additional context\r\n\r\n- Subset sizes\r\n 7702:2567:2567\r\n\r\n<details>\r\n  <summary>Test on the validation set</summary>\r\n  \r\n```shell\r\nModel Summary: 225 layers, 6.25787e+07 parameters, 6.25787e+07 gradients\r\nFusing layers...\r\nModel Summary: 152 layers, 6.25519e+07 parameters, 6.25519e+07 gradients\r\n               Class    Images   Targets         P         R       mAP        F1\r\n                 all  2.57e+03  4.39e+03     0.976     0.975     0.979     0.976\r\n           left_hand  2.57e+03  2.11e+03     0.974     0.975     0.979     0.975\r\n          right_hand  2.57e+03  2.28e+03     0.978     0.975     0.978     0.977\r\nSpeed: 8.6/2.0/10.6 ms inference/NMS/total per 416x416 image at batch-size 8\r\n```\r\n</details>\r\n\r\n\r\n<details>\r\n  <summary>Test on the test set</summary>\r\n  \r\n```shell\r\nModel Summary: 225 layers, 6.25787e+07 parameters, 6.25787e+07 gradients\r\nFusing layers...\r\nModel Summary: 152 layers, 6.25519e+07 parameters, 6.25519e+07 gradients\r\n               Class    Images   Targets         P         R       mAP        F1\r\n                 all  2.57e+03  4.39e+03    0.0184     0.018   0.00122    0.0182\r\n           left_hand  2.57e+03  2.11e+03    0.0194     0.019     0.002    0.0192\r\n          right_hand  2.57e+03  2.28e+03    0.0173    0.0171  0.000438    0.0172\r\nSpeed: 6.3/2.1/8.5 ms inference/NMS/total per 416x416 image at batch-size 16\r\n```\r\n</details>\r\n\r\n\r\n- Some detection examples from the test set\r\n\r\n![image](https://user-images.githubusercontent.com/45664104/90012354-d0f3ba00-dcd5-11ea-87f8-b12373b3a5c9.png)\r\n","closed_by":{"login":"JinhangZhu","id":45664104,"node_id":"MDQ6VXNlcjQ1NjY0MTA0","avatar_url":"https://avatars.githubusercontent.com/u/45664104?v=4","gravatar_id":"","url":"https://api.github.com/users/JinhangZhu","html_url":"https://github.com/JinhangZhu","followers_url":"https://api.github.com/users/JinhangZhu/followers","following_url":"https://api.github.com/users/JinhangZhu/following{/other_user}","gists_url":"https://api.github.com/users/JinhangZhu/gists{/gist_id}","starred_url":"https://api.github.com/users/JinhangZhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JinhangZhu/subscriptions","organizations_url":"https://api.github.com/users/JinhangZhu/orgs","repos_url":"https://api.github.com/users/JinhangZhu/repos","events_url":"https://api.github.com/users/JinhangZhu/events{/privacy}","received_events_url":"https://api.github.com/users/JinhangZhu/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1447/timeline","performed_via_github_app":null,"state_reason":"completed"}