{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1471","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1471/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1471/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1471/events","html_url":"https://github.com/ultralytics/yolov3/issues/1471","id":691549297,"node_id":"MDU6SXNzdWU2OTE1NDkyOTc=","number":1471,"title":"Missing key(s) in state_dict: \"total_ops\", \"total_params\", \"module_list.total_ops\"","user":{"login":"daixiangzi","id":24811131,"node_id":"MDQ6VXNlcjI0ODExMTMx","avatar_url":"https://avatars.githubusercontent.com/u/24811131?v=4","gravatar_id":"","url":"https://api.github.com/users/daixiangzi","html_url":"https://github.com/daixiangzi","followers_url":"https://api.github.com/users/daixiangzi/followers","following_url":"https://api.github.com/users/daixiangzi/following{/other_user}","gists_url":"https://api.github.com/users/daixiangzi/gists{/gist_id}","starred_url":"https://api.github.com/users/daixiangzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daixiangzi/subscriptions","organizations_url":"https://api.github.com/users/daixiangzi/orgs","repos_url":"https://api.github.com/users/daixiangzi/repos","events_url":"https://api.github.com/users/daixiangzi/events{/privacy}","received_events_url":"https://api.github.com/users/daixiangzi/received_events","type":"User","site_admin":false},"labels":[{"id":1035696370,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzcw","url":"https://api.github.com/repos/ultralytics/yolov3/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1890885613,"node_id":"MDU6TGFiZWwxODkwODg1NjEz","url":"https://api.github.com/repos/ultralytics/yolov3/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-09-03T01:19:30Z","updated_at":"2023-01-12T11:04:32Z","closed_at":"2020-10-10T00:34:57Z","author_association":"NONE","active_lock_reason":null,"body":"Before submitting a bug report, please be aware that your issue **must be reproducible** with all of the following, otherwise it is non-actionable, and we can not help you:\r\n - **Current repo**: run `git fetch && git status -uno` to check and `git pull` to update repo\r\n - **Common dataset**: coco2017.data or coco64.data\r\n - **Common environment**: Colab, Google Cloud, or Docker image. See https://github.com/ultralytics/yolov3#reproduce-our-environment\r\n--**Comme\r\nIf this is a custom dataset/training question you **must include** your `train*.jpg`, `test*.jpg` and `results.png` figures, or we can not help you. You can generate these with `utils.plot_results()`.\r\n\r\n\r\n## üêõ Bug\r\nA clear and concise description of what the bug is.\r\nI find total_ops is registed model,when use thop in file utils/torch_utils.py .so i load weight files ,model exist key total_ops ,but weight not exist,so come up error.\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nCmd:\r\n```\r\npython3 test.py --cfg yolov3-spp.cfg --weights weights/yolov3-spp-ultralytics.pt\r\nNamespace(augment=False, batch_size=16, cfg='./cfg/yolov3-spp.cfg', conf_thres=0.001, data='data/coco2014.data', device='', img_size=512, iou_thres=0.6, save_json=True, single_cls=False, task='test', weights='weights/yolov3-spp-ultralytics.pt')\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients, 118.0 GFLOPS\r\n```\r\nTraceback (most recent call last):\r\nFile \"test.py\", line 263, in\r\nopt.augment)\r\nFile \"test.py\", line 40, in test\r\nmodel.load_state_dict(torch.load(weights, map_location=device)['model'])\r\nFile \"/anaconda3/envs/pytorch-gpu/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 1045, in load_state_dict\r\nself.class.name, \"\\n\\t\".join(error_msgs)))\r\nRuntimeError: Error(s) in loading state_dict for Darknet:\r\nMissing key(s) in state_dict: \"total_ops\", \"total_params\", \"module_list.total_ops\", \"module_list.total_params\", \"module_list.0.total_ops\"\r\n\r\n```\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: Ubuntu20\r\n - GPU 2080 Ti\r\npython3.7\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n","closed_by":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1471/timeline","performed_via_github_app":null,"state_reason":"completed"}