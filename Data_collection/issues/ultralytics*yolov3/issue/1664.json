{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1664","repository_url":"https://api.github.com/repos/ultralytics/yolov3","labels_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1664/labels{/name}","comments_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1664/comments","events_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1664/events","html_url":"https://github.com/ultralytics/yolov3/issues/1664","id":787612027,"node_id":"MDU6SXNzdWU3ODc2MTIwMjc=","number":1664,"title":"Inconsistent confusion matrix","user":{"login":"saumitrabg","id":12634326,"node_id":"MDQ6VXNlcjEyNjM0MzI2","avatar_url":"https://avatars.githubusercontent.com/u/12634326?v=4","gravatar_id":"","url":"https://api.github.com/users/saumitrabg","html_url":"https://github.com/saumitrabg","followers_url":"https://api.github.com/users/saumitrabg/followers","following_url":"https://api.github.com/users/saumitrabg/following{/other_user}","gists_url":"https://api.github.com/users/saumitrabg/gists{/gist_id}","starred_url":"https://api.github.com/users/saumitrabg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saumitrabg/subscriptions","organizations_url":"https://api.github.com/users/saumitrabg/orgs","repos_url":"https://api.github.com/users/saumitrabg/repos","events_url":"https://api.github.com/users/saumitrabg/events{/privacy}","received_events_url":"https://api.github.com/users/saumitrabg/received_events","type":"User","site_admin":false},"labels":[{"id":1035696376,"node_id":"MDU6TGFiZWwxMDM1Njk2Mzc2","url":"https://api.github.com/repos/ultralytics/yolov3/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-01-17T04:22:28Z","updated_at":"2021-01-17T04:24:07Z","closed_at":"2021-01-17T04:23:56Z","author_association":"NONE","active_lock_reason":null,"body":"## ‚ùîQuestion\r\nWe are training with yolov5l.pt as a baseline with 20K+ training and 4K val datasets. There are 6 classes. 1st one shows a decent confusion matrix where I can see a high TP of 50-60%. However, with the latest epochs of new training, we are consistently seeing a high mAP (89-95%), high recall 90%+, high precision (70-80%) but the confusion matrix shows a weird matrix.  As the training progresses and mAP gets better, we try the intermediate best.pt and we can detect variations of all 6 classes but over time, we only see 1-2 classes being predicted which are wrong. Background FP is 1.0.  Now, for all our training, this is happening consistently.\r\n\r\n\r\n\r\nWe don't claim to get to the bottom of it and will appreciate any pointers.  The img sizes are 2448x784 and we are using --rect and img 1024. \r\ntrain.py --rect --img 1024 --batch 2 --epochs 50 --data coco128.yaml --weights yolov5l.pt\r\n\r\n\r\n\r\n## Additional context\r\n<img width=\"1500\" alt=\"confusion_matrix\" src=\"https://user-images.githubusercontent.com/12634326/104830931-8a802980-5838-11eb-967e-1ae76c7dc1e1.png\">\r\n<img width=\"1500\" alt=\"confusion_matrix (1)\" src=\"https://user-images.githubusercontent.com/12634326/104830932-8b18c000-5838-11eb-92bb-5dfcc9cc4955.png\">\r\n","closed_by":{"login":"saumitrabg","id":12634326,"node_id":"MDQ6VXNlcjEyNjM0MzI2","avatar_url":"https://avatars.githubusercontent.com/u/12634326?v=4","gravatar_id":"","url":"https://api.github.com/users/saumitrabg","html_url":"https://github.com/saumitrabg","followers_url":"https://api.github.com/users/saumitrabg/followers","following_url":"https://api.github.com/users/saumitrabg/following{/other_user}","gists_url":"https://api.github.com/users/saumitrabg/gists{/gist_id}","starred_url":"https://api.github.com/users/saumitrabg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saumitrabg/subscriptions","organizations_url":"https://api.github.com/users/saumitrabg/orgs","repos_url":"https://api.github.com/users/saumitrabg/repos","events_url":"https://api.github.com/users/saumitrabg/events{/privacy}","received_events_url":"https://api.github.com/users/saumitrabg/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ultralytics/yolov3/issues/1664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ultralytics/yolov3/issues/1664/timeline","performed_via_github_app":null,"state_reason":"completed"}