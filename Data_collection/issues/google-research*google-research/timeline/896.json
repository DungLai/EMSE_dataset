[{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/971352314","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-971352314","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":971352314,"node_id":"IC_kwDOCQmIhc455aj6","user":{"login":"gezhaoDL","id":19384950,"node_id":"MDQ6VXNlcjE5Mzg0OTUw","avatar_url":"https://avatars.githubusercontent.com/u/19384950?v=4","gravatar_id":"","url":"https://api.github.com/users/gezhaoDL","html_url":"https://github.com/gezhaoDL","followers_url":"https://api.github.com/users/gezhaoDL/followers","following_url":"https://api.github.com/users/gezhaoDL/following{/other_user}","gists_url":"https://api.github.com/users/gezhaoDL/gists{/gist_id}","starred_url":"https://api.github.com/users/gezhaoDL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gezhaoDL/subscriptions","organizations_url":"https://api.github.com/users/gezhaoDL/orgs","repos_url":"https://api.github.com/users/gezhaoDL/repos","events_url":"https://api.github.com/users/gezhaoDL/events{/privacy}","received_events_url":"https://api.github.com/users/gezhaoDL/received_events","type":"User","site_admin":false},"created_at":"2021-11-17T08:33:01Z","updated_at":"2021-11-17T08:33:01Z","author_association":"NONE","body":"For FID，you can refer this repo: https://github.com/bioinf-jku/TTUR","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/971352314/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gezhaoDL","id":19384950,"node_id":"MDQ6VXNlcjE5Mzg0OTUw","avatar_url":"https://avatars.githubusercontent.com/u/19384950?v=4","gravatar_id":"","url":"https://api.github.com/users/gezhaoDL","html_url":"https://github.com/gezhaoDL","followers_url":"https://api.github.com/users/gezhaoDL/followers","following_url":"https://api.github.com/users/gezhaoDL/following{/other_user}","gists_url":"https://api.github.com/users/gezhaoDL/gists{/gist_id}","starred_url":"https://api.github.com/users/gezhaoDL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gezhaoDL/subscriptions","organizations_url":"https://api.github.com/users/gezhaoDL/orgs","repos_url":"https://api.github.com/users/gezhaoDL/repos","events_url":"https://api.github.com/users/gezhaoDL/events{/privacy}","received_events_url":"https://api.github.com/users/gezhaoDL/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/972792332","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-972792332","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":972792332,"node_id":"IC_kwDOCQmIhc45-6IM","user":{"login":"levtelyatnikov","id":23523959,"node_id":"MDQ6VXNlcjIzNTIzOTU5","avatar_url":"https://avatars.githubusercontent.com/u/23523959?v=4","gravatar_id":"","url":"https://api.github.com/users/levtelyatnikov","html_url":"https://github.com/levtelyatnikov","followers_url":"https://api.github.com/users/levtelyatnikov/followers","following_url":"https://api.github.com/users/levtelyatnikov/following{/other_user}","gists_url":"https://api.github.com/users/levtelyatnikov/gists{/gist_id}","starred_url":"https://api.github.com/users/levtelyatnikov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/levtelyatnikov/subscriptions","organizations_url":"https://api.github.com/users/levtelyatnikov/orgs","repos_url":"https://api.github.com/users/levtelyatnikov/repos","events_url":"https://api.github.com/users/levtelyatnikov/events{/privacy}","received_events_url":"https://api.github.com/users/levtelyatnikov/received_events","type":"User","site_admin":false},"created_at":"2021-11-18T11:47:18Z","updated_at":"2021-11-18T11:47:18Z","author_association":"NONE","body":"Hello, have you found a solutions for ur questions? Can you share the notebook for custom dataset?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/972792332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"levtelyatnikov","id":23523959,"node_id":"MDQ6VXNlcjIzNTIzOTU5","avatar_url":"https://avatars.githubusercontent.com/u/23523959?v=4","gravatar_id":"","url":"https://api.github.com/users/levtelyatnikov","html_url":"https://github.com/levtelyatnikov","followers_url":"https://api.github.com/users/levtelyatnikov/followers","following_url":"https://api.github.com/users/levtelyatnikov/following{/other_user}","gists_url":"https://api.github.com/users/levtelyatnikov/gists{/gist_id}","starred_url":"https://api.github.com/users/levtelyatnikov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/levtelyatnikov/subscriptions","organizations_url":"https://api.github.com/users/levtelyatnikov/orgs","repos_url":"https://api.github.com/users/levtelyatnikov/repos","events_url":"https://api.github.com/users/levtelyatnikov/events{/privacy}","received_events_url":"https://api.github.com/users/levtelyatnikov/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/973975533","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-973975533","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":973975533,"node_id":"IC_kwDOCQmIhc46Da_t","user":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false},"created_at":"2021-11-19T11:02:49Z","updated_at":"2021-11-19T11:02:49Z","author_association":"NONE","body":"> Hello, have you found a solutions for ur questions? Can you share the notebook for custom dataset?\r\n\r\nI have provided a link to the notebook above. \r\nPosting again,\r\n[Link to Colab Notebook](https://colab.research.google.com/drive/1hG5t2djdrToWGyQdvGJ3Sf_DkDfWi5jE?usp=sharing)","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/973975533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/985630528","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-985630528","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":985630528,"node_id":"IC_kwDOCQmIhc46v4dA","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-12-03T15:53:23Z","updated_at":"2021-12-03T15:53:34Z","author_association":"CONTRIBUTOR","body":"> Also, the paper mentions 3 different coloured outputs for one input bnw image. How to get such results?\r\n\r\nYou can just run the sampling 3 times, and it will give you 3 different results.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/985630528/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/985632649","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-985632649","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":985632649,"node_id":"IC_kwDOCQmIhc46v4-J","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-12-03T15:56:13Z","updated_at":"2021-12-03T15:56:13Z","author_association":"CONTRIBUTOR","body":"The sampling is stochastic by default, so each run should give you different results. See https://github.com/google-research/google-research/blob/master/coltran/models/colorizer.py#L282","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/985632649/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/986178462","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-986178462","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":986178462,"node_id":"IC_kwDOCQmIhc46x-Oe","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-12-05T07:05:52Z","updated_at":"2021-12-05T07:06:03Z","author_association":"CONTRIBUTOR","body":"> How long do I need to train on a custom dataset?\r\n\r\nThe longer you train, the results will be better.  I would use the maximum batch-size that fits in memory and train for around 500K steps. There should be a `train_summaries` subdirectory in `/content/drive/MyDrive/Colab_Work/HONORS/ColTran-v2/google-research/coltran/logs/cityscapes_ckpt`. For a sanity check, you could point tensorboard to this directory to see if the train loss goes down. \r\n\r\n> How to get the result/output for a custom dataset?\r\n\r\nFor a custom dataset, as ling as your dataset directory is supported by `tf.io.decode_image` (https://www.tensorflow.org/api_docs/python/tf/io/decode_image), it should work.\r\n\r\n> till GPU resource got exhausted\r\n\r\nBtw, the GPU should not OOM during training. That seems a bit weird.\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/986178462/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/986178741","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-986178741","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":986178741,"node_id":"IC_kwDOCQmIhc46x-S1","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-12-05T07:08:31Z","updated_at":"2021-12-05T07:09:07Z","author_association":"CONTRIBUTOR","body":"Here is the FID Script that I used for ImageNet. Hope you can adapt it to your dataset. I used the TFGAN implementation.\r\n(https://github.com/tensorflow/gan/blob/99bb93042520040dac401237616c10e54ab80a9f/tensorflow_gan/python/eval/inception_metrics.py#L130)\r\n\r\n```\r\ndef normalize(x):\r\n  # inception checkpoints expects inputs to be in [-1, 1]\r\n  # https://codesearch.corp.google.com/piper///depot/google3/third_party/py/tensorflow_gan/examples/cifar/eval_lib.py?dr=CSs&g=0&l=34.\r\n  # https://codesearch.corp.google.com/piper///depot/google3/third_party/py/tensorflow_gan/examples/cifar/data_provider.py?dr=CSs&g=0&l=40\r\n  x = tf.squeeze(x['image'], axis=0)\r\n  logging.info(x.shape)\r\n  x = tf.to_float(x)\r\n  # Normalize from [0, 255] to [-1.0, 1.0]\r\n  x = (x / 128.0) - 1.0\r\n  return x\r\n\r\n\r\n# Real dataset.\r\nreal_dataset = datasets.get_dataset(\r\n    name=FLAGS.dataset, subset='test', config=config, batch_size=1)\r\nreal_dataset = real_dataset.map(normalize, num_parallel_calls=100)\r\nreal_dataset = real_dataset.skip(FLAGS.samples)\r\nreal_dataset = real_dataset.batch(batch_size=FLAGS.batch_size)\r\nreal_dataset = real_dataset.skip(skip_samples // FLAGS.batch_size)\r\nreal_iterator = tf.compat.v1.data.make_initializable_iterator(real_dataset)\r\nreal_dataset = real_iterator.get_next()\r\n\r\ngen_dataset = datasets.get_dataset(\r\n    name=FLAGS.dataset, subset='test', config=config, batch_size=1)\r\ngen_dataset = gen_dataset.map(normalize, num_parallel_calls=100)\r\ngen_dataset = gen_dataset.batch(batch_size=FLAGS.batch_size)\r\ngen_iterator = tf.compat.v1.data.make_initializable_iterator(gen_dataset)\r\ngen_dataset = gen_iterator.get_next()\r\n\r\nfid_stream = tfgan.eval.frechet_inception_distance_streaming\r\ndistance, update_op = fid_stream(real_dataset, gen_dataset)\r\nlogging.info(distance)\r\nlogging.info(update_op)\r\n\r\nbatch_size = FLAGS.batch_size\r\nwith tf.Session() as sess:\r\n  init_ops = ([real_iterator.initializer, gen_iterator.initializer,\r\n               tf.initialize_local_variables()])\r\n  sess.run(init_ops)\r\n\r\n  for epoch in range(1, num_epochs + 1):\r\n    sess.run(update_op)\r\n\r\n    if epoch % 10 == 0:\r\n      dist_np = sess.run(distance)\r\n      fid_str = f'Number of samples: {epoch * batch_size}, fid: {dist_np}'\r\n      logging.info(fid_str)\r\n  distance_np = sess.run(distance)\r\n  logging.info(distance_np)\r\n```","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/986178741/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/997058577","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-997058577","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":997058577,"node_id":"IC_kwDOCQmIhc47begR","user":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false},"created_at":"2021-12-17T22:06:19Z","updated_at":"2021-12-17T22:06:19Z","author_association":"NONE","body":"@MechCoder  Thanks a lot for this. I am around halfway done through making one for my dataset, actually running into errors related to TF versions. Hopefully, should be able to resolve this with some more efforts.\r\n\r\nSorry to bother with some more questions\r\n\r\n> real_dataset = datasets.get_dataset(\r\n>    name=FLAGS.dataset, subset='test', config=config, batch_size=1)\r\n\r\nWhat is the config file that is passed as input to this and to gen_dataset as well?\r\n\r\nAlso, Is it okay to use these FID implementations?\r\nhttps://github.com/mseitzer/pytorch-fid\r\nhttps://github.com/toshas/torch-fidelity\r\nI have used them to get results for some other models and were pretty straightforward to use.\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/997058577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false}},{"id":5787090195,"node_id":"MEE_lADOCQmIhc4-3VcUzwAAAAFY7_0T","url":"https://api.github.com/repos/google-research/google-research/issues/events/5787090195","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-12-17T22:06:19Z","performed_via_github_app":null},{"id":5787090197,"node_id":"SE_lADOCQmIhc4-3VcUzwAAAAFY7_0V","url":"https://api.github.com/repos/google-research/google-research/issues/events/5787090197","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-12-17T22:06:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/997197652","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-997197652","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":997197652,"node_id":"IC_kwDOCQmIhc47cAdU","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-12-18T12:46:07Z","updated_at":"2021-12-18T12:46:07Z","author_association":"CONTRIBUTOR","body":"No problem, happy to help.\r\n\r\n> Also, Is it okay to use these FID implementations?\r\n\r\nI think it should be okay as long as you apply the same type of cropping to both generate and evaluate the images. We use central cropping to convert the high-res images into 256x256 (https://github.com/google-research/google-research/blob/master/coltran/datasets.py#L37)\r\n\r\n> What is the config file that is passed as input to this and to gen_dataset as well?\r\n\r\nThe config in my script is just `  config = {'resolution': [FLAGS.resolution, FLAGS.resolution]}`. The above code snippet is to compute the baseline FID between two sets of ground truth images. \r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/997197652/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042616395","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-1042616395","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":1042616395,"node_id":"IC_kwDOCQmIhc4-JRBL","user":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false},"created_at":"2022-02-17T06:27:07Z","updated_at":"2022-02-17T06:27:07Z","author_association":"NONE","body":"I custom trained the 3 models, `Colorizer`, `Color Upsampler` and `Spatial Upsampler` for a custom dataset.\r\nThen used the `custom_colorize` script to get the results.\r\nThe First 2 stages went smooth, got the following error for the 3rd `Spatial Upsampler` step.\r\n\r\nI used this command\r\n```\r\n!python -m coltran.custom_colorize --config=coltran/configs/spatial_upsampler.py \\\r\n--logdir=$SPATIAL_UPSMPLR_LOGDIR --img_dir=$IMG_DIR --store_dir=$STORE_DIR \\\r\n--gen_data_dir=$STORE_DIR/stage2 --mode=$MODE\r\n``` \r\n\r\nI am using google colab. \r\nIs this because of colab GPU limits?\r\nAny help on how to solve this issue?\r\n\r\n\r\n\r\n```\r\n2022-02-16 08:20:45.489115: W tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:39] Overriding allow_growth setting because the TF_FORCE_GPU_ALLOW_GROWTH environment variable is set. Original config value was 0.\r\nWARNING:tensorflow:From /usr/local/lib/python3.7/dist-packages/tensorflow/python/training/moving_averages.py:548: Variable.initialized_value (from tensorflow.python.ops.variables) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse Variable.read_value. Variables in 2.X are initialized automatically both in eager and graph (inside tf.defun) contexts.\r\nW0216 08:20:51.389240 140616530913152 deprecation.py:343] From /usr/local/lib/python3.7/dist-packages/tensorflow/python/training/moving_averages.py:548: Variable.initialized_value (from tensorflow.python.ops.variables) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse Variable.read_value. Variables in 2.X are initialized automatically both in eager and graph (inside tf.defun) contexts.\r\nI0216 08:20:52.797949 140616530913152 train_utils.py:91] Built with exponential moving average.\r\nI0216 08:20:52.813167 140616530913152 train_utils.py:185] Restoring from /content/drive/MyDrive/Colab_Work/HONORS/coltran-v3/coltran-cityscapes-v2-finetune-3/google-research/coltran/logs/cityscapes_ft_spatial_upsampler.\r\nI0216 08:20:56.561913 140616530913152 custom_colorize.py:207] Producing sample after 37600 training steps.\r\nI0216 08:20:56.562508 140616530913152 custom_colorize.py:210] 100\r\n2022-02-16 08:21:08.242997: W tensorflow/core/common_runtime/bfc_allocator.cc:462] Allocator (GPU_0_bfc) ran out of memory trying to allocate 1.25GiB (rounded to 1342177280)requested by op Softmax\r\nIf the cause is memory fragmentation maybe the environment variable 'TF_GPU_ALLOCATOR=cuda_malloc_async' will improve the situation. \r\nCurrent allocation summary follows.\r\nCurrent allocation summary follows.\r\n2022-02-16 08:21:08.243377: W tensorflow/core/common_runtime/bfc_allocator.cc:474] *__**_****_*******________********************************************_______*************__________\r\n2022-02-16 08:21:08.246940: W tensorflow/core/framework/op_kernel.cc:1745] OP_REQUIRES failed at softmax_op_gpu.cu.cc:219 : RESOURCE_EXHAUSTED: OOM when allocating tensor with shape[5,256,256,4,256] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/usr/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/content/drive/MyDrive/Colab_Work/HONORS/coltran-v3/coltran-cityscapes-v2-finetune-3/google-research/coltran/custom_colorize.py\", line 244, in <module>\r\n    app.run(main)\r\n  File \"/usr/local/lib/python3.7/dist-packages/absl/app.py\", line 300, in run\r\n    _run_main(main, args)\r\n  File \"/usr/local/lib/python3.7/dist-packages/absl/app.py\", line 251, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/content/drive/MyDrive/Colab_Work/HONORS/coltran-v3/coltran-cityscapes-v2-finetune-3/google-research/coltran/custom_colorize.py\", line 227, in main\r\n    out = model.sample(gray_cond=gray, inputs=prev_gen, mode='argmax')\r\n  File \"/content/drive/MyDrive/Colab_Work/HONORS/coltran-v3/coltran-cityscapes-v2-finetune-3/google-research/coltran/models/upsampler.py\", line 254, in sample\r\n    logits = self.upsampler(inputs, gray_cond, training=False)\r\n  File \"/content/drive/MyDrive/Colab_Work/HONORS/coltran-v3/coltran-cityscapes-v2-finetune-3/google-research/coltran/models/upsampler.py\", line 245, in upsampler\r\n    context = self.encoder(channel, training=training)\r\n  File \"/usr/local/lib/python3.7/dist-packages/keras/utils/traceback_utils.py\", line 67, in error_handler\r\n    raise e.with_traceback(filtered_tb) from None\r\n  File \"/content/drive/MyDrive/Colab_Work/HONORS/coltran-v3/coltran-cityscapes-v2-finetune-3/google-research/coltran/models/layers.py\", line 668, in call\r\n    output = layer(inputs)\r\n  File \"/content/drive/MyDrive/Colab_Work/HONORS/coltran-v3/coltran-cityscapes-v2-finetune-3/google-research/coltran/models/layers.py\", line 611, in call\r\n    weights = tf.nn.softmax(alphas)\r\ntensorflow.python.framework.errors_impl.ResourceExhaustedError: Exception encountered when calling layer \"self_attention_nd\" (type SelfAttentionND).\r\n\r\nOOM when allocating tensor with shape[5,256,256,4,256] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc [Op:Softmax]\r\n\r\nCall arguments received:\r\n  • inputs=tf.Tensor(shape=(5, 256, 256, 512), dtype=float32)\r\nCPU times: user 294 ms, sys: 59.3 ms, total: 353 ms\r\nWall time: 47.6 s\r\n```","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042616395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042620629","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-1042620629","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":1042620629,"node_id":"IC_kwDOCQmIhc4-JSDV","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2022-02-17T06:35:40Z","updated_at":"2022-02-17T06:35:40Z","author_association":"CONTRIBUTOR","body":"try setting batch size=1, in the spatial upsampler config?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042620629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042622860","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-1042622860","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":1042622860,"node_id":"IC_kwDOCQmIhc4-JSmM","user":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false},"created_at":"2022-02-17T06:40:10Z","updated_at":"2022-02-17T06:40:10Z","author_association":"NONE","body":"This is my `coltran/configs/spatial_upsampler.py`\r\nSeems the batch_size is 1\r\n\r\n```\r\n# coding=utf-8\r\n# Copyright 2021 The Google Research Authors.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\");\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#     http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\n\"\"\"Test configurations for color upsampler.\"\"\"\r\nfrom ml_collections import ConfigDict\r\n\r\n\r\ndef get_config():\r\n  \"\"\"Experiment configuration.\"\"\"\r\n  config = ConfigDict()\r\n\r\n  # Data.\r\n  config.dataset = 'imagenet'\r\n  config.downsample = True\r\n  config.downsample_res = 64\r\n  config.resolution = [256, 256]\r\n  config.random_channel = True\r\n\r\n  # Training.\r\n  config.batch_size = 1\r\n  config.max_train_steps = 300000\r\n  config.save_checkpoint_secs = 900\r\n  config.num_epochs = -1\r\n  config.polyak_decay = 0.999\r\n  config.eval_num_examples = 20000\r\n  config.eval_batch_size = 16\r\n  config.eval_checkpoint_wait_secs = -1\r\n\r\n  config.optimizer = ConfigDict()\r\n  config.optimizer.type = 'rmsprop'\r\n  config.optimizer.learning_rate = 3e-4\r\n\r\n  # Model.\r\n  config.model = ConfigDict()\r\n  config.model.hidden_size = 512\r\n  config.model.ff_size = 512\r\n  config.model.num_heads = 4\r\n  config.model.num_encoder_layers = 3\r\n  config.model.resolution = [64, 64]\r\n  config.model.name = 'spatial_upsampler'\r\n\r\n  config.sample = ConfigDict()\r\n  config.sample.gen_data_dir = ''\r\n  config.sample.log_dir = 'samples_sweep'\r\n  config.sample.batch_size = 1\r\n  config.sample.mode = 'argmax'\r\n  config.sample.num_samples = 1\r\n  config.sample.num_outputs = 1\r\n  config.sample.skip_batches = 0\r\n  config.sample.gen_file = 'gen0'\r\n\r\n  return config\r\n```","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042622860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042629491","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-1042629491","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":1042629491,"node_id":"IC_kwDOCQmIhc4-JUNz","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2022-02-17T06:53:39Z","updated_at":"2022-02-17T06:53:39Z","author_association":"CONTRIBUTOR","body":"Does this comment fix your issue? (https://github.com/google-research/google-research/issues/838#issuecomment-930699980)","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042629491/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042646811","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-1042646811","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":1042646811,"node_id":"IC_kwDOCQmIhc4-JYcb","user":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false},"created_at":"2022-02-17T07:23:42Z","updated_at":"2022-02-17T07:23:42Z","author_association":"NONE","body":"Yes, Thanks. \r\nI feel stupid for not checking that before. 🤦‍♂️😂","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1042646811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false}},{"actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2022-03-08T08:14:18Z","updated_at":"2022-03-08T08:14:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/google-research/google-research/issues/1020","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/1020/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/1020/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/1020/events","html_url":"https://github.com/google-research/google-research/issues/1020","id":1161482856,"node_id":"I_kwDOCQmIhc5FOtJo","number":1020,"title":"ColTran: FID calculation","user":{"login":"WangFeng18","id":43294876,"node_id":"MDQ6VXNlcjQzMjk0ODc2","avatar_url":"https://avatars.githubusercontent.com/u/43294876?v=4","gravatar_id":"","url":"https://api.github.com/users/WangFeng18","html_url":"https://github.com/WangFeng18","followers_url":"https://api.github.com/users/WangFeng18/followers","following_url":"https://api.github.com/users/WangFeng18/following{/other_user}","gists_url":"https://api.github.com/users/WangFeng18/gists{/gist_id}","starred_url":"https://api.github.com/users/WangFeng18/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WangFeng18/subscriptions","organizations_url":"https://api.github.com/users/WangFeng18/orgs","repos_url":"https://api.github.com/users/WangFeng18/repos","events_url":"https://api.github.com/users/WangFeng18/events{/privacy}","received_events_url":"https://api.github.com/users/WangFeng18/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-03-07T14:20:33Z","updated_at":"2022-03-08T10:55:53Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"repository":{"id":151619717,"node_id":"MDEwOlJlcG9zaXRvcnkxNTE2MTk3MTc=","name":"google-research","full_name":"google-research/google-research","private":false,"owner":{"login":"google-research","id":43830688,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzODMwNjg4","avatar_url":"https://avatars.githubusercontent.com/u/43830688?v=4","gravatar_id":"","url":"https://api.github.com/users/google-research","html_url":"https://github.com/google-research","followers_url":"https://api.github.com/users/google-research/followers","following_url":"https://api.github.com/users/google-research/following{/other_user}","gists_url":"https://api.github.com/users/google-research/gists{/gist_id}","starred_url":"https://api.github.com/users/google-research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/google-research/subscriptions","organizations_url":"https://api.github.com/users/google-research/orgs","repos_url":"https://api.github.com/users/google-research/repos","events_url":"https://api.github.com/users/google-research/events{/privacy}","received_events_url":"https://api.github.com/users/google-research/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/google-research/google-research","description":"Google Research","fork":false,"url":"https://api.github.com/repos/google-research/google-research","forks_url":"https://api.github.com/repos/google-research/google-research/forks","keys_url":"https://api.github.com/repos/google-research/google-research/keys{/key_id}","collaborators_url":"https://api.github.com/repos/google-research/google-research/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/google-research/google-research/teams","hooks_url":"https://api.github.com/repos/google-research/google-research/hooks","issue_events_url":"https://api.github.com/repos/google-research/google-research/issues/events{/number}","events_url":"https://api.github.com/repos/google-research/google-research/events","assignees_url":"https://api.github.com/repos/google-research/google-research/assignees{/user}","branches_url":"https://api.github.com/repos/google-research/google-research/branches{/branch}","tags_url":"https://api.github.com/repos/google-research/google-research/tags","blobs_url":"https://api.github.com/repos/google-research/google-research/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/google-research/google-research/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/google-research/google-research/git/refs{/sha}","trees_url":"https://api.github.com/repos/google-research/google-research/git/trees{/sha}","statuses_url":"https://api.github.com/repos/google-research/google-research/statuses/{sha}","languages_url":"https://api.github.com/repos/google-research/google-research/languages","stargazers_url":"https://api.github.com/repos/google-research/google-research/stargazers","contributors_url":"https://api.github.com/repos/google-research/google-research/contributors","subscribers_url":"https://api.github.com/repos/google-research/google-research/subscribers","subscription_url":"https://api.github.com/repos/google-research/google-research/subscription","commits_url":"https://api.github.com/repos/google-research/google-research/commits{/sha}","git_commits_url":"https://api.github.com/repos/google-research/google-research/git/commits{/sha}","comments_url":"https://api.github.com/repos/google-research/google-research/comments{/number}","issue_comment_url":"https://api.github.com/repos/google-research/google-research/issues/comments{/number}","contents_url":"https://api.github.com/repos/google-research/google-research/contents/{+path}","compare_url":"https://api.github.com/repos/google-research/google-research/compare/{base}...{head}","merges_url":"https://api.github.com/repos/google-research/google-research/merges","archive_url":"https://api.github.com/repos/google-research/google-research/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/google-research/google-research/downloads","issues_url":"https://api.github.com/repos/google-research/google-research/issues{/number}","pulls_url":"https://api.github.com/repos/google-research/google-research/pulls{/number}","milestones_url":"https://api.github.com/repos/google-research/google-research/milestones{/number}","notifications_url":"https://api.github.com/repos/google-research/google-research/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/google-research/google-research/labels{/name}","releases_url":"https://api.github.com/repos/google-research/google-research/releases{/id}","deployments_url":"https://api.github.com/repos/google-research/google-research/deployments","created_at":"2018-10-04T18:42:48Z","updated_at":"2023-01-20T00:41:48Z","pushed_at":"2023-01-19T23:45:46Z","git_url":"git://github.com/google-research/google-research.git","ssh_url":"git@github.com:google-research/google-research.git","clone_url":"https://github.com/google-research/google-research.git","svn_url":"https://github.com/google-research/google-research","homepage":"https://research.google","size":371210,"stargazers_count":26828,"watchers_count":26828,"language":"Jupyter Notebook","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6663,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":904,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ai","machine-learning","research"],"visibility":"public","forks":6663,"open_issues":904,"watchers":26828,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Thanks for providing the codes. I'd like to know how to calculate the fid between the colorization and ground truth.\r\nIn your paper, you state that generate 5000 colorizations and there is no overlap between colorization and ground truths. So how the two datasets (colorization and ground truth) are splitted.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/1020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/1020/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1092178881","html_url":"https://github.com/google-research/google-research/issues/896#issuecomment-1092178881","issue_url":"https://api.github.com/repos/google-research/google-research/issues/896","id":1092178881,"node_id":"IC_kwDOCQmIhc5BGVPB","user":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false},"created_at":"2022-04-07T20:37:32Z","updated_at":"2022-04-07T20:37:32Z","author_association":"NONE","body":"### ImageNet FID Scores not matching with the paper\r\n\r\nWhat I did\r\n1. Used the pretrained checkpoints given\r\n2. Finetune them on a custom Imagenet dataset (a smaller version of 1000 train images) for all 3 steps, for around 10 epochs using `coltran.run` script \r\n3. Generate output using `coltran.custom_colorize` script\r\n4. Calculate FID using this package [pytorch-fid](https://pypi.org/project/pytorch-fid/) \r\n\r\nGot FID score of around `59` while the FID score mentioned in paper is around `19`.\r\n\r\nWhile calculating FID, both ground truth and generated images (count 436) are of res 256x256.\r\n\r\nGroundTruth Images\r\n![image](https://user-images.githubusercontent.com/42700922/162290277-32d4e856-1317-46c2-ad07-a0e6651c0ec1.png)\r\n\r\nGenerated Images\r\n![image](https://user-images.githubusercontent.com/42700922/162290363-203e1eeb-77a3-43f6-adf9-33f8440f385f.png)\r\n\r\n\r\n- Am I missing any step or anything I am not taking into consideration?\r\n- Anything to do with the fid package used? (I tried the script mentioned earlier here, but TF versions are creating issues and this one is a lot simpler to use)\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1092178881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ketan-lambat","id":42700922,"node_id":"MDQ6VXNlcjQyNzAwOTIy","avatar_url":"https://avatars.githubusercontent.com/u/42700922?v=4","gravatar_id":"","url":"https://api.github.com/users/ketan-lambat","html_url":"https://github.com/ketan-lambat","followers_url":"https://api.github.com/users/ketan-lambat/followers","following_url":"https://api.github.com/users/ketan-lambat/following{/other_user}","gists_url":"https://api.github.com/users/ketan-lambat/gists{/gist_id}","starred_url":"https://api.github.com/users/ketan-lambat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ketan-lambat/subscriptions","organizations_url":"https://api.github.com/users/ketan-lambat/orgs","repos_url":"https://api.github.com/users/ketan-lambat/repos","events_url":"https://api.github.com/users/ketan-lambat/events{/privacy}","received_events_url":"https://api.github.com/users/ketan-lambat/received_events","type":"User","site_admin":false}}]