[{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/946462301","html_url":"https://github.com/google-research/google-research/issues/849#issuecomment-946462301","issue_url":"https://api.github.com/repos/google-research/google-research/issues/849","id":946462301,"node_id":"IC_kwDOCQmIhc44ad5d","user":{"login":"s-tory","id":55912168,"node_id":"MDQ6VXNlcjU1OTEyMTY4","avatar_url":"https://avatars.githubusercontent.com/u/55912168?v=4","gravatar_id":"","url":"https://api.github.com/users/s-tory","html_url":"https://github.com/s-tory","followers_url":"https://api.github.com/users/s-tory/followers","following_url":"https://api.github.com/users/s-tory/following{/other_user}","gists_url":"https://api.github.com/users/s-tory/gists{/gist_id}","starred_url":"https://api.github.com/users/s-tory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s-tory/subscriptions","organizations_url":"https://api.github.com/users/s-tory/orgs","repos_url":"https://api.github.com/users/s-tory/repos","events_url":"https://api.github.com/users/s-tory/events{/privacy}","received_events_url":"https://api.github.com/users/s-tory/received_events","type":"User","site_admin":false},"created_at":"2021-10-19T08:03:20Z","updated_at":"2021-10-20T04:22:54Z","author_association":"NONE","body":"Maybe your input image is too large.\r\nTry to shrink the image width to 1400px keeping aspect ratio.\r\n\r\nThe memory usage of HITNET model depends on the input image size.\r\nI don't know why it is so.\r\n\r\nThe width of the following `half-resolution` is 1400px.\r\n> [Three models are provided, with maximum disparity set to 160, 288, 400. The models are trained and designed to run on half-resolution input images.](https://github.com/google-research/google-research/tree/master/hitnet#middlebury)","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/946462301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"s-tory","id":55912168,"node_id":"MDQ6VXNlcjU1OTEyMTY4","avatar_url":"https://avatars.githubusercontent.com/u/55912168?v=4","gravatar_id":"","url":"https://api.github.com/users/s-tory","html_url":"https://github.com/s-tory","followers_url":"https://api.github.com/users/s-tory/followers","following_url":"https://api.github.com/users/s-tory/following{/other_user}","gists_url":"https://api.github.com/users/s-tory/gists{/gist_id}","starred_url":"https://api.github.com/users/s-tory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s-tory/subscriptions","organizations_url":"https://api.github.com/users/s-tory/orgs","repos_url":"https://api.github.com/users/s-tory/repos","events_url":"https://api.github.com/users/s-tory/events{/privacy}","received_events_url":"https://api.github.com/users/s-tory/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/948375801","html_url":"https://github.com/google-research/google-research/issues/849#issuecomment-948375801","issue_url":"https://api.github.com/repos/google-research/google-research/issues/849","id":948375801,"node_id":"IC_kwDOCQmIhc44hxD5","user":{"login":"jahad9819jjj","id":40851882,"node_id":"MDQ6VXNlcjQwODUxODgy","avatar_url":"https://avatars.githubusercontent.com/u/40851882?v=4","gravatar_id":"","url":"https://api.github.com/users/jahad9819jjj","html_url":"https://github.com/jahad9819jjj","followers_url":"https://api.github.com/users/jahad9819jjj/followers","following_url":"https://api.github.com/users/jahad9819jjj/following{/other_user}","gists_url":"https://api.github.com/users/jahad9819jjj/gists{/gist_id}","starred_url":"https://api.github.com/users/jahad9819jjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jahad9819jjj/subscriptions","organizations_url":"https://api.github.com/users/jahad9819jjj/orgs","repos_url":"https://api.github.com/users/jahad9819jjj/repos","events_url":"https://api.github.com/users/jahad9819jjj/events{/privacy}","received_events_url":"https://api.github.com/users/jahad9819jjj/received_events","type":"User","site_admin":false},"created_at":"2021-10-21T08:23:01Z","updated_at":"2021-10-21T08:25:37Z","author_association":"NONE","body":"> Maybe your input image is too large. Try to shrink the image width to 1400px keeping aspect ratio.\r\n> \r\n> The memory usage of HITNET model depends on the input image size. I don't know why it is so.\r\n> \r\n> The width of the following `half-resolution` is 1400px.\r\n> \r\n> > [Three models are provided, with maximum disparity set to 160, 288, 400. The models are trained and designed to run on half-resolution input images.](https://github.com/google-research/google-research/tree/master/hitnet#middlebury)\r\n\r\nOkay, so I tried to check resolution below : \r\n```\r\nIn [1]: import cv2\r\n\r\nIn [2]: img_l = cv2.imread('/home/ubuntu/Flowers-perfect/im0.png')\r\n\r\nIn [3]: img_l.shape[0]\r\nOut[3]: 1980\r\n\r\nIn [4]: img_l.shape[1]\r\nOut[4]: 2880\r\n```\r\nand I have created the following shell script that crops and then inputs image-pair into HITNET like this.\r\n```\r\nMODEL_PATH=\"/tmp/hitnet/models\"\r\n\r\n# max_disparity = 400\r\nMODEL_NAME=\"middlebury_d400.pb\"\r\n\r\nDATA_PATTERN=\"/workspace/hitnet/Flowers-perfect/\"\r\n\r\nLEFT_PATTERN=\"/workspace/hitnet/Flowers-perfect/im0.png\"\r\nRIGHT_PATTERN=\"/workspace/hitnet/Flowers-perfect/im1.png\"\r\nGT_LEFT_PATTERN=\"/workspace/hitnet/Flowers-perfect/disp0.pfm\"\r\n\r\n#!/bin/bash\r\nset -e\r\nset -x\r\n\r\n\r\npip3 install -r requirements.txt\r\n\r\nmkdir -p $MODEL_PATH\r\nwget -P $MODEL_PATH -N https://storage.googleapis.com/tensorflow-graphics/models/hitnet/default_models/$MODEL_NAME\r\n\r\npython3 predict_test.py \\\r\n  --data_pattern=$DATA_PATTERN \\\r\n  --model_path=$MODEL_PATH/$MODEL_NAME \\\r\n  --png_disparity_factor=128 \\\r\n  --iml_pattern=$LEFT_PATTERN \\\r\n  --imr_pattern=$RIGHT_PATTERN \\\r\n  --gtl_pattern=$GT_LEFT_PATTERN \\\r\n  --input_channels=3 \\\r\n  --predict_right=false \\\r\n  --save_png=true \\\r\n  --save_pfm=true \\\r\n  --evaluate=false \\\r\n  --max_test_number=10000 \\\r\n  --crop_left 990 \\\r\n  --crop_bottom 1440\r\n```\r\n\r\nBut I got same errors...\r\n\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/948375801/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":2,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jahad9819jjj","id":40851882,"node_id":"MDQ6VXNlcjQwODUxODgy","avatar_url":"https://avatars.githubusercontent.com/u/40851882?v=4","gravatar_id":"","url":"https://api.github.com/users/jahad9819jjj","html_url":"https://github.com/jahad9819jjj","followers_url":"https://api.github.com/users/jahad9819jjj/followers","following_url":"https://api.github.com/users/jahad9819jjj/following{/other_user}","gists_url":"https://api.github.com/users/jahad9819jjj/gists{/gist_id}","starred_url":"https://api.github.com/users/jahad9819jjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jahad9819jjj/subscriptions","organizations_url":"https://api.github.com/users/jahad9819jjj/orgs","repos_url":"https://api.github.com/users/jahad9819jjj/repos","events_url":"https://api.github.com/users/jahad9819jjj/events{/privacy}","received_events_url":"https://api.github.com/users/jahad9819jjj/received_events","type":"User","site_admin":false}},{"id":5505280187,"node_id":"CE_lADOCQmIhc49YonvzwAAAAFII-i7","url":"https://api.github.com/repos/google-research/google-research/issues/events/5505280187","actor":{"login":"jahad9819jjj","id":40851882,"node_id":"MDQ6VXNlcjQwODUxODgy","avatar_url":"https://avatars.githubusercontent.com/u/40851882?v=4","gravatar_id":"","url":"https://api.github.com/users/jahad9819jjj","html_url":"https://github.com/jahad9819jjj","followers_url":"https://api.github.com/users/jahad9819jjj/followers","following_url":"https://api.github.com/users/jahad9819jjj/following{/other_user}","gists_url":"https://api.github.com/users/jahad9819jjj/gists{/gist_id}","starred_url":"https://api.github.com/users/jahad9819jjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jahad9819jjj/subscriptions","organizations_url":"https://api.github.com/users/jahad9819jjj/orgs","repos_url":"https://api.github.com/users/jahad9819jjj/repos","events_url":"https://api.github.com/users/jahad9819jjj/events{/privacy}","received_events_url":"https://api.github.com/users/jahad9819jjj/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-10-22T14:29:39Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1057728042","html_url":"https://github.com/google-research/google-research/issues/849#issuecomment-1057728042","issue_url":"https://api.github.com/repos/google-research/google-research/issues/849","id":1057728042,"node_id":"IC_kwDOCQmIhc4_C6Yq","user":{"login":"FUJI-W","id":81544404,"node_id":"MDQ6VXNlcjgxNTQ0NDA0","avatar_url":"https://avatars.githubusercontent.com/u/81544404?v=4","gravatar_id":"","url":"https://api.github.com/users/FUJI-W","html_url":"https://github.com/FUJI-W","followers_url":"https://api.github.com/users/FUJI-W/followers","following_url":"https://api.github.com/users/FUJI-W/following{/other_user}","gists_url":"https://api.github.com/users/FUJI-W/gists{/gist_id}","starred_url":"https://api.github.com/users/FUJI-W/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FUJI-W/subscriptions","organizations_url":"https://api.github.com/users/FUJI-W/orgs","repos_url":"https://api.github.com/users/FUJI-W/repos","events_url":"https://api.github.com/users/FUJI-W/events{/privacy}","received_events_url":"https://api.github.com/users/FUJI-W/received_events","type":"User","site_admin":false},"created_at":"2022-03-03T06:45:00Z","updated_at":"2022-03-03T06:45:00Z","author_association":"NONE","body":"I tried HITNET with GPU: Nvidia GeForce RTX 3060, Memory Size : 6GB. \r\nAnd I get the same error. Have you solved it now? \r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1057728042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"FUJI-W","id":81544404,"node_id":"MDQ6VXNlcjgxNTQ0NDA0","avatar_url":"https://avatars.githubusercontent.com/u/81544404?v=4","gravatar_id":"","url":"https://api.github.com/users/FUJI-W","html_url":"https://github.com/FUJI-W","followers_url":"https://api.github.com/users/FUJI-W/followers","following_url":"https://api.github.com/users/FUJI-W/following{/other_user}","gists_url":"https://api.github.com/users/FUJI-W/gists{/gist_id}","starred_url":"https://api.github.com/users/FUJI-W/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FUJI-W/subscriptions","organizations_url":"https://api.github.com/users/FUJI-W/orgs","repos_url":"https://api.github.com/users/FUJI-W/repos","events_url":"https://api.github.com/users/FUJI-W/events{/privacy}","received_events_url":"https://api.github.com/users/FUJI-W/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1057748883","html_url":"https://github.com/google-research/google-research/issues/849#issuecomment-1057748883","issue_url":"https://api.github.com/repos/google-research/google-research/issues/849","id":1057748883,"node_id":"IC_kwDOCQmIhc4_C_eT","user":{"login":"jahad9819jjj","id":40851882,"node_id":"MDQ6VXNlcjQwODUxODgy","avatar_url":"https://avatars.githubusercontent.com/u/40851882?v=4","gravatar_id":"","url":"https://api.github.com/users/jahad9819jjj","html_url":"https://github.com/jahad9819jjj","followers_url":"https://api.github.com/users/jahad9819jjj/followers","following_url":"https://api.github.com/users/jahad9819jjj/following{/other_user}","gists_url":"https://api.github.com/users/jahad9819jjj/gists{/gist_id}","starred_url":"https://api.github.com/users/jahad9819jjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jahad9819jjj/subscriptions","organizations_url":"https://api.github.com/users/jahad9819jjj/orgs","repos_url":"https://api.github.com/users/jahad9819jjj/repos","events_url":"https://api.github.com/users/jahad9819jjj/events{/privacy}","received_events_url":"https://api.github.com/users/jahad9819jjj/received_events","type":"User","site_admin":false},"created_at":"2022-03-03T07:21:12Z","updated_at":"2022-03-03T07:21:12Z","author_association":"NONE","body":"@FUJI-W It is not an essential solution, but it could be deduced by downsampling the input image.\nThe resolution criteria at that time were not clear, and 1080/720 could be inferred, but not 720/480, so experimental downsampling was necessary.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1057748883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jahad9819jjj","id":40851882,"node_id":"MDQ6VXNlcjQwODUxODgy","avatar_url":"https://avatars.githubusercontent.com/u/40851882?v=4","gravatar_id":"","url":"https://api.github.com/users/jahad9819jjj","html_url":"https://github.com/jahad9819jjj","followers_url":"https://api.github.com/users/jahad9819jjj/followers","following_url":"https://api.github.com/users/jahad9819jjj/following{/other_user}","gists_url":"https://api.github.com/users/jahad9819jjj/gists{/gist_id}","starred_url":"https://api.github.com/users/jahad9819jjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jahad9819jjj/subscriptions","organizations_url":"https://api.github.com/users/jahad9819jjj/orgs","repos_url":"https://api.github.com/users/jahad9819jjj/repos","events_url":"https://api.github.com/users/jahad9819jjj/events{/privacy}","received_events_url":"https://api.github.com/users/jahad9819jjj/received_events","type":"User","site_admin":false}},{"id":6176000086,"node_id":"MEE_lADOCQmIhc49YonvzwAAAAFwHkhW","url":"https://api.github.com/repos/google-research/google-research/issues/events/6176000086","actor":{"login":"FUJI-W","id":81544404,"node_id":"MDQ6VXNlcjgxNTQ0NDA0","avatar_url":"https://avatars.githubusercontent.com/u/81544404?v=4","gravatar_id":"","url":"https://api.github.com/users/FUJI-W","html_url":"https://github.com/FUJI-W","followers_url":"https://api.github.com/users/FUJI-W/followers","following_url":"https://api.github.com/users/FUJI-W/following{/other_user}","gists_url":"https://api.github.com/users/FUJI-W/gists{/gist_id}","starred_url":"https://api.github.com/users/FUJI-W/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FUJI-W/subscriptions","organizations_url":"https://api.github.com/users/FUJI-W/orgs","repos_url":"https://api.github.com/users/FUJI-W/repos","events_url":"https://api.github.com/users/FUJI-W/events{/privacy}","received_events_url":"https://api.github.com/users/FUJI-W/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-03-03T07:21:12Z","performed_via_github_app":null},{"id":6176000089,"node_id":"SE_lADOCQmIhc49YonvzwAAAAFwHkhZ","url":"https://api.github.com/repos/google-research/google-research/issues/events/6176000089","actor":{"login":"FUJI-W","id":81544404,"node_id":"MDQ6VXNlcjgxNTQ0NDA0","avatar_url":"https://avatars.githubusercontent.com/u/81544404?v=4","gravatar_id":"","url":"https://api.github.com/users/FUJI-W","html_url":"https://github.com/FUJI-W","followers_url":"https://api.github.com/users/FUJI-W/followers","following_url":"https://api.github.com/users/FUJI-W/following{/other_user}","gists_url":"https://api.github.com/users/FUJI-W/gists{/gist_id}","starred_url":"https://api.github.com/users/FUJI-W/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FUJI-W/subscriptions","organizations_url":"https://api.github.com/users/FUJI-W/orgs","repos_url":"https://api.github.com/users/FUJI-W/repos","events_url":"https://api.github.com/users/FUJI-W/events{/privacy}","received_events_url":"https://api.github.com/users/FUJI-W/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-03-03T07:21:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1057758975","html_url":"https://github.com/google-research/google-research/issues/849#issuecomment-1057758975","issue_url":"https://api.github.com/repos/google-research/google-research/issues/849","id":1057758975,"node_id":"IC_kwDOCQmIhc4_DB7_","user":{"login":"FUJI-W","id":81544404,"node_id":"MDQ6VXNlcjgxNTQ0NDA0","avatar_url":"https://avatars.githubusercontent.com/u/81544404?v=4","gravatar_id":"","url":"https://api.github.com/users/FUJI-W","html_url":"https://github.com/FUJI-W","followers_url":"https://api.github.com/users/FUJI-W/followers","following_url":"https://api.github.com/users/FUJI-W/following{/other_user}","gists_url":"https://api.github.com/users/FUJI-W/gists{/gist_id}","starred_url":"https://api.github.com/users/FUJI-W/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FUJI-W/subscriptions","organizations_url":"https://api.github.com/users/FUJI-W/orgs","repos_url":"https://api.github.com/users/FUJI-W/repos","events_url":"https://api.github.com/users/FUJI-W/events{/privacy}","received_events_url":"https://api.github.com/users/FUJI-W/received_events","type":"User","site_admin":false},"created_at":"2022-03-03T07:38:35Z","updated_at":"2022-03-03T07:38:35Z","author_association":"NONE","body":"Thanks a lot! It works! ","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/1057758975/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"FUJI-W","id":81544404,"node_id":"MDQ6VXNlcjgxNTQ0NDA0","avatar_url":"https://avatars.githubusercontent.com/u/81544404?v=4","gravatar_id":"","url":"https://api.github.com/users/FUJI-W","html_url":"https://github.com/FUJI-W","followers_url":"https://api.github.com/users/FUJI-W/followers","following_url":"https://api.github.com/users/FUJI-W/following{/other_user}","gists_url":"https://api.github.com/users/FUJI-W/gists{/gist_id}","starred_url":"https://api.github.com/users/FUJI-W/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FUJI-W/subscriptions","organizations_url":"https://api.github.com/users/FUJI-W/orgs","repos_url":"https://api.github.com/users/FUJI-W/repos","events_url":"https://api.github.com/users/FUJI-W/events{/privacy}","received_events_url":"https://api.github.com/users/FUJI-W/received_events","type":"User","site_admin":false}}]