[{"id":2171798621,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjE3MTc5ODYyMQ==","url":"https://api.github.com/repos/google-research/google-research/issues/events/2171798621","actor":{"login":"sarahooker","id":12467272,"node_id":"MDQ6VXNlcjEyNDY3Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/12467272?v=4","gravatar_id":"","url":"https://api.github.com/users/sarahooker","html_url":"https://github.com/sarahooker","followers_url":"https://api.github.com/users/sarahooker/followers","following_url":"https://api.github.com/users/sarahooker/following{/other_user}","gists_url":"https://api.github.com/users/sarahooker/gists{/gist_id}","starred_url":"https://api.github.com/users/sarahooker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sarahooker/subscriptions","organizations_url":"https://api.github.com/users/sarahooker/orgs","repos_url":"https://api.github.com/users/sarahooker/repos","events_url":"https://api.github.com/users/sarahooker/events{/privacy}","received_events_url":"https://api.github.com/users/sarahooker/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-02-28T17:38:07Z","performed_via_github_app":null},{"id":2171798622,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxNzE3OTg2MjI=","url":"https://api.github.com/repos/google-research/google-research/issues/events/2171798622","actor":{"login":"sarahooker","id":12467272,"node_id":"MDQ6VXNlcjEyNDY3Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/12467272?v=4","gravatar_id":"","url":"https://api.github.com/users/sarahooker","html_url":"https://github.com/sarahooker","followers_url":"https://api.github.com/users/sarahooker/followers","following_url":"https://api.github.com/users/sarahooker/following{/other_user}","gists_url":"https://api.github.com/users/sarahooker/gists{/gist_id}","starred_url":"https://api.github.com/users/sarahooker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sarahooker/subscriptions","organizations_url":"https://api.github.com/users/sarahooker/orgs","repos_url":"https://api.github.com/users/sarahooker/repos","events_url":"https://api.github.com/users/sarahooker/events{/privacy}","received_events_url":"https://api.github.com/users/sarahooker/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-02-28T17:38:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/468823413","html_url":"https://github.com/google-research/google-research/issues/15#issuecomment-468823413","issue_url":"https://api.github.com/repos/google-research/google-research/issues/15","id":468823413,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODgyMzQxMw==","user":{"login":"sarahooker","id":12467272,"node_id":"MDQ6VXNlcjEyNDY3Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/12467272?v=4","gravatar_id":"","url":"https://api.github.com/users/sarahooker","html_url":"https://github.com/sarahooker","followers_url":"https://api.github.com/users/sarahooker/followers","following_url":"https://api.github.com/users/sarahooker/following{/other_user}","gists_url":"https://api.github.com/users/sarahooker/gists{/gist_id}","starred_url":"https://api.github.com/users/sarahooker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sarahooker/subscriptions","organizations_url":"https://api.github.com/users/sarahooker/orgs","repos_url":"https://api.github.com/users/sarahooker/repos","events_url":"https://api.github.com/users/sarahooker/events{/privacy}","received_events_url":"https://api.github.com/users/sarahooker/received_events","type":"User","site_admin":false},"created_at":"2019-03-01T21:48:08Z","updated_at":"2019-03-01T21:48:08Z","author_association":"CONTRIBUTOR","body":"Hi Ian, \r\n \r\nWonderful to hear you enjoyed our work! Thanks for these comments, I've put together some thoughts below. I'll tag an owner of this shared research repo to close this issue, but feel free to move this to email if you have additional questions (author email address for correspondence is listed in our [paper](https://arxiv.org/abs/1902.09574).\r\n \r\n1) Lottery ticket experiments using one-shot sparsification instead of iterative pruning\r\n \r\nI agree, it would be fun to evaluate whether the lottery ticket results hold on these large scale tasks with “one-shot” sparsification. In fact, one of the variants in [The lottery ticket hypothesis](https://arxiv.org/pdf/1803.03635.pdf) is whether lottery tickets occur in both _one shot pruning_ and _iteratively pruned_ networks. \r\n \r\nHowever, for both _one shot_ and  _iteratively pruned_ networks the authors compare the **1)** performance of the sparse substructure trained from scratch (with same weights as initial random initialization) to **2)** the performance of the original network. \r\n \r\nHowever, the variant you propose appears to quite different, because you are comparing the performance of the sparse substructure trained from scratch (with same weights as initial random initialization) to the _one shot pruned_ structure at the end of training.\r\n\r\nSince both variants would likely perform substantially worse than the original model, it is unclear what information we gain here. I.e., you won't be able to tell whether one’s ability to match accuracy when re-training is a product of your hypothesis or just because the accuracy to match is worse (We suspect it is the latter). It's an interesting question, but I don't see a clear way to clearly disentangle the answer. Still easy to run this variant, and perhaps the results will surprise. :)  You can simply run the magnitude pruning for a desired fraction of sparsity once at the end of pruning (I believe by setting the begin_pruning_step and end_pruning_step both to equal one before the last step of training).\r\n \r\n2) Knowledge reconstitution\r\n \r\nHmmm, this I know less about.  I believe Erich Elsen, one of my co-authors worked on a project related to this idea called [dense-sparse-dense](https://arxiv.org/pdf/1607.04381.pdf). \r\n \r\nHope these answers are somewhat helpful. Thanks again Ian for taking the time to put together these thoughts.\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/468823413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sarahooker","id":12467272,"node_id":"MDQ6VXNlcjEyNDY3Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/12467272?v=4","gravatar_id":"","url":"https://api.github.com/users/sarahooker","html_url":"https://github.com/sarahooker","followers_url":"https://api.github.com/users/sarahooker/followers","following_url":"https://api.github.com/users/sarahooker/following{/other_user}","gists_url":"https://api.github.com/users/sarahooker/gists{/gist_id}","starred_url":"https://api.github.com/users/sarahooker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sarahooker/subscriptions","organizations_url":"https://api.github.com/users/sarahooker/orgs","repos_url":"https://api.github.com/users/sarahooker/repos","events_url":"https://api.github.com/users/sarahooker/events{/privacy}","received_events_url":"https://api.github.com/users/sarahooker/received_events","type":"User","site_admin":false}},{"id":2175594000,"node_id":"MDExOkNsb3NlZEV2ZW50MjE3NTU5NDAwMA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/2175594000","actor":{"login":"dbieber","id":892765,"node_id":"MDQ6VXNlcjg5Mjc2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/892765?v=4","gravatar_id":"","url":"https://api.github.com/users/dbieber","html_url":"https://github.com/dbieber","followers_url":"https://api.github.com/users/dbieber/followers","following_url":"https://api.github.com/users/dbieber/following{/other_user}","gists_url":"https://api.github.com/users/dbieber/gists{/gist_id}","starred_url":"https://api.github.com/users/dbieber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbieber/subscriptions","organizations_url":"https://api.github.com/users/dbieber/orgs","repos_url":"https://api.github.com/users/dbieber/repos","events_url":"https://api.github.com/users/dbieber/events{/privacy}","received_events_url":"https://api.github.com/users/dbieber/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-02T05:24:57Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/469024375","html_url":"https://github.com/google-research/google-research/issues/15#issuecomment-469024375","issue_url":"https://api.github.com/repos/google-research/google-research/issues/15","id":469024375,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTAyNDM3NQ==","user":{"login":"ekelsen","id":2533174,"node_id":"MDQ6VXNlcjI1MzMxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2533174?v=4","gravatar_id":"","url":"https://api.github.com/users/ekelsen","html_url":"https://github.com/ekelsen","followers_url":"https://api.github.com/users/ekelsen/followers","following_url":"https://api.github.com/users/ekelsen/following{/other_user}","gists_url":"https://api.github.com/users/ekelsen/gists{/gist_id}","starred_url":"https://api.github.com/users/ekelsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekelsen/subscriptions","organizations_url":"https://api.github.com/users/ekelsen/orgs","repos_url":"https://api.github.com/users/ekelsen/repos","events_url":"https://api.github.com/users/ekelsen/events{/privacy}","received_events_url":"https://api.github.com/users/ekelsen/received_events","type":"User","site_admin":false},"created_at":"2019-03-03T13:46:44Z","updated_at":"2019-03-03T13:46:44Z","author_association":"NONE","body":"I think Sara meant to say that you should set the begin_pruning_step = final_step - 1 and end_pruning_step = final_step to mimic zero-shot pruning.  You'll also need to set the threshold_decay parameter to 0, otherwise the threshold won't immediately jump to the necessary value to get the sparsity level you want.\r\n\r\nBased on previous experience I've had with zero-shot pruning (see for example the last line of Table 4 in https://arxiv.org/pdf/1704.05119.pdf where the error rate more than doubles at 90% pruning), I would guess that zero-shot pruning will actually lead to worse accuracies than the random fixed sparsity patterns trained from scratch.  If you try this, would love to know the results.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/469024375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ekelsen","id":2533174,"node_id":"MDQ6VXNlcjI1MzMxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2533174?v=4","gravatar_id":"","url":"https://api.github.com/users/ekelsen","html_url":"https://github.com/ekelsen","followers_url":"https://api.github.com/users/ekelsen/followers","following_url":"https://api.github.com/users/ekelsen/following{/other_user}","gists_url":"https://api.github.com/users/ekelsen/gists{/gist_id}","starred_url":"https://api.github.com/users/ekelsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekelsen/subscriptions","organizations_url":"https://api.github.com/users/ekelsen/orgs","repos_url":"https://api.github.com/users/ekelsen/repos","events_url":"https://api.github.com/users/ekelsen/events{/privacy}","received_events_url":"https://api.github.com/users/ekelsen/received_events","type":"User","site_admin":false}},{"actor":{"login":"braveheartwithlove","id":17091333,"node_id":"MDQ6VXNlcjE3MDkxMzMz","avatar_url":"https://avatars.githubusercontent.com/u/17091333?v=4","gravatar_id":"","url":"https://api.github.com/users/braveheartwithlove","html_url":"https://github.com/braveheartwithlove","followers_url":"https://api.github.com/users/braveheartwithlove/followers","following_url":"https://api.github.com/users/braveheartwithlove/following{/other_user}","gists_url":"https://api.github.com/users/braveheartwithlove/gists{/gist_id}","starred_url":"https://api.github.com/users/braveheartwithlove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/braveheartwithlove/subscriptions","organizations_url":"https://api.github.com/users/braveheartwithlove/orgs","repos_url":"https://api.github.com/users/braveheartwithlove/repos","events_url":"https://api.github.com/users/braveheartwithlove/events{/privacy}","received_events_url":"https://api.github.com/users/braveheartwithlove/received_events","type":"User","site_admin":false},"created_at":"2022-02-03T06:33:43Z","updated_at":"2022-02-03T06:33:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/google-research/google-research/issues/966","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/966/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/966/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/966/events","html_url":"https://github.com/google-research/google-research/issues/966","id":1122706919,"node_id":"I_kwDOCQmIhc5C6yXn","number":966,"title":"kws_streaming demo training code seems not working well @rybakov","user":{"login":"braveheartwithlove","id":17091333,"node_id":"MDQ6VXNlcjE3MDkxMzMz","avatar_url":"https://avatars.githubusercontent.com/u/17091333?v=4","gravatar_id":"","url":"https://api.github.com/users/braveheartwithlove","html_url":"https://github.com/braveheartwithlove","followers_url":"https://api.github.com/users/braveheartwithlove/followers","following_url":"https://api.github.com/users/braveheartwithlove/following{/other_user}","gists_url":"https://api.github.com/users/braveheartwithlove/gists{/gist_id}","starred_url":"https://api.github.com/users/braveheartwithlove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/braveheartwithlove/subscriptions","organizations_url":"https://api.github.com/users/braveheartwithlove/orgs","repos_url":"https://api.github.com/users/braveheartwithlove/repos","events_url":"https://api.github.com/users/braveheartwithlove/events{/privacy}","received_events_url":"https://api.github.com/users/braveheartwithlove/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-02-03T06:33:43Z","updated_at":"2022-02-09T05:47:49Z","closed_at":"2022-02-09T05:47:49Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":151619717,"node_id":"MDEwOlJlcG9zaXRvcnkxNTE2MTk3MTc=","name":"google-research","full_name":"google-research/google-research","private":false,"owner":{"login":"google-research","id":43830688,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzODMwNjg4","avatar_url":"https://avatars.githubusercontent.com/u/43830688?v=4","gravatar_id":"","url":"https://api.github.com/users/google-research","html_url":"https://github.com/google-research","followers_url":"https://api.github.com/users/google-research/followers","following_url":"https://api.github.com/users/google-research/following{/other_user}","gists_url":"https://api.github.com/users/google-research/gists{/gist_id}","starred_url":"https://api.github.com/users/google-research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/google-research/subscriptions","organizations_url":"https://api.github.com/users/google-research/orgs","repos_url":"https://api.github.com/users/google-research/repos","events_url":"https://api.github.com/users/google-research/events{/privacy}","received_events_url":"https://api.github.com/users/google-research/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/google-research/google-research","description":"Google Research","fork":false,"url":"https://api.github.com/repos/google-research/google-research","forks_url":"https://api.github.com/repos/google-research/google-research/forks","keys_url":"https://api.github.com/repos/google-research/google-research/keys{/key_id}","collaborators_url":"https://api.github.com/repos/google-research/google-research/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/google-research/google-research/teams","hooks_url":"https://api.github.com/repos/google-research/google-research/hooks","issue_events_url":"https://api.github.com/repos/google-research/google-research/issues/events{/number}","events_url":"https://api.github.com/repos/google-research/google-research/events","assignees_url":"https://api.github.com/repos/google-research/google-research/assignees{/user}","branches_url":"https://api.github.com/repos/google-research/google-research/branches{/branch}","tags_url":"https://api.github.com/repos/google-research/google-research/tags","blobs_url":"https://api.github.com/repos/google-research/google-research/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/google-research/google-research/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/google-research/google-research/git/refs{/sha}","trees_url":"https://api.github.com/repos/google-research/google-research/git/trees{/sha}","statuses_url":"https://api.github.com/repos/google-research/google-research/statuses/{sha}","languages_url":"https://api.github.com/repos/google-research/google-research/languages","stargazers_url":"https://api.github.com/repos/google-research/google-research/stargazers","contributors_url":"https://api.github.com/repos/google-research/google-research/contributors","subscribers_url":"https://api.github.com/repos/google-research/google-research/subscribers","subscription_url":"https://api.github.com/repos/google-research/google-research/subscription","commits_url":"https://api.github.com/repos/google-research/google-research/commits{/sha}","git_commits_url":"https://api.github.com/repos/google-research/google-research/git/commits{/sha}","comments_url":"https://api.github.com/repos/google-research/google-research/comments{/number}","issue_comment_url":"https://api.github.com/repos/google-research/google-research/issues/comments{/number}","contents_url":"https://api.github.com/repos/google-research/google-research/contents/{+path}","compare_url":"https://api.github.com/repos/google-research/google-research/compare/{base}...{head}","merges_url":"https://api.github.com/repos/google-research/google-research/merges","archive_url":"https://api.github.com/repos/google-research/google-research/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/google-research/google-research/downloads","issues_url":"https://api.github.com/repos/google-research/google-research/issues{/number}","pulls_url":"https://api.github.com/repos/google-research/google-research/pulls{/number}","milestones_url":"https://api.github.com/repos/google-research/google-research/milestones{/number}","notifications_url":"https://api.github.com/repos/google-research/google-research/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/google-research/google-research/labels{/name}","releases_url":"https://api.github.com/repos/google-research/google-research/releases{/id}","deployments_url":"https://api.github.com/repos/google-research/google-research/deployments","created_at":"2018-10-04T18:42:48Z","updated_at":"2023-01-20T00:41:48Z","pushed_at":"2023-01-19T23:45:46Z","git_url":"git://github.com/google-research/google-research.git","ssh_url":"git@github.com:google-research/google-research.git","clone_url":"https://github.com/google-research/google-research.git","svn_url":"https://github.com/google-research/google-research","homepage":"https://research.google","size":371210,"stargazers_count":26828,"watchers_count":26828,"language":"Jupyter Notebook","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6663,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":904,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ai","machine-learning","research"],"visibility":"public","forks":6663,"open_issues":904,"watchers":26828,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"@rybakov\r\nI need some help here while running the 01_train.ipynb code, the dataset I used is from Speech Commands V2. I did not change any of your code.  While running this training part using ds_tc_resnet, the training log looks like this. Could you please help me check what is wrong on this? Thanks\r\n\r\n==================================================================================================\r\nTotal params: 71,300\r\nTrainable params: 69,764\r\nNon-trainable params: 1,536\r\n__________________________________________________________________________________________________\r\nINFO:absl:Training from step: 1 \r\nINFO:absl:Step #1: rate 0.001000, accuracy 0.00%, cross entropy 2.493576\r\nINFO:absl:Step #2: rate 0.001000, accuracy 0.00%, cross entropy 2.628293\r\nINFO:absl:Step #3: rate 0.001000, accuracy 0.00%, cross entropy 2.373230\r\nINFO:absl:Step #4: rate 0.001000, accuracy 0.00%, cross entropy 2.624747\r\nINFO:absl:Step #5: rate 0.001000, accuracy 0.00%, cross entropy 2.825552\r\nINFO:absl:Step #6: rate 0.001000, accuracy 0.00%, cross entropy 2.542758\r\nINFO:absl:Step #7: rate 0.001000, accuracy 0.00%, cross entropy 2.756225\r\nINFO:absl:Step #8: rate 0.001000, accuracy 0.00%, cross entropy 2.711938\r\nINFO:absl:Step #9: rate 0.001000, accuracy 0.00%, cross entropy 2.505342\r\nINFO:absl:Step #10: rate 0.001000, accuracy 100.00%, cross entropy 2.063214\r\nINFO:absl:Step #11: rate 0.001000, accuracy 0.00%, cross entropy 2.727900\r\nINFO:absl:Step #12: rate 0.001000, accuracy 0.00%, cross entropy 2.802885\r\nINFO:absl:Step #13: rate 0.001000, accuracy 0.00%, cross entropy 2.997224\r\nINFO:absl:Step #14: rate 0.001000, accuracy 0.00%, cross entropy 2.247151\r\nINFO:absl:Step #15: rate 0.001000, accuracy 0.00%, cross entropy 2.342353\r\nINFO:absl:Step #16: rate 0.001000, accuracy 0.00%, cross entropy 2.332682","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/966/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]