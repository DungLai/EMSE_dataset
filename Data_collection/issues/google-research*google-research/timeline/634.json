[{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/830848773","html_url":"https://github.com/google-research/google-research/issues/634#issuecomment-830848773","issue_url":"https://api.github.com/repos/google-research/google-research/issues/634","id":830848773,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDg0ODc3Mw==","user":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"created_at":"2021-05-02T18:10:29Z","updated_at":"2021-05-02T18:10:29Z","author_association":"CONTRIBUTOR","body":"It is hard to say what is the root cause, without seeing what command did you run and how to reproduce it.\r\nBut, I guess this issue can be related to spectrum augmentation: it applies mask on input signal and if signal length is smaller than mask size then it can crash. (with clip_duration_ms=200, you reduced signal length by 5x in comparison to original setting of 1000)\r\nTow options to fix it:\r\n* Disable spectrum augmentation with \"--use_spec_augment 0\".\r\n* Change settings of spectrum augmentation by reducing time_mask_max_size and frequency_mask_max_size\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/830848773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832836651","html_url":"https://github.com/google-research/google-research/issues/634#issuecomment-832836651","issue_url":"https://api.github.com/repos/google-research/google-research/issues/634","id":832836651,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjgzNjY1MQ==","user":{"login":"StuartIanNaylor","id":2593098,"node_id":"MDQ6VXNlcjI1OTMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2593098?v=4","gravatar_id":"","url":"https://api.github.com/users/StuartIanNaylor","html_url":"https://github.com/StuartIanNaylor","followers_url":"https://api.github.com/users/StuartIanNaylor/followers","following_url":"https://api.github.com/users/StuartIanNaylor/following{/other_user}","gists_url":"https://api.github.com/users/StuartIanNaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/StuartIanNaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StuartIanNaylor/subscriptions","organizations_url":"https://api.github.com/users/StuartIanNaylor/orgs","repos_url":"https://api.github.com/users/StuartIanNaylor/repos","events_url":"https://api.github.com/users/StuartIanNaylor/events{/privacy}","received_events_url":"https://api.github.com/users/StuartIanNaylor/received_events","type":"User","site_admin":false},"created_at":"2021-05-05T16:33:40Z","updated_at":"2021-05-05T16:33:40Z","author_association":"NONE","body":"Many thanks as yeah that is prob it as didn't change the spectrum aug size.\r\nI shall try again.\r\n\r\n@rybakov Just another thing that would be so amazing as currently I am turning off split data and creating my own testing, validation & training folders.\r\nI am getting really great noise resilient custom KWS where I am match the amplitude of _back_ground_noise_ to the KW & !KW samples.\r\nThis allows me free range of a mix volume of 0-1 and also I can vary the foreground volume without worry of the background being far to predominant with varying inputs.\r\n\r\nThe end result as said works exceptionally well with noisy environs but because there is no 'volume check' found I am limited to the default 0.3 mix level as higher starts returning too many garbage entries of mainly background in the foreground.\r\n\r\nI ended up creating my own split dataset with mixing as in the code struggled to work out how to fit that into the framework, any chance that could be possible as it really does allow more noise resilient and more variance on input volume.\r\n\r\nAlso with the microcontroller front end are the validation results so bad because for testing its using a wrong MFCC method?\r\nI haven't got round to exporting to microcontroller and using the frontend but wondered in the training part end testing results are due the model created with experimental frontend but testing is via the standard python ops MFCC.\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832836651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"StuartIanNaylor","id":2593098,"node_id":"MDQ6VXNlcjI1OTMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2593098?v=4","gravatar_id":"","url":"https://api.github.com/users/StuartIanNaylor","html_url":"https://github.com/StuartIanNaylor","followers_url":"https://api.github.com/users/StuartIanNaylor/followers","following_url":"https://api.github.com/users/StuartIanNaylor/following{/other_user}","gists_url":"https://api.github.com/users/StuartIanNaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/StuartIanNaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StuartIanNaylor/subscriptions","organizations_url":"https://api.github.com/users/StuartIanNaylor/orgs","repos_url":"https://api.github.com/users/StuartIanNaylor/repos","events_url":"https://api.github.com/users/StuartIanNaylor/events{/privacy}","received_events_url":"https://api.github.com/users/StuartIanNaylor/received_events","type":"User","site_admin":false}},{"id":4690151663,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDY5MDE1MTY2Mw==","url":"https://api.github.com/repos/google-research/google-research/issues/events/4690151663","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-05T16:33:40Z","performed_via_github_app":null},{"id":4690151666,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2OTAxNTE2NjY=","url":"https://api.github.com/repos/google-research/google-research/issues/events/4690151666","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-05T16:33:40Z","performed_via_github_app":null},{"id":4690190700,"node_id":"MDExOkNsb3NlZEV2ZW50NDY5MDE5MDcwMA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/4690190700","actor":{"login":"StuartIanNaylor","id":2593098,"node_id":"MDQ6VXNlcjI1OTMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2593098?v=4","gravatar_id":"","url":"https://api.github.com/users/StuartIanNaylor","html_url":"https://github.com/StuartIanNaylor","followers_url":"https://api.github.com/users/StuartIanNaylor/followers","following_url":"https://api.github.com/users/StuartIanNaylor/following{/other_user}","gists_url":"https://api.github.com/users/StuartIanNaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/StuartIanNaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StuartIanNaylor/subscriptions","organizations_url":"https://api.github.com/users/StuartIanNaylor/orgs","repos_url":"https://api.github.com/users/StuartIanNaylor/repos","events_url":"https://api.github.com/users/StuartIanNaylor/events{/privacy}","received_events_url":"https://api.github.com/users/StuartIanNaylor/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-05-05T16:41:33Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832882253","html_url":"https://github.com/google-research/google-research/issues/634#issuecomment-832882253","issue_url":"https://api.github.com/repos/google-research/google-research/issues/634","id":832882253,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjg4MjI1Mw==","user":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"created_at":"2021-05-05T17:41:03Z","updated_at":"2021-05-05T17:41:03Z","author_association":"CONTRIBUTOR","body":"About \"noise resilient\".\r\nIt is hard to comment on it without seeing the code or getting more details about the issues.\r\n\r\nAbout microcontroller front end:\r\n\"Also with the microcontroller front end are the validation results so bad because for testing its using a wrong MFCC method?\r\nI haven't got round to exporting to microcontroller and using the frontend but wondered in the training part end testing results are due the model created with experimental frontend but testing is via the standard python ops MFCC.\"\r\nIf you select microcontroller front end, then you have to use it during training and inference, because it is not numerically compatible with tf MFCC.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832882253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false}}]