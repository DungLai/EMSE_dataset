[{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/893733317","html_url":"https://github.com/google-research/google-research/issues/776#issuecomment-893733317","issue_url":"https://api.github.com/repos/google-research/google-research/issues/776","id":893733317,"node_id":"IC_kwDOCQmIhc41RUnF","user":{"login":"andresherrera97","id":62313196,"node_id":"MDQ6VXNlcjYyMzEzMTk2","avatar_url":"https://avatars.githubusercontent.com/u/62313196?v=4","gravatar_id":"","url":"https://api.github.com/users/andresherrera97","html_url":"https://github.com/andresherrera97","followers_url":"https://api.github.com/users/andresherrera97/followers","following_url":"https://api.github.com/users/andresherrera97/following{/other_user}","gists_url":"https://api.github.com/users/andresherrera97/gists{/gist_id}","starred_url":"https://api.github.com/users/andresherrera97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andresherrera97/subscriptions","organizations_url":"https://api.github.com/users/andresherrera97/orgs","repos_url":"https://api.github.com/users/andresherrera97/repos","events_url":"https://api.github.com/users/andresherrera97/events{/privacy}","received_events_url":"https://api.github.com/users/andresherrera97/received_events","type":"User","site_admin":false},"created_at":"2021-08-05T19:40:37Z","updated_at":"2021-08-05T19:40:37Z","author_association":"NONE","body":"Reading further the code I saw that it is used to generate more 2D keypoints. However, changing the code to only use 2D input gives issues in some parts such as the triplet loss calculation, how can I adapt the code to use 2D keypoints in that part? Because using only 2D keypoints I don't have anchor_keypoints_3d, positive_keypoints_3d ot the masks.\r\n\r\n` triplet_loss, triplet_loss_summaries = (\r\n                             loss_utils.compute_keypoint_triplet_losses(\r\n                                                 anchor_embeddings=triplet_anchor_embeddings,\r\n                                                 positive_embeddings=triplet_positive_embeddings,\r\n                                                 match_embeddings=triplet_positive_embeddings,\r\n                                                 anchor_keypoints=anchor_keypoints_3d,\r\n                                                 match_keypoints=positive_keypoints_3d,\r\n                                                 margin=FLAGS.triplet_loss_margin,\r\n                                                 min_negative_keypoint_distance=(\r\n                                                     configs['min_negative_keypoint_distance']),\r\n                                                 use_semi_hard=FLAGS.use_semi_hard_triplet_negatives,\r\n                                                 exclude_inactive_triplet_loss=(\r\n                                                     FLAGS.exclude_inactive_triplet_loss),\r\n                                                 anchor_keypoint_masks=anchor_keypoint_masks_3d,\r\n                                                 match_keypoint_masks=positive_keypoint_masks_3d,\r\n                                                 embedding_sample_distance_fn=(\r\n                                                     configs['triplet_embedding_sample_distance_fn']),\r\n                                                 keypoint_distance_fn=configs['keypoint_distance_fn'],\r\n                                                 anchor_mining_embeddings=triplet_anchor_mining_embeddings,\r\n                                                 positive_mining_embeddings=triplet_positive_mining_embeddings,\r\n                                                 match_mining_embeddings=triplet_positive_mining_embeddings,\r\n                                                 summarize_percentiles=FLAGS.summarize_percentiles\r\n                                                 )\r\n                             )`","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/893733317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andresherrera97","id":62313196,"node_id":"MDQ6VXNlcjYyMzEzMTk2","avatar_url":"https://avatars.githubusercontent.com/u/62313196?v=4","gravatar_id":"","url":"https://api.github.com/users/andresherrera97","html_url":"https://github.com/andresherrera97","followers_url":"https://api.github.com/users/andresherrera97/followers","following_url":"https://api.github.com/users/andresherrera97/following{/other_user}","gists_url":"https://api.github.com/users/andresherrera97/gists{/gist_id}","starred_url":"https://api.github.com/users/andresherrera97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andresherrera97/subscriptions","organizations_url":"https://api.github.com/users/andresherrera97/orgs","repos_url":"https://api.github.com/users/andresherrera97/repos","events_url":"https://api.github.com/users/andresherrera97/events{/privacy}","received_events_url":"https://api.github.com/users/andresherrera97/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/895409471","html_url":"https://github.com/google-research/google-research/issues/776#issuecomment-895409471","issue_url":"https://api.github.com/repos/google-research/google-research/issues/776","id":895409471,"node_id":"IC_kwDOCQmIhc41Xt0_","user":{"login":"jenjsun","id":40725770,"node_id":"MDQ6VXNlcjQwNzI1Nzcw","avatar_url":"https://avatars.githubusercontent.com/u/40725770?v=4","gravatar_id":"","url":"https://api.github.com/users/jenjsun","html_url":"https://github.com/jenjsun","followers_url":"https://api.github.com/users/jenjsun/followers","following_url":"https://api.github.com/users/jenjsun/following{/other_user}","gists_url":"https://api.github.com/users/jenjsun/gists{/gist_id}","starred_url":"https://api.github.com/users/jenjsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenjsun/subscriptions","organizations_url":"https://api.github.com/users/jenjsun/orgs","repos_url":"https://api.github.com/users/jenjsun/repos","events_url":"https://api.github.com/users/jenjsun/events{/privacy}","received_events_url":"https://api.github.com/users/jenjsun/received_events","type":"User","site_admin":false},"created_at":"2021-08-09T17:36:08Z","updated_at":"2021-08-09T17:36:08Z","author_association":"NONE","body":"Hi - thanks for your interest! First, the main idea is to embed the 2D poses such that if they are projected from similar 3D poses, then they are close together in the embedding space (See Fig 1 of our paper: https://arxiv.org/pdf/1912.01001.pdf). \r\n\r\nTo use 2D keypoints only, there are a few things you need to do:\r\n- Set this flag to -1 (https://github.com/google-research/google-research/blob/d26ed752ca5f276f0c35a2d55e213b7cb2ea9339/poem/pr_vipe/train_base.py#L100-L101). The input will still try to read in 3D keypoints, so you can add some dummy ones (ex: set 3D keypoints to all 0s).\r\n- Set this flag to 2D_INPUT (https://github.com/google-research/google-research/blob/d26ed752ca5f276f0c35a2d55e213b7cb2ea9339/poem/pr_vipe/train_base.py#L49) to disable camera augmentation.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/895409471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jenjsun","id":40725770,"node_id":"MDQ6VXNlcjQwNzI1Nzcw","avatar_url":"https://avatars.githubusercontent.com/u/40725770?v=4","gravatar_id":"","url":"https://api.github.com/users/jenjsun","html_url":"https://github.com/jenjsun","followers_url":"https://api.github.com/users/jenjsun/followers","following_url":"https://api.github.com/users/jenjsun/following{/other_user}","gists_url":"https://api.github.com/users/jenjsun/gists{/gist_id}","starred_url":"https://api.github.com/users/jenjsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenjsun/subscriptions","organizations_url":"https://api.github.com/users/jenjsun/orgs","repos_url":"https://api.github.com/users/jenjsun/repos","events_url":"https://api.github.com/users/jenjsun/events{/privacy}","received_events_url":"https://api.github.com/users/jenjsun/received_events","type":"User","site_admin":false}},{"id":5150856430,"node_id":"MDExOkNsb3NlZEV2ZW50NTE1MDg1NjQzMA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/5150856430","actor":{"login":"andresherrera97","id":62313196,"node_id":"MDQ6VXNlcjYyMzEzMTk2","avatar_url":"https://avatars.githubusercontent.com/u/62313196?v=4","gravatar_id":"","url":"https://api.github.com/users/andresherrera97","html_url":"https://github.com/andresherrera97","followers_url":"https://api.github.com/users/andresherrera97/followers","following_url":"https://api.github.com/users/andresherrera97/following{/other_user}","gists_url":"https://api.github.com/users/andresherrera97/gists{/gist_id}","starred_url":"https://api.github.com/users/andresherrera97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andresherrera97/subscriptions","organizations_url":"https://api.github.com/users/andresherrera97/orgs","repos_url":"https://api.github.com/users/andresherrera97/repos","events_url":"https://api.github.com/users/andresherrera97/events{/privacy}","received_events_url":"https://api.github.com/users/andresherrera97/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-08-12T16:56:03Z","state_reason":null,"performed_via_github_app":null}]