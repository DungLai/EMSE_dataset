[{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/456575314","html_url":"https://github.com/google-research/google-research/issues/12#issuecomment-456575314","issue_url":"https://api.github.com/repos/google-research/google-research/issues/12","id":456575314,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjU3NTMxNA==","user":{"login":"bengoodrich","id":46503390,"node_id":"MDQ6VXNlcjQ2NTAzMzkw","avatar_url":"https://avatars.githubusercontent.com/u/46503390?v=4","gravatar_id":"","url":"https://api.github.com/users/bengoodrich","html_url":"https://github.com/bengoodrich","followers_url":"https://api.github.com/users/bengoodrich/followers","following_url":"https://api.github.com/users/bengoodrich/following{/other_user}","gists_url":"https://api.github.com/users/bengoodrich/gists{/gist_id}","starred_url":"https://api.github.com/users/bengoodrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bengoodrich/subscriptions","organizations_url":"https://api.github.com/users/bengoodrich/orgs","repos_url":"https://api.github.com/users/bengoodrich/repos","events_url":"https://api.github.com/users/bengoodrich/events{/privacy}","received_events_url":"https://api.github.com/users/bengoodrich/received_events","type":"User","site_admin":false},"created_at":"2019-01-22T21:44:56Z","updated_at":"2019-01-22T21:44:56Z","author_association":"CONTRIBUTOR","body":"By default we treat each line as a separate example, meaning each line in the targets needs to align with each line in the predictions. Rouge scores are computed on each pair of examples before being aggregated. Removing the check will mean any extra lines will be discarded, but I imagine the alignment will still be off, producing the low scores you're seeing.\r\n\r\nIt sounds like for your use case you might want to compute rouge between entire files, rather than treating each line separately? In this case you could try adding the flag --delimiter=++EOF++ (using any string not appearing in the files as a delimiter), so it will treat each file as a single example.\r\n\r\nIf your use case is different let me know. Some sample inputs and expected outputs might help in this case.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/456575314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bengoodrich","id":46503390,"node_id":"MDQ6VXNlcjQ2NTAzMzkw","avatar_url":"https://avatars.githubusercontent.com/u/46503390?v=4","gravatar_id":"","url":"https://api.github.com/users/bengoodrich","html_url":"https://github.com/bengoodrich","followers_url":"https://api.github.com/users/bengoodrich/followers","following_url":"https://api.github.com/users/bengoodrich/following{/other_user}","gists_url":"https://api.github.com/users/bengoodrich/gists{/gist_id}","starred_url":"https://api.github.com/users/bengoodrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bengoodrich/subscriptions","organizations_url":"https://api.github.com/users/bengoodrich/orgs","repos_url":"https://api.github.com/users/bengoodrich/repos","events_url":"https://api.github.com/users/bengoodrich/events{/privacy}","received_events_url":"https://api.github.com/users/bengoodrich/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/495009257","html_url":"https://github.com/google-research/google-research/issues/12#issuecomment-495009257","issue_url":"https://api.github.com/repos/google-research/google-research/issues/12","id":495009257,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAwOTI1Nw==","user":{"login":"pakdaman","id":9661488,"node_id":"MDQ6VXNlcjk2NjE0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/9661488?v=4","gravatar_id":"","url":"https://api.github.com/users/pakdaman","html_url":"https://github.com/pakdaman","followers_url":"https://api.github.com/users/pakdaman/followers","following_url":"https://api.github.com/users/pakdaman/following{/other_user}","gists_url":"https://api.github.com/users/pakdaman/gists{/gist_id}","starred_url":"https://api.github.com/users/pakdaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pakdaman/subscriptions","organizations_url":"https://api.github.com/users/pakdaman/orgs","repos_url":"https://api.github.com/users/pakdaman/repos","events_url":"https://api.github.com/users/pakdaman/events{/privacy}","received_events_url":"https://api.github.com/users/pakdaman/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T23:18:21Z","updated_at":"2019-05-22T23:18:21Z","author_association":"NONE","body":"May I ask how do you mean by \"each line in the targets needs to align with each line in the predictions\". Does it mean that for every system summary there should be only one gold summary. The rouge measure can essentially evaluate a system summary against multiple gold summaries. Does it mean that your package only support single gold summary?!\r\n\r\nI am wondering if it is possible to provide more detail information on using your rouge package ? Should I call your package similar to pyrouge (https://pypi.org/project/pyrouge/)? ( I have copied the highlights below)\r\n\r\n----------------------------------------------------------------------------------------------------------------\r\n\r\n\"To automatically match a system summary with the corresponding model summaries, pyrouge uses regular expressions. For example, let’s assume your system summaries are named with a combination of a fixed name and a variable numeric ID like this:\r\n\r\nsome_name.001.txt\r\nsome_name.002.txt\r\nsome_name.003.txt\r\n…\r\nand the model summaries like this, with uppercase letters identifying multiple model summaries for a given document:\r\n\r\nsome_name.A.001.txt\r\nsome_name.B.001.txt\r\nsome_name.C.001.txt\r\nsome_name.A.002.txt\r\nsome_name.B.002.txt\r\n…\r\nThe group in the system_filename_pattern tells pyrouge which part of the filename is the ID – in this case (\\d+). You have to use round brackets to indicate a group, or else pyrouge won’t be able to tell apart the ID from the rest of the filename. pyrouge then uses that ID to find all matching model summaries. The special placeholder #ID# tells pyrouge where it should expect the ID in the model_filename_pattern. The [A-Z] part matches multiple model summaries for that ID.\"","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/495009257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pakdaman","id":9661488,"node_id":"MDQ6VXNlcjk2NjE0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/9661488?v=4","gravatar_id":"","url":"https://api.github.com/users/pakdaman","html_url":"https://github.com/pakdaman","followers_url":"https://api.github.com/users/pakdaman/followers","following_url":"https://api.github.com/users/pakdaman/following{/other_user}","gists_url":"https://api.github.com/users/pakdaman/gists{/gist_id}","starred_url":"https://api.github.com/users/pakdaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pakdaman/subscriptions","organizations_url":"https://api.github.com/users/pakdaman/orgs","repos_url":"https://api.github.com/users/pakdaman/repos","events_url":"https://api.github.com/users/pakdaman/events{/privacy}","received_events_url":"https://api.github.com/users/pakdaman/received_events","type":"User","site_admin":false}},{"actor":{"login":"braveheartwithlove","id":17091333,"node_id":"MDQ6VXNlcjE3MDkxMzMz","avatar_url":"https://avatars.githubusercontent.com/u/17091333?v=4","gravatar_id":"","url":"https://api.github.com/users/braveheartwithlove","html_url":"https://github.com/braveheartwithlove","followers_url":"https://api.github.com/users/braveheartwithlove/followers","following_url":"https://api.github.com/users/braveheartwithlove/following{/other_user}","gists_url":"https://api.github.com/users/braveheartwithlove/gists{/gist_id}","starred_url":"https://api.github.com/users/braveheartwithlove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/braveheartwithlove/subscriptions","organizations_url":"https://api.github.com/users/braveheartwithlove/orgs","repos_url":"https://api.github.com/users/braveheartwithlove/repos","events_url":"https://api.github.com/users/braveheartwithlove/events{/privacy}","received_events_url":"https://api.github.com/users/braveheartwithlove/received_events","type":"User","site_admin":false},"created_at":"2022-02-03T06:33:43Z","updated_at":"2022-02-03T06:33:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/google-research/google-research/issues/966","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/966/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/966/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/966/events","html_url":"https://github.com/google-research/google-research/issues/966","id":1122706919,"node_id":"I_kwDOCQmIhc5C6yXn","number":966,"title":"kws_streaming demo training code seems not working well @rybakov","user":{"login":"braveheartwithlove","id":17091333,"node_id":"MDQ6VXNlcjE3MDkxMzMz","avatar_url":"https://avatars.githubusercontent.com/u/17091333?v=4","gravatar_id":"","url":"https://api.github.com/users/braveheartwithlove","html_url":"https://github.com/braveheartwithlove","followers_url":"https://api.github.com/users/braveheartwithlove/followers","following_url":"https://api.github.com/users/braveheartwithlove/following{/other_user}","gists_url":"https://api.github.com/users/braveheartwithlove/gists{/gist_id}","starred_url":"https://api.github.com/users/braveheartwithlove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/braveheartwithlove/subscriptions","organizations_url":"https://api.github.com/users/braveheartwithlove/orgs","repos_url":"https://api.github.com/users/braveheartwithlove/repos","events_url":"https://api.github.com/users/braveheartwithlove/events{/privacy}","received_events_url":"https://api.github.com/users/braveheartwithlove/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-02-03T06:33:43Z","updated_at":"2022-02-09T05:47:49Z","closed_at":"2022-02-09T05:47:49Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":151619717,"node_id":"MDEwOlJlcG9zaXRvcnkxNTE2MTk3MTc=","name":"google-research","full_name":"google-research/google-research","private":false,"owner":{"login":"google-research","id":43830688,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzODMwNjg4","avatar_url":"https://avatars.githubusercontent.com/u/43830688?v=4","gravatar_id":"","url":"https://api.github.com/users/google-research","html_url":"https://github.com/google-research","followers_url":"https://api.github.com/users/google-research/followers","following_url":"https://api.github.com/users/google-research/following{/other_user}","gists_url":"https://api.github.com/users/google-research/gists{/gist_id}","starred_url":"https://api.github.com/users/google-research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/google-research/subscriptions","organizations_url":"https://api.github.com/users/google-research/orgs","repos_url":"https://api.github.com/users/google-research/repos","events_url":"https://api.github.com/users/google-research/events{/privacy}","received_events_url":"https://api.github.com/users/google-research/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/google-research/google-research","description":"Google Research","fork":false,"url":"https://api.github.com/repos/google-research/google-research","forks_url":"https://api.github.com/repos/google-research/google-research/forks","keys_url":"https://api.github.com/repos/google-research/google-research/keys{/key_id}","collaborators_url":"https://api.github.com/repos/google-research/google-research/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/google-research/google-research/teams","hooks_url":"https://api.github.com/repos/google-research/google-research/hooks","issue_events_url":"https://api.github.com/repos/google-research/google-research/issues/events{/number}","events_url":"https://api.github.com/repos/google-research/google-research/events","assignees_url":"https://api.github.com/repos/google-research/google-research/assignees{/user}","branches_url":"https://api.github.com/repos/google-research/google-research/branches{/branch}","tags_url":"https://api.github.com/repos/google-research/google-research/tags","blobs_url":"https://api.github.com/repos/google-research/google-research/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/google-research/google-research/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/google-research/google-research/git/refs{/sha}","trees_url":"https://api.github.com/repos/google-research/google-research/git/trees{/sha}","statuses_url":"https://api.github.com/repos/google-research/google-research/statuses/{sha}","languages_url":"https://api.github.com/repos/google-research/google-research/languages","stargazers_url":"https://api.github.com/repos/google-research/google-research/stargazers","contributors_url":"https://api.github.com/repos/google-research/google-research/contributors","subscribers_url":"https://api.github.com/repos/google-research/google-research/subscribers","subscription_url":"https://api.github.com/repos/google-research/google-research/subscription","commits_url":"https://api.github.com/repos/google-research/google-research/commits{/sha}","git_commits_url":"https://api.github.com/repos/google-research/google-research/git/commits{/sha}","comments_url":"https://api.github.com/repos/google-research/google-research/comments{/number}","issue_comment_url":"https://api.github.com/repos/google-research/google-research/issues/comments{/number}","contents_url":"https://api.github.com/repos/google-research/google-research/contents/{+path}","compare_url":"https://api.github.com/repos/google-research/google-research/compare/{base}...{head}","merges_url":"https://api.github.com/repos/google-research/google-research/merges","archive_url":"https://api.github.com/repos/google-research/google-research/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/google-research/google-research/downloads","issues_url":"https://api.github.com/repos/google-research/google-research/issues{/number}","pulls_url":"https://api.github.com/repos/google-research/google-research/pulls{/number}","milestones_url":"https://api.github.com/repos/google-research/google-research/milestones{/number}","notifications_url":"https://api.github.com/repos/google-research/google-research/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/google-research/google-research/labels{/name}","releases_url":"https://api.github.com/repos/google-research/google-research/releases{/id}","deployments_url":"https://api.github.com/repos/google-research/google-research/deployments","created_at":"2018-10-04T18:42:48Z","updated_at":"2023-01-20T00:41:48Z","pushed_at":"2023-01-19T23:45:46Z","git_url":"git://github.com/google-research/google-research.git","ssh_url":"git@github.com:google-research/google-research.git","clone_url":"https://github.com/google-research/google-research.git","svn_url":"https://github.com/google-research/google-research","homepage":"https://research.google","size":371210,"stargazers_count":26828,"watchers_count":26828,"language":"Jupyter Notebook","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6663,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":904,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ai","machine-learning","research"],"visibility":"public","forks":6663,"open_issues":904,"watchers":26828,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"@rybakov\r\nI need some help here while running the 01_train.ipynb code, the dataset I used is from Speech Commands V2. I did not change any of your code.  While running this training part using ds_tc_resnet, the training log looks like this. Could you please help me check what is wrong on this? Thanks\r\n\r\n==================================================================================================\r\nTotal params: 71,300\r\nTrainable params: 69,764\r\nNon-trainable params: 1,536\r\n__________________________________________________________________________________________________\r\nINFO:absl:Training from step: 1 \r\nINFO:absl:Step #1: rate 0.001000, accuracy 0.00%, cross entropy 2.493576\r\nINFO:absl:Step #2: rate 0.001000, accuracy 0.00%, cross entropy 2.628293\r\nINFO:absl:Step #3: rate 0.001000, accuracy 0.00%, cross entropy 2.373230\r\nINFO:absl:Step #4: rate 0.001000, accuracy 0.00%, cross entropy 2.624747\r\nINFO:absl:Step #5: rate 0.001000, accuracy 0.00%, cross entropy 2.825552\r\nINFO:absl:Step #6: rate 0.001000, accuracy 0.00%, cross entropy 2.542758\r\nINFO:absl:Step #7: rate 0.001000, accuracy 0.00%, cross entropy 2.756225\r\nINFO:absl:Step #8: rate 0.001000, accuracy 0.00%, cross entropy 2.711938\r\nINFO:absl:Step #9: rate 0.001000, accuracy 0.00%, cross entropy 2.505342\r\nINFO:absl:Step #10: rate 0.001000, accuracy 100.00%, cross entropy 2.063214\r\nINFO:absl:Step #11: rate 0.001000, accuracy 0.00%, cross entropy 2.727900\r\nINFO:absl:Step #12: rate 0.001000, accuracy 0.00%, cross entropy 2.802885\r\nINFO:absl:Step #13: rate 0.001000, accuracy 0.00%, cross entropy 2.997224\r\nINFO:absl:Step #14: rate 0.001000, accuracy 0.00%, cross entropy 2.247151\r\nINFO:absl:Step #15: rate 0.001000, accuracy 0.00%, cross entropy 2.342353\r\nINFO:absl:Step #16: rate 0.001000, accuracy 0.00%, cross entropy 2.332682","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/966/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]