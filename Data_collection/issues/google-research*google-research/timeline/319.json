[{"id":3536295431,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzUzNjI5NTQzMQ==","url":"https://api.github.com/repos/google-research/google-research/issues/events/3536295431","actor":{"login":"gariel-google","id":15641140,"node_id":"MDQ6VXNlcjE1NjQxMTQw","avatar_url":"https://avatars.githubusercontent.com/u/15641140?v=4","gravatar_id":"","url":"https://api.github.com/users/gariel-google","html_url":"https://github.com/gariel-google","followers_url":"https://api.github.com/users/gariel-google/followers","following_url":"https://api.github.com/users/gariel-google/following{/other_user}","gists_url":"https://api.github.com/users/gariel-google/gists{/gist_id}","starred_url":"https://api.github.com/users/gariel-google/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gariel-google/subscriptions","organizations_url":"https://api.github.com/users/gariel-google/orgs","repos_url":"https://api.github.com/users/gariel-google/repos","events_url":"https://api.github.com/users/gariel-google/events{/privacy}","received_events_url":"https://api.github.com/users/gariel-google/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-11T13:34:26Z","performed_via_github_app":null},{"id":3536295432,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1MzYyOTU0MzI=","url":"https://api.github.com/repos/google-research/google-research/issues/events/3536295432","actor":{"login":"gariel-google","id":15641140,"node_id":"MDQ6VXNlcjE1NjQxMTQw","avatar_url":"https://avatars.githubusercontent.com/u/15641140?v=4","gravatar_id":"","url":"https://api.github.com/users/gariel-google","html_url":"https://github.com/gariel-google","followers_url":"https://api.github.com/users/gariel-google/followers","following_url":"https://api.github.com/users/gariel-google/following{/other_user}","gists_url":"https://api.github.com/users/gariel-google/gists{/gist_id}","starred_url":"https://api.github.com/users/gariel-google/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gariel-google/subscriptions","organizations_url":"https://api.github.com/users/gariel-google/orgs","repos_url":"https://api.github.com/users/gariel-google/repos","events_url":"https://api.github.com/users/gariel-google/events{/privacy}","received_events_url":"https://api.github.com/users/gariel-google/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-11T13:34:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/700730655","html_url":"https://github.com/google-research/google-research/issues/319#issuecomment-700730655","issue_url":"https://api.github.com/repos/google-research/google-research/issues/319","id":700730655,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDczMDY1NQ==","user":{"login":"ikramabdel","id":45387325,"node_id":"MDQ6VXNlcjQ1Mzg3MzI1","avatar_url":"https://avatars.githubusercontent.com/u/45387325?v=4","gravatar_id":"","url":"https://api.github.com/users/ikramabdel","html_url":"https://github.com/ikramabdel","followers_url":"https://api.github.com/users/ikramabdel/followers","following_url":"https://api.github.com/users/ikramabdel/following{/other_user}","gists_url":"https://api.github.com/users/ikramabdel/gists{/gist_id}","starred_url":"https://api.github.com/users/ikramabdel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikramabdel/subscriptions","organizations_url":"https://api.github.com/users/ikramabdel/orgs","repos_url":"https://api.github.com/users/ikramabdel/repos","events_url":"https://api.github.com/users/ikramabdel/events{/privacy}","received_events_url":"https://api.github.com/users/ikramabdel/received_events","type":"User","site_admin":false},"created_at":"2020-09-29T14:09:21Z","updated_at":"2020-09-29T14:09:21Z","author_association":"NONE","body":"@poornimajd hi can you please share how you replaced the model in the inference code Struct2depth to get those results ? Thanks !","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/700730655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ikramabdel","id":45387325,"node_id":"MDQ6VXNlcjQ1Mzg3MzI1","avatar_url":"https://avatars.githubusercontent.com/u/45387325?v=4","gravatar_id":"","url":"https://api.github.com/users/ikramabdel","html_url":"https://github.com/ikramabdel","followers_url":"https://api.github.com/users/ikramabdel/followers","following_url":"https://api.github.com/users/ikramabdel/following{/other_user}","gists_url":"https://api.github.com/users/ikramabdel/gists{/gist_id}","starred_url":"https://api.github.com/users/ikramabdel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikramabdel/subscriptions","organizations_url":"https://api.github.com/users/ikramabdel/orgs","repos_url":"https://api.github.com/users/ikramabdel/repos","events_url":"https://api.github.com/users/ikramabdel/events{/privacy}","received_events_url":"https://api.github.com/users/ikramabdel/received_events","type":"User","site_admin":false}},{"id":3819824066,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgxOTgyNDA2Ng==","url":"https://api.github.com/repos/google-research/google-research/issues/events/3819824066","actor":{"login":"poornimajd","id":31023599,"node_id":"MDQ6VXNlcjMxMDIzNTk5","avatar_url":"https://avatars.githubusercontent.com/u/31023599?v=4","gravatar_id":"","url":"https://api.github.com/users/poornimajd","html_url":"https://github.com/poornimajd","followers_url":"https://api.github.com/users/poornimajd/followers","following_url":"https://api.github.com/users/poornimajd/following{/other_user}","gists_url":"https://api.github.com/users/poornimajd/gists{/gist_id}","starred_url":"https://api.github.com/users/poornimajd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poornimajd/subscriptions","organizations_url":"https://api.github.com/users/poornimajd/orgs","repos_url":"https://api.github.com/users/poornimajd/repos","events_url":"https://api.github.com/users/poornimajd/events{/privacy}","received_events_url":"https://api.github.com/users/poornimajd/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-29T14:09:21Z","performed_via_github_app":null},{"id":3819824071,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MTk4MjQwNzE=","url":"https://api.github.com/repos/google-research/google-research/issues/events/3819824071","actor":{"login":"poornimajd","id":31023599,"node_id":"MDQ6VXNlcjMxMDIzNTk5","avatar_url":"https://avatars.githubusercontent.com/u/31023599?v=4","gravatar_id":"","url":"https://api.github.com/users/poornimajd","html_url":"https://github.com/poornimajd","followers_url":"https://api.github.com/users/poornimajd/followers","following_url":"https://api.github.com/users/poornimajd/following{/other_user}","gists_url":"https://api.github.com/users/poornimajd/gists{/gist_id}","starred_url":"https://api.github.com/users/poornimajd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poornimajd/subscriptions","organizations_url":"https://api.github.com/users/poornimajd/orgs","repos_url":"https://api.github.com/users/poornimajd/repos","events_url":"https://api.github.com/users/poornimajd/events{/privacy}","received_events_url":"https://api.github.com/users/poornimajd/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-29T14:09:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/700808463","html_url":"https://github.com/google-research/google-research/issues/319#issuecomment-700808463","issue_url":"https://api.github.com/repos/google-research/google-research/issues/319","id":700808463,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDgwODQ2Mw==","user":{"login":"poornimajd","id":31023599,"node_id":"MDQ6VXNlcjMxMDIzNTk5","avatar_url":"https://avatars.githubusercontent.com/u/31023599?v=4","gravatar_id":"","url":"https://api.github.com/users/poornimajd","html_url":"https://github.com/poornimajd","followers_url":"https://api.github.com/users/poornimajd/followers","following_url":"https://api.github.com/users/poornimajd/following{/other_user}","gists_url":"https://api.github.com/users/poornimajd/gists{/gist_id}","starred_url":"https://api.github.com/users/poornimajd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poornimajd/subscriptions","organizations_url":"https://api.github.com/users/poornimajd/orgs","repos_url":"https://api.github.com/users/poornimajd/repos","events_url":"https://api.github.com/users/poornimajd/events{/privacy}","received_events_url":"https://api.github.com/users/poornimajd/received_events","type":"User","site_admin":false},"created_at":"2020-09-29T16:07:14Z","updated_at":"2020-09-29T16:08:05Z","author_association":"NONE","body":"Hello @ikramabdel ,Its been a while since I did the inference,but I hope the following snippet works\r\n\r\n`import` numpy as np\r\nimport tensorflow as tf\r\nfrom depth_from_video_in_the_wild import model\r\nimport cv2\r\nimport matplotlib.pyplot as plt\r\n\r\n\r\ntrain_model = model.Model(img_height=None, img_width=None, batch_size=None, is_training=False)\r\nsess = tf.Session()\r\nsaver = tf.train.Saver()\r\nsaver.restore(sess, './depth_from_video_in_the_wild/cityscapes_learned_intrinsics/model.ckpt')\r\nimage = cv2.imread('./depth_from_video_in_the_wild/rgb_image_93.jpgl.png')\r\ninputs = cv2.resize(image, (416, 128))[np.newaxis,:]\r\ndepth = train_model.inference_depth(inputs, sess)\r\n\r\ndd=(depth[0]*256)\r\ncv2.imwrite('./depth_from_video_in_the_wild/depth.png',dd)\r\n\r\nplt.figure(figsize=(20, 10))\r\nplt.imshow(image)\r\nplt.figure(figsize=(20, 10))\r\nplt.imshow(1/depth[0,:,:,0], cmap='plasma')","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/700808463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"poornimajd","id":31023599,"node_id":"MDQ6VXNlcjMxMDIzNTk5","avatar_url":"https://avatars.githubusercontent.com/u/31023599?v=4","gravatar_id":"","url":"https://api.github.com/users/poornimajd","html_url":"https://github.com/poornimajd","followers_url":"https://api.github.com/users/poornimajd/followers","following_url":"https://api.github.com/users/poornimajd/following{/other_user}","gists_url":"https://api.github.com/users/poornimajd/gists{/gist_id}","starred_url":"https://api.github.com/users/poornimajd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poornimajd/subscriptions","organizations_url":"https://api.github.com/users/poornimajd/orgs","repos_url":"https://api.github.com/users/poornimajd/repos","events_url":"https://api.github.com/users/poornimajd/events{/privacy}","received_events_url":"https://api.github.com/users/poornimajd/received_events","type":"User","site_admin":false}},{"id":3820457420,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgyMDQ1NzQyMA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/3820457420","actor":{"login":"ikramabdel","id":45387325,"node_id":"MDQ6VXNlcjQ1Mzg3MzI1","avatar_url":"https://avatars.githubusercontent.com/u/45387325?v=4","gravatar_id":"","url":"https://api.github.com/users/ikramabdel","html_url":"https://github.com/ikramabdel","followers_url":"https://api.github.com/users/ikramabdel/followers","following_url":"https://api.github.com/users/ikramabdel/following{/other_user}","gists_url":"https://api.github.com/users/ikramabdel/gists{/gist_id}","starred_url":"https://api.github.com/users/ikramabdel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikramabdel/subscriptions","organizations_url":"https://api.github.com/users/ikramabdel/orgs","repos_url":"https://api.github.com/users/ikramabdel/repos","events_url":"https://api.github.com/users/ikramabdel/events{/privacy}","received_events_url":"https://api.github.com/users/ikramabdel/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-29T16:07:15Z","performed_via_github_app":null},{"id":3820457423,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MjA0NTc0MjM=","url":"https://api.github.com/repos/google-research/google-research/issues/events/3820457423","actor":{"login":"ikramabdel","id":45387325,"node_id":"MDQ6VXNlcjQ1Mzg3MzI1","avatar_url":"https://avatars.githubusercontent.com/u/45387325?v=4","gravatar_id":"","url":"https://api.github.com/users/ikramabdel","html_url":"https://github.com/ikramabdel","followers_url":"https://api.github.com/users/ikramabdel/followers","following_url":"https://api.github.com/users/ikramabdel/following{/other_user}","gists_url":"https://api.github.com/users/ikramabdel/gists{/gist_id}","starred_url":"https://api.github.com/users/ikramabdel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikramabdel/subscriptions","organizations_url":"https://api.github.com/users/ikramabdel/orgs","repos_url":"https://api.github.com/users/ikramabdel/repos","events_url":"https://api.github.com/users/ikramabdel/events{/privacy}","received_events_url":"https://api.github.com/users/ikramabdel/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-29T16:07:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/701441403","html_url":"https://github.com/google-research/google-research/issues/319#issuecomment-701441403","issue_url":"https://api.github.com/repos/google-research/google-research/issues/319","id":701441403,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTQ0MTQwMw==","user":{"login":"ikramabdel","id":45387325,"node_id":"MDQ6VXNlcjQ1Mzg3MzI1","avatar_url":"https://avatars.githubusercontent.com/u/45387325?v=4","gravatar_id":"","url":"https://api.github.com/users/ikramabdel","html_url":"https://github.com/ikramabdel","followers_url":"https://api.github.com/users/ikramabdel/followers","following_url":"https://api.github.com/users/ikramabdel/following{/other_user}","gists_url":"https://api.github.com/users/ikramabdel/gists{/gist_id}","starred_url":"https://api.github.com/users/ikramabdel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikramabdel/subscriptions","organizations_url":"https://api.github.com/users/ikramabdel/orgs","repos_url":"https://api.github.com/users/ikramabdel/repos","events_url":"https://api.github.com/users/ikramabdel/events{/privacy}","received_events_url":"https://api.github.com/users/ikramabdel/received_events","type":"User","site_admin":false},"created_at":"2020-09-30T14:50:27Z","updated_at":"2020-10-05T07:25:44Z","author_association":"NONE","body":"![depth](https://user-images.githubusercontent.com/45387325/94702910-9229ca00-033e-11eb-91bb-0ec8724bd877.png)\r\n> Hello @ikramabdel ,Its been a while since I did the inference,but I hope the following snippet works\r\n> \r\n> `import` numpy as np\r\n> import tensorflow as tf\r\n> from depth_from_video_in_the_wild import model\r\n> import cv2\r\n> import matplotlib.pyplot as plt\r\n> \r\n> train_model = model.Model(img_height=None, img_width=None, batch_size=None, is_training=False)\r\n> sess = tf.Session()\r\n> saver = tf.train.Saver()\r\n> saver.restore(sess, './depth_from_video_in_the_wild/cityscapes_learned_intrinsics/model.ckpt')\r\n> image = cv2.imread('./depth_from_video_in_the_wild/rgb_image_93.jpgl.png')\r\n> inputs = cv2.resize(image, (416, 128))[np.newaxis,:]\r\n> depth = train_model.inference_depth(inputs, sess)\r\n> \r\n> dd=(depth[0]*256)\r\n> cv2.imwrite('./depth_from_video_in_the_wild/depth.png',dd)\r\n> \r\n> plt.figure(figsize=(20, 10))\r\n> plt.imshow(image)\r\n> plt.figure(figsize=(20, 10))\r\n> plt.imshow(1/depth[0,:,:,0], cmap='plasma')\r\n\r\nThank for replying @poornimajd, how do you get a model.ckpt? I am loading the model and the graph. and an example of my prediction above.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/701441403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ikramabdel","id":45387325,"node_id":"MDQ6VXNlcjQ1Mzg3MzI1","avatar_url":"https://avatars.githubusercontent.com/u/45387325?v=4","gravatar_id":"","url":"https://api.github.com/users/ikramabdel","html_url":"https://github.com/ikramabdel","followers_url":"https://api.github.com/users/ikramabdel/followers","following_url":"https://api.github.com/users/ikramabdel/following{/other_user}","gists_url":"https://api.github.com/users/ikramabdel/gists{/gist_id}","starred_url":"https://api.github.com/users/ikramabdel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikramabdel/subscriptions","organizations_url":"https://api.github.com/users/ikramabdel/orgs","repos_url":"https://api.github.com/users/ikramabdel/repos","events_url":"https://api.github.com/users/ikramabdel/events{/privacy}","received_events_url":"https://api.github.com/users/ikramabdel/received_events","type":"User","site_admin":false}},{"id":3824929584,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgyNDkyOTU4NA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/3824929584","actor":{"login":"ikramabdel","id":45387325,"node_id":"MDQ6VXNlcjQ1Mzg3MzI1","avatar_url":"https://avatars.githubusercontent.com/u/45387325?v=4","gravatar_id":"","url":"https://api.github.com/users/ikramabdel","html_url":"https://github.com/ikramabdel","followers_url":"https://api.github.com/users/ikramabdel/followers","following_url":"https://api.github.com/users/ikramabdel/following{/other_user}","gists_url":"https://api.github.com/users/ikramabdel/gists{/gist_id}","starred_url":"https://api.github.com/users/ikramabdel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikramabdel/subscriptions","organizations_url":"https://api.github.com/users/ikramabdel/orgs","repos_url":"https://api.github.com/users/ikramabdel/repos","events_url":"https://api.github.com/users/ikramabdel/events{/privacy}","received_events_url":"https://api.github.com/users/ikramabdel/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-30T14:50:28Z","performed_via_github_app":null},{"id":3824929589,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MjQ5Mjk1ODk=","url":"https://api.github.com/repos/google-research/google-research/issues/events/3824929589","actor":{"login":"ikramabdel","id":45387325,"node_id":"MDQ6VXNlcjQ1Mzg3MzI1","avatar_url":"https://avatars.githubusercontent.com/u/45387325?v=4","gravatar_id":"","url":"https://api.github.com/users/ikramabdel","html_url":"https://github.com/ikramabdel","followers_url":"https://api.github.com/users/ikramabdel/followers","following_url":"https://api.github.com/users/ikramabdel/following{/other_user}","gists_url":"https://api.github.com/users/ikramabdel/gists{/gist_id}","starred_url":"https://api.github.com/users/ikramabdel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikramabdel/subscriptions","organizations_url":"https://api.github.com/users/ikramabdel/orgs","repos_url":"https://api.github.com/users/ikramabdel/repos","events_url":"https://api.github.com/users/ikramabdel/events{/privacy}","received_events_url":"https://api.github.com/users/ikramabdel/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-30T14:50:28Z","performed_via_github_app":null},{"id":3824932465,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgyNDkzMjQ2NQ==","url":"https://api.github.com/repos/google-research/google-research/issues/events/3824932465","actor":{"login":"poornimajd","id":31023599,"node_id":"MDQ6VXNlcjMxMDIzNTk5","avatar_url":"https://avatars.githubusercontent.com/u/31023599?v=4","gravatar_id":"","url":"https://api.github.com/users/poornimajd","html_url":"https://github.com/poornimajd","followers_url":"https://api.github.com/users/poornimajd/followers","following_url":"https://api.github.com/users/poornimajd/following{/other_user}","gists_url":"https://api.github.com/users/poornimajd/gists{/gist_id}","starred_url":"https://api.github.com/users/poornimajd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poornimajd/subscriptions","organizations_url":"https://api.github.com/users/poornimajd/orgs","repos_url":"https://api.github.com/users/poornimajd/repos","events_url":"https://api.github.com/users/poornimajd/events{/privacy}","received_events_url":"https://api.github.com/users/poornimajd/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-30T14:51:00Z","performed_via_github_app":null},{"id":3824932468,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MjQ5MzI0Njg=","url":"https://api.github.com/repos/google-research/google-research/issues/events/3824932468","actor":{"login":"poornimajd","id":31023599,"node_id":"MDQ6VXNlcjMxMDIzNTk5","avatar_url":"https://avatars.githubusercontent.com/u/31023599?v=4","gravatar_id":"","url":"https://api.github.com/users/poornimajd","html_url":"https://github.com/poornimajd","followers_url":"https://api.github.com/users/poornimajd/followers","following_url":"https://api.github.com/users/poornimajd/following{/other_user}","gists_url":"https://api.github.com/users/poornimajd/gists{/gist_id}","starred_url":"https://api.github.com/users/poornimajd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poornimajd/subscriptions","organizations_url":"https://api.github.com/users/poornimajd/orgs","repos_url":"https://api.github.com/users/poornimajd/repos","events_url":"https://api.github.com/users/poornimajd/events{/privacy}","received_events_url":"https://api.github.com/users/poornimajd/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-30T14:51:00Z","performed_via_github_app":null}]