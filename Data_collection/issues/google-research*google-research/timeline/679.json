[{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/825430771","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-825430771","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":825430771,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTQzMDc3MQ==","user":{"login":"eggplant95","id":32993531,"node_id":"MDQ6VXNlcjMyOTkzNTMx","avatar_url":"https://avatars.githubusercontent.com/u/32993531?v=4","gravatar_id":"","url":"https://api.github.com/users/eggplant95","html_url":"https://github.com/eggplant95","followers_url":"https://api.github.com/users/eggplant95/followers","following_url":"https://api.github.com/users/eggplant95/following{/other_user}","gists_url":"https://api.github.com/users/eggplant95/gists{/gist_id}","starred_url":"https://api.github.com/users/eggplant95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eggplant95/subscriptions","organizations_url":"https://api.github.com/users/eggplant95/orgs","repos_url":"https://api.github.com/users/eggplant95/repos","events_url":"https://api.github.com/users/eggplant95/events{/privacy}","received_events_url":"https://api.github.com/users/eggplant95/received_events","type":"User","site_admin":false},"created_at":"2021-04-23T06:45:53Z","updated_at":"2021-04-23T06:45:53Z","author_association":"NONE","body":"I have the same problems. I found that if I increase the batch size to 1000, only one of the GPUs has increase the Memory usage, yet the GPU_util remains to be 0%. And the training process has been too long. Hope there is a way to increase the GPU usage.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/825430771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eggplant95","id":32993531,"node_id":"MDQ6VXNlcjMyOTkzNTMx","avatar_url":"https://avatars.githubusercontent.com/u/32993531?v=4","gravatar_id":"","url":"https://api.github.com/users/eggplant95","html_url":"https://github.com/eggplant95","followers_url":"https://api.github.com/users/eggplant95/followers","following_url":"https://api.github.com/users/eggplant95/following{/other_user}","gists_url":"https://api.github.com/users/eggplant95/gists{/gist_id}","starred_url":"https://api.github.com/users/eggplant95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eggplant95/subscriptions","organizations_url":"https://api.github.com/users/eggplant95/orgs","repos_url":"https://api.github.com/users/eggplant95/repos","events_url":"https://api.github.com/users/eggplant95/events{/privacy}","received_events_url":"https://api.github.com/users/eggplant95/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/826147272","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-826147272","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":826147272,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjE0NzI3Mg==","user":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"created_at":"2021-04-24T20:11:58Z","updated_at":"2021-04-24T20:11:58Z","author_association":"CONTRIBUTOR","body":"In kws_streaming our focus was mostly on streaming functionality, so you can plug it in any training pipeline. Training loop in this lib was not optimized: there is no data pre-fetching that is why GPU usage will vary in time.\r\nI would suggest to run \"watch nvidia-smi\" to see how GPU usage is changing in time to validate that it is using GPU.\r\n\r\nTo increase the gpu usage you will need to modify [data provider](https://source.corp.google.com/piper///depot/google3/third_party/google_research/google_research/kws_streaming/data/input_data.py) and training loop, for example use model.fit() instead of train_on_batch().\r\n\r\nWe stick with above training loop and data provider for compatibility with [tf example](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/speech_commands) and [hello edge](https://github.com/ARM-software/ML-KWS-for-MCU) work, so that we could compare them side by side.\r\n\r\nThere are two options for streaming conversion:\r\n1 Based on keras functional api, shown in [models](https://github.com/google-research/google-research/tree/master/kws_streaming/models) folder. It propagates streaming buffer automatically through the model. But it works only in session/graph mode (due to constrains in keras: input layers creation is not allowed inside of a layer in eager mode).\r\n\r\n2 Based on keras subclass api, shown in [models_sub](https://github.com/google-research/google-research/tree/master/kws_streaming/models_sub) folder. User will have to manage and propagate streaming buffers manually as show in [function](https://github.com/google-research/google-research/blob/master/kws_streaming/models_sub/conv_model.py#L95). It works in eager mode. But it is not integrated with the training loop of this lib, because current training loop is based on session/graph mode due to [data provider](https://source.corp.google.com/piper///depot/google3/third_party/google_research/google_research/kws_streaming/data/input_data.py) implementation, which can be converted to eager mode too - it is out of scope of our current project.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/826147272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/827010276","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-827010276","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":827010276,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzAxMDI3Ng==","user":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false},"created_at":"2021-04-26T17:18:08Z","updated_at":"2021-04-26T17:18:08Z","author_association":"NONE","body":"@rybakov \r\n>I would suggest to run \"watch nvidia-smi\" to see how GPU usage is changing in time to validate that it is using GPU.\r\n>\r\n>To increase the gpu usage you will need to modify data provider and training loop, for example use model.fit() instead of train_on_batch().\r\n\r\nI did `watch nvidia-smi` and confirmed the GPU running a training of kws_streaming kept 0%.\r\nAnd it seems not to work just by changing from train_on_batch() to fit().\r\nI think it's as you mentioned.\r\n\r\n>There are two options for streaming conversion:\r\n\r\nI can't see the link of data provider you gave me but do you mean if I want to train some models eagerly with high GPU usage, I need to make a training loop by scratch following 1?\r\nIf so, can you give me some example to write?\r\n (I guess your project has the script that can be an example)","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/827010276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false}},{"id":4646285265,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDY0NjI4NTI2NQ==","url":"https://api.github.com/repos/google-research/google-research/issues/events/4646285265","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-26T17:18:08Z","performed_via_github_app":null},{"id":4646285268,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2NDYyODUyNjg=","url":"https://api.github.com/repos/google-research/google-research/issues/events/4646285268","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-26T17:18:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/830774560","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-830774560","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":830774560,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDc3NDU2MA==","user":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"created_at":"2021-05-02T08:53:12Z","updated_at":"2021-05-02T08:53:12Z","author_association":"CONTRIBUTOR","body":"Before optimizing model training with data pre-fetching and modifying the code with model.fit etc, I would suggest to check that your tf and nvidia cuda are set up correctly. Per this [description](https://www.tensorflow.org/install/pip) I installed [tf with gpu support](https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-2.4.0-cp36-cp36m-manylinux2010_x86_64.whl) and installed [cuda 11](https://www.tensorflow.org/install/gpu). I run the training and confirm that gpu is used and it is fluctuating between 3% and 50%, and if I increase the batch size (to 512) then peak gpu usage goes to 70%. The changes in gpu usage is due to the lack of data pre-fetching in this lib. When you train the model please check printed logs in the beginning of training: it should say that cuda libs are loaded, if there is any error in *.so loading then training will fall back to cpu training.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/830774560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false}},{"id":4686821560,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDY4NjgyMTU2MA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/4686821560","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-05T05:17:50Z","performed_via_github_app":null},{"id":4686821563,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2ODY4MjE1NjM=","url":"https://api.github.com/repos/google-research/google-research/issues/events/4686821563","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-05T05:17:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832418473","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-832418473","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":832418473,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjQxODQ3Mw==","user":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false},"created_at":"2021-05-05T05:20:12Z","updated_at":"2021-05-05T05:20:12Z","author_association":"NONE","body":"@rybakov \r\nThank you for your advices. I reviewed my environment especially lib related to CUDA, eventually I could confirm Volatile GPU util working!\r\nIn my case, I use conda as a virtual environment and conda install tensorflow-gpu did work for this issue.\r\n\r\nAnd then in terms of eager execution, I'm going to try to convert [models_sub](https://github.com/google-research/google-research/tree/master/kws_streaming/models_sub) to eager mode. If you have any other info, please kindly share with me. Any information will help me.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832418473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false}},{"id":4686827379,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDY4NjgyNzM3OQ==","url":"https://api.github.com/repos/google-research/google-research/issues/events/4686827379","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-05T05:20:12Z","performed_via_github_app":null},{"id":4686827381,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2ODY4MjczODE=","url":"https://api.github.com/repos/google-research/google-research/issues/events/4686827381","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-05T05:20:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832442804","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-832442804","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":832442804,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjQ0MjgwNA==","user":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"created_at":"2021-05-05T06:22:50Z","updated_at":"2021-05-05T06:22:50Z","author_association":"CONTRIBUTOR","body":"About eager execution, [models_sub](https://github.com/google-research/google-research/tree/master/kws_streaming/models_sub) already eager mode compatible: you could see it in [conv_model_test.py](https://github.com/google-research/google-research/blob/master/kws_streaming/models_sub/conv_model_test.py): eager mode in this file is not disabled. So you can run inference of this model in eager mode.\r\nBut training utility is running in session/graph mode because of [input_data](https://github.com/google-research/google-research/blob/master/kws_streaming/data/input_data.py) - it is not eager mode compatible. So if you make [input_data](https://github.com/google-research/google-research/blob/master/kws_streaming/data/input_data.py) eager mode compatible then you could train [models_sub](https://github.com/google-research/google-research/tree/master/kws_streaming/models_sub) in eager mode.\r\n\r\nThere are also other models in [folder](https://github.com/google-research/google-research/tree/master/kws_streaming/models) but they are all not eager compatible, so eager mode is disabled explicitly in this [example test](https://github.com/google-research/google-research/blob/master/kws_streaming/models/ds_tc_resnet_test.py#L141).","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832442804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832793843","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-832793843","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":832793843,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjc5Mzg0Mw==","user":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false},"created_at":"2021-05-05T15:40:45Z","updated_at":"2021-05-05T15:40:45Z","author_association":"NONE","body":"I see.\r\nDo you know any codes I can see as the example of eager mode compatible input?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832793843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832865144","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-832865144","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":832865144,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjg2NTE0NA==","user":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"created_at":"2021-05-05T17:13:31Z","updated_at":"2021-05-05T17:13:31Z","author_association":"CONTRIBUTOR","body":"[input_data](https://github.com/google-research/google-research/blob/master/kws_streaming/data/input_data.py) loads wav files into batch and does some pre-processing. The simplest approach to replace it is to load all training data and validation data and call [model.fit](https://www.tensorflow.org/api_docs/python/tf/keras/Model#fit). This way it will work. Accuracy will not be the same because [input_data](https://github.com/google-research/google-research/blob/master/kws_streaming/data/input_data.py) is pre-processing the data by stretching and shifting audio in time, it also adds noise and adds \"unknown\" label.\r\n\r\nTo reproduce the accuracy you could to add learning rate schedule and enable [rand_stretch_squeeze](https://github.com/google-research/google-research/blob/master/kws_streaming/layers/speech_features.py#L233) and [rand_shift](https://github.com/google-research/google-research/blob/master/kws_streaming/layers/speech_features.py#L234) in [speech_features](https://github.com/google-research/google-research/blob/master/kws_streaming/layers/speech_features.py#L234) also will need to add noise to training data and create \"unknown\" label.\r\n\r\nAnother option is to convert [input_data](https://github.com/google-research/google-research/blob/master/kws_streaming/data/input_data.py) to eager mode: will need to remove all sessions and validate that it works\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/832865144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false}},{"id":5138269034,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTEzODI2OTAzNA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/5138269034","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-08-10T23:06:48Z","performed_via_github_app":null},{"id":5138269037,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUxMzgyNjkwMzc=","url":"https://api.github.com/repos/google-research/google-research/issues/events/5138269037","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-08-10T23:06:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/896369969","html_url":"https://github.com/google-research/google-research/issues/679#issuecomment-896369969","issue_url":"https://api.github.com/repos/google-research/google-research/issues/679","id":896369969,"node_id":"IC_kwDOCQmIhc41bYUx","user":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false},"created_at":"2021-08-10T23:07:35Z","updated_at":"2021-08-10T23:07:35Z","author_association":"NONE","body":"Thank you @rybakov\r\nSorry for leaving this issue for a long time.\r\nI understood the situation.\r\nLet me close this issue!","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/896369969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false}},{"id":5138271904,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTEzODI3MTkwNA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/5138271904","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-08-10T23:07:36Z","performed_via_github_app":null},{"id":5138271907,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUxMzgyNzE5MDc=","url":"https://api.github.com/repos/google-research/google-research/issues/events/5138271907","actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-08-10T23:07:36Z","performed_via_github_app":null},{"id":5138272358,"node_id":"MDExOkNsb3NlZEV2ZW50NTEzODI3MjM1OA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/5138272358","actor":{"login":"ntyoshi","id":62040028,"node_id":"MDQ6VXNlcjYyMDQwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/62040028?v=4","gravatar_id":"","url":"https://api.github.com/users/ntyoshi","html_url":"https://github.com/ntyoshi","followers_url":"https://api.github.com/users/ntyoshi/followers","following_url":"https://api.github.com/users/ntyoshi/following{/other_user}","gists_url":"https://api.github.com/users/ntyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/ntyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ntyoshi/subscriptions","organizations_url":"https://api.github.com/users/ntyoshi/orgs","repos_url":"https://api.github.com/users/ntyoshi/repos","events_url":"https://api.github.com/users/ntyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/ntyoshi/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-08-10T23:07:44Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"created_at":"2021-12-08T22:18:25Z","updated_at":"2021-12-08T22:18:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/google-research/google-research/issues/912","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/912/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/912/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/912/events","html_url":"https://github.com/google-research/google-research/issues/912","id":1073016401,"node_id":"I_kwDOCQmIhc4_9O5R","number":912,"title":"[KWS_Streaming] how to use gpu to train model ?","user":{"login":"dungnguyen98","id":35393511,"node_id":"MDQ6VXNlcjM1MzkzNTEx","avatar_url":"https://avatars.githubusercontent.com/u/35393511?v=4","gravatar_id":"","url":"https://api.github.com/users/dungnguyen98","html_url":"https://github.com/dungnguyen98","followers_url":"https://api.github.com/users/dungnguyen98/followers","following_url":"https://api.github.com/users/dungnguyen98/following{/other_user}","gists_url":"https://api.github.com/users/dungnguyen98/gists{/gist_id}","starred_url":"https://api.github.com/users/dungnguyen98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dungnguyen98/subscriptions","organizations_url":"https://api.github.com/users/dungnguyen98/orgs","repos_url":"https://api.github.com/users/dungnguyen98/repos","events_url":"https://api.github.com/users/dungnguyen98/events{/privacy}","received_events_url":"https://api.github.com/users/dungnguyen98/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-12-07T07:35:30Z","updated_at":"2021-12-09T02:51:20Z","closed_at":"2021-12-09T02:51:20Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":151619717,"node_id":"MDEwOlJlcG9zaXRvcnkxNTE2MTk3MTc=","name":"google-research","full_name":"google-research/google-research","private":false,"owner":{"login":"google-research","id":43830688,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzODMwNjg4","avatar_url":"https://avatars.githubusercontent.com/u/43830688?v=4","gravatar_id":"","url":"https://api.github.com/users/google-research","html_url":"https://github.com/google-research","followers_url":"https://api.github.com/users/google-research/followers","following_url":"https://api.github.com/users/google-research/following{/other_user}","gists_url":"https://api.github.com/users/google-research/gists{/gist_id}","starred_url":"https://api.github.com/users/google-research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/google-research/subscriptions","organizations_url":"https://api.github.com/users/google-research/orgs","repos_url":"https://api.github.com/users/google-research/repos","events_url":"https://api.github.com/users/google-research/events{/privacy}","received_events_url":"https://api.github.com/users/google-research/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/google-research/google-research","description":"Google Research","fork":false,"url":"https://api.github.com/repos/google-research/google-research","forks_url":"https://api.github.com/repos/google-research/google-research/forks","keys_url":"https://api.github.com/repos/google-research/google-research/keys{/key_id}","collaborators_url":"https://api.github.com/repos/google-research/google-research/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/google-research/google-research/teams","hooks_url":"https://api.github.com/repos/google-research/google-research/hooks","issue_events_url":"https://api.github.com/repos/google-research/google-research/issues/events{/number}","events_url":"https://api.github.com/repos/google-research/google-research/events","assignees_url":"https://api.github.com/repos/google-research/google-research/assignees{/user}","branches_url":"https://api.github.com/repos/google-research/google-research/branches{/branch}","tags_url":"https://api.github.com/repos/google-research/google-research/tags","blobs_url":"https://api.github.com/repos/google-research/google-research/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/google-research/google-research/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/google-research/google-research/git/refs{/sha}","trees_url":"https://api.github.com/repos/google-research/google-research/git/trees{/sha}","statuses_url":"https://api.github.com/repos/google-research/google-research/statuses/{sha}","languages_url":"https://api.github.com/repos/google-research/google-research/languages","stargazers_url":"https://api.github.com/repos/google-research/google-research/stargazers","contributors_url":"https://api.github.com/repos/google-research/google-research/contributors","subscribers_url":"https://api.github.com/repos/google-research/google-research/subscribers","subscription_url":"https://api.github.com/repos/google-research/google-research/subscription","commits_url":"https://api.github.com/repos/google-research/google-research/commits{/sha}","git_commits_url":"https://api.github.com/repos/google-research/google-research/git/commits{/sha}","comments_url":"https://api.github.com/repos/google-research/google-research/comments{/number}","issue_comment_url":"https://api.github.com/repos/google-research/google-research/issues/comments{/number}","contents_url":"https://api.github.com/repos/google-research/google-research/contents/{+path}","compare_url":"https://api.github.com/repos/google-research/google-research/compare/{base}...{head}","merges_url":"https://api.github.com/repos/google-research/google-research/merges","archive_url":"https://api.github.com/repos/google-research/google-research/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/google-research/google-research/downloads","issues_url":"https://api.github.com/repos/google-research/google-research/issues{/number}","pulls_url":"https://api.github.com/repos/google-research/google-research/pulls{/number}","milestones_url":"https://api.github.com/repos/google-research/google-research/milestones{/number}","notifications_url":"https://api.github.com/repos/google-research/google-research/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/google-research/google-research/labels{/name}","releases_url":"https://api.github.com/repos/google-research/google-research/releases{/id}","deployments_url":"https://api.github.com/repos/google-research/google-research/deployments","created_at":"2018-10-04T18:42:48Z","updated_at":"2023-01-20T00:41:48Z","pushed_at":"2023-01-19T23:45:46Z","git_url":"git://github.com/google-research/google-research.git","ssh_url":"git@github.com:google-research/google-research.git","clone_url":"https://github.com/google-research/google-research.git","svn_url":"https://github.com/google-research/google-research","homepage":"https://research.google","size":371210,"stargazers_count":26828,"watchers_count":26828,"language":"Jupyter Notebook","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6663,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":904,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ai","machine-learning","research"],"visibility":"public","forks":6663,"open_issues":904,"watchers":26828,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi, thanks for your great repository. I have a question: How can use gpu when I train kws_streaming model? (When I do training, I check my gpu usage, and nothing happened). I don't find any param out which talk about it? Can you give me some advices?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/912/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"rybakov","id":6813603,"node_id":"MDQ6VXNlcjY4MTM2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6813603?v=4","gravatar_id":"","url":"https://api.github.com/users/rybakov","html_url":"https://github.com/rybakov","followers_url":"https://api.github.com/users/rybakov/followers","following_url":"https://api.github.com/users/rybakov/following{/other_user}","gists_url":"https://api.github.com/users/rybakov/gists{/gist_id}","starred_url":"https://api.github.com/users/rybakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rybakov/subscriptions","organizations_url":"https://api.github.com/users/rybakov/orgs","repos_url":"https://api.github.com/users/rybakov/repos","events_url":"https://api.github.com/users/rybakov/events{/privacy}","received_events_url":"https://api.github.com/users/rybakov/received_events","type":"User","site_admin":false},"created_at":"2022-06-01T17:43:46Z","updated_at":"2022-06-01T17:43:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/google-research/google-research/issues/1139","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/1139/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/1139/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/1139/events","html_url":"https://github.com/google-research/google-research/issues/1139","id":1253283988,"node_id":"I_kwDOCQmIhc5Ks5iU","number":1139,"title":"[kws streaming] how to increase performance of gpus","user":{"login":"dungnguyen98","id":35393511,"node_id":"MDQ6VXNlcjM1MzkzNTEx","avatar_url":"https://avatars.githubusercontent.com/u/35393511?v=4","gravatar_id":"","url":"https://api.github.com/users/dungnguyen98","html_url":"https://github.com/dungnguyen98","followers_url":"https://api.github.com/users/dungnguyen98/followers","following_url":"https://api.github.com/users/dungnguyen98/following{/other_user}","gists_url":"https://api.github.com/users/dungnguyen98/gists{/gist_id}","starred_url":"https://api.github.com/users/dungnguyen98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dungnguyen98/subscriptions","organizations_url":"https://api.github.com/users/dungnguyen98/orgs","repos_url":"https://api.github.com/users/dungnguyen98/repos","events_url":"https://api.github.com/users/dungnguyen98/events{/privacy}","received_events_url":"https://api.github.com/users/dungnguyen98/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-05-31T03:20:04Z","updated_at":"2022-06-03T04:36:05Z","closed_at":"2022-06-03T04:36:05Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":151619717,"node_id":"MDEwOlJlcG9zaXRvcnkxNTE2MTk3MTc=","name":"google-research","full_name":"google-research/google-research","private":false,"owner":{"login":"google-research","id":43830688,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzODMwNjg4","avatar_url":"https://avatars.githubusercontent.com/u/43830688?v=4","gravatar_id":"","url":"https://api.github.com/users/google-research","html_url":"https://github.com/google-research","followers_url":"https://api.github.com/users/google-research/followers","following_url":"https://api.github.com/users/google-research/following{/other_user}","gists_url":"https://api.github.com/users/google-research/gists{/gist_id}","starred_url":"https://api.github.com/users/google-research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/google-research/subscriptions","organizations_url":"https://api.github.com/users/google-research/orgs","repos_url":"https://api.github.com/users/google-research/repos","events_url":"https://api.github.com/users/google-research/events{/privacy}","received_events_url":"https://api.github.com/users/google-research/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/google-research/google-research","description":"Google Research","fork":false,"url":"https://api.github.com/repos/google-research/google-research","forks_url":"https://api.github.com/repos/google-research/google-research/forks","keys_url":"https://api.github.com/repos/google-research/google-research/keys{/key_id}","collaborators_url":"https://api.github.com/repos/google-research/google-research/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/google-research/google-research/teams","hooks_url":"https://api.github.com/repos/google-research/google-research/hooks","issue_events_url":"https://api.github.com/repos/google-research/google-research/issues/events{/number}","events_url":"https://api.github.com/repos/google-research/google-research/events","assignees_url":"https://api.github.com/repos/google-research/google-research/assignees{/user}","branches_url":"https://api.github.com/repos/google-research/google-research/branches{/branch}","tags_url":"https://api.github.com/repos/google-research/google-research/tags","blobs_url":"https://api.github.com/repos/google-research/google-research/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/google-research/google-research/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/google-research/google-research/git/refs{/sha}","trees_url":"https://api.github.com/repos/google-research/google-research/git/trees{/sha}","statuses_url":"https://api.github.com/repos/google-research/google-research/statuses/{sha}","languages_url":"https://api.github.com/repos/google-research/google-research/languages","stargazers_url":"https://api.github.com/repos/google-research/google-research/stargazers","contributors_url":"https://api.github.com/repos/google-research/google-research/contributors","subscribers_url":"https://api.github.com/repos/google-research/google-research/subscribers","subscription_url":"https://api.github.com/repos/google-research/google-research/subscription","commits_url":"https://api.github.com/repos/google-research/google-research/commits{/sha}","git_commits_url":"https://api.github.com/repos/google-research/google-research/git/commits{/sha}","comments_url":"https://api.github.com/repos/google-research/google-research/comments{/number}","issue_comment_url":"https://api.github.com/repos/google-research/google-research/issues/comments{/number}","contents_url":"https://api.github.com/repos/google-research/google-research/contents/{+path}","compare_url":"https://api.github.com/repos/google-research/google-research/compare/{base}...{head}","merges_url":"https://api.github.com/repos/google-research/google-research/merges","archive_url":"https://api.github.com/repos/google-research/google-research/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/google-research/google-research/downloads","issues_url":"https://api.github.com/repos/google-research/google-research/issues{/number}","pulls_url":"https://api.github.com/repos/google-research/google-research/pulls{/number}","milestones_url":"https://api.github.com/repos/google-research/google-research/milestones{/number}","notifications_url":"https://api.github.com/repos/google-research/google-research/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/google-research/google-research/labels{/name}","releases_url":"https://api.github.com/repos/google-research/google-research/releases{/id}","deployments_url":"https://api.github.com/repos/google-research/google-research/deployments","created_at":"2018-10-04T18:42:48Z","updated_at":"2023-01-20T00:41:48Z","pushed_at":"2023-01-19T23:45:46Z","git_url":"git://github.com/google-research/google-research.git","ssh_url":"git@github.com:google-research/google-research.git","clone_url":"https://github.com/google-research/google-research.git","svn_url":"https://github.com/google-research/google-research","homepage":"https://research.google","size":371210,"stargazers_count":26828,"watchers_count":26828,"language":"Jupyter Notebook","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6663,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":904,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ai","machine-learning","research"],"visibility":"public","forks":6663,"open_issues":904,"watchers":26828,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi. Thanks for greate repository.\r\nI train kws on my dataset. I check logs and see program have loaded gpus.\r\nBut I noticed that sometimes, my gpus are idle (gpus usage down to 0%). I think this is because data loading is not responsive to gpus. \r\nhow can I increase the number of cores in data loading ?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/1139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/1139/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]