[{"id":3760839010,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzc2MDgzOTAxMA==","url":"https://api.github.com/repos/google-research/google-research/issues/events/3760839010","actor":{"login":"debidatta","id":900350,"node_id":"MDQ6VXNlcjkwMDM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/900350?v=4","gravatar_id":"","url":"https://api.github.com/users/debidatta","html_url":"https://github.com/debidatta","followers_url":"https://api.github.com/users/debidatta/followers","following_url":"https://api.github.com/users/debidatta/following{/other_user}","gists_url":"https://api.github.com/users/debidatta/gists{/gist_id}","starred_url":"https://api.github.com/users/debidatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debidatta/subscriptions","organizations_url":"https://api.github.com/users/debidatta/orgs","repos_url":"https://api.github.com/users/debidatta/repos","events_url":"https://api.github.com/users/debidatta/events{/privacy}","received_events_url":"https://api.github.com/users/debidatta/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-13T21:57:37Z","performed_via_github_app":null},{"id":3760839011,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM3NjA4MzkwMTE=","url":"https://api.github.com/repos/google-research/google-research/issues/events/3760839011","actor":{"login":"debidatta","id":900350,"node_id":"MDQ6VXNlcjkwMDM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/900350?v=4","gravatar_id":"","url":"https://api.github.com/users/debidatta","html_url":"https://github.com/debidatta","followers_url":"https://api.github.com/users/debidatta/followers","following_url":"https://api.github.com/users/debidatta/following{/other_user}","gists_url":"https://api.github.com/users/debidatta/gists{/gist_id}","starred_url":"https://api.github.com/users/debidatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debidatta/subscriptions","organizations_url":"https://api.github.com/users/debidatta/orgs","repos_url":"https://api.github.com/users/debidatta/repos","events_url":"https://api.github.com/users/debidatta/events{/privacy}","received_events_url":"https://api.github.com/users/debidatta/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-13T21:57:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/694614098","html_url":"https://github.com/google-research/google-research/issues/390#issuecomment-694614098","issue_url":"https://api.github.com/repos/google-research/google-research/issues/390","id":694614098,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDYxNDA5OA==","user":{"login":"debidatta","id":900350,"node_id":"MDQ6VXNlcjkwMDM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/900350?v=4","gravatar_id":"","url":"https://api.github.com/users/debidatta","html_url":"https://github.com/debidatta","followers_url":"https://api.github.com/users/debidatta/followers","following_url":"https://api.github.com/users/debidatta/following{/other_user}","gists_url":"https://api.github.com/users/debidatta/gists{/gist_id}","starred_url":"https://api.github.com/users/debidatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debidatta/subscriptions","organizations_url":"https://api.github.com/users/debidatta/orgs","repos_url":"https://api.github.com/users/debidatta/repos","events_url":"https://api.github.com/users/debidatta/events{/privacy}","received_events_url":"https://api.github.com/users/debidatta/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T02:39:24Z","updated_at":"2020-09-18T02:39:24Z","author_association":"CONTRIBUTOR","body":"It should be possible to extract the frames and labels from the provided TFRecords using this [script](https://github.com/google-research/google-research/blob/master/tcc/dataset_preparation/visualize_tfrecords.py)? Let me know if this doesn't work.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/694614098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"debidatta","id":900350,"node_id":"MDQ6VXNlcjkwMDM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/900350?v=4","gravatar_id":"","url":"https://api.github.com/users/debidatta","html_url":"https://github.com/debidatta","followers_url":"https://api.github.com/users/debidatta/followers","following_url":"https://api.github.com/users/debidatta/following{/other_user}","gists_url":"https://api.github.com/users/debidatta/gists{/gist_id}","starred_url":"https://api.github.com/users/debidatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debidatta/subscriptions","organizations_url":"https://api.github.com/users/debidatta/orgs","repos_url":"https://api.github.com/users/debidatta/repos","events_url":"https://api.github.com/users/debidatta/events{/privacy}","received_events_url":"https://api.github.com/users/debidatta/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/697682517","html_url":"https://github.com/google-research/google-research/issues/390#issuecomment-697682517","issue_url":"https://api.github.com/repos/google-research/google-research/issues/390","id":697682517,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzY4MjUxNw==","user":{"login":"peiyic2","id":42955128,"node_id":"MDQ6VXNlcjQyOTU1MTI4","avatar_url":"https://avatars.githubusercontent.com/u/42955128?v=4","gravatar_id":"","url":"https://api.github.com/users/peiyic2","html_url":"https://github.com/peiyic2","followers_url":"https://api.github.com/users/peiyic2/followers","following_url":"https://api.github.com/users/peiyic2/following{/other_user}","gists_url":"https://api.github.com/users/peiyic2/gists{/gist_id}","starred_url":"https://api.github.com/users/peiyic2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peiyic2/subscriptions","organizations_url":"https://api.github.com/users/peiyic2/orgs","repos_url":"https://api.github.com/users/peiyic2/repos","events_url":"https://api.github.com/users/peiyic2/events{/privacy}","received_events_url":"https://api.github.com/users/peiyic2/received_events","type":"User","site_admin":false},"created_at":"2020-09-23T16:50:24Z","updated_at":"2020-09-23T16:50:24Z","author_association":"NONE","body":"Thanks! But, it seems like there are only three annotated videos in the tfrecords provided? Do you have the whole pouring dataset available? I need it to have a try on training please! The pouring dataset is unavailable in this website now https://sites.google.com/site/brainrobotdata/home/multiview-pouring.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/697682517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"peiyic2","id":42955128,"node_id":"MDQ6VXNlcjQyOTU1MTI4","avatar_url":"https://avatars.githubusercontent.com/u/42955128?v=4","gravatar_id":"","url":"https://api.github.com/users/peiyic2","html_url":"https://github.com/peiyic2","followers_url":"https://api.github.com/users/peiyic2/followers","following_url":"https://api.github.com/users/peiyic2/following{/other_user}","gists_url":"https://api.github.com/users/peiyic2/gists{/gist_id}","starred_url":"https://api.github.com/users/peiyic2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peiyic2/subscriptions","organizations_url":"https://api.github.com/users/peiyic2/orgs","repos_url":"https://api.github.com/users/peiyic2/repos","events_url":"https://api.github.com/users/peiyic2/events{/privacy}","received_events_url":"https://api.github.com/users/peiyic2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/697966642","html_url":"https://github.com/google-research/google-research/issues/390#issuecomment-697966642","issue_url":"https://api.github.com/repos/google-research/google-research/issues/390","id":697966642,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Nzk2NjY0Mg==","user":{"login":"debidatta","id":900350,"node_id":"MDQ6VXNlcjkwMDM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/900350?v=4","gravatar_id":"","url":"https://api.github.com/users/debidatta","html_url":"https://github.com/debidatta","followers_url":"https://api.github.com/users/debidatta/followers","following_url":"https://api.github.com/users/debidatta/following{/other_user}","gists_url":"https://api.github.com/users/debidatta/gists{/gist_id}","starred_url":"https://api.github.com/users/debidatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debidatta/subscriptions","organizations_url":"https://api.github.com/users/debidatta/orgs","repos_url":"https://api.github.com/users/debidatta/repos","events_url":"https://api.github.com/users/debidatta/events{/privacy}","received_events_url":"https://api.github.com/users/debidatta/received_events","type":"User","site_admin":false},"created_at":"2020-09-23T20:53:03Z","updated_at":"2020-09-23T20:53:03Z","author_association":"CONTRIBUTOR","body":"Even though there are 3 TFRecord files, there are multiple examples in each of them. Those files contain all the videos used for training.\r\n\r\nSorry you'd have to contact the dataset owners about why the pouring dataset is unavailable. ","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/697966642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"debidatta","id":900350,"node_id":"MDQ6VXNlcjkwMDM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/900350?v=4","gravatar_id":"","url":"https://api.github.com/users/debidatta","html_url":"https://github.com/debidatta","followers_url":"https://api.github.com/users/debidatta/followers","following_url":"https://api.github.com/users/debidatta/following{/other_user}","gists_url":"https://api.github.com/users/debidatta/gists{/gist_id}","starred_url":"https://api.github.com/users/debidatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debidatta/subscriptions","organizations_url":"https://api.github.com/users/debidatta/orgs","repos_url":"https://api.github.com/users/debidatta/repos","events_url":"https://api.github.com/users/debidatta/events{/privacy}","received_events_url":"https://api.github.com/users/debidatta/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/712204622","html_url":"https://github.com/google-research/google-research/issues/390#issuecomment-712204622","issue_url":"https://api.github.com/repos/google-research/google-research/issues/390","id":712204622,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjIwNDYyMg==","user":{"login":"peiyic2","id":42955128,"node_id":"MDQ6VXNlcjQyOTU1MTI4","avatar_url":"https://avatars.githubusercontent.com/u/42955128?v=4","gravatar_id":"","url":"https://api.github.com/users/peiyic2","html_url":"https://github.com/peiyic2","followers_url":"https://api.github.com/users/peiyic2/followers","following_url":"https://api.github.com/users/peiyic2/following{/other_user}","gists_url":"https://api.github.com/users/peiyic2/gists{/gist_id}","starred_url":"https://api.github.com/users/peiyic2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peiyic2/subscriptions","organizations_url":"https://api.github.com/users/peiyic2/orgs","repos_url":"https://api.github.com/users/peiyic2/repos","events_url":"https://api.github.com/users/peiyic2/events{/privacy}","received_events_url":"https://api.github.com/users/peiyic2/received_events","type":"User","site_admin":false},"created_at":"2020-10-19T14:33:00Z","updated_at":"2020-10-19T14:33:00Z","author_association":"NONE","body":"Thanks a lot! But I have no idea how to extract frames and per-frame labels from the provided TFRecords using that code. If I print label like this \r\n<img width=\"477\" alt=\"print_label\" src=\"https://user-images.githubusercontent.com/42955128/96463551-72265180-11ec-11eb-9947-9e721cfe9504.png\">\r\nThe labels it prints are always [4]\r\n<img width=\"650\" alt=\"label\" src=\"https://user-images.githubusercontent.com/42955128/96463823-bfa2be80-11ec-11eb-8c5f-9aa72b9bf2e0.png\">\r\nDo you have per-frame annotated label files may publish? Or are there any other ways I can extract per-frame labels from the TFRecords provided? Thanks for your help.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/712204622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"peiyic2","id":42955128,"node_id":"MDQ6VXNlcjQyOTU1MTI4","avatar_url":"https://avatars.githubusercontent.com/u/42955128?v=4","gravatar_id":"","url":"https://api.github.com/users/peiyic2","html_url":"https://github.com/peiyic2","followers_url":"https://api.github.com/users/peiyic2/followers","following_url":"https://api.github.com/users/peiyic2/following{/other_user}","gists_url":"https://api.github.com/users/peiyic2/gists{/gist_id}","starred_url":"https://api.github.com/users/peiyic2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peiyic2/subscriptions","organizations_url":"https://api.github.com/users/peiyic2/orgs","repos_url":"https://api.github.com/users/peiyic2/repos","events_url":"https://api.github.com/users/peiyic2/events{/privacy}","received_events_url":"https://api.github.com/users/peiyic2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/712305026","html_url":"https://github.com/google-research/google-research/issues/390#issuecomment-712305026","issue_url":"https://api.github.com/repos/google-research/google-research/issues/390","id":712305026,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjMwNTAyNg==","user":{"login":"debidatta","id":900350,"node_id":"MDQ6VXNlcjkwMDM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/900350?v=4","gravatar_id":"","url":"https://api.github.com/users/debidatta","html_url":"https://github.com/debidatta","followers_url":"https://api.github.com/users/debidatta/followers","following_url":"https://api.github.com/users/debidatta/following{/other_user}","gists_url":"https://api.github.com/users/debidatta/gists{/gist_id}","starred_url":"https://api.github.com/users/debidatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debidatta/subscriptions","organizations_url":"https://api.github.com/users/debidatta/orgs","repos_url":"https://api.github.com/users/debidatta/repos","events_url":"https://api.github.com/users/debidatta/events{/privacy}","received_events_url":"https://api.github.com/users/debidatta/received_events","type":"User","site_admin":false},"created_at":"2020-10-19T17:07:44Z","updated_at":"2020-10-19T17:07:44Z","author_association":"CONTRIBUTOR","body":"Oh I see the problem. It is only decoding the sequence label here not the per-frame labels.\r\n\r\nYou can change decode function to this:\r\n\r\n\r\n```python\r\ndef decode(serialized_example):\r\n  \"\"\"Decode a serialized a SequenceExample string.\r\n  Args:\r\n    serialized_example: SequenceExample, A SequenceExample from a TFRecord.\r\n  Returns:\r\n    frames: list, A list of frames in the video in SequenceExample.\r\n    name: string, Name of the sequence.\r\n  \"\"\"\r\n\r\n  context_features = {\r\n      'label': tf.io.FixedLenFeature([], dtype=tf.int64),\r\n      'len': tf.io.FixedLenFeature([], dtype=tf.int64)\r\n  }\r\n  sequence_features = {\r\n      'video': tf.io.FixedLenSequenceFeature([], dtype=tf.string),\r\n      'frame_labels' = tf.io.FixedLenSequenceFeature([], dtype=tf.int64)\r\n  }\r\n\r\n  # Extract features from serialized data.\r\n  context_data, sequence_data = tf.io.parse_single_sequence_example(\r\n      serialized=serialized_example,\r\n      context_features=context_features,\r\n      sequence_features=sequence_features)\r\n\r\n  # Decode the encoded JPG images.\r\n  frames = tf.map_fn(tf.image.decode_jpeg, sequence_data['video'],\r\n                     dtype=tf.uint8, parallel_iterations=12)\r\n  label = context_data['label']\r\n  frame_labels = sequence_data.get('frame_labels', [])\r\n  return frames, label, frame_labels\r\n```\r\n\r\nAnd then replace:\r\n\r\n```python\r\nfor batch_videos, batch_labels in dataset:\r\n    batch_videos = batch_videos.numpy()\r\n    batch_labels = batch_labels.numpy()\r\n```\r\nwith \r\n```python\r\nfor batch_videos, batch_labels, batch_frame_labels in dataset:\r\n    batch_videos = batch_videos.numpy()\r\n    batch_labels = batch_labels.numpy()\r\n    batch_frame_labels = batch_frame_labels.numpy()\r\n```\r\n\r\nThe batch_frame_labels have the per-frame labels you want. ","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/712305026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"debidatta","id":900350,"node_id":"MDQ6VXNlcjkwMDM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/900350?v=4","gravatar_id":"","url":"https://api.github.com/users/debidatta","html_url":"https://github.com/debidatta","followers_url":"https://api.github.com/users/debidatta/followers","following_url":"https://api.github.com/users/debidatta/following{/other_user}","gists_url":"https://api.github.com/users/debidatta/gists{/gist_id}","starred_url":"https://api.github.com/users/debidatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debidatta/subscriptions","organizations_url":"https://api.github.com/users/debidatta/orgs","repos_url":"https://api.github.com/users/debidatta/repos","events_url":"https://api.github.com/users/debidatta/events{/privacy}","received_events_url":"https://api.github.com/users/debidatta/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/712307611","html_url":"https://github.com/google-research/google-research/issues/390#issuecomment-712307611","issue_url":"https://api.github.com/repos/google-research/google-research/issues/390","id":712307611,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjMwNzYxMQ==","user":{"login":"peiyic2","id":42955128,"node_id":"MDQ6VXNlcjQyOTU1MTI4","avatar_url":"https://avatars.githubusercontent.com/u/42955128?v=4","gravatar_id":"","url":"https://api.github.com/users/peiyic2","html_url":"https://github.com/peiyic2","followers_url":"https://api.github.com/users/peiyic2/followers","following_url":"https://api.github.com/users/peiyic2/following{/other_user}","gists_url":"https://api.github.com/users/peiyic2/gists{/gist_id}","starred_url":"https://api.github.com/users/peiyic2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peiyic2/subscriptions","organizations_url":"https://api.github.com/users/peiyic2/orgs","repos_url":"https://api.github.com/users/peiyic2/repos","events_url":"https://api.github.com/users/peiyic2/events{/privacy}","received_events_url":"https://api.github.com/users/peiyic2/received_events","type":"User","site_admin":false},"created_at":"2020-10-19T17:12:29Z","updated_at":"2020-10-19T17:12:29Z","author_association":"NONE","body":"It works now! Thanks you very much!","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/712307611/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"peiyic2","id":42955128,"node_id":"MDQ6VXNlcjQyOTU1MTI4","avatar_url":"https://avatars.githubusercontent.com/u/42955128?v=4","gravatar_id":"","url":"https://api.github.com/users/peiyic2","html_url":"https://github.com/peiyic2","followers_url":"https://api.github.com/users/peiyic2/followers","following_url":"https://api.github.com/users/peiyic2/following{/other_user}","gists_url":"https://api.github.com/users/peiyic2/gists{/gist_id}","starred_url":"https://api.github.com/users/peiyic2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peiyic2/subscriptions","organizations_url":"https://api.github.com/users/peiyic2/orgs","repos_url":"https://api.github.com/users/peiyic2/repos","events_url":"https://api.github.com/users/peiyic2/events{/privacy}","received_events_url":"https://api.github.com/users/peiyic2/received_events","type":"User","site_admin":false}}]