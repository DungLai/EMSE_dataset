[{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802823588","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-802823588","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":802823588,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjgyMzU4OA==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T13:13:38Z","updated_at":"2021-03-19T13:13:38Z","author_association":"NONE","body":"and I'm so curious about how can a Xg(grayscale image) through N layers Row and Col attention can get X spatial down and color down image if there are not color image as input ,where is the color information come form? ","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802823588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802825630","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-802825630","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":802825630,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjgyNTYzMA==","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T13:16:55Z","updated_at":"2021-03-19T13:17:23Z","author_association":"CONTRIBUTOR","body":"Hi, thanks for your interest in the paper!\r\n\r\nWhen the colorizer is trained, for a given pixel, the inputs are both:\r\n\r\n- The grayscale image\r\n- All the previous ground truth colors as per raster order.\r\n\r\nDuring sampling, each color is generated one at a time, and has access to previously generated colors.\r\nDoes that answer your question?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802825630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802830785","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-802830785","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":802830785,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjgzMDc4NQ==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T13:25:30Z","updated_at":"2021-03-19T13:25:30Z","author_association":"NONE","body":"Thank you so much for your prompt reply, so when I generated the pixels in the second row and second column in colorizer, I used the ground truth color of all pixels in the first row and the ground truth color of the first pixel in the second column.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802830785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802833710","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-802833710","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":802833710,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjgzMzcxMA==","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T13:29:53Z","updated_at":"2021-03-19T13:29:53Z","author_association":"CONTRIBUTOR","body":"Yes that is correct. We have code here that can help understand it better (https://github.com/google-research/google-research/blob/master/coltran/models/colorizer.py#L201)","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802833710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802837781","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-802837781","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":802837781,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjgzNzc4MQ==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T13:36:03Z","updated_at":"2021-03-19T13:36:03Z","author_association":"NONE","body":"Thank you, because I do not fully understand your paper at present, I will read your paper repeatedly, I think your work is very meaningful, and your timely reply is also of great help to me, thank you again","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/802837781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"id":4482260439,"node_id":"MDExOkNsb3NlZEV2ZW50NDQ4MjI2MDQzOQ==","url":"https://api.github.com/repos/google-research/google-research/issues/events/4482260439","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-03-19T13:36:46Z","state_reason":null,"performed_via_github_app":null},{"id":4482260799,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQ0NDgyMjYwNzk5","url":"https://api.github.com/repos/google-research/google-research/issues/events/4482260799","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2021-03-19T13:36:50Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803702196","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-803702196","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":803702196,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzcwMjE5Ng==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-22T01:19:54Z","updated_at":"2021-03-22T01:19:54Z","author_association":"NONE","body":"Hi, in your paper , there are a description of network structure as below\r\n\r\n>  we decompose the task into three simpler sequential subtasks: coarse low resolution autoregressive colorization parallel color and spatial super-resolution\r\n\r\nso i want to ask is the parallel color and spatial super-resolution means **parallel** color and **parallel** spatial super-resolution separately?  in other words, this **parallel** that at this position in your paper is the inherent parallel feature of transformer?\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803702196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803703193","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-803703193","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":803703193,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzcwMzE5Mw==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-22T01:24:03Z","updated_at":"2021-03-22T01:24:03Z","author_association":"NONE","body":"and more question is the main function of the context representation obtained from the grayscale image is to shift and scale the vector used for attention? Please forgive me for interrupting you again and again with these small problems ^ ^","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803703193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803814524","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-803814524","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":803814524,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzgxNDUyNA==","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-03-22T07:00:36Z","updated_at":"2021-03-22T07:00:36Z","author_association":"CONTRIBUTOR","body":">   this parallel that at this position in your paper is the inherent parallel feature of transformer?\r\n\r\nIn this case, \"parallel\" refers to the generation of all the pixels in one forward pass. Both the color and spatial upsampler generate all their outputs in one pass. The colorizer, in comparison is autoregressive; it needs a forward pass to generate a given color at a given row and column index.\r\n\r\n>  is the main function of the context representation obtained from the grayscale image is to shift and scale the vector used for attention?\r\n\r\nThe main function is to provide information from the grayscale image to the colorizer. Otherwise, the colorizer becomes unconditional, i.e it will generate random images independent of the grayscale image. Shifting and scaling the attention vectors is one way to do that, there are other ways, for eg see Table 1 in our paper (https://openreview.net/pdf?id=5NA1PinlGFu)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803814524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803856023","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-803856023","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":803856023,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzg1NjAyMw==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-22T08:09:39Z","updated_at":"2021-03-22T08:09:39Z","author_association":"NONE","body":"Thank you, your explanation is so easy to understand, thank you very much","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803856023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803880586","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-803880586","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":803880586,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzg4MDU4Ng==","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-03-22T08:48:44Z","updated_at":"2021-03-22T08:48:44Z","author_association":"CONTRIBUTOR","body":"Sure, happy to help!","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/803880586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805386129","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-805386129","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":805386129,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM4NjEyOQ==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-24T00:48:51Z","updated_at":"2021-03-24T00:48:51Z","author_association":"NONE","body":"Hi in your paper,there is a description about \r\n\r\n> the grayscale encoder encodes each prior channel independently\r\n\r\n the encoder encodes each prior channel  ,but the grayscale image only have one channel,so the encoder encodes grayscale image or an image with three channel?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805386129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805389766","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-805389766","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":805389766,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM4OTc2Ng==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-24T00:55:47Z","updated_at":"2021-03-24T00:55:47Z","author_association":"NONE","body":"`gray = tf.image.rgb_to_grayscale(inputs)\r\n        z = self.encoder(gray)`\r\nIn your code ,  I see you pass a grayscale image to the enocder network, so how does it encodes each prior channel?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805389766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805391366","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-805391366","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":805391366,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM5MTM2Ng==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-24T00:59:37Z","updated_at":"2021-03-24T00:59:37Z","author_association":"NONE","body":"In the row/column attention of your encoder, it is one row attention layer follow one column attention layer or attention to all rows and then attention to all columns? I wonder if my expression is clear?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805391366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805413684","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-805413684","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":805413684,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQxMzY4NA==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-24T01:54:47Z","updated_at":"2021-03-24T07:52:54Z","author_association":"NONE","body":"In your 3.2 AXIAL TRANSFORMER Sampling section the last sentence is \r\n\r\n> The encoder, then recomputes context to generate the next channel.\r\n\r\nSo after a channel is generated, then the previous output of the grayscale encoder will enter the grayscale encoder again?If like this , as I ask before, how does it encodes each prior channel ?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805413684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805633149","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-805633149","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":805633149,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTYzMzE0OQ==","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-03-24T09:14:27Z","updated_at":"2021-03-24T15:23:16Z","author_association":"CONTRIBUTOR","body":"> How does it encodes each prior channel?\r\n\r\nThere is only one channel. Specifically, in our paper, we convert the 3 channel RGB image into a single channel image with 512 colors. We use a 3 bit RGB image, which has total of 8 symbols per channel. This leads to a total of 8**3=512 colors. See the start of Section 4 for more details. The main idea is that it saves 2x in terms of sampling speed.\r\n\r\nSection 3.2 is meant to be as background for the Axial Transformer. For the original Axial Transformer, we indeed need to supply prior channels as input to the encoder, i.e (Gray, Red, Green).\r\n\r\nFor our paper, we just supply the gray image as input to the encoder and the decoder produces a single channel image.\r\n\r\n>  it is one row attention layer follow one column attention layer or attention to all rows and then attention to all columns?\r\n\r\nWe follow one row attention layer with one column attention layer.\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805633149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805973388","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-805973388","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":805973388,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTk3MzM4OA==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-24T16:31:07Z","updated_at":"2021-03-25T15:28:45Z","author_association":"NONE","body":"Thanks for your patient explanation，I want to talk about my understanding of the network of your paper. I hope you can help me point out my mistakes ,maybe it will take you a lot of time to read this text because my English is not good. And since I am not familiar with tensorflow now, I cannot understand your paper through code for the time being.\r\n\r\nWhen training：\r\n\r\n1.The **low resolution grayscale image** enter the grayscale encoder , after n layer row/col attention layers ,  generated a context representation **C** , and the grayscale encoder also has an **auxiliary parallel model** as show in your paper figure2( Is it the linear and softmax layer? and as you answered before the **parallel** here is also means models of all the pixels in one forward pass? ) models a distribution pc hat , and the context  **C** will as a condition to the  outer decoder‘s attetion layers and bias the outer decoder's input . The geaysacale'encoders final ouput is a distribution that models 512 colors on one channel?\r\n\r\n2.In your paper figure2 ,the ground truth low resolution coarse color image as input (add the **C**) enter the outer decoder ,then after n layer row and masked column attetion and shiftdown ,then the sum of the outer decoder's output  and the **C** as condition to the inner decoder 's conditional attention layers,  and they also add the embeddings that is the eq(4) in your paper as input to the inner decoder ,then after Linear and softmax layer , models the pc distribution,the distrubition after sampling generate a low resolution coarse color image to the color upsamping?\r\n\r\nWhen testing:\r\n\r\n3.When training the input of the outer decoder is ground truth coarse color low resolution image.  _**when testing ,what's the input of the Outer Decoder**_  \r\n\r\n4.the previous answer you said  \r\n\r\n> we just supply the gray image as input to the encoder and the decoder produces a single channel image.\r\n\r\nsince you just supply the gray image and produces a single channel image, so the grayscale encoder just run once? I run your code and I found the output of the decoder's shape is (1, 64, 64, 1, 512). combined with your previous answer, it should be what the following sentence means in your paper , so you used one channel with 512 coarse color instead of 3bit per-channel with rgb channel\r\n\r\n> Thus, there are 8^3 = 512 coarse colors per pixel which are predicted directly as a single “color” channel\r\n\r\n![image](https://user-images.githubusercontent.com/22975697/112343312-f762e480-8cfd-11eb-8489-fecf6d37e318.png)\r\n\r\nIn this picture,the labels is the coarse color low resolution obtained by ground truth?If so , then the same reason,the upsampler color also make cross entropy between the pc hat (generated from ColorUpsampler) and the pc from ground truth and the ps hat (generated from SpatialUpsampler) make  cross_entropy with ground truth? all of your loss function is cross entropy loss in this paper?\r\n\r\nWhen Color upsampler\r\n\r\n> We convert the coarse image x s↓c↓ ∈ RM×N×1 of 512 colors back into a 3 bit RGB image with 8 symbols per channel. The channels are embedded using separate embedding matrices to x s↓c↓ k ∈ RM×N×D, where k ∈ {R, G, B} indicates the channel.\r\n\r\nIn the class ColorUpsampler, the inputs of the call function size is a (B, M, N, 3),but according to your description, shouldn’t it be [B, M, N, 1, 512]?  If I read the wrong code line where can i find the convert in your code?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/805973388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/806482314","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-806482314","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":806482314,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQ4MjMxNA==","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-03-25T09:03:07Z","updated_at":"2021-03-29T08:26:06Z","author_association":"CONTRIBUTOR","body":"> When training the input of the outer decoder is ground truth coarse color low resolution image. when testing ,what's the input of the Outer Decoder?\r\n\r\nIgnore the encoder for now, since the grayscale image is present at both during training and evaluation.\r\nLet's say we want to colorize a 2x2 image. As you said, the ground truth is the input to the outer decoder. I use a, b, c and d to denote both the values and locations of the first four pixels.\r\n\r\n|   |  |\r\n| ---      | ---       |\r\n| a |  b      |\r\n| c    | d |\r\n\r\n\r\n# Training\r\n\r\n**Outputs: Outer Decoder** \r\n(shifted down)\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  0      |\r\n| a    | b |\r\n\r\n**Inputs: Inner Decoder**\r\nGround truth is shifted right:\r\n\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  a      |\r\n| 0   | c |\r\n\r\nNet inputs to the inner decoder are (outer decoder output + ground truth shifted right), i.e\r\n\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  a      |\r\n| a   | b + c |\r\n\r\n# Sampling\r\n\r\n## First pixel (Row 1, Column 1)\r\n\r\nNote that at training, the input location to the first pixel to both decoders are 0\r\n\r\nInputs are initialized to zero, i.e\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  0      |\r\n| 0    | 0 |\r\n\r\n**Outputs: Outer Decoder** \r\n(shifted down)\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  0      |\r\n| 0    | 0 |\r\n\r\n**Inputs: Inner Decoder**\r\nGround truth shifted right + outputs of the outer decoder which is still zero, i.e\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  0      |\r\n| 0    | 0 |\r\n\r\nNow, we sample value **a** for the first pixel\r\n\r\n## Second pixel (Row 1,  Column 2)\r\nNote that at training, the input location to the inner decoder for the second pixel is **a**\r\n\r\nAfter sampling the first pixel, inputs are now:\r\n|   |  |\r\n| ---      | ---       |\r\n| a |  0      |\r\n| 0    | 0 |\r\n\r\n**Outputs: Outer Decoder** \r\n(shifted down)\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  0      |\r\n| a    | 0 |\r\n\r\n**Inputs: Inner Decoder**\r\nGround truth shifted right:\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  a    |\r\n| 0    | 0 |\r\n\r\nAdded to outputs of the outer decoder:\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  a  |\r\n| a   | 0 |\r\n\r\nThe masking ensures that the second row is not attended to. Now, we sample value **b** for the second pixel\r\n\r\n## Third pixel (Row 2, Column 1)\r\nNote that at training, the input location to the inner decoder for the third pixel is **a**\r\n\r\nAfter sampling, the second pixel, inputs are now:\r\n|   |  |\r\n| ---      | ---       |\r\n| a |  b      |\r\n| 0    | 0 |\r\n\r\n**Outputs: Outer Decoder** \r\n(shifted down)\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  0      |\r\n| a    | b |\r\n\r\n**Inputs: Inner Decoder**\r\nGround truth shifted right:\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  a    |\r\n| 0    | 0 |\r\n\r\nAdded to outputs of the outer decoder:\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  a  |\r\n| a   | b |\r\n\r\nNow, we sample value **c** for the third pixel\r\n\r\n## Fourth pixel (Row 2, Column 2)\r\nNote that at training, the input location to the inner decoder for the fourth pixel is **b+c**\r\n\r\nAfter sampling, the third pixel, inputs are now:\r\n|   |  |\r\n| ---      | ---       |\r\n| a |  b      |\r\n| c    | 0 |\r\n\r\n**Outputs: Outer Decoder** \r\n(shifted down)\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  0      |\r\n| a    | b |\r\n\r\n**Inputs: Inner Decoder**\r\nGround truth shifted right:\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  a    |\r\n| 0    | c |\r\n\r\nAdded to outputs of the outer decoder:\r\n|   |  |\r\n| ---      | ---       |\r\n| 0 |  a  |\r\n| a   | b + c |\r\n\r\nNow, we sample value **d** for the final pixel\r\n\r\nThe sampling strategy is not obvious, and unfortunately it is not easy to explain in a paper. ","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/806482314/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/806497848","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-806497848","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":806497848,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQ5Nzg0OA==","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-03-25T09:27:34Z","updated_at":"2021-03-25T09:27:34Z","author_association":"CONTRIBUTOR","body":"> The low resolution grayscale image enter the grayscale encoder , after n layer row/col attention layers , generated a context representation C , and the grayscale encoder also has an auxiliary parallel model as show in your paper figure2( Is it the linear and softmax layer? and as you answered before the parallel here is also means models of all the pixels in one forward pass? ) models a distribution pc hat , and the context C will as a condition to the outer decoder‘s attetion layers and bias the outer decoder's input . The geaysacale'encoders final ouput is a distribution that models 512 colors on one channel?\r\n\r\nYes, correct. It is a linear + softmax layer. See\r\n\r\nhttps://github.com/google-research/google-research/blob/b6754f9b230ca5dabe7011d0d93ad21b09a8641d/coltran/models/colorizer.py#L89\r\n\r\nand\r\n\r\nhttps://github.com/google-research/google-research/blob/b6754f9b230ca5dabe7011d0d93ad21b09a8641d/coltran/models/colorizer.py#L151\r\n\r\n>In your paper figure2 ,the ground truth low resolution coarse color image as input (add the C) enter the outer decoder ,then after n layer row and masked column attetion and shiftdown ,then the sum of the outer decoder's output and the C as condition to the inner decoder 's conditional attention layers, and they also add the embeddings that is the eq(4) in your paper as input to the inner decoder ,then after Linear and softmax layer , models the pc distribution,the distrubition after sampling generate a low resolution coarse color image to the color upsamping?\r\n\r\nYes.\r\n\r\n> since you just supply the gray image and produces a single channel image, so the grayscale encoder just run once? I run your code and I found the output of the decoder's shape is (1, 64, 64, 1, 512). combined with your previous answer, it should be what the following sentence means in your paper , so you used one channel with 512 coarse color instead of 3bit per-channel with rgb channel\r\n\r\nYes, exactly. It predicts a distribution over 512 colors.\r\n\r\n> all of your loss function is cross entropy loss in this paper?\r\n\r\nYes, correct.\r\n\r\n> In the class ColorUpsampler, the inputs of the call function size is a (B, M, N, 3),but according to your description, shouldn’t it be [B, M, N, 1, 512]? If I read the wrong code line where can i find the convert in your code?\r\n\r\nThis is a bit subtle. We convert the coarse color back into a RGB image here (so that to visualize the image)\r\n\r\nhttps://github.com/google-research/google-research/blob/b6754f9b230ca5dabe7011d0d93ad21b09a8641d/coltran/models/colorizer.py#L293\r\n\r\nIn the upsampler, it is converted to a 3-bit RGB image with 8 symbols per channel over here\r\n\r\nhttps://github.com/google-research/google-research/blob/b6754f9b230ca5dabe7011d0d93ad21b09a8641d/coltran/models/upsampler.py#L64\r\n\r\nIt is then made into a one-hot representation (B, H, W, 3, 8).\r\nThen, each channel (B, H, W, 8) is super-resolved independently into a distribution over 256 symbols, i.e (B, H, W, 256)\r\nThis is then concatenated across channels to give (B, H, W, 3, 256)\r\n\r\nThe coarse color already models dependencies between channels, so this approach worked.","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/806497848/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/806855382","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-806855382","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":806855382,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjg1NTM4Mg==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-25T14:30:33Z","updated_at":"2021-03-25T14:30:33Z","author_association":"NONE","body":"OMG, you are really a friendly and patient person. I can no longer express my gratitude to you in words. Your help to me is really great. I wish you a happy life every day.^ ^","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/806855382/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/807875777","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-807875777","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":807875777,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzg3NTc3Nw==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-26T02:02:31Z","updated_at":"2021-03-26T05:28:19Z","author_association":"NONE","body":"> > When training the input of the outer decoder is ground truth coarse color low resolution image. when testing ,what's the input of the Outer Decoder?\r\n> \r\n> Ignore the encoder for now, since the grayscale image is present at both during training and evaluation.\r\n> Let's say we want to colorize a 2x2 image. As you said, the ground truth is the input to the outer decoder. I use a, b, c and d to denote both the values and locations of the first four pixels.\r\n> \r\n> a\tb\r\n> c\td\r\n> # Training\r\n> **Outputs: Outer Decoder**\r\n> (shifted down)\r\n> \r\n> 0\t0\r\n> a\tb\r\n> **Inputs: Inner Decoder**\r\n> Ground truth is shifted right:\r\n> \r\n> 0\ta\r\n> 0\tc\r\n> Net inputs to the inner decoder are (outer decoder output + ground truth shifted right), i.e\r\n> \r\n> 0\ta\r\n> a\tb + c\r\n> # Sampling\r\n> ## First pixel (Row 1, Column 1)\r\n> Note that at training, the input location to the first pixel to both decoders are 0\r\n> \r\n> Inputs are initialized to zero, i.e\r\n> \r\n> 0\t0\r\n> 0\t0\r\n> **Outputs: Outer Decoder**\r\n> (shifted down)\r\n> \r\n> 0\t0\r\n> 0\t0\r\n> **Inputs: Inner Decoder**\r\n> Ground truth shifted right + outputs of the outer decoder which is still zero, i.e\r\n> \r\n> 0\t0\r\n> 0\t0\r\n> Now, we sample value **a** for the first pixel\r\n> \r\n> ## Second pixel (Row 1, Column 2)\r\n> Note that at training, the input location to the inner decoder for the second pixel is **a**\r\n> \r\n> After sampling the first pixel, inputs are now:\r\n> \r\n> a\t0\r\n> 0\t0\r\n> **Outputs: Outer Decoder**\r\n> (shifted down)\r\n> \r\n> 0\t0\r\n> a\t0\r\n> **Inputs: Inner Decoder**\r\n> Ground truth shifted right:\r\n> \r\n> 0\ta\r\n> 0\t0\r\n> Added to outputs of the outer decoder:\r\n> \r\n> 0\ta\r\n> a\t0\r\n> The masking ensures that the second row is not attended to. Now, we sample value **b** for the second pixel\r\n> \r\n> ## Third pixel (Row 2, Column 1)\r\n> Note that at training, the input location to the inner decoder for the third pixel is **a**\r\n> \r\n> After sampling, the second pixel, inputs are now:\r\n> \r\n> a\tb\r\n> 0\t0\r\n> **Outputs: Outer Decoder**\r\n> (shifted down)\r\n> \r\n> 0\t0\r\n> a\tb\r\n> **Inputs: Inner Decoder**\r\n> Ground truth shifted right:\r\n> \r\n> 0\ta\r\n> 0\tb\r\n> Added to outputs of the outer decoder:\r\n> \r\n> 0\ta\r\n> a\tb\r\n> Now, we sample value **c** for the third pixel\r\n> \r\n> ## Fourth pixel (Row 2, Column 2)\r\n> Note that at training, the input location to the inner decoder for the fourth pixel is **b+c**\r\n> \r\n> After sampling, the third pixel, inputs are now:\r\n> \r\n> a\tb\r\n> c\t0\r\n> **Outputs: Outer Decoder**\r\n> (shifted down)\r\n> \r\n> 0\t0\r\n> a\tb\r\n> **Inputs: Inner Decoder**\r\n> Ground truth shifted right:\r\n> \r\n> 0\ta\r\n> 0\tc\r\n> Added to outputs of the outer decoder:\r\n> \r\n> 0\ta\r\n> a\tb + c\r\n> Now, we sample value **d** for the final pixel\r\n> \r\n> The sampling strategy is not obvious, and unfortunately it is not easy to explain in a paper.\r\n\r\n\r\nHi, when sampling the third pixel , after shifting right  ,the image should be?  ^ ^\r\n> \r\n> 0\ta\r\n> 0\t0\r\n","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/807875777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/807950087","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-807950087","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":807950087,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzk1MDA4Nw==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-26T05:34:10Z","updated_at":"2021-03-26T05:34:49Z","author_association":"NONE","body":"[coltran/models/layers.py L411&L412](https://github.com/google-research/google-research/blob/1aa8e1e08a12ef9dc428e67ee014fcc0931220fe/coltran/models/layers.py#L411)\r\nThe annotation should be \r\n> rows and column  respectively?","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/807950087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/808046307","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-808046307","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":808046307,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA0NjMwNw==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-26T08:50:07Z","updated_at":"2021-03-26T08:50:07Z","author_association":"NONE","body":"Hi [coltran/models/layers.py from L659 to L662](https://github.com/MechCoder/google-research/blob/d61d09ebb669542ca91113c22d7323ba34e338d4/coltran/models/layers.py#L659) The parameter **num_encoder_layers** is 1, so there are only one unmask_row and one unmask_col attentionBlock, so in unmask_row layer, your use attention for all rows separately and in unmask_col layer your use attention for all cols separately ?  \r\n\r\n> It performs attention over axis k of the tensor x, mixing information along axis k while keeping information along other axes independent. It is straightforward to implement: axial attention over axis k can be implemented by transposing all axes except k to the batch axis, calling standard attention as a subroutine, then undoing the transpose (an alternative is to use the einsum operation available in most deep learning libraries).\r\n\r\nand you perform attention over every row and col in this way  described above?\r\n\r\nsorry , I should have understood this by looking at the code，but I have spent a whole day still not clearing my thoughts and thank you for your selfless help ","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/808046307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/809185991","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-809185991","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":809185991,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE4NTk5MQ==","user":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false},"created_at":"2021-03-29T08:34:18Z","updated_at":"2021-03-29T09:34:15Z","author_association":"CONTRIBUTOR","body":"> Hi, when sampling the third pixel , after shifting right ,the i\r\n\r\nIndeed, nice catch. I fixed it.\r\n\r\n> The annotation should be rows and column respectively?\r\n\r\nYes. [1, num_columns] is row-attention. In this case, self-attention is applied to each row independent of the others. Similar for column attention. I'll fix the documentation\r\n\r\n> The parameter num_encoder_layers is 1\r\n\r\nWe used 4 blocks in the papers. The configurations used for the experiments in the paper are here (https://github.com/google-research/google-research/blob/master/coltran/configs/colorizer.py#L60).\r\nYes, we apply row and column attention as you described. The code for the \"SelfAttentionND\" layer can be made simpler, but they are heavily optimized for TPU's","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/809185991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MechCoder","id":1867024,"node_id":"MDQ6VXNlcjE4NjcwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1867024?v=4","gravatar_id":"","url":"https://api.github.com/users/MechCoder","html_url":"https://github.com/MechCoder","followers_url":"https://api.github.com/users/MechCoder/followers","following_url":"https://api.github.com/users/MechCoder/following{/other_user}","gists_url":"https://api.github.com/users/MechCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MechCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MechCoder/subscriptions","organizations_url":"https://api.github.com/users/MechCoder/orgs","repos_url":"https://api.github.com/users/MechCoder/repos","events_url":"https://api.github.com/users/MechCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MechCoder/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/809299626","html_url":"https://github.com/google-research/google-research/issues/641#issuecomment-809299626","issue_url":"https://api.github.com/repos/google-research/google-research/issues/641","id":809299626,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTI5OTYyNg==","user":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"created_at":"2021-03-29T11:20:55Z","updated_at":"2021-03-30T06:58:09Z","author_association":"NONE","body":"Thank you, you must put a lot of effort on this paper^ ^","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/809299626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false}},{"id":4539513903,"node_id":"MDExOkNsb3NlZEV2ZW50NDUzOTUxMzkwMw==","url":"https://api.github.com/repos/google-research/google-research/issues/events/4539513903","actor":{"login":"meiguoofa","id":22975697,"node_id":"MDQ6VXNlcjIyOTc1Njk3","avatar_url":"https://avatars.githubusercontent.com/u/22975697?v=4","gravatar_id":"","url":"https://api.github.com/users/meiguoofa","html_url":"https://github.com/meiguoofa","followers_url":"https://api.github.com/users/meiguoofa/followers","following_url":"https://api.github.com/users/meiguoofa/following{/other_user}","gists_url":"https://api.github.com/users/meiguoofa/gists{/gist_id}","starred_url":"https://api.github.com/users/meiguoofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meiguoofa/subscriptions","organizations_url":"https://api.github.com/users/meiguoofa/orgs","repos_url":"https://api.github.com/users/meiguoofa/repos","events_url":"https://api.github.com/users/meiguoofa/events{/privacy}","received_events_url":"https://api.github.com/users/meiguoofa/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-04-01T07:04:03Z","state_reason":null,"performed_via_github_app":null}]