[{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/547702447","html_url":"https://github.com/google-research/google-research/issues/36#issuecomment-547702447","issue_url":"https://api.github.com/repos/google-research/google-research/issues/36","id":547702447,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzcwMjQ0Nw==","user":{"login":"daisy-belle","id":18066618,"node_id":"MDQ6VXNlcjE4MDY2NjE4","avatar_url":"https://avatars.githubusercontent.com/u/18066618?v=4","gravatar_id":"","url":"https://api.github.com/users/daisy-belle","html_url":"https://github.com/daisy-belle","followers_url":"https://api.github.com/users/daisy-belle/followers","following_url":"https://api.github.com/users/daisy-belle/following{/other_user}","gists_url":"https://api.github.com/users/daisy-belle/gists{/gist_id}","starred_url":"https://api.github.com/users/daisy-belle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daisy-belle/subscriptions","organizations_url":"https://api.github.com/users/daisy-belle/orgs","repos_url":"https://api.github.com/users/daisy-belle/repos","events_url":"https://api.github.com/users/daisy-belle/events{/privacy}","received_events_url":"https://api.github.com/users/daisy-belle/received_events","type":"User","site_admin":false},"created_at":"2019-10-30T01:43:26Z","updated_at":"2019-10-30T01:43:26Z","author_association":"NONE","body":"enviroment use: tf-gpu  1.12.0 , linux, python 3.6.8\r\nthere is the same error!\r\nreally hope to give me some advice ~","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/547702447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"daisy-belle","id":18066618,"node_id":"MDQ6VXNlcjE4MDY2NjE4","avatar_url":"https://avatars.githubusercontent.com/u/18066618?v=4","gravatar_id":"","url":"https://api.github.com/users/daisy-belle","html_url":"https://github.com/daisy-belle","followers_url":"https://api.github.com/users/daisy-belle/followers","following_url":"https://api.github.com/users/daisy-belle/following{/other_user}","gists_url":"https://api.github.com/users/daisy-belle/gists{/gist_id}","starred_url":"https://api.github.com/users/daisy-belle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daisy-belle/subscriptions","organizations_url":"https://api.github.com/users/daisy-belle/orgs","repos_url":"https://api.github.com/users/daisy-belle/repos","events_url":"https://api.github.com/users/daisy-belle/events{/privacy}","received_events_url":"https://api.github.com/users/daisy-belle/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/714599647","html_url":"https://github.com/google-research/google-research/issues/36#issuecomment-714599647","issue_url":"https://api.github.com/repos/google-research/google-research/issues/36","id":714599647,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNDU5OTY0Nw==","user":{"login":"Mahhos","id":8036251,"node_id":"MDQ6VXNlcjgwMzYyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/8036251?v=4","gravatar_id":"","url":"https://api.github.com/users/Mahhos","html_url":"https://github.com/Mahhos","followers_url":"https://api.github.com/users/Mahhos/followers","following_url":"https://api.github.com/users/Mahhos/following{/other_user}","gists_url":"https://api.github.com/users/Mahhos/gists{/gist_id}","starred_url":"https://api.github.com/users/Mahhos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mahhos/subscriptions","organizations_url":"https://api.github.com/users/Mahhos/orgs","repos_url":"https://api.github.com/users/Mahhos/repos","events_url":"https://api.github.com/users/Mahhos/events{/privacy}","received_events_url":"https://api.github.com/users/Mahhos/received_events","type":"User","site_admin":false},"created_at":"2020-10-22T16:10:11Z","updated_at":"2020-10-22T16:10:11Z","author_association":"NONE","body":"> Hi there, a problem occured when running the bam/run_classifier.py.\r\n> \r\n> Tensorflow seems to lock the `events.out.tfevents` file until the whole program end, when execute the command `utils.rmkdir(config.checkpoints_dir)` at run_classfier.py line 271, `tf.gfile.DeleteRecursively` appears to can't be done and raise the error given below\r\n> \r\n> ```\r\n> Traceback (most recent call last):\r\n>   File \"D:/bam/run_classifier.py\", line 281, in <module>\r\n>     tf.app.run()\r\n>   File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 125, in run\r\n>     _sys.exit(main(argv))\r\n>   File \"D:/bam/run_classifier.py\", line 276, in main\r\n>     utils.rmkdir(config.checkpoints_dir)\r\n>   File \"D:\\bam\\helpers\\utils.py\", line 71, in rmkdir\r\n>     rmrf(path)\r\n>   File \"D:\\bam\\helpers\\utils.py\", line 60, in rmrf\r\n>     tf.gfile.DeleteRecursively(path)\r\n>   File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\lib\\io\\file_io.py\", line 563, in delete_recursively\r\n>     delete_recursively_v2(dirname)\r\n>   File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\lib\\io\\file_io.py\", line 577, in delete_recursively_v2\r\n>     pywrap_tensorflow.DeleteRecursively(compat.as_bytes(path), status)\r\n>   File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 528, in __exit__\r\n>     c_api.TF_GetCode(self.status.status))\r\n> tensorflow.python.framework.errors_impl.FailedPreconditionError: Failed to remove a directory: bam_dir\\models\\debug-model\\checkpoints; Directory not empty\r\n> ```\r\n> \r\n> The enviroment currently use : tensorflow-gpu 1.13.1 windows10.\r\n> However, when run this code on centos, the problem doesn't exist.\r\n> Really hope to give me some advice\r\n\r\nFollowing the steps in the repo, I am trying to run command` python -m bam.run_classifier debug-model $BAM_DIR '{\"debug\": true}'` as a minimal test. However, below line of code, raise `Extra data: line 1 column 5 (char 4) error`. Do you have any idea what should be the root cause? I tried to run other commands, still, this line raises an issue with the JSON.\r\n\r\nLine raining the error:\r\n`\\bam\\run_classifier.py\", line 258, in main config = configure.Config(topdir, model_name, **json.loads(hparams))`\r\n\r\nError:\r\n`raise JSONDecodeError(\"Extra data\", s, end) json.decoder.JSONDecodeError: Extra data: line 1 column 5 (char 4)`","reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/comments/714599647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Mahhos","id":8036251,"node_id":"MDQ6VXNlcjgwMzYyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/8036251?v=4","gravatar_id":"","url":"https://api.github.com/users/Mahhos","html_url":"https://github.com/Mahhos","followers_url":"https://api.github.com/users/Mahhos/followers","following_url":"https://api.github.com/users/Mahhos/following{/other_user}","gists_url":"https://api.github.com/users/Mahhos/gists{/gist_id}","starred_url":"https://api.github.com/users/Mahhos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mahhos/subscriptions","organizations_url":"https://api.github.com/users/Mahhos/orgs","repos_url":"https://api.github.com/users/Mahhos/repos","events_url":"https://api.github.com/users/Mahhos/events{/privacy}","received_events_url":"https://api.github.com/users/Mahhos/received_events","type":"User","site_admin":false}}]