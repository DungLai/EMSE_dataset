{"url":"https://api.github.com/repos/google-research/google-research/issues/831","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/831/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/831/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/831/events","html_url":"https://github.com/google-research/google-research/issues/831","id":1007067901,"node_id":"I_kwDOCQmIhc48BqL9","number":831,"title":"[DVRL] seems not data-agnostic","user":{"login":"yananchen1989","id":26405281,"node_id":"MDQ6VXNlcjI2NDA1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/26405281?v=4","gravatar_id":"","url":"https://api.github.com/users/yananchen1989","html_url":"https://github.com/yananchen1989","followers_url":"https://api.github.com/users/yananchen1989/followers","following_url":"https://api.github.com/users/yananchen1989/following{/other_user}","gists_url":"https://api.github.com/users/yananchen1989/gists{/gist_id}","starred_url":"https://api.github.com/users/yananchen1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yananchen1989/subscriptions","organizations_url":"https://api.github.com/users/yananchen1989/orgs","repos_url":"https://api.github.com/users/yananchen1989/repos","events_url":"https://api.github.com/users/yananchen1989/events{/privacy}","received_events_url":"https://api.github.com/users/yananchen1989/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-09-25T12:00:55Z","updated_at":"2021-09-27T03:48:46Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":" Hello, I am trying to use DVRL and apply it to the data evaluation for text classification.\r\n\r\nBesides the blog and adult dataset, I add another two public datasets: sst-2, AG News for experiments.\r\nFor simplicity and consistency, I use pre-trained sentence encoder to project each sample of text into embedding, which is of 1024 dimension.(I have validate the effectiveness of the projector and if I use a simple one-layer network on top of it, the accuracy is ok, about 0.8+).\r\n\r\nOther settings follow the script of https://github.com/google-research/google-research/blob/master/dvrl/main_data_valuation.py\r\n\r\nI use AUC to measure the performance of DVRL, because clean samples are expected to be ranked higher than corrupted ones, in terms of the scores from DVE network. AUC measures the ranking ability. (the marks of clean samples are 1 while 0 for corrupted samples, whose labels are distorted intentionally)\r\n\r\nThis is my implementation: https://github.com/yananchen1989/topic_classification_augmentation/blob/main/dvrl_repo/main_data_valuation.py  \r\n\r\nI run each dataset multiple times, with the exactly same settings.\r\n\r\n```\r\nfor i in {1..12}\r\ndo\r\n\t#seed=$RANDOM\r\n\r\n    python -u main_data_valuation.py --inner_iterations 100 --batch_size 256 \\\r\n        --batch_size_predictor 256 --iterations ${1} \\\r\n        --learning_rate 0.01  --perf_metric accuracy \\\r\n       --train_no 512 --valid_no 64 --dsn ${2} > dvrl.${2}.${1}.${i}.log \r\ndone\r\n```\r\n\r\nHowever, I find that the auc is not stable each time.\r\nFor the AG and SST-2 datasets, here is the metrics of all trials.\r\n\r\n![image](https://user-images.githubusercontent.com/26405281/134842551-5dc96346-b0e1-494a-a19c-645401df9c5e.png)\r\n\r\nThe blog and adult datasets bear the same outcomes.\r\n\r\nMy question is how to avoid this unstability and what is the cause for that ?\r\n\r\nThanks. \r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/831/timeline","performed_via_github_app":null,"state_reason":null}