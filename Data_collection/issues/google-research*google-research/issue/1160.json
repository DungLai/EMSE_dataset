{"url":"https://api.github.com/repos/google-research/google-research/issues/1160","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/1160/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/1160/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/1160/events","html_url":"https://github.com/google-research/google-research/issues/1160","id":1272433211,"node_id":"I_kwDOCQmIhc5L18o7","number":1160,"title":"[MUSIQ] Has anyone had any success in running a prediction with the MUSIQ IQA code posted here?","user":{"login":"TimHunt12","id":2401628,"node_id":"MDQ6VXNlcjI0MDE2Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/2401628?v=4","gravatar_id":"","url":"https://api.github.com/users/TimHunt12","html_url":"https://github.com/TimHunt12","followers_url":"https://api.github.com/users/TimHunt12/followers","following_url":"https://api.github.com/users/TimHunt12/following{/other_user}","gists_url":"https://api.github.com/users/TimHunt12/gists{/gist_id}","starred_url":"https://api.github.com/users/TimHunt12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimHunt12/subscriptions","organizations_url":"https://api.github.com/users/TimHunt12/orgs","repos_url":"https://api.github.com/users/TimHunt12/repos","events_url":"https://api.github.com/users/TimHunt12/events{/privacy}","received_events_url":"https://api.github.com/users/TimHunt12/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2022-06-15T15:51:36Z","updated_at":"2022-10-29T20:07:52Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"@junjiek or @andrewluchen\r\n\r\n- I have downloaded the code for MUSIQ IQA and also the checkpoint models. \r\n- I have updated the libraries to overcome the deprecated version of TensorFlow by upgrading to version 2.9.1\r\n- I ran the prediction with the KONIQ checkpoint and it processes the image initially.\r\n\r\nI run into the following error when the application starts to do the prediction in line 143 in original code line 141 in my revised code.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/timothyhunt/opt/anaconda3/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/Users/timothyhunt/opt/anaconda3/lib/python3.9/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/Users/timothyhunt/PycharmProjects/image_quality/run_predict_image.py\", line 174, in <module>\r\n    app.run(main)\r\n  File \"/Users/timothyhunt/opt/anaconda3/lib/python3.9/site-packages/absl/app.py\", line 312, in run\r\n    _run_main(main, args)\r\n  File \"/Users/timothyhunt/opt/anaconda3/lib/python3.9/site-packages/absl/app.py\", line 258, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/Users/timothyhunt/PycharmProjects/image_quality/run_predict_image.py\", line 169, in main\r\n    pred_mos = run_model_single_image(model_config, FLAGS.num_classes, pp_config, params, FLAGS.image_path)\r\n  File \"/Users/timothyhunt/PycharmProjects/image_quality/run_predict_image.py\", line 141, in run_model_single_image\r\n    model = model_mod.Model.partial(num_classes=num_classes, train=False, **model_config)\r\nAttributeError: type object 'Model' has no attribute 'partial'\r\n```\r\n\r\nThe model_mod.Model class is referenced from the multiscale_transformer.py script in the model directory.  When I go into that file there is no Class method for the Model Class called partial.  \r\n\r\nIs this app posted by Google Research missing some code to run the prediction or am I misunderstaning something here and not setting it up right?\r\n\r\nThanks.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/1160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/1160/timeline","performed_via_github_app":null,"state_reason":null}