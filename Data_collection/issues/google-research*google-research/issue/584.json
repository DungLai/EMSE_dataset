{"url":"https://api.github.com/repos/google-research/google-research/issues/584","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/584/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/584/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/584/events","html_url":"https://github.com/google-research/google-research/issues/584","id":814806267,"node_id":"MDU6SXNzdWU4MTQ4MDYyNjc=","number":584,"title":"[Meta Pseudo Labels] Hard or soft pseudo labels","user":{"login":"the-klingspor","id":20000995,"node_id":"MDQ6VXNlcjIwMDAwOTk1","avatar_url":"https://avatars.githubusercontent.com/u/20000995?v=4","gravatar_id":"","url":"https://api.github.com/users/the-klingspor","html_url":"https://github.com/the-klingspor","followers_url":"https://api.github.com/users/the-klingspor/followers","following_url":"https://api.github.com/users/the-klingspor/following{/other_user}","gists_url":"https://api.github.com/users/the-klingspor/gists{/gist_id}","starred_url":"https://api.github.com/users/the-klingspor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/the-klingspor/subscriptions","organizations_url":"https://api.github.com/users/the-klingspor/orgs","repos_url":"https://api.github.com/users/the-klingspor/repos","events_url":"https://api.github.com/users/the-klingspor/events{/privacy}","received_events_url":"https://api.github.com/users/the-klingspor/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-23T20:29:53Z","updated_at":"2021-02-23T21:16:48Z","closed_at":"2021-02-23T21:16:47Z","author_association":"NONE","active_lock_reason":null,"body":"Thanks for the interesting paper,\r\nI have a question concerning the pseudo labels that are computed using the teacher network. In section 2, subsection \"Practical approximation\" of v3 of your paper, you say that you use \"hard pseudo labels from the teacher distribution\" and that this prevents us form simply using backpropagation on equation (3). \r\nHowever, is it really the case that you use one-hot-encoded pseudo labels generated by the teacher to train the student? Looking at the code, it seems like you just compute the teacher output with \"build_uda_crossentropy\", store them in \"logits\" and use them as-is without a one-hot-encoding. Am I missing anything?\r\nâ‚¬dith: I think this is the relevant part of the code:\r\n\"\r\n\\# for backprop\r\n    cross_entropy['s_on_u'] = tf.losses.softmax_cross_entropy(\r\n        **onehot_labels=tf.stop_gradient(tf.nn.softmax(logits['u_aug'], -1)),**\r\n        logits=logits['s_on_u'],\r\n        label_smoothing=params.label_smoothing,\r\n        reduction=tf.losses.Reduction.NONE)\r\n\"\r\nAlso, if we actually use soft pseudo labels, why do we still have to use the complicated gradient of gradient/Taylor approximation like in appendix A and can't just use the differentiability of equation (3) as implied in the paper? Maybe I'm just misunderstanding what you mean by \"soft\" and \"hard\" pseudo labels.\r\n\r\nThank you very much for your help","closed_by":{"login":"the-klingspor","id":20000995,"node_id":"MDQ6VXNlcjIwMDAwOTk1","avatar_url":"https://avatars.githubusercontent.com/u/20000995?v=4","gravatar_id":"","url":"https://api.github.com/users/the-klingspor","html_url":"https://github.com/the-klingspor","followers_url":"https://api.github.com/users/the-klingspor/followers","following_url":"https://api.github.com/users/the-klingspor/following{/other_user}","gists_url":"https://api.github.com/users/the-klingspor/gists{/gist_id}","starred_url":"https://api.github.com/users/the-klingspor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/the-klingspor/subscriptions","organizations_url":"https://api.github.com/users/the-klingspor/orgs","repos_url":"https://api.github.com/users/the-klingspor/repos","events_url":"https://api.github.com/users/the-klingspor/events{/privacy}","received_events_url":"https://api.github.com/users/the-klingspor/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/584/timeline","performed_via_github_app":null,"state_reason":"completed"}