{"url":"https://api.github.com/repos/google-research/google-research/issues/1420","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/1420/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/1420/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/1420/events","html_url":"https://github.com/google-research/google-research/issues/1420","id":1496469043,"node_id":"I_kwDOCQmIhc5ZMk4z","number":1420,"title":"About runtime errors","user":{"login":"LIULOCKED","id":15009420,"node_id":"MDQ6VXNlcjE1MDA5NDIw","avatar_url":"https://avatars.githubusercontent.com/u/15009420?v=4","gravatar_id":"","url":"https://api.github.com/users/LIULOCKED","html_url":"https://github.com/LIULOCKED","followers_url":"https://api.github.com/users/LIULOCKED/followers","following_url":"https://api.github.com/users/LIULOCKED/following{/other_user}","gists_url":"https://api.github.com/users/LIULOCKED/gists{/gist_id}","starred_url":"https://api.github.com/users/LIULOCKED/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LIULOCKED/subscriptions","organizations_url":"https://api.github.com/users/LIULOCKED/orgs","repos_url":"https://api.github.com/users/LIULOCKED/repos","events_url":"https://api.github.com/users/LIULOCKED/events{/privacy}","received_events_url":"https://api.github.com/users/LIULOCKED/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-12-14T11:56:21Z","updated_at":"2022-12-14T11:56:21Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"After I configure the environment according to the code requirements, the following error will appear when I run run.sh, where is the problem, thank you\r\n\r\n\r\nINFO:tensorflow:Saving checkpoints for 0 into stacked_capsule_autoencoders/checkpoints/test2/model.ckpt.\r\nI1214 19:52:16.925383 139970754364224 basic_session_run_hooks.py:606] Saving checkpoints for 0 into stacked_capsule_autoencoders/checkpoints/test2/model.ckpt.\r\n2022-12-14 19:52:21.274406: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0\r\n2022-12-14 19:53:41.341629: E tensorflow/stream_executor/cuda/cuda_blas.cc:428] failed to run cuBLAS routine: CUBLAS_STATUS_EXECUTION_FAILED\r\n2022-12-14 19:53:41.361886: W tensorflow/core/framework/op_kernel.cc:1651] OP_REQUIRES failed at iterator_ops.cc:867 : Cancelled: Operation was cancelled\r\n2022-12-14 19:53:41.365174: W tensorflow/core/framework/op_kernel.cc:1651] OP_REQUIRES failed at iterator_ops.cc:867 : Cancelled: Operation was cancelled\r\n  File \"/home/user1/SCAE/stacked_capsule_autoencoders/train.py\", line 226, in <module>\r\n    tf.app.run()\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/platform/app.py\", line 40, in run\r\n    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/absl/app.py\", line 303, in run\r\n    _run_main(main, args)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/absl/app.py\", line 251, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/home/user1/SCAE/stacked_capsule_autoencoders/train.py\", line 192, in main\r\n    train_itr, _ = sess.run([global_step, update_ops])\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/training/monitored_session.py\", line 754, in run\r\n    run_metadata=run_metadata)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/training/monitored_session.py\", line 1360, in run\r\n    raise six.reraise(*original_exc_info)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/six.py\", line 719, in reraise\r\n    raise value\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/training/monitored_session.py\", line 1345, in run\r\n    return self._sess.run(*args, **kwargs)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/training/monitored_session.py\", line 1418, in run\r\n    run_metadata=run_metadata)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/training/monitored_session.py\", line 1176, in run\r\n    return self._sess.run(*args, **kwargs)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 956, in run\r\n    run_metadata_ptr)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1180, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1359, in _do_run\r\n    run_metadata)\r\n  File \"/home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1384, in _do_call\r\n    raise type(e)(node_def, op, message)\r\n2 root error(s) found.\r\n  (0) Internal: Blas GEMM launch failed : a.shape=(320, 256), b.shape=(256, 256), m=320, n=256, k=256\r\n         [[node image_autoencoder/set_transformer/multi_head_qkv_attention/batch_apply/linear/MatMul (defined at /anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py:1748) ]]\r\n  (1) Internal: Blas GEMM launch failed : a.shape=(320, 256), b.shape=(256, 256), m=320, n=256, k=256\r\n         [[node image_autoencoder/set_transformer/multi_head_qkv_attention/batch_apply/linear/MatMul (defined at /anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py:1748) ]]\r\n         [[global_step/add/_2721]]\r\n0 successful operations.\r\n0 derived errors ignored.\r\n\r\nOriginal stack trace for 'image_autoencoder/set_transformer/multi_head_qkv_attention/batch_apply/linear/MatMul':\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/SCAE/stacked_capsule_autoencoders/train.py\", line 226, in <module>\r\n    tf.app.run()\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/platform/app.py\", line 40, in run\r\n    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/absl/app.py\", line 303, in run\r\n    _run_main(main, args)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/absl/app.py\", line 251, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/SCAE/stacked_capsule_autoencoders/train.py\", line 117, in main\r\n    target, gvs = model.make_target(trainset, opt)\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/models/model.py\", line 43, in wrapper\r\n    self.memo[hashed_args] = func(*args, **kwargs)\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/models/model.py\", line 104, in make_target\r\n    res = self.connect(data)\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/models/model.py\", line 43, in wrapper\r\n    self.memo[hashed_args] = func(*args, **kwargs)\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/models/model.py\", line 94, in connect\r\n    return self._do_call(data, *args, **kwargs)\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/models/model.py\", line 97, in _do_call\r\n    return self.__call__(data, *args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 189, in copy_signature\r\n    return method(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 192, in __call__\r\n    return AbstractModule.__call__(instance, *args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 396, in __call__\r\n    return self._call(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 418, in _call\r\n    outputs, subgraph_name_scope = self._template(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 385, in __call__\r\n    return self._call_func(args, kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 355, in _call_func\r\n    result = self._func(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 226, in _build_wrapper\r\n    output = self._build(*args, **kwargs)\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/models/scae.py\", line 213, in _build\r\n    h = self._encoder(pose_with_templates, input_pres)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 396, in __call__\r\n    return self._call(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 418, in _call\r\n    outputs, subgraph_name_scope = self._template(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 385, in __call__\r\n    return self._call_func(args, kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 355, in _call_func\r\n    result = self._func(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 226, in _build_wrapper\r\n    output = self._build(*args, **kwargs)\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/attention.py\", line 70, in _build\r\n    return MultiHeadQKVAttention(self._n_heads)(inducing_points, z, z, presence)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 396, in __call__\r\n    return self._call(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 418, in _call\r\n    outputs, subgraph_name_scope = self._template(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 385, in __call__\r\n    return self._call_func(args, kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 355, in _call_func\r\n    result = self._func(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 226, in _build_wrapper\r\n    output = self._build(*args, **kwargs)\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/attention.py\", line 121, in _build\r\n    args = [transform(i) for i in [queries, keys, values]]\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/attention.py\", line 121, in <listcomp>\r\n    args = [transform(i) for i in [queries, keys, values]]\r\n  File \"/SCAE/stacked_capsule_autoencoders/capsules/attention.py\", line 117, in transform\r\n    return snt.BatchApply(snt.Linear(int(n_dim)))(x)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 396, in __call__\r\n    return self._call(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 418, in _call\r\n    outputs, subgraph_name_scope = self._template(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 385, in __call__\r\n    return self._call_func(args, kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 355, in _call_func\r\n    result = self._func(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 226, in _build_wrapper\r\n    output = self._build(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/basic.py\", line 1085, in _build\r\n    results = self._module(*merged_args, **merged_kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 396, in __call__\r\n    return self._call(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 418, in _call\r\n    outputs, subgraph_name_scope = self._template(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 385, in __call__\r\n    return self._call_func(args, kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/template.py\", line 355, in _call_func\r\n    result = self._func(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/base.py\", line 226, in _build_wrapper\r\n    output = self._build(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/sonnet/python/modules/basic.py\", line 253, in _build\r\n    outputs = tf.matmul(inputs, self._w)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/util/dispatch.py\", line 180, in wrapper\r\n    return target(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/math_ops.py\", line 2754, in matmul\r\n    a, b, transpose_a=transpose_a, transpose_b=transpose_b, name=name)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_math_ops.py\", line 6136, in mat_mul\r\n    name=name)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/framework/op_def_library.py\", line 794, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/util/deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py\", line 3357, in create_op\r\n    attrs, op_def, compute_device)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py\", line 3426, in _create_op_internal\r\n    op_def=op_def)\r\n  File \"/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py\", line 1748, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n\r\n> /home/user1/anaconda3/envs/tf1/lib/python3.6/site-packages/tensorflow_core/python/client/session.py(1384)_do_call()\r\n-> raise type(e)(node_def, op, message)\r\n(Pdb) \r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/1420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/1420/timeline","performed_via_github_app":null,"state_reason":null}