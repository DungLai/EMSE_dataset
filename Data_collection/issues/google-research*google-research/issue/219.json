{"url":"https://api.github.com/repos/google-research/google-research/issues/219","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/219/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/219/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/219/events","html_url":"https://github.com/google-research/google-research/issues/219","id":579707813,"node_id":"MDU6SXNzdWU1Nzk3MDc4MTM=","number":219,"title":"abs(automl_zero::Scalar) is ambiguous","user":{"login":"kingsj0405","id":13496612,"node_id":"MDQ6VXNlcjEzNDk2NjEy","avatar_url":"https://avatars.githubusercontent.com/u/13496612?v=4","gravatar_id":"","url":"https://api.github.com/users/kingsj0405","html_url":"https://github.com/kingsj0405","followers_url":"https://api.github.com/users/kingsj0405/followers","following_url":"https://api.github.com/users/kingsj0405/following{/other_user}","gists_url":"https://api.github.com/users/kingsj0405/gists{/gist_id}","starred_url":"https://api.github.com/users/kingsj0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingsj0405/subscriptions","organizations_url":"https://api.github.com/users/kingsj0405/orgs","repos_url":"https://api.github.com/users/kingsj0405/repos","events_url":"https://api.github.com/users/kingsj0405/events{/privacy}","received_events_url":"https://api.github.com/users/kingsj0405/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-03-12T05:46:07Z","updated_at":"2020-03-12T11:11:18Z","closed_at":"2020-03-12T11:11:18Z","author_association":"NONE","active_lock_reason":null,"body":"I failed to build.\r\nMy environment is Docker container with followings(Ubuntu 16.04, G++ 6.5.0, Bazel 2.2.0).\r\nIs there some way to resolve this error?\r\n\r\n```\r\nuser@8a4b5a3511d4:/app/sejong/AutoML/google-research/automl_zero$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 16.04.6 LTS\r\nRelease:        16.04\r\nCodename:       xenial\r\nuser@8a4b5a3511d4:/app/sejong/AutoML/google-research/automl_zero$ g++ --version\r\ng++ (Ubuntu 6.5.0-2ubuntu1~16.04) 6.5.0 20181026\r\nCopyright (C) 2017 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\nuser@8a4b5a3511d4:/app/sejong/AutoML/google-research/automl_zero$ bazel --version\r\nbazel 2.2.0\r\n```\r\n\r\nThis is my log for `run_demo.h`\r\n\r\n```\r\nuser@8a4b5a3511d4:/app/sejong/AutoML/google-research/automl_zero$ ./run_demo.sh \r\nDEBUG: Rule 'rules_cc' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"07d957496cc77efa14c995e491ca78a7819c6c75fa285fa39616fd25136a1b3c\"\r\nDEBUG: Call stack for the definition of repository 'rules_cc' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/external/bazel_t\r\nools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:26:1\r\nDEBUG: Rule 'com_google_absl' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"1dcf8d59a1baeb683bc98339de375c69a581f6d7ab00bb47f13144dbe3c9f190\"\r\nDEBUG: Call stack for the definition of repository 'com_google_absl' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/external/\r\nbazel_tools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:14:1\r\nDEBUG: Rule 'com_google_glog' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"43550f5e8140f819a889a3cd32fcf13888faaa6a441c179cd1163d96bdb82eb3\"\r\nDEBUG: Call stack for the definition of repository 'com_google_glog' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/external/\r\nbazel_tools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:78:1\r\nDEBUG: Rule 'com_github_gflags_gflags' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"5a95d2354322ffd4b7b25b634ee1b23ce8167faa32a9c8fa06df0ef42e\r\nc9a174\"\r\nDEBUG: Call stack for the definition of repository 'com_github_gflags_gflags' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/\r\nexternal/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:3:1\r\nDEBUG: Rule 'com_google_googletest' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"51048d8977c45dc5eff96355f186ae0ce9c281cc50f9dbfaff2f4d3bdc0ee\r\nd6c\"\r\nDEBUG: Call stack for the definition of repository 'com_google_googletest' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/ext\r\nernal/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:20:1\r\nINFO: Analyzed target //:run_search_experiment (0 packages loaded, 0 targets configured).\r\nINFO: Found 1 target...\r\nERROR: /app/sejong/AutoML/google-research/automl_zero/BUILD:286:1: C++ compilation of rule '//:fec_hashing' failed (Exit 1) gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE \r\n-fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections ... (remaining 72 argument(s) sk\r\nipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\nIn file included from executor.h:30:0,\r\n                 from fec_hashing.h:21,\r\n                 from fec_hashing.cc:15:\r\ntask.h: In function 'bool automl_zero::ItemEquals(const RankT&, const RankT&) [with RankT = double]':\r\ntask.h:90:27: error: call of overloaded 'abs(automl_zero::Scalar)' is ambiguous\r\n   return abs(data1 - data2) < kDataTolerance;\r\n                           ^\r\nIn file included from /usr/include/c++/6/cstdlib:75:0,\r\n                 from /usr/include/c++/6/ext/string_conversions.h:41,\r\n                 from /usr/include/c++/6/bits/basic_string.h:5429,\r\n                 from /usr/include/c++/6/string:52,\r\n                 from /usr/include/c++/6/bits/locale_classes.h:40,\r\n                 from /usr/include/c++/6/bits/ios_base.h:41,\r\n                 from /usr/include/c++/6/ios:42,\r\n                 from /usr/include/c++/6/istream:38,\r\n                 from /usr/include/c++/6/sstream:38,\r\n                 from definitions.h:30,\r\n                 from fec_hashing.h:20,\r\n                 from fec_hashing.cc:15:\r\n/usr/include/stdlib.h:774:12: note: candidate: int abs(int)\r\n extern int abs (int __x) __THROW __attribute__ ((__const__)) __wur;\r\n            ^~~\r\nIn file included from /usr/include/c++/6/ext/string_conversions.h:41:0,\r\n                 from /usr/include/c++/6/bits/basic_string.h:5429,\r\n                 from /usr/include/c++/6/string:52,\r\n                 from /usr/include/c++/6/bits/locale_classes.h:40,\r\n                 from /usr/include/c++/6/bits/ios_base.h:41,\r\n                 from /usr/include/c++/6/ios:42,\r\n                 from /usr/include/c++/6/istream:38,\r\n                 from /usr/include/c++/6/sstream:38,\r\n                 from definitions.h:30,\r\n                 from fec_hashing.h:20,\r\n                 from fec_hashing.cc:15:\r\n/usr/include/c++/6/cstdlib:180:3: note: candidate: long long int std::abs(long long int)\r\n   abs(long long __x) { return __builtin_llabs (__x); }\r\n   ^~~\r\n/usr/include/c++/6/cstdlib:172:3: note: candidate: long int std::abs(long int)\r\n   abs(long __i) { return __builtin_labs(__i); }\r\n   ^~~\r\nIn file included from fec_hashing.h:21:0,\r\n                 from fec_hashing.cc:15:\r\nexecutor.h: At global scope:\r\nexecutor.h:803:10: warning: variable templates only available with -std=c++14 or -std=gnu++14\r\n     128> kOpIndexToExecuteFunction = {\r\n          ^~~~~~~~~~~~~~~~~~~~~~~~~\r\nTarget //:run_search_experiment failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1.826s, Critical Path: 1.49s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully\r\nFAILED: Build did NOT complete successfully\r\nuser@8a4b5a3511d4:/app/sejong/AutoML/google-research/automl_zero$ ./run_demo.sh --sandbox_debug\r\nDEBUG: Rule 'rules_cc' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"07d957496cc77efa14c995e491ca78a7819c6c75fa285fa39616fd25136a1b3c\"\r\nDEBUG: Call stack for the definition of repository 'rules_cc' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/external/bazel_t\r\nools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:26:1\r\nDEBUG: Rule 'com_google_absl' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"1dcf8d59a1baeb683bc98339de375c69a581f6d7ab00bb47f13144dbe3c9f190\"\r\nDEBUG: Call stack for the definition of repository 'com_google_absl' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/external/\r\nbazel_tools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:14:1\r\nDEBUG: Rule 'com_google_glog' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"43550f5e8140f819a889a3cd32fcf13888faaa6a441c179cd1163d96bdb82eb3\"\r\nDEBUG: Call stack for the definition of repository 'com_google_glog' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/external/\r\nbazel_tools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:78:1\r\nDEBUG: Rule 'com_github_gflags_gflags' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"5a95d2354322ffd4b7b25b634ee1b23ce8167faa32a9c8fa06df0ef42e\r\nc9a174\"\r\nDEBUG: Call stack for the definition of repository 'com_github_gflags_gflags' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/\r\nexternal/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:3:1\r\nDEBUG: Rule 'com_google_googletest' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"51048d8977c45dc5eff96355f186ae0ce9c281cc50f9dbfaff2f4d3bdc0ee\r\nd6c\"\r\nDEBUG: Call stack for the definition of repository 'com_google_googletest' which is a http_archive (rule definition at /home/user/.cache/bazel/_bazel_user/c7435eb598c0e52a3e7d09039ce632a1/ext\r\nernal/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\r\n - <builtin>\r\n - /app/sejong/AutoML/google-research/automl_zero/WORKSPACE:20:1\r\nINFO: Analyzed target //:run_search_experiment (0 packages loaded, 0 targets configured).\r\nINFO: Found 1 target...\r\nERROR: /app/sejong/AutoML/google-research/automl_zero/BUILD:286:1: C++ compilation of rule '//:fec_hashing' failed (Exit 1) gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE \r\n-fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections ... (remaining 72 argument(s) sk\r\nipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\nIn file included from executor.h:30:0,\r\n                 from fec_hashing.h:21,\r\n                 from fec_hashing.cc:15:\r\ntask.h: In function 'bool automl_zero::ItemEquals(const RankT&, const RankT&) [with RankT = double]':\r\ntask.h:90:27: error: call of overloaded 'abs(automl_zero::Scalar)' is ambiguous\r\n   return abs(data1 - data2) < kDataTolerance;\r\n                           ^\r\nIn file included from /usr/include/c++/6/cstdlib:75:0,\r\n                 from /usr/include/c++/6/ext/string_conversions.h:41,\r\n                 from /usr/include/c++/6/bits/basic_string.h:5429,\r\n                 from /usr/include/c++/6/string:52,\r\n                 from /usr/include/c++/6/bits/locale_classes.h:40,\r\n                 from /usr/include/c++/6/bits/ios_base.h:41,\r\n                 from /usr/include/c++/6/ios:42,\r\n                 from /usr/include/c++/6/istream:38,\r\n                 from /usr/include/c++/6/sstream:38,\r\n                 from definitions.h:30,\r\n                 from fec_hashing.h:20,\r\n                 from fec_hashing.cc:15:\r\n/usr/include/stdlib.h:774:12: note: candidate: int abs(int)\r\n extern int abs (int __x) __THROW __attribute__ ((__const__)) __wur;\r\n            ^~~\r\nIn file included from /usr/include/c++/6/ext/string_conversions.h:41:0,\r\n                 from /usr/include/c++/6/bits/basic_string.h:5429,\r\n                 from /usr/include/c++/6/string:52,\r\n                 from /usr/include/c++/6/bits/locale_classes.h:40,\r\n                 from /usr/include/c++/6/bits/ios_base.h:41,\r\n                 from /usr/include/c++/6/ios:42,\r\n                 from /usr/include/c++/6/istream:38,\r\n                 from /usr/include/c++/6/sstream:38,\r\n                 from definitions.h:30,\r\n                 from fec_hashing.h:20,\r\n                 from fec_hashing.cc:15:\r\n/usr/include/c++/6/cstdlib:180:3: note: candidate: long long int std::abs(long long int)\r\n   abs(long long __x) { return __builtin_llabs (__x); }\r\n   ^~~\r\n/usr/include/c++/6/cstdlib:172:3: note: candidate: long int std::abs(long int)\r\n   abs(long __i) { return __builtin_labs(__i); }\r\n   ^~~\r\nIn file included from fec_hashing.h:21:0,\r\n                 from fec_hashing.cc:15:\r\nexecutor.h: At global scope:\r\nexecutor.h:803:10: warning: variable templates only available with -std=c++14 or -std=gnu++14\r\n     128> kOpIndexToExecuteFunction = {\r\n          ^~~~~~~~~~~~~~~~~~~~~~~~~\r\nTarget //:run_search_experiment failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1.812s, Critical Path: 1.55s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully\r\nFAILED: Build did NOT complete successfully\r\n```","closed_by":{"login":"kingsj0405","id":13496612,"node_id":"MDQ6VXNlcjEzNDk2NjEy","avatar_url":"https://avatars.githubusercontent.com/u/13496612?v=4","gravatar_id":"","url":"https://api.github.com/users/kingsj0405","html_url":"https://github.com/kingsj0405","followers_url":"https://api.github.com/users/kingsj0405/followers","following_url":"https://api.github.com/users/kingsj0405/following{/other_user}","gists_url":"https://api.github.com/users/kingsj0405/gists{/gist_id}","starred_url":"https://api.github.com/users/kingsj0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingsj0405/subscriptions","organizations_url":"https://api.github.com/users/kingsj0405/orgs","repos_url":"https://api.github.com/users/kingsj0405/repos","events_url":"https://api.github.com/users/kingsj0405/events{/privacy}","received_events_url":"https://api.github.com/users/kingsj0405/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/219/timeline","performed_via_github_app":null,"state_reason":"completed"}