{"url":"https://api.github.com/repos/google-research/google-research/issues/430","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/430/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/430/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/430/events","html_url":"https://github.com/google-research/google-research/issues/430","id":725422686,"node_id":"MDU6SXNzdWU3MjU0MjI2ODY=","number":430,"title":"scann core dump when python import","user":{"login":"lancelot1989","id":13790518,"node_id":"MDQ6VXNlcjEzNzkwNTE4","avatar_url":"https://avatars.githubusercontent.com/u/13790518?v=4","gravatar_id":"","url":"https://api.github.com/users/lancelot1989","html_url":"https://github.com/lancelot1989","followers_url":"https://api.github.com/users/lancelot1989/followers","following_url":"https://api.github.com/users/lancelot1989/following{/other_user}","gists_url":"https://api.github.com/users/lancelot1989/gists{/gist_id}","starred_url":"https://api.github.com/users/lancelot1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lancelot1989/subscriptions","organizations_url":"https://api.github.com/users/lancelot1989/orgs","repos_url":"https://api.github.com/users/lancelot1989/repos","events_url":"https://api.github.com/users/lancelot1989/events{/privacy}","received_events_url":"https://api.github.com/users/lancelot1989/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-20T10:05:48Z","updated_at":"2021-07-22T11:47:34Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"once python import scann, python crash & core dump with error 'Illigal instruction'. is there any problem with compablity?\r\n\r\nsystem info\r\n```\r\n[root@k8s-new-node-2-37nir tmp]# cat /etc/os-release \r\nNAME=\"CentOS Linux\"\r\nVERSION=\"7 (Core)\"\r\nID=\"centos\"\r\nID_LIKE=\"rhel fedora\"\r\nVERSION_ID=\"7\"\r\nPRETTY_NAME=\"CentOS Linux 7 (Core)\"\r\nANSI_COLOR=\"0;31\"\r\nCPE_NAME=\"cpe:/o:centos:centos:7\"\r\nHOME_URL=\"https://www.centos.org/\"\r\nBUG_REPORT_URL=\"https://bugs.centos.org/\"\r\n\r\nCENTOS_MANTISBT_PROJECT=\"CentOS-7\"\r\nCENTOS_MANTISBT_PROJECT_VERSION=\"7\"\r\nREDHAT_SUPPORT_PRODUCT=\"centos\"\r\nREDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\r\n\r\n[root@k8s-new-node-2-37nir tmp]# uname -a\r\nLinux k8s-new-node-2-37nir.vclound.com 4.20.7-1.el7.elrepo.x86_64 #1 SMP Wed Feb 6 13:17:46 EST 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n[root@k8s-new-node-2-37nir tmp]# python3 --version\r\nPython 3.6.0\r\n[root@k8s-new-node-2-37nir tmp]# pip3 --version\r\npip 20.2.4 from /usr/local/python36/lib/python3.6/site-packages/pip (python 3.6)\r\n```\r\n\r\ngdb info\r\n```\r\nCore was generated by `python3'.\r\nProgram terminated with signal 4, Illegal instruction.\r\n#0  0x00007fbaaf0b1c54 in InitDefaultsscc_info_FixedPoint_scann_2fproto_2fexact_5freordering_2eproto() () from /usr/local/python36/lib/python3.6/site-packages/scann/scann_ops/cc/_scann_ops.so\r\nMissing separate debuginfos, use: debuginfo-install bzip2-libs-1.0.6-13.el7.x86_64 glibc-2.17-157.el7_3.1.x86_64 keyutils-libs-1.5.8-3.el7.x86_64 krb5-libs-1.14.1-27.el7_3.x86_64 libcom_err-1.42.9-9.el7.x86_64 libgcc-4.8.5-11.el7.x86_64 libselinux-2.5-6.el7.x86_64 libstdc++-4.8.5-11.el7.x86_64 libuuid-2.23.2-33.el7.x86_64 ncurses-libs-5.9-14.20130511.el7_4.x86_64 openssl-libs-1.0.2k-19.el7.x86_64 pcre-8.32-15.el7_2.1.x86_64 readline-6.2-11.el7.x86_64 zlib-1.2.7-17.el7.x86_64\r\n(gdb) bt\r\n#0  0x00007fbaaf0b1c54 in InitDefaultsscc_info_FixedPoint_scann_2fproto_2fexact_5freordering_2eproto() () from /usr/local/python36/lib/python3.6/site-packages/scann/scann_ops/cc/_scann_ops.so\r\n#1  0x00007fbaaf19cf23 in google::protobuf::internal::(anonymous namespace)::InitSCC_DFS(google::protobuf::internal::SCCInfoBase*) () from /usr/local/python36/lib/python3.6/site-packages/scann/scann_ops/cc/_scann_ops.so\r\n#2  0x00007fbaaf19cf0f in google::protobuf::internal::(anonymous namespace)::InitSCC_DFS(google::protobuf::internal::SCCInfoBase*) () from /usr/local/python36/lib/python3.6/site-packages/scann/scann_ops/cc/_scann_ops.so\r\n#3  0x00007fbaaf19cf0f in google::protobuf::internal::(anonymous namespace)::InitSCC_DFS(google::protobuf::internal::SCCInfoBase*) () from /usr/local/python36/lib/python3.6/site-packages/scann/scann_ops/cc/_scann_ops.so\r\n#4  0x00007fbaaf19cdc0 in google::protobuf::internal::InitSCCImpl(google::protobuf::internal::SCCInfoBase*) () from /usr/local/python36/lib/python3.6/site-packages/scann/scann_ops/cc/_scann_ops.so\r\n#5  0x00007fbaaf0e2545 in google::protobuf::internal::AddDescriptors(google::protobuf::internal::DescriptorTable const*) () from /usr/local/python36/lib/python3.6/site-packages/scann/scann_ops/cc/_scann_ops.so\r\n#6  0x00007fbaffd5b1e3 in _dl_init_internal () from /lib64/ld-linux-x86-64.so.2\r\n#7  0x00007fbaffd5f8f6 in dl_open_worker () from /lib64/ld-linux-x86-64.so.2\r\n#8  0x00007fbaffd5aff4 in _dl_catch_error () from /lib64/ld-linux-x86-64.so.2\r\n#9  0x00007fbaffd5efeb in _dl_open () from /lib64/ld-linux-x86-64.so.2\r\n#10 0x00007fbaff92cfbb in dlopen_doit () from /lib64/libdl.so.2\r\n#11 0x00007fbaffd5aff4 in _dl_catch_error () from /lib64/ld-linux-x86-64.so.2\r\n#12 0x00007fbaff92d5bd in _dlerror_run () from /lib64/libdl.so.2\r\n#13 0x00007fbaff92d051 in dlopen@@GLIBC_2.2.5 () from /lib64/libdl.so.2\r\n#14 0x00007fbabd53d88a in tensorflow::internal::LoadLibrary(char const*, void**) () from /usr/local/python36/lib/python3.6/site-packages/tensorflow/python/../libtensorflow_framework.so.2\r\n#15 0x00007fbabd523af7 in tensorflow::(anonymous namespace)::PosixEnv::LoadLibrary(char const*, void**) () from /usr/local/python36/lib/python3.6/site-packages/tensorflow/python/../libtensorflow_framework.so.2\r\n#16 0x00007fbabd1e30b4 in tensorflow::LoadLibrary(char const*, void**, void const**, unsigned long*) () from /usr/local/python36/lib/python3.6/site-packages/tensorflow/python/../libtensorflow_framework.so.2\r\n#17 0x00007fbac1b811b7 in TF_LoadLibrary () from /usr/local/python36/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/430/timeline","performed_via_github_app":null,"state_reason":null}