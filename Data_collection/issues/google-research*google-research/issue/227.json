{"url":"https://api.github.com/repos/google-research/google-research/issues/227","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/227/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/227/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/227/events","html_url":"https://github.com/google-research/google-research/issues/227","id":582406773,"node_id":"MDU6SXNzdWU1ODI0MDY3NzM=","number":227,"title":"frechet_audio_distance: Instructions not working","user":{"login":"jonnor","id":45185,"node_id":"MDQ6VXNlcjQ1MTg1","avatar_url":"https://avatars.githubusercontent.com/u/45185?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnor","html_url":"https://github.com/jonnor","followers_url":"https://api.github.com/users/jonnor/followers","following_url":"https://api.github.com/users/jonnor/following{/other_user}","gists_url":"https://api.github.com/users/jonnor/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnor/subscriptions","organizations_url":"https://api.github.com/users/jonnor/orgs","repos_url":"https://api.github.com/users/jonnor/repos","events_url":"https://api.github.com/users/jonnor/events{/privacy}","received_events_url":"https://api.github.com/users/jonnor/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-03-16T15:52:53Z","updated_at":"2022-12-11T06:18:30Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi. As is the instructions for frechet_audio_distance give errors:\r\n\r\n```\r\n(fad) [jon@jon-thinkpad google-research]$ python -m frechet_audio_distance.create_embeddings_main --input_files test_audio/test_files_background.cvs --stats stats/background_stats\r\n.... Tensorflow nagging ...\r\nTraceback (most recent call last):\r\n  File \"/home/jon/.conda/envs/fad/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/jon/.conda/envs/fad/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/jon/work/senselab/soundquality/google-research/frechet_audio_distance/create_embeddings_main.py\", line 26, in <module>\r\n    from frechet_audio_distance import create_embeddings_beam\r\n  File \"/home/jon/work/senselab/soundquality/google-research/frechet_audio_distance/create_embeddings_beam.py\", line 36, in <module>\r\n    from frechet_audio_distance.audioset_model import AudioSetModel\r\n  File \"/home/jon/work/senselab/soundquality/google-research/frechet_audio_distance/audioset_model.py\", line 25, in <module>\r\n    from tensorflow_models.audioset import mel_features\r\nImportError: cannot import name 'mel_features'\r\n```\r\nThis seems to be due to a change in Tensorflow models, where the vggish directory was moved.\r\nhttps://github.com/tensorflow/models/commit/4079c5d9693142a406f6ff392d14e2034b5f496d#diff-bdac73c3c32a5ba3834aa4ce2b8b345e\r\n\r\nUsing an earlier version seems to work fine, however then one also have to use Tensorflow 1.15\r\n```\r\nsvn export https://github.com/tensorflow/models/tags/v1.13.0/research/audioset tensorflow_models/audioset\r\n\r\npip install tensorflow==1.15\r\n```\r\n\r\nBtw it also seems that Apache Beam supports Python3 now. Right now frechet_audio_distance is however not compatible. At least there are some trivial errors like use of `xrange`.\r\n\r\nWould a PR which updates to Python3 and TensorFlow 2.x be welcomed? ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/227/timeline","performed_via_github_app":null,"state_reason":null}