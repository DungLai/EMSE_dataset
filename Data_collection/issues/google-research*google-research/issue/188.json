{"url":"https://api.github.com/repos/google-research/google-research/issues/188","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/188/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/188/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/188/events","html_url":"https://github.com/google-research/google-research/issues/188","id":558200910,"node_id":"MDU6SXNzdWU1NTgyMDA5MTA=","number":188,"title":"\"Unicode objects must be encoded before hashing\" error in line 55 google-research/stochastic_to_deterministic/hashing .py","user":{"login":"abhilash1910","id":30946547,"node_id":"MDQ6VXNlcjMwOTQ2NTQ3","avatar_url":"https://avatars.githubusercontent.com/u/30946547?v=4","gravatar_id":"","url":"https://api.github.com/users/abhilash1910","html_url":"https://github.com/abhilash1910","followers_url":"https://api.github.com/users/abhilash1910/followers","following_url":"https://api.github.com/users/abhilash1910/following{/other_user}","gists_url":"https://api.github.com/users/abhilash1910/gists{/gist_id}","starred_url":"https://api.github.com/users/abhilash1910/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhilash1910/subscriptions","organizations_url":"https://api.github.com/users/abhilash1910/orgs","repos_url":"https://api.github.com/users/abhilash1910/repos","events_url":"https://api.github.com/users/abhilash1910/events{/privacy}","received_events_url":"https://api.github.com/users/abhilash1910/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-01-31T15:32:31Z","updated_at":"2020-01-31T15:50:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I tried out the stochastic_to_deterministic research and the implementation  in the hashing.py ,but there seems to be an error in the syntax in line 55 : \r\nfeature_sum_hex = [hashlib.md5(s).hexdigest() for s in feature_sum_str]\r\n The error stack trace:\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-2-9c4701d54322>\", line 1, in <module>\r\n    runfile('G:/s2d.py', wdir='G:')\r\n\r\n  File \"G:\\anaconda\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 705, in runfile\r\n    execfile(filename, namespace)\r\n\r\n  File \"G:\\anaconda\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 102, in execfile\r\n    exec(compile(f.read(), filename, 'exec'), namespace)\r\n\r\n  File \"G:/s2d.py\", line 115, in <module>\r\n    app.run(main)\r\n\r\n  File \"G:\\anaconda\\lib\\site-packages\\absl\\app.py\", line 300, in run\r\n    _run_main(main, args)\r\n\r\n  File \"G:\\anaconda\\lib\\site-packages\\absl\\app.py\", line 251, in _run_main\r\n    sys.exit(main(argv))\r\n\r\n  File \"G:/s2d.py\", line 106, in main\r\n    hash_val = compute_hash(features, hash_matrix, hash_vector)\r\n\r\n  File \"G:/s2d.py\", line 63, in compute_hash\r\n    feature_sum_hex = [hashlib.md5(s).hexdigest() for s in feature_sum_str]\r\n\r\n  File \"G:/s2d.py\", line 63, in <listcomp>\r\n    feature_sum_hex = [hashlib.md5(s).hexdigest() for s in feature_sum_str]\r\n\r\nTypeError: Unicode-objects must be encoded before hashing\r\n\r\nI have been using the required versions of absl and numpy which are specified in the requirements.txt\r\n\r\n\r\nResolution: The error is resolved by changing the syntax to 's.encode()' .I am submitting a PR for the same issue. ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/188/timeline","performed_via_github_app":null,"state_reason":null}