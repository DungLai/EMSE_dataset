{"url":"https://api.github.com/repos/google-research/google-research/issues/566","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/566/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/566/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/566/events","html_url":"https://github.com/google-research/google-research/issues/566","id":803438046,"node_id":"MDU6SXNzdWU4MDM0MzgwNDY=","number":566,"title":"[SCANN] Compile tensorflow serving with ScaNN Op","user":{"login":"marcinkosztolowicz","id":14169200,"node_id":"MDQ6VXNlcjE0MTY5MjAw","avatar_url":"https://avatars.githubusercontent.com/u/14169200?v=4","gravatar_id":"","url":"https://api.github.com/users/marcinkosztolowicz","html_url":"https://github.com/marcinkosztolowicz","followers_url":"https://api.github.com/users/marcinkosztolowicz/followers","following_url":"https://api.github.com/users/marcinkosztolowicz/following{/other_user}","gists_url":"https://api.github.com/users/marcinkosztolowicz/gists{/gist_id}","starred_url":"https://api.github.com/users/marcinkosztolowicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcinkosztolowicz/subscriptions","organizations_url":"https://api.github.com/users/marcinkosztolowicz/orgs","repos_url":"https://api.github.com/users/marcinkosztolowicz/repos","events_url":"https://api.github.com/users/marcinkosztolowicz/events{/privacy}","received_events_url":"https://api.github.com/users/marcinkosztolowicz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-02-08T10:47:21Z","updated_at":"2021-05-04T11:44:36Z","closed_at":"2021-02-16T11:26:07Z","author_association":"NONE","active_lock_reason":null,"body":"Hi\r\nI would like to compile tensorflow serving with ScaNN.\r\n\r\nscann: https://github.com/google-research/google-research/tree/master/scann\r\nhttps://github.com/google-research/google-research/commit/f0721be6ff386e646536f931f8ea2cfe5773b8ff\r\n\r\ntensorflow serving: https://github.com/tensorflow/serving\r\nbuild instruction for custom op: https://www.tensorflow.org/tfx/serving/custom_op\r\n\r\n I have used patches from https://github.com/google-research/google-research/tree/master/scann/tf_serving/patches\r\n\r\n**What I did**: \r\n1. patch original tensorflow serving repo :https://github.com/marcinkosztolowicz/serving/tree/feature/custom-op-scann-2\r\n2. run build tool: `tools/run_in_docker.sh bazel build tensorflow_serving/model_servers:tensorflow_model_server`\r\n\r\n**What did I expect?**:\r\nTensorflow serving binary which is capable of serve model with ScaNN op.\r\n\r\n**What i got**:\r\nCompiling errors linked to ScaNN \r\n\r\n**Question**:\r\n@sammymax  What is the correct way to compile tensorflow serving with ScaNN?","closed_by":{"login":"marcinkosztolowicz","id":14169200,"node_id":"MDQ6VXNlcjE0MTY5MjAw","avatar_url":"https://avatars.githubusercontent.com/u/14169200?v=4","gravatar_id":"","url":"https://api.github.com/users/marcinkosztolowicz","html_url":"https://github.com/marcinkosztolowicz","followers_url":"https://api.github.com/users/marcinkosztolowicz/followers","following_url":"https://api.github.com/users/marcinkosztolowicz/following{/other_user}","gists_url":"https://api.github.com/users/marcinkosztolowicz/gists{/gist_id}","starred_url":"https://api.github.com/users/marcinkosztolowicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcinkosztolowicz/subscriptions","organizations_url":"https://api.github.com/users/marcinkosztolowicz/orgs","repos_url":"https://api.github.com/users/marcinkosztolowicz/repos","events_url":"https://api.github.com/users/marcinkosztolowicz/events{/privacy}","received_events_url":"https://api.github.com/users/marcinkosztolowicz/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/566/timeline","performed_via_github_app":null,"state_reason":"completed"}