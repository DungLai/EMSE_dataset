{"url":"https://api.github.com/repos/google-research/google-research/issues/295","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/295/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/295/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/295/events","html_url":"https://github.com/google-research/google-research/issues/295","id":638019451,"node_id":"MDU6SXNzdWU2MzgwMTk0NTE=","number":295,"title":"mobilebert finetune has no unique_ids in result","user":{"login":"christ1ne","id":41205150,"node_id":"MDQ6VXNlcjQxMjA1MTUw","avatar_url":"https://avatars.githubusercontent.com/u/41205150?v=4","gravatar_id":"","url":"https://api.github.com/users/christ1ne","html_url":"https://github.com/christ1ne","followers_url":"https://api.github.com/users/christ1ne/followers","following_url":"https://api.github.com/users/christ1ne/following{/other_user}","gists_url":"https://api.github.com/users/christ1ne/gists{/gist_id}","starred_url":"https://api.github.com/users/christ1ne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christ1ne/subscriptions","organizations_url":"https://api.github.com/users/christ1ne/orgs","repos_url":"https://api.github.com/users/christ1ne/repos","events_url":"https://api.github.com/users/christ1ne/events{/privacy}","received_events_url":"https://api.github.com/users/christ1ne/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-12T21:48:42Z","updated_at":"2020-06-19T22:25:00Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"when I print the results, it has the following and no 'unique_ids'\r\ndict_keys(['start_logits', 'end_logits'])\r\nThis has been run on CPU. \r\n\r\n\r\nINFO:tensorflow:prediction_loop marked as finished\r\nI0612 14:17:58.848829 139625204832064 error_handling.py:101] prediction_loop marked as finished\r\nTraceback (most recent call last):\r\n(text omitted here ...) \r\n  File \"run_squad.py\", line 1439, in main\r\n    unique_id = int(result[\"unique_ids\"])\r\nKeyError: 'unique_ids'\r\n\r\ncommand to use:\r\npython3 run_squad.py \\\r\n  --bert_config_file=uncased_L-2_H-128_A-2/bert_config.json \\\r\n  --data_dir=${DATA_DIR} \\\r\n  --do_lower_case \\\r\n  --do_predict \\\r\n  --do_train \\\r\n  --doc_stride=128 \\\r\n  --init_checkpoint=${INIT_CHECKPOINT}/bert_model.ckpt \\\r\n  --learning_rate=4e-05 \\\r\n  --max_answer_length=30 \\\r\n  --max_query_length=64 \\\r\n  --max_seq_length=384 \\\r\n  --n_best_size=20 \\\r\n  --num_train_epochs=5 \\\r\n  --output_dir=${OUTPUT_DIR} \\\r\n  --predict_file=/my_path_to/dev-v1.1.json \\\r\n  --train_batch_size=32 \\\r\n  --train_file=/my_path_to/train-v1.1.json \\\r\n  --vocab_file=${INIT_CHECKPOINT}/vocab.txt \\\r\n  --warmup_proportion=0.1\\\r\n  --export_dir=export_model\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/295/timeline","performed_via_github_app":null,"state_reason":null}