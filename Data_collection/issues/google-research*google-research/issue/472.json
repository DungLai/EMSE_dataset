{"url":"https://api.github.com/repos/google-research/google-research/issues/472","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/472/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/472/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/472/events","html_url":"https://github.com/google-research/google-research/issues/472","id":751142181,"node_id":"MDU6SXNzdWU3NTExNDIxODE=","number":472,"title":"depth_from_video_in_the_wild: EuRoC groundtruth seems bad","user":{"login":"ClementPinard","id":4380424,"node_id":"MDQ6VXNlcjQzODA0MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4380424?v=4","gravatar_id":"","url":"https://api.github.com/users/ClementPinard","html_url":"https://github.com/ClementPinard","followers_url":"https://api.github.com/users/ClementPinard/followers","following_url":"https://api.github.com/users/ClementPinard/following{/other_user}","gists_url":"https://api.github.com/users/ClementPinard/gists{/gist_id}","starred_url":"https://api.github.com/users/ClementPinard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ClementPinard/subscriptions","organizations_url":"https://api.github.com/users/ClementPinard/orgs","repos_url":"https://api.github.com/users/ClementPinard/repos","events_url":"https://api.github.com/users/ClementPinard/events{/privacy}","received_events_url":"https://api.github.com/users/ClementPinard/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-25T22:01:13Z","updated_at":"2020-11-25T22:01:13Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi, thanks for sharing your code for EuRoC depth map groundtruth generation.\r\n\r\nI tested it and it seems that the image is not exactly aligned with generated groundtruth.\r\n\r\nIt can even be seen in the paper at fig. A1, here is visualization of image + depthmap :\r\n![problem_depth](https://user-images.githubusercontent.com/4380424/100263180-75c89900-2f4d-11eb-96bc-5c0606641704.png)\r\n![problem_depth_zoom](https://user-images.githubusercontent.com/4380424/100263205-7e20d400-2f4d-11eb-9ca2-dd0aa0d39ba8.png)\r\n\r\nYou can see on the zoom that background pixels are actually thought to be foreground.\r\n\r\nYou could say that this is very subtle, but the de-alignment change from video to video, when trying it on first video, V1_01_easy, the difference is actually huge :\r\n\r\n![1403715283262142976mg](https://user-images.githubusercontent.com/4380424/100272803-07d79e00-2f5c-11eb-8d83-2735c99fbf67.png)\r\n\r\nYou can see how the cupboard is much more on the left on the depth map than on the image. Also, notice the tatami on the far left which is very dephased.\r\n\r\nIs this an implementation problem ?\r\nI tried to check the code and it seems good to me. Does it mean that the Odometry of EuRoC, at least for these two scenes is not perfect ? It seems to me that the position is good, but not the orientation.\r\n\r\nTo check if it is only a problem of camera extrinsics, which would explain the good position but bad orientation, I converted the EuRoC to Colmap : https://gist.github.com/ClementPinard/662c6642c4be37c5030fedaf5ad5414c\r\n\r\nAnd then I used the point triangulator : https://colmap.github.io/faq.html#reconstruct-sparse-dense-model-from-known-camera-poses to know if there was a rigid transformation offset.\r\n\r\nIt turns out that the transformation is not constant, otherwise, we wouldn't get this reconstruction : \r\n\r\n![colma_problem2](https://user-images.githubusercontent.com/4380424/100285619-7a06ad80-2f71-11eb-8f6d-4f940211e352.png)\r\n\r\n\r\nHere is one reconstruction when we map everything from scratch without using groundtruth pose, and you can see that the model is much sharper :\r\n\r\n![colma_no_problem](https://user-images.githubusercontent.com/4380424/100285435-2f853100-2f71-11eb-84a7-344e9cd36e32.png)\r\n\r\n\r\nWhat are your thoughts on this problem ? Thanks is advance for your help\r\n\r\nI do concede that the subject is very broad, but criticizing EuRoC odometry is a very strong claim so I prefer a second opinion :)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/472/timeline","performed_via_github_app":null,"state_reason":null}