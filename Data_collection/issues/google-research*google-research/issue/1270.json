{"url":"https://api.github.com/repos/google-research/google-research/issues/1270","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/1270/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/1270/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/1270/events","html_url":"https://github.com/google-research/google-research/issues/1270","id":1361164651,"node_id":"I_kwDOCQmIhc5RIblr","number":1270,"title":"How to deal with padding tokens in F-Net implementation","user":{"login":"stevesmit","id":30558265,"node_id":"MDQ6VXNlcjMwNTU4MjY1","avatar_url":"https://avatars.githubusercontent.com/u/30558265?v=4","gravatar_id":"","url":"https://api.github.com/users/stevesmit","html_url":"https://github.com/stevesmit","followers_url":"https://api.github.com/users/stevesmit/followers","following_url":"https://api.github.com/users/stevesmit/following{/other_user}","gists_url":"https://api.github.com/users/stevesmit/gists{/gist_id}","starred_url":"https://api.github.com/users/stevesmit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevesmit/subscriptions","organizations_url":"https://api.github.com/users/stevesmit/orgs","repos_url":"https://api.github.com/users/stevesmit/repos","events_url":"https://api.github.com/users/stevesmit/events{/privacy}","received_events_url":"https://api.github.com/users/stevesmit/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-09-04T14:24:24Z","updated_at":"2022-09-04T14:24:24Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"In the F-Net implementation the padding tokens are not considered an issue https://github.com/google-research/google-research/blob/4d0e1709b347e33ac95fb557a180271bf057ee9e/f_net/layers.py#L107. \r\n\r\nHowever, the logic of the operation is to do an FFT on the hidden dimension, and then the time dimension. padding/zeroes influences the output of the FFT so it feels like this is an oversight and may influence the resultant values? I.e. the same example, in two different batches will have a different FFT outcome, if those batches have a different max sequence length (which everything gets padded to). ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/1270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/1270/timeline","performed_via_github_app":null,"state_reason":null}