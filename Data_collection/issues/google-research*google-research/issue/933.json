{"url":"https://api.github.com/repos/google-research/google-research/issues/933","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/933/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/933/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/933/events","html_url":"https://github.com/google-research/google-research/issues/933","id":1091857337,"node_id":"I_kwDOCQmIhc5BFGu5","number":933,"title":"tft volatility expt: Reshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.","user":{"login":"dhsusf","id":93278840,"node_id":"U_kgDOBY9SeA","avatar_url":"https://avatars.githubusercontent.com/u/93278840?v=4","gravatar_id":"","url":"https://api.github.com/users/dhsusf","html_url":"https://github.com/dhsusf","followers_url":"https://api.github.com/users/dhsusf/followers","following_url":"https://api.github.com/users/dhsusf/following{/other_user}","gists_url":"https://api.github.com/users/dhsusf/gists{/gist_id}","starred_url":"https://api.github.com/users/dhsusf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhsusf/subscriptions","organizations_url":"https://api.github.com/users/dhsusf/orgs","repos_url":"https://api.github.com/users/dhsusf/repos","events_url":"https://api.github.com/users/dhsusf/events{/privacy}","received_events_url":"https://api.github.com/users/dhsusf/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-01-01T17:27:00Z","updated_at":"2022-01-18T19:32:52Z","closed_at":"2022-01-18T19:32:52Z","author_association":"NONE","active_lock_reason":null,"body":"When running:\r\n\r\npython3 '/content/drive/MyDrive/tft/script_train_fixed_params.py' $EXPT volatility $OUTPUT_FOLDER '/content/drive/MyDrive/tft/vol' $USE_GPU yes\r\n\r\nI get: \r\n\r\nComputing best validation loss\r\n7635/7635 [==============================] - 11s 1ms/sample - loss: 0.9657\r\nComputing test loss\r\nTraceback (most recent call last):\r\n  File \"/content/drive/MyDrive/tft/script_train_fixed_params.py\", line 238, in <module>\r\n    use_testing_mode=True)  # Change to false to use original default params\r\n  File \"/content/drive/MyDrive/tft/script_train_fixed_params.py\", line 155, in main\r\n    targets = data_formatter.format_predictions(output_map[\"targets\"])\r\n  File \"/content/drive/MyDrive/tft/data_formatters/volatility.py\", line 183, in format_predictions\r\n    output[col] = self._target_scaler.inverse_transform(predictions[col])\r\n  File \"/usr/local/lib/python3.7/dist-packages/sklearn/preprocessing/_data.py\", line 1022, in inverse_transform\r\n    force_all_finite=\"allow-nan\",\r\n  File \"/usr/local/lib/python3.7/dist-packages/sklearn/utils/validation.py\", line 765, in check_array\r\n    \"if it contains a single sample.\".format(array)\r\nValueError: Expected 2D array, got 1D array instead:\r\narray=[-1.43120418  1.58885804  0.28558148 ... -1.50945972 -0.16713021\r\n -0.57365613].\r\nReshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.","closed_by":{"login":"dhsusf","id":93278840,"node_id":"U_kgDOBY9SeA","avatar_url":"https://avatars.githubusercontent.com/u/93278840?v=4","gravatar_id":"","url":"https://api.github.com/users/dhsusf","html_url":"https://github.com/dhsusf","followers_url":"https://api.github.com/users/dhsusf/followers","following_url":"https://api.github.com/users/dhsusf/following{/other_user}","gists_url":"https://api.github.com/users/dhsusf/gists{/gist_id}","starred_url":"https://api.github.com/users/dhsusf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhsusf/subscriptions","organizations_url":"https://api.github.com/users/dhsusf/orgs","repos_url":"https://api.github.com/users/dhsusf/repos","events_url":"https://api.github.com/users/dhsusf/events{/privacy}","received_events_url":"https://api.github.com/users/dhsusf/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/933/timeline","performed_via_github_app":null,"state_reason":"completed"}