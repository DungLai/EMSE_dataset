{"url":"https://api.github.com/repos/google-research/google-research/issues/777","repository_url":"https://api.github.com/repos/google-research/google-research","labels_url":"https://api.github.com/repos/google-research/google-research/issues/777/labels{/name}","comments_url":"https://api.github.com/repos/google-research/google-research/issues/777/comments","events_url":"https://api.github.com/repos/google-research/google-research/issues/777/events","html_url":"https://github.com/google-research/google-research/issues/777","id":963842474,"node_id":"MDU6SXNzdWU5NjM4NDI0NzQ=","number":777,"title":"tf3d use my pointcloud data gives tensorflow.python.framework.errors_impl.InvalidArgumentError: Need minval < maxval, got 0 >= 0","user":{"login":"zhangyuyi99","id":57507104,"node_id":"MDQ6VXNlcjU3NTA3MTA0","avatar_url":"https://avatars.githubusercontent.com/u/57507104?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyuyi99","html_url":"https://github.com/zhangyuyi99","followers_url":"https://api.github.com/users/zhangyuyi99/followers","following_url":"https://api.github.com/users/zhangyuyi99/following{/other_user}","gists_url":"https://api.github.com/users/zhangyuyi99/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyuyi99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyuyi99/subscriptions","organizations_url":"https://api.github.com/users/zhangyuyi99/orgs","repos_url":"https://api.github.com/users/zhangyuyi99/repos","events_url":"https://api.github.com/users/zhangyuyi99/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyuyi99/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-08-09T10:12:16Z","updated_at":"2021-08-12T12:20:20Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I am trying to feed my point cloud data into the semantic segmentation sparseconvunet by modifying run_train_local.py and adding new siemens_spec.py, siemens_dataset_frame.py and siemens_train.gin. Waymo semantic segmentation can train smoothly but the siemens one is not working. \r\n\r\nI get stuck on this error: \r\n\r\n```\r\nI0809 09:53:35.545849 140474592175936 train.py:117] Model fit starting for 100 epochs, 10                                                                    0 step per epoch, total batch size:2\r\nI0809 09:53:36.200485 140474592175936 callback_utils.py:370] Saving ckpt for epoch: 0 at                                                                     /tmp/tf3d_experiment/seg_siemens_001/model\r\nEpoch 1/100\r\nTraceback (most recent call last):\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/runpy.py\", line 193, in _run_module_                                                                    as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/sdl/assem/users/yvu2cv/tf3d/train.py\", line 222, in <module>\r\n    app.run(main)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/absl/app.py\", line 303                                                                    , in run\r\n    _run_main(main, args)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/absl/app.py\", line 251                                                                    , in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/sdl/assem/users/yvu2cv/tf3d/train.py\", line 177, in main\r\n    train(strategy=strategy, write_path=write_path)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/gin/config.py\", line 1                                                                    069, in gin_wrapper\r\n    utils.augment_exception_message_and_reraise(e, err_str)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/gin/utils.py\", line 41                                                                    , in augment_exception_message_and_reraise\r\n    raise proxy.with_traceback(exception.__traceback__) from None\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/gin/config.py\", line 1                                                                    046, in gin_wrapper\r\n    return fn(*new_args, **new_kwargs)\r\n  File \"/sdl/assem/users/yvu2cv/tf3d/train.py\", line 124, in train\r\n    verbose=1 if FLAGS.run_functions_eagerly else 2)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/kera                                                                    s/engine/training.py\", line 108, in _method_wrapper\r\n    return method(self, *args, **kwargs)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/kera                                                                    s/engine/training.py\", line 1098, in fit\r\n    tmp_logs = train_function(iterator)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/kera                                                                    s/engine/training.py\", line 806, in train_function\r\n    return step_function(self, iterator)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/kera                                                                    s/engine/training.py\", line 795, in step_function\r\n    data = next(iterator)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/dist                                                                    ribute/input_lib.py\", line 649, in __next__\r\n    return self.get_next()\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/dist                                                                    ribute/input_lib.py\", line 694, in get_next\r\n    self._iterators[i].get_next_as_list_static_shapes(new_name))\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/dist                                                                    ribute/input_lib.py\", line 1474, in get_next_as_list_static_shapes\r\n    return self._iterator.get_next()\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/data                                                                    /ops/multi_device_iterator_ops.py\", line 581, in get_next\r\n    result.append(self._device_iterators[i].get_next())\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/data                                                                    /ops/iterator_ops.py\", line 825, in get_next\r\n    return self._next_internal()\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/data                                                                    /ops/iterator_ops.py\", line 764, in _next_internal\r\n    return structure.from_compatible_tensor_list(self._element_spec, ret)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/contextlib.py\", line 99, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/eage                                                                    r/context.py\", line 2105, in execution_mode\r\n    executor_new.wait()\r\n  File \"/u/yvu2cv/miniconda3/envs/tf3d/lib/python3.6/site-packages/tensorflow/python/eage                                                                    r/executor.py\", line 67, in wait\r\n    pywrap_tfe.TFE_ExecutorWaitForAllPendingNodes(self._handle)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Need minval < maxval, got 0                                                                     >= 0\r\n         [[{{node random_uniform}}]]\r\n         [[MultiDeviceIteratorGetNextFromShard]]\r\n         [[RemoteCall]]\r\n  In call to configurable 'train' (<function train at 0x7fc2c2df4048>)\r\n\r\n```\r\n\r\nDoes anyone have clue on what caused this? Any help will be appreciated! ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/google-research/issues/777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/google-research/issues/777/timeline","performed_via_github_app":null,"state_reason":null}