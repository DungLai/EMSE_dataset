{"url":"https://api.github.com/repos/zhaoyingjun/chatbot/issues/141","repository_url":"https://api.github.com/repos/zhaoyingjun/chatbot","labels_url":"https://api.github.com/repos/zhaoyingjun/chatbot/issues/141/labels{/name}","comments_url":"https://api.github.com/repos/zhaoyingjun/chatbot/issues/141/comments","events_url":"https://api.github.com/repos/zhaoyingjun/chatbot/issues/141/events","html_url":"https://github.com/zhaoyingjun/chatbot/issues/141","id":1321862987,"node_id":"I_kwDOBvSpzc5OygdL","number":141,"title":"运行app.py时如下报错，是什么原因呢","user":{"login":"sunyrain","id":89635780,"node_id":"MDQ6VXNlcjg5NjM1Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/89635780?v=4","gravatar_id":"","url":"https://api.github.com/users/sunyrain","html_url":"https://github.com/sunyrain","followers_url":"https://api.github.com/users/sunyrain/followers","following_url":"https://api.github.com/users/sunyrain/following{/other_user}","gists_url":"https://api.github.com/users/sunyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/sunyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunyrain/subscriptions","organizations_url":"https://api.github.com/users/sunyrain/orgs","repos_url":"https://api.github.com/users/sunyrain/repos","events_url":"https://api.github.com/users/sunyrain/events{/privacy}","received_events_url":"https://api.github.com/users/sunyrain/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-07-29T07:23:59Z","updated_at":"2022-07-31T09:11:12Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"`D:\\anaco\\python.exe D:/gitworks/chatbot-master/chatbot-master/Chatbot-tensowflow2.0/Seq2seqchatbot/web/app.py\r\n2022-07-29 15:20:47.633892: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'cudart64_110.dll'; dlerror: cudart64_110.dll not found\r\n2022-07-29 15:20:47.633993: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.\r\nWARNING:tensorflow:From D:\\gitworks\\chatbot-master\\chatbot-master\\Chatbot-tensowflow2.0\\Seq2seqchatbot\\seq2seqModel.py:4: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.config.run_functions_eagerly` instead of the experimental version.\r\n2022-07-29 15:20:49.307136: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'nvcuda.dll'; dlerror: nvcuda.dll not found\r\n2022-07-29 15:20:49.307255: W tensorflow/stream_executor/cuda/cuda_driver.cc:269] failed call to cuInit: UNKNOWN ERROR (303)\r\n2022-07-29 15:20:49.309705: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:169] retrieving CUDA diagnostic information for host: LAPTOP-UEUEEB6P\r\n2022-07-29 15:20:49.309823: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:176] hostname: LAPTOP-UEUEEB6P\r\n2022-07-29 15:20:49.310104: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX AVX2\r\nTo enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\nD:\\gitworks\\chatbot-master\\chatbot-master\\Chatbot-tensowflow2.0\\Seq2seqchatbot\\web/train_data\\seq.data\r\nD:\\gitworks\\chatbot-master\\chatbot-master\\Chatbot-tensowflow2.0\\Seq2seqchatbot/D:\\gitworks\\chatbot-master\\chatbot-master\\Chatbot-tensowflow2.0\\Seq2seqchatbot\\web/train_data\\seq.data\r\n * Serving Flask app \"app\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n * Running on all addresses.\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n * Running on http://192.168.2.155:8808/ (Press CTRL+C to quit)\r\n192.168.2.155 - - [29/Jul/2022 15:21:01] \"GET / HTTP/1.1\" 200 -\r\n192.168.2.155 - - [29/Jul/2022 15:21:01] \"GET /static/res/hd2.jpg HTTP/1.1\" 404 -\r\nBuilding prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\WENJIE~1\\AppData\\Local\\Temp\\jieba.cache\r\n2\r\nLoading model cost 0.477 seconds.\r\nPrefix dict has been built successfully.\r\nC:\\Users\\WENJIE_2021\\AppData\\Roaming\\Python\\Python39\\site-packages\\numpy\\core\\_asarray.py:83: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (which is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to do this, you must specify 'dtype=object' when creating the ndarray\r\n  return array(a, dtype, copy=False, order=order)\r\n[2022-07-29 15:21:05,122] ERROR in app: Exception on /message [POST]\r\nTypeError: int() argument must be a string, a bytes-like object or a number, not 'list'\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\anaco\\lib\\site-packages\\flask\\app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"D:\\anaco\\lib\\site-packages\\flask\\app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"D:\\anaco\\lib\\site-packages\\flask\\app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"D:\\anaco\\lib\\site-packages\\flask\\_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"D:\\anaco\\lib\\site-packages\\flask\\app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"D:\\anaco\\lib\\site-packages\\flask\\app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"D:\\gitworks\\chatbot-master\\chatbot-master\\Chatbot-tensowflow2.0\\Seq2seqchatbot\\web\\app.py\", line 44, in reply\r\n    res_msg = execute.predict(req_msg)\r\n  File \"D:\\gitworks\\chatbot-master\\chatbot-master\\Chatbot-tensowflow2.0\\Seq2seqchatbot\\execute.py\", line 117, in predict\r\n    inputs = tf.keras.preprocessing.sequence.pad_sequences([inputs],maxlen=max_length_inp,padding='post')\r\n  File \"C:\\Users\\WENJIE_2021\\AppData\\Roaming\\Python\\Python39\\site-packages\\keras\\preprocessing\\sequence.py\", line 152, in pad_sequences\r\n    return sequence.pad_sequences(\r\n  File \"C:\\Users\\WENJIE_2021\\AppData\\Roaming\\Python\\Python39\\site-packages\\keras_preprocessing\\sequence.py\", line 98, in pad_sequences\r\n    trunc = np.asarray(trunc, dtype=dtype)\r\n  File \"C:\\Users\\WENJIE_2021\\AppData\\Roaming\\Python\\Python39\\site-packages\\numpy\\core\\_asarray.py\", line 83, in asarray\r\n    return array(a, dtype, copy=False, order=order)\r\nValueError: setting an array element with a sequence.\r\n192.168.2.155 - - [29/Jul/2022 15:21:05] \"POST /message HTTP/1.1\" 500 -\r\n2022-07-29 15:21:59 - heartbeat`","closed_by":null,"reactions":{"url":"https://api.github.com/repos/zhaoyingjun/chatbot/issues/141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zhaoyingjun/chatbot/issues/141/timeline","performed_via_github_app":null,"state_reason":null}