{"url":"https://api.github.com/repos/theislab/diffxpy/issues/197","repository_url":"https://api.github.com/repos/theislab/diffxpy","labels_url":"https://api.github.com/repos/theislab/diffxpy/issues/197/labels{/name}","comments_url":"https://api.github.com/repos/theislab/diffxpy/issues/197/comments","events_url":"https://api.github.com/repos/theislab/diffxpy/issues/197/events","html_url":"https://github.com/theislab/diffxpy/issues/197","id":859830393,"node_id":"MDU6SXNzdWU4NTk4MzAzOTM=","number":197,"title":"Is there a way to \"constrain\" specific constraints to be similar?","user":{"login":"Hrovatin","id":47607471,"node_id":"MDQ6VXNlcjQ3NjA3NDcx","avatar_url":"https://avatars.githubusercontent.com/u/47607471?v=4","gravatar_id":"","url":"https://api.github.com/users/Hrovatin","html_url":"https://github.com/Hrovatin","followers_url":"https://api.github.com/users/Hrovatin/followers","following_url":"https://api.github.com/users/Hrovatin/following{/other_user}","gists_url":"https://api.github.com/users/Hrovatin/gists{/gist_id}","starred_url":"https://api.github.com/users/Hrovatin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hrovatin/subscriptions","organizations_url":"https://api.github.com/users/Hrovatin/orgs","repos_url":"https://api.github.com/users/Hrovatin/repos","events_url":"https://api.github.com/users/Hrovatin/events{/privacy}","received_events_url":"https://api.github.com/users/Hrovatin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-16T13:45:40Z","updated_at":"2021-04-16T16:05:55Z","closed_at":"2021-04-16T14:47:57Z","author_association":"NONE","active_lock_reason":null,"body":"I have the following problem:\r\nStudies (each composed of multiple samples):\r\n![image](https://user-images.githubusercontent.com/47607471/115030811-cc684c80-9ec7-11eb-8b2f-62970a5e9b14.png)\r\nContinuous process P:\r\n![image](https://user-images.githubusercontent.com/47607471/115030676-a5117f80-9ec7-11eb-86d6-fade49e5d70c.png)\r\nDistribution of P across samples.\r\n![image](https://user-images.githubusercontent.com/47607471/115030951-eefa6580-9ec7-11eb-9fab-1b157534d55f.png)\r\n\r\nIf I fit only ~1+P I get genes that may be expressed in only part of the studies in P higj/low region. Image of top downregulated genes sorting by lfc and then padj. All but the  2nd and 9th gene seem to be such examples.\r\n![image](https://user-images.githubusercontent.com/47607471/115032964-2cf88900-9eca-11eb-84a3-eb021d0e1cc6.png)\r\n\r\nAs studies/samples confound with P I can not use those simply as covariates. Thus I was thinking of binning P into lets say 10 bins and constraining studies within each bin. However, I will have cells from the same study in different bins. So if the same base level was used in each bin for constraints then the constraint coefficients for the same study across bins should be similar. Is there a way to enforce this?","closed_by":{"login":"Hrovatin","id":47607471,"node_id":"MDQ6VXNlcjQ3NjA3NDcx","avatar_url":"https://avatars.githubusercontent.com/u/47607471?v=4","gravatar_id":"","url":"https://api.github.com/users/Hrovatin","html_url":"https://github.com/Hrovatin","followers_url":"https://api.github.com/users/Hrovatin/followers","following_url":"https://api.github.com/users/Hrovatin/following{/other_user}","gists_url":"https://api.github.com/users/Hrovatin/gists{/gist_id}","starred_url":"https://api.github.com/users/Hrovatin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hrovatin/subscriptions","organizations_url":"https://api.github.com/users/Hrovatin/orgs","repos_url":"https://api.github.com/users/Hrovatin/repos","events_url":"https://api.github.com/users/Hrovatin/events{/privacy}","received_events_url":"https://api.github.com/users/Hrovatin/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/theislab/diffxpy/issues/197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/theislab/diffxpy/issues/197/timeline","performed_via_github_app":null,"state_reason":"completed"}