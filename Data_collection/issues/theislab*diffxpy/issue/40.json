{"url":"https://api.github.com/repos/theislab/diffxpy/issues/40","repository_url":"https://api.github.com/repos/theislab/diffxpy","labels_url":"https://api.github.com/repos/theislab/diffxpy/issues/40/labels{/name}","comments_url":"https://api.github.com/repos/theislab/diffxpy/issues/40/comments","events_url":"https://api.github.com/repos/theislab/diffxpy/issues/40/events","html_url":"https://github.com/theislab/diffxpy/issues/40","id":357118819,"node_id":"MDU6SXNzdWUzNTcxMTg4MTk=","number":40,"title":"wilcoxon exception all numbers are the same","user":{"login":"davidsebfischer","id":11200205,"node_id":"MDQ6VXNlcjExMjAwMjA1","avatar_url":"https://avatars.githubusercontent.com/u/11200205?v=4","gravatar_id":"","url":"https://api.github.com/users/davidsebfischer","html_url":"https://github.com/davidsebfischer","followers_url":"https://api.github.com/users/davidsebfischer/followers","following_url":"https://api.github.com/users/davidsebfischer/following{/other_user}","gists_url":"https://api.github.com/users/davidsebfischer/gists{/gist_id}","starred_url":"https://api.github.com/users/davidsebfischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidsebfischer/subscriptions","organizations_url":"https://api.github.com/users/davidsebfischer/orgs","repos_url":"https://api.github.com/users/davidsebfischer/repos","events_url":"https://api.github.com/users/davidsebfischer/events{/privacy}","received_events_url":"https://api.github.com/users/davidsebfischer/received_events","type":"User","site_admin":false},"labels":[{"id":981698115,"node_id":"MDU6TGFiZWw5ODE2OTgxMTU=","url":"https://api.github.com/repos/theislab/diffxpy/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"davidsebfischer","id":11200205,"node_id":"MDQ6VXNlcjExMjAwMjA1","avatar_url":"https://avatars.githubusercontent.com/u/11200205?v=4","gravatar_id":"","url":"https://api.github.com/users/davidsebfischer","html_url":"https://github.com/davidsebfischer","followers_url":"https://api.github.com/users/davidsebfischer/followers","following_url":"https://api.github.com/users/davidsebfischer/following{/other_user}","gists_url":"https://api.github.com/users/davidsebfischer/gists{/gist_id}","starred_url":"https://api.github.com/users/davidsebfischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidsebfischer/subscriptions","organizations_url":"https://api.github.com/users/davidsebfischer/orgs","repos_url":"https://api.github.com/users/davidsebfischer/repos","events_url":"https://api.github.com/users/davidsebfischer/events{/privacy}","received_events_url":"https://api.github.com/users/davidsebfischer/received_events","type":"User","site_admin":false},"assignees":[{"login":"davidsebfischer","id":11200205,"node_id":"MDQ6VXNlcjExMjAwMjA1","avatar_url":"https://avatars.githubusercontent.com/u/11200205?v=4","gravatar_id":"","url":"https://api.github.com/users/davidsebfischer","html_url":"https://github.com/davidsebfischer","followers_url":"https://api.github.com/users/davidsebfischer/followers","following_url":"https://api.github.com/users/davidsebfischer/following{/other_user}","gists_url":"https://api.github.com/users/davidsebfischer/gists{/gist_id}","starred_url":"https://api.github.com/users/davidsebfischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidsebfischer/subscriptions","organizations_url":"https://api.github.com/users/davidsebfischer/orgs","repos_url":"https://api.github.com/users/davidsebfischer/repos","events_url":"https://api.github.com/users/davidsebfischer/events{/privacy}","received_events_url":"https://api.github.com/users/davidsebfischer/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/theislab/diffxpy/milestones/4","html_url":"https://github.com/theislab/diffxpy/milestone/4","labels_url":"https://api.github.com/repos/theislab/diffxpy/milestones/4/labels","id":3557864,"node_id":"MDk6TWlsZXN0b25lMzU1Nzg2NA==","number":4,"title":"public_release","description":null,"creator":{"login":"davidsebfischer","id":11200205,"node_id":"MDQ6VXNlcjExMjAwMjA1","avatar_url":"https://avatars.githubusercontent.com/u/11200205?v=4","gravatar_id":"","url":"https://api.github.com/users/davidsebfischer","html_url":"https://github.com/davidsebfischer","followers_url":"https://api.github.com/users/davidsebfischer/followers","following_url":"https://api.github.com/users/davidsebfischer/following{/other_user}","gists_url":"https://api.github.com/users/davidsebfischer/gists{/gist_id}","starred_url":"https://api.github.com/users/davidsebfischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidsebfischer/subscriptions","organizations_url":"https://api.github.com/users/davidsebfischer/orgs","repos_url":"https://api.github.com/users/davidsebfischer/repos","events_url":"https://api.github.com/users/davidsebfischer/events{/privacy}","received_events_url":"https://api.github.com/users/davidsebfischer/received_events","type":"User","site_admin":false},"open_issues":1,"closed_issues":10,"state":"open","created_at":"2018-08-09T09:03:32Z","updated_at":"2019-08-25T19:04:57Z","due_on":null,"closed_at":null},"comments":2,"created_at":"2018-09-05T08:26:49Z","updated_at":"2019-08-25T19:04:57Z","closed_at":"2019-08-25T19:04:57Z","author_association":"MEMBER","active_lock_reason":null,"body":"Scipy throws an error in this case, this should be caught by the wrapper in the daughter of DifferentialExpressionTestSingle.\r\n\r\n`/opt/conda/lib/python3.6/site-packages/diffxpy/testing/base.py in pairwise(data, grouping, test, gene_names, sample_description, noise_model, pval_correction, batch_size, training_strategy, keep_full_test_objs, **kwargs)\r\n   1632                     batch_size=batch_size,\r\n   1633                     training_strategy=training_strategy,\r\n-> 1634                     **kwargs\r\n   1635                 )\r\n   1636                 pvals[i, j] = de_test_temp.pval\r\n\r\n/opt/conda/lib/python3.6/site-packages/diffxpy/testing/base.py in two_sample(data, grouping, test, gene_names, sample_description, noise_model, batch_size, training_strategy, **kwargs)\r\n   1461             data=X,\r\n   1462             gene_names=gene_names,\r\n-> 1463             grouping=grouping,\r\n   1464         )\r\n   1465     else:\r\n\r\n/opt/conda/lib/python3.6/site-packages/diffxpy/testing/base.py in wilcoxon(data, grouping, gene_names, sample_description)\r\n   1311         data=data,\r\n   1312         grouping=grouping,\r\n-> 1313         gene_ids=gene_names,\r\n   1314     )\r\n   1315 \r\n\r\n/opt/conda/lib/python3.6/site-packages/diffxpy/testing/base.py in __init__(self, data, grouping, gene_ids)\r\n    607         x0, x1 = _split_X(data, grouping)\r\n    608 \r\n--> 609         self._pval = stats.wilcoxon_test(x0=x0.data, x1=x1.data)\r\n    610         self._logfc = np.log(np.mean(x1, axis=0)) - np.log(np.mean(x0, axis=0)).data\r\n    611         q = self.qval\r\n\r\n/opt/conda/lib/python3.6/site-packages/diffxpy/stats/stats.py in wilcoxon_test(x0, x1)\r\n     69             y=x1[:, i].flatten(),\r\n     70             alternative='two-sided'\r\n---> 71         ).pvalue for i in range(x0.shape[1])\r\n     72     ])\r\n     73     return pvals\r\n\r\n/opt/conda/lib/python3.6/site-packages/diffxpy/stats/stats.py in <listcomp>(.0)\r\n     69             y=x1[:, i].flatten(),\r\n     70             alternative='two-sided'\r\n---> 71         ).pvalue for i in range(x0.shape[1])\r\n     72     ])\r\n     73     return pvals\r\n\r\n/opt/conda/lib/python3.6/site-packages/scipy/stats/stats.py in mannwhitneyu(x, y, use_continuity, alternative)\r\n   4895     T = tiecorrect(ranked)\r\n   4896     if T == 0:\r\n-> 4897         raise ValueError('All numbers are identical in mannwhitneyu')\r\n   4898     sd = np.sqrt(T * n1 * n2 * (n1+n2+1) / 12.0)\r\n   4899 \r\n\r\nValueError: All numbers are identical in mannwhitneyu`","closed_by":{"login":"davidsebfischer","id":11200205,"node_id":"MDQ6VXNlcjExMjAwMjA1","avatar_url":"https://avatars.githubusercontent.com/u/11200205?v=4","gravatar_id":"","url":"https://api.github.com/users/davidsebfischer","html_url":"https://github.com/davidsebfischer","followers_url":"https://api.github.com/users/davidsebfischer/followers","following_url":"https://api.github.com/users/davidsebfischer/following{/other_user}","gists_url":"https://api.github.com/users/davidsebfischer/gists{/gist_id}","starred_url":"https://api.github.com/users/davidsebfischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidsebfischer/subscriptions","organizations_url":"https://api.github.com/users/davidsebfischer/orgs","repos_url":"https://api.github.com/users/davidsebfischer/repos","events_url":"https://api.github.com/users/davidsebfischer/events{/privacy}","received_events_url":"https://api.github.com/users/davidsebfischer/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/theislab/diffxpy/issues/40/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/theislab/diffxpy/issues/40/timeline","performed_via_github_app":null,"state_reason":"completed"}