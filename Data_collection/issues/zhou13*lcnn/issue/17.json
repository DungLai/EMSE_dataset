{"url":"https://api.github.com/repos/zhou13/lcnn/issues/17","repository_url":"https://api.github.com/repos/zhou13/lcnn","labels_url":"https://api.github.com/repos/zhou13/lcnn/issues/17/labels{/name}","comments_url":"https://api.github.com/repos/zhou13/lcnn/issues/17/comments","events_url":"https://api.github.com/repos/zhou13/lcnn/issues/17/events","html_url":"https://github.com/zhou13/lcnn/issues/17","id":559656798,"node_id":"MDU6SXNzdWU1NTk2NTY3OTg=","number":17,"title":"Validation crashes with KeyError when training from scratch","user":{"login":"javierjsa","id":18498874,"node_id":"MDQ6VXNlcjE4NDk4ODc0","avatar_url":"https://avatars.githubusercontent.com/u/18498874?v=4","gravatar_id":"","url":"https://api.github.com/users/javierjsa","html_url":"https://github.com/javierjsa","followers_url":"https://api.github.com/users/javierjsa/followers","following_url":"https://api.github.com/users/javierjsa/following{/other_user}","gists_url":"https://api.github.com/users/javierjsa/gists{/gist_id}","starred_url":"https://api.github.com/users/javierjsa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javierjsa/subscriptions","organizations_url":"https://api.github.com/users/javierjsa/orgs","repos_url":"https://api.github.com/users/javierjsa/repos","events_url":"https://api.github.com/users/javierjsa/events{/privacy}","received_events_url":"https://api.github.com/users/javierjsa/received_events","type":"User","site_admin":false},"labels":[{"id":1352457997,"node_id":"MDU6TGFiZWwxMzUyNDU3OTk3","url":"https://api.github.com/repos/zhou13/lcnn/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-02-04T11:27:20Z","updated_at":"2020-02-06T00:02:11Z","closed_at":"2020-02-06T00:02:11Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\nI'm trying to train a model from scratch using the default configuration with the provided dataset. In other words, just trying to reproduce the training process before moving on to using my own dataset.\r\n\r\nTrains starts ok but crashes on validation:\r\n\r\n`Running validation...                                                                            Traceback (most recent call last):\r\n  File \"train.py\", line 182, in <module>\r\n    main()\r\n  File \"train.py\", line 174, in main\r\n    trainer.train()\r\n  File \"/home/jsaez/Repositorios/Otros/lcnn/lcnn/trainer.py\", line 290, in train\r\n    self.train_epoch()\r\n  File \"/home/jsaez/Repositorios/Otros/lcnn/lcnn/trainer.py\", line 202, in train_epoch\r\n    self.validate()\r\n  File \"/home/jsaez/Repositorios/Otros/lcnn/lcnn/trainer.py\", line 123, in validate\r\n    total_loss += self._loss(result)\r\n  File \"/home/jsaez/Repositorios/Otros/lcnn/lcnn/trainer.py\", line 70, in _loss\r\n    losses = result[\"losses\"]\r\nKeyError: 'losses'\r\n`\r\n\r\nThe only available keys in result are **feature** and **preds**\r\n\r\nHowever, this does not happen if I provide a checkpoint to resumen training from in wireframe.yaml (the provided trained model renamed as checkpoint_latest.pth.tar), as in this case 'losses' key exists. **Correction**: it also happens, but after several train/validation cycles.\r\n\r\nI am using a Python 3.6 pip environment in Ubuntu 16.04 with cuda 10.0. These are some the package versions I have installed:\r\ntorch==1.1.0\r\ntorchvision==0.3.0\r\nPyYAML==3.13\r\nscikit-image==0.16.2\r\ndocopt==0.6.2\r\nopencv-python==4.1.2.30\r\n\r\n**Update:** I've tried the same with a Conda environment, created following the instructions in the readme.md and got the same outcome","closed_by":{"login":"zhou13","id":576382,"node_id":"MDQ6VXNlcjU3NjM4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/576382?v=4","gravatar_id":"","url":"https://api.github.com/users/zhou13","html_url":"https://github.com/zhou13","followers_url":"https://api.github.com/users/zhou13/followers","following_url":"https://api.github.com/users/zhou13/following{/other_user}","gists_url":"https://api.github.com/users/zhou13/gists{/gist_id}","starred_url":"https://api.github.com/users/zhou13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhou13/subscriptions","organizations_url":"https://api.github.com/users/zhou13/orgs","repos_url":"https://api.github.com/users/zhou13/repos","events_url":"https://api.github.com/users/zhou13/events{/privacy}","received_events_url":"https://api.github.com/users/zhou13/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/zhou13/lcnn/issues/17/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zhou13/lcnn/issues/17/timeline","performed_via_github_app":null,"state_reason":"completed"}