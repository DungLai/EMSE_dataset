{"url":"https://api.github.com/repos/zhou13/lcnn/issues/8","repository_url":"https://api.github.com/repos/zhou13/lcnn","labels_url":"https://api.github.com/repos/zhou13/lcnn/issues/8/labels{/name}","comments_url":"https://api.github.com/repos/zhou13/lcnn/issues/8/comments","events_url":"https://api.github.com/repos/zhou13/lcnn/issues/8/events","html_url":"https://github.com/zhou13/lcnn/issues/8","id":508185740,"node_id":"MDU6SXNzdWU1MDgxODU3NDA=","number":8,"title":"Out of memory","user":{"login":"zhangfuyang","id":26685632,"node_id":"MDQ6VXNlcjI2Njg1NjMy","avatar_url":"https://avatars.githubusercontent.com/u/26685632?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangfuyang","html_url":"https://github.com/zhangfuyang","followers_url":"https://api.github.com/users/zhangfuyang/followers","following_url":"https://api.github.com/users/zhangfuyang/following{/other_user}","gists_url":"https://api.github.com/users/zhangfuyang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangfuyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangfuyang/subscriptions","organizations_url":"https://api.github.com/users/zhangfuyang/orgs","repos_url":"https://api.github.com/users/zhangfuyang/repos","events_url":"https://api.github.com/users/zhangfuyang/events{/privacy}","received_events_url":"https://api.github.com/users/zhangfuyang/received_events","type":"User","site_admin":false},"labels":[{"id":1352457997,"node_id":"MDU6TGFiZWwxMzUyNDU3OTk3","url":"https://api.github.com/repos/zhou13/lcnn/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-10-17T01:52:56Z","updated_at":"2019-10-24T07:49:34Z","closed_at":"2019-10-24T07:49:33Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nI am trying to reproduce the result. I am using the same gpu as the paper said (1080 ti, with 11G memory). \r\nWhen I run the train.py, everything is fine at beginning, but once run into validate method in trainer.py, there will be out of memory error after few running steps. It looks like some data isn't released and memory keep growing. I change batch size to 4 still meet  this problem.\r\n\r\nThe only thing I modified is in line 197, line_vectorizer.py. Change 'c = torch.zeros_like(label)' -> 'c = torch.zeros_like(label).bool()', because it keeps printing the warning: indexing with dtype torch.uint8 is now deprecated, please use a dtype torch.bool instead.\r\n\r\nCould you please help me check out the problem? Also, could you please tell me what's version of pytorch as well as other packages you are using? Even though I don't think it is caused by torch version, but I feel it would be better if I can run the code in the total same environment.\r\n\r\nThank you!","closed_by":{"login":"zhou13","id":576382,"node_id":"MDQ6VXNlcjU3NjM4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/576382?v=4","gravatar_id":"","url":"https://api.github.com/users/zhou13","html_url":"https://github.com/zhou13","followers_url":"https://api.github.com/users/zhou13/followers","following_url":"https://api.github.com/users/zhou13/following{/other_user}","gists_url":"https://api.github.com/users/zhou13/gists{/gist_id}","starred_url":"https://api.github.com/users/zhou13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhou13/subscriptions","organizations_url":"https://api.github.com/users/zhou13/orgs","repos_url":"https://api.github.com/users/zhou13/repos","events_url":"https://api.github.com/users/zhou13/events{/privacy}","received_events_url":"https://api.github.com/users/zhou13/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/zhou13/lcnn/issues/8/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zhou13/lcnn/issues/8/timeline","performed_via_github_app":null,"state_reason":"completed"}