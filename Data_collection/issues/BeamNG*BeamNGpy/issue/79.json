{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/79","repository_url":"https://api.github.com/repos/BeamNG/BeamNGpy","labels_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/79/labels{/name}","comments_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/79/comments","events_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/79/events","html_url":"https://github.com/BeamNG/BeamNGpy/issues/79","id":724383494,"node_id":"MDU6SXNzdWU3MjQzODM0OTQ=","number":79,"title":"Linux Support","user":{"login":"Seiwert","id":4229602,"node_id":"MDQ6VXNlcjQyMjk2MDI=","avatar_url":"https://avatars.githubusercontent.com/u/4229602?v=4","gravatar_id":"","url":"https://api.github.com/users/Seiwert","html_url":"https://github.com/Seiwert","followers_url":"https://api.github.com/users/Seiwert/followers","following_url":"https://api.github.com/users/Seiwert/following{/other_user}","gists_url":"https://api.github.com/users/Seiwert/gists{/gist_id}","starred_url":"https://api.github.com/users/Seiwert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seiwert/subscriptions","organizations_url":"https://api.github.com/users/Seiwert/orgs","repos_url":"https://api.github.com/users/Seiwert/repos","events_url":"https://api.github.com/users/Seiwert/events{/privacy}","received_events_url":"https://api.github.com/users/Seiwert/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false},"assignees":[{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2020-10-19T08:11:20Z","updated_at":"2021-02-09T06:32:57Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### TL;DR: Any possible conversion for mmap sensor declarations to work on Unix?\r\n\r\nFeel free to immediately close or delete this ticket as it's more of an inquiry and less of an issue.\r\n\r\nTo start things off, I've been looking into the possibility of running BeamNG/BeamNG Research in Linux/Ubuntu vs Windows (a lot more tools available for additional development in Linux vs. Windows). The setup for all this research is a Ubuntu 18.04 machine. My initial investigation led me to looking into running BeamNG with Steam utilizing Proton. This work fabulously and the game ran immediately out of the box. Going off of this, I attempted to run BeamNG Research with Proton as well utilizing Steam's ability to run non Steam games. This did not work so well and I abandoned this and just went straight to using Wine. Wine was able to run the research edition fine with only a few missing UI elements but the performance was good a no other issues noted. \r\n\r\nKnowing this, I went on to making some small modifications to BeamNGpy to support Wine usage. I got that straightened out but I've ran into a problem that is leaving me rather stumped. Looking through the code, I see that shared allocated memory with _mmap_ is used to share sensor data between the game engine and Python (e.g. https://github.com/BeamNG/BeamNGpy/blob/master/src/beamngpy/sensors.py#L439)\r\n\r\nNow, this is totally fine and makes perfect sense, however, there is a key issue being the [difference in how Window's handles mmap](https://docs.python.org/3.7/library/mmap.html). Given this and not really having any insight into how the memory scheme is being handled from engine to Python (minus what appears to be the use of tagname usage - not available in unix) , I did a pretty big stupid and just assigned an anonymous map. _**Shockingly**_ I got an access error when the sensor polling cycle came up. However, as you can see in the attached screenshot, it seems all other elements are in working order (note: not all textures had loaded in before first polling cycle so ignore that):\r\n![image](https://user-images.githubusercontent.com/4229602/96418006-60728900-11af-11eb-8c0b-14abdde182cb.png)\r\n\r\nSo I guess my underlying question is there any possible conversion path to get these mmap declarations working with Unix compatibility or is that too big of an ask on the game engine side?\r\n\r\nThanks!\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/79/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/79/timeline","performed_via_github_app":null,"state_reason":null}