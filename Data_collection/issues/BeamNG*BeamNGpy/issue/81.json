{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/81","repository_url":"https://api.github.com/repos/BeamNG/BeamNGpy","labels_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/81/labels{/name}","comments_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/81/comments","events_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/81/events","html_url":"https://github.com/BeamNG/BeamNGpy/issues/81","id":730752856,"node_id":"MDU6SXNzdWU3MzA3NTI4NTY=","number":81,"title":"Error with ai_set_line method","user":{"login":"masskro0","id":49821640,"node_id":"MDQ6VXNlcjQ5ODIxNjQw","avatar_url":"https://avatars.githubusercontent.com/u/49821640?v=4","gravatar_id":"","url":"https://api.github.com/users/masskro0","html_url":"https://github.com/masskro0","followers_url":"https://api.github.com/users/masskro0/followers","following_url":"https://api.github.com/users/masskro0/following{/other_user}","gists_url":"https://api.github.com/users/masskro0/gists{/gist_id}","starred_url":"https://api.github.com/users/masskro0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masskro0/subscriptions","organizations_url":"https://api.github.com/users/masskro0/orgs","repos_url":"https://api.github.com/users/masskro0/repos","events_url":"https://api.github.com/users/masskro0/events{/privacy}","received_events_url":"https://api.github.com/users/masskro0/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-27T19:32:34Z","updated_at":"2020-12-09T08:44:58Z","closed_at":"2020-12-09T08:44:58Z","author_association":"NONE","active_lock_reason":null,"body":"Calling the method vehicle.ai_set_line() method gives me the following error:\r\n016.108|E|libbeamng.Lua.Exception|lua/vehicle/ai.lua:1179: attempt to get length of upvalue 'wpList' (a nil value)\r\n016.110|E|libbeamng.Lua.Exception|=============== Stack Traceback >> START >>\r\n016.110|E|libbeamng.Lua.Exception|(1) metamethod C function '__len'\r\n016.111|E|libbeamng.Lua.Exception|(2) Lua upvalue 'validateInput' at file 'lua/vehicle/ai.lua:1179'\r\n016.111|E|libbeamng.Lua.Exception|  Local variables:\r\n016.112|E|libbeamng.Lua.Exception|  (*temporary) = nil\r\n016.113|E|libbeamng.Lua.Exception|  (*temporary) = number: -0.05\r\n016.113|E|libbeamng.Lua.Exception|  (*temporary) = number: 0.05\r\n016.114|E|libbeamng.Lua.Exception|  (*temporary) = number: -1.23305e-05\r\n016.114|E|libbeamng.Lua.Exception|  (*temporary) = number: 0.865996\r\n016.115|E|libbeamng.Lua.Exception|  (*temporary) = number: -0.500051\r\n016.115|E|libbeamng.Lua.Exception|  (*temporary) = number: -1.23305e-05\r\n016.116|E|libbeamng.Lua.Exception|  (*temporary) = number: 9.2762e-312\r\n016.117|E|libbeamng.Lua.Exception|  (*temporary) = C function: builtin#163\r\n016.117|E|libbeamng.Lua.Exception|  (*temporary) = number: 4.44659e-322\r\n016.118|E|libbeamng.Lua.Exception|  (*temporary) = string: \"attempt to get length of upvalue 'wpList' (a nil value)\"\r\n016.118|E|libbeamng.Lua.Exception|(3) Lua field 'updateGFX' at file 'lua/vehicle/ai.lua:1529'\r\n016.119|E|libbeamng.Lua.Exception|  Local variables:\r\n016.119|E|libbeamng.Lua.Exception|  dtGFX = number: 0.05\r\n016.120|E|libbeamng.Lua.Exception|  tmpPos = userdata: 0x01b52e726ae8\r\n016.120|E|libbeamng.Lua.Exception|(4) Lua function 'onGraphicsStep' at file 'lua/vehicle/main.lua:78' (best guess)\r\n016.121|E|libbeamng.Lua.Exception|  Local variables:\r\n016.122|E|libbeamng.Lua.Exception|  dtSim = number: 0.05\r\n016.122|E|libbeamng.Lua.Exception|--------------- << END <<\r\n016.123|E|libbeamng.Lua.Exception|******************************************\r\n016.123|E|libbeamng.Lua.Exception|*** DISABLING VEHICLE DUE TO EXCEPTION ***\r\n016.124|E|libbeamng.Lua.Exception|******************************************\r\n\r\nI tried both calling from Lua and Python, both result in the same error. I'm using beamngpy 1.18 with the newest BeamNG.research version (1.7.0.0). However, this function worked fine with beamngpy 1.15 and BeamNG.research version (1.5.0.0).","closed_by":{"login":"pascale-commits","id":69152944,"node_id":"MDQ6VXNlcjY5MTUyOTQ0","avatar_url":"https://avatars.githubusercontent.com/u/69152944?v=4","gravatar_id":"","url":"https://api.github.com/users/pascale-commits","html_url":"https://github.com/pascale-commits","followers_url":"https://api.github.com/users/pascale-commits/followers","following_url":"https://api.github.com/users/pascale-commits/following{/other_user}","gists_url":"https://api.github.com/users/pascale-commits/gists{/gist_id}","starred_url":"https://api.github.com/users/pascale-commits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pascale-commits/subscriptions","organizations_url":"https://api.github.com/users/pascale-commits/orgs","repos_url":"https://api.github.com/users/pascale-commits/repos","events_url":"https://api.github.com/users/pascale-commits/events{/privacy}","received_events_url":"https://api.github.com/users/pascale-commits/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/81/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/81/timeline","performed_via_github_app":null,"state_reason":"completed"}