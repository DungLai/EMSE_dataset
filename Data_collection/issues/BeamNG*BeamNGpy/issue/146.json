{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/146","repository_url":"https://api.github.com/repos/BeamNG/BeamNGpy","labels_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/146/labels{/name}","comments_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/146/comments","events_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/146/events","html_url":"https://github.com/BeamNG/BeamNGpy/issues/146","id":984194023,"node_id":"MDU6SXNzdWU5ODQxOTQwMjM=","number":146,"title":"Running Multiple BeamNG Instances on the same computer","user":{"login":"hildebrandt-carl","id":26097148,"node_id":"MDQ6VXNlcjI2MDk3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/26097148?v=4","gravatar_id":"","url":"https://api.github.com/users/hildebrandt-carl","html_url":"https://github.com/hildebrandt-carl","followers_url":"https://api.github.com/users/hildebrandt-carl/followers","following_url":"https://api.github.com/users/hildebrandt-carl/following{/other_user}","gists_url":"https://api.github.com/users/hildebrandt-carl/gists{/gist_id}","starred_url":"https://api.github.com/users/hildebrandt-carl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hildebrandt-carl/subscriptions","organizations_url":"https://api.github.com/users/hildebrandt-carl/orgs","repos_url":"https://api.github.com/users/hildebrandt-carl/repos","events_url":"https://api.github.com/users/hildebrandt-carl/events{/privacy}","received_events_url":"https://api.github.com/users/hildebrandt-carl/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-08-31T19:01:13Z","updated_at":"2021-12-31T14:59:00Z","closed_at":"2021-12-31T14:53:00Z","author_association":"NONE","active_lock_reason":null,"body":"Hi I am currently using BeamNGpy `1.17.0` with BeamNGtech `1.7.0.1`.\r\n\r\nI was wondering if it possible to run two different instances of BeamNG at the same time. I wrote a script that uses BeamNG's chase function to drive a vehicle down the road, while also spawning a random amount of traffic vehicles.  When you launch BeamNGpy one of the parameters is `port` which I pass in on the command line argument.\r\n\r\nHowever if I try and run two different instances of BeamNG using:\r\nTerminal 1:\r\n```\r\npython .\\run_multi.py --port_number 30000 --number_traffic_vehicles 3\r\n```\r\nTerminal 2:\r\n```\r\npython .\\run_multi.py --port_number 40000 --number_traffic_vehicles 4\r\n```\r\n\r\nGenerally one of the simulations crash. I have it that sometimes it works and both simulations are able to run at the same time. I think I have two ideas as to why this could be happening. First when I launch the code I notice that regardless of the port number there is always a INFO line that says:\r\n```\r\n...\r\n2021-08-31 14:44:44,779 INFO     Started BeamNGpy server on localhost:30000\r\n2021-08-31 14:44:44,779 DEBUG    Starting BeamNG process...\r\n2021-08-31 14:44:52,393 DEBUG    Connection established. Awaiting \"hello\"...\r\n2021-08-31 14:44:52,394 INFO     Started BeamNGpy communicating on ('127.0.0.1', 57022)\r\n2021-08-31 14:45:08,255 DEBUG    Starting vehicle server for V:ego_vehicle on: localhost:30001\r\n...\r\n```\r\n\r\nYou will notice that it starts communication on port `57022` this number changes each run and I cant seem to figure out where it comes from. \r\n\r\nThen other times, I get an error shown below:\r\n```\r\n2021-08-31 14:18:20,673 WARNING  sys:1: ResourceWarning: unclosed <socket.socket fd=1464, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 30000), raddr=('127.0.0.1', 59211)>\r\n```\r\n\r\nInterestingly you can again see this `raddr` that I am not sure where its coming from. I  have attached my code below so that this can be easily replicated. \r\n\r\nMy question is: Is it possible to run two instances of BeamNG at the same time? If so how do I set it such that BeamNG's response ports do not clash?\r\n\r\n[run_multi.zip](https://github.com/BeamNG/BeamNGpy/files/7086208/run_multi.zip)\r\n\r\n\r\n\r\n","closed_by":{"login":"hildebrandt-carl","id":26097148,"node_id":"MDQ6VXNlcjI2MDk3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/26097148?v=4","gravatar_id":"","url":"https://api.github.com/users/hildebrandt-carl","html_url":"https://github.com/hildebrandt-carl","followers_url":"https://api.github.com/users/hildebrandt-carl/followers","following_url":"https://api.github.com/users/hildebrandt-carl/following{/other_user}","gists_url":"https://api.github.com/users/hildebrandt-carl/gists{/gist_id}","starred_url":"https://api.github.com/users/hildebrandt-carl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hildebrandt-carl/subscriptions","organizations_url":"https://api.github.com/users/hildebrandt-carl/orgs","repos_url":"https://api.github.com/users/hildebrandt-carl/repos","events_url":"https://api.github.com/users/hildebrandt-carl/events{/privacy}","received_events_url":"https://api.github.com/users/hildebrandt-carl/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/146/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/146/timeline","performed_via_github_app":null,"state_reason":"completed"}