[{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/1149576175","html_url":"https://github.com/BeamNG/BeamNGpy/issues/169#issuecomment-1149576175","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/169","id":1149576175,"node_id":"IC_kwDOCEke6s5EhSPv","user":{"login":"dstark481","id":94687751,"node_id":"U_kgDOBaTSBw","avatar_url":"https://avatars.githubusercontent.com/u/94687751?v=4","gravatar_id":"","url":"https://api.github.com/users/dstark481","html_url":"https://github.com/dstark481","followers_url":"https://api.github.com/users/dstark481/followers","following_url":"https://api.github.com/users/dstark481/following{/other_user}","gists_url":"https://api.github.com/users/dstark481/gists{/gist_id}","starred_url":"https://api.github.com/users/dstark481/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstark481/subscriptions","organizations_url":"https://api.github.com/users/dstark481/orgs","repos_url":"https://api.github.com/users/dstark481/repos","events_url":"https://api.github.com/users/dstark481/events{/privacy}","received_events_url":"https://api.github.com/users/dstark481/received_events","type":"User","site_admin":false},"created_at":"2022-06-08T07:44:01Z","updated_at":"2022-06-08T07:44:01Z","author_association":"COLLABORATOR","body":"Hi Mayuresh,\n\nThanks for your email. It appears to be a mix-up on our end.  You are using a future version of BeamNGPy that has been pushed to the github repo a little too early.  Our release is scheduled for next week, so we should have waited to push this until that time.  The sensors in this version of beamngpy (in master) is not compatible with the 0.24 version of BeamNG.tech.\n\nWe have reverted the github master back, so please now reclone the repo and try again with the existing python scripts which are there.  That specific script you reference 'lidar_point_cloud_data.py' is only relevant for the upcoming version, so it will not be available until then.  We apologise for the mistake.\n\nBest regards,\nBeamNG Tech team.  \n\n----- Original Message -----\nFrom: \"Mayuresh Bhosale\" ***@***.***>\nTo: \"BeamNG/BeamNGpy\" ***@***.***>\nCc: \"Subscribed\" ***@***.***>\nSent: Monday, 6 June, 2022 22:02:59\nSubject: [BeamNG/BeamNGpy] LIDAR access error (Issue #169)\n\nHi\n\nWhenever I try to open BeamNG and a scenario it does not have any problem and when I try to run LIDAR visualization or the example code lidar_point_cloud_data.py it opens BeamNG but throws following error. Can someone provide a solution to it.\n\n<img width=\"701\" alt=\"image\" src=\"https://user-images.githubusercontent.com/99101076/172248676-9fd976b5-0ac2-46c0-91b2-7dc77ad4aeed.png\">\n\n\n-- \nReply to this email directly or view it on GitHub:\nhttps://github.com/BeamNG/BeamNGpy/issues/169\nYou are receiving this because you are subscribed to this thread.\n\nMessage ID: ***@***.***>\n","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/1149576175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dstark481","id":94687751,"node_id":"U_kgDOBaTSBw","avatar_url":"https://avatars.githubusercontent.com/u/94687751?v=4","gravatar_id":"","url":"https://api.github.com/users/dstark481","html_url":"https://github.com/dstark481","followers_url":"https://api.github.com/users/dstark481/followers","following_url":"https://api.github.com/users/dstark481/following{/other_user}","gists_url":"https://api.github.com/users/dstark481/gists{/gist_id}","starred_url":"https://api.github.com/users/dstark481/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstark481/subscriptions","organizations_url":"https://api.github.com/users/dstark481/orgs","repos_url":"https://api.github.com/users/dstark481/repos","events_url":"https://api.github.com/users/dstark481/events{/privacy}","received_events_url":"https://api.github.com/users/dstark481/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/1151370291","html_url":"https://github.com/BeamNG/BeamNGpy/issues/169#issuecomment-1151370291","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/169","id":1151370291,"node_id":"IC_kwDOCEke6s5EoIQz","user":{"login":"mayureshb7","id":99101076,"node_id":"U_kgDOBegplA","avatar_url":"https://avatars.githubusercontent.com/u/99101076?v=4","gravatar_id":"","url":"https://api.github.com/users/mayureshb7","html_url":"https://github.com/mayureshb7","followers_url":"https://api.github.com/users/mayureshb7/followers","following_url":"https://api.github.com/users/mayureshb7/following{/other_user}","gists_url":"https://api.github.com/users/mayureshb7/gists{/gist_id}","starred_url":"https://api.github.com/users/mayureshb7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayureshb7/subscriptions","organizations_url":"https://api.github.com/users/mayureshb7/orgs","repos_url":"https://api.github.com/users/mayureshb7/repos","events_url":"https://api.github.com/users/mayureshb7/events{/privacy}","received_events_url":"https://api.github.com/users/mayureshb7/received_events","type":"User","site_admin":false},"created_at":"2022-06-09T16:53:31Z","updated_at":"2022-06-09T16:56:38Z","author_association":"NONE","body":"Hi Team,\r\n\r\nThank you for your response. I have cloned the latest version of BeamNGPY, and I can access LIDAR data now.\r\nHowever, I would like to understand how the data is represented in terms of World coordinates and Ego vehicle coordinates. \r\nI'm trying to create an obstacle avoidance course by object detection in an off-road environment map of BeamNG. Do you have any suggestions that I should be working on to successfully implement the algorithm for the same?\r\n\r\nAlso as per the below-mentioned image, when I print self.vehicle.state data I get direction, rotation, position, front, up, and velocity of the vehicle. I would like to know what dir, rotation, front, and up represents.\r\n\r\n<img width=\"995\" alt=\"image\" src=\"https://user-images.githubusercontent.com/99101076/172901326-ffd74a66-c1c3-42a4-b717-569667768116.png\">\r\n\r\nWarm Regards,\r\nMayuresh Bhosale","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/1151370291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mayureshb7","id":99101076,"node_id":"U_kgDOBegplA","avatar_url":"https://avatars.githubusercontent.com/u/99101076?v=4","gravatar_id":"","url":"https://api.github.com/users/mayureshb7","html_url":"https://github.com/mayureshb7","followers_url":"https://api.github.com/users/mayureshb7/followers","following_url":"https://api.github.com/users/mayureshb7/following{/other_user}","gists_url":"https://api.github.com/users/mayureshb7/gists{/gist_id}","starred_url":"https://api.github.com/users/mayureshb7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayureshb7/subscriptions","organizations_url":"https://api.github.com/users/mayureshb7/orgs","repos_url":"https://api.github.com/users/mayureshb7/repos","events_url":"https://api.github.com/users/mayureshb7/events{/privacy}","received_events_url":"https://api.github.com/users/mayureshb7/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/1151701172","html_url":"https://github.com/BeamNG/BeamNGpy/issues/169#issuecomment-1151701172","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/169","id":1151701172,"node_id":"IC_kwDOCEke6s5EpZC0","user":{"login":"dstark481","id":94687751,"node_id":"U_kgDOBaTSBw","avatar_url":"https://avatars.githubusercontent.com/u/94687751?v=4","gravatar_id":"","url":"https://api.github.com/users/dstark481","html_url":"https://github.com/dstark481","followers_url":"https://api.github.com/users/dstark481/followers","following_url":"https://api.github.com/users/dstark481/following{/other_user}","gists_url":"https://api.github.com/users/dstark481/gists{/gist_id}","starred_url":"https://api.github.com/users/dstark481/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstark481/subscriptions","organizations_url":"https://api.github.com/users/dstark481/orgs","repos_url":"https://api.github.com/users/dstark481/repos","events_url":"https://api.github.com/users/dstark481/events{/privacy}","received_events_url":"https://api.github.com/users/dstark481/received_events","type":"User","site_admin":false},"created_at":"2022-06-09T23:10:18Z","updated_at":"2022-06-09T23:10:18Z","author_association":"COLLABORATOR","body":"Hi Mayuresh,\n\nThanks for your query.  We are glad our LiDAR sensor is working for you now.  \n\nIn order to help answer your first query, there are two spaces which must be considered: \n1. The 'world space', which contains all of the map geometry. This is a standard (x, y, z) space in metres, with z being elevation. This space has an origin point (0, 0, 0) somewhere on the map. The LiDAR point data which you are able to see exists in this space.\n2. There is also 'vehicle space'. This is similar to the world space, but is used as a reference space for the vehicle to which it relates. This means the origin will be in the vehicle rather than at a fixed point on the map. This is a more useful space to describe any vehicle-related properties, since it is local to a specific vehicle. \n\nThe only difference between this space and world space is in its linear translation; that is to say that the rotation of any vector in this space is the same as it is in the world space.  \nTo go from vehicle space to world space, for example, we can fetch the vehicle position and add this to any vehicle point, and we will get the world space position of that vehicle point.  One can also go from world space to vehicle space by subtracting instead. Note that we do not need a transformation matrix to go between the two spaces - a vector is sufficient.\n\nRegarding the vehicle state properties:\n'dir' is a 3D vector which describes the direction of the vehicle (in which direction the vehicle faces forward).\n'up' is a generalised 'upwards' vector for the vehicle, typically you could imagine an arrow pointing straight up from the vehicle centre. Note however that this is not necessarily orthogonal (at right angles) to the forward direction, and can change in relation to the forward direction if the vehicle becomes deformed.\n'rotation' is actually a quaternion (hence why it contains 4 values). This describes the rotation of the vehicle in 3D space. This could be converted to a matrix or Euler angles, if required. We use quaternions internally for performance and efficiency reasons.\n'front' is the position coordinate of the front of the vehicle in world space.\n\nObject detection can be very complicated problem.  We ourselves are not experts in this area, although we do offer useful simulation tools to help people who research it. Like most simulation problems, there are simple, heuristic approaches and complicated ones (usually based on mathematical theory) and/or involving AI and sensor fusion techniques. Research in this area is still very active, from what I can see. \nI can try and offer some basic suggestions for you to get started, but this is simply what I myself might try if I wanted to solve a simple object detection problem.\n\n1. Firstly, the LiDAR is a good choice of sensor for obstacle detection because it gives you not only the distance of objects but also their direction. You can work this out by computing the vectors from the vehicle to the point, for example.\nI would suggest that you first get a feel for the sensor(s) that you want to use i.e. maybe try computing distances and directions to nearest objects. In real world problems, a major benefit of LiDAR is that it works in any light condition (eg night time) and in most weather conditions, whereas a camera would be limited here due to lack of visibility.\n\n2. The next step might be to do something similar with the road/path you have set up, inside which the vehicle must remain. You might want to think about ways you can check for bounds, so that when the vehicle approaches them, you will know when to stop or slow down appropriately.  More modern methods might use computer vision techniques such as edge detection algorithms to detect eg road lane markings (using camera sensor images).  \nFor this, you might find some of our Python example scripts useful. 'access_road_network.ipynb' shows how road data can be accessed from BeamNG.tech and plotted. The scripts 'road_definition.py' and even 'object_placement.ipynb' may also be of use.\n\n3. The third step might be to think about rules which you would want your model to have. For example, as a starting point: if your vehicle approaches a wall, what should it do? Maybe you will want it to turn 90 degrees left then try heading in that direction.  This could get as complicated and efficient as you like. A simple general approach might be to turn the car clockwise by some prescribed angle every time it encounters a surface to its front. A more complicated approach might involve predicting further into the future and measuring in multiple directions, so as to find an optimal direction in which to turn at a given time. I recommend you find literature on the subject online and spend some time reading about approaches that other researchers have tried before, then maybe to take some notes on which approaches you find interesting to study. You can think about the properties of a model which interest you, and look at their test results to see how they perform.\n\nPlease also be aware that BeamNGPy is a work in progress, and we are constantly adding new features to this interface. We are planning on releasing an update very soon, but it should not affect any of your existing Python code. If it does, it will be minimal. You may also wish to have a look at some of the code we have in Lua, which is where Python gets its data from.\n\nWe hope this information helps you with your project, and we wish you success with it.  If you have any further queries in future about the software, we are here to help.\n\nBest regards,\nDave Stark,\nSenior Research Software Engineer,\nBeamNG.Tech\n\n\n----- Original Message -----\nFrom: \"Mayuresh Bhosale\" ***@***.***>\nTo: \"BeamNG/BeamNGpy\" ***@***.***>\nCc: \"Dave Stark\" ***@***.***>, \"Comment\" ***@***.***>\nSent: Thursday, 9 June, 2022 17:53:42\nSubject: Re: [BeamNG/BeamNGpy] LIDAR access error (Issue #169)\n\nHi Team,\n\nThank you for your response. I have cloned the latest version of BeamNGPY, and I can access LIDAR data now.\nHowever, I would like to understand how the data is represented in terms of World coordinates and Ego vehicle coordinates. \nI'm trying to create an obstacle avoidance course by object detection in an off-road environment map or BeamNG. Do you have any suggestions that I should be working on to successfully implement the algorithm for the same.\n\nAlso as per below mentioned image, when I print self.vehicle.state data I get direction, rotation, position, front, up and velocity of the vehicle. I would like to know what dir, rotation, front and up represents.\n\n<img width=\"995\" alt=\"image\" src=\"https://user-images.githubusercontent.com/99101076/172901326-ffd74a66-c1c3-42a4-b717-569667768116.png\">\n\nWarm Regards,\nMayuresh Bhosale\n\n-- \nReply to this email directly or view it on GitHub:\nhttps://github.com/BeamNG/BeamNGpy/issues/169#issuecomment-1151370291\nYou are receiving this because you commented.\n\nMessage ID: ***@***.***>\n","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/1151701172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dstark481","id":94687751,"node_id":"U_kgDOBaTSBw","avatar_url":"https://avatars.githubusercontent.com/u/94687751?v=4","gravatar_id":"","url":"https://api.github.com/users/dstark481","html_url":"https://github.com/dstark481","followers_url":"https://api.github.com/users/dstark481/followers","following_url":"https://api.github.com/users/dstark481/following{/other_user}","gists_url":"https://api.github.com/users/dstark481/gists{/gist_id}","starred_url":"https://api.github.com/users/dstark481/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstark481/subscriptions","organizations_url":"https://api.github.com/users/dstark481/orgs","repos_url":"https://api.github.com/users/dstark481/repos","events_url":"https://api.github.com/users/dstark481/events{/privacy}","received_events_url":"https://api.github.com/users/dstark481/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/1160714050","html_url":"https://github.com/BeamNG/BeamNGpy/issues/169#issuecomment-1160714050","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/169","id":1160714050,"node_id":"IC_kwDOCEke6s5FLxdC","user":{"login":"mayureshb7","id":99101076,"node_id":"U_kgDOBegplA","avatar_url":"https://avatars.githubusercontent.com/u/99101076?v=4","gravatar_id":"","url":"https://api.github.com/users/mayureshb7","html_url":"https://github.com/mayureshb7","followers_url":"https://api.github.com/users/mayureshb7/followers","following_url":"https://api.github.com/users/mayureshb7/following{/other_user}","gists_url":"https://api.github.com/users/mayureshb7/gists{/gist_id}","starred_url":"https://api.github.com/users/mayureshb7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayureshb7/subscriptions","organizations_url":"https://api.github.com/users/mayureshb7/orgs","repos_url":"https://api.github.com/users/mayureshb7/repos","events_url":"https://api.github.com/users/mayureshb7/events{/privacy}","received_events_url":"https://api.github.com/users/mayureshb7/received_events","type":"User","site_admin":false},"created_at":"2022-06-20T18:00:28Z","updated_at":"2022-06-20T18:00:28Z","author_association":"NONE","body":"Hi Dave,\r\n\r\nI apologize for the late response; I appreciate your feedback and great explanation and will incorporate some excellent points you have suggested to me in the simulation/project.\r\nNow I know the software and interface better to implement my work. For the obstacle avoidance course, I will look into how I can successfully use all the sensors at my disposal.\r\n\r\nWarm Regards,\r\nMayuresh Bhosale\r\n","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/1160714050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mayureshb7","id":99101076,"node_id":"U_kgDOBegplA","avatar_url":"https://avatars.githubusercontent.com/u/99101076?v=4","gravatar_id":"","url":"https://api.github.com/users/mayureshb7","html_url":"https://github.com/mayureshb7","followers_url":"https://api.github.com/users/mayureshb7/followers","following_url":"https://api.github.com/users/mayureshb7/following{/other_user}","gists_url":"https://api.github.com/users/mayureshb7/gists{/gist_id}","starred_url":"https://api.github.com/users/mayureshb7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayureshb7/subscriptions","organizations_url":"https://api.github.com/users/mayureshb7/orgs","repos_url":"https://api.github.com/users/mayureshb7/repos","events_url":"https://api.github.com/users/mayureshb7/events{/privacy}","received_events_url":"https://api.github.com/users/mayureshb7/received_events","type":"User","site_admin":false}},{"id":6844777158,"node_id":"CE_lADOCEke6s5LPv-SzwAAAAGX-wLG","url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/events/6844777158","actor":{"login":"aivora-beamng","id":93574498,"node_id":"U_kgDOBZPVYg","avatar_url":"https://avatars.githubusercontent.com/u/93574498?v=4","gravatar_id":"","url":"https://api.github.com/users/aivora-beamng","html_url":"https://github.com/aivora-beamng","followers_url":"https://api.github.com/users/aivora-beamng/followers","following_url":"https://api.github.com/users/aivora-beamng/following{/other_user}","gists_url":"https://api.github.com/users/aivora-beamng/gists{/gist_id}","starred_url":"https://api.github.com/users/aivora-beamng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aivora-beamng/subscriptions","organizations_url":"https://api.github.com/users/aivora-beamng/orgs","repos_url":"https://api.github.com/users/aivora-beamng/repos","events_url":"https://api.github.com/users/aivora-beamng/events{/privacy}","received_events_url":"https://api.github.com/users/aivora-beamng/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-06-21T07:23:51Z","state_reason":null,"performed_via_github_app":null}]