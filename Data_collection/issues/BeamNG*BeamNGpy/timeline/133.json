[{"id":5036817872,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ1MDM2ODE3ODcy","url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/events/5036817872","actor":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2021-07-19T08:00:17Z","assignee":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/882392341","html_url":"https://github.com/BeamNG/BeamNGpy/issues/133#issuecomment-882392341","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/133","id":882392341,"node_id":"IC_kwDOCEke6s40mD0V","user":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false},"created_at":"2021-07-19T09:20:57Z","updated_at":"2021-07-19T09:20:57Z","author_association":"CONTRIBUTOR","body":"Hello! I tried a similar setup where I connected to BeamNG.tech from an Ubuntu VM after launching it on the Windows host system. If I run the code exactly as you pasted it, I can recreate the issue, but it seems to boil down to the basic fact that there is no code after the `bng.open` and `bng.hello` calls. Are the code examples you listed complete? If I add a simple `input(\"Press Enter when done...\")` to the end of those snippets, the Ubuntu client stays connected to my Windows host.\r\n\r\nOn another note: The `bng.hello` call is unnecessary as it is done upon connection.","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/882392341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/883046509","html_url":"https://github.com/BeamNG/BeamNGpy/issues/133#issuecomment-883046509","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/133","id":883046509,"node_id":"IC_kwDOCEke6s40ojht","user":{"login":"beunguk","id":3955650,"node_id":"MDQ6VXNlcjM5NTU2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/3955650?v=4","gravatar_id":"","url":"https://api.github.com/users/beunguk","html_url":"https://github.com/beunguk","followers_url":"https://api.github.com/users/beunguk/followers","following_url":"https://api.github.com/users/beunguk/following{/other_user}","gists_url":"https://api.github.com/users/beunguk/gists{/gist_id}","starred_url":"https://api.github.com/users/beunguk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beunguk/subscriptions","organizations_url":"https://api.github.com/users/beunguk/orgs","repos_url":"https://api.github.com/users/beunguk/repos","events_url":"https://api.github.com/users/beunguk/events{/privacy}","received_events_url":"https://api.github.com/users/beunguk/received_events","type":"User","site_admin":false},"created_at":"2021-07-20T04:38:45Z","updated_at":"2021-07-20T04:38:45Z","author_association":"NONE","body":"Maybe socket disconnection is not recognized until it really sends data.\r\n\r\nWhen I run https://github.com/BeamNG/BeamNGpy/blob/master/examples/ai_line.py from this repository with some modification (changing IP, making launch option to False, etc). It still doesn't work, but on Windows machine it works well... Simply ticking like `while True: bng.step(60)` also cause the same issue.","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/883046509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"beunguk","id":3955650,"node_id":"MDQ6VXNlcjM5NTU2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/3955650?v=4","gravatar_id":"","url":"https://api.github.com/users/beunguk","html_url":"https://github.com/beunguk","followers_url":"https://api.github.com/users/beunguk/followers","following_url":"https://api.github.com/users/beunguk/following{/other_user}","gists_url":"https://api.github.com/users/beunguk/gists{/gist_id}","starred_url":"https://api.github.com/users/beunguk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beunguk/subscriptions","organizations_url":"https://api.github.com/users/beunguk/orgs","repos_url":"https://api.github.com/users/beunguk/repos","events_url":"https://api.github.com/users/beunguk/events{/privacy}","received_events_url":"https://api.github.com/users/beunguk/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/884128343","html_url":"https://github.com/BeamNG/BeamNGpy/issues/133#issuecomment-884128343","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/133","id":884128343,"node_id":"IC_kwDOCEke6s40srpX","user":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false},"created_at":"2021-07-21T11:48:53Z","updated_at":"2021-07-21T11:48:53Z","author_association":"CONTRIBUTOR","body":"Using a separate laptop running Linux and connecting to my Windows machine let's me replicate the issue. I don't have a fix or idea as to why it's happening yet, but at least I can reproduce it. Will let you know when I find out more.","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/884128343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/892432624","html_url":"https://github.com/BeamNG/BeamNGpy/issues/133#issuecomment-892432624","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/133","id":892432624,"node_id":"IC_kwDOCEke6s41MXDw","user":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false},"created_at":"2021-08-04T07:29:56Z","updated_at":"2021-08-04T07:29:56Z","author_association":"CONTRIBUTOR","body":"Hey, sorry for the delay, but I pushed a fix to the `networkFix` branch that, at least for me, fixes the issue. I can run the `ai_line.py` example just fine with a similar setup you described using my own laptop running Linux and BeamNG.tech running on my Windows PC. Please clone that branch and use that version of the library to confirm the fix:\r\nhttps://github.com/BeamNG/BeamNGpy/tree/networkFix","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/892432624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Palculator","id":37553150,"node_id":"MDQ6VXNlcjM3NTUzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/37553150?v=4","gravatar_id":"","url":"https://api.github.com/users/Palculator","html_url":"https://github.com/Palculator","followers_url":"https://api.github.com/users/Palculator/followers","following_url":"https://api.github.com/users/Palculator/following{/other_user}","gists_url":"https://api.github.com/users/Palculator/gists{/gist_id}","starred_url":"https://api.github.com/users/Palculator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Palculator/subscriptions","organizations_url":"https://api.github.com/users/Palculator/orgs","repos_url":"https://api.github.com/users/Palculator/repos","events_url":"https://api.github.com/users/Palculator/events{/privacy}","received_events_url":"https://api.github.com/users/Palculator/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/894993583","html_url":"https://github.com/BeamNG/BeamNGpy/issues/133#issuecomment-894993583","issue_url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/133","id":894993583,"node_id":"IC_kwDOCEke6s41WISv","user":{"login":"beunguk","id":3955650,"node_id":"MDQ6VXNlcjM5NTU2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/3955650?v=4","gravatar_id":"","url":"https://api.github.com/users/beunguk","html_url":"https://github.com/beunguk","followers_url":"https://api.github.com/users/beunguk/followers","following_url":"https://api.github.com/users/beunguk/following{/other_user}","gists_url":"https://api.github.com/users/beunguk/gists{/gist_id}","starred_url":"https://api.github.com/users/beunguk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beunguk/subscriptions","organizations_url":"https://api.github.com/users/beunguk/orgs","repos_url":"https://api.github.com/users/beunguk/repos","events_url":"https://api.github.com/users/beunguk/events{/privacy}","received_events_url":"https://api.github.com/users/beunguk/received_events","type":"User","site_admin":false},"created_at":"2021-08-09T06:52:08Z","updated_at":"2021-08-09T06:52:26Z","author_association":"NONE","body":"Thank you for the work, but when I tried with networkFix branch, I am still having the same problem.\r\n\r\nFollowing logs is what I get from Linux when I run `ai_line.py`.\r\n```\r\n[1] % python ai_line.py                                                                                                                                                       ~/workspace/BeamNG\r\n2021-08-09 15:40:28,324 INFO     Started BeamNGpy logging.\r\n2021-08-09 15:40:28,324 INFO     Opening BeamNGpy instance...\r\n2021-08-09 15:40:28,324 INFO     Connecting to BeamNG.tech at: (172.20.0.129, 64256)\r\n2021-08-09 15:40:28,325 INFO     Sent data!\r\n2021-08-09 15:40:28,869 INFO     Connected!\r\n2021-08-09 15:40:29,044 ERROR    Uncaught exception: \r\nTraceback (most recent call last):\r\n  File \"ai_line.py\", line 76, in <module>\r\n    main()\r\n  File \"ai_line.py\", line 28, in main\r\n    scenario.make(bng)\r\n  File \"/home/{user home}/.local/lib/python3.6/site-packages/beamngpy/scenario.py\", line 733, in make\r\n    self.path = bng.create_scenario(level_name, self.name, prefab, info)\r\n  File \"/home/{user home}/.local/lib/python3.6/site-packages/beamngpy/beamng.py\", line 1959, in create_scenario\r\n    level=level, name=name, prefab=prefab, info=info)\r\n  File \"/home/{user home}/.local/lib/python3.6/site-packages/beamngpy/beamng.py\", line 373, in message\r\n    resp = self.recv()\r\n  File \"/home/{user home}/.local/lib/python3.6/site-packages/beamngpy/beamng.py\", line 553, in recv\r\n    return recv_msg(self.skt)\r\n  File \"/home/{user home}/.local/lib/python3.6/site-packages/beamngpy/beamngcommon.py\", line 173, in recv_msg\r\n    length = skt.recv(16)\r\nConnectionResetError: [Errno 104] Connection reset by peer\r\n2021-08-09 15:40:29,080 WARNING  sys:1: ResourceWarning: unclosed <socket.socket fd=3, family=AddressFamily.AF_INET, type=2049, proto=0, laddr=('172.20.0.28', 37686)>\r\n```\r\nor sometimes hang for a while after `2021-08-09 15:40:28,869 INFO     Connected!`, and got the same log output.\r\nAnd I got this msg from Windows console.\r\n```\r\n001.592|I|BEAMNGCEF::CefManager::init|using CEF with software rasterizer\r\n001.618|I|GELua.core_audio.onFirstUpdate|onFirstUpdate called....\r\n003.465|E|BEAMNGCEF::BNGCefClient::OnResourceResponse|MainGEUI | local://local/ui/modules/mainmenu2/mainmenu2.js | response: 404 - ERROR\r\n003.468|E|BEAMNGCEF::BNGCefClient::OnResourceResponse|MainGEUI | local://local/ui/modules/mainmenu2/mainmenu2.css | response: 404 - ERROR\r\n003.542|E|BEAMNGCEF::BNGCefClient::OnResourceResponse|MainGEUI | local://local/ui/modules/mainmenu2/mainmenu2.js | response: 404 - ERROR\r\n003.558|E|BEAMNGCEF::BNGCefClient::OnResourceResponse|MainGEUI | local://local/ui/modules/mainmenu2/mainmenu2.css | response: 404 - ERROR\r\n010.597|I|GELua.util_researchGE.ResearchGE|Accepted new client: 127.0.0.1/64256\r\n014.598|I|GELua.util_researchGE.ResearchGE|Accepted new client: 172.20.0.129/64256\r\n014.625|E|GELua.ResearchCom|Error reading from socket: timeout\r\n014.626|E|GELua.ResearchCom|Error reading from socket: tcp{client}: 00000230B8AD6510 - timeout\r\n```\r\n---\r\n\r\nWhat I did is the following:\r\n1. First, I launch BeanNG.tech with the following.\r\n```python\r\ndef main():\r\n    setup_logging()\r\n    beamng = BeamNGpy('localhost', 64256)\r\n    bng = beamng.open(launch=True)\r\n    input(\"Press something\")\r\nif __name__ == '__main__':\r\n    main()\r\n```\r\n2.  And run `ai_line.py` in Linux machine with following changes.\r\n```python\r\n   15 def main():\r\n   16     setup_logging()\r\n   17 \r\n   18     beamng = BeamNGpy('172.20.0.129', 64256, remote=True)\r\n   19     bng = beamng.open(launch=False, deploy=False)\r\n   20 \r\n   21     scenario = Scenario('west_coast_usa', 'ai_sine')\r\n...\r\n```\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/BeamNG/BeamNGpy/issues/comments/894993583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"beunguk","id":3955650,"node_id":"MDQ6VXNlcjM5NTU2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/3955650?v=4","gravatar_id":"","url":"https://api.github.com/users/beunguk","html_url":"https://github.com/beunguk","followers_url":"https://api.github.com/users/beunguk/followers","following_url":"https://api.github.com/users/beunguk/following{/other_user}","gists_url":"https://api.github.com/users/beunguk/gists{/gist_id}","starred_url":"https://api.github.com/users/beunguk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beunguk/subscriptions","organizations_url":"https://api.github.com/users/beunguk/orgs","repos_url":"https://api.github.com/users/beunguk/repos","events_url":"https://api.github.com/users/beunguk/events{/privacy}","received_events_url":"https://api.github.com/users/beunguk/received_events","type":"User","site_admin":false}}]