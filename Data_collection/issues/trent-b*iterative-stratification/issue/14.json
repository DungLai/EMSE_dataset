{"url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/14","repository_url":"https://api.github.com/repos/trent-b/iterative-stratification","labels_url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/14/comments","events_url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/14/events","html_url":"https://github.com/trent-b/iterative-stratification/issues/14","id":838372607,"node_id":"MDU6SXNzdWU4MzgzNzI2MDc=","number":14,"title":"Different percentage of samples for each label after using MultilabelStratifiedKFold","user":{"login":"Lance0218","id":32698709,"node_id":"MDQ6VXNlcjMyNjk4NzA5","avatar_url":"https://avatars.githubusercontent.com/u/32698709?v=4","gravatar_id":"","url":"https://api.github.com/users/Lance0218","html_url":"https://github.com/Lance0218","followers_url":"https://api.github.com/users/Lance0218/followers","following_url":"https://api.github.com/users/Lance0218/following{/other_user}","gists_url":"https://api.github.com/users/Lance0218/gists{/gist_id}","starred_url":"https://api.github.com/users/Lance0218/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lance0218/subscriptions","organizations_url":"https://api.github.com/users/Lance0218/orgs","repos_url":"https://api.github.com/users/Lance0218/repos","events_url":"https://api.github.com/users/Lance0218/events{/privacy}","received_events_url":"https://api.github.com/users/Lance0218/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-23T05:47:22Z","updated_at":"2021-04-01T10:21:23Z","closed_at":"2021-04-01T10:21:23Z","author_association":"NONE","active_lock_reason":null,"body":"Hi trent-b:\r\n\r\nThanks for this nice repository, hope you can reply these questions below:\r\n```\r\ndef multi2single_labels(y):\r\n    d = {}\r\n    for yy in y:\r\n        d[str(yy)] = d.get(str(yy), 0) + 1\r\n    return d\r\nyy = np.array([[0,0,0,0]]*318+[[1,0,0,0]]*264+[[0,0,1,0]]*58+[[0,1,0,1]]*51+\\\r\n              [[1,0,0,1]]*81+[[0,1,0,0]]*151+[[0,1,1,0]]*33+[[0,0,1,1]]*27+\\\r\n              [[0,0,0,1]]*54+[[0,1,1,1]]*21+[[1,1,0,0]]*11+[[1,1,0,1]]*7+[[1,0,1,0]]*2)\r\nxx = np.zeros((yy.shape[0],))\r\nkfold = MultilabelStratifiedKFold(n_splits=2, random_state=42, shuffle=True)\r\nfor idx_fold, (idx_train, idx_valid) in enumerate(kfold.split(xx, yy)):\r\n    print(f'Now in {idx_fold}th fold')\r\n    y_valid = yy[idx_valid]\r\n    d_y = multi2single_labels(y_valid)\r\n    print(f'labels of y: {d_y}')\r\n```\r\n\r\nUsing the code (simplest 2 fold) above will get result:\r\nNow in 0th fold\r\nlabels of y: {**'[0 0 0 0]': 155**, **'[1 0 0 0]': 136**, '[0 0 1 0]': 28, '[0 1 0 1]': 25, '[1 0 0 1]': 37, '[0 1 0 0]': 76, '[0 1 1 0]': 18, '[0 0 1 1]': 15, '[0 0 0 1]': 31, '[0 1 1 1]': 9, '[1 1 0 0]': 5, '[1 1 0 1]': 4}\r\nNow in 1th fold\r\nlabels of y: {**'[0 0 0 0]': 163**, **'[1 0 0 0]': 128**, '[0 0 1 0]': 30, '[0 1 0 1]': 26, '[1 0 0 1]': 44, '[0 1 0 0]': 75, '[0 1 1 0]': 15, '[0 0 1 1]': 12, '[0 0 0 1]': 23, '[0 1 1 1]': 12, '[1 1 0 0]': 6, '[1 1 0 1]': 3, **'[1 0 1 0]': 2**}\r\nQ1: Why is '[1 0 1 0]' not be 1 in both two fold but all in 1th fold?\r\nQ2: Why is number of some label so differ in each fold? (e.g.'[0 0 0 0]', '[1 0 0 0]')\r\n\r\nThanks!","closed_by":{"login":"Lance0218","id":32698709,"node_id":"MDQ6VXNlcjMyNjk4NzA5","avatar_url":"https://avatars.githubusercontent.com/u/32698709?v=4","gravatar_id":"","url":"https://api.github.com/users/Lance0218","html_url":"https://github.com/Lance0218","followers_url":"https://api.github.com/users/Lance0218/followers","following_url":"https://api.github.com/users/Lance0218/following{/other_user}","gists_url":"https://api.github.com/users/Lance0218/gists{/gist_id}","starred_url":"https://api.github.com/users/Lance0218/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lance0218/subscriptions","organizations_url":"https://api.github.com/users/Lance0218/orgs","repos_url":"https://api.github.com/users/Lance0218/repos","events_url":"https://api.github.com/users/Lance0218/events{/privacy}","received_events_url":"https://api.github.com/users/Lance0218/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/14/timeline","performed_via_github_app":null,"state_reason":"completed"}