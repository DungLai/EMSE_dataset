[{"url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/comments/475890769","html_url":"https://github.com/trent-b/iterative-stratification/issues/6#issuecomment-475890769","issue_url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/6","id":475890769,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTg5MDc2OQ==","user":{"login":"trent-b","id":34728837,"node_id":"MDQ6VXNlcjM0NzI4ODM3","avatar_url":"https://avatars.githubusercontent.com/u/34728837?v=4","gravatar_id":"","url":"https://api.github.com/users/trent-b","html_url":"https://github.com/trent-b","followers_url":"https://api.github.com/users/trent-b/followers","following_url":"https://api.github.com/users/trent-b/following{/other_user}","gists_url":"https://api.github.com/users/trent-b/gists{/gist_id}","starred_url":"https://api.github.com/users/trent-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trent-b/subscriptions","organizations_url":"https://api.github.com/users/trent-b/orgs","repos_url":"https://api.github.com/users/trent-b/repos","events_url":"https://api.github.com/users/trent-b/events{/privacy}","received_events_url":"https://api.github.com/users/trent-b/received_events","type":"User","site_admin":false},"created_at":"2019-03-23T17:53:56Z","updated_at":"2019-03-23T17:54:36Z","author_association":"OWNER","body":"@miguelwon I can reproduce the problem you are seeing. Thank you for the code to do so. If you use a `test_size` > 0.2, it will work fine (8 and 9 will be split). Even a `test_size` of 0.2001 will work. I'm looking into why this is to see if I can fix it.","reactions":{"url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/comments/475890769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trent-b","id":34728837,"node_id":"MDQ6VXNlcjM0NzI4ODM3","avatar_url":"https://avatars.githubusercontent.com/u/34728837?v=4","gravatar_id":"","url":"https://api.github.com/users/trent-b","html_url":"https://github.com/trent-b","followers_url":"https://api.github.com/users/trent-b/followers","following_url":"https://api.github.com/users/trent-b/following{/other_user}","gists_url":"https://api.github.com/users/trent-b/gists{/gist_id}","starred_url":"https://api.github.com/users/trent-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trent-b/subscriptions","organizations_url":"https://api.github.com/users/trent-b/orgs","repos_url":"https://api.github.com/users/trent-b/repos","events_url":"https://api.github.com/users/trent-b/events{/privacy}","received_events_url":"https://api.github.com/users/trent-b/received_events","type":"User","site_admin":false}},{"id":2224466229,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIyNDQ2NjIyOQ==","url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/events/2224466229","actor":{"login":"miguelwon","id":7373193,"node_id":"MDQ6VXNlcjczNzMxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7373193?v=4","gravatar_id":"","url":"https://api.github.com/users/miguelwon","html_url":"https://github.com/miguelwon","followers_url":"https://api.github.com/users/miguelwon/followers","following_url":"https://api.github.com/users/miguelwon/following{/other_user}","gists_url":"https://api.github.com/users/miguelwon/gists{/gist_id}","starred_url":"https://api.github.com/users/miguelwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguelwon/subscriptions","organizations_url":"https://api.github.com/users/miguelwon/orgs","repos_url":"https://api.github.com/users/miguelwon/repos","events_url":"https://api.github.com/users/miguelwon/events{/privacy}","received_events_url":"https://api.github.com/users/miguelwon/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-23T17:53:56Z","performed_via_github_app":null},{"id":2224466230,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMjQ0NjYyMzA=","url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/events/2224466230","actor":{"login":"miguelwon","id":7373193,"node_id":"MDQ6VXNlcjczNzMxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7373193?v=4","gravatar_id":"","url":"https://api.github.com/users/miguelwon","html_url":"https://github.com/miguelwon","followers_url":"https://api.github.com/users/miguelwon/followers","following_url":"https://api.github.com/users/miguelwon/following{/other_user}","gists_url":"https://api.github.com/users/miguelwon/gists{/gist_id}","starred_url":"https://api.github.com/users/miguelwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguelwon/subscriptions","organizations_url":"https://api.github.com/users/miguelwon/orgs","repos_url":"https://api.github.com/users/miguelwon/repos","events_url":"https://api.github.com/users/miguelwon/events{/privacy}","received_events_url":"https://api.github.com/users/miguelwon/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-23T17:53:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/comments/475993573","html_url":"https://github.com/trent-b/iterative-stratification/issues/6#issuecomment-475993573","issue_url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/6","id":475993573,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTk5MzU3Mw==","user":{"login":"trent-b","id":34728837,"node_id":"MDQ6VXNlcjM0NzI4ODM3","avatar_url":"https://avatars.githubusercontent.com/u/34728837?v=4","gravatar_id":"","url":"https://api.github.com/users/trent-b","html_url":"https://github.com/trent-b","followers_url":"https://api.github.com/users/trent-b/followers","following_url":"https://api.github.com/users/trent-b/following{/other_user}","gists_url":"https://api.github.com/users/trent-b/gists{/gist_id}","starred_url":"https://api.github.com/users/trent-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trent-b/subscriptions","organizations_url":"https://api.github.com/users/trent-b/orgs","repos_url":"https://api.github.com/users/trent-b/repos","events_url":"https://api.github.com/users/trent-b/events{/privacy}","received_events_url":"https://api.github.com/users/trent-b/received_events","type":"User","site_admin":false},"created_at":"2019-03-24T19:53:25Z","updated_at":"2019-03-24T19:56:36Z","author_association":"OWNER","body":"@miguelwon I have looked into the issue that you reported. Unfortunately, for the example you provided, there is not a way to guarantee at least one class in each set within the iterative stratification algorithm. The algorithm tries to preserve _distributions_ between folds. This means that the train fold should have 0.8 * 2 = 1.6 samples for the rightmost label in X, and the test fold should have 0.2 * 2 = 0.4 samples for the rightmost label in X. This attempt to preserve even _distributions_ is obviously not going to allow the guarantee of very rare cases to be evenly split across folds.\r\n\r\nTrying to add code for special cases like this within the algorithm ends up being a hack and creates a risk that the algorithm may malfunction for non-edge cases. For very rare cases, I think you may have to write some code to set those cases aside and them evenly split them across folds after the iterative stratification algorithm is run.","reactions":{"url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/comments/475993573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trent-b","id":34728837,"node_id":"MDQ6VXNlcjM0NzI4ODM3","avatar_url":"https://avatars.githubusercontent.com/u/34728837?v=4","gravatar_id":"","url":"https://api.github.com/users/trent-b","html_url":"https://github.com/trent-b","followers_url":"https://api.github.com/users/trent-b/followers","following_url":"https://api.github.com/users/trent-b/following{/other_user}","gists_url":"https://api.github.com/users/trent-b/gists{/gist_id}","starred_url":"https://api.github.com/users/trent-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trent-b/subscriptions","organizations_url":"https://api.github.com/users/trent-b/orgs","repos_url":"https://api.github.com/users/trent-b/repos","events_url":"https://api.github.com/users/trent-b/events{/privacy}","received_events_url":"https://api.github.com/users/trent-b/received_events","type":"User","site_admin":false}},{"id":2225042367,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIyNTA0MjM2Nw==","url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/events/2225042367","actor":{"login":"miguelwon","id":7373193,"node_id":"MDQ6VXNlcjczNzMxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7373193?v=4","gravatar_id":"","url":"https://api.github.com/users/miguelwon","html_url":"https://github.com/miguelwon","followers_url":"https://api.github.com/users/miguelwon/followers","following_url":"https://api.github.com/users/miguelwon/following{/other_user}","gists_url":"https://api.github.com/users/miguelwon/gists{/gist_id}","starred_url":"https://api.github.com/users/miguelwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguelwon/subscriptions","organizations_url":"https://api.github.com/users/miguelwon/orgs","repos_url":"https://api.github.com/users/miguelwon/repos","events_url":"https://api.github.com/users/miguelwon/events{/privacy}","received_events_url":"https://api.github.com/users/miguelwon/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-24T19:53:25Z","performed_via_github_app":null},{"id":2225042368,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMjUwNDIzNjg=","url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/events/2225042368","actor":{"login":"miguelwon","id":7373193,"node_id":"MDQ6VXNlcjczNzMxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7373193?v=4","gravatar_id":"","url":"https://api.github.com/users/miguelwon","html_url":"https://github.com/miguelwon","followers_url":"https://api.github.com/users/miguelwon/followers","following_url":"https://api.github.com/users/miguelwon/following{/other_user}","gists_url":"https://api.github.com/users/miguelwon/gists{/gist_id}","starred_url":"https://api.github.com/users/miguelwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguelwon/subscriptions","organizations_url":"https://api.github.com/users/miguelwon/orgs","repos_url":"https://api.github.com/users/miguelwon/repos","events_url":"https://api.github.com/users/miguelwon/events{/privacy}","received_events_url":"https://api.github.com/users/miguelwon/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-24T19:53:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/comments/476224916","html_url":"https://github.com/trent-b/iterative-stratification/issues/6#issuecomment-476224916","issue_url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/6","id":476224916,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjIyNDkxNg==","user":{"login":"miguelwon","id":7373193,"node_id":"MDQ6VXNlcjczNzMxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7373193?v=4","gravatar_id":"","url":"https://api.github.com/users/miguelwon","html_url":"https://github.com/miguelwon","followers_url":"https://api.github.com/users/miguelwon/followers","following_url":"https://api.github.com/users/miguelwon/following{/other_user}","gists_url":"https://api.github.com/users/miguelwon/gists{/gist_id}","starred_url":"https://api.github.com/users/miguelwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguelwon/subscriptions","organizations_url":"https://api.github.com/users/miguelwon/orgs","repos_url":"https://api.github.com/users/miguelwon/repos","events_url":"https://api.github.com/users/miguelwon/events{/privacy}","received_events_url":"https://api.github.com/users/miguelwon/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T14:37:22Z","updated_at":"2019-03-25T14:37:22Z","author_association":"NONE","body":"Ok, thanks for the support @trent-b.  Meanwhile, it turn out to be ok. The example I showed you was just an extreme case example I tried but when execute it with my real data, it was able to guarantee a minimum number of classes in each fold. Btw, I'm using your module because scikit-multilearn reproduce this same of problem with the same dataset. ","reactions":{"url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/comments/476224916/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"miguelwon","id":7373193,"node_id":"MDQ6VXNlcjczNzMxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7373193?v=4","gravatar_id":"","url":"https://api.github.com/users/miguelwon","html_url":"https://github.com/miguelwon","followers_url":"https://api.github.com/users/miguelwon/followers","following_url":"https://api.github.com/users/miguelwon/following{/other_user}","gists_url":"https://api.github.com/users/miguelwon/gists{/gist_id}","starred_url":"https://api.github.com/users/miguelwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguelwon/subscriptions","organizations_url":"https://api.github.com/users/miguelwon/orgs","repos_url":"https://api.github.com/users/miguelwon/repos","events_url":"https://api.github.com/users/miguelwon/events{/privacy}","received_events_url":"https://api.github.com/users/miguelwon/received_events","type":"User","site_admin":false}},{"id":2226746839,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIyNjc0NjgzOQ==","url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/events/2226746839","actor":{"login":"trent-b","id":34728837,"node_id":"MDQ6VXNlcjM0NzI4ODM3","avatar_url":"https://avatars.githubusercontent.com/u/34728837?v=4","gravatar_id":"","url":"https://api.github.com/users/trent-b","html_url":"https://github.com/trent-b","followers_url":"https://api.github.com/users/trent-b/followers","following_url":"https://api.github.com/users/trent-b/following{/other_user}","gists_url":"https://api.github.com/users/trent-b/gists{/gist_id}","starred_url":"https://api.github.com/users/trent-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trent-b/subscriptions","organizations_url":"https://api.github.com/users/trent-b/orgs","repos_url":"https://api.github.com/users/trent-b/repos","events_url":"https://api.github.com/users/trent-b/events{/privacy}","received_events_url":"https://api.github.com/users/trent-b/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-25T14:37:22Z","performed_via_github_app":null},{"id":2226746840,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMjY3NDY4NDA=","url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/events/2226746840","actor":{"login":"trent-b","id":34728837,"node_id":"MDQ6VXNlcjM0NzI4ODM3","avatar_url":"https://avatars.githubusercontent.com/u/34728837?v=4","gravatar_id":"","url":"https://api.github.com/users/trent-b","html_url":"https://github.com/trent-b","followers_url":"https://api.github.com/users/trent-b/followers","following_url":"https://api.github.com/users/trent-b/following{/other_user}","gists_url":"https://api.github.com/users/trent-b/gists{/gist_id}","starred_url":"https://api.github.com/users/trent-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trent-b/subscriptions","organizations_url":"https://api.github.com/users/trent-b/orgs","repos_url":"https://api.github.com/users/trent-b/repos","events_url":"https://api.github.com/users/trent-b/events{/privacy}","received_events_url":"https://api.github.com/users/trent-b/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-25T14:37:22Z","performed_via_github_app":null},{"id":2227846434,"node_id":"MDExOkNsb3NlZEV2ZW50MjIyNzg0NjQzNA==","url":"https://api.github.com/repos/trent-b/iterative-stratification/issues/events/2227846434","actor":{"login":"trent-b","id":34728837,"node_id":"MDQ6VXNlcjM0NzI4ODM3","avatar_url":"https://avatars.githubusercontent.com/u/34728837?v=4","gravatar_id":"","url":"https://api.github.com/users/trent-b","html_url":"https://github.com/trent-b","followers_url":"https://api.github.com/users/trent-b/followers","following_url":"https://api.github.com/users/trent-b/following{/other_user}","gists_url":"https://api.github.com/users/trent-b/gists{/gist_id}","starred_url":"https://api.github.com/users/trent-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trent-b/subscriptions","organizations_url":"https://api.github.com/users/trent-b/orgs","repos_url":"https://api.github.com/users/trent-b/repos","events_url":"https://api.github.com/users/trent-b/events{/privacy}","received_events_url":"https://api.github.com/users/trent-b/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-25T20:51:10Z","state_reason":null,"performed_via_github_app":null}]