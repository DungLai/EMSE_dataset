[{"id":4477586202,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ0Nzc1ODYyMDI=","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4477586202","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-03-18T17:20:05Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/802200378","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-802200378","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":802200378,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjIwMDM3OA==","user":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"created_at":"2021-03-18T18:44:55Z","updated_at":"2021-03-18T18:44:55Z","author_association":"MEMBER","body":"We have not yet investigated what it would take to make medaCy compatible with the latest versions of its dependencies.","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/802200378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/802813019","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-802813019","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":802813019,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjgxMzAxOQ==","user":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T12:54:45Z","updated_at":"2021-03-19T12:54:45Z","author_association":"NONE","body":"Fair enough.  Do you have a documented process of how to train the clinical notes model so I can do the work?","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/802813019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false}},{"id":4482089133,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDQ4MjA4OTEzMw==","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4482089133","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-03-19T13:03:00Z","rename":{"from":"[FEATURE REQUEST]","to":"Compatibility with newer spaCy versions"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/802847602","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-802847602","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":802847602,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjg0NzYwMg==","user":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T13:50:32Z","updated_at":"2021-03-19T13:50:32Z","author_association":"MEMBER","body":"That model is trained on the n2c2 2018 track 2 dataset, which is described [here](https://portal.dbmi.hms.harvard.edu/projects/n2c2-nlp/). One can then train a model over it using the [command line interface](https://github.com/NLPatVCU/medaCy/blob/master/guide/command_line_interface.md).\r\n\r\nUpdating the package's dependencies will likely be a future project.","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/802847602/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/808745937","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-808745937","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":808745937,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODc0NTkzNw==","user":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"created_at":"2021-03-27T15:00:57Z","updated_at":"2021-03-30T22:45:32Z","author_association":"NONE","body":"Thanks for your links on how to train the model.  Also, thank you for writing this software and making it available for the public--it is well written.\r\n\r\nI have generated two models with an updated set of dependencies.\r\n\r\n## Changes\r\n\r\n* Updated the `setup.py` file's dependencies to spaCy 2.3.5, which is the last version of what seems to me to be the stable version.  I've tried to upgrade to 3.0.5 and had issues a few times and it doesn't seem like it's \"prime time\" just yet.\r\n* Created an automated process to train the same model as the [medaCy_model_clinical_notes](https://github.com/NLPatVCU/medaCy_model_clinical_notes) in a [forked repo](https://github.com/plandes/medaCy) (see [below](#re-training) more about this process).\r\n* Retrained the clinical model in the [forked medaCy_model_clinical_notes repo](https://github.com/plandes/medaCy_model_clinical_notes).\r\n* Trained another clinical model was trained using the [ClinicalBERT](https://huggingface.co/emilyalsentzer/Bio_ClinicalBERT) pre-trained embeddings with CRF.  (Note: I tried to train the model with out CRF, but was getting index errors so perhaps an API has changed with a return value from the `transformers` package.\r\n\r\n  This [model repo](https://github.com/plandes/medaCy_bertcrf_model_clinical_notes) has the same form as the clinical notes repo.  However, it is a [LFS](https://git-lfs.github.com) enabled repo since the PyTorch model exceeds 100MB.  I have tested installing it via pip using a `git+https` URL and it works fine as Python has an LFS implementation built-in/used from pip.\r\n\r\n\r\n## Re-Training\r\n\r\nThe automated process for training is in the subdirectory `train` in the root repository directory and automated with GNU make with instructions in the `README.md` file.  It provides a way to train the two models I've mentioned (both clinical, one CRF and the other BERT CRF).  It does the following:\r\n\r\n* Clone the respective model when not present locally.\r\n* Provides the configuration and parameters to the medaCy CLI.\r\n* Runs the cross-fold validation on the generated model.\r\n* Copies the corresponding model file(s) to the model repo.\r\n* Parses and copies the output performance metrics to the respective `model_data.txt` in the model directory and the model repo's `README.md`.\r\n\r\nThe downside is that each of these steps requires a command line invocation since many things can go wrong and the process must be \"baby sat\".  However, they are short and (as mentioned) documented.\r\n\r\n\r\n## Action Items\r\n\r\nFrom here, I can either:\r\n\r\n* Create a pull request to the medaCy and/and existing clinical model repos, or\r\n* Do nothing and leave the forked repos where they are.\r\n\r\nPlease let me know what you want.\r\n\r\n\r\n## Future Work\r\n\r\nI plan on first incorporating this work in to my research, then more than likely add a model for the N2C2 2014 Deidentification & Heart Disease data to tag PHI.\r\n\r\nThanks again for this great software.\r\n","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/808745937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/808757884","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-808757884","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":808757884,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODc1Nzg4NA==","user":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"created_at":"2021-03-27T16:27:03Z","updated_at":"2021-03-27T16:27:03Z","author_association":"MEMBER","body":"@plandes It sounds like you put a lot of work into adapting medaCy for your needs, and I really appreciate that you've clearly documented the workflow that you used.\r\n\r\nAm I correct in understanding that you have a copy of n2c2 2018, that you were able to train a CRF model with no source code modifications using spaCy 2.3.5, and that you received an IndexError when attempting to train a BERT model with a certain version of BERT that may not be compatible with the version of transformers used in medaCy? If so, we can probably set a range of permissible versions of spaCy that include the currently required version up to 2.3.5 (following regression tests).","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/808757884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false}},{"id":4517221649,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDUxNzIyMTY0OQ==","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4517221649","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-27T16:27:03Z","performed_via_github_app":null},{"id":4517221651,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1MTcyMjE2NTE=","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4517221651","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-27T16:27:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/808762988","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-808762988","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":808762988,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODc2Mjk4OA==","user":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"created_at":"2021-03-27T17:06:15Z","updated_at":"2021-03-27T17:06:15Z","author_association":"NONE","body":"@swfarnsworth Correct, this was trained on the [n2c2 2018 task 2 corpus](https://portal.dbmi.hms.harvard.edu/projects/n2c2-nlp/).\r\n\r\nAlso, the Clinical BERT embeddings, to be specific (see the [paper](https://arxiv.org/abs/1904.03323)), were trained with 10 epochs and showed better performance than the default cased (at least on the folds trained on the default 3 epochs before I stopped it).\r\n\r\nAlso correct on the `IndexError`, which my guess is a result from the library dependency change.  The dependency I changed is for the latest.\r\n\r\nI also forgot to mention that PyTorch 1.8 doesn't appear to be stable as well (along with space 3.0) so I backed off to 1.7.","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/808762988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false}},{"id":4517257329,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDUxNzI1NzMyOQ==","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4517257329","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-27T17:06:16Z","performed_via_github_app":null},{"id":4517257331,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1MTcyNTczMzE=","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4517257331","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-27T17:06:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/811224925","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-811224925","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":811224925,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTIyNDkyNQ==","user":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"created_at":"2021-03-31T16:36:10Z","updated_at":"2021-03-31T16:36:10Z","author_association":"NONE","body":"Update: I have:\r\n\r\n1.  Renamed the model repo from bert to bert_crf_ and updated the link in my previous reopens in this thread.\r\n2. Fixed the bug in the `bert_learner.py`.  The issue was the newer version of 🤗 transformers return more data now (loss, the logins, hidden states and attentions).\r\n3. Trained a new model and in [this new repo](https://github.com/plandes/medaCy_bert_model_clinical_notes) (note that it has the same name as the previous model because it was trained _without_ the CRF layer.\r\n\r\nThe new trained model has very similar scores to the BERT+CRF model with the non CRF model performing slightly higher.  I trained it on 3 epochs instead of 10, but I doubt that makes a difference.  I'll be taking down the medaCy_bertcrf_model_clinical_notes at some point, but because it uses a lot of Git LFS space.  A better long term strategy might be to make models pip installs because they take so much space.\r\n\r\nSpeaking of, will you please indicate whether you plan to incorporate these changes?  If not, that's fine but, I'll change all repo URLs to my forked repos for the main source and models.  Then I'll release medaCy to PyPi.\r\n\r\nThanks again.  This will be helpful in my own research.","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/811224925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/811355164","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-811355164","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":811355164,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTM1NTE2NA==","user":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"created_at":"2021-03-31T19:06:57Z","updated_at":"2021-03-31T19:06:57Z","author_association":"MEMBER","body":"@plandes, I am graduating at the end of this semester and I don't know if I will be able to review any changes to the package before then, though I will see if any my colleagues might be able to. \r\n\r\nThat being said, NLP@VCU will continue to support medaCy after my departure, and we appreciate how thoroughly you've documented your workflow. We will need to discuss internally what changes you've made and which we can merge into the main repository.\r\n\r\nAm I to understand that you were planning to publish your fork of medaCy to PyPI, or this one?","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/811355164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false}},{"id":4536745919,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDUzNjc0NTkxOQ==","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4536745919","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-31T19:06:57Z","performed_via_github_app":null},{"id":4536745922,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1MzY3NDU5MjI=","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4536745922","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-31T19:06:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/811451371","html_url":"https://github.com/NLPatVCU/medaCy/issues/204#issuecomment-811451371","issue_url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/204","id":811451371,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTQ1MTM3MQ==","user":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false},"created_at":"2021-03-31T20:41:46Z","updated_at":"2021-03-31T20:41:46Z","author_association":"NONE","body":"@swfarnsworth Congrats on graduating!  Seems like a dream to me at this point.\r\n\r\nYes, I totally understand--take the time you need, and there's no reason I can't publish what I need for my own purposes, and we can all fold the changes later back in to NLP@VCU later.\r\n\r\nYes, I'd publish medaCy with the Bert fix and updated dependencies under my own name space (zensols) along with the models (assuming PyPi doesn't have size constraints) for my own purposes.  However, if you can review the changes somewhat soon I'll hold off and wait for that integration.  If we can get everything merged back under NLP@VCU, then I'll take down my work from GitHub.","reactions":{"url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/comments/811451371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"plandes","id":4460738,"node_id":"MDQ6VXNlcjQ0NjA3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/4460738?v=4","gravatar_id":"","url":"https://api.github.com/users/plandes","html_url":"https://github.com/plandes","followers_url":"https://api.github.com/users/plandes/followers","following_url":"https://api.github.com/users/plandes/following{/other_user}","gists_url":"https://api.github.com/users/plandes/gists{/gist_id}","starred_url":"https://api.github.com/users/plandes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plandes/subscriptions","organizations_url":"https://api.github.com/users/plandes/orgs","repos_url":"https://api.github.com/users/plandes/repos","events_url":"https://api.github.com/users/plandes/events{/privacy}","received_events_url":"https://api.github.com/users/plandes/received_events","type":"User","site_admin":false}},{"id":4537274574,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDUzNzI3NDU3NA==","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4537274574","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-31T20:41:46Z","performed_via_github_app":null},{"id":4537274578,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1MzcyNzQ1Nzg=","url":"https://api.github.com/repos/NLPatVCU/medaCy/issues/events/4537274578","actor":{"login":"swfarnsworth","id":32915757,"node_id":"MDQ6VXNlcjMyOTE1NzU3","avatar_url":"https://avatars.githubusercontent.com/u/32915757?v=4","gravatar_id":"","url":"https://api.github.com/users/swfarnsworth","html_url":"https://github.com/swfarnsworth","followers_url":"https://api.github.com/users/swfarnsworth/followers","following_url":"https://api.github.com/users/swfarnsworth/following{/other_user}","gists_url":"https://api.github.com/users/swfarnsworth/gists{/gist_id}","starred_url":"https://api.github.com/users/swfarnsworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swfarnsworth/subscriptions","organizations_url":"https://api.github.com/users/swfarnsworth/orgs","repos_url":"https://api.github.com/users/swfarnsworth/repos","events_url":"https://api.github.com/users/swfarnsworth/events{/privacy}","received_events_url":"https://api.github.com/users/swfarnsworth/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-31T20:41:46Z","performed_via_github_app":null}]