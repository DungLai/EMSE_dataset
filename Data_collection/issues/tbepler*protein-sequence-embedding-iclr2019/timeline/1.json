[{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/comments/473018948","html_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019/issues/1#issuecomment-473018948","issue_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/1","id":473018948,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzAxODk0OA==","user":{"login":"tbepler","id":5326126,"node_id":"MDQ6VXNlcjUzMjYxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326126?v=4","gravatar_id":"","url":"https://api.github.com/users/tbepler","html_url":"https://github.com/tbepler","followers_url":"https://api.github.com/users/tbepler/followers","following_url":"https://api.github.com/users/tbepler/following{/other_user}","gists_url":"https://api.github.com/users/tbepler/gists{/gist_id}","starred_url":"https://api.github.com/users/tbepler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbepler/subscriptions","organizations_url":"https://api.github.com/users/tbepler/orgs","repos_url":"https://api.github.com/users/tbepler/repos","events_url":"https://api.github.com/users/tbepler/events{/privacy}","received_events_url":"https://api.github.com/users/tbepler/received_events","type":"User","site_admin":false},"created_at":"2019-03-14T19:13:57Z","updated_at":"2019-03-14T19:14:58Z","author_association":"OWNER","body":"There is not a single function to do what you ask. You need to first encode the amino acid sequence into bytes with [alphabets.Uniprot21](https://github.com/tbepler/protein-sequence-embedding-iclr2019/blob/master/src/alphabets.py), convert this to a pytorch tensor, and then embed the sequence with the trained model.\r\n\r\nI suggest taking a look at [eval_secstr](https://github.com/tbepler/protein-sequence-embedding-iclr2019/blob/master/eval_secstr.py) and/or [eval_transmembrane](https://github.com/tbepler/protein-sequence-embedding-iclr2019/blob/master/eval_transmembrane.py) for an idea of how this works (see specifically \"encode_sequence\" and \"TorchModel.\\_\\_call\\_\\_\" in eval_secstr).\r\n\r\nWith regards to models, \"pfam_lm_lstm2x1024_tied_mb64.sav\" is the bidirectional language model trained on Pfam. Of the structure-based embedding models, I would suggest using \"ssa_L1_100d_lstm3x512_lm_i512_mb64_tau0.5_lambda0.1_p0.05_epoch100.sav\" which is the SSA model trained with both structural similarity and contact prediction tasks on the full training set (SSA (full) model in the manuscript). ","reactions":{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/comments/473018948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tbepler","id":5326126,"node_id":"MDQ6VXNlcjUzMjYxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326126?v=4","gravatar_id":"","url":"https://api.github.com/users/tbepler","html_url":"https://github.com/tbepler","followers_url":"https://api.github.com/users/tbepler/followers","following_url":"https://api.github.com/users/tbepler/following{/other_user}","gists_url":"https://api.github.com/users/tbepler/gists{/gist_id}","starred_url":"https://api.github.com/users/tbepler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbepler/subscriptions","organizations_url":"https://api.github.com/users/tbepler/orgs","repos_url":"https://api.github.com/users/tbepler/repos","events_url":"https://api.github.com/users/tbepler/events{/privacy}","received_events_url":"https://api.github.com/users/tbepler/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/comments/473127093","html_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019/issues/1#issuecomment-473127093","issue_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/1","id":473127093,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzEyNzA5Mw==","user":{"login":"datduong","id":10081048,"node_id":"MDQ6VXNlcjEwMDgxMDQ4","avatar_url":"https://avatars.githubusercontent.com/u/10081048?v=4","gravatar_id":"","url":"https://api.github.com/users/datduong","html_url":"https://github.com/datduong","followers_url":"https://api.github.com/users/datduong/followers","following_url":"https://api.github.com/users/datduong/following{/other_user}","gists_url":"https://api.github.com/users/datduong/gists{/gist_id}","starred_url":"https://api.github.com/users/datduong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/datduong/subscriptions","organizations_url":"https://api.github.com/users/datduong/orgs","repos_url":"https://api.github.com/users/datduong/repos","events_url":"https://api.github.com/users/datduong/events{/privacy}","received_events_url":"https://api.github.com/users/datduong/received_events","type":"User","site_admin":false},"created_at":"2019-03-15T01:38:16Z","updated_at":"2019-03-15T01:38:16Z","author_association":"NONE","body":"Thanks for your help. I was able to figure out how to use the Uniprot21 conversion. ","reactions":{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/comments/473127093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"datduong","id":10081048,"node_id":"MDQ6VXNlcjEwMDgxMDQ4","avatar_url":"https://avatars.githubusercontent.com/u/10081048?v=4","gravatar_id":"","url":"https://api.github.com/users/datduong","html_url":"https://github.com/datduong","followers_url":"https://api.github.com/users/datduong/followers","following_url":"https://api.github.com/users/datduong/following{/other_user}","gists_url":"https://api.github.com/users/datduong/gists{/gist_id}","starred_url":"https://api.github.com/users/datduong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/datduong/subscriptions","organizations_url":"https://api.github.com/users/datduong/orgs","repos_url":"https://api.github.com/users/datduong/repos","events_url":"https://api.github.com/users/datduong/events{/privacy}","received_events_url":"https://api.github.com/users/datduong/received_events","type":"User","site_admin":false}},{"id":2205255886,"node_id":"MDExOkNsb3NlZEV2ZW50MjIwNTI1NTg4Ng==","url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/events/2205255886","actor":{"login":"datduong","id":10081048,"node_id":"MDQ6VXNlcjEwMDgxMDQ4","avatar_url":"https://avatars.githubusercontent.com/u/10081048?v=4","gravatar_id":"","url":"https://api.github.com/users/datduong","html_url":"https://github.com/datduong","followers_url":"https://api.github.com/users/datduong/followers","following_url":"https://api.github.com/users/datduong/following{/other_user}","gists_url":"https://api.github.com/users/datduong/gists{/gist_id}","starred_url":"https://api.github.com/users/datduong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/datduong/subscriptions","organizations_url":"https://api.github.com/users/datduong/orgs","repos_url":"https://api.github.com/users/datduong/repos","events_url":"https://api.github.com/users/datduong/events{/privacy}","received_events_url":"https://api.github.com/users/datduong/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-15T01:38:16Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"dominikabasaj","id":8410199,"node_id":"MDQ6VXNlcjg0MTAxOTk=","avatar_url":"https://avatars.githubusercontent.com/u/8410199?v=4","gravatar_id":"","url":"https://api.github.com/users/dominikabasaj","html_url":"https://github.com/dominikabasaj","followers_url":"https://api.github.com/users/dominikabasaj/followers","following_url":"https://api.github.com/users/dominikabasaj/following{/other_user}","gists_url":"https://api.github.com/users/dominikabasaj/gists{/gist_id}","starred_url":"https://api.github.com/users/dominikabasaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dominikabasaj/subscriptions","organizations_url":"https://api.github.com/users/dominikabasaj/orgs","repos_url":"https://api.github.com/users/dominikabasaj/repos","events_url":"https://api.github.com/users/dominikabasaj/events{/privacy}","received_events_url":"https://api.github.com/users/dominikabasaj/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T21:40:37Z","updated_at":"2019-11-20T21:40:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/14","repository_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019","labels_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/14/comments","events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/14/events","html_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019/issues/14","id":526231177,"node_id":"MDU6SXNzdWU1MjYyMzExNzc=","number":14,"title":"Protein encoder - PackedSequence error","user":{"login":"dominikabasaj","id":8410199,"node_id":"MDQ6VXNlcjg0MTAxOTk=","avatar_url":"https://avatars.githubusercontent.com/u/8410199?v=4","gravatar_id":"","url":"https://api.github.com/users/dominikabasaj","html_url":"https://github.com/dominikabasaj","followers_url":"https://api.github.com/users/dominikabasaj/followers","following_url":"https://api.github.com/users/dominikabasaj/following{/other_user}","gists_url":"https://api.github.com/users/dominikabasaj/gists{/gist_id}","starred_url":"https://api.github.com/users/dominikabasaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dominikabasaj/subscriptions","organizations_url":"https://api.github.com/users/dominikabasaj/orgs","repos_url":"https://api.github.com/users/dominikabasaj/repos","events_url":"https://api.github.com/users/dominikabasaj/events{/privacy}","received_events_url":"https://api.github.com/users/dominikabasaj/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-11-20T21:40:37Z","updated_at":"2020-01-06T16:58:45Z","closed_at":"2020-01-06T16:58:45Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":172108299,"node_id":"MDEwOlJlcG9zaXRvcnkxNzIxMDgyOTk=","name":"protein-sequence-embedding-iclr2019","full_name":"tbepler/protein-sequence-embedding-iclr2019","private":false,"owner":{"login":"tbepler","id":5326126,"node_id":"MDQ6VXNlcjUzMjYxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326126?v=4","gravatar_id":"","url":"https://api.github.com/users/tbepler","html_url":"https://github.com/tbepler","followers_url":"https://api.github.com/users/tbepler/followers","following_url":"https://api.github.com/users/tbepler/following{/other_user}","gists_url":"https://api.github.com/users/tbepler/gists{/gist_id}","starred_url":"https://api.github.com/users/tbepler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbepler/subscriptions","organizations_url":"https://api.github.com/users/tbepler/orgs","repos_url":"https://api.github.com/users/tbepler/repos","events_url":"https://api.github.com/users/tbepler/events{/privacy}","received_events_url":"https://api.github.com/users/tbepler/received_events","type":"User","site_admin":false},"html_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019","description":"Source code for \"Learning protein sequence embeddings using information from structure\" - ICLR 2019","fork":false,"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019","forks_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/forks","keys_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/teams","hooks_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/hooks","issue_events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/events{/number}","events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/events","assignees_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/assignees{/user}","branches_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/branches{/branch}","tags_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/tags","blobs_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/refs{/sha}","trees_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/statuses/{sha}","languages_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/languages","stargazers_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/stargazers","contributors_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/contributors","subscribers_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/subscribers","subscription_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/subscription","commits_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/commits{/sha}","git_commits_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/commits{/sha}","comments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/comments{/number}","issue_comment_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/comments{/number}","contents_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/contents/{+path}","compare_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/merges","archive_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/downloads","issues_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues{/number}","pulls_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/pulls{/number}","milestones_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/milestones{/number}","notifications_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/labels{/name}","releases_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/releases{/id}","deployments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/deployments","created_at":"2019-02-22T17:38:16Z","updated_at":"2023-01-17T19:53:04Z","pushed_at":"2021-06-16T17:22:06Z","git_url":"git://github.com/tbepler/protein-sequence-embedding-iclr2019.git","ssh_url":"git@github.com:tbepler/protein-sequence-embedding-iclr2019.git","clone_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019.git","svn_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019","homepage":null,"size":52,"stargazers_count":234,"watchers_count":234,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":69,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","language-model","protein-embedding","protein-modeling","protein-representation-learning","protein-sequence","protein-structure","pytorch","recurrent-neural-networks"],"visibility":"public","forks":69,"open_issues":4,"watchers":234,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi! Thank you for open sourcing your work!\r\n\r\nI am trying to encode my protein sequence with your pretrained model according to the procedure you described in the issue: https://github.com/tbepler/protein-sequence-embedding-iclr2019/issues/1, so basically for testing purposes:\r\n\r\n1. I convert sequence into bytes:\r\n```\r\nalphabet = Uniprot21()\r\nencoded_f = encode_sequence('ABC', alphabet)\r\nencoded_f2 = np.array([encoded_f, encoded_f]) . # just an imitation of the batch\r\n```\r\n2. I upload model and encode the converted batched sequences:\r\n```\r\npretrained_model = torch.load('pfam_lm_lstm2x1024_tied_mb64.sav')\r\npretrained_model.eval()\r\nfeatures = TorchModel(pretrained_model, use_cuda=0, full_features=False)\r\nfeatures(encoded_f2)\r\n```\r\n\r\nan error occurs:\r\n```\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-150-ed0bea8b81e2> in <module>\r\n      1 import numpy as np\r\n----> 2 features(encoded_f2)\r\n\r\n./protein-sequence-embedding-iclr2019/eval_secstr.py in __call__(self, x)\r\n    115             z = featurize(c, self.lm_embed, self.lstm_stack, self.proj)\r\n    116         else:\r\n--> 117             z = self.model(c) # embed the sequences\r\n    118         z = unpack_sequences(z, order)\r\n    119 \r\n\r\n/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py in __call__(self, *input, **kwargs)\r\n    487             result = self._slow_forward(*input, **kwargs)\r\n    488         else:\r\n--> 489             result = self.forward(*input, **kwargs)\r\n    490         for hook in self._forward_hooks.values():\r\n    491             hook_result = hook(self, input, result)\r\n\r\n./protein-sequence-embedding-iclr2019/src/models/sequence.py in forward(self, x)\r\n    225         # postpend reverse logp with zero\r\n    226 \r\n--> 227         b = h_fwd.size(0)\r\n    228         zero = h_fwd.data.new(b,1,logp_fwd.size(2)).zero_()\r\n    229         logp_fwd = torch.cat([zero, logp_fwd], 1)\r\n\r\nAttributeError: 'PackedSequence' object has no attribute 'size'\r\n```\r\n\r\nI would be grateful for letting me know what I am doing wrong!","reactions":{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/14/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"tbepler","id":5326126,"node_id":"MDQ6VXNlcjUzMjYxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326126?v=4","gravatar_id":"","url":"https://api.github.com/users/tbepler","html_url":"https://github.com/tbepler","followers_url":"https://api.github.com/users/tbepler/followers","following_url":"https://api.github.com/users/tbepler/following{/other_user}","gists_url":"https://api.github.com/users/tbepler/gists{/gist_id}","starred_url":"https://api.github.com/users/tbepler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbepler/subscriptions","organizations_url":"https://api.github.com/users/tbepler/orgs","repos_url":"https://api.github.com/users/tbepler/repos","events_url":"https://api.github.com/users/tbepler/events{/privacy}","received_events_url":"https://api.github.com/users/tbepler/received_events","type":"User","site_admin":false},"created_at":"2019-12-23T19:45:38Z","updated_at":"2019-12-23T19:45:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/15","repository_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019","labels_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/15/labels{/name}","comments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/15/comments","events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/15/events","html_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019/issues/15","id":541337889,"node_id":"MDU6SXNzdWU1NDEzMzc4ODk=","number":15,"title":"How to use pretrained models to get the results.","user":{"login":"Rajratnpranesh","id":44019562,"node_id":"MDQ6VXNlcjQ0MDE5NTYy","avatar_url":"https://avatars.githubusercontent.com/u/44019562?v=4","gravatar_id":"","url":"https://api.github.com/users/Rajratnpranesh","html_url":"https://github.com/Rajratnpranesh","followers_url":"https://api.github.com/users/Rajratnpranesh/followers","following_url":"https://api.github.com/users/Rajratnpranesh/following{/other_user}","gists_url":"https://api.github.com/users/Rajratnpranesh/gists{/gist_id}","starred_url":"https://api.github.com/users/Rajratnpranesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rajratnpranesh/subscriptions","organizations_url":"https://api.github.com/users/Rajratnpranesh/orgs","repos_url":"https://api.github.com/users/Rajratnpranesh/repos","events_url":"https://api.github.com/users/Rajratnpranesh/events{/privacy}","received_events_url":"https://api.github.com/users/Rajratnpranesh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-12-21T15:21:30Z","updated_at":"2019-12-25T11:52:53Z","closed_at":"2019-12-25T11:52:53Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":172108299,"node_id":"MDEwOlJlcG9zaXRvcnkxNzIxMDgyOTk=","name":"protein-sequence-embedding-iclr2019","full_name":"tbepler/protein-sequence-embedding-iclr2019","private":false,"owner":{"login":"tbepler","id":5326126,"node_id":"MDQ6VXNlcjUzMjYxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326126?v=4","gravatar_id":"","url":"https://api.github.com/users/tbepler","html_url":"https://github.com/tbepler","followers_url":"https://api.github.com/users/tbepler/followers","following_url":"https://api.github.com/users/tbepler/following{/other_user}","gists_url":"https://api.github.com/users/tbepler/gists{/gist_id}","starred_url":"https://api.github.com/users/tbepler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbepler/subscriptions","organizations_url":"https://api.github.com/users/tbepler/orgs","repos_url":"https://api.github.com/users/tbepler/repos","events_url":"https://api.github.com/users/tbepler/events{/privacy}","received_events_url":"https://api.github.com/users/tbepler/received_events","type":"User","site_admin":false},"html_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019","description":"Source code for \"Learning protein sequence embeddings using information from structure\" - ICLR 2019","fork":false,"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019","forks_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/forks","keys_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/teams","hooks_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/hooks","issue_events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/events{/number}","events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/events","assignees_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/assignees{/user}","branches_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/branches{/branch}","tags_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/tags","blobs_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/refs{/sha}","trees_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/statuses/{sha}","languages_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/languages","stargazers_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/stargazers","contributors_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/contributors","subscribers_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/subscribers","subscription_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/subscription","commits_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/commits{/sha}","git_commits_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/commits{/sha}","comments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/comments{/number}","issue_comment_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/comments{/number}","contents_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/contents/{+path}","compare_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/merges","archive_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/downloads","issues_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues{/number}","pulls_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/pulls{/number}","milestones_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/milestones{/number}","notifications_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/labels{/name}","releases_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/releases{/id}","deployments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/deployments","created_at":"2019-02-22T17:38:16Z","updated_at":"2023-01-17T19:53:04Z","pushed_at":"2021-06-16T17:22:06Z","git_url":"git://github.com/tbepler/protein-sequence-embedding-iclr2019.git","ssh_url":"git@github.com:tbepler/protein-sequence-embedding-iclr2019.git","clone_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019.git","svn_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019","homepage":null,"size":52,"stargazers_count":234,"watchers_count":234,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":69,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","language-model","protein-embedding","protein-modeling","protein-representation-learning","protein-sequence","protein-structure","pytorch","recurrent-neural-networks"],"visibility":"public","forks":69,"open_issues":4,"watchers":234,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi! Thank you for open sourcing your work.\r\n\r\nI am trying to generate the paper result. How exactly can I use the pretrained model to get the result? \r\nThank You.","reactions":{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/15/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/15/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"Chenwf1025","id":56683852,"node_id":"MDQ6VXNlcjU2NjgzODUy","avatar_url":"https://avatars.githubusercontent.com/u/56683852?v=4","gravatar_id":"","url":"https://api.github.com/users/Chenwf1025","html_url":"https://github.com/Chenwf1025","followers_url":"https://api.github.com/users/Chenwf1025/followers","following_url":"https://api.github.com/users/Chenwf1025/following{/other_user}","gists_url":"https://api.github.com/users/Chenwf1025/gists{/gist_id}","starred_url":"https://api.github.com/users/Chenwf1025/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chenwf1025/subscriptions","organizations_url":"https://api.github.com/users/Chenwf1025/orgs","repos_url":"https://api.github.com/users/Chenwf1025/repos","events_url":"https://api.github.com/users/Chenwf1025/events{/privacy}","received_events_url":"https://api.github.com/users/Chenwf1025/received_events","type":"User","site_admin":false},"created_at":"2020-11-02T09:45:30Z","updated_at":"2020-11-02T09:45:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/20","repository_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019","labels_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/20/labels{/name}","comments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/20/comments","events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/20/events","html_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019/issues/20","id":734353789,"node_id":"MDU6SXNzdWU3MzQzNTM3ODk=","number":20,"title":"Runtime Error in eval_secstr.py","user":{"login":"Chenwf1025","id":56683852,"node_id":"MDQ6VXNlcjU2NjgzODUy","avatar_url":"https://avatars.githubusercontent.com/u/56683852?v=4","gravatar_id":"","url":"https://api.github.com/users/Chenwf1025","html_url":"https://github.com/Chenwf1025","followers_url":"https://api.github.com/users/Chenwf1025/followers","following_url":"https://api.github.com/users/Chenwf1025/following{/other_user}","gists_url":"https://api.github.com/users/Chenwf1025/gists{/gist_id}","starred_url":"https://api.github.com/users/Chenwf1025/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chenwf1025/subscriptions","organizations_url":"https://api.github.com/users/Chenwf1025/orgs","repos_url":"https://api.github.com/users/Chenwf1025/repos","events_url":"https://api.github.com/users/Chenwf1025/events{/privacy}","received_events_url":"https://api.github.com/users/Chenwf1025/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-02T09:45:30Z","updated_at":"2020-11-02T10:31:25Z","closed_at":"2020-11-02T10:31:25Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":172108299,"node_id":"MDEwOlJlcG9zaXRvcnkxNzIxMDgyOTk=","name":"protein-sequence-embedding-iclr2019","full_name":"tbepler/protein-sequence-embedding-iclr2019","private":false,"owner":{"login":"tbepler","id":5326126,"node_id":"MDQ6VXNlcjUzMjYxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326126?v=4","gravatar_id":"","url":"https://api.github.com/users/tbepler","html_url":"https://github.com/tbepler","followers_url":"https://api.github.com/users/tbepler/followers","following_url":"https://api.github.com/users/tbepler/following{/other_user}","gists_url":"https://api.github.com/users/tbepler/gists{/gist_id}","starred_url":"https://api.github.com/users/tbepler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbepler/subscriptions","organizations_url":"https://api.github.com/users/tbepler/orgs","repos_url":"https://api.github.com/users/tbepler/repos","events_url":"https://api.github.com/users/tbepler/events{/privacy}","received_events_url":"https://api.github.com/users/tbepler/received_events","type":"User","site_admin":false},"html_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019","description":"Source code for \"Learning protein sequence embeddings using information from structure\" - ICLR 2019","fork":false,"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019","forks_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/forks","keys_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/teams","hooks_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/hooks","issue_events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/events{/number}","events_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/events","assignees_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/assignees{/user}","branches_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/branches{/branch}","tags_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/tags","blobs_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/refs{/sha}","trees_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/statuses/{sha}","languages_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/languages","stargazers_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/stargazers","contributors_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/contributors","subscribers_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/subscribers","subscription_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/subscription","commits_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/commits{/sha}","git_commits_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/git/commits{/sha}","comments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/comments{/number}","issue_comment_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/comments{/number}","contents_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/contents/{+path}","compare_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/merges","archive_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/downloads","issues_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues{/number}","pulls_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/pulls{/number}","milestones_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/milestones{/number}","notifications_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/labels{/name}","releases_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/releases{/id}","deployments_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/deployments","created_at":"2019-02-22T17:38:16Z","updated_at":"2023-01-17T19:53:04Z","pushed_at":"2021-06-16T17:22:06Z","git_url":"git://github.com/tbepler/protein-sequence-embedding-iclr2019.git","ssh_url":"git@github.com:tbepler/protein-sequence-embedding-iclr2019.git","clone_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019.git","svn_url":"https://github.com/tbepler/protein-sequence-embedding-iclr2019","homepage":null,"size":52,"stargazers_count":234,"watchers_count":234,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":69,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","language-model","protein-embedding","protein-modeling","protein-representation-learning","protein-sequence","protein-structure","pytorch","recurrent-neural-networks"],"visibility":"public","forks":69,"open_issues":4,"watchers":234,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"`python .\\eval_secstr.py 1-mer`\r\nsplit epoch loss perplexity accuracy\r\nTraceback (most recent call last):\r\n  File \".\\eval_secstr.py\", line 427, in <module>\r\n    main()\r\n  File \".\\eval_secstr.py\", line 361, in main\r\n    potentials = model(x).view(x.size(0), -1)\r\n  File \"D:\\Software\\Anaconda\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"D:\\Software\\Anaconda\\lib\\site-packages\\torch\\nn\\modules\\sparse.py\", line 126, in forward\r\n    self.norm_type, self.scale_grad_by_freq, self.sparse)\r\n  File \"D:\\Software\\Anaconda\\lib\\site-packages\\torch\\nn\\functional.py\", line 1814, in embedding\r\n    return torch.embedding(weight, input, padding_idx, scale_grad_by_freq, sparse)\r\nRuntimeError: Expected tensor for argument #1 'indices' to have scalar type Long; but got torch.IntTensor instead (while checking arguments for embedding)\r\n\r\nOS: Windows10, python 3.7.4, pytorch 1.6.0","reactions":{"url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/20/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tbepler/protein-sequence-embedding-iclr2019/issues/20/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]