{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/983","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/983/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/983/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/983/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/983","id":732525044,"node_id":"MDU6SXNzdWU3MzI1MjUwNDQ=","number":983,"title":"Frame based audio features","user":{"login":"nieag","id":23358923,"node_id":"MDQ6VXNlcjIzMzU4OTIz","avatar_url":"https://avatars.githubusercontent.com/u/23358923?v=4","gravatar_id":"","url":"https://api.github.com/users/nieag","html_url":"https://github.com/nieag","followers_url":"https://api.github.com/users/nieag/followers","following_url":"https://api.github.com/users/nieag/following{/other_user}","gists_url":"https://api.github.com/users/nieag/gists{/gist_id}","starred_url":"https://api.github.com/users/nieag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nieag/subscriptions","organizations_url":"https://api.github.com/users/nieag/orgs","repos_url":"https://api.github.com/users/nieag/repos","events_url":"https://api.github.com/users/nieag/events{/privacy}","received_events_url":"https://api.github.com/users/nieag/received_events","type":"User","site_admin":false},"labels":[{"id":1174068771,"node_id":"MDU6TGFiZWwxMTc0MDY4Nzcx","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/feature","name":"feature","color":"0377d6","default":false,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-29T17:45:51Z","updated_at":"2020-11-03T08:34:21Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Is your feature request related to a problem? Please describe.**\r\nCurrently the audio pre-processing feature is limited to fixed length audio examples which are either padded or cut to match the `audio_file_length_limit_in_s` argument. An alternative (or extension) of this is to allow varying length audio files, which at a later stage are cut into fixed length \"frames\" that may or may not be overlapping on another. An example of this audio strategy can be found in the [VGGish](https://github.com/tensorflow/models/blob/master/research/audioset/vggish/mel_features.py) and [Yamnet](https://github.com/tensorflow/models/blob/master/research/audioset/yamnet/features.py) code bases.\r\n\r\n**Describe the use case**\r\nFrame based audio pre-processing would allow for training and predicting with varying length audio clips, making the resulting model more flexible in its use cases.\r\n\r\n**Describe the solution you'd like**\r\nIn addition to the `audio_file_length_limit_in_s` argument, add two additional arguments `frame_length` and `frame_overlap` which could be used together with or in place of `audio_file_length_limit_in_s` to train with variable length input files. \r\n\r\nI think it would make sense to bake this into the current audio_feature_mixin class as part of the `_get_2D_feature`, after computation of any of the 2D feature representations. The output would then instead be a 3D array of the shape [#frames, feature_h, frame_length]. Seeing as this is already implemented as part of the VGGish feature extraction it should be easy to lift over and adapt to the ludwig code base.\r\n\r\nSome additional changes might be necessary to the prediction and validation steps (and possibly training) if one wants to compute metrics and losses for the entire 2D feature as a whole, rather than for each individual frame.\r\n\r\n**Describe alternatives you've considered**\r\nCurrently I would skip the audio pre-processing in ludwig entirely for this use case, and compute the dataset features externally beforehand, and then approach the problem as a normal image classification problem.\r\n\r\n**Additional context**\r\n\r\nWould be happy to help out with adding this as a feature to the current audio preprocessing.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/983/timeline","performed_via_github_app":null,"state_reason":null}