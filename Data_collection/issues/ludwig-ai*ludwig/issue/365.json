{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/365","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/365/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/365/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/365/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/365","id":452793590,"node_id":"MDU6SXNzdWU0NTI3OTM1OTA=","number":365,"title":"InvalidArgumentError: 'visible_device_list' listed an invalid GPU id '0' but visible device count is -1","user":{"login":"renatochacon","id":45271643,"node_id":"MDQ6VXNlcjQ1MjcxNjQz","avatar_url":"https://avatars.githubusercontent.com/u/45271643?v=4","gravatar_id":"","url":"https://api.github.com/users/renatochacon","html_url":"https://github.com/renatochacon","followers_url":"https://api.github.com/users/renatochacon/followers","following_url":"https://api.github.com/users/renatochacon/following{/other_user}","gists_url":"https://api.github.com/users/renatochacon/gists{/gist_id}","starred_url":"https://api.github.com/users/renatochacon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/renatochacon/subscriptions","organizations_url":"https://api.github.com/users/renatochacon/orgs","repos_url":"https://api.github.com/users/renatochacon/repos","events_url":"https://api.github.com/users/renatochacon/events{/privacy}","received_events_url":"https://api.github.com/users/renatochacon/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-06-06T01:53:30Z","updated_at":"2019-06-06T21:54:29Z","closed_at":"2019-06-06T21:54:29Z","author_association":"NONE","active_lock_reason":null,"body":"Hello. I'm trying to predict using: \r\nludwig predict --data_csv train.csv --model_pathresults/experiment_run_0/model/\r\n\r\nBut my terminal gives me: \r\n\r\nWARNING: The TensorFlow contrib module will not be included in TensorFlow 2.0.\r\nFor more information, please see:\r\n  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md\r\n  * https://github.com/tensorflow/addons\r\nIf you depend on functionality not listed there, please file an issue.\r\n\r\n███████████████████████\r\n█ █ █ █  ▜█ █ █ █ █   █\r\n█ █ █ █ █ █ █ █ █ █ ███\r\n█ █   █ █ █ █ █ █ █ ▌ █\r\n█ █████ █ █ █ █ █ █ █ █\r\n█     █  ▟█     █ █   █\r\n███████████████████████\r\nludwig v0.1.2 - Predict\r\n\r\nDataset path: train.csv\r\nModel path: results/experiment_run_0/model/\r\nOutput path: results_0\r\n\r\nFound hdf5 with the same filename of the csv, using it instead\r\nLoading metadata from: results/experiment_run_0/model/train_set_metadata.json\r\nLoading data from: train.hdf5\r\n/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/h5py/_hl/dataset.py:313: H5pyDeprecationWarning: dataset.value has been deprecated. Use dataset[()] instead.\r\n  \"Use dataset[()] instead.\", H5pyDeprecationWarning)\r\n\r\n╒═══════════════╕\r\n│ LOADING MODEL │\r\n╘═══════════════╛\r\n\r\nFrom /home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\n  embedding_size (50) is greater than vocab_size (4). Setting embedding size to be equal to vocab_size.\r\n  embedding_size (50) is greater than vocab_size (3). Setting embedding size to be equal to vocab_size.\r\n  embedding_size (50) is greater than vocab_size (5). Setting embedding size to be equal to vocab_size.\r\nFrom /home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/tensorflow/python/ops/array_grad.py:425: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\n\r\n╒═════════╕\r\n│ PREDICT │\r\n╘═════════╛\r\n\r\n2019-06-05 22:47:03.956082: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2019-06-05 22:47:03.971669: E tensorflow/stream_executor/cuda/cuda_driver.cc:300] failed call to cuInit: CUDA_ERROR_NO_DEVICE: no CUDA-capable device is detected\r\n2019-06-05 22:47:03.971716: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:148] kernel driver does not appear to be running on this host (renatochacon-Inspiron-5566): /proc/driver/nvidia/version does not exist\r\nTraceback (most recent call last):\r\n  File \"/home/renatochacon/Documentos/venv1/bin/ludwig\", line 11, in <module>\r\n    load_entry_point('ludwig==0.1.2', 'console_scripts', 'ludwig')()\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/ludwig-0.1.2-py3.5.egg/ludwig/cli.py\", line 102, in main\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/ludwig-0.1.2-py3.5.egg/ludwig/cli.py\", line 63, in __init__\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/ludwig-0.1.2-py3.5.egg/ludwig/cli.py\", line 78, in predict\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/ludwig-0.1.2-py3.5.egg/ludwig/predict.py\", line 368, in cli\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/ludwig-0.1.2-py3.5.egg/ludwig/predict.py\", line 105, in full_predict\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/ludwig-0.1.2-py3.5.egg/ludwig/predict.py\", line 174, in predict\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/ludwig-0.1.2-py3.5.egg/ludwig/models/model.py\", line 1219, in predict\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/ludwig-0.1.2-py3.5.egg/ludwig/models/model.py\", line 221, in initialize_session\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1551, in __init__\r\n    super(Session, self).__init__(target, graph, config=config)\r\n  File \"/home/renatochacon/Documentos/venv1/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 676, in __init__\r\n    self._session = tf_session.TF_NewSessionRef(self._graph._c_graph, opts)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: 'visible_device_list' listed an invalid GPU id '0' but visible device count is -1\r\n\r\n\r\nI've had many problems while trying to use Ludwig such and I've found lots of different solution for them, but I'm really stuck with that one now. \r\n\r\n\r\nIf you find it useful, here's my pip freeze --local\r\nabsl-py==0.7.1\r\nastor==0.8.0\r\natomicwrites==1.3.0\r\nattrs==19.1.0\r\nbleach==1.5.0\r\nblis==0.2.4\r\ncertifi==2019.3.9\r\nchardet==3.0.4\r\ncloudpickle==1.1.1\r\ncycler==0.10.0\r\ncymem==2.0.2\r\nCython==0.29.10\r\ndask==1.2.2\r\ndecorator==4.4.0\r\nenum34==1.1.6\r\ngast==0.2.2\r\ngoogle-pasta==0.1.7\r\ngrpcio==1.21.1\r\nh5py==2.9.0\r\nhtml5lib==0.9999999\r\nidna==2.8\r\nimportlib-metadata==0.17\r\njoblib==0.13.2\r\njsonschema==3.0.1\r\nKeras-Applications==1.0.8\r\nKeras-Preprocessing==1.1.0\r\nkiwisolver==1.1.0\r\nludwig==0.1.2\r\nMarkdown==3.1.1\r\nmatplotlib==3.0.3\r\nmock==3.0.5\r\nmore-itertools==7.0.0\r\nmurmurhash==1.0.2\r\nnetworkx==2.3\r\nnumpy==1.16.4\r\npackaging==19.0\r\npandas==0.24.2\r\npathlib2==2.3.3\r\nPillow==6.0.0\r\npkg-resources==0.0.0\r\nplac==0.9.6\r\npluggy==0.12.0\r\npreshed==2.0.1\r\nprotobuf==3.8.0\r\npy==1.8.0\r\npyparsing==2.4.0\r\npyrsistent==0.15.2\r\npytest==4.6.2\r\npython-dateutil==2.8.0\r\npytz==2019.1\r\nPyWavelets==1.0.3\r\nPyYAML==5.1\r\nrequests==2.22.0\r\nscikit-image==0.14.2\r\nscikit-learn==0.21.2\r\nscipy==1.3.0\r\nseaborn==0.9.0\r\nsix==1.12.0\r\nspacy==2.1.4\r\nsrsly==0.0.5\r\ntabulate==0.8.3\r\ntb-nightly==1.14.0a20190301\r\ntensorboard==1.13.1\r\ntensorflow==1.13.1\r\ntensorflow-estimator==1.13.0\r\ntensorflow-gpu==1.13.1\r\ntensorflow-tensorboard==0.4.0\r\ntermcolor==1.1.0\r\ntf-estimator-nightly==1.14.0.dev2019030115\r\nthinc==7.0.4\r\ntoolz==0.9.0\r\ntqdm==4.32.1\r\nurllib3==1.25.3\r\nwasabi==0.2.2\r\nwcwidth==0.1.7\r\nWerkzeug==0.15.4\r\nzipp==0.5.1","closed_by":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/365/timeline","performed_via_github_app":null,"state_reason":"completed"}