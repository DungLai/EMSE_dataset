{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1738","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1738/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1738/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1738/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/1738","id":1122571724,"node_id":"I_kwDOCbx2hs5C6RXM","number":1738,"title":"feat: Updates to  ludwig configuration for improved readability.","user":{"login":"brightsparc","id":360368,"node_id":"MDQ6VXNlcjM2MDM2OA==","avatar_url":"https://avatars.githubusercontent.com/u/360368?v=4","gravatar_id":"","url":"https://api.github.com/users/brightsparc","html_url":"https://github.com/brightsparc","followers_url":"https://api.github.com/users/brightsparc/followers","following_url":"https://api.github.com/users/brightsparc/following{/other_user}","gists_url":"https://api.github.com/users/brightsparc/gists{/gist_id}","starred_url":"https://api.github.com/users/brightsparc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brightsparc/subscriptions","organizations_url":"https://api.github.com/users/brightsparc/orgs","repos_url":"https://api.github.com/users/brightsparc/repos","events_url":"https://api.github.com/users/brightsparc/events{/privacy}","received_events_url":"https://api.github.com/users/brightsparc/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-02-03T01:55:14Z","updated_at":"2022-02-09T22:07:58Z","closed_at":"2022-02-09T22:07:58Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"**Is your feature request related to a problem? Please describe.**\r\nNo, this feature request relates to improving the readability of the configuration.\r\n\r\n**Describe the use case**\r\nThis feature request is to propose some changes the the ludwig yaml configuration which make explicit the encoder and decoder types and properties, and unnest the preprocessing configuration to be included at the same level of the input/output feature.\r\n\r\n**Describe the solution you'd like**\r\nI propose the following changes for properties in ludwig configuration:\r\n1. New top level `version` attribute in config file.\r\n2. Rename the `numerical` type to be `numeric`.\r\n3. Move `encoder` and `decoder` properties to be nested under input and output features, with a `type` property.\r\n4. Rename the `preprocessing` section to be `processor` given it is not specific to pre or post processing.\r\n5. Rename the `training` section to be `trainer` to be consistent with the `er` suffiix.\r\n\r\nThe following sample configuration provides an example of what the changes would look like:\r\n\r\n```\r\nversion: 0.5\r\nprocessor:\r\n    numeric:\r\n        missing_value_strategy: fill_with_mean\r\ninput_features:\r\n    -\r\n        name: numerical_column_name\r\n        type: numeric\r\n        encoder:\r\n             type: dense\r\n             num_layers: 1\r\n        processor:\r\n             missing_value_strategy: fill_value\r\n             fill_value: -1\r\n    -\r\n        name: binary_column_name\r\n        type: binary\r\n        encoder: \r\n            type: passthrough\r\noutput_features:\r\n    -\r\n        name: class_name\r\n        type: category\r\n        decoder:\r\n             loss:\r\n                  weight: 1.5\r\ncombiner:\r\n   type: concat\r\ntrainer:\r\n   epochs: 200\r\n```\r\n\r\nGiven this change will touch a large section of the code based, I am proposing we complete this before other breaking changes in 0.5.  To provide a smooth upgrade path, I propose we include a `version` attribute in the file, and a utility to support upgrade files that are not at the latest version 0.5\r\n\r\n**Describe alternatives you've considered**\r\nThe alternative is not change the configuration file.\r\n\r\n**Additional context**\r\nFor comparison, this would the original version of the above configuration file.\r\n\r\n```\r\npreprocessing:\r\n    numerical:\r\n        missing_value_strategy: fill_with_mean\r\ninput_features:\r\n    -\r\n        name: numerical_column_name\r\n        type: numerical\r\n        encoder: dense\r\n        num_layers: 1\r\n        preprocessing:\r\n             missing_value_strategy: fill_value\r\n             fill_value: -1\r\n    -\r\n        name: binary_column_name\r\n        type: binary\r\n        encoder: passthrough\r\noutput_features:\r\n    -\r\n        name: class_name\r\n        type: category\r\n        loss:\r\n              weight: 1.5\r\ncombiner:\r\n   type: concat\r\ntraining:\r\n   epochs: 200\r\n```\r\n","closed_by":{"login":"brightsparc","id":360368,"node_id":"MDQ6VXNlcjM2MDM2OA==","avatar_url":"https://avatars.githubusercontent.com/u/360368?v=4","gravatar_id":"","url":"https://api.github.com/users/brightsparc","html_url":"https://github.com/brightsparc","followers_url":"https://api.github.com/users/brightsparc/followers","following_url":"https://api.github.com/users/brightsparc/following{/other_user}","gists_url":"https://api.github.com/users/brightsparc/gists{/gist_id}","starred_url":"https://api.github.com/users/brightsparc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brightsparc/subscriptions","organizations_url":"https://api.github.com/users/brightsparc/orgs","repos_url":"https://api.github.com/users/brightsparc/repos","events_url":"https://api.github.com/users/brightsparc/events{/privacy}","received_events_url":"https://api.github.com/users/brightsparc/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1738/timeline","performed_via_github_app":null,"state_reason":"completed"}