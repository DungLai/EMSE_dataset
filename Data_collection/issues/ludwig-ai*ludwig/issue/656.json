{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/656","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/656/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/656/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/656/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/656","id":581426880,"node_id":"MDU6SXNzdWU1ODE0MjY4ODA=","number":656,"title":"Error initialising wandb using the --wandb flag with the CLI","user":{"login":"danielduckworth","id":18698360,"node_id":"MDQ6VXNlcjE4Njk4MzYw","avatar_url":"https://avatars.githubusercontent.com/u/18698360?v=4","gravatar_id":"","url":"https://api.github.com/users/danielduckworth","html_url":"https://github.com/danielduckworth","followers_url":"https://api.github.com/users/danielduckworth/followers","following_url":"https://api.github.com/users/danielduckworth/following{/other_user}","gists_url":"https://api.github.com/users/danielduckworth/gists{/gist_id}","starred_url":"https://api.github.com/users/danielduckworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielduckworth/subscriptions","organizations_url":"https://api.github.com/users/danielduckworth/orgs","repos_url":"https://api.github.com/users/danielduckworth/repos","events_url":"https://api.github.com/users/danielduckworth/events{/privacy}","received_events_url":"https://api.github.com/users/danielduckworth/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-03-14T23:59:41Z","updated_at":"2020-03-15T20:14:21Z","closed_at":"2020-03-15T00:12:13Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI'm trying to use the --wandb flag with the CLI using Google Colab.\r\n\r\nFirst I log in to wandb:\r\n\r\n!wandb login [hash]\r\n\r\nThen I define the wandb project:\r\n\r\nimport wandb\r\nwandb.init(project=\"isa-short-answer-scoring\")\r\n\r\nThen I run ludwig cli with the wandb flag.\r\n\r\n!ludwig experiment --data_csv \"file.csv\" --model_definition_file \"definition.yaml\" --wandb\r\n\r\nThe error is below:\r\n\r\nwandb.train_init() called...\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/ludwig\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/cli.py\", line 118, in main\r\n    CLI()\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/cli.py\", line 64, in __init__\r\n    getattr(self, args.command)()\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/cli.py\", line 69, in experiment\r\n    experiment.cli(sys.argv[2:])\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/experiment.py\", line 842, in cli\r\n    full_experiment(**vars(args))\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/experiment.py\", line 350, in full_experiment\r\n    **kwargs\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/experiment.py\", line 125, in experiment\r\n    **kwargs\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/train.py\", line 337, in full_train\r\n    resume=model_resume_path is not None)\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/contrib.py\", line 65, in contrib_command\r\n    method(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/ludwig/contribs/wandb.py\", line 57, in train_init\r\n    wandb.save(os.path.join(experiment_directory, \"*\"))\r\n  File \"/usr/local/lib/python3.6/dist-packages/wandb/__init__.py\", line 563, in save\r\n    \"You must call `wandb.init` before calling save\")\r\nValueError: You must call `wandb.init` before calling save\r\n\r\n**To Reproduce**\r\ntraining:\r\n dropout_rate: 0.2\r\n epochs: 50\r\n\r\ninput_features:\r\n-\r\n name: text\r\n type: text\r\n encoder: rnn\r\n pretrained_embeddings: glove.6B.300d.txt\r\n embedding_size: 300\r\n cell_type: lstm_cudnn\r\n bidirectional: true\r\n dropout: true\r\n\r\noutput_features:\r\n-\r\n name: score\r\n type: category\r\n\r\n**Expected behavior**\r\nRun training and log data to wandb\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Google Colab\r\n- Python version: 3.6\r\n- Ludwig version: 0.2.2.1\r\n","closed_by":{"login":"danielduckworth","id":18698360,"node_id":"MDQ6VXNlcjE4Njk4MzYw","avatar_url":"https://avatars.githubusercontent.com/u/18698360?v=4","gravatar_id":"","url":"https://api.github.com/users/danielduckworth","html_url":"https://github.com/danielduckworth","followers_url":"https://api.github.com/users/danielduckworth/followers","following_url":"https://api.github.com/users/danielduckworth/following{/other_user}","gists_url":"https://api.github.com/users/danielduckworth/gists{/gist_id}","starred_url":"https://api.github.com/users/danielduckworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielduckworth/subscriptions","organizations_url":"https://api.github.com/users/danielduckworth/orgs","repos_url":"https://api.github.com/users/danielduckworth/repos","events_url":"https://api.github.com/users/danielduckworth/events{/privacy}","received_events_url":"https://api.github.com/users/danielduckworth/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/656/timeline","performed_via_github_app":null,"state_reason":"completed"}