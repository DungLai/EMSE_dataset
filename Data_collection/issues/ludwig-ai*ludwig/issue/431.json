{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/431","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/431/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/431/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/431/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/431","id":468286744,"node_id":"MDU6SXNzdWU0NjgyODY3NDQ=","number":431,"title":"Docker set-up failure","user":{"login":"nikhilraog","id":5111077,"node_id":"MDQ6VXNlcjUxMTEwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5111077?v=4","gravatar_id":"","url":"https://api.github.com/users/nikhilraog","html_url":"https://github.com/nikhilraog","followers_url":"https://api.github.com/users/nikhilraog/followers","following_url":"https://api.github.com/users/nikhilraog/following{/other_user}","gists_url":"https://api.github.com/users/nikhilraog/gists{/gist_id}","starred_url":"https://api.github.com/users/nikhilraog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikhilraog/subscriptions","organizations_url":"https://api.github.com/users/nikhilraog/orgs","repos_url":"https://api.github.com/users/nikhilraog/repos","events_url":"https://api.github.com/users/nikhilraog/events{/privacy}","received_events_url":"https://api.github.com/users/nikhilraog/received_events","type":"User","site_admin":false},"labels":[{"id":1174068775,"node_id":"MDU6TGFiZWwxMTc0MDY4Nzc1","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/waiting%20for%20answer","name":"waiting for answer","color":"fff36b","default":false,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-07-15T19:04:23Z","updated_at":"2019-07-29T12:34:09Z","closed_at":"2019-07-15T22:36:58Z","author_association":"NONE","active_lock_reason":null,"body":"I'm trying to set-up container with ludwig using the ```https://github.com/uber/ludwig/blob/master/Dockerfile``` and my docker-compose file looks like this \r\n\r\n```\r\nversion: '3'\r\nservices:\r\n  web:\r\n    container_name: web\r\n    build: .\r\n    ports:\r\n      - \"5000:5000\"\r\n    volumes:\r\n      - .:/code\r\n    environment:\r\n      FLASK_ENV: development\r\n  ludwig: \r\n    build: \r\n      context: ludwig/\r\n  redis:\r\n    image: \"redis:alpine\"\r\n```\r\n\r\nI get the below errors while building \r\n```\r\n.\r\n.\r\n.\r\n.\r\nFailed to build gmpy\r\nERROR: fastapi 0.33.0 has requirement pydantic<=0.30.0,>=0.30, but you'll have pydantic 0.30.1 which is incompatible.\r\nInstalling collected packages: Cython, python-dateutil, cycler, kiwisolver, pyparsing, matplotlib, pytz, pandas, scipy, cloudpickle, toolz, dask, pillow, PyWavelets, decorator, networkx, scikit-image, joblib, scikit-learn, seaborn, cymem, srsly, murmurhash, preshed, blis, plac, wasabi, urllib3, certifi, chardet, requests, tqdm, thinc, spacy, tabulate, tensorboard, mock, tensorflow-estimator, tensorflow, PyYAML, attrs, atomicwrites, more-itertools, zipp, importlib-metadata, pluggy, wcwidth, py, packaging, pytest, gmpy, starlette, dataclasses, pydantic, fastapi, click, h11, websockets, httptools, uvloop, uvicorn, python-multipart\r\n  Found existing installation: tensorboard 1.14.0\r\n    Uninstalling tensorboard-1.14.0:\r\n      Successfully uninstalled tensorboard-1.14.0\r\n  Found existing installation: tensorflow-estimator 1.14.0\r\n    Uninstalling tensorflow-estimator-1.14.0:\r\n      Successfully uninstalled tensorflow-estimator-1.14.0\r\n  Found existing installation: tensorflow 1.14.0\r\n    Uninstalling tensorflow-1.14.0:\r\n      Successfully uninstalled tensorflow-1.14.0\r\n  Running setup.py install for gmpy: started\r\n    Running setup.py install for gmpy: finished with status 'error'\r\n    ERROR: Complete output from command /usr/bin/python3 -u -c 'import setuptools, tokenize;__file__='\"'\"'/tmp/pip-install-d6v9cv4z/gmpy/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-sv9t3yco/install-record.txt --single-version-externally-managed --compile:\r\n    ERROR: running install\r\n    running build\r\n    running build_ext\r\n    building 'gmpy' extension\r\n    creating build\r\n    creating build/temp.linux-x86_64-3.6\r\n    creating build/temp.linux-x86_64-3.6/src\r\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I./src -I/usr/include/python3.6m -c src/gmpy.c -o build/temp.linux-x86_64-3.6/src/gmpy.o\r\n    In file included from src/gmpy.c:251:0:\r\n    src/gmpy.h:30:10: fatal error: gmp.h: No such file or directory\r\n     #include \"gmp.h\"\r\n              ^~~~~~~\r\n    compilation terminated.\r\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command \"/usr/bin/python3 -u -c 'import setuptools, tokenize;__file__='\"'\"'/tmp/pip-install-d6v9cv4z/gmpy/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-sv9t3yco/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-install-d6v9cv4z/gmpy/\r\nERROR: Service 'ludwig' failed to build: The command '/bin/sh -c git clone --depth=1 https://github.com/uber/ludwig.git     && cd ludwig/     && pip install -r requirements.txt     && python -m spacy download en     && python setup.py install' returned a non-zero code: 1\r\n~/docker-related$ \r\n\r\n```\r\n\r\nAppreciate if anyone can let me know if I'm missing something. Thanks!","closed_by":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/431/timeline","performed_via_github_app":null,"state_reason":"completed"}