{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/415","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/415/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/415/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/415/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/415","id":464999132,"node_id":"MDU6SXNzdWU0NjQ5OTkxMzI=","number":415,"title":"Loading GloVe embeddings defaults to OS char encoding (win=CP1252)","user":{"login":"willaaam","id":41725149,"node_id":"MDQ6VXNlcjQxNzI1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/41725149?v=4","gravatar_id":"","url":"https://api.github.com/users/willaaam","html_url":"https://github.com/willaaam","followers_url":"https://api.github.com/users/willaaam/followers","following_url":"https://api.github.com/users/willaaam/following{/other_user}","gists_url":"https://api.github.com/users/willaaam/gists{/gist_id}","starred_url":"https://api.github.com/users/willaaam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willaaam/subscriptions","organizations_url":"https://api.github.com/users/willaaam/orgs","repos_url":"https://api.github.com/users/willaaam/repos","events_url":"https://api.github.com/users/willaaam/events{/privacy}","received_events_url":"https://api.github.com/users/willaaam/received_events","type":"User","site_admin":false},"labels":[{"id":1174068770,"node_id":"MDU6TGFiZWwxMTc0MDY4Nzcw","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/duplicate","name":"duplicate","color":"cfd3d7","default":true,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-07-07T22:18:20Z","updated_at":"2019-07-08T02:05:20Z","closed_at":"2019-07-08T02:04:37Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nProbably considered an edge case, but I was forced to work on windows today. Loading GloVe embeddings failed because it defaults loading the GloVe embeddings to the OS character encoding, which is CP1252 for windows.\r\n\r\nThis leads to an error:\r\nUnicodeDecodeError: 'charmap' codec can't decode byte 0x9d in position 6148: character maps to <undefined>\r\n\r\n**To Reproduce**\r\nBe in windows:\r\nLoad GloVe embeddings\r\n\r\n**Expected behavior**\r\nEasy resolution would be to force utf8 as this is the standard for downloadable GloVe embeddings in data_utils.py(174):\r\n\r\n```\r\ndef load_glove(file_path):\r\n    logging.info('  Loading Glove format file {}'.format(file_path))\r\n    embeddings = {}\r\n    with open(file_path, 'r', encoding=\"utf8\") as f:\r\n        for line in f:\r\n            if line:\r\n                split = line.split()\r\n                word = split[0]\r\n                embedding = np.array([float(val) for val in split[1:]])\r\n                embeddings[word] = embedding\r\n    logging.info('  {0} embeddings loaded'.format(len(embeddings)))\r\n    return embeddings\r\n```\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Windows\r\n - Version 10\r\n- Python 3.6.6\r\n- Ludwig version 0.1.2\r\n\r\n**Additional context**\r\n//","closed_by":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/415/timeline","performed_via_github_app":null,"state_reason":"completed"}