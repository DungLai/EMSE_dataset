{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/374","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/374/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/374/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/374/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/374","id":454163893,"node_id":"MDU6SXNzdWU0NTQxNjM4OTM=","number":374,"title":"Not predicting correctly?","user":{"login":"zackthefair","id":51504688,"node_id":"MDQ6VXNlcjUxNTA0Njg4","avatar_url":"https://avatars.githubusercontent.com/u/51504688?v=4","gravatar_id":"","url":"https://api.github.com/users/zackthefair","html_url":"https://github.com/zackthefair","followers_url":"https://api.github.com/users/zackthefair/followers","following_url":"https://api.github.com/users/zackthefair/following{/other_user}","gists_url":"https://api.github.com/users/zackthefair/gists{/gist_id}","starred_url":"https://api.github.com/users/zackthefair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zackthefair/subscriptions","organizations_url":"https://api.github.com/users/zackthefair/orgs","repos_url":"https://api.github.com/users/zackthefair/repos","events_url":"https://api.github.com/users/zackthefair/events{/privacy}","received_events_url":"https://api.github.com/users/zackthefair/received_events","type":"User","site_admin":false},"labels":[{"id":1174068775,"node_id":"MDU6TGFiZWwxMTc0MDY4Nzc1","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/waiting%20for%20answer","name":"waiting for answer","color":"fff36b","default":false,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-06-10T13:12:25Z","updated_at":"2019-06-15T23:16:46Z","closed_at":"2019-06-11T18:25:44Z","author_association":"NONE","active_lock_reason":null,"body":"I have 2 questions:\r\n\r\nQuestion 1)\r\nI am building a movie rating prediction model. \r\n\r\nmy yaml file is:\r\n```\r\ninput_features:\r\n    -\r\n        name: genres\r\n        type: set\r\n    -\r\n        name: popularity\r\n        type: numerical\r\n    -\r\n        name: tagline\r\n        type: category\r\n    -\r\n        name: production_companies\r\n        type: set\r\n\r\noutput_features:\r\n    -\r\n        name: vote_average\r\n        type: numerical\r\n```\r\nWhen I use ludwig test or ludwig predict, terminal doesn't return what it used to return in other predictions: stuff like \r\n```\r\n===== TARGET COLUMN =====\r\naccuracy: \r\nhits_at_k: \r\nloss: 0.8959801991780599\r\noverall_stats: { 'avg_f1_score_macro': \r\n  'avg_f1_score_micro':\r\nETC...\r\n```\r\nInstead, terminal is returning me:\r\n```\r\nWARNING: The TensorFlow contrib module will not be included in TensorFlow 2.0.\r\nFor more information, please see:\r\n  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md\r\n  * https://github.com/tensorflow/addons\r\nIf you depend on functionality not listed there, please file an issue.\r\n\r\n███████████████████████\r\n█ █ █ █  ▜█ █ █ █ █   █\r\n█ █ █ █ █ █ █ █ █ █ ███\r\n█ █   █ █ █ █ █ █ █ ▌ █\r\n█ █████ █ █ █ █ █ █ █ █\r\n█     █  ▟█     █ █   █\r\n███████████████████████\r\nludwig v0.1.2 - Test\r\n\r\nDataset path: tmdb_5000_movies.csv\r\nModel path: results/experiment_run_0/model/\r\nOutput path: results_0\r\n\r\nFound hdf5 with the same filename of the csv, using it instead\r\nLoading metadata from: results/experiment_run_0/model/train_set_metadata.json\r\nLoading data from: tmdb_5000_movies.hdf5\r\n\r\n╒═══════════════╕\r\n│ LOADING MODEL │\r\n╘═══════════════╛\r\n\r\nFrom /usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\nFrom /usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/losses/losses_impl.py:667: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\nFrom /usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/array_grad.py:425: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\nFrom /usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/math_grad.py:102: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nDeprecated in favor of operator or tf.math.divide.\r\n\r\n╒═════════╕\r\n│ PREDICT │\r\n╘═════════╛\r\n\r\n2019-06-10 13:05:29.377155: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2019-06-10 13:05:29.538029: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2019-06-10 13:05:29.538538: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x270d020 executing computations on platform CUDA. Devices:\r\n2019-06-10 13:05:29.538568: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): Tesla T4, Compute Capability 7.5\r\n2019-06-10 13:05:29.540367: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2200000000 Hz\r\n2019-06-10 13:05:29.540680: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x270d440 executing computations on platform Host. Devices:\r\n2019-06-10 13:05:29.540712: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>\r\n2019-06-10 13:05:29.541001: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1433] Found device 0 with properties: \r\nname: Tesla T4 major: 7 minor: 5 memoryClockRate(GHz): 1.59\r\npciBusID: 0000:00:04.0\r\ntotalMemory: 14.73GiB freeMemory: 14.60GiB\r\n2019-06-10 13:05:29.541025: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1512] Adding visible gpu devices: 0\r\n2019-06-10 13:05:29.541673: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2019-06-10 13:05:29.541699: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990]      0 \r\n2019-06-10 13:05:29.541712: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1003] 0:   N \r\n2019-06-10 13:05:29.541974: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 14202 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:04.0, compute capability: 7.5)\r\nFrom /usr/local/lib/python3.6/dist-packages/tensorflow/python/training/saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse standard file APIs to check for files with this prefix.\r\nRestoring parameters from results/experiment_run_0/model/model_weights\r\nEvaluation:   0% 0/8 [00:00<?, ?it/s]2019-06-10 13:05:30.394744: I tensorflow/stream_executor/dso_loader.cc:152] successfully opened CUDA library libcublas.so.10.0 locally\r\nEvaluation: 100% 8/8 [00:02<00:00,  1.50s/it]\r\n\r\n===== vote_average =====\r\nerror: 0.12470193587586471\r\nloss: 1.4600357071625139\r\nmean_absolute_error: 0.9010308397364916\r\nmean_squared_error: 1.4600357071625139\r\nr2: -0.002586167414816852\r\nSaved to: results_0\r\n```\r\nIn other words, it's returning the best values it found for the training section\r\n\r\nps: I'm using Colab. Don't know if it has something to do with it, but might be useful in order to know how to solve it","closed_by":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/374/timeline","performed_via_github_app":null,"state_reason":"completed"}