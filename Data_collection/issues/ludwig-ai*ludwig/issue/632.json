{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/632","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/632/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/632/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/632/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/632","id":562952624,"node_id":"MDU6SXNzdWU1NjI5NTI2MjQ=","number":632,"title":"bug: test_contrib_wandb.py unit test fails ModuleNotFoundError: No module named 'six.moves.collections_abc'","user":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-02-11T03:14:02Z","updated_at":"2020-02-11T21:33:09Z","closed_at":"2020-02-11T21:33:09Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"**Describe the bug**\r\n@w4nderlust   I noticed that when you merged couple of my PRs, the unit tests `tests/integration_tests/test_contrib_wandb.py` failed with this error:\r\n``` \r\n==================================== ERRORS ====================================\r\n483________ ERROR collecting tests/integration_tests/test_contrib_wandb.py ________\r\n484ImportError while importing test module '/home/travis/build/uber/ludwig/tests/integration_tests/test_contrib_wandb.py'.\r\n485Hint: make sure your test modules/packages have valid Python names.\r\n486Traceback:\r\n487tests/integration_tests/test_contrib_wandb.py:12: in <module>\r\n488    import wandb\r\n489../../../virtualenv/python3.6.7/lib/python3.6/site-packages/wandb/__init__.py:45: in <module>\r\n490    from wandb.apis import InternalApi, PublicApi, CommError\r\n491../../../virtualenv/python3.6.7/lib/python3.6/site-packages/wandb/apis/__init__.py:97: in <module>\r\n492    from .file_stream import FileStreamApi\r\n493../../../virtualenv/python3.6.7/lib/python3.6/site-packages/wandb/apis/file_stream.py:11: in <module>\r\n494    from wandb import util\r\n495../../../virtualenv/python3.6.7/lib/python3.6/site-packages/wandb/util.py:46: in <module>\r\n496    from wandb import wandb_config\r\n497../../../virtualenv/python3.6.7/lib/python3.6/site-packages/wandb/wandb_config.py:2: in <module>\r\n498    from six.moves.collections_abc import Sequence\r\n499E   ModuleNotFoundError: No module named 'six.moves.collections_abc'\r\n500!!!!!!!!!!!!!!!!!!! Interrupted: 1 errors during collection !!!!!!!!!!!!!!!!!!!!\r\n501=========================== 1 error in 3.80 seconds ============================\r\n```\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nSubmit PR\r\n\r\n**Expected behavior**\r\nUnit test should not fail\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Environment (please complete the following information):**\r\n**Travis-ci environment**\r\nand my local docker container\r\n - OS: [e.g. iOS] MacOS 10.15.3\r\n - Docker for Mac: 2.2.0.0\r\n- Python version: Py 3.6\r\n- Ludwig version 2.1\r\n\r\n**Additional context**\r\nFailure due mis-match dependency between package `six 1.11.0` and `wandb 0.8.26`, which became available on PyPi on 10Feb.  Version `wandb 0.8.26` requires `six 1.13.0`.  However, the environment build installs `six 1.11.0`.\r\n\r\nOne possible fix is to add `six==1.13.0` to `requirements_test.txt`. I've tested this locally and all unit tests pass.\r\n```\r\n# pip list | grep wandb\r\nwandb                0.8.26\r\n# pip list | grep six\r\nsix                  1.13.0\r\n# pytest tests\r\n============================= test session starts ==============================\r\nplatform linux -- Python 3.6.9, pytest-5.3.5, py-1.8.1, pluggy-0.13.1\r\nrootdir: /opt/project\r\ncollected 81 items\r\n\r\n../../tests/integration_tests/test_api.py .                              [  1%]\r\n../../tests/integration_tests/test_contrib_wandb.py .                    [  2%]\r\n../../tests/integration_tests/test_experiment.py ...................     [ 25%]\r\n../../tests/integration_tests/test_kfold_cv.py ...                       [ 29%]\r\n../../tests/integration_tests/test_server.py .                           [ 30%]\r\n../../tests/integration_tests/test_visualization.py .................... [ 55%]\r\n......                                                                   [ 62%]\r\n../../tests/integration_tests/test_visualization_api.py ................ [ 82%]\r\n......                                                                   [ 90%]\r\n../../tests/ludwig/models/modules/test_encoder.py ....                   [ 95%]\r\n../../tests/ludwig/utils/test_data_utils.py .                            [ 96%]\r\n../../tests/ludwig/utils/test_image_utils.py ..                          [ 98%]\r\n../../tests/ludwig/utils/test_normalization.py .                         [100%]\r\n\r\n=============================== warnings summary ===============================\r\n<<<< DELETED WARNING LINES >>>>>>>>\r\n================ 81 passed, 7480 warnings in 488.79s (0:08:08) =================\r\n\r\n```\r\n\r\nIf this seems reasonable, I can submit a PR\r\n","closed_by":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/632/timeline","performed_via_github_app":null,"state_reason":"completed"}