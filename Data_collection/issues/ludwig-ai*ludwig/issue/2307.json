{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2307","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2307/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2307/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2307/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/2307","id":1316936394,"node_id":"I_kwDOCbx2hs5OftrK","number":2307,"title":"Support for specific tag formats in named entity recognition ","user":{"login":"henchaves","id":44180294,"node_id":"MDQ6VXNlcjQ0MTgwMjk0","avatar_url":"https://avatars.githubusercontent.com/u/44180294?v=4","gravatar_id":"","url":"https://api.github.com/users/henchaves","html_url":"https://github.com/henchaves","followers_url":"https://api.github.com/users/henchaves/followers","following_url":"https://api.github.com/users/henchaves/following{/other_user}","gists_url":"https://api.github.com/users/henchaves/gists{/gist_id}","starred_url":"https://api.github.com/users/henchaves/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henchaves/subscriptions","organizations_url":"https://api.github.com/users/henchaves/orgs","repos_url":"https://api.github.com/users/henchaves/repos","events_url":"https://api.github.com/users/henchaves/events{/privacy}","received_events_url":"https://api.github.com/users/henchaves/received_events","type":"User","site_admin":false},"labels":[{"id":1174068775,"node_id":"MDU6TGFiZWwxMTc0MDY4Nzc1","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/waiting%20for%20answer","name":"waiting for answer","color":"fff36b","default":false,"description":"Further information is requested"}],"state":"open","locked":false,"assignee":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"assignees":[{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2022-07-25T14:36:45Z","updated_at":"2022-10-04T04:21:29Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Is your feature request related to a problem? Please describe.**\r\nI followed the [tutorial on Named Entity Recognition](https://ludwig-ai.github.io/ludwig-docs/0.5/examples/ner_tagging/). Then I noticed that the tag format was not following any of the most used tag formats (standoff, [IOB2](https://en.wikipedia.org/wiki/Inside%E2%80%93outside%E2%80%93beginning_(tagging)#:~:text=The%20IOB%20format%20(short%20for,named%2Dentity%20recognition).), BILUO, etc.). Is it possible to add support for at least one of these tag formats?\r\n\r\n**Describe the use case**\r\nI tried to train a model replacing the tag format presented in the tutorial (too simple and ambiguous for my project) with the IOB2 format. \r\n\r\nFor example, I replaced the tags `Movie Movie O O Date O O O O O O Person Person` with `B-Movie I-Movie O O B-Date O O O O O O B-Person I-Person` for the text \"_Blade Runner is a 1982 neo-noir science fiction film directed by Ridley Scott_\".\r\n\r\nBut when I predicted some data points with this trained model, I got tags that were not following the positioning rule, for example (hypothetical): \r\n\"_Harrison Ford and Rutger Hauer starred in it_\" - `I-Person I-Person O B-Person I-Person O O O`\r\n\r\nVisualising the output for the \"_Harrison Ford_\" text slice, we can see that the model incorrectly gives the first token (\"_Harrison_\") an `I-Person` tag even if the previous token doesn't have a `B-Person` tag. The expected output is what I got for \"_Rutger Hauer_\", in which the tags for both tokens are following the positioning correctly.\r\n\r\n**Describe the solution you'd like**\r\nThe expected solution is always to get the correct position of the tags, so it would be great if we could type a specific tag format (e.g. IOB2), and the model automatically verifies the tag positions of the outputs, making the necessary replacements when it finds errors.\r\n\r\n**Describe alternatives you've considered**\r\nI can solve these errors by my side, but it is expected for a named-entity recognition model to automatically returns a clean output without needing extra verification.\r\n\r\n**Additional context**\r\nA real example of model results not following the tag format (IOB2) on which it was trained:\r\nhttps://prnt.sc/9SFilgpvlusX\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2307/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2307/timeline","performed_via_github_app":null,"state_reason":null}