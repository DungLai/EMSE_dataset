{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1617","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1617/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1617/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1617/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/1617","id":1086113840,"node_id":"I_kwDOCbx2hs5AvMgw","number":1617,"title":"[tf-legacy] input_features type mismatch in combiners","user":{"login":"jeffreyftang","id":810895,"node_id":"MDQ6VXNlcjgxMDg5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/810895?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffreyftang","html_url":"https://github.com/jeffreyftang","followers_url":"https://api.github.com/users/jeffreyftang/followers","following_url":"https://api.github.com/users/jeffreyftang/following{/other_user}","gists_url":"https://api.github.com/users/jeffreyftang/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffreyftang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffreyftang/subscriptions","organizations_url":"https://api.github.com/users/jeffreyftang/orgs","repos_url":"https://api.github.com/users/jeffreyftang/repos","events_url":"https://api.github.com/users/jeffreyftang/events{/privacy}","received_events_url":"https://api.github.com/users/jeffreyftang/received_events","type":"User","site_admin":false},"labels":[{"id":1174068769,"node_id":"MDU6TGFiZWwxMTc0MDY4NzY5","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"jeffreyftang","id":810895,"node_id":"MDQ6VXNlcjgxMDg5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/810895?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffreyftang","html_url":"https://github.com/jeffreyftang","followers_url":"https://api.github.com/users/jeffreyftang/followers","following_url":"https://api.github.com/users/jeffreyftang/following{/other_user}","gists_url":"https://api.github.com/users/jeffreyftang/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffreyftang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffreyftang/subscriptions","organizations_url":"https://api.github.com/users/jeffreyftang/orgs","repos_url":"https://api.github.com/users/jeffreyftang/repos","events_url":"https://api.github.com/users/jeffreyftang/events{/privacy}","received_events_url":"https://api.github.com/users/jeffreyftang/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeffreyftang","id":810895,"node_id":"MDQ6VXNlcjgxMDg5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/810895?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffreyftang","html_url":"https://github.com/jeffreyftang","followers_url":"https://api.github.com/users/jeffreyftang/followers","following_url":"https://api.github.com/users/jeffreyftang/following{/other_user}","gists_url":"https://api.github.com/users/jeffreyftang/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffreyftang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffreyftang/subscriptions","organizations_url":"https://api.github.com/users/jeffreyftang/orgs","repos_url":"https://api.github.com/users/jeffreyftang/repos","events_url":"https://api.github.com/users/jeffreyftang/events{/privacy}","received_events_url":"https://api.github.com/users/jeffreyftang/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2021-12-21T18:46:31Z","updated_at":"2022-06-01T21:18:54Z","closed_at":"2022-06-01T21:18:54Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"**Describe the bug**\r\nOn the `tf-legacy` branch, combiners expect `input_features` to be a list, but `build_inputs()` outputs an `OrderedDict`. In particular, this causes the `TabTransformerCombiner` to break.\r\n\r\n**To Reproduce**\r\nAttempt to train a model using the `titanic` dataset. Sample config:\r\n\r\n```\r\ninput_features:\r\n  - name: Pclass\r\n    type: category\r\n    column: Pclass\r\n  - name: Sex\r\n    type: category\r\n    column: Sex\r\n  - name: Age\r\n    type: numerical\r\n    column: Age\r\n  - name: SibSp\r\n    type: numerical\r\n    column: SibSp\r\n  - name: Parch\r\n    type: numerical\r\n    column: Parch\r\n  - name: Ticket\r\n    type: category\r\n    column: Ticket\r\n  - name: Fare\r\n    type: numerical\r\n    column: Fare\r\n  - name: Cabin\r\n    type: category\r\n    column: Cabin\r\n  - name: Embarked\r\n    type: category\r\n    column: Embarked\r\noutput_features:\r\n  - name: Survived\r\n    type: category\r\n    column: Survived\r\ncombiner:\r\n  type: tabtransformer\r\n  num_layers: 1\r\n  hidden_size: 256\r\n  num_heads: 8\r\n  transformer_fc_size: 256\r\n  dropout: 0.1\r\n  num_fc_layers: 0\r\n  fc_size: 256\r\n  use_bias: true\r\n  weights_initializer: glorot_uniform\r\n  bias_initializer: zeros\r\n  fc_activation: relu\r\n  fc_dropout: 0\r\n  fc_residual: false\r\n  reduce_output: concat\r\n```\r\n\r\n**Expected behavior**\r\nTraining succeeds.\r\n","closed_by":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1617/timeline","performed_via_github_app":null,"state_reason":"completed"}