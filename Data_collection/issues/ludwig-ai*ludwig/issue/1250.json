{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1250","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1250/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1250/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1250/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/1250","id":959211602,"node_id":"MDU6SXNzdWU5NTkyMTE2MDI=","number":1250,"title":"Ensuring Teacher Forcing During Prediction of Seq2Seq Experiment","user":{"login":"Losbal","id":64136537,"node_id":"MDQ6VXNlcjY0MTM2NTM3","avatar_url":"https://avatars.githubusercontent.com/u/64136537?v=4","gravatar_id":"","url":"https://api.github.com/users/Losbal","html_url":"https://github.com/Losbal","followers_url":"https://api.github.com/users/Losbal/followers","following_url":"https://api.github.com/users/Losbal/following{/other_user}","gists_url":"https://api.github.com/users/Losbal/gists{/gist_id}","starred_url":"https://api.github.com/users/Losbal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Losbal/subscriptions","organizations_url":"https://api.github.com/users/Losbal/orgs","repos_url":"https://api.github.com/users/Losbal/repos","events_url":"https://api.github.com/users/Losbal/events{/privacy}","received_events_url":"https://api.github.com/users/Losbal/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-08-03T15:03:18Z","updated_at":"2021-08-04T07:18:44Z","closed_at":"2021-08-04T07:18:44Z","author_association":"NONE","active_lock_reason":null,"body":"I am running `ludwig experiment` in the CLI to train a transformer model with just one input feature and one output feature as part of a grammatical error correction task, where the input is an English sentence which may contain an error and the output is the corrected version of that sentence, if any errors and any corrections are to be made at all. Both features are tokenized at the word level with `english_tokenize` and I can see from the predicted output that the vocabulary of each predicted correction is very different from its input sentence. I suspect that this is because `experiment` is using a greedy strategy instead of teacher forcing during target sentence prediction, if I understand @w4nderlust 's comment in the issue below correctly.\r\n\r\n#479\r\n> The decoder helper uses a greedy strategy for obtaining the predictions in evaluation mode, while it uses teacher forcing for training. Will clarify this in the docs.\r\n\r\nIs there a way to add a method for switching from greedy to teacher forcing without having to modify `recurrent_modules.py` or `sequence_decoders.py`? Is there perhaps already a method for doing this from the config file that is potentially missing from the documentation? I am sorry that I am not more familiar and experienced with this to resolve it on my own and I am incredibly grateful for your help!","closed_by":{"login":"Losbal","id":64136537,"node_id":"MDQ6VXNlcjY0MTM2NTM3","avatar_url":"https://avatars.githubusercontent.com/u/64136537?v=4","gravatar_id":"","url":"https://api.github.com/users/Losbal","html_url":"https://github.com/Losbal","followers_url":"https://api.github.com/users/Losbal/followers","following_url":"https://api.github.com/users/Losbal/following{/other_user}","gists_url":"https://api.github.com/users/Losbal/gists{/gist_id}","starred_url":"https://api.github.com/users/Losbal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Losbal/subscriptions","organizations_url":"https://api.github.com/users/Losbal/orgs","repos_url":"https://api.github.com/users/Losbal/repos","events_url":"https://api.github.com/users/Losbal/events{/privacy}","received_events_url":"https://api.github.com/users/Losbal/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1250/timeline","performed_via_github_app":null,"state_reason":"completed"}