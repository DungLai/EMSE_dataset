{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2498","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2498/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2498/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2498/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/2498","id":1373902562,"node_id":"I_kwDOCbx2hs5R5Bbi","number":2498,"title":"best practice to tune configs to avoid OOM issue","user":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":{"login":"ShreyaR","id":5787923,"node_id":"MDQ6VXNlcjU3ODc5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/5787923?v=4","gravatar_id":"","url":"https://api.github.com/users/ShreyaR","html_url":"https://github.com/ShreyaR","followers_url":"https://api.github.com/users/ShreyaR/followers","following_url":"https://api.github.com/users/ShreyaR/following{/other_user}","gists_url":"https://api.github.com/users/ShreyaR/gists{/gist_id}","starred_url":"https://api.github.com/users/ShreyaR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShreyaR/subscriptions","organizations_url":"https://api.github.com/users/ShreyaR/orgs","repos_url":"https://api.github.com/users/ShreyaR/repos","events_url":"https://api.github.com/users/ShreyaR/events{/privacy}","received_events_url":"https://api.github.com/users/ShreyaR/received_events","type":"User","site_admin":false},"assignees":[{"login":"ShreyaR","id":5787923,"node_id":"MDQ6VXNlcjU3ODc5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/5787923?v=4","gravatar_id":"","url":"https://api.github.com/users/ShreyaR","html_url":"https://github.com/ShreyaR","followers_url":"https://api.github.com/users/ShreyaR/followers","following_url":"https://api.github.com/users/ShreyaR/following{/other_user}","gists_url":"https://api.github.com/users/ShreyaR/gists{/gist_id}","starred_url":"https://api.github.com/users/ShreyaR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShreyaR/subscriptions","organizations_url":"https://api.github.com/users/ShreyaR/orgs","repos_url":"https://api.github.com/users/ShreyaR/repos","events_url":"https://api.github.com/users/ShreyaR/events{/privacy}","received_events_url":"https://api.github.com/users/ShreyaR/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2022-09-15T04:30:05Z","updated_at":"2022-09-17T06:41:47Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I created an issue https://github.com/ludwig-ai/ludwig/issues/2154 in the past and get some clues. When I get my hands dirty, I feel it's still hard.\r\n\r\nI tried to read files remotely and notice ray dataset consumes lots of memory and may lead to OOM issue. \r\nCurrently, each trial consumes 1 cpu. then total cpu available decides the parallelism. However, in this case, it's hard to estimate the memory usage. compute pod (I use kubernetes) will be killed due to OOM issue easily.\r\n\r\nSeems we can limit the parallelism by setting `hyperopt.executor.max_concurrent_trials` but the side effect is the rest CPU would be  idle? \r\n\r\nI am using CPU to process and train tabular data. Is there an easy formula to calculate the resource estimation? \r\n\r\n\r\nHere's one case I meet OOM issue\r\nresource: cpu 8 core, memory 8G. This is an example to read `rotten_tomatoes.csv`.  (10M..)\r\n\r\n![image](https://user-images.githubusercontent.com/4739316/190313632-c267a096-9bfc-4944-a549-3307b1a8e728.png)\r\n\r\n![image](https://user-images.githubusercontent.com/4739316/190313662-b6d3cf27-9a6a-4e3b-87af-df6a1e2069c8.png)\r\n\r\n\r\n\r\n\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2498/timeline","performed_via_github_app":null,"state_reason":null}