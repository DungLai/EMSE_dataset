{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/321","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/321/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/321/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/321/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/321","id":439648749,"node_id":"MDU6SXNzdWU0Mzk2NDg3NDk=","number":321,"title":"ResNet size in image_encoders incoherent with convolutional_modules","user":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"labels":[{"id":1174068769,"node_id":"MDU6TGFiZWwxMTc0MDY4NzY5","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-05-02T15:22:45Z","updated_at":"2019-05-02T23:12:43Z","closed_at":"2019-05-02T23:12:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nIn ludwig\\image_encoders.py within init of class ResNetEncoder on line 115 there's a check that enforces resnet size to follow 6n+2 rule.\r\nIn ludwig/models/modules/convolutional_modules.py within get_resnet_block_sizes on line 663 there's a fixed list of choices that don't align with the previous filtering made by image_encoders.py\r\nIt's maybe my second attempt at using ResNets, but even if my understanding of the background logic is wrong (and this is the intended behavior), some more detailed error messages could be provided.\r\nAFAIK resnet size 34 and 101 specified in the choices list are non-reachable. Maybe resnet size 101 follows the v2 rule of 9n+2 ?\r\n\r\n**To Reproduce**\r\nTry to train a model with encoder: resnet and resnet_size: 34 -> it will tell you that you must follow 6n+2 rule\r\nTry to train a model with encoder: resnet and resnet_size: 38 -> it will tell you that there are no layers available for the size chosen\r\n\r\n**Expected behavior**\r\nAny possible and usable value should be correctly parsed, any non-usable value should be \"filtered\" in image_encoders.py, without trying to create the conv module for a nonexisting block size\r\n\r\n**Environment**\r\n- Python 3.6.8\r\n- Ludwig 0.1.2\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n","closed_by":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/321/timeline","performed_via_github_app":null,"state_reason":"completed"}