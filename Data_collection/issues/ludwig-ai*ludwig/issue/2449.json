{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2449","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2449/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2449/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2449/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/2449","id":1360974895,"node_id":"I_kwDOCbx2hs5RHtQv","number":2449,"title":"[Hyperopt] `num_samples` doesn't work well with only `grid_search` parameter spaces","user":{"login":"arnavgarg1","id":106701836,"node_id":"U_kgDOBlwkDA","avatar_url":"https://avatars.githubusercontent.com/u/106701836?v=4","gravatar_id":"","url":"https://api.github.com/users/arnavgarg1","html_url":"https://github.com/arnavgarg1","followers_url":"https://api.github.com/users/arnavgarg1/followers","following_url":"https://api.github.com/users/arnavgarg1/following{/other_user}","gists_url":"https://api.github.com/users/arnavgarg1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnavgarg1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnavgarg1/subscriptions","organizations_url":"https://api.github.com/users/arnavgarg1/orgs","repos_url":"https://api.github.com/users/arnavgarg1/repos","events_url":"https://api.github.com/users/arnavgarg1/events{/privacy}","received_events_url":"https://api.github.com/users/arnavgarg1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-09-03T22:34:06Z","updated_at":"2022-09-21T20:08:14Z","closed_at":"2022-09-21T20:08:14Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Say you have the following search space:\r\n\r\n```\r\n    search_parameters = {\r\n        \"trainer.learning_rate\": {\"space\": \"grid_search\", \"values\": [0.001, 0.005, 0.01]},\r\n        output_feature_name + \".output_size\": {\"space\": \"grid_search\", \"values\": [16, 21, 36]},\r\n        output_feature_name + \".num_fc_layers\": {\"space\": \"grid_search\", \"values\": [1, 3, 6]},\r\n    }\r\n\r\n    hyperopt_configs = {\r\n        \"parameters\": search_parameters,\r\n        \"goal\": \"minimize\",\r\n        \"output_feature\": output_feature_name,\r\n        \"validation_metrics\": \"loss\",\r\n        \"executor\": {TYPE: \"ray\", \"num_samples\": 1},\r\n        \"search_alg\": {TYPE: \"variant_generator\"},\r\n    }\r\n```\r\n\r\nWhen `num_samples` is set to 1 in this case, it produces 27 trials as expected. However, if `num_samples` is set to 2, then it produces 54 trials, which essentially includes a duplicate of each of the 27 trials.\r\n\r\n**Expected behavior**: Ludwig can detect this and modify `num_samples` to 1 if only grid_search parameters are being used in the search space to avoid duplication of trials. ","closed_by":{"login":"arnavgarg1","id":106701836,"node_id":"U_kgDOBlwkDA","avatar_url":"https://avatars.githubusercontent.com/u/106701836?v=4","gravatar_id":"","url":"https://api.github.com/users/arnavgarg1","html_url":"https://github.com/arnavgarg1","followers_url":"https://api.github.com/users/arnavgarg1/followers","following_url":"https://api.github.com/users/arnavgarg1/following{/other_user}","gists_url":"https://api.github.com/users/arnavgarg1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnavgarg1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnavgarg1/subscriptions","organizations_url":"https://api.github.com/users/arnavgarg1/orgs","repos_url":"https://api.github.com/users/arnavgarg1/repos","events_url":"https://api.github.com/users/arnavgarg1/events{/privacy}","received_events_url":"https://api.github.com/users/arnavgarg1/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2449/timeline","performed_via_github_app":null,"state_reason":"completed"}