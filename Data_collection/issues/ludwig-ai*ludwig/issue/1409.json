{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1409","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1409/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1409/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1409/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/1409","id":1032727841,"node_id":"I_kwDOCbx2hs49ji0h","number":1409,"title":"[ray] Fix auto batch size and learning rate detection with remote backend","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"labels":[{"id":1174068769,"node_id":"MDU6TGFiZWwxMTc0MDY4NzY5","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-10-21T17:04:58Z","updated_at":"2022-05-17T17:21:00Z","closed_at":"2022-05-17T17:21:00Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"In the current implementation, both the `tune_learning_rate` and `tune_batch_size` methods of the Trainer are not implemented for remote backends. This means they will default to running locally, but this is not useful if the remote trainer uses a GPU, as the head node will not have a GPU in its context.\r\n\r\nSimilarly, the current implementation sets the batch_size and learning_rate properties on the Trainer itself, instead of returning them as a pure function. This means that the remote trainer will not be able to pick up the new batch size, as it will be running a different instance of the trainer in the remote context.\r\n\r\nWhat we should do instead is change these functions to run remotely, with GPUs if available. We should also remove side effects from these functions so that the learning rate and batch size can be passed in to the remote trainer statelessly.","closed_by":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1409/timeline","performed_via_github_app":null,"state_reason":"completed"}