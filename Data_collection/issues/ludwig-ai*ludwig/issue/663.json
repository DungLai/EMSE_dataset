{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/663","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/663/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/663/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/663/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/663","id":587360423,"node_id":"MDU6SXNzdWU1ODczNjA0MjM=","number":663,"title":"Difference in accuracy between tensorflow-GPU and tensorflow-CPU with 10x kfold","user":{"login":"danielduckworth","id":18698360,"node_id":"MDQ6VXNlcjE4Njk4MzYw","avatar_url":"https://avatars.githubusercontent.com/u/18698360?v=4","gravatar_id":"","url":"https://api.github.com/users/danielduckworth","html_url":"https://github.com/danielduckworth","followers_url":"https://api.github.com/users/danielduckworth/followers","following_url":"https://api.github.com/users/danielduckworth/following{/other_user}","gists_url":"https://api.github.com/users/danielduckworth/gists{/gist_id}","starred_url":"https://api.github.com/users/danielduckworth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielduckworth/subscriptions","organizations_url":"https://api.github.com/users/danielduckworth/orgs","repos_url":"https://api.github.com/users/danielduckworth/repos","events_url":"https://api.github.com/users/danielduckworth/events{/privacy}","received_events_url":"https://api.github.com/users/danielduckworth/received_events","type":"User","site_admin":false},"labels":[{"id":1174068775,"node_id":"MDU6TGFiZWwxMTc0MDY4Nzc1","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/waiting%20for%20answer","name":"waiting for answer","color":"fff36b","default":false,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-03-25T00:26:54Z","updated_at":"2020-03-27T00:18:04Z","closed_at":"2020-03-27T00:18:03Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI've been running some trials comparing results of ludwig using tensorflow with GPU and CPU.\r\n\r\nWith an identical dataset and using 10x kfolds there are significant differences in the mean kfold accuracy.\r\n\r\nOn three separate datasets I got the following mean kfold accuracy with tensorflow-gpu:\r\n\r\n0.903\r\n0.893\r\n0.801\r\n\r\nOn the same datasets I got the following results with tensorflow-cpu:\r\n\r\n0.965\r\n0.988\r\n0.949\r\n\r\n\r\n**To Reproduce**\r\n\r\nFor the GPU runs I install ludwig from github and modify the requirements.txt to use \"tensorflow-gpu==1.15.2\"\r\n\r\nFor the CPU runs I install ludwig using !pip install ludwig\r\n\r\n\r\n**Expected behavior**\r\nI expected the results to differ by no more than 1% - 2%.\r\n\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Google Colab\r\n- Python version: 3.6\r\n- Ludwig version: 0.2.2\r\n\r\n**Additional context**\r\n\r\nOne thing I noticed was a slight difference in the version of tensorflow between GPU and CPU.\r\n\r\nI ran the following:\r\n\r\nimport tensorflow as tf\r\nprint(tf.__version__)\r\n\r\nFor the GPU install of tensorflow the version is 1.15.0\r\nFor the CPU install of tensorflow the version is 1.15.2\r\n","closed_by":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/663/timeline","performed_via_github_app":null,"state_reason":"completed"}