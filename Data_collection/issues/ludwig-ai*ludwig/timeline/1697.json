[{"id":5944831601,"node_id":"AE_lADOCbx2hs5CJkuAzwAAAAFiVu5x","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5944831601","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-01-24T19:03:59Z","assignee":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1022674706","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1022674706","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1022674706,"node_id":"IC_kwDOCbx2hs489McS","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-01-26T22:50:06Z","updated_at":"2022-01-29T02:32:30Z","author_association":"COLLABORATOR","body":"~~I can consistently repro this~~, I get [not exactly the same] but similar numbers:\r\n```\r\n(ludwig39-dev) daniel@Daniel-M1-Pro mercedes_benz_greener % python ../../../utils/best_hyperopt_statistics.py hyperopt_statistics.json root_mean_squared_error\r\nbest metric_score offset in validation 196\r\nbest metric_score hyperparameters {\r\n    'combiner.bn_momentum': 0.8,\r\n    'combiner.bn_virtual_bs': 512,\r\n    'combiner.num_steps': 9,\r\n    'combiner.output_size': 16,\r\n    'combiner.relaxation_factor': 1.0,\r\n    'combiner.size': 24,\r\n    'combiner.sparsity': 0.001,\r\n    'training.batch_size': 256,\r\n    'training.decay_rate': 0.9,\r\n    'training.decay_steps': 8000,\r\n    'training.learning_rate': 0.02\r\n}\r\noffset metric_score in test  74.94971466064453\r\noffset metric_score in vali  60.113800048828125\r\noffset metric_score in train 64.52440643310547\r\nroot_mean_squared_error offset in test  y 8.664525985717773\r\nroot_mean_squared_error offset in vali  y 7.690894603729248\r\nroot_mean_squared_error offset in train y 8.048173904418945\r\n```\r\n\r\nOut of curiosity, what are the best hyperparameters from the Tensorflow version?","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1022674706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1022747697","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1022747697","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1022747697,"node_id":"IC_kwDOCbx2hs489eQx","user":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false},"created_at":"2022-01-27T01:04:01Z","updated_at":"2022-01-27T01:04:01Z","author_association":"COLLABORATOR","body":">Out of curiosity, what are the best hyperparameters from the Tensorflow version?\r\n\r\nSorry, unfortunately, I didn't record this information.  It can be rerun on tf-legacy to find out.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1022747697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1023843984","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1023843984","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1023843984,"node_id":"IC_kwDOCbx2hs49Bp6Q","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-01-28T03:08:41Z","updated_at":"2022-01-28T20:29:01Z","author_association":"COLLABORATOR","body":"Running latest tf-legacy I got:\r\n\r\n```\r\n(ludwig39-tf) daniel@Falcon3090:~/github/experiments/automl/heuristics/mercedes_benz_greener$ python ../../../utils/best_hyperopt_statistics.py hyperopt_statistics.json root_mean_squared_error\r\nbest metric_score offset in validation 73\r\nbest metric_score hyperparameters {\r\n    'combiner.bn_momentum': 0.9,\r\n    'combiner.bn_virtual_bs': 256,\r\n    'combiner.num_steps': 5,\r\n    'combiner.output_size': 64,\r\n    'combiner.relaxation_factor': 1.5,\r\n    'combiner.size': 64,\r\n    'combiner.sparsity': 0.0001,\r\n    'training.batch_size': 512,\r\n    'training.decay_rate': 0.95,\r\n    'training.decay_steps': 20000,\r\n    'training.learning_rate': 0.005\r\n}\r\noffset metric_score in test  76.51455688476562\r\noffset metric_score in vali  59.43547439575195\r\noffset metric_score in train 67.27835845947266\r\nroot_mean_squared_error offset in test  y 8.949421882629395\r\nroot_mean_squared_error offset in vali  y 7.709438323974609\r\nroot_mean_squared_error offset in train y 8.217998504638672\r\n```\r\n\r\nRan this twice on each version, got the exact same numbers on second run, so these results are stable.\r\nTensorflow and PyTorch versions are choosing very different parameters!","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1023843984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1024812341","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1024812341","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1024812341,"node_id":"IC_kwDOCbx2hs49FWU1","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-01-29T02:29:48Z","updated_at":"2022-01-29T02:36:37Z","author_association":"COLLABORATOR","body":"Hmmm, I just realized: My PyTorch results are better than Tensorflow's.  @anneholler What versions are you testing on?\r\n\r\nI'm using:\r\ntf-legacy, commit a813055daf06dcbfc82b83df53c8eb55228062d6 with Tensorflow\r\nmain, commit f4adbb44c1903db967c586a82167017d18fe9a42 with PyTorch\r\n\r\nBoth run on CPU using ray local.\r\n\r\nOn a side note, if I take the tensorflow-derived parameters and run them in PyTorch, I get:\r\n```\r\nBest validation model epoch: 55\r\nBest validation model root_mean_squared_error on validation set y: 8.020873069763184\r\nBest validation model root_mean_squared_error on test set y: 7.8994951248168945\r\n```","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1024812341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"id":5974346346,"node_id":"MEE_lADOCbx2hs5CJkuAzwAAAAFkGUpq","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5974346346","actor":{"login":"anneholler","id":1827252,"node_id":"MDQ6VXNlcjE4MjcyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/1827252?v=4","gravatar_id":"","url":"https://api.github.com/users/anneholler","html_url":"https://github.com/anneholler","followers_url":"https://api.github.com/users/anneholler/followers","following_url":"https://api.github.com/users/anneholler/following{/other_user}","gists_url":"https://api.github.com/users/anneholler/gists{/gist_id}","starred_url":"https://api.github.com/users/anneholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anneholler/subscriptions","organizations_url":"https://api.github.com/users/anneholler/orgs","repos_url":"https://api.github.com/users/anneholler/repos","events_url":"https://api.github.com/users/anneholler/events{/privacy}","received_events_url":"https://api.github.com/users/anneholler/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-01-29T02:36:37Z","performed_via_github_app":null},{"id":5974346349,"node_id":"SE_lADOCbx2hs5CJkuAzwAAAAFkGUpt","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5974346349","actor":{"login":"anneholler","id":1827252,"node_id":"MDQ6VXNlcjE4MjcyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/1827252?v=4","gravatar_id":"","url":"https://api.github.com/users/anneholler","html_url":"https://github.com/anneholler","followers_url":"https://api.github.com/users/anneholler/followers","following_url":"https://api.github.com/users/anneholler/following{/other_user}","gists_url":"https://api.github.com/users/anneholler/gists{/gist_id}","starred_url":"https://api.github.com/users/anneholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anneholler/subscriptions","organizations_url":"https://api.github.com/users/anneholler/orgs","repos_url":"https://api.github.com/users/anneholler/repos","events_url":"https://api.github.com/users/anneholler/events{/privacy}","received_events_url":"https://api.github.com/users/anneholler/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-01-29T02:36:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1024935608","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1024935608","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1024935608,"node_id":"IC_kwDOCbx2hs49F0a4","user":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false},"created_at":"2022-01-29T15:49:16Z","updated_at":"2022-01-29T15:49:16Z","author_association":"COLLABORATOR","body":"I was running on a 3 node gpu-enabled ray cluster.\r\nI was running ToT master [with blocker reverted] vs ToT tf-legacy as of 9 days ago.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1024935608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1029277691","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1029277691","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1029277691,"node_id":"IC_kwDOCbx2hs49WYf7","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-02-03T18:27:43Z","updated_at":"2022-02-03T19:11:18Z","author_association":"COLLABORATOR","body":"Tensorflow on CPU Results (with checkpoints deleted to save space):\r\nhttps://drive.google.com/file/d/1kiXceTY8tm5KHEw_X1-un8ZlWWqgFkLC/view?usp=sharing","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1029277691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1029338508","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1029338508","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1029338508,"node_id":"IC_kwDOCbx2hs49WnWM","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-02-03T19:44:07Z","updated_at":"2022-02-03T19:44:37Z","author_association":"COLLABORATOR","body":"PyTorch on CPU results:\r\n[https://drive.google.com/file/d/1h6hiHopm6FgpTYya_7ZMxHUIDQmD2Z8J/view?usp=sharing](https://drive.google.com/file/d/1h6hiHopm6FgpTYya_7ZMxHUIDQmD2Z8J/view?usp=sharing)","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1029338508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1034090773","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1034090773","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1034090773,"node_id":"IC_kwDOCbx2hs49ovkV","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-02-09T18:56:33Z","updated_at":"2022-02-09T18:56:33Z","author_association":"COLLABORATOR","body":"@anneholler Could you share the cluster config you are using to run on?  Thanks!  I keep getting different results on GPU, it would be helpful to know if I'm running on the same stack and hardware.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1034090773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"id":6036658607,"node_id":"MEE_lADOCbx2hs5CJkuAzwAAAAFn0Bmv","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6036658607","actor":{"login":"anneholler","id":1827252,"node_id":"MDQ6VXNlcjE4MjcyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/1827252?v=4","gravatar_id":"","url":"https://api.github.com/users/anneholler","html_url":"https://github.com/anneholler","followers_url":"https://api.github.com/users/anneholler/followers","following_url":"https://api.github.com/users/anneholler/following{/other_user}","gists_url":"https://api.github.com/users/anneholler/gists{/gist_id}","starred_url":"https://api.github.com/users/anneholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anneholler/subscriptions","organizations_url":"https://api.github.com/users/anneholler/orgs","repos_url":"https://api.github.com/users/anneholler/repos","events_url":"https://api.github.com/users/anneholler/events{/privacy}","received_events_url":"https://api.github.com/users/anneholler/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-02-09T18:56:33Z","performed_via_github_app":null},{"id":6036658611,"node_id":"SE_lADOCbx2hs5CJkuAzwAAAAFn0Bmz","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6036658611","actor":{"login":"anneholler","id":1827252,"node_id":"MDQ6VXNlcjE4MjcyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/1827252?v=4","gravatar_id":"","url":"https://api.github.com/users/anneholler","html_url":"https://github.com/anneholler","followers_url":"https://api.github.com/users/anneholler/followers","following_url":"https://api.github.com/users/anneholler/following{/other_user}","gists_url":"https://api.github.com/users/anneholler/gists{/gist_id}","starred_url":"https://api.github.com/users/anneholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anneholler/subscriptions","organizations_url":"https://api.github.com/users/anneholler/orgs","repos_url":"https://api.github.com/users/anneholler/repos","events_url":"https://api.github.com/users/anneholler/events{/privacy}","received_events_url":"https://api.github.com/users/anneholler/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-02-09T18:56:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1034247958","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1034247958","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1034247958,"node_id":"IC_kwDOCbx2hs49pV8W","user":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false},"created_at":"2022-02-09T22:17:08Z","updated_at":"2022-02-09T22:17:08Z","author_association":"COLLABORATOR","body":"Hi, @dantreiman Ran on 3 node (head + 2 workers) Ray cluster, all 3 nodes g4dn.4xlarge.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1034247958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false}},{"id":6037701644,"node_id":"MEE_lADOCbx2hs5CJkuAzwAAAAFn4AQM","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6037701644","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-02-09T22:17:08Z","performed_via_github_app":null},{"id":6037701649,"node_id":"SE_lADOCbx2hs5CJkuAzwAAAAFn4AQR","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6037701649","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-02-09T22:17:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1035353383","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1035353383","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1035353383,"node_id":"IC_kwDOCbx2hs49tj0n","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-02-10T19:04:50Z","updated_at":"2022-02-10T19:05:25Z","author_association":"COLLABORATOR","body":"I got a good run on GPU using 3 g4.dn.4xlarge nodes.  Configs and metrics on this spreadsheet:\r\nhttps://docs.google.com/spreadsheets/d/1e-pZDJj01F3irb0WEGWf5HwuLPcMgIQ9lwWz1ourBrk/edit?usp=sharing\r\n\r\nIts hard to say exactly what is going on.  PyTorch best config is getting lower error on training set, but higher on test and val.  So the PyTorch best config is overfitting more.\r\n\r\nAlso, when comparing the learning curves (of the best respective training runs), I noticed an unusual spike (up to 8000) in the PyTorch RMSE training history.\r\n\r\n![TF learning curve](https://user-images.githubusercontent.com/687280/153478332-2233c40d-055f-4cdf-8a30-efa2f0481de8.png)\r\n![PT learning curve](https://user-images.githubusercontent.com/687280/153478440-79f8ef46-8833-4b00-8700-c94773ac656d.png)\r\n\r\nNot sure yet what is causing this or if it is relevant, more investigation needed.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1035353383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1036278653","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1036278653","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1036278653,"node_id":"IC_kwDOCbx2hs49xFt9","user":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false},"created_at":"2022-02-11T14:40:14Z","updated_at":"2022-02-11T17:49:26Z","author_association":"COLLABORATOR","body":"BTW, @dantreiman I notice that this dataset is also getting differences in type assignments between\r\ntf-legacy and master (like we discussed yesterday from the memory point of view in KDD):\r\n```\r\n(tfenv) MacBook-Air-2:mercedes_benz_greener anne$ diff auto_config.json.automl auto_config.json.automl.master\r\n84,86c84,86\r\n<  'input_features': [{'column': 'X0', 'name': 'X0', 'type': 'category'},\r\n<                     {'column': 'X1', 'name': 'X1', 'type': 'category'},\r\n<                     {'column': 'X2', 'name': 'X2', 'type': 'category'},\r\n---\r\n>  'input_features': [{'column': 'X0', 'name': 'X0', 'type': 'text'},\r\n>                     {'column': 'X1', 'name': 'X1', 'type': 'text'},\r\n>                     {'column': 'X2', 'name': 'X2', 'type': 'text'},\r\n89c89\r\n<                     {'column': 'X5', 'name': 'X5', 'type': 'category'},\r\n---\r\n>                     {'column': 'X5', 'name': 'X5', 'type': 'text'},\r\n91c91\r\n<                     {'column': 'X8', 'name': 'X8', 'type': 'category'},\r\n---\r\n>                     {'column': 'X8', 'name': 'X8', 'type': 'text'},\r\n467d466\r\n<               'regularization_lambda': 1,\r\n(tfenv) MacBook-Air-2:mercedes_benz_greener anne$ pwd\r\n/Users/anne/ludwig/experiments/automl/heuristics/mercedes_benz_greener\r\n```\r\nI don't know if these input feature differences could somehow cause differences in model performance.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1036278653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false}},{"id":6051769176,"node_id":"MEE_lADOCbx2hs5CJkuAzwAAAAFotqtY","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6051769176","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-02-11T14:40:14Z","performed_via_github_app":null},{"id":6051769186,"node_id":"SE_lADOCbx2hs5CJkuAzwAAAAFotqti","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6051769186","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-02-11T14:40:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1036460490","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1036460490","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1036460490,"node_id":"IC_kwDOCbx2hs49xyHK","user":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false},"created_at":"2022-02-11T17:47:56Z","updated_at":"2022-02-11T17:47:56Z","author_association":"COLLABORATOR","body":"Note that the 'regularization_lambda': 1, difference is expected.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1036460490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1040712972","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1040712972","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1040712972,"node_id":"IC_kwDOCbx2hs4-CAUM","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-02-15T19:40:37Z","updated_at":"2022-02-15T19:40:37Z","author_association":"COLLABORATOR","body":"@amholler I think you are right about the input types.  I ran this again, using the `user_config` option to force both versions to use the same input data types.\r\n\r\nGood news: both versions land on mostly similar parameters, same batch size, and closer final metric score 60.0685 (tf) vs. 60.6626 (torch)\r\n\r\nCode:\r\n```\r\nwith open('user_config.yaml', 'rb') as f:\r\n    user_config = yaml.safe_load(f)\r\n\r\nmercedes_benz_greener_df = load_mercedes_benz_greener()\r\n\r\nauto_train_results = auto_train(\r\n    dataset=mercedes_benz_greener_df,\r\n    target='y',\r\n    time_limit_s=3600,\r\n    tune_for_memory=False,\r\n    user_config=user_config\r\n)\r\n```\r\n\r\nPytorch results:\r\n```\r\n+----------------+------------+-------------------+------------------------+--------------------------+----------------------+------------------------+------------------------------+-----------------+---------------------+----------------------+----------------------+-----------------------+-------------------------+--------+------------------+----------------+\r\n| Trial name     | status     | loc               |   combiner.bn_momentum |   combiner.bn_virtual_bs |   combiner.num_steps |   combiner.output_size |   combiner.relaxation_factor |   combiner.size |   combiner.sparsity |   trainer.batch_size |   trainer.decay_rate |   trainer.decay_steps |   trainer.learning_rate |   iter |   total time (s) |   metric_score |\r\n|----------------+------------+-------------------+------------------------+--------------------------+----------------------+------------------------+------------------------------+-----------------+---------------------+----------------------+----------------------+-----------------------+-------------------------+--------+------------------+----------------|\r\n| trial_dd97affc | TERMINATED | 172.31.9.92:436   |                   0.7  |                     2048 |                    4 |                      8 |                          1   |              32 |              0.0001 |                 8192 |                 0.95 |                   500 |                   0.025 |   1740 |        3596      |        64.4081 |\r\n| trial_de0e35c8 | TERMINATED | 172.31.14.97:1457 |                   0.8  |                      256 |                    9 |                    128 |                          1   |              32 |              0      |                 2048 |                 0.95 |                 10000 |                   0.005 |     23 |          75.6883 |       341.896  |\r\n| trial_de201716 | TERMINATED | 172.31.2.131:447  |                   0.98 |                     1024 |                    3 |                      8 |                          1   |               8 |              1e-06  |                 1024 |                 0.8  |                   500 |                   0.005 |     41 |          73.0759 |        91.5639 |\r\n| trial_de909d10 | TERMINATED | 172.31.2.131:536  |                   0.8  |                     1024 |                    7 |                     24 |                          2   |               8 |              0.001  |                  256 |                 0.95 |                 20000 |                   0.01  |     23 |          74.1498 |       131.794  |\r\n| trial_0c1caeb8 | TERMINATED | 172.31.14.97:2986 |                   0.9  |                      256 |                    5 |                     64 |                          1.5 |              64 |              0.0001 |                  512 |                 0.95 |                 20000 |                   0.005 |   1542 |        3514.13   |        63.3714 |\r\n| trial_0ca851e8 | TERMINATED | 172.31.2.131:605  |                   0.6  |                      256 |                    3 |                     16 |                          1.2 |              16 |              0.01   |                 1024 |                 0.9  |                  8000 |                   0.005 |    215 |         361.174  |        69.0541 |\r\n| trial_3ac218de | TERMINATED | 172.31.2.131:656  |                   0.6  |                      512 |                    5 |                     32 |                          2   |               8 |              0      |                 2048 |                 0.95 |                 10000 |                   0.025 |     39 |          72.9415 |       109.335  |\r\n| trial_146bfa64 | TERMINATED | 172.31.2.131:707  |                   0.9  |                     4096 |                    7 |                     24 |                          1.5 |              64 |              0      |                  256 |                 0.9  |                 10000 |                   0.01  |     18 |          74.5411 |       121.671  |\r\n| trial_424b2c16 | TERMINATED | 172.31.2.131:758  |                   0.8  |                      256 |                    3 |                     16 |                          1.2 |              64 |              0.001  |                 4096 |                 0.95 |                  2000 |                   0.005 |     32 |          72.1142 |      3221.51   |\r\n| trial_71a724f6 | TERMINATED | 172.31.2.131:809  |                   0.8  |                      512 |                    9 |                     16 |                          1   |              24 |              0.001  |                  256 |                 0.9  |                  8000 |                   0.02  |    793 |        2838.42   |        60.6626 |\r\n+----------------+------------+-------------------+------------------------+--------------------------+----------------------+------------------------+------------------------------+-----------------+---------------------+----------------------+----------------------+-----------------------+-------------------------+--------+------------------+----------------+\r\n```\r\n\r\ntf-legacy results:\r\n```\r\n+----------------+------------+-------------------+------------------------+--------------------------+----------------------+------------------------+------------------------------+-----------------+---------------------+-----------------------+-----------------------+------------------------+--------------------------+--------+------------------+----------------+\r\n| Trial name     | status     | loc               |   combiner.bn_momentum |   combiner.bn_virtual_bs |   combiner.num_steps |   combiner.output_size |   combiner.relaxation_factor |   combiner.size |   combiner.sparsity |   training.batch_size |   training.decay_rate |   training.decay_steps |   training.learning_rate |   iter |   total time (s) |   metric_score |\r\n|----------------+------------+-------------------+------------------------+--------------------------+----------------------+------------------------+------------------------------+-----------------+---------------------+-----------------------+-----------------------+------------------------+--------------------------+--------+------------------+----------------|\r\n| trial_90f5e990 | TERMINATED | 172.31.1.26:1327  |                   0.7  |                     2048 |                    4 |                      8 |                          1   |              32 |              0.0001 |                  8192 |                  0.95 |                    500 |                    0.025 |   2609 |        3596.22   |        61.6253 |\r\n| trial_9178f98e | TERMINATED | 172.31.15.14:408  |                   0.8  |                      256 |                    9 |                    128 |                          1   |              32 |              0      |                  2048 |                  0.95 |                  10000 |                    0.005 |      1 |         106.677  |     10221.2    |\r\n| trial_ea90e446 | TERMINATED | 172.31.7.225:412  |                   0.98 |                     1024 |                    3 |                      8 |                          1   |               8 |              1e-06  |                  1024 |                  0.8  |                    500 |                    0.005 |     20 |          72.9318 |      8199.69   |\r\n| trial_f5313b62 | TERMINATED | 172.31.7.225:633  |                   0.8  |                     1024 |                    7 |                     24 |                          2   |               8 |              0.001  |                   256 |                  0.95 |                  20000 |                    0.01  |     95 |         362.706  |        63.6851 |\r\n| trial_24aa17a6 | TERMINATED | 172.31.15.14:558  |                   0.9  |                      256 |                    5 |                     64 |                          1.5 |              64 |              0.0001 |                   512 |                  0.95 |                  20000 |                    0.005 |      8 |          74.0691 |       453.44   |\r\n| trial_30bd0454 | TERMINATED | 172.31.15.14:698  |                   0.6  |                      256 |                    3 |                     16 |                          1.2 |              16 |              0.01   |                  1024 |                  0.9  |                   8000 |                    0.005 |     15 |          73.7284 |      2247.54   |\r\n| trial_61b1ddf0 | TERMINATED | 172.31.15.14:852  |                   0.6  |                      512 |                    5 |                     32 |                          2   |               8 |              0      |                  2048 |                  0.95 |                  10000 |                    0.025 |     11 |          74.2399 |       291.301  |\r\n| trial_91d25ed8 | TERMINATED | 172.31.15.14:986  |                   0.9  |                     4096 |                    7 |                     24 |                          1.5 |              64 |              0      |                   256 |                  0.9  |                  10000 |                    0.01  |    783 |        3082.17   |        60.0685 |\r\n| trial_c25540fc | TERMINATED | 172.31.7.225:1227 |                   0.8  |                      256 |                    3 |                     16 |                          1.2 |              64 |              0.001  |                  4096 |                  0.95 |                   2000 |                    0.005 |      8 |          72.9656 |      9512.51   |\r\n| trial_015f5634 | TERMINATED | 172.31.7.225:1346 |                   0.8  |                      512 |                    9 |                     16 |                          1   |              24 |              0.001  |                   256 |                  0.9  |                   8000 |                    0.02  |      4 |          73.7548 |       247.073  |\r\n+----------------+------------+-------------------+------------------------+--------------------------+----------------------+------------------------+------------------------------+-----------------+---------------------+-----------------------+-----------------------+------------------------+--------------------------+--------+------------------+----------------+\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1040712972/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"id":6077772459,"node_id":"MEE_lADOCbx2hs5CJkuAzwAAAAFqQ3Kr","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6077772459","actor":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-02-15T19:40:37Z","performed_via_github_app":null},{"id":6077772469,"node_id":"SE_lADOCbx2hs5CJkuAzwAAAAFqQ3K1","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6077772469","actor":{"login":"amholler","id":86269492,"node_id":"MDQ6VXNlcjg2MjY5NDky","avatar_url":"https://avatars.githubusercontent.com/u/86269492?v=4","gravatar_id":"","url":"https://api.github.com/users/amholler","html_url":"https://github.com/amholler","followers_url":"https://api.github.com/users/amholler/followers","following_url":"https://api.github.com/users/amholler/following{/other_user}","gists_url":"https://api.github.com/users/amholler/gists{/gist_id}","starred_url":"https://api.github.com/users/amholler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amholler/subscriptions","organizations_url":"https://api.github.com/users/amholler/orgs","repos_url":"https://api.github.com/users/amholler/repos","events_url":"https://api.github.com/users/amholler/events{/privacy}","received_events_url":"https://api.github.com/users/amholler/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-02-15T19:40:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1040717860","html_url":"https://github.com/ludwig-ai/ludwig/issues/1697#issuecomment-1040717860","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1697","id":1040717860,"node_id":"IC_kwDOCbx2hs4-CBgk","user":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false},"created_at":"2022-02-15T19:41:58Z","updated_at":"2022-02-15T19:41:58Z","author_association":"COLLABORATOR","body":"Learning curves are much more similar too, with input column types fixed:\r\n\r\n![pytorch-master](https://user-images.githubusercontent.com/687280/154136431-cd24d65f-14db-485b-8a58-5f211467e37d.png)\r\n\r\n![tf-legacy](https://user-images.githubusercontent.com/687280/154136454-ca6489a1-4e31-41b5-baa4-e62db56f0697.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1040717860/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dantreiman","id":687280,"node_id":"MDQ6VXNlcjY4NzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/687280?v=4","gravatar_id":"","url":"https://api.github.com/users/dantreiman","html_url":"https://github.com/dantreiman","followers_url":"https://api.github.com/users/dantreiman/followers","following_url":"https://api.github.com/users/dantreiman/following{/other_user}","gists_url":"https://api.github.com/users/dantreiman/gists{/gist_id}","starred_url":"https://api.github.com/users/dantreiman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dantreiman/subscriptions","organizations_url":"https://api.github.com/users/dantreiman/orgs","repos_url":"https://api.github.com/users/dantreiman/repos","events_url":"https://api.github.com/users/dantreiman/events{/privacy}","received_events_url":"https://api.github.com/users/dantreiman/received_events","type":"User","site_admin":false}},{"id":6253743254,"node_id":"CE_lADOCbx2hs5CJkuAzwAAAAF0wIyW","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6253743254","actor":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-03-16T20:19:00Z","state_reason":null,"performed_via_github_app":null}]