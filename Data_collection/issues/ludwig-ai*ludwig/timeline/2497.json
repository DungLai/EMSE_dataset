[{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1247532917","html_url":"https://github.com/ludwig-ai/ludwig/issues/2497#issuecomment-1247532917","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2497","id":1247532917,"node_id":"IC_kwDOCbx2hs5KW9d1","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2022-09-15T03:23:50Z","updated_at":"2022-09-15T03:23:50Z","author_association":"COLLABORATOR","body":"Hey @Jeffwan, yes we support s3 / minio and any remote object storage supported by [fsspec](https://filesystem-spec.readthedocs.io/en/latest/).\r\n\r\nReading the data from minio with Dask is one way to do it. This is the easiest way to go if your environment is not configured to automatically connect to the remote storage backend. We provide a wrapper `ludwig.utils.data_utils.use_credentials` that simplifies setting credentials:\r\n\r\n```\r\ncreds = {\r\n    'client_kwargs': {\r\n            'aws_access_key_id': 'accessKey',\r\n            'aws_secret_access_key': 'mySecretKey',\r\n            'endpoint_url': 'http://minio-service:9000'\r\n        }\r\n}\r\nwith use_credentials(creds):\r\n    df = dask.read_csv(\"s3://...\")\r\n```\r\n\r\nThe other option is to pass a string. This also works with Minio, but it assumes that your environment is already setup to connect to s3 / minio without specifying any additional credentials. However, the `endpoint_url` makes this somewhat tricky with s3fs (see: https://github.com/fsspec/s3fs/issues/432). So for now I recommend providing the credentials explicitly and reading from Dask.\r\n\r\nOne thing we could do, if it would make things easier, is allow you to provide credentials (either path to credentials file or directly) within the Ludwig config, similar to how we let the user specify the cache credentials:\r\n\r\nhttps://ludwig-ai.github.io/ludwig-docs/0.5/configuration/backend/\r\n\r\nLet me know if that would help simplify things.\r\n\r\nOne last thing to note: it is true that s3fs needs to be installed to connect to s3 / minio. We decided against including this and other libraries in the requirements to save space, but let me know if it would be preferred to bake them in the Docker image.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1247532917/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}},{"id":7391064155,"node_id":"MEE_lADOCbx2hs5R4uCkzwAAAAG4irBb","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7391064155","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-15T03:23:50Z","performed_via_github_app":null},{"id":7391064161,"node_id":"SE_lADOCbx2hs5R4uCkzwAAAAG4irBh","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7391064161","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-15T03:23:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1247636558","html_url":"https://github.com/ludwig-ai/ludwig/issues/2497#issuecomment-1247636558","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2497","id":1247636558,"node_id":"IC_kwDOCbx2hs5KXWxO","user":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"created_at":"2022-09-15T06:25:31Z","updated_at":"2022-09-15T06:29:55Z","author_association":"NONE","body":"Let me give `ludwig.utils.data_utils.use_credentials` a try.  Seems it's equivalent to \r\n```\r\ndataset_df = dd.read_csv(dataset_path, storage_options= {\"client_kwargs\": dict(endpoint_url='http://minio-service:9000', 'aws_access_key_id': 'accessKey','aws_secret_access_key': 'mySecretKey' )})\r\n```\r\n\r\n\r\n> We decided against including this and other libraries in the requirements to save space, but let me know if it would be preferred to bake them in the Docker image.\r\n\r\nI asked this question is because I was not sure whether using dask dataframe is the recommended pattern since the image doesn't have it. Now it makes more sense. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1247636558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1247659748","html_url":"https://github.com/ludwig-ai/ludwig/issues/2497#issuecomment-1247659748","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2497","id":1247659748,"node_id":"IC_kwDOCbx2hs5KXcbk","user":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"created_at":"2022-09-15T06:53:28Z","updated_at":"2022-09-15T06:56:40Z","author_association":"NONE","body":"I have following envs defined:\r\n```\r\nAWS_DEFAULT_REGION=us-east-1\r\nAWS_SECRET_ACCESS_KEY=minio123\r\nAWS_ACCESS_KEY_ID=minio\r\n```\r\n\r\n### Option 1:  ludwig.utils.data_utils.use_credential -> failed\r\nI tried `aws_access_key_id` or w/o credential. it shows permission denied.\r\n```\r\ndataset_path = 's3://automl/hehe/rotten_tomatoes.csv'\r\n\r\nminio_creds = {\r\n    'client_kwargs': {\r\n        'aws_access_key_id': 'minio',\r\n        'aws_secret_access_key': 'minio123',\r\n        'endpoint_url': 'http://10.227.151.166:30934'\r\n    }\r\n}\r\n\r\nminio_creds = {\r\n    'client_kwargs': {\r\n        'endpoint_url': 'http://10.227.151.166:30934'\r\n    }\r\n}\r\n\r\nwith use_credentials(minio_creds):\r\n    dataset_df = dd.read_csv(dataset_path)\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/s3fs/core.py\", line 529, in info\r\n    out = self._call_s3(self.s3.head_object, kwargs, Bucket=bucket,\r\n  File \"/usr/local/lib/python3.8/site-packages/s3fs/core.py\", line 200, in _call_s3\r\n    return method(**additional_kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/client.py\", line 514, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/client.py\", line 938, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"/usr/local/lib/python3.8/site-packages/dask/dataframe/io/csv.py\", line 741, in read\r\n    return read_pandas(\r\n  File \"/usr/local/lib/python3.8/site-packages/dask/dataframe/io/csv.py\", line 545, in read_pandas\r\n    b_out = read_bytes(\r\n  File \"/usr/local/lib/python3.8/site-packages/dask/bytes/core.py\", line 109, in read_bytes\r\n    size = fs.info(path)[\"size\"]\r\n  File \"/usr/local/lib/python3.8/site-packages/s3fs/core.py\", line 548, in info\r\n    raise ee\r\nPermissionError: Forbidden\r\n```\r\n\r\n### Option 2:  storage_options -> success\r\n\r\n```\r\n>>> dataset_df = dd.read_csv(dataset_path, storage_options= {\"client_kwargs\": dict(endpoint_url='http://10.227.151.166:30934')})\r\n>>> dataset_df.head()\r\n   Unnamed: 0           movie_title content_rating  ... top_critic                                     review_content  recommended\r\n0      283875  Deliver Us from Evil              R  ...       True  Director Scott Derrickson and his co-writer, P...            0\r\n1      161408               Barbara          PG-13  ...      False  Somehow, in this stirring narrative, Barbara m...            1\r\n2      423417       Horrible Bosses              R  ...      False  These bosses cannot justify either murder or l...            0\r\n3      583216         Money Monster              R  ...      False  A satire about television that feels like it w...            0\r\n4      165537         Battle Royale             NR  ...      False  Battle Royale is The Hunger Games not diluted ...            1\r\n\r\n[5 rows x 8 columns]\r\n```\r\n\r\nAnyway, option2 works for me now.\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1247659748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1247662618","html_url":"https://github.com/ludwig-ai/ludwig/issues/2497#issuecomment-1247662618","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2497","id":1247662618,"node_id":"IC_kwDOCbx2hs5KXdIa","user":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"created_at":"2022-09-15T06:56:44Z","updated_at":"2022-09-15T06:56:44Z","author_association":"NONE","body":"\r\n\r\nThere's a follow up question. Seems  there's some issue reported from `dataframe.samples()`. Did I miss any configuration?\r\n\r\nhttps://docs.dask.org/en/stable/generated/dask.dataframe.DataFrame.sample.html#dask.dataframe.DataFrame.sample\r\n\r\n\r\n```\r\n\r\n>>> dataset_df = dd.read_csv(dataset_path, storage_options= {\"client_kwargs\": dict(endpoint_url='http://10.227.151.166:30934')})\r\n>>>\r\n>>> automl_config = create_auto_config(\r\n...     dataset=dataset_df,\r\n...     target='recommended',\r\n...     time_limit_s=120,\r\n...     tune_for_memory=False,\r\n...     user_config=None,\r\n...     random_seed=default_random_seed,\r\n...     use_reference_config=False,\r\n... )\r\nInitializing new Ray cluster...\r\n2022-09-15 06:40:57,539\tINFO services.py:1470 -- View the Ray dashboard at http://127.0.0.1:8265\r\n2022-09-15 06:40:57,583\tWARNING services.py:2002 -- WARNING: The object store is using /tmp instead of /dev/shm because /dev/shm has only 67108864 bytes available. This will harm performance! You may be able to free up space by deleting files in /dev/shm. If you are inside a Docker container, you can increase /dev/shm size by passing '--shm-size=2.37gb' to 'docker run' (or add it to the run_options list in a Ray cluster config). Make sure to set this to more than 30% of available RAM.\r\n\r\n[Errno 2] No such file or directory: '/data/Deliver Us from Evil'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/Barbara'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/Horrible Bosses'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/Money Monster'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/Battle Royale'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/Mystery, Alaska'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/Wonder'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/Woman Walks Ahead'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/Blood Simple'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\n[Errno 2] No such file or directory: '/data/O Som ao Redor (Neighbouring Sounds)'\r\nWhile assessing potential image in is_image() for column movie_title, encountered exception: 'NoneType' object has no attribute 'tell'\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.8/site-packages/ludwig/automl/automl.py\", line 152, in create_auto_config\r\n    default_configs, features_metadata = _create_default_config(dataset, target, time_limit_s, random_seed)\r\n  File \"/usr/local/lib/python3.8/site-packages/ludwig/automl/base_config.py\", line 132, in _create_default_config\r\n    dataset_info = get_dataset_info(dataset)\r\n  File \"/usr/local/lib/python3.8/site-packages/ludwig/automl/base_config.py\", line 189, in get_dataset_info\r\n    return get_dataset_info_from_source(source)\r\n  File \"/usr/local/lib/python3.8/site-packages/ludwig/automl/base_config.py\", line 205, in get_dataset_info_from_source\r\n    avg_words = source.get_avg_num_tokens(field)\r\n  File \"/usr/local/lib/python3.8/site-packages/ludwig/automl/data_source.py\", line 70, in get_avg_num_tokens\r\n    return avg_num_tokens(self.df[column])\r\n  File \"/usr/local/lib/python3.8/site-packages/ludwig/automl/utils.py\", line 75, in avg_num_tokens\r\n    field = field.sample(n=5000, random_state=40)\r\n  File \"/usr/local/lib/python3.8/site-packages/dask/dataframe/core.py\", line 1481, in sample\r\n    raise ValueError(msg)\r\nValueError: sample does not support the number of sampled items parameter, 'n'. Please use the 'frac' parameter instead.\r\n```\r\n![image](https://user-images.githubusercontent.com/4739316/190334440-20c88f29-e928-4b1e-9634-76940ffdb6e5.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1247662618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false}},{"actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2022-09-16T00:31:33Z","updated_at":"2022-09-16T00:31:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2508","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2508/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2508/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2508/events","html_url":"https://github.com/ludwig-ai/ludwig/pull/2508","id":1375242356,"node_id":"PR_kwDOCbx2hs4_EC_A","number":2508,"title":"Fixed support for distributed datasets in create_auto_config","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"labels":[{"id":1174068769,"node_id":"MDU6TGFiZWwxMTc0MDY4NzY5","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3602609750,"node_id":"LA_kwDOCbx2hs7Wu3ZW","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/release-0.6","name":"release-0.6","color":"d4c5f9","default":false,"description":"Feature to be implemented in v0.6"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-09-16T00:31:33Z","updated_at":"2022-09-16T17:15:25Z","closed_at":"2022-09-16T17:15:25Z","author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"repository":{"id":163346054,"node_id":"MDEwOlJlcG9zaXRvcnkxNjMzNDYwNTQ=","name":"ludwig","full_name":"ludwig-ai/ludwig","private":false,"owner":{"login":"ludwig-ai","id":65477820,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1NDc3ODIw","avatar_url":"https://avatars.githubusercontent.com/u/65477820?v=4","gravatar_id":"","url":"https://api.github.com/users/ludwig-ai","html_url":"https://github.com/ludwig-ai","followers_url":"https://api.github.com/users/ludwig-ai/followers","following_url":"https://api.github.com/users/ludwig-ai/following{/other_user}","gists_url":"https://api.github.com/users/ludwig-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ludwig-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ludwig-ai/subscriptions","organizations_url":"https://api.github.com/users/ludwig-ai/orgs","repos_url":"https://api.github.com/users/ludwig-ai/repos","events_url":"https://api.github.com/users/ludwig-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ludwig-ai/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/ludwig-ai/ludwig","description":"Data-centric declarative deep learning framework","fork":false,"url":"https://api.github.com/repos/ludwig-ai/ludwig","forks_url":"https://api.github.com/repos/ludwig-ai/ludwig/forks","keys_url":"https://api.github.com/repos/ludwig-ai/ludwig/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ludwig-ai/ludwig/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ludwig-ai/ludwig/teams","hooks_url":"https://api.github.com/repos/ludwig-ai/ludwig/hooks","issue_events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events{/number}","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/events","assignees_url":"https://api.github.com/repos/ludwig-ai/ludwig/assignees{/user}","branches_url":"https://api.github.com/repos/ludwig-ai/ludwig/branches{/branch}","tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/tags","blobs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/refs{/sha}","trees_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ludwig-ai/ludwig/statuses/{sha}","languages_url":"https://api.github.com/repos/ludwig-ai/ludwig/languages","stargazers_url":"https://api.github.com/repos/ludwig-ai/ludwig/stargazers","contributors_url":"https://api.github.com/repos/ludwig-ai/ludwig/contributors","subscribers_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscribers","subscription_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscription","commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/commits{/sha}","git_commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/commits{/sha}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/comments{/number}","issue_comment_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments{/number}","contents_url":"https://api.github.com/repos/ludwig-ai/ludwig/contents/{+path}","compare_url":"https://api.github.com/repos/ludwig-ai/ludwig/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ludwig-ai/ludwig/merges","archive_url":"https://api.github.com/repos/ludwig-ai/ludwig/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ludwig-ai/ludwig/downloads","issues_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues{/number}","pulls_url":"https://api.github.com/repos/ludwig-ai/ludwig/pulls{/number}","milestones_url":"https://api.github.com/repos/ludwig-ai/ludwig/milestones{/number}","notifications_url":"https://api.github.com/repos/ludwig-ai/ludwig/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/labels{/name}","releases_url":"https://api.github.com/repos/ludwig-ai/ludwig/releases{/id}","deployments_url":"https://api.github.com/repos/ludwig-ai/ludwig/deployments","created_at":"2018-12-27T23:58:12Z","updated_at":"2023-01-19T21:01:40Z","pushed_at":"2023-01-19T23:08:58Z","git_url":"git://github.com/ludwig-ai/ludwig.git","ssh_url":"git@github.com:ludwig-ai/ludwig.git","clone_url":"https://github.com/ludwig-ai/ludwig.git","svn_url":"https://github.com/ludwig-ai/ludwig","homepage":"http://ludwig.ai","size":29868,"stargazers_count":8712,"watchers_count":8712,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1027,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":241,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["computer-vision","data-centric","data-science","datascience","deep","deep-learning","deeplearning","learning","machine","machine-learning","machinelearning","ml","natural-language","natural-language-processing","neural-network","python","pytorch"],"visibility":"public","forks":1027,"open_issues":241,"watchers":8712,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/pulls/2508","html_url":"https://github.com/ludwig-ai/ludwig/pull/2508","diff_url":"https://github.com/ludwig-ai/ludwig/pull/2508.diff","patch_url":"https://github.com/ludwig-ai/ludwig/pull/2508.patch","merged_at":"2022-09-16T17:15:25Z"},"body":"Fixes #2499.\r\nRelated #2497.\r\n\r\nAlso changes exclusion logic to be less restrictive for index-looking fields.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2508/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1248786449","html_url":"https://github.com/ludwig-ai/ludwig/issues/2497#issuecomment-1248786449","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2497","id":1248786449,"node_id":"IC_kwDOCbx2hs5KbvgR","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2022-09-16T00:32:44Z","updated_at":"2022-09-16T00:32:44Z","author_association":"COLLABORATOR","body":"Hey @Jeffwan, I see the issue here. We typically take only the first 10k rows from the Dask DF for the type inference portion to speed things up, but looks like we weren't doing that automatically in this code path. Should be fixed in #2508.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1248786449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}},{"id":7399171566,"node_id":"MEE_lADOCbx2hs5R4uCkzwAAAAG5BmXu","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7399171566","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-16T00:32:44Z","performed_via_github_app":null},{"id":7399171571,"node_id":"SE_lADOCbx2hs5R4uCkzwAAAAG5BmXz","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7399171571","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-16T00:32:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1248900489","html_url":"https://github.com/ludwig-ai/ludwig/issues/2497#issuecomment-1248900489","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2497","id":1248900489,"node_id":"IC_kwDOCbx2hs5KcLWJ","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2022-09-16T04:17:28Z","updated_at":"2022-09-16T04:17:43Z","author_association":"COLLABORATOR","body":"Regarding the issue with `use_credentials`, I gave you the format incorrectly. It should actually be as shown in this example: https://github.com/ludwig-ai/ludwig/blob/master/tests/ludwig/utils/test_data_utils.py#L118\r\n\r\nSo:\r\n\r\n```\r\ns3_creds = {\r\n        \"s3\": {\r\n            \"client_kwargs\": {\r\n                \"endpoint_url\": \"http://localhost:9000\",\r\n                \"aws_access_key_id\": \"test\",\r\n                \"aws_secret_access_key\": \"test\",\r\n            }\r\n        }\r\n    }\r\n    with use_credentials(s3_creds):\r\n```\r\n\r\nBut if Option 2 works well for your use case, then that works too.\r\n\r\nFor reading from files given as string paths (so not needing to manually load from Dask), what would be your preferred way to provide the credentials?\r\n\r\nI was thinking about adding something to the Ludwig config to specify credentials, like:\r\n\r\n```\r\nbackend:\r\n    credentials:\r\n        s3:\r\n            client_kwargs:\r\n                endpoint_url: http://localhost:9000\r\n```\r\n\r\nFor environment variables, we could provide a syntax similar to Skaffold:\r\n\r\n```\r\nbackend:\r\n    credentials:\r\n        s3:\r\n            client_kwargs:\r\n                endpoint_url: {{.AWS_ENDPOINT_URL}}\r\n```\r\n\r\nFinally, we could also let the user provide a path:\r\n\r\n```\r\nbackend:\r\n    credentials:\r\n        s3: /data/creds.json\r\n```\r\n\r\nLet me know if any of these would be useful or preferred over reading from Dask directly.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1248900489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}},{"id":7400124837,"node_id":"AE_lADOCbx2hs5R4uCkzwAAAAG5FPGl","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7400124837","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-09-16T05:21:57Z","assignee":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1250014210","html_url":"https://github.com/ludwig-ai/ludwig/issues/2497#issuecomment-1250014210","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2497","id":1250014210,"node_id":"IC_kwDOCbx2hs5KgbQC","user":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"created_at":"2022-09-17T06:46:17Z","updated_at":"2022-09-17T06:46:17Z","author_association":"NONE","body":"We programmatically generate the config file. I feel either way works for us. My program will receive custom `endpoint_url` and the program will override the config in user config. All of above options work for us and I don't have preference at this moment.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1250014210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1267885788","html_url":"https://github.com/ludwig-ai/ludwig/issues/2497#issuecomment-1267885788","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2497","id":1267885788,"node_id":"IC_kwDOCbx2hs5Lkmbc","user":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"created_at":"2022-10-05T03:32:14Z","updated_at":"2022-10-05T03:32:14Z","author_association":"NONE","body":"I can confirm following ways works fine for my case. The only tricky thing is I need to use credential ENV instead client_kwargs to overcome the following issue. \r\n\r\n```\r\n    s3_creds = {\r\n            \"s3\": {\r\n                \"client_kwargs\": {\r\n                    \"endpoint_url\": object_storage_endpoint,\r\n                    # do not pass access_key and secret_key here, cleint_kwargs will be passed to boto3.client, so we will get \r\n                    # TypeError: create_client() got multiple values for keyword argument 'aws_access_key_id' error if they are configured.\r\n                    # Let the client to read from Env.\r\n                    # \"aws_access_key_id\": os.environ['AWS_ACCESS_KEY_ID'],\r\n                    # \"aws_secret_access_key\": os.environ['AWS_SECRET_ACCESS_KEY'],\r\n                }\r\n            }\r\n        }\r\n\r\n with use_credentials(s3_creds):\r\n       xxxx # my logic\r\n```\r\n\r\n\r\nIf you have following config support in future, it would save us additional efforts configuring s3_creds. This is not a blocking issue and I will close this issue now.\r\n\r\n```\r\nbackend:\r\n    credentials:\r\n        s3:\r\n            client_kwargs:\r\n                endpoint_url: {{.AWS_ENDPOINT_URL}}\r\n```","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1267885788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false}},{"id":7521707169,"node_id":"CE_lADOCbx2hs5R4uCkzwAAAAHAVCSh","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7521707169","actor":{"login":"Jeffwan","id":4739316,"node_id":"MDQ6VXNlcjQ3MzkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4739316?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffwan","html_url":"https://github.com/Jeffwan","followers_url":"https://api.github.com/users/Jeffwan/followers","following_url":"https://api.github.com/users/Jeffwan/following{/other_user}","gists_url":"https://api.github.com/users/Jeffwan/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffwan/subscriptions","organizations_url":"https://api.github.com/users/Jeffwan/orgs","repos_url":"https://api.github.com/users/Jeffwan/repos","events_url":"https://api.github.com/users/Jeffwan/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffwan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-10-05T03:32:14Z","state_reason":null,"performed_via_github_app":null}]