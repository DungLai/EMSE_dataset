[{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1244790195","html_url":"https://github.com/ludwig-ai/ludwig/issues/2474#issuecomment-1244790195","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2474","id":1244790195,"node_id":"IC_kwDOCbx2hs5KMf2z","user":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"created_at":"2022-09-13T01:34:01Z","updated_at":"2022-09-13T02:11:32Z","author_association":"COLLABORATOR","body":"Here is some additional data on the memory issue.\r\n\r\nFollowing are output from Image encoder code that have been instrumented to print amount of memory used at the entrance and exit of the `forward()` method of the image feature and the `resnet` and `stacked_cnn` encoders.\r\n\r\nBoth of the following runs involved 20 synthetic images size 224 X 244 and 3 channels.  Each group of output messages represent one batch of images.\r\n\r\nSummary of observations:\r\n\r\n|Encoder|Memory used entering image forward()|Memory used exiting image forward() method|\r\n|-------|:----------------------------------:|:----------------------------------------:|\r\n|resnet 1st batch|514.30MB|11,681.95MB|\r\n|resnet 2nd batch|1,112.68MB|11,731.73MB|\r\n|stacked_cnn 1st batch|582.47MB |925.67MB|\r\n|stacked_cnn 1st batch|997.59MB|1,277.31MB|\r\n\r\n| Encoder      |torchinfo summary Number of Parameters |\r\n|--------------|:--------------------:|\r\n| resnet       |6,016,160|\r\n| stacked_cnn  |23,907,392|\r\n\r\nKey Points:\r\n\r\n* `resnet` encoder memory usage increase over 10GB during one forward pass, while `stacked_cnn` increase was only in the 400MB range.\r\n* there is a significant drop (10GB) in memory used between batches for `resnet`.  For `stacked_cnn` a slight increase in memory (72MB)\r\n* the significant memory increase for `resnet` only occurs during the forward method during training and not in evaluation.\r\n* while `resnet` experienced a significant increase in memory usage when compared to `stacked_cnn` it has about a quarter of the parameters reported by torchinfo, 6M for `resnet` vs 23.9M for `stacked_cnn`.\r\n\r\nThe issue may not be a memory leak but possibily inefficient use of memory.\r\n\r\n\r\n## resnet Encoder\r\n\r\n```\r\n7c7ba83849b5:python -u /opt/project/sandbox/vision_models/mwe_dask_backend_issue1.py\r\n\r\n<<<< DELELETE LINES >>>>\r\n\r\nDataset sizes:\r\n╒═══════════╤════════╕\r\n│ Dataset   │   Size │\r\n╞═══════════╪════════╡\r\n│ Training  │     20 │\r\n╘═══════════╧════════╛\r\n\r\n╒═══════╕\r\n│ MODEL │\r\n╘═══════╛\r\n\r\nWarnings and other logs:\r\n/usr/local/lib/python3.8/site-packages/sklearn/experimental/enable_hist_gradient_boosting.py:16: UserWarning: Since version 1.0, it is not needed to import enable_hist_gradient_boosting anymore. HistGradientBoostingClassifier and HistGradientBoostingRegressor are now stable and can be normally imported from sklearn.ensemble.\r\n  warnings.warn(\r\n\r\n╒══════════╕\r\n│ TRAINING │\r\n╘══════════╛\r\n\r\nTraining for 2 step(s), approximately 2 epoch(s).\r\nEarly stopping policy: 5 round(s) of evaluation, or 5 step(s), approximately 5 epoch(s).\r\n\r\nStarting with step 0, epoch: 0\r\nTraining:   0%|          | 0/2 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 514.30MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering resnet encoder forward: memory used: 526.30MB\r\n entering resnet forward: memory used: 526.30MB\r\n exiting resnet forward(): memory used: 11673.51MB\r\nexiting resnet encoder forward: memory used: 11681.95MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 11681.95MB\r\nTraining:  50%|█████     | 1/2 [01:42<01:42, 102.95s/it]\r\nRunning evaluation for step: 1, epoch: 0\r\nEvaluation train:   0%|          | 0/1 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1105.61MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering resnet encoder forward: memory used: 1105.61MB\r\n entering resnet forward: memory used: 1105.61MB\r\n exiting resnet forward(): memory used: 1169.34MB\r\nexiting resnet encoder forward: memory used: 1105.38MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1105.38MB\r\nEvaluation train: 100%|██████████| 1/1 [00:10<00:00, 10.56s/it]\r\n╒════════════╤════════╤════════════╤═════════════╕\r\n│ category   │   loss │   accuracy │   hits_at_k │\r\n╞════════════╪════════╪════════════╪═════════════╡\r\n│ train      │ 2.8917 │     0.1500 │      0.4500 │\r\n╘════════════╧════════╧════════════╧═════════════╛\r\n╒════════════╤════════╕\r\n│ combined   │   loss │\r\n╞════════════╪════════╡\r\n│ train      │ 2.8917 │\r\n╘════════════╧════════╛\r\n\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1112.68MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering resnet encoder forward: memory used: 1112.68MB\r\n entering resnet forward: memory used: 1112.68MB\r\n exiting resnet forward(): memory used: 11726.59MB\r\nexiting resnet encoder forward: memory used: 11731.73MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 11731.73MB\r\nTraining: 100%|██████████| 2/2 [02:55<00:00, 84.78s/it] \r\nRunning evaluation for step: 2, epoch: 1\r\nEvaluation train:   0%|          | 0/1 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1966.04MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering resnet encoder forward: memory used: 1966.04MB\r\n entering resnet forward: memory used: 1966.04MB\r\n exiting resnet forward(): memory used: 1968.59MB\r\nexiting resnet encoder forward: memory used: 1968.61MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1968.61MB\r\nEvaluation train: 100%|██████████| 1/1 [00:06<00:00,  6.12s/it]\r\n╒════════════╤════════╤════════════╤═════════════╕\r\n│ category   │   loss │   accuracy │   hits_at_k │\r\n╞════════════╪════════╪════════════╪═════════════╡\r\n│ train      │ 3.9798 │     0.1000 │      0.4000 │\r\n╘════════════╧════════╧════════════╧═════════════╛\r\n╒════════════╤════════╕\r\n│ combined   │   loss │\r\n╞════════════╪════════╡\r\n│ train      │ 3.9798 │\r\n╘════════════╧════════╛\r\nTraining: 100%|██████████| 2/2 [03:05<00:00, 92.84s/it]\r\nCalibration uses validation set, but no validation split specified.Will use training set for calibration.Recommend providing a validation set when using calibration.\r\n\r\n╒══════════╕\r\n│ FINISHED │\r\n╘══════════╛\r\n\r\n\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1058.58MB  batch shape torch.Size([7, 3, 224, 224])\r\nentering resnet encoder forward: memory used: 1058.58MB\r\n entering resnet forward: memory used: 1058.58MB\r\n exiting resnet forward(): memory used: 1077.81MB\r\nexiting resnet encoder forward: memory used: 1077.81MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1077.81MB\r\n=====================================================================================================================================================================\r\nLayer (type (var_name))                                                               Input Shape          Output Shape         Param #              Trainable\r\n=====================================================================================================================================================================\r\nImageInputFeature (ImageInputFeature)                                                 [7, 3, 224, 224]     [7, 128]             --                   True\r\n├─ResNetEncoder (encoder_obj)                                                         [7, 3, 224, 224]     [7, 128]             --                   True\r\n│    └─ResNet (resnet)                                                                [7, 3, 224, 224]     [7, 1024, 28, 28]    --                   True\r\n│    └─FCStack (fc_stack)                                                             [7, 1024]            [7, 128]             --                   True\r\n│    │    └─ModuleList (stack)                                                        --                   --                   131,200              True\r\n=====================================================================================================================================================================\r\nTotal params: 6,016,160\r\nTrainable params: 6,016,160\r\nNon-trainable params: 0\r\nTotal mult-adds (G): 111.44\r\n=====================================================================================================================================================================\r\nInput size (MB): 1.05\r\nForward/backward pass size (MB): 8744.28\r\nParams size (MB): 24.06\r\nEstimated Total Size (MB): 8769.40\r\n=====================================================================================================================================================================\r\n```\r\n\r\n## stacked_cnn encoder\r\n\r\n```\r\n86da16898af0:python -u /opt/project/sandbox/vision_models/mwe_dask_backend_issue1.py\r\n\r\nDataset sizes:\r\n╒═══════════╤════════╕\r\n│ Dataset   │   Size │\r\n╞═══════════╪════════╡\r\n│ Training  │     20 │\r\n╘═══════════╧════════╛\r\n\r\n╒═══════╕\r\n│ MODEL │\r\n╘═══════╛\r\n\r\nWarnings and other logs:\r\n/usr/local/lib/python3.8/site-packages/sklearn/experimental/enable_hist_gradient_boosting.py:16: UserWarning: Since version 1.0, it is not needed to import enable_hist_gradient_boosting anymore. HistGradientBoostingClassifier and HistGradientBoostingRegressor are now stable and can be normally imported from sklearn.ensemble.\r\n  warnings.warn(\r\n\r\n╒══════════╕\r\n│ TRAINING │\r\n╘══════════╛\r\n\r\nTraining for 2 step(s), approximately 2 epoch(s).\r\nEarly stopping policy: 5 round(s) of evaluation, or 5 step(s), approximately 5 epoch(s).\r\n\r\nStarting with step 0, epoch: 0\r\nTraining:   0%|          | 0/2 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 582.47MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering stacked_cnn encoder forward: memory used: 594.43MB\r\nexiting stacked_cnn encoder forward: memory used: 925.67MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 925.67MB\r\nTraining:  50%|█████     | 1/2 [00:00<00:00,  1.34it/s]\r\nRunning evaluation for step: 1, epoch: 0\r\nEvaluation train:   0%|          | 0/1 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 901.43MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering stacked_cnn encoder forward: memory used: 925.45MB\r\nexiting stacked_cnn encoder forward: memory used: 1002.00MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1002.00MB\r\nEvaluation train: 100%|██████████| 1/1 [00:00<00:00,  7.35it/s]\r\n╒════════════╤═════════╤════════════╤═════════════╕\r\n│ category   │    loss │   accuracy │   hits_at_k │\r\n╞════════════╪═════════╪════════════╪═════════════╡\r\n│ train      │ 20.7572 │     0.2000 │      0.5000 │\r\n╘════════════╧═════════╧════════════╧═════════════╛\r\n╒════════════╤═════════╕\r\n│ combined   │    loss │\r\n╞════════════╪═════════╡\r\n│ train      │ 20.7572 │\r\n╘════════════╧═════════╛\r\n\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 997.59MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering stacked_cnn encoder forward: memory used: 997.59MB\r\nexiting stacked_cnn encoder forward: memory used: 1277.31MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1277.31MB\r\nTraining: 100%|██████████| 2/2 [00:08<00:00,  4.63s/it]\r\nRunning evaluation for step: 2, epoch: 1\r\nEvaluation train:   0%|          | 0/1 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1073.06MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering stacked_cnn encoder forward: memory used: 1073.06MB\r\nexiting stacked_cnn encoder forward: memory used: 1072.96MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1072.96MB\r\nEvaluation train: 100%|██████████| 1/1 [00:00<00:00,  7.27it/s]\r\n╒════════════╤═════════╤════════════╤═════════════╕\r\n│ category   │    loss │   accuracy │   hits_at_k │\r\n╞════════════╪═════════╪════════════╪═════════════╡\r\n│ train      │ 15.4517 │     0.1500 │      0.5000 │\r\n╘════════════╧═════════╧════════════╧═════════════╛\r\n╒════════════╤═════════╕\r\n│ combined   │    loss │\r\n╞════════════╪═════════╡\r\n│ train      │ 15.4517 │\r\n╘════════════╧═════════╛\r\nTraining: 100%|██████████| 2/2 [00:15<00:00,  7.88s/it]\r\nCalibration uses validation set, but no validation split specified.Will use training set for calibration.Recommend providing a validation set when using calibration.\r\n\r\n╒══════════╕\r\n│ FINISHED │\r\n╘══════════╛\r\n\r\n\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 774.46MB  batch shape torch.Size([7, 3, 224, 224])\r\nentering stacked_cnn encoder forward: memory used: 774.46MB\r\nexiting stacked_cnn encoder forward: memory used: 796.68MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 796.68MB\r\n=============================================================================================================================\r\nLayer (type (var_name))                       Input Shape          Output Shape         Param #              Trainable\r\n=============================================================================================================================\r\nImageInputFeature (ImageInputFeature)         [7, 3, 224, 224]     [7, 128]             --                   True\r\n├─Stacked2DCNN (encoder_obj)                  [7, 3, 224, 224]     [7, 128]             --                   True\r\n│    └─Conv2DStack (conv_stack_2d)            [7, 3, 224, 224]     [7, 64, 54, 54]      --                   True\r\n│    │    └─ModuleList (stack)                --                   --                   19,392               True\r\n│    └─Flatten (flatten)                      [7, 64, 54, 54]      [7, 186624]          --                   --\r\n│    └─FCStack (fc_stack)                     [7, 186624]          [7, 128]             --                   True\r\n│    │    └─ModuleList (stack)                --                   --                   23,888,000           True\r\n=============================================================================================================================\r\nTotal params: 23,907,392\r\nTrainable params: 23,907,392\r\nNon-trainable params: 0\r\nTotal mult-adds (G): 2.01\r\n=============================================================================================================================\r\nInput size (MB): 1.05\r\nForward/backward pass size (MB): 130.91\r\nParams size (MB): 95.63\r\nEstimated Total Size (MB): 227.59\r\n=============================================================================================================================\r\n\r\nProcess finished with exit code 0\r\n```","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1244790195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1244807263","html_url":"https://github.com/ludwig-ai/ludwig/issues/2474#issuecomment-1244807263","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2474","id":1244807263,"node_id":"IC_kwDOCbx2hs5KMkBf","user":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"created_at":"2022-09-13T02:10:12Z","updated_at":"2022-09-13T02:11:50Z","author_association":"COLLABORATOR","body":"Tried a test with TorchVision ResNet-18 model for point of comparison.  Here are results.\r\n\r\n|Encoder|Memory used entering image forward()|Memory used exiting image forward() method|\r\n|-------|:----------------------------------:|:----------------------------------------:|\r\n|tv_resnet 1st batch|640.57MB|1,111.27MB|\r\n|tv_resnet 2nd batch|1,120.56MB|1,296.54MB|\r\n\r\ntorchinfo parameter count for `tv_resnet`:  11,176,512\r\n\r\nThe torchvision resent model does not experience a significant increase in memory during the training forward pass.\r\n\r\n```\r\nDataset sizes:\r\n╒═══════════╤════════╕\r\n│ Dataset   │   Size │\r\n╞═══════════╪════════╡\r\n│ Training  │     20 │\r\n╘═══════════╧════════╛\r\n\r\n╒═══════╕\r\n│ MODEL │\r\n╘═══════╛\r\n\r\nWarnings and other logs:\r\nDownloading: \"https://download.pytorch.org/models/resnet18-f37072fd.pth\" to /root/.cache/torch/hub/checkpoints/resnet18-f37072fd.pth\r\n100%|██████████| 44.7M/44.7M [00:06<00:00, 7.77MB/s]\r\n/usr/local/lib/python3.8/site-packages/sklearn/experimental/enable_hist_gradient_boosting.py:16: UserWarning: Since version 1.0, it is not needed to import enable_hist_gradient_boosting anymore. HistGradientBoostingClassifier and HistGradientBoostingRegressor are now stable and can be normally imported from sklearn.ensemble.\r\n  warnings.warn(\r\n\r\n╒══════════╕\r\n│ TRAINING │\r\n╘══════════╛\r\n\r\nTraining for 2 step(s), approximately 2 epoch(s).\r\nEarly stopping policy: 5 round(s) of evaluation, or 5 step(s), approximately 5 epoch(s).\r\n\r\nStarting with step 0, epoch: 0\r\nTraining:   0%|          | 0/2 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 640.57MB  batch shape torch.Size([20, 3, 224, 224])\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1111.27MB\r\nTraining:  50%|█████     | 1/2 [00:00<00:00,  1.20it/s]\r\nRunning evaluation for step: 1, epoch: 0\r\nEvaluation train:   0%|          | 0/1 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1131.47MB  batch shape torch.Size([20, 3, 224, 224])\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1131.53MB\r\nEvaluation train: 100%|██████████| 1/1 [00:00<00:00,  3.88it/s]\r\n╒════════════╤════════╤════════════╤═════════════╕\r\n│ category   │   loss │   accuracy │   hits_at_k │\r\n╞════════════╪════════╪════════════╪═════════════╡\r\n│ train      │ 2.6989 │     0.0500 │      0.3000 │\r\n╘════════════╧════════╧════════════╧═════════════╛\r\n╒════════════╤════════╕\r\n│ combined   │   loss │\r\n╞════════════╪════════╡\r\n│ train      │ 2.6989 │\r\n╘════════════╧════════╛\r\n\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1120.56MB  batch shape torch.Size([20, 3, 224, 224])\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1296.54MB\r\nTraining: 100%|██████████| 2/2 [00:05<00:00,  2.83s/it]\r\nRunning evaluation for step: 2, epoch: 1\r\nEvaluation train:   0%|          | 0/1 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1197.04MB  batch shape torch.Size([20, 3, 224, 224])\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1196.52MB\r\nEvaluation train: 100%|██████████| 1/1 [00:00<00:00,  4.41it/s]\r\n╒════════════╤════════╤════════════╤═════════════╕\r\n│ category   │   loss │   accuracy │   hits_at_k │\r\n╞════════════╪════════╪════════════╪═════════════╡\r\n│ train      │ 5.5618 │     0.0500 │      0.3000 │\r\n╘════════════╧════════╧════════════╧═════════════╛\r\n╒════════════╤════════╕\r\n│ combined   │   loss │\r\n╞════════════╪════════╡\r\n│ train      │ 5.5618 │\r\n╘════════════╧════════╛\r\nTraining: 100%|██████████| 2/2 [00:08<00:00,  4.18s/it]\r\nCalibration uses validation set, but no validation split specified.Will use training set for calibration.Recommend providing a validation set when using calibration.\r\n\r\n╒══════════╕\r\n│ FINISHED │\r\n╘══════════╛\r\n\r\n\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 1108.21MB  batch shape torch.Size([7, 3, 224, 224])\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 1108.21MB\r\n==================================================================================================================================\r\nLayer (type (var_name))                            Input Shape          Output Shape         Param #              Trainable\r\n==================================================================================================================================\r\nImageInputFeature (ImageInputFeature)              [7, 3, 224, 224]     [7, 512]             --                   True\r\n├─TVResNetEncoder (encoder_obj)                    [7, 3, 224, 224]     [7, 512]             --                   True\r\n│    └─ResNet (model)                              [7, 3, 224, 224]     [7, 512]             --                   True\r\n│    │    └─Conv2d (conv1)                         [7, 3, 224, 224]     [7, 64, 112, 112]    9,408                True\r\n│    │    └─BatchNorm2d (bn1)                      [7, 64, 112, 112]    [7, 64, 112, 112]    128                  True\r\n│    │    └─ReLU (relu)                            [7, 64, 112, 112]    [7, 64, 112, 112]    --                   --\r\n│    │    └─MaxPool2d (maxpool)                    [7, 64, 112, 112]    [7, 64, 56, 56]      --                   --\r\n│    │    └─Sequential (layer1)                    [7, 64, 56, 56]      [7, 64, 56, 56]      147,968              True\r\n│    │    └─Sequential (layer2)                    [7, 64, 56, 56]      [7, 128, 28, 28]     525,568              True\r\n│    │    └─Sequential (layer3)                    [7, 128, 28, 28]     [7, 256, 14, 14]     2,099,712            True\r\n│    │    └─Sequential (layer4)                    [7, 256, 14, 14]     [7, 512, 7, 7]       8,393,728            True\r\n│    │    └─AdaptiveAvgPool2d (avgpool)            [7, 512, 7, 7]       [7, 512, 1, 1]       --                   --\r\n│    │    └─Identity (fc)                          [7, 512]             [7, 512]             --                   --\r\n==================================================================================================================================\r\nTotal params: 11,176,512\r\nTrainable params: 11,176,512\r\nNon-trainable params: 0\r\nTotal mult-adds (G): 12.69\r\n==================================================================================================================================\r\nInput size (MB): 4.21\r\nForward/backward pass size (MB): 278.18\r\nParams size (MB): 44.71\r\nEstimated Total Size (MB): 327.10\r\n==================================================================================================================================\r\n\r\nProcess finished with exit code 0\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1244807263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1244813609","html_url":"https://github.com/ludwig-ai/ludwig/issues/2474#issuecomment-1244813609","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2474","id":1244813609,"node_id":"IC_kwDOCbx2hs5KMlkp","user":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"created_at":"2022-09-13T02:22:03Z","updated_at":"2022-09-13T02:22:03Z","author_association":"COLLABORATOR","body":"Another piece of the puzzle....with the Ludwig `resnet` it appears that `Conv2dLayerFixedPadding` is adding aobut 100MB of memory used and there are numerous calls to that layer\r\n\r\n```\r\nStarting with step 0, epoch: 0\r\nTraining:   0%|          | 0/2 [00:00<?, ?it/s]\r\nENTERING IMAGE_FEATURE FORWARD: memory used: 513.86MB  batch shape torch.Size([20, 3, 224, 224])\r\nentering resnet encoder forward: memory used: 525.86MB\r\n entering resnet forward: memory used: 525.86MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 525.86MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 656.97MB\r\n  entering resnetblocklayer forward: memory used: 786.80MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 786.80MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 1300.82MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 1300.82MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 1429.23MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 1558.22MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 1685.82MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 1814.87MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 2328.83MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 2328.20MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 2457.69MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 2586.14MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 2714.28MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 2843.28MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 3355.83MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 3870.30MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 3998.16MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 4126.85MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 4255.79MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 4383.68MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 4897.85MB\r\n  exiting resnetblocklayer forward: memory used: 5412.32MB\r\n  entering resnetblocklayer forward: memory used: 5412.32MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 5412.32MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 5669.45MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 5669.45MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 5925.99MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 6182.84MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 6247.44MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 6311.47MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 6568.28MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 6568.62MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 6632.42MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 6697.18MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 6761.51MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 6825.84MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 7082.39MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 7339.62MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 7403.68MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 7468.16MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 7532.23MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 7596.45MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 7853.00MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 8110.23MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 8174.57MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 8239.05MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 8302.84MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 8367.63MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 8624.44MB\r\n  exiting resnetblocklayer forward: memory used: 8881.14MB\r\n  entering resnetblocklayer forward: memory used: 8881.14MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 8881.14MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 9010.22MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 9010.22MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 9138.08MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 9267.05MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 9299.76MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 9331.97MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 9460.10MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 9460.14MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 9491.22MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 9555.56MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 9587.46MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 9651.80MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 9780.48MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 9908.69MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 9940.86MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 10005.20MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 10037.10MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 10101.17MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 10229.85MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 10358.36MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 10390.26MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 10454.33MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 10486.50MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 10551.11MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 10679.25MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 10807.85MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 10839.48MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 10904.09MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 10936.26MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11000.60MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11128.74MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11257.24MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11289.13MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11352.75MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11384.92MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11449.26MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11577.64MB\r\n  exiting resnetblocklayer forward: memory used: 11546.91MB\r\n  entering resnetblocklayer forward: memory used: 11546.91MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11546.91MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11613.54MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11613.54MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11677.88MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11740.33MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11740.33MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11740.33MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11802.56MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11571.43MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11576.53MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11578.33MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11578.33MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11578.33MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11643.22MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11692.04MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11691.78MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11691.78MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11691.78MB\r\n  entering conv2dlayerfixedpadding forward: memory used: 11707.72MB\r\n  exiting conv2dlayerfixedpadding forward: memory used: 11772.06MB\r\n  exiting resnetblocklayer forward: memory used: 11723.10MB\r\n exiting resnet forward(): memory used: 11699.34MB\r\nexiting resnet encoder forward: memory used: 11706.17MB\r\nEXITING IMAGE_FEATURE FORWARD: memory used: 11706.17MB\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1244813609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false}},{"id":7379012692,"node_id":"ATPE_lADOCbx2hs5RmkCmzwAAAAG30sxU","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7379012692","actor":{"login":"dalianaliu","id":33500844,"node_id":"MDQ6VXNlcjMzNTAwODQ0","avatar_url":"https://avatars.githubusercontent.com/u/33500844?v=4","gravatar_id":"","url":"https://api.github.com/users/dalianaliu","html_url":"https://github.com/dalianaliu","followers_url":"https://api.github.com/users/dalianaliu/followers","following_url":"https://api.github.com/users/dalianaliu/following{/other_user}","gists_url":"https://api.github.com/users/dalianaliu/gists{/gist_id}","starred_url":"https://api.github.com/users/dalianaliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dalianaliu/subscriptions","organizations_url":"https://api.github.com/users/dalianaliu/orgs","repos_url":"https://api.github.com/users/dalianaliu/repos","events_url":"https://api.github.com/users/dalianaliu/events{/privacy}","received_events_url":"https://api.github.com/users/dalianaliu/received_events","type":"User","site_admin":false},"event":"added_to_project","commit_id":null,"commit_url":null,"created_at":"2022-09-13T18:07:15Z","project_card":{"id":85629927,"url":"https://api.github.com/projects/columns/cards/85629927","project_id":14599557,"project_url":"https://api.github.com/projects/14599557","column_name":"Needs triage"},"performed_via_github_app":null},{"id":7379015110,"node_id":"LE_lADOCbx2hs5RmkCmzwAAAAG30tXG","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7379015110","actor":{"login":"dalianaliu","id":33500844,"node_id":"MDQ6VXNlcjMzNTAwODQ0","avatar_url":"https://avatars.githubusercontent.com/u/33500844?v=4","gravatar_id":"","url":"https://api.github.com/users/dalianaliu","html_url":"https://github.com/dalianaliu","followers_url":"https://api.github.com/users/dalianaliu/followers","following_url":"https://api.github.com/users/dalianaliu/following{/other_user}","gists_url":"https://api.github.com/users/dalianaliu/gists{/gist_id}","starred_url":"https://api.github.com/users/dalianaliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dalianaliu/subscriptions","organizations_url":"https://api.github.com/users/dalianaliu/orgs","repos_url":"https://api.github.com/users/dalianaliu/repos","events_url":"https://api.github.com/users/dalianaliu/events{/privacy}","received_events_url":"https://api.github.com/users/dalianaliu/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-13T18:07:37Z","label":{"name":"looking into it","color":"ffa54f"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1246096097","html_url":"https://github.com/ludwig-ai/ludwig/issues/2474#issuecomment-1246096097","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2474","id":1246096097,"node_id":"IC_kwDOCbx2hs5KRerh","user":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false},"created_at":"2022-09-14T00:47:31Z","updated_at":"2022-09-14T00:47:31Z","author_association":"COLLABORATOR","body":"Hi @jimthompson5802, thanks for looking more deeply at the memory usage.\r\n\r\nI agree with your sense that there's not a memory leak happening per se, but our implementation is just using more memory.\r\n\r\nAre there strong reasons to keep our own implementation of ResNet around, or does it make sense to switch over to torchvision's?","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1246096097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false}},{"id":7381047907,"node_id":"MEE_lADOCbx2hs5RmkCmzwAAAAG38dpj","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7381047907","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-14T00:47:31Z","performed_via_github_app":null},{"id":7381047911,"node_id":"SE_lADOCbx2hs5RmkCmzwAAAAG38dpn","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7381047911","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-14T00:47:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1249640925","html_url":"https://github.com/ludwig-ai/ludwig/issues/2474#issuecomment-1249640925","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2474","id":1249640925,"node_id":"IC_kwDOCbx2hs5KfAHd","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2022-09-16T17:49:41Z","updated_at":"2022-09-16T17:49:41Z","author_association":"COLLABORATOR","body":"Our implementation was the original TF1 code from the official ResNet repo back in the days, we ported it to TF2 and then to PyTorch. it's possible that in the process  there were some suboptimal choices made. For instance, i would be curious to see what layer are they useing in the torchvision implementation instead of `Conv2dLayerFixedPadding`.\r\nAnyway, @justinxzhao no big reason to keep our own implementation around, we can just adopt the torchvision one. The only issue is backward compatibility of models trained using the old implementation, but we will just add a note to the release and suggest users to retrain because of the advantages in memory usage.So @jimthompson5802 I think we can just replace implementations, ditch the old one and keep the tv one.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1249640925/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"id":7405044809,"node_id":"MEE_lADOCbx2hs5RmkCmzwAAAAG5YARJ","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7405044809","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-16T17:49:41Z","performed_via_github_app":null},{"id":7405044818,"node_id":"SE_lADOCbx2hs5RmkCmzwAAAAG5YARS","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7405044818","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-16T17:49:41Z","performed_via_github_app":null},{"id":7405044822,"node_id":"MEE_lADOCbx2hs5RmkCmzwAAAAG5YARW","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7405044822","actor":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-16T17:49:41Z","performed_via_github_app":null},{"id":7405044827,"node_id":"SE_lADOCbx2hs5RmkCmzwAAAAG5YARb","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7405044827","actor":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-16T17:49:41Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1249646773","html_url":"https://github.com/ludwig-ai/ludwig/issues/2474#issuecomment-1249646773","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2474","id":1249646773,"node_id":"IC_kwDOCbx2hs5KfBi1","user":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"created_at":"2022-09-16T17:55:45Z","updated_at":"2022-09-16T17:55:45Z","author_association":"COLLABORATOR","body":"@w4nderlust  @justinxzhao   retiring the old one and converting to the tv one sound reasonable. ","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1249646773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false}},{"id":7405089227,"node_id":"MEE_lADOCbx2hs5RmkCmzwAAAAG5YLHL","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7405089227","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-16T17:55:45Z","performed_via_github_app":null},{"id":7405089230,"node_id":"SE_lADOCbx2hs5RmkCmzwAAAAG5YLHO","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7405089230","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-16T17:55:45Z","performed_via_github_app":null},{"id":7405089235,"node_id":"MEE_lADOCbx2hs5RmkCmzwAAAAG5YLHT","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7405089235","actor":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-16T17:55:45Z","performed_via_github_app":null},{"id":7405089238,"node_id":"SE_lADOCbx2hs5RmkCmzwAAAAG5YLHW","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7405089238","actor":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-16T17:55:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1250182582","html_url":"https://github.com/ludwig-ai/ludwig/issues/2474#issuecomment-1250182582","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/2474","id":1250182582,"node_id":"IC_kwDOCbx2hs5KhEW2","user":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"created_at":"2022-09-18T03:22:16Z","updated_at":"2022-09-18T03:22:16Z","author_association":"COLLABORATOR","body":"Closing.  No action.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/1250182582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false}},{"id":7408366424,"node_id":"CE_lADOCbx2hs5RmkCmzwAAAAG5krNY","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7408366424","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-09-18T03:22:16Z","state_reason":null,"performed_via_github_app":null},{"id":7408366432,"node_id":"MCIPE_lADOCbx2hs5RmkCmzwAAAAG5krNg","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/7408366432","actor":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"event":"moved_columns_in_project","commit_id":null,"commit_url":null,"created_at":"2022-09-18T03:22:17Z","project_card":{"id":85629927,"url":"https://api.github.com/projects/columns/cards/85629927","project_id":14599557,"project_url":"https://api.github.com/projects/14599557","column_name":"Resolved","previous_column_name":"Needs triage"},"performed_via_github_app":null}]