[{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634423424","html_url":"https://github.com/ludwig-ai/ludwig/issues/714#issuecomment-634423424","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/714","id":634423424,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDQyMzQyNA==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-05-27T04:38:56Z","updated_at":"2020-05-27T04:38:56Z","author_association":"COLLABORATOR","body":"@theodor38 Increasing the batch size is a practice that come from this paper: https://openreview.net/pdf?id=B1Yy1BxCZ\r\nIt has become pretty standard.\r\nSo no, there is no way at the moment to reduce the batch size on plateau.\r\nI could consider this a feature request if you want.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634423424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"id":3376352817,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzM3NjM1MjgxNw==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3376352817","actor":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-27T04:38:56Z","performed_via_github_app":null},{"id":3376352819,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzNzYzNTI4MTk=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3376352819","actor":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-27T04:38:56Z","performed_via_github_app":null},{"id":3376353211,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzNzYzNTMyMTE=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3376353211","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-27T04:39:09Z","label":{"name":"feature request","color":"0377d6"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634961612","html_url":"https://github.com/ludwig-ai/ludwig/issues/714#issuecomment-634961612","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/714","id":634961612,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDk2MTYxMg==","user":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false},"created_at":"2020-05-27T21:51:11Z","updated_at":"2020-05-27T21:51:11Z","author_association":"NONE","body":"@w4nderlust  I mean I try both to increase and to decrease. Decreasing worked because I have a quite a large data set and starting with 128 batch as it is default takes a very long time to search for optimum hps. So having a decrease option on plateau would be beneficial as it would serve both hp search and accuracy simultaneously -at least in my case. starting with large batch number and then gradually reducing it definitely helped me achieve better accuracy almost every time. And it is faster\r\n\r\nThank you for your response.\r\n\r\nall the best\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634961612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false}},{"id":3380214625,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzM4MDIxNDYyNQ==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3380214625","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-27T21:51:11Z","performed_via_github_app":null},{"id":3380214628,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzODAyMTQ2Mjg=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3380214628","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-27T21:51:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634972834","html_url":"https://github.com/ludwig-ai/ludwig/issues/714#issuecomment-634972834","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/714","id":634972834,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDk3MjgzNA==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-05-27T22:16:59Z","updated_at":"2020-05-27T22:16:59Z","author_association":"COLLABORATOR","body":"I don't really understand how it can be faster :) The single batch surely is faster, but considering the timpe to complete an epoch (which is what matters) it will definitely be slower.\r\n\r\nAlso, a small batch size gives you a less accurate estimate of the true gradient (the gradient on all the dataset), so the rough intuition of that paper is that at the beginning of the training you may get a way with a worse estimation of the gradient because you are far from any minimum anyway, while later in the training you want more accurate estimates because you are closer to a minimum and the grients are smaller you reducing the noise in the gradients is a good idea.\r\n\r\nI don't doubt your specific experience, would be interesting to study it in more detail, but goes kinda against my intuition and most papers I've read. That said, I'm more than willing to consider this a feature request and modify the implementation to make it work with decreasing batch sizes too. Ig you are interested i ncotributing this let me know and I will point you in the part of the code that needs to be changed, it would be really simple to do. Otherwise i will just add it to the backlog and eventually get to it ;)","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634972834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634990467","html_url":"https://github.com/ludwig-ai/ludwig/issues/714#issuecomment-634990467","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/714","id":634990467,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDk5MDQ2Nw==","user":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false},"created_at":"2020-05-27T23:07:29Z","updated_at":"2020-05-27T23:07:29Z","author_association":"NONE","body":"Since I am using an evolutionary strategy to tune hps at first, starting with a large batch size is faster to converge on optimal hps and then making batch sizes smaller and smaller improves accuracy.  smaller batch  size == slower epoch completion. Although this assumes the optimal NN structure with large Batch size will work as well with a small one. Albeit it seems to.\r\n\r\nIntuition from the paper seems solid. I will experiment more to make sure I am not fooling myself :) But so far I am convinced.\r\n\r\nYeah please point me in the right direction for the contrib and I will at least try :)\r\n\r\nThank you","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634990467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634994544","html_url":"https://github.com/ludwig-ai/ludwig/issues/714#issuecomment-634994544","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/714","id":634994544,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDk5NDU0NA==","user":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false},"created_at":"2020-05-27T23:20:42Z","updated_at":"2020-05-27T23:36:56Z","author_association":"NONE","body":"![IMG_4093](https://user-images.githubusercontent.com/52652380/83081552-d413ce00-a035-11ea-8066-1d33e323c172.JPG)\r\n\r\nAs you can see in this image. Evo algo was given a choice between 1000-20000 batch size to choose from. X axis is sorted by accuracy. From high to low(1 being the highest accuracy model). It ends up converging to a low batch size every time! This is with a stationary batch size throughout the entire training. This gave me the idea to start high and then lower it.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/634994544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/635011484","html_url":"https://github.com/ludwig-ai/ludwig/issues/714#issuecomment-635011484","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/714","id":635011484,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTAxMTQ4NA==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-05-28T00:12:17Z","updated_at":"2020-05-28T00:12:17Z","author_association":"COLLABORATOR","body":"> Since I am using an evolutionary strategy to tune hps at first, starting with a large batch size is faster to converge on optimal hps and then making batch sizes smaller and smaller improves accuracy. smaller batch size == slower epoch completion. Although this assumes the optimal NN structure with large Batch size will work as well with a small one. Albeit it seems to.\r\n>\r\n> ![IMG_4093](https://user-images.githubusercontent.com/52652380/83081552-d413ce00-a035-11ea-8066-1d33e323c172.JPG)\r\n>\r\n> As you can see in this image. Evo algo was given a choice between 1000-20000 batch size to choose from. X axis is sorted by accuracy. From high to low(1 being the highest accuracy model). It ends up converging to a low batch size every time! This is with a stationary batch size throughout the entire training. This gave me the idea to start high and then lower it.\r\n> \r\n> Intuition from the paper seems solid. I will experiment more to make sure I am not fooling myself :) But so far I am convinced.\r\n\r\nIf this is confirmed is definitely interesting to explore. Things I would look out for are: what is your fitness function? Meaning what is yout y axis on the plot? If it is training loss, you may be figuring out the parameters that best overfit :) if it is accuracy, make sure it's validation accuracy. Also make sure of minus sign if you are minimizing / maximizing, as you may actually be getting the opposite of what you want.\r\n\r\n> Yeah please point me in the right direction for the contrib and I will at least try :)\r\n\r\nThis is the relevant part of the code:\r\nhttps://github.com/uber/ludwig/blob/master/ludwig/models/model.py#L1291-L1299\r\nhttps://github.com/uber/ludwig/blob/aa4e52ef948ec50e20e339f4b5bb859281ed9d59/ludwig/models/model.py#L1677-L1730\r\nI think changing it to work on increase values between 0 and 1 would be easy, just make sure that the batch size never gets below zero and be mindful of recasting to integer.\r\nIf you make it work feel free to create a PR.\r\n\r\nOn a separate note, would you consider contributing the evolutionary hp optimization?\r\nWe have a branch containing a way to do hp optimization in Ludwig, it already contains grid and random strategies, there will be a bayesian one too soon, and having a evolutionary one would be really cool too. Here you can see how it's implemented:\r\nhttps://github.com/uber/ludwig/blob/hyperopt/ludwig/hyperopt.py\r\nhttps://github.com/uber/ludwig/blob/hyperopt/ludwig/utils/hyperopt_utils.py\r\nIf you are interested, adding a class that implements the HyperoptStrategy interface should be very easy.\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/635011484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/635017038","html_url":"https://github.com/ludwig-ai/ludwig/issues/714#issuecomment-635017038","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/714","id":635017038,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTAxNzAzOA==","user":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false},"created_at":"2020-05-28T00:29:16Z","updated_at":"2020-05-28T00:29:16Z","author_association":"NONE","body":"``\r\n\r\n> Meaning what is yout y axis on the plot? If it is training loss, you may be figuring out the parameters that best overfit :) if it is accuracy, make sure it's validation accuracy.\r\n\r\nY axis on the plot is batch size. Sorry to have not done a proper names on axis. x is models ranked by accuracy and y s batch size. in the x axis there are ~1500 models ranked and left most is the best accuracy model. I have a very robust validation set and all accuracy is measured with the validation set. There is little to no over fitting as these models are also tested in live production. \r\n\r\nFrom reading papers on hps, I have seen that most concepts are based on conv net models. However I believe some of the intuition gained from conv nets do not apply to simple DNNs with regression etc. at least it seems like the case. Any thoughts on this?\r\n\r\nI will do my best to contrib. It will be a challenge :)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/635017038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"theodor38","id":52652380,"node_id":"MDQ6VXNlcjUyNjUyMzgw","avatar_url":"https://avatars.githubusercontent.com/u/52652380?v=4","gravatar_id":"","url":"https://api.github.com/users/theodor38","html_url":"https://github.com/theodor38","followers_url":"https://api.github.com/users/theodor38/followers","following_url":"https://api.github.com/users/theodor38/following{/other_user}","gists_url":"https://api.github.com/users/theodor38/gists{/gist_id}","starred_url":"https://api.github.com/users/theodor38/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theodor38/subscriptions","organizations_url":"https://api.github.com/users/theodor38/orgs","repos_url":"https://api.github.com/users/theodor38/repos","events_url":"https://api.github.com/users/theodor38/events{/privacy}","received_events_url":"https://api.github.com/users/theodor38/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/635025825","html_url":"https://github.com/ludwig-ai/ludwig/issues/714#issuecomment-635025825","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/714","id":635025825,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTAyNTgyNQ==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-05-28T00:55:00Z","updated_at":"2020-05-28T00:55:00Z","author_association":"COLLABORATOR","body":"> ``\r\n> \r\n> > Meaning what is yout y axis on the plot? If it is training loss, you may be figuring out the parameters that best overfit :) if it is accuracy, make sure it's validation accuracy.\r\n> \r\n> Y axis on the plot is batch size. Sorry to have not done a proper names on axis. x is models ranked by accuracy and y s batch size. in the x axis there are ~1500 models ranked and left most is the best accuracy model. I have a very robust validation set and all accuracy is measured with the validation set. There is little to no over fitting as these models are also tested in live production.\r\n> \r\n> From reading papers on hps, I have seen that most concepts are based on conv net models. However I believe some of the intuition gained from conv nets do not apply to simple DNNs with regression etc. at least it seems like the case. Any thoughts on this?\r\n\r\nGot it. It's an interesting finding then, worth exploring. I'm also curious about the production use cases you are using Ludwig for. Feel free to reach out to me privately to chat about it if they can't be discussed privately, as knowing about them can help me prioritize future developments.\r\n\r\n> I will do my best to contrib. It will be a challenge :)\r\n\r\nFeel free to ask me if something is not clear :)","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/635025825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}}]