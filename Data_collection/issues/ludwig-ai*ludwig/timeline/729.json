[{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641007627","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-641007627","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":641007627,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTAwNzYyNw==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-06-09T03:34:33Z","updated_at":"2020-06-09T03:34:33Z","author_association":"COLLABORATOR","body":"Your task is exactly the reason why the sequence combiner exists :)\r\n\r\nIt looks like you did everything correctly apart from `reduce_inputs` in the output feature, which should be `reduce_input`. With that, the tesnor the error is complaining about should have the correct sapes.\r\n\r\nLet me know if this fixes your issue. (this also suggests me to provide a mechanism to notify the user when wrong keys are used in the model definition, this would have avoided your error to happen if you got notified).\r\n\r\nI am really glad that people are starting to use those more advanced features in Ludwig!","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641007627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"id":3422869998,"node_id":"MDEyOkxhYmVsZWRFdmVudDM0MjI4Njk5OTg=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3422869998","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-06-09T03:34:47Z","label":{"name":"waiting for answer","color":"fff36b"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641210498","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-641210498","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":641210498,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTIxMDQ5OA==","user":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false},"created_at":"2020-06-09T10:53:10Z","updated_at":"2020-06-09T19:56:31Z","author_association":"CONTRIBUTOR","body":"@w4nderlust Thank you for your fast reply, the promise of an easy way to use those advanced features was what has drawn me to Ludwig in the first place (after seeing you present at Interspeech 2019). \r\n\r\nUnfortunately your recommendation does not solve the problem (same issue persists) - likely because `reduce_input` was set to `None` anyway as it is the default value for `tagger`. \r\n\r\nAs to your other points:\r\n\r\nI think that ensuring correct user input is an essential addition, as there are few things more frustrating that chasing a configuration typo for half a day ;) You could use something like [jsonschema](https://python-jsonschema.readthedocs.io/en/stable/) for it - it is pretty easy to write and convenient to use for validation. Alternatively [Data Classes in 3.7's PEP 557](https://www.python.org/dev/peps/pep-0557/) could be of use, but maybe its too early for that.\r\n\r\nI guess there is also a bug in documentation, as this was a copy-paste from the [tagger definition](https://ludwig-ai.github.io/ludwig-docs/user_guide/#tagger-decoder). Where it says `reduce_inputs` (with the `s` at the end), the same typo appears at least 13 times in the user guide.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641210498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641393701","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-641393701","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":641393701,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTM5MzcwMQ==","user":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false},"created_at":"2020-06-09T15:50:12Z","updated_at":"2020-06-09T15:50:12Z","author_association":"CONTRIBUTOR","body":"Also it would be awesome to have a clear example for such a use-case in Examples :)","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641393701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false}},{"id":3426599955,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQyNjU5OTk1NQ==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3426599955","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-09T19:56:31Z","performed_via_github_app":null},{"id":3426599960,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MjY1OTk5NjA=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3426599960","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-09T19:56:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641549495","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-641549495","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":641549495,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTU0OTQ5NQ==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-06-09T20:24:12Z","updated_at":"2020-06-09T20:24:12Z","author_association":"COLLABORATOR","body":"> @w4nderlust Thank you for your fast reply, the promise of an easy way to use those advanced features was what has drawn me to Ludwig in the first place (after seeing you present at Interspeech 2019).\r\n\r\nNice :)\r\n\r\n> Unfortunately your recommendation does not solve the problem (same issue persists) - likely because `reduce_input` was set to `None` anyway as it is the default value for `tagger`.\r\n\r\nLet me try to fix it. Could you please provide a complete reproducible example with data, configuration and command? The data can be synthetic data generated using the script in `data/dataset_synthesizer.py` and can also be just a couple of lines, no need for the full dataset, as I believe the same problem will appear whith any amount of data.\r\n\r\n> As to your other points:\r\n> \r\n> I think that ensuring correct user input is an essential addition, as there are few things more frustrating that chasing a configuration typo for half a day ;) You could use something like [jsonschema](https://python-jsonschema.readthedocs.io/en/stable/) for it - it is pretty easy to write and convenient to use for validation. Alternatively [Data Classes in 3.7's PEP 557](https://www.python.org/dev/peps/pep-0557/) could be of use, but maybe its too early for that.\r\n\r\nThese are good suggestions, thank you. Although Ludwig's configuration file is highly dynamic, in the sense that it maps directly the parmeters you put in the configuration to parameters in the classes and functions it uses. For that reason, and for the fact that the classes themselves are often changing and new ones are added, so far I preferred not to have a static parsers for the configuration (it's a v0.x still so I know things will change quite a lot still). Moreover, if a use adds their own additional encoder for instance, they would have to modify the parser too, and I want to avoid that. What I plan to do instead is find a simple mechanism that notifies of all the unrecognized keyowrds passed to each function / object, that could be a temporary solution that preserves dynamicity and avoids failing silently like it happens right now.\r\n\r\n> I guess there is also a bug in documentation, as this was a copy-paste from the [tagger definition](https://ludwig-ai.github.io/ludwig-docs/user_guide/#tagger-decoder). Where it says `reduce_inputs` (with the `s` at the end), the same typo appears at least 13 times in the user guide.\r\n\r\nFixed it. Although the default value for sequence features is `sum` not `null`.\r\n\r\n> Also it would be awesome to have a clear example for such a use-case in Examples :)\r\n\r\nIf you agree I can use yours as an example :)","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641549495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"id":3426691987,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQyNjY5MTk4Nw==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3426691987","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-09T20:24:12Z","performed_via_github_app":null},{"id":3426691989,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MjY2OTE5ODk=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3426691989","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-09T20:24:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641568406","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-641568406","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":641568406,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTU2ODQwNg==","user":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false},"created_at":"2020-06-09T21:01:24Z","updated_at":"2020-06-09T21:05:17Z","author_association":"CONTRIBUTOR","body":"this will generate the data\r\n```\r\nimport pandas as pd\r\n\r\n\r\ntagged = {'Greg', 'Xavier', 'Smith', 'Piotr', 'robot', 'dad', 'George'}\r\nlex = {'Greg', 'Xavier', 'robot'}\r\n\r\ntexts = [\r\n    \"I like Greg and Greg likes me more than George\",\r\n    \"Xavier Smith went to the gym with robot dad\",\r\n    \"robot dad was not the best dad cause he didn't have limbs just bits\",\r\n    \"Piotr Smith is a better name than Xavier Greg cause at least it is not both first names\",\r\n    \"the gut is called the second brain for good reasons listen to your gut\",\r\n    \"omg how many more examples I have to think of am I a robot or what\",\r\n    \"this is not going to be easy I should ask my dad for help\",\r\n    \"well he is busy so here is one more from the top of my head\",\r\n    \"this is a very nice libary btw i hope we manage to solve this issue so I can continue using it\",\r\n    \"i have great hopes for it\"\r\n]\r\n\r\ndf = pd.DataFrame(dict(\r\n    text=texts,\r\n    lexicon=[\" \".join('1' if w in lex else '0' for w in t.split()) for t in texts],\r\n    tag=[\" \".join('X' if w in tagged else 'O' for w in t.split()) for t in texts]  \r\n))\r\ndf.to_csv('combiner_test.csv')\r\n\r\n```\r\n\r\nhere is the `example.yaml` (ideally I would also set `pretrained_embeddings: glove.txt` on the text feature but this is not necessary for the example to reproduce the problem)\r\n\r\n```\r\ninput_features:\r\n  - name: text\r\n    type: text\r\n    level: word\r\n    embeddings_trainable: true\r\n    embedding_size: 300\r\n    encoder: embed\r\n    preprocessing:\r\n      word_format: space\r\n    reduce_output: null\r\n\r\n  - name: lexicon\r\n    type: sequence\r\n    encoder: embed\r\n    reduce_output: null\r\n\r\n\r\ncombiner:\r\n  type: sequence\r\n  main_sequence_feature: text\r\n  encoder: rnn\r\n  cell_type: lstm\r\n  bidirectional: true\r\n  num_layers: 2\r\n  reduce_input: null\r\n  reduce_output: null\r\n\r\noutput_features:\r\n  - name: tag\r\n    type: sequence\r\n    decoder: tagger\r\n    reduce_input: null\r\n\r\n```\r\n\r\nand here is a command to reproduce\r\n\r\n```\r\nludwig train --data_csv combiner_test.csv --model_definition_file example.yaml \r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641568406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false}},{"id":3427390463,"node_id":"MDExOkNsb3NlZEV2ZW50MzQyNzM5MDQ2Mw==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3427390463","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"closed","commit_id":"ee086fb71d0f9e3c4eb8df9ff38b0420321cd66a","commit_url":"https://api.github.com/repos/ludwig-ai/ludwig/commits/ee086fb71d0f9e3c4eb8df9ff38b0420321cd66a","created_at":"2020-06-10T01:10:07Z","state_reason":null,"performed_via_github_app":null},{"id":3427390661,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzQyNzM5MDY2MQ==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3427390661","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-06-10T01:10:14Z","label":{"name":"waiting for answer","color":"fff36b"},"performed_via_github_app":null},{"id":3427390662,"node_id":"MDEyOkxhYmVsZWRFdmVudDM0MjczOTA2NjI=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3427390662","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-06-10T01:10:14Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641661174","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-641661174","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":641661174,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTY2MTE3NA==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T01:12:14Z","updated_at":"2020-06-10T01:12:14Z","author_association":"COLLABORATOR","body":"Thank you, I found the bug and fixed it. Can you please confirm it now works for you?\r\nPlease install from master with:\r\n`pip uninstall ludwig & pip install git+http://github.com/uber/ludwig.git`\r\n\r\nAlso if you confirm your approval, I will add this to both examples and test.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641661174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641856040","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-641856040","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":641856040,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTg1NjA0MA==","user":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T08:56:27Z","updated_at":"2020-06-10T08:56:27Z","author_association":"CONTRIBUTOR","body":"I will do that first thing after the Wed meeting spree ;) Thank you @w4nderlust ! :)\r\n\r\nYou have my approval to use the examples I provided in any way you like, as they are purely synthetic :)","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/641856040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false}},{"id":3428595323,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQyODU5NTMyMw==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3428595323","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-10T08:56:27Z","performed_via_github_app":null},{"id":3428595329,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0Mjg1OTUzMjk=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3428595329","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-10T08:56:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/642052056","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-642052056","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":642052056,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjA1MjA1Ng==","user":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T14:36:29Z","updated_at":"2020-06-10T15:32:40Z","author_association":"CONTRIBUTOR","body":"@w4nderlust now I get the following error (both on the synthetic example and the real dataset).\r\n```\r\n Traceback (most recent call last):\r\n  File \"/home/aci-user/venv36/bin/ludwig\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/cli.py\", line 118, in main\r\n    CLI()\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/cli.py\", line 64, in __init__\r\n    getattr(self, args.command)()\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/cli.py\", line 74, in train\r\n    train.cli(sys.argv[2:])\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/train.py\", line 809, in cli\r\n    full_train(**vars(args))\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/train.py\", line 355, in full_train\r\n    debug=debug\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/train.py\", line 503, in train\r\n    debug=debug\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/models/model.py\", line 112, in __init__\r\n    **kwargs\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/models/model.py\", line 178, in __build\r\n    **kwargs\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/models/combiners.py\", line 294, in __call__\r\n    **kwargs\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/models/combiners.py\", line 250, in __call__\r\n    self.reduce_output\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/models/modules/reduction_modules.py\", line 85, in reduce_sequence\r\n    reduce_mode_registry\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/utils/misc.py\", line 132, in get_from_registry\r\n    key, registry.keys()\r\nValueError: Key False not supported, available options: dict_keys(['last', 'sum', 'mean', 'avg', 'max', 'concat', 'attention', 'none', 'None', None])\r\n```\r\n\r\ni also tried changing the `reduce_input` and `reduce_output` to `none` but it did not work either.\r\n\r\nIt did work **on the sample dataset** when I edited \"ludwig/models/modules/reduction_modules.py\" locally to map `False: dont_reduce`, but likely you have a parsing/casting problem somewhere so this would be just a cover up.\r\n\r\nwhen I run it with this fix on the **real dataset** I get the following\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1365, in _do_call\r\n    return fn(*args)\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1350, in _run_fn\r\n    target_list, run_metadata)\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1443, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: 2 root error(s) found.\r\n  (0) Invalid argument: ConcatOp : Dimensions of inputs should match: shape[0] = [512,172,300] vs. shape[1] = [512,128,4]\r\n         [[{{node sequence_combiner/sequence_concat_combiner/concat}}]]\r\n         [[tag/measures_tag/rowwise_accuracy_tag/_169]]\r\n  (1) Invalid argument: ConcatOp : Dimensions of inputs should match: shape[0] = [512,172,300] vs. shape[1] = [512,128,4]\r\n         [[{{node sequence_combiner/sequence_concat_combiner/concat}}]]\r\n0 successful operations.\r\n0 derived errors ignored.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/aci-user/venv36/bin/ludwig\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/cli.py\", line 118, in main\r\n    CLI()\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/cli.py\", line 64, in __init__\r\n    getattr(self, args.command)()\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/cli.py\", line 74, in train\r\n    train.cli(sys.argv[2:])\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/train.py\", line 809, in cli\r\n    full_train(**vars(args))\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/train.py\", line 355, in full_train\r\n    debug=debug\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/train.py\", line 523, in train\r\n    **model_definition[TRAINING]\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/ludwig/models/model.py\", line 597, in train\r\n    is_training=True\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 956, in run\r\n    run_metadata_ptr)\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1180, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1359, in _do_run\r\n    run_metadata)\r\n  File \"/home/aci-user/venv36/lib64/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1384, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: 2 root error(s) found.\r\n  (0) Invalid argument: ConcatOp : Dimensions of inputs should match: shape[0] = [512,172,300] vs. shape[1] = [512,128,4]\r\n         [[node sequence_combiner/sequence_concat_combiner/concat (defined at /lib64/python3.6/site-packages/tensorflow_core/python/framework/ops.py:1748) ]]\r\n         [[tag/measures_tag/rowwise_accuracy_tag/_169]]\r\n  (1) Invalid argument: ConcatOp : Dimensions of inputs should match: shape[0] = [512,172,300] vs. shape[1] = [512,128,4]\r\n         [[node sequence_combiner/sequence_concat_combiner/concat (defined at /lib64/python3.6/site-packages/tensorflow_core/python/framework/ops.py:1748) ]]\r\n0 successful operations.\r\n0 derived errors ignored.\r\n\r\nOriginal stack trace for 'sequence_combiner/sequence_concat_combiner/concat':\r\n  File \"/bin/ludwig\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/lib64/python3.6/site-packages/ludwig/cli.py\", line 118, in main\r\n    CLI()\r\n  File \"/lib64/python3.6/site-packages/ludwig/cli.py\", line 64, in __init__\r\n    getattr(self, args.command)()\r\n  File \"/lib64/python3.6/site-packages/ludwig/cli.py\", line 74, in train\r\n    train.cli(sys.argv[2:])\r\n  File \"/lib64/python3.6/site-packages/ludwig/train.py\", line 809, in cli\r\n    full_train(**vars(args))\r\n  File \"/lib64/python3.6/site-packages/ludwig/train.py\", line 355, in full_train\r\n    debug=debug\r\n  File \"/lib64/python3.6/site-packages/ludwig/train.py\", line 503, in train\r\n    debug=debug\r\n  File \"/lib64/python3.6/site-packages/ludwig/models/model.py\", line 112, in __init__\r\n    **kwargs\r\n  File \"/lib64/python3.6/site-packages/ludwig/models/model.py\", line 178, in __build\r\n    **kwargs\r\n  File \"/lib64/python3.6/site-packages/ludwig/models/combiners.py\", line 294, in __call__\r\n    **kwargs\r\n  File \"/lib64/python3.6/site-packages/ludwig/models/combiners.py\", line 234, in __call__\r\n    hidden = tf.concat(representations, 2)\r\n  File \"/lib64/python3.6/site-packages/tensorflow_core/python/util/dispatch.py\", line 180, in wrapper\r\n    return target(*args, **kwargs)\r\n  File \"/lib64/python3.6/site-packages/tensorflow_core/python/ops/array_ops.py\", line 1420, in concat\r\n    return gen_array_ops.concat_v2(values=values, axis=axis, name=name)\r\n  File \"/lib64/python3.6/site-packages/tensorflow_core/python/ops/gen_array_ops.py\", line 1257, in concat_v2\r\n    \"ConcatV2\", values=values, axis=axis, name=name)\r\n  File \"/lib64/python3.6/site-packages/tensorflow_core/python/framework/op_def_library.py\", line 794, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/lib64/python3.6/site-packages/tensorflow_core/python/util/deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/lib64/python3.6/site-packages/tensorflow_core/python/framework/ops.py\", line 3357, in create_op\r\n    attrs, op_def, compute_device)\r\n  File \"/lib64/python3.6/site-packages/tensorflow_core/python/framework/ops.py\", line 3426, in _create_op_internal\r\n    op_def=op_def)\r\n  File \"/lib64/python3.6/site-packages/tensorflow_core/python/framework/ops.py\", line 1748, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n```\r\n\r\nwhich is the same problem I was running into when trying to use the `sequence_concat` combiner. I also checked my dataset and the features I dry run on are all sequences of equal length and all under 128 (no wonder, this is how I generated them), so I doubt this is a problem of the dataset. So it seems the rabbit hole goes deeper :( I would reopen this issue until at least the test is in place.\r\n\r\nI think it is unlikely that ludwig is applying some other tokenization on the text than spliting on spaces (which is what I want here) so could it be some other vector is wrongfully concatenated to the end of the text or tag feature?","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/642052056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false}},{"id":3429970829,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQyOTk3MDgyOQ==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3429970829","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-10T14:36:29Z","performed_via_github_app":null},{"id":3429970833,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0Mjk5NzA4MzM=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3429970833","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-10T14:36:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/642226285","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-642226285","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":642226285,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjIyNjI4NQ==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T20:00:08Z","updated_at":"2020-06-10T20:00:08Z","author_association":"COLLABORATOR","body":"Pushed a new commit, it should fix The first issue, sorry about the additional step ;)\r\n\r\nAs for the second issue, that may be data dependent. The logic is that vectors are concatenated along the the third (hidden) dimension, so they should have the first two that match: batch size and sequence length.\r\nWhat I suspect is happening is that there is a mismatch between the length of the text after tokenization and the length of the tag feature.\r\nThe default text cokenizer is `space_punct` that splits on space and punctuation, so that \"Hello, world!\" becomes [\"Hello\", \",\", \"world\", \"!\"]. If you want to use just space as tokenizer, just add to the text feature: \r\n```\r\npreprocessing:\r\n  word_tokenizer: space\r\n```\r\n\r\nIf even this does not fix the issue, i can try taking a look at it myself (but i would need at least a couple datapoints for which the problem is originated).","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/642226285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/642569195","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-642569195","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":642569195,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjU2OTE5NQ==","user":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T10:55:08Z","updated_at":"2020-06-11T20:59:57Z","author_association":"CONTRIBUTOR","body":"@w4nderlust I guess we found another [bug in the docs](https://ludwig-ai.github.io/ludwig-docs/examples/#named-entity-recognition-tagging) then :) as it does say `word_format: space` in the tagger example. (or maybe I am looking at release docs and we changed to work with master throughout the development of this thread, not sure)\r\n\r\nalso adding these lines under the `text` feature like in the example above did not help, I had to add it as a top level item in the `yaml` file, but now I am able to train. **Thank you!** \r\n\r\nI think this is something to underline in the documentation :)\r\n\r\nIf any one has the same problem the following config could be of help:\r\n```\r\ninput_features:\r\n  - name: text\r\n    type: text\r\n    level: word\r\n    embeddings_trainable: true\r\n    embedding_size: 300\r\n    encoder: embed\r\n    reduce_output: null\r\n\r\n  - name: lexicon\r\n    type: sequence\r\n    encoder: embed\r\n    reduce_output: null\r\n\r\ncombiner:\r\n  type: sequence\r\n  main_sequence_feature: text\r\n  encoder: rnn\r\n  cell_type: lstm\r\n  bidirectional: true\r\n  num_layers: 2\r\n  reduce_input: null\r\n  reduce_output: null\r\n\r\noutput_features:\r\n  - name: tag\r\n    type: sequence\r\n    decoder: tagger\r\n    reduce_input: null\r\n\r\npreprocessing:\r\n  text:\r\n    word_tokenizer: space\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/642569195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false}},{"id":3433607482,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQzMzYwNzQ4Mg==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3433607482","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-11T10:55:08Z","performed_via_github_app":null},{"id":3433607485,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MzM2MDc0ODU=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/3433607485","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-11T10:55:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/642886779","html_url":"https://github.com/ludwig-ai/ludwig/issues/729#issuecomment-642886779","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/729","id":642886779,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mjg4Njc3OQ==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T19:33:57Z","updated_at":"2020-06-11T19:34:13Z","author_association":"COLLABORATOR","body":"Good catch. yes `word_format` was an old name for `word_tokenizer`, I'm updating the docs right now. Regarding your model definition. You need only one `word_tokenizer: space`, either in the text feature or at the top level. The top level one applies to all text features, the one inside the feature applies only to that specific feature, but you have only one text feature so it makes no difference.\r\n\r\nGlad you were able to train the model!","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/642886779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"actor":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T09:35:38Z","updated_at":"2020-06-12T09:35:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/734","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/734/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/734/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/734/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/734","id":637621803,"node_id":"MDU6SXNzdWU2Mzc2MjE4MDM=","number":734,"title":"Ludwig reports that validation loss improved while it shows it to increase - confusing","user":{"login":"jmizgajski","id":3886340,"node_id":"MDQ6VXNlcjM4ODYzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3886340?v=4","gravatar_id":"","url":"https://api.github.com/users/jmizgajski","html_url":"https://github.com/jmizgajski","followers_url":"https://api.github.com/users/jmizgajski/followers","following_url":"https://api.github.com/users/jmizgajski/following{/other_user}","gists_url":"https://api.github.com/users/jmizgajski/gists{/gist_id}","starred_url":"https://api.github.com/users/jmizgajski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmizgajski/subscriptions","organizations_url":"https://api.github.com/users/jmizgajski/orgs","repos_url":"https://api.github.com/users/jmizgajski/repos","events_url":"https://api.github.com/users/jmizgajski/events{/privacy}","received_events_url":"https://api.github.com/users/jmizgajski/received_events","type":"User","site_admin":false},"labels":[{"id":1174068775,"node_id":"MDU6TGFiZWwxMTc0MDY4Nzc1","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/waiting%20for%20answer","name":"waiting for answer","color":"fff36b","default":false,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-06-12T09:35:38Z","updated_at":"2020-09-29T00:00:32Z","closed_at":"2020-09-29T00:00:31Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"repository":{"id":163346054,"node_id":"MDEwOlJlcG9zaXRvcnkxNjMzNDYwNTQ=","name":"ludwig","full_name":"ludwig-ai/ludwig","private":false,"owner":{"login":"ludwig-ai","id":65477820,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1NDc3ODIw","avatar_url":"https://avatars.githubusercontent.com/u/65477820?v=4","gravatar_id":"","url":"https://api.github.com/users/ludwig-ai","html_url":"https://github.com/ludwig-ai","followers_url":"https://api.github.com/users/ludwig-ai/followers","following_url":"https://api.github.com/users/ludwig-ai/following{/other_user}","gists_url":"https://api.github.com/users/ludwig-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ludwig-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ludwig-ai/subscriptions","organizations_url":"https://api.github.com/users/ludwig-ai/orgs","repos_url":"https://api.github.com/users/ludwig-ai/repos","events_url":"https://api.github.com/users/ludwig-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ludwig-ai/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/ludwig-ai/ludwig","description":"Data-centric declarative deep learning framework","fork":false,"url":"https://api.github.com/repos/ludwig-ai/ludwig","forks_url":"https://api.github.com/repos/ludwig-ai/ludwig/forks","keys_url":"https://api.github.com/repos/ludwig-ai/ludwig/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ludwig-ai/ludwig/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ludwig-ai/ludwig/teams","hooks_url":"https://api.github.com/repos/ludwig-ai/ludwig/hooks","issue_events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events{/number}","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/events","assignees_url":"https://api.github.com/repos/ludwig-ai/ludwig/assignees{/user}","branches_url":"https://api.github.com/repos/ludwig-ai/ludwig/branches{/branch}","tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/tags","blobs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/refs{/sha}","trees_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ludwig-ai/ludwig/statuses/{sha}","languages_url":"https://api.github.com/repos/ludwig-ai/ludwig/languages","stargazers_url":"https://api.github.com/repos/ludwig-ai/ludwig/stargazers","contributors_url":"https://api.github.com/repos/ludwig-ai/ludwig/contributors","subscribers_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscribers","subscription_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscription","commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/commits{/sha}","git_commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/commits{/sha}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/comments{/number}","issue_comment_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments{/number}","contents_url":"https://api.github.com/repos/ludwig-ai/ludwig/contents/{+path}","compare_url":"https://api.github.com/repos/ludwig-ai/ludwig/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ludwig-ai/ludwig/merges","archive_url":"https://api.github.com/repos/ludwig-ai/ludwig/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ludwig-ai/ludwig/downloads","issues_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues{/number}","pulls_url":"https://api.github.com/repos/ludwig-ai/ludwig/pulls{/number}","milestones_url":"https://api.github.com/repos/ludwig-ai/ludwig/milestones{/number}","notifications_url":"https://api.github.com/repos/ludwig-ai/ludwig/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/labels{/name}","releases_url":"https://api.github.com/repos/ludwig-ai/ludwig/releases{/id}","deployments_url":"https://api.github.com/repos/ludwig-ai/ludwig/deployments","created_at":"2018-12-27T23:58:12Z","updated_at":"2023-01-19T21:01:40Z","pushed_at":"2023-01-19T23:08:58Z","git_url":"git://github.com/ludwig-ai/ludwig.git","ssh_url":"git@github.com:ludwig-ai/ludwig.git","clone_url":"https://github.com/ludwig-ai/ludwig.git","svn_url":"https://github.com/ludwig-ai/ludwig","homepage":"http://ludwig.ai","size":29868,"stargazers_count":8712,"watchers_count":8712,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1027,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":241,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["computer-vision","data-centric","data-science","datascience","deep","deep-learning","deeplearning","learning","machine","machine-learning","machinelearning","ml","natural-language","natural-language-processing","neural-network","python","pytorch"],"visibility":"public","forks":1027,"open_issues":241,"watchers":8712,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the bug**\r\n@w4nderlust \r\n\r\nI am training a tagger [like in here](https://github.com/uber/ludwig/issues/729). I also specify class weights to force it to be more aggressive in assigning the class `X`. (to be honest I am not sure, if it takes effect)\r\n\r\n```\r\n(...)   \r\n   loss:\r\n      type: softmax_cross_entropy\r\n      class_weights:\r\n        X: 1.\r\n        O: 0.02\r\n```\r\n\r\nWhat confuses me is that in the reports ludwig prints out I see the validation loss increase but ludwig reports that the loss improved (which I would assume would mean for it to decrese), saves the model and continues training. Does ludwig make the comparison on some different value than it prints out?\r\n\r\n```\r\n#  loss is in first numeric column\r\n\r\nEpoch   8\r\n────────────────┼──────────────┼─────────────────┤\r\n│ vali              │ 0.0885 │     0.3998 │           0.9671 │          0.9530 │       1.0925 │          0.0347 │\r\n├───────────────────┼────────┼────────────┼──────────────────┼\r\nValidation loss on combined improved, model saved\r\n\r\nEpoch   9\r\n─────────────────┼──────────────┼─────────────────┤\r\n│ vali              │ 0.0990 │     0.4143 │           0.9654 │          0.9542 │       1.1041 │          0.0363 │\r\n├───────────────────┼────────┼────────────┼──────────────────┼ \r\n Validation loss on combined improved, model saved\r\n\r\n```\r\n\r\n**To Reproduce**\r\n\r\nI cannot provide the data I train on, but I observed it frequently, so maybe it can be seen on some other dataset you test on. I may try to provide synthetic data in the future, but maybe the problem can be diagnosed without it just looking at the code.\r\n\r\n\r\n**Expected behavior**\r\nSave the model and report improvement only when the validation loss truly decreses and it can be noticed in the console report.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Environment (please complete the following information):**\r\n - OS: [e.g. iOS]\r\nCentos7\r\n - Version [e.g. 22]\r\n- Python version\r\n3.6.8\r\n- Ludwig version\r\ncurrent master\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/734/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]