[{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/579368479","html_url":"https://github.com/ludwig-ai/ludwig/issues/622#issuecomment-579368479","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/622","id":579368479,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTM2ODQ3OQ==","user":{"login":"msaisumanth","id":17418219,"node_id":"MDQ6VXNlcjE3NDE4MjE5","avatar_url":"https://avatars.githubusercontent.com/u/17418219?v=4","gravatar_id":"","url":"https://api.github.com/users/msaisumanth","html_url":"https://github.com/msaisumanth","followers_url":"https://api.github.com/users/msaisumanth/followers","following_url":"https://api.github.com/users/msaisumanth/following{/other_user}","gists_url":"https://api.github.com/users/msaisumanth/gists{/gist_id}","starred_url":"https://api.github.com/users/msaisumanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msaisumanth/subscriptions","organizations_url":"https://api.github.com/users/msaisumanth/orgs","repos_url":"https://api.github.com/users/msaisumanth/repos","events_url":"https://api.github.com/users/msaisumanth/events{/privacy}","received_events_url":"https://api.github.com/users/msaisumanth/received_events","type":"User","site_admin":false},"created_at":"2020-01-28T17:38:25Z","updated_at":"2020-01-28T17:38:25Z","author_association":"CONTRIBUTOR","body":"Right now there's no way to enforce it I think. What would be the way to penalize when the number goes below 0? Can you define an appropriate loss function? ","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/579368479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"msaisumanth","id":17418219,"node_id":"MDQ6VXNlcjE3NDE4MjE5","avatar_url":"https://avatars.githubusercontent.com/u/17418219?v=4","gravatar_id":"","url":"https://api.github.com/users/msaisumanth","html_url":"https://github.com/msaisumanth","followers_url":"https://api.github.com/users/msaisumanth/followers","following_url":"https://api.github.com/users/msaisumanth/following{/other_user}","gists_url":"https://api.github.com/users/msaisumanth/gists{/gist_id}","starred_url":"https://api.github.com/users/msaisumanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msaisumanth/subscriptions","organizations_url":"https://api.github.com/users/msaisumanth/orgs","repos_url":"https://api.github.com/users/msaisumanth/repos","events_url":"https://api.github.com/users/msaisumanth/events{/privacy}","received_events_url":"https://api.github.com/users/msaisumanth/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/579458723","html_url":"https://github.com/ludwig-ai/ludwig/issues/622#issuecomment-579458723","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/622","id":579458723,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTQ1ODcyMw==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-01-28T21:14:01Z","updated_at":"2020-01-28T21:14:01Z","author_association":"COLLABORATOR","body":"@atwahsz if by \"on always positive values\" you mean \"from a model trained on data with output labels containing only positive values and testing it on data from the same distribution as the training one\" then that's surprising. I would expect the model to predict values within the range of the ones shown during training.\r\n\r\nWhat I would do is to double check the data first, to make sure there is nothing funny going on there. If everything looks good in the data, then I would provide a minimally reproducible example where that happens (both model + small data, if your data is proprietary please use the dataset synthesizer in `data/dataset_synthesizer.py/` to create one). In that case we can take a look at it.\r\n\r\nFinally, to answer your question, at the moment there's no mechanism to enforce the values to be positive, but there is a clipping mechanism so that you can decide the range the values will be clipped to. It is explained in the[ User Guide](https://uber.github.io/ludwig/user_guide/#numerical-output-features-and-decoders). if you look at your data and extract min and max from it you use them as min and max values for clipping. That said, I pretty much believe the error is in the data instead, the clipping should not be needed.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/579458723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"id":2987267737,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjk4NzI2NzczNw==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2987267737","actor":{"login":"atwahsz","id":24771158,"node_id":"MDQ6VXNlcjI0NzcxMTU4","avatar_url":"https://avatars.githubusercontent.com/u/24771158?v=4","gravatar_id":"","url":"https://api.github.com/users/atwahsz","html_url":"https://github.com/atwahsz","followers_url":"https://api.github.com/users/atwahsz/followers","following_url":"https://api.github.com/users/atwahsz/following{/other_user}","gists_url":"https://api.github.com/users/atwahsz/gists{/gist_id}","starred_url":"https://api.github.com/users/atwahsz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atwahsz/subscriptions","organizations_url":"https://api.github.com/users/atwahsz/orgs","repos_url":"https://api.github.com/users/atwahsz/repos","events_url":"https://api.github.com/users/atwahsz/events{/privacy}","received_events_url":"https://api.github.com/users/atwahsz/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-28T21:14:01Z","performed_via_github_app":null},{"id":2987267741,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5ODcyNjc3NDE=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2987267741","actor":{"login":"atwahsz","id":24771158,"node_id":"MDQ6VXNlcjI0NzcxMTU4","avatar_url":"https://avatars.githubusercontent.com/u/24771158?v=4","gravatar_id":"","url":"https://api.github.com/users/atwahsz","html_url":"https://github.com/atwahsz","followers_url":"https://api.github.com/users/atwahsz/followers","following_url":"https://api.github.com/users/atwahsz/following{/other_user}","gists_url":"https://api.github.com/users/atwahsz/gists{/gist_id}","starred_url":"https://api.github.com/users/atwahsz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atwahsz/subscriptions","organizations_url":"https://api.github.com/users/atwahsz/orgs","repos_url":"https://api.github.com/users/atwahsz/repos","events_url":"https://api.github.com/users/atwahsz/events{/privacy}","received_events_url":"https://api.github.com/users/atwahsz/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-28T21:14:01Z","performed_via_github_app":null},{"id":2987268860,"node_id":"MDEyOkxhYmVsZWRFdmVudDI5ODcyNjg4NjA=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2987268860","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-01-28T21:14:22Z","label":{"name":"waiting for answer","color":"d876e3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/579588191","html_url":"https://github.com/ludwig-ai/ludwig/issues/622#issuecomment-579588191","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/622","id":579588191,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTU4ODE5MQ==","user":{"login":"atwahsz","id":24771158,"node_id":"MDQ6VXNlcjI0NzcxMTU4","avatar_url":"https://avatars.githubusercontent.com/u/24771158?v=4","gravatar_id":"","url":"https://api.github.com/users/atwahsz","html_url":"https://github.com/atwahsz","followers_url":"https://api.github.com/users/atwahsz/followers","following_url":"https://api.github.com/users/atwahsz/following{/other_user}","gists_url":"https://api.github.com/users/atwahsz/gists{/gist_id}","starred_url":"https://api.github.com/users/atwahsz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atwahsz/subscriptions","organizations_url":"https://api.github.com/users/atwahsz/orgs","repos_url":"https://api.github.com/users/atwahsz/repos","events_url":"https://api.github.com/users/atwahsz/events{/privacy}","received_events_url":"https://api.github.com/users/atwahsz/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T04:37:34Z","updated_at":"2020-01-29T04:37:34Z","author_association":"NONE","body":"I added clip: [x,y]\r\n\r\nThe model trains only improved in one epoch . And when checking predictions it predicts nothing only outputs the maximum value y","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/579588191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"atwahsz","id":24771158,"node_id":"MDQ6VXNlcjI0NzcxMTU4","avatar_url":"https://avatars.githubusercontent.com/u/24771158?v=4","gravatar_id":"","url":"https://api.github.com/users/atwahsz","html_url":"https://github.com/atwahsz","followers_url":"https://api.github.com/users/atwahsz/followers","following_url":"https://api.github.com/users/atwahsz/following{/other_user}","gists_url":"https://api.github.com/users/atwahsz/gists{/gist_id}","starred_url":"https://api.github.com/users/atwahsz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atwahsz/subscriptions","organizations_url":"https://api.github.com/users/atwahsz/orgs","repos_url":"https://api.github.com/users/atwahsz/repos","events_url":"https://api.github.com/users/atwahsz/events{/privacy}","received_events_url":"https://api.github.com/users/atwahsz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/579639830","html_url":"https://github.com/ludwig-ai/ludwig/issues/622#issuecomment-579639830","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/622","id":579639830,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTYzOTgzMA==","user":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T08:03:06Z","updated_at":"2020-01-29T08:03:06Z","author_association":"CONTRIBUTOR","body":"That's because, no matter which adjustment to the weights it makes during the training, it will always be clipped to the maximum value of the clip range and thus not improving the prediction result in the validation evaluation.\r\nClipping only forces the output to be restrained to the min-max range, it does not force the model to \"understand\" that that's the min-max expected range for that specific domain.\r\nIt's basically a shortcut to avoid doing a manual \"if x<min then x=min; if x>max then x=max\" in the code calling Ludwig (and is thus useful when doing predictions using the CLI, that generates already-clipped values within the various output files)\r\n\r\nOn a well trained network, using clipping, you can ensure that values that are near the maximum domain accepted solutions don't go over that boundary (ie: if max is 300 and you expect an output of 299, you ensure that it will never go over due to a \"misprediction\"), but nothing more. You should really doublecheck the training values, and try to test the model feeding a prediction request using one of the same values used in the training. The output should be really close to the training sample at least. If not, you have some issues within the sample data (or the network hasn't been fit enough). If values for the training data are spot-on, it might have overfitted, and try to run a training with a much smaller network and\\or consider implementing dropout on the input features.\r\n\r\nAs a workaround to this behavior, you can try playing with initialization values to try and have the first predictions already within the boundaries you set with the clipping (hence, if you expect a 150 value and the first prediction of the model is 200 within a [0, 300] clipping, the next iteration would be a good one if it goes towards 190 and a bad one if it goes towards 210, \"bootstrapping\" the learning gradient descent).\r\nOne more thing you can do is run the training without the clipping and then \"patching\" it in the model definition, since it's purely a \"support\" function implemented by Ludwig and not something that lives within the model itself.\r\n\r\n@w4nderlust \\ @msaisumanth : an improvement could be to evaluate the model performance *before* clipping the values, but since it's a specific implementation for the numerical feature class, this would mean introducing some sort of \"postprocess\" stub in the base feature, that will be only extended by the numerical feature containing this clipping operation.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/579639830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false}},{"id":2988523705,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjk4ODUyMzcwNQ==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2988523705","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-29T08:03:06Z","performed_via_github_app":null},{"id":2988523706,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5ODg1MjM3MDY=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2988523706","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-29T08:03:06Z","performed_via_github_app":null},{"id":2988523709,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjk4ODUyMzcwOQ==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2988523709","actor":{"login":"msaisumanth","id":17418219,"node_id":"MDQ6VXNlcjE3NDE4MjE5","avatar_url":"https://avatars.githubusercontent.com/u/17418219?v=4","gravatar_id":"","url":"https://api.github.com/users/msaisumanth","html_url":"https://github.com/msaisumanth","followers_url":"https://api.github.com/users/msaisumanth/followers","following_url":"https://api.github.com/users/msaisumanth/following{/other_user}","gists_url":"https://api.github.com/users/msaisumanth/gists{/gist_id}","starred_url":"https://api.github.com/users/msaisumanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msaisumanth/subscriptions","organizations_url":"https://api.github.com/users/msaisumanth/orgs","repos_url":"https://api.github.com/users/msaisumanth/repos","events_url":"https://api.github.com/users/msaisumanth/events{/privacy}","received_events_url":"https://api.github.com/users/msaisumanth/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-29T08:03:06Z","performed_via_github_app":null},{"id":2988523711,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5ODg1MjM3MTE=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2988523711","actor":{"login":"msaisumanth","id":17418219,"node_id":"MDQ6VXNlcjE3NDE4MjE5","avatar_url":"https://avatars.githubusercontent.com/u/17418219?v=4","gravatar_id":"","url":"https://api.github.com/users/msaisumanth","html_url":"https://github.com/msaisumanth","followers_url":"https://api.github.com/users/msaisumanth/followers","following_url":"https://api.github.com/users/msaisumanth/following{/other_user}","gists_url":"https://api.github.com/users/msaisumanth/gists{/gist_id}","starred_url":"https://api.github.com/users/msaisumanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msaisumanth/subscriptions","organizations_url":"https://api.github.com/users/msaisumanth/orgs","repos_url":"https://api.github.com/users/msaisumanth/repos","events_url":"https://api.github.com/users/msaisumanth/events{/privacy}","received_events_url":"https://api.github.com/users/msaisumanth/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-29T08:03:06Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/580045513","html_url":"https://github.com/ludwig-ai/ludwig/issues/622#issuecomment-580045513","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/622","id":580045513,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDA0NTUxMw==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-01-30T01:42:27Z","updated_at":"2020-01-30T01:42:27Z","author_association":"COLLABORATOR","body":"I second @carlogrisetti , there's probably something fishy in the data. And for us the only way to help you is to have more details (data to reproduce the issue and the model definition).\r\n\r\nRegarding the clipping as postprocessing, I would prefer not to have it in Ludwig and let people do it manually on the outputs, as it seems like an application specific logic, but if there are good arguments i can change my mind.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/580045513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"id":2991702762,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjk5MTcwMjc2Mg==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2991702762","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-30T01:42:27Z","performed_via_github_app":null},{"id":2991702763,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5OTE3MDI3NjM=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2991702763","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-30T01:42:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/638309205","html_url":"https://github.com/ludwig-ai/ludwig/issues/622#issuecomment-638309205","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/622","id":638309205,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODMwOTIwNQ==","user":{"login":"robertdavidburbidgephd","id":38885273,"node_id":"MDQ6VXNlcjM4ODg1Mjcz","avatar_url":"https://avatars.githubusercontent.com/u/38885273?v=4","gravatar_id":"","url":"https://api.github.com/users/robertdavidburbidgephd","html_url":"https://github.com/robertdavidburbidgephd","followers_url":"https://api.github.com/users/robertdavidburbidgephd/followers","following_url":"https://api.github.com/users/robertdavidburbidgephd/following{/other_user}","gists_url":"https://api.github.com/users/robertdavidburbidgephd/gists{/gist_id}","starred_url":"https://api.github.com/users/robertdavidburbidgephd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robertdavidburbidgephd/subscriptions","organizations_url":"https://api.github.com/users/robertdavidburbidgephd/orgs","repos_url":"https://api.github.com/users/robertdavidburbidgephd/repos","events_url":"https://api.github.com/users/robertdavidburbidgephd/events{/privacy}","received_events_url":"https://api.github.com/users/robertdavidburbidgephd/received_events","type":"User","site_admin":false},"created_at":"2020-06-03T16:28:59Z","updated_at":"2020-06-03T16:28:59Z","author_association":"NONE","body":"Hi, I have a similar problem. I am passing as inputs categorical and binary features and a non-negative time series to regress the next value of the time series. I am getting about 20% of training fitted values less than zero and about 25% of test predicted values less than zero, although I know the mean of the test predictions should be higher than that of the training set. I can fit the data with LightGBM so I know they are not complete junk. With LightGBM RMSE loss gives me some negative predictions (less than 1%) and Poisson loss gives me all non-negative predictions. The time series input and output are scaled to [0,1]. So, (i) can I enforce a constraint on Ludwig's output before back-propagation errors are calculated, from the above it seems no, (ii) can I specify a different loss function than MSE or MASE in Ludwig, specifically Poisson, (iii) can I specify a regularization term to penalize negative weights, or (iv) is Ludwig getting stuck in a local optimum that minimizes MSE even though there are a bunch of negative training predictions and, if so, how do I tune the learning hyperparameters to avoid this?","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/638309205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robertdavidburbidgephd","id":38885273,"node_id":"MDQ6VXNlcjM4ODg1Mjcz","avatar_url":"https://avatars.githubusercontent.com/u/38885273?v=4","gravatar_id":"","url":"https://api.github.com/users/robertdavidburbidgephd","html_url":"https://github.com/robertdavidburbidgephd","followers_url":"https://api.github.com/users/robertdavidburbidgephd/followers","following_url":"https://api.github.com/users/robertdavidburbidgephd/following{/other_user}","gists_url":"https://api.github.com/users/robertdavidburbidgephd/gists{/gist_id}","starred_url":"https://api.github.com/users/robertdavidburbidgephd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robertdavidburbidgephd/subscriptions","organizations_url":"https://api.github.com/users/robertdavidburbidgephd/orgs","repos_url":"https://api.github.com/users/robertdavidburbidgephd/repos","events_url":"https://api.github.com/users/robertdavidburbidgephd/events{/privacy}","received_events_url":"https://api.github.com/users/robertdavidburbidgephd/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/639192572","html_url":"https://github.com/ludwig-ai/ludwig/issues/622#issuecomment-639192572","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/622","id":639192572,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTE5MjU3Mg==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-06-05T00:42:27Z","updated_at":"2020-06-05T00:42:27Z","author_association":"COLLABORATOR","body":"1. yes, you can use the `clip` parameter in the numerical output feature to clip outputs to a specific range.\r\n2. sure, you can specify all the supported losses, and if the loss you want is not available, you can add it.\r\n3. that wouldn-t help, if you have positive inputs and 2 layers with negative weights, you'll get positive outputs, so it's not about the values of the weights.\r\n4. I have no way to know without looking at the data, the model definition and the learning curves. And even in that case, I could only guess :) Anyway, you can tune hyperparameters by modifying your model definition. If you want to do in an automatic way, we are adding an automatic hyperparameter optimization functionality, check the hyperopt branch.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/639192572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/700345221","html_url":"https://github.com/ludwig-ai/ludwig/issues/622#issuecomment-700345221","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/622","id":700345221,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDM0NTIyMQ==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2020-09-29T00:03:20Z","updated_at":"2020-09-29T00:03:20Z","author_association":"COLLABORATOR","body":"@ robertburbidgedata  could you be so kind to retry using the latest code on master? It should have solved the issue.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/700345221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"id":6861511747,"node_id":"CE_lADOCbx2hs4hJsT-zwAAAAGY-lxD","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/6861511747","actor":{"login":"justinxzhao","id":3459541,"node_id":"MDQ6VXNlcjM0NTk1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/3459541?v=4","gravatar_id":"","url":"https://api.github.com/users/justinxzhao","html_url":"https://github.com/justinxzhao","followers_url":"https://api.github.com/users/justinxzhao/followers","following_url":"https://api.github.com/users/justinxzhao/following{/other_user}","gists_url":"https://api.github.com/users/justinxzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/justinxzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinxzhao/subscriptions","organizations_url":"https://api.github.com/users/justinxzhao/orgs","repos_url":"https://api.github.com/users/justinxzhao/repos","events_url":"https://api.github.com/users/justinxzhao/events{/privacy}","received_events_url":"https://api.github.com/users/justinxzhao/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-06-23T00:02:21Z","state_reason":null,"performed_via_github_app":null}]