[{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/947334079","html_url":"https://github.com/ludwig-ai/ludwig/issues/1389#issuecomment-947334079","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1389","id":947334079,"node_id":"IC_kwDOCbx2hs44dyu_","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2021-10-20T05:11:45Z","updated_at":"2021-10-20T05:11:45Z","author_association":"COLLABORATOR","body":"Hey @carlogrisetti, thanks for reporting this. I think I see the issue. It looks like we're not updating the `steps_per_epoch` when we update the batch size in the batcher:\r\n\r\nhttps://github.com/ludwig-ai/ludwig/blob/master/ludwig/data/batcher/random_access.py#L34\r\n\r\nIn general, we should probably change the batch_size to be a param of `set_epoch`, and update all the relevant parameters there. For some of the batchers (like Ray, Petastorm) we're not properly honoring the batch_size updates at all, so this is a good opportunity to fix that.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/947334079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}},{"id":5489315843,"node_id":"MEE_lADOCbx2hs49OymtzwAAAAFHMFAD","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5489315843","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-20T05:11:45Z","performed_via_github_app":null},{"id":5489315848,"node_id":"SE_lADOCbx2hs49OymtzwAAAAFHMFAI","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5489315848","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-20T05:11:45Z","performed_via_github_app":null},{"id":5489316482,"node_id":"LE_lADOCbx2hs49OymtzwAAAAFHMFKC","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5489316482","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-10-20T05:11:57Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2021-10-20T15:05:49Z","updated_at":"2021-10-20T15:05:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1402","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1402/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1402/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1402/events","html_url":"https://github.com/ludwig-ai/ludwig/pull/1402","id":1031522910,"node_id":"PR_kwDOCbx2hs4tcg2r","number":1402,"title":"Fixed steps_per_epoch to be computed on batch resizing","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-10-20T15:05:48Z","updated_at":"2021-10-20T20:33:06Z","closed_at":"2021-10-20T20:33:03Z","author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"repository":{"id":163346054,"node_id":"MDEwOlJlcG9zaXRvcnkxNjMzNDYwNTQ=","name":"ludwig","full_name":"ludwig-ai/ludwig","private":false,"owner":{"login":"ludwig-ai","id":65477820,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1NDc3ODIw","avatar_url":"https://avatars.githubusercontent.com/u/65477820?v=4","gravatar_id":"","url":"https://api.github.com/users/ludwig-ai","html_url":"https://github.com/ludwig-ai","followers_url":"https://api.github.com/users/ludwig-ai/followers","following_url":"https://api.github.com/users/ludwig-ai/following{/other_user}","gists_url":"https://api.github.com/users/ludwig-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ludwig-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ludwig-ai/subscriptions","organizations_url":"https://api.github.com/users/ludwig-ai/orgs","repos_url":"https://api.github.com/users/ludwig-ai/repos","events_url":"https://api.github.com/users/ludwig-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ludwig-ai/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/ludwig-ai/ludwig","description":"Data-centric declarative deep learning framework","fork":false,"url":"https://api.github.com/repos/ludwig-ai/ludwig","forks_url":"https://api.github.com/repos/ludwig-ai/ludwig/forks","keys_url":"https://api.github.com/repos/ludwig-ai/ludwig/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ludwig-ai/ludwig/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ludwig-ai/ludwig/teams","hooks_url":"https://api.github.com/repos/ludwig-ai/ludwig/hooks","issue_events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events{/number}","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/events","assignees_url":"https://api.github.com/repos/ludwig-ai/ludwig/assignees{/user}","branches_url":"https://api.github.com/repos/ludwig-ai/ludwig/branches{/branch}","tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/tags","blobs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/refs{/sha}","trees_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ludwig-ai/ludwig/statuses/{sha}","languages_url":"https://api.github.com/repos/ludwig-ai/ludwig/languages","stargazers_url":"https://api.github.com/repos/ludwig-ai/ludwig/stargazers","contributors_url":"https://api.github.com/repos/ludwig-ai/ludwig/contributors","subscribers_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscribers","subscription_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscription","commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/commits{/sha}","git_commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/commits{/sha}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/comments{/number}","issue_comment_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments{/number}","contents_url":"https://api.github.com/repos/ludwig-ai/ludwig/contents/{+path}","compare_url":"https://api.github.com/repos/ludwig-ai/ludwig/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ludwig-ai/ludwig/merges","archive_url":"https://api.github.com/repos/ludwig-ai/ludwig/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ludwig-ai/ludwig/downloads","issues_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues{/number}","pulls_url":"https://api.github.com/repos/ludwig-ai/ludwig/pulls{/number}","milestones_url":"https://api.github.com/repos/ludwig-ai/ludwig/milestones{/number}","notifications_url":"https://api.github.com/repos/ludwig-ai/ludwig/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/labels{/name}","releases_url":"https://api.github.com/repos/ludwig-ai/ludwig/releases{/id}","deployments_url":"https://api.github.com/repos/ludwig-ai/ludwig/deployments","created_at":"2018-12-27T23:58:12Z","updated_at":"2023-01-19T21:01:40Z","pushed_at":"2023-01-19T23:08:58Z","git_url":"git://github.com/ludwig-ai/ludwig.git","ssh_url":"git@github.com:ludwig-ai/ludwig.git","clone_url":"https://github.com/ludwig-ai/ludwig.git","svn_url":"https://github.com/ludwig-ai/ludwig","homepage":"http://ludwig.ai","size":29868,"stargazers_count":8712,"watchers_count":8712,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1027,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":241,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["computer-vision","data-centric","data-science","datascience","deep","deep-learning","deeplearning","learning","machine","machine-learning","machinelearning","ml","natural-language","natural-language-processing","neural-network","python","pytorch"],"visibility":"public","forks":1027,"open_issues":241,"watchers":8712,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/pulls/1402","html_url":"https://github.com/ludwig-ai/ludwig/pull/1402","diff_url":"https://github.com/ludwig-ai/ludwig/pull/1402.diff","patch_url":"https://github.com/ludwig-ai/ludwig/pull/1402.patch","merged_at":"2021-10-20T20:33:03Z"},"body":"Fixes #1389.\r\n\r\nPlan for Ray: https://github.com/ludwig-ai/ludwig/issues/1401","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1402/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/947760408","html_url":"https://github.com/ludwig-ai/ludwig/issues/1389#issuecomment-947760408","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1389","id":947760408,"node_id":"IC_kwDOCbx2hs44fa0Y","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2021-10-20T15:07:06Z","updated_at":"2021-10-20T15:07:06Z","author_association":"COLLABORATOR","body":"Hey @carlogrisetti, can you try out the fix in #1402 and let me know if it addresses the issue you're seeing?","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/947760408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}},{"id":5492641747,"node_id":"MEE_lADOCbx2hs49OymtzwAAAAFHYw_T","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5492641747","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-20T15:07:06Z","performed_via_github_app":null},{"id":5492641756,"node_id":"SE_lADOCbx2hs49OymtzwAAAAFHYw_c","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5492641756","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-20T15:07:06Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/947762698","html_url":"https://github.com/ludwig-ai/ludwig/issues/1389#issuecomment-947762698","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1389","id":947762698,"node_id":"IC_kwDOCbx2hs44fbYK","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2021-10-20T15:09:27Z","updated_at":"2021-10-20T15:09:27Z","author_association":"COLLABORATOR","body":"In terms of the throughput of training, usually this is due to the GPU already being well utilized at the lower batch size. Can you try running `nvidia-smi` a few times before and after scale up to see if the average GPU utilization has changed? If it's over 90% before scaling up, I wouldn't expect to see any performance improvement after scale up.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/947762698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}},{"id":5494406379,"node_id":"CE_lADOCbx2hs49OymtzwAAAAFHffzr","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5494406379","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-10-20T20:33:03Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/948060579","html_url":"https://github.com/ludwig-ai/ludwig/issues/1389#issuecomment-948060579","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1389","id":948060579,"node_id":"IC_kwDOCbx2hs44gkGj","user":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"created_at":"2021-10-20T21:47:31Z","updated_at":"2021-10-20T21:47:31Z","author_association":"CONTRIBUTOR","body":"Thanks, in terms of the throughput I was referring to a case when, with a small batch size, 10% or so of the GPU dram gets used. When doubling the batch size we have plenty of space during training.\r\nI was not concerned about training performance but about evaluation performance. If using a batch size lower than what can be supported by the GPU dram, we're simply wasting time. The reasoning is that if the same batch size can be trained, it can surely be evaluated.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/948060579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/948124529","html_url":"https://github.com/ludwig-ai/ludwig/issues/1389#issuecomment-948124529","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1389","id":948124529,"node_id":"IC_kwDOCbx2hs44gztx","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2021-10-21T00:05:18Z","updated_at":"2021-10-21T00:05:18Z","author_association":"COLLABORATOR","body":"@carlogrisetti Ah I see, I misunderstood. So you're saying that the evaluation batch size is not increasing when the scale up happens, is that right? I can confirm from the code that this is the case:\r\n\r\nhttps://github.com/ludwig-ai/ludwig/blob/master/ludwig/models/trainer.py#L909\r\n\r\nThe `eval_batch_size` is set once at the beginning of training, but is not adjusted if the batch size increases at runtime. I think the better thing to do here would be to always set `eval_batch_size = max(eval_batch_size, train_batch_size)` at the beginning of each eval step. As you said, if it works for training it will also work for eval.\r\n\r\nBy the way, we recently added a feature to automatically set the batch size to maximize GPU utilization. We should also add this for eval_batch_size as well:\r\n\r\nhttps://github.com/ludwig-ai/ludwig/blob/b6703bd97b24e6d7f7b5cf931348271ff3da4c81/ludwig/models/trainer.py#L476","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/948124529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}},{"id":5495123636,"node_id":"MEE_lADOCbx2hs49OymtzwAAAAFHiO60","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5495123636","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-21T00:05:18Z","performed_via_github_app":null},{"id":5495123640,"node_id":"SE_lADOCbx2hs49OymtzwAAAAFHiO64","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5495123640","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-21T00:05:19Z","performed_via_github_app":null},{"actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2021-10-21T00:07:59Z","updated_at":"2021-10-21T00:07:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1403","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1403/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1403/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1403/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/1403","id":1031927471,"node_id":"I_kwDOCbx2hs49gfav","number":1403,"title":"Eval batch size does not scale at runtime with train batch size","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"labels":[{"id":1174068769,"node_id":"MDU6TGFiZWwxMTc0MDY4NzY5","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"assignees":[{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2021-10-21T00:07:58Z","updated_at":"2021-10-25T19:58:16Z","closed_at":"2021-10-25T19:58:16Z","author_association":"COLLABORATOR","active_lock_reason":null,"repository":{"id":163346054,"node_id":"MDEwOlJlcG9zaXRvcnkxNjMzNDYwNTQ=","name":"ludwig","full_name":"ludwig-ai/ludwig","private":false,"owner":{"login":"ludwig-ai","id":65477820,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1NDc3ODIw","avatar_url":"https://avatars.githubusercontent.com/u/65477820?v=4","gravatar_id":"","url":"https://api.github.com/users/ludwig-ai","html_url":"https://github.com/ludwig-ai","followers_url":"https://api.github.com/users/ludwig-ai/followers","following_url":"https://api.github.com/users/ludwig-ai/following{/other_user}","gists_url":"https://api.github.com/users/ludwig-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ludwig-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ludwig-ai/subscriptions","organizations_url":"https://api.github.com/users/ludwig-ai/orgs","repos_url":"https://api.github.com/users/ludwig-ai/repos","events_url":"https://api.github.com/users/ludwig-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ludwig-ai/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/ludwig-ai/ludwig","description":"Data-centric declarative deep learning framework","fork":false,"url":"https://api.github.com/repos/ludwig-ai/ludwig","forks_url":"https://api.github.com/repos/ludwig-ai/ludwig/forks","keys_url":"https://api.github.com/repos/ludwig-ai/ludwig/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ludwig-ai/ludwig/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ludwig-ai/ludwig/teams","hooks_url":"https://api.github.com/repos/ludwig-ai/ludwig/hooks","issue_events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events{/number}","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/events","assignees_url":"https://api.github.com/repos/ludwig-ai/ludwig/assignees{/user}","branches_url":"https://api.github.com/repos/ludwig-ai/ludwig/branches{/branch}","tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/tags","blobs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/refs{/sha}","trees_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ludwig-ai/ludwig/statuses/{sha}","languages_url":"https://api.github.com/repos/ludwig-ai/ludwig/languages","stargazers_url":"https://api.github.com/repos/ludwig-ai/ludwig/stargazers","contributors_url":"https://api.github.com/repos/ludwig-ai/ludwig/contributors","subscribers_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscribers","subscription_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscription","commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/commits{/sha}","git_commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/commits{/sha}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/comments{/number}","issue_comment_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments{/number}","contents_url":"https://api.github.com/repos/ludwig-ai/ludwig/contents/{+path}","compare_url":"https://api.github.com/repos/ludwig-ai/ludwig/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ludwig-ai/ludwig/merges","archive_url":"https://api.github.com/repos/ludwig-ai/ludwig/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ludwig-ai/ludwig/downloads","issues_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues{/number}","pulls_url":"https://api.github.com/repos/ludwig-ai/ludwig/pulls{/number}","milestones_url":"https://api.github.com/repos/ludwig-ai/ludwig/milestones{/number}","notifications_url":"https://api.github.com/repos/ludwig-ai/ludwig/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/labels{/name}","releases_url":"https://api.github.com/repos/ludwig-ai/ludwig/releases{/id}","deployments_url":"https://api.github.com/repos/ludwig-ai/ludwig/deployments","created_at":"2018-12-27T23:58:12Z","updated_at":"2023-01-19T21:01:40Z","pushed_at":"2023-01-19T23:08:58Z","git_url":"git://github.com/ludwig-ai/ludwig.git","ssh_url":"git@github.com:ludwig-ai/ludwig.git","clone_url":"https://github.com/ludwig-ai/ludwig.git","svn_url":"https://github.com/ludwig-ai/ludwig","homepage":"http://ludwig.ai","size":29868,"stargazers_count":8712,"watchers_count":8712,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1027,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":241,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["computer-vision","data-centric","data-science","datascience","deep","deep-learning","deeplearning","learning","machine","machine-learning","machinelearning","ml","natural-language","natural-language-processing","neural-network","python","pytorch"],"visibility":"public","forks":1027,"open_issues":241,"watchers":8712,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The eval batch size is only set once at the beginning of training. However, the train batch size can scale up during training. When this happens, we should also increase the eval batch size, if possible, as any batch size that works for training should also work for inference.\r\n\r\nhttps://github.com/ludwig-ai/ludwig/blob/master/ludwig/models/trainer.py#L909\r\n\r\nSpecifically:\r\n\r\n```\r\neval_batch_size = max(eval_batch_size, progress_tracker.batch_size)\r\n```\r\n\r\nSee #1389.\r\n\r\ncc @carlogrisetti ","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1403/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"created_at":"2021-10-21T00:12:29Z","updated_at":"2021-10-21T00:12:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1404","repository_url":"https://api.github.com/repos/ludwig-ai/ludwig","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1404/labels{/name}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1404/comments","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1404/events","html_url":"https://github.com/ludwig-ai/ludwig/issues/1404","id":1031929394,"node_id":"I_kwDOCbx2hs49gf4y","number":1404,"title":"Allow eval_batch_size=auto in the config","user":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"labels":[{"id":1174068771,"node_id":"MDU6TGFiZWwxMTc0MDY4Nzcx","url":"https://api.github.com/repos/ludwig-ai/ludwig/labels/feature","name":"feature","color":"0377d6","default":false,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"assignees":[{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2021-10-21T00:12:12Z","updated_at":"2021-10-25T19:58:16Z","closed_at":"2021-10-25T19:58:16Z","author_association":"COLLABORATOR","active_lock_reason":null,"repository":{"id":163346054,"node_id":"MDEwOlJlcG9zaXRvcnkxNjMzNDYwNTQ=","name":"ludwig","full_name":"ludwig-ai/ludwig","private":false,"owner":{"login":"ludwig-ai","id":65477820,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1NDc3ODIw","avatar_url":"https://avatars.githubusercontent.com/u/65477820?v=4","gravatar_id":"","url":"https://api.github.com/users/ludwig-ai","html_url":"https://github.com/ludwig-ai","followers_url":"https://api.github.com/users/ludwig-ai/followers","following_url":"https://api.github.com/users/ludwig-ai/following{/other_user}","gists_url":"https://api.github.com/users/ludwig-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ludwig-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ludwig-ai/subscriptions","organizations_url":"https://api.github.com/users/ludwig-ai/orgs","repos_url":"https://api.github.com/users/ludwig-ai/repos","events_url":"https://api.github.com/users/ludwig-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ludwig-ai/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/ludwig-ai/ludwig","description":"Data-centric declarative deep learning framework","fork":false,"url":"https://api.github.com/repos/ludwig-ai/ludwig","forks_url":"https://api.github.com/repos/ludwig-ai/ludwig/forks","keys_url":"https://api.github.com/repos/ludwig-ai/ludwig/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ludwig-ai/ludwig/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ludwig-ai/ludwig/teams","hooks_url":"https://api.github.com/repos/ludwig-ai/ludwig/hooks","issue_events_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events{/number}","events_url":"https://api.github.com/repos/ludwig-ai/ludwig/events","assignees_url":"https://api.github.com/repos/ludwig-ai/ludwig/assignees{/user}","branches_url":"https://api.github.com/repos/ludwig-ai/ludwig/branches{/branch}","tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/tags","blobs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/refs{/sha}","trees_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ludwig-ai/ludwig/statuses/{sha}","languages_url":"https://api.github.com/repos/ludwig-ai/ludwig/languages","stargazers_url":"https://api.github.com/repos/ludwig-ai/ludwig/stargazers","contributors_url":"https://api.github.com/repos/ludwig-ai/ludwig/contributors","subscribers_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscribers","subscription_url":"https://api.github.com/repos/ludwig-ai/ludwig/subscription","commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/commits{/sha}","git_commits_url":"https://api.github.com/repos/ludwig-ai/ludwig/git/commits{/sha}","comments_url":"https://api.github.com/repos/ludwig-ai/ludwig/comments{/number}","issue_comment_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments{/number}","contents_url":"https://api.github.com/repos/ludwig-ai/ludwig/contents/{+path}","compare_url":"https://api.github.com/repos/ludwig-ai/ludwig/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ludwig-ai/ludwig/merges","archive_url":"https://api.github.com/repos/ludwig-ai/ludwig/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ludwig-ai/ludwig/downloads","issues_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues{/number}","pulls_url":"https://api.github.com/repos/ludwig-ai/ludwig/pulls{/number}","milestones_url":"https://api.github.com/repos/ludwig-ai/ludwig/milestones{/number}","notifications_url":"https://api.github.com/repos/ludwig-ai/ludwig/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ludwig-ai/ludwig/labels{/name}","releases_url":"https://api.github.com/repos/ludwig-ai/ludwig/releases{/id}","deployments_url":"https://api.github.com/repos/ludwig-ai/ludwig/deployments","created_at":"2018-12-27T23:58:12Z","updated_at":"2023-01-19T21:01:40Z","pushed_at":"2023-01-19T23:08:58Z","git_url":"git://github.com/ludwig-ai/ludwig.git","ssh_url":"git@github.com:ludwig-ai/ludwig.git","clone_url":"https://github.com/ludwig-ai/ludwig.git","svn_url":"https://github.com/ludwig-ai/ludwig","homepage":"http://ludwig.ai","size":29868,"stargazers_count":8712,"watchers_count":8712,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1027,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":241,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["computer-vision","data-centric","data-science","datascience","deep","deep-learning","deeplearning","learning","machine","machine-learning","machinelearning","ml","natural-language","natural-language-processing","neural-network","python","pytorch"],"visibility":"public","forks":1027,"open_issues":241,"watchers":8712,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The eval batch size can be set arbitrarily large without consequence in most cases, particularly if the user has a GPU. We just need to make sure we don't OOM. Similar to supporting this for the train batch size, we should support setting it for the eval batch size as well.\r\n\r\n```\r\n{\r\n    'training': {\r\n        'eval_batch_size': 'auto'\r\n    }\r\n}\r\n```\r\n\r\nSee #1389.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1404/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/948134393","html_url":"https://github.com/ludwig-ai/ludwig/issues/1389#issuecomment-948134393","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/1389","id":948134393,"node_id":"IC_kwDOCbx2hs44g2H5","user":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false},"created_at":"2021-10-21T00:28:22Z","updated_at":"2021-10-21T00:28:22Z","author_association":"CONTRIBUTOR","body":"@tgaddair `tune_batch_size` is simply sweet. Never thought of adding this, but in retrospective this could have been a much wanted feature.\r\nThanks!\r\n\r\nAs for the eval_batch_size not increasing when train_batch_size increases, that's exactly what I meant. The autotuning would be great there also.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/948134393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"carlogrisetti","id":4464640,"node_id":"MDQ6VXNlcjQ0NjQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4464640?v=4","gravatar_id":"","url":"https://api.github.com/users/carlogrisetti","html_url":"https://github.com/carlogrisetti","followers_url":"https://api.github.com/users/carlogrisetti/followers","following_url":"https://api.github.com/users/carlogrisetti/following{/other_user}","gists_url":"https://api.github.com/users/carlogrisetti/gists{/gist_id}","starred_url":"https://api.github.com/users/carlogrisetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlogrisetti/subscriptions","organizations_url":"https://api.github.com/users/carlogrisetti/orgs","repos_url":"https://api.github.com/users/carlogrisetti/repos","events_url":"https://api.github.com/users/carlogrisetti/events{/privacy}","received_events_url":"https://api.github.com/users/carlogrisetti/received_events","type":"User","site_admin":false}},{"id":5495184656,"node_id":"MEE_lADOCbx2hs49OymtzwAAAAFHid0Q","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5495184656","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-21T00:28:22Z","performed_via_github_app":null},{"id":5495184658,"node_id":"SE_lADOCbx2hs49OymtzwAAAAFHid0S","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/5495184658","actor":{"login":"tgaddair","id":1742912,"node_id":"MDQ6VXNlcjE3NDI5MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1742912?v=4","gravatar_id":"","url":"https://api.github.com/users/tgaddair","html_url":"https://github.com/tgaddair","followers_url":"https://api.github.com/users/tgaddair/followers","following_url":"https://api.github.com/users/tgaddair/following{/other_user}","gists_url":"https://api.github.com/users/tgaddair/gists{/gist_id}","starred_url":"https://api.github.com/users/tgaddair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tgaddair/subscriptions","organizations_url":"https://api.github.com/users/tgaddair/orgs","repos_url":"https://api.github.com/users/tgaddair/repos","events_url":"https://api.github.com/users/tgaddair/events{/privacy}","received_events_url":"https://api.github.com/users/tgaddair/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-21T00:28:22Z","performed_via_github_app":null}]