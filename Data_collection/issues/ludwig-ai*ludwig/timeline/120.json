[{"id":2147440013,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxNDc0NDAwMTM=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2147440013","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"9da9c3360ad9d917dfc902b3cc04736a1686e000","commit_url":"https://api.github.com/repos/ludwig-ai/ludwig/commits/9da9c3360ad9d917dfc902b3cc04736a1686e000","created_at":"2019-02-18T23:19:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/464920931","html_url":"https://github.com/ludwig-ai/ludwig/issues/120#issuecomment-464920931","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/120","id":464920931,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDkyMDkzMQ==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2019-02-18T23:29:08Z","updated_at":"2019-02-18T23:29:08Z","author_association":"COLLABORATOR","body":"Thank you!\r\nI pushed a fix so that now you can use the `sgd` type.\r\nAnyway your model definition won't work, for a couple reasons (I should probably detail this better in the documentation):\r\n1. all the optimizer parameters can be specified there in the optimizer dictionary, everyone but learning_rate. The reason is that Ludwig has a different way to deal with the learning rate, passing a placeholder to the optimizer and modifying the learning rate outside tensorflow with a specific logic (for instance reducing it when validation accuracy platoes). So don't pass your learning rate inside optimizer, but inside training, and Ludwig will take care of it.\r\n2. TensorFlow's GradientOptimizer does not have a momentum parameter. In TF in order to use a sgd with momentum, there's a different optimizer called [MomentumOptimizer](https://www.tensorflow.org/api_docs/python/tf/train/MomentumOptimizer). Ludwig wraps this optimizer with the keyword `momentum`.\r\nGiven these two reasons, the correct model definition would be:\r\n```\r\nludwig train --data_csv annotations_all_zoom.csv --model_definition \"{input_features: [{name: image_path, type: image, encoder: stacked_cnn}], output_features: [{name: class, type: category}], training: {optimizer: {type: momentum, momentum: 0.1, use_nesterov: True}, reduce_learning_rate_on_plateau: 10, early_stop: 10, learning_rate: 0.0004, batch_size: 32}}\"\r\n```\r\nLet me know if this solves your issue and close it in case.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/464920931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/465070634","html_url":"https://github.com/ludwig-ai/ludwig/issues/120#issuecomment-465070634","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/120","id":465070634,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTA3MDYzNA==","user":{"login":"tboo","id":19666785,"node_id":"MDQ6VXNlcjE5NjY2Nzg1","avatar_url":"https://avatars.githubusercontent.com/u/19666785?v=4","gravatar_id":"","url":"https://api.github.com/users/tboo","html_url":"https://github.com/tboo","followers_url":"https://api.github.com/users/tboo/followers","following_url":"https://api.github.com/users/tboo/following{/other_user}","gists_url":"https://api.github.com/users/tboo/gists{/gist_id}","starred_url":"https://api.github.com/users/tboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tboo/subscriptions","organizations_url":"https://api.github.com/users/tboo/orgs","repos_url":"https://api.github.com/users/tboo/repos","events_url":"https://api.github.com/users/tboo/events{/privacy}","received_events_url":"https://api.github.com/users/tboo/received_events","type":"User","site_admin":false},"created_at":"2019-02-19T10:12:55Z","updated_at":"2019-02-19T10:21:06Z","author_association":"NONE","body":"Thanks for the quick fix. Works perfectly now. Also thanks for clarifying the optimizer usage. Since you were linking to the (Keras)-TF documentation of the optimizer classes I was just assuming one could pass these parameters on. As mentioned above the documentation links to the Keras optimizers which caused the confusion about SGD since SGD can be run [with momentum](https://www.tensorflow.org/api_docs/python/tf/keras/optimizers/SGD) in Keras","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/465070634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tboo","id":19666785,"node_id":"MDQ6VXNlcjE5NjY2Nzg1","avatar_url":"https://avatars.githubusercontent.com/u/19666785?v=4","gravatar_id":"","url":"https://api.github.com/users/tboo","html_url":"https://github.com/tboo","followers_url":"https://api.github.com/users/tboo/followers","following_url":"https://api.github.com/users/tboo/following{/other_user}","gists_url":"https://api.github.com/users/tboo/gists{/gist_id}","starred_url":"https://api.github.com/users/tboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tboo/subscriptions","organizations_url":"https://api.github.com/users/tboo/orgs","repos_url":"https://api.github.com/users/tboo/repos","events_url":"https://api.github.com/users/tboo/events{/privacy}","received_events_url":"https://api.github.com/users/tboo/received_events","type":"User","site_admin":false}},{"id":2148406104,"node_id":"MDExOkNsb3NlZEV2ZW50MjE0ODQwNjEwNA==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2148406104","actor":{"login":"tboo","id":19666785,"node_id":"MDQ6VXNlcjE5NjY2Nzg1","avatar_url":"https://avatars.githubusercontent.com/u/19666785?v=4","gravatar_id":"","url":"https://api.github.com/users/tboo","html_url":"https://github.com/tboo","followers_url":"https://api.github.com/users/tboo/followers","following_url":"https://api.github.com/users/tboo/following{/other_user}","gists_url":"https://api.github.com/users/tboo/gists{/gist_id}","starred_url":"https://api.github.com/users/tboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tboo/subscriptions","organizations_url":"https://api.github.com/users/tboo/orgs","repos_url":"https://api.github.com/users/tboo/repos","events_url":"https://api.github.com/users/tboo/events{/privacy}","received_events_url":"https://api.github.com/users/tboo/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-02-19T10:21:11Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/465274630","html_url":"https://github.com/ludwig-ai/ludwig/issues/120#issuecomment-465274630","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/120","id":465274630,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTI3NDYzMA==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2019-02-19T19:24:32Z","updated_at":"2019-02-19T19:24:32Z","author_association":"COLLABORATOR","body":"Thanks! Glad it solved the problem.\r\nYeah, I'm not using Keras optimizers. I will clarify in the docs about the specifics of the optimizer options.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/465274630/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}}]