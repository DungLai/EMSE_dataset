[{"id":2175521005,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjE3NTUyMTAwNQ==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2175521005","actor":{"login":"latha-ai","id":48142586,"node_id":"MDQ6VXNlcjQ4MTQyNTg2","avatar_url":"https://avatars.githubusercontent.com/u/48142586?v=4","gravatar_id":"","url":"https://api.github.com/users/latha-ai","html_url":"https://github.com/latha-ai","followers_url":"https://api.github.com/users/latha-ai/followers","following_url":"https://api.github.com/users/latha-ai/following{/other_user}","gists_url":"https://api.github.com/users/latha-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/latha-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/latha-ai/subscriptions","organizations_url":"https://api.github.com/users/latha-ai/orgs","repos_url":"https://api.github.com/users/latha-ai/repos","events_url":"https://api.github.com/users/latha-ai/events{/privacy}","received_events_url":"https://api.github.com/users/latha-ai/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-03-02T02:22:37Z","rename":{"from":"image size issuewith inmemory = false","to":"image size issue with inmemory = false"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/468896688","html_url":"https://github.com/ludwig-ai/ludwig/issues/161#issuecomment-468896688","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/161","id":468896688,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODg5NjY4OA==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2019-03-02T07:40:34Z","updated_at":"2019-03-02T07:40:34Z","author_association":"COLLABORATOR","body":"Sorry I have a hard time understanding the language used to describe the issue, can you try rephrasing it?","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/468896688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/468945418","html_url":"https://github.com/ludwig-ai/ludwig/issues/161#issuecomment-468945418","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/161","id":468945418,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODk0NTQxOA==","user":{"login":"latha-ai","id":48142586,"node_id":"MDQ6VXNlcjQ4MTQyNTg2","avatar_url":"https://avatars.githubusercontent.com/u/48142586?v=4","gravatar_id":"","url":"https://api.github.com/users/latha-ai","html_url":"https://github.com/latha-ai","followers_url":"https://api.github.com/users/latha-ai/followers","following_url":"https://api.github.com/users/latha-ai/following{/other_user}","gists_url":"https://api.github.com/users/latha-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/latha-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/latha-ai/subscriptions","organizations_url":"https://api.github.com/users/latha-ai/orgs","repos_url":"https://api.github.com/users/latha-ai/repos","events_url":"https://api.github.com/users/latha-ai/events{/privacy}","received_events_url":"https://api.github.com/users/latha-ai/received_events","type":"User","site_admin":false},"created_at":"2019-03-02T18:12:05Z","updated_at":"2019-03-02T18:12:05Z","author_association":"NONE","body":"I am looking for image classification with images which can be more than 400x400 \r\n\r\ninputfeaure has parameter in_memory \r\nDocumentation:\r\nin_memory (default: true): defines whether image dataset will reside in memory during the training process or will be dynamically fetched from disk (useful for large datasets). \r\nIn the latter case a training batch of input images will be fetched from disk each training iteration.\r\n\r\nludwig/features/image_feature.py line 105\r\nWhat I see is when in_memory=false the data is written to a hdf5 file on disk.\r\n-- that will take for ever even with resize and will have limitations based on input\r\n\r\nProcess of dynamically fetching is not clear. What is the recommended approach for training large images?\r\ndata_train_csv is supposed to have for all iterations, is that correct ?\r\n\r\nI am using experiment function in integration_tests\r\n\r\ninput_features_template = Template(\r\n        \"[{type: image, name: random_image, width: 299, in_memory: false,\"\r\n        \" height: 299, num_channels: 1, encoder: ${encoder},\"\r\n        \" resnet_size: 8, destination_folder: ${folder}}]\")\r\nexperiment(\r\n        model_definition,\r\n        model_definition_file=None,\r\n        data_csv=None,\r\n        data_train_csv=None,\r\n        data_validation_csv=None,\r\n        data_test_csv=None,\r\n        data_hdf5=None,\r\n        data_train_hdf5=None,\r\n        data_validation_hdf5=None,\r\n        data_test_hdf5=None,\r\n        train_set_metadata_json=None,\r\n        experiment_name='experiment',\r\n        model_name='run',\r\n        model_load_path=None,\r\n        model_resume_path=None,\r\n        skip_save_progress_weights=False,\r\n        skip_save_processed_input=False,\r\n        skip_save_unprocessed_output=False,\r\n        output_directory='results',\r\n        gpus=None,\r\n        gpu_fraction=1.0,\r\n        use_horovod=False,\r\n        random_seed=default_random_seed,\r\n        debug=False,\r\n        **kwargs","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/468945418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"latha-ai","id":48142586,"node_id":"MDQ6VXNlcjQ4MTQyNTg2","avatar_url":"https://avatars.githubusercontent.com/u/48142586?v=4","gravatar_id":"","url":"https://api.github.com/users/latha-ai","html_url":"https://github.com/latha-ai","followers_url":"https://api.github.com/users/latha-ai/followers","following_url":"https://api.github.com/users/latha-ai/following{/other_user}","gists_url":"https://api.github.com/users/latha-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/latha-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/latha-ai/subscriptions","organizations_url":"https://api.github.com/users/latha-ai/orgs","repos_url":"https://api.github.com/users/latha-ai/repos","events_url":"https://api.github.com/users/latha-ai/events{/privacy}","received_events_url":"https://api.github.com/users/latha-ai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/468994897","html_url":"https://github.com/ludwig-ai/ludwig/issues/161#issuecomment-468994897","issue_url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/161","id":468994897,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODk5NDg5Nw==","user":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"created_at":"2019-03-03T06:54:35Z","updated_at":"2019-03-03T06:54:35Z","author_association":"COLLABORATOR","body":"Ludwig puts the output of the preprocessing in the hdf5 file. You can skip saving it, there is a specific parameter for that `--skip_savw_processed_input`, but then you can't be able to read from disk because the `in_memory` parameter assumes there is a hdf5 file to read from. Preprocessing images is an expensive task and doing it one time before training is a common practice, otherwise you would have to do it every single time every batch every epoch and will make your training extremely slow.\r\nFinally, depending on the task, 400x400 images may be really big and not that useful, consider using the resize functionality.\r\nFinally, at the moment the process of preprocessing images and texts (the two most expensive parts of preprocessing at the moment) is performed by a single thread. We have on our roadmap to add a parallel implementation that will make creating the hdf5 file much faster. But again consider that if you don't pay that cost upfront you pay it during training, and you pay it many more times.\r\n\r\n@ydudin3 can you investigate the feasibility of having an `in_memory=False` that works directly from the csv without an intermediate hdf5? I consider this a feature request.","reactions":{"url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/comments/468994897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false}},{"id":2176137571,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjE3NjEzNzU3MQ==","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2176137571","actor":{"login":"ydudin3-zz","id":33033675,"node_id":"MDQ6VXNlcjMzMDMzNjc1","avatar_url":"https://avatars.githubusercontent.com/u/33033675?v=4","gravatar_id":"","url":"https://api.github.com/users/ydudin3-zz","html_url":"https://github.com/ydudin3-zz","followers_url":"https://api.github.com/users/ydudin3-zz/followers","following_url":"https://api.github.com/users/ydudin3-zz/following{/other_user}","gists_url":"https://api.github.com/users/ydudin3-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/ydudin3-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydudin3-zz/subscriptions","organizations_url":"https://api.github.com/users/ydudin3-zz/orgs","repos_url":"https://api.github.com/users/ydudin3-zz/repos","events_url":"https://api.github.com/users/ydudin3-zz/events{/privacy}","received_events_url":"https://api.github.com/users/ydudin3-zz/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-03T06:54:35Z","performed_via_github_app":null},{"id":2176137572,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxNzYxMzc1NzI=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2176137572","actor":{"login":"ydudin3-zz","id":33033675,"node_id":"MDQ6VXNlcjMzMDMzNjc1","avatar_url":"https://avatars.githubusercontent.com/u/33033675?v=4","gravatar_id":"","url":"https://api.github.com/users/ydudin3-zz","html_url":"https://github.com/ydudin3-zz","followers_url":"https://api.github.com/users/ydudin3-zz/followers","following_url":"https://api.github.com/users/ydudin3-zz/following{/other_user}","gists_url":"https://api.github.com/users/ydudin3-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/ydudin3-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydudin3-zz/subscriptions","organizations_url":"https://api.github.com/users/ydudin3-zz/orgs","repos_url":"https://api.github.com/users/ydudin3-zz/repos","events_url":"https://api.github.com/users/ydudin3-zz/events{/privacy}","received_events_url":"https://api.github.com/users/ydudin3-zz/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-03T06:54:35Z","performed_via_github_app":null},{"id":2176137646,"node_id":"MDEyOkxhYmVsZWRFdmVudDIxNzYxMzc2NDY=","url":"https://api.github.com/repos/ludwig-ai/ludwig/issues/events/2176137646","actor":{"login":"w4nderlust","id":349256,"node_id":"MDQ6VXNlcjM0OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/349256?v=4","gravatar_id":"","url":"https://api.github.com/users/w4nderlust","html_url":"https://github.com/w4nderlust","followers_url":"https://api.github.com/users/w4nderlust/followers","following_url":"https://api.github.com/users/w4nderlust/following{/other_user}","gists_url":"https://api.github.com/users/w4nderlust/gists{/gist_id}","starred_url":"https://api.github.com/users/w4nderlust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w4nderlust/subscriptions","organizations_url":"https://api.github.com/users/w4nderlust/orgs","repos_url":"https://api.github.com/users/w4nderlust/repos","events_url":"https://api.github.com/users/w4nderlust/events{/privacy}","received_events_url":"https://api.github.com/users/w4nderlust/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-03-03T06:54:56Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null}]