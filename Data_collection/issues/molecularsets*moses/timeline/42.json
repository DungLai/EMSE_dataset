[{"url":"https://api.github.com/repos/molecularsets/moses/issues/comments/485325135","html_url":"https://github.com/molecularsets/moses/issues/42#issuecomment-485325135","issue_url":"https://api.github.com/repos/molecularsets/moses/issues/42","id":485325135,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTMyNTEzNQ==","user":{"login":"beangoben","id":438135,"node_id":"MDQ6VXNlcjQzODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/438135?v=4","gravatar_id":"","url":"https://api.github.com/users/beangoben","html_url":"https://github.com/beangoben","followers_url":"https://api.github.com/users/beangoben/followers","following_url":"https://api.github.com/users/beangoben/following{/other_user}","gists_url":"https://api.github.com/users/beangoben/gists{/gist_id}","starred_url":"https://api.github.com/users/beangoben/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beangoben/subscriptions","organizations_url":"https://api.github.com/users/beangoben/orgs","repos_url":"https://api.github.com/users/beangoben/repos","events_url":"https://api.github.com/users/beangoben/events{/privacy}","received_events_url":"https://api.github.com/users/beangoben/received_events","type":"User","site_admin":false},"created_at":"2019-04-22T04:58:51Z","updated_at":"2019-04-22T04:58:51Z","author_association":"CONTRIBUTOR","body":"In my experience working on the VAE, the KL annealer helps to train the model.\r\nTo be more specific, when training your encoder and decoders right off the bat variationally (KL-term constant) can lead to a lot of instability while training. So a good first step is to train them as a AE and at some moment slowly switch on the KL term.  It allows the model to arrive to a 'decent' spot (trained as AE) before going VAE. A similar pattern lies with ORGAN, you need to train pre-train your generators so that they are in a decent spot before competing with the discriminator. There are many ways of doing this, most are just engineering, hence MOSES's approach also works. \r\n\r\nFor the original VAE i think around epoch 30 we start the KL annealing.","reactions":{"url":"https://api.github.com/repos/molecularsets/moses/issues/comments/485325135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"beangoben","id":438135,"node_id":"MDQ6VXNlcjQzODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/438135?v=4","gravatar_id":"","url":"https://api.github.com/users/beangoben","html_url":"https://github.com/beangoben","followers_url":"https://api.github.com/users/beangoben/followers","following_url":"https://api.github.com/users/beangoben/following{/other_user}","gists_url":"https://api.github.com/users/beangoben/gists{/gist_id}","starred_url":"https://api.github.com/users/beangoben/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beangoben/subscriptions","organizations_url":"https://api.github.com/users/beangoben/orgs","repos_url":"https://api.github.com/users/beangoben/repos","events_url":"https://api.github.com/users/beangoben/events{/privacy}","received_events_url":"https://api.github.com/users/beangoben/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/molecularsets/moses/issues/comments/486654046","html_url":"https://github.com/molecularsets/moses/issues/42#issuecomment-486654046","issue_url":"https://api.github.com/repos/molecularsets/moses/issues/42","id":486654046,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjY1NDA0Ng==","user":{"login":"maxime-langevin","id":26231992,"node_id":"MDQ6VXNlcjI2MjMxOTky","avatar_url":"https://avatars.githubusercontent.com/u/26231992?v=4","gravatar_id":"","url":"https://api.github.com/users/maxime-langevin","html_url":"https://github.com/maxime-langevin","followers_url":"https://api.github.com/users/maxime-langevin/followers","following_url":"https://api.github.com/users/maxime-langevin/following{/other_user}","gists_url":"https://api.github.com/users/maxime-langevin/gists{/gist_id}","starred_url":"https://api.github.com/users/maxime-langevin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxime-langevin/subscriptions","organizations_url":"https://api.github.com/users/maxime-langevin/orgs","repos_url":"https://api.github.com/users/maxime-langevin/repos","events_url":"https://api.github.com/users/maxime-langevin/events{/privacy}","received_events_url":"https://api.github.com/users/maxime-langevin/received_events","type":"User","site_admin":false},"created_at":"2019-04-25T12:35:14Z","updated_at":"2019-04-25T12:35:14Z","author_association":"NONE","body":"Thanks for the answer! Indeed with a simple linear annealing scheme for the KL I'm able to get very decent results. ","reactions":{"url":"https://api.github.com/repos/molecularsets/moses/issues/comments/486654046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maxime-langevin","id":26231992,"node_id":"MDQ6VXNlcjI2MjMxOTky","avatar_url":"https://avatars.githubusercontent.com/u/26231992?v=4","gravatar_id":"","url":"https://api.github.com/users/maxime-langevin","html_url":"https://github.com/maxime-langevin","followers_url":"https://api.github.com/users/maxime-langevin/followers","following_url":"https://api.github.com/users/maxime-langevin/following{/other_user}","gists_url":"https://api.github.com/users/maxime-langevin/gists{/gist_id}","starred_url":"https://api.github.com/users/maxime-langevin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxime-langevin/subscriptions","organizations_url":"https://api.github.com/users/maxime-langevin/orgs","repos_url":"https://api.github.com/users/maxime-langevin/repos","events_url":"https://api.github.com/users/maxime-langevin/events{/privacy}","received_events_url":"https://api.github.com/users/maxime-langevin/received_events","type":"User","site_admin":false}},{"id":2300097145,"node_id":"MDExOkNsb3NlZEV2ZW50MjMwMDA5NzE0NQ==","url":"https://api.github.com/repos/molecularsets/moses/issues/events/2300097145","actor":{"login":"maxime-langevin","id":26231992,"node_id":"MDQ6VXNlcjI2MjMxOTky","avatar_url":"https://avatars.githubusercontent.com/u/26231992?v=4","gravatar_id":"","url":"https://api.github.com/users/maxime-langevin","html_url":"https://github.com/maxime-langevin","followers_url":"https://api.github.com/users/maxime-langevin/followers","following_url":"https://api.github.com/users/maxime-langevin/following{/other_user}","gists_url":"https://api.github.com/users/maxime-langevin/gists{/gist_id}","starred_url":"https://api.github.com/users/maxime-langevin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxime-langevin/subscriptions","organizations_url":"https://api.github.com/users/maxime-langevin/orgs","repos_url":"https://api.github.com/users/maxime-langevin/repos","events_url":"https://api.github.com/users/maxime-langevin/events{/privacy}","received_events_url":"https://api.github.com/users/maxime-langevin/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-04-25T12:35:14Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/molecularsets/moses/issues/comments/550584456","html_url":"https://github.com/molecularsets/moses/issues/42#issuecomment-550584456","issue_url":"https://api.github.com/repos/molecularsets/moses/issues/42","id":550584456,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDU4NDQ1Ng==","user":{"login":"eminemichael","id":20416356,"node_id":"MDQ6VXNlcjIwNDE2MzU2","avatar_url":"https://avatars.githubusercontent.com/u/20416356?v=4","gravatar_id":"","url":"https://api.github.com/users/eminemichael","html_url":"https://github.com/eminemichael","followers_url":"https://api.github.com/users/eminemichael/followers","following_url":"https://api.github.com/users/eminemichael/following{/other_user}","gists_url":"https://api.github.com/users/eminemichael/gists{/gist_id}","starred_url":"https://api.github.com/users/eminemichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eminemichael/subscriptions","organizations_url":"https://api.github.com/users/eminemichael/orgs","repos_url":"https://api.github.com/users/eminemichael/repos","events_url":"https://api.github.com/users/eminemichael/events{/privacy}","received_events_url":"https://api.github.com/users/eminemichael/received_events","type":"User","site_admin":false},"created_at":"2019-11-07T01:57:10Z","updated_at":"2019-11-07T01:57:10Z","author_association":"NONE","body":"\r\n\r\n\r\n> For the original VAE i think around epoch 30 we start the KL annealing.\r\n\r\nSorry, does it mean that letting weight factor of KL penalty increase to 1 at 30th epoch linearly?","reactions":{"url":"https://api.github.com/repos/molecularsets/moses/issues/comments/550584456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eminemichael","id":20416356,"node_id":"MDQ6VXNlcjIwNDE2MzU2","avatar_url":"https://avatars.githubusercontent.com/u/20416356?v=4","gravatar_id":"","url":"https://api.github.com/users/eminemichael","html_url":"https://github.com/eminemichael","followers_url":"https://api.github.com/users/eminemichael/followers","following_url":"https://api.github.com/users/eminemichael/following{/other_user}","gists_url":"https://api.github.com/users/eminemichael/gists{/gist_id}","starred_url":"https://api.github.com/users/eminemichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eminemichael/subscriptions","organizations_url":"https://api.github.com/users/eminemichael/orgs","repos_url":"https://api.github.com/users/eminemichael/repos","events_url":"https://api.github.com/users/eminemichael/events{/privacy}","received_events_url":"https://api.github.com/users/eminemichael/received_events","type":"User","site_admin":false}}]