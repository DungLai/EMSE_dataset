{"url":"https://api.github.com/repos/pmariglia/showdown/issues/38","repository_url":"https://api.github.com/repos/pmariglia/showdown","labels_url":"https://api.github.com/repos/pmariglia/showdown/issues/38/labels{/name}","comments_url":"https://api.github.com/repos/pmariglia/showdown/issues/38/comments","events_url":"https://api.github.com/repos/pmariglia/showdown/issues/38/events","html_url":"https://github.com/pmariglia/showdown/issues/38","id":669873853,"node_id":"MDU6SXNzdWU2Njk4NzM4NTM=","number":38,"title":"Replace Text Smogon Usage Parser With Chaos JSON parser","user":{"login":"pmariglia","id":25304649,"node_id":"MDQ6VXNlcjI1MzA0NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/25304649?v=4","gravatar_id":"","url":"https://api.github.com/users/pmariglia","html_url":"https://github.com/pmariglia","followers_url":"https://api.github.com/users/pmariglia/followers","following_url":"https://api.github.com/users/pmariglia/following{/other_user}","gists_url":"https://api.github.com/users/pmariglia/gists{/gist_id}","starred_url":"https://api.github.com/users/pmariglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmariglia/subscriptions","organizations_url":"https://api.github.com/users/pmariglia/orgs","repos_url":"https://api.github.com/users/pmariglia/repos","events_url":"https://api.github.com/users/pmariglia/events{/privacy}","received_events_url":"https://api.github.com/users/pmariglia/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-31T14:26:43Z","updated_at":"2021-03-07T20:47:14Z","closed_at":"2021-03-07T20:47:08Z","author_association":"OWNER","active_lock_reason":null,"body":"[This parser](https://github.com/pmariglia/showdown/blob/905ad380afbb7ab59f2c554b050c346366e48e0e/data/parse_smogon_stats.py#L43) is for the [text version](https://www.smogon.com/stats/2020-06/moveset/gen8ou-0.txt) of the smogon usage stats. It was written before I knew that there are [chaos jsons](https://www.smogon.com/stats/2020-06/chaos/gen8ou-1825.json) containing much more information as well as more organized information.\r\n\r\nThis parser should be replaced.\r\n\r\n1. It would require much simpler code to extract the same data from a JSON rather than a text-file\r\n2. The JSON contains more information about items/abilities/spreads/moves. The text file groups everything after a certain point into \"other\".\r\n\r\nThe output of this function should be in this format:\r\n\r\n```\r\n{\r\n  <pokemon_name>: {\r\n    'spreads': [\r\n      (<nature>, <spread>, <percentage>)\r\n    ],\r\n    'items': [\r\n      (<item>, <percentage>),\r\n    ],\r\n    'moves': [\r\n      (<move>, <percentage>),\r\n    ],\r\n    'abilities': [\r\n      (<ability>, <percentage>),\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nExample:\r\n```python\r\n{\r\n  'cinderace': {\r\n    'spreads': [\r\n      ('jolly', '0,252,0,0,4,252', 65.159),\r\n      ('jolly',  '4,252,0,0,0,252', 10.305),\r\n      ...\r\n    ],\r\n    'items': [\r\n      ('heavydutyboots', 50.191),\r\n      ('lifeorb', 16.138),\r\n      ...\r\n    ],\r\n    'moves': [\r\n      ('pyroball', 94.751),\r\n      ('uturn', 60.731),\r\n      ...\r\n    ],\r\n    'abilities': [\r\n      ('libero', 92.144),\r\n      ('blaze', 7.856),\r\n      ...\r\n    ]\r\n  }\r\n}\r\n```","closed_by":{"login":"pmariglia","id":25304649,"node_id":"MDQ6VXNlcjI1MzA0NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/25304649?v=4","gravatar_id":"","url":"https://api.github.com/users/pmariglia","html_url":"https://github.com/pmariglia","followers_url":"https://api.github.com/users/pmariglia/followers","following_url":"https://api.github.com/users/pmariglia/following{/other_user}","gists_url":"https://api.github.com/users/pmariglia/gists{/gist_id}","starred_url":"https://api.github.com/users/pmariglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmariglia/subscriptions","organizations_url":"https://api.github.com/users/pmariglia/orgs","repos_url":"https://api.github.com/users/pmariglia/repos","events_url":"https://api.github.com/users/pmariglia/events{/privacy}","received_events_url":"https://api.github.com/users/pmariglia/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pmariglia/showdown/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pmariglia/showdown/issues/38/timeline","performed_via_github_app":null,"state_reason":"completed"}