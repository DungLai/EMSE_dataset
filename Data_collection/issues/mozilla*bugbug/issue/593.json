{"url":"https://api.github.com/repos/mozilla/bugbug/issues/593","repository_url":"https://api.github.com/repos/mozilla/bugbug","labels_url":"https://api.github.com/repos/mozilla/bugbug/issues/593/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/bugbug/issues/593/comments","events_url":"https://api.github.com/repos/mozilla/bugbug/issues/593/events","html_url":"https://github.com/mozilla/bugbug/issues/593","id":456315165,"node_id":"MDU6SXNzdWU0NTYzMTUxNjU=","number":593,"title":"Don't try to find inconsistencies in all bugs multiple times","user":{"login":"marco-c","id":1616846,"node_id":"MDQ6VXNlcjE2MTY4NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1616846?v=4","gravatar_id":"","url":"https://api.github.com/users/marco-c","html_url":"https://github.com/marco-c","followers_url":"https://api.github.com/users/marco-c/followers","following_url":"https://api.github.com/users/marco-c/following{/other_user}","gists_url":"https://api.github.com/users/marco-c/gists{/gist_id}","starred_url":"https://api.github.com/users/marco-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marco-c/subscriptions","organizations_url":"https://api.github.com/users/marco-c/orgs","repos_url":"https://api.github.com/users/marco-c/repos","events_url":"https://api.github.com/users/marco-c/events{/privacy}","received_events_url":"https://api.github.com/users/marco-c/received_events","type":"User","site_admin":false},"labels":[{"id":864568511,"node_id":"MDU6TGFiZWw4NjQ1Njg1MTE=","url":"https://api.github.com/repos/mozilla/bugbug/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":864568513,"node_id":"MDU6TGFiZWw4NjQ1Njg1MTM=","url":"https://api.github.com/repos/mozilla/bugbug/labels/good-first-bug","name":"good-first-bug","color":"7057ff","default":false,"description":"Good for newcomers"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-06-14T15:45:29Z","updated_at":"2019-06-18T20:37:01Z","closed_at":"2019-06-18T20:37:01Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"We are re-downloading inconsistent bugs at https://github.com/mozilla/bugbug/blob/cc9c5e8c5d69e2dcabf35741a3f1d9b9bb797b39/scripts/bug_retriever.py#L61.\r\n\r\nTo find them, we are iterating through all bugs.\r\n\r\nIt makes sense to iterate through all bugs the first time, but the second time we should only iterate through the bugs we found inconsistent the first time (indeed, we can be sure that all the other bugs were not inconsistent).\r\n\r\nTo fix this, we simply need to modify https://github.com/mozilla/bugbug/blob/cc9c5e8c5d69e2dcabf35741a3f1d9b9bb797b39/bugbug/bug_snapshot.py#L755 adding a \"bugs\" parameter, and call it in the right way in bug_retriever.py (the first time bugs=bugzilla.get_bugs(), the second and following times bugs=previously_inconsistent_bugs).","closed_by":{"login":"marco-c","id":1616846,"node_id":"MDQ6VXNlcjE2MTY4NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1616846?v=4","gravatar_id":"","url":"https://api.github.com/users/marco-c","html_url":"https://github.com/marco-c","followers_url":"https://api.github.com/users/marco-c/followers","following_url":"https://api.github.com/users/marco-c/following{/other_user}","gists_url":"https://api.github.com/users/marco-c/gists{/gist_id}","starred_url":"https://api.github.com/users/marco-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marco-c/subscriptions","organizations_url":"https://api.github.com/users/marco-c/orgs","repos_url":"https://api.github.com/users/marco-c/repos","events_url":"https://api.github.com/users/marco-c/events{/privacy}","received_events_url":"https://api.github.com/users/marco-c/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/bugbug/issues/593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/bugbug/issues/593/timeline","performed_via_github_app":null,"state_reason":"completed"}