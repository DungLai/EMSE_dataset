[{"id":2876042113,"node_id":"MDEyOkxhYmVsZWRFdmVudDI4NzYwNDIxMTM=","url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/events/2876042113","actor":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-12-11T22:45:42Z","label":{"name":"usage exception","color":"f9bdc7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/565782088","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-565782088","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":565782088,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTc4MjA4OA==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-15T06:24:31Z","updated_at":"2019-12-15T06:24:31Z","author_association":"NONE","body":"Hi Nabeel,\r\n\r\nFirst, thank you for this extension, it is amazing, really look forward to using it more. I tried to replicate the simple forecasting example but am encountering an error message on the weekly seasonality.  \r\n\"ValueError: 2 columns passed, passed data had 1 columns\" but my variable works, I get the string of values when I open it in a KPI object.  Not sure why this is happening. Can you have a look and let me know what I am doing wrong?\r\n\r\nDimension: =Weekday([Prophet.Date])\r\nMeasure: PyTools.Prophet_Seasonality(Max(Weekday([Prophet.Date])), $(vROOFbyDATE), '', 'freq=D, return=weekly, seasonality=weekly')\r\n\r\nHere is the full debug script if that will help.\r\n2019-12-15 14:11:48,441 - INFO - ipv6:[::1]:59335 - Capability 'Prophet_Seasonality' called by user Personal\\Me from app C:\\Users\\odassier\\Documents\\Qlik\\Sense\\Apps\\Axioma ROOF Forecasting.qvf\r\n2019-12-15 14:11:48,441 - INFO - ExecuteFunction (functionId: 8, _prophet_seasonality)\r\n2019-12-15 14:11:48,443 - ERROR - Exception iterating responses: 2 columns passed, passed data had 1 columns\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\odassier\\Documents\\Qlik\\Sense\\Extensions\\qlik-py-tools-6.2\\qlik-py-env\\lib\\site-packages\\pandas\\core\\internals\\construction.py\", line 500, in _list_to_arrays\r\n    content, columns, dtype=dtype, coerce_float=coerce_float\r\n  File \"C:\\Users\\odassier\\Documents\\Qlik\\Sense\\Extensions\\qlik-py-tools-6.2\\qlik-py-env\\lib\\site-packages\\pandas\\core\\internals\\construction.py\", line 583, in _convert_object_array\r\n    \"{con} columns\".format(col=len(columns), con=len(content))\r\nAssertionError: 2 columns passed, passed data had 1 columns\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\odassier\\Documents\\Qlik\\Sense\\Extensions\\qlik-py-tools-6.2\\qlik-py-env\\lib\\site-packages\\grpc\\_server.py\", line 453, in _take_response_from_response_iterator\r\n    return next(response_iterator), True\r\n  File \"__main__.py\", line 420, in _prophet_seasonality\r\n    predictor = ProphetForQlik.init_seasonality(request_list, context)\r\n  File \"C:\\Users\\odassier\\Documents\\Qlik\\Sense\\Extensions\\qlik-py-tools-6.2\\qlik-py-env\\core\\_prophet.py\", line 159, in init_seasonality\r\n    request_df = pd.DataFrame([p.split(\":\") for p in pairs], columns=['ds', 'y'])\r\n  File \"C:\\Users\\odassier\\Documents\\Qlik\\Sense\\Extensions\\qlik-py-tools-6.2\\qlik-py-env\\lib\\site-packages\\pandas\\core\\frame.py\", line 450, in __init__\r\n    arrays, columns = to_arrays(data, columns, dtype=dtype)\r\n  File \"C:\\Users\\odassier\\Documents\\Qlik\\Sense\\Extensions\\qlik-py-tools-6.2\\qlik-py-env\\lib\\site-packages\\pandas\\core\\internals\\construction.py\", line 464, in to_arrays\r\n    return _list_to_arrays(data, columns, coerce_float=coerce_float, dtype=dtype)\r\n  File \"C:\\Users\\odassier\\Documents\\Qlik\\Sense\\Extensions\\qlik-py-tools-6.2\\qlik-py-env\\lib\\site-packages\\pandas\\core\\internals\\construction.py\", line 503, in _list_to_arrays\r\n    raise ValueError(e) from e\r\nValueError: 2 columns passed, passed data had 1 columns\r\n\r\nIn advance, thank you for your help on this.\r\n\r\nOlivier\r\n","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/565782088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/565860200","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-565860200","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":565860200,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTg2MDIwMA==","user":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"created_at":"2019-12-15T23:51:16Z","updated_at":"2019-12-15T23:51:16Z","author_association":"OWNER","body":"Hi Olivier,\r\n\r\nThe error message indicates that you have a value in your input series which can't be converted to the 'ds' and 'y' columns correctly. This may be a null value, or a pair where ds or y are missing.\r\n\r\nTo investigate you can break the `vROOFbyDATE` down into it's component dimension and measure and view the output in a table like I've done below. \r\n\r\n![image](https://user-images.githubusercontent.com/21298843/70871294-f10d9500-1ff1-11ea-8cad-6bc5c8f24c32.png)\r\n\r\nIf that doesn't help, I'd check if there are any null rows when using `Weekday([Prophet.Date])` dimension with `vROOFbyDATE`.","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/565860200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/565865394","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-565865394","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":565865394,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTg2NTM5NA==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T00:43:02Z","updated_at":"2019-12-16T00:43:02Z","author_association":"NONE","body":"Hi Nabeel,\n\nThanks for this.  I checked (see screenshot below) but there are no Null\nvalues (although in the data file I have \"N/A\" for the five extra dates I\nwant a forecast for).\n\n[image: image.png]\n\nI'm attaching the ,qvf file here if you can check.\n\nthanks,\n\nOlivier\n\nOn Mon, Dec 16, 2019 at 7:51 AM Nabeel <notifications@github.com> wrote:\n\n> Hi Olivier,\n>\n> The error message indicates that you have a value in your input series\n> which can't be converted to the 'ds' and 'y' columns correctly. This may be\n> a null value, or a pair where ds or y are missing.\n>\n> To investigate you can break the vROOFbyDATE down into it's component\n> dimension and measure and view the output in a table like I've done below.\n>\n> [image: image]\n> <https://user-images.githubusercontent.com/21298843/70871294-f10d9500-1ff1-11ea-8cad-6bc5c8f24c32.png>\n>\n> If that doesn't help, I'd check if there are any null rows when using\n> Weekday([Prophet.Date]) dimension with vROOFbyDATE.\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/nabeel-oz/qlik-py-tools/issues/77?email_source=notifications&email_token=AOBGIBZ6CUYL7TJ256T4PXDQY27HJA5CNFSM4JZWILH2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEG5FO2A#issuecomment-565860200>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AOBGIB4D24DBSULFUBWRJOTQY27HJANCNFSM4JZWILHQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/565865394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/565866927","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-565866927","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":565866927,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTg2NjkyNw==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T00:56:28Z","updated_at":"2019-12-16T00:56:28Z","author_association":"NONE","body":"I replaced the \"N/A\" in the data file with \"0\" for the five forecast dates,\nbut it still gives me the same error message even though the table shows no\nmore \"N/A\" so all the values are now numbers.\n\nOlivier\n\nOn Mon, Dec 16, 2019 at 7:51 AM Nabeel <notifications@github.com> wrote:\n\n> Hi Olivier,\n>\n> The error message indicates that you have a value in your input series\n> which can't be converted to the 'ds' and 'y' columns correctly. This may be\n> a null value, or a pair where ds or y are missing.\n>\n> To investigate you can break the vROOFbyDATE down into it's component\n> dimension and measure and view the output in a table like I've done below.\n>\n> [image: image]\n> <https://user-images.githubusercontent.com/21298843/70871294-f10d9500-1ff1-11ea-8cad-6bc5c8f24c32.png>\n>\n> If that doesn't help, I'd check if there are any null rows when using\n> Weekday([Prophet.Date]) dimension with vROOFbyDATE.\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/nabeel-oz/qlik-py-tools/issues/77?email_source=notifications&email_token=AOBGIBZ6CUYL7TJ256T4PXDQY27HJA5CNFSM4JZWILH2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEG5FO2A#issuecomment-565860200>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AOBGIB4D24DBSULFUBWRJOTQY27HJANCNFSM4JZWILHQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/565866927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566537174","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566537174","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566537174,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjUzNzE3NA==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T13:17:07Z","updated_at":"2019-12-17T13:17:07Z","author_association":"NONE","body":"Any updated help on this issue? Ciuld you open my app? \n\nThanks \n\nOlivier \n\n⁣Get BlueMail for Android ​\n\nOn Dec 16, 2019, 08:42, at 08:42, Olivier d'Assier <dassierolivier@gmail.com> wrote:\n>Hi Nabeel,\n>\n>Thanks for this.  I checked (see screenshot below) but there are no\n>Null\n>values (although in the data file I have \"N/A\" for the five extra dates\n>I\n>want a forecast for).\n>\n>[image: image.png]\n>\n>I'm attaching the ,qvf file here if you can check.\n>\n>thanks,\n>\n>Olivier\n>\n>On Mon, Dec 16, 2019 at 7:51 AM Nabeel <notifications@github.com>\n>wrote:\n>\n>> Hi Olivier,\n>>\n>> The error message indicates that you have a value in your input\n>series\n>> which can't be converted to the 'ds' and 'y' columns correctly. This\n>may be\n>> a null value, or a pair where ds or y are missing.\n>>\n>> To investigate you can break the vROOFbyDATE down into it's component\n>> dimension and measure and view the output in a table like I've done\n>below.\n>>\n>> [image: image]\n>>\n><https://user-images.githubusercontent.com/21298843/70871294-f10d9500-1ff1-11ea-8cad-6bc5c8f24c32.png>\n>>\n>> If that doesn't help, I'd check if there are any null rows when using\n>> Weekday([Prophet.Date]) dimension with vROOFbyDATE.\n>>\n>> —\n>> You are receiving this because you commented.\n>> Reply to this email directly, view it on GitHub\n>>\n><https://github.com/nabeel-oz/qlik-py-tools/issues/77?email_source=notifications&email_token=AOBGIBZ6CUYL7TJ256T4PXDQY27HJA5CNFSM4JZWILH2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEG5FO2A#issuecomment-565860200>,\n>> or unsubscribe\n>>\n><https://github.com/notifications/unsubscribe-auth/AOBGIB4D24DBSULFUBWRJOTQY27HJANCNFSM4JZWILHQ>\n>> .\n>>\n","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566537174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566792180","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566792180","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566792180,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Njc5MjE4MA==","user":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T23:15:19Z","updated_at":"2019-12-17T23:15:19Z","author_association":"OWNER","body":"Hi Olivier, \r\n\r\nThe app and screenshot aren't showing up in your post. You can try attaching the QVF as a ZIP file.\r\n\r\nHaving NULL values for the future dates is fine. The problem seems to be that at least one of the items in your variable can't be split into the two columns 'ds' and 'y' using the ':' separator. \r\n\r\nFor example this is incorrect as the second item can't be broken up into two columns:\r\n```\r\n41275:24; 41276; 41277:30; ...\r\n```\r\nThis is also incorrect because of the trailing semicolon:\r\n```\r\n41275:24; 41276:27; 41277:30; ...; \r\n```\r\n\r\nCheers,\r\nNabeel","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566792180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566821614","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566821614","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566821614,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjgyMTYxNA==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T01:12:09Z","updated_at":"2019-12-18T01:12:09Z","author_association":"NONE","body":"[Axioma ROOF Forecasting.zip](https://github.com/nabeel-oz/qlik-py-tools/files/3976174/Axioma.ROOF.Forecasting.zip)\r\n\r\nHere you go. the error is in the second sheet. I'm also trying to setup the multivariate test in fubsequent sheets.\r\n\r\nOlivier","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566821614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566830685","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566830685","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566830685,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjgzMDY4NQ==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T01:53:01Z","updated_at":"2019-12-18T01:53:01Z","author_association":"NONE","body":"ok, I see now that my vROOFbyDate variable only has one vector as per your message since there are no colons anywhere. Not sure what I did wrong in the expression for the variable though.\r\n(1823.2923611111;1823.3340277778;1823.3756944444;1823.4173611111;1823.4590277778;1823.5840277778;1823.6256944444;1823.6673611111;1823.7090277778;1823.7506944444;1823.8756944444;1823.9173611111;1823.9590277778;1824.0006944444;1824.0423611111;1824.1673611111;1824.2090277778;1824.2506944444;1824.2923611111;1824.3340277778;1824.4590277778;1824.5006944444;1824.5423611111;1824.5840277778;1824.6256944444;1824.6673611111;1824.7090277778;1824.7506944444;1824.7923611111;1824.8340277778;1824.9173611111;1825.0423611111;1825.0840277778;1825.1256944444;1825.1673611111;1825.2090277778;1825.3340277778;1825.3756944444;1825.4173611111;1825.4590277778;1825.5006944444\r\n--\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566830685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566832397","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566832397","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566832397,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjgzMjM5Nw==","user":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T02:00:33Z","updated_at":"2019-12-18T02:03:15Z","author_association":"OWNER","body":"Your variable is not giving the correct output:\r\n\r\n![image](https://user-images.githubusercontent.com/21298843/71048067-1f29db00-2192-11ea-8b1e-040ee7a18184.png)\r\n\r\nThe variable is meant to provide the full timeseries in the format `ds1:y1;ds2:y2;...`. The output above looks like garbage.\r\n\r\nThe problem is missing parenthesis in the measure of your `Aggr` expression in `vROOFbyDATE`. The expression below will first execute the `&` operation, the output being a Dual as is the norm in Qlik, meaning it has a text as well as a numeric representation. This will then be used in the `-` operation. In short the `-` operator doesn't take precedence as you expected.\r\n\r\n```\r\nNum([Prophet.Date]) & ':' & count([Prophet.Data field]) - Count({$<[Prophet.Data field] = {\"N/A\"}>} Distinct [Prophet.Data field])\r\n```\r\n\r\nYou need parenthesis around the subtraction of the two count operations. Updating the expression for `vROOFbyDATE` as below fixes the output:\r\n\r\n```\r\nConcat(DISTINCT TOTAL Aggr(Num([Prophet.Date]) & ':' & (Count([Prophet.Data field]) - Count({$<[Prophet.Data field] = {\"N/A\"}>} Distinct [Prophet.Data field])), [Prophet.Date]), ';')\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/21298843/71048476-7bd9c580-2193-11ea-950e-4fe1c707e753.png)","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566832397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566845193","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566845193","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566845193,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Njg0NTE5Mw==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T02:59:34Z","updated_at":"2019-12-18T02:59:34Z","author_association":"NONE","body":"You're right, it works, I understand the logic now.  Just one thing, it works when I select US-LMS_ROOF or JP-LMS_ROOF in the filter box in the first sheet but not for any of the other markets (says the selection returned no data for this chart). Not sure why.\r\n\r\nOlivier","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566845193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566845797","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566845797","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566845797,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Njg0NTc5Nw==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T03:02:44Z","updated_at":"2019-12-18T03:02:44Z","author_association":"NONE","body":"Both Japan and US have two and one day with no data in the history, so their count(data field) that is not \"N/A\" is shorter than the other markets, is that why?  how do you fix that?","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566845797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566864104","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566864104","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566864104,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Njg2NDEwNA==","user":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T04:39:25Z","updated_at":"2019-12-18T04:39:25Z","author_association":"OWNER","body":"If you look at the SSE log you should see that in certain cases you are not sending any actual values at all. Note how y values are all NaN and as a result the Input DataFrame is empty.\r\n\r\n![image](https://user-images.githubusercontent.com/21298843/71056093-134b1280-21ac-11ea-9b57-e0c31066bf63.png)\r\n\r\nI see that for some charts you don't have an aggregation function for the measure being passed to `PyTools.Prophet`. That's probably the issue.","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566864104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566882112","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566882112","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566882112,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Njg4MjExMg==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T06:05:47Z","updated_at":"2019-12-18T06:05:47Z","author_association":"NONE","body":"Let me have a look. Do you know which charts in particular?\r\n","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566882112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566930362","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566930362","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566930362,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjkzMDM2Mg==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T08:31:10Z","updated_at":"2019-12-18T08:31:10Z","author_association":"NONE","body":"Had a look and am not sure where any aggregation function should be.  The only chart that isn't working is the days of the week seasonality.\r\n\r\nthe dimension is: Weekday([Prophet.Date])\r\n\r\nThe measure is: PyTools.Prophet_Seasonality(Max(Weekday([Prophet.Date])), $(vROOFbyDATE), '', 'freq=D, return=weekly, seasonality=weekly')\r\n\r\nand the variable is what we just fixed: Concat(DISTINCT TOTAL Aggr(Num([Prophet.Date]) & ':' & (Count([Prophet.Data field]) - Count({$<[Prophet.Data field] = {\"N/A\"}>} Distinct [Prophet.Data field])), [Prophet.Date]), ';')\r\n\r\nAll I do is change the selection in the filter called \"Market\" which is based on \"Propher.Data.Attribute\".  Now I do not see that reference in the dimension or measure of the chart but since this is an unpivoted table in Qlik, the Prophet.Data.Attribute field which was created automatically when uunpivoting should represent a dimension I can filter the data on.\r\n\r\nNot sure why it sends the data for Japan (JP-LMS) and US (IS-LMS) but not the rest of the Prophet.Data Attribute fields.\r\n\r\nOlivier","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566930362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566990126","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-566990126","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":566990126,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Njk5MDEyNg==","user":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T11:17:41Z","updated_at":"2019-12-18T11:17:41Z","author_association":"OWNER","body":"I was referring to the trend and weekly seasonality charts on your first sheet. The `Prophet.Data field` is wrapped up with a `Sum` in the top line chart but not in the bottom two which causes issues without selections or when multiple values are selected. Also, if `Sum` is the correct aggregation for `Prophet.Data field`, shouldn't you be using it in your `vROOFbyDATE` expression as well instead of `Count`?\r\n\r\nI didn't test the second sheet for the selections you mention, but you should just approach this as a Qlik data modelling problem. To figure out where things are going wrong it helps to break down your expressions into smaller components, add them to a table and test the output with those selections. ","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/566990126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/567280022","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-567280022","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":567280022,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzI4MDAyMg==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T00:56:06Z","updated_at":"2019-12-19T00:56:06Z","author_association":"NONE","body":"Good catch. Fixed it, thanks. \r\nSince I can fiddle with some of the additional arguments (trend fitting, change points, etc.), is there a 'goodness-of-fit' I can call via PyTools to let me know when I've got the optimal settings for this time series? How do I know when I've got the best forecast I can get?\r\nthanks,\r\nOlivier","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/567280022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/567308825","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-567308825","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":567308825,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzMwODgyNQ==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T02:58:23Z","updated_at":"2019-12-19T02:58:23Z","author_association":"NONE","body":"Anything like \"Pytools.Prophet_MAPE\" ?","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/567308825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/568164291","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-568164291","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":568164291,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODE2NDI5MQ==","user":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"created_at":"2019-12-21T08:44:50Z","updated_at":"2019-12-21T08:44:50Z","author_association":"OWNER","body":"There is no fixed way of telling whether you've got the best forecast possible with Prophet. It's usually more a case of experimentation to find a 'good enough' model. \r\n\r\nPyTools doesn't provide evaluation metrics for Prophet, but you can calculate these in Qlik. For example add the Predicted and Actual values to a table and use the expression `Column(1) - Column(2)` to get the absolute error. ","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/568164291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/568320725","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/77#issuecomment-568320725","issue_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/77","id":568320725,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODMyMDcyNQ==","user":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false},"created_at":"2019-12-23T01:07:20Z","updated_at":"2019-12-23T01:07:20Z","author_association":"NONE","body":"Yes, that's what I did.  Thanks for letting me know there is no other way for now.  You can close this issue.\r\nHappy Holidays,\r\n\r\nOlivier","reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/comments/568320725/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Odassier","id":58876935,"node_id":"MDQ6VXNlcjU4ODc2OTM1","avatar_url":"https://avatars.githubusercontent.com/u/58876935?v=4","gravatar_id":"","url":"https://api.github.com/users/Odassier","html_url":"https://github.com/Odassier","followers_url":"https://api.github.com/users/Odassier/followers","following_url":"https://api.github.com/users/Odassier/following{/other_user}","gists_url":"https://api.github.com/users/Odassier/gists{/gist_id}","starred_url":"https://api.github.com/users/Odassier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Odassier/subscriptions","organizations_url":"https://api.github.com/users/Odassier/orgs","repos_url":"https://api.github.com/users/Odassier/repos","events_url":"https://api.github.com/users/Odassier/events{/privacy}","received_events_url":"https://api.github.com/users/Odassier/received_events","type":"User","site_admin":false}},{"id":2905622821,"node_id":"MDExOkNsb3NlZEV2ZW50MjkwNTYyMjgyMQ==","url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/events/2905622821","actor":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-12-23T20:49:43Z","state_reason":null,"performed_via_github_app":null}]