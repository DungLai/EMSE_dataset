{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/86","repository_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools","labels_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/86/comments","events_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/86/events","html_url":"https://github.com/nabeel-oz/qlik-py-tools/issues/86","id":550178706,"node_id":"MDU6SXNzdWU1NTAxNzg3MDY=","number":86,"title":"Forecasting using Python(Pytools) in QlikSense Desktop","user":{"login":"pratikchhapolika","id":11159549,"node_id":"MDQ6VXNlcjExMTU5NTQ5","avatar_url":"https://avatars.githubusercontent.com/u/11159549?v=4","gravatar_id":"","url":"https://api.github.com/users/pratikchhapolika","html_url":"https://github.com/pratikchhapolika","followers_url":"https://api.github.com/users/pratikchhapolika/followers","following_url":"https://api.github.com/users/pratikchhapolika/following{/other_user}","gists_url":"https://api.github.com/users/pratikchhapolika/gists{/gist_id}","starred_url":"https://api.github.com/users/pratikchhapolika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratikchhapolika/subscriptions","organizations_url":"https://api.github.com/users/pratikchhapolika/orgs","repos_url":"https://api.github.com/users/pratikchhapolika/repos","events_url":"https://api.github.com/users/pratikchhapolika/events{/privacy}","received_events_url":"https://api.github.com/users/pratikchhapolika/received_events","type":"User","site_admin":false},"labels":[{"id":1644668256,"node_id":"MDU6TGFiZWwxNjQ0NjY4MjU2","url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/labels/usage%20exception","name":"usage exception","color":"f9bdc7","default":false,"description":"Exception during a SSE function call from Qlik"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-01-15T13:14:49Z","updated_at":"2020-04-28T23:20:14Z","closed_at":"2020-04-28T23:20:14Z","author_association":"NONE","active_lock_reason":null,"body":"I am using QlikSense Desktop latest version and trying to run forecasting using Pytools.Prophet.\r\n\r\nBut it's not showing me the output. Here is the data and function I have used.\r\n`PyTools.Prophet([Data_col.autoCalendar.Date],Avg(Shipments),'freq=M , debug=True'). I am not getting the forecast line.`\r\n\r\nThe Qlik py tools is in C:\\Users\\user-name\\Documents\\qlik-py-tools-6.2 folder and I start the file \"Qlik-Py-Start.bat\".\r\n\r\nI start the .bat file and then open the Qliksense Desktop app which is in C:\\Users\\user-name\\Documents\\Qlik\\Sense\\Apps.\r\n\r\nIts just showing this in command prompt:\r\n\r\nWhen I run on this data with future values then Python throws an error.\r\n\r\nREQUEST DATA FRAME: (22, 2) rows x cols\r\n\r\n      ds       y\r\n  0 1986-01-01  4009.0\r\n  1 1986-02-01  4123.0\r\n  2 1986-03-01  4493.0\r\n  3 1986-04-01  4595.0\r\n  4 1986-05-01  4245.0\r\n  ...\r\n       ds   y\r\n 17 1987-06-01 NaN\r\n18 1987-07-01 NaN\r\n19 1987-08-01 NaN\r\n20 1987-09-01 NaN\r\n21 1987-10-01 NaN\r\nINPUT DATA FRAME: (17, 2) rows x cols\r\n\r\n      ds       y\r\n0 1986-01-01  4009.0\r\n1 1986-02-01  4123.0\r\n2 1986-03-01  4493.0\r\n3 1986-04-01  4595.0\r\n4 1986-05-01  4245.0\r\n... \r\n       ds               y \r\n12 1987-01-01   3000.0 \r\n13 1987-02-01   2456.0 \r\n14 1987-03-01   1234.0 \r\n15 1987-04-01   3456.0 \r\n16 1987-05-01   7878.0\r\n\r\n2020-01-15 11:59:36,511 - ERROR - Exception iterating responses: object of type cannot be safely interpreted as an integer.\r\n\r\nTraceback (most recent call last): File \"C:\\Users\\user-name\\Documents\\qlik-py-tools-6.3\\qlik-py-env\\lib\\site-packages\\numpy\\core\\function_base.py\", line 117, in linspace num = operator.index(num) TypeError: 'numpy.float64' object c annot be interpreted as an integer\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last): File \"C:\\Users\\user-name\\Documents\\qlik-py-tools-6.3\\qlik-py-env\\lib\\site-packages\\grpc_server.py\", line 453, in _take_response_from_response_iterator return next(response_iterator), True\r\n\r\nFile \"main.py\", line 342, in _prophet forecast = predictor.predict() File \"C:\\Users\\user-name\\Documents\\qlik-py-tools-6.3\\qlik-py-env\\core_prophet.py\", line 272, in predict self.model.fit(self.input_df, **self.fit_kwargs)\r\n\r\nFile \"C:\\Users\\user-name\\Documents\\qlik-py-tools-6.3\\qlik-py-env\\lib\\site-packages\\fbprophet\\forecaster.py\", line 1032, in fit self.set_changepoints()\r\n\r\nFile \"C:\\Users\\user-name\\Documents\\qlik-py-tools-6.3\\qlik-py-env\\lib\\site-packages\\fbprophet\\forecaster.py\", line 347, in set_changepoints np.linspace(0, hist_size - 1, self.n_changepoints + 1)\r\n\r\nFile \"<array_function internals>\", line 6, in linspace\r\n\r\nFile \"C:\\Users\\user-name\\Documents\\qlik-py-tools-6.3\\qlik-py-env\\lib\\site-packages\\numpy\\core\\function_base.py\", line 121, in linspace .format(type(num)))\r\n\r\nTypeError: object of type cannot be safely interpreted as an integer.","closed_by":{"login":"nabeel-oz","id":21298843,"node_id":"MDQ6VXNlcjIxMjk4ODQz","avatar_url":"https://avatars.githubusercontent.com/u/21298843?v=4","gravatar_id":"","url":"https://api.github.com/users/nabeel-oz","html_url":"https://github.com/nabeel-oz","followers_url":"https://api.github.com/users/nabeel-oz/followers","following_url":"https://api.github.com/users/nabeel-oz/following{/other_user}","gists_url":"https://api.github.com/users/nabeel-oz/gists{/gist_id}","starred_url":"https://api.github.com/users/nabeel-oz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nabeel-oz/subscriptions","organizations_url":"https://api.github.com/users/nabeel-oz/orgs","repos_url":"https://api.github.com/users/nabeel-oz/repos","events_url":"https://api.github.com/users/nabeel-oz/events{/privacy}","received_events_url":"https://api.github.com/users/nabeel-oz/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nabeel-oz/qlik-py-tools/issues/86/timeline","performed_via_github_app":null,"state_reason":"completed"}