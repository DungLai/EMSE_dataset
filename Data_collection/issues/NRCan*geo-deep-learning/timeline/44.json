[{"id":2095646508,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwOTU2NDY1MDg=","url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/events/2095646508","actor":{"login":"ymoisan","id":7468595,"node_id":"MDQ6VXNlcjc0Njg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/7468595?v=4","gravatar_id":"","url":"https://api.github.com/users/ymoisan","html_url":"https://github.com/ymoisan","followers_url":"https://api.github.com/users/ymoisan/followers","following_url":"https://api.github.com/users/ymoisan/following{/other_user}","gists_url":"https://api.github.com/users/ymoisan/gists{/gist_id}","starred_url":"https://api.github.com/users/ymoisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymoisan/subscriptions","organizations_url":"https://api.github.com/users/ymoisan/orgs","repos_url":"https://api.github.com/users/ymoisan/repos","events_url":"https://api.github.com/users/ymoisan/events{/privacy}","received_events_url":"https://api.github.com/users/ymoisan/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-01-24T21:08:55Z","label":{"name":"P2","color":"bcbddc"},"performed_via_github_app":null},{"id":2107056938,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyMTA3MDU2OTM4","url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/events/2107056938","actor":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-01-30T16:34:01Z","assignee":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/460682859","html_url":"https://github.com/NRCan/geo-deep-learning/issues/44#issuecomment-460682859","issue_url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/44","id":460682859,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDY4Mjg1OQ==","user":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"created_at":"2019-02-05T15:34:31Z","updated_at":"2019-02-25T15:11:47Z","author_association":"COLLABORATOR","body":"> Implicit numpy conversion no longer implicitly moves a tensor to CPU. Therefore, you may have to explicitly move a CUDA tensor to CPU (tensor.to('cpu')) before an implicit conversion. (#10553).\r\n[Pytorch 1.0.0 Release Notes](https://github.com/pytorch/pytorch/releases)\r\n\r\nBecause of this, in the training and classification steps, we will need to transfer our tensors to the CPU before converting them into numpy arrays using Tensor.cpu(). This will need to be done in metrics.py and in image_classification.py:\r\n\r\nmetrics.py\r\n```\r\n56    class_report = classification_report(label.cpu(), pred.cpu(), output_dict=True)\r\n78    iou = jaccard_similarity_score(target.cpu(), pred.cpu(), normalize=True)\r\n```\r\n\r\ninference.py\r\n```\r\n158   output_np[row_from:row_to, col_from:col_to, 0] = useful_classification.cpu()\r\n```","reactions":{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/460682859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/460722271","html_url":"https://github.com/NRCan/geo-deep-learning/issues/44#issuecomment-460722271","issue_url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/44","id":460722271,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDcyMjI3MQ==","user":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"created_at":"2019-02-05T17:13:08Z","updated_at":"2019-02-05T17:13:08Z","author_association":"COLLABORATOR","body":"If we upgrade to Python 3.7, other packages will need to be updated in our environment:\r\n\r\n- **gdal**: version 2.2.2 doesn't support Python 3.7. We could upgrade to the most recent version 2.4.0. I did some quick tests with Python 3.7 and gdal 2.4.0 and didn't have any issues. Further validations will have to be done.\r\n- **h5py**: the 2.8.0 version build that we currently are using py36h39dcb92_0 isn't compatible with Python 3.7. We could update to a more recent build or to the 2.9.0 version which supports Python 3.7. The updates between versions shouldn't affect us.","reactions":{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/460722271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/461422936","html_url":"https://github.com/NRCan/geo-deep-learning/issues/44#issuecomment-461422936","issue_url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/44","id":461422936,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTQyMjkzNg==","user":{"login":"ymoisan","id":7468595,"node_id":"MDQ6VXNlcjc0Njg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/7468595?v=4","gravatar_id":"","url":"https://api.github.com/users/ymoisan","html_url":"https://github.com/ymoisan","followers_url":"https://api.github.com/users/ymoisan/followers","following_url":"https://api.github.com/users/ymoisan/following{/other_user}","gists_url":"https://api.github.com/users/ymoisan/gists{/gist_id}","starred_url":"https://api.github.com/users/ymoisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymoisan/subscriptions","organizations_url":"https://api.github.com/users/ymoisan/orgs","repos_url":"https://api.github.com/users/ymoisan/repos","events_url":"https://api.github.com/users/ymoisan/events{/privacy}","received_events_url":"https://api.github.com/users/ymoisan/received_events","type":"User","site_admin":false},"created_at":"2019-02-07T13:41:20Z","updated_at":"2019-02-07T13:41:20Z","author_association":"CONTRIBUTOR","body":"# TL;DR \r\nI think we all agree migrating to PyTorch 1.0 is a must.  Migrating to Python 3.7, however, is not a must but we should do it.\r\n\r\n# Details\r\nMy base rationale for migrating to 3.7 is that:\r\n1. 3.6 is already [3.5 yrs old](https://www.python.org/dev/peps/pep-0494/#release-schedule), with the lastest release being 3.6.8 in Dec. 2018 and 3.6.9 announced as [\"Security fixes only\"](https://www.python.org/dev/peps/pep-0494/#and-beyond-schedule); \"3.6 will receive bugfix updates approximately every 3 months for approximately 24 months. After the release of 3.7.0 final, two more 3.6 bugfix updates will be released. After that, it is expected that security updates (source only) will be released until 5 years after the release of 3.6 final, so until approximately December 2021.\"  So in a nutshell, 3.6 is now in bugfix mode\r\n1.  3.7 has been developed for [close to 2.5 yrs](https://www.python.org/dev/peps/pep-0537/#release-schedule) and is already at point release 3.7.2 with 3.7.3 expected end March 2019.  As for 3.6, 3.7's life cycle is tied to the next major release : \"3.7 will receive bugfix updates approximately every 1-3 months for approximately 18 months. After the release of 3.8.0 final ...\"  3.8.0 is expected to be released end Oct. 2019 \r\n\r\n# What's new and better\r\nThe [\"What's new\"](https://docs.python.org/3.7/whatsnew/3.7.html) page list bugfixes and enhancements with respect to 3.6.  I guess [easier debugging](https://docs.python.org/3.7/whatsnew/3.7.html#whatsnew37-pep553) might be interesting for us.  Other potentially interesting modficications for us include:\r\n- [argparse](https://docs.python.org/3.7/whatsnew/3.7.html#argparse)\r\n- [itertools](https://docs.python.org/3.7/whatsnew/3.7.html#itertools)\r\n- [sqlite3](https://docs.python.org/3.7/whatsnew/3.7.html#sqlite3) : useful for opening GeoPackage files ?\r\n- [\"Various optimizations have\"](https://docs.python.org/3.7/whatsnew/3.7.html#optimizations) : reduced Python startup time by 10% on Linux ... Method calls are now up to 20% faster ... sorted() and list.sort() have been optimized for common cases to be up to 40-75% faster ... dict.copy() is now up to 5.5 times faster ... the creation of named tuples 4 to 6 times faster. ... os.fwalk() function is now up to 2 times faster ... The speed of comparison of array.array instances has been improved considerably in certain cases. It is now from 10x to 70x faster ... \r\n\r\nIt does not look like there are huge [departures from 3.6](https://docs.python.org/3.7/whatsnew/3.7.html#porting-to-python-3-7) that may affect us.\r\n\r\nAs far as dependent libraries are concerned, here is a table of the main \"non standard\" `import`ed modules in both our current Python 3.6 (PyTorch 0.4.1) environment and a Python 3.7 environment with their supported versions as available from `conda install`.  Newer versions are in **bold**.\r\n\r\n> Note: all standard modules, like `os`,  `subprocess`, `argparse`, `fnmatch`, etc. obviously inherently supported Python 3.7\r\n\r\n\r\n| module       | 3.6 env       | 3.7 env           |\r\n|--------------|---------------|-------------------|\r\n| pytorch      | 0.4.1         | **1.0.0**         |\r\n|              | cuda 9.0.176  | cuda 9.0.176      |\r\n|              | cudnn 7.1.2_2 | **cudnn 7.4.1_1** |\r\n| [lib]gdal    | 2.2.4         | **2.4.0**         |\r\n| geos         | 3.6.2         | **3.7.1**         |\r\n| h5py         | 2.8.0         | **2.9.0**         |\r\n| hdf5         | 1.8.18        | **1.10.4**        |\r\n| libtiff      | 4.0.9         | **4.0.10**        |\r\n| numpy        | 1.15.4        | 1.15.4            |\r\n| proj4        | 5.0.1         | **5.2.0**         |\r\n| ruamel_yaml  | 0.15.46       | 0.15.46           |\r\n| scikit-image | 0.14.1        | 0.14.1            |\r\n| scikit-learn | 0.20.2        | 0.20.2            |\r\n| scipy        | 1.1.0         | **1.2.0**         |\r\n| torchvision  | 0.2.1         | 0.2.1             |\r\n\r\n\r\n# Potential issues for us\r\n\r\nNew library versions **in bold** above *may* introduce issues in the code.  Starting from the top:\r\n\r\n- pytorch: whatever the issues we migrate\r\n- gdal: [GDAL releases](https://github.com/OSGeo/gdal/releases) show that 2.2.4 was released on March 22, 2018.  2.3.0 was released in May and 2.4.0 in Dec 2018.  There does not seem to be severe backward incompatibilities that we should be worried about;  most drivers were improved, including the two most important ones for us: GTiff and GPKG\r\n> We should check potential libraries we are likely to import later that depend on GDAL, e.g. rasterio, are OK\r\n- geos: this module is not imported directly in geo-deep-learning; no expected issues\r\n- h5py: looks like there are [a few interesting enhancements](http://docs.h5py.org/en/stable/whatsnew/2.9.html) we could use for us, especially given ticket #51.\r\n- hdf5: Since 2.8, h5py is [built against HDF5 1.10.x](http://docs.h5py.org/en/stable/whatsnew/2.8.html?highlight=1.10#wheels-hdf5-version); however in our current environment we only have HDF5 1.8.18; there should be goodies in HDF5 1.10.4\r\n**One such functionality : [SWMR](https://support.hdfgroup.org/HDF5/docNewFeatures/)**: \"Data acquisition and computer modeling systems often need to analyze and visualize data while it is being written. It is not unusual, for example, for an application to produce results in the middle of a run that suggest some basic parameters be changed, sensors be adjusted, or the run be scrapped entirely. To enable users to check on such systems, we have been developing a concurrent read/write file access pattern we call SWMR (pronounced swimmer). SWMR is short for single-writer/multiple-reader. SWMR functionality allows a writer process to add data to a file while multiple reader processes read from the file.\"  Maybe quite important in the context of #55.\r\n**Another is Virtual Datasets (VDS)**\r\n- libtiff: no surprises expected here except [better performances](http://www.simplesystems.org/libtiff/v4.0.10.html)\r\n- proj4: 5.2.0 was released in [Sep.2018](https://proj4.org/news.html); 5.0.1 was released in March 2018, but is only in bugfix mode.  We should definitely go to 5.2.0\r\n- scipy: 1.2.0 [released Dec 2018](https://github.com/scipy/scipy/releases); we use scipy.stats for which there have been improvements in 1.2.0 since scipy 1.1.0 (May 2018)","reactions":{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/461422936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ymoisan","id":7468595,"node_id":"MDQ6VXNlcjc0Njg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/7468595?v=4","gravatar_id":"","url":"https://api.github.com/users/ymoisan","html_url":"https://github.com/ymoisan","followers_url":"https://api.github.com/users/ymoisan/followers","following_url":"https://api.github.com/users/ymoisan/following{/other_user}","gists_url":"https://api.github.com/users/ymoisan/gists{/gist_id}","starred_url":"https://api.github.com/users/ymoisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymoisan/subscriptions","organizations_url":"https://api.github.com/users/ymoisan/orgs","repos_url":"https://api.github.com/users/ymoisan/repos","events_url":"https://api.github.com/users/ymoisan/events{/privacy}","received_events_url":"https://api.github.com/users/ymoisan/received_events","type":"User","site_admin":false}},{"id":2127940698,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjEyNzk0MDY5OA==","url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/events/2127940698","actor":{"login":"ymoisan","id":7468595,"node_id":"MDQ6VXNlcjc0Njg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/7468595?v=4","gravatar_id":"","url":"https://api.github.com/users/ymoisan","html_url":"https://github.com/ymoisan","followers_url":"https://api.github.com/users/ymoisan/followers","following_url":"https://api.github.com/users/ymoisan/following{/other_user}","gists_url":"https://api.github.com/users/ymoisan/gists{/gist_id}","starred_url":"https://api.github.com/users/ymoisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymoisan/subscriptions","organizations_url":"https://api.github.com/users/ymoisan/orgs","repos_url":"https://api.github.com/users/ymoisan/repos","events_url":"https://api.github.com/users/ymoisan/events{/privacy}","received_events_url":"https://api.github.com/users/ymoisan/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-02-08T19:22:33Z","rename":{"from":"Update software stack","to":"Update software stack -- and start geo-deep-learning release numbering"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/462374538","html_url":"https://github.com/NRCan/geo-deep-learning/issues/44#issuecomment-462374538","issue_url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/44","id":462374538,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjM3NDUzOA==","user":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"created_at":"2019-02-11T15:41:42Z","updated_at":"2019-02-11T15:41:42Z","author_association":"COLLABORATOR","body":"As long as we install rasterio through the conda-forge channel, there don't appear to be any issues with dependencies. \r\n\r\nWe can use the tests_python3_7 environment in order to test how the stack update affects our deep-learning program. So far I haven't found any issues or modifications that we need to make other than explicitly moving tensors to the CPU before converting to numpy as mentioned above.","reactions":{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/462374538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/462781518","html_url":"https://github.com/NRCan/geo-deep-learning/issues/44#issuecomment-462781518","issue_url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/44","id":462781518,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mjc4MTUxOA==","user":{"login":"mpelchat04","id":38693210,"node_id":"MDQ6VXNlcjM4NjkzMjEw","avatar_url":"https://avatars.githubusercontent.com/u/38693210?v=4","gravatar_id":"","url":"https://api.github.com/users/mpelchat04","html_url":"https://github.com/mpelchat04","followers_url":"https://api.github.com/users/mpelchat04/followers","following_url":"https://api.github.com/users/mpelchat04/following{/other_user}","gists_url":"https://api.github.com/users/mpelchat04/gists{/gist_id}","starred_url":"https://api.github.com/users/mpelchat04/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpelchat04/subscriptions","organizations_url":"https://api.github.com/users/mpelchat04/orgs","repos_url":"https://api.github.com/users/mpelchat04/repos","events_url":"https://api.github.com/users/mpelchat04/events{/privacy}","received_events_url":"https://api.github.com/users/mpelchat04/received_events","type":"User","site_admin":false},"created_at":"2019-02-12T14:32:24Z","updated_at":"2019-02-12T14:32:24Z","author_association":"COLLABORATOR","body":"@epeterson12  - Concerning the \"moving tensors to the CPU before converting to numpy\"; Would it be possible to use built-in functions of PyTorch to calculate our metrics (e.g. replicate the classification_report functions, using PyTorch functions)? \r\n1- Are those functions available in PyTorch 1.0?\r\n2- Would it be wise to implement them, if not?  ","reactions":{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/462781518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mpelchat04","id":38693210,"node_id":"MDQ6VXNlcjM4NjkzMjEw","avatar_url":"https://avatars.githubusercontent.com/u/38693210?v=4","gravatar_id":"","url":"https://api.github.com/users/mpelchat04","html_url":"https://github.com/mpelchat04","followers_url":"https://api.github.com/users/mpelchat04/followers","following_url":"https://api.github.com/users/mpelchat04/following{/other_user}","gists_url":"https://api.github.com/users/mpelchat04/gists{/gist_id}","starred_url":"https://api.github.com/users/mpelchat04/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpelchat04/subscriptions","organizations_url":"https://api.github.com/users/mpelchat04/orgs","repos_url":"https://api.github.com/users/mpelchat04/repos","events_url":"https://api.github.com/users/mpelchat04/events{/privacy}","received_events_url":"https://api.github.com/users/mpelchat04/received_events","type":"User","site_admin":false}},{"id":2133870744,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjEzMzg3MDc0NA==","url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/events/2133870744","actor":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-02-12T14:32:24Z","performed_via_github_app":null},{"id":2133870745,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxMzM4NzA3NDU=","url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/events/2133870745","actor":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-02-12T14:32:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/464843348","html_url":"https://github.com/NRCan/geo-deep-learning/issues/44#issuecomment-464843348","issue_url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/44","id":464843348,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDg0MzM0OA==","user":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"created_at":"2019-02-18T18:57:04Z","updated_at":"2019-02-18T18:57:04Z","author_association":"COLLABORATOR","body":"In metrics.py, I don't see an alternative to transferring tensors over to the cpu manually since the operations where we directly convert cuda tensors to numpy arrays are sklearn functions and [sklearn doesn't support GPU operations](https://scikit-learn.org/stable/faq.html#why-is-there-no-support-for-deep-or-reinforcement-learning-will-there-be-support-for-deep-or-reinforcement-learning-in-scikit-learn). Unlike other deep learning packages like TensorFlow, Pytorch doesn't have an alternative for training metrics.\r\n\r\nSince the behavior in releases prior to 1.0.0 was to transfer tensors to the cpu implicitly before converting them to numpy arrays, converting them explicitly shouldn't affect the efficiency of our program. \r\nI don't think we would gain much by implementing them. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/464843348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false}},{"id":2161708341,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDIxNjE3MDgzNDE=","url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/events/2161708341","actor":{"login":"ymoisan","id":7468595,"node_id":"MDQ6VXNlcjc0Njg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/7468595?v=4","gravatar_id":"","url":"https://api.github.com/users/ymoisan","html_url":"https://github.com/ymoisan","followers_url":"https://api.github.com/users/ymoisan/followers","following_url":"https://api.github.com/users/ymoisan/following{/other_user}","gists_url":"https://api.github.com/users/ymoisan/gists{/gist_id}","starred_url":"https://api.github.com/users/ymoisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymoisan/subscriptions","organizations_url":"https://api.github.com/users/ymoisan/orgs","repos_url":"https://api.github.com/users/ymoisan/repos","events_url":"https://api.github.com/users/ymoisan/events{/privacy}","received_events_url":"https://api.github.com/users/ymoisan/received_events","type":"User","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-02-25T13:22:32Z","milestone":{"title":"1.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/469325966","html_url":"https://github.com/NRCan/geo-deep-learning/issues/44#issuecomment-469325966","issue_url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/44","id":469325966,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTMyNTk2Ng==","user":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false},"created_at":"2019-03-04T16:49:01Z","updated_at":"2019-03-04T18:34:19Z","author_association":"COLLABORATOR","body":"I am running into problems with undefined symbols when trying to use caffe2 for training models and for inference. There seem to be some dependency issues when using gdal and onnx (the intermediate step between pytorch models and caffe2 models). Once I installed the onnx package, I started getting this error while trying to import gdal:\r\n``` \r\nImportError: [...] python3.7/site-packages/osgeo/../../../libgdal.so.20: undefined symbol: _ZNK6libdap5Error17get_error_messageB5cxx11Ev \r\n``` \r\nOnce the cause and/or workaround is identified, I will update this comment with the fix.\r\n\r\n### Update\r\n\r\n\r\nReverting the packages to their version before installing onnx seems to have solved the problem. The packages are:\r\n\r\n- openssl=1.0.2\r\n-  libdap4=3.19.1=hd48c02d_1000\r\n- conda install expat=2.2.5","reactions":{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/469325966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epeterson12","id":43219583,"node_id":"MDQ6VXNlcjQzMjE5NTgz","avatar_url":"https://avatars.githubusercontent.com/u/43219583?v=4","gravatar_id":"","url":"https://api.github.com/users/epeterson12","html_url":"https://github.com/epeterson12","followers_url":"https://api.github.com/users/epeterson12/followers","following_url":"https://api.github.com/users/epeterson12/following{/other_user}","gists_url":"https://api.github.com/users/epeterson12/gists{/gist_id}","starred_url":"https://api.github.com/users/epeterson12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epeterson12/subscriptions","organizations_url":"https://api.github.com/users/epeterson12/orgs","repos_url":"https://api.github.com/users/epeterson12/repos","events_url":"https://api.github.com/users/epeterson12/events{/privacy}","received_events_url":"https://api.github.com/users/epeterson12/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/477331894","html_url":"https://github.com/NRCan/geo-deep-learning/issues/44#issuecomment-477331894","issue_url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/44","id":477331894,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzMzMTg5NA==","user":{"login":"ymoisan","id":7468595,"node_id":"MDQ6VXNlcjc0Njg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/7468595?v=4","gravatar_id":"","url":"https://api.github.com/users/ymoisan","html_url":"https://github.com/ymoisan","followers_url":"https://api.github.com/users/ymoisan/followers","following_url":"https://api.github.com/users/ymoisan/following{/other_user}","gists_url":"https://api.github.com/users/ymoisan/gists{/gist_id}","starred_url":"https://api.github.com/users/ymoisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymoisan/subscriptions","organizations_url":"https://api.github.com/users/ymoisan/orgs","repos_url":"https://api.github.com/users/ymoisan/repos","events_url":"https://api.github.com/users/ymoisan/events{/privacy}","received_events_url":"https://api.github.com/users/ymoisan/received_events","type":"User","site_admin":false},"created_at":"2019-03-27T20:20:48Z","updated_at":"2019-03-27T20:20:48Z","author_association":"CONTRIBUTOR","body":"Done with v1.0","reactions":{"url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/comments/477331894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ymoisan","id":7468595,"node_id":"MDQ6VXNlcjc0Njg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/7468595?v=4","gravatar_id":"","url":"https://api.github.com/users/ymoisan","html_url":"https://github.com/ymoisan","followers_url":"https://api.github.com/users/ymoisan/followers","following_url":"https://api.github.com/users/ymoisan/following{/other_user}","gists_url":"https://api.github.com/users/ymoisan/gists{/gist_id}","starred_url":"https://api.github.com/users/ymoisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymoisan/subscriptions","organizations_url":"https://api.github.com/users/ymoisan/orgs","repos_url":"https://api.github.com/users/ymoisan/repos","events_url":"https://api.github.com/users/ymoisan/events{/privacy}","received_events_url":"https://api.github.com/users/ymoisan/received_events","type":"User","site_admin":false}},{"id":2234390935,"node_id":"MDExOkNsb3NlZEV2ZW50MjIzNDM5MDkzNQ==","url":"https://api.github.com/repos/NRCan/geo-deep-learning/issues/events/2234390935","actor":{"login":"ymoisan","id":7468595,"node_id":"MDQ6VXNlcjc0Njg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/7468595?v=4","gravatar_id":"","url":"https://api.github.com/users/ymoisan","html_url":"https://github.com/ymoisan","followers_url":"https://api.github.com/users/ymoisan/followers","following_url":"https://api.github.com/users/ymoisan/following{/other_user}","gists_url":"https://api.github.com/users/ymoisan/gists{/gist_id}","starred_url":"https://api.github.com/users/ymoisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymoisan/subscriptions","organizations_url":"https://api.github.com/users/ymoisan/orgs","repos_url":"https://api.github.com/users/ymoisan/repos","events_url":"https://api.github.com/users/ymoisan/events{/privacy}","received_events_url":"https://api.github.com/users/ymoisan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-27T20:20:48Z","state_reason":null,"performed_via_github_app":null}]