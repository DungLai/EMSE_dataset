[{"id":3414687484,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQxNDY4NzQ4NA==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/3414687484","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-06T12:40:20Z","performed_via_github_app":null},{"id":3414687487,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MTQ2ODc0ODc=","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/3414687487","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-06T12:40:20Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640055737","html_url":"https://github.com/anicolson/DeepXi/issues/40#issuecomment-640055737","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/40","id":640055737,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDA1NTczNw==","user":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"created_at":"2020-06-06T12:47:26Z","updated_at":"2020-06-06T12:47:26Z","author_association":"OWNER","body":"Hi,\n\nHow big are the files in your test set? If they are big, try reducing the mbatch_size in run.sh.\n\nrun.sh GPU=0,1\n\nWill give you access to your first 2 GPUs.\n\nAlternatively, you can run inference on CPU by using\n\nrun.sh GPU=999\n\nIn run.sh,  —test_epoch specifies the epoch to test/infer from.\n\nFeel free to ask for more help,\nAaron.\n\n\nGet Outlook for iOS<https://aka.ms/o0ukef>\n________________________________\nFrom: Archiki Prasad <notifications@github.com>\nSent: Saturday, June 6, 2020 10:40:32 PM\nTo: anicolson/DeepXi <DeepXi@noreply.github.com>\nCc: Aaron Nicolson <aaron.nicolson@griffithuni.edu.au>; Mention <mention@noreply.github.com>\nSubject: [anicolson/DeepXi] Running Inference/Testing on Multiple GPUs (#40)\n\n\nHi @anicolson<https://github.com/anicolson>!\nI have trained a model on my custom noise dataset and have been trying to run inference and testing. When testing I observe that after loading the files for inference, I encounter OOM error. Although I was able to train with 1 GPU, with memory about ~10GB, testing requires more space. (Is this expected behavior?) I have access to multiple GPUs, so can you tell me if and how can I use multiple GPUs for the purpose of testing. This is not immediately straightforward from run.sh. Also, can you elaborate on how by just specifying the version does your code select the best iteration?\nThanks in advance!\n\n—\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub<https://github.com/anicolson/DeepXi/issues/40>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AGHGZ7QR34IJTDLAMBTUKOLRVI2MBANCNFSM4NV6P6ZA>.\n","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640055737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false}},{"id":3414696109,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQxNDY5NjEwOQ==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/3414696109","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-06T12:47:26Z","performed_via_github_app":null},{"id":3414696110,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MTQ2OTYxMTA=","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/3414696110","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-06T12:47:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640058165","html_url":"https://github.com/anicolson/DeepXi/issues/40#issuecomment-640058165","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/40","id":640058165,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDA1ODE2NQ==","user":{"login":"archiki","id":34877432,"node_id":"MDQ6VXNlcjM0ODc3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/34877432?v=4","gravatar_id":"","url":"https://api.github.com/users/archiki","html_url":"https://github.com/archiki","followers_url":"https://api.github.com/users/archiki/followers","following_url":"https://api.github.com/users/archiki/following{/other_user}","gists_url":"https://api.github.com/users/archiki/gists{/gist_id}","starred_url":"https://api.github.com/users/archiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archiki/subscriptions","organizations_url":"https://api.github.com/users/archiki/orgs","repos_url":"https://api.github.com/users/archiki/repos","events_url":"https://api.github.com/users/archiki/events{/privacy}","received_events_url":"https://api.github.com/users/archiki/received_events","type":"User","site_admin":false},"created_at":"2020-06-06T13:04:42Z","updated_at":"2020-06-06T13:05:10Z","author_association":"NONE","body":"They are librispeech test clean files. This is the error\r\n`tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[2620,2185,257] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc [Op:ConcatV2] name: concat\r\n`\r\nCan you confirm if I have understood the error correctly? I am actually using GPUs 2 and 3.\r\nThanks","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640058165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"archiki","id":34877432,"node_id":"MDQ6VXNlcjM0ODc3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/34877432?v=4","gravatar_id":"","url":"https://api.github.com/users/archiki","html_url":"https://github.com/archiki","followers_url":"https://api.github.com/users/archiki/followers","following_url":"https://api.github.com/users/archiki/following{/other_user}","gists_url":"https://api.github.com/users/archiki/gists{/gist_id}","starred_url":"https://api.github.com/users/archiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archiki/subscriptions","organizations_url":"https://api.github.com/users/archiki/orgs","repos_url":"https://api.github.com/users/archiki/repos","events_url":"https://api.github.com/users/archiki/events{/privacy}","received_events_url":"https://api.github.com/users/archiki/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640059593","html_url":"https://github.com/anicolson/DeepXi/issues/40#issuecomment-640059593","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/40","id":640059593,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDA1OTU5Mw==","user":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"created_at":"2020-06-06T13:15:07Z","updated_at":"2020-06-06T13:15:07Z","author_association":"OWNER","body":"Use GPU=2,3 instead. Are you able to tell me which line of deepxi/model.py the problem occurs?\n\nGet Outlook for iOS<https://aka.ms/o0ukef>\n________________________________\nFrom: Archiki Prasad <notifications@github.com>\nSent: Saturday, June 6, 2020 11:04:53 PM\nTo: anicolson/DeepXi <DeepXi@noreply.github.com>\nCc: Aaron Nicolson <aaron.nicolson@griffithuni.edu.au>; Mention <mention@noreply.github.com>\nSubject: Re: [anicolson/DeepXi] Running Inference/Testing on Multiple GPUs (#40)\n\n\nThey are librispeech test clean files. This is the error\n\nCan you confirm if I have understood the error correctly? I am actually using GPUs 2 and 3.\nThanks\n\n—\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub<https://github.com/anicolson/DeepXi/issues/40#issuecomment-640058165>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AGHGZ7WJGUUM6WMVH6DWDMDRVI5HLANCNFSM4NV6P6ZA>.\n","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640059593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640061386","html_url":"https://github.com/anicolson/DeepXi/issues/40#issuecomment-640061386","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/40","id":640061386,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDA2MTM4Ng==","user":{"login":"archiki","id":34877432,"node_id":"MDQ6VXNlcjM0ODc3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/34877432?v=4","gravatar_id":"","url":"https://api.github.com/users/archiki","html_url":"https://github.com/archiki","followers_url":"https://api.github.com/users/archiki/followers","following_url":"https://api.github.com/users/archiki/following{/other_user}","gists_url":"https://api.github.com/users/archiki/gists{/gist_id}","starred_url":"https://api.github.com/users/archiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archiki/subscriptions","organizations_url":"https://api.github.com/users/archiki/orgs","repos_url":"https://api.github.com/users/archiki/repos","events_url":"https://api.github.com/users/archiki/events{/privacy}","received_events_url":"https://api.github.com/users/archiki/received_events","type":"User","site_admin":false},"created_at":"2020-06-06T13:29:17Z","updated_at":"2020-06-06T15:13:29Z","author_association":"NONE","body":"Hi,\r\nI have used the GPU command correctly. The line 344, `xi_bar_hat_batch = self.model.predict(x_STMS_batch, batch_size=1, verbose=1)` is causing the error. I dont think the `device:GPU:0` in the error looks right. As of now, my GPU:0 is occupied with some other task. I have changed mbatch_size to 1, yet the error persists. The training however happened on GPU:0.\r\n\r\nThese are all the relevant prints:\r\n`Processing observations...\r\n100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2620/2620 [00:18<00:00, 140.89it/s]`\r\n`Performing inference...\r\n2620/2620 [==============================] - 87s 33ms/step`\r\n`Traceback (most recent call last):\r\n  File \"main.py\", line 115, in <module>\r\n    stats_path=args.data_path,\r\n  File \"/home/archiki/DeepXi/deepxi/model.py\", line 344, in test\r\n    xi_bar_hat_batch = self.model.predict(x_STMS_batch, batch_size=1, verbose=1)\r\n`","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640061386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"archiki","id":34877432,"node_id":"MDQ6VXNlcjM0ODc3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/34877432?v=4","gravatar_id":"","url":"https://api.github.com/users/archiki","html_url":"https://github.com/archiki","followers_url":"https://api.github.com/users/archiki/followers","following_url":"https://api.github.com/users/archiki/following{/other_user}","gists_url":"https://api.github.com/users/archiki/gists{/gist_id}","starred_url":"https://api.github.com/users/archiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archiki/subscriptions","organizations_url":"https://api.github.com/users/archiki/orgs","repos_url":"https://api.github.com/users/archiki/repos","events_url":"https://api.github.com/users/archiki/events{/privacy}","received_events_url":"https://api.github.com/users/archiki/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640140431","html_url":"https://github.com/anicolson/DeepXi/issues/40#issuecomment-640140431","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/40","id":640140431,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDE0MDQzMQ==","user":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"created_at":"2020-06-07T01:06:16Z","updated_at":"2020-06-07T01:06:16Z","author_association":"OWNER","body":"Ok.\r\n\r\nSo I wanted to see if I could find the problem.\r\n\r\ntest-clean of librispeech can be loaded by including the following in run.sh\r\n\r\n````\r\nset -o noglob\r\n\r\nTEST_X_PATH=/home/aaron/set/librispeech/LibriSpeech/test-clean/*/*\r\n\r\nTEST_S_PATH=/home/aaron/set/librispeech/LibriSpeech/test-clean/*/*\r\n````\r\n\r\nAnd by running:\r\n```\r\n./run.sh VER=\"resnet-1.0c\" TEST=1 \r\n```\r\n7GB is used:\r\n\r\n![image](https://user-images.githubusercontent.com/26111230/83956234-0972b400-a89f-11ea-81c8-32230b5f26f7.png)\r\n\r\n\r\nYou must change from line 364 in deepxi/model.py from\r\n```\r\nnoise_source = test_x_base_names[i].split(\"_\")[-2]\r\nsnr_level = int(test_x_base_names[i].split(\"_\")[-1][:-2])\r\n```\r\nto \r\n\r\n```\r\ntry: noise_src = test_x_base_names[i].split(\"_\")[-2]\r\nexcept IndexError: noise_src = \"Null\"\r\nif noise_src == \"Null\": snr_level = 0\r\nelse: snr_level = int(test_x_base_names[i].split(\"_\")[-1][:-2])\r\n```\r\nAnd then it works.\r\n\r\nRunning \r\n\r\n./run.sh VER=\"resnet-1.0c\" TEST=1 GPU=2,3\r\n\r\nwill use GPUs 2 and 3. As can be seen from:\r\n\r\n```\r\ndef gpu_config(gpu_selection, log_device_placement=False):\r\n\t\"\"\"\r\n\tSelects GPU.\r\n\tArgument/s:\r\n\t\tgpu_selection - GPU to use.\r\n\t\tlog_device_placement - log the device that each node is placed on.\r\n\t\"\"\"\r\n\tos.environ[\"CUDA_DEVICE_ORDER\"]=\"PCI_BUS_ID\"\r\n\tos.environ[\"CUDA_VISIBLE_DEVICES\"]=str(gpu_selection)\r\n\tgpus = tf.config.experimental.list_physical_devices('GPU')\r\n\tfor gpu in gpus: tf.config.experimental.set_memory_growth(gpu, True)\r\n```\r\n\r\nwe are only allowing the program to use GPUs 2 and 3, which the program sees as GPU0 and GPU1. I suggest monitoring your GPU usage using `nvidia-smi`.\r\n\r\nHope this helps,\r\nAaron.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640140431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640167539","html_url":"https://github.com/anicolson/DeepXi/issues/40#issuecomment-640167539","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/40","id":640167539,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDE2NzUzOQ==","user":{"login":"archiki","id":34877432,"node_id":"MDQ6VXNlcjM0ODc3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/34877432?v=4","gravatar_id":"","url":"https://api.github.com/users/archiki","html_url":"https://github.com/archiki","followers_url":"https://api.github.com/users/archiki/followers","following_url":"https://api.github.com/users/archiki/following{/other_user}","gists_url":"https://api.github.com/users/archiki/gists{/gist_id}","starred_url":"https://api.github.com/users/archiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archiki/subscriptions","organizations_url":"https://api.github.com/users/archiki/orgs","repos_url":"https://api.github.com/users/archiki/repos","events_url":"https://api.github.com/users/archiki/events{/privacy}","received_events_url":"https://api.github.com/users/archiki/received_events","type":"User","site_admin":false},"created_at":"2020-06-07T06:55:36Z","updated_at":"2020-06-07T06:55:36Z","author_association":"NONE","body":"Hi,\r\nThanks for the information. I think the multiple GPU setup does not work very well. In that case, you should consider inferring/testing in multiple batches instead of 1.  That should resolve this. I have one other thing to ask. I noticed that the result metrics were very poor for the model trained on my noise dataset. I found most of the y's to be filled with 0s only. The pesq is even returning nans. Surprisingly, my validation loss was also much smaller than my training loss (about 1/40 th). Do you have an explanation for this and some way of fixing this?\r\nAlso, can you point me to the implementation of the function that adds noise? I wanted to see if and how our methods of adding noise differ.\r\nThanks, ","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640167539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"archiki","id":34877432,"node_id":"MDQ6VXNlcjM0ODc3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/34877432?v=4","gravatar_id":"","url":"https://api.github.com/users/archiki","html_url":"https://github.com/archiki","followers_url":"https://api.github.com/users/archiki/followers","following_url":"https://api.github.com/users/archiki/following{/other_user}","gists_url":"https://api.github.com/users/archiki/gists{/gist_id}","starred_url":"https://api.github.com/users/archiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archiki/subscriptions","organizations_url":"https://api.github.com/users/archiki/orgs","repos_url":"https://api.github.com/users/archiki/repos","events_url":"https://api.github.com/users/archiki/events{/privacy}","received_events_url":"https://api.github.com/users/archiki/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640170087","html_url":"https://github.com/anicolson/DeepXi/issues/40#issuecomment-640170087","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/40","id":640170087,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDE3MDA4Nw==","user":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"created_at":"2020-06-07T07:23:21Z","updated_at":"2020-06-07T07:23:21Z","author_association":"OWNER","body":"The `add_noise` function:\r\n\r\nhttps://github.com/anicolson/DeepXi/blob/858e96453dd1fe18d9672025bf388995c9da6896/deepxi/sig.py#L216\r\n\r\nIt may be easier for me to pinpoint the issue if you list any changes you have made, and describe the training, testing, and validation sets clearly.\r\n\r\nRegards,\r\nAaron","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/640170087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false}},{"id":3426246648,"node_id":"MDExOkNsb3NlZEV2ZW50MzQyNjI0NjY0OA==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/3426246648","actor":{"login":"archiki","id":34877432,"node_id":"MDQ6VXNlcjM0ODc3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/34877432?v=4","gravatar_id":"","url":"https://api.github.com/users/archiki","html_url":"https://github.com/archiki","followers_url":"https://api.github.com/users/archiki/followers","following_url":"https://api.github.com/users/archiki/following{/other_user}","gists_url":"https://api.github.com/users/archiki/gists{/gist_id}","starred_url":"https://api.github.com/users/archiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archiki/subscriptions","organizations_url":"https://api.github.com/users/archiki/orgs","repos_url":"https://api.github.com/users/archiki/repos","events_url":"https://api.github.com/users/archiki/events{/privacy}","received_events_url":"https://api.github.com/users/archiki/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-06-09T18:16:10Z","state_reason":null,"performed_via_github_app":null}]