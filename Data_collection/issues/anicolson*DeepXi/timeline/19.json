[{"id":2994635990,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjk5NDYzNTk5MA==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/2994635990","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-30T19:33:50Z","performed_via_github_app":null},{"id":2994635993,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5OTQ2MzU5OTM=","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/2994635993","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-30T19:33:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/580487102","html_url":"https://github.com/anicolson/DeepXi/issues/19#issuecomment-580487102","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/19","id":580487102,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDQ4NzEwMg==","user":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"created_at":"2020-01-30T22:15:05Z","updated_at":"2020-01-30T22:15:05Z","author_association":"OWNER","body":"Hi, can you delete the 'test_x_list.p' from the data directory and try again?\r\n\r\nAlso, which version of tensorflow are you using?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/580487102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/580488354","html_url":"https://github.com/anicolson/DeepXi/issues/19#issuecomment-580488354","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/19","id":580488354,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDQ4ODM1NA==","user":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"created_at":"2020-01-30T22:18:27Z","updated_at":"2020-01-30T22:20:03Z","author_association":"OWNER","body":"Hi betagon,\r\n\r\nYou should not rename it to the original file. The code stores the file path and the file length of each .wav file in test_x_list.p. If you delete test_x_list.p, then the code will create it again correctly.\r\n\r\nJust add the files you want to set/test_noisy_speech (without renaming). If you get an error, try and delete data/test_x_list.py to recreate the test list\r\n\r\nHope this helps","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/580488354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/580646613","html_url":"https://github.com/anicolson/DeepXi/issues/19#issuecomment-580646613","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/19","id":580646613,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDY0NjYxMw==","user":{"login":"betegon","id":28983162,"node_id":"MDQ6VXNlcjI4OTgzMTYy","avatar_url":"https://avatars.githubusercontent.com/u/28983162?v=4","gravatar_id":"","url":"https://api.github.com/users/betegon","html_url":"https://github.com/betegon","followers_url":"https://api.github.com/users/betegon/followers","following_url":"https://api.github.com/users/betegon/following{/other_user}","gists_url":"https://api.github.com/users/betegon/gists{/gist_id}","starred_url":"https://api.github.com/users/betegon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/betegon/subscriptions","organizations_url":"https://api.github.com/users/betegon/orgs","repos_url":"https://api.github.com/users/betegon/repos","events_url":"https://api.github.com/users/betegon/events{/privacy}","received_events_url":"https://api.github.com/users/betegon/received_events","type":"User","site_admin":false},"created_at":"2020-01-31T09:02:16Z","updated_at":"2020-01-31T09:02:16Z","author_association":"NONE","body":"That was it. \r\n1.   Removed `test_x_list_turbo.p` file from `data/`\r\n2.   Put audio files in `set/test_noisy_speech`\r\n\r\nAlso, I had to resample audio files to the following format in order to make it work:\r\n`Sample rate: 16000 Hz`\r\n`Bit rate: 256 kbps`\r\nI used the following command in linux:\r\n```bash\r\nsox input.wav -r 16000 -b 16  output.wav\r\n# check if output.wav has 256kbps, if it has 512kbps, change option -b 16 to -b 8 \r\n```\r\nTo install sox: `sudo apt-get install sox`\r\n\r\nFurthermore, the results I got weren't the expected and I run into errors when trying to do inference in a big file (180MB).  I will open some issues later to address theses problems.\r\n\r\nThank you for you time and effort ","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/580646613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"betegon","id":28983162,"node_id":"MDQ6VXNlcjI4OTgzMTYy","avatar_url":"https://avatars.githubusercontent.com/u/28983162?v=4","gravatar_id":"","url":"https://api.github.com/users/betegon","html_url":"https://github.com/betegon","followers_url":"https://api.github.com/users/betegon/followers","following_url":"https://api.github.com/users/betegon/following{/other_user}","gists_url":"https://api.github.com/users/betegon/gists{/gist_id}","starred_url":"https://api.github.com/users/betegon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/betegon/subscriptions","organizations_url":"https://api.github.com/users/betegon/orgs","repos_url":"https://api.github.com/users/betegon/repos","events_url":"https://api.github.com/users/betegon/events{/privacy}","received_events_url":"https://api.github.com/users/betegon/received_events","type":"User","site_admin":false}},{"id":2996306872,"node_id":"MDExOkNsb3NlZEV2ZW50Mjk5NjMwNjg3Mg==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/2996306872","actor":{"login":"betegon","id":28983162,"node_id":"MDQ6VXNlcjI4OTgzMTYy","avatar_url":"https://avatars.githubusercontent.com/u/28983162?v=4","gravatar_id":"","url":"https://api.github.com/users/betegon","html_url":"https://github.com/betegon","followers_url":"https://api.github.com/users/betegon/followers","following_url":"https://api.github.com/users/betegon/following{/other_user}","gists_url":"https://api.github.com/users/betegon/gists{/gist_id}","starred_url":"https://api.github.com/users/betegon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/betegon/subscriptions","organizations_url":"https://api.github.com/users/betegon/orgs","repos_url":"https://api.github.com/users/betegon/repos","events_url":"https://api.github.com/users/betegon/events{/privacy}","received_events_url":"https://api.github.com/users/betegon/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-01-31T09:02:16Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/752014068","html_url":"https://github.com/anicolson/DeepXi/issues/19#issuecomment-752014068","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/19","id":752014068,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjAxNDA2OA==","user":{"login":"liziru","id":34911790,"node_id":"MDQ6VXNlcjM0OTExNzkw","avatar_url":"https://avatars.githubusercontent.com/u/34911790?v=4","gravatar_id":"","url":"https://api.github.com/users/liziru","html_url":"https://github.com/liziru","followers_url":"https://api.github.com/users/liziru/followers","following_url":"https://api.github.com/users/liziru/following{/other_user}","gists_url":"https://api.github.com/users/liziru/gists{/gist_id}","starred_url":"https://api.github.com/users/liziru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liziru/subscriptions","organizations_url":"https://api.github.com/users/liziru/orgs","repos_url":"https://api.github.com/users/liziru/repos","events_url":"https://api.github.com/users/liziru/events{/privacy}","received_events_url":"https://api.github.com/users/liziru/received_events","type":"User","site_admin":false},"created_at":"2020-12-29T09:42:58Z","updated_at":"2020-12-29T09:42:58Z","author_association":"NONE","body":"@anicolson I found a problem when I add one 35s test audio to 'set/test_noisy_speech', I got this error when running command './run.sh VER=\"mhanet-1.1c\" INFER=1 GAIN=\"mmse-lsa\"', but it works well for short audio such as 3s:\r\n`100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<00:00,  3.01it/s]\r\n(1, 2225, 257)\r\n(1, 2225, 257)\r\n(1,)\r\nPerforming inference...\r\n2020-12-29 17:33:16.576687: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.7\r\n2020-12-29 17:33:18.438092: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.10\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 92, in <module>\r\n    saved_data_path=args.saved_data_path,\r\n  File \"/home/dell/users/lpp/ns/DeepXi/deepxi/model.py\", line 277, in infer\r\n    tgt_hat_batch = self.model.predict(inp_batch, verbose=1)\r\n  File \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/keras/engine/training.py\", line 130, in _method_wrapper\r\n    return method(self, *args, **kwargs)\r\n  File \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/keras/engine/training.py\", line 1599, in predict\r\n    tmp_batch_outputs = predict_function(iterator)\r\n  File \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/def_function.py\", line 780, in __call__\r\n    result = self._call(*args, **kwds)\r\n  File \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/def_function.py\", line 846, in _call\r\n    return self._concrete_stateful_fn._filtered_call(canon_args, canon_kwds)  # pylint: disable=protected-access\r\n  File \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/function.py\", line 1848, in _filtered_call\r\n    cancellation_manager=cancellation_manager)\r\n  File \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/function.py\", line 1924, in _call_flat\r\n    ctx, args, cancellation_manager=cancellation_manager))\r\n  File \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/function.py\", line 550, in call\r\n    ctx=ctx)\r\n  File \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/execute.py\", line 60, in quick_execute\r\n    inputs, attrs, num_outputs)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: 2 root error(s) found.\r\n  (0) Invalid argument:  indices[0,2209] = 2209 is not in [0, 2048)\r\n\t [[node functional_1/embedding/embedding_lookup (defined at /home/dell/users/lpp/ns/DeepXi/deepxi/model.py:277) ]]\r\n  (1) Invalid argument:  indices[0,2209] = 2209 is not in [0, 2048)\r\n\t [[node functional_1/embedding/embedding_lookup (defined at /home/dell/users/lpp/ns/DeepXi/deepxi/model.py:277) ]]\r\n\t [[functional_1/embedding/embedding_lookup/_8]]\r\n0 successful operations.\r\n0 derived errors ignored. [Op:__inference_predict_function_2107]\r\n\r\nErrors may have originated from an input operation.\r\nInput Source operations connected to node functional_1/embedding/embedding_lookup:\r\n functional_1/embedding/embedding_lookup/1639 (defined at /home/dell/.conda/envs/lpp_tf2.0/lib/python3.7/contextlib.py:112)\r\n\r\nInput Source operations connected to node functional_1/embedding/embedding_lookup:\r\n functional_1/embedding/embedding_lookup/1639 (defined at /home/dell/.conda/envs/lpp_tf2.0/lib/python3.7/contextlib.py:112)\r\n\r\nFunction call stack:\r\npredict_function -> predict_function` \r\n\r\nI will appreciate any help. \r\n","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/752014068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"liziru","id":34911790,"node_id":"MDQ6VXNlcjM0OTExNzkw","avatar_url":"https://avatars.githubusercontent.com/u/34911790?v=4","gravatar_id":"","url":"https://api.github.com/users/liziru","html_url":"https://github.com/liziru","followers_url":"https://api.github.com/users/liziru/followers","following_url":"https://api.github.com/users/liziru/following{/other_user}","gists_url":"https://api.github.com/users/liziru/gists{/gist_id}","starred_url":"https://api.github.com/users/liziru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liziru/subscriptions","organizations_url":"https://api.github.com/users/liziru/orgs","repos_url":"https://api.github.com/users/liziru/repos","events_url":"https://api.github.com/users/liziru/events{/privacy}","received_events_url":"https://api.github.com/users/liziru/received_events","type":"User","site_admin":false}},{"id":4154146638,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE1NDE0NjYzOA==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/4154146638","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-29T09:42:58Z","performed_via_github_app":null},{"id":4154146641,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNTQxNDY2NDE=","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/4154146641","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-29T09:42:58Z","performed_via_github_app":null},{"id":4154162577,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE1NDE2MjU3Nw==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/4154162577","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-29T09:49:46Z","performed_via_github_app":null},{"id":4154162579,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNTQxNjI1Nzk=","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/4154162579","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-29T09:49:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/752016048","html_url":"https://github.com/anicolson/DeepXi/issues/19#issuecomment-752016048","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/19","id":752016048,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjAxNjA0OA==","user":{"login":"liziru","id":34911790,"node_id":"MDQ6VXNlcjM0OTExNzkw","avatar_url":"https://avatars.githubusercontent.com/u/34911790?v=4","gravatar_id":"","url":"https://api.github.com/users/liziru","html_url":"https://github.com/liziru","followers_url":"https://api.github.com/users/liziru/followers","following_url":"https://api.github.com/users/liziru/following{/other_user}","gists_url":"https://api.github.com/users/liziru/gists{/gist_id}","starred_url":"https://api.github.com/users/liziru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liziru/subscriptions","organizations_url":"https://api.github.com/users/liziru/orgs","repos_url":"https://api.github.com/users/liziru/repos","events_url":"https://api.github.com/users/liziru/events{/privacy}","received_events_url":"https://api.github.com/users/liziru/received_events","type":"User","site_admin":false},"created_at":"2020-12-29T09:50:06Z","updated_at":"2020-12-29T09:50:06Z","author_association":"NONE","body":"Name: tensorflow-gpu\r\nVersion: 2.3.0","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/752016048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"liziru","id":34911790,"node_id":"MDQ6VXNlcjM0OTExNzkw","avatar_url":"https://avatars.githubusercontent.com/u/34911790?v=4","gravatar_id":"","url":"https://api.github.com/users/liziru","html_url":"https://github.com/liziru","followers_url":"https://api.github.com/users/liziru/followers","following_url":"https://api.github.com/users/liziru/following{/other_user}","gists_url":"https://api.github.com/users/liziru/gists{/gist_id}","starred_url":"https://api.github.com/users/liziru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liziru/subscriptions","organizations_url":"https://api.github.com/users/liziru/orgs","repos_url":"https://api.github.com/users/liziru/repos","events_url":"https://api.github.com/users/liziru/events{/privacy}","received_events_url":"https://api.github.com/users/liziru/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/752040921","html_url":"https://github.com/anicolson/DeepXi/issues/19#issuecomment-752040921","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/19","id":752040921,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjA0MDkyMQ==","user":{"login":"liziru","id":34911790,"node_id":"MDQ6VXNlcjM0OTExNzkw","avatar_url":"https://avatars.githubusercontent.com/u/34911790?v=4","gravatar_id":"","url":"https://api.github.com/users/liziru","html_url":"https://github.com/liziru","followers_url":"https://api.github.com/users/liziru/followers","following_url":"https://api.github.com/users/liziru/following{/other_user}","gists_url":"https://api.github.com/users/liziru/gists{/gist_id}","starred_url":"https://api.github.com/users/liziru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liziru/subscriptions","organizations_url":"https://api.github.com/users/liziru/orgs","repos_url":"https://api.github.com/users/liziru/repos","events_url":"https://api.github.com/users/liziru/events{/privacy}","received_events_url":"https://api.github.com/users/liziru/received_events","type":"User","site_admin":false},"created_at":"2020-12-29T11:19:25Z","updated_at":"2020-12-29T11:20:52Z","author_association":"NONE","body":"@anicolson After doing this setting, everything is ok.  Any way to remove this limit?\r\n![image](https://user-images.githubusercontent.com/34911790/103280173-b0b96300-4a0a-11eb-82d1-5f2a49546731.png)\r\n`\r\n print(\"Performing inference...\")\r\n inp_batch=inp_batch[:,:2048,:]\r\n supplementary_batch=supplementary_batch[:,:2048,:]\r\n`","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/752040921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"liziru","id":34911790,"node_id":"MDQ6VXNlcjM0OTExNzkw","avatar_url":"https://avatars.githubusercontent.com/u/34911790?v=4","gravatar_id":"","url":"https://api.github.com/users/liziru","html_url":"https://github.com/liziru","followers_url":"https://api.github.com/users/liziru/followers","following_url":"https://api.github.com/users/liziru/following{/other_user}","gists_url":"https://api.github.com/users/liziru/gists{/gist_id}","starred_url":"https://api.github.com/users/liziru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liziru/subscriptions","organizations_url":"https://api.github.com/users/liziru/orgs","repos_url":"https://api.github.com/users/liziru/repos","events_url":"https://api.github.com/users/liziru/events{/privacy}","received_events_url":"https://api.github.com/users/liziru/received_events","type":"User","site_admin":false}},{"id":4154367873,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE1NDM2Nzg3Mw==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/4154367873","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-29T11:19:25Z","performed_via_github_app":null},{"id":4154367875,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNTQzNjc4NzU=","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/4154367875","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-29T11:19:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/753688020","html_url":"https://github.com/anicolson/DeepXi/issues/19#issuecomment-753688020","issue_url":"https://api.github.com/repos/anicolson/DeepXi/issues/19","id":753688020,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzY4ODAyMA==","user":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"created_at":"2021-01-03T22:54:03Z","updated_at":"2021-01-03T22:54:03Z","author_association":"OWNER","body":"Hi,\r\n\r\nSorry for the late reply, I was on leave.\r\n\r\nIf you look at run.sh, it can be seen that “max_len” (maximum number of frames) is 2048. This is the maximum length for the learned positional encoding. You can increase this, however, a new model must be trained. Sorry for the inconvenience.\r\n\r\n[cid:image001.png@01D6E277.1EF078F0]\r\n\r\nHope this helps,\r\nAaron.\r\n\r\nFrom: lipingping <notifications@github.com>\r\nSent: Tuesday, 29 December 2020 7:43 PM\r\nTo: anicolson/DeepXi <DeepXi@noreply.github.com>\r\nCc: Aaron Nicolson <aaron.nicolson@griffithuni.edu.au>; Mention <mention@noreply.github.com>\r\nSubject: Re: [anicolson/DeepXi] Error during Inference (#19)\r\n\r\n\r\n@anicolson<https://github.com/anicolson> I found a problem when I add one 35s test audio to 'set/test_noisy_speech', I got this error when running command './run.sh VER=\"mhanet-1.1c\" INFER=1 GAIN=\"mmse-lsa\"', but it works well for short audio such as 3s:\r\n`100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<00:00, 3.01it/s]\r\n(1, 2225, 257)\r\n(1, 2225, 257)\r\n(1,)\r\nPerforming inference...\r\n2020-12-29 17:33:16.576687: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.7\r\n2020-12-29 17:33:18.438092: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.10\r\nTraceback (most recent call last):\r\nFile \"main.py\", line 92, in\r\nsaved_data_path=args.saved_data_path,\r\nFile \"/home/dell/users/lpp/ns/DeepXi/deepxi/model.py\", line 277, in infer\r\ntgt_hat_batch = self.model.predict(inp_batch, verbose=1)\r\nFile \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/keras/engine/training.py\", line 130, in _method_wrapper\r\nreturn method(self, *args, **kwargs)\r\nFile \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/keras/engine/training.py\", line 1599, in predict\r\ntmp_batch_outputs = predict_function(iterator)\r\nFile \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/def_function.py\", line 780, in call\r\nresult = self._call(*args, **kwds)\r\nFile \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/def_function.py\", line 846, in _call\r\nreturn self._concrete_stateful_fn._filtered_call(canon_args, canon_kwds) # pylint: disable=protected-access\r\nFile \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/function.py\", line 1848, in _filtered_call\r\ncancellation_manager=cancellation_manager)\r\nFile \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/function.py\", line 1924, in _call_flat\r\nctx, args, cancellation_manager=cancellation_manager))\r\nFile \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/function.py\", line 550, in call\r\nctx=ctx)\r\nFile \"/home/dell/.local/lib/python3.7/site-packages/tensorflow/python/eager/execute.py\", line 60, in quick_execute\r\ninputs, attrs, num_outputs)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: 2 root error(s) found.\r\n(0) Invalid argument: indices[0,2209] = 2209 is not in [0, 2048)\r\n[[node functional_1/embedding/embedding_lookup (defined at /home/dell/users/lpp/ns/DeepXi/deepxi/model.py:277) ]]\r\n(1) Invalid argument: indices[0,2209] = 2209 is not in [0, 2048)\r\n[[node functional_1/embedding/embedding_lookup (defined at /home/dell/users/lpp/ns/DeepXi/deepxi/model.py:277) ]]\r\n[[functional_1/embedding/embedding_lookup/_8]]\r\n0 successful operations.\r\n0 derived errors ignored. [Op:__inference_predict_function_2107]\r\n\r\nErrors may have originated from an input operation.\r\nInput Source operations connected to node functional_1/embedding/embedding_lookup:\r\nfunctional_1/embedding/embedding_lookup/1639 (defined at /home/dell/.conda/envs/lpp_tf2.0/lib/python3.7/contextlib.py:112)\r\n\r\nInput Source operations connected to node functional_1/embedding/embedding_lookup:\r\nfunctional_1/embedding/embedding_lookup/1639 (defined at /home/dell/.conda/envs/lpp_tf2.0/lib/python3.7/contextlib.py:112)\r\n\r\nFunction call stack:\r\npredict_function -> predict_function`\r\n\r\nI will appreciate any help.\r\n\r\n—\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub<https://github.com/anicolson/DeepXi/issues/19#issuecomment-752014068>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AGHGZ7TYKWM5PY25D5R7FELSXGQDDANCNFSM4KN3UPRA>.\r\n","reactions":{"url":"https://api.github.com/repos/anicolson/DeepXi/issues/comments/753688020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false}},{"id":4162871703,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE2Mjg3MTcwMw==","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/4162871703","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-01-03T22:54:04Z","performed_via_github_app":null},{"id":4162871704,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNjI4NzE3MDQ=","url":"https://api.github.com/repos/anicolson/DeepXi/issues/events/4162871704","actor":{"login":"anicolson","id":26111230,"node_id":"MDQ6VXNlcjI2MTExMjMw","avatar_url":"https://avatars.githubusercontent.com/u/26111230?v=4","gravatar_id":"","url":"https://api.github.com/users/anicolson","html_url":"https://github.com/anicolson","followers_url":"https://api.github.com/users/anicolson/followers","following_url":"https://api.github.com/users/anicolson/following{/other_user}","gists_url":"https://api.github.com/users/anicolson/gists{/gist_id}","starred_url":"https://api.github.com/users/anicolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anicolson/subscriptions","organizations_url":"https://api.github.com/users/anicolson/orgs","repos_url":"https://api.github.com/users/anicolson/repos","events_url":"https://api.github.com/users/anicolson/events{/privacy}","received_events_url":"https://api.github.com/users/anicolson/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-01-03T22:54:04Z","performed_via_github_app":null}]