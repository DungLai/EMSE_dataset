{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/833","repository_url":"https://api.github.com/repos/onnx/sklearn-onnx","labels_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/833/labels{/name}","comments_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/833/comments","events_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/833/events","html_url":"https://github.com/onnx/sklearn-onnx/issues/833","id":1146986228,"node_id":"I_kwDOCa0gS85EXZ70","number":833,"title":"Load IsolationForest model failed ","user":{"login":"julien-blanchon","id":11278197,"node_id":"MDQ6VXNlcjExMjc4MTk3","avatar_url":"https://avatars.githubusercontent.com/u/11278197?v=4","gravatar_id":"","url":"https://api.github.com/users/julien-blanchon","html_url":"https://github.com/julien-blanchon","followers_url":"https://api.github.com/users/julien-blanchon/followers","following_url":"https://api.github.com/users/julien-blanchon/following{/other_user}","gists_url":"https://api.github.com/users/julien-blanchon/gists{/gist_id}","starred_url":"https://api.github.com/users/julien-blanchon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julien-blanchon/subscriptions","organizations_url":"https://api.github.com/users/julien-blanchon/orgs","repos_url":"https://api.github.com/users/julien-blanchon/repos","events_url":"https://api.github.com/users/julien-blanchon/events{/privacy}","received_events_url":"https://api.github.com/users/julien-blanchon/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2022-02-22T14:31:55Z","updated_at":"2022-02-24T10:18:07Z","closed_at":"2022-02-24T10:17:32Z","author_association":"NONE","active_lock_reason":null,"body":"I'm trying to convert, store and then load an IsolationForest model, but the load part failed and raised an `ONNXRuntimeError`:\r\n```raw\r\nFail: [ONNXRuntimeError] : 1 : FAIL : Load model from ./isolation.onnx failed:/onnxruntime_src/onnxruntime/core/graph/model_load_utils.h:47 void onnxruntime::model_load_utils::ValidateOpsetForDomain(const std::unordered_map<std::basic_string<char>, int>&, const onnxruntime::logging::Logger&, bool, const string&, int) ONNX Runtime only *guarantees* support for models stamped with official released onnx opset versions. Opset 3 is under development and support for this is limited. The operator schemas and or other functionality may change before next ONNX release and in this case ONNX Runtime will not guarantee backward compatibility. Current official support for domain ai.onnx.ml is till opset 2.\r\n```\r\nMy model convertion to ONNX is done with:\r\n```python\r\ninitial_type = [('float_input', FloatTensorType([None, 64]))] # batch_size * features_size(==64)\r\nonx = convert_sklearn(clf, initial_types=initial_type, verbose=3, target_opset=12)\r\nwith open(\"./isolation.onnx\", \"wb\") as f:\r\n    f.write(onx.SerializeToString())\r\n```\r\nAnd then I load my onnx graph with:\r\n```python\r\n# Compute the prediction with ONNX Runtime\r\nsess = rt.InferenceSession(\"./isolation.onnx\", providers=['CPUExecutionProvider'])\r\n```\r\n-------------------------------------\r\n\r\nSeems to be similar to https://github.com/onnx/sklearn-onnx/issues/829\r\n","closed_by":{"login":"julien-blanchon","id":11278197,"node_id":"MDQ6VXNlcjExMjc4MTk3","avatar_url":"https://avatars.githubusercontent.com/u/11278197?v=4","gravatar_id":"","url":"https://api.github.com/users/julien-blanchon","html_url":"https://github.com/julien-blanchon","followers_url":"https://api.github.com/users/julien-blanchon/followers","following_url":"https://api.github.com/users/julien-blanchon/following{/other_user}","gists_url":"https://api.github.com/users/julien-blanchon/gists{/gist_id}","starred_url":"https://api.github.com/users/julien-blanchon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julien-blanchon/subscriptions","organizations_url":"https://api.github.com/users/julien-blanchon/orgs","repos_url":"https://api.github.com/users/julien-blanchon/repos","events_url":"https://api.github.com/users/julien-blanchon/events{/privacy}","received_events_url":"https://api.github.com/users/julien-blanchon/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/833/timeline","performed_via_github_app":null,"state_reason":"completed"}