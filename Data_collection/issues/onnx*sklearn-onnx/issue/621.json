{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/621","repository_url":"https://api.github.com/repos/onnx/sklearn-onnx","labels_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/621/labels{/name}","comments_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/621/comments","events_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/621/events","html_url":"https://github.com/onnx/sklearn-onnx/issues/621","id":811962708,"node_id":"MDU6SXNzdWU4MTE5NjI3MDg=","number":621,"title":"[Possible bug] Mapping of \"ai.onnx.ml\" to \"ai.onnx\" seems to be incorrect","user":{"login":"Nirmal-Neel","id":32963085,"node_id":"MDQ6VXNlcjMyOTYzMDg1","avatar_url":"https://avatars.githubusercontent.com/u/32963085?v=4","gravatar_id":"","url":"https://api.github.com/users/Nirmal-Neel","html_url":"https://github.com/Nirmal-Neel","followers_url":"https://api.github.com/users/Nirmal-Neel/followers","following_url":"https://api.github.com/users/Nirmal-Neel/following{/other_user}","gists_url":"https://api.github.com/users/Nirmal-Neel/gists{/gist_id}","starred_url":"https://api.github.com/users/Nirmal-Neel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nirmal-Neel/subscriptions","organizations_url":"https://api.github.com/users/Nirmal-Neel/orgs","repos_url":"https://api.github.com/users/Nirmal-Neel/repos","events_url":"https://api.github.com/users/Nirmal-Neel/events{/privacy}","received_events_url":"https://api.github.com/users/Nirmal-Neel/received_events","type":"User","site_admin":false},"labels":[{"id":2673847808,"node_id":"MDU6TGFiZWwyNjczODQ3ODA4","url":"https://api.github.com/repos/onnx/sklearn-onnx/labels/pending%20user%20response","name":"pending user response","color":"2465AA","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-02-19T11:56:16Z","updated_at":"2021-08-19T11:57:23Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nThe mapping of \"ai.onnx.ml\" to \"ai.onnx\" present in [skl2onnx/common/_topology.py#L51](https://github.com/onnx/sklearn-onnx/blob/master/skl2onnx/common/_topology.py#L51) \r\n```python:\r\nOPSET_ML_TO_OPSET = {1: 11, 2: 13}\r\n```\r\nseems to be incorrect when I compare it with the version table present in [onnx/blob/master/onnx/helper.py#L28](https://github.com/onnx/onnx/blob/master/onnx/helper.py#L28).\r\n```python:\r\nVERSION_TABLE = [\r\n    # Release-version, IR version, ai.onnx version, ai.onnx.ml version, (optional) ai.onnx.training version\r\n    ('1.0', 3, 1, 1),\r\n    ('1.1', 3, 5, 1),\r\n    ('1.1.2', 3, 6, 1),\r\n    ('1.2', 3, 7, 1),\r\n    ('1.3', 3, 8, 1),\r\n    ('1.4.1', 4, 9, 1),\r\n    ('1.5.0', 5, 10, 1),\r\n    ('1.6.0', 6, 11, 2),\r\n    ('1.7.0', 7, 12, 2, 1),\r\n    ('1.8.0', 7, 13, 2, 1)\r\n]  # type: VersionTableType\r\n```\r\n Same holds true for [skl2onnx/common/_topology.py#L45](https://github.com/onnx/sklearn-onnx/blob/master/skl2onnx/common/_topology.py#L45)\r\n```python:\r\nOPSET_TO_IR_VERSION = {\r\n        1: 3, 2: 3, 3: 3, 4: 3, 5: 3, 6: 3,\r\n        7: 3, 8: 4, 9: 4, 10: 5, 11: 6, 12: 7,\r\n        13: 7\r\n    }\r\n```\r\n which is hopefully not affecting as it is imported from onnxconverter_common where the mapping is following the VERSION_TABLE of onnx. But I am confused with the map `OPSET_ML_TO_OPSET = {1: 11, 2: 13}`.\r\n\r\nIs it a bug or my understanding is wrong?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/621/timeline","performed_via_github_app":null,"state_reason":null}