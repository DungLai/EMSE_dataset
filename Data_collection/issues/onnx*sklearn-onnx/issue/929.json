{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/929","repository_url":"https://api.github.com/repos/onnx/sklearn-onnx","labels_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/929/labels{/name}","comments_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/929/comments","events_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/929/events","html_url":"https://github.com/onnx/sklearn-onnx/issues/929","id":1427958100,"node_id":"I_kwDOCa0gS85VHOlU","number":929,"title":"Concat Op does not properly check types, resulting in redundant Cast Ops","user":{"login":"nolangroves","id":91033977,"node_id":"MDQ6VXNlcjkxMDMzOTc3","avatar_url":"https://avatars.githubusercontent.com/u/91033977?v=4","gravatar_id":"","url":"https://api.github.com/users/nolangroves","html_url":"https://github.com/nolangroves","followers_url":"https://api.github.com/users/nolangroves/followers","following_url":"https://api.github.com/users/nolangroves/following{/other_user}","gists_url":"https://api.github.com/users/nolangroves/gists{/gist_id}","starred_url":"https://api.github.com/users/nolangroves/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nolangroves/subscriptions","organizations_url":"https://api.github.com/users/nolangroves/orgs","repos_url":"https://api.github.com/users/nolangroves/repos","events_url":"https://api.github.com/users/nolangroves/events{/privacy}","received_events_url":"https://api.github.com/users/nolangroves/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-10-28T23:38:54Z","updated_at":"2022-11-10T09:49:47Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"https://github.com/onnx/sklearn-onnx/blob/7bfcd523b00c0043437387d17e23438fd5713eee/skl2onnx/operator_converters/concat_op.py#L12-L22\r\n\r\nThe Concat operation does not properly compare typings (line 15), resulting in an excess of redundant Cast operations. \r\nIt will return False when the input and output tensors are the same type but of different sizes (which is most of the use cases of the Concat operation)\r\n\r\nFor example, \r\n`Int64TensorType(shape=[None, 1]) == Int64TensorType(shape=[None, 10])` \r\nreturns False, resulting in an extra cast operation on each of the 10 Int64 inputs.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/929/timeline","performed_via_github_app":null,"state_reason":null}