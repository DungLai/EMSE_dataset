[{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/726768496","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-726768496","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":726768496,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjc2ODQ5Ng==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2020-11-13T13:36:27Z","updated_at":"2020-11-13T13:36:27Z","author_association":"COLLABORATOR","body":"Hi,\r\n\r\nI would do it that way:\r\n\r\n```\r\n# **Imports**\r\n\r\nimport numpy as np\r\nfrom sklearn.base import BaseEstimator, TransformerMixin\r\nfrom sklearn.pipeline import make_pipeline\r\nfrom onnxruntime import InferenceSession\r\nfrom skl2onnx import convert_sklearn, to_onnx, wrap_as_onnx_mixin\r\nfrom skl2onnx.common.data_types import FloatTensorType\r\nfrom skl2onnx.algebra.onnx_operator_mixin import OnnxOperatorMixin\r\nfrom skl2onnx.algebra.onnx_ops import OnnxWhere, OnnxLessOrEqual\r\nfrom skl2onnx.common.data_types import guess_numpy_type\r\n\r\n# **Simple function to check the converted model works fine.**\r\n\r\ndef predict_with_onnxruntime(onx, X):\r\n    sess = InferenceSession(onx.SerializeToString())\r\n    input_name = sess.get_inputs()[0].name\r\n    res = sess.run(None, {input_name: X.astype(np.float32)})\r\n    return res[0]\r\n\r\n# **Custom transformer to perform mapping (NOT YET COMPLETE see last line)**\r\n\r\nclass CustomOpTransformer(BaseEstimator, TransformerMixin,\r\n                          OnnxOperatorMixin):\r\n\r\n    def __init__(self):\r\n        BaseEstimator.__init__(self)\r\n        TransformerMixin.__init__(self)\r\n\r\n    def fit(self, X, y=None):\r\n        self.W_ = np.float32(1)\r\n        self.S_ = np.float32(1)\r\n        return self\r\n\r\n    def transform(self, X):\r\n        return np.where(X <= 0, -1, 1)\r\n\r\n    def onnx_shape_calculator(self):\r\n        def shape_calculator(operator):\r\n            operator.outputs[0].type = operator.inputs[0].type\r\n        return shape_calculator\r\n    \r\n    \r\n    # We need to use some if else statments\r\n    def to_onnx_operator(self, inputs=None, outputs=('Y', )):\r\n        if inputs is None:\r\n            raise RuntimeError(\"Parameter inputs should contain at least \"\r\n                               \"one name.\")\r\n        i0 = self.get_inputs(inputs, 0)\r\n        dtype = guess_numpy_type(i0.type)\r\n        return OnnxWhere(\r\n                OnnxLessOrEqual(i0, np.array([0], dtype), op_version=12),\r\n                np.array([-1], dtype), np.array([1], dtype),\r\n                op_version=12, output_names=outputs[0])\r\n        \r\n\r\n# **Try to implement the convertor in a pipeline and test the function**\r\n\r\nX = np.array([[0, 0], [1, 1]])\r\ntr = make_pipeline(CustomOpTransformer())\r\ntr.fit(X)\r\n\r\n# Original matrix\r\nprint('Original matrix')\r\nprint(X)\r\n\r\n# sklearn pipeline\r\nprint('Transform using np.where')\r\nprint(tr.transform(X))\r\n\r\n# Run in onnx\r\nprint('Transform using to_onnx_operator')\r\nonx = to_onnx(tr, X.astype(np.float32), target_opset=12)\r\nprint(predict_with_onnxruntime(onx, X))\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/726768496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"id":3993506576,"node_id":"MDEyOkxhYmVsZWRFdmVudDM5OTM1MDY1NzY=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3993506576","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-13T13:37:04Z","label":{"name":"question","color":"d876e3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/730438276","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-730438276","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":730438276,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQzODI3Ng==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-11-19T15:09:44Z","updated_at":"2020-11-19T15:09:44Z","author_association":"NONE","body":"Thanks xadupre! I think your solution would just work on version 1.7.1 right?\r\n\r\nDo you mind if I also extend the question a bit? Instead of mapping from intervals to integers, do you know if Onnx operator would take dictionary formats and do one to one mapping (integer to integer)? Could you provide some example of how it would take a dictionary variable. A simplified numpy example is given below:\r\n\r\n```\r\nX = np.array([[0, 0], [1, 1]])\r\ndictionary = {0:-1, 1:1}\r\n\r\n# define a function for mapping\r\ndef mapping(x):\r\n    return(dictionary[x])\r\n\r\n# vectorise my function for matrix mapping\r\nmapping_vec = np.vectorize(mapping)\r\n\r\nmapping_vec(X)\r\n```\r\n\r\nThe reason I asked this is because I am planning to use _different_ mappings on a few _different_ features before predicting/modelling. \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/730438276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/731157398","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-731157398","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":731157398,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTE1NzM5OA==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-11-20T13:02:36Z","updated_at":"2020-11-20T13:36:07Z","author_association":"NONE","body":"Hi @xadupre \r\n\r\nI have been comparing the speed of the above example between sklearn and onnxruntime.\r\n\r\nIt seems to me the onnx operators approach is about 2 times slower than running it just using sklearn pipline. I am wondering if you have any thoughts on this and whether feature mapping could be performed quicker within onnxruntime?\r\n\r\nScript for comparing the sklearn pipeline and onnxruntime for the above example:\r\n\r\n```\r\n# taking out the part to create the runtime session for fairer comparison\r\ndef predict_with_onnxruntime(onx, Y, sess, input_name):\r\n    res = sess.run(None, {input_name: Y.astype(np.float32)})\r\n    return res[0]\r\n\r\n# load timeit\r\nfrom timeit import timeit\r\n\r\n# Generate a random matrix \r\nX = np.random.rand(2000,2000)\r\ntr = make_pipeline(CustomOpTransformer())\r\ntr.fit(X)\r\nonx = to_onnx(tr, X.astype(np.float32), target_opset=12)\r\n\r\n# Comparison\r\n\r\nrepeats = 1000\r\n\r\nprint(\"Predicting on data frame with dimensions: \" + str(X.shape) + ' ' + str(repeats) + ' times')\r\n\r\nprint(\"Sklearn: \" + str( timeit(\"tr.transform(X)\", number=repeats, globals=globals())) + ' s')\r\n\r\n# Initiate the runtime session\r\nnew_sess = InferenceSession(onx.SerializeToString())\r\nnew_input_name = new_sess.get_inputs()[0].name\r\n\r\nprint(\"ONNX: \" + str( timeit(\"predict_with_onnxruntime(onx, X,new_sess, new_input_name)\", number=repeats, globals=globals())) + ' s')\r\n```\r\n\r\nResults:\r\n```\r\nPredicting on data frame with dimensions: (2000, 2000) 1000 times\r\nSklearn: 9.225307040847838 s\r\nONNX: 22.59944965597242 s\r\n```","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/731157398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"id":4020795490,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDAyMDc5NTQ5MA==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4020795490","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-11-20T13:02:36Z","performed_via_github_app":null},{"id":4020795493,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwMjA3OTU0OTM=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4020795493","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-11-20T13:02:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/740584610","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-740584610","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":740584610,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDU4NDYxMA==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-12-08T12:15:20Z","updated_at":"2020-12-08T12:15:20Z","author_association":"NONE","body":"Hi @xadupre \r\n\r\nI just want to see if you have any thoughts on the performance on onnxwhere vs np.where. Do you think it's better to leave custom mappings outside onnx runtime?","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/740584610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"id":4084487666,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA4NDQ4NzY2Ng==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4084487666","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-08T12:15:20Z","performed_via_github_app":null},{"id":4084487672,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwODQ0ODc2NzI=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4084487672","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-08T12:15:20Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/740719508","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-740719508","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":740719508,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDcxOTUwOA==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2020-12-08T16:11:37Z","updated_at":"2020-12-08T16:11:37Z","author_association":"COLLABORATOR","body":"It depends on your model. I think it is better to keep as much as as possible inside onnxruntime. There is room for improvments in the implementation of Where in onnxruntime (CPU). I did a benchmark between onnxruntime, numpy, tensorflow, pytorch for operator where: [Compares implementations of Where](http://www.xavierdupre.fr/app/mlprodict/helpsphinx/gyexamples/plot_where.html). You can run it your machine.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/740719508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741640162","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741640162","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741640162,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTY0MDE2Mg==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T09:13:03Z","updated_at":"2020-12-09T09:20:27Z","author_association":"NONE","body":"Thanks xadupre! I think my results are mostly consistent with what you've got but my ort_where is not as performant as numpy where for large dimension.\r\n\r\n![where_comparison](https://user-images.githubusercontent.com/46226344/101529307-4f145480-3988-11eb-921a-a96e12c38fb8.PNG)\r\n","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741640162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741642720","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741642720","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741642720,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTY0MjcyMA==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T09:17:39Z","updated_at":"2020-12-09T09:23:26Z","author_association":"NONE","body":"Hi @xadupre \r\n\r\nCan I ask you one more question? Do you know if there is any onnx function which will do categorical mapping according to a dictionary? Or in a similar fashion if it doesn't take dictionary? An example like below:\r\n\r\n```\r\nmapping_dict = {'col_1':{1:1,2:1}, 'col_2':{1:1,2:2}}\r\ndf = pd.DataFrame(data= {'col_1':[1,2,3], 'col_2':[1,2,3]})\r\nprint(df.replace(mapping_dict))\r\n```\r\nOutputs:\r\n```\r\n   col_1  col_2\r\n0      1      1\r\n1      1      2\r\n2      3      3\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741642720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"id":4088887515,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA4ODg4NzUxNQ==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4088887515","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-09T09:17:39Z","performed_via_github_app":null},{"id":4088887521,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwODg4ODc1MjE=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4088887521","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-09T09:17:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741686663","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741686663","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741686663,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTY4NjY2Mw==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T10:39:00Z","updated_at":"2020-12-09T10:39:00Z","author_association":"COLLABORATOR","body":"I think a LabelEncoder is what you are looking for: https://github.com/onnx/onnx/blob/master/docs/Operators-ml.md#ai.onnx.ml.LabelEncoder.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741686663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741772383","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741772383","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741772383,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTc3MjM4Mw==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T13:31:37Z","updated_at":"2020-12-09T13:32:00Z","author_association":"NONE","body":"> I think a LabelEncoder is what you are looking for: https://github.com/onnx/onnx/blob/master/docs/Operators-ml.md#ai.onnx.ml.LabelEncoder.\r\n\r\n@xadupre Thanks! I think that's the thingI am looing for. Do you know if there is an example for the function?\r\n\r\nI am trying the same function implemented in skl2onnx.algebra.onnx_ops.OnnxLabelEncoder but not so sure how I can adapt the function to the example above.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741772383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"id":4089943461,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA4OTk0MzQ2MQ==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4089943461","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-09T13:31:37Z","performed_via_github_app":null},{"id":4089943465,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwODk5NDM0NjU=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4089943465","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-09T13:31:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741797746","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741797746","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741797746,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTc5Nzc0Ng==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T14:15:17Z","updated_at":"2020-12-09T14:15:17Z","author_association":"COLLABORATOR","body":"I guess you want to add it after operator Where?","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741797746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741818308","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741818308","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741818308,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTgxODMwOA==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T14:46:16Z","updated_at":"2020-12-09T14:46:16Z","author_association":"NONE","body":"@xadupre \r\nI think I am almost there with the following mapping {0:1,1:2} but got an error at the end saying \r\n`NotImplemented: [ONNXRuntimeError] : 9 : NOT_IMPLEMENTED : Could not find an implementation for the node La_LabelEncoder:LabelEncoder(2)`\r\nDo you know the reason for that?\r\n\r\nCode:\r\n```\r\n# **Imports**\r\n\r\nimport numpy as np\r\nfrom sklearn.base import BaseEstimator, TransformerMixin\r\nfrom sklearn.pipeline import make_pipeline\r\nfrom onnxruntime import InferenceSession\r\nfrom skl2onnx import convert_sklearn, to_onnx, wrap_as_onnx_mixin\r\nfrom skl2onnx.common.data_types import FloatTensorType\r\nfrom skl2onnx.algebra.onnx_operator_mixin import OnnxOperatorMixin\r\nfrom skl2onnx.algebra.onnx_ops import OnnxLessOrEqual,OnnxLabelEncoder\r\nfrom skl2onnx.common.data_types import guess_numpy_type\r\n\r\n# **Simple function to check the converted model works fine.**\r\n\r\ndef predict_with_onnxruntime(onx, X):\r\n    sess = InferenceSession(onx.SerializeToString())\r\n    input_name = sess.get_inputs()[0].name\r\n    res = sess.run(None, {input_name: X.astype(np.float32)})\r\n    return res[0]\r\n\r\n# **Custom transformer to perform mapping (NOT YET COMPLETE see last line)**\r\n\r\nclass CustomOpTransformer(BaseEstimator, TransformerMixin,\r\n                          OnnxOperatorMixin):\r\n\r\n    def __init__(self):\r\n        BaseEstimator.__init__(self)\r\n        TransformerMixin.__init__(self)\r\n\r\n    def fit(self, X, y=None):\r\n        return self\r\n\r\n    def transform(self, X):\r\n        mapping_dict = {0:1,1:2}\r\n        return np.vectorize(mapping_dict.get)(X)\r\n\r\n    def onnx_shape_calculator(self):\r\n        def shape_calculator(operator):\r\n            operator.outputs[0].type = operator.inputs[0].type\r\n            print(operator.inputs[0].type)\r\n        return shape_calculator\r\n    \r\n    \r\n    # Mapping using OnnxLabelEncoder\r\n    def to_onnx_operator(self, inputs=None, outputs=('Y', )):\r\n        if inputs is None:\r\n            raise RuntimeError(\"Parameter inputs should contain at least \"\r\n                               \"one name.\")\r\n        i0 = self.get_inputs(inputs, 0)\r\n        #dtype = guess_numpy_type(i0.type)\r\n        return OnnxLabelEncoder(\r\n                i0\r\n                , keys_floats = [0.,1.]\r\n                , values_floats = [1.,2.]\r\n                , op_version= 12\r\n                , output_names=outputs[0]\r\n                )\r\n\r\n# **Try to implement the convertor in a pipeline and test the function**\r\n\r\nX = np.array([[0, 0], [1, 1]])#.astype(np.int64)\r\ntr = make_pipeline(CustomOpTransformer())\r\ntr.fit(X)\r\n\r\n# Original matrix\r\nprint('Original matrix')\r\nprint(X)\r\n\r\n# sklearn pipeline\r\nprint('Transform using np.where')\r\nprint(tr.transform(X))\r\n\r\n# Run in onnx\r\nprint('Transform using to_onnx_operator')\r\nonx = to_onnx(tr, X.astype(np.float32), target_opset=12)\r\nprint(predict_with_onnxruntime(onx, X))\r\n```","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741818308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"id":4090307089,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA5MDMwNzA4OQ==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4090307089","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-09T14:46:16Z","performed_via_github_app":null},{"id":4090307097,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwOTAzMDcwOTc=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4090307097","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-09T14:46:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741825606","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741825606","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741825606,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTgyNTYwNg==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T14:58:27Z","updated_at":"2020-12-09T14:58:27Z","author_association":"COLLABORATOR","body":"Which version of onnxruntime are you using?","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741825606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741830692","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741830692","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741830692,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTgzMDY5Mg==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T15:06:19Z","updated_at":"2020-12-09T15:07:54Z","author_association":"NONE","body":"> Which version of onnxruntime are you using?\r\n\r\n@xadupre \r\n\r\nIt's 1.3.0. I will check if updating it would work or not.\r\n\r\nAh very interestingly, if you change the mapping output values to int64s it would work but it wouldn't work if the output values are of type floats.\r\n\r\nWorking example:\r\n```\r\nnode = OnnxLabelEncoder('X', keys_floats = [0.,1.], values_int64s = [1,2])\r\nX = np.array([[1,2],[1,3]]).astype(np.float32)\r\nmodel_def = node.to_onnx({'X': X})\r\n\r\ndef predict_with_onnxruntime(onx, X):\r\n    sess = InferenceSession(onx.SerializeToString())\r\n    input_name = sess.get_inputs()[0].name\r\n    res = sess.run(None, {input_name: X.astype(np.float32)})\r\n    return res[0]\r\nY = predict_with_onnxruntime(model_def, X)\r\nprint(Y)\r\n\r\n```\r\n**Non-example with same error:**\r\n```\r\nnode = OnnxLabelEncoder('X', keys_floats = [0.,1.], values_floats = [1.,2.])\r\nX = np.array([[1,2],[1,3]]).astype(np.float32)\r\nmodel_def = node.to_onnx({'X': X})\r\n\r\ndef predict_with_onnxruntime(onx, X):\r\n    sess = InferenceSession(onx.SerializeToString())\r\n    input_name = sess.get_inputs()[0].name\r\n    res = sess.run(None, {input_name: X.astype(np.float32)})\r\n    return res[0]\r\n\r\nY = predict_with_onnxruntime(model_def, X)\r\nprint(Y)\r\n```","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741830692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"id":4090410241,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA5MDQxMDI0MQ==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4090410241","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-09T15:06:19Z","performed_via_github_app":null},{"id":4090410248,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwOTA0MTAyNDg=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4090410248","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-09T15:06:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741838781","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-741838781","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":741838781,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTgzODc4MQ==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-12-09T15:18:40Z","updated_at":"2020-12-09T15:18:40Z","author_association":"NONE","body":"I have updated to 1.5.2 but i still got the error when I used **values_floats**  instead of **values_int64s** .\r\n\r\nHere are my package versions:\r\n```\r\nimport onnx\r\nimport onnxruntime\r\nimport skl2onnx\r\nprint(onnx.__version__)\r\nprint(onnxruntime.__version__)\r\nprint(skl2onnx.__version__)\r\n1.8.0\r\n1.5.2\r\n1.7.1\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/741838781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/745338075","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-745338075","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":745338075,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTMzODA3NQ==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2020-12-15T14:43:23Z","updated_at":"2020-12-15T14:43:23Z","author_association":"COLLABORATOR","body":"Sorry for the delay. onnxruntime does not implement the whole ONNX specifications to reduce binary size. It is possible to keep int64 as value type for the LabelEncoder and then cast the output into float?","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/745338075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/745343936","html_url":"https://github.com/onnx/sklearn-onnx/issues/557#issuecomment-745343936","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/557","id":745343936,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM0MzkzNg==","user":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false},"created_at":"2020-12-15T14:53:18Z","updated_at":"2020-12-15T14:53:18Z","author_association":"NONE","body":"Thanks for getting back @xadupre! \r\nI guess I can output it to integers for LabelEncoder and then transform into float using another operators. ","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/745343936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"waiyujack","id":46226344,"node_id":"MDQ6VXNlcjQ2MjI2MzQ0","avatar_url":"https://avatars.githubusercontent.com/u/46226344?v=4","gravatar_id":"","url":"https://api.github.com/users/waiyujack","html_url":"https://github.com/waiyujack","followers_url":"https://api.github.com/users/waiyujack/followers","following_url":"https://api.github.com/users/waiyujack/following{/other_user}","gists_url":"https://api.github.com/users/waiyujack/gists{/gist_id}","starred_url":"https://api.github.com/users/waiyujack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waiyujack/subscriptions","organizations_url":"https://api.github.com/users/waiyujack/orgs","repos_url":"https://api.github.com/users/waiyujack/repos","events_url":"https://api.github.com/users/waiyujack/events{/privacy}","received_events_url":"https://api.github.com/users/waiyujack/received_events","type":"User","site_admin":false}},{"id":4114994216,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDExNDk5NDIxNg==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4114994216","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-15T14:53:18Z","performed_via_github_app":null}]