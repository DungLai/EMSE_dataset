[{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/581596835","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-581596835","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":581596835,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTU5NjgzNQ==","user":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"created_at":"2020-02-03T20:13:18Z","updated_at":"2020-02-03T20:13:18Z","author_association":"COLLABORATOR","body":"Let me talk to the team about this and get back. Thanks! Also, is this a high priority item for you?","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/581596835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false}},{"id":3003686000,"node_id":"MDEyOkxhYmVsZWRFdmVudDMwMDM2ODYwMDA=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3003686000","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-02-03T20:29:02Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/581786493","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-581786493","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":581786493,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTc4NjQ5Mw==","user":{"login":"victornoel","id":160975,"node_id":"MDQ6VXNlcjE2MDk3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/160975?v=4","gravatar_id":"","url":"https://api.github.com/users/victornoel","html_url":"https://github.com/victornoel","followers_url":"https://api.github.com/users/victornoel/followers","following_url":"https://api.github.com/users/victornoel/following{/other_user}","gists_url":"https://api.github.com/users/victornoel/gists{/gist_id}","starred_url":"https://api.github.com/users/victornoel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victornoel/subscriptions","organizations_url":"https://api.github.com/users/victornoel/orgs","repos_url":"https://api.github.com/users/victornoel/repos","events_url":"https://api.github.com/users/victornoel/events{/privacy}","received_events_url":"https://api.github.com/users/victornoel/received_events","type":"User","site_admin":false},"created_at":"2020-02-04T07:58:55Z","updated_at":"2020-02-04T07:58:55Z","author_association":"NONE","body":"@prabhat00155 hello, great to know. In terms of priority, it means I can't use onnx as a way to serialize my model, or that I need to move the log/exp transformation in my code.\r\n\r\nI will describe the use case in more details, it will make things clearer about the importance of something like `TransformedTargetRegressor` for me and maybe will help detect that I'm solving my needs with the wrong tools? :)\r\n\r\nI'm using onnx so that I can have a bit of compatibility between different versions of my models.\r\nThe objective is that I can switch the way the model is learned but keep the same input/output interface for the services that load and predict with the model.\r\n\r\nFor example for now I'm using `TransformedTargetRegressor` as a way to reduce the impact of outliers in my labels (I'm using xgboost regressor squared error objective function), but tomorrow when xgboost 1.0.0 is released, maybe I will solve this same problem using a squared log error objective function that was just introduced and can be used for reducing the impact of outliers.\r\n\r\nIn terms of engineering, if I can avoid changing the way the models are used everytime I change the way the models are built, it's a good thing for me :)","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/581786493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"victornoel","id":160975,"node_id":"MDQ6VXNlcjE2MDk3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/160975?v=4","gravatar_id":"","url":"https://api.github.com/users/victornoel","html_url":"https://github.com/victornoel","followers_url":"https://api.github.com/users/victornoel/followers","following_url":"https://api.github.com/users/victornoel/following{/other_user}","gists_url":"https://api.github.com/users/victornoel/gists{/gist_id}","starred_url":"https://api.github.com/users/victornoel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victornoel/subscriptions","organizations_url":"https://api.github.com/users/victornoel/orgs","repos_url":"https://api.github.com/users/victornoel/repos","events_url":"https://api.github.com/users/victornoel/events{/privacy}","received_events_url":"https://api.github.com/users/victornoel/received_events","type":"User","site_admin":false}},{"id":3005045474,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzAwNTA0NTQ3NA==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3005045474","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-02-04T07:58:55Z","performed_via_github_app":null},{"id":3005045475,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwMDUwNDU0NzU=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3005045475","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-02-04T07:58:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/581855491","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-581855491","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":581855491,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTg1NTQ5MQ==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2020-02-04T11:03:15Z","updated_at":"2020-02-04T11:03:15Z","author_association":"COLLABORATOR","body":"Your model requires the inverse function to be converted into ONNX and that's not always possible. There are multiple options to do that, have the runtime run some python code, let the user specify the onnx graph of the inverse function, write a function which automatically converts the custom function into ONNX. In your case, it would work because the function is simple. This is a direction I started to investigate (http://www.xavierdupre.fr/app/mlprodict/helpsphinx/mlprodict/onnx_grammar/onnx_translation.html#mlprodict.onnx_grammar.onnx_translation.translate_fct2onnx) but I'm not fully happy with the current state.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/581855491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/582500712","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-582500712","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":582500712,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjUwMDcxMg==","user":{"login":"victornoel","id":160975,"node_id":"MDQ6VXNlcjE2MDk3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/160975?v=4","gravatar_id":"","url":"https://api.github.com/users/victornoel","html_url":"https://github.com/victornoel","followers_url":"https://api.github.com/users/victornoel/followers","following_url":"https://api.github.com/users/victornoel/following{/other_user}","gists_url":"https://api.github.com/users/victornoel/gists{/gist_id}","starred_url":"https://api.github.com/users/victornoel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victornoel/subscriptions","organizations_url":"https://api.github.com/users/victornoel/orgs","repos_url":"https://api.github.com/users/victornoel/repos","events_url":"https://api.github.com/users/victornoel/events{/privacy}","received_events_url":"https://api.github.com/users/victornoel/received_events","type":"User","site_admin":false},"created_at":"2020-02-05T16:47:29Z","updated_at":"2020-02-05T16:47:29Z","author_association":"NONE","body":"@xadupre good points, I didn't think enough to realise it wasn't so obvious :)\r\n\r\nMy objective would be to avoid the python code solution, but I think that specifying the inverse function to onnx during conversion would be acceptable yes.\r\n\r\nOf course the automatic conversion of most known function is the best, and as you say, it would make sense that all the numpy available function with a corresponding onnx function could be supported easily.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/582500712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"victornoel","id":160975,"node_id":"MDQ6VXNlcjE2MDk3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/160975?v=4","gravatar_id":"","url":"https://api.github.com/users/victornoel","html_url":"https://github.com/victornoel","followers_url":"https://api.github.com/users/victornoel/followers","following_url":"https://api.github.com/users/victornoel/following{/other_user}","gists_url":"https://api.github.com/users/victornoel/gists{/gist_id}","starred_url":"https://api.github.com/users/victornoel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victornoel/subscriptions","organizations_url":"https://api.github.com/users/victornoel/orgs","repos_url":"https://api.github.com/users/victornoel/repos","events_url":"https://api.github.com/users/victornoel/events{/privacy}","received_events_url":"https://api.github.com/users/victornoel/received_events","type":"User","site_admin":false}},{"id":3010767356,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzAxMDc2NzM1Ng==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3010767356","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-02-05T16:47:29Z","performed_via_github_app":null},{"id":3010767360,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwMTA3NjczNjA=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3010767360","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-02-05T16:47:30Z","performed_via_github_app":null},{"id":3264450410,"node_id":"MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQzMjY0NDUwNDEw","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3264450410","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"added_to_project","commit_id":null,"commit_url":null,"created_at":"2020-04-23T10:34:06Z","project_card":{"id":36864646,"url":"https://api.github.com/projects/columns/cards/36864646","project_id":4372824,"project_url":"https://api.github.com/projects/4372824","column_name":"To do"},"performed_via_github_app":null},{"id":3288612997,"node_id":"MDEyOkxhYmVsZWRFdmVudDMyODg2MTI5OTc=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3288612997","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-04-30T10:26:14Z","label":{"name":"Investigation","color":"c96edd"},"performed_via_github_app":null},{"id":4836563707,"node_id":"MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQ0ODM2NTYzNzA3","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4836563707","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"added_to_project","commit_id":null,"commit_url":null,"created_at":"2021-06-03T09:48:07Z","project_card":{"id":62392941,"url":"https://api.github.com/projects/columns/cards/62392941","project_id":12598971,"project_url":"https://api.github.com/projects/12598971","column_name":"To do"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/901857878","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-901857878","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":901857878,"node_id":"IC_kwDOCa0gS841wUJW","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2021-08-19T12:03:51Z","updated_at":"2021-08-19T12:03:51Z","author_association":"COLLABORATOR","body":"I create another approach. It is a [numpy API for ONNX](http://www.xavierdupre.fr/app/mlprodict/helpsphinx/blog/2021/2021-05-05_numpyapionnx1.html). If you write your function with this api, the conversion is free.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/901857878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"id":5180247703,"node_id":"MDEyOkxhYmVsZWRFdmVudDUxODAyNDc3MDM=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/5180247703","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-08-19T12:03:59Z","label":{"name":"pending user response","color":"2465AA"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/905636096","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-905636096","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":905636096,"node_id":"IC_kwDOCa0gS841-ukA","user":{"login":"victornoel","id":160975,"node_id":"MDQ6VXNlcjE2MDk3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/160975?v=4","gravatar_id":"","url":"https://api.github.com/users/victornoel","html_url":"https://github.com/victornoel","followers_url":"https://api.github.com/users/victornoel/followers","following_url":"https://api.github.com/users/victornoel/following{/other_user}","gists_url":"https://api.github.com/users/victornoel/gists{/gist_id}","starred_url":"https://api.github.com/users/victornoel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victornoel/subscriptions","organizations_url":"https://api.github.com/users/victornoel/orgs","repos_url":"https://api.github.com/users/victornoel/repos","events_url":"https://api.github.com/users/victornoel/events{/privacy}","received_events_url":"https://api.github.com/users/victornoel/received_events","type":"User","site_admin":false},"created_at":"2021-08-25T15:47:50Z","updated_at":"2021-08-25T15:47:50Z","author_association":"NONE","body":"@xadupre this very nicely solve the problem, thanks a lot. I won't be able to test it right now, but I think we can consider this issue solved, and if there is a problem later I can always open a new ticket :)","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/905636096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"victornoel","id":160975,"node_id":"MDQ6VXNlcjE2MDk3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/160975?v=4","gravatar_id":"","url":"https://api.github.com/users/victornoel","html_url":"https://github.com/victornoel","followers_url":"https://api.github.com/users/victornoel/followers","following_url":"https://api.github.com/users/victornoel/following{/other_user}","gists_url":"https://api.github.com/users/victornoel/gists{/gist_id}","starred_url":"https://api.github.com/users/victornoel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victornoel/subscriptions","organizations_url":"https://api.github.com/users/victornoel/orgs","repos_url":"https://api.github.com/users/victornoel/repos","events_url":"https://api.github.com/users/victornoel/events{/privacy}","received_events_url":"https://api.github.com/users/victornoel/received_events","type":"User","site_admin":false}},{"id":5207772223,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTIwNzc3MjIyMw==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/5207772223","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-08-25T15:47:51Z","performed_via_github_app":null},{"id":5207772232,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUyMDc3NzIyMzI=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/5207772232","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-08-25T15:47:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1267238992","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-1267238992","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":1267238992,"node_id":"IC_kwDOCa0gS85LiIhQ","user":{"login":"lb-vi","id":98164206,"node_id":"U_kgDOBdnd7g","avatar_url":"https://avatars.githubusercontent.com/u/98164206?v=4","gravatar_id":"","url":"https://api.github.com/users/lb-vi","html_url":"https://github.com/lb-vi","followers_url":"https://api.github.com/users/lb-vi/followers","following_url":"https://api.github.com/users/lb-vi/following{/other_user}","gists_url":"https://api.github.com/users/lb-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/lb-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lb-vi/subscriptions","organizations_url":"https://api.github.com/users/lb-vi/orgs","repos_url":"https://api.github.com/users/lb-vi/repos","events_url":"https://api.github.com/users/lb-vi/events{/privacy}","received_events_url":"https://api.github.com/users/lb-vi/received_events","type":"User","site_admin":false},"created_at":"2022-10-04T16:09:13Z","updated_at":"2022-10-04T16:09:31Z","author_association":"NONE","body":"@xadupre I tried your numpy API for ONNX and ran into this issue when using it together with the TransformedTargetRegressor as victornoel showed above.\r\n\r\n> MissingShapeCalculator: Unable to find a shape calculator for type '<class \r\n sklearn.compose._target.TransformedTargetRegressor'>'.\r\n\r\nWhen using it with the FunctionTransformer as in your example things work fine. So I was wondering, whether you ever tested it with the TransformedTargetRegressor?","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1267238992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lb-vi","id":98164206,"node_id":"U_kgDOBdnd7g","avatar_url":"https://avatars.githubusercontent.com/u/98164206?v=4","gravatar_id":"","url":"https://api.github.com/users/lb-vi","html_url":"https://github.com/lb-vi","followers_url":"https://api.github.com/users/lb-vi/followers","following_url":"https://api.github.com/users/lb-vi/following{/other_user}","gists_url":"https://api.github.com/users/lb-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/lb-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lb-vi/subscriptions","organizations_url":"https://api.github.com/users/lb-vi/orgs","repos_url":"https://api.github.com/users/lb-vi/repos","events_url":"https://api.github.com/users/lb-vi/events{/privacy}","received_events_url":"https://api.github.com/users/lb-vi/received_events","type":"User","site_admin":false}},{"id":7518074843,"node_id":"MEE_lADOCa0gS84hO6oLzwAAAAHAHLfb","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/7518074843","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-10-04T16:09:13Z","performed_via_github_app":null},{"id":7518074856,"node_id":"SE_lADOCa0gS84hO6oLzwAAAAHAHLfo","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/7518074856","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-10-04T16:09:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1267249689","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-1267249689","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":1267249689,"node_id":"IC_kwDOCa0gS85LiLIZ","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2022-10-04T16:17:50Z","updated_at":"2022-10-04T16:17:50Z","author_association":"COLLABORATOR","body":"The following page indicates the list of supported models: https://onnx.ai/sklearn-onnx/supported.html. There is no converter for it right now. So if you implemented a new converter, you need to register it: https://onnx.ai/sklearn-onnx/auto_tutorial/plot_kcustom_converter_wrapper.html (function update_registered_converter). If that's not the case, I'll need more information on the predictor inside the transformer to see if it is easy to do.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1267249689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1267343723","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-1267343723","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":1267343723,"node_id":"IC_kwDOCa0gS85LiiFr","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2022-10-04T17:42:38Z","updated_at":"2022-10-04T17:42:38Z","author_association":"COLLABORATOR","body":"A new project https://github.com/microsoft/onnx-script has started to help create onnx models. It might be easier to use. i did not write example with sklearn-onnx but it should be soon.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1267343723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1267977772","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-1267977772","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":1267977772,"node_id":"IC_kwDOCa0gS85Lk84s","user":{"login":"lb-vi","id":98164206,"node_id":"U_kgDOBdnd7g","avatar_url":"https://avatars.githubusercontent.com/u/98164206?v=4","gravatar_id":"","url":"https://api.github.com/users/lb-vi","html_url":"https://github.com/lb-vi","followers_url":"https://api.github.com/users/lb-vi/followers","following_url":"https://api.github.com/users/lb-vi/following{/other_user}","gists_url":"https://api.github.com/users/lb-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/lb-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lb-vi/subscriptions","organizations_url":"https://api.github.com/users/lb-vi/orgs","repos_url":"https://api.github.com/users/lb-vi/repos","events_url":"https://api.github.com/users/lb-vi/events{/privacy}","received_events_url":"https://api.github.com/users/lb-vi/received_events","type":"User","site_admin":false},"created_at":"2022-10-05T05:58:18Z","updated_at":"2022-10-05T05:58:18Z","author_association":"NONE","body":"Thank you for the directions to look into. I did not yet implement a converter only the function and inverse function as described in your example (http://www.xavierdupre.fr/app/mlprodict/helpsphinx/blog/2021/2021-05-05_numpyapionnx1.html). I probably misunderstood your sentence \r\n> If you write your function with this api, the conversion is free. \r\n\r\nMy simple test employed sklearn's LinearRegression model but actually I want to use it with a GradientBoostingRegressor and ExtraTreesRegressor. As I understand from the page of supported models all of these are supported.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1267977772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lb-vi","id":98164206,"node_id":"U_kgDOBdnd7g","avatar_url":"https://avatars.githubusercontent.com/u/98164206?v=4","gravatar_id":"","url":"https://api.github.com/users/lb-vi","html_url":"https://github.com/lb-vi","followers_url":"https://api.github.com/users/lb-vi/followers","following_url":"https://api.github.com/users/lb-vi/following{/other_user}","gists_url":"https://api.github.com/users/lb-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/lb-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lb-vi/subscriptions","organizations_url":"https://api.github.com/users/lb-vi/orgs","repos_url":"https://api.github.com/users/lb-vi/repos","events_url":"https://api.github.com/users/lb-vi/events{/privacy}","received_events_url":"https://api.github.com/users/lb-vi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1268093757","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-1268093757","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":1268093757,"node_id":"IC_kwDOCa0gS85LlZM9","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2022-10-05T08:09:43Z","updated_at":"2022-10-05T08:09:43Z","author_association":"COLLABORATOR","body":"I need to know more about the model your need to convert. Your scenario is still the same as the one mentioned at the beginning of the issue? What about the one with the linear regression?","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1268093757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1268113234","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-1268113234","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":1268113234,"node_id":"IC_kwDOCa0gS85Lld9S","user":{"login":"lb-vi","id":98164206,"node_id":"U_kgDOBdnd7g","avatar_url":"https://avatars.githubusercontent.com/u/98164206?v=4","gravatar_id":"","url":"https://api.github.com/users/lb-vi","html_url":"https://github.com/lb-vi","followers_url":"https://api.github.com/users/lb-vi/followers","following_url":"https://api.github.com/users/lb-vi/following{/other_user}","gists_url":"https://api.github.com/users/lb-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/lb-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lb-vi/subscriptions","organizations_url":"https://api.github.com/users/lb-vi/orgs","repos_url":"https://api.github.com/users/lb-vi/repos","events_url":"https://api.github.com/users/lb-vi/events{/privacy}","received_events_url":"https://api.github.com/users/lb-vi/received_events","type":"User","site_admin":false},"created_at":"2022-10-05T08:25:42Z","updated_at":"2022-10-05T08:25:42Z","author_association":"NONE","body":"Yes, I use a TransformedTargetRegressor and log(x+1) + inverse function:\r\n```\r\n@onnxnumpy_default\r\ndef onnx_log_1(x: NDArray[Any, np.float32]) -> NDArray[(None, None), np.float32]:\r\n    return npnx.log1p(x)\r\n\r\n@onnxnumpy_default\r\ndef onnx_exp_1(x: NDArray[Any, np.float32]) -> NDArray[(None, None), np.float32]:\r\n    return npnx.exp(x) - np.float32(1)\r\n\r\nmodel = TransformedTargetRegressor(regressor=LinearRegression(), func=onnx_log_1, inverse_func=onnx_exp_1)\r\n```\r\n\r\nOther than this I basically stuck to your code here http://www.xavierdupre.fr/app/mlprodict/helpsphinx/blog/2021/2021-05-05_numpyapionnx1.html \r\nWhen it comes to calling `to_onnx` it fails stating:\r\n\r\n> MissingShapeCalculator: Unable to find a shape calculator for type '<class 'sklearn.compose._target.TransformedTargetRegressor'>'.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1268113234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lb-vi","id":98164206,"node_id":"U_kgDOBdnd7g","avatar_url":"https://avatars.githubusercontent.com/u/98164206?v=4","gravatar_id":"","url":"https://api.github.com/users/lb-vi","html_url":"https://github.com/lb-vi","followers_url":"https://api.github.com/users/lb-vi/followers","following_url":"https://api.github.com/users/lb-vi/following{/other_user}","gists_url":"https://api.github.com/users/lb-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/lb-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lb-vi/subscriptions","organizations_url":"https://api.github.com/users/lb-vi/orgs","repos_url":"https://api.github.com/users/lb-vi/repos","events_url":"https://api.github.com/users/lb-vi/events{/privacy}","received_events_url":"https://api.github.com/users/lb-vi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1268402735","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-1268402735","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":1268402735,"node_id":"IC_kwDOCa0gS85Lmkov","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2022-10-05T12:58:54Z","updated_at":"2022-10-05T12:58:54Z","author_association":"COLLABORATOR","body":"I see. I'll complete the example to make it work.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1268402735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1272999102","html_url":"https://github.com/onnx/sklearn-onnx/issues/390#issuecomment-1272999102","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/390","id":1272999102,"node_id":"IC_kwDOCa0gS85L4Gy-","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2022-10-10T09:00:47Z","updated_at":"2022-10-10T09:00:47Z","author_association":"COLLABORATOR","body":"I guess that was not that obvious but if you install the latest version of mlprodict, you should be able to run the following example https://github.com/sdpython/mlprodict/blob/master/_doc/examples/plot_converters.py which covers your need.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/1272999102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}}]