[{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/551713448","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-551713448","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":551713448,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTcxMzQ0OA==","user":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"created_at":"2019-11-08T12:32:07Z","updated_at":"2019-11-08T12:32:07Z","author_association":"COLLABORATOR","body":"Can you give me link to the tutorial? I don't use output shape when converting models, so I'll need to look at the exact code.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/551713448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/551884097","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-551884097","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":551884097,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTg4NDA5Nw==","user":{"login":"XciD","id":6586344,"node_id":"MDQ6VXNlcjY1ODYzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6586344?v=4","gravatar_id":"","url":"https://api.github.com/users/XciD","html_url":"https://github.com/XciD","followers_url":"https://api.github.com/users/XciD/followers","following_url":"https://api.github.com/users/XciD/following{/other_user}","gists_url":"https://api.github.com/users/XciD/gists{/gist_id}","starred_url":"https://api.github.com/users/XciD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XciD/subscriptions","organizations_url":"https://api.github.com/users/XciD/orgs","repos_url":"https://api.github.com/users/XciD/repos","events_url":"https://api.github.com/users/XciD/events{/privacy}","received_events_url":"https://api.github.com/users/XciD/received_events","type":"User","site_admin":false},"created_at":"2019-11-08T15:59:53Z","updated_at":"2019-11-08T15:59:53Z","author_association":"NONE","body":"I've used this one, \r\n\r\nI've just replace: \r\n```\r\ninitial_type = [('float_input', FloatTensorType([1, 4]))]\r\n``` \r\nto\r\n```\r\ninitial_type = [('float_input', FloatTensorType([None, 4]))]\r\n```\r\n\r\nSeems like the first one don't work.\r\n```\r\nonnxruntime.capi.onnxruntime_pybind11_state.InvalidArgument: [ONNXRuntimeError] : 2 : INVALID_ARGUMENT : Got invalid dimensions for input: float_input for the following indices\r\n index: 0 Got: 38 Expected: 1\r\n Please fix either the inputs or the model.\r\n```","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/551884097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XciD","id":6586344,"node_id":"MDQ6VXNlcjY1ODYzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6586344?v=4","gravatar_id":"","url":"https://api.github.com/users/XciD","html_url":"https://github.com/XciD","followers_url":"https://api.github.com/users/XciD/followers","following_url":"https://api.github.com/users/XciD/following{/other_user}","gists_url":"https://api.github.com/users/XciD/gists{/gist_id}","starred_url":"https://api.github.com/users/XciD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XciD/subscriptions","organizations_url":"https://api.github.com/users/XciD/orgs","repos_url":"https://api.github.com/users/XciD/repos","events_url":"https://api.github.com/users/XciD/events{/privacy}","received_events_url":"https://api.github.com/users/XciD/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/552246811","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-552246811","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":552246811,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjI0NjgxMQ==","user":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"created_at":"2019-11-10T23:31:37Z","updated_at":"2019-11-10T23:31:37Z","author_association":"COLLABORATOR","body":"I don't see a link in your message, are you using this: http://onnx.ai/sklearn-onnx/?\r\nYes, we need to use _None_ for dynamic number of inputs because of changes in latest onnxruntime.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/552246811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/552355040","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-552355040","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":552355040,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjM1NTA0MA==","user":{"login":"XciD","id":6586344,"node_id":"MDQ6VXNlcjY1ODYzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6586344?v=4","gravatar_id":"","url":"https://api.github.com/users/XciD","html_url":"https://github.com/XciD","followers_url":"https://api.github.com/users/XciD/followers","following_url":"https://api.github.com/users/XciD/following{/other_user}","gists_url":"https://api.github.com/users/XciD/gists{/gist_id}","starred_url":"https://api.github.com/users/XciD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XciD/subscriptions","organizations_url":"https://api.github.com/users/XciD/orgs","repos_url":"https://api.github.com/users/XciD/repos","events_url":"https://api.github.com/users/XciD/events{/privacy}","received_events_url":"https://api.github.com/users/XciD/received_events","type":"User","site_admin":false},"created_at":"2019-11-11T09:08:13Z","updated_at":"2019-11-11T09:08:35Z","author_association":"NONE","body":"Yes it’s this one. (Forgot to paste, sorry)\r\nYes I understood the None as input that create the dynamic shape. \r\n\r\nBut the 1 as output should then be None ? As it’s a scalar output with a dynamic shape also ?","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/552355040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XciD","id":6586344,"node_id":"MDQ6VXNlcjY1ODYzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6586344?v=4","gravatar_id":"","url":"https://api.github.com/users/XciD","html_url":"https://github.com/XciD","followers_url":"https://api.github.com/users/XciD/followers","following_url":"https://api.github.com/users/XciD/following{/other_user}","gists_url":"https://api.github.com/users/XciD/gists{/gist_id}","starred_url":"https://api.github.com/users/XciD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XciD/subscriptions","organizations_url":"https://api.github.com/users/XciD/orgs","repos_url":"https://api.github.com/users/XciD/repos","events_url":"https://api.github.com/users/XciD/events{/privacy}","received_events_url":"https://api.github.com/users/XciD/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/552642255","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-552642255","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":552642255,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjY0MjI1NQ==","user":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"created_at":"2019-11-11T22:17:44Z","updated_at":"2019-11-11T22:18:17Z","author_association":"COLLABORATOR","body":"This is the correct example:\r\n\r\nfrom sklearn.datasets import load_iris\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.ensemble import RandomForestClassifier\r\niris = load_iris()\r\nX, y = iris.data, iris.target\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\nclr = RandomForestClassifier()\r\nclr.fit(X_train, y_train)\r\n\r\nfrom skl2onnx import convert_sklearn\r\nfrom skl2onnx.common.data_types import FloatTensorType\r\ninitial_type = [('float_input', FloatTensorType([None, 4]))]\r\nonx = convert_sklearn(clr, initial_types=initial_type)\r\nwith open(\"rf_iris.onnx\", \"wb\") as f:\r\n    f.write(onx.SerializeToString())\r\n\r\nimport onnxruntime as rt\r\nimport numpy\r\nsess = rt.InferenceSession(\"rf_iris.onnx\")\r\ninput_name = sess.get_inputs()[0].name\r\nlabel_name = sess.get_outputs()[0].name\r\npred_onx = sess.run([label_name], {input_name: X_test.astype(numpy.float32)})[0]\r\n\r\nReplace 1 -> None in input shape. I don't see output shape in this example, may be you used a different one. Can you paste your complete code here? Sorry, I have never used output shape before.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/552642255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/552784541","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-552784541","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":552784541,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjc4NDU0MQ==","user":{"login":"XciD","id":6586344,"node_id":"MDQ6VXNlcjY1ODYzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6586344?v=4","gravatar_id":"","url":"https://api.github.com/users/XciD","html_url":"https://github.com/XciD","followers_url":"https://api.github.com/users/XciD/followers","following_url":"https://api.github.com/users/XciD/following{/other_user}","gists_url":"https://api.github.com/users/XciD/gists{/gist_id}","starred_url":"https://api.github.com/users/XciD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XciD/subscriptions","organizations_url":"https://api.github.com/users/XciD/orgs","repos_url":"https://api.github.com/users/XciD/repos","events_url":"https://api.github.com/users/XciD/events{/privacy}","received_events_url":"https://api.github.com/users/XciD/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T08:19:41Z","updated_at":"2019-11-14T10:24:31Z","author_association":"NONE","body":"Yes you are right, this is the code.\r\n\r\nThen you can print the onnx input / outputs and you will see the i/o shape.\r\n```python3\r\nprint(\"input name='{}' and shape={}\".format(\r\n    sess.get_inputs()[0].name, sess.get_inputs()[0].shape))\r\nprint(\"output name='{}' and shape={}\".format(\r\n    sess.get_outputs()[0].name, sess.get_outputs()[0].shape))\r\n```\r\nwill print:\r\n```\r\ninput name='float_input' and shape=[None, 4]\r\noutput name='output_label' and shape=[1]\r\n```\r\n\r\nI'm not setting up the output shape, just displaying it\r\n\r\n","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/552784541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XciD","id":6586344,"node_id":"MDQ6VXNlcjY1ODYzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6586344?v=4","gravatar_id":"","url":"https://api.github.com/users/XciD","html_url":"https://github.com/XciD","followers_url":"https://api.github.com/users/XciD/followers","following_url":"https://api.github.com/users/XciD/following{/other_user}","gists_url":"https://api.github.com/users/XciD/gists{/gist_id}","starred_url":"https://api.github.com/users/XciD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XciD/subscriptions","organizations_url":"https://api.github.com/users/XciD/orgs","repos_url":"https://api.github.com/users/XciD/repos","events_url":"https://api.github.com/users/XciD/events{/privacy}","received_events_url":"https://api.github.com/users/XciD/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/553573734","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-553573734","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":553573734,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU3MzczNA==","user":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"created_at":"2019-11-13T19:53:12Z","updated_at":"2019-11-13T19:53:12Z","author_association":"COLLABORATOR","body":"I see what you mean, I'll mark this as a bug and debug this further.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/553573734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false}},{"id":2796608937,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3OTY2MDg5Mzc=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/2796608937","actor":{"login":"prabhat00155","id":7043157,"node_id":"MDQ6VXNlcjcwNDMxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7043157?v=4","gravatar_id":"","url":"https://api.github.com/users/prabhat00155","html_url":"https://github.com/prabhat00155","followers_url":"https://api.github.com/users/prabhat00155/followers","following_url":"https://api.github.com/users/prabhat00155/following{/other_user}","gists_url":"https://api.github.com/users/prabhat00155/gists{/gist_id}","starred_url":"https://api.github.com/users/prabhat00155/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabhat00155/subscriptions","organizations_url":"https://api.github.com/users/prabhat00155/orgs","repos_url":"https://api.github.com/users/prabhat00155/repos","events_url":"https://api.github.com/users/prabhat00155/events{/privacy}","received_events_url":"https://api.github.com/users/prabhat00155/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-13T19:53:30Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/553581093","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-553581093","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":553581093,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU4MTA5Mw==","user":{"login":"XciD","id":6586344,"node_id":"MDQ6VXNlcjY1ODYzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6586344?v=4","gravatar_id":"","url":"https://api.github.com/users/XciD","html_url":"https://github.com/XciD","followers_url":"https://api.github.com/users/XciD/followers","following_url":"https://api.github.com/users/XciD/following{/other_user}","gists_url":"https://api.github.com/users/XciD/gists{/gist_id}","starred_url":"https://api.github.com/users/XciD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XciD/subscriptions","organizations_url":"https://api.github.com/users/XciD/orgs","repos_url":"https://api.github.com/users/XciD/repos","events_url":"https://api.github.com/users/XciD/events{/privacy}","received_events_url":"https://api.github.com/users/XciD/received_events","type":"User","site_admin":false},"created_at":"2019-11-13T20:11:39Z","updated_at":"2019-11-13T20:11:39Z","author_association":"NONE","body":"Great. \r\n\r\nIf you give me some pointer I be glad to help you","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/553581093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XciD","id":6586344,"node_id":"MDQ6VXNlcjY1ODYzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6586344?v=4","gravatar_id":"","url":"https://api.github.com/users/XciD","html_url":"https://github.com/XciD","followers_url":"https://api.github.com/users/XciD/followers","following_url":"https://api.github.com/users/XciD/following{/other_user}","gists_url":"https://api.github.com/users/XciD/gists{/gist_id}","starred_url":"https://api.github.com/users/XciD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XciD/subscriptions","organizations_url":"https://api.github.com/users/XciD/orgs","repos_url":"https://api.github.com/users/XciD/repos","events_url":"https://api.github.com/users/XciD/events{/privacy}","received_events_url":"https://api.github.com/users/XciD/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/554307437","html_url":"https://github.com/onnx/sklearn-onnx/issues/312#issuecomment-554307437","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/312","id":554307437,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDMwNzQzNw==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2019-11-15T10:35:18Z","updated_at":"2019-11-15T10:35:18Z","author_association":"COLLABORATOR","body":"It seems a bug in onnxruntime and onnx (see #323), it works for regressors but fails for classifiers.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/554307437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"id":2866418762,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI4NjY0MTg3NjI=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/2866418762","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"9da461f96ce20ae2b253c171790c15e3900e4205","commit_url":"https://api.github.com/repos/onnx/sklearn-onnx/commits/9da461f96ce20ae2b253c171790c15e3900e4205","created_at":"2019-12-09T13:59:06Z","performed_via_github_app":null},{"actor":{"login":"Pavel-Konarik","id":5358892,"node_id":"MDQ6VXNlcjUzNTg4OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5358892?v=4","gravatar_id":"","url":"https://api.github.com/users/Pavel-Konarik","html_url":"https://github.com/Pavel-Konarik","followers_url":"https://api.github.com/users/Pavel-Konarik/followers","following_url":"https://api.github.com/users/Pavel-Konarik/following{/other_user}","gists_url":"https://api.github.com/users/Pavel-Konarik/gists{/gist_id}","starred_url":"https://api.github.com/users/Pavel-Konarik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pavel-Konarik/subscriptions","organizations_url":"https://api.github.com/users/Pavel-Konarik/orgs","repos_url":"https://api.github.com/users/Pavel-Konarik/repos","events_url":"https://api.github.com/users/Pavel-Konarik/events{/privacy}","received_events_url":"https://api.github.com/users/Pavel-Konarik/received_events","type":"User","site_admin":false},"created_at":"2020-02-05T19:09:32Z","updated_at":"2020-02-05T19:09:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/onnx/models/issues/255","repository_url":"https://api.github.com/repos/onnx/models","labels_url":"https://api.github.com/repos/onnx/models/issues/255/labels{/name}","comments_url":"https://api.github.com/repos/onnx/models/issues/255/comments","events_url":"https://api.github.com/repos/onnx/models/issues/255/events","html_url":"https://github.com/onnx/models/issues/255","id":560570992,"node_id":"MDU6SXNzdWU1NjA1NzA5OTI=","number":255,"title":"Resnet batch prediction ","user":{"login":"Pavel-Konarik","id":5358892,"node_id":"MDQ6VXNlcjUzNTg4OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5358892?v=4","gravatar_id":"","url":"https://api.github.com/users/Pavel-Konarik","html_url":"https://github.com/Pavel-Konarik","followers_url":"https://api.github.com/users/Pavel-Konarik/followers","following_url":"https://api.github.com/users/Pavel-Konarik/following{/other_user}","gists_url":"https://api.github.com/users/Pavel-Konarik/gists{/gist_id}","starred_url":"https://api.github.com/users/Pavel-Konarik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pavel-Konarik/subscriptions","organizations_url":"https://api.github.com/users/Pavel-Konarik/orgs","repos_url":"https://api.github.com/users/Pavel-Konarik/repos","events_url":"https://api.github.com/users/Pavel-Konarik/events{/privacy}","received_events_url":"https://api.github.com/users/Pavel-Konarik/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-02-05T19:09:31Z","updated_at":"2020-02-05T19:09:31Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"repository":{"id":105952367,"node_id":"MDEwOlJlcG9zaXRvcnkxMDU5NTIzNjc=","name":"models","full_name":"onnx/models","private":false,"owner":{"login":"onnx","id":31675368,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxNjc1MzY4","avatar_url":"https://avatars.githubusercontent.com/u/31675368?v=4","gravatar_id":"","url":"https://api.github.com/users/onnx","html_url":"https://github.com/onnx","followers_url":"https://api.github.com/users/onnx/followers","following_url":"https://api.github.com/users/onnx/following{/other_user}","gists_url":"https://api.github.com/users/onnx/gists{/gist_id}","starred_url":"https://api.github.com/users/onnx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onnx/subscriptions","organizations_url":"https://api.github.com/users/onnx/orgs","repos_url":"https://api.github.com/users/onnx/repos","events_url":"https://api.github.com/users/onnx/events{/privacy}","received_events_url":"https://api.github.com/users/onnx/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/onnx/models","description":"A collection of pre-trained, state-of-the-art models in the ONNX format ","fork":false,"url":"https://api.github.com/repos/onnx/models","forks_url":"https://api.github.com/repos/onnx/models/forks","keys_url":"https://api.github.com/repos/onnx/models/keys{/key_id}","collaborators_url":"https://api.github.com/repos/onnx/models/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/onnx/models/teams","hooks_url":"https://api.github.com/repos/onnx/models/hooks","issue_events_url":"https://api.github.com/repos/onnx/models/issues/events{/number}","events_url":"https://api.github.com/repos/onnx/models/events","assignees_url":"https://api.github.com/repos/onnx/models/assignees{/user}","branches_url":"https://api.github.com/repos/onnx/models/branches{/branch}","tags_url":"https://api.github.com/repos/onnx/models/tags","blobs_url":"https://api.github.com/repos/onnx/models/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/onnx/models/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/onnx/models/git/refs{/sha}","trees_url":"https://api.github.com/repos/onnx/models/git/trees{/sha}","statuses_url":"https://api.github.com/repos/onnx/models/statuses/{sha}","languages_url":"https://api.github.com/repos/onnx/models/languages","stargazers_url":"https://api.github.com/repos/onnx/models/stargazers","contributors_url":"https://api.github.com/repos/onnx/models/contributors","subscribers_url":"https://api.github.com/repos/onnx/models/subscribers","subscription_url":"https://api.github.com/repos/onnx/models/subscription","commits_url":"https://api.github.com/repos/onnx/models/commits{/sha}","git_commits_url":"https://api.github.com/repos/onnx/models/git/commits{/sha}","comments_url":"https://api.github.com/repos/onnx/models/comments{/number}","issue_comment_url":"https://api.github.com/repos/onnx/models/issues/comments{/number}","contents_url":"https://api.github.com/repos/onnx/models/contents/{+path}","compare_url":"https://api.github.com/repos/onnx/models/compare/{base}...{head}","merges_url":"https://api.github.com/repos/onnx/models/merges","archive_url":"https://api.github.com/repos/onnx/models/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/onnx/models/downloads","issues_url":"https://api.github.com/repos/onnx/models/issues{/number}","pulls_url":"https://api.github.com/repos/onnx/models/pulls{/number}","milestones_url":"https://api.github.com/repos/onnx/models/milestones{/number}","notifications_url":"https://api.github.com/repos/onnx/models/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/onnx/models/labels{/name}","releases_url":"https://api.github.com/repos/onnx/models/releases{/id}","deployments_url":"https://api.github.com/repos/onnx/models/deployments","created_at":"2017-10-06T00:03:03Z","updated_at":"2023-01-19T06:41:29Z","pushed_at":"2023-01-17T14:28:21Z","git_url":"git://github.com/onnx/models.git","ssh_url":"git@github.com:onnx/models.git","clone_url":"https://github.com/onnx/models.git","svn_url":"https://github.com/onnx/models","homepage":"","size":425286,"stargazers_count":5436,"watchers_count":5436,"language":"Jupyter Notebook","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1140,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":161,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","download","models","onnx","pretrained"],"visibility":"public","forks":1140,"open_issues":161,"watchers":5436,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"My apologies if I am missing something obvious. \r\nI wanted to classify batch of 10 images using resnet34v2.onnx downloaded [here].(https://github.com/onnx/models/tree/master/vision/classification/resnet) \r\nI have simplified the example so instead of images lets classify zeros. \r\n```\r\nbatch_size = 10\r\narr = np.zeros((batch_size, 3, 224, 224), dtype=np.float32)\r\nsess = rt.InferenceSession(\"resnet34v2.onnx\")\r\ninput_name = sess.get_inputs()[0].name\r\nresult = sess.run(None, {input_name: arr })\r\n```\r\nThe error produced.\r\n```\r\nonnxruntime.capi.onnxruntime_pybind11_state.InvalidArgument: [ONNXRuntimeError] : 2 : INVALID_ARGUMENT : Got invalid dimensions for input: data for the following indices\r\n index: 0 Got: 10 Expected: 1\r\n```\r\nFrom [this post](https://github.com/onnx/sklearn-onnx/issues/312) I gathered that you can specify the input shape during conversion. In this case it should have been (None, 3, 224, 224), but was (1, 3, 224, 224). \r\nAny ideas how to allow batch prediction for already converted model?","reactions":{"url":"https://api.github.com/repos/onnx/models/issues/255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onnx/models/issues/255/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3269297318,"node_id":"MDEyOkxhYmVsZWRFdmVudDMyNjkyOTczMTg=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3269297318","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-04-24T12:59:11Z","label":{"name":"0.23","color":"fcf2ba"},"performed_via_github_app":null},{"id":3269300299,"node_id":"MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQzMjY5MzAwMjk5","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3269300299","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"added_to_project","commit_id":null,"commit_url":null,"created_at":"2020-04-24T13:00:03Z","project_card":{"id":36947262,"url":"https://api.github.com/projects/columns/cards/36947262","project_id":4372824,"project_url":"https://api.github.com/projects/4372824","column_name":"In progress"},"performed_via_github_app":null},{"id":3269303332,"node_id":"MDI2Ok1vdmVkQ29sdW1uc0luUHJvamVjdEV2ZW50MzI2OTMwMzMzMg==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3269303332","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"moved_columns_in_project","commit_id":null,"commit_url":null,"created_at":"2020-04-24T13:00:48Z","project_card":{"id":36947262,"url":"https://api.github.com/projects/columns/cards/36947262","project_id":4372824,"project_url":"https://api.github.com/projects/4372824","column_name":"To do","previous_column_name":"In progress"},"performed_via_github_app":null},{"id":3276053065,"node_id":"MDI2Ok1vdmVkQ29sdW1uc0luUHJvamVjdEV2ZW50MzI3NjA1MzA2NQ==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3276053065","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"moved_columns_in_project","commit_id":null,"commit_url":null,"created_at":"2020-04-27T14:28:12Z","project_card":{"id":36947262,"url":"https://api.github.com/projects/columns/cards/36947262","project_id":4372824,"project_url":"https://api.github.com/projects/4372824","column_name":"In progress","previous_column_name":"To do"},"performed_via_github_app":null},{"id":3276386422,"node_id":"MDExOkNsb3NlZEV2ZW50MzI3NjM4NjQyMg==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3276386422","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"closed","commit_id":"327d538c4e32dfd6c77a48c62a7efbff823de476","commit_url":"https://api.github.com/repos/onnx/sklearn-onnx/commits/327d538c4e32dfd6c77a48c62a7efbff823de476","created_at":"2020-04-27T15:40:28Z","state_reason":null,"performed_via_github_app":null},{"id":3276387914,"node_id":"MDI2Ok1vdmVkQ29sdW1uc0luUHJvamVjdEV2ZW50MzI3NjM4NzkxNA==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/3276387914","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"moved_columns_in_project","commit_id":null,"commit_url":null,"created_at":"2020-04-27T15:40:46Z","project_card":{"id":36947262,"url":"https://api.github.com/projects/columns/cards/36947262","project_id":4372824,"project_url":"https://api.github.com/projects/4372824","column_name":"Done","previous_column_name":"In progress"},"performed_via_github_app":null}]