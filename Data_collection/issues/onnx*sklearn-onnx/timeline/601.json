[{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/767706075","html_url":"https://github.com/onnx/sklearn-onnx/issues/601#issuecomment-767706075","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/601","id":767706075,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NzcwNjA3NQ==","user":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"created_at":"2021-01-26T17:35:28Z","updated_at":"2021-01-26T17:35:28Z","author_association":"COLLABORATOR","body":"It is difficult to give an answer which would work in any case. The first question to ask is to determine whether or not the preprocessing can be implemented with existing onnx operators. Let's assume yes. Then, one way to have a single scikit-learn pipeline including the preprocessing as transformers and to implement the converters for them. The tutorial contains examples on how to do that. Once the converters are implemented, the pipeline can be converted into a single onnx file like any other pipelines. If the preprocessing cannot be implemented with onnx operators, it depends on the runtime you plan to use with onnx. If it is onnxruntime, I suggest looking into this project https://github.com/microsoft/ort-customops which may be used to extend onnxruntime.","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/767706075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false}},{"id":4251895032,"node_id":"MDEyOkxhYmVsZWRFdmVudDQyNTE4OTUwMzI=","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4251895032","actor":{"login":"xadupre","id":22452781,"node_id":"MDQ6VXNlcjIyNDUyNzgx","avatar_url":"https://avatars.githubusercontent.com/u/22452781?v=4","gravatar_id":"","url":"https://api.github.com/users/xadupre","html_url":"https://github.com/xadupre","followers_url":"https://api.github.com/users/xadupre/followers","following_url":"https://api.github.com/users/xadupre/following{/other_user}","gists_url":"https://api.github.com/users/xadupre/gists{/gist_id}","starred_url":"https://api.github.com/users/xadupre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xadupre/subscriptions","organizations_url":"https://api.github.com/users/xadupre/orgs","repos_url":"https://api.github.com/users/xadupre/repos","events_url":"https://api.github.com/users/xadupre/events{/privacy}","received_events_url":"https://api.github.com/users/xadupre/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-01-26T17:36:12Z","label":{"name":"pending user response","color":"2465AA"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/770665554","html_url":"https://github.com/onnx/sklearn-onnx/issues/601#issuecomment-770665554","issue_url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/601","id":770665554,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDY2NTU1NA==","user":{"login":"Dingeman","id":34794164,"node_id":"MDQ6VXNlcjM0Nzk0MTY0","avatar_url":"https://avatars.githubusercontent.com/u/34794164?v=4","gravatar_id":"","url":"https://api.github.com/users/Dingeman","html_url":"https://github.com/Dingeman","followers_url":"https://api.github.com/users/Dingeman/followers","following_url":"https://api.github.com/users/Dingeman/following{/other_user}","gists_url":"https://api.github.com/users/Dingeman/gists{/gist_id}","starred_url":"https://api.github.com/users/Dingeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dingeman/subscriptions","organizations_url":"https://api.github.com/users/Dingeman/orgs","repos_url":"https://api.github.com/users/Dingeman/repos","events_url":"https://api.github.com/users/Dingeman/events{/privacy}","received_events_url":"https://api.github.com/users/Dingeman/received_events","type":"User","site_admin":false},"created_at":"2021-02-01T08:19:40Z","updated_at":"2021-02-01T08:19:40Z","author_association":"NONE","body":"Hi Xadupre,\r\n\r\nThank you for the information.\r\nAt this moment I managed to do the preprocessing in Pytorch and then to glue the preprocessing and sklearn model together manually. For the current PoC it is OK, but cumbersome for productization.\r\nI also couldn't quickely find all operators that will be needed with all preprocessing we've in mind. So I'll keep your suggestions in mind when we take the next steps!","reactions":{"url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/comments/770665554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Dingeman","id":34794164,"node_id":"MDQ6VXNlcjM0Nzk0MTY0","avatar_url":"https://avatars.githubusercontent.com/u/34794164?v=4","gravatar_id":"","url":"https://api.github.com/users/Dingeman","html_url":"https://github.com/Dingeman","followers_url":"https://api.github.com/users/Dingeman/followers","following_url":"https://api.github.com/users/Dingeman/following{/other_user}","gists_url":"https://api.github.com/users/Dingeman/gists{/gist_id}","starred_url":"https://api.github.com/users/Dingeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dingeman/subscriptions","organizations_url":"https://api.github.com/users/Dingeman/orgs","repos_url":"https://api.github.com/users/Dingeman/repos","events_url":"https://api.github.com/users/Dingeman/events{/privacy}","received_events_url":"https://api.github.com/users/Dingeman/received_events","type":"User","site_admin":false}},{"id":4272164900,"node_id":"MDExOkNsb3NlZEV2ZW50NDI3MjE2NDkwMA==","url":"https://api.github.com/repos/onnx/sklearn-onnx/issues/events/4272164900","actor":{"login":"Dingeman","id":34794164,"node_id":"MDQ6VXNlcjM0Nzk0MTY0","avatar_url":"https://avatars.githubusercontent.com/u/34794164?v=4","gravatar_id":"","url":"https://api.github.com/users/Dingeman","html_url":"https://github.com/Dingeman","followers_url":"https://api.github.com/users/Dingeman/followers","following_url":"https://api.github.com/users/Dingeman/following{/other_user}","gists_url":"https://api.github.com/users/Dingeman/gists{/gist_id}","starred_url":"https://api.github.com/users/Dingeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dingeman/subscriptions","organizations_url":"https://api.github.com/users/Dingeman/orgs","repos_url":"https://api.github.com/users/Dingeman/repos","events_url":"https://api.github.com/users/Dingeman/events{/privacy}","received_events_url":"https://api.github.com/users/Dingeman/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-02-01T08:19:41Z","state_reason":null,"performed_via_github_app":null}]