{"url":"https://api.github.com/repos/shepnerd/inpainting_gmcnn/issues/3","repository_url":"https://api.github.com/repos/shepnerd/inpainting_gmcnn","labels_url":"https://api.github.com/repos/shepnerd/inpainting_gmcnn/issues/3/labels{/name}","comments_url":"https://api.github.com/repos/shepnerd/inpainting_gmcnn/issues/3/comments","events_url":"https://api.github.com/repos/shepnerd/inpainting_gmcnn/issues/3/events","html_url":"https://github.com/shepnerd/inpainting_gmcnn/issues/3","id":424173966,"node_id":"MDU6SXNzdWU0MjQxNzM5NjY=","number":3,"title":"Questions about implementation","user":{"login":"hi-zhengcheng","id":33408107,"node_id":"MDQ6VXNlcjMzNDA4MTA3","avatar_url":"https://avatars.githubusercontent.com/u/33408107?v=4","gravatar_id":"","url":"https://api.github.com/users/hi-zhengcheng","html_url":"https://github.com/hi-zhengcheng","followers_url":"https://api.github.com/users/hi-zhengcheng/followers","following_url":"https://api.github.com/users/hi-zhengcheng/following{/other_user}","gists_url":"https://api.github.com/users/hi-zhengcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/hi-zhengcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hi-zhengcheng/subscriptions","organizations_url":"https://api.github.com/users/hi-zhengcheng/orgs","repos_url":"https://api.github.com/users/hi-zhengcheng/repos","events_url":"https://api.github.com/users/hi-zhengcheng/events{/privacy}","received_events_url":"https://api.github.com/users/hi-zhengcheng/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-03-22T11:55:59Z","updated_at":"2019-03-23T00:08:23Z","closed_at":"2019-03-23T00:08:23Z","author_association":"NONE","active_lock_reason":null,"body":"@shepnerd Thank you for the great work. After reading the paper and code, I can not understand the following code quite well. Need your help. \r\n\r\nWhen computing relative similarity between v and s:\r\n\r\nhttps://github.com/shepnerd/inpainting_gmcnn/blob/fe5295ea8029e59a9cd3ae5547463cf188450229/tensorflow/net/ops.py#L330\r\n\r\n```python\r\n    def calc_relative_distances(self, axis=3):\r\n        epsilon = 1e-5\r\n        div = tf.reduce_min(self.raw_distances, axis=axis, keep_dims=True)\r\n        relative_dist = self.raw_distances / (div + epsilon)\r\n        return relative_dist\r\n```\r\n\r\nThe paper said:\r\n![Screen Shot 2019-03-22 at 04 31 44](https://user-images.githubusercontent.com/33408107/54820165-79c1f500-4c5b-11e9-895e-21abf1c0fb62.png)\r\n\r\nIn my understanding:\r\n1. `max(r)` in paper is the `div` in the code.  \r\n2. When `s` is **not equal** to value in `div`, the code is OK. \r\n3. When `s` is **equal** to the value in `div`, as the paper said, `div` should exclude this value first, then find another suitable value.\r\n\r\nBut the code didn't handle the condition when `s` is **equal** to the value in `div` and didn't exclude it. Is this a small bug in the code or something wrong in my understanding ?\r\n\r\nHope I described it clearly. \r\n\r\n","closed_by":{"login":"hi-zhengcheng","id":33408107,"node_id":"MDQ6VXNlcjMzNDA4MTA3","avatar_url":"https://avatars.githubusercontent.com/u/33408107?v=4","gravatar_id":"","url":"https://api.github.com/users/hi-zhengcheng","html_url":"https://github.com/hi-zhengcheng","followers_url":"https://api.github.com/users/hi-zhengcheng/followers","following_url":"https://api.github.com/users/hi-zhengcheng/following{/other_user}","gists_url":"https://api.github.com/users/hi-zhengcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/hi-zhengcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hi-zhengcheng/subscriptions","organizations_url":"https://api.github.com/users/hi-zhengcheng/orgs","repos_url":"https://api.github.com/users/hi-zhengcheng/repos","events_url":"https://api.github.com/users/hi-zhengcheng/events{/privacy}","received_events_url":"https://api.github.com/users/hi-zhengcheng/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/shepnerd/inpainting_gmcnn/issues/3/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/shepnerd/inpainting_gmcnn/issues/3/timeline","performed_via_github_app":null,"state_reason":"completed"}