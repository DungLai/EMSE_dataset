{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4170","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/4170/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/4170/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/4170/events","html_url":"https://github.com/mlflow/mlflow/issues/4170","id":828047384,"node_id":"MDU6SXNzdWU4MjgwNDczODQ=","number":4170,"title":"Artifact listing error on remote server","user":{"login":"vertikal-andrea","id":72210563,"node_id":"MDQ6VXNlcjcyMjEwNTYz","avatar_url":"https://avatars.githubusercontent.com/u/72210563?v=4","gravatar_id":"","url":"https://api.github.com/users/vertikal-andrea","html_url":"https://github.com/vertikal-andrea","followers_url":"https://api.github.com/users/vertikal-andrea/followers","following_url":"https://api.github.com/users/vertikal-andrea/following{/other_user}","gists_url":"https://api.github.com/users/vertikal-andrea/gists{/gist_id}","starred_url":"https://api.github.com/users/vertikal-andrea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vertikal-andrea/subscriptions","organizations_url":"https://api.github.com/users/vertikal-andrea/orgs","repos_url":"https://api.github.com/users/vertikal-andrea/repos","events_url":"https://api.github.com/users/vertikal-andrea/events{/privacy}","received_events_url":"https://api.github.com/users/vertikal-andrea/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-03-10T17:00:42Z","updated_at":"2022-03-03T12:55:18Z","closed_at":"2021-03-12T10:13:06Z","author_association":"NONE","active_lock_reason":null,"body":"I am trying to setup a MLFlow tracking server on a remote machine as a systemd service.\r\nI have a sftp server running and created an SSH key pair.\r\n\r\nEverything seems to work fine except the artifact logging. MLFlow seems to not have permissions to list the artifacts saved in the `mlruns` directory.\r\n\r\nI create an experiment and log artifacts in this way:\r\n\r\n```\r\n    uri = 'http://192.XXX:8000' \r\n    mlflow.set_tracking_uri(uri)\r\n    \r\n    mlflow.create_experiment('test', artifact_location='sftp://192.XXX:_path_to_mlruns_folder_')\r\n    \r\n    experiment=mlflow.get_experiment_by_name('test')\r\n    with mlflow.start_run(experiment_id=experiment.experiment_id, run_name=run_name) as run:\r\n           mlflow.log_param(_parameter_name_, _parameter_value_)     \r\n           mlflow.log_artifact(_an_artifact_, _artifact_folder_name_)\r\n```\r\n\r\nI can see the metrics in the UI and the artifacts in the correct destination folder on the remote machine. However, in the UI I receive this message when trying to see the artifacts:\r\n\r\n_Unable to list artifacts stored\r\nunder sftp://192.XXX:_path_to_mlruns_folder_/_run_id_/artifacts\r\nfor the current run. Please contact your tracking server administrator\r\nto notify them of this error, which can happen when the tracking\r\nserver lacks permission to list artifacts under the current run's root\r\nartifact directory._\r\n\r\nI cannot figure out why as the `mlruns` folder has `drwxrwxrwx` permissions and all the subfolders have `drwxrwxr-x`. \r\nWhat am I missing?\r\n\r\nIn general, I think tt would be nice to have a more detailed documentation on how to set up remote MLFLow tracking servers.","closed_by":{"login":"vertikal-andrea","id":72210563,"node_id":"MDQ6VXNlcjcyMjEwNTYz","avatar_url":"https://avatars.githubusercontent.com/u/72210563?v=4","gravatar_id":"","url":"https://api.github.com/users/vertikal-andrea","html_url":"https://github.com/vertikal-andrea","followers_url":"https://api.github.com/users/vertikal-andrea/followers","following_url":"https://api.github.com/users/vertikal-andrea/following{/other_user}","gists_url":"https://api.github.com/users/vertikal-andrea/gists{/gist_id}","starred_url":"https://api.github.com/users/vertikal-andrea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vertikal-andrea/subscriptions","organizations_url":"https://api.github.com/users/vertikal-andrea/orgs","repos_url":"https://api.github.com/users/vertikal-andrea/repos","events_url":"https://api.github.com/users/vertikal-andrea/events{/privacy}","received_events_url":"https://api.github.com/users/vertikal-andrea/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/4170/timeline","performed_via_github_app":null,"state_reason":"completed"}