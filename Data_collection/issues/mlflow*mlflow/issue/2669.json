{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2669","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/2669/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/2669/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/2669/events","html_url":"https://github.com/mlflow/mlflow/issues/2669","id":594091767,"node_id":"MDU6SXNzdWU1OTQwOTE3Njc=","number":2669,"title":"ConnectionRefusedError: [Errno 61] Connection refused","user":{"login":"bhishanpdl","id":13811914,"node_id":"MDQ6VXNlcjEzODExOTE0","avatar_url":"https://avatars.githubusercontent.com/u/13811914?v=4","gravatar_id":"","url":"https://api.github.com/users/bhishanpdl","html_url":"https://github.com/bhishanpdl","followers_url":"https://api.github.com/users/bhishanpdl/followers","following_url":"https://api.github.com/users/bhishanpdl/following{/other_user}","gists_url":"https://api.github.com/users/bhishanpdl/gists{/gist_id}","starred_url":"https://api.github.com/users/bhishanpdl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhishanpdl/subscriptions","organizations_url":"https://api.github.com/users/bhishanpdl/orgs","repos_url":"https://api.github.com/users/bhishanpdl/repos","events_url":"https://api.github.com/users/bhishanpdl/events{/privacy}","received_events_url":"https://api.github.com/users/bhishanpdl/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1893057631,"node_id":"MDU6TGFiZWwxODkzMDU3NjMx","url":"https://api.github.com/repos/mlflow/mlflow/labels/Acknowledged","name":"Acknowledged","color":"f9d0c4","default":false,"description":"This issue has been read and acknowledged by the MLflow admins."},{"id":2022847277,"node_id":"MDU6TGFiZWwyMDIyODQ3Mjc3","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/examples","name":"area/examples","color":"48eabc","default":false,"description":"Example code"},{"id":2022848510,"node_id":"MDU6TGFiZWwyMDIyODQ4NTEw","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/projects","name":"area/projects","color":"48eabc","default":false,"description":"MLproject format, project running backends"},{"id":2022866842,"node_id":"MDU6TGFiZWwyMDIyODY2ODQy","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/awaiting-more-evidence","name":"priority/awaiting-more-evidence","color":"534cb5","default":false,"description":"Lowest priority. Possibly useful, but not yet enough support to actually get it done."}],"state":"open","locked":false,"assignee":{"login":"andychow-db","id":58712524,"node_id":"MDQ6VXNlcjU4NzEyNTI0","avatar_url":"https://avatars.githubusercontent.com/u/58712524?v=4","gravatar_id":"","url":"https://api.github.com/users/andychow-db","html_url":"https://github.com/andychow-db","followers_url":"https://api.github.com/users/andychow-db/followers","following_url":"https://api.github.com/users/andychow-db/following{/other_user}","gists_url":"https://api.github.com/users/andychow-db/gists{/gist_id}","starred_url":"https://api.github.com/users/andychow-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andychow-db/subscriptions","organizations_url":"https://api.github.com/users/andychow-db/orgs","repos_url":"https://api.github.com/users/andychow-db/repos","events_url":"https://api.github.com/users/andychow-db/events{/privacy}","received_events_url":"https://api.github.com/users/andychow-db/received_events","type":"User","site_admin":false},"assignees":[{"login":"andychow-db","id":58712524,"node_id":"MDQ6VXNlcjU4NzEyNTI0","avatar_url":"https://avatars.githubusercontent.com/u/58712524?v=4","gravatar_id":"","url":"https://api.github.com/users/andychow-db","html_url":"https://github.com/andychow-db","followers_url":"https://api.github.com/users/andychow-db/followers","following_url":"https://api.github.com/users/andychow-db/following{/other_user}","gists_url":"https://api.github.com/users/andychow-db/gists{/gist_id}","starred_url":"https://api.github.com/users/andychow-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andychow-db/subscriptions","organizations_url":"https://api.github.com/users/andychow-db/orgs","repos_url":"https://api.github.com/users/andychow-db/repos","events_url":"https://api.github.com/users/andychow-db/events{/privacy}","received_events_url":"https://api.github.com/users/andychow-db/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2020-04-04T20:48:55Z","updated_at":"2020-07-20T21:32:00Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Macos catalina\r\n- **MLflow installed from (source or binary)**: pip install mlflow\r\n- **MLflow version (run ``mlflow --version``)**: 1.7.2\r\n- **Python version**: Python 3.7.4\r\n- **Exact command to reproduce**: python examples/quickstart/mlflow_tracking.py\r\n\r\n### Describe the problem\r\nI have installed libraries like numpy, pandas, pyspark, koalas, and mlflow in one of the fresh conda environment. Then I downloaded this official repo and tried to run the examples.\r\n\r\nI used the following command as given in README:\r\n```\r\n mlflow run examples/sklearn_elasticnet_wine -P alpha=0.4\r\n```\r\n\r\nThis fails and gives the following error:\r\n```\r\nConnectionRefusedError: [Errno 61] Connection refused\r\n```\r\n\r\n### Other info / logs\r\n```\r\n[04:47 PM]  Bhishan at BpMacpro in ~/OneDrive - Ohio University/a01_Data_Science/c02_Modules/mlflow\r\n$ mlflow run examples/sklearn_elasticnet_wine -P alpha=0.4\r\n/Users/poudel/.local/lib/python3.7/site-packages/markupsafe/__init__.py:13: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Mapping\r\n/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/jinja2/utils.py:485: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import MutableMapping\r\n/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/pyspark/cloudpickle.py:47: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/py4j/java_collections.py:13: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import (\r\n/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/pyspark/resultiterable.py:23: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  class ResultIterable(collections.Iterable):\r\n/Users/poudel/.local/lib/python3.7/site-packages/yaml/constructor.py:126: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  if not isinstance(key, collections.Hashable):\r\nTraceback (most recent call last):\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/connection.py\", line 157, in _new_conn\r\n    (self._dns_host, self.port), self.timeout, **extra_kw\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/util/connection.py\", line 84, in create_connection\r\n    raise err\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/util/connection.py\", line 74, in create_connection\r\n    sock.connect(sa)\r\nConnectionRefusedError: [Errno 61] Connection refused\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 672, in urlopen\r\n    chunked=chunked,\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 387, in _make_request\r\n    conn.request(method, url, **httplib_request_kw)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/http/client.py\", line 1244, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/http/client.py\", line 1290, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/http/client.py\", line 1239, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/http/client.py\", line 1026, in _send_output\r\n    self.send(msg)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/http/client.py\", line 966, in send\r\n    self.connect()\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/connection.py\", line 184, in connect\r\n    conn = self._new_conn()\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/connection.py\", line 169, in _new_conn\r\n    self, \"Failed to establish a new connection: %s\" % e\r\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x11b06f510>: Failed to establish a new connection: [Errno 61] Connection refused\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/requests/adapters.py\", line 449, in send\r\n    timeout=timeout\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 720, in urlopen\r\n    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/urllib3/util/retry.py\", line 436, in increment\r\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\r\nurllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /api/2.0/mlflow/runs/create (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x11b06f510>: Failed to establish a new connection: [Errno 61] Connection refused'))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/poudel/miniconda3/envs/spk/bin/mlflow\", line 10, in <module>\r\n    sys.exit(cli())\r\n  File \"/Users/poudel/.local/lib/python3.7/site-packages/Click-7.0-py3.7.egg/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/Users/poudel/.local/lib/python3.7/site-packages/Click-7.0-py3.7.egg/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/poudel/.local/lib/python3.7/site-packages/Click-7.0-py3.7.egg/click/core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/Users/poudel/.local/lib/python3.7/site-packages/Click-7.0-py3.7.egg/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/Users/poudel/.local/lib/python3.7/site-packages/Click-7.0-py3.7.egg/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/cli.py\", line 138, in run\r\n    run_id=run_id\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/projects/__init__.py\", line 288, in run\r\n    use_conda=use_conda, storage_dir=storage_dir, synchronous=synchronous, run_id=run_id)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/projects/__init__.py\", line 111, in _run\r\n    active_run = _create_run(uri, experiment_id, work_dir, entry_point)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/projects/__init__.py\", line 576, in _create_run\r\n    active_run = tracking.MlflowClient().create_run(experiment_id=experiment_id, tags=tags)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/tracking/client.py\", line 123, in create_run\r\n    return self._tracking_client.create_run(experiment_id, start_time, tags)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/tracking/_tracking_service/client.py\", line 88, in create_run\r\n    tags=[RunTag(key, value) for (key, value) in iteritems(tags)]\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/store/tracking/rest_store.py\", line 117, in create_run\r\n    response_proto = self._call_endpoint(CreateRun, req_body)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/store/tracking/rest_store.py\", line 32, in _call_endpoint\r\n    return call_endpoint(self.get_host_creds(), endpoint, method, json_body, response_proto)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/utils/rest_utils.py\", line 136, in call_endpoint\r\n    host_creds=host_creds, endpoint=endpoint, method=method, json=json_body)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/utils/rest_utils.py\", line 70, in http_request\r\n    url=url, headers=headers, verify=verify, **kwargs)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/mlflow/utils/rest_utils.py\", line 51, in request_with_ratelimit_retries\r\n    response = requests.request(**kwargs)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/requests/api.py\", line 61, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/requests/sessions.py\", line 530, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/requests/sessions.py\", line 643, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/Users/poudel/miniconda3/envs/spk/lib/python3.7/site-packages/requests/adapters.py\", line 516, in send\r\n    raise ConnectionError(e, request=request)\r\nrequests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /api/2.0/mlflow/runs/create (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x11b06f510>: Failed to establish a new connection: [Errno 61] Connection refused'))\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/2669/timeline","performed_via_github_app":null,"state_reason":null}