{"url":"https://api.github.com/repos/mlflow/mlflow/issues/456","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/456/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/456/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/456/events","html_url":"https://github.com/mlflow/mlflow/issues/456","id":358457843,"node_id":"MDU6SXNzdWUzNTg0NTc4NDM=","number":456,"title":"Unable to run the sample example for MLFlow JAVA client","user":{"login":"rahulpshah","id":14010766,"node_id":"MDQ6VXNlcjE0MDEwNzY2","avatar_url":"https://avatars.githubusercontent.com/u/14010766?v=4","gravatar_id":"","url":"https://api.github.com/users/rahulpshah","html_url":"https://github.com/rahulpshah","followers_url":"https://api.github.com/users/rahulpshah/followers","following_url":"https://api.github.com/users/rahulpshah/following{/other_user}","gists_url":"https://api.github.com/users/rahulpshah/gists{/gist_id}","starred_url":"https://api.github.com/users/rahulpshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahulpshah/subscriptions","organizations_url":"https://api.github.com/users/rahulpshah/orgs","repos_url":"https://api.github.com/users/rahulpshah/repos","events_url":"https://api.github.com/users/rahulpshah/events{/privacy}","received_events_url":"https://api.github.com/users/rahulpshah/received_events","type":"User","site_admin":false},"labels":[{"id":1554650079,"node_id":"MDU6TGFiZWwxNTU0NjUwMDc5","url":"https://api.github.com/repos/mlflow/mlflow/labels/stale","name":"stale","color":"828282","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"apurva-koti","id":51172624,"node_id":"MDQ6VXNlcjUxMTcyNjI0","avatar_url":"https://avatars.githubusercontent.com/u/51172624?v=4","gravatar_id":"","url":"https://api.github.com/users/apurva-koti","html_url":"https://github.com/apurva-koti","followers_url":"https://api.github.com/users/apurva-koti/followers","following_url":"https://api.github.com/users/apurva-koti/following{/other_user}","gists_url":"https://api.github.com/users/apurva-koti/gists{/gist_id}","starred_url":"https://api.github.com/users/apurva-koti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apurva-koti/subscriptions","organizations_url":"https://api.github.com/users/apurva-koti/orgs","repos_url":"https://api.github.com/users/apurva-koti/repos","events_url":"https://api.github.com/users/apurva-koti/events{/privacy}","received_events_url":"https://api.github.com/users/apurva-koti/received_events","type":"User","site_admin":false},"assignees":[{"login":"apurva-koti","id":51172624,"node_id":"MDQ6VXNlcjUxMTcyNjI0","avatar_url":"https://avatars.githubusercontent.com/u/51172624?v=4","gravatar_id":"","url":"https://api.github.com/users/apurva-koti","html_url":"https://github.com/apurva-koti","followers_url":"https://api.github.com/users/apurva-koti/followers","following_url":"https://api.github.com/users/apurva-koti/following{/other_user}","gists_url":"https://api.github.com/users/apurva-koti/gists{/gist_id}","starred_url":"https://api.github.com/users/apurva-koti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apurva-koti/subscriptions","organizations_url":"https://api.github.com/users/apurva-koti/orgs","repos_url":"https://api.github.com/users/apurva-koti/repos","events_url":"https://api.github.com/users/apurva-koti/events{/privacy}","received_events_url":"https://api.github.com/users/apurva-koti/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2018-09-10T03:45:31Z","updated_at":"2019-11-12T19:49:55Z","closed_at":"2019-11-12T19:49:55Z","author_association":"NONE","active_lock_reason":null,"body":"### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**:\r\nNo\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nMac OSX 10.13.6\r\n- **MLflow installed from (source or binary)**: \r\n    mlflow, version 0.6.0.dev0 - Installed from source\r\n- **MLflow version (run ``mlflow --version``)**:\r\n- **Python version**: \r\n      Python 3.6.5\r\n- **npm version (if running the dev UI):\r\n- **Exact command to reproduce**:\r\n     - `mvn package` in the src directory of the client of the java directory\r\n     - `Start the MLFlow Tracking server` with MLFLOW_TRACKING_URI set.\r\n     -   `java -cp target/mlflow-client-0.6.0.jar org.mlflow.tracking.samples.QuickStartDriver`\r\n - JAVA version\r\n     - java version \"1.8.0_181\"\r\n### Describe the  problem\r\nLog4j.Logger class is not present in the uber-jar created by the mvn package as it excluded by the shade plugin. This can be resolved by including adding the log4j:log4j in uber-jar's artifactSet\r\n\r\n### Source code / logs\r\nImportant Logs from mvn package:\r\n\r\n```\r\n[INFO] --- maven-shade-plugin:3.1.0:shade (default) @ mlflow-client ---\r\n[INFO] Excluding log4j:log4j:jar:1.2.17 from the shaded jar.\r\n[INFO] Including org.apache.httpcomponents:httpclient:jar:4.5.6 in the shaded jar.\r\n[INFO] Including org.apache.httpcomponents:httpcore:jar:4.4.10 in the shaded jar.\r\n[INFO] Including commons-logging:commons-logging:jar:1.2 in the shaded jar.\r\n[INFO] Including commons-codec:commons-codec:jar:1.10 in the shaded jar.\r\n[INFO] Including com.google.protobuf:protobuf-java:jar:3.6.0 in the shaded jar.\r\n[INFO] Including com.google.protobuf:protobuf-java-util:jar:3.6.0 in the shaded jar.\r\n[INFO] Including com.google.guava:guava:jar:19.0 in the shaded jar.\r\n[INFO] Including com.google.code.gson:gson:jar:2.7 in the shaded jar.\r\n[INFO] Including commons-io:commons-io:jar:2.5 in the shaded jar.\r\n[INFO] Including org.ini4j:ini4j:jar:0.5.4 in the shaded jar.\r\n```\r\n\r\nStackTrace from running the last command:\r\n\r\n```\r\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/log4j/Logger\r\n\tat org.mlflow.tracking.MlflowHttpCaller.<clinit>(MlflowHttpCaller.java:30)\r\n\tat org.mlflow.tracking.MlflowClient.<init>(MlflowClient.java:44)\r\n\tat org.mlflow.tracking.MlflowClient.<init>(MlflowClient.java:35)\r\n\tat org.mlflow.tracking.MlflowClient.<init>(MlflowClient.java:30)\r\n\tat org.mlflow.tracking.samples.QuickStartDriver.process(QuickStartDriver.java:24)\r\n\tat org.mlflow.tracking.samples.QuickStartDriver.main(QuickStartDriver.java:18)\r\n```\r\n","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/456/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/456/timeline","performed_via_github_app":null,"state_reason":"completed"}