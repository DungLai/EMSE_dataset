{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1088","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/1088/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/1088/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/1088/events","html_url":"https://github.com/mlflow/mlflow/issues/1088","id":428469354,"node_id":"MDU6SXNzdWU0Mjg0NjkzNTQ=","number":1088,"title":"Tracking tests fail when run locally through pytest tests/","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","site_admin":true},"labels":[{"id":1554650079,"node_id":"MDU6TGFiZWwxNTU0NjUwMDc5","url":"https://api.github.com/repos/mlflow/mlflow/labels/stale","name":"stale","color":"828282","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-04-02T22:13:36Z","updated_at":"2019-11-12T21:49:58Z","closed_at":"2019-11-12T21:49:58Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The tracking tests fail when run locally through pytest /tests (See errors below). \r\nThe reason is that the tracking environment is not properly cleaned after the spark tests are executed. The tests should be independent of each other so that execution order does not affect the output.\r\n\r\n\r\nErrors: \r\n_________________________________________________________________________________ test_rename_experiment_cli _________________________________________________________________________________\r\n\r\n    def test_rename_experiment_cli(mlflow_client, cli_env):\r\n        bad_experiment_name = \"BadName\"\r\n        good_experiment_name = \"GoodName\"\r\n\r\n        CliRunner(env=cli_env).invoke(mlflow.experiments.commands, ['create', bad_experiment_name])\r\n>       experiment_id = mlflow_client.get_experiment_by_name(bad_experiment_name).experiment_id\r\nE       AttributeError: 'NoneType' object has no attribute 'experiment_id'\r\n\r\ntests/tracking/test_rest_tracking.py:158: AttributeError\r\n\r\n\r\n_______________________________________________________ test_get_artifact_uri_with_artifact_path_unspecified_returns_artifact_root_dir _______________________________________________________\r\n    def test_get_artifact_uri_with_artifact_path_unspecified_returns_artifact_root_dir():\r\n>       with mlflow.start_run() as active_run:\r\n\r\ntests/tracking/test_tracking.py:421:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\nE           Exception: Run with UUID 4170ed8fd2074967a1c465cd57ff2337 is already active. To start a nested run call start_run with nested=True\r\n\r\nmlflow/tracking/fluent.py:109: Exception","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/1088/timeline","performed_via_github_app":null,"state_reason":"completed"}