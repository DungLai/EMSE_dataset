{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2139","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/2139/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/2139/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/2139/events","html_url":"https://github.com/mlflow/mlflow/issues/2139","id":528414719,"node_id":"MDU6SXNzdWU1Mjg0MTQ3MTk=","number":2139,"title":"[BUG] UI - Dashboards as HTML Artifact - `allow-same-origin` Iframe attrib","user":{"login":"patryk-oleniuk","id":6854491,"node_id":"MDQ6VXNlcjY4NTQ0OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6854491?v=4","gravatar_id":"","url":"https://api.github.com/users/patryk-oleniuk","html_url":"https://github.com/patryk-oleniuk","followers_url":"https://api.github.com/users/patryk-oleniuk/followers","following_url":"https://api.github.com/users/patryk-oleniuk/following{/other_user}","gists_url":"https://api.github.com/users/patryk-oleniuk/gists{/gist_id}","starred_url":"https://api.github.com/users/patryk-oleniuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patryk-oleniuk/subscriptions","organizations_url":"https://api.github.com/users/patryk-oleniuk/orgs","repos_url":"https://api.github.com/users/patryk-oleniuk/repos","events_url":"https://api.github.com/users/patryk-oleniuk/events{/privacy}","received_events_url":"https://api.github.com/users/patryk-oleniuk/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1470945519,"node_id":"MDU6TGFiZWwxNDcwOTQ1NTE5","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/uiux","name":"area/uiux","color":"ede978","default":false,"description":"Front-end, user experience, plotting, JavaScript, JavaScript dev server"},{"id":1554650079,"node_id":"MDU6TGFiZWwxNTU0NjUwMDc5","url":"https://api.github.com/repos/mlflow/mlflow/labels/stale","name":"stale","color":"828282","default":false,"description":""},{"id":2022865338,"node_id":"MDU6TGFiZWwyMDIyODY1MzM4","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/important-longterm","name":"priority/important-longterm","color":"534cb5","default":false,"description":"Important over the long term, but may not be staffed or may need multiple releases to complete."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-11-26T00:26:41Z","updated_at":"2020-07-17T12:02:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The current HTML artifact is great for static plots, however I'd like to embed some DASH dashboards, like this one https://dash-demo.plotly.host/ddk-clinical-trial-dashboard \r\n\r\nThe way I'm imagining this, is I create an HTML file and log it through `mlflow.log_artifact(..)`:\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n<iframe src=\"https://dash-demo.plotly.host/ddk-clinical-trial-dashboard\" style='width: 1200px; height: 1200px' sandbox='allow-same-origin allow-scripts'>\r\n</iframe>\r\n</html>\r\n```\r\n\r\nCurrently, it does not render, and I get an error (in my browser using inspect) :\r\n```\r\nUncaught DOMException: Failed to read the 'cookie' property from 'Document': The document is sandboxed and lacks the 'allow-same-origin' flag.\r\n```\r\nAfter debugging MLFlow code, I discovered that this is because the iframe where the HTML artifact is rendered only has `sandbox=\"allow-scripts\"` and what I need for DASH dashboard is  \r\n`sandbox=\"allow-same-origin allow-scripts \" `. After modifying this, my HTML is rendering nicely.\r\n\r\nTherefore, I would like to request to modify that line, if possible.\r\nin the file https://github.com/mlflow/mlflow/blob/master/mlflow/server/js/src/components/artifact-view-components/ShowArtifactHtmlView.js#L60 \r\n\r\nreplace this :\r\n```js\r\n<Iframe url=\"\"\r\n                src={this.getBlobURL(this.state.html, 'text/html')}\r\n                width=\"100%\"\r\n                height=\"500px\"\r\n                id=\"html\"\r\n                className=\"html-iframe\"\r\n                display=\"block\"\r\n                position=\"relative\"\r\n                sandbox=\"allow-scripts\"/> \r\n               //  sandbox=\"allow-same-origin allow-scripts\"/> \r\n      );\r\n```\r\n\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**: YES\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: MacOS, Windows\r\n- **MLflow installed from (source or binary)**:  pre-installed on Databricks \r\n- **MLflow version (run ``mlflow --version``)**: 1.3 \r\n- **Python version**: 3.7\r\n- **npm version, if running the dev UI**: -\r\n- **Exact command to reproduce**: see above","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/2139/timeline","performed_via_github_app":null,"state_reason":null}