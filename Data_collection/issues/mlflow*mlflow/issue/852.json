{"url":"https://api.github.com/repos/mlflow/mlflow/issues/852","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/852/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/852/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/852/events","html_url":"https://github.com/mlflow/mlflow/issues/852","id":404094198,"node_id":"MDU6SXNzdWU0MDQwOTQxOTg=","number":852,"title":"Within an experiment, the `run_name` for the first run within a series of run does not contain the specified value","user":{"login":"jimthompson5802","id":1425269,"node_id":"MDQ6VXNlcjE0MjUyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1425269?v=4","gravatar_id":"","url":"https://api.github.com/users/jimthompson5802","html_url":"https://github.com/jimthompson5802","followers_url":"https://api.github.com/users/jimthompson5802/followers","following_url":"https://api.github.com/users/jimthompson5802/following{/other_user}","gists_url":"https://api.github.com/users/jimthompson5802/gists{/gist_id}","starred_url":"https://api.github.com/users/jimthompson5802/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimthompson5802/subscriptions","organizations_url":"https://api.github.com/users/jimthompson5802/orgs","repos_url":"https://api.github.com/users/jimthompson5802/repos","events_url":"https://api.github.com/users/jimthompson5802/events{/privacy}","received_events_url":"https://api.github.com/users/jimthompson5802/received_events","type":"User","site_admin":false},"labels":[{"id":1554650079,"node_id":"MDU6TGFiZWwxNTU0NjUwMDc5","url":"https://api.github.com/repos/mlflow/mlflow/labels/stale","name":"stale","color":"828282","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-01-29T02:27:50Z","updated_at":"2020-11-24T04:37:05Z","closed_at":"2019-11-12T23:50:16Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**: written custom code\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: MacOS 10.14.2\r\n- **MLflow installed from (source or binary)**: Docker container using mlflow Dockerfile\r\n- **MLflow version (run ``mlflow --version``)**: mlflow, version 0.8.2.dev0\r\n- **Python version**:  Python 3.6\r\n- **npm version (if running the dev UI): N/A\r\n- **Exact command to reproduce**:\r\nCreate these three files into an empty directory:\r\n**File:** `MLProject`\r\n```\r\nname: tutorial\r\n\r\nconda_env: conda.yaml\r\n\r\nentry_points:\r\n  main:\r\n    command: |\r\n        python mwe_first_run_name_not_recorded.py\r\n```\r\n\r\n**File:** `conda.yaml`\r\n```\r\nname: tutorial\r\nchannels:\r\n  - defaults\r\ndependencies:\r\n  - python=3.6\r\n  - pip:\r\n    - mlflow\r\n\r\n```\r\n\r\n**File:** `mwe_first_run_name_not_recorded.py`\r\n```\r\nimport mlflow\r\n\r\n\r\n#experiment_id = mlflow.set_experiment(\"my_experiment\")\r\n\r\nfor i in range(4):\r\n    run_name = 'run ' + str(i)\r\n    print(run_name)\r\n\r\n    # start a run\r\n    with mlflow.start_run( run_name=run_name):\r\n        mlflow.log_param('my_parm','my_parm for ' + run_name)\r\n        mlflow.log_metric('my metric',10*i)\r\n```\r\n\r\nAfter creating the three files, execute: `mlflow run .`\r\n\r\n\r\n\r\n### Describe the problem\r\n\r\nAfter the run completes view results in `mlflow ui`\r\n\r\n<img width=\"1186\" alt=\"screen shot 2019-01-28 at 20 53 38\" src=\"https://user-images.githubusercontent.com/1425269/51879653-5d33cb80-2342-11e9-9016-ad10ae59ad07.png\">\r\n\r\nRun at `2019-01-28 20:44:05` does not have the correct `Run Name` nor `Source` values.\r\n\r\n### Source code / logs\r\n```\r\n(base) root@08a8d0dc392b:/opt/project/mwe_first_run_name_error# mlflow run .\r\n2019/01/29 01:44:06 INFO mlflow.projects: === Creating conda environment mlflow-baa16dc82d9caecd97bab4d7e2e3fa6b646179c2 ===\r\nSolving environment: done\r\n\r\n\r\n==> WARNING: A newer version of conda exists. <==\r\n  current version: 4.5.12\r\n  latest version: 4.6.1\r\n\r\nPlease update conda by running\r\n\r\n    $ conda update -n base -c defaults conda\r\n\r\n\r\nPreparing transaction: done\r\nVerifying transaction: done\r\nExecuting transaction: done\r\nCollecting mlflow (from -r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\nCollecting simplejson (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\nCollecting pyyaml (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\nCollecting boto3>=1.7.12 (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/a8/8a/730acf258088f2b0615e1bf6acaa63e336a97b6eeb41ce4c5b7e8b636476/boto3-1.9.86-py2.py3-none-any.whl\r\nCollecting scipy (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Downloading https://files.pythonhosted.org/packages/67/e6/6d4edaceee6a110ecf6f318482f5229792f143e468b34a631f5a0899f56d/scipy-1.2.0-cp36-cp36m-manylinux1_x86_64.whl (26.6MB)\r\n    100% |████████████████████████████████| 26.6MB 650kB/s\r\nCollecting mleap>=0.8.1 (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\nCollecting scikit-learn (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Downloading https://files.pythonhosted.org/packages/0d/3a/b92670f5c368c20329ecc4c255993fae7934564d485c3ed7ea7b8da7f741/scikit_learn-0.20.2-cp36-cp36m-manylinux1_x86_64.whl (5.4MB)\r\n    100% |████████████████████████████████| 5.4MB 6.6MB/s\r\nCollecting click>=6.7 (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/fa/37/45185cb5abbc30d7257104c434fe0b07e5a195a6847506c074527aa599ec/Click-7.0-py2.py3-none-any.whl\r\nCollecting querystring-parser (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\nCollecting pandas (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Downloading https://files.pythonhosted.org/packages/f9/e1/4a63ed31e1b1362d40ce845a5735c717a959bda992669468dae3420af2cd/pandas-0.24.0-cp36-cp36m-manylinux1_x86_64.whl (10.1MB)\r\n    100% |████████████████████████████████| 10.1MB 5.2MB/s\r\nCollecting six>=1.10.0 (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Downloading https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\r\nCollecting requests>=2.17.3 (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/7d/e3/20f3d364d6c8e5d2353c72a67778eb189176f08e873c9900e10c0287b84b/requests-2.21.0-py2.py3-none-any.whl\r\nCollecting Flask (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/7f/e7/08578774ed4536d3242b14dacb4696386634607af824ea997202cd0edb4b/Flask-1.0.2-py2.py3-none-any.whl\r\nCollecting python-dateutil (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/74/68/d87d9b36af36f44254a8d512cbfc48369103a3b9e474be9bdfe536abfc45/python_dateutil-2.7.5-py2.py3-none-any.whl\r\nCollecting gitpython>=2.1.0 (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/fe/e5/fafe827507644c32d6dc553a1c435cdf882e0c28918a5bab29f7fbebfb70/GitPython-2.1.11-py2.py3-none-any.whl\r\nCollecting databricks-cli>=0.8.0 (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\nCollecting numpy (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Downloading https://files.pythonhosted.org/packages/7b/74/54c5f9bb9bd4dae27a61ec1b39076a39d359b3fb7ba15da79ef23858a9d8/numpy-1.16.0-cp36-cp36m-manylinux1_x86_64.whl (17.3MB)\r\n    100% |████████████████████████████████| 17.3MB 863kB/s\r\nCollecting gunicorn (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/8c/da/b8dd8deb741bff556db53902d4706774c8e1e67265f69528c14c003644e6/gunicorn-19.9.0-py2.py3-none-any.whl\r\nCollecting protobuf>=3.6.0 (from mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/c2/f9/28787754923612ca9bfdffc588daa05580ed70698add063a5629d1a4209d/protobuf-3.6.1-cp36-cp36m-manylinux1_x86_64.whl\r\nCollecting botocore<1.13.0,>=1.12.86 (from boto3>=1.7.12->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/d7/af/fd9c0f1f0fdc03d3367a56f35093f8b1020ba1a97ead9fa580156895944b/botocore-1.12.86-py2.py3-none-any.whl\r\nCollecting jmespath<1.0.0,>=0.7.1 (from boto3>=1.7.12->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/b7/31/05c8d001f7f87f0f07289a5fc0fc3832e9a57f2dbd4d3b0fee70e0d51365/jmespath-0.9.3-py2.py3-none-any.whl\r\nCollecting s3transfer<0.2.0,>=0.1.10 (from boto3>=1.7.12->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/d7/14/2a0004d487464d120c9fb85313a75cd3d71a7506955be458eebfe19a6b1d/s3transfer-0.1.13-py2.py3-none-any.whl\r\nCollecting nose-exclude>=0.5.0 (from mleap>=0.8.1->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\nCollecting argparse>=1.1 (from mleap>=0.8.1->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/f2/94/3af39d34be01a24a6e65433d19e107099374224905f1e0cc6bbe1fd22a2f/argparse-1.4.0-py2.py3-none-any.whl\r\nCollecting pytz>=2011k (from pandas->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/61/28/1d3920e4d1d50b19bc5d24398a7cd85cc7b9a75a490570d5a30c57622d34/pytz-2018.9-py2.py3-none-any.whl\r\nCollecting urllib3<1.25,>=1.21.1 (from requests>=2.17.3->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/62/00/ee1d7de624db8ba7090d1226aebefab96a2c71cd5cfa7629d6ad3f61b79e/urllib3-1.24.1-py2.py3-none-any.whl\r\nCollecting chardet<3.1.0,>=3.0.2 (from requests>=2.17.3->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl\r\nRequirement already satisfied: certifi>=2017.4.17 in /opt/conda/envs/mlflow-baa16dc82d9caecd97bab4d7e2e3fa6b646179c2/lib/python3.6/site-packages (from requests>=2.17.3->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1)) (2018.11.29)\r\nCollecting idna<2.9,>=2.5 (from requests>=2.17.3->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/14/2c/cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9/idna-2.8-py2.py3-none-any.whl\r\nCollecting Jinja2>=2.10 (from Flask->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/7f/ff/ae64bacdfc95f27a016a7bed8e8686763ba4d277a78ca76f32659220a731/Jinja2-2.10-py2.py3-none-any.whl\r\nCollecting itsdangerous>=0.24 (from Flask->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/76/ae/44b03b253d6fade317f32c24d100b3b35c2239807046a4c953c7b89fa49e/itsdangerous-1.1.0-py2.py3-none-any.whl\r\nCollecting Werkzeug>=0.14 (from Flask->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/20/c4/12e3e56473e52375aa29c4764e70d1b8f3efa6682bef8d0aae04fe335243/Werkzeug-0.14.1-py2.py3-none-any.whl\r\nCollecting gitdb2>=2.0.0 (from gitpython>=2.1.0->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/da/30/a407568aa8d8f25db817cf50121a958722f3fc5f87e3a6fba1f40c0633e3/gitdb2-2.0.5-py2.py3-none-any.whl\r\nCollecting configparser>=0.3.5 (from databricks-cli>=0.8.0->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/43/63/220afe02a0d302c2244309b1dce3d884a865be65c7d8148ededfc0c29c31/configparser-3.7.1-py3-none-any.whl\r\nCollecting tabulate>=0.7.7 (from databricks-cli>=0.8.0->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\nRequirement already satisfied: setuptools in /opt/conda/envs/mlflow-baa16dc82d9caecd97bab4d7e2e3fa6b646179c2/lib/python3.6/site-packages (from protobuf>=3.6.0->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1)) (40.6.3)\r\nCollecting docutils>=0.10 (from botocore<1.13.0,>=1.12.86->boto3>=1.7.12->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/36/fa/08e9e6e0e3cbd1d362c3bbee8d01d0aedb2155c4ac112b19ef3cae8eed8d/docutils-0.14-py3-none-any.whl\r\nCollecting nose (from nose-exclude>=0.5.0->mleap>=0.8.1->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/15/d8/dd071918c040f50fa1cf80da16423af51ff8ce4a0f2399b7bf8de45ac3d9/nose-1.3.7-py3-none-any.whl\r\nCollecting MarkupSafe>=0.23 (from Jinja2>=2.10->Flask->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/08/04/f2191b50fb7f0712f03f064b71d8b4605190f2178ba02e975a87f7b89a0d/MarkupSafe-1.1.0-cp36-cp36m-manylinux1_x86_64.whl\r\nCollecting smmap2>=2.0.0 (from gitdb2>=2.0.0->gitpython>=2.1.0->mlflow->-r /opt/project/mwe_first_run_name_error/condaenv.2PX39i.requirements.txt (line 1))\r\n  Using cached https://files.pythonhosted.org/packages/55/d2/866d45e3a121ee15a1dc013824d58072fd5c7799c9c34d01378eb262ca8f/smmap2-2.0.5-py2.py3-none-any.whl\r\nInstalling collected packages: simplejson, pyyaml, urllib3, docutils, jmespath, six, python-dateutil, botocore, s3transfer, boto3, numpy, scipy, scikit-learn, nose, nose-exclude, argparse, pytz, pandas, mleap, click, chardet, idna, requests, querystring-parser, MarkupSafe, Jinja2, itsdangerous, Werkzeug, Flask, smmap2, gitdb2, gitpython, configparser, tabulate, databricks-cli, gunicorn, protobuf, mlflow\r\nSuccessfully installed Flask-1.0.2 Jinja2-2.10 MarkupSafe-1.1.0 Werkzeug-0.14.1 argparse-1.4.0 boto3-1.9.86 botocore-1.12.86 chardet-3.0.4 click-7.0 configparser-3.7.1 databricks-cli-0.8.3 docutils-0.14 gitdb2-2.0.5 gitpython-2.1.11 gunicorn-19.9.0 idna-2.8 itsdangerous-1.1.0 jmespath-0.9.3 mleap-0.8.1 mlflow-0.8.1 nose-1.3.7 nose-exclude-0.5.0 numpy-1.16.0 pandas-0.24.0 protobuf-3.6.1 python-dateutil-2.7.5 pytz-2018.9 pyyaml-3.13 querystring-parser-1.2.3 requests-2.21.0 s3transfer-0.1.13 scikit-learn-0.20.2 scipy-1.2.0 simplejson-3.16.0 six-1.12.0 smmap2-2.0.5 tabulate-0.8.3 urllib3-1.24.1\r\n#\r\n# To activate this environment, use\r\n#\r\n#     $ conda activate mlflow-baa16dc82d9caecd97bab4d7e2e3fa6b646179c2\r\n#\r\n# To deactivate an active environment, use\r\n#\r\n#     $ conda deactivate\r\n\r\n2019/01/29 01:44:41 INFO mlflow.projects: === Created directory /tmp/tmpZ4yQiS for downloading remote URIs passed to arguments of type 'path' ===\r\n2019/01/29 01:44:41 INFO mlflow.projects: === Running command 'source activate mlflow-baa16dc82d9caecd97bab4d7e2e3fa6b646179c2 && python mwe_first_run_name_not_recorded.py\r\n' in run with ID 'a6d6e378ed8b4b6ab3ec7d9e6ea7eb4f' ===\r\nrun 0\r\nrun 1\r\nrun 2\r\nrun 3\r\n2019/01/29 01:44:51 INFO mlflow.projects: === Run (ID 'a6d6e378ed8b4b6ab3ec7d9e6ea7eb4f') succeeded ===\r\n```","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/852/timeline","performed_via_github_app":null,"state_reason":"completed"}