{"url":"https://api.github.com/repos/mlflow/mlflow/issues/5705","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/5705/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/5705/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/5705/events","html_url":"https://github.com/mlflow/mlflow/issues/5705","id":1206063345,"node_id":"I_kwDOCB5Jx85H4xDx","number":5705,"title":"[BUG] \"download_to_filename() got an unexpected keyword argument \\'timeout\\'\"","user":{"login":"mkao006","id":1054320,"node_id":"MDQ6VXNlcjEwNTQzMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1054320?v=4","gravatar_id":"","url":"https://api.github.com/users/mkao006","html_url":"https://github.com/mkao006","followers_url":"https://api.github.com/users/mkao006/followers","following_url":"https://api.github.com/users/mkao006/following{/other_user}","gists_url":"https://api.github.com/users/mkao006/gists{/gist_id}","starred_url":"https://api.github.com/users/mkao006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkao006/subscriptions","organizations_url":"https://api.github.com/users/mkao006/orgs","repos_url":"https://api.github.com/users/mkao006/repos","events_url":"https://api.github.com/users/mkao006/events{/privacy}","received_events_url":"https://api.github.com/users/mkao006/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2022845866,"node_id":"MDU6TGFiZWwyMDIyODQ1ODY2","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/artifacts","name":"area/artifacts","color":"48eabc","default":false,"description":"Artifact stores and artifact logging"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-04-16T09:13:31Z","updated_at":"2022-04-19T04:41:03Z","closed_at":"2022-04-19T04:40:15Z","author_association":"NONE","active_lock_reason":null,"body":"Thank you for submitting an issue. Please refer to our [issue policy](https://www.github.com/mlflow/mlflow/blob/master/ISSUE_POLICY.md) for additional information about bug reports. For help with debugging your code, please refer to [Stack Overflow](https://stackoverflow.com/questions/tagged/mlflow).\r\n\r\n**Please fill in this bug report template to ensure a timely and thorough response.**\r\n\r\n### Willingness to contribute\r\nThe MLflow Community encourages bug fix contributions. Would you or another member of your organization be willing to contribute a fix for this bug to the MLflow code base?\r\n\r\n- [ ] Yes. I can contribute a fix for this bug independently.\r\n- [ ] Yes. I would be willing to contribute a fix for this bug with guidance from the MLflow community.\r\n- [x] No. I cannot contribute a bug fix at this time.\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: MacOs Big Sur 11.6.5\r\n- **MLflow installed from (source or binary)**: binary\r\n- **MLflow version (run ``mlflow --version``)**: 1.25\r\n- **Python version**: 3.7.3\r\n- **npm version, if running the dev UI**:\r\n- **Exact command to reproduce**:\r\n\r\n```\r\nfrom mlflow.pyfunc import load_model\r\nload_model('runs:/befd9e4edb3448d4a4a55ebc2447d0ce/model')\r\n```\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Include descriptions of the expected behavior and the actual behavior.\r\n\r\nexpected: Pyfunc model loaded from MlFlow\r\nactual: error loading the model\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nMlflowException                           Traceback (most recent call last)\r\n/var/folders/41/r50dc7h17hggjvnzk1l1z4h00000gn/T/ipykernel_93695/2764848101.py in <module>\r\n      1 from mlflow.pyfunc import load_model\r\n----> 2 load_model('runs:/befd9e4edb3448d4a4a55ebc2447d0ce/model')\r\n\r\n~/.pyenv/versions/3.7.3/envs/plan-scorer-model-pipeline/lib/python3.7/site-packages/mlflow/pyfunc/__init__.py in load_model(model_uri, suppress_warnings, dst_path)\r\n    712 \r\n    713 \r\n--> 714 @deprecated(\"mlflow.pyfunc.load_model\", 1.0)\r\n    715 def load_pyfunc(model_uri, suppress_warnings=False):\r\n    716     \"\"\"\r\n\r\n~/.pyenv/versions/3.7.3/envs/plan-scorer-model-pipeline/lib/python3.7/site-packages/mlflow/tracking/artifact_utils.py in _download_artifact_from_uri(artifact_uri, output_path)\r\n     94 \r\n     95     return get_artifact_repository(artifact_uri=root_uri).download_artifacts(\r\n---> 96         artifact_path=artifact_path, dst_path=output_path\r\n     97     )\r\n     98 \r\n\r\n~/.pyenv/versions/3.7.3/envs/plan-scorer-model-pipeline/lib/python3.7/site-packages/mlflow/store/artifact/runs_artifact_repo.py in download_artifacts(self, artifact_path, dst_path)\r\n    123         :return: Absolute path of the local filesystem location containing the desired artifacts.\r\n    124         \"\"\"\r\n--> 125         return self.repo.download_artifacts(artifact_path, dst_path)\r\n    126 \r\n    127     def _download_file(self, remote_file_path, local_path):\r\n\r\n~/.pyenv/versions/3.7.3/envs/plan-scorer-model-pipeline/lib/python3.7/site-packages/mlflow/store/artifact/artifact_repo.py in download_artifacts(self, artifact_path, dst_path)\r\n    268                     \" artifacts from {artifact_root}: {failures}\".format(\r\n    269                         artifact_root=self.artifact_uri,\r\n--> 270                         failures=failed_downloads,\r\n    271                     )\r\n    272                 )\r\n\r\nMlflowException: The following failures occurred while downloading one or more artifacts from gs://s-gods-mlp/mlflow/1239/befd9e4edb3448d4a4a55ebc2447d0ce/artifacts: {'model/MLmodel': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/artifacts/feature_importance_gain_full.png': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/artifacts/feature_orders.yaml': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/artifacts/full_config.yaml': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/artifacts/model_full.bst': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/artifacts/model_full.pickle': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/__init__.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/__pycache__/__init__.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/__pycache__/__init__.cpython-39.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/model/__pycache__/generalised_model_pyfunc.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/model/__pycache__/model.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/model/__pycache__/pyfunc.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/model/__pycache__/pyfunc_template.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/model/generalised_model_pyfunc.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/model/model.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/model/pyfunc.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/model/pyfunc_template.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/queries/__init__.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/queries/__pycache__/__init__.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/queries/__pycache__/features_query.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/queries/features_query.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/tasks/__init__.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/tasks/__pycache__/__init__.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/tasks/__pycache__/data.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/tasks/__pycache__/deploy.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/tasks/__pycache__/train.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/tasks/data.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/tasks/deploy.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/tasks/train.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/configs.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/data_utils.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/gcs.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/log_utils.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/model_utils.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/models.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/prom_metrics.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/pyfunc_utils.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/__pycache__/response_builder.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/configs.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/data_utils.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/deploy_echo_model.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/gcs.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/log_utils.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/model_utils.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/models.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/prom_metrics.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/pyfunc_utils.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/utils/response_builder.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/__init__.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/__main__.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/__pycache__/__init__.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/__pycache__/__main__.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/__pycache__/workflow.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/commons.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/generalised_model/__init__.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/generalised_model/__pycache__/__init__.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/generalised_model/__pycache__/workflow.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/generalised_model/launchplan.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/generalised_model/workflow.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/sameday_logistic/__init__.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/sameday_logistic/__pycache__/__init__.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/sameday_logistic/__pycache__/workflow.cpython-37.pyc': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/sameday_logistic/launchplan.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/code/plan_scorer_model_pipeline/workflows/sameday_logistic/workflow.py': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/conda.yaml': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/python_model.pkl': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")', 'model/requirements.txt': 'TypeError(\"download_to_filename() got an unexpected keyword argument \\'timeout\\'\")'}\r\n```\r\n\r\n### Tracking information\r\n\r\n<!-- This section is optional -->\r\n\r\nFor bugs related to the tracking features (e.g. mlflow should log a run in my database but it doesn't), please insert the following code in your python script / notebook where you encountered the bug and run it:\r\n\r\n```python\r\nprint(\"MLflow version:\", mlflow.__version__)\r\nprint(\"Tracking URI:\", mlflow.get_tracking_uri())\r\nprint(\"Artifact URI:\", mlflow.get_artifact_uri())\r\n```\r\n\r\nThen, make sure the printed out information matches what you expect and paste it (with sensitive information masked) in the box below:\r\n\r\n```\r\n```\r\n\r\nIf you know the command that was used to launch your tracking server (e.g. `mlflow server -h 0.0.0.0 -p 5000`), please provide it:\r\n\r\n```\r\n```\r\n\r\n### Code to reproduce issue\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n### Other info / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n\r\n### What component(s), interfaces, languages, and integrations does this bug affect?\r\nComponents \r\n- [x] `area/artifacts`: Artifact stores and artifact logging\r\n- [ ] `area/build`: Build and test infrastructure for MLflow\r\n- [ ] `area/docs`: MLflow documentation pages\r\n- [ ] `area/examples`: Example code\r\n- [ ] `area/model-registry`: Model Registry service, APIs, and the fluent client calls for Model Registry\r\n- [ ] `area/models`: MLmodel format, model serialization/deserialization, flavors\r\n- [ ] `area/projects`: MLproject format, project running backends\r\n- [ ] `area/scoring`: MLflow Model server, model deployment tools, Spark UDFs\r\n- [ ] `area/server-infra`: MLflow Tracking server backend\r\n- [ ] `area/tracking`: Tracking Service, tracking client APIs, autologging\r\n\r\nInterface \r\n- [ ] `area/uiux`: Front-end, user experience, plotting, JavaScript, JavaScript dev server\r\n- [ ] `area/docker`: Docker use across MLflow's components, such as MLflow Projects and MLflow Models\r\n- [ ] `area/sqlalchemy`: Use of SQLAlchemy in the Tracking Service or Model Registry\r\n- [ ] `area/windows`: Windows support\r\n\r\nLanguage \r\n- [ ] `language/r`: R APIs and clients\r\n- [ ] `language/java`: Java APIs and clients\r\n- [ ] `language/new`: Proposals for new client languages\r\n\r\nIntegrations\r\n- [ ] `integrations/azure`: Azure and Azure ML integrations\r\n- [ ] `integrations/sagemaker`: SageMaker integrations\r\n- [ ] `integrations/databricks`: Databricks integrations\r\n","closed_by":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/5705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/5705/timeline","performed_via_github_app":null,"state_reason":"completed"}