{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2469","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/2469/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/2469/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/2469/events","html_url":"https://github.com/mlflow/mlflow/issues/2469","id":570085045,"node_id":"MDU6SXNzdWU1NzAwODUwNDU=","number":2469,"title":"[FR] MLflow Model Deployment in SQL Server","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","site_admin":true},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":1893057631,"node_id":"MDU6TGFiZWwxODkzMDU3NjMx","url":"https://api.github.com/repos/mlflow/mlflow/labels/Acknowledged","name":"Acknowledged","color":"f9d0c4","default":false,"description":"This issue has been read and acknowledged by the MLflow admins."},{"id":2022848043,"node_id":"MDU6TGFiZWwyMDIyODQ4MDQz","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/models","name":"area/models","color":"48eabc","default":false,"description":"MLmodel format, model serialization/deserialization, flavors"},{"id":2022866842,"node_id":"MDU6TGFiZWwyMDIyODY2ODQy","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/awaiting-more-evidence","name":"priority/awaiting-more-evidence","color":"534cb5","default":false,"description":"Lowest priority. Possibly useful, but not yet enough support to actually get it done."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-02-24T19:32:33Z","updated_at":"2022-06-02T02:07:07Z","closed_at":"2022-06-02T02:07:06Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"SQL Server provides ML functionality through SQL Server Machine Learning Services that allow running Python scripts on relational data. This includes feature engineering, model training and model deployment within the database.\r\n\r\nDeploying models through MLflow to SQL Server is important for users that might train their models either outside SQL Server (e.g., using Spark in Microsoftâ€™s Big Data Cluster) or in SQL Server but want to eventually score the model in a different SQL Server instance for data privacy/governance reasons as a large fraction of production data is still in the RDBMS. One such scenario would be training the model in the Big Data Cluster on-prem, but eventually deploying the model on SQL Edge.\r\n\r\nI have  created a [document ](https://docs.google.com/document/d/1lJbxzIngLO5hOi0hGzlHljPdnc395OJTLT9T2PqmIUs/edit?usp=sharing) that provides a high-level description on how to implement the deploy operation in SQL Server. The plan is to proceed in two steps:\r\n\r\n1) Implement a deploy operation through the following API:\r\n`mlflow database deploy --db_uri --flavor --table-name --column-name`\r\n\r\nWe already have a prototype for the ONNX flavors (See document for more details).\r\nIn this first part, we will simply download the model from the artifact store, make sure it is supported by SQL Server, and store it in the table/column that the user provided as a BLOB.\r\n\r\n2) In the second step, we want to additionally automatically generate a SQL query (or stored procedure) that can be used to score the model in SQL Server. Please see a high-level description of this part on the document. We'd like to note that this part is not fully-fledged yet as we are in discussions with the SQL Server team on what is the best way to do this in the database. Once we have more clearance on some of the implementation issues, I will update the document with more concrete information.\r\n\r\n\r\n","closed_by":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2469/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/2469/timeline","performed_via_github_app":null,"state_reason":"completed"}