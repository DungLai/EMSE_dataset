{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2421","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/2421/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/2421/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/2421/events","html_url":"https://github.com/mlflow/mlflow/issues/2421","id":563745617,"node_id":"MDU6SXNzdWU1NjM3NDU2MTc=","number":2421,"title":"[BUG] mlflow.sklearn.log_model does not log any model to the artifact section to register.","user":{"login":"mk2s6","id":32929103,"node_id":"MDQ6VXNlcjMyOTI5MTAz","avatar_url":"https://avatars.githubusercontent.com/u/32929103?v=4","gravatar_id":"","url":"https://api.github.com/users/mk2s6","html_url":"https://github.com/mk2s6","followers_url":"https://api.github.com/users/mk2s6/followers","following_url":"https://api.github.com/users/mk2s6/following{/other_user}","gists_url":"https://api.github.com/users/mk2s6/gists{/gist_id}","starred_url":"https://api.github.com/users/mk2s6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mk2s6/subscriptions","organizations_url":"https://api.github.com/users/mk2s6/orgs","repos_url":"https://api.github.com/users/mk2s6/repos","events_url":"https://api.github.com/users/mk2s6/events{/privacy}","received_events_url":"https://api.github.com/users/mk2s6/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2022845866,"node_id":"MDU6TGFiZWwyMDIyODQ1ODY2","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/artifacts","name":"area/artifacts","color":"48eabc","default":false,"description":"Artifact stores and artifact logging"},{"id":2022848043,"node_id":"MDU6TGFiZWwyMDIyODQ4MDQz","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/models","name":"area/models","color":"48eabc","default":false,"description":"MLmodel format, model serialization/deserialization, flavors"},{"id":2022863969,"node_id":"MDU6TGFiZWwyMDIyODYzOTY5","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/important-soon","name":"priority/important-soon","color":"534cb5","default":false,"description":"The issue is worked on by the community currently or will be very soon, ideally in time for the"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2020-02-12T04:32:40Z","updated_at":"2020-08-05T11:34:40Z","closed_at":"2020-08-05T11:34:40Z","author_association":"NONE","active_lock_reason":null,"body":"As this is my following code as mentioned in the documentation and yet it does not work accordingly. and doesnot log any model to the artifacts page.\r\n\r\nimport mlflow\r\nimport joblib\r\nimport mlflow.sklearn\r\nfrom mlflow.models import Model\r\nmlflow.set_tracking_uri(\"http://localhost:5000\")\r\n\r\nfrom sklearn.datasets import load_iris\r\nfrom sklearn import tree\r\niris = load_iris()\r\n\r\n\r\nexperiment_name = \"Test1\"\r\nprint(\"MLflow Version:\",mlflow.version.VERSION)\r\nmlflow.set_experiment(experiment_name)\r\nmlflow_client = mlflow.tracking.MlflowClient()\r\nexperiment_id = mlflow_client.get_experiment_by_name(experiment_name).experiment_id\r\nprint(\"experiment_id:\",experiment_id)\r\nprint(\"experiment_name:\",experiment_name)\r\n\r\nwith mlflow.start_run() as run:\r\n    print(run.info.run_uuid)\r\n    sk_model = tree.DecisionTreeClassifier()\r\n    sk_model = sk_model.fit(iris.data, iris.target)\r\n    #set the artifact_path to location where experiment artifacts will be saved\r\n    #log model params\r\n    mlflow.log_param(\"criterion\", sk_model.criterion)\r\n    mlflow.log_param(\"splitter\", sk_model.splitter)\r\n    #log model\r\n    mlflow.log_metric(\"Acc \", 78)\r\n    mlflow.log_metric(\"Test\", 98)\r\n    # mlflow.sklearn.save_model(sk_model, \"sk_models1\")\r\n\r\n    # Model.log(artifact_path=\"sk_models\", flavor=mlflow.sklearn, sk_model=sk_model, conda_env = None, serialization_format = 'pickle', registered_model_name = None)\r\n    # joblib.dump(sk_model, 'iris.model')\r\n    mlflow.sklearn.log_model(sk_model, \"model\")\r\n    # mlflow.register_model(model_uri='sk_models', name=\"model1\")\r\n","closed_by":{"login":"mk2s6","id":32929103,"node_id":"MDQ6VXNlcjMyOTI5MTAz","avatar_url":"https://avatars.githubusercontent.com/u/32929103?v=4","gravatar_id":"","url":"https://api.github.com/users/mk2s6","html_url":"https://github.com/mk2s6","followers_url":"https://api.github.com/users/mk2s6/followers","following_url":"https://api.github.com/users/mk2s6/following{/other_user}","gists_url":"https://api.github.com/users/mk2s6/gists{/gist_id}","starred_url":"https://api.github.com/users/mk2s6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mk2s6/subscriptions","organizations_url":"https://api.github.com/users/mk2s6/orgs","repos_url":"https://api.github.com/users/mk2s6/repos","events_url":"https://api.github.com/users/mk2s6/events{/privacy}","received_events_url":"https://api.github.com/users/mk2s6/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/2421/timeline","performed_via_github_app":null,"state_reason":"completed"}