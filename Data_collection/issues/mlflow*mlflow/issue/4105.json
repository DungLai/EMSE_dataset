{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4105","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/4105/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/4105/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/4105/events","html_url":"https://github.com/mlflow/mlflow/issues/4105","id":809002950,"node_id":"MDU6SXNzdWU4MDkwMDI5NTA=","number":4105,"title":"Development Setup - Incorrect Artifact location created during the run","user":{"login":"mohammedayub44","id":7122670,"node_id":"MDQ6VXNlcjcxMjI2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/7122670?v=4","gravatar_id":"","url":"https://api.github.com/users/mohammedayub44","html_url":"https://github.com/mohammedayub44","followers_url":"https://api.github.com/users/mohammedayub44/followers","following_url":"https://api.github.com/users/mohammedayub44/following{/other_user}","gists_url":"https://api.github.com/users/mohammedayub44/gists{/gist_id}","starred_url":"https://api.github.com/users/mohammedayub44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohammedayub44/subscriptions","organizations_url":"https://api.github.com/users/mohammedayub44/orgs","repos_url":"https://api.github.com/users/mohammedayub44/repos","events_url":"https://api.github.com/users/mohammedayub44/events{/privacy}","received_events_url":"https://api.github.com/users/mohammedayub44/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2022845866,"node_id":"MDU6TGFiZWwyMDIyODQ1ODY2","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/artifacts","name":"area/artifacts","color":"48eabc","default":false,"description":"Artifact stores and artifact logging"},{"id":2022849295,"node_id":"MDU6TGFiZWwyMDIyODQ5Mjk1","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/tracking","name":"area/tracking","color":"48eabc","default":false,"description":"Tracking service, tracking client APIs, autologging"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-02-16T05:42:36Z","updated_at":"2021-02-17T23:27:53Z","closed_at":"2021-02-17T23:27:53Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\n### Problem Description\r\nI have setup the dev version and trying to run some experiments using mysql database and file URI as the artifact location. \r\nI start the development UI using the below command - \r\n`mlflow ui --backend-store-uri 'mysql://username:passwd@localhost:3306/testing?unix_socket=/var/run/mysqld/mysqld.sock' --default-artifact-root file:///home/ubuntu/mlruns -h 0.0.0.0`\r\nand then start the dev ui using `npm start` within the `js` dir.\r\n\r\nIt shows up correctly on the Dev UI and inside mysql database. However when I run any experiments, it does not fetch the current artifact URI and creates new artifact location like `./mlruns/1` and `./mlruns/2` so on and the artifacts don't show up on the Dev UI. Not sure where these directories are on my local as well as I did not find them in the current directory to home directory. The experiments don't throw any errors and finishes successfully.\r\n\r\nAlso, in my code I correctly set the tracking uri using `mlflow.set_tracking_uri()` and I did not find a way to set the artifact location explicitly.\r\n\r\nThis shows in mysql db:\r\n![image](https://user-images.githubusercontent.com/7122670/108022694-082d8580-6fef-11eb-9777-167fc45f1e16.png)\r\n\r\n\r\n### Willingness to contribute\r\n- [x] Yes. I would be willing to contribute a fix for this bug with guidance from the MLflow community.\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **MLflow installed from (source or binary)**: source\r\n- **MLflow version (run ``mlflow --version``)**: 1.13.2.dev0\r\n- **Python version**: 3.7.6\r\n- **npm version, if running the dev UI**: 6.14.10\r\n- **Exact command to reproduce**:  \r\n`mlflow ui --backend-store-uri 'mysql://username:passwd@localhost:3306/testing?unix_socket=/var/run/mysqld/mysqld.sock' --default-artifact-root file:///home/ubuntu/mlruns -h 0.0.0.0`\r\n\r\n# Code to reproduce\r\nI'm using separate object detection repo to run the experiments, however I'm guessing this error is irrespective of any repo. Let me know if you need them I can provide the files\r\n\r\n\r\n### What component(s), interfaces, languages, and integrations does this bug affect?\r\nComponents \r\n- [x] `area/artifacts`: Artifact stores and artifact logging\r\n- [x] `area/tracking`: Tracking Service, tracking client APIs, autologging\r\n\r\n\r\nThanks !\r\n","closed_by":{"login":"mohammedayub44","id":7122670,"node_id":"MDQ6VXNlcjcxMjI2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/7122670?v=4","gravatar_id":"","url":"https://api.github.com/users/mohammedayub44","html_url":"https://github.com/mohammedayub44","followers_url":"https://api.github.com/users/mohammedayub44/followers","following_url":"https://api.github.com/users/mohammedayub44/following{/other_user}","gists_url":"https://api.github.com/users/mohammedayub44/gists{/gist_id}","starred_url":"https://api.github.com/users/mohammedayub44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohammedayub44/subscriptions","organizations_url":"https://api.github.com/users/mohammedayub44/orgs","repos_url":"https://api.github.com/users/mohammedayub44/repos","events_url":"https://api.github.com/users/mohammedayub44/events{/privacy}","received_events_url":"https://api.github.com/users/mohammedayub44/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/4105/timeline","performed_via_github_app":null,"state_reason":"completed"}