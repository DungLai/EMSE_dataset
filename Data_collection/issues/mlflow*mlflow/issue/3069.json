{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3069","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/3069/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/3069/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/3069/events","html_url":"https://github.com/mlflow/mlflow/issues/3069","id":652850814,"node_id":"MDU6SXNzdWU2NTI4NTA4MTQ=","number":3069,"title":"[BUG]Issue with R API log artifacts","user":{"login":"bickyealias","id":16069726,"node_id":"MDQ6VXNlcjE2MDY5NzI2","avatar_url":"https://avatars.githubusercontent.com/u/16069726?v=4","gravatar_id":"","url":"https://api.github.com/users/bickyealias","html_url":"https://github.com/bickyealias","followers_url":"https://api.github.com/users/bickyealias/followers","following_url":"https://api.github.com/users/bickyealias/following{/other_user}","gists_url":"https://api.github.com/users/bickyealias/gists{/gist_id}","starred_url":"https://api.github.com/users/bickyealias/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bickyealias/subscriptions","organizations_url":"https://api.github.com/users/bickyealias/orgs","repos_url":"https://api.github.com/users/bickyealias/repos","events_url":"https://api.github.com/users/bickyealias/events{/privacy}","received_events_url":"https://api.github.com/users/bickyealias/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1041183632,"node_id":"MDU6TGFiZWwxMDQxMTgzNjMy","url":"https://api.github.com/repos/mlflow/mlflow/labels/language/r","name":"language/r","color":"349cd8","default":false,"description":"R APIs and clients"},{"id":2022845866,"node_id":"MDU6TGFiZWwyMDIyODQ1ODY2","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/artifacts","name":"area/artifacts","color":"48eabc","default":false,"description":"Artifact stores and artifact logging"},{"id":2022866842,"node_id":"MDU6TGFiZWwyMDIyODY2ODQy","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/awaiting-more-evidence","name":"priority/awaiting-more-evidence","color":"534cb5","default":false,"description":"Lowest priority. Possibly useful, but not yet enough support to actually get it done."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2020-07-08T02:30:49Z","updated_at":"2020-08-14T20:21:03Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"We are trying to use MFLOW from RStudio.\r\nMLFLOW tracking server is hosted on a remote server[docker container] access over https served by an nginx.\r\nWe have noticed 2 errors \r\n\r\n- RUN ID missing.At times it complains that the run id generated its not found.However that run ID is existing on MLFLOWServer .However if we rename the run id on the tracking server and re run the code the run id is accepted by the API.\r\n```much existing on the mlflow tracking UI\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/bin/mlflow\", line 11, in <module>\r\nsys.exit(cli())\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/click/core.py\", line 829, in __call__\r\nreturn self.main(*args, **kwargs)\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/click/core.py\", line 782, in main\r\nrv = self.invoke(ctx)\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/click/core.py\", line 1259, in invoke\r\nreturn _process_result(sub_ctx.command.invoke(sub_ctx))\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/click/core.py\", line 1259, in invoke\r\nreturn _process_result(sub_ctx.command.invoke(sub_ctx))\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/click/core.py\", line 1066, in invoke\r\nreturn ctx.invoke(self.callback, **ctx.params)\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/click/core.py\", line 610, in invoke\r\nreturn callback(*args, **kwargs)\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/mlflow/store/cli.py\", line 62, in log_artifacts\r\nartifact_uri = store.get_run(run_id).info.artifact_uri\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/mlflow/store/file_store.py\", line 380, in get_run\r\nrun_info = self._get_run_info(run_id)\r\nFile \"/home/ealiasbi/.conda/envs/r-mlflow-1.0.0/lib/python3.6/site-packages/mlflow/store/file_store.py\", line 396, in _get_run_info\r\ndatabricks_pb2.RESOURCE_DOES_NOT_EXIST)\r\nmlflow.exceptions.MlflowException: Run '61f82e624abe44d094dccb320e22a3aa' not found\r\n```\r\n-  issue with \"mlflow_log_artifact\"\r\n\r\n```Error in UseMethod(\"mlflow_id\") :\r\nno applicable method for 'mlflow_id' applied to an object of class \"c('tbl_df', 'tbl', 'data.frame')\"\r\n```\r\n\r\nBelow is the code and calls to MLFLOW server using R APIs listed here https://www.mlflow.org/docs/latest/R-api.html#mlflow-log-artifact\r\n \r\n```Sys.setenv(PATH=paste0('/opt/conda/bin:', Sys.getenv('PATH')))\r\nlibrary(reticulate)\r\nuse_condaenv('mlflowtest4')\r\n#mlflow::install_mlflow()\r\nlibrary(mlflow)\r\nlibrary(glmnet)\r\nlibrary(carrier)\r\n# install_mlflow()\r\nclient <- mlflow_client(tracking_uri = \"https://XXXX:4443\")\r\nmlflow_client(tracking_uri = \"https://XXXXXX:4443\")\r\nmlflow_create_experiment(\"bicky/test_example66\", artifact_location = '/home/ealiasbi/mlflow', client = client)\r\nwith(mlflow_start_run(),{\r\nrun1= mlflow_start_run(experiment_id=51,client=client)\r\nmlflow_log_param(\"parameter\", 5, run_id=run1$run_uuid, client=client)\r\nmlflow_log_metric(\"metric\", 0, run_id=run1$run_uuid, client=client)\r\nmlflow_log_artifact(\"wine-quality.csv\", artifact_path = '/home/ealiasbi/mflow/wine-quality.csv', run_id = run1$run_uuid, client = client)\r\n})\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/3069/timeline","performed_via_github_app":null,"state_reason":null}