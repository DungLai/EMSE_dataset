{"url":"https://api.github.com/repos/mlflow/mlflow/issues/7365","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/7365/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/7365/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/7365/events","html_url":"https://github.com/mlflow/mlflow/issues/7365","id":1455865060,"node_id":"I_kwDOCB5Jx85Wxrzk","number":7365,"title":"[FR] Batch API for retrieving metric data across runs","user":{"login":"dannyfriar","id":10010084,"node_id":"MDQ6VXNlcjEwMDEwMDg0","avatar_url":"https://avatars.githubusercontent.com/u/10010084?v=4","gravatar_id":"","url":"https://api.github.com/users/dannyfriar","html_url":"https://github.com/dannyfriar","followers_url":"https://api.github.com/users/dannyfriar/followers","following_url":"https://api.github.com/users/dannyfriar/following{/other_user}","gists_url":"https://api.github.com/users/dannyfriar/gists{/gist_id}","starred_url":"https://api.github.com/users/dannyfriar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dannyfriar/subscriptions","organizations_url":"https://api.github.com/users/dannyfriar/orgs","repos_url":"https://api.github.com/users/dannyfriar/repos","events_url":"https://api.github.com/users/dannyfriar/events{/privacy}","received_events_url":"https://api.github.com/users/dannyfriar/received_events","type":"User","site_admin":false},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":978584226,"node_id":"MDU6TGFiZWw5Nzg1ODQyMjY=","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/docs","name":"area/docs","color":"48eabc","default":false,"description":"Documentation issues"},{"id":1470945519,"node_id":"MDU6TGFiZWwxNDcwOTQ1NTE5","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/uiux","name":"area/uiux","color":"ede978","default":false,"description":"Front-end, user experience, plotting, JavaScript, JavaScript dev server"},{"id":1554650079,"node_id":"MDU6TGFiZWwxNTU0NjUwMDc5","url":"https://api.github.com/repos/mlflow/mlflow/labels/stale","name":"stale","color":"828282","default":false,"description":""},{"id":2022847277,"node_id":"MDU6TGFiZWwyMDIyODQ3Mjc3","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/examples","name":"area/examples","color":"48eabc","default":false,"description":"Example code"},{"id":2022849295,"node_id":"MDU6TGFiZWwyMDIyODQ5Mjk1","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/tracking","name":"area/tracking","color":"48eabc","default":false,"description":"Tracking service, tracking client APIs, autologging"}],"state":"open","locked":false,"assignee":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2022-11-18T21:49:47Z","updated_at":"2022-12-24T00:10:59Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Willingness to contribute\n\nYes. I would be willing to contribute this feature with guidance from the MLflow community.\n\n### Proposal Summary\n\nAdd a `get_metrics_for_experiment` to the client-facing API to allow retrieving a set of metric histories across all runs in an experiment. Something like below:\r\n\r\n`get_metrics_for_experiment(experiment_uuid: str, metrics: Optional[List[str]] = None) -> pandas.DataFrame`\r\n\r\nAlternatively, implement this on the run level, to allow pulling multiple metric histories at once:\r\n\r\n`get_metric_histories(run_id: str, keys: Optional[List[str]] = None) -> pandas.DataFrame`\n\n### Motivation\n\n> #### What is the use case for this feature?\r\n\r\nRetrieving all experiment data in a notebook for further analysis is very useful. It's currently quite slow to retrieve this information since it requires iterating over both runs and metric names to retrieve all of the data.\r\n\r\n> #### Why is this use case valuable to support for MLflow users in general?\r\n\r\nAllows for faster retrieval for further analysis of metric data.\r\n\n\n### Details\n\nFrom a brief look at the code, it seems like it could be implemented by:\r\n\r\n- Adding to client API + protobuf entry.\r\n- Add a flask endpoint to tracking server\r\n- Implement for the different backend stores. The SQL case looks straightforward.\n\n### What component(s) does this bug affect?\n\n- [ ] `area/artifacts`: Artifact stores and artifact logging\n- [ ] `area/build`: Build and test infrastructure for MLflow\n- [X] `area/docs`: MLflow documentation pages\n- [X] `area/examples`: Example code\n- [ ] `area/model-registry`: Model Registry service, APIs, and the fluent client calls for Model Registry\n- [ ] `area/models`: MLmodel format, model serialization/deserialization, flavors\n- [ ] `area/recipes`: Recipes, Recipe APIs, Recipe configs, Recipe Templates\n- [ ] `area/projects`: MLproject format, project running backends\n- [ ] `area/scoring`: MLflow Model server, model deployment tools, Spark UDFs\n- [ ] `area/server-infra`: MLflow Tracking server backend\n- [X] `area/tracking`: Tracking Service, tracking client APIs, autologging\n\n### What interface(s) does this bug affect?\n\n- [X] `area/uiux`: Front-end, user experience, plotting, JavaScript, JavaScript dev server\n- [ ] `area/docker`: Docker use across MLflow's components, such as MLflow Projects and MLflow Models\n- [ ] `area/sqlalchemy`: Use of SQLAlchemy in the Tracking Service or Model Registry\n- [ ] `area/windows`: Windows support\n\n### What language(s) does this bug affect?\n\n- [ ] `language/r`: R APIs and clients\n- [ ] `language/java`: Java APIs and clients\n- [ ] `language/new`: Proposals for new client languages\n\n### What integration(s) does this bug affect?\n\n- [ ] `integrations/azure`: Azure and Azure ML integrations\n- [ ] `integrations/sagemaker`: SageMaker integrations\n- [ ] `integrations/databricks`: Databricks integrations","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/7365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/7365/timeline","performed_via_github_app":null,"state_reason":null}