{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4012","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/4012/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/4012/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/4012/events","html_url":"https://github.com/mlflow/mlflow/issues/4012","id":791433503,"node_id":"MDU6SXNzdWU3OTE0MzM1MDM=","number":4012,"title":"MLFlow UI crashes after executing with mlflow.start_run():","user":{"login":"rakesh7464","id":12123019,"node_id":"MDQ6VXNlcjEyMTIzMDE5","avatar_url":"https://avatars.githubusercontent.com/u/12123019?v=4","gravatar_id":"","url":"https://api.github.com/users/rakesh7464","html_url":"https://github.com/rakesh7464","followers_url":"https://api.github.com/users/rakesh7464/followers","following_url":"https://api.github.com/users/rakesh7464/following{/other_user}","gists_url":"https://api.github.com/users/rakesh7464/gists{/gist_id}","starred_url":"https://api.github.com/users/rakesh7464/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rakesh7464/subscriptions","organizations_url":"https://api.github.com/users/rakesh7464/orgs","repos_url":"https://api.github.com/users/rakesh7464/repos","events_url":"https://api.github.com/users/rakesh7464/events{/privacy}","received_events_url":"https://api.github.com/users/rakesh7464/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-01-21T19:30:10Z","updated_at":"2021-01-26T15:28:41Z","closed_at":"2021-01-26T15:28:41Z","author_association":"NONE","active_lock_reason":null,"body":"### System information\r\n\r\n- Stack: Pyspark over cloudera on-prem cluster\r\n- MLflow installed from (source or binary): binary\r\n- MLflow version (run mlflow --version): 1.13.1\r\n- Python version: Python 2.7.5\r\n- Exact code that caused the issue: \r\n\r\n`with mlflow.start_run():\r\n\r\n    dtc = DecisionTreeClassifier(random_state=10)\r\n    dtc.fit(X_train, y_train)\r\n    y_pred_class = dtc.predict(X_test)\r\n    accuracy= metrics.accuracy_score(y_test, y_pred_class)\r\n\r\n     print(accuracy)\r\n\r\n     mlflow.log_param(\"random_state\", 10)\r\n     mlflow.log_metric(\"accuracy\", accuracy)\r\n     mlflow.sklearn.log_model(dtc, \"model\")\r\n     modelpath = \"///home/corp.tcf.biz/t283223/mlruns/model-%s-%f\" % (\"decision_tree\", 1.1)\r\n     mlflow.sklearn.save_model(dtc, modelpath)  \r\n  \r\n     mlflow.log_artifact(\"iris1.png\")`\r\n\r\n### Describe the problem\r\nAfter running the cell above(as part of a notebook using scikit learn libraries, when we try to open mlflow ui, it gives us the error:\r\n![image](https://user-images.githubusercontent.com/12123019/105401073-59627900-5beb-11eb-9ab9-c144f9bc8938.png)\r\n\r\n### Developer log from chrome:\r\n\r\nFailed to load resource: the server responded with a status of 400 (BAD REQUEST)\r\nActionUtils.js:73 XHR failed Object\r\nerror @ ActionUtils.js:73\r\nRequestStateWrapper.js:72 ERROR Array(1)\r\n$t @ RequestStateWrapper.js:72\r\nreact-dom.production.min.js:3282 Error: A request error occurred.\r\n    at $t (RequestStateWrapper.js:73)\r\n    at t.value (RequestStateWrapper.js:61)\r\n    at h (react-dom.production.min.js:2740)\r\n    at beginWork (react-dom.production.min.js:2916)\r\n    at o (react-dom.production.min.js:4051)\r\n    at i (react-dom.production.min.js:4068)\r\n    at w (react-dom.production.min.js:4296)\r\n    at _ (react-dom.production.min.js:4263)\r\n    at b (react-dom.production.min.js:4254)\r\n    at v (react-dom.production.min.js:4213)\r\n_r @ react-dom.production.min.js:3282\r\nAppErrorBoundary.js:19 Error: A request error occurred.\r\n    at $t (RequestStateWrapper.js:73)\r\n    at t.value (RequestStateWrapper.js:61)\r\n    at h (react-dom.production.min.js:2740)\r\n    at beginWork (react-dom.production.min.js:2916)\r\n    at o (react-dom.production.min.js:4051)\r\n    at i (react-dom.production.min.js:4068)\r\n    at w (react-dom.production.min.js:4296)\r\n    at _ (react-dom.production.min.js:4263)\r\n    at b (react-dom.production.min.js:4254)\r\n    at v (react-dom.production.min.js:4213) Object\r\nvalue @ AppErrorBoundary.js:19\r\n:9023/#/:1 Uncaught (in promise) exhr: {readyState: 4, getResponseHeader: ƒ, getAllResponseHeaders: ƒ, setRequestHeader: ƒ, overrideMimeType: ƒ, …}abort: ƒ (e)always: ƒ ()catch: ƒ (e)done: ƒ ()fail: ƒ ()getAllResponseHeaders: ƒ ()getResponseHeader: ƒ (e)overrideMimeType: ƒ (e)pipe: ƒ ()progress: ƒ ()promise: ƒ (e)readyState: 4responseJSON: {error_code: \"INVALID_PARAMETER_VALUE\", message: \"Invalid experiment ID: 'model-decision_tree-1.000000'\"}responseText: \"{\"error_code\": \"INVALID_PARAMETER_VALUE\", \"message\": \"Invalid experiment ID: 'model-decision_tree-1.000000'\"}\"setRequestHeader: ƒ (e,t)state: ƒ ()status: 400statusCode: ƒ (e)statusText: \"BAD REQUEST\"then: ƒ (e,r,o)__proto__: Object__proto__: Object\r\nDevTools failed to load SourceMap: Could not load content for http://172.16.216.9:9023/static-files/bootstrap/bootstrap.min.css.map: HTTP error: status code 404, net::ERR_HTTP_RESPONSE_CODE_FAILURE\r\n","closed_by":{"login":"rakesh7464","id":12123019,"node_id":"MDQ6VXNlcjEyMTIzMDE5","avatar_url":"https://avatars.githubusercontent.com/u/12123019?v=4","gravatar_id":"","url":"https://api.github.com/users/rakesh7464","html_url":"https://github.com/rakesh7464","followers_url":"https://api.github.com/users/rakesh7464/followers","following_url":"https://api.github.com/users/rakesh7464/following{/other_user}","gists_url":"https://api.github.com/users/rakesh7464/gists{/gist_id}","starred_url":"https://api.github.com/users/rakesh7464/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rakesh7464/subscriptions","organizations_url":"https://api.github.com/users/rakesh7464/orgs","repos_url":"https://api.github.com/users/rakesh7464/repos","events_url":"https://api.github.com/users/rakesh7464/events{/privacy}","received_events_url":"https://api.github.com/users/rakesh7464/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/4012/timeline","performed_via_github_app":null,"state_reason":"completed"}