{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1922","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/1922/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/1922/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/1922/events","html_url":"https://github.com/mlflow/mlflow/issues/1922","id":505152860,"node_id":"MDU6SXNzdWU1MDUxNTI4NjA=","number":1922,"title":"[SETUP-BUG] Passing CSV as input data","user":{"login":"GiteshKhanna","id":20209546,"node_id":"MDQ6VXNlcjIwMjA5NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/20209546?v=4","gravatar_id":"","url":"https://api.github.com/users/GiteshKhanna","html_url":"https://github.com/GiteshKhanna","followers_url":"https://api.github.com/users/GiteshKhanna/followers","following_url":"https://api.github.com/users/GiteshKhanna/following{/other_user}","gists_url":"https://api.github.com/users/GiteshKhanna/gists{/gist_id}","starred_url":"https://api.github.com/users/GiteshKhanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GiteshKhanna/subscriptions","organizations_url":"https://api.github.com/users/GiteshKhanna/orgs","repos_url":"https://api.github.com/users/GiteshKhanna/repos","events_url":"https://api.github.com/users/GiteshKhanna/events{/privacy}","received_events_url":"https://api.github.com/users/GiteshKhanna/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1554650079,"node_id":"MDU6TGFiZWwxNTU0NjUwMDc5","url":"https://api.github.com/repos/mlflow/mlflow/labels/stale","name":"stale","color":"828282","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-10-10T09:36:35Z","updated_at":"2019-12-30T10:33:23Z","closed_at":"2019-12-30T10:33:23Z","author_association":"NONE","active_lock_reason":null,"body":"I want to have some clarity on how the data is parsed when the models are deployed.\r\n\r\nI actually want to pass comma separated values which seem to be giving an error. When I tried checking out the code in the library I found out that when I pass ContentType as text/csv , mlflow expects the path to the data file rather than data itself, which is the reason I was getting the error.\r\n\r\nAlthough I want to have a solution such that I am able to pass directly csv as input data and hence get the outputs.\r\n\r\nEg.\r\n\r\n```\r\ndef query_endpoint_csv(input_data):\r\n  client = boto3.session.Session().client(\"sagemaker-runtime\", REGION_NAME)\r\n  \r\n  response = client.invoke_endpoint(\r\n      EndpointName=\"xgtestxyz32\",\r\n      Body=input_data,\r\n      ContentType='text/csv',\r\n  )\r\n  preds = response['Body'].read().decode(\"ascii\")\r\n  preds = json.loads(preds)\r\n  print(\"Received response: {}\".format(preds))\r\n  return preds\r\n\r\npredictions = query_endpoint_csv(input_data=('1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10\\n1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10'))\r\n```\r\n\r\n","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/1922/timeline","performed_via_github_app":null,"state_reason":"completed"}