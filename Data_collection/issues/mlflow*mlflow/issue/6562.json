{"url":"https://api.github.com/repos/mlflow/mlflow/issues/6562","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/6562/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/6562/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/6562/events","html_url":"https://github.com/mlflow/mlflow/issues/6562","id":1348514619,"node_id":"I_kwDOCB5Jx85QYLM7","number":6562,"title":"[SETUP-BUG] Relax docker version to allow 6.0.0","user":{"login":"jmahlik","id":38999128,"node_id":"MDQ6VXNlcjM4OTk5MTI4","avatar_url":"https://avatars.githubusercontent.com/u/38999128?v=4","gravatar_id":"","url":"https://api.github.com/users/jmahlik","html_url":"https://github.com/jmahlik","followers_url":"https://api.github.com/users/jmahlik/followers","following_url":"https://api.github.com/users/jmahlik/following{/other_user}","gists_url":"https://api.github.com/users/jmahlik/gists{/gist_id}","starred_url":"https://api.github.com/users/jmahlik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmahlik/subscriptions","organizations_url":"https://api.github.com/users/jmahlik/orgs","repos_url":"https://api.github.com/users/jmahlik/repos","events_url":"https://api.github.com/users/jmahlik/events{/privacy}","received_events_url":"https://api.github.com/users/jmahlik/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":4300304016,"node_id":"LA_kwDOCB5Jx88AAAABAFFukA","url":"https://api.github.com/repos/mlflow/mlflow/labels/has-closing-pr","name":"has-closing-pr","color":"fef2c0","default":false,"description":"This issue has a closing PR"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-08-23T20:34:27Z","updated_at":"2022-08-24T00:24:31Z","closed_at":"2022-08-24T00:24:31Z","author_association":"NONE","active_lock_reason":null,"body":"### System information\n\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Windows\r\n- **MLflow installed from (source or binary)**: either, wheel or git\r\n- **MLflow version (run ``mlflow --version``)**: 1.28.0\r\n- **Python version**: 3.10.6\n\n### Code to reproduce issue\n\nrequirements.txt\r\n\r\n```\r\nmlflow==1.28.0\r\ndocker>=5.0.0\r\n```\r\n\r\nconstraints.txt\r\n\r\n```\r\ndocker>=6.0.0; platform_system == \"Windows\"\r\n```\r\n\r\n```\r\npython -m pip install mlflow==1.28.0 # results in way old version of docker 4.x series that is not likely to work with other deps, transitive deps clash ex. sagemaker[local]\r\npython -m pip install -r requirements.txt # does not resolve\r\n# or \r\npython -m pip install -r requirements.txt -c constraints.txt # does not resolve\r\n```\n\n### Describe the problem\n\nCurrently, the docker major version is restricted to `5.x.x` in the [core requirements](https://github.com/mlflow/mlflow/blob/master/requirements/core-requirements.yaml#L13). This makes installing mlflow into a windows python 3.10 environment quite difficult, or not possible if there are other transitive deps relying on docker. Docker 5.0.0 fails to install due to a transitive pinned dep on pywin32 which doesn't work with python 3.10. \r\n\r\nDocker just released 6.0.0 which would make installation possible on windows.  Consider bumping the max allowable version of docker to 6. This would allow users to pin docker as needed and make installation possible on windows python 3.10.\r\n\r\nThere's not really a workaround other than relaxing the docker version or downgrading python to 3.9. Python 3.9 is discontinuing binary installers with the next release, so keeping python 3.9 up to date with security fixes will not be easy for the majority of python users on windows (building from source is not fun on windows).\r\n\r\nhttps://github.com/docker/docker-py/releases/tag/6.0.0\r\n\r\nhttps://github.com/docker/docker-py/pull/3004\r\n\r\n\n\n### Other info / logs\n\n_No response_","closed_by":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/6562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/6562/timeline","performed_via_github_app":null,"state_reason":"completed"}