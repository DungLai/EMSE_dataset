{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3427","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/3427/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/3427/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/3427/events","html_url":"https://github.com/mlflow/mlflow/issues/3427","id":702698694,"node_id":"MDU6SXNzdWU3MDI2OTg2OTQ=","number":3427,"title":"[FR] Avoid save h5 model artifact when running mlflow.keras.autolog()","user":{"login":"casfranco","id":20116229,"node_id":"MDQ6VXNlcjIwMTE2MjI5","avatar_url":"https://avatars.githubusercontent.com/u/20116229?v=4","gravatar_id":"","url":"https://api.github.com/users/casfranco","html_url":"https://github.com/casfranco","followers_url":"https://api.github.com/users/casfranco/followers","following_url":"https://api.github.com/users/casfranco/following{/other_user}","gists_url":"https://api.github.com/users/casfranco/gists{/gist_id}","starred_url":"https://api.github.com/users/casfranco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casfranco/subscriptions","organizations_url":"https://api.github.com/users/casfranco/orgs","repos_url":"https://api.github.com/users/casfranco/repos","events_url":"https://api.github.com/users/casfranco/events{/privacy}","received_events_url":"https://api.github.com/users/casfranco/received_events","type":"User","site_admin":false},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":2022845866,"node_id":"MDU6TGFiZWwyMDIyODQ1ODY2","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/artifacts","name":"area/artifacts","color":"48eabc","default":false,"description":"Artifact stores and artifact logging"},{"id":2022847714,"node_id":"MDU6TGFiZWwyMDIyODQ3NzE0","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/model-registry","name":"area/model-registry","color":"48eabc","default":false,"description":"Model registry, model registry APIs, and the fluent client calls for model registry"},{"id":2022848043,"node_id":"MDU6TGFiZWwyMDIyODQ4MDQz","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/models","name":"area/models","color":"48eabc","default":false,"description":"MLmodel format, model serialization/deserialization, flavors"},{"id":2022865338,"node_id":"MDU6TGFiZWwyMDIyODY1MzM4","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/important-longterm","name":"priority/important-longterm","color":"534cb5","default":false,"description":"Important over the long term, but may not be staffed or may need multiple releases to complete."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-09-16T11:50:45Z","updated_at":"2020-10-05T17:15:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"\r\n## Willingness to contribute\r\n\r\n- [ x ] No. I cannot contribute this feature at this time.\r\n\r\n## Proposal Summary\r\n\r\nThe autolog function is great! However, is consuming a lot of memory resources because is saving the h5 model without an option to disable this feature. It would be very useful to have the possibility to disable the model save option.\r\n\r\n## Motivation\r\n- What is the use case for this feature?\r\nWhen someone works with huge models it can be impossible to save all h5 files for each experiment. This situation is worse when the teamwork uses a centralized logging server.\r\n\r\n- Why is this use case valuable to support for MLflow users in general?\r\nEasily log function with some user control or options.\r\n\r\n- Why is this use case valuable to support for your project(s) or organization?\r\nBetter resource management.\r\n\r\n- Why is it currently difficult to achieve this use case? (please be as specific as possible about why related MLflow features and components are insufficient)\r\n\r\n### What component(s), interfaces, languages, and integrations does this feature affect?\r\nComponents \r\n- [x] `area/artifacts`: Artifact stores and artifact logging\r\n- [ ] `area/build`: Build and test infrastructure for MLflow\r\n- [ ] `area/docs`: MLflow documentation pages\r\n- [ ] `area/examples`: Example code\r\n- [x] `area/model-registry`: Model Registry service, APIs, and the fluent client calls for Model Registry\r\n- [x ] `area/models`: MLmodel format, model serialization/deserialization, flavors\r\n- [ ] `area/projects`: MLproject format, project running backends\r\n- [ ] `area/scoring`: Local serving, model deployment tools, spark UDFs\r\n- [ ] `area/server-infra`: MLflow server, JavaScript dev server\r\n- [ ] `area/tracking`: Tracking Service, tracking client APIs, autologging\r\n\r\n## Details\r\n\r\nIn the @experimental mlflow.keras.autolog() function, on_train_end method it always tries to log the model. This situation triggers automatically a functionality to save the h5 file. There are situations it could be useful to avoid saving this file because of disk space management or transfer data to servers.\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/3427/timeline","performed_via_github_app":null,"state_reason":null}