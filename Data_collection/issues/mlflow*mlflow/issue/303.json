{"url":"https://api.github.com/repos/mlflow/mlflow/issues/303","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/303/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/303/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/303/events","html_url":"https://github.com/mlflow/mlflow/issues/303","id":350558387,"node_id":"MDU6SXNzdWUzNTA1NTgzODc=","number":303,"title":"Proposal: Integrated notetaking for runs","user":{"login":"aadamson","id":3607110,"node_id":"MDQ6VXNlcjM2MDcxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/3607110?v=4","gravatar_id":"","url":"https://api.github.com/users/aadamson","html_url":"https://github.com/aadamson","followers_url":"https://api.github.com/users/aadamson/followers","following_url":"https://api.github.com/users/aadamson/following{/other_user}","gists_url":"https://api.github.com/users/aadamson/gists{/gist_id}","starred_url":"https://api.github.com/users/aadamson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aadamson/subscriptions","organizations_url":"https://api.github.com/users/aadamson/orgs","repos_url":"https://api.github.com/users/aadamson/repos","events_url":"https://api.github.com/users/aadamson/events{/privacy}","received_events_url":"https://api.github.com/users/aadamson/received_events","type":"User","site_admin":false},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-08-14T19:04:24Z","updated_at":"2018-09-12T00:51:55Z","closed_at":"2018-09-12T00:51:55Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I discussed this on Slack with @aarondav and wanted to gather feedback on a feature that I'm interested in contributing.\r\n\r\n### Motivation\r\nDuring my work, after I train and evaluate a group of models, I'll typically take some notes (e.g. thoughts on what models did well and why, thoughts on what changes to try next and why) and save them to a text file in the same directory as whatever artifacts/metrics I've generated. I think having something like an integrated lab notebook in MLflow would be very helpful. \r\n\r\n### Proposal\r\nHere's what I think would be a good first attempt:\r\n\r\n#### Backend\r\n* Add a **Note** entity to be owned by a **Run**\r\n* Add a **Note**s field to **RunData**\r\n* **Note** schema will look like\r\n    - [run_uuid:string, created_time:int64, updated_time:int64, user_id:string, content:string] (option 1), or\r\n    - [run_uuid:string, created_time:int64, updated_time:int64, user_id:string] (option 2)\r\n* **Note**s will be stored on disk at \r\n    - A single yaml file containing everything from option 1 schema above\r\n        - <root_dir>/<experiment_id>/<run_uuid>/notes/<note_uuid> \r\n    - Or as a metadata file and a content file:\r\n        - <root_dir>/<experiment_id>/<run_uuid>/notes/<note_uuid>/meta.yaml (everything from option 2 above)\r\n        - <root_dir>/<experiment_id>/<run_uuid>/notes/<note_uuid>/content.md (user-provided content\r\n* Two new service endpoints will be added\r\n    - list_notes (takes a run uuid and returns a list of notes, including their contents)\r\n    - log_note (takes a run_uuid, user_id, timestamp, and optionally a note_uuid, and returns a **Note** (conforms to schema from above)\r\n        - if *note_uuid* provided, modify content of existing note in place and update *updated_time* to *timestamp*; otherwise, create new **Note**\r\n\r\n#### UI\r\n - The user will be able to view, add, and modify notes through the run page: ![image](https://user-images.githubusercontent.com/3607110/44111918-b6f1a31c-9fd1-11e8-9f6a-256e5d151f9c.png) Not shown above: the right pane could toggle between \"View\" (render markdown) and \"Write\" and have a create/update button (like the markdown editor Github provides).\r\n- The runs table on the experiment view will have an icon that is either present or note per row indicating whether or note there are notes associated with the run\r\n- Users can filter the runs table to runs with or without notes\r\n\r\n### Possible extensions\r\n- Experiment notes: allow notes to be associated with and viewed for an experiment instead of a run\r\n- Artifact embedding: allow users to embed images saved previously as artifacts for the run\r\n\r\n### Questions? Suggestions?\r\nBefore I start working on this, I'd love to hear suggestions or questions! I'm new to the project and not really familiar with the ins and outs of the codebase, so some of this could be very off-base or wrong-headed.","closed_by":{"login":"andrewmchen","id":4492809,"node_id":"MDQ6VXNlcjQ0OTI4MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4492809?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewmchen","html_url":"https://github.com/andrewmchen","followers_url":"https://api.github.com/users/andrewmchen/followers","following_url":"https://api.github.com/users/andrewmchen/following{/other_user}","gists_url":"https://api.github.com/users/andrewmchen/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewmchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewmchen/subscriptions","organizations_url":"https://api.github.com/users/andrewmchen/orgs","repos_url":"https://api.github.com/users/andrewmchen/repos","events_url":"https://api.github.com/users/andrewmchen/events{/privacy}","received_events_url":"https://api.github.com/users/andrewmchen/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/303/reactions","total_count":7,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":4,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/303/timeline","performed_via_github_app":null,"state_reason":"completed"}