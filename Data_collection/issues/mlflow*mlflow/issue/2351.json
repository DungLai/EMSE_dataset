{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2351","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/2351/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/2351/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/2351/events","html_url":"https://github.com/mlflow/mlflow/issues/2351","id":556242257,"node_id":"MDU6SXNzdWU1NTYyNDIyNTc=","number":2351,"title":"[BUG] SQL Server connection doesn't write data","user":{"login":"Effervex","id":5952202,"node_id":"MDQ6VXNlcjU5NTIyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/5952202?v=4","gravatar_id":"","url":"https://api.github.com/users/Effervex","html_url":"https://github.com/Effervex","followers_url":"https://api.github.com/users/Effervex/followers","following_url":"https://api.github.com/users/Effervex/following{/other_user}","gists_url":"https://api.github.com/users/Effervex/gists{/gist_id}","starred_url":"https://api.github.com/users/Effervex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Effervex/subscriptions","organizations_url":"https://api.github.com/users/Effervex/orgs","repos_url":"https://api.github.com/users/Effervex/repos","events_url":"https://api.github.com/users/Effervex/events{/privacy}","received_events_url":"https://api.github.com/users/Effervex/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1893072438,"node_id":"MDU6TGFiZWwxODkzMDcyNDM4","url":"https://api.github.com/repos/mlflow/mlflow/labels/help%20wanted","name":"help wanted","color":"c5def5","default":true,"description":"We would like help from the community to add this support"},{"id":2022852620,"node_id":"MDU6TGFiZWwyMDIyODUyNjIw","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/sqlalchemy","name":"area/sqlalchemy","color":"ede978","default":false,"description":"Use of SQL alchemy in tracking service or model registry"},{"id":2022863969,"node_id":"MDU6TGFiZWwyMDIyODYzOTY5","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/important-soon","name":"priority/important-soon","color":"534cb5","default":false,"description":"The issue is worked on by the community currently or will be very soon, ideally in time for the"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-01-28T14:22:25Z","updated_at":"2020-07-18T05:15:10Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**: Mostly no. Slight variation on https://mlflow.org/docs/latest/tracking.html#id42\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Windows 10\r\n- **MLflow installed from (source or binary)**: source (conda)\r\n- **MLflow version (run ``mlflow --version``)**: 1.5.0\r\n- **Python version**: 3.7.6\r\n- **npm version, if running the dev UI**: NA\r\n- **Exact command to reproduce**: NA\r\n\r\n### Describe the problem\r\nI am attempting to use MS SQL Server for my MLFlow tracking. I can connect it with a valid connection string (see below code - some details obfuscated for privacy), and it will create the necessary tables for tracking in the database (`experiments, metrics, params, runs, tags`). But it will not go any further and produce an error:\r\n`OperationalError: (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC SQL Server Driver]Neither DSN nor SERVER keyword supplied (0) (SQLDriverConnect)')\r\n(Background on this error at: http://sqlalche.me/e/e3q8)`\r\n\r\nIt seems odd to me that it is able to access the DB, create the necessary tables, but fail at adding any data to the tables. My user privileges are adequate for INSERTing rows, and I have connected and INSERTed into this DB before with pyodbc, so I suspect the issue lies somewhere within MLFlow.\r\n\r\n### Code to reproduce issue\r\n```\r\nimport urllib\r\nimport mlflow\r\n\r\nparams = urllib.parse.quote_plus('DRIVER={SQL Server};'\r\n                              'SERVER=<server address>;'\r\n                              'DATABASE=<dbname>;'\r\n                              'UID=<username>;'\r\n                              'PWD=<password>')\r\nremote_server_uri = 'mssql+pyodbc:///?odbc_connect={}'.format(params)\r\nmlflow.set_tracking_uri(remote_server_uri)\r\nwith mlflow.start_run():\r\n    mlflow.log_param(\"a\", 1)\r\n    mlflow.log_metric(\"b\", 2)\r\n```\r\n\r\nAs stated, this results in tables being created, but no data added.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/2351/timeline","performed_via_github_app":null,"state_reason":null}