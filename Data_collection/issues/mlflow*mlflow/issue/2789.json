{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2789","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/2789/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/2789/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/2789/events","html_url":"https://github.com/mlflow/mlflow/issues/2789","id":612838625,"node_id":"MDU6SXNzdWU2MTI4Mzg2MjU=","number":2789,"title":"[BUG] Tensorflow 1.x example conda ResolvePackageNotFound","user":{"login":"jlangballe-miovision","id":64787634,"node_id":"MDQ6VXNlcjY0Nzg3NjM0","avatar_url":"https://avatars.githubusercontent.com/u/64787634?v=4","gravatar_id":"","url":"https://api.github.com/users/jlangballe-miovision","html_url":"https://github.com/jlangballe-miovision","followers_url":"https://api.github.com/users/jlangballe-miovision/followers","following_url":"https://api.github.com/users/jlangballe-miovision/following{/other_user}","gists_url":"https://api.github.com/users/jlangballe-miovision/gists{/gist_id}","starred_url":"https://api.github.com/users/jlangballe-miovision/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlangballe-miovision/subscriptions","organizations_url":"https://api.github.com/users/jlangballe-miovision/orgs","repos_url":"https://api.github.com/users/jlangballe-miovision/repos","events_url":"https://api.github.com/users/jlangballe-miovision/events{/privacy}","received_events_url":"https://api.github.com/users/jlangballe-miovision/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2022847277,"node_id":"MDU6TGFiZWwyMDIyODQ3Mjc3","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/examples","name":"area/examples","color":"48eabc","default":false,"description":"Example code"},{"id":2022848043,"node_id":"MDU6TGFiZWwyMDIyODQ4MDQz","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/models","name":"area/models","color":"48eabc","default":false,"description":"MLmodel format, model serialization/deserialization, flavors"}],"state":"closed","locked":false,"assignee":{"login":"juntai-zheng","id":39497939,"node_id":"MDQ6VXNlcjM5NDk3OTM5","avatar_url":"https://avatars.githubusercontent.com/u/39497939?v=4","gravatar_id":"","url":"https://api.github.com/users/juntai-zheng","html_url":"https://github.com/juntai-zheng","followers_url":"https://api.github.com/users/juntai-zheng/followers","following_url":"https://api.github.com/users/juntai-zheng/following{/other_user}","gists_url":"https://api.github.com/users/juntai-zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/juntai-zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juntai-zheng/subscriptions","organizations_url":"https://api.github.com/users/juntai-zheng/orgs","repos_url":"https://api.github.com/users/juntai-zheng/repos","events_url":"https://api.github.com/users/juntai-zheng/events{/privacy}","received_events_url":"https://api.github.com/users/juntai-zheng/received_events","type":"User","site_admin":false},"assignees":[{"login":"juntai-zheng","id":39497939,"node_id":"MDQ6VXNlcjM5NDk3OTM5","avatar_url":"https://avatars.githubusercontent.com/u/39497939?v=4","gravatar_id":"","url":"https://api.github.com/users/juntai-zheng","html_url":"https://github.com/juntai-zheng","followers_url":"https://api.github.com/users/juntai-zheng/followers","following_url":"https://api.github.com/users/juntai-zheng/following{/other_user}","gists_url":"https://api.github.com/users/juntai-zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/juntai-zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juntai-zheng/subscriptions","organizations_url":"https://api.github.com/users/juntai-zheng/orgs","repos_url":"https://api.github.com/users/juntai-zheng/repos","events_url":"https://api.github.com/users/juntai-zheng/events{/privacy}","received_events_url":"https://api.github.com/users/juntai-zheng/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-05-05T19:25:10Z","updated_at":"2020-05-07T23:51:49Z","closed_at":"2020-05-07T23:51:49Z","author_association":"NONE","active_lock_reason":null,"body":"### Willingness to contribute\r\nThe MLflow Community encourages bug fix contributions. Would you or another member of your organization be willing to contribute a fix\r\nfor this bug to the MLflow code base?\r\n\r\n- [ ] Yes. I can contribute a fix for this bug independently.\r\n- [ ] Yes. I would be willing to contribute a fix for this bug with guidance from the MLflow community.\r\n- [x] No. I cannot contribute a bug fix at this time.\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**: no\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: macOS 10.15.4\r\n- **MLflow installed from (source or binary)**: binary\r\n- **MLflow version (run ``mlflow --version``)**:  1.8.0\r\n- **Python version**: 3.7.7\r\n- **npm version, if running the dev UI**:\r\n- **Exact command to reproduce**:\r\n```\r\ncd examples/tensorflow/tf1\r\nmlflow run .\r\n```\r\n\r\n### Describe the problem\r\nTrying to run the tf1 examples gives an error installing dependencies.\r\n\r\n```\r\nResolvePackageNotFound: \r\n  - python==3.6\r\n```\r\n\r\n### Code to reproduce issue\r\n```\r\ncd examples/tensorflow/tf1\r\nmlflow run .\r\n```\r\n\r\n### Other info / logs\r\nThis is caused by a typo with dependencies in the tf1/conda.yaml file.\r\n\r\n```\r\nname: tensorflow-example\r\nchannels:\r\n  - defaults\r\n  - anaconda\r\ndependencies:\r\n  - python==3.6 # <-- Should be single =\r\n  - tensorflow==1.13.1 # Here as well\r\n  - pip:\r\n    - mlflow\r\n```\r\n\r\nChanging the == to = fixes the issue.\r\n\r\nHere's the full output of running the run command.\r\n```\r\n\r\n$ mlflow run .                                \r\n2020/05/05 15:19:57 INFO mlflow.projects: === Creating conda environment mlflow-680bb0a93589120b486c611d395fa96a6ec264e5 ===\r\nWarning: you have pip-installed dependencies in your environment file, but you do not list pip itself as one of your conda dependencies.  Conda may not use the correct pip to install your packages, and they may end up in the wrong place.  Please add an explicit pip dependency.  I'm adding one for you, but still nagging you.\r\nCollecting package metadata (repodata.json): done\r\nSolving environment: failed\r\n\r\nResolvePackageNotFound: \r\n  - python==3.6\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/mlflow\", line 8, in <module>\r\n    sys.exit(cli())\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/mlflow/cli.py\", line 133, in run\r\n    run_id=run_id\r\n  File \"/usr/local/lib/python3.7/site-packages/mlflow/projects/__init__.py\", line 291, in run\r\n    synchronous=synchronous, run_id=run_id)\r\n  File \"/usr/local/lib/python3.7/site-packages/mlflow/projects/__init__.py\", line 164, in _run\r\n    conda_env_name = _get_or_create_conda_env(project.conda_env_path)\r\n  File \"/usr/local/lib/python3.7/site-packages/mlflow/projects/__init__.py\", line 456, in _get_or_create_conda_env\r\n    conda_env_path], stream_output=True)\r\n  File \"/usr/local/lib/python3.7/site-packages/mlflow/utils/process.py\", line 38, in exec_cmd\r\n    raise ShellCommandException(\"Non-zero exitcode: %s\" % (exit_code))\r\nmlflow.utils.process.ShellCommandException: Non-zero exitcode: 1\r\n```\r\n","closed_by":{"login":"juntai-zheng","id":39497939,"node_id":"MDQ6VXNlcjM5NDk3OTM5","avatar_url":"https://avatars.githubusercontent.com/u/39497939?v=4","gravatar_id":"","url":"https://api.github.com/users/juntai-zheng","html_url":"https://github.com/juntai-zheng","followers_url":"https://api.github.com/users/juntai-zheng/followers","following_url":"https://api.github.com/users/juntai-zheng/following{/other_user}","gists_url":"https://api.github.com/users/juntai-zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/juntai-zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juntai-zheng/subscriptions","organizations_url":"https://api.github.com/users/juntai-zheng/orgs","repos_url":"https://api.github.com/users/juntai-zheng/repos","events_url":"https://api.github.com/users/juntai-zheng/events{/privacy}","received_events_url":"https://api.github.com/users/juntai-zheng/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/2789/timeline","performed_via_github_app":null,"state_reason":"completed"}