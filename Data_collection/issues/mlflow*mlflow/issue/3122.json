{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3122","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/3122/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/3122/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/3122/events","html_url":"https://github.com/mlflow/mlflow/issues/3122","id":659205736,"node_id":"MDU6SXNzdWU2NTkyMDU3MzY=","number":3122,"title":"[FR] Allow specifying mlflow server configurations as environment variables","user":{"login":"larribas","id":3601671,"node_id":"MDQ6VXNlcjM2MDE2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/3601671?v=4","gravatar_id":"","url":"https://api.github.com/users/larribas","html_url":"https://github.com/larribas","followers_url":"https://api.github.com/users/larribas/followers","following_url":"https://api.github.com/users/larribas/following{/other_user}","gists_url":"https://api.github.com/users/larribas/gists{/gist_id}","starred_url":"https://api.github.com/users/larribas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/larribas/subscriptions","organizations_url":"https://api.github.com/users/larribas/orgs","repos_url":"https://api.github.com/users/larribas/repos","events_url":"https://api.github.com/users/larribas/events{/privacy}","received_events_url":"https://api.github.com/users/larribas/received_events","type":"User","site_admin":false},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":955449436,"node_id":"MDU6TGFiZWw5NTU0NDk0MzY=","url":"https://api.github.com/repos/mlflow/mlflow/labels/good%20first%20issue","name":"good first issue","color":"7057ff","default":true,"description":"Good for newcomers"},{"id":2022849295,"node_id":"MDU6TGFiZWwyMDIyODQ5Mjk1","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/tracking","name":"area/tracking","color":"48eabc","default":false,"description":"Tracking service, tracking client APIs, autologging"},{"id":4300304016,"node_id":"LA_kwDOCB5Jx88AAAABAFFukA","url":"https://api.github.com/repos/mlflow/mlflow/labels/has-closing-pr","name":"has-closing-pr","color":"fef2c0","default":false,"description":"This issue has a closing PR"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/mlflow/mlflow/milestones/3","html_url":"https://github.com/mlflow/mlflow/milestone/3","labels_url":"https://api.github.com/repos/mlflow/mlflow/milestones/3/labels","id":7155995,"node_id":"MI_kwDOCB5Jx84AbTEb","number":3,"title":"MLflow Roadmap","description":"We are looking for help from the community to implement many of these features and bug fixes, which are annotated with the ``help wanted`` label. If you are interested in contributing to the implementation of one or more of these roadmap items, please leave a comment on the corresponding GitHub issue and we will assign a maintainer to support your development (if needed) efforts and aid in getting this feature merged.\r\nPlease carefully review the details within the issue and understand the scope of the implementation as marked within the issue prior to agreeing to take on the implementation work.","creator":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"open_issues":11,"closed_issues":21,"state":"open","created_at":"2021-09-15T20:15:38Z","updated_at":"2023-01-09T04:13:10Z","due_on":null,"closed_at":null},"comments":4,"created_at":"2020-07-17T12:11:25Z","updated_at":"2022-08-24T19:18:26Z","closed_at":"2022-08-24T19:18:25Z","author_association":"NONE","active_lock_reason":null,"body":"## MLflow Roadmap Item\r\n\r\nThis is an MLflow Roadmap item that has been prioritized by the MLflow maintainers. We’ve identified this feature as a highly requested addition to the MLflow package based on community feedback. \r\nWe're seeking a community contribution for the implementation of this feature and will enthusiastically support the development and review of a submitted PR for this.\r\n\r\n## Feature scope\r\n\r\nThis roadmap feature’s complexity is classified as:\r\n\r\n- [X] `good-first-issue`: This feature is limited in complexity and effort required to implement.\r\n\r\n## Proposal Summary\r\n\r\nWhen running an MLFlow server, I would like to propose having the ability to specify flags as environment variable, such as `MLFLOW_BACKEND_STORE_URI`, `MLFLOW_DEFAULT_ARTIFACT_ROOT`,  `MLFLOW_SERVE_ARTIFACTS`, `MLFLOW_ARTIFACTS_DESTINATION`, `MLFLOW_HOST`, ...\r\n\r\n## Motivation\r\n\r\nThe `backend-store-uri` will oftentimes contain sensitive information like database passwords. Some deployment options, like AWS ECS, won't allow you to interpolate secrets in CLI arguments at runtime.\r\n\r\nWorkarounds to this limitation of ECS include creating a custom docker image with an entrypoint that interpolates said secret, or overriding the entrypoint to use a shell.\r\n\r\nAlthough this limitation is not the responsibility of MLFlow, I would argue that giving people the option to specify values that contain secret information in multiple ways (env vars, files, ...) provides a better UX for systems engineers.\r\n\r\n\r\n### What component(s), interfaces, languages, and integrations does this feature affect?\r\nComponents \r\n- [ ] `area/artifacts`: Artifact stores and artifact logging\r\n- [ ] `area/build`: Build and test infrastructure for MLflow\r\n- [ ] `area/docs`: MLflow documentation pages\r\n- [ ] `area/examples`: Example code\r\n- [ ] `area/model-registry`: Model Registry service, APIs, and the fluent client calls for\r\nModel Registry\r\n- [ ] `area/models`: MLmodel format, model serialization/deserialization, flavors\r\n- [ ] `area/projects`: MLproject format, project running backends\r\n- [ ] `area/scoring`: Local serving, model deployment tools, spark UDFs\r\n- [x] `area/tracking`: Tracking Service, tracking client APIs, autologging\r\n\r\n## Details\r\n\r\nLeverage [Click's `envvar` argument for the `.option()` decorator](https://click.palletsprojects.com/en/7.x/options/#values-from-environment-variables).\r\n\r\n\r\n","closed_by":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3122/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/3122/timeline","performed_via_github_app":null,"state_reason":"completed"}