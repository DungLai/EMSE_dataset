{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1781","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/1781/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/1781/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/1781/events","html_url":"https://github.com/mlflow/mlflow/issues/1781","id":485261373,"node_id":"MDU6SXNzdWU0ODUyNjEzNzM=","number":1781,"title":"[FR] Allow custom fields in MLModel","user":{"login":"gragera","id":287089,"node_id":"MDQ6VXNlcjI4NzA4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/287089?v=4","gravatar_id":"","url":"https://api.github.com/users/gragera","html_url":"https://github.com/gragera","followers_url":"https://api.github.com/users/gragera/followers","following_url":"https://api.github.com/users/gragera/following{/other_user}","gists_url":"https://api.github.com/users/gragera/gists{/gist_id}","starred_url":"https://api.github.com/users/gragera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gragera/subscriptions","organizations_url":"https://api.github.com/users/gragera/orgs","repos_url":"https://api.github.com/users/gragera/repos","events_url":"https://api.github.com/users/gragera/events{/privacy}","received_events_url":"https://api.github.com/users/gragera/received_events","type":"User","site_admin":false},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":2022848043,"node_id":"MDU6TGFiZWwyMDIyODQ4MDQz","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/models","name":"area/models","color":"48eabc","default":false,"description":"MLmodel format, model serialization/deserialization, flavors"},{"id":2022863969,"node_id":"MDU6TGFiZWwyMDIyODYzOTY5","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/important-soon","name":"priority/important-soon","color":"534cb5","default":false,"description":"The issue is worked on by the community currently or will be very soon, ideally in time for the"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-08-26T14:17:41Z","updated_at":"2020-07-22T18:32:45Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"## Describe the proposal\r\n\r\nThe Model class (in `mlflow.models`) has a static method to load itself by reading the MLModel file\r\n\r\n```python\r\n@classmethod\r\n    def load(cls, path):\r\n        \"\"\"Load a model from its YAML representation.\"\"\"\r\n        import os\r\n        if os.path.isdir(path):\r\n            path = os.path.join(path, \"MLmodel\")\r\n        with open(path) as f:\r\n            return cls(**yaml.safe_load(f.read()))\r\n```\r\n\r\nIf you add any extra property to a MLModel file then the `load` method fails. Even though you could parse the MLModel file yourself and just create the object, the `load` method is used sparingly throughout the code, so it is not a valid solution.\r\n\r\nDoes it make sense to allow users to add any additional properties to this file? The MLProject file supports any extra properties with not issues, so it would be consistent.\r\n\r\n### Motivation\r\n\r\nAs MLflow is intended to be a modular solution, some users might want to add some extra metadata in the MLmodel file to consume it in other parts of their systems (as we can do in a MLproject)\r\n\r\n### Proposed Changes\r\n\r\nChange the implementation of the `load` method to load the known attributes manually, so it does not break when it finds any extra property in the yaml file.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1781/reactions","total_count":7,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/1781/timeline","performed_via_github_app":null,"state_reason":null}