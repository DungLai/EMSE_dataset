{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1201","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/1201/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/1201/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/1201/events","html_url":"https://github.com/mlflow/mlflow/issues/1201","id":440513733,"node_id":"MDU6SXNzdWU0NDA1MTM3MzM=","number":1201,"title":"Support for 'compile=False' when loading Keras models","user":{"login":"shervin64","id":32525285,"node_id":"MDQ6VXNlcjMyNTI1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/32525285?v=4","gravatar_id":"","url":"https://api.github.com/users/shervin64","html_url":"https://github.com/shervin64","followers_url":"https://api.github.com/users/shervin64/followers","following_url":"https://api.github.com/users/shervin64/following{/other_user}","gists_url":"https://api.github.com/users/shervin64/gists{/gist_id}","starred_url":"https://api.github.com/users/shervin64/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shervin64/subscriptions","organizations_url":"https://api.github.com/users/shervin64/orgs","repos_url":"https://api.github.com/users/shervin64/repos","events_url":"https://api.github.com/users/shervin64/events{/privacy}","received_events_url":"https://api.github.com/users/shervin64/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-05-06T01:29:17Z","updated_at":"2019-06-01T16:33:52Z","closed_at":"2019-06-01T16:33:52Z","author_association":"NONE","active_lock_reason":null,"body":"### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n- **MLflow installed from (source or binary)**:  binary\r\n- **MLflow version (run ``mlflow --version``)**: 0.9\r\n- **Python version**: 3.6\r\n- **npm version (if running the dev UI):\r\n- **Exact command to reproduce**:\r\n\r\n### Describe the problem\r\n\r\nWhen loading Keras models that were trained with custom losses and metrics, Keras will throw an error if those functions are not found:\r\nhttps://github.com/keras-team/keras/issues/5916\r\n\r\nThese functions are not needed for prediction, and this can be solved by adding the 'compile=False' keyword parameter when calling load_model:\r\nhttps://github.com/keras-team/keras/issues/5916#issuecomment-457624404\r\n\r\nHowever, mlflow does not support passing any of these when loading and saving Keras models. \r\n\r\nSupport for this should be added to support more complex models and training use cases.\r\n\r\nIn the meanwhile, does anyone have any suggestions for workarounds?\r\n\r\n","closed_by":{"login":"aarondav","id":1400247,"node_id":"MDQ6VXNlcjE0MDAyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1400247?v=4","gravatar_id":"","url":"https://api.github.com/users/aarondav","html_url":"https://github.com/aarondav","followers_url":"https://api.github.com/users/aarondav/followers","following_url":"https://api.github.com/users/aarondav/following{/other_user}","gists_url":"https://api.github.com/users/aarondav/gists{/gist_id}","starred_url":"https://api.github.com/users/aarondav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aarondav/subscriptions","organizations_url":"https://api.github.com/users/aarondav/orgs","repos_url":"https://api.github.com/users/aarondav/repos","events_url":"https://api.github.com/users/aarondav/events{/privacy}","received_events_url":"https://api.github.com/users/aarondav/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1201/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/1201/timeline","performed_via_github_app":null,"state_reason":"completed"}