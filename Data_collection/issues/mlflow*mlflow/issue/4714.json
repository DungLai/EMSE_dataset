{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4714","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/4714/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/4714/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/4714/events","html_url":"https://github.com/mlflow/mlflow/issues/4714","id":974666827,"node_id":"MDU6SXNzdWU5NzQ2NjY4Mjc=","number":4714,"title":"[SETUP-BUG] mlflow.cli: (psycopg2.errors.InsufficientPrivilege) permission denied for schema public","user":{"login":"rajatonit","id":12436987,"node_id":"MDQ6VXNlcjEyNDM2OTg3","avatar_url":"https://avatars.githubusercontent.com/u/12436987?v=4","gravatar_id":"","url":"https://api.github.com/users/rajatonit","html_url":"https://github.com/rajatonit","followers_url":"https://api.github.com/users/rajatonit/followers","following_url":"https://api.github.com/users/rajatonit/following{/other_user}","gists_url":"https://api.github.com/users/rajatonit/gists{/gist_id}","starred_url":"https://api.github.com/users/rajatonit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajatonit/subscriptions","organizations_url":"https://api.github.com/users/rajatonit/orgs","repos_url":"https://api.github.com/users/rajatonit/repos","events_url":"https://api.github.com/users/rajatonit/events{/privacy}","received_events_url":"https://api.github.com/users/rajatonit/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-08-19T13:30:27Z","updated_at":"2021-08-27T21:56:42Z","closed_at":"2021-08-27T21:56:25Z","author_association":"NONE","active_lock_reason":null,"body":"### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nDocker - Ubuntu 18.04 lts\r\n- **MLflow installed from (source or binary)**:\r\nbinary\r\n- **MLflow version (run ``mlflow --version``)**:\r\n1.19.0\r\n- **Python version**:\r\n3.7\r\n- **Exact command to reproduce**:\r\nmlflow server \\\r\n  --host 0.0.0.0 \\\r\n  --port 5000 \\\r\n  --default-artifact-root $ARTIFACT_URI \\\r\n  --backend-store-uri $BACKEND_STORE_URI\r\n\r\n### Describe the problem\r\nHi, I have setup mlflow to connect my corporations postgres server. However when I run mlflow I get the error: mlflow.cli: (psycopg2.errors.InsufficientPrivilege) permission denied for schema public . Upon asking the team that manages the postgres instance they told me for security reasons they have blocked public schema access and require we create a schema first and then write to that schema, i.e:\r\n\r\nCREATE SCHEMA IF NOT EXISTS experiments\r\nCreate table experiments.experiments(\r\nâ€¦\r\n)\r\n\r\nIs there any way I can configure ML flow to not write to public schema and rather create it's own schema for each table it wants to create? Any help or advice would be much appreciated. \r\n\r\nThank you!\r\n\r\n### Other info / logs\r\n\r\n/08/18 21:57:57 INFO mlflow.store.db.utils: Creating initial MLflow database tables...\r\n2021/08/18 21:57:57 ERROR mlflow.cli: Error initializing backend store\r\n2021/08/18 21:57:57 ERROR mlflow.cli: (psycopg2.errors.InsufficientPrivilege) permission denied for schema public\r\nLINE 2: CREATE TABLE experiments (\r\n                     ^\r\n\r\n[SQL:\r\nCREATE TABLE experiments (\r\n        experiment_id SERIAL NOT NULL,\r\n        name VARCHAR(256) NOT NULL,\r\n        artifact_location VARCHAR(256),\r\n        lifecycle_stage VARCHAR(32),\r\n        CONSTRAINT experiment_pk PRIMARY KEY (experiment_id),\r\n        CONSTRAINT experiments_lifecycle_stage CHECK (lifecycle_stage IN ('active', 'deleted')),\r\n        UNIQUE (name)\r\n)\r\n\r\n]                                                             \r\n\r\n","closed_by":{"login":"rajatonit","id":12436987,"node_id":"MDQ6VXNlcjEyNDM2OTg3","avatar_url":"https://avatars.githubusercontent.com/u/12436987?v=4","gravatar_id":"","url":"https://api.github.com/users/rajatonit","html_url":"https://github.com/rajatonit","followers_url":"https://api.github.com/users/rajatonit/followers","following_url":"https://api.github.com/users/rajatonit/following{/other_user}","gists_url":"https://api.github.com/users/rajatonit/gists{/gist_id}","starred_url":"https://api.github.com/users/rajatonit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajatonit/subscriptions","organizations_url":"https://api.github.com/users/rajatonit/orgs","repos_url":"https://api.github.com/users/rajatonit/repos","events_url":"https://api.github.com/users/rajatonit/events{/privacy}","received_events_url":"https://api.github.com/users/rajatonit/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/4714/timeline","performed_via_github_app":null,"state_reason":"completed"}