{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1571","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/1571/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/1571/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/1571/events","html_url":"https://github.com/mlflow/mlflow/issues/1571","id":466772055,"node_id":"MDU6SXNzdWU0NjY3NzIwNTU=","number":1571,"title":"Mlflow UI slowdowns with the number of timeseries metrics","user":{"login":"jdlesage","id":658597,"node_id":"MDQ6VXNlcjY1ODU5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/658597?v=4","gravatar_id":"","url":"https://api.github.com/users/jdlesage","html_url":"https://github.com/jdlesage","followers_url":"https://api.github.com/users/jdlesage/followers","following_url":"https://api.github.com/users/jdlesage/following{/other_user}","gists_url":"https://api.github.com/users/jdlesage/gists{/gist_id}","starred_url":"https://api.github.com/users/jdlesage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdlesage/subscriptions","organizations_url":"https://api.github.com/users/jdlesage/orgs","repos_url":"https://api.github.com/users/jdlesage/repos","events_url":"https://api.github.com/users/jdlesage/events{/privacy}","received_events_url":"https://api.github.com/users/jdlesage/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-07-11T09:23:19Z","updated_at":"2019-08-02T08:03:25Z","closed_at":"2019-08-02T08:03:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux CentOS 7\r\n- **MLflow installed from (source or binary)**:  source\r\n- **MLflow version (run ``mlflow --version``)**: 1.0.0\r\n- **Python version**: 3.6\r\n- **npm version (if running the dev UI): N/A\r\n- **Exact command to reproduce**:\r\n\r\n### Describe the problem\r\nIn our server, we log runs that use the timeseries metrics (metrics that uses the step parameters). It leads to have more than 10K metrics / run in the metrics table.\r\nThis kind of runs slowdown a lot the server. To compute the list of runs, mlflow needs to join runs with the metrics table that becomes huge. \r\nAnd more than performance issue, it will lead to increase the size of our database. The current solution will hardly scale with the number of runs.\r\n\r\n### Suggestions\r\n1/ A simple solution would be to limit the number of steps that can be registered per experiments. => This solution could be see as a limitation for users.\r\n\r\n2/ Change the DB schema. Store timeseries metrics in a separate table and don't use it in the experiment listing. => It will not fix database size problem.\r\n\r\n3/ Use another way to store timeseries. A solution could be to store them in the run artifacts. => It is much more complex to implement and change the design of MLflow.\r\n\r\nWhat are your recommendations ? Thanks!\r\n","closed_by":{"login":"jdlesage","id":658597,"node_id":"MDQ6VXNlcjY1ODU5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/658597?v=4","gravatar_id":"","url":"https://api.github.com/users/jdlesage","html_url":"https://github.com/jdlesage","followers_url":"https://api.github.com/users/jdlesage/followers","following_url":"https://api.github.com/users/jdlesage/following{/other_user}","gists_url":"https://api.github.com/users/jdlesage/gists{/gist_id}","starred_url":"https://api.github.com/users/jdlesage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdlesage/subscriptions","organizations_url":"https://api.github.com/users/jdlesage/orgs","repos_url":"https://api.github.com/users/jdlesage/repos","events_url":"https://api.github.com/users/jdlesage/events{/privacy}","received_events_url":"https://api.github.com/users/jdlesage/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1571/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/1571/timeline","performed_via_github_app":null,"state_reason":"completed"}