{"url":"https://api.github.com/repos/mlflow/mlflow/issues/673","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/673/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/673/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/673/events","html_url":"https://github.com/mlflow/mlflow/issues/673","id":374516061,"node_id":"MDU6SXNzdWUzNzQ1MTYwNjE=","number":673,"title":"provide experiment_id field in MLproject file","user":{"login":"areshytko","id":7684174,"node_id":"MDQ6VXNlcjc2ODQxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7684174?v=4","gravatar_id":"","url":"https://api.github.com/users/areshytko","html_url":"https://github.com/areshytko","followers_url":"https://api.github.com/users/areshytko/followers","following_url":"https://api.github.com/users/areshytko/following{/other_user}","gists_url":"https://api.github.com/users/areshytko/gists{/gist_id}","starred_url":"https://api.github.com/users/areshytko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areshytko/subscriptions","organizations_url":"https://api.github.com/users/areshytko/orgs","repos_url":"https://api.github.com/users/areshytko/repos","events_url":"https://api.github.com/users/areshytko/events{/privacy}","received_events_url":"https://api.github.com/users/areshytko/received_events","type":"User","site_admin":false},"labels":[{"id":1554650079,"node_id":"MDU6TGFiZWwxNTU0NjUwMDc5","url":"https://api.github.com/repos/mlflow/mlflow/labels/stale","name":"stale","color":"828282","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-10-26T19:23:53Z","updated_at":"2019-11-21T06:26:45Z","closed_at":"2019-11-12T21:50:17Z","author_association":"NONE","active_lock_reason":null,"body":"When we run the code via mlflow run a new interpreter is being spawned for the actual code that invokes mlflow.tracking APIs. And looks like it reads the environment variable MLFLOW_RUN_ID which was set by mlflow previouly and all python API that set experiment id don't work:\r\n\r\nmlflow.set_experiment()\r\nmlflow.start_run(experiment_id=<id>)\r\n\r\nboth of these APIs are ignored and this is very confusing. Everyhing is still tracked under default experiment (if no argument was provided to mlflow run or the env variable wasn't set)\r\n\r\nIn my setup each MLproject is an experiment on it's own. And I don't want to set the id manually for every one. And looks like I can't use python API for that either.\r\n\r\nSo, please, either fix the python API for the case when the code is invoked by mlflow run or provide a field in MLproject file for experiment id.\r\n","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/673/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/673/timeline","performed_via_github_app":null,"state_reason":"completed"}