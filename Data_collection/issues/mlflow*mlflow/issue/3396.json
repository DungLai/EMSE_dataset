{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3396","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/3396/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/3396/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/3396/events","html_url":"https://github.com/mlflow/mlflow/issues/3396","id":695140331,"node_id":"MDU6SXNzdWU2OTUxNDAzMzE=","number":3396,"title":"How to log a custom model as artifact when it is run remotey from GitHub","user":{"login":"MatthiasHerp","id":63145900,"node_id":"MDQ6VXNlcjYzMTQ1OTAw","avatar_url":"https://avatars.githubusercontent.com/u/63145900?v=4","gravatar_id":"","url":"https://api.github.com/users/MatthiasHerp","html_url":"https://github.com/MatthiasHerp","followers_url":"https://api.github.com/users/MatthiasHerp/followers","following_url":"https://api.github.com/users/MatthiasHerp/following{/other_user}","gists_url":"https://api.github.com/users/MatthiasHerp/gists{/gist_id}","starred_url":"https://api.github.com/users/MatthiasHerp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MatthiasHerp/subscriptions","organizations_url":"https://api.github.com/users/MatthiasHerp/orgs","repos_url":"https://api.github.com/users/MatthiasHerp/repos","events_url":"https://api.github.com/users/MatthiasHerp/events{/privacy}","received_events_url":"https://api.github.com/users/MatthiasHerp/received_events","type":"User","site_admin":false},"labels":[{"id":978584226,"node_id":"MDU6TGFiZWw5Nzg1ODQyMjY=","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/docs","name":"area/docs","color":"48eabc","default":false,"description":"Documentation issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2020-09-07T14:09:22Z","updated_at":"2020-09-08T17:33:31Z","closed_at":"2020-09-08T17:33:31Z","author_association":"NONE","active_lock_reason":null,"body":"I've stored my model in Github with MLProject so that others may run it in various variations. Now I would like to log the models created by runs as artifacts so that users can load them with MLModel. As my model is custom this is not as simple as with flavors such as spark. \r\nI first saved and loaded the model locally to make sure my Environment, model and artifact Code works.\r\nNow I want to include the Login of the model as part of the MLProject run from GitHub.\r\nAs there is no example in the documentation I know of, I wanted to ask for help and suggest that this may be a good addition to the documentation or examples.\r\n\r\nIn Terms of Code I wrote the follwing inside the mlrun at the end:\r\n\r\n#Model depending on the Parameters specified in the Project run\r\n**ETS_Exogen = ETS_Exogen(params=res.x, before=before,after=after) #taking parameters from the model**\r\n\r\n#logging the model with the previously defined model, evironment and artifacts\r\n**mlflow.pyfunc.log_model(python_model=ETS_Exogen, conda_env=conda_env, artifacts=artifacts)**\r\n\r\n1. Does **mlflow.pyfunc.log_model** automatically log the model into the artifacts of the runs or do I Need to define an artifact_path?\r\n2. Should I rather use **mlflow.pyfunc.save_model** ?\r\n3. I defined the artifacts paths so that they would be gathered from the GitHub repository as follows: \r\n\r\n**artifacts = {\r\n\"exogen_variables\": os.path.join(os.path.dirname(os.path.abspath(__file__)), \"exogen_variables.csv\")\r\n }**\r\n\r\nIs this correct?\r\n\r\nThanks for any help, tipp or link to an example I missed.\r\n\r\nLinks to Documentation on custom Models:\r\nhttps://mlflow.org/docs/latest/python_api/mlflow.pyfunc.html#pyfunc-create-custom-workflows","closed_by":{"login":"MatthiasHerp","id":63145900,"node_id":"MDQ6VXNlcjYzMTQ1OTAw","avatar_url":"https://avatars.githubusercontent.com/u/63145900?v=4","gravatar_id":"","url":"https://api.github.com/users/MatthiasHerp","html_url":"https://github.com/MatthiasHerp","followers_url":"https://api.github.com/users/MatthiasHerp/followers","following_url":"https://api.github.com/users/MatthiasHerp/following{/other_user}","gists_url":"https://api.github.com/users/MatthiasHerp/gists{/gist_id}","starred_url":"https://api.github.com/users/MatthiasHerp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MatthiasHerp/subscriptions","organizations_url":"https://api.github.com/users/MatthiasHerp/orgs","repos_url":"https://api.github.com/users/MatthiasHerp/repos","events_url":"https://api.github.com/users/MatthiasHerp/events{/privacy}","received_events_url":"https://api.github.com/users/MatthiasHerp/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/3396/timeline","performed_via_github_app":null,"state_reason":"completed"}