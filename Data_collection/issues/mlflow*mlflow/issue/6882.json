{"url":"https://api.github.com/repos/mlflow/mlflow/issues/6882","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/6882/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/6882/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/6882/events","html_url":"https://github.com/mlflow/mlflow/issues/6882","id":1385171550,"node_id":"I_kwDOCB5Jx85SkApe","number":6882,"title":"[BUG] Credentials are set, but tracking server lacks permission to list artifacts under the current s3 artifact directory","user":{"login":"salinaaaaaa","id":5199900,"node_id":"MDQ6VXNlcjUxOTk5MDA=","avatar_url":"https://avatars.githubusercontent.com/u/5199900?v=4","gravatar_id":"","url":"https://api.github.com/users/salinaaaaaa","html_url":"https://github.com/salinaaaaaa","followers_url":"https://api.github.com/users/salinaaaaaa/followers","following_url":"https://api.github.com/users/salinaaaaaa/following{/other_user}","gists_url":"https://api.github.com/users/salinaaaaaa/gists{/gist_id}","starred_url":"https://api.github.com/users/salinaaaaaa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/salinaaaaaa/subscriptions","organizations_url":"https://api.github.com/users/salinaaaaaa/orgs","repos_url":"https://api.github.com/users/salinaaaaaa/repos","events_url":"https://api.github.com/users/salinaaaaaa/events{/privacy}","received_events_url":"https://api.github.com/users/salinaaaaaa/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2022845866,"node_id":"MDU6TGFiZWwyMDIyODQ1ODY2","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/artifacts","name":"area/artifacts","color":"48eabc","default":false,"description":"Artifact stores and artifact logging"},{"id":2022847714,"node_id":"MDU6TGFiZWwyMDIyODQ3NzE0","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/model-registry","name":"area/model-registry","color":"48eabc","default":false,"description":"Model registry, model registry APIs, and the fluent client calls for model registry"},{"id":2022848043,"node_id":"MDU6TGFiZWwyMDIyODQ4MDQz","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/models","name":"area/models","color":"48eabc","default":false,"description":"MLmodel format, model serialization/deserialization, flavors"},{"id":2022849295,"node_id":"MDU6TGFiZWwyMDIyODQ5Mjk1","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/tracking","name":"area/tracking","color":"48eabc","default":false,"description":"Tracking service, tracking client APIs, autologging"},{"id":2022851725,"node_id":"MDU6TGFiZWwyMDIyODUxNzI1","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/docker","name":"area/docker","color":"ede978","default":false,"description":"Docker use anywhere, such as MLprojects and MLmodels"},{"id":2042304474,"node_id":"MDU6TGFiZWwyMDQyMzA0NDc0","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/build","name":"area/build","color":"48eabc","default":false,"description":"Build and test infrastructure for MLflow"}],"state":"open","locked":false,"assignee":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"assignees":[{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}],"milestone":null,"comments":8,"created_at":"2022-09-25T21:32:55Z","updated_at":"2022-11-16T00:15:49Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Willingness to contribute\n\nYes. I would be willing to contribute a fix for this bug with guidance from the MLflow community.\n\n### MLflow version\n\n1.29\n\n### System information\n\nLinux Ubuntu\r\nMLFlow v1.29.0\n\n### Describe the problem\n\nUnable to list artifacts stored under `s3://my-s3-bucket/1/5e295e5a735949a98588637cc3735ac4/artifacts` for the current run. Please contact your tracking server administrator to notify them of this error, which can happen when the tracking server lacks permission to list artifacts under the current run's root artifact directory.\r\n\r\nBut the notebook says:\r\n```\r\nRegistered model 'model-v' already exists. Creating a new version of this model...\r\n2022/09/25 21:24:54 INFO mlflow.tracking._model_registry.client: Waiting up to 300 seconds for model version to finish creation.                     Model name: model-v, version 9 Created version '9' of model 'adept_model-v'.\r\n```\n\n### Tracking information\n\nhelm install mlflow /helm_charts/mlflow --kubeconfig=my_kubeconfig --set backendStore.filepath=sqlite:///mnt/mlflow.db --set AWS_DEFAULT_REGION=us-east-1 --set AWS_SECRET_ACCESS_KEY=XXXX  --set AWS_ACCESS_KEY_ID=XXXX  --set defaultArtifactRoot=s3://my-s3-bucket\n\n### Code to reproduce issue\n\nthere is no code its a helm chart and the config isnt connecting to s3\n\n### Stack trace\n\nhelm install mlflow /helm_charts/mlflow --kubeconfig=my_kubeconfig --set backendStore.filepath=sqlite:///mnt/mlflow.db --set AWS_DEFAULT_REGION=us-east-1 --set AWS_SECRET_ACCESS_KEY=XXXX  --set AWS_ACCESS_KEY_ID=XXXX  --set defaultArtifactRoot=s3://my-s3-bucket\n\n### Other info / logs\n\nhelm install mlflow /helm_charts/mlflow --kubeconfig=my_kubeconfig --set backendStore.filepath=sqlite:///mnt/mlflow.db --set AWS_DEFAULT_REGION=us-east-1 --set AWS_SECRET_ACCESS_KEY=XXXX  --set AWS_ACCESS_KEY_ID=XXXX  --set defaultArtifactRoot=s3://my-s3-bucket\n\n### What component(s) does this bug affect?\n\n- [X] `area/artifacts`: Artifact stores and artifact logging\n- [X] `area/build`: Build and test infrastructure for MLflow\n- [ ] `area/docs`: MLflow documentation pages\n- [ ] `area/examples`: Example code\n- [X] `area/model-registry`: Model Registry service, APIs, and the fluent client calls for Model Registry\n- [X] `area/models`: MLmodel format, model serialization/deserialization, flavors\n- [ ] `area/pipelines`: Pipelines, Pipeline APIs, Pipeline configs, Pipeline Templates\n- [ ] `area/projects`: MLproject format, project running backends\n- [ ] `area/scoring`: MLflow Model server, model deployment tools, Spark UDFs\n- [ ] `area/server-infra`: MLflow Tracking server backend\n- [X] `area/tracking`: Tracking Service, tracking client APIs, autologging\n\n### What interface(s) does this bug affect?\n\n- [ ] `area/uiux`: Front-end, user experience, plotting, JavaScript, JavaScript dev server\n- [X] `area/docker`: Docker use across MLflow's components, such as MLflow Projects and MLflow Models\n- [ ] `area/sqlalchemy`: Use of SQLAlchemy in the Tracking Service or Model Registry\n- [ ] `area/windows`: Windows support\n\n### What language(s) does this bug affect?\n\n- [ ] `language/r`: R APIs and clients\n- [ ] `language/java`: Java APIs and clients\n- [ ] `language/new`: Proposals for new client languages\n\n### What integration(s) does this bug affect?\n\n- [ ] `integrations/azure`: Azure and Azure ML integrations\n- [ ] `integrations/sagemaker`: SageMaker integrations\n- [ ] `integrations/databricks`: Databricks integrations","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/6882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/6882/timeline","performed_via_github_app":null,"state_reason":null}