{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4362","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/4362/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/4362/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/4362/events","html_url":"https://github.com/mlflow/mlflow/issues/4362","id":892284748,"node_id":"MDU6SXNzdWU4OTIyODQ3NDg=","number":4362,"title":"Run MLFlow job on Kubernetes with conda_env instead of docker_env","user":{"login":"mabdullah1994","id":18423941,"node_id":"MDQ6VXNlcjE4NDIzOTQx","avatar_url":"https://avatars.githubusercontent.com/u/18423941?v=4","gravatar_id":"","url":"https://api.github.com/users/mabdullah1994","html_url":"https://github.com/mabdullah1994","followers_url":"https://api.github.com/users/mabdullah1994/followers","following_url":"https://api.github.com/users/mabdullah1994/following{/other_user}","gists_url":"https://api.github.com/users/mabdullah1994/gists{/gist_id}","starred_url":"https://api.github.com/users/mabdullah1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mabdullah1994/subscriptions","organizations_url":"https://api.github.com/users/mabdullah1994/orgs","repos_url":"https://api.github.com/users/mabdullah1994/repos","events_url":"https://api.github.com/users/mabdullah1994/events{/privacy}","received_events_url":"https://api.github.com/users/mabdullah1994/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-05-14T22:31:38Z","updated_at":"2021-05-14T22:31:38Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi.\r\n\r\nI have a use case where I need to run multiple projects on Kubernetes cluster. However, each of these projects require a different set of dependencies which I can set up in the Dockerfile and then create an image with the tag, let's say, _dep_image_ image. This image is referenced in the MLProject file in the **docker_env** property and everything works fine. \r\n\r\nHowever, this entire process is very time-consuming as it requires time to build and push **dep_image** and then when mlflow.projects.run is performed using python, it needs to create and push the final image which will start the training. \r\n\r\n1. Is it possible to specify the conda environment in the final image (without having to create a dependencies base image)?\r\n2. Is it possible to build / push this final image in an async manner?\r\n3. What is the parameter **use_conda** used for?\r\n\r\nPlease advice. Thanks!","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/4362/timeline","performed_via_github_app":null,"state_reason":null}