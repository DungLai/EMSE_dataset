{"url":"https://api.github.com/repos/mlflow/mlflow/issues/482","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/482/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/482/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/482/events","html_url":"https://github.com/mlflow/mlflow/issues/482","id":359804676,"node_id":"MDU6SXNzdWUzNTk4MDQ2NzY=","number":482,"title":"Can't install mlflow in amazon sagemaker notebook","user":{"login":"schipiga","id":1479651,"node_id":"MDQ6VXNlcjE0Nzk2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1479651?v=4","gravatar_id":"","url":"https://api.github.com/users/schipiga","html_url":"https://github.com/schipiga","followers_url":"https://api.github.com/users/schipiga/followers","following_url":"https://api.github.com/users/schipiga/following{/other_user}","gists_url":"https://api.github.com/users/schipiga/gists{/gist_id}","starred_url":"https://api.github.com/users/schipiga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schipiga/subscriptions","organizations_url":"https://api.github.com/users/schipiga/orgs","repos_url":"https://api.github.com/users/schipiga/repos","events_url":"https://api.github.com/users/schipiga/events{/privacy}","received_events_url":"https://api.github.com/users/schipiga/received_events","type":"User","site_admin":false},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":1988875934,"node_id":"MDU6TGFiZWwxOTg4ODc1OTM0","url":"https://api.github.com/repos/mlflow/mlflow/labels/needs%20author%20feedback","name":"needs author feedback","color":"fef2c0","default":false,"description":"Issue is waiting for the author to respond"},{"id":2022860064,"node_id":"MDU6TGFiZWwyMDIyODYwMDY0","url":"https://api.github.com/repos/mlflow/mlflow/labels/integrations/sagemaker","name":"integrations/sagemaker","color":"ffbce5","default":false,"description":"Sagemaker integrations"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-09-13T09:00:59Z","updated_at":"2022-06-02T00:45:57Z","closed_at":"2022-06-02T00:45:57Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### System information\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: `Linux ip-172-16-44-178 4.9.119-44.140.amzn1.x86_64 #1 SMP Fri Aug 10 19:17:29 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux`\r\n- **MLflow installed from (source or binary)**:  `pip install --no-cache-dir mlflow`\r\n- **MLflow version (run ``mlflow --version``)**: `mlflow v0.6.0`\r\n- **Python version**: `Python 3.6.5 :: Anaconda custom (64-bit)`\r\n\r\n### Describe the problem\r\n\r\nI have a problem to install `mlflow` in sagemaker notebook.\r\nI use sagemaker lifecycle configuration with next script on start:\r\n\r\n```\r\n#!/bin/bash\r\n\r\nset -e # exit immediately on error\r\nset -x # print command before execution\r\n\r\nsudo su ec2-user\r\n\r\nsudo ln -s /usr/libexec/gcc/x86_64-amazon-linux/4.8.5/cc1plus /usr/bin\r\n\r\nsource /home/ec2-user/anaconda3/bin/activate python3\r\n\r\npip install --upgrade pip\r\npip install --no-cache-dir xgboost\r\npip install --no-cache-dir graphviz\r\npip install --no-cache-dir shap\r\npip install --no-cache-dir mlflow\r\npip install --no-cache-dir lightgbm\r\npip install --no-cache-dir catboost\r\n\r\nsource /home/ec2-user/anaconda3/bin/deactivate\r\n```\r\n\r\nAnd very often (~50%) it failes with error:\r\n\r\n```\r\nRequirement already satisfied: docutils>=0.10 in ./anaconda3/envs/python3/lib/python3.6/site-packages (from botocore<1.11.0,>=1.10.79->boto3->mlflow) (0.14)\r\nRequirement already satisfied: nose in ./anaconda3/envs/python3/lib/python3.6/site-packages (from nose-exclude>=0.5.0->mleap>=0.8.1->mlflow) (1.3.7)\r\nCould not install packages due to an EnvironmentError: [Errno 2] No such file or directory: '/home/ec2-user/anaconda3/envs/python3/lib/python3.6/site-packages/sagemaker-1.9.0.dist-info/METADATA'\r\n```\r\n\r\nLooks like it tries to find `sagmaker v1.9.0`, but as I see in sagemaker terminal (when it's launched successfully) there is `sagemaker v1.10.0` only:\r\n\r\n```\r\nsh-4.2$ pwd\r\n/home/ec2-user/anaconda3/envs/python3/lib/python3.6/site-packages\r\nsh-4.2$ cd sagemaker\r\nsagemaker/                         sagemaker_pyspark/\r\nsagemaker-1.10.0.dist-info/        sagemaker_pyspark-1.1.4.dist-info/\r\nsh-4.2$ cd sagemaker\r\n```\r\n\r\nCould you please to help to find workaround?\r\n\r\n","closed_by":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/482/timeline","performed_via_github_app":null,"state_reason":"not_planned"}