{"url":"https://api.github.com/repos/mlflow/mlflow/issues/6039","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/6039/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/6039/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/6039/events","html_url":"https://github.com/mlflow/mlflow/issues/6039","id":1264607086,"node_id":"I_kwDOCB5Jx85LYF9u","number":6039,"title":"[BUG] log_figure in plotly format without \".html\" extension in artifact_file","user":{"login":"drsantos89","id":9551412,"node_id":"MDQ6VXNlcjk1NTE0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/9551412?v=4","gravatar_id":"","url":"https://api.github.com/users/drsantos89","html_url":"https://github.com/drsantos89","followers_url":"https://api.github.com/users/drsantos89/followers","following_url":"https://api.github.com/users/drsantos89/following{/other_user}","gists_url":"https://api.github.com/users/drsantos89/gists{/gist_id}","starred_url":"https://api.github.com/users/drsantos89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drsantos89/subscriptions","organizations_url":"https://api.github.com/users/drsantos89/orgs","repos_url":"https://api.github.com/users/drsantos89/repos","events_url":"https://api.github.com/users/drsantos89/events{/privacy}","received_events_url":"https://api.github.com/users/drsantos89/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1470945519,"node_id":"MDU6TGFiZWwxNDcwOTQ1NTE5","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/uiux","name":"area/uiux","color":"ede978","default":false,"description":"Front-end, user experience, plotting, JavaScript, JavaScript dev server"},{"id":2022849295,"node_id":"MDU6TGFiZWwyMDIyODQ5Mjk1","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/tracking","name":"area/tracking","color":"48eabc","default":false,"description":"Tracking service, tracking client APIs, autologging"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-06-08T11:37:08Z","updated_at":"2022-06-14T16:13:53Z","closed_at":"2022-06-14T16:13:53Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### Willingness to contribute\r\n\r\nYes. I can contribute a fix for this bug independently.\r\n\r\n### MLflow version\r\n\r\n1.25.1\r\n\r\n### System information\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: MacOS\r\n- **Python version**: 3.10\r\n\r\n### Describe the problem\r\n\r\nWhen logging a figure in plotly format, the file extension in the artifact_file needs to be \".html\".\r\nOtherwise, the file will be saved in HTML format anyway, but the file extension will be None or \".png\" or other that the user specified in the path string. The file can't be opened on the MLFlow UI later.\r\nThe \".html\" extension could be added to the end of the path if not there, or the method \"write_image\" could be used when the path finishes with PNG, JPEG, SVG or PDF.\r\nCheers,\r\n\r\n### Tracking information\r\n\r\n_No response_\r\n\r\n### Code to reproduce issue\r\n\r\n    import mlflow\r\n    import plotly.express as px\r\n\r\n    with mlflow.start_run():\r\n\r\n        df = px.data.gapminder().query(\"country=='Canada'\")\r\n        fig = px.line(df, x=\"year\", y=\"lifeExp\", title='Life expectancy in Canada')\r\n        mlflow.log_figure(fig, 'fig_test')\r\n\r\n### Other info / logs\r\n\r\n_No response_\r\n\r\n### What component(s) does this bug affect?\r\n\r\n- [ ] `area/artifacts`: Artifact stores and artifact logging\r\n- [ ] `area/build`: Build and test infrastructure for MLflow\r\n- [ ] `area/docs`: MLflow documentation pages\r\n- [ ] `area/examples`: Example code\r\n- [ ] `area/model-registry`: Model Registry service, APIs, and the fluent client calls for Model Registry\r\n- [ ] `area/models`: MLmodel format, model serialization/deserialization, flavors\r\n- [ ] `area/projects`: MLproject format, project running backends\r\n- [ ] `area/scoring`: MLflow Model server, model deployment tools, Spark UDFs\r\n- [ ] `area/server-infra`: MLflow Tracking server backend\r\n- [X] `area/tracking`: Tracking Service, tracking client APIs, autologging\r\n\r\n### What interface(s) does this bug affect?\r\n\r\n- [X] `area/uiux`: Front-end, user experience, plotting, JavaScript, JavaScript dev server\r\n- [ ] `area/docker`: Docker use across MLflow's components, such as MLflow Projects and MLflow Models\r\n- [ ] `area/sqlalchemy`: Use of SQLAlchemy in the Tracking Service or Model Registry\r\n- [ ] `area/windows`: Windows support\r\n\r\n### What language(s) does this bug affect?\r\n\r\n- [ ] `language/r`: R APIs and clients\r\n- [ ] `language/java`: Java APIs and clients\r\n- [ ] `language/new`: Proposals for new client languages\r\n\r\n### What integration(s) does this bug affect?\r\n\r\n- [ ] `integrations/azure`: Azure and Azure ML integrations\r\n- [ ] `integrations/sagemaker`: SageMaker integrations\r\n- [ ] `integrations/databricks`: Databricks integrations","closed_by":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/6039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/6039/timeline","performed_via_github_app":null,"state_reason":"completed"}