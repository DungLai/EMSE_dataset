{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1468","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/1468/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/1468/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/1468/events","html_url":"https://github.com/mlflow/mlflow/issues/1468","id":457287782,"node_id":"MDU6SXNzdWU0NTcyODc3ODI=","number":1468,"title":"pickle is insecure and shouldn't be used for distributing models","user":{"login":"KOLANICH","id":240344,"node_id":"MDQ6VXNlcjI0MDM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/240344?v=4","gravatar_id":"","url":"https://api.github.com/users/KOLANICH","html_url":"https://github.com/KOLANICH","followers_url":"https://api.github.com/users/KOLANICH/followers","following_url":"https://api.github.com/users/KOLANICH/following{/other_user}","gists_url":"https://api.github.com/users/KOLANICH/gists{/gist_id}","starred_url":"https://api.github.com/users/KOLANICH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KOLANICH/subscriptions","organizations_url":"https://api.github.com/users/KOLANICH/orgs","repos_url":"https://api.github.com/users/KOLANICH/repos","events_url":"https://api.github.com/users/KOLANICH/events{/privacy}","received_events_url":"https://api.github.com/users/KOLANICH/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-06-18T06:37:23Z","updated_at":"2019-07-26T21:15:19Z","closed_at":"2019-07-26T21:15:18Z","author_association":"NONE","active_lock_reason":null,"body":"### Describe the problem\r\n`pickle` is a well-known security issue. Unpickling pickled data from an untrusted source can be dangerous. Also it is a nice place to hide backdoors because source code is readily accesable, including search, but to inspect pickled files one need special tools.\r\n\r\nSo pickle is a very bad solution for distributing pretrained models. So a way of serializing models without pickling them is needed.\r\n\r\nUnfortunately some models, like neural networks, may be a security issue by itself. For example TensorFlow authors [say](https://github.com/tensorflow/tensorflow/blob/master/SECURITY.md):\r\n\r\n>TensorFlow models are programs, and need to be treated as such from a security perspective.\r\n>TensorFlow itself is not a sandbox. When executing the computation graph, TensorFlow may read and write files, send and receive data over the network, and even spawn additional processes. All these tasks are performed with the permissions of the TensorFlow process. Allowing for this flexibility makes for a powerful machine learning platform, but it has implications for security.\r\n>As a general rule: Always execute untrusted models inside a sandbox (e.g., nsjail).\r\n>Even if the untrusted party only supplies the serialized computation graph (in form of a GraphDef, SavedModel, or equivalent on-disk format), the set of computation primitives available to TensorFlow is powerful enough that you should assume that the TensorFlow process effectively executes arbitrary code. \r\n","closed_by":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/1468/timeline","performed_via_github_app":null,"state_reason":"completed"}