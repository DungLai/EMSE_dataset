{"url":"https://api.github.com/repos/mlflow/mlflow/issues/7628","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/7628/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/7628/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/7628/events","html_url":"https://github.com/mlflow/mlflow/issues/7628","id":1514289366,"node_id":"I_kwDOCB5Jx85aQjjW","number":7628,"title":"Issues while running prediction on ONNX Serialized SparkML Model Using Mlflow.pyfunc","user":{"login":"HassanRaza1313","id":61215448,"node_id":"MDQ6VXNlcjYxMjE1NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/61215448?v=4","gravatar_id":"","url":"https://api.github.com/users/HassanRaza1313","html_url":"https://github.com/HassanRaza1313","followers_url":"https://api.github.com/users/HassanRaza1313/followers","following_url":"https://api.github.com/users/HassanRaza1313/following{/other_user}","gists_url":"https://api.github.com/users/HassanRaza1313/gists{/gist_id}","starred_url":"https://api.github.com/users/HassanRaza1313/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HassanRaza1313/subscriptions","organizations_url":"https://api.github.com/users/HassanRaza1313/orgs","repos_url":"https://api.github.com/users/HassanRaza1313/repos","events_url":"https://api.github.com/users/HassanRaza1313/events{/privacy}","received_events_url":"https://api.github.com/users/HassanRaza1313/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-12-30T06:47:41Z","updated_at":"2023-01-10T14:54:11Z","closed_at":"2023-01-10T14:54:11Z","author_association":"NONE","active_lock_reason":null,"body":"I have created a spark pipeline model using the following code:\r\n\r\n![image](https://user-images.githubusercontent.com/61215448/210042270-ebfc590c-4e6e-405c-88e9-c85ff6592778.png)\r\n\r\n\r\nNext I build the initial_types for this model using the following code:\r\n\r\n![image](https://user-images.githubusercontent.com/61215448/210042320-b4ae7e9c-74c1-4996-b683-da99d2060e33.png)\r\n\r\n\r\nThen I converted the model to onnx using the following code:\r\n\r\n![image](https://user-images.githubusercontent.com/61215448/210042332-9ff73658-be28-411f-97b9-be68764180d5.png)\r\n\r\nThen I logged the onnx model using Mlflow using the following code:\r\n\r\n![image](https://user-images.githubusercontent.com/61215448/210042363-00c48d48-6708-4a24-9c60-d1451a1b26ba.png)\r\n\r\nNext I loaded the model using the mlflow.pyfunc module for prediction:\r\n\r\n![image](https://user-images.githubusercontent.com/61215448/210042399-2caaf4c5-5a04-4ad5-9e28-d2aa8f7b51f6.png)\r\n\r\nI created the \"new_test\" variable by converting the test dataframe to Pandas and converted the datatypes using the folliowiing code:\r\n![image](https://user-images.githubusercontent.com/61215448/210042438-66c2dc7a-baf6-4379-a86f-be263a500650.png)\r\n\r\nWhen I run inference I get the following error:\r\n\r\n![image](https://user-images.githubusercontent.com/61215448/210042469-ffbcc7d4-7639-447d-856f-d65d1b462a9f.png)\r\n\r\nHow to resolve this issue?","closed_by":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/7628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/7628/timeline","performed_via_github_app":null,"state_reason":"completed"}