{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1957","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/1957/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/1957/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/1957/events","html_url":"https://github.com/mlflow/mlflow/issues/1957","id":509382089,"node_id":"MDU6SXNzdWU1MDkzODIwODk=","number":1957,"title":"[BUG] models build-docker run not found ","user":{"login":"latha-ai","id":48142586,"node_id":"MDQ6VXNlcjQ4MTQyNTg2","avatar_url":"https://avatars.githubusercontent.com/u/48142586?v=4","gravatar_id":"","url":"https://api.github.com/users/latha-ai","html_url":"https://github.com/latha-ai","followers_url":"https://api.github.com/users/latha-ai/followers","following_url":"https://api.github.com/users/latha-ai/following{/other_user}","gists_url":"https://api.github.com/users/latha-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/latha-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/latha-ai/subscriptions","organizations_url":"https://api.github.com/users/latha-ai/orgs","repos_url":"https://api.github.com/users/latha-ai/repos","events_url":"https://api.github.com/users/latha-ai/events{/privacy}","received_events_url":"https://api.github.com/users/latha-ai/received_events","type":"User","site_admin":false},"labels":[{"id":955449428,"node_id":"MDU6TGFiZWw5NTU0NDk0Mjg=","url":"https://api.github.com/repos/mlflow/mlflow/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-10-19T02:52:19Z","updated_at":"2019-10-30T17:38:58Z","closed_at":"2019-10-30T17:37:35Z","author_association":"NONE","active_lock_reason":null,"body":"### System information\r\n- using mlflow example \r\nmlflow\\examples\\sklearn_logistic_regression\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Error is same on both Windows 10 and Ubuntu\r\n- **MLflow installed from (source or binary)**: pip install mlflow\r\n- **MLflow version (run ``mlflow --version``)**: mlflow, version 1.3.0\r\n- **Python version**: Python 3.7.0\r\n- **npm version, if running the dev UI**:\r\n- **Exact command to reproduce**:\r\nD:\\__git\\bda\\mlflow\\sklearn_logistic_regression where the models is saved.\r\nset current working dir =  D:\\__git\\bda\\mlflow\\sklearn_logistic_regression\r\nD:\\__git\\bda\\mlflow\\sklearn_logistic_regression>mlflow models build-docker -m \"runs:/0/7989340d41e544d2a5e2167e54e19975/artifacts/model\" -n \"test-mlflow-image\"\r\n\r\n### Describe the problem\r\ntried with -m args as /0/7989340d41e544d2a5e2167e54e19975/artifacts/model\r\n/0/7989340d41e544d2a5e2167e54e19975/artifacts , /0/7989340d41e544d2a5e2167e54e19975 etc.\r\nall of them have issues to find the run.\r\n\r\n### Other info / logs\r\n(mleap) D:\\__git\\bda\\mlflow\\sklearn_logistic_regression>mlflow models build-docker -m \"runs:/0/7989340d41e544d2a5e2167e54e19975/artifacts/model\" -n \"test-mlflow-image\"\r\n\r\n_get_flavor_backend\r\nruns:/0/7989340d41e544d2a5e2167e54e19975/artifacts/model = runs:/0/7989340d41e544d2a5e2167e54e19975/artifacts/model/MLmodel\r\nparsed_uri = ParseResult(scheme='runs', netloc='', path='/0/7989340d41e544d2a5e2167e54e19975/artifacts/model/MLmodel', params='', query='', fragment='')\r\nartifact_path = MLmodel\r\nartifact_uri = runs:/0/7989340d41e544d2a5e2167e54e19975/artifacts/model repository = <class 'mlflow.store.runs_artifact_repo.RunsArtifactRepository'>\r\nroot_directory = file:///D:/__git/bda/mlflow/sklearn_logistic_regression/mlruns\r\nself.root_directory = D:\\__git\\bda\\mlflow\\sklearn_logistic_regression\\mlruns\r\nself.root_directory = D:\\__git\\bda\\mlflow\\sklearn_logistic_regression\\mlruns\r\n\r\n\r\n['D:\\\\__git\\\\bda\\\\mlflow\\\\sklearn_logistic_regression\\\\mlruns\\\\0']\r\nTraceback (most recent call last):\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Anaconda3\\envs\\mleap\\Scripts\\mlflow.exe\\__main__.py\", line 9, in <module>\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\click\\core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\click\\core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\click\\core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\click\\core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\click\\core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\click\\core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\models\\cli.py\", line 133, in build_docker\r\n    _get_flavor_backend(model_uri, docker_build=True).build_image(model_uri, name,\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\models\\cli.py\", line 143, in _get_flavor_backend\r\n    output_path=tmp.path())\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\tracking\\artifact_utils.py\", line 67, in _download_artifact_from_uri\r\n    return get_artifact_repository(artifact_uri=root_uri).download_artifacts(\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\store\\artifact_repository_registry.py\", line 100, in get_artifact_repository\r\n    return _artifact_repository_registry.get_artifact_repository(artifact_uri)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\store\\artifact_repository_registry.py\", line 71, in get_artifact_repository\r\n    return repository(artifact_uri)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\store\\runs_artifact_repo.py\", line 22, in __init__\r\n    uri = get_artifact_uri(run_id, artifact_path)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\tracking\\artifact_utils.py\", line 37, in get_artifact_uri\r\n    run = store.get_run(run_id)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\store\\file_store.py\", line 399, in get_run\r\n    run_info = self._get_run_info(run_id)\r\n  File \"d:\\anaconda3\\envs\\mleap\\lib\\site-packages\\mlflow\\store\\file_store.py\", line 415, in _get_run_info\r\n    databricks_pb2.RESOURCE_DOES_NOT_EXIST)\r\nmlflow.exceptions.MlflowException: Run '0' not found in run_dir = 'None'\r\n\r\n","closed_by":{"login":"latha-ai","id":48142586,"node_id":"MDQ6VXNlcjQ4MTQyNTg2","avatar_url":"https://avatars.githubusercontent.com/u/48142586?v=4","gravatar_id":"","url":"https://api.github.com/users/latha-ai","html_url":"https://github.com/latha-ai","followers_url":"https://api.github.com/users/latha-ai/followers","following_url":"https://api.github.com/users/latha-ai/following{/other_user}","gists_url":"https://api.github.com/users/latha-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/latha-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/latha-ai/subscriptions","organizations_url":"https://api.github.com/users/latha-ai/orgs","repos_url":"https://api.github.com/users/latha-ai/repos","events_url":"https://api.github.com/users/latha-ai/events{/privacy}","received_events_url":"https://api.github.com/users/latha-ai/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/1957/timeline","performed_via_github_app":null,"state_reason":"completed"}