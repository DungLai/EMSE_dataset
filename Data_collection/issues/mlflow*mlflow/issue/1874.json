{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1874","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/1874/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/1874/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/1874/events","html_url":"https://github.com/mlflow/mlflow/issues/1874","id":497715715,"node_id":"MDU6SXNzdWU0OTc3MTU3MTU=","number":1874,"title":"[FR]Allow different MLFLOW_TRACKING_URI inside Kubernetes","user":{"login":"BenGalewsky","id":8229875,"node_id":"MDQ6VXNlcjgyMjk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/8229875?v=4","gravatar_id":"","url":"https://api.github.com/users/BenGalewsky","html_url":"https://github.com/BenGalewsky","followers_url":"https://api.github.com/users/BenGalewsky/followers","following_url":"https://api.github.com/users/BenGalewsky/following{/other_user}","gists_url":"https://api.github.com/users/BenGalewsky/gists{/gist_id}","starred_url":"https://api.github.com/users/BenGalewsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenGalewsky/subscriptions","organizations_url":"https://api.github.com/users/BenGalewsky/orgs","repos_url":"https://api.github.com/users/BenGalewsky/repos","events_url":"https://api.github.com/users/BenGalewsky/events{/privacy}","received_events_url":"https://api.github.com/users/BenGalewsky/received_events","type":"User","site_admin":false},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":1893057631,"node_id":"MDU6TGFiZWwxODkzMDU3NjMx","url":"https://api.github.com/repos/mlflow/mlflow/labels/Acknowledged","name":"Acknowledged","color":"f9d0c4","default":false,"description":"This issue has been read and acknowledged by the MLflow admins."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-09-24T14:12:25Z","updated_at":"2020-06-05T23:04:30Z","closed_at":"2020-06-05T23:04:30Z","author_association":"NONE","active_lock_reason":null,"body":"_As a Kubernetes workflow developer I want to submit jobs to kubernetes running in Docker Desktop that use the Tracker UI directly from my desktop command line so I can easily develop Kubernetes projects_ \r\n\r\n## Problem\r\nInside of the cluster, the URI for the tracking UI is `http://host.docker.internal:5000` outside of kubernetes the URI should be `http://localhost:5000`. When I submit a job, the MLflow CLI wants to send some updates to the tracker ui from my desktop and then once the job starts inside the cluster it wants to connect to the ui from inside.\r\n\r\n## Proposed Solution\r\nIn a fork of MLFlow 1.2.0 I simply added a new environment variable, `K8S_MLFLOW_TRACKING_URI`. If this is set, it is the value that is passed into the job running inside the cluster. If it is not set then the usual behavior carries on where the same `MLFLOW_TRACKING_URI` is used inside and outside.\r\n\r\n## Motivation\r\nThis seems like it would be a common development configuration. It's possible to get around this with some DNS hacking, or running the UI inside the cluster, but that is currently not as easy as it should be. This seems like a simple fix that doesn't add a lot of extra configuration complexity\r\n\r\n## Next Steps\r\nIf this solution makes sense I'll package up my change and unit tests in a PR\r\n","closed_by":{"login":"aarondav","id":1400247,"node_id":"MDQ6VXNlcjE0MDAyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1400247?v=4","gravatar_id":"","url":"https://api.github.com/users/aarondav","html_url":"https://github.com/aarondav","followers_url":"https://api.github.com/users/aarondav/followers","following_url":"https://api.github.com/users/aarondav/following{/other_user}","gists_url":"https://api.github.com/users/aarondav/gists{/gist_id}","starred_url":"https://api.github.com/users/aarondav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aarondav/subscriptions","organizations_url":"https://api.github.com/users/aarondav/orgs","repos_url":"https://api.github.com/users/aarondav/repos","events_url":"https://api.github.com/users/aarondav/events{/privacy}","received_events_url":"https://api.github.com/users/aarondav/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/1874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/1874/timeline","performed_via_github_app":null,"state_reason":"completed"}