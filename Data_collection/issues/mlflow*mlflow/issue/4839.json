{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4839","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/4839/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/4839/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/4839/events","html_url":"https://github.com/mlflow/mlflow/issues/4839","id":1003687049,"node_id":"I_kwDOCB5Jx8470wyJ","number":4839,"title":"[DOC-FIX] Doc missing for REST API POST 2.0/mlflow/artifacts/credentials-for-read","user":{"login":"maitre-matt","id":6424544,"node_id":"MDQ6VXNlcjY0MjQ1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6424544?v=4","gravatar_id":"","url":"https://api.github.com/users/maitre-matt","html_url":"https://github.com/maitre-matt","followers_url":"https://api.github.com/users/maitre-matt/followers","following_url":"https://api.github.com/users/maitre-matt/following{/other_user}","gists_url":"https://api.github.com/users/maitre-matt/gists{/gist_id}","starred_url":"https://api.github.com/users/maitre-matt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maitre-matt/subscriptions","organizations_url":"https://api.github.com/users/maitre-matt/orgs","repos_url":"https://api.github.com/users/maitre-matt/repos","events_url":"https://api.github.com/users/maitre-matt/events{/privacy}","received_events_url":"https://api.github.com/users/maitre-matt/received_events","type":"User","site_admin":false},"labels":[{"id":978584226,"node_id":"MDU6TGFiZWw5Nzg1ODQyMjY=","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/docs","name":"area/docs","color":"48eabc","default":false,"description":"Documentation issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-09-22T02:35:13Z","updated_at":"2021-11-13T01:54:29Z","closed_at":"2021-11-13T01:54:29Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### Willingness to contribute\r\nThe MLflow Community encourages documentation fix contributions. Would you or another member of your organization be willing to contribute a fix for this documentation issue to the MLflow code base?\r\n\r\n- [ ] Yes. I can contribute a documentation fix independently.\r\n- [x] Yes. I would be willing to contribute a document fix with guidance from the MLflow community.\r\n- [ ] No. I cannot contribute a documentation fix at this time.\r\n\r\n### URL(s) with the issue:\r\n\r\nhttps://www.mlflow.org/docs/latest/rest-api.html\r\n\r\n### Description of proposal (what needs changing):\r\n\r\nThe Python MLFlow SDK relies on the REST API below to retrieve credentials to download artifacts, which does not appear to be documented. It will be helpful to add it for clients that are not in a language natively supported by MLFlow (e.g. .NET).\r\n\r\n```\r\nPOST https://adb-<snip>.0.azuredatabricks.net/api/2.0/mlflow/artifacts/credentials-for-read\r\n{\r\n    'headers': {'User-Agent': 'mlflow-python-client/1.20.2', 'Authorization': 'Bearer <snip>'},\r\n    'verify': True,\r\n    'timeout': 120,\r\n    'json': {'run_id': '<snip>', 'path': ['model/MLmodel', 'model/conda.yaml', 'model/model.pkl', 'model/requirements.txt']}\r\n}\r\n\r\n{\r\n\t\"credentials\": {\r\n\t\t\"run_id\": \"<snip>\",\r\n\t\t\"path\": \"model/MLmodel\",\r\n\t\t\"signed_uri\": \"https://<snip>.blob.core.windows.net/jobs/<snip>/mlflow-tracking/<snip>/<snip>/artifacts/model/MLmodel?sig=<snip>&api-version=2019-02-02&se=2021-09-22T02%3A07%3A16Z&sv=2019-02-02&spr=https&sp=r&sr=b\",\r\n\t\t\"type\": \"AZURE_SAS_URI\"\r\n\t},\r\n\t\"credential_infos\": [\r\n\t\t{\r\n\t\t\t\"run_id\": \"<snip>\",\r\n\t\t\t\"path\": \"model/MLmodel\",\r\n\t\t\t\"signed_uri\": \"https://<snip>.blob.core.windows.net/jobs/<snip>/mlflow-tracking/<snip>/<snip>/artifacts/model/MLmodel?sig=<snip>&api-version=2019-02-02&se=2021-09-22T02%3A07%3A16Z&sv=2019-02-02&spr=https&sp=r&sr=b\",\r\n\t\t\t\"type\": \"AZURE_SAS_URI\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"run_id\": \"<snip>\",\r\n\t\t\t\"path\": \"model/conda.yaml\",\r\n\t\t\t\"signed_uri\": \"https://<snip>.blob.core.windows.net/jobs/<snip>/mlflow-tracking/<snip>/<snip>/artifacts/model/conda.yaml?sig=<snip>&api-version=2019-02-02&se=2021-09-22T02%3A07%3A16Z&sv=2019-02-02&spr=https&sp=r&sr=b\",\r\n\t\t\t\"type\": \"AZURE_SAS_URI\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"run_id\": \"<snip>\",\r\n\t\t\t\"path\": \"model/model.pkl\",\r\n\t\t\t\"signed_uri\": \"https://<snip>.blob.core.windows.net/jobs/<snip>/mlflow-tracking/<snip>/<snip>/artifacts/model/model.pkl?sig=<snip>&api-version=2019-02-02&se=2021-09-22T02%3A07%3A16Z&sv=2019-02-02&spr=https&sp=r&sr=b\",\r\n\t\t\t\"type\": \"AZURE_SAS_URI\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"run_id\": \"<snip>\",\r\n\t\t\t\"path\": \"model/requirements.txt\",\r\n\t\t\t\"signed_uri\": \"https://<snip>.blob.core.windows.net/jobs/<snip>/mlflow-tracking/<snip>/<snip>/artifacts/model/requirements.txt?sig=<snip>&api-version=2019-02-02&se=2021-09-22T02%3A07%3A16Z&sv=2019-02-02&spr=https&sp=r&sr=b\",\r\n\t\t\t\"type\": \"AZURE_SAS_URI\"\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n","closed_by":{"login":"maitre-matt","id":6424544,"node_id":"MDQ6VXNlcjY0MjQ1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6424544?v=4","gravatar_id":"","url":"https://api.github.com/users/maitre-matt","html_url":"https://github.com/maitre-matt","followers_url":"https://api.github.com/users/maitre-matt/followers","following_url":"https://api.github.com/users/maitre-matt/following{/other_user}","gists_url":"https://api.github.com/users/maitre-matt/gists{/gist_id}","starred_url":"https://api.github.com/users/maitre-matt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maitre-matt/subscriptions","organizations_url":"https://api.github.com/users/maitre-matt/orgs","repos_url":"https://api.github.com/users/maitre-matt/repos","events_url":"https://api.github.com/users/maitre-matt/events{/privacy}","received_events_url":"https://api.github.com/users/maitre-matt/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/4839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/4839/timeline","performed_via_github_app":null,"state_reason":"completed"}