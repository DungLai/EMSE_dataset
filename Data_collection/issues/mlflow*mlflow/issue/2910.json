{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2910","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/2910/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/2910/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/2910/events","html_url":"https://github.com/mlflow/mlflow/issues/2910","id":634692583,"node_id":"MDU6SXNzdWU2MzQ2OTI1ODM=","number":2910,"title":"[FR] Upload a run from one source (e.g. the local `mlrun` directory) into another tracking server","user":{"login":"Phylliade","id":1155586,"node_id":"MDQ6VXNlcjExNTU1ODY=","avatar_url":"https://avatars.githubusercontent.com/u/1155586?v=4","gravatar_id":"","url":"https://api.github.com/users/Phylliade","html_url":"https://github.com/Phylliade","followers_url":"https://api.github.com/users/Phylliade/followers","following_url":"https://api.github.com/users/Phylliade/following{/other_user}","gists_url":"https://api.github.com/users/Phylliade/gists{/gist_id}","starred_url":"https://api.github.com/users/Phylliade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Phylliade/subscriptions","organizations_url":"https://api.github.com/users/Phylliade/orgs","repos_url":"https://api.github.com/users/Phylliade/repos","events_url":"https://api.github.com/users/Phylliade/events{/privacy}","received_events_url":"https://api.github.com/users/Phylliade/received_events","type":"User","site_admin":false},"labels":[{"id":955449434,"node_id":"MDU6TGFiZWw5NTU0NDk0MzQ=","url":"https://api.github.com/repos/mlflow/mlflow/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":2022849295,"node_id":"MDU6TGFiZWwyMDIyODQ5Mjk1","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/tracking","name":"area/tracking","color":"48eabc","default":false,"description":"Tracking service, tracking client APIs, autologging"},{"id":2022865338,"node_id":"MDU6TGFiZWwyMDIyODY1MzM4","url":"https://api.github.com/repos/mlflow/mlflow/labels/priority/important-longterm","name":"priority/important-longterm","color":"534cb5","default":false,"description":"Important over the long term, but may not be staffed or may need multiple releases to complete."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-06-08T14:52:45Z","updated_at":"2022-11-01T23:44:50Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"## Willingness to contribute\r\nThe MLflow Community encourages new feature contributions. Would you or another member of your organization be willing to contribute an implementation of this feature (either as an MLflow Plugin or an enhancement to the MLflow code base)?\r\n\r\n- [ ] Yes. I can contribute this feature independently.\r\n- [ ] Yes. I would be willing to contribute this feature with guidance from the MLflow community.\r\n- [X] No. I cannot contribute this feature at this time.\r\n\r\n## Proposal Summary\r\n\r\nProvide a way to upload a run, already done in the past, and for example stored in the local  `mlrun` directory, into a tracking server.\r\n\r\n\r\n## Motivation\r\n\r\nThe local `mlruns` tracking backend is very useful when the machine (let's call it the runner) that does the run is not connected to the internet. \r\nThis happens a lot in our company, Owkin, where we work with runners in Hospitals' datacenters that are not connected to the internet for security reasons.\r\nFor the same reasons, HPC machines in our datacenter are not connected to the internet and cannot upload their results to a tracking server.\r\nHowever, in both cases we have the possibility to manually transfer files from the non-internet-connected runner back to a machine with internet access, and do some analytics on the runs.\r\n\r\nIn this context, it would be very useful to be able to upload the runs created by the runner on a common tracking server, so that results are centralized.\r\n\r\n(While in our setup it's mainly an Internet access issue, this issue can also help in other cases, like to do a migration of runs from one tracking server to another, and thus is tightly related to https://github.com/mlflow/mlflow/issues/2382)\r\n\r\n### What component(s), interfaces, languages, and integrations does this feature affect?\r\nComponents \r\n- [ ] `area/artifacts`: Artifact stores and artifact logging\r\n- [ ] `area/build`: Build and test infrastructure for MLflow\r\n- [ ] `area/docs`: MLflow documentation pages\r\n- [ ] `area/examples`: Example code\r\n- [ ] `area/model-registry`: Model Registry service, APIs, and the fluent client calls for\r\nModel Registry\r\n- [ ] `area/models`: MLmodel format, model serialization/deserialization, flavors\r\n- [ ] `area/projects`: MLproject format, project running backends\r\n- [ ] `area/scoring`: Local serving, model deployment tools, spark UDFs\r\n- [X] `area/tracking`: Tracking Service, tracking client APIs, autologging\r\n\r\nInterfaces\r\n- [ ] `area/uiux`: Front-end, user experience, JavaScript, plotting\r\n- [ ] `area/docker`: Docker use across MLflow's components, such as MLflow Projects and MLflow Models\r\n- [ ] `area/sqlalchemy`: Use of SQLAlchemy in the Tracking Service or Model Registry\r\n- [ ] `area/windows`: Windows support\r\n\r\nLanguages \r\n- [ ] `language/r`: R APIs and clients\r\n- [ ] `language/java`: Java APIs and clients\r\n\r\nIntegrations\r\n- [ ] `integrations/azure`: Azure and Azure ML integrations\r\n- [ ] `integrations/sagemaker`: SageMaker integrations\r\n\r\n## Details\r\n\r\nA way to do this is to directly copy the run directory from the local `mlrun` of the runner into the `--backend-store-uri` dir of the tracking server and then restart the server.\r\nHowever, this is problematic:\r\n\r\n* It requires to restart the server\r\n* If the tracking server uses a database, this is not possible\n* This does not take into account artifcts\r\n\r\nA must would be a command to export/import runs in a serialized format. Something like that:\r\n\r\n```\r\n# On worker withtout internet access\r\nmlflow run export my_run -o my_run.mlflow.zip\r\n\r\n# transfer the zip file to a machine with internet access\r\n# On the machine with internet access\r\nmlflow run import -i my_run.mlflow.zip --tracking \"http://YOUR-SERVER:4040\"\r\n# Now you can see your new run on the tracking server\r\n```\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/2910/reactions","total_count":10,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/2910/timeline","performed_via_github_app":null,"state_reason":null}