{"url":"https://api.github.com/repos/mlflow/mlflow/issues/209","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/209/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/209/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/209/events","html_url":"https://github.com/mlflow/mlflow/issues/209","id":345580436,"node_id":"MDU6SXNzdWUzNDU1ODA0MzY=","number":209,"title":"mlflow server error when not using static-prefix flag","user":{"login":"arinto","id":1780348,"node_id":"MDQ6VXNlcjE3ODAzNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1780348?v=4","gravatar_id":"","url":"https://api.github.com/users/arinto","html_url":"https://github.com/arinto","followers_url":"https://api.github.com/users/arinto/followers","following_url":"https://api.github.com/users/arinto/following{/other_user}","gists_url":"https://api.github.com/users/arinto/gists{/gist_id}","starred_url":"https://api.github.com/users/arinto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arinto/subscriptions","organizations_url":"https://api.github.com/users/arinto/orgs","repos_url":"https://api.github.com/users/arinto/repos","events_url":"https://api.github.com/users/arinto/events{/privacy}","received_events_url":"https://api.github.com/users/arinto/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-30T01:12:00Z","updated_at":"2018-07-30T20:19:09Z","closed_at":"2018-07-30T08:03:18Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in MLflow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: MacOS Sierra 10.12.6 \r\n- **MLflow installed from (source or binary)**: source, from commit 52672e5\r\n- **MLflow version (run ``mlflow --version``)**: mlflow, version 0.3.0\r\n- **Python version**: Python 3.6.6 :: Anaconda, Inc.\r\n- **npm version (if running the dev UI): N.A\r\n- **Exact command to reproduce**: mlflow server --file-store `pwd` --default-artifact-root gcs://arinto-dev/ --host 0.0.0.0\r\n\r\n### Describe the problem\r\nI could not start mlflow tracking server. Detailed error is in the logs section. It seems the server fails when we doesn't supply value to `--static-prefix` option. \r\n\r\nLooking at the code, rhe [_validate_static_prefix in mlflow/cli.py](https://github.com/databricks/mlflow/blob/5fa687a0ddcc30f291e865d1b62972c90f0b923b/mlflow/cli.py#L152) doesn't handle the default value (`None`) supplied in [the CLI entry point](https://github.com/databricks/mlflow/blob/5fa687a0ddcc30f291e865d1b62972c90f0b923b/mlflow/cli.py#L175)\r\n\r\n### Source code / logs\r\n```\r\n(mlflow-dev) arinto-mbp-tvlk:mlflow-gcs arinto$ mlflow server --file-store `pwd` --default-artifact-root gs://arinto-dev/ --host 0.0.0.0\r\nTraceback (most recent call last):\r\n  File \"/Users/arinto/anaconda3/envs/mlflow-dev/bin/mlflow\", line 11, in <module>\r\n    load_entry_point('mlflow', 'console_scripts', 'mlflow')()\r\n  File \"/Users/arinto/anaconda3/envs/mlflow-dev/lib/python3.6/site-packages/click/core.py\", line 722, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/Users/arinto/anaconda3/envs/mlflow-dev/lib/python3.6/site-packages/click/core.py\", line 697, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/arinto/anaconda3/envs/mlflow-dev/lib/python3.6/site-packages/click/core.py\", line 1064, in invoke\r\n    sub_ctx = cmd.make_context(cmd_name, args, parent=ctx)\r\n  File \"/Users/arinto/anaconda3/envs/mlflow-dev/lib/python3.6/site-packages/click/core.py\", line 621, in make_context\r\n    self.parse_args(ctx, args)\r\n  File \"/Users/arinto/anaconda3/envs/mlflow-dev/lib/python3.6/site-packages/click/core.py\", line 880, in parse_args\r\n    value, args = param.handle_parse_result(ctx, opts, args)\r\n  File \"/Users/arinto/anaconda3/envs/mlflow-dev/lib/python3.6/site-packages/click/core.py\", line 1404, in handle_parse_result\r\n    self.callback, ctx, self, value)\r\n  File \"/Users/arinto/anaconda3/envs/mlflow-dev/lib/python3.6/site-packages/click/core.py\", line 78, in invoke_param_callback\r\n    return callback(ctx, param, value)\r\n  File \"/Volumes/tvlk-repo/github/mlflow/mlflow/cli.py\", line 152, in _validate_static_prefix\r\n    if not value.startswith(\"/\"):\r\nAttributeError: 'NoneType' object has no attribute 'startswith'\r\n```","closed_by":{"login":"andrewmchen","id":4492809,"node_id":"MDQ6VXNlcjQ0OTI4MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4492809?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewmchen","html_url":"https://github.com/andrewmchen","followers_url":"https://api.github.com/users/andrewmchen/followers","following_url":"https://api.github.com/users/andrewmchen/following{/other_user}","gists_url":"https://api.github.com/users/andrewmchen/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewmchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewmchen/subscriptions","organizations_url":"https://api.github.com/users/andrewmchen/orgs","repos_url":"https://api.github.com/users/andrewmchen/repos","events_url":"https://api.github.com/users/andrewmchen/events{/privacy}","received_events_url":"https://api.github.com/users/andrewmchen/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/209/timeline","performed_via_github_app":null,"state_reason":"completed"}