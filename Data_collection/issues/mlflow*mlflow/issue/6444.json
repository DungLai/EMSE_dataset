{"url":"https://api.github.com/repos/mlflow/mlflow/issues/6444","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/6444/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/6444/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/6444/events","html_url":"https://github.com/mlflow/mlflow/issues/6444","id":1335400818,"node_id":"I_kwDOCB5Jx85PmJly","number":6444,"title":"[DOC-FIX] Document MLflow experiment delete semantics","user":{"login":"amesar","id":1721873,"node_id":"MDQ6VXNlcjE3MjE4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1721873?v=4","gravatar_id":"","url":"https://api.github.com/users/amesar","html_url":"https://github.com/amesar","followers_url":"https://api.github.com/users/amesar/followers","following_url":"https://api.github.com/users/amesar/following{/other_user}","gists_url":"https://api.github.com/users/amesar/gists{/gist_id}","starred_url":"https://api.github.com/users/amesar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amesar/subscriptions","organizations_url":"https://api.github.com/users/amesar/orgs","repos_url":"https://api.github.com/users/amesar/repos","events_url":"https://api.github.com/users/amesar/events{/privacy}","received_events_url":"https://api.github.com/users/amesar/received_events","type":"User","site_admin":false},"labels":[{"id":978584226,"node_id":"MDU6TGFiZWw5Nzg1ODQyMjY=","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/docs","name":"area/docs","color":"48eabc","default":false,"description":"Documentation issues"}],"state":"closed","locked":false,"assignee":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2022-08-11T02:39:42Z","updated_at":"2022-08-29T00:31:25Z","closed_at":"2022-08-29T00:31:24Z","author_association":"NONE","active_lock_reason":null,"body":"### Willingness to contribute\r\n\r\nNo. I cannot contribute a documentation fix at this time.\r\n\r\n### URL(s) with the issue\r\n\r\nhttps://mlflow.org/docs/latest/python_api/mlflow.tracking.html#mlflow.tracking.MlflowClient.delete_experiment\r\nhttps://mlflow.org/docs/latest/rest-api.html#delete-experiment\r\n\r\n\r\n### Description of proposal (what needs changing)\r\n\r\nApparently when you delete an experiment it is not permanently deleted from the database. Instead it is \"tombstoned\" and marked as \"deleted\" in the \"lifecycle_stage\" column. When you try to create a new experiment with the same name you get the following error: \r\n`mlflow.exceptions.MlflowException: Cannot set a deleted experiment 'sklearn_iris' as the active experiment. You can restore the experiment, or permanently delete the experiment to create a new one.`\r\n\r\nThere is no documentation on how to \"permanently delete\" the experiment.  If you have permissions to the underlying database you have to do the following hack for every run of the experiment before you can delete the experiment permanently:\r\n```\r\ndelete from latest_metrics where run_uuid = 'e30e657d4fa14807a8c1dae9ef66f2d6' ;\r\ndelete from metrics where run_uuid = 'e30e657d4fa14807a8c1dae9ef66f2d6' ;\r\ndelete from params where run_uuid = 'e30e657d4fa14807a8c1dae9ef66f2d6' ;\r\ndelete from tags where run_uuid = 'e30e657d4fa14807a8c1dae9ef66f2d6' ;\r\ndelete from runs where run_uuid = 'e30e657d4fa14807a8c1dae9ef66f2d6' ;\r\n\r\ndelete from experiments where name = 'my_experiment' ;\r\n```\r\nNote, that this issue does not pertain to Databricks MLflow where apparently you can recreate a deleted experiment.","closed_by":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/6444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/6444/timeline","performed_via_github_app":null,"state_reason":"completed"}