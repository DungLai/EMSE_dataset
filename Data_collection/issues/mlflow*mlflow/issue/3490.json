{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3490","repository_url":"https://api.github.com/repos/mlflow/mlflow","labels_url":"https://api.github.com/repos/mlflow/mlflow/issues/3490/labels{/name}","comments_url":"https://api.github.com/repos/mlflow/mlflow/issues/3490/comments","events_url":"https://api.github.com/repos/mlflow/mlflow/issues/3490/events","html_url":"https://github.com/mlflow/mlflow/issues/3490","id":714134030,"node_id":"MDU6SXNzdWU3MTQxMzQwMzA=","number":3490,"title":"Databricks: Cannot register sklearn model because of Metadata issue when using workspace experiment","user":{"login":"claywey","id":57914269,"node_id":"MDQ6VXNlcjU3OTE0MjY5","avatar_url":"https://avatars.githubusercontent.com/u/57914269?v=4","gravatar_id":"","url":"https://api.github.com/users/claywey","html_url":"https://github.com/claywey","followers_url":"https://api.github.com/users/claywey/followers","following_url":"https://api.github.com/users/claywey/following{/other_user}","gists_url":"https://api.github.com/users/claywey/gists{/gist_id}","starred_url":"https://api.github.com/users/claywey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/claywey/subscriptions","organizations_url":"https://api.github.com/users/claywey/orgs","repos_url":"https://api.github.com/users/claywey/repos","events_url":"https://api.github.com/users/claywey/events{/privacy}","received_events_url":"https://api.github.com/users/claywey/received_events","type":"User","site_admin":false},"labels":[{"id":2022847714,"node_id":"MDU6TGFiZWwyMDIyODQ3NzE0","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/model-registry","name":"area/model-registry","color":"48eabc","default":false,"description":"Model registry, model registry APIs, and the fluent client calls for model registry"},{"id":2022848043,"node_id":"MDU6TGFiZWwyMDIyODQ4MDQz","url":"https://api.github.com/repos/mlflow/mlflow/labels/area/models","name":"area/models","color":"48eabc","default":false,"description":"MLmodel format, model serialization/deserialization, flavors"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2020-10-03T17:12:36Z","updated_at":"2021-10-14T04:38:03Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I was working with the Pycaret library to log models to mlflow. The models were logged to the a workspace experiment and the artifacts were save to an Azure datalake mount point. However, I received this warning. Note: I am running Databricks Runtime 7.3ML\r\n\r\n\"WARNING mlflow.models.model: Logging model metadata to the tracking server has failed, possibly due older server version. The model artifacts have been logged successfully under\"\r\n\r\nEverything appear fine. I can see all of my logged runs and I can see my sklearn artifacts from the workspace experiment UI. However, when I go to register the the model to the Model Registry I get this message:\r\n\r\n\"Failed registration. The given source path does not exist.\"\r\n\r\nI thought maybe this was a Pycaret issue so I ran some sample code from the Mlflow documentation. The below code seems to work and logs the model under the Notebook experiment.\r\n\r\n> import mlflow\r\n> import mlflow.sklearn\r\n> from sklearn.datasets import load_iris\r\n> from sklearn import tree\r\n> \r\n> iris = load_iris()\r\n> sk_model = tree.DecisionTreeClassifier()\r\n> sk_model = sk_model.fit(iris.data, iris.target)\r\n> \r\n> mlflow.log_param(\"criterion\", sk_model.criterion)\r\n> mlflow.log_param(\"splitter\", sk_model.splitter)\r\n> \r\n> mlflow.sklearn.log_model(sk_model, \"sk_models\")\r\n\r\nBut, if I use mlflow.set_experiment() to log my parameters and model to a Workspace experiment I do not receive the earlier warning but I get the same error when attempting to register the model. \r\n\r\nI would like to be able to save my model artifacts to my mount point and be able to register them from that path. However, it appears I cannot do that.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/3490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mlflow/mlflow/issues/3490/timeline","performed_via_github_app":null,"state_reason":null}