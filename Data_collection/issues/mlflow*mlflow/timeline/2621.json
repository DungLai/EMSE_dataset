[{"id":3153121030,"node_id":"MDEyOkxhYmVsZWRFdmVudDMxNTMxMjEwMzA=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3153121030","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-22T22:03:36Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/620876151","html_url":"https://github.com/mlflow/mlflow/issues/2621#issuecomment-620876151","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2621","id":620876151,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDg3NjE1MQ==","user":{"login":"juntai-zheng","id":39497939,"node_id":"MDQ6VXNlcjM5NDk3OTM5","avatar_url":"https://avatars.githubusercontent.com/u/39497939?v=4","gravatar_id":"","url":"https://api.github.com/users/juntai-zheng","html_url":"https://github.com/juntai-zheng","followers_url":"https://api.github.com/users/juntai-zheng/followers","following_url":"https://api.github.com/users/juntai-zheng/following{/other_user}","gists_url":"https://api.github.com/users/juntai-zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/juntai-zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juntai-zheng/subscriptions","organizations_url":"https://api.github.com/users/juntai-zheng/orgs","repos_url":"https://api.github.com/users/juntai-zheng/repos","events_url":"https://api.github.com/users/juntai-zheng/events{/privacy}","received_events_url":"https://api.github.com/users/juntai-zheng/received_events","type":"User","site_admin":false},"created_at":"2020-04-28T21:55:58Z","updated_at":"2020-04-28T21:55:58Z","author_association":"COLLABORATOR","body":"Hi @saelha01, is this the code you're looking for? I'm not sure if you can pass in the argument as of yet, but this seems like you could add the extra command here: [https://github.com/mlflow/mlflow/pull/1329/files#diff-af7de445a15d07009617e03fb30e4d05R88](https://github.com/mlflow/mlflow/pull/1329/files#diff-af7de445a15d07009617e03fb30e4d05R88)\r\n\r\nCould you also edit your title to properly reflect the bug? Thanks!","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/620876151/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"juntai-zheng","id":39497939,"node_id":"MDQ6VXNlcjM5NDk3OTM5","avatar_url":"https://avatars.githubusercontent.com/u/39497939?v=4","gravatar_id":"","url":"https://api.github.com/users/juntai-zheng","html_url":"https://github.com/juntai-zheng","followers_url":"https://api.github.com/users/juntai-zheng/followers","following_url":"https://api.github.com/users/juntai-zheng/following{/other_user}","gists_url":"https://api.github.com/users/juntai-zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/juntai-zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juntai-zheng/subscriptions","organizations_url":"https://api.github.com/users/juntai-zheng/orgs","repos_url":"https://api.github.com/users/juntai-zheng/repos","events_url":"https://api.github.com/users/juntai-zheng/events{/privacy}","received_events_url":"https://api.github.com/users/juntai-zheng/received_events","type":"User","site_admin":false}},{"id":3282280148,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI4MjI4MDE0OA==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3282280148","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-28T21:55:58Z","performed_via_github_app":null},{"id":3282280149,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyODIyODAxNDk=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3282280149","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-28T21:55:58Z","performed_via_github_app":null},{"id":3282280535,"node_id":"MDEyOkxhYmVsZWRFdmVudDMyODIyODA1MzU=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3282280535","actor":{"login":"juntai-zheng","id":39497939,"node_id":"MDQ6VXNlcjM5NDk3OTM5","avatar_url":"https://avatars.githubusercontent.com/u/39497939?v=4","gravatar_id":"","url":"https://api.github.com/users/juntai-zheng","html_url":"https://github.com/juntai-zheng","followers_url":"https://api.github.com/users/juntai-zheng/followers","following_url":"https://api.github.com/users/juntai-zheng/following{/other_user}","gists_url":"https://api.github.com/users/juntai-zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/juntai-zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juntai-zheng/subscriptions","organizations_url":"https://api.github.com/users/juntai-zheng/orgs","repos_url":"https://api.github.com/users/juntai-zheng/repos","events_url":"https://api.github.com/users/juntai-zheng/events{/privacy}","received_events_url":"https://api.github.com/users/juntai-zheng/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-04-28T21:56:06Z","label":{"name":"Needs-Author-Feedback","color":"fef2c0"},"performed_via_github_app":null},{"id":3297792975,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzI5Nzc5Mjk3NQ==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3297792975","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-05-03T20:15:12Z","rename":{"from":"[BUG]","to":"Setting HTTP PTOXY before building docker images using Mlfow"},"performed_via_github_app":null},{"id":3297793023,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzI5Nzc5MzAyMw==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3297793023","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-05-03T20:15:15Z","label":{"name":"Needs-Author-Feedback","color":"fef2c0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/623176114","html_url":"https://github.com/mlflow/mlflow/issues/2621#issuecomment-623176114","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2621","id":623176114,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzE3NjExNA==","user":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"created_at":"2020-05-03T20:26:49Z","updated_at":"2020-05-03T22:34:33Z","author_association":"NONE","body":"@juntai-zheng thanks for pointing to the source code. I found the following file mlflow/models/docker_utils.py, where you can setup the http proxy and https proxy. \r\nBelow is my modified file\r\n\r\nimport os\r\nfrom subprocess import Popen, PIPE, STDOUT\r\nimport logging\r\nimport mlflow\r\nimport mlflow.version\r\nfrom mlflow.utils.file_utils import TempDir, _copy_project\r\nfrom mlflow.utils.logging_utils import eprint\r\n\r\n_logger = logging.getLogger(__name__)\r\n\r\n \r\n\r\nDISABLE_ENV_CREATION = \"MLFLOW_DISABLE_ENV_CREATION\"\r\n \r\n\r\n_DOCKERFILE_TEMPLATE = \"\"\"\r\n\r\n\r\n\r\nFROM saelha01/mlflow:latest\r\n\r\n\r\nENV http_proxy http://server:80/\r\n\r\nENV https_proxy http://server:80/\r\nRUN export HTTP_PROXY=http://server:80/\r\nRUN export HTTPS_PROXY=http://server:80/\r\n...........\r\n..........\r\n \r\n\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/623176114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false}},{"id":3297803924,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI5NzgwMzkyNA==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3297803924","actor":{"login":"juntai-zheng","id":39497939,"node_id":"MDQ6VXNlcjM5NDk3OTM5","avatar_url":"https://avatars.githubusercontent.com/u/39497939?v=4","gravatar_id":"","url":"https://api.github.com/users/juntai-zheng","html_url":"https://github.com/juntai-zheng","followers_url":"https://api.github.com/users/juntai-zheng/followers","following_url":"https://api.github.com/users/juntai-zheng/following{/other_user}","gists_url":"https://api.github.com/users/juntai-zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/juntai-zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juntai-zheng/subscriptions","organizations_url":"https://api.github.com/users/juntai-zheng/orgs","repos_url":"https://api.github.com/users/juntai-zheng/repos","events_url":"https://api.github.com/users/juntai-zheng/events{/privacy}","received_events_url":"https://api.github.com/users/juntai-zheng/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-03T20:26:50Z","performed_via_github_app":null},{"id":3297803926,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyOTc4MDM5MjY=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3297803926","actor":{"login":"juntai-zheng","id":39497939,"node_id":"MDQ6VXNlcjM5NDk3OTM5","avatar_url":"https://avatars.githubusercontent.com/u/39497939?v=4","gravatar_id":"","url":"https://api.github.com/users/juntai-zheng","html_url":"https://github.com/juntai-zheng","followers_url":"https://api.github.com/users/juntai-zheng/followers","following_url":"https://api.github.com/users/juntai-zheng/following{/other_user}","gists_url":"https://api.github.com/users/juntai-zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/juntai-zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juntai-zheng/subscriptions","organizations_url":"https://api.github.com/users/juntai-zheng/orgs","repos_url":"https://api.github.com/users/juntai-zheng/repos","events_url":"https://api.github.com/users/juntai-zheng/events{/privacy}","received_events_url":"https://api.github.com/users/juntai-zheng/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-03T20:26:50Z","performed_via_github_app":null},{"id":3297889739,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzI5Nzg4OTczOQ==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3297889739","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-05-03T22:09:17Z","rename":{"from":"Setting HTTP PTOXY before building docker images using Mlfow","to":"Setting HTTP proxy before building docker images using Mlfow"},"performed_via_github_app":null},{"id":3297909813,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzI5NzkwOTgxMw==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3297909813","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-05-03T22:36:59Z","rename":{"from":"Setting HTTP proxy before building docker images using Mlfow","to":"Setting HTTP proxy before building docker images using the \"mlflow models build-docker\" command"},"performed_via_github_app":null},{"id":3504550127,"node_id":"MDEyOkxhYmVsZWRFdmVudDM1MDQ1NTAxMjc=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3504550127","actor":{"login":"arjundc-db","id":61438563,"node_id":"MDQ6VXNlcjYxNDM4NTYz","avatar_url":"https://avatars.githubusercontent.com/u/61438563?v=4","gravatar_id":"","url":"https://api.github.com/users/arjundc-db","html_url":"https://github.com/arjundc-db","followers_url":"https://api.github.com/users/arjundc-db/followers","following_url":"https://api.github.com/users/arjundc-db/following{/other_user}","gists_url":"https://api.github.com/users/arjundc-db/gists{/gist_id}","starred_url":"https://api.github.com/users/arjundc-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arjundc-db/subscriptions","organizations_url":"https://api.github.com/users/arjundc-db/orgs","repos_url":"https://api.github.com/users/arjundc-db/repos","events_url":"https://api.github.com/users/arjundc-db/events{/privacy}","received_events_url":"https://api.github.com/users/arjundc-db/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-07-01T23:02:09Z","label":{"name":"area/docker","color":"ede978"},"performed_via_github_app":null},{"id":3504550131,"node_id":"MDEyOkxhYmVsZWRFdmVudDM1MDQ1NTAxMzE=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3504550131","actor":{"login":"arjundc-db","id":61438563,"node_id":"MDQ6VXNlcjYxNDM4NTYz","avatar_url":"https://avatars.githubusercontent.com/u/61438563?v=4","gravatar_id":"","url":"https://api.github.com/users/arjundc-db","html_url":"https://github.com/arjundc-db","followers_url":"https://api.github.com/users/arjundc-db/followers","following_url":"https://api.github.com/users/arjundc-db/following{/other_user}","gists_url":"https://api.github.com/users/arjundc-db/gists{/gist_id}","starred_url":"https://api.github.com/users/arjundc-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arjundc-db/subscriptions","organizations_url":"https://api.github.com/users/arjundc-db/orgs","repos_url":"https://api.github.com/users/arjundc-db/repos","events_url":"https://api.github.com/users/arjundc-db/events{/privacy}","received_events_url":"https://api.github.com/users/arjundc-db/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-07-01T23:02:09Z","label":{"name":"area/models","color":"48eabc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/654510893","html_url":"https://github.com/mlflow/mlflow/issues/2621#issuecomment-654510893","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2621","id":654510893,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDUxMDg5Mw==","user":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"created_at":"2020-07-06T23:20:44Z","updated_at":"2020-07-06T23:20:44Z","author_association":"COLLABORATOR","body":"Hi @saelha01 , the DockerHub documentation seems to suggest leveraging Docker client configuration instead, which should be picked up by MLflow: https://docs.docker.com/network/proxy/#configure-the-docker-client. Can you try this out and let me know if it helps?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/654510893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false}},{"id":3517976871,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzUxNzk3Njg3MQ==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3517976871","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-06T23:20:44Z","performed_via_github_app":null},{"id":3517976874,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1MTc5NzY4NzQ=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3517976874","actor":{"login":"saelha01","id":26911733,"node_id":"MDQ6VXNlcjI2OTExNzMz","avatar_url":"https://avatars.githubusercontent.com/u/26911733?v=4","gravatar_id":"","url":"https://api.github.com/users/saelha01","html_url":"https://github.com/saelha01","followers_url":"https://api.github.com/users/saelha01/followers","following_url":"https://api.github.com/users/saelha01/following{/other_user}","gists_url":"https://api.github.com/users/saelha01/gists{/gist_id}","starred_url":"https://api.github.com/users/saelha01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saelha01/subscriptions","organizations_url":"https://api.github.com/users/saelha01/orgs","repos_url":"https://api.github.com/users/saelha01/repos","events_url":"https://api.github.com/users/saelha01/events{/privacy}","received_events_url":"https://api.github.com/users/saelha01/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-06T23:20:44Z","performed_via_github_app":null},{"id":3517977103,"node_id":"MDEyOkxhYmVsZWRFdmVudDM1MTc5NzcxMDM=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3517977103","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-07-06T23:20:52Z","label":{"name":"priority/awaiting-more-evidence","color":"534cb5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/887206537","html_url":"https://github.com/mlflow/mlflow/issues/2621#issuecomment-887206537","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2621","id":887206537,"node_id":"IC_kwDOCB5Jx8404bKJ","user":{"login":"irudayambics","id":3430078,"node_id":"MDQ6VXNlcjM0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3430078?v=4","gravatar_id":"","url":"https://api.github.com/users/irudayambics","html_url":"https://github.com/irudayambics","followers_url":"https://api.github.com/users/irudayambics/followers","following_url":"https://api.github.com/users/irudayambics/following{/other_user}","gists_url":"https://api.github.com/users/irudayambics/gists{/gist_id}","starred_url":"https://api.github.com/users/irudayambics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/irudayambics/subscriptions","organizations_url":"https://api.github.com/users/irudayambics/orgs","repos_url":"https://api.github.com/users/irudayambics/repos","events_url":"https://api.github.com/users/irudayambics/events{/privacy}","received_events_url":"https://api.github.com/users/irudayambics/received_events","type":"User","site_admin":false},"created_at":"2021-07-27T04:50:30Z","updated_at":"2021-07-27T04:53:44Z","author_association":"NONE","body":"Hi @dbczumar , I tried https://docs.docker.com/network/proxy/#configure-the-docker-client. However unable to get the following command working.\r\n\r\nmlflow models build-docker -m \"runs:/d29a28b02a5c4ddf8a29d0e7d1f10469/model\" -n \"sklearn-iris-model-docker\" \r\n\r\n**Error is below.**\r\n\r\n(base) [*******j]# mlflow models build-docker -m \"runs:/d29a28b02a5c4ddf8a29d0e7d1f10469/model\" -n \"sklearn-iris-model-docker\"\r\n2021/07/27 04:42:59 INFO mlflow.models.cli: Selected backend for flavor 'python_function'\r\n2021/07/27 04:42:59 INFO mlflow.models.docker_utils: Building docker image with name sklearn-iris-model-docker\r\n/tmp/tmp6bp4_llj/\r\n/tmp/tmp6bp4_llj/model_dir\r\n/tmp/tmp6bp4_llj/model_dir/model\r\n/tmp/tmp6bp4_llj/model_dir/model/MLmodel\r\n/tmp/tmp6bp4_llj/model_dir/model/conda.yaml\r\n/tmp/tmp6bp4_llj/model_dir/model/model.pkl\r\n/tmp/tmp6bp4_llj/Dockerfile\r\nSending build context to Docker daemon  8.192kB\r\n\r\nStep 1/17 : FROM ubuntu:18.04\r\n ---> fbf60236a8e3\r\nStep 2/17 : RUN apt-get -y update && apt-get install -y --no-install-recommends          wget          curl          nginx          ca-certificates          bzip2          build-essential          cmake          openjdk-8-jdk          git-core          maven     && rm -rf /var/lib/apt/lists/*\r\n ---> Running in edf661a426d0\r\nErr:1 http://archive.ubuntu.com/ubuntu bionic InRelease\r\n  Connection failed [IP: 91.189.88.152 80]\r\nErr:2 http://security.ubuntu.com/ubuntu bionic-security InRelease\r\n  Connection failed [IP: 91.189.91.39 80]\r\nErr:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease\r\n  Connection failed [IP: 91.189.88.152 80]\r\nErr:4 http://archive.ubuntu.com/ubuntu bionic-backports InRelease\r\n  Connection failed [IP: 91.189.88.152 80]\r\nReading package lists...\r\nW: Failed to fetch http://archive.ubuntu.com/ubuntu/dists/bionic/InRelease  Connection failed [IP: 91.189.88.152 80]\r\nW: Failed to fetch http://archive.ubuntu.com/ubuntu/dists/bionic-updates/InRelease  Connection failed [IP: 91.189.88.152 80]\r\nW: Failed to fetch http://archive.ubuntu.com/ubuntu/dists/bionic-backports/InRelease  Connection failed [IP: 91.189.88.152 80]\r\nW: Failed to fetch http://security.ubuntu.com/ubuntu/dists/bionic-security/InRelease  Connection failed [IP: 91.189.91.39 80]\r\nW: Some index files failed to download. They have been ignored, or old ones used instead.\r\nReading package lists...\r\nBuilding dependency tree...\r\nReading state information...\r\nPackage ca-certificates is not available, but is referred to by another package.\r\nThis may mean that the package is missing, has been obsoleted, or\r\nis only available from another source\r\n\r\nE: Unable to locate package wget\r\nE: Unable to locate package curl\r\nE: Unable to locate package nginx\r\nE: Package 'ca-certificates' has no installation candidate\r\nE: Unable to locate package build-essential\r\nE: Unable to locate package cmake\r\nE: Unable to locate package openjdk-8-jdk\r\nE: Unable to locate package git-core\r\nE: Unable to locate package maven\r\nThe command '/bin/sh -c apt-get -y update && apt-get install -y --no-install-recommends          wget          curl          nginx          ca-certificates          bzip2          build-essential          cmake          openjdk-8-jdk          git-core          maven     && rm -rf /var/lib/apt/lists/*' returned a non-zero code: 100\r\n(base) [*********]#\r\n\r\n**System information**\r\n\r\n**OS version:** CentOS Linux release 7.9.2009 (Core)\r\n**MLflow server version:** version 1.17.0\r\n**Docker version:** 20.10.6, build 370c289\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/887206537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"irudayambics","id":3430078,"node_id":"MDQ6VXNlcjM0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3430078?v=4","gravatar_id":"","url":"https://api.github.com/users/irudayambics","html_url":"https://github.com/irudayambics","followers_url":"https://api.github.com/users/irudayambics/followers","following_url":"https://api.github.com/users/irudayambics/following{/other_user}","gists_url":"https://api.github.com/users/irudayambics/gists{/gist_id}","starred_url":"https://api.github.com/users/irudayambics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/irudayambics/subscriptions","organizations_url":"https://api.github.com/users/irudayambics/orgs","repos_url":"https://api.github.com/users/irudayambics/repos","events_url":"https://api.github.com/users/irudayambics/events{/privacy}","received_events_url":"https://api.github.com/users/irudayambics/received_events","type":"User","site_admin":false}},{"id":5071989373,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTA3MTk4OTM3Mw==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5071989373","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-07-27T04:50:30Z","performed_via_github_app":null},{"id":5071989376,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUwNzE5ODkzNzY=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5071989376","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-07-27T04:50:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/888103323","html_url":"https://github.com/mlflow/mlflow/issues/2621#issuecomment-888103323","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2621","id":888103323,"node_id":"IC_kwDOCB5Jx84072Gb","user":{"login":"irudayambics","id":3430078,"node_id":"MDQ6VXNlcjM0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3430078?v=4","gravatar_id":"","url":"https://api.github.com/users/irudayambics","html_url":"https://github.com/irudayambics","followers_url":"https://api.github.com/users/irudayambics/followers","following_url":"https://api.github.com/users/irudayambics/following{/other_user}","gists_url":"https://api.github.com/users/irudayambics/gists{/gist_id}","starred_url":"https://api.github.com/users/irudayambics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/irudayambics/subscriptions","organizations_url":"https://api.github.com/users/irudayambics/orgs","repos_url":"https://api.github.com/users/irudayambics/repos","events_url":"https://api.github.com/users/irudayambics/events{/privacy}","received_events_url":"https://api.github.com/users/irudayambics/received_events","type":"User","site_admin":false},"created_at":"2021-07-28T08:04:53Z","updated_at":"2021-07-28T08:04:53Z","author_association":"NONE","body":"I resolved the issue. The issue was at docker in my CentOS.  \r\n\r\n1. Open docker service file using **vi /usr/lib/systemd/system/docker.service**\r\n2. I modified the line below.\r\n**ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock --mtu=1450**\r\n3. Restart docker\r\n4. Then execute **mlflow models build-docker -m \"runs:/<>/model\" -n \"<>\"**\r\n5. MLflow server is able bundle mlmodel within docker image.\r\n\r\n![image](https://user-images.githubusercontent.com/3430078/127286281-40304ce4-62be-4456-b5cf-a00bb64dce9a.png)\r\n\r\nLooks like Docker MTU has some known issues. https://mlohr.com/docker-mtu/ \r\n\r\nThanks. \r\n\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/888103323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"irudayambics","id":3430078,"node_id":"MDQ6VXNlcjM0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3430078?v=4","gravatar_id":"","url":"https://api.github.com/users/irudayambics","html_url":"https://github.com/irudayambics","followers_url":"https://api.github.com/users/irudayambics/followers","following_url":"https://api.github.com/users/irudayambics/following{/other_user}","gists_url":"https://api.github.com/users/irudayambics/gists{/gist_id}","starred_url":"https://api.github.com/users/irudayambics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/irudayambics/subscriptions","organizations_url":"https://api.github.com/users/irudayambics/orgs","repos_url":"https://api.github.com/users/irudayambics/repos","events_url":"https://api.github.com/users/irudayambics/events{/privacy}","received_events_url":"https://api.github.com/users/irudayambics/received_events","type":"User","site_admin":false}}]