[{"id":3338382779,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzMzgzODI3Nzk=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3338382779","actor":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-14T20:48:03Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"id":3345079129,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzNDUwNzkxMjk=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3345079129","actor":{"login":"sueann","id":4411489,"node_id":"MDQ6VXNlcjQ0MTE0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4411489?v=4","gravatar_id":"","url":"https://api.github.com/users/sueann","html_url":"https://github.com/sueann","followers_url":"https://api.github.com/users/sueann/followers","following_url":"https://api.github.com/users/sueann/following{/other_user}","gists_url":"https://api.github.com/users/sueann/gists{/gist_id}","starred_url":"https://api.github.com/users/sueann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sueann/subscriptions","organizations_url":"https://api.github.com/users/sueann/orgs","repos_url":"https://api.github.com/users/sueann/repos","events_url":"https://api.github.com/users/sueann/events{/privacy}","received_events_url":"https://api.github.com/users/sueann/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-18T00:08:08Z","label":{"name":"area/scoring","color":"48eabc"},"performed_via_github_app":null},{"id":3573084813,"node_id":"MDEyOkxhYmVsZWRFdmVudDM1NzMwODQ4MTM=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3573084813","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-07-21T20:51:12Z","label":{"name":"priority/backlog","color":"534cb5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/662100400","html_url":"https://github.com/mlflow/mlflow/issues/2828#issuecomment-662100400","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2828","id":662100400,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjEwMDQwMA==","user":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"created_at":"2020-07-21T20:52:51Z","updated_at":"2020-07-21T20:52:51Z","author_association":"CONTRIBUTOR","body":"@LarsDu thanks for filing the issue. We do not plan to enable custom endpoints in the nearest future, primarily because we do not have good use cases to base it on at this point. Do you have some concrete use cases you can share here?\r\n\r\nI think easier shorter term goal would be to extend the existing built-in model endoints.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/662100400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false}},{"id":3573090177,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU3MzA5MDE3Nw==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3573090177","actor":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-21T20:52:51Z","performed_via_github_app":null},{"id":3573090189,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NzMwOTAxODk=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3573090189","actor":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-21T20:52:51Z","performed_via_github_app":null},{"id":3573099193,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzU3MzA5OTE5Mw==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3573099193","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-07-21T20:55:37Z","label":{"name":"priority/backlog","color":"534cb5"},"performed_via_github_app":null},{"id":3573099195,"node_id":"MDEyOkxhYmVsZWRFdmVudDM1NzMwOTkxOTU=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3573099195","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-07-21T20:55:37Z","label":{"name":"priority/awaiting-more-evidence","color":"534cb5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/662781893","html_url":"https://github.com/mlflow/mlflow/issues/2828#issuecomment-662781893","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2828","id":662781893,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mjc4MTg5Mw==","user":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T01:49:26Z","updated_at":"2020-07-23T01:50:50Z","author_association":"CONTRIBUTOR","body":"A very simple use case would be a situation where the user wants to retrieve different predictions from a scoring server based on some continuous value under certain conditions.\r\n\r\nWe have a use case where our scoring service's predict() function returns raw probability values under most cases, but the decision thresholds (e.g. f1/f-beta thresholds) are stored separately. This allows us to switch decision thresholds for downstream applications easily, but this also means that the decision thresholds are stored in a separate table/dataframe on the service itself.\r\n\r\nWe would like the end-user to be able to make different types of requests including requests for raw predictions (ie: True/False) in addition to raw probabilities under different contexts.\r\n\r\nRight now the hacky solution is to scan input in predict() for dataframes with special flags to trigger returning things like decision threshold tables, but this does not follow RESTful API practices, and is a nightmare for engineers who are accustomed to follow such practices.\r\n\r\nDue to the usage of Mlflow's scoring server rather than developing our own more flexible flask app from the beginning of the project, this has constrained what we can do, and has led to complaints from engineers looking for solutions following more RESTful API standards.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/662781893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/663069990","html_url":"https://github.com/mlflow/mlflow/issues/2828#issuecomment-663069990","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2828","id":663069990,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzA2OTk5MA==","user":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T15:23:24Z","updated_at":"2020-07-23T15:23:24Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification! So if I understand it correctly, you would want to have predict_label, predict_probabilities, and metadata endpoints?\r\n\r\nI think we can think of a way of allowing users to store additional model metadata and exposing those on /metadata endpoint. As for the probability vs prediction, I think the best way there is to always return both the label and the probability. Would this work for you?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/663069990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/663086823","html_url":"https://github.com/mlflow/mlflow/issues/2828#issuecomment-663086823","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2828","id":663086823,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzA4NjgyMw==","user":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T15:54:17Z","updated_at":"2020-07-23T15:54:17Z","author_association":"CONTRIBUTOR","body":"In this case, having those three endpoints would cover our use case. However in a broader sense, this would still be a bit insufficient as there are even more endpoints I did not mention. For example, what if we wanted to ask what \"interpolated precision\" a sample has computed from the precision-recall curve of the holdout set of a model? This type of information is useful for getting an estimate of confidence for a given prediction which is useful for our users.\r\n\r\nIn addition, the reason we avoid returning both the label and probability is because we host 300+ \"small\" models on a single pyfunc/scoring_server, and this would simply be too much unused information.\r\n\r\nRather than having a fixed number of endpoints, the scoring server should be made more extensible. I am aware there is an interest in making this platform independent (ie: not fixed to flask), but perhaps there could be a way to make custom endpoints without going through the annoying processing of going around mlflow (and using flask/django directly).","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/663086823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/663126979","html_url":"https://github.com/mlflow/mlflow/issues/2828#issuecomment-663126979","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2828","id":663126979,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzEyNjk3OQ==","user":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T17:13:07Z","updated_at":"2020-07-23T17:13:07Z","author_association":"CONTRIBUTOR","body":"Hey @LarsDu, thanks for quick reply. My concern is not reliance on Flask but keeping unified model interface. One of the major goals of mlflow models is to abstract from implementational details so that you can deploy and and query mlflow models without knowing too much about them. So any extra stuff we add should be generalized and described in the MLmodel file. Can you elaborate on your proposal and summarize use cases for additional endpoints that you have in mind? ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/663126979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false}},{"id":3580945953,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU4MDk0NTk1Mw==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3580945953","actor":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-23T17:13:07Z","performed_via_github_app":null},{"id":3580945960,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1ODA5NDU5NjA=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/3580945960","actor":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-23T17:13:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/663425378","html_url":"https://github.com/mlflow/mlflow/issues/2828#issuecomment-663425378","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2828","id":663425378,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzQyNTM3OA==","user":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false},"created_at":"2020-07-24T08:56:00Z","updated_at":"2020-07-24T17:46:38Z","author_association":"CONTRIBUTOR","body":"Right now it seems scoring servers have an `invocations` endpoint where users can pass json/pandas.Dataframe data to a predict() function. \r\nI think in a general sense the following additional endpoints would cover many (and perhaps all use cases). I think these should also be reasonably RESTful in the sense of allowing for granular responses and being stateless:\r\n- `service_info`: Returns some metadata on the service (to be left at the discretion of the service engineer). For example this can contain information on the training set and dates used to construct the model.\r\n- `conditional_invocations`: Accepts a nested json containing a 'key' (str), 'value' (float, int, or string), and 'dataframe'. This data would be passed to a function similar to predict but can be expected to return predictions under different conditions. For example:\r\nconditional_prediction('threshold', 'f2', inference_df) or conditional_prediction('exclude_percentile', 0.05, inference_df). \r\n- `thresholds`: Returns a table of thresholds. We host many models on a single scoring server, and some people will be ensembling models with different thresholds for each submodel. Furthermore, there are many different threshold selection techniques\r\n- `metadata`: Alternatively (and this might be better than having a `thresholds` endpoint), there could be an endpoint for retrieving metadata tables. My immediate thought is that such tables could contain information such as metrics holdout metrics computed at training time. This could simply take a `key` to return different types of metadata.\r\n\r\nFor endpoints that take additional variables like `metadata` and `conditional_invocations` there should also be another endpoint to describe the valid values such metadata should have.\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/663425378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LarsDu","id":17152264,"node_id":"MDQ6VXNlcjE3MTUyMjY0","avatar_url":"https://avatars.githubusercontent.com/u/17152264?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsDu","html_url":"https://github.com/LarsDu","followers_url":"https://api.github.com/users/LarsDu/followers","following_url":"https://api.github.com/users/LarsDu/following{/other_user}","gists_url":"https://api.github.com/users/LarsDu/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsDu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsDu/subscriptions","organizations_url":"https://api.github.com/users/LarsDu/orgs","repos_url":"https://api.github.com/users/LarsDu/repos","events_url":"https://api.github.com/users/LarsDu/events{/privacy}","received_events_url":"https://api.github.com/users/LarsDu/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/714615723","html_url":"https://github.com/mlflow/mlflow/issues/2828#issuecomment-714615723","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2828","id":714615723,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNDYxNTcyMw==","user":{"login":"fgbocci","id":38438179,"node_id":"MDQ6VXNlcjM4NDM4MTc5","avatar_url":"https://avatars.githubusercontent.com/u/38438179?v=4","gravatar_id":"","url":"https://api.github.com/users/fgbocci","html_url":"https://github.com/fgbocci","followers_url":"https://api.github.com/users/fgbocci/followers","following_url":"https://api.github.com/users/fgbocci/following{/other_user}","gists_url":"https://api.github.com/users/fgbocci/gists{/gist_id}","starred_url":"https://api.github.com/users/fgbocci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fgbocci/subscriptions","organizations_url":"https://api.github.com/users/fgbocci/orgs","repos_url":"https://api.github.com/users/fgbocci/repos","events_url":"https://api.github.com/users/fgbocci/events{/privacy}","received_events_url":"https://api.github.com/users/fgbocci/received_events","type":"User","site_admin":false},"created_at":"2020-10-22T16:36:28Z","updated_at":"2020-10-22T17:07:29Z","author_association":"NONE","body":"Hi! I'd like to be able to add a custom endpoint to be used as a health-check. For example, to send a dummy request to a given endpoint to check if the app is running and up :) . Currently it might be the \"/health\" endpoint, would like it to be configurable","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/714615723/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fgbocci","id":38438179,"node_id":"MDQ6VXNlcjM4NDM4MTc5","avatar_url":"https://avatars.githubusercontent.com/u/38438179?v=4","gravatar_id":"","url":"https://api.github.com/users/fgbocci","html_url":"https://github.com/fgbocci","followers_url":"https://api.github.com/users/fgbocci/followers","following_url":"https://api.github.com/users/fgbocci/following{/other_user}","gists_url":"https://api.github.com/users/fgbocci/gists{/gist_id}","starred_url":"https://api.github.com/users/fgbocci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fgbocci/subscriptions","organizations_url":"https://api.github.com/users/fgbocci/orgs","repos_url":"https://api.github.com/users/fgbocci/repos","events_url":"https://api.github.com/users/fgbocci/events{/privacy}","received_events_url":"https://api.github.com/users/fgbocci/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1333836015","html_url":"https://github.com/mlflow/mlflow/issues/2828#issuecomment-1333836015","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/2828","id":1333836015,"node_id":"IC_kwDOCB5Jx85PgLjv","user":{"login":"torshind","id":23017724,"node_id":"MDQ6VXNlcjIzMDE3NzI0","avatar_url":"https://avatars.githubusercontent.com/u/23017724?v=4","gravatar_id":"","url":"https://api.github.com/users/torshind","html_url":"https://github.com/torshind","followers_url":"https://api.github.com/users/torshind/followers","following_url":"https://api.github.com/users/torshind/following{/other_user}","gists_url":"https://api.github.com/users/torshind/gists{/gist_id}","starred_url":"https://api.github.com/users/torshind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torshind/subscriptions","organizations_url":"https://api.github.com/users/torshind/orgs","repos_url":"https://api.github.com/users/torshind/repos","events_url":"https://api.github.com/users/torshind/events{/privacy}","received_events_url":"https://api.github.com/users/torshind/received_events","type":"User","site_admin":false},"created_at":"2022-12-01T14:17:35Z","updated_at":"2022-12-01T14:17:35Z","author_association":"NONE","body":"> As for the probability vs prediction, I think the best way there is to always return both the label and the probability. Would this work for you?\r\n\r\nIdeally, we'd like a separate route for the probabilities, but even having them along with the predictions would be better than nothing. Right now it is very weird not to have the probability as well, and that makes applications such as model monitoring difficult.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1333836015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"torshind","id":23017724,"node_id":"MDQ6VXNlcjIzMDE3NzI0","avatar_url":"https://avatars.githubusercontent.com/u/23017724?v=4","gravatar_id":"","url":"https://api.github.com/users/torshind","html_url":"https://github.com/torshind","followers_url":"https://api.github.com/users/torshind/followers","following_url":"https://api.github.com/users/torshind/following{/other_user}","gists_url":"https://api.github.com/users/torshind/gists{/gist_id}","starred_url":"https://api.github.com/users/torshind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torshind/subscriptions","organizations_url":"https://api.github.com/users/torshind/orgs","repos_url":"https://api.github.com/users/torshind/repos","events_url":"https://api.github.com/users/torshind/events{/privacy}","received_events_url":"https://api.github.com/users/torshind/received_events","type":"User","site_admin":false}}]