[{"id":7379334923,"node_id":"LE_lADOCB5Jx85RxTilzwAAAAG317cL","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7379334923","actor":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-13T18:56:49Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"id":7379485352,"node_id":"LE_lADOCB5Jx85RxTilzwAAAAG32gKo","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7379485352","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-13T19:21:20Z","label":{"name":"area/scoring","color":"48eabc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1246905221","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1246905221","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1246905221,"node_id":"IC_kwDOCB5Jx85KUkOF","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-14T15:03:34Z","updated_at":"2022-09-14T15:03:34Z","author_association":"COLLABORATOR","body":"Hi @nfarley-soaren thank you for sharing the idea here. As it currently stands, the application of a signature to a model is intentionally done to ensure production-level stability for serving (no surprises). I'm not sure if adding a 'soft match' pseudo-validation option to signature enforcement aligns with the intended design of having a signature (namely, ensuring that the deployed model is consistently seeing a specific typed schema for each prediction or inference action). \r\nThat being said, we'll discuss the idea of having an alternate partial validation feature and update here if there is any plan on introducing such a feature. ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1246905221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"id":7386809355,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG4ScQL","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7386809355","actor":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-14T15:03:35Z","performed_via_github_app":null},{"id":7386809371,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG4ScQb","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7386809371","actor":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-14T15:03:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1246970826","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1246970826","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1246970826,"node_id":"IC_kwDOCB5Jx85KU0PK","user":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false},"created_at":"2022-09-14T15:51:30Z","updated_at":"2022-09-14T15:51:30Z","author_association":"CONTRIBUTOR","body":"@BenWilson2  I understand.  Thank you for considering it.  ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1246970826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false}},{"id":7387249266,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG4UHpy","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7387249266","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-14T15:51:31Z","performed_via_github_app":null},{"id":7387249278,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG4UHp-","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7387249278","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-14T15:51:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1248491763","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1248491763","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1248491763,"node_id":"IC_kwDOCB5Jx85Kanjz","user":{"login":"skylarbpayne","id":4830598,"node_id":"MDQ6VXNlcjQ4MzA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/4830598?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarbpayne","html_url":"https://github.com/skylarbpayne","followers_url":"https://api.github.com/users/skylarbpayne/followers","following_url":"https://api.github.com/users/skylarbpayne/following{/other_user}","gists_url":"https://api.github.com/users/skylarbpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarbpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarbpayne/subscriptions","organizations_url":"https://api.github.com/users/skylarbpayne/orgs","repos_url":"https://api.github.com/users/skylarbpayne/repos","events_url":"https://api.github.com/users/skylarbpayne/events{/privacy}","received_events_url":"https://api.github.com/users/skylarbpayne/received_events","type":"User","site_admin":false},"created_at":"2022-09-15T19:03:59Z","updated_at":"2022-09-15T22:14:23Z","author_association":"CONTRIBUTOR","body":"Just want to throw in that I like the idea of supporting partial validation. While I understand the desire to have production grade, really enforcement requires strong assumptions about what the set of types are and how various type systems map to mlflow's type system.\r\n\r\nThe likelihood that mlflow has this wrong for at least some cases at some point in time is pretty high in my opinion (for clarity: not due to any fault of mlflow maintainers -- type systems are crazy and all over the place and sometimes new things are introduced; really hard if not impossible to unify). In the cases where it's not quite complete/right/etc, the required full validation makes signatures \"all or nothing\" for users.\r\n\r\nIn cases where there's a mismatch between what signatures support and what a user uses (e.g. in my case, [Pandas Extension types](https://github.com/mlflow/mlflow/issues/6767)), partial validation would let users leverage signatures over all the supported types in the interim of finding other solutions for the rest (and perhaps for some use cases the answer is that it's not mission critical to validate).","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1248491763/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"skylarbpayne","id":4830598,"node_id":"MDQ6VXNlcjQ4MzA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/4830598?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarbpayne","html_url":"https://github.com/skylarbpayne","followers_url":"https://api.github.com/users/skylarbpayne/followers","following_url":"https://api.github.com/users/skylarbpayne/following{/other_user}","gists_url":"https://api.github.com/users/skylarbpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarbpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarbpayne/subscriptions","organizations_url":"https://api.github.com/users/skylarbpayne/orgs","repos_url":"https://api.github.com/users/skylarbpayne/repos","events_url":"https://api.github.com/users/skylarbpayne/events{/privacy}","received_events_url":"https://api.github.com/users/skylarbpayne/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1248820906","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1248820906","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1248820906,"node_id":"IC_kwDOCB5Jx85Kb36q","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-16T01:47:00Z","updated_at":"2022-09-16T01:47:00Z","author_association":"COLLABORATOR","body":"@nfarley-soaren @skylarbpayne After some deliberations amongst the maintainers, we really like this idea. That being said, we'd like to make sure that we fully capture as many potential end-use scenarios that a feature could address. \r\nWould it be possible for the two of you (and anyone else that is interested in weighing in with their thoughts) to describe in detail the scenario involved?\r\nSpecifically:\r\nWhat does a partial check actually look like in given scenarios? \r\n- Fields in the payload that were not part of signature validation\r\n- Null values in a payload (missing data)\r\n- Different numeric non-lossy types passed (int -> long, float->double)\r\n- How would you want to see the definition of a 'partial check' from an API standpoint?\r\n- What level of interaction would you want for a partial validation? The ability to generate a logged warning? An addition to the return payload that indicates that schema validation failed? Silence?\r\n- Would you want the ability to mutate the strictness (strict -> partial; partial -> strict)?\r\n\r\nIf it's not too much trouble to really flesh out this request, we'd really appreciate it (and to continue the design discussion here).","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1248820906/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"id":7399385836,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG5Cars","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7399385836","actor":{"login":"skylarbpayne","id":4830598,"node_id":"MDQ6VXNlcjQ4MzA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/4830598?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarbpayne","html_url":"https://github.com/skylarbpayne","followers_url":"https://api.github.com/users/skylarbpayne/followers","following_url":"https://api.github.com/users/skylarbpayne/following{/other_user}","gists_url":"https://api.github.com/users/skylarbpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarbpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarbpayne/subscriptions","organizations_url":"https://api.github.com/users/skylarbpayne/orgs","repos_url":"https://api.github.com/users/skylarbpayne/repos","events_url":"https://api.github.com/users/skylarbpayne/events{/privacy}","received_events_url":"https://api.github.com/users/skylarbpayne/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-16T01:47:00Z","performed_via_github_app":null},{"id":7399385843,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG5Carz","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7399385843","actor":{"login":"skylarbpayne","id":4830598,"node_id":"MDQ6VXNlcjQ4MzA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/4830598?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarbpayne","html_url":"https://github.com/skylarbpayne","followers_url":"https://api.github.com/users/skylarbpayne/followers","following_url":"https://api.github.com/users/skylarbpayne/following{/other_user}","gists_url":"https://api.github.com/users/skylarbpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarbpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarbpayne/subscriptions","organizations_url":"https://api.github.com/users/skylarbpayne/orgs","repos_url":"https://api.github.com/users/skylarbpayne/repos","events_url":"https://api.github.com/users/skylarbpayne/events{/privacy}","received_events_url":"https://api.github.com/users/skylarbpayne/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-16T01:47:00Z","performed_via_github_app":null},{"id":7399385849,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG5Car5","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7399385849","actor":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-16T01:47:00Z","performed_via_github_app":null},{"id":7399385851,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG5Car7","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7399385851","actor":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-16T01:47:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1250373841","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1250373841","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1250373841,"node_id":"IC_kwDOCB5Jx85KhzDR","user":{"login":"skylarbpayne","id":4830598,"node_id":"MDQ6VXNlcjQ4MzA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/4830598?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarbpayne","html_url":"https://github.com/skylarbpayne","followers_url":"https://api.github.com/users/skylarbpayne/followers","following_url":"https://api.github.com/users/skylarbpayne/following{/other_user}","gists_url":"https://api.github.com/users/skylarbpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarbpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarbpayne/subscriptions","organizations_url":"https://api.github.com/users/skylarbpayne/orgs","repos_url":"https://api.github.com/users/skylarbpayne/repos","events_url":"https://api.github.com/users/skylarbpayne/events{/privacy}","received_events_url":"https://api.github.com/users/skylarbpayne/received_events","type":"User","site_admin":false},"created_at":"2022-09-18T19:41:29Z","updated_at":"2022-09-18T19:41:29Z","author_association":"CONTRIBUTOR","body":"Thanks for the consideration folks! I'm happy to share thoughts on how I think this should behave. But might be worth beginning with reification of what I mean with \"partial validation\", because I think some folks may have a different scope in mind. Not to say mine is \"correct\" :).\r\n\r\nI think of partial validation as simply: being able to validate some inputs while skipping others, so that I can get the \"most\" value out of signatures based on the level of current compatibility between my scoring pipelines and mlflow signatures. For example: If I use pandas extension types (not yet supported by mlflow signatures), I would like to be able to apply type enforcement for the _rest_ of the columns rather than forgoing signatures altogether. Anything else I more-or-less consider \"out of scope\" or not to be partial validation.\r\n\r\nNow for the specific situations you've listed:\r\n\r\n**Fields in the payload that were not part of signature validation**\r\nI assume this is referring to having \"extra\" columns. I think of this as somewhat orthogonal, but for sake of stating my opinion: as long as it is unambiguous what data and in which order to pass said data, then having additional fields in the payload seems fine to me.\r\n\r\nIn many cases, however, I'm not sure that this will be unambiguous. For example: if I have input as a numpy array and have extra columns, it doesn't seem possibly to determine which columns should be \"passed through\" to the underlying model.\r\n\r\nIn cases that we can determine (e.g. consider named inputs with a pandas DataFrame input) then it seems fine to me. But I'm not sure how common the cases where behavior is ambiguous vs unambiguous is, so I think there's perhaps an important question about how helpful this is in practice.\r\n\r\n**Null values in a payload (missing data)**\r\nWhere we have a type specified, I think we should enforce it to the fullest extent that is reasonable (e.g. probably not reasonable in most cases to check every single value). Nullability is generally expressed as part of the type system. Today we don't have explicit null/missing semantics in the types used by mlflow signatures. Where we are \"skipping\" type validation for e.g. a column, we would not even check if null is there. I think this is fair; as a user if you forgo type checking you must deal with the consequences.\r\n\r\n**Different numeric non-lossy types passed (int -> long, float->double)**\r\nThere's something here that is candidly a bit out of my depth. If I squint, there's 0 problem with doing these types of conversions. But I can't help shake the feeling that there's some kind of weird case here that could produce odd results. E.g. if you upgrade float -> double, is it possible that the semantics of precision lead you to very different results? I'm unsure enough to say: would love for someone with more expertise to weigh in on the safety.\r\n\r\nBut if this is totally safe, this seems fine to me. I'm always a bit weary of automatic conversions like this. Part of me feels like if the user specifies a type, that should be completely enforced to the greatest degree possible. But there might be a practicality vs purity argument here. It's possible that however we choose to support \"skipping\" column validation could work for this case too.\r\n\r\n**How would you want to see the definition of a 'partial check' from an API standpoint?**\r\nI have what I consider a somewhat lightweight way of viewing this: implement an `Any` type. This forgoes type checking. We never infer an `Any` type in signature inference, but users can explicitly set the use of `Any`. This has the upside that implementation should be really straightforward (I think?). The downside is that the \"strictness\" is embedded into the model. I don't think this is a huge downside though as you could always load the model and re-log it with updated schema. Considering that re-using the same signature would only be possible if: (a) the user could \"easily\" update mlflow to consume the fix and (b) the fix did not involve changing the mlflow DataTypes, I think the risk/user burden here is pretty low.\r\n\r\n**What level of interaction would you want for a partial validation? The ability to generate a logged warning? An addition to the return payload that indicates that schema validation failed? Silence?**\r\nI feel like I have the loosest opinion on this one, but I think many people might want at least a warning logged. If we supported via my suggestion of an `Any` type, it becomes questionable what it \"means\" to fail validation, and so in that context may be moot.\r\n\r\n**Would you want the ability to mutate the strictness (strict -> partial; partial -> strict)?**\r\nI think this is desirable, but not really required. I think I might prefer for us to have an easier way to define model-level validations. E.g. if we support a new `Any` type, then a serving environment could specify that it does not allow signatures with `Any` rather than thinking of an explicit strict/partial validation API.\r\n\r\n\r\nCurious to hear others' thoughts/use cases/needs","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1250373841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"skylarbpayne","id":4830598,"node_id":"MDQ6VXNlcjQ4MzA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/4830598?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarbpayne","html_url":"https://github.com/skylarbpayne","followers_url":"https://api.github.com/users/skylarbpayne/followers","following_url":"https://api.github.com/users/skylarbpayne/following{/other_user}","gists_url":"https://api.github.com/users/skylarbpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarbpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarbpayne/subscriptions","organizations_url":"https://api.github.com/users/skylarbpayne/orgs","repos_url":"https://api.github.com/users/skylarbpayne/repos","events_url":"https://api.github.com/users/skylarbpayne/events{/privacy}","received_events_url":"https://api.github.com/users/skylarbpayne/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1251634802","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1251634802","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1251634802,"node_id":"IC_kwDOCB5Jx85Kmm5y","user":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false},"created_at":"2022-09-19T22:27:49Z","updated_at":"2022-09-19T22:27:49Z","author_association":"CONTRIBUTOR","body":"I appreciate the opportunity to participate in this and would be happy to throw in my thoughts.  I hope more people weigh in on this because I'm definitely focused on my current use-case and may be a bit myopic regarding the needs of other users.  I'll be meeting with my team tomorrow to get their opinions/feedback and will have a more detailed response for you guys after that.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1251634802/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1253052950","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1253052950","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1253052950,"node_id":"IC_kwDOCB5Jx85KsBIW","user":{"login":"mlflow-automation","id":61449322,"node_id":"MDQ6VXNlcjYxNDQ5MzIy","avatar_url":"https://avatars.githubusercontent.com/u/61449322?v=4","gravatar_id":"","url":"https://api.github.com/users/mlflow-automation","html_url":"https://github.com/mlflow-automation","followers_url":"https://api.github.com/users/mlflow-automation/followers","following_url":"https://api.github.com/users/mlflow-automation/following{/other_user}","gists_url":"https://api.github.com/users/mlflow-automation/gists{/gist_id}","starred_url":"https://api.github.com/users/mlflow-automation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlflow-automation/subscriptions","organizations_url":"https://api.github.com/users/mlflow-automation/orgs","repos_url":"https://api.github.com/users/mlflow-automation/repos","events_url":"https://api.github.com/users/mlflow-automation/events{/privacy}","received_events_url":"https://api.github.com/users/mlflow-automation/received_events","type":"User","site_admin":false},"created_at":"2022-09-21T00:34:46Z","updated_at":"2022-09-21T00:34:46Z","author_association":"COLLABORATOR","body":"<!-- assign-maintainer -->\n@BenWilson2 @dbczumar @harupy @WeichenXu123 Please assign a maintainer and start triaging this issue.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1253052950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mlflow-automation","id":61449322,"node_id":"MDQ6VXNlcjYxNDQ5MzIy","avatar_url":"https://avatars.githubusercontent.com/u/61449322?v=4","gravatar_id":"","url":"https://api.github.com/users/mlflow-automation","html_url":"https://github.com/mlflow-automation","followers_url":"https://api.github.com/users/mlflow-automation/followers","following_url":"https://api.github.com/users/mlflow-automation/following{/other_user}","gists_url":"https://api.github.com/users/mlflow-automation/gists{/gist_id}","starred_url":"https://api.github.com/users/mlflow-automation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlflow-automation/subscriptions","organizations_url":"https://api.github.com/users/mlflow-automation/orgs","repos_url":"https://api.github.com/users/mlflow-automation/repos","events_url":"https://api.github.com/users/mlflow-automation/events{/privacy}","received_events_url":"https://api.github.com/users/mlflow-automation/received_events","type":"User","site_admin":false}},{"id":7426480591,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG6pxnP","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7426480591","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-21T00:34:46Z","performed_via_github_app":null},{"id":7426480596,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG6pxnU","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7426480596","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-21T00:34:46Z","performed_via_github_app":null},{"id":7426480600,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG6pxnY","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7426480600","actor":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-21T00:34:46Z","performed_via_github_app":null},{"id":7426480605,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG6pxnd","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7426480605","actor":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-21T00:34:46Z","performed_via_github_app":null},{"id":7426480612,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG6pxnk","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7426480612","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-21T00:34:46Z","performed_via_github_app":null},{"id":7426480614,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG6pxnm","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7426480614","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-21T00:34:46Z","performed_via_github_app":null},{"id":7426480619,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG6pxnr","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7426480619","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-21T00:34:46Z","performed_via_github_app":null},{"id":7426480620,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG6pxns","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7426480620","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-21T00:34:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1253069002","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1253069002","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1253069002,"node_id":"IC_kwDOCB5Jx85KsFDK","user":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false},"created_at":"2022-09-21T00:58:47Z","updated_at":"2022-09-21T00:58:47Z","author_association":"CONTRIBUTOR","body":"For some context, the data I am working with gets passed as a dictionary.  With our current paradigm, that data undergoes some preprocessing once it is passed to an endpoint.  When trying to use mlfow without enforcing data types (not having a signature), I have run into a troubling bug where strings of numbers with leading zeros (for example \"001\") are read in as numeric and the leading zeros are stripped causing silent errors that we were luckily able to catch. Maybe this needs to be dealt with separately because I would think it is important to have the option of not using the signature.  As it stands, my current options are, 1) not have a signature at all and risk this kind of potentially silent failure or, 2) redesign the structure of our payloads such that it can function with how the signature currently works which is tricky because I don't want to cause problems with existing production models.  It could also limit the flexibility I currently have where I can use these same data differently in different models.   Option 2 basically requires a fair amount of preprocessing before sending data to the model which is something I would normally prefer to deal with further downstream on a per model basis.  \r\n\r\nAs far as increasing signature flexibility, for me, one of the important things is the ability to decouple the data missingness check from data typing.  That being said, I know that some of this might be a pretty big ask, depending on the implementation.  A helpful addition  that would address SOME of the problems that I'm facing would be to have the option of skipping the signature altogether but be able to pass a dictionary of pandas datatypes, separately, to the dtype argument of the pd.read_json function in proto_json_utils.py.  I was looking through the code and, unless I'm missing something (which is entirely possible), it should be relatively simple to add as an option when logging the model.  What are people's thoughts on that?\r\n\r\nAddressing your specific questions for increasing signature flexibility:\r\n\r\nFields in the payload that were not part of signature validation:\r\nI would like the option (perhaps a flag for passing extra columns?) to still pass these extra fields and values through to the model allowing greater flexibility, especially for users that may not have the option of creating a perfectly clean input for their model or want to pass data types that aren't currently supported by MLflow.  This, of course, places more of the onus of on the user, as far as ensuring integrity of these data.  But this could be addressed with customized pyfunc models. \r\n\r\nNull values in a payload (missing data):\r\nThis is particularly applicable to my current use case where I have payloads that don't always contain  every field.  It is important for me (where I might not receive a given input from a data vendor) to still include the ability to enforce the data typing when the field is present but not throw an error if it is missing.  Handling missing data would be the user's responsibility.  \r\n\r\nDifferent numeric non-lossy types passed (int -> long, float->double)\r\nI'm not sure I completely understand the scenario in question.  Either the types will be specified in the signature (could be typed if present) or they will be automatically inferred (as they are when no signature is specified), which I have already learned is problematic.\r\n\r\nHow would you want to see the definition of a 'partial check' from an API standpoint?\r\nPerhaps defining optional features that are typed when present in the payload but won't throw an error if they are missing.  Missing values can be imputed in these cases with customized data preprocessing prior to scoring.  For example, when using infer_signature, be able to pass is `dataframe[strictly_enforced_column_list]` and `dataframe[optionally_enforced_column_list]` for constructing the signature rather than just a single data frame with strict enforcement.\r\n\r\nWhat level of interaction would you want for a partial validation? The ability to generate a logged warning? An addition to the return payload that indicates that schema validation failed? Silence?\r\nI wouldn't want to have it be silent.  I like the idea of a logged warning at the bare minimum.  I also like the option of having some sort of notification in the return payload as long as this feature can be turned off by the user.  (Maybe one has additional input monitoring/checks already in place and this would just be a nuisance).  A given user may want to be notified if there is a missing feature but still be able to generate a score from their model.\r\n\r\nWould you want the ability to mutate the strictness (strict -> partial; partial -> strict)?\r\nI would favor strict -> partial\r\n\r\nLet me know if you would like me to elaborate or if anything I've mentioned is unclear.  Thanks!","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1253069002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nfarley-soaren","id":92752316,"node_id":"U_kgDOBYdJvA","avatar_url":"https://avatars.githubusercontent.com/u/92752316?v=4","gravatar_id":"","url":"https://api.github.com/users/nfarley-soaren","html_url":"https://github.com/nfarley-soaren","followers_url":"https://api.github.com/users/nfarley-soaren/followers","following_url":"https://api.github.com/users/nfarley-soaren/following{/other_user}","gists_url":"https://api.github.com/users/nfarley-soaren/gists{/gist_id}","starred_url":"https://api.github.com/users/nfarley-soaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfarley-soaren/subscriptions","organizations_url":"https://api.github.com/users/nfarley-soaren/orgs","repos_url":"https://api.github.com/users/nfarley-soaren/repos","events_url":"https://api.github.com/users/nfarley-soaren/events{/privacy}","received_events_url":"https://api.github.com/users/nfarley-soaren/received_events","type":"User","site_admin":false}},{"id":7432152440,"node_id":"LE_lADOCB5Jx85RxTilzwAAAAG6_aV4","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7432152440","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-21T15:39:28Z","label":{"name":"needs design","color":"006b75"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1255076396","html_url":"https://github.com/mlflow/mlflow/issues/6783#issuecomment-1255076396","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6783","id":1255076396,"node_id":"IC_kwDOCB5Jx85KzvIs","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-22T14:06:29Z","updated_at":"2022-09-22T14:06:29Z","author_association":"COLLABORATOR","body":"Hi @skylarbpayne and @nfarley-soaren, thank you very much for the elucidation on your requested features. Due to the complexity involved here and the implications throughout different parts of MLflow, we're going to have some internal review about what the design would need to be in order to fulfill as many (or most) of the requests that you've both mentioned. \r\nWhile I can't promise that this will get designed and prioritized soon (if ever), I can assure you that we're going to spend some time discussing the feasibility of the idea and, if the consensus is that it's a worthwhile feature to pursue, set a priority to its implementation. \r\nOnce again, thank you for your thorough answers and your desire to help make MLflow more useful for users!","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1255076396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"id":7440000579,"node_id":"MEE_lADOCB5Jx85RxTilzwAAAAG7dWZD","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7440000579","actor":{"login":"skylarbpayne","id":4830598,"node_id":"MDQ6VXNlcjQ4MzA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/4830598?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarbpayne","html_url":"https://github.com/skylarbpayne","followers_url":"https://api.github.com/users/skylarbpayne/followers","following_url":"https://api.github.com/users/skylarbpayne/following{/other_user}","gists_url":"https://api.github.com/users/skylarbpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarbpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarbpayne/subscriptions","organizations_url":"https://api.github.com/users/skylarbpayne/orgs","repos_url":"https://api.github.com/users/skylarbpayne/repos","events_url":"https://api.github.com/users/skylarbpayne/events{/privacy}","received_events_url":"https://api.github.com/users/skylarbpayne/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-22T14:06:30Z","performed_via_github_app":null},{"id":7440000590,"node_id":"SE_lADOCB5Jx85RxTilzwAAAAG7dWZO","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7440000590","actor":{"login":"skylarbpayne","id":4830598,"node_id":"MDQ6VXNlcjQ4MzA1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/4830598?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarbpayne","html_url":"https://github.com/skylarbpayne","followers_url":"https://api.github.com/users/skylarbpayne/followers","following_url":"https://api.github.com/users/skylarbpayne/following{/other_user}","gists_url":"https://api.github.com/users/skylarbpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarbpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarbpayne/subscriptions","organizations_url":"https://api.github.com/users/skylarbpayne/orgs","repos_url":"https://api.github.com/users/skylarbpayne/repos","events_url":"https://api.github.com/users/skylarbpayne/events{/privacy}","received_events_url":"https://api.github.com/users/skylarbpayne/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-22T14:06:30Z","performed_via_github_app":null}]