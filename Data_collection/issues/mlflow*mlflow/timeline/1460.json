[{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/502474999","html_url":"https://github.com/mlflow/mlflow/issues/1460#issuecomment-502474999","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1460","id":502474999,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjQ3NDk5OQ==","user":{"login":"eedeleon","id":31962564,"node_id":"MDQ6VXNlcjMxOTYyNTY0","avatar_url":"https://avatars.githubusercontent.com/u/31962564?v=4","gravatar_id":"","url":"https://api.github.com/users/eedeleon","html_url":"https://github.com/eedeleon","followers_url":"https://api.github.com/users/eedeleon/followers","following_url":"https://api.github.com/users/eedeleon/following{/other_user}","gists_url":"https://api.github.com/users/eedeleon/gists{/gist_id}","starred_url":"https://api.github.com/users/eedeleon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eedeleon/subscriptions","organizations_url":"https://api.github.com/users/eedeleon/orgs","repos_url":"https://api.github.com/users/eedeleon/repos","events_url":"https://api.github.com/users/eedeleon/events{/privacy}","received_events_url":"https://api.github.com/users/eedeleon/received_events","type":"User","site_admin":false},"created_at":"2019-06-16T18:29:45Z","updated_at":"2019-06-16T18:29:45Z","author_association":"CONTRIBUTOR","body":"@aarondav @tomasatdatabricks\r\n\r\nThis behavior is related to the move to model_uri instead of model_path. And the use of basename. I may be missing something since _download_artifact_from_uri is used in many places but the failures I was seeing seem consistent with the reported issue and the PR resolved them for me locally","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/502474999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eedeleon","id":31962564,"node_id":"MDQ6VXNlcjMxOTYyNTY0","avatar_url":"https://avatars.githubusercontent.com/u/31962564?v=4","gravatar_id":"","url":"https://api.github.com/users/eedeleon","html_url":"https://github.com/eedeleon","followers_url":"https://api.github.com/users/eedeleon/followers","following_url":"https://api.github.com/users/eedeleon/following{/other_user}","gists_url":"https://api.github.com/users/eedeleon/gists{/gist_id}","starred_url":"https://api.github.com/users/eedeleon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eedeleon/subscriptions","organizations_url":"https://api.github.com/users/eedeleon/orgs","repos_url":"https://api.github.com/users/eedeleon/repos","events_url":"https://api.github.com/users/eedeleon/events{/privacy}","received_events_url":"https://api.github.com/users/eedeleon/received_events","type":"User","site_admin":false}},{"id":2416023766,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQxNjAyMzc2Ng==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2416023766","actor":{"login":"aarondav","id":1400247,"node_id":"MDQ6VXNlcjE0MDAyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1400247?v=4","gravatar_id":"","url":"https://api.github.com/users/aarondav","html_url":"https://github.com/aarondav","followers_url":"https://api.github.com/users/aarondav/followers","following_url":"https://api.github.com/users/aarondav/following{/other_user}","gists_url":"https://api.github.com/users/aarondav/gists{/gist_id}","starred_url":"https://api.github.com/users/aarondav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aarondav/subscriptions","organizations_url":"https://api.github.com/users/aarondav/orgs","repos_url":"https://api.github.com/users/aarondav/repos","events_url":"https://api.github.com/users/aarondav/events{/privacy}","received_events_url":"https://api.github.com/users/aarondav/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-16T18:29:45Z","performed_via_github_app":null},{"id":2416023767,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0MTYwMjM3Njc=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2416023767","actor":{"login":"aarondav","id":1400247,"node_id":"MDQ6VXNlcjE0MDAyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1400247?v=4","gravatar_id":"","url":"https://api.github.com/users/aarondav","html_url":"https://github.com/aarondav","followers_url":"https://api.github.com/users/aarondav/followers","following_url":"https://api.github.com/users/aarondav/following{/other_user}","gists_url":"https://api.github.com/users/aarondav/gists{/gist_id}","starred_url":"https://api.github.com/users/aarondav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aarondav/subscriptions","organizations_url":"https://api.github.com/users/aarondav/orgs","repos_url":"https://api.github.com/users/aarondav/repos","events_url":"https://api.github.com/users/aarondav/events{/privacy}","received_events_url":"https://api.github.com/users/aarondav/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-16T18:29:45Z","performed_via_github_app":null},{"id":2416023768,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQxNjAyMzc2OA==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2416023768","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-16T18:29:45Z","performed_via_github_app":null},{"id":2416023769,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0MTYwMjM3Njk=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2416023769","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-16T18:29:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/502794129","html_url":"https://github.com/mlflow/mlflow/issues/1460#issuecomment-502794129","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1460","id":502794129,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjc5NDEyOQ==","user":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false},"created_at":"2019-06-17T18:16:02Z","updated_at":"2019-06-17T18:16:02Z","author_association":"CONTRIBUTOR","body":"Hi @eedeleon. thanks for the report!\r\n\r\nThe current code should work for nested artifacts.\r\n Do you have an example that we can repro? \r\nI have just tried it with the following inputs and all worked:\r\n\r\n```\r\n...\r\nmlflow.log_artifact(\"aaa.txt\", \"some/nested/artifact/path\")\r\nfrom mlflow.tracking.artifact_utils import _download_artifact_from_uri\r\n```\r\n\r\na) \r\n```\r\nos.system(\"find %s\" % _download_artifact_from_uri(\"runs:/58cc61f0b8354f68ab4f2f57505c8f24/some/nested/\"))\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested/artifact\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested/artifact/path\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested/artifact/path/aaa.txt\r\n0\r\n```\r\n\r\nb)\r\n```\r\nos.system(\"find %s\" % _download_artifact_from_uri(\"runs:/58cc61f0b8354f68ab4f2f57505c8f24/some/nested/artifact/path\"))\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested/artifact/path\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested/artifact/path/aaa.txt\r\n```\r\n\r\nc) \r\n```\r\nos.system(\"find %s\" % _download_artifact_from_uri(\"runs:/58cc61f0b8354f68ab4f2f57505c8f24/some/nested/artifact/path/\"))\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested/artifact/path\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested/artifact/path/aaa.txt\r\n0\r\n```\r\n\r\nd)\r\n```\r\nos.system(\"find %s\" % _download_artifact_from_uri(\"runs:/58cc61f0b8354f68ab4f2f57505c8f24/some/nested/artifact/path/aaa.txt\"))\r\n/Users/tomas/dev/mlflow-prototype/mlruns/0/58cc61f0b8354f68ab4f2f57505c8f24/artifacts/some/nested/artifact/path/aaa.txt\r\n0\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/502794129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasatdatabricks","id":33237569,"node_id":"MDQ6VXNlcjMzMjM3NTY5","avatar_url":"https://avatars.githubusercontent.com/u/33237569?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasatdatabricks","html_url":"https://github.com/tomasatdatabricks","followers_url":"https://api.github.com/users/tomasatdatabricks/followers","following_url":"https://api.github.com/users/tomasatdatabricks/following{/other_user}","gists_url":"https://api.github.com/users/tomasatdatabricks/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasatdatabricks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasatdatabricks/subscriptions","organizations_url":"https://api.github.com/users/tomasatdatabricks/orgs","repos_url":"https://api.github.com/users/tomasatdatabricks/repos","events_url":"https://api.github.com/users/tomasatdatabricks/events{/privacy}","received_events_url":"https://api.github.com/users/tomasatdatabricks/received_events","type":"User","site_admin":false}},{"id":2418473295,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQxODQ3MzI5NQ==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2418473295","actor":{"login":"eedeleon","id":31962564,"node_id":"MDQ6VXNlcjMxOTYyNTY0","avatar_url":"https://avatars.githubusercontent.com/u/31962564?v=4","gravatar_id":"","url":"https://api.github.com/users/eedeleon","html_url":"https://github.com/eedeleon","followers_url":"https://api.github.com/users/eedeleon/followers","following_url":"https://api.github.com/users/eedeleon/following{/other_user}","gists_url":"https://api.github.com/users/eedeleon/gists{/gist_id}","starred_url":"https://api.github.com/users/eedeleon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eedeleon/subscriptions","organizations_url":"https://api.github.com/users/eedeleon/orgs","repos_url":"https://api.github.com/users/eedeleon/repos","events_url":"https://api.github.com/users/eedeleon/events{/privacy}","received_events_url":"https://api.github.com/users/eedeleon/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-17T18:16:02Z","performed_via_github_app":null},{"id":2418473297,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0MTg0NzMyOTc=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2418473297","actor":{"login":"eedeleon","id":31962564,"node_id":"MDQ6VXNlcjMxOTYyNTY0","avatar_url":"https://avatars.githubusercontent.com/u/31962564?v=4","gravatar_id":"","url":"https://api.github.com/users/eedeleon","html_url":"https://github.com/eedeleon","followers_url":"https://api.github.com/users/eedeleon/followers","following_url":"https://api.github.com/users/eedeleon/following{/other_user}","gists_url":"https://api.github.com/users/eedeleon/gists{/gist_id}","starred_url":"https://api.github.com/users/eedeleon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eedeleon/subscriptions","organizations_url":"https://api.github.com/users/eedeleon/orgs","repos_url":"https://api.github.com/users/eedeleon/repos","events_url":"https://api.github.com/users/eedeleon/events{/privacy}","received_events_url":"https://api.github.com/users/eedeleon/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-17T18:16:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/515609567","html_url":"https://github.com/mlflow/mlflow/issues/1460#issuecomment-515609567","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1460","id":515609567,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTYwOTU2Nw==","user":{"login":"aarondav","id":1400247,"node_id":"MDQ6VXNlcjE0MDAyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1400247?v=4","gravatar_id":"","url":"https://api.github.com/users/aarondav","html_url":"https://github.com/aarondav","followers_url":"https://api.github.com/users/aarondav/followers","following_url":"https://api.github.com/users/aarondav/following{/other_user}","gists_url":"https://api.github.com/users/aarondav/gists{/gist_id}","starred_url":"https://api.github.com/users/aarondav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aarondav/subscriptions","organizations_url":"https://api.github.com/users/aarondav/orgs","repos_url":"https://api.github.com/users/aarondav/repos","events_url":"https://api.github.com/users/aarondav/events{/privacy}","received_events_url":"https://api.github.com/users/aarondav/received_events","type":"User","site_admin":false},"created_at":"2019-07-26T21:48:40Z","updated_at":"2019-07-26T21:48:40Z","author_association":"CONTRIBUTOR","body":"Closing for lack of repro -- please reopen if you find one!","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/515609567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aarondav","id":1400247,"node_id":"MDQ6VXNlcjE0MDAyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1400247?v=4","gravatar_id":"","url":"https://api.github.com/users/aarondav","html_url":"https://github.com/aarondav","followers_url":"https://api.github.com/users/aarondav/followers","following_url":"https://api.github.com/users/aarondav/following{/other_user}","gists_url":"https://api.github.com/users/aarondav/gists{/gist_id}","starred_url":"https://api.github.com/users/aarondav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aarondav/subscriptions","organizations_url":"https://api.github.com/users/aarondav/orgs","repos_url":"https://api.github.com/users/aarondav/repos","events_url":"https://api.github.com/users/aarondav/events{/privacy}","received_events_url":"https://api.github.com/users/aarondav/received_events","type":"User","site_admin":false}},{"id":2513784083,"node_id":"MDExOkNsb3NlZEV2ZW50MjUxMzc4NDA4Mw==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2513784083","actor":{"login":"aarondav","id":1400247,"node_id":"MDQ6VXNlcjE0MDAyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1400247?v=4","gravatar_id":"","url":"https://api.github.com/users/aarondav","html_url":"https://github.com/aarondav","followers_url":"https://api.github.com/users/aarondav/followers","following_url":"https://api.github.com/users/aarondav/following{/other_user}","gists_url":"https://api.github.com/users/aarondav/gists{/gist_id}","starred_url":"https://api.github.com/users/aarondav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aarondav/subscriptions","organizations_url":"https://api.github.com/users/aarondav/orgs","repos_url":"https://api.github.com/users/aarondav/repos","events_url":"https://api.github.com/users/aarondav/events{/privacy}","received_events_url":"https://api.github.com/users/aarondav/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-07-26T21:48:40Z","state_reason":null,"performed_via_github_app":null}]