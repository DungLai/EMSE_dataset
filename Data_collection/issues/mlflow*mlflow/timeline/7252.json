[{"id":7738882749,"node_id":"LE_lADOCB5Jx85Vk_vJzwAAAAHNRfq9","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7738882749","actor":{"login":"tamis-laan","id":3178666,"node_id":"MDQ6VXNlcjMxNzg2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/3178666?v=4","gravatar_id":"","url":"https://api.github.com/users/tamis-laan","html_url":"https://github.com/tamis-laan","followers_url":"https://api.github.com/users/tamis-laan/followers","following_url":"https://api.github.com/users/tamis-laan/following{/other_user}","gists_url":"https://api.github.com/users/tamis-laan/gists{/gist_id}","starred_url":"https://api.github.com/users/tamis-laan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamis-laan/subscriptions","organizations_url":"https://api.github.com/users/tamis-laan/orgs","repos_url":"https://api.github.com/users/tamis-laan/repos","events_url":"https://api.github.com/users/tamis-laan/events{/privacy}","received_events_url":"https://api.github.com/users/tamis-laan/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-04T09:05:06Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":7738884654,"node_id":"LE_lADOCB5Jx85Vk_vJzwAAAAHNRgIu","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7738884654","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-04T09:05:21Z","label":{"name":"area/artifacts","color":"48eabc"},"performed_via_github_app":null},{"id":7738884658,"node_id":"LE_lADOCB5Jx85Vk_vJzwAAAAHNRgIy","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7738884658","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-04T09:05:21Z","label":{"name":"area/model-registry","color":"48eabc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1303149208","html_url":"https://github.com/mlflow/mlflow/issues/7252#issuecomment-1303149208","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/7252","id":1303149208,"node_id":"IC_kwDOCB5Jx85NrHqY","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"created_at":"2022-11-04T09:08:13Z","updated_at":"2022-11-04T09:08:13Z","author_association":"MEMBER","body":"It's not an error, but a warning. You can insert the following code to see what went wrong:\r\n\r\n```python\r\nimport logging\r\n\r\nlogging.getLogger(\"mlflow\").setLevel(logging.DEBUG)\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1303149208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1303151052","html_url":"https://github.com/mlflow/mlflow/issues/7252#issuecomment-1303151052","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/7252","id":1303151052,"node_id":"IC_kwDOCB5Jx85NrIHM","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"created_at":"2022-11-04T09:10:07Z","updated_at":"2022-11-04T09:10:20Z","author_association":"MEMBER","body":"If you want to disable the requirement inference, you can explicitly specify `pip_requirements`  in `mlflow.pytorch.log_model`:\r\n\r\n```\r\nmlflow.pytorch.log_model(..., pip_requirements=[\"torch==x.y.z\"])\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1303151052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1303611136","html_url":"https://github.com/mlflow/mlflow/issues/7252#issuecomment-1303611136","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/7252","id":1303611136,"node_id":"IC_kwDOCB5Jx85Ns4cA","user":{"login":"tamis-laan","id":3178666,"node_id":"MDQ6VXNlcjMxNzg2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/3178666?v=4","gravatar_id":"","url":"https://api.github.com/users/tamis-laan","html_url":"https://github.com/tamis-laan","followers_url":"https://api.github.com/users/tamis-laan/followers","following_url":"https://api.github.com/users/tamis-laan/following{/other_user}","gists_url":"https://api.github.com/users/tamis-laan/gists{/gist_id}","starred_url":"https://api.github.com/users/tamis-laan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamis-laan/subscriptions","organizations_url":"https://api.github.com/users/tamis-laan/orgs","repos_url":"https://api.github.com/users/tamis-laan/repos","events_url":"https://api.github.com/users/tamis-laan/events{/privacy}","received_events_url":"https://api.github.com/users/tamis-laan/received_events","type":"User","site_admin":false},"created_at":"2022-11-04T14:08:05Z","updated_at":"2022-11-04T14:12:48Z","author_association":"NONE","body":"When enabling logging I get the following:\r\n``` \r\n2022/11/04 15:07:41 WARNING mlflow.utils.environment: Encountered an unexpected error while inferring pip requirements (model URI: /tmp/tmpi_ra8juw/model/data, flavor: pytorch), fall back to return ['torch==1.13.0', 'cloudpickle==2.2.0']. Set logging level to DEBUG to see the full traceback.\r\n2022/11/04 15:07:41 DEBUG mlflow.utils.environment:\r\nTraceback (most recent call last):\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/utils/environment.py\", line 378, in infer_pip_requirements\r\n    return _infer_requirements(model_uri, flavor)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/utils/requirements_utils.py\", line 381, in _infer_requirements\r\n    modules = _capture_imported_modules(model_uri, flavor)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/utils/requirements_utils.py\", line 284, in _capture_imported_modules\r\n    _run_command(\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/utils/requirements_utils.py\", line 223, in _run_command\r\n    raise MlflowException(msg)\r\nmlflow.exceptions.MlflowException: Encountered an unexpected error while running ['/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/bin/python', '/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/utils/_capture_modules.py', '--model-path', '/tmp/tmpi_ra8juw/model/data', '--flavor', 'pytorch', '--output-file', '/tmp/tmpk8miqpnd/imported_modules.txt', '--sys-path', '[\"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/bin\", \"/$JOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/git/ext/gitdb\", \"/usr/lib/python310.zip\", \"/usr/lib/python3.10\", \"/usr/lib/python3.10/lib-dynload\", \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages\", \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/gitdb/ext/smmap\"]']\r\nexit status: 1\r\nstdout:\r\nstderr: Traceback (most recent call last):\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/utils/_capture_modules.py\", line 181, in <module>\r\n    main()\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/utils/_capture_modules.py\", line 162, in main\r\n    importlib.import_module(f\"mlflow.{flavor}\")._load_pyfunc(model_path)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/pytorch/__init__.py\", line 735, in _load_pyfunc\r\n    return _PyTorchWrapper(_load_model(path, **kwargs))\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/pytorch/__init__.py\", line 643, in _load_model\r\n    return torch.load(model_path, **kwargs)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/torch/serialization.py\", line 789, in load\r\n    return _load(opened_zipfile, map_location, pickle_module, **pickle_load_args)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/torch/serialization.py\", line 1131, in _load\r\n    result = unpickler.load()\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/torch/serialization.py\", line 1124, in find_class\r\n    return super().find_class(mod_name, name)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/utils/_capture_modules.py\", line 46, in wrapper\r\n    return original(name, globals, locals, fromlist, level)\r\nModuleNotFoundError: No module named 'main'\r\n\r\n/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n```\r\n\r\n\r\nI also have the following problem when trying to load the model:\r\n``` python\r\nmlflow.pyfunc.load_model(model_uri=path)\r\n```\r\n```\r\nTraceback (most recent call last):\r\n  File \"/$HOME/dev/ai-template/./deployment/main.py\", line 39, in <module>\r\n    model = download_model(args.model_path)\r\n  File \"/$HOME/dev/ai-template/./deployment/main.py\", line 33, in download_model\r\n    return mlflow.pyfunc.load_model(model_uri=path)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/pyfunc/__init__.py\", line 505, in load_model\r\n    model_impl = importlib.import_module(conf[MAIN])._load_pyfunc(data_path)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/pytorch/__init__.py\", line 735, in _load_pyfunc\r\n    return _PyTorchWrapper(_load_model(path, **kwargs))\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/mlflow/pytorch/__init__.py\", line 643, in _load_model\r\n    return torch.load(model_path, **kwargs)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/torch/serialization.py\", line 789, in load\r\n    return _load(opened_zipfile, map_location, pickle_module, **pickle_load_args)\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/torch/serialization.py\", line 1131, in _load\r\n    result = unpickler.load()\r\n  File \"/$HOME/.local/share/virtualenvs/ai-template-ekyeoNrO/lib/python3.10/site-packages/torch/serialization.py\", line 1124, in find_class\r\n    return super().find_class(mod_name, name)\r\nAttributeError: Can't get attribute 'Model' on <module 'main' from '/$HOME/dev/ai-template/deployment/main.py'>\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1303611136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tamis-laan","id":3178666,"node_id":"MDQ6VXNlcjMxNzg2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/3178666?v=4","gravatar_id":"","url":"https://api.github.com/users/tamis-laan","html_url":"https://github.com/tamis-laan","followers_url":"https://api.github.com/users/tamis-laan/followers","following_url":"https://api.github.com/users/tamis-laan/following{/other_user}","gists_url":"https://api.github.com/users/tamis-laan/gists{/gist_id}","starred_url":"https://api.github.com/users/tamis-laan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamis-laan/subscriptions","organizations_url":"https://api.github.com/users/tamis-laan/orgs","repos_url":"https://api.github.com/users/tamis-laan/repos","events_url":"https://api.github.com/users/tamis-laan/events{/privacy}","received_events_url":"https://api.github.com/users/tamis-laan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1306113340","html_url":"https://github.com/mlflow/mlflow/issues/7252#issuecomment-1306113340","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/7252","id":1306113340,"node_id":"IC_kwDOCB5Jx85N2bU8","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-11-07T19:56:21Z","updated_at":"2022-11-07T19:56:21Z","author_association":"COLLABORATOR","body":"This isn't exactly an MLflow problem. The exception that you're getting is that you don't have an executable entry point in your code. Please refactor your implementation and provide an inheritable entry point to your class so that the partial function can access the `.predict()` method.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1306113340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"id":7755859903,"node_id":"CE_lADOCB5Jx85Vk_vJzwAAAAHOSQe_","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7755859903","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-11-07T19:56:21Z","state_reason":null,"performed_via_github_app":null}]