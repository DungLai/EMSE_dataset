[{"id":6785047057,"node_id":"LE_lADOCB5Jx85LiupczwAAAAGUa5oR","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6785047057","actor":{"login":"bneijt","id":61703,"node_id":"MDQ6VXNlcjYxNzAz","avatar_url":"https://avatars.githubusercontent.com/u/61703?v=4","gravatar_id":"","url":"https://api.github.com/users/bneijt","html_url":"https://github.com/bneijt","followers_url":"https://api.github.com/users/bneijt/followers","following_url":"https://api.github.com/users/bneijt/following{/other_user}","gists_url":"https://api.github.com/users/bneijt/gists{/gist_id}","starred_url":"https://api.github.com/users/bneijt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bneijt/subscriptions","organizations_url":"https://api.github.com/users/bneijt/orgs","repos_url":"https://api.github.com/users/bneijt/repos","events_url":"https://api.github.com/users/bneijt/events{/privacy}","received_events_url":"https://api.github.com/users/bneijt/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-10T11:03:04Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":6785048808,"node_id":"LE_lADOCB5Jx85LiupczwAAAAGUa6Do","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6785048808","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-10T11:03:24Z","label":{"name":"area/build","color":"48eabc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1152255920","html_url":"https://github.com/mlflow/mlflow/issues/6045#issuecomment-1152255920","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6045","id":1152255920,"node_id":"IC_kwDOCB5Jx85Ergew","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"created_at":"2022-06-10T11:20:46Z","updated_at":"2022-06-10T11:20:57Z","author_association":"MEMBER","body":"Hi @bneijt, thanks for reporting this issue. Can you fix this issue?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1152255920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false}},{"id":6785143447,"node_id":"MEE_lADOCB5Jx85LiupczwAAAAGUbRKX","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6785143447","actor":{"login":"bneijt","id":61703,"node_id":"MDQ6VXNlcjYxNzAz","avatar_url":"https://avatars.githubusercontent.com/u/61703?v=4","gravatar_id":"","url":"https://api.github.com/users/bneijt","html_url":"https://github.com/bneijt","followers_url":"https://api.github.com/users/bneijt/followers","following_url":"https://api.github.com/users/bneijt/following{/other_user}","gists_url":"https://api.github.com/users/bneijt/gists{/gist_id}","starred_url":"https://api.github.com/users/bneijt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bneijt/subscriptions","organizations_url":"https://api.github.com/users/bneijt/orgs","repos_url":"https://api.github.com/users/bneijt/repos","events_url":"https://api.github.com/users/bneijt/events{/privacy}","received_events_url":"https://api.github.com/users/bneijt/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-10T11:20:46Z","performed_via_github_app":null},{"id":6785143452,"node_id":"SE_lADOCB5Jx85LiupczwAAAAGUbRKc","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6785143452","actor":{"login":"bneijt","id":61703,"node_id":"MDQ6VXNlcjYxNzAz","avatar_url":"https://avatars.githubusercontent.com/u/61703?v=4","gravatar_id":"","url":"https://api.github.com/users/bneijt","html_url":"https://github.com/bneijt","followers_url":"https://api.github.com/users/bneijt/followers","following_url":"https://api.github.com/users/bneijt/following{/other_user}","gists_url":"https://api.github.com/users/bneijt/gists{/gist_id}","starred_url":"https://api.github.com/users/bneijt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bneijt/subscriptions","organizations_url":"https://api.github.com/users/bneijt/orgs","repos_url":"https://api.github.com/users/bneijt/repos","events_url":"https://api.github.com/users/bneijt/events{/privacy}","received_events_url":"https://api.github.com/users/bneijt/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-10T11:20:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1152259401","html_url":"https://github.com/mlflow/mlflow/issues/6045#issuecomment-1152259401","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6045","id":1152259401,"node_id":"IC_kwDOCB5Jx85ErhVJ","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"created_at":"2022-06-10T11:25:27Z","updated_at":"2022-06-10T11:25:27Z","author_association":"MEMBER","body":"We can fix `mlflow/models/container/__init__.py` like this:\r\n\r\n```diff\r\ndiff --git a/mlflow/models/container/__init__.py b/mlflow/models/container/__init__.py\r\nindex 1c56997dd..0f7b58b41 100644\r\n--- a/mlflow/models/container/__init__.py\r\n+++ b/mlflow/models/container/__init__.py\r\n@@ -94,7 +94,7 @@ def _install_pyfunc_deps(\r\n     dependencies into the environment - MLflow is not installed as it's not available via conda.\r\n     \"\"\"\r\n     # If model is a pyfunc model, create its conda env (even if it also has mleap flavor)\r\n-    has_env = False\r\n+    activate_cmd = []\r\n     if model_path:\r\n         model_config_path = os.path.join(model_path, MLMODEL_FILE_NAME)\r\n         model = Model.load(model_config_path)\r\n@@ -116,12 +116,13 @@ def _install_pyfunc_deps(\r\n                 if Popen([\"bash\", \"-c\", conda_create_model_env]).wait() != 0:\r\n                     raise Exception(\"Failed to create model environment.\")\r\n                 env_activate_cmd = \"source /miniconda/bin/activate custom_env\"\r\n+                activate_cmd = [env_activate_cmd]\r\n             elif env_manager == em.VIRTUALENV:\r\n                 env_activate_cmd = _get_or_create_virtualenv(model_path)\r\n                 path = env_activate_cmd.split(\" \")[-1]\r\n                 os.symlink(path, \"/opt/activate\")\r\n-            has_env = True\r\n-    activate_cmd = [env_activate_cmd] if has_env else []\r\n+                activate_cmd = [env_activate_cmd]\r\n+\r\n     # NB: install gunicorn[gevent] from pip rather than from conda because gunicorn is already\r\n     # dependency of mlflow on pip and we expect mlflow to be part of the environment.\r\n     server_deps = [\"gunicorn[gevent]\"]\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1152259401/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false}},{"id":6785264820,"node_id":"REFE_lADOCB5Jx85LiupczwAAAAGUbuy0","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6785264820","actor":{"login":"bneijt","id":61703,"node_id":"MDQ6VXNlcjYxNzAz","avatar_url":"https://avatars.githubusercontent.com/u/61703?v=4","gravatar_id":"","url":"https://api.github.com/users/bneijt","html_url":"https://github.com/bneijt","followers_url":"https://api.github.com/users/bneijt/followers","following_url":"https://api.github.com/users/bneijt/following{/other_user}","gists_url":"https://api.github.com/users/bneijt/gists{/gist_id}","starred_url":"https://api.github.com/users/bneijt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bneijt/subscriptions","organizations_url":"https://api.github.com/users/bneijt/orgs","repos_url":"https://api.github.com/users/bneijt/repos","events_url":"https://api.github.com/users/bneijt/events{/privacy}","received_events_url":"https://api.github.com/users/bneijt/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"fcbe1ecb5350163e0a897fc7b76edb8cd738b9b8","commit_url":"https://api.github.com/repos/bneijt/mlflow/commits/fcbe1ecb5350163e0a897fc7b76edb8cd738b9b8","created_at":"2022-06-10T11:43:02Z","performed_via_github_app":null},{"id":6788495107,"node_id":"REFE_lADOCB5Jx85LiupczwAAAAGUoDcD","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6788495107","actor":{"login":"bneijt","id":61703,"node_id":"MDQ6VXNlcjYxNzAz","avatar_url":"https://avatars.githubusercontent.com/u/61703?v=4","gravatar_id":"","url":"https://api.github.com/users/bneijt","html_url":"https://github.com/bneijt","followers_url":"https://api.github.com/users/bneijt/followers","following_url":"https://api.github.com/users/bneijt/following{/other_user}","gists_url":"https://api.github.com/users/bneijt/gists{/gist_id}","starred_url":"https://api.github.com/users/bneijt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bneijt/subscriptions","organizations_url":"https://api.github.com/users/bneijt/orgs","repos_url":"https://api.github.com/users/bneijt/repos","events_url":"https://api.github.com/users/bneijt/events{/privacy}","received_events_url":"https://api.github.com/users/bneijt/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"6c36a97d7f34e77fa7b6c3ecc7633e202749d827","commit_url":"https://api.github.com/repos/bneijt/mlflow/commits/6c36a97d7f34e77fa7b6c3ecc7633e202749d827","created_at":"2022-06-10T20:12:32Z","performed_via_github_app":null},{"id":6789582789,"node_id":"CE_lADOCB5Jx85LiupczwAAAAGUsM_F","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6789582789","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-06-11T05:08:19Z","state_reason":null,"performed_via_github_app":null},{"id":6789582855,"node_id":"REFE_lADOCB5Jx85LiupczwAAAAGUsNAH","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6789582855","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"be0ef13130ce52a4f3440cf883dfdda52481e1f0","commit_url":"https://api.github.com/repos/mlflow/mlflow/commits/be0ef13130ce52a4f3440cf883dfdda52481e1f0","created_at":"2022-06-11T05:08:23Z","performed_via_github_app":null},{"id":7071502404,"node_id":"REFE_lADOCB5Jx85LiupczwAAAAGlfpBE","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7071502404","actor":{"login":"postrational","id":4430709,"node_id":"MDQ6VXNlcjQ0MzA3MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4430709?v=4","gravatar_id":"","url":"https://api.github.com/users/postrational","html_url":"https://github.com/postrational","followers_url":"https://api.github.com/users/postrational/followers","following_url":"https://api.github.com/users/postrational/following{/other_user}","gists_url":"https://api.github.com/users/postrational/gists{/gist_id}","starred_url":"https://api.github.com/users/postrational/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/postrational/subscriptions","organizations_url":"https://api.github.com/users/postrational/orgs","repos_url":"https://api.github.com/users/postrational/repos","events_url":"https://api.github.com/users/postrational/events{/privacy}","received_events_url":"https://api.github.com/users/postrational/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"6d200c4eab4687f347cd7f66fec9834a816e1700","commit_url":"https://api.github.com/repos/postrational/mlflow/commits/6d200c4eab4687f347cd7f66fec9834a816e1700","created_at":"2022-07-27T09:58:16Z","performed_via_github_app":null}]