[{"id":6693175926,"node_id":"LE_lADOCB5Jx85KjrAtzwAAAAGO8cJ2","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6693175926","actor":{"login":"shenwpo","id":63697685,"node_id":"MDQ6VXNlcjYzNjk3Njg1","avatar_url":"https://avatars.githubusercontent.com/u/63697685?v=4","gravatar_id":"","url":"https://api.github.com/users/shenwpo","html_url":"https://github.com/shenwpo","followers_url":"https://api.github.com/users/shenwpo/followers","following_url":"https://api.github.com/users/shenwpo/following{/other_user}","gists_url":"https://api.github.com/users/shenwpo/gists{/gist_id}","starred_url":"https://api.github.com/users/shenwpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenwpo/subscriptions","organizations_url":"https://api.github.com/users/shenwpo/orgs","repos_url":"https://api.github.com/users/shenwpo/repos","events_url":"https://api.github.com/users/shenwpo/events{/privacy}","received_events_url":"https://api.github.com/users/shenwpo/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-05-27T14:57:44Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1140257960","html_url":"https://github.com/mlflow/mlflow/issues/5963#issuecomment-1140257960","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5963","id":1140257960,"node_id":"IC_kwDOCB5Jx85D9vSo","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"created_at":"2022-05-28T13:03:39Z","updated_at":"2022-05-28T13:05:41Z","author_association":"MEMBER","body":"@shenwpo I found you called `mlflow.end_run()` in [this line](https://github.com/shenwpo/test_mlflow/blob/47fdf86010d4aedca03fe90f3fd5c148a1a3d4db/train.py#L27), which sets the runs status to `FINISHED`.\r\n\r\ndoc for `mlflow.end_run`: https://www.mlflow.org/docs/latest/python_api/mlflow.html#mlflow.end_run","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1140257960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false}},{"id":6697131316,"node_id":"MEE_lADOCB5Jx85KjrAtzwAAAAGPLh00","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6697131316","actor":{"login":"shenwpo","id":63697685,"node_id":"MDQ6VXNlcjYzNjk3Njg1","avatar_url":"https://avatars.githubusercontent.com/u/63697685?v=4","gravatar_id":"","url":"https://api.github.com/users/shenwpo","html_url":"https://github.com/shenwpo","followers_url":"https://api.github.com/users/shenwpo/followers","following_url":"https://api.github.com/users/shenwpo/following{/other_user}","gists_url":"https://api.github.com/users/shenwpo/gists{/gist_id}","starred_url":"https://api.github.com/users/shenwpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenwpo/subscriptions","organizations_url":"https://api.github.com/users/shenwpo/orgs","repos_url":"https://api.github.com/users/shenwpo/repos","events_url":"https://api.github.com/users/shenwpo/events{/privacy}","received_events_url":"https://api.github.com/users/shenwpo/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-28T13:03:39Z","performed_via_github_app":null},{"id":6697131318,"node_id":"SE_lADOCB5Jx85KjrAtzwAAAAGPLh02","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6697131318","actor":{"login":"shenwpo","id":63697685,"node_id":"MDQ6VXNlcjYzNjk3Njg1","avatar_url":"https://avatars.githubusercontent.com/u/63697685?v=4","gravatar_id":"","url":"https://api.github.com/users/shenwpo","html_url":"https://github.com/shenwpo","followers_url":"https://api.github.com/users/shenwpo/followers","following_url":"https://api.github.com/users/shenwpo/following{/other_user}","gists_url":"https://api.github.com/users/shenwpo/gists{/gist_id}","starred_url":"https://api.github.com/users/shenwpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenwpo/subscriptions","organizations_url":"https://api.github.com/users/shenwpo/orgs","repos_url":"https://api.github.com/users/shenwpo/repos","events_url":"https://api.github.com/users/shenwpo/events{/privacy}","received_events_url":"https://api.github.com/users/shenwpo/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-28T13:03:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1140381962","html_url":"https://github.com/mlflow/mlflow/issues/5963#issuecomment-1140381962","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5963","id":1140381962,"node_id":"IC_kwDOCB5Jx85D-NkK","user":{"login":"shenwpo","id":63697685,"node_id":"MDQ6VXNlcjYzNjk3Njg1","avatar_url":"https://avatars.githubusercontent.com/u/63697685?v=4","gravatar_id":"","url":"https://api.github.com/users/shenwpo","html_url":"https://github.com/shenwpo","followers_url":"https://api.github.com/users/shenwpo/followers","following_url":"https://api.github.com/users/shenwpo/following{/other_user}","gists_url":"https://api.github.com/users/shenwpo/gists{/gist_id}","starred_url":"https://api.github.com/users/shenwpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenwpo/subscriptions","organizations_url":"https://api.github.com/users/shenwpo/orgs","repos_url":"https://api.github.com/users/shenwpo/repos","events_url":"https://api.github.com/users/shenwpo/events{/privacy}","received_events_url":"https://api.github.com/users/shenwpo/received_events","type":"User","site_admin":false},"created_at":"2022-05-29T05:43:10Z","updated_at":"2022-05-29T06:13:26Z","author_association":"NONE","body":"> @shenwpo I found you called `mlflow.end_run()` in [this line](https://github.com/shenwpo/test_mlflow/blob/47fdf86010d4aedca03fe90f3fd5c148a1a3d4db/train.py#L27), which sets the runs status to `FINISHED`.\r\n> \r\n> doc for `mlflow.end_run`: https://www.mlflow.org/docs/latest/python_api/mlflow.html#mlflow.end_run\r\n\r\nThanks for replying, I know that. If I didn't call `mlflow.end_run()` I would get `running` status. But how do you get a `failed` state ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1140381962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shenwpo","id":63697685,"node_id":"MDQ6VXNlcjYzNjk3Njg1","avatar_url":"https://avatars.githubusercontent.com/u/63697685?v=4","gravatar_id":"","url":"https://api.github.com/users/shenwpo","html_url":"https://github.com/shenwpo","followers_url":"https://api.github.com/users/shenwpo/followers","following_url":"https://api.github.com/users/shenwpo/following{/other_user}","gists_url":"https://api.github.com/users/shenwpo/gists{/gist_id}","starred_url":"https://api.github.com/users/shenwpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenwpo/subscriptions","organizations_url":"https://api.github.com/users/shenwpo/orgs","repos_url":"https://api.github.com/users/shenwpo/repos","events_url":"https://api.github.com/users/shenwpo/events{/privacy}","received_events_url":"https://api.github.com/users/shenwpo/received_events","type":"User","site_admin":false}},{"id":6697857727,"node_id":"MEE_lADOCB5Jx85KjrAtzwAAAAGPOTK_","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6697857727","actor":{"login":"shenwpo","id":63697685,"node_id":"MDQ6VXNlcjYzNjk3Njg1","avatar_url":"https://avatars.githubusercontent.com/u/63697685?v=4","gravatar_id":"","url":"https://api.github.com/users/shenwpo","html_url":"https://github.com/shenwpo","followers_url":"https://api.github.com/users/shenwpo/followers","following_url":"https://api.github.com/users/shenwpo/following{/other_user}","gists_url":"https://api.github.com/users/shenwpo/gists{/gist_id}","starred_url":"https://api.github.com/users/shenwpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenwpo/subscriptions","organizations_url":"https://api.github.com/users/shenwpo/orgs","repos_url":"https://api.github.com/users/shenwpo/repos","events_url":"https://api.github.com/users/shenwpo/events{/privacy}","received_events_url":"https://api.github.com/users/shenwpo/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-29T05:43:11Z","performed_via_github_app":null},{"id":6697857728,"node_id":"SE_lADOCB5Jx85KjrAtzwAAAAGPOTLA","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6697857728","actor":{"login":"shenwpo","id":63697685,"node_id":"MDQ6VXNlcjYzNjk3Njg1","avatar_url":"https://avatars.githubusercontent.com/u/63697685?v=4","gravatar_id":"","url":"https://api.github.com/users/shenwpo","html_url":"https://github.com/shenwpo","followers_url":"https://api.github.com/users/shenwpo/followers","following_url":"https://api.github.com/users/shenwpo/following{/other_user}","gists_url":"https://api.github.com/users/shenwpo/gists{/gist_id}","starred_url":"https://api.github.com/users/shenwpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenwpo/subscriptions","organizations_url":"https://api.github.com/users/shenwpo/orgs","repos_url":"https://api.github.com/users/shenwpo/repos","events_url":"https://api.github.com/users/shenwpo/events{/privacy}","received_events_url":"https://api.github.com/users/shenwpo/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-29T05:43:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1140385219","html_url":"https://github.com/mlflow/mlflow/issues/5963#issuecomment-1140385219","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5963","id":1140385219,"node_id":"IC_kwDOCB5Jx85D-OXD","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"created_at":"2022-05-29T06:13:08Z","updated_at":"2022-05-29T06:13:08Z","author_association":"MEMBER","body":"You can use `with mlflow.status_run()` to terminate the run with `failed` status.\r\n\r\n```python\r\nimport atexit\r\nimport time\r\nfrom random import random, randint\r\n\r\nimport mlflow\r\n\r\nimport os\r\n\r\n\r\nRUN_ID = None\r\n\r\n\r\ndef train():\r\n    global RUN_ID\r\n    with mlflow.start_run() as run:\r\n        RUN_ID = run.info.run_id\r\n        mlflow.log_param(\"param1\", randint(0, 100))\r\n\r\n        # Log a metric; metrics can be updated throughout the run\r\n        mlflow.log_metric(\"foo\", random())\r\n        mlflow.log_metric(\"foo\", random() + 1)\r\n        mlflow.log_metric(\"foo\", random() + 2)\r\n\r\n        time.sleep(3)\r\n\r\n        # error\r\n        error = 1 / 0\r\n        print(error)\r\n\r\n\r\ndef end_up():\r\n    print(RUN_ID)\r\n    # Check for any active runs\r\n    run = mlflow.get_run(RUN_ID)\r\n    print(\"end_time\", run.info.end_time)\r\n    # status is FINISHED\r\n    print(\"run_id: {}; status: {}\".format(run.info.run_id, run.info.status))\r\n\r\n\r\natexit.register(end_up)\r\n\r\nif __name__ == \"__main__\":\r\n    train()\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1140385219/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false}},{"id":6700310500,"node_id":"CE_lADOCB5Jx85KjrAtzwAAAAGPXp_k","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6700310500","actor":{"login":"shenwpo","id":63697685,"node_id":"MDQ6VXNlcjYzNjk3Njg1","avatar_url":"https://avatars.githubusercontent.com/u/63697685?v=4","gravatar_id":"","url":"https://api.github.com/users/shenwpo","html_url":"https://github.com/shenwpo","followers_url":"https://api.github.com/users/shenwpo/followers","following_url":"https://api.github.com/users/shenwpo/following{/other_user}","gists_url":"https://api.github.com/users/shenwpo/gists{/gist_id}","starred_url":"https://api.github.com/users/shenwpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenwpo/subscriptions","organizations_url":"https://api.github.com/users/shenwpo/orgs","repos_url":"https://api.github.com/users/shenwpo/repos","events_url":"https://api.github.com/users/shenwpo/events{/privacy}","received_events_url":"https://api.github.com/users/shenwpo/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-05-30T06:55:46Z","state_reason":null,"performed_via_github_app":null}]