[{"id":6720178613,"node_id":"LE_lADOCB5Jx85K4TRezwAAAAGQjcm1","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6720178613","actor":{"login":"Jingnan-Jia","id":34941987,"node_id":"MDQ6VXNlcjM0OTQxOTg3","avatar_url":"https://avatars.githubusercontent.com/u/34941987?v=4","gravatar_id":"","url":"https://api.github.com/users/Jingnan-Jia","html_url":"https://github.com/Jingnan-Jia","followers_url":"https://api.github.com/users/Jingnan-Jia/followers","following_url":"https://api.github.com/users/Jingnan-Jia/following{/other_user}","gists_url":"https://api.github.com/users/Jingnan-Jia/gists{/gist_id}","starred_url":"https://api.github.com/users/Jingnan-Jia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jingnan-Jia/subscriptions","organizations_url":"https://api.github.com/users/Jingnan-Jia/orgs","repos_url":"https://api.github.com/users/Jingnan-Jia/repos","events_url":"https://api.github.com/users/Jingnan-Jia/events{/privacy}","received_events_url":"https://api.github.com/users/Jingnan-Jia/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-01T15:21:24Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":6720181053,"node_id":"LE_lADOCB5Jx85K4TRezwAAAAGQjdM9","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6720181053","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-01T15:21:39Z","label":{"name":"area/server-infra","color":"48eabc"},"performed_via_github_app":null},{"id":6720181058,"node_id":"LE_lADOCB5Jx85K4TRezwAAAAGQjdNC","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6720181058","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-01T15:21:39Z","label":{"name":"area/sqlalchemy","color":"ede978"},"performed_via_github_app":null},{"id":6720181061,"node_id":"LE_lADOCB5Jx85K4TRezwAAAAGQjdNF","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6720181061","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-01T15:21:39Z","label":{"name":"area/tracking","color":"48eabc"},"performed_via_github_app":null},{"id":6720185388,"node_id":"RTE_lADOCB5Jx85K4TRezwAAAAGQjeQs","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6720185388","actor":{"login":"Jingnan-Jia","id":34941987,"node_id":"MDQ6VXNlcjM0OTQxOTg3","avatar_url":"https://avatars.githubusercontent.com/u/34941987?v=4","gravatar_id":"","url":"https://api.github.com/users/Jingnan-Jia","html_url":"https://github.com/Jingnan-Jia","followers_url":"https://api.github.com/users/Jingnan-Jia/followers","following_url":"https://api.github.com/users/Jingnan-Jia/following{/other_user}","gists_url":"https://api.github.com/users/Jingnan-Jia/gists{/gist_id}","starred_url":"https://api.github.com/users/Jingnan-Jia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jingnan-Jia/subscriptions","organizations_url":"https://api.github.com/users/Jingnan-Jia/orgs","repos_url":"https://api.github.com/users/Jingnan-Jia/repos","events_url":"https://api.github.com/users/Jingnan-Jia/events{/privacy}","received_events_url":"https://api.github.com/users/Jingnan-Jia/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2022-06-01T15:22:05Z","rename":{"from":"[BUG] multi-thread log_metrics does not work when the script is run several times at the same time.","to":"[BUG] multi-thread log_metrics met 'database is locked' when the script is run several times in a few seconds."},"performed_via_github_app":null},{"id":6720207189,"node_id":"RTE_lADOCB5Jx85K4TRezwAAAAGQjjlV","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6720207189","actor":{"login":"Jingnan-Jia","id":34941987,"node_id":"MDQ6VXNlcjM0OTQxOTg3","avatar_url":"https://avatars.githubusercontent.com/u/34941987?v=4","gravatar_id":"","url":"https://api.github.com/users/Jingnan-Jia","html_url":"https://github.com/Jingnan-Jia","followers_url":"https://api.github.com/users/Jingnan-Jia/followers","following_url":"https://api.github.com/users/Jingnan-Jia/following{/other_user}","gists_url":"https://api.github.com/users/Jingnan-Jia/gists{/gist_id}","starred_url":"https://api.github.com/users/Jingnan-Jia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jingnan-Jia/subscriptions","organizations_url":"https://api.github.com/users/Jingnan-Jia/orgs","repos_url":"https://api.github.com/users/Jingnan-Jia/repos","events_url":"https://api.github.com/users/Jingnan-Jia/events{/privacy}","received_events_url":"https://api.github.com/users/Jingnan-Jia/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2022-06-01T15:24:23Z","rename":{"from":"[BUG] multi-thread log_metrics met 'database is locked' when the script is run several times in a few seconds.","to":"[BUG] multi-thread log_metrics met 'database is locked' when the script is run several times in a few seconds even I have used threading.Lock to make it thread-safe.."},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1148845486","html_url":"https://github.com/mlflow/mlflow/issues/6013#issuecomment-1148845486","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6013","id":1148845486,"node_id":"IC_kwDOCB5Jx85Eef2u","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-06-07T15:43:49Z","updated_at":"2022-06-07T15:43:49Z","author_association":"COLLABORATOR","body":"Your locking context wrapper is only applicable to that kernel's threadpool to ensure that asynchronous thread submission is sequentially locked to prevent contention on the database operations from the perspective of your code. The DB has no visibility into what your code is doing. By spinning up those multiple instances of this program you're negating the functionality of the global lock on the threads from the perspective of the DB. \r\nOut of curiosity, what is the use case that you're working with that requires this level of logging on a continual basis where a retry would be out of the question? If you have sustained levels of insertion throughput what is your plan for handling the rapidly growing size of the tracking server's tables?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1148845486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1149242027","html_url":"https://github.com/mlflow/mlflow/issues/6013#issuecomment-1149242027","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6013","id":1149242027,"node_id":"IC_kwDOCB5Jx85EgAqr","user":{"login":"Jingnan-Jia","id":34941987,"node_id":"MDQ6VXNlcjM0OTQxOTg3","avatar_url":"https://avatars.githubusercontent.com/u/34941987?v=4","gravatar_id":"","url":"https://api.github.com/users/Jingnan-Jia","html_url":"https://github.com/Jingnan-Jia","followers_url":"https://api.github.com/users/Jingnan-Jia/followers","following_url":"https://api.github.com/users/Jingnan-Jia/following{/other_user}","gists_url":"https://api.github.com/users/Jingnan-Jia/gists{/gist_id}","starred_url":"https://api.github.com/users/Jingnan-Jia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jingnan-Jia/subscriptions","organizations_url":"https://api.github.com/users/Jingnan-Jia/orgs","repos_url":"https://api.github.com/users/Jingnan-Jia/repos","events_url":"https://api.github.com/users/Jingnan-Jia/events{/privacy}","received_events_url":"https://api.github.com/users/Jingnan-Jia/received_events","type":"User","site_admin":false},"created_at":"2022-06-07T22:38:58Z","updated_at":"2022-06-07T22:38:58Z","author_association":"CONTRIBUTOR","body":"@BenWilson2  \r\n1. I know that the DB has no visibility into what my code is doing. But **why the DB can work pretty well for multiple instances of this program when I remove the other threadings and only keep the main threading?** (You can try to reproduce it by comment out the 4 threading code)\r\n2. My use case is: I want to to use another seperate threading to monitor my GPU usage every 2 seconds. Because I want to know how much GPU is used during the training of my model.\r\n3. In order to handle the rapidly growing size of the tracking server's tables, I only track the first 10 minutes' GPU usage (I only run the other threadin in the first 10 minutes) which is enough to represent the training requirement on GPU memory/usage in the first epoch.\r\n4. In my real practice, actually I do not need 4 threadigs. I only need 1 or 2 threadings apart from the main thread to monitor my CPU/GPU usage. But even another 1 or 2 threadings will still lead to the similar issue. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1149242027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Jingnan-Jia","id":34941987,"node_id":"MDQ6VXNlcjM0OTQxOTg3","avatar_url":"https://avatars.githubusercontent.com/u/34941987?v=4","gravatar_id":"","url":"https://api.github.com/users/Jingnan-Jia","html_url":"https://github.com/Jingnan-Jia","followers_url":"https://api.github.com/users/Jingnan-Jia/followers","following_url":"https://api.github.com/users/Jingnan-Jia/following{/other_user}","gists_url":"https://api.github.com/users/Jingnan-Jia/gists{/gist_id}","starred_url":"https://api.github.com/users/Jingnan-Jia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jingnan-Jia/subscriptions","organizations_url":"https://api.github.com/users/Jingnan-Jia/orgs","repos_url":"https://api.github.com/users/Jingnan-Jia/repos","events_url":"https://api.github.com/users/Jingnan-Jia/events{/privacy}","received_events_url":"https://api.github.com/users/Jingnan-Jia/received_events","type":"User","site_admin":false}},{"id":6765210141,"node_id":"MEE_lADOCB5Jx85K4TRezwAAAAGTPOod","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6765210141","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-07T22:38:58Z","performed_via_github_app":null},{"id":6765210146,"node_id":"SE_lADOCB5Jx85K4TRezwAAAAGTPOoi","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6765210146","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-07T22:38:58Z","performed_via_github_app":null}]