[{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/475650454","html_url":"https://github.com/mlflow/mlflow/issues/1015#issuecomment-475650454","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1015","id":475650454,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTY1MDQ1NA==","user":{"login":"yassineAlouini","id":8986994,"node_id":"MDQ6VXNlcjg5ODY5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8986994?v=4","gravatar_id":"","url":"https://api.github.com/users/yassineAlouini","html_url":"https://github.com/yassineAlouini","followers_url":"https://api.github.com/users/yassineAlouini/followers","following_url":"https://api.github.com/users/yassineAlouini/following{/other_user}","gists_url":"https://api.github.com/users/yassineAlouini/gists{/gist_id}","starred_url":"https://api.github.com/users/yassineAlouini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yassineAlouini/subscriptions","organizations_url":"https://api.github.com/users/yassineAlouini/orgs","repos_url":"https://api.github.com/users/yassineAlouini/repos","events_url":"https://api.github.com/users/yassineAlouini/events{/privacy}","received_events_url":"https://api.github.com/users/yassineAlouini/received_events","type":"User","site_admin":false},"created_at":"2019-03-22T14:50:32Z","updated_at":"2019-03-22T14:50:32Z","author_association":"CONTRIBUTOR","body":"That would be a very useful features indeed. I have used the `pyfunc serve` CLI but due to the single-threaded nature of the flask server, it isn't a viable solution for production. \r\nMaking this scoring server more production-ready will be very appreciated. üëç ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/475650454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yassineAlouini","id":8986994,"node_id":"MDQ6VXNlcjg5ODY5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8986994?v=4","gravatar_id":"","url":"https://api.github.com/users/yassineAlouini","html_url":"https://github.com/yassineAlouini","followers_url":"https://api.github.com/users/yassineAlouini/followers","following_url":"https://api.github.com/users/yassineAlouini/following{/other_user}","gists_url":"https://api.github.com/users/yassineAlouini/gists{/gist_id}","starred_url":"https://api.github.com/users/yassineAlouini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yassineAlouini/subscriptions","organizations_url":"https://api.github.com/users/yassineAlouini/orgs","repos_url":"https://api.github.com/users/yassineAlouini/repos","events_url":"https://api.github.com/users/yassineAlouini/events{/privacy}","received_events_url":"https://api.github.com/users/yassineAlouini/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/475657658","html_url":"https://github.com/mlflow/mlflow/issues/1015#issuecomment-475657658","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1015","id":475657658,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTY1NzY1OA==","user":{"login":"avinashraghuthu","id":4524702,"node_id":"MDQ6VXNlcjQ1MjQ3MDI=","avatar_url":"https://avatars.githubusercontent.com/u/4524702?v=4","gravatar_id":"","url":"https://api.github.com/users/avinashraghuthu","html_url":"https://github.com/avinashraghuthu","followers_url":"https://api.github.com/users/avinashraghuthu/followers","following_url":"https://api.github.com/users/avinashraghuthu/following{/other_user}","gists_url":"https://api.github.com/users/avinashraghuthu/gists{/gist_id}","starred_url":"https://api.github.com/users/avinashraghuthu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avinashraghuthu/subscriptions","organizations_url":"https://api.github.com/users/avinashraghuthu/orgs","repos_url":"https://api.github.com/users/avinashraghuthu/repos","events_url":"https://api.github.com/users/avinashraghuthu/events{/privacy}","received_events_url":"https://api.github.com/users/avinashraghuthu/received_events","type":"User","site_admin":false},"created_at":"2019-03-22T15:09:18Z","updated_at":"2019-03-22T15:09:53Z","author_association":"CONTRIBUTOR","body":"I am currently working on this one.I have looked into the code.Unlike mlflow UI and tracking,for model serving we are creating new conda env based on user defined conda.yaml file or default conda.env configuration for model deployment in a new process.So we need to add gunicorn installation at time of creation of this conda env.I will try to finish as soon as possible and raise a PR for the same.\r\n\r\nPlease let me know if I miss any.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/475657658/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"avinashraghuthu","id":4524702,"node_id":"MDQ6VXNlcjQ1MjQ3MDI=","avatar_url":"https://avatars.githubusercontent.com/u/4524702?v=4","gravatar_id":"","url":"https://api.github.com/users/avinashraghuthu","html_url":"https://github.com/avinashraghuthu","followers_url":"https://api.github.com/users/avinashraghuthu/followers","following_url":"https://api.github.com/users/avinashraghuthu/following{/other_user}","gists_url":"https://api.github.com/users/avinashraghuthu/gists{/gist_id}","starred_url":"https://api.github.com/users/avinashraghuthu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avinashraghuthu/subscriptions","organizations_url":"https://api.github.com/users/avinashraghuthu/orgs","repos_url":"https://api.github.com/users/avinashraghuthu/repos","events_url":"https://api.github.com/users/avinashraghuthu/events{/privacy}","received_events_url":"https://api.github.com/users/avinashraghuthu/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/475659836","html_url":"https://github.com/mlflow/mlflow/issues/1015#issuecomment-475659836","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1015","id":475659836,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTY1OTgzNg==","user":{"login":"yassineAlouini","id":8986994,"node_id":"MDQ6VXNlcjg5ODY5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8986994?v=4","gravatar_id":"","url":"https://api.github.com/users/yassineAlouini","html_url":"https://github.com/yassineAlouini","followers_url":"https://api.github.com/users/yassineAlouini/followers","following_url":"https://api.github.com/users/yassineAlouini/following{/other_user}","gists_url":"https://api.github.com/users/yassineAlouini/gists{/gist_id}","starred_url":"https://api.github.com/users/yassineAlouini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yassineAlouini/subscriptions","organizations_url":"https://api.github.com/users/yassineAlouini/orgs","repos_url":"https://api.github.com/users/yassineAlouini/repos","events_url":"https://api.github.com/users/yassineAlouini/events{/privacy}","received_events_url":"https://api.github.com/users/yassineAlouini/received_events","type":"User","site_admin":false},"created_at":"2019-03-22T15:14:52Z","updated_at":"2019-03-22T15:14:52Z","author_association":"CONTRIBUTOR","body":"Awesome, that would be great. üëç ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/475659836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yassineAlouini","id":8986994,"node_id":"MDQ6VXNlcjg5ODY5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8986994?v=4","gravatar_id":"","url":"https://api.github.com/users/yassineAlouini","html_url":"https://github.com/yassineAlouini","followers_url":"https://api.github.com/users/yassineAlouini/followers","following_url":"https://api.github.com/users/yassineAlouini/following{/other_user}","gists_url":"https://api.github.com/users/yassineAlouini/gists{/gist_id}","starred_url":"https://api.github.com/users/yassineAlouini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yassineAlouini/subscriptions","organizations_url":"https://api.github.com/users/yassineAlouini/orgs","repos_url":"https://api.github.com/users/yassineAlouini/repos","events_url":"https://api.github.com/users/yassineAlouini/events{/privacy}","received_events_url":"https://api.github.com/users/yassineAlouini/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/504336751","html_url":"https://github.com/mlflow/mlflow/issues/1015#issuecomment-504336751","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1015","id":504336751,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDMzNjc1MQ==","user":{"login":"avinashraghuthu","id":4524702,"node_id":"MDQ6VXNlcjQ1MjQ3MDI=","avatar_url":"https://avatars.githubusercontent.com/u/4524702?v=4","gravatar_id":"","url":"https://api.github.com/users/avinashraghuthu","html_url":"https://github.com/avinashraghuthu","followers_url":"https://api.github.com/users/avinashraghuthu/followers","following_url":"https://api.github.com/users/avinashraghuthu/following{/other_user}","gists_url":"https://api.github.com/users/avinashraghuthu/gists{/gist_id}","starred_url":"https://api.github.com/users/avinashraghuthu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avinashraghuthu/subscriptions","organizations_url":"https://api.github.com/users/avinashraghuthu/orgs","repos_url":"https://api.github.com/users/avinashraghuthu/repos","events_url":"https://api.github.com/users/avinashraghuthu/events{/privacy}","received_events_url":"https://api.github.com/users/avinashraghuthu/received_events","type":"User","site_admin":false},"created_at":"2019-06-21T08:16:08Z","updated_at":"2019-06-21T08:16:08Z","author_association":"CONTRIBUTOR","body":"Closing the issue as gunicorn support has been added in MLflow 1.0.0","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/504336751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"avinashraghuthu","id":4524702,"node_id":"MDQ6VXNlcjQ1MjQ3MDI=","avatar_url":"https://avatars.githubusercontent.com/u/4524702?v=4","gravatar_id":"","url":"https://api.github.com/users/avinashraghuthu","html_url":"https://github.com/avinashraghuthu","followers_url":"https://api.github.com/users/avinashraghuthu/followers","following_url":"https://api.github.com/users/avinashraghuthu/following{/other_user}","gists_url":"https://api.github.com/users/avinashraghuthu/gists{/gist_id}","starred_url":"https://api.github.com/users/avinashraghuthu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avinashraghuthu/subscriptions","organizations_url":"https://api.github.com/users/avinashraghuthu/orgs","repos_url":"https://api.github.com/users/avinashraghuthu/repos","events_url":"https://api.github.com/users/avinashraghuthu/events{/privacy}","received_events_url":"https://api.github.com/users/avinashraghuthu/received_events","type":"User","site_admin":false}},{"id":2429610213,"node_id":"MDExOkNsb3NlZEV2ZW50MjQyOTYxMDIxMw==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2429610213","actor":{"login":"avinashraghuthu","id":4524702,"node_id":"MDQ6VXNlcjQ1MjQ3MDI=","avatar_url":"https://avatars.githubusercontent.com/u/4524702?v=4","gravatar_id":"","url":"https://api.github.com/users/avinashraghuthu","html_url":"https://github.com/avinashraghuthu","followers_url":"https://api.github.com/users/avinashraghuthu/followers","following_url":"https://api.github.com/users/avinashraghuthu/following{/other_user}","gists_url":"https://api.github.com/users/avinashraghuthu/gists{/gist_id}","starred_url":"https://api.github.com/users/avinashraghuthu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avinashraghuthu/subscriptions","organizations_url":"https://api.github.com/users/avinashraghuthu/orgs","repos_url":"https://api.github.com/users/avinashraghuthu/repos","events_url":"https://api.github.com/users/avinashraghuthu/events{/privacy}","received_events_url":"https://api.github.com/users/avinashraghuthu/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-06-21T08:16:08Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/510072089","html_url":"https://github.com/mlflow/mlflow/issues/1015#issuecomment-510072089","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1015","id":510072089,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDA3MjA4OQ==","user":{"login":"finelycheng","id":6984066,"node_id":"MDQ6VXNlcjY5ODQwNjY=","avatar_url":"https://avatars.githubusercontent.com/u/6984066?v=4","gravatar_id":"","url":"https://api.github.com/users/finelycheng","html_url":"https://github.com/finelycheng","followers_url":"https://api.github.com/users/finelycheng/followers","following_url":"https://api.github.com/users/finelycheng/following{/other_user}","gists_url":"https://api.github.com/users/finelycheng/gists{/gist_id}","starred_url":"https://api.github.com/users/finelycheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/finelycheng/subscriptions","organizations_url":"https://api.github.com/users/finelycheng/orgs","repos_url":"https://api.github.com/users/finelycheng/repos","events_url":"https://api.github.com/users/finelycheng/events{/privacy}","received_events_url":"https://api.github.com/users/finelycheng/received_events","type":"User","site_admin":false},"created_at":"2019-07-10T13:56:52Z","updated_at":"2019-07-10T13:56:52Z","author_association":"NONE","body":"when i call the function  mlflow.pytorch.save_model(model,\"model\")   the model save successed. \r\nbut when i use the command  **mlflow models serve -m \"model path\"**  -p 1234  to serve the model \r\nthe exception happened like this\r\n  ```\r\nTraceback (most recent call last):\r\n  File \"/home/academy/svn-Center/src/LoadModel.py\", line 8, in <module>\r\n    mlflow.pytorch.load_model(\"hdfs://finely:9000/3/b81d968bc5244c879cd2a13935b94b23/artifacts/model\")\r\n  File \"/opt/anaconda3/envs/center/lib/python3.7/site-packages/mlflow/pytorch/__init__.py\", line 345, in load_model\r\n    return _load_model(path=torch_model_artifacts_path, **kwargs)\r\n  File \"/opt/anaconda3/envs/center/lib/python3.7/site-packages/mlflow/pytorch/__init__.py\", line 296, in _load_model\r\n    return torch.load(model_path, **kwargs)\r\n  File \"/opt/anaconda3/envs/center/lib/python3.7/site-packages/torch/serialization.py\", line 367, in load\r\n    return _load(f, map_location, pickle_module)\r\n  File \"/opt/anaconda3/envs/center/lib/python3.7/site-packages/torch/serialization.py\", line 538, in _load\r\n    result = unpickler.load()\r\nModuleNotFoundError: No module named 'models.networks'\r\n```\r\ni use this api to test load the model, but failed with the same error. **mlflow.pytorch.load_model(\"hdfs://finely:9000/3/b81d968bc5244c879cd2a13935b94b23/artifacts/model\")**\r\n\r\nbut when i use the pytorch orgin api to save the model, then load use mlflow.pytorch.load_model , it right works \r\n\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/510072089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"finelycheng","id":6984066,"node_id":"MDQ6VXNlcjY5ODQwNjY=","avatar_url":"https://avatars.githubusercontent.com/u/6984066?v=4","gravatar_id":"","url":"https://api.github.com/users/finelycheng","html_url":"https://github.com/finelycheng","followers_url":"https://api.github.com/users/finelycheng/followers","following_url":"https://api.github.com/users/finelycheng/following{/other_user}","gists_url":"https://api.github.com/users/finelycheng/gists{/gist_id}","starred_url":"https://api.github.com/users/finelycheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/finelycheng/subscriptions","organizations_url":"https://api.github.com/users/finelycheng/orgs","repos_url":"https://api.github.com/users/finelycheng/repos","events_url":"https://api.github.com/users/finelycheng/events{/privacy}","received_events_url":"https://api.github.com/users/finelycheng/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/622457756","html_url":"https://github.com/mlflow/mlflow/issues/1015#issuecomment-622457756","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1015","id":622457756,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjQ1Nzc1Ng==","user":{"login":"utopianpallu","id":48690720,"node_id":"MDQ6VXNlcjQ4NjkwNzIw","avatar_url":"https://avatars.githubusercontent.com/u/48690720?v=4","gravatar_id":"","url":"https://api.github.com/users/utopianpallu","html_url":"https://github.com/utopianpallu","followers_url":"https://api.github.com/users/utopianpallu/followers","following_url":"https://api.github.com/users/utopianpallu/following{/other_user}","gists_url":"https://api.github.com/users/utopianpallu/gists{/gist_id}","starred_url":"https://api.github.com/users/utopianpallu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/utopianpallu/subscriptions","organizations_url":"https://api.github.com/users/utopianpallu/orgs","repos_url":"https://api.github.com/users/utopianpallu/repos","events_url":"https://api.github.com/users/utopianpallu/events{/privacy}","received_events_url":"https://api.github.com/users/utopianpallu/received_events","type":"User","site_admin":false},"created_at":"2020-05-01T16:26:22Z","updated_at":"2020-05-01T16:26:22Z","author_association":"NONE","body":"> when i call the function mlflow.pytorch.save_model(model,\"model\") the model save successed.\r\n> but when i use the command **mlflow models serve -m \"model path\"** -p 1234 to serve the model\r\n> the exception happened like this\r\n> \r\n> ```\r\n> Traceback (most recent call last):\r\n> File \"/home/academy/svn-Center/src/LoadModel.py\", line 8, in <module>\r\n>   mlflow.pytorch.load_model(\"hdfs://finely:9000/3/b81d968bc5244c879cd2a13935b94b23/artifacts/model\")\r\n> File \"/opt/anaconda3/envs/center/lib/python3.7/site-packages/mlflow/pytorch/__init__.py\", line 345, in load_model\r\n>   return _load_model(path=torch_model_artifacts_path, **kwargs)\r\n> File \"/opt/anaconda3/envs/center/lib/python3.7/site-packages/mlflow/pytorch/__init__.py\", line 296, in _load_model\r\n>   return torch.load(model_path, **kwargs)\r\n> File \"/opt/anaconda3/envs/center/lib/python3.7/site-packages/torch/serialization.py\", line 367, in load\r\n>   return _load(f, map_location, pickle_module)\r\n> File \"/opt/anaconda3/envs/center/lib/python3.7/site-packages/torch/serialization.py\", line 538, in _load\r\n>   result = unpickler.load()\r\n> ModuleNotFoundError: No module named 'models.networks'\r\n> ```\r\n> \r\n> i use this api to test load the model, but failed with the same error. **mlflow.pytorch.load_model(\"hdfs://finely:9000/3/b81d968bc5244c879cd2a13935b94b23/artifacts/model\")**\r\n> \r\n> but when i use the pytorch orgin api to save the model, then load use mlflow.pytorch.load_model , it right works\r\n\r\nHi can you try pasting your model code into main.py file and then run, It worked for me.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/622457756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"utopianpallu","id":48690720,"node_id":"MDQ6VXNlcjQ4NjkwNzIw","avatar_url":"https://avatars.githubusercontent.com/u/48690720?v=4","gravatar_id":"","url":"https://api.github.com/users/utopianpallu","html_url":"https://github.com/utopianpallu","followers_url":"https://api.github.com/users/utopianpallu/followers","following_url":"https://api.github.com/users/utopianpallu/following{/other_user}","gists_url":"https://api.github.com/users/utopianpallu/gists{/gist_id}","starred_url":"https://api.github.com/users/utopianpallu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/utopianpallu/subscriptions","organizations_url":"https://api.github.com/users/utopianpallu/orgs","repos_url":"https://api.github.com/users/utopianpallu/repos","events_url":"https://api.github.com/users/utopianpallu/events{/privacy}","received_events_url":"https://api.github.com/users/utopianpallu/received_events","type":"User","site_admin":false}}]