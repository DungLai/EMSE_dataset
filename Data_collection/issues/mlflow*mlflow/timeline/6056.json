[{"id":6800945857,"node_id":"LE_lADOCB5Jx85LtnCyzwAAAAGVXjLB","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6800945857","actor":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-14T04:50:19Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":6800947060,"node_id":"LE_lADOCB5Jx85LtnCyzwAAAAGVXjd0","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6800947060","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-14T04:50:40Z","label":{"name":"area/examples","color":"48eabc"},"performed_via_github_app":null},{"id":6800947061,"node_id":"LE_lADOCB5Jx85LtnCyzwAAAAGVXjd1","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6800947061","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-14T04:50:40Z","label":{"name":"area/windows","color":"ede978"},"performed_via_github_app":null},{"id":6805832175,"node_id":"AE_lADOCB5Jx85LtnCyzwAAAAGVqMHv","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6805832175","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-06-14T16:12:38Z","assignee":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1155817287","html_url":"https://github.com/mlflow/mlflow/issues/6056#issuecomment-1155817287","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6056","id":1155817287,"node_id":"IC_kwDOCB5Jx85E5F9H","user":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"created_at":"2022-06-14T23:53:00Z","updated_at":"2022-06-14T23:53:00Z","author_association":"COLLABORATOR","body":"Hi @zmce2018 , thank you for raising this issue. Can you run the following code before your fast.ai training logic and provide the DEBUG logs that are produced?\r\n\r\n```\r\nimport logging\r\n\r\nlogging.getLogger(\"mlflow\").setLevel(logging.DEBUG)\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1155817287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false}},{"id":6808582064,"node_id":"MEE_lADOCB5Jx85LtnCyzwAAAAGV0rew","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6808582064","actor":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-14T23:53:01Z","performed_via_github_app":null},{"id":6808582071,"node_id":"SE_lADOCB5Jx85LtnCyzwAAAAGV0re3","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6808582071","actor":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-14T23:53:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1155912872","html_url":"https://github.com/mlflow/mlflow/issues/6056#issuecomment-1155912872","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6056","id":1155912872,"node_id":"IC_kwDOCB5Jx85E5dSo","user":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false},"created_at":"2022-06-15T02:29:54Z","updated_at":"2022-06-15T02:29:54Z","author_association":"NONE","body":"@dbczumar Hello and thanks for your reply. Here is the error code after I put your code before your fast.ai training logic\r\n\r\n```\r\n2022/06/15 12:28:49 DEBUG mlflow.utils.autologging_utils: Called autolog() method for fastai autologging with args '()' and kwargs '{'log_models': True, 'disable': False, 'exclusive': False, 'disable_for_unsupported_versions': False, 'silent': False, 'registered_model_name': None}'\r\n2022/06/15 12:28:49 DEBUG mlflow.utils.autologging_utils: Invoked patched API '<class 'fastai.learner.Learner'>.fit' for fastai autologging with args '(<fastai.learner.Learner object at 0x00000295A420F7C0>, 5)' and kwargs '{'cbs': [ParamScheduler], 'reset_opt': False, 'wd': None}'\r\n2022/06/15 12:28:49 DEBUG mlflow.utils.autologging_utils: Original function invoked during execution of patched API '<class 'fastai.learner.Learner'>.fit' for fastai autologging. Original function was invoked with args '(<fastai.learner.Learner object at 0x00000295A420F7C0>, 5)' and kwargs '{'cbs': [ParamScheduler], 'reset_opt': False, 'wd': None}'\r\nepoch     train_loss  valid_loss  time    \r\n0         2.930746    3.362615    00:00                     \r\n1         2.972328    2.992625    00:00                     \r\n2         2.821007    2.602981    00:00                     \r\n3         2.727268    2.318845    00:00                     \r\nEpoch 5/5 :                                                 4         2.544970    2.205879    00:00     \r\n2022/06/15 12:28:54 WARNING mlflow.utils.environment: Encountered an unexpected error while inferring pip requirements (model URI: C:\\Users\\chunr\\AppData\\Local\\Temp\\tmpd321qg_t\\model, flavor: fastai), fall back to return ['fastai==2.6.3']. Set logging level to DEBUG to see the full traceback.\r\n2022/06/15 12:28:54 DEBUG mlflow.utils.environment: \r\nTraceback (most recent call last):\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\utils\\environment.py\", line 378, in infer_pip_requirements\r\n    return _infer_requirements(model_uri, flavor)\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\utils\\requirements_utils.py\", line 345, in _infer_requirements\r\n    modules = _capture_imported_modules(model_uri, flavor)\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\utils\\requirements_utils.py\", line 266, in _capture_imported_modules\r\n    _run_command(\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\utils\\requirements_utils.py\", line 218, in _run_command\r\n    raise MlflowException(msg)\r\nmlflow.exceptions.MlflowException: Encountered an unexpected error while running ['E:\\\\ANA\\\\envs\\\\TSAI\\\\python.exe', 'E:\\\\ANA\\\\envs\\\\TSAI\\\\lib\\\\site-packages\\\\mlflow\\\\utils\\\\_capture_modules.py', '--model-path', 'C:\\\\Users\\\\chunr\\\\AppData\\\\Local\\\\Temp\\\\tmpd321qg_t\\\\model', '--flavor', 'fastai', '--output-file', 'C:\\\\Users\\\\chunr\\\\AppData\\\\Local\\\\Temp\\\\tmpohp0woig\\\\imported_modules.txt', '--sys-path', '[\"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\python38.zip\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\git\\\\\\\\ext\\\\\\\\gitdb\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\DLLs\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\lib\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\", \"\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\lib\\\\\\\\site-packages\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\win32\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\win32\\\\\\\\lib\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\Pythonwin\", \"E:\\\\\\\\ANA\\\\\\\\envs\\\\\\\\TSAI\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\gitdb\\\\\\\\ext\\\\\\\\smmap\"]']\r\nexit status: 1\r\nstdout: \r\nstderr: Traceback (most recent call last):\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\utils\\_capture_modules.py\", line 134, in <module>\r\n    main()\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\utils\\_capture_modules.py\", line 109, in main\r\n    mlflow.pyfunc.load_model(model_path)\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\pyfunc\\__init__.py\", line 735, in load_model\r\n    model_impl = importlib.import_module(conf[MAIN])._load_pyfunc(data_path)\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\utils\\_capture_modules.py\", line 106, in _load_pyfunc_patch\r\n    return original(*args, **kwargs)\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\fastai\\__init__.py\", line 351, in _load_pyfunc\r\n    return _FastaiModelWrapper(_load_model(path))\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\mlflow\\fastai\\__init__.py\", line 332, in _load_model\r\n    return load_learner(os.path.abspath(path))\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\fastai\\learner.py\", line 392, in load_learner\r\n    try: res = torch.load(fname, map_location='cpu' if cpu else None, pickle_module=pickle_module)\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\torch\\serialization.py\", line 712, in load\r\n    return _load(opened_zipfile, map_location, pickle_module, **pickle_load_args)\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\torch\\serialization.py\", line 1046, in _load\r\n    result = unpickler.load()\r\n  File \"E:\\ANA\\envs\\TSAI\\lib\\site-packages\\torch\\serialization.py\", line 1039, in find_class\r\n    return super().find_class(mod_name, name)\r\nAttributeError: Custom classes or functions exported with your `Learner` are not available in the namespace currently.\r\nPlease re-declare or import them before calling `load_learner`:\r\n\tCan't get attribute 'splitter' on <module '__main__' from 'E:\\\\ANA\\\\envs\\\\TSAI\\\\lib\\\\site-packages\\\\mlflow\\\\utils\\\\_capture_modules.py'>\r\n\r\n2022/06/15 12:28:54 DEBUG mlflow.utils.autologging_utils: Original function invocation completed successfully during execution of patched API call '<class 'fastai.learner.Learner'>.fit' for fastai autologging. Original function was invoked with with args '(<fastai.learner.Learner object at 0x00000295A420F7C0>, 5)' and kwargs '{'cbs': [ParamScheduler], 'reset_opt': False, 'wd': None}'\r\n2022/06/15 12:28:54 DEBUG mlflow.utils.autologging_utils: Patched API call '<class 'fastai.learner.Learner'>.fit' for fastai autologging completed successfully. Patched ML API was called with args '(<fastai.learner.Learner object at 0x00000295A420F7C0>, 5)' and kwargs '{'cbs': [ParamScheduler], 'reset_opt': False, 'wd': None}'\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1155912872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false}},{"id":6809162732,"node_id":"MEE_lADOCB5Jx85LtnCyzwAAAAGV25Ps","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6809162732","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-15T02:29:55Z","performed_via_github_app":null},{"id":6809162734,"node_id":"SE_lADOCB5Jx85LtnCyzwAAAAGV25Pu","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6809162734","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-15T02:29:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1157101966","html_url":"https://github.com/mlflow/mlflow/issues/6056#issuecomment-1157101966","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6056","id":1157101966,"node_id":"IC_kwDOCB5Jx85E9_mO","user":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"created_at":"2022-06-16T00:33:27Z","updated_at":"2022-06-16T00:33:27Z","author_association":"COLLABORATOR","body":"@zmce2018 Thank you for providing the debug-level outputs. It appears that your model is defined using a custom class that is not packaged with the model when it is saved. To correct the issue, we recommend logging your model with `mlflow.fastai.log_model()` (https://mlflow.org/docs/latest/python_api/mlflow.fastai.html#mlflow.fastai.log_model) and specifying the path to your custom class definition via the `code_paths` argument. Here's some example code:\r\n\r\n```\r\nimport mlflow\r\nmlflow.fastai.autolog(log_models=False)\r\n\r\n# Create Learner model\r\nlearn = Learner(get_data_loaders(), Model(), loss_func=nn.MSELoss(), splitter=splitter)\r\n\r\n# Start MLflow session\r\nwith mlflow.start_run():\r\n    # Train and fit with default or supplied command line arguments\r\n    learn.fit_one_cycle(args.epochs, args.lr)\r\n    mlflow.fastai.log_model(learn, code_paths=[\"path_to_your_python_file_containing_model_class_definition\"])\r\n```\r\n\r\nPlease let me know if this resolves the issue. Since this doesn't appear to be a problem with pip dependency inference but, rather, an issue with the way the model is persisted, I'm going to go ahead and close this issue. Feel free to let me know if you're still facing this problem after leveraging the `code_paths` argument, and I can reopen the ticket. \r\n\r\nThank you for using MLflow!","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1157101966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false}},{"id":6817146158,"node_id":"CE_lADOCB5Jx85LtnCyzwAAAAGWVWUu","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6817146158","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-06-16T00:33:28Z","state_reason":null,"performed_via_github_app":null},{"id":6817146164,"node_id":"MEE_lADOCB5Jx85LtnCyzwAAAAGWVWU0","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6817146164","actor":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-16T00:33:28Z","performed_via_github_app":null},{"id":6817146166,"node_id":"SE_lADOCB5Jx85LtnCyzwAAAAGWVWU2","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6817146166","actor":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-16T00:33:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1157111591","html_url":"https://github.com/mlflow/mlflow/issues/6056#issuecomment-1157111591","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6056","id":1157111591,"node_id":"IC_kwDOCB5Jx85E-B8n","user":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false},"created_at":"2022-06-16T00:54:28Z","updated_at":"2022-06-16T00:55:22Z","author_association":"NONE","body":"@dbczumar Thanks for your time. This issue is corrected by removing the splitter from the learner function. \r\n\r\nA friendly reminder that this learner is not self-defined class as it is from the template code provided by MlFlow, which can be found here (https://github.com/mlflow/mlflow/tree/master/examples/fastai). \r\n\r\nMany thanks for your help and all the best. ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1157111591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zmce2018","id":36590229,"node_id":"MDQ6VXNlcjM2NTkwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/36590229?v=4","gravatar_id":"","url":"https://api.github.com/users/zmce2018","html_url":"https://github.com/zmce2018","followers_url":"https://api.github.com/users/zmce2018/followers","following_url":"https://api.github.com/users/zmce2018/following{/other_user}","gists_url":"https://api.github.com/users/zmce2018/gists{/gist_id}","starred_url":"https://api.github.com/users/zmce2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zmce2018/subscriptions","organizations_url":"https://api.github.com/users/zmce2018/orgs","repos_url":"https://api.github.com/users/zmce2018/repos","events_url":"https://api.github.com/users/zmce2018/events{/privacy}","received_events_url":"https://api.github.com/users/zmce2018/received_events","type":"User","site_admin":false}},{"id":6817204665,"node_id":"MEE_lADOCB5Jx85LtnCyzwAAAAGWVkm5","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6817204665","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-16T00:54:29Z","performed_via_github_app":null},{"id":6817204671,"node_id":"SE_lADOCB5Jx85LtnCyzwAAAAGWVkm_","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6817204671","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-16T00:54:29Z","performed_via_github_app":null}]