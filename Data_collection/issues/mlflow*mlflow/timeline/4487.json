[{"id":4915049116,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ5MTUwNDkxMTY=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/4915049116","actor":{"login":"priyankdemo","id":85923718,"node_id":"MDQ6VXNlcjg1OTIzNzE4","avatar_url":"https://avatars.githubusercontent.com/u/85923718?v=4","gravatar_id":"","url":"https://api.github.com/users/priyankdemo","html_url":"https://github.com/priyankdemo","followers_url":"https://api.github.com/users/priyankdemo/followers","following_url":"https://api.github.com/users/priyankdemo/following{/other_user}","gists_url":"https://api.github.com/users/priyankdemo/gists{/gist_id}","starred_url":"https://api.github.com/users/priyankdemo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyankdemo/subscriptions","organizations_url":"https://api.github.com/users/priyankdemo/orgs","repos_url":"https://api.github.com/users/priyankdemo/repos","events_url":"https://api.github.com/users/priyankdemo/events{/privacy}","received_events_url":"https://api.github.com/users/priyankdemo/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-21T07:32:53Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/864805722","html_url":"https://github.com/mlflow/mlflow/issues/4487#issuecomment-864805722","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/4487","id":864805722,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDgwNTcyMg==","user":{"login":"priyankdemo","id":85923718,"node_id":"MDQ6VXNlcjg1OTIzNzE4","avatar_url":"https://avatars.githubusercontent.com/u/85923718?v=4","gravatar_id":"","url":"https://api.github.com/users/priyankdemo","html_url":"https://github.com/priyankdemo","followers_url":"https://api.github.com/users/priyankdemo/followers","following_url":"https://api.github.com/users/priyankdemo/following{/other_user}","gists_url":"https://api.github.com/users/priyankdemo/gists{/gist_id}","starred_url":"https://api.github.com/users/priyankdemo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyankdemo/subscriptions","organizations_url":"https://api.github.com/users/priyankdemo/orgs","repos_url":"https://api.github.com/users/priyankdemo/repos","events_url":"https://api.github.com/users/priyankdemo/events{/privacy}","received_events_url":"https://api.github.com/users/priyankdemo/received_events","type":"User","site_admin":false},"created_at":"2021-06-21T07:42:39Z","updated_at":"2021-06-21T13:12:37Z","author_association":"NONE","body":"Tried mlflow run https://github.com/harupy/mlflow-example.git -P alpha=5.0\r\nThis process also completed successfully and model saved in mlruns directory.\r\n\r\nWhen working with docker and executing mlflow run command still does not save the model in artifacts","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/864805722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"priyankdemo","id":85923718,"node_id":"MDQ6VXNlcjg1OTIzNzE4","avatar_url":"https://avatars.githubusercontent.com/u/85923718?v=4","gravatar_id":"","url":"https://api.github.com/users/priyankdemo","html_url":"https://github.com/priyankdemo","followers_url":"https://api.github.com/users/priyankdemo/followers","following_url":"https://api.github.com/users/priyankdemo/following{/other_user}","gists_url":"https://api.github.com/users/priyankdemo/gists{/gist_id}","starred_url":"https://api.github.com/users/priyankdemo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyankdemo/subscriptions","organizations_url":"https://api.github.com/users/priyankdemo/orgs","repos_url":"https://api.github.com/users/priyankdemo/repos","events_url":"https://api.github.com/users/priyankdemo/events{/privacy}","received_events_url":"https://api.github.com/users/priyankdemo/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/871749089","html_url":"https://github.com/mlflow/mlflow/issues/4487#issuecomment-871749089","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/4487","id":871749089,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTc0OTA4OQ==","user":{"login":"afparsons","id":12258001,"node_id":"MDQ6VXNlcjEyMjU4MDAx","avatar_url":"https://avatars.githubusercontent.com/u/12258001?v=4","gravatar_id":"","url":"https://api.github.com/users/afparsons","html_url":"https://github.com/afparsons","followers_url":"https://api.github.com/users/afparsons/followers","following_url":"https://api.github.com/users/afparsons/following{/other_user}","gists_url":"https://api.github.com/users/afparsons/gists{/gist_id}","starred_url":"https://api.github.com/users/afparsons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afparsons/subscriptions","organizations_url":"https://api.github.com/users/afparsons/orgs","repos_url":"https://api.github.com/users/afparsons/repos","events_url":"https://api.github.com/users/afparsons/events{/privacy}","received_events_url":"https://api.github.com/users/afparsons/received_events","type":"User","site_admin":false},"created_at":"2021-06-30T21:47:40Z","updated_at":"2021-06-30T21:47:40Z","author_association":"NONE","body":"I am experiencing the a related issue. \r\nWe have a standard MLflow server logging to a PostgreSQL database and storing artifacts in an S3 bucket.\r\n\r\nEverything works as expected when invoking the MLflow Python client from, for example, IPython. When running the same code from within a Python3.8-slim Docker container on the same machine, the client logs runs (metrics, parameters, etc.) correctly but logs artifacts in the container's filesystem instead of on S3. It appears to fail to retrieve the correct artifact URI. ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/871749089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"afparsons","id":12258001,"node_id":"MDQ6VXNlcjEyMjU4MDAx","avatar_url":"https://avatars.githubusercontent.com/u/12258001?v=4","gravatar_id":"","url":"https://api.github.com/users/afparsons","html_url":"https://github.com/afparsons","followers_url":"https://api.github.com/users/afparsons/followers","following_url":"https://api.github.com/users/afparsons/following{/other_user}","gists_url":"https://api.github.com/users/afparsons/gists{/gist_id}","starred_url":"https://api.github.com/users/afparsons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afparsons/subscriptions","organizations_url":"https://api.github.com/users/afparsons/orgs","repos_url":"https://api.github.com/users/afparsons/repos","events_url":"https://api.github.com/users/afparsons/events{/privacy}","received_events_url":"https://api.github.com/users/afparsons/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/904672471","html_url":"https://github.com/mlflow/mlflow/issues/4487#issuecomment-904672471","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/4487","id":904672471,"node_id":"IC_kwDOCB5Jx8417DTX","user":{"login":"martialblog","id":7090372,"node_id":"MDQ6VXNlcjcwOTAzNzI=","avatar_url":"https://avatars.githubusercontent.com/u/7090372?v=4","gravatar_id":"","url":"https://api.github.com/users/martialblog","html_url":"https://github.com/martialblog","followers_url":"https://api.github.com/users/martialblog/followers","following_url":"https://api.github.com/users/martialblog/following{/other_user}","gists_url":"https://api.github.com/users/martialblog/gists{/gist_id}","starred_url":"https://api.github.com/users/martialblog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martialblog/subscriptions","organizations_url":"https://api.github.com/users/martialblog/orgs","repos_url":"https://api.github.com/users/martialblog/repos","events_url":"https://api.github.com/users/martialblog/events{/privacy}","received_events_url":"https://api.github.com/users/martialblog/received_events","type":"User","site_admin":false},"created_at":"2021-08-24T14:04:43Z","updated_at":"2021-08-24T14:04:43Z","author_association":"NONE","body":"Been running into the same issue. Here's what's happening:\r\n\r\nSo we create a self-made MLflow Container, for example:\r\n\r\n```\r\nFROM python:3.9-slim\r\nRUN set -ex; pip install --no-cache-dir mlflow==1.19.0\r\nENTRYPOINT [\"mlflow\", \"server\", \"--host\", \"0.0.0.0\", \"--port\", \"5000\"]\r\n```\r\n\r\nAnd then we start it like this:\r\n\r\n```\r\ndocker run --rm -p 5000:5000 mlflow:1.19.0\r\n```\r\n\r\nEverything going well so far, now we can use our Container for Tracking:\r\n\r\n```\r\n# Outside the Container, e.g. /home/foobar/mlflow-example.py\r\n\r\nmlflow.set_tracking_uri(\"http://localhost:5000\")\r\n\r\nmlflow.log_param(\"param1\", randint(0, 100))\r\nmlflow.log_metric(\"foo\", random())\r\n\r\nwith open(\"test.txt\", \"w\") as f:\r\n  f.write(\"Example\")\r\n\r\nmlflow.log_artifact(\"outputs/test.txt\")\r\n```\r\n\r\nNo errors, we open the UI in the browser and see the new Run. Hooray!\r\n\r\nBut here's where it gets interesting. If we check the tracking_uri and artifact_uri, we can see what's happening:\r\n\r\n```\r\n# This points to our Container\r\nmlflow.get_tracking_uri()\r\n'http://localhost:5000'\r\n\r\n# This, however, points to a directory outside the Container\r\nmlflow.get_artifact_uri()\r\n'./mlruns/0/58a435e4ec484b87a595294914c6629e/artifacts'\r\n```\r\n\r\nSo what's happening is, the run gets tracked inside the container in the `mlruns` directory:\r\n\r\n```\r\n# Inside the Container\r\ncat mlruns/0/ebd831c0c32e4203bfed2d43ad0b33f3/metrics/foo\r\n1629812623010 0.7562798287663771 0\r\n```\r\n\r\nBut the artifacts are written in a directory outside the Container. The directory in which we ran the experiment\r\n\r\n```\r\n# Outside the Container\r\ncat mlruns/0/ebd831c0c32e4203bfed2d43ad0b33f3/artifacts/test.txt\r\nExample\r\n```\r\n\r\nIt took me embarrassingly too long to figure this out... hopefully I'll save someone else the trouble.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/904672471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martialblog","id":7090372,"node_id":"MDQ6VXNlcjcwOTAzNzI=","avatar_url":"https://avatars.githubusercontent.com/u/7090372?v=4","gravatar_id":"","url":"https://api.github.com/users/martialblog","html_url":"https://github.com/martialblog","followers_url":"https://api.github.com/users/martialblog/followers","following_url":"https://api.github.com/users/martialblog/following{/other_user}","gists_url":"https://api.github.com/users/martialblog/gists{/gist_id}","starred_url":"https://api.github.com/users/martialblog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martialblog/subscriptions","organizations_url":"https://api.github.com/users/martialblog/orgs","repos_url":"https://api.github.com/users/martialblog/repos","events_url":"https://api.github.com/users/martialblog/events{/privacy}","received_events_url":"https://api.github.com/users/martialblog/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/909616655","html_url":"https://github.com/mlflow/mlflow/issues/4487#issuecomment-909616655","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/4487","id":909616655,"node_id":"IC_kwDOCB5Jx842N6YP","user":{"login":"hailindu","id":51971045,"node_id":"MDQ6VXNlcjUxOTcxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/51971045?v=4","gravatar_id":"","url":"https://api.github.com/users/hailindu","html_url":"https://github.com/hailindu","followers_url":"https://api.github.com/users/hailindu/followers","following_url":"https://api.github.com/users/hailindu/following{/other_user}","gists_url":"https://api.github.com/users/hailindu/gists{/gist_id}","starred_url":"https://api.github.com/users/hailindu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hailindu/subscriptions","organizations_url":"https://api.github.com/users/hailindu/orgs","repos_url":"https://api.github.com/users/hailindu/repos","events_url":"https://api.github.com/users/hailindu/events{/privacy}","received_events_url":"https://api.github.com/users/hailindu/received_events","type":"User","site_admin":false},"created_at":"2021-08-31T20:38:01Z","updated_at":"2021-08-31T20:38:01Z","author_association":"NONE","body":"Same issue here, except I am the Window User and without using Docker Container. I try to let ML Flow read the artifact model. that matches where it saves the artifact model.\r\n\r\nThe ML Flow will always point to my C Drive main folder page. The ML Flow UI shows ./mlruns/0, which is stored in my C Drive as C:/mlruns/0 while saving the artifact model in a different location.\r\n\r\nOne solution I have is to copy and paste into the C Drive mlruns folder, which I found not convenient at all. \r\n\r\nBy any chance, have you solved your issue? Which let ML Flow UI pointing to the right artifact location where the ML Flow save is artifact models? I try to type the path location in UI, but it doesn't work.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/909616655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hailindu","id":51971045,"node_id":"MDQ6VXNlcjUxOTcxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/51971045?v=4","gravatar_id":"","url":"https://api.github.com/users/hailindu","html_url":"https://github.com/hailindu","followers_url":"https://api.github.com/users/hailindu/followers","following_url":"https://api.github.com/users/hailindu/following{/other_user}","gists_url":"https://api.github.com/users/hailindu/gists{/gist_id}","starred_url":"https://api.github.com/users/hailindu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hailindu/subscriptions","organizations_url":"https://api.github.com/users/hailindu/orgs","repos_url":"https://api.github.com/users/hailindu/repos","events_url":"https://api.github.com/users/hailindu/events{/privacy}","received_events_url":"https://api.github.com/users/hailindu/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/910230462","html_url":"https://github.com/mlflow/mlflow/issues/4487#issuecomment-910230462","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/4487","id":910230462,"node_id":"IC_kwDOCB5Jx842QQO-","user":{"login":"martialblog","id":7090372,"node_id":"MDQ6VXNlcjcwOTAzNzI=","avatar_url":"https://avatars.githubusercontent.com/u/7090372?v=4","gravatar_id":"","url":"https://api.github.com/users/martialblog","html_url":"https://github.com/martialblog","followers_url":"https://api.github.com/users/martialblog/followers","following_url":"https://api.github.com/users/martialblog/following{/other_user}","gists_url":"https://api.github.com/users/martialblog/gists{/gist_id}","starred_url":"https://api.github.com/users/martialblog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martialblog/subscriptions","organizations_url":"https://api.github.com/users/martialblog/orgs","repos_url":"https://api.github.com/users/martialblog/repos","events_url":"https://api.github.com/users/martialblog/events{/privacy}","received_events_url":"https://api.github.com/users/martialblog/received_events","type":"User","site_admin":false},"created_at":"2021-09-01T12:19:51Z","updated_at":"2021-09-01T12:20:13Z","author_association":"NONE","body":"I don't think there is a real issue here. \r\n\r\nWhile it's strange at first sight, it's not really a bug. We're telling the application to store artifacts in the directory `./mlruns/` and that is what the application does. The app doesn't know that it's running in a chrooted Container and it shouldn't need to. \r\n\r\nI think the only real solution would be to use a bitbucket (S3). ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/910230462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martialblog","id":7090372,"node_id":"MDQ6VXNlcjcwOTAzNzI=","avatar_url":"https://avatars.githubusercontent.com/u/7090372?v=4","gravatar_id":"","url":"https://api.github.com/users/martialblog","html_url":"https://github.com/martialblog","followers_url":"https://api.github.com/users/martialblog/followers","following_url":"https://api.github.com/users/martialblog/following{/other_user}","gists_url":"https://api.github.com/users/martialblog/gists{/gist_id}","starred_url":"https://api.github.com/users/martialblog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martialblog/subscriptions","organizations_url":"https://api.github.com/users/martialblog/orgs","repos_url":"https://api.github.com/users/martialblog/repos","events_url":"https://api.github.com/users/martialblog/events{/privacy}","received_events_url":"https://api.github.com/users/martialblog/received_events","type":"User","site_admin":false}}]