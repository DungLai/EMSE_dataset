[{"id":7448719703,"node_id":"LE_lADOCB5Jx85SfrBgzwAAAAG7-nFX","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7448719703","actor":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-23T16:23:11Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":7448721291,"node_id":"LE_lADOCB5Jx85SfrBgzwAAAAG7-neL","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7448721291","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-23T16:23:27Z","label":{"name":"area/artifacts","color":"48eabc"},"performed_via_github_app":null},{"id":7448721293,"node_id":"LE_lADOCB5Jx85SfrBgzwAAAAG7-neN","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7448721293","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-23T16:23:27Z","label":{"name":"area/models","color":"48eabc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1258626093","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1258626093","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1258626093,"node_id":"IC_kwDOCB5Jx85LBRwt","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-26T20:59:55Z","updated_at":"2022-09-26T20:59:55Z","author_association":"COLLABORATOR","body":"Additional types were added in recent releases. Could you try using MLflow 1.29.0?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1258626093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259186419","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1259186419","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1259186419,"node_id":"IC_kwDOCB5Jx85LDajz","user":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false},"created_at":"2022-09-27T08:47:14Z","updated_at":"2022-09-27T08:47:14Z","author_association":"NONE","body":"Yes, I tried, but the output unfortunately is still the same.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259186419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259699879","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1259699879","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1259699879,"node_id":"IC_kwDOCB5Jx85LFX6n","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-27T15:48:07Z","updated_at":"2022-09-27T15:48:07Z","author_association":"COLLABORATOR","body":"Ah, my apologies on asking you to test this. \r\nWhat you might want to try is to utilize the `custom_objects` argument in logging in the exact manner that you did when saving in native Keras format. \r\nSee the following test for an example: https://github.com/mlflow/mlflow/blob/3f92b645b668e06764bb8ad3c8d1e5ceeb4d97ce/tests/keras/test_keras_model_export.py#L353-L368","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259699879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259708006","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1259708006","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1259708006,"node_id":"IC_kwDOCB5Jx85LFZ5m","user":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false},"created_at":"2022-09-27T15:54:37Z","updated_at":"2022-09-27T15:54:37Z","author_association":"NONE","body":"What exactly is the `custom_layer` that the function is taking as argument?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259708006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259729578","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1259729578","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1259729578,"node_id":"IC_kwDOCB5Jx85LFfKq","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-27T16:11:58Z","updated_at":"2022-09-27T16:11:58Z","author_association":"COLLABORATOR","body":"This https://github.com/mlflow/mlflow/blob/3f92b645b668e06764bb8ad3c8d1e5ceeb4d97ce/tests/keras/test_keras_model_export.py#L133-L159","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259729578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259751634","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1259751634","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1259751634,"node_id":"IC_kwDOCB5Jx85LFkjS","user":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false},"created_at":"2022-09-27T16:25:14Z","updated_at":"2022-09-27T16:25:14Z","author_association":"NONE","body":"Yes, I confirm that in the custom_objects dictionary I am not passing as value the instance of the class, but it's reference, as you are showing in the example.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259751634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259757870","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1259757870","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1259757870,"node_id":"IC_kwDOCB5Jx85LFmEu","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-27T16:28:10Z","updated_at":"2022-09-27T16:28:10Z","author_association":"COLLABORATOR","body":"In your example:\r\n```\r\nactive_experiment = \"active-custom-experiment\"\r\nmlflow.set_experiment(active_experiment)\r\nwith mlflow.start_run():\r\n    mlflow.keras.log_model(model, \"model\")\r\n```\r\nyou're not passing a dict to `custom_objects` in `mlflow.keras.log_model()`. Are you saying that you tried that and it's throwing the iterable exception?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259757870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259765188","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1259765188","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1259765188,"node_id":"IC_kwDOCB5Jx85LFn3E","user":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false},"created_at":"2022-09-27T16:34:04Z","updated_at":"2022-09-27T16:34:04Z","author_association":"NONE","body":"By running this code:\r\n```\r\nactive_experiment = \"active-custom-experiment\"\r\nmlflow.set_experiment(active_experiment)\r\nwith mlflow.start_run():\r\n    mlflow.keras.log_model(model, \"model\", custom_objects={'exp': tf.exp, 'DistributionLambda': tfp.layers.DistributionLambda})\r\n```\r\nThe error thrown is the same:\r\n`OperatorNotAllowedInGraphError: Iterating over a symbolic `tf.Tensor` is not allowed: AutoGraph did convert this function. This might indicate you are trying to use an unsupported feature.`","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259765188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259780066","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1259780066","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1259780066,"node_id":"IC_kwDOCB5Jx85LFrfi","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-27T16:47:23Z","updated_at":"2022-09-27T16:47:23Z","author_association":"COLLABORATOR","body":"Thinking out loud here... is it the loss function that needs to be passed? \r\nCould you try decorating that function with `@tf.function` and then passing the ref to that function to the custom_objects?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1259780066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1260584970","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1260584970","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1260584970,"node_id":"IC_kwDOCB5Jx85LIwAK","user":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false},"created_at":"2022-09-28T08:45:28Z","updated_at":"2022-09-28T08:45:28Z","author_association":"NONE","body":"By decorating that function with `@tf.function` and running `mlflow.keras.log_model(model, \"model\", custom_objects={'exp': tf.exp, 'DistributionLambda': tfp.layers.DistributionLambda, 'nll': nll})` as you suggested lead to this error instead:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\nInput In [25], in <cell line: 23>()\r\n     20     return -y_pred.log_prob(y_true)\r\n     22 model.compile(optimizer, loss=nll)\r\n---> 23 model.fit(x=X.astype(float), y=y.astype(float), epochs=100)\r\n     26 active_experiment = \"active-custom-experiment\"\r\n     27 mlflow.set_experiment(active_experiment)\r\n\r\nFile ~/miniforge3/envs/py38/lib/python3.8/site-packages/keras/utils/traceback_utils.py:67, in filter_traceback.<locals>.error_handler(*args, **kwargs)\r\n     65 except Exception as e:  # pylint: disable=broad-except\r\n     66   filtered_tb = _process_traceback_frames(e.__traceback__)\r\n---> 67   raise e.with_traceback(filtered_tb) from None\r\n     68 finally:\r\n     69   del filtered_tb\r\n\r\nFile /var/folders/mt/ftnr40_x3s98d981q72ld_1m0000gn/T/__autograph_generated_filei6174rj8.py:15, in outer_factory.<locals>.inner_factory.<locals>.tf__train_function(iterator)\r\n     13 try:\r\n     14     do_return = True\r\n---> 15     retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)\r\n     16 except:\r\n     17     do_return = False\r\n\r\nValueError: in user code:\r\n\r\n    File \"/Users/user/miniforge3/envs/py38/lib/python3.8/site-packages/keras/engine/training.py\", line 1051, in train_function  *\r\n        return step_function(self, iterator)\r\n    File \"/Users/user/miniforge3/envs/py38/lib/python3.8/site-packages/keras/engine/training.py\", line 1040, in step_function  **\r\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\r\n    File \"/Users/user/miniforge3/envs/py38/lib/python3.8/site-packages/keras/engine/training.py\", line 1030, in run_step  **\r\n        outputs = model.train_step(data)\r\n    File \"/Users/user/miniforge3/envs/py38/lib/python3.8/site-packages/keras/engine/training.py\", line 893, in train_step\r\n        self.optimizer.minimize(loss, self.trainable_variables, tape=tape)\r\n    File \"/Users/user/miniforge3/envs/py38/lib/python3.8/site-packages/keras/optimizers/optimizer_v2/optimizer_v2.py\", line 539, in minimize\r\n        return self.apply_gradients(grads_and_vars, name=name)\r\n    File \"/Users/user/miniforge3/envs/py38/lib/python3.8/site-packages/keras/optimizers/optimizer_v2/optimizer_v2.py\", line 640, in apply_gradients\r\n        grads_and_vars = optimizer_utils.filter_empty_gradients(grads_and_vars)\r\n    File \"/Users/user/miniforge3/envs/py38/lib/python3.8/site-packages/keras/optimizers/optimizer_v2/utils.py\", line 73, in filter_empty_gradients\r\n        raise ValueError(f\"No gradients provided for any variable: {variable}. \"\r\n\r\n    ValueError: No gradients provided for any variable: (['dense_30/kernel:0', 'dense_30/bias:0', 'dense_31/kernel:0', 'dense_31/bias:0'],). Provided `grads_and_vars` is ((None, <tf.Variable 'dense_30/kernel:0' shape=(4, 30) dtype=float32>), (None, <tf.Variable 'dense_30/bias:0' shape=(30,) dtype=float32>), (None, <tf.Variable 'dense_31/kernel:0' shape=(30, 1) dtype=float32>), (None, <tf.Variable 'dense_31/bias:0' shape=(1,) dtype=float32>)).\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1260584970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1261381327","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1261381327","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1261381327,"node_id":"IC_kwDOCB5Jx85LLybP","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-28T19:35:41Z","updated_at":"2022-09-28T19:35:41Z","author_association":"COLLABORATOR","body":"Can you attempt to load the model specifying that the compilation is to turn off? compile=False in the load from the mlflow instance?","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1261381327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1261436221","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1261436221","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1261436221,"node_id":"IC_kwDOCB5Jx85LL_09","user":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false},"created_at":"2022-09-28T20:34:56Z","updated_at":"2022-09-28T20:34:56Z","author_association":"NONE","body":"Just to be clear, the error `ValueError: No gradients provided for any variable:` appears even before trying to upload the model to mlflow.\r\nTo answer your question, I am already able to load models from mlflow but I cannot try to load this one, because I am not able to log it.\r\nSorry it wasn't clear.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1261436221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1261503372","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1261503372","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1261503372,"node_id":"IC_kwDOCB5Jx85LMQOM","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-09-28T21:53:40Z","updated_at":"2022-09-28T21:53:40Z","author_association":"COLLABORATOR","body":"right, but can you specify that same arg `compile=False` to get it to log? \r\nIf that doesn't work, I'm not entirely sure what to recommend... ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1261503372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1261932024","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1261932024","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1261932024,"node_id":"IC_kwDOCB5Jx85LN434","user":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false},"created_at":"2022-09-29T08:19:34Z","updated_at":"2022-09-29T08:19:34Z","author_association":"NONE","body":"I removed the decorator `@tf.function` from the loss function, and I tried to log the model with the parameter `compile=False`:\r\n```\r\nmlflow.keras.log_model(model, \"model\", custom_objects={'exp': tf.exp, 'DistributionLambda': tfp.layers.DistributionLambda, 'nll': nll}, compile=False)\r\n```\r\nHowever, I still get an exception:\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\nInput In [3], in <cell line: 28>()\r\n     27 mlflow.set_experiment(active_experiment)\r\n     28 with mlflow.start_run():\r\n---> 29     mlflow.keras.log_model(model, \"model\", custom_objects={'exp': tf.exp, 'DistributionLambda': tfp.layers.DistributionLambda, 'nll': nll}, compile=False)\r\n\r\nFile ~/miniforge3/envs/py38/lib/python3.8/site-packages/mlflow/keras.py:416, in log_model(keras_model, artifact_path, conda_env, code_paths, custom_objects, keras_module, registered_model_name, signature, input_example, await_registration_for, pip_requirements, extra_pip_requirements, **kwargs)\r\n    404 if signature is not None:\r\n    405     warnings.warn(\r\n    406         \"The pyfunc inference behavior of Keras models logged \"\r\n    407         \"with signatures differs from the behavior of Keras \"\r\n   (...)\r\n    414         \"a Pandas DataFrame output in response to a Pandas DataFrame input.\"\r\n    415     )\r\n--> 416 return Model.log(\r\n    417     artifact_path=artifact_path,\r\n    418     flavor=mlflow.keras,\r\n    419     keras_model=keras_model,\r\n    420     conda_env=conda_env,\r\n    421     code_paths=code_paths,\r\n    422     custom_objects=custom_objects,\r\n    423     keras_module=keras_module,\r\n    424     registered_model_name=registered_model_name,\r\n    425     signature=signature,\r\n    426     input_example=input_example,\r\n    427     await_registration_for=await_registration_for,\r\n    428     pip_requirements=pip_requirements,\r\n    429     extra_pip_requirements=extra_pip_requirements,\r\n    430     **kwargs,\r\n    431 )\r\n\r\nFile ~/miniforge3/envs/py38/lib/python3.8/site-packages/mlflow/models/model.py:372, in Model.log(cls, artifact_path, flavor, registered_model_name, await_registration_for, **kwargs)\r\n    370 run_id = mlflow.tracking.fluent._get_or_start_run().info.run_id\r\n    371 mlflow_model = cls(artifact_path=artifact_path, run_id=run_id)\r\n--> 372 flavor.save_model(path=local_path, mlflow_model=mlflow_model, **kwargs)\r\n    373 mlflow.tracking.fluent.log_artifacts(local_path, mlflow_model.artifact_path)\r\n    374 try:\r\n\r\nFile ~/miniforge3/envs/py38/lib/python3.8/site-packages/mlflow/keras.py:268, in save_model(keras_model, path, conda_env, code_paths, mlflow_model, custom_objects, keras_module, signature, input_example, pip_requirements, extra_pip_requirements, **kwargs)\r\n    266         shutil.copyfile(src=f.name, dst=model_path)\r\n    267 else:\r\n--> 268     keras_model.save(model_path, **kwargs)\r\n    270 # update flavor info to mlflow_model\r\n    271 mlflow_model.add_flavor(\r\n    272     FLAVOR_NAME,\r\n    273     keras_module=keras_module.__name__,\r\n   (...)\r\n    277     code=code_dir_subpath,\r\n    278 )\r\n\r\nFile ~/miniforge3/envs/py38/lib/python3.8/site-packages/keras/utils/traceback_utils.py:67, in filter_traceback.<locals>.error_handler(*args, **kwargs)\r\n     65 except Exception as e:  # pylint: disable=broad-except\r\n     66   filtered_tb = _process_traceback_frames(e.__traceback__)\r\n---> 67   raise e.with_traceback(filtered_tb) from None\r\n     68 finally:\r\n     69   del filtered_tb\r\n\r\nFile ~/miniforge3/envs/py38/lib/python3.8/site-packages/keras/utils/traceback_utils.py:64, in filter_traceback.<locals>.error_handler(*args, **kwargs)\r\n     62 filtered_tb = None\r\n     63 try:\r\n---> 64   return fn(*args, **kwargs)\r\n     65 except Exception as e:  # pylint: disable=broad-except\r\n     66   filtered_tb = _process_traceback_frames(e.__traceback__)\r\n\r\nTypeError: save() got an unexpected keyword argument 'compile'\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1261932024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"forons","id":4101332,"node_id":"MDQ6VXNlcjQxMDEzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4101332?v=4","gravatar_id":"","url":"https://api.github.com/users/forons","html_url":"https://github.com/forons","followers_url":"https://api.github.com/users/forons/followers","following_url":"https://api.github.com/users/forons/following{/other_user}","gists_url":"https://api.github.com/users/forons/gists{/gist_id}","starred_url":"https://api.github.com/users/forons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forons/subscriptions","organizations_url":"https://api.github.com/users/forons/orgs","repos_url":"https://api.github.com/users/forons/repos","events_url":"https://api.github.com/users/forons/events{/privacy}","received_events_url":"https://api.github.com/users/forons/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1264151224","html_url":"https://github.com/mlflow/mlflow/issues/6873#issuecomment-1264151224","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/6873","id":1264151224,"node_id":"IC_kwDOCB5Jx85LWWq4","user":{"login":"mlflow-automation","id":61449322,"node_id":"MDQ6VXNlcjYxNDQ5MzIy","avatar_url":"https://avatars.githubusercontent.com/u/61449322?v=4","gravatar_id":"","url":"https://api.github.com/users/mlflow-automation","html_url":"https://github.com/mlflow-automation","followers_url":"https://api.github.com/users/mlflow-automation/followers","following_url":"https://api.github.com/users/mlflow-automation/following{/other_user}","gists_url":"https://api.github.com/users/mlflow-automation/gists{/gist_id}","starred_url":"https://api.github.com/users/mlflow-automation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlflow-automation/subscriptions","organizations_url":"https://api.github.com/users/mlflow-automation/orgs","repos_url":"https://api.github.com/users/mlflow-automation/repos","events_url":"https://api.github.com/users/mlflow-automation/events{/privacy}","received_events_url":"https://api.github.com/users/mlflow-automation/received_events","type":"User","site_admin":false},"created_at":"2022-10-01T00:23:29Z","updated_at":"2022-10-01T00:23:29Z","author_association":"COLLABORATOR","body":"<!-- assign-maintainer -->\n@BenWilson2 @dbczumar @harupy @WeichenXu123 Please assign a maintainer and start triaging this issue.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1264151224/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mlflow-automation","id":61449322,"node_id":"MDQ6VXNlcjYxNDQ5MzIy","avatar_url":"https://avatars.githubusercontent.com/u/61449322?v=4","gravatar_id":"","url":"https://api.github.com/users/mlflow-automation","html_url":"https://github.com/mlflow-automation","followers_url":"https://api.github.com/users/mlflow-automation/followers","following_url":"https://api.github.com/users/mlflow-automation/following{/other_user}","gists_url":"https://api.github.com/users/mlflow-automation/gists{/gist_id}","starred_url":"https://api.github.com/users/mlflow-automation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlflow-automation/subscriptions","organizations_url":"https://api.github.com/users/mlflow-automation/orgs","repos_url":"https://api.github.com/users/mlflow-automation/repos","events_url":"https://api.github.com/users/mlflow-automation/events{/privacy}","received_events_url":"https://api.github.com/users/mlflow-automation/received_events","type":"User","site_admin":false}},{"id":7499283792,"node_id":"MEE_lADOCB5Jx85SfrBgzwAAAAG-_f1Q","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7499283792","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-10-01T00:23:29Z","performed_via_github_app":null},{"id":7499283795,"node_id":"SE_lADOCB5Jx85SfrBgzwAAAAG-_f1T","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7499283795","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-10-01T00:23:30Z","performed_via_github_app":null},{"id":7499283799,"node_id":"MEE_lADOCB5Jx85SfrBgzwAAAAG-_f1X","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7499283799","actor":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-10-01T00:23:30Z","performed_via_github_app":null},{"id":7499283802,"node_id":"SE_lADOCB5Jx85SfrBgzwAAAAG-_f1a","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7499283802","actor":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-10-01T00:23:30Z","performed_via_github_app":null},{"id":7499283807,"node_id":"MEE_lADOCB5Jx85SfrBgzwAAAAG-_f1f","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7499283807","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-10-01T00:23:30Z","performed_via_github_app":null},{"id":7499283811,"node_id":"SE_lADOCB5Jx85SfrBgzwAAAAG-_f1j","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7499283811","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-10-01T00:23:30Z","performed_via_github_app":null},{"id":7499283814,"node_id":"MEE_lADOCB5Jx85SfrBgzwAAAAG-_f1m","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7499283814","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-10-01T00:23:30Z","performed_via_github_app":null},{"id":7499283817,"node_id":"SE_lADOCB5Jx85SfrBgzwAAAAG-_f1p","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7499283817","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-10-01T00:23:30Z","performed_via_github_app":null}]