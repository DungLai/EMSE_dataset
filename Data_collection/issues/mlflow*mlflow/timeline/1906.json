[{"id":2689088315,"node_id":"MDEyOkxhYmVsZWRFdmVudDI2ODkwODgzMTU=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2689088315","actor":{"login":"ShumzZ","id":20703213,"node_id":"MDQ6VXNlcjIwNzAzMjEz","avatar_url":"https://avatars.githubusercontent.com/u/20703213?v=4","gravatar_id":"","url":"https://api.github.com/users/ShumzZ","html_url":"https://github.com/ShumzZ","followers_url":"https://api.github.com/users/ShumzZ/followers","following_url":"https://api.github.com/users/ShumzZ/following{/other_user}","gists_url":"https://api.github.com/users/ShumzZ/gists{/gist_id}","starred_url":"https://api.github.com/users/ShumzZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShumzZ/subscriptions","organizations_url":"https://api.github.com/users/ShumzZ/orgs","repos_url":"https://api.github.com/users/ShumzZ/repos","events_url":"https://api.github.com/users/ShumzZ/events{/privacy}","received_events_url":"https://api.github.com/users/ShumzZ/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-10-05T04:53:46Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/539768105","html_url":"https://github.com/mlflow/mlflow/issues/1906#issuecomment-539768105","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1906","id":539768105,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTc2ODEwNQ==","user":{"login":"smurching","id":2358483,"node_id":"MDQ6VXNlcjIzNTg0ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2358483?v=4","gravatar_id":"","url":"https://api.github.com/users/smurching","html_url":"https://github.com/smurching","followers_url":"https://api.github.com/users/smurching/followers","following_url":"https://api.github.com/users/smurching/following{/other_user}","gists_url":"https://api.github.com/users/smurching/gists{/gist_id}","starred_url":"https://api.github.com/users/smurching/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smurching/subscriptions","organizations_url":"https://api.github.com/users/smurching/orgs","repos_url":"https://api.github.com/users/smurching/repos","events_url":"https://api.github.com/users/smurching/events{/privacy}","received_events_url":"https://api.github.com/users/smurching/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T00:52:58Z","updated_at":"2019-10-09T00:53:25Z","author_association":"COLLABORATOR","body":"This seems due to a bug in how we install Java dependencies when building the docker image used for model deployment, I've opened #1913 to fix the bug.\r\n\r\n@ShumzZ in the interim, what command/API are you invoking to deploy the model to Sagemaker? If you use the official MLflow scoring server docker image (the default behavior when invoking `mlflow sagemaker deploy`), the deployment may succeed - we build the official image using `mlflow sagemaker build-and-push-container -c mlflow-pyfunc --mlflow-home .`, and it turns out specifying the `--mlflow-home` option triggers a code path in which we do install Java scoring dependencies correctly. ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/539768105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"smurching","id":2358483,"node_id":"MDQ6VXNlcjIzNTg0ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2358483?v=4","gravatar_id":"","url":"https://api.github.com/users/smurching","html_url":"https://github.com/smurching","followers_url":"https://api.github.com/users/smurching/followers","following_url":"https://api.github.com/users/smurching/following{/other_user}","gists_url":"https://api.github.com/users/smurching/gists{/gist_id}","starred_url":"https://api.github.com/users/smurching/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smurching/subscriptions","organizations_url":"https://api.github.com/users/smurching/orgs","repos_url":"https://api.github.com/users/smurching/repos","events_url":"https://api.github.com/users/smurching/events{/privacy}","received_events_url":"https://api.github.com/users/smurching/received_events","type":"User","site_admin":false}},{"id":2697313649,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjY5NzMxMzY0OQ==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2697313649","actor":{"login":"ShumzZ","id":20703213,"node_id":"MDQ6VXNlcjIwNzAzMjEz","avatar_url":"https://avatars.githubusercontent.com/u/20703213?v=4","gravatar_id":"","url":"https://api.github.com/users/ShumzZ","html_url":"https://github.com/ShumzZ","followers_url":"https://api.github.com/users/ShumzZ/followers","following_url":"https://api.github.com/users/ShumzZ/following{/other_user}","gists_url":"https://api.github.com/users/ShumzZ/gists{/gist_id}","starred_url":"https://api.github.com/users/ShumzZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShumzZ/subscriptions","organizations_url":"https://api.github.com/users/ShumzZ/orgs","repos_url":"https://api.github.com/users/ShumzZ/repos","events_url":"https://api.github.com/users/ShumzZ/events{/privacy}","received_events_url":"https://api.github.com/users/ShumzZ/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-09T00:52:58Z","performed_via_github_app":null},{"id":2697313650,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2OTczMTM2NTA=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2697313650","actor":{"login":"ShumzZ","id":20703213,"node_id":"MDQ6VXNlcjIwNzAzMjEz","avatar_url":"https://avatars.githubusercontent.com/u/20703213?v=4","gravatar_id":"","url":"https://api.github.com/users/ShumzZ","html_url":"https://github.com/ShumzZ","followers_url":"https://api.github.com/users/ShumzZ/followers","following_url":"https://api.github.com/users/ShumzZ/following{/other_user}","gists_url":"https://api.github.com/users/ShumzZ/gists{/gist_id}","starred_url":"https://api.github.com/users/ShumzZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShumzZ/subscriptions","organizations_url":"https://api.github.com/users/ShumzZ/orgs","repos_url":"https://api.github.com/users/ShumzZ/repos","events_url":"https://api.github.com/users/ShumzZ/events{/privacy}","received_events_url":"https://api.github.com/users/ShumzZ/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-09T00:52:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/540149371","html_url":"https://github.com/mlflow/mlflow/issues/1906#issuecomment-540149371","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/1906","id":540149371,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDE0OTM3MQ==","user":{"login":"ShumzZ","id":20703213,"node_id":"MDQ6VXNlcjIwNzAzMjEz","avatar_url":"https://avatars.githubusercontent.com/u/20703213?v=4","gravatar_id":"","url":"https://api.github.com/users/ShumzZ","html_url":"https://github.com/ShumzZ","followers_url":"https://api.github.com/users/ShumzZ/followers","following_url":"https://api.github.com/users/ShumzZ/following{/other_user}","gists_url":"https://api.github.com/users/ShumzZ/gists{/gist_id}","starred_url":"https://api.github.com/users/ShumzZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShumzZ/subscriptions","organizations_url":"https://api.github.com/users/ShumzZ/orgs","repos_url":"https://api.github.com/users/ShumzZ/repos","events_url":"https://api.github.com/users/ShumzZ/events{/privacy}","received_events_url":"https://api.github.com/users/ShumzZ/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T19:18:18Z","updated_at":"2019-10-09T19:23:30Z","author_association":"NONE","body":"> @ShumzZ in the interim, what command/API are you invoking to deploy the model to Sagemaker? If you use the official MLflow scoring server docker image (the default behavior when invoking `mlflow sagemaker deploy`), the deployment may succeed - we build the official image using `mlflow sagemaker build-and-push-container -c mlflow-pyfunc --mlflow-home .`, and it turns out specifying the `--mlflow-home` option triggers a code path in which we do install Java scoring dependencies correctly.\r\n\r\nThanks for getting back to me @smurching. When I first saw the JNI error, I was using:\r\n\r\nPython API (`mlflow.sagemaker.deploy`) on Databricks Python notebook;\r\n\r\nI then copied the logged model to local (MacOS) and used CLI, and both:\r\n - deploy `mlflow sagemaker deploy -m <local_model> -i <ECR_image_url>` and \r\n - local-test `mlflow sagemaker run-local -m -i`)   \r\n\r\nfailed with the same error message. \r\n\r\nI have cloned your version of mlflow project to local and point to it with `--mlflow-home` flag when rebuilding the image, now problem solved, much appreciated!\r\n\r\nupdate:\r\nbuild docker image with:\r\n`mlflow sagemaker build-and-push-container --mlflow-home </path/to/local/mlflow_project/>`","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/540149371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ShumzZ","id":20703213,"node_id":"MDQ6VXNlcjIwNzAzMjEz","avatar_url":"https://avatars.githubusercontent.com/u/20703213?v=4","gravatar_id":"","url":"https://api.github.com/users/ShumzZ","html_url":"https://github.com/ShumzZ","followers_url":"https://api.github.com/users/ShumzZ/followers","following_url":"https://api.github.com/users/ShumzZ/following{/other_user}","gists_url":"https://api.github.com/users/ShumzZ/gists{/gist_id}","starred_url":"https://api.github.com/users/ShumzZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShumzZ/subscriptions","organizations_url":"https://api.github.com/users/ShumzZ/orgs","repos_url":"https://api.github.com/users/ShumzZ/repos","events_url":"https://api.github.com/users/ShumzZ/events{/privacy}","received_events_url":"https://api.github.com/users/ShumzZ/received_events","type":"User","site_admin":false}},{"id":2700186516,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjcwMDE4NjUxNg==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2700186516","actor":{"login":"smurching","id":2358483,"node_id":"MDQ6VXNlcjIzNTg0ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2358483?v=4","gravatar_id":"","url":"https://api.github.com/users/smurching","html_url":"https://github.com/smurching","followers_url":"https://api.github.com/users/smurching/followers","following_url":"https://api.github.com/users/smurching/following{/other_user}","gists_url":"https://api.github.com/users/smurching/gists{/gist_id}","starred_url":"https://api.github.com/users/smurching/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smurching/subscriptions","organizations_url":"https://api.github.com/users/smurching/orgs","repos_url":"https://api.github.com/users/smurching/repos","events_url":"https://api.github.com/users/smurching/events{/privacy}","received_events_url":"https://api.github.com/users/smurching/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-09T19:18:18Z","performed_via_github_app":null},{"id":2700186517,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3MDAxODY1MTc=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2700186517","actor":{"login":"smurching","id":2358483,"node_id":"MDQ6VXNlcjIzNTg0ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2358483?v=4","gravatar_id":"","url":"https://api.github.com/users/smurching","html_url":"https://github.com/smurching","followers_url":"https://api.github.com/users/smurching/followers","following_url":"https://api.github.com/users/smurching/following{/other_user}","gists_url":"https://api.github.com/users/smurching/gists{/gist_id}","starred_url":"https://api.github.com/users/smurching/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smurching/subscriptions","organizations_url":"https://api.github.com/users/smurching/orgs","repos_url":"https://api.github.com/users/smurching/repos","events_url":"https://api.github.com/users/smurching/events{/privacy}","received_events_url":"https://api.github.com/users/smurching/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-09T19:18:18Z","performed_via_github_app":null},{"id":2700186520,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjcwMDE4NjUyMA==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2700186520","actor":{"login":"ShumzZ","id":20703213,"node_id":"MDQ6VXNlcjIwNzAzMjEz","avatar_url":"https://avatars.githubusercontent.com/u/20703213?v=4","gravatar_id":"","url":"https://api.github.com/users/ShumzZ","html_url":"https://github.com/ShumzZ","followers_url":"https://api.github.com/users/ShumzZ/followers","following_url":"https://api.github.com/users/ShumzZ/following{/other_user}","gists_url":"https://api.github.com/users/ShumzZ/gists{/gist_id}","starred_url":"https://api.github.com/users/ShumzZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShumzZ/subscriptions","organizations_url":"https://api.github.com/users/ShumzZ/orgs","repos_url":"https://api.github.com/users/ShumzZ/repos","events_url":"https://api.github.com/users/ShumzZ/events{/privacy}","received_events_url":"https://api.github.com/users/ShumzZ/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-09T19:18:18Z","performed_via_github_app":null},{"id":2700186521,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3MDAxODY1MjE=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2700186521","actor":{"login":"ShumzZ","id":20703213,"node_id":"MDQ6VXNlcjIwNzAzMjEz","avatar_url":"https://avatars.githubusercontent.com/u/20703213?v=4","gravatar_id":"","url":"https://api.github.com/users/ShumzZ","html_url":"https://github.com/ShumzZ","followers_url":"https://api.github.com/users/ShumzZ/followers","following_url":"https://api.github.com/users/ShumzZ/following{/other_user}","gists_url":"https://api.github.com/users/ShumzZ/gists{/gist_id}","starred_url":"https://api.github.com/users/ShumzZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShumzZ/subscriptions","organizations_url":"https://api.github.com/users/ShumzZ/orgs","repos_url":"https://api.github.com/users/ShumzZ/repos","events_url":"https://api.github.com/users/ShumzZ/events{/privacy}","received_events_url":"https://api.github.com/users/ShumzZ/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-09T19:18:18Z","performed_via_github_app":null},{"id":2700187500,"node_id":"MDExOkNsb3NlZEV2ZW50MjcwMDE4NzUwMA==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2700187500","actor":{"login":"ShumzZ","id":20703213,"node_id":"MDQ6VXNlcjIwNzAzMjEz","avatar_url":"https://avatars.githubusercontent.com/u/20703213?v=4","gravatar_id":"","url":"https://api.github.com/users/ShumzZ","html_url":"https://github.com/ShumzZ","followers_url":"https://api.github.com/users/ShumzZ/followers","following_url":"https://api.github.com/users/ShumzZ/following{/other_user}","gists_url":"https://api.github.com/users/ShumzZ/gists{/gist_id}","starred_url":"https://api.github.com/users/ShumzZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShumzZ/subscriptions","organizations_url":"https://api.github.com/users/ShumzZ/orgs","repos_url":"https://api.github.com/users/ShumzZ/repos","events_url":"https://api.github.com/users/ShumzZ/events{/privacy}","received_events_url":"https://api.github.com/users/ShumzZ/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-09T19:18:37Z","state_reason":null,"performed_via_github_app":null},{"id":2700195789,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjcwMDE5NTc4OQ==","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2700195789","actor":{"login":"smurching","id":2358483,"node_id":"MDQ6VXNlcjIzNTg0ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2358483?v=4","gravatar_id":"","url":"https://api.github.com/users/smurching","html_url":"https://github.com/smurching","followers_url":"https://api.github.com/users/smurching/followers","following_url":"https://api.github.com/users/smurching/following{/other_user}","gists_url":"https://api.github.com/users/smurching/gists{/gist_id}","starred_url":"https://api.github.com/users/smurching/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smurching/subscriptions","organizations_url":"https://api.github.com/users/smurching/orgs","repos_url":"https://api.github.com/users/smurching/repos","events_url":"https://api.github.com/users/smurching/events{/privacy}","received_events_url":"https://api.github.com/users/smurching/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-09T19:21:41Z","performed_via_github_app":null},{"id":2700195791,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3MDAxOTU3OTE=","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/2700195791","actor":{"login":"smurching","id":2358483,"node_id":"MDQ6VXNlcjIzNTg0ODM=","avatar_url":"https://avatars.githubusercontent.com/u/2358483?v=4","gravatar_id":"","url":"https://api.github.com/users/smurching","html_url":"https://github.com/smurching","followers_url":"https://api.github.com/users/smurching/followers","following_url":"https://api.github.com/users/smurching/following{/other_user}","gists_url":"https://api.github.com/users/smurching/gists{/gist_id}","starred_url":"https://api.github.com/users/smurching/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smurching/subscriptions","organizations_url":"https://api.github.com/users/smurching/orgs","repos_url":"https://api.github.com/users/smurching/repos","events_url":"https://api.github.com/users/smurching/events{/privacy}","received_events_url":"https://api.github.com/users/smurching/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-09T19:21:41Z","performed_via_github_app":null}]