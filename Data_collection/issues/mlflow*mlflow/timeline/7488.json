[{"id":7993470579,"node_id":"LE_lADOCB5Jx85YiwHszwAAAAHccq5z","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7993470579","actor":{"login":"drod331","id":25235302,"node_id":"MDQ6VXNlcjI1MjM1MzAy","avatar_url":"https://avatars.githubusercontent.com/u/25235302?v=4","gravatar_id":"","url":"https://api.github.com/users/drod331","html_url":"https://github.com/drod331","followers_url":"https://api.github.com/users/drod331/followers","following_url":"https://api.github.com/users/drod331/following{/other_user}","gists_url":"https://api.github.com/users/drod331/gists{/gist_id}","starred_url":"https://api.github.com/users/drod331/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drod331/subscriptions","organizations_url":"https://api.github.com/users/drod331/orgs","repos_url":"https://api.github.com/users/drod331/repos","events_url":"https://api.github.com/users/drod331/events{/privacy}","received_events_url":"https://api.github.com/users/drod331/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-12-08T22:21:31Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":7993472058,"node_id":"LE_lADOCB5Jx85YiwHszwAAAAHccrQ6","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7993472058","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-12-08T22:21:47Z","label":{"name":"area/artifacts","color":"48eabc"},"performed_via_github_app":null},{"id":7993472065,"node_id":"LE_lADOCB5Jx85YiwHszwAAAAHccrRB","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/7993472065","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-12-08T22:21:47Z","label":{"name":"language/java","color":"349cd8"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1344390292","html_url":"https://github.com/mlflow/mlflow/issues/7488#issuecomment-1344390292","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/7488","id":1344390292,"node_id":"IC_kwDOCB5Jx85QIcSU","user":{"login":"drod331","id":25235302,"node_id":"MDQ6VXNlcjI1MjM1MzAy","avatar_url":"https://avatars.githubusercontent.com/u/25235302?v=4","gravatar_id":"","url":"https://api.github.com/users/drod331","html_url":"https://github.com/drod331","followers_url":"https://api.github.com/users/drod331/followers","following_url":"https://api.github.com/users/drod331/following{/other_user}","gists_url":"https://api.github.com/users/drod331/gists{/gist_id}","starred_url":"https://api.github.com/users/drod331/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drod331/subscriptions","organizations_url":"https://api.github.com/users/drod331/orgs","repos_url":"https://api.github.com/users/drod331/repos","events_url":"https://api.github.com/users/drod331/events{/privacy}","received_events_url":"https://api.github.com/users/drod331/received_events","type":"User","site_admin":false},"created_at":"2022-12-09T14:41:48Z","updated_at":"2022-12-09T14:41:48Z","author_association":"CONTRIBUTOR","body":"I'm more than willing to put in a PR for this, just would be curious to hear what you all think the API should look like for specifying env variables","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1344390292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"drod331","id":25235302,"node_id":"MDQ6VXNlcjI1MjM1MzAy","avatar_url":"https://avatars.githubusercontent.com/u/25235302?v=4","gravatar_id":"","url":"https://api.github.com/users/drod331","html_url":"https://github.com/drod331","followers_url":"https://api.github.com/users/drod331/followers","following_url":"https://api.github.com/users/drod331/following{/other_user}","gists_url":"https://api.github.com/users/drod331/gists{/gist_id}","starred_url":"https://api.github.com/users/drod331/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drod331/subscriptions","organizations_url":"https://api.github.com/users/drod331/orgs","repos_url":"https://api.github.com/users/drod331/repos","events_url":"https://api.github.com/users/drod331/events{/privacy}","received_events_url":"https://api.github.com/users/drod331/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1344879922","html_url":"https://github.com/mlflow/mlflow/issues/7488#issuecomment-1344879922","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/7488","id":1344879922,"node_id":"IC_kwDOCB5Jx85QKT0y","user":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false},"created_at":"2022-12-09T23:19:30Z","updated_at":"2022-12-09T23:19:30Z","author_association":"COLLABORATOR","body":"Hi @drod331 , thank you for filing this issue. The MLflow Java client's listArtifacts() implementation calls the MLflow Python client's list artifacts APIs via the MLflow Python CLI by forking a subprocess. My hunch is that this subprocess does not properly inherit environment variables from the parent process; here's the relevant environment construction code: https://github.com/mlflow/mlflow/blob/50a0a869a58e63d064bf63744a782b034544b638/mlflow/java/client/src/main/java/org/mlflow/artifacts/CliBasedArtifactRepository.java#L223-L228.\r\n\r\nIdeally, it would be great to modify https://github.com/mlflow/mlflow/blob/50a0a869a58e63d064bf63744a782b034544b638/mlflow/java/client/src/main/java/org/mlflow/artifacts/CliBasedArtifactRepository.java#L223-L228 such that the subprocess inherits the environment variables correctly, which should address the issue you're encountering. Please let me know if you have any questions, and thank you in advance for your contribution - we're looking forward to reviewing it!","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1344879922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dbczumar","id":39497902,"node_id":"MDQ6VXNlcjM5NDk3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/39497902?v=4","gravatar_id":"","url":"https://api.github.com/users/dbczumar","html_url":"https://github.com/dbczumar","followers_url":"https://api.github.com/users/dbczumar/followers","following_url":"https://api.github.com/users/dbczumar/following{/other_user}","gists_url":"https://api.github.com/users/dbczumar/gists{/gist_id}","starred_url":"https://api.github.com/users/dbczumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbczumar/subscriptions","organizations_url":"https://api.github.com/users/dbczumar/orgs","repos_url":"https://api.github.com/users/dbczumar/repos","events_url":"https://api.github.com/users/dbczumar/events{/privacy}","received_events_url":"https://api.github.com/users/dbczumar/received_events","type":"User","site_admin":false}},{"id":8002659259,"node_id":"MEE_lADOCB5Jx85YiwHszwAAAAHc_uO7","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/8002659259","actor":{"login":"drod331","id":25235302,"node_id":"MDQ6VXNlcjI1MjM1MzAy","avatar_url":"https://avatars.githubusercontent.com/u/25235302?v=4","gravatar_id":"","url":"https://api.github.com/users/drod331","html_url":"https://github.com/drod331","followers_url":"https://api.github.com/users/drod331/followers","following_url":"https://api.github.com/users/drod331/following{/other_user}","gists_url":"https://api.github.com/users/drod331/gists{/gist_id}","starred_url":"https://api.github.com/users/drod331/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drod331/subscriptions","organizations_url":"https://api.github.com/users/drod331/orgs","repos_url":"https://api.github.com/users/drod331/repos","events_url":"https://api.github.com/users/drod331/events{/privacy}","received_events_url":"https://api.github.com/users/drod331/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-12-09T23:19:30Z","performed_via_github_app":null},{"id":8002659262,"node_id":"SE_lADOCB5Jx85YiwHszwAAAAHc_uO-","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/8002659262","actor":{"login":"drod331","id":25235302,"node_id":"MDQ6VXNlcjI1MjM1MzAy","avatar_url":"https://avatars.githubusercontent.com/u/25235302?v=4","gravatar_id":"","url":"https://api.github.com/users/drod331","html_url":"https://github.com/drod331","followers_url":"https://api.github.com/users/drod331/followers","following_url":"https://api.github.com/users/drod331/following{/other_user}","gists_url":"https://api.github.com/users/drod331/gists{/gist_id}","starred_url":"https://api.github.com/users/drod331/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drod331/subscriptions","organizations_url":"https://api.github.com/users/drod331/orgs","repos_url":"https://api.github.com/users/drod331/repos","events_url":"https://api.github.com/users/drod331/events{/privacy}","received_events_url":"https://api.github.com/users/drod331/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-12-09T23:19:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1347463454","html_url":"https://github.com/mlflow/mlflow/issues/7488#issuecomment-1347463454","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/7488","id":1347463454,"node_id":"IC_kwDOCB5Jx85QUKke","user":{"login":"drod331","id":25235302,"node_id":"MDQ6VXNlcjI1MjM1MzAy","avatar_url":"https://avatars.githubusercontent.com/u/25235302?v=4","gravatar_id":"","url":"https://api.github.com/users/drod331","html_url":"https://github.com/drod331","followers_url":"https://api.github.com/users/drod331/followers","following_url":"https://api.github.com/users/drod331/following{/other_user}","gists_url":"https://api.github.com/users/drod331/gists{/gist_id}","starred_url":"https://api.github.com/users/drod331/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drod331/subscriptions","organizations_url":"https://api.github.com/users/drod331/orgs","repos_url":"https://api.github.com/users/drod331/repos","events_url":"https://api.github.com/users/drod331/events{/privacy}","received_events_url":"https://api.github.com/users/drod331/received_events","type":"User","site_admin":false},"created_at":"2022-12-12T23:04:21Z","updated_at":"2022-12-12T23:04:55Z","author_association":"CONTRIBUTOR","body":"After inspecting the source code and doing some testing, it seems to be preserving the environment variables as intended.  After taking a second look at my setup and the environment variables, somehow only ARROW_LIBHDFS_DIR was not being passed through, with others being passed through correctly.  I'm thinking it might be a strange bug with this 3rd party library that's passing the env vars to Mlflow, so I'll mark as closed due to not being a bug with this project.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1347463454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"drod331","id":25235302,"node_id":"MDQ6VXNlcjI1MjM1MzAy","avatar_url":"https://avatars.githubusercontent.com/u/25235302?v=4","gravatar_id":"","url":"https://api.github.com/users/drod331","html_url":"https://github.com/drod331","followers_url":"https://api.github.com/users/drod331/followers","following_url":"https://api.github.com/users/drod331/following{/other_user}","gists_url":"https://api.github.com/users/drod331/gists{/gist_id}","starred_url":"https://api.github.com/users/drod331/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drod331/subscriptions","organizations_url":"https://api.github.com/users/drod331/orgs","repos_url":"https://api.github.com/users/drod331/repos","events_url":"https://api.github.com/users/drod331/events{/privacy}","received_events_url":"https://api.github.com/users/drod331/received_events","type":"User","site_admin":false}},{"id":8019493840,"node_id":"CE_lADOCB5Jx85YiwHszwAAAAHd_8PQ","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/8019493840","actor":{"login":"drod331","id":25235302,"node_id":"MDQ6VXNlcjI1MjM1MzAy","avatar_url":"https://avatars.githubusercontent.com/u/25235302?v=4","gravatar_id":"","url":"https://api.github.com/users/drod331","html_url":"https://github.com/drod331","followers_url":"https://api.github.com/users/drod331/followers","following_url":"https://api.github.com/users/drod331/following{/other_user}","gists_url":"https://api.github.com/users/drod331/gists{/gist_id}","starred_url":"https://api.github.com/users/drod331/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drod331/subscriptions","organizations_url":"https://api.github.com/users/drod331/orgs","repos_url":"https://api.github.com/users/drod331/repos","events_url":"https://api.github.com/users/drod331/events{/privacy}","received_events_url":"https://api.github.com/users/drod331/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-12-12T23:04:22Z","state_reason":null,"performed_via_github_app":null}]