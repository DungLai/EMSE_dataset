[{"id":6260293942,"node_id":"LE_lADOCB5Jx85F44YqzwAAAAF1JIE2","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6260293942","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-17T16:16:01Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"id":6260296095,"node_id":"LE_lADOCB5Jx85F44YqzwAAAAF1JImf","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6260296095","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-17T16:16:17Z","label":{"name":"area/artifacts","color":"48eabc"},"performed_via_github_app":null},{"id":6260296099,"node_id":"LE_lADOCB5Jx85F44YqzwAAAAF1JImj","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6260296099","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-17T16:16:17Z","label":{"name":"area/model-registry","color":"48eabc"},"performed_via_github_app":null},{"id":6260296106,"node_id":"LE_lADOCB5Jx85F44YqzwAAAAF1JImq","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6260296106","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-17T16:16:17Z","label":{"name":"area/models","color":"48eabc"},"performed_via_github_app":null},{"id":6260296114,"node_id":"LE_lADOCB5Jx85F44YqzwAAAAF1JImy","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6260296114","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-17T16:16:17Z","label":{"name":"area/server-infra","color":"48eabc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1071913801","html_url":"https://github.com/mlflow/mlflow/issues/5507#issuecomment-1071913801","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5507","id":1071913801,"node_id":"IC_kwDOCB5Jx84_5BtJ","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-03-18T00:56:45Z","updated_at":"2022-03-18T00:56:45Z","author_association":"COLLABORATOR","body":"Hi @Davidswinkels have you taken a look at the model registry functionality? \r\nhttps://www.mlflow.org/docs/latest/model-registry.html#fetching-an-mlflow-model-from-the-model-registry\r\n\r\nThe ability to retrieve a particular model with a single API call is in there, allowing you to get an artifact by specifying a version or a stage directly. This might simplify your use case. \r\n\r\nAs far as tightly coupling the tracking server and artifact retrieval into a single API call, I'm afraid that it wouldn't buy any performance improvement (they are separate services) and would only complicate the APIs. \r\n\r\nHopefully the model registry (and perhaps also Projects https://www.mlflow.org/docs/latest/projects.html ) might help to reduce the amount of lines of code in your work if that is the concern. \r\n\r\nPlease let me know if there are any other points that you'd like to discuss. ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1071913801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"id":6263080165,"node_id":"MEE_lADOCB5Jx85F44YqzwAAAAF1TwTl","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6263080165","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-03-18T00:56:46Z","performed_via_github_app":null},{"id":6263080170,"node_id":"SE_lADOCB5Jx85F44YqzwAAAAF1TwTq","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6263080170","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-03-18T00:56:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1072105218","html_url":"https://github.com/mlflow/mlflow/issues/5507#issuecomment-1072105218","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5507","id":1072105218,"node_id":"IC_kwDOCB5Jx84_5wcC","user":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"created_at":"2022-03-18T07:39:52Z","updated_at":"2022-03-18T07:39:52Z","author_association":"CONTRIBUTOR","body":"Hi Ben. Thanks for the answer! We will look into the model registry documentation even more to see if that improves performance and if we can fetch models easier with less code. Then we will get back here. Yes agree from a loose-coupling perspective it's nice to keep tracking server and artifact retrieval separated. So then it's not wise to do: \r\n`model = mlflow.sklearn.load_latest_model(experiment_name)`.\r\n\r\nDo you or others think it is interesting to be able to search_runs based on experiment_name? Or is there no need for that with model_registry? \r\n\r\n```\r\nrun = mlflow.search_runs(experiment_name, max_results=1)\r\nmodel = mlflow.sklearn.load_model(os.path.join(run.artifact_uri[0], \"model/\"))\r\n```","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1072105218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1074151920","html_url":"https://github.com/mlflow/mlflow/issues/5507#issuecomment-1074151920","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5507","id":1074151920,"node_id":"IC_kwDOCB5Jx85ABkHw","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-03-21T16:51:44Z","updated_at":"2022-03-21T16:51:44Z","author_association":"COLLABORATOR","body":"There certainly won't be a need to search for the experiment name while using the model registry since there is a very small subset of \"production-capable\" models that would be registered. \r\nThat being said, that doesn't seem like what your use case is for if you're asking about searching for runs based on experiment names. \r\nWe'll have an internal discussion around whether we'd like to pursue something like this (which would add a further layer of complication performance-wise to the search_runs fluent API as we'd be adding a call to get the experiment information (e.g., from SQLAlchemy: https://github.com/mlflow/mlflow/blob/3ab6fbf3757fc58b2600a10cd67f2104fdd1be23/mlflow/store/tracking/sqlalchemy_store.py#L382-L396 ) to each of the provided names in the search query). Absolutely no promises here other than the fact that we'll discuss it.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1074151920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1074552033","html_url":"https://github.com/mlflow/mlflow/issues/5507#issuecomment-1074552033","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5507","id":1074552033,"node_id":"IC_kwDOCB5Jx85ADFzh","user":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false},"created_at":"2022-03-22T00:24:01Z","updated_at":"2022-03-22T00:24:01Z","author_association":"COLLABORATOR","body":"Hi @Davidswinkels if you're up for creating a search_runs_by_experiment_name() implementation that performs the client-side resolution of experiment names to experiment_id's and then submits those to the search_runs() API, please feel free to file a PR and we'll be more than happy to review and provide feedback.","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1074552033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BenWilson2","id":39283302,"node_id":"MDQ6VXNlcjM5MjgzMzAy","avatar_url":"https://avatars.githubusercontent.com/u/39283302?v=4","gravatar_id":"","url":"https://api.github.com/users/BenWilson2","html_url":"https://github.com/BenWilson2","followers_url":"https://api.github.com/users/BenWilson2/followers","following_url":"https://api.github.com/users/BenWilson2/following{/other_user}","gists_url":"https://api.github.com/users/BenWilson2/gists{/gist_id}","starred_url":"https://api.github.com/users/BenWilson2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenWilson2/subscriptions","organizations_url":"https://api.github.com/users/BenWilson2/orgs","repos_url":"https://api.github.com/users/BenWilson2/repos","events_url":"https://api.github.com/users/BenWilson2/events{/privacy}","received_events_url":"https://api.github.com/users/BenWilson2/received_events","type":"User","site_admin":false}},{"id":6279664448,"node_id":"MEE_lADOCB5Jx85F44YqzwAAAAF2TBNA","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6279664448","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-03-22T00:24:01Z","performed_via_github_app":null},{"id":6279664453,"node_id":"SE_lADOCB5Jx85F44YqzwAAAAF2TBNF","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6279664453","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-03-22T00:24:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1078909323","html_url":"https://github.com/mlflow/mlflow/issues/5507#issuecomment-1078909323","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5507","id":1078909323,"node_id":"IC_kwDOCB5Jx85ATtmL","user":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"created_at":"2022-03-25T11:04:46Z","updated_at":"2022-03-25T13:06:39Z","author_association":"CONTRIBUTOR","body":"Hey Ben. We were thinking of adding this since we were using MLFlow with file-based backend-store-uri. We are currently switching to a database backend to improve performance. Plus with database backend we can now switch to model registry too. We still have to test how much performance would increase from using the calls via model registry. From initial performance check the \"get_experiment_by_name\" does not seem the bottleneck anymore:\r\n\r\n```\r\nexperiment = mlflow.get_experiment_by_name(experiment_name)\r\nrun = mlflow.search_runs(experiment.experiment_id, max_results=1)\r\nmodel = mlflow.sklearn.load_model(os.path.join(run.artifact_uri[0], \"model/\"))\r\n```\r\n\r\nPerformance comparison of MLFlow model retrieval (file-based vs SQLite database) over 10 calls:\r\n\r\n<html>\r\n<body>\r\n<!--StartFragment-->\r\n\r\n  | File-based | Database (SQLite)\r\n-- | -- | --\r\nmlflow.get_experiment_by_name(experiment_name) | 5.3 s | 0.4 s\r\nmlflow.search_runs(experiment.experiment_id, max_results=1) | 8.1 s | 4.7 s\r\nmlflow.sklearn.load_model(os.path.join(run.artifact_uri[0], \"model/\")) | 0.2 s | 0.2 s\r\n\r\n<!--EndFragment-->\r\n</body>\r\n</html>\r\n\r\nThe requested feature to get run by experiment_name would still improve performance quite a bit for people who use file-based backend, but we won't develop it for now since for us with database backend getting experiment based on experiment_name is less of a performance issue. ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1078909323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1082805120","html_url":"https://github.com/mlflow/mlflow/issues/5507#issuecomment-1082805120","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5507","id":1082805120,"node_id":"IC_kwDOCB5Jx85AikuA","user":{"login":"r3stl355","id":9950582,"node_id":"MDQ6VXNlcjk5NTA1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9950582?v=4","gravatar_id":"","url":"https://api.github.com/users/r3stl355","html_url":"https://github.com/r3stl355","followers_url":"https://api.github.com/users/r3stl355/followers","following_url":"https://api.github.com/users/r3stl355/following{/other_user}","gists_url":"https://api.github.com/users/r3stl355/gists{/gist_id}","starred_url":"https://api.github.com/users/r3stl355/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r3stl355/subscriptions","organizations_url":"https://api.github.com/users/r3stl355/orgs","repos_url":"https://api.github.com/users/r3stl355/repos","events_url":"https://api.github.com/users/r3stl355/events{/privacy}","received_events_url":"https://api.github.com/users/r3stl355/received_events","type":"User","site_admin":false},"created_at":"2022-03-30T08:53:28Z","updated_at":"2022-03-30T08:53:28Z","author_association":"CONTRIBUTOR","body":"I'll give this a try","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1082805120/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"r3stl355","id":9950582,"node_id":"MDQ6VXNlcjk5NTA1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9950582?v=4","gravatar_id":"","url":"https://api.github.com/users/r3stl355","html_url":"https://github.com/r3stl355","followers_url":"https://api.github.com/users/r3stl355/followers","following_url":"https://api.github.com/users/r3stl355/following{/other_user}","gists_url":"https://api.github.com/users/r3stl355/gists{/gist_id}","starred_url":"https://api.github.com/users/r3stl355/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r3stl355/subscriptions","organizations_url":"https://api.github.com/users/r3stl355/orgs","repos_url":"https://api.github.com/users/r3stl355/repos","events_url":"https://api.github.com/users/r3stl355/events{/privacy}","received_events_url":"https://api.github.com/users/r3stl355/received_events","type":"User","site_admin":false}},{"id":6344250116,"node_id":"UNLE_lADOCB5Jx85F44YqzwAAAAF6JZME","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6344250116","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2022-03-31T13:57:10Z","label":{"name":"area/model-registry","color":"48eabc"},"performed_via_github_app":null},{"id":6344250122,"node_id":"UNLE_lADOCB5Jx85F44YqzwAAAAF6JZMK","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6344250122","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2022-03-31T13:57:10Z","label":{"name":"area/artifacts","color":"48eabc"},"performed_via_github_app":null},{"id":6344250135,"node_id":"LE_lADOCB5Jx85F44YqzwAAAAF6JZMX","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6344250135","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-31T13:57:10Z","label":{"name":"area/tracking","color":"48eabc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1096668197","html_url":"https://github.com/mlflow/mlflow/issues/5507#issuecomment-1096668197","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/5507","id":1096668197,"node_id":"IC_kwDOCB5Jx85BXdQl","user":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"created_at":"2022-04-12T12:33:59Z","updated_at":"2022-04-12T15:35:30Z","author_association":"CONTRIBUTOR","body":" This issue was resolved by this PR (https://github.com/mlflow/mlflow/pull/5564) and mlflow 1.25.0 release. Did a small test on MLFlow==1.25.0 with a SQLite database. Performance did improve! It varied quite a bit compared to before. Probably due too environment (local vs kubernetes cluster, and file-based vs SQLite) and also how many runs/models were stored. \r\n\r\n### Summary performance check model retrieval per code chunk\r\n\r\n<html>\r\n<body>\r\n<!--StartFragment-->\r\n\r\n  | Average over 10 calls \r\n-- | -- \r\nTracking registry: model via name + experiment + run | 1.48 s \r\nTracking registry: model via name + run | 1.46 s \r\nModel registry: model via version + model registry | 1.62 s\r\nModel registry: multiple models via stage None + model registry | 1.46 s\r\nModel registry: single model via stage Production+ model registry | 1.49 s \r\n\r\n<!--EndFragment-->\r\n</body>\r\n</html>\r\n\r\n\r\n### Tracking registry model retrieval\r\nRetrieve model via name + experiment + run (1.48 s ± 44.4 ms per loop (mean ± std. dev. of 7 runs, 10 loops each))\r\n```\r\nexperiment_name=\"Blub5\"\r\nexperiment = mlflow.get_experiment_by_name(experiment_name)\r\nrun = mlflow.search_runs(experiment.experiment_id, max_results=1)\r\nmodel = mlflow.pyfunc.load_model(os.path.join(run.artifact_uri[0], \"model/\"))\r\n```\r\n\r\nRetrieve model via name + run (1.46 s ± 28.8 ms per loop (mean ± std. dev. of 7 runs, 10 loops each))\r\n```\r\nexperiment_name=\"Blub5\"\r\nrun = mlflow.search_runs(experiment_names=[experiment_name], max_results=1)\r\nmodel = mlflow.pyfunc.load_model(os.path.join(run.artifact_uri[0], \"model/\"))\r\n```\r\n\r\n### Model registry model retrieval\r\nRetrieve model via version + model registry (1.62 s ± 171 ms per loop (mean ± std. dev. of 7 runs, 10 loops each))\r\n```\r\nmodel_name = \"Blub5\"\r\nclient = MlflowClient()\r\nmodel_versions = client.get_latest_versions(model_name, stages=[\"None\"])\r\nmodel_version = model_versions[0].version\r\nmodel = mlflow.pyfunc.load_model(model_uri=f\"models:/{model_name}/{model_version}\")\r\n```\r\n\r\nRetrieve model via stage None + model registry (1.46 s ± 43.8 ms per loop (mean ± std. dev. of 7 runs, 10 loops each))\r\nTen models are on stage None, but most recently trained model will be retrieved\r\n```\r\nmodel_name = \"Blub5\"\r\nstage = 'None'\r\nmodel = mlflow.pyfunc.load_model(model_uri=f\"models:/{model_name}/{stage}\")\r\n```\r\n\r\nRetrieve model via stage Production + model registry (1.49 s ± 66.9 ms per loop (mean ± std. dev. of 7 runs, 10 loops each))\r\nOne single model is on Production\r\n```\r\nmodel_name = \"Blub5\"\r\nstage = 'Production'\r\nmodel = mlflow.pyfunc.load_model(model_uri=f\"models:/{model_name}/{stage}\")\r\n```\r\n\r\nThanks restless for implementing this. More neat to be able to get run based on experiment_name directly from tracking registry :)\r\n","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/1096668197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false}},{"id":6418729064,"node_id":"CE_lADOCB5Jx85F44YqzwAAAAF-lgho","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/6418729064","actor":{"login":"Davidswinkels","id":25053215,"node_id":"MDQ6VXNlcjI1MDUzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/25053215?v=4","gravatar_id":"","url":"https://api.github.com/users/Davidswinkels","html_url":"https://github.com/Davidswinkels","followers_url":"https://api.github.com/users/Davidswinkels/followers","following_url":"https://api.github.com/users/Davidswinkels/following{/other_user}","gists_url":"https://api.github.com/users/Davidswinkels/gists{/gist_id}","starred_url":"https://api.github.com/users/Davidswinkels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Davidswinkels/subscriptions","organizations_url":"https://api.github.com/users/Davidswinkels/orgs","repos_url":"https://api.github.com/users/Davidswinkels/repos","events_url":"https://api.github.com/users/Davidswinkels/events{/privacy}","received_events_url":"https://api.github.com/users/Davidswinkels/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-04-12T12:33:59Z","state_reason":null,"performed_via_github_app":null}]