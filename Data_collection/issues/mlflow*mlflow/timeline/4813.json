[{"id":5312712368,"node_id":"LE_lADOCB5Jx847f9PyzwAAAAE8qY6w","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5312712368","actor":{"login":"bjacobs1","id":2877563,"node_id":"MDQ6VXNlcjI4Nzc1NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2877563?v=4","gravatar_id":"","url":"https://api.github.com/users/bjacobs1","html_url":"https://github.com/bjacobs1","followers_url":"https://api.github.com/users/bjacobs1/followers","following_url":"https://api.github.com/users/bjacobs1/following{/other_user}","gists_url":"https://api.github.com/users/bjacobs1/gists{/gist_id}","starred_url":"https://api.github.com/users/bjacobs1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjacobs1/subscriptions","organizations_url":"https://api.github.com/users/bjacobs1/orgs","repos_url":"https://api.github.com/users/bjacobs1/repos","events_url":"https://api.github.com/users/bjacobs1/events{/privacy}","received_events_url":"https://api.github.com/users/bjacobs1/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-16T13:44:34Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":5312714066,"node_id":"LE_lADOCB5Jx847f9PyzwAAAAE8qZVS","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5312714066","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-16T13:44:49Z","label":{"name":"area/build","color":"48eabc"},"performed_via_github_app":null},{"id":5312714069,"node_id":"LE_lADOCB5Jx847f9PyzwAAAAE8qZVV","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5312714069","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-16T13:44:49Z","label":{"name":"area/docker","color":"ede978"},"performed_via_github_app":null},{"id":5312714073,"node_id":"LE_lADOCB5Jx847f9PyzwAAAAE8qZVZ","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5312714073","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-16T13:44:49Z","label":{"name":"area/examples","color":"48eabc"},"performed_via_github_app":null},{"id":5312714077,"node_id":"LE_lADOCB5Jx847f9PyzwAAAAE8qZVd","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5312714077","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-16T13:44:49Z","label":{"name":"area/projects","color":"48eabc"},"performed_via_github_app":null},{"id":5312714080,"node_id":"LE_lADOCB5Jx847f9PyzwAAAAE8qZVg","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5312714080","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-16T13:44:49Z","label":{"name":"area/windows","color":"ede978"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/925638193","html_url":"https://github.com/mlflow/mlflow/issues/4813#issuecomment-925638193","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/4813","id":925638193,"node_id":"IC_kwDOCB5Jx843LB4x","user":{"login":"MrKriss","id":1253209,"node_id":"MDQ6VXNlcjEyNTMyMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1253209?v=4","gravatar_id":"","url":"https://api.github.com/users/MrKriss","html_url":"https://github.com/MrKriss","followers_url":"https://api.github.com/users/MrKriss/followers","following_url":"https://api.github.com/users/MrKriss/following{/other_user}","gists_url":"https://api.github.com/users/MrKriss/gists{/gist_id}","starred_url":"https://api.github.com/users/MrKriss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrKriss/subscriptions","organizations_url":"https://api.github.com/users/MrKriss/orgs","repos_url":"https://api.github.com/users/MrKriss/repos","events_url":"https://api.github.com/users/MrKriss/events{/privacy}","received_events_url":"https://api.github.com/users/MrKriss/received_events","type":"User","site_admin":false},"created_at":"2021-09-23T09:16:42Z","updated_at":"2021-09-23T09:16:42Z","author_association":"NONE","body":"I can verify this is also happening on my windows system when trying to use docker environments with MLflow projects.  And it also looks to share the same underlying cause as issue #4603 \r\n\r\nWith a bit more digging, the root cause seems to be that python errors when attempting to delete a file that has been marked as read only on windows.  This read only flag is set on all the files in the `.git/` folder by default, so if a project uses git and places a `MLproject` file at the root level, mlflow copies the whole `.git/` folder over to a temp directory in preparation for copying it to the base docker image in the build. However mlflow is then unable to delete these files in clean up afterward, and so errors. \r\n\r\nA fix could account for the read only flag and unset it if there is an error, as detailed here: https://stackoverflow.com/questions/4829043/how-to-remove-read-only-attrib-directory-with-python-in-windows\r\n\r\nOr alternatively, certain folders could be excluded from the initial copy operation, like `.git/`, which are likely already specified in a .dockerignore file to prevent them being copied over to the docker image in the last docker build step. ","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/925638193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MrKriss","id":1253209,"node_id":"MDQ6VXNlcjEyNTMyMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1253209?v=4","gravatar_id":"","url":"https://api.github.com/users/MrKriss","html_url":"https://github.com/MrKriss","followers_url":"https://api.github.com/users/MrKriss/followers","following_url":"https://api.github.com/users/MrKriss/following{/other_user}","gists_url":"https://api.github.com/users/MrKriss/gists{/gist_id}","starred_url":"https://api.github.com/users/MrKriss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrKriss/subscriptions","organizations_url":"https://api.github.com/users/MrKriss/orgs","repos_url":"https://api.github.com/users/MrKriss/repos","events_url":"https://api.github.com/users/MrKriss/events{/privacy}","received_events_url":"https://api.github.com/users/MrKriss/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/987827915","html_url":"https://github.com/mlflow/mlflow/issues/4813#issuecomment-987827915","issue_url":"https://api.github.com/repos/mlflow/mlflow/issues/4813","id":987827915,"node_id":"IC_kwDOCB5Jx8464Q7L","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"created_at":"2021-12-07T11:16:13Z","updated_at":"2021-12-07T11:16:13Z","author_association":"MEMBER","body":"fixed by #4604","reactions":{"url":"https://api.github.com/repos/mlflow/mlflow/issues/comments/987827915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false}},{"id":5726764437,"node_id":"CE_lADOCB5Jx847f9PyzwAAAAFVV32V","url":"https://api.github.com/repos/mlflow/mlflow/issues/events/5726764437","actor":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-12-07T11:16:13Z","state_reason":null,"performed_via_github_app":null}]