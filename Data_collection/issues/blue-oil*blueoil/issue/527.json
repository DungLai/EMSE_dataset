{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/527","repository_url":"https://api.github.com/repos/blue-oil/blueoil","labels_url":"https://api.github.com/repos/blue-oil/blueoil/issues/527/labels{/name}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/issues/527/comments","events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/527/events","html_url":"https://github.com/blue-oil/blueoil/issues/527","id":507832885,"node_id":"MDU6SXNzdWU1MDc4MzI4ODU=","number":527,"title":"DLK examples x86 build failed, fyolo_quantize_17_v14_some_1x1_wide_pact_add_conv","user":{"login":"yoya","id":26040,"node_id":"MDQ6VXNlcjI2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/26040?v=4","gravatar_id":"","url":"https://api.github.com/users/yoya","html_url":"https://github.com/yoya","followers_url":"https://api.github.com/users/yoya/followers","following_url":"https://api.github.com/users/yoya/following{/other_user}","gists_url":"https://api.github.com/users/yoya/gists{/gist_id}","starred_url":"https://api.github.com/users/yoya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoya/subscriptions","organizations_url":"https://api.github.com/users/yoya/orgs","repos_url":"https://api.github.com/users/yoya/repos","events_url":"https://api.github.com/users/yoya/events{/privacy}","received_events_url":"https://api.github.com/users/yoya/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-10-16T12:53:47Z","updated_at":"2019-10-24T07:54:44Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"at version: master (dcb48d6, 2019/10/16)\r\n\r\nexamples/object_detection/fyolo_quantize_17_v14_some_1x1_wide_pact_add_conv model fails with command 'make lib_x86', 'make ar_x86'\r\n\r\nI can't build this by C ++ function signature mismatch.\r\n\r\n```\r\n$ cd blueoil/dlk\r\n$ model_name=fyolo_quantize_17_v14_some_1x1_wide_pact_add_conv\r\n$ model_path=examples/object_detection/$model_name/minimal_graph_with_shape.pb\r\n$ output_dir=tmp\r\n$ PYTHONPATH=python/dlk python python/dlk/scripts/generate_project.py \\\r\n                     -i $model_path -o $output_dir -p $model_name\r\n$ (cd $output_dir/$model_name.prj &&  make ar_x86 lib_x86)\r\n```\r\n\r\n```\r\nsrc/network.cpp:1313:133: error: no matching function for call to ‘func_QTZ_linear_mid_tread_half(TensorView<float, (MemoryLayout)7>&, const TensorView<float, (MemoryLayout)0>&, const TensorView<int, (MemoryLayout)0>&, TensorView<float, (MemoryLayout)7>&)’\r\nNorm, block_11_pact_alpha, block_11_Const, block_11_QTZ_linear_mid_tread_half);\r\n```\r\n\r\nThere is a problem with the type of the 2nd argument 'block_11_pact_alpha'.\r\n\r\n```\r\nconst TensorView<float, (MemoryLayout)0>&,\r\n```\r\n\r\nThe existing function signatures are as follows, and it seems to\r\nexpect an argument of type TensorView<T_INT, MemoryLayout::Atom>.\r\n\r\n- include/quantizer.h\r\n\r\n```\r\nvoid func_QTZ_linear_mid_tread_half(\r\n    const TensorView<T_FLOAT, MemoryLayout::NHWC>& input,\r\n    const TensorView<T_INT, MemoryLayout::Atom>& nbit,\r\n    const TensorView<T_FLOAT, MemoryLayout::Atom>& max_value,\r\n    const TensorView<QUANTIZED_PACKED, MemoryLayout::HWChBCl>& output);\r\n\r\nvoid func_QTZ_linear_mid_tread_half(\r\n  const TensorView<T_FLOAT, MemoryLayout::NHWC>& input,\r\n  const TensorView<T_INT, MemoryLayout::Atom>& nbit,\r\n  const TensorView<T_FLOAT, MemoryLayout::Atom>& max_value,\r\n  const TensorView<T_FLOAT, MemoryLayout::NHWC>& output);\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blue-oil/blueoil/issues/527/timeline","performed_via_github_app":null,"state_reason":null}