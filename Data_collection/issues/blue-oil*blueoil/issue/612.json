{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/612","repository_url":"https://api.github.com/repos/blue-oil/blueoil","labels_url":"https://api.github.com/repos/blue-oil/blueoil/issues/612/labels{/name}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/issues/612/comments","events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/612/events","html_url":"https://github.com/blue-oil/blueoil/issues/612","id":521999865,"node_id":"MDU6SXNzdWU1MjE5OTk4NjU=","number":612,"title":"generate dataset iterator prefetch flag from Blueoil prefetch flag","user":{"login":"joelN123","id":32167300,"node_id":"MDQ6VXNlcjMyMTY3MzAw","avatar_url":"https://avatars.githubusercontent.com/u/32167300?v=4","gravatar_id":"","url":"https://api.github.com/users/joelN123","html_url":"https://github.com/joelN123","followers_url":"https://api.github.com/users/joelN123/followers","following_url":"https://api.github.com/users/joelN123/following{/other_user}","gists_url":"https://api.github.com/users/joelN123/gists{/gist_id}","starred_url":"https://api.github.com/users/joelN123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelN123/subscriptions","organizations_url":"https://api.github.com/users/joelN123/orgs","repos_url":"https://api.github.com/users/joelN123/repos","events_url":"https://api.github.com/users/joelN123/events{/privacy}","received_events_url":"https://api.github.com/users/joelN123/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":{"login":"Joeper214","id":2352389,"node_id":"MDQ6VXNlcjIzNTIzODk=","avatar_url":"https://avatars.githubusercontent.com/u/2352389?v=4","gravatar_id":"","url":"https://api.github.com/users/Joeper214","html_url":"https://github.com/Joeper214","followers_url":"https://api.github.com/users/Joeper214/followers","following_url":"https://api.github.com/users/Joeper214/following{/other_user}","gists_url":"https://api.github.com/users/Joeper214/gists{/gist_id}","starred_url":"https://api.github.com/users/Joeper214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joeper214/subscriptions","organizations_url":"https://api.github.com/users/Joeper214/orgs","repos_url":"https://api.github.com/users/Joeper214/repos","events_url":"https://api.github.com/users/Joeper214/events{/privacy}","received_events_url":"https://api.github.com/users/Joeper214/received_events","type":"User","site_admin":false},"assignees":[{"login":"Joeper214","id":2352389,"node_id":"MDQ6VXNlcjIzNTIzODk=","avatar_url":"https://avatars.githubusercontent.com/u/2352389?v=4","gravatar_id":"","url":"https://api.github.com/users/Joeper214","html_url":"https://github.com/Joeper214","followers_url":"https://api.github.com/users/Joeper214/followers","following_url":"https://api.github.com/users/Joeper214/following{/other_user}","gists_url":"https://api.github.com/users/Joeper214/gists{/gist_id}","starred_url":"https://api.github.com/users/Joeper214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joeper214/subscriptions","organizations_url":"https://api.github.com/users/Joeper214/orgs","repos_url":"https://api.github.com/users/Joeper214/repos","events_url":"https://api.github.com/users/Joeper214/events{/privacy}","received_events_url":"https://api.github.com/users/Joeper214/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-11-13T06:59:07Z","updated_at":"2019-12-02T02:21:34Z","closed_at":"2019-12-02T02:21:34Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"## tl;dr :\r\nA straightforward fix is to include the prefetch flag in the _blueoil_to_lmnet function of blueoil/generate_lmnet_config.py\r\n\r\n## detailed explanation :\r\n\r\nFor the DatasetIterator, there is a flag called enable_prefetch, which specifies whether to use prefetch or not. The value fed to it is a flag called prefetch, from the LMNet config. The LMNet config is generated from the Blueoil config by the _blueoil_to_lmnet function in the file blueoil/generate_lmnet_config.py\r\n\r\nHowever, the _blueoil_to_lmnet function does not mention prefetch. When running python blueoil/cmd/main.py train, I also find the generated config.py file does not contain a value for the prefetch flag.\r\n\r\nThere exists a corresponding flag in the Blueoil config, called dataset_prefetch, inside of common. But, it looks like this flag is not used to generate a prefetch flag for the LMNet config.\r\n\r\nSo, I think this creates two problems : 1. prefetch defaults to not being used, but most users would probably prefer to have prefetch enabled. 2. the value of dataset_prefetch flag in the Blueoil config yml file does not reflect what is done in training.","closed_by":{"login":"Joeper214","id":2352389,"node_id":"MDQ6VXNlcjIzNTIzODk=","avatar_url":"https://avatars.githubusercontent.com/u/2352389?v=4","gravatar_id":"","url":"https://api.github.com/users/Joeper214","html_url":"https://github.com/Joeper214","followers_url":"https://api.github.com/users/Joeper214/followers","following_url":"https://api.github.com/users/Joeper214/following{/other_user}","gists_url":"https://api.github.com/users/Joeper214/gists{/gist_id}","starred_url":"https://api.github.com/users/Joeper214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joeper214/subscriptions","organizations_url":"https://api.github.com/users/Joeper214/orgs","repos_url":"https://api.github.com/users/Joeper214/repos","events_url":"https://api.github.com/users/Joeper214/events{/privacy}","received_events_url":"https://api.github.com/users/Joeper214/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/612/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/blue-oil/blueoil/issues/612/timeline","performed_via_github_app":null,"state_reason":"completed"}