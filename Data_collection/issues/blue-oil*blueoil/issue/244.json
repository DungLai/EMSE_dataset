{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/244","repository_url":"https://api.github.com/repos/blue-oil/blueoil","labels_url":"https://api.github.com/repos/blue-oil/blueoil/issues/244/labels{/name}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/issues/244/comments","events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/244/events","html_url":"https://github.com/blue-oil/blueoil/issues/244","id":436056598,"node_id":"MDU6SXNzdWU0MzYwNTY1OTg=","number":244,"title":"run.py raises error on Tensorflow 1.13.1 ","user":{"login":"Joeper214","id":2352389,"node_id":"MDQ6VXNlcjIzNTIzODk=","avatar_url":"https://avatars.githubusercontent.com/u/2352389?v=4","gravatar_id":"","url":"https://api.github.com/users/Joeper214","html_url":"https://github.com/Joeper214","followers_url":"https://api.github.com/users/Joeper214/followers","following_url":"https://api.github.com/users/Joeper214/following{/other_user}","gists_url":"https://api.github.com/users/Joeper214/gists{/gist_id}","starred_url":"https://api.github.com/users/Joeper214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joeper214/subscriptions","organizations_url":"https://api.github.com/users/Joeper214/orgs","repos_url":"https://api.github.com/users/Joeper214/repos","events_url":"https://api.github.com/users/Joeper214/events{/privacy}","received_events_url":"https://api.github.com/users/Joeper214/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":{"login":"ruimashita","id":138891,"node_id":"MDQ6VXNlcjEzODg5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/138891?v=4","gravatar_id":"","url":"https://api.github.com/users/ruimashita","html_url":"https://github.com/ruimashita","followers_url":"https://api.github.com/users/ruimashita/followers","following_url":"https://api.github.com/users/ruimashita/following{/other_user}","gists_url":"https://api.github.com/users/ruimashita/gists{/gist_id}","starred_url":"https://api.github.com/users/ruimashita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruimashita/subscriptions","organizations_url":"https://api.github.com/users/ruimashita/orgs","repos_url":"https://api.github.com/users/ruimashita/repos","events_url":"https://api.github.com/users/ruimashita/events{/privacy}","received_events_url":"https://api.github.com/users/ruimashita/received_events","type":"User","site_admin":false},"assignees":[{"login":"ruimashita","id":138891,"node_id":"MDQ6VXNlcjEzODg5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/138891?v=4","gravatar_id":"","url":"https://api.github.com/users/ruimashita","html_url":"https://github.com/ruimashita","followers_url":"https://api.github.com/users/ruimashita/followers","following_url":"https://api.github.com/users/ruimashita/following{/other_user}","gists_url":"https://api.github.com/users/ruimashita/gists{/gist_id}","starred_url":"https://api.github.com/users/ruimashita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruimashita/subscriptions","organizations_url":"https://api.github.com/users/ruimashita/orgs","repos_url":"https://api.github.com/users/ruimashita/repos","events_url":"https://api.github.com/users/ruimashita/events{/privacy}","received_events_url":"https://api.github.com/users/ruimashita/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2019-04-23T08:16:15Z","updated_at":"2019-04-25T06:56:08Z","closed_at":"2019-04-25T06:56:08Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I tried to run inference on Jetson TX2 using GPU with the following.\r\n\r\n### System information\r\nMachine: Jetson TX2\r\n* Tensorflow 1.13.1\r\n* CUDA 10\r\n* CuDnn 7.3\r\n* Jetpack 4.2\r\n\r\n```shell\r\nubuntu@ubuntu:~/gpu/python$ python3 run.py -i ~/419d0bdecf081f08c8cf253ecc256d33.png -c ../models/meta.yaml -m ../models/minimal_graph_with_shape.pb\r\n2019-04-23 16:50:58.415039: W tensorflow/core/platform/profile_utils/cpu_utils.cc:98] Failed to find bogomips in /proc/cpuinfo; cannot determine CPU frequency\r\n2019-04-23 16:50:58.415788: I tensorflow/compiler/xla/service/service.cc:161] XLA service 0x372f9f80 executing computations on platform Host. Devices:\r\n2019-04-23 16:50:58.415851: I tensorflow/compiler/xla/service/service.cc:168]   StreamExecutor device (0): <undefined>, <undefined>\r\n2019-04-23 16:50:58.484930: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:965] ARM64 does not support NUMA - returning NUMA node zero\r\n2019-04-23 16:50:58.485266: I tensorflow/compiler/xla/service/service.cc:161] XLA service 0x3679beb0 executing computations on platform CUDA. Devices:\r\n2019-04-23 16:50:58.485320: I tensorflow/compiler/xla/service/service.cc:168]   StreamExecutor device (0): NVIDIA Tegra X2, Compute Capability 6.2\r\n2019-04-23 16:50:58.485620: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1433] Found device 0 with properties:\r\nname: NVIDIA Tegra X2 major: 6 minor: 2 memoryClockRate(GHz): 1.02\r\npciBusID: 0000:00:00.0\r\ntotalMemory: 7.67GiB freeMemory: 1.10GiB\r\n2019-04-23 16:50:58.485716: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1512] Adding visible gpu devices: 0\r\n2019-04-23 16:50:59.504110: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2019-04-23 16:50:59.504407: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990]      0\r\n2019-04-23 16:50:59.504816: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1003] 0:   N\r\n2019-04-23 16:50:59.505198: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 664 MB memory) -> physical GPU (device: 0, name: NVIDIA Tegra X2, pci bus id: 0000:00:00.0, compute capability: 6.2)\r\n2019-04-23 16:51:00.032113: E tensorflow/core/common_runtime/executor.cc:630] Executor failed to create kernel. Invalid argument: NodeDef missing attr 'Truncate' from Op<name=Cast; signature=x:SrcT -> y:DstT; attr=SrcT:type; attr=DstT:type; attr=Truncate:bool,default=false>; NodeDef: {{node conv1/QTZ_linear_mid_tread_half/Cast}}\r\n     [[{{node conv1/QTZ_linear_mid_tread_half/Cast}}]]\r\nTraceback (most recent call last):\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1334, in _do_call\r\n   return fn(*args)\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1319, in _run_fn\r\n   options, feed_dict, fetch_list, target_list, run_metadata)\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1407, in _call_tf_sessionrun\r\n   run_metadata)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: NodeDef missing attr 'Truncate' from Op<name=Cast; signature=x:SrcT -> y:DstT; attr=SrcT:type; attr=DstT:type; attr=Truncate:bool,default=false>; NodeDef: {{node conv1/QTZ_linear_mid_tread_half/Cast}}\r\n     [[{{node conv1/QTZ_linear_mid_tread_half/Cast}}]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n File \"run.py\", line 189, in <module>\r\n   main()\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/click/core.py\", line 722, in __call__\r\n   return self.main(*args, **kwargs)\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/click/core.py\", line 697, in main\r\n   rv = self.invoke(ctx)\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/click/core.py\", line 895, in invoke\r\n   return ctx.invoke(self.callback, **ctx.params)\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/click/core.py\", line 535, in invoke\r\n   return callback(*args, **kwargs)\r\n File \"run.py\", line 179, in main\r\nrun_prediction(input_image, model, config_file)\r\n File \"run.py\", line 118, in run_prediction\r\n   output, raw_image = _run(model, input_image, config)\r\n File \"run.py\", line 105, in _run\r\n   output = nn.run(data)\r\n File \"/home/ubuntu/gpu/python/lmnet/tensorflow_graph_runner.py\", line 62, in run\r\n   return self.sess.run(self.output_op, feed_dict={self.images_placeholder: data})\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 929, in run\r\n   run_metadata_ptr)\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1152, in _run\r\n   feed_dict_tensor, options, run_metadata)\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1328, in _do_run\r\n   run_metadata)\r\n File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1348, in _do_call\r\n   raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: NodeDef missing attr 'Truncate' from Op<name=Cast; signature=x:SrcT -> y:DstT; attr=SrcT:type; attr=DstT:type; attr=Truncate:bool,default=false>; NodeDef: {{node conv1/QTZ_linear_mid_tread_half/Cast}}\r\n     [[{{node conv1/QTZ_linear_mid_tread_half/Cast}}]]\r\n```\r\n\r\n\r\nIt worked with Tensorflow 1.4.1 before but not sure why it didn't work with Tensorflow 1.13.1 now.","closed_by":{"login":"Joeper214","id":2352389,"node_id":"MDQ6VXNlcjIzNTIzODk=","avatar_url":"https://avatars.githubusercontent.com/u/2352389?v=4","gravatar_id":"","url":"https://api.github.com/users/Joeper214","html_url":"https://github.com/Joeper214","followers_url":"https://api.github.com/users/Joeper214/followers","following_url":"https://api.github.com/users/Joeper214/following{/other_user}","gists_url":"https://api.github.com/users/Joeper214/gists{/gist_id}","starred_url":"https://api.github.com/users/Joeper214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joeper214/subscriptions","organizations_url":"https://api.github.com/users/Joeper214/orgs","repos_url":"https://api.github.com/users/Joeper214/repos","events_url":"https://api.github.com/users/Joeper214/events{/privacy}","received_events_url":"https://api.github.com/users/Joeper214/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blue-oil/blueoil/issues/244/timeline","performed_via_github_app":null,"state_reason":"completed"}