[{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/532933390","html_url":"https://github.com/blue-oil/blueoil/issues/441#issuecomment-532933390","issue_url":"https://api.github.com/repos/blue-oil/blueoil/issues/441","id":532933390,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjkzMzM5MA==","user":{"login":"hadusam","id":12394960,"node_id":"MDQ6VXNlcjEyMzk0OTYw","avatar_url":"https://avatars.githubusercontent.com/u/12394960?v=4","gravatar_id":"","url":"https://api.github.com/users/hadusam","html_url":"https://github.com/hadusam","followers_url":"https://api.github.com/users/hadusam/followers","following_url":"https://api.github.com/users/hadusam/following{/other_user}","gists_url":"https://api.github.com/users/hadusam/gists{/gist_id}","starred_url":"https://api.github.com/users/hadusam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hadusam/subscriptions","organizations_url":"https://api.github.com/users/hadusam/orgs","repos_url":"https://api.github.com/users/hadusam/repos","events_url":"https://api.github.com/users/hadusam/events{/privacy}","received_events_url":"https://api.github.com/users/hadusam/received_events","type":"User","site_admin":false},"created_at":"2019-09-19T02:01:46Z","updated_at":"2019-09-19T02:01:46Z","author_association":"CONTRIBUTOR","body":"Too long, I think. We should take some action to reduce build time.\r\nFrom sample result of [buildkite log](https://buildkite.com/blueoil/blueoil-test/builds/129#d28b94dc-94a7-421b-b4b6-a2ae247cc4f3), It was total: `17min`, install openmpi: `9min`, install horovod: `2min`, these are depends on CPU performance (may slower on your environment), so we should try to reduce the time of them.\r\n```\r\n[2019-08-16T08:29:08Z] Step 1/50 : FROM nvidia/cuda:10.0-cudnn7-devel-ubuntu16.04\r\n[2019-08-16T08:29:08Z] Step 2/50 : MAINTAINER masuda@leapmind.io\r\n[2019-08-16T08:29:08Z] Step 3/50 : EXPOSE 6006\r\n[2019-08-16T08:29:08Z] Step 4/50 : ENV LD_LIBRARY_PATH /usr/local/cuda/extras/CUPTI/lib64:${LD_LIBRARY_PATH}\r\n[2019-08-16T08:29:08Z] Step 5/50 : RUN echo \"deb http://ftp.jaist.ac.jp/ubuntu/ xenial main restricted universe multiverse \\ndeb-src http://ftp.jaist.ac.jp/ubuntu/ xenial main restricted universe multiverse \\ndeb http://ftp.jaist.ac.jp/ubuntu/ xenial-updates main restricted universe multiverse \\ndeb-src http://ftp.jaist.ac.jp/ubuntu/ xenial-updates main restricted universe multiverse \\ndeb http://ftp.jaist.ac.jp/ubuntu/ xenial-backports main restricted universe multiverse \\ndeb-src http://ftp.jaist.ac.jp/ubuntu/ xenial-backports main restricted universe multiverse \\ndeb http://security.ubuntu.com/ubuntu xenial-security main restricted universe multiverse \\ndeb-src http://security.ubuntu.com/ubuntu xenial-security main restricted universe multiverse\" > /etc/apt/sources.list\r\n[2019-08-16T08:29:08Z] Step 6/50 : RUN apt-get update && apt-get install -y     cmake     locales    python3     python3-dev     python3-pip     python3-wheel     &&     apt-get clean &&     rm -rf /var/lib/apt/lists/*\r\n[2019-08-16T08:29:08Z] Step 7/50 : RUN apt-get update && apt-get install -y     python3-pil     libjpeg8-dev     zlib1g-dev     python3-matplotlib     liblapack-dev     git     make     build-essential     libssl-dev     libbz2-dev     libreadline-dev     libsqlite3-dev     wget     curl     llvm     libncurses5-dev     libncursesw5-dev     xz-utils     tk-dev     &&     apt-get clean &&     rm -rf /var/lib/apt/lists/*\r\n[2019-08-16T08:29:08Z] Step 8/50 : RUN apt-get update && apt-get install -y crossbuild-essential-arm64\r\n[2019-08-16T08:29:08Z] Step 9/50 : RUN locale-gen en_US.UTF-8\r\n[2019-08-16T08:29:08Z] Step 10/50 : ENV LANG en_US.UTF-8\r\n[2019-08-16T08:29:08Z] Step 11/50 : ENV LANGUAGE en_US:en\r\n[2019-08-16T08:29:08Z] Step 12/50 : ENV LC_ALL en_US.UTF-8\r\n[2019-08-16T08:29:08Z] Step 13/50 : ENV PYENV_ROOT /usr/local/pyenv\r\n[2019-08-16T08:29:08Z] Step 14/50 : RUN git clone https://github.com/yyuu/pyenv.git $PYENV_ROOT\r\n[2019-08-16T08:29:08Z] Step 15/50 : RUN git clone https://github.com/yyuu/pyenv-virtualenv.git $PYENV_ROOT/plugins/pyenv-virtualenv\r\n[2019-08-16T08:29:08Z] Step 16/50 : ENV PATH $PYENV_ROOT/shims:$PYENV_ROOT/bin:$PATH\r\n[2019-08-16T08:29:08Z] Step 17/50 : RUN eval \"$(pyenv init -)\" &&     eval \"$(pyenv virtualenv-init -)\"\r\n[2019-08-16T08:29:08Z] Step 18/50 : ARG python_version=\"3.6.3\"\r\n[2019-08-16T08:29:08Z] Step 19/50 : RUN pyenv install ${python_version} &&     pyenv virtualenv -p python${python_version%.*} ${python_version} python${python_version%.*} &&     pyenv global python${python_version%.*}\r\n[2019-08-16T08:29:08Z] Step 20/50 : RUN pip install -U pip setuptools\r\n[2019-08-16T08:29:08Z] Step 21/50 : RUN apt-get update && apt-get install -y g++-5-arm-linux-gnueabihf &&     ln -s /usr/bin/arm-linux-gnueabihf-g++-5 /usr/bin/arm-linux-gnueabihf-g++\r\n[2019-08-16T08:29:08Z] Step 22/50 : COPY lmnet/*requirements.txt /tmp/requirements/\r\n[2019-08-16T08:29:08Z] Step 23/50 : RUN pip install -r /tmp/requirements/gpu.requirements.txt\r\n[2019-08-16T08:33:04Z] Step 24/50 : RUN pip uninstall -y prompt-toolkit\r\n[2019-08-16T08:33:07Z] Step 25/50 : COPY lmnet/third_party /home/blueoil/lmnet/third_party\r\n[2019-08-16T08:33:07Z] Step 26/50 : RUN cd /home/blueoil/lmnet/third_party/coco/PythonAPI && pip install -e .\r\n[2019-08-16T08:33:18Z] Step 27/50 : RUN mkdir /tmp/openmpi &&     cd /tmp/openmpi &&     wget https://www.open-mpi.org/software/ompi/v4.0/downloads/openmpi-4.0.1.tar.gz &&     tar zxf openmpi-4.0.1.tar.gz &&     cd openmpi-4.0.1 &&     ./configure --enable-orterun-prefix-by-default &&     make -j $(nproc) all &&     make install &&     ldconfig &&     rm -rf /tmp/openmpi\r\n[2019-08-16T08:42:26Z] Step 28/50 : RUN apt-get install -y --no-install-recommends openssh-client openssh-server &&     mkdir -p /var/run/sshd\r\n[2019-08-16T08:42:32Z] Step 29/50 : ENV HOROVOD_GPU_ALLREDUCE NCCL\r\n[2019-08-16T08:42:33Z] Step 30/50 : ENV HOROVOD_WITH_TENSORFLOW 1\r\n[2019-08-16T08:42:33Z] Step 31/50 : RUN ldconfig /usr/local/cuda-10.0/targets/x86_64-linux/lib/stubs\r\n[2019-08-16T08:42:34Z] Step 32/50 : RUN pip install -r /tmp/requirements/dist.requirements.txt\r\n[2019-08-16T08:44:52Z] Step 33/50 : RUN ldconfig\r\n[2019-08-16T08:44:54Z] Step 34/50 : RUN echo \"hwloc_base_binding_policy = none\" >> /usr/local/etc/openmpi-mca-params.conf &&     echo \"rmaps_base_mapping_policy = slot\" >> /usr/local/etc/openmpi-mca-params.conf &&     echo \"btl_tcp_if_exclude = lo,docker0\" >> /usr/local/etc/openmpi-mca-params.conf\r\n[2019-08-16T08:44:55Z] Step 35/50 : RUN mkdir /.horovod && chmod 777 /.horovod\r\n[2019-08-16T08:44:56Z] Step 36/50 : COPY blueoil /home/blueoil/blueoil\r\n[2019-08-16T08:44:57Z] Step 37/50 : COPY setup.* /home/blueoil/\r\n[2019-08-16T08:44:57Z] Step 38/50 : COPY output_template /home/blueoil/output_template\r\n[2019-08-16T08:44:57Z] Step 39/50 : WORKDIR /home/blueoil\r\n[2019-08-16T08:44:58Z] Step 40/50 : RUN python setup.py install\r\n[2019-08-16T08:45:14Z] Step 41/50 : RUN chmod 777 /home/blueoil\r\n[2019-08-16T08:45:16Z] Step 42/50 : COPY dlk /home/blueoil/dlk\r\n[2019-08-16T08:45:25Z] Step 43/50 : WORKDIR /home/blueoil/dlk\r\n[2019-08-16T08:45:25Z] Step 44/50 : RUN PYTHONPATH=python/dlk python setup.py install\r\n[2019-08-16T08:45:45Z] Step 45/50 : RUN chmod 777 /home/blueoil/dlk\r\n[2019-08-16T08:45:47Z] Step 46/50 : COPY lmnet /home/blueoil/lmnet\r\n[2019-08-16T08:45:49Z] Step 47/50 : ENV PYTHONPATH $PYTHONPATH:/home/blueoil:/home/blueoil/lmnet:/home/blueoil/dlk/python/dlk\r\n[2019-08-16T08:45:49Z] Step 48/50 : WORKDIR /home/blueoil\r\n[2019-08-16T08:45:49Z] Step 49/50 : RUN apt-get update && apt-get install -y      x11-apps imagemagick\r\n[2019-08-16T08:46:39Z] Step 50/50 : RUN  apt-get clean &&      rm -rf /var/lib/apt/lists/*\r\n```","reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/532933390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hadusam","id":12394960,"node_id":"MDQ6VXNlcjEyMzk0OTYw","avatar_url":"https://avatars.githubusercontent.com/u/12394960?v=4","gravatar_id":"","url":"https://api.github.com/users/hadusam","html_url":"https://github.com/hadusam","followers_url":"https://api.github.com/users/hadusam/followers","following_url":"https://api.github.com/users/hadusam/following{/other_user}","gists_url":"https://api.github.com/users/hadusam/gists{/gist_id}","starred_url":"https://api.github.com/users/hadusam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hadusam/subscriptions","organizations_url":"https://api.github.com/users/hadusam/orgs","repos_url":"https://api.github.com/users/hadusam/repos","events_url":"https://api.github.com/users/hadusam/events{/privacy}","received_events_url":"https://api.github.com/users/hadusam/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/533163922","html_url":"https://github.com/blue-oil/blueoil/issues/441#issuecomment-533163922","issue_url":"https://api.github.com/repos/blue-oil/blueoil/issues/441","id":533163922,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzE2MzkyMg==","user":{"login":"kchygoe","id":1946823,"node_id":"MDQ6VXNlcjE5NDY4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1946823?v=4","gravatar_id":"","url":"https://api.github.com/users/kchygoe","html_url":"https://github.com/kchygoe","followers_url":"https://api.github.com/users/kchygoe/followers","following_url":"https://api.github.com/users/kchygoe/following{/other_user}","gists_url":"https://api.github.com/users/kchygoe/gists{/gist_id}","starred_url":"https://api.github.com/users/kchygoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchygoe/subscriptions","organizations_url":"https://api.github.com/users/kchygoe/orgs","repos_url":"https://api.github.com/users/kchygoe/repos","events_url":"https://api.github.com/users/kchygoe/events{/privacy}","received_events_url":"https://api.github.com/users/kchygoe/received_events","type":"User","site_admin":false},"created_at":"2019-09-19T14:43:36Z","updated_at":"2019-09-19T14:43:36Z","author_association":"MEMBER","body":"I will work on this by https://github.com/blue-oil/blueoil/pull/374\r\nSorry for being late","reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/533163922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchygoe","id":1946823,"node_id":"MDQ6VXNlcjE5NDY4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1946823?v=4","gravatar_id":"","url":"https://api.github.com/users/kchygoe","html_url":"https://github.com/kchygoe","followers_url":"https://api.github.com/users/kchygoe/followers","following_url":"https://api.github.com/users/kchygoe/following{/other_user}","gists_url":"https://api.github.com/users/kchygoe/gists{/gist_id}","starred_url":"https://api.github.com/users/kchygoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchygoe/subscriptions","organizations_url":"https://api.github.com/users/kchygoe/orgs","repos_url":"https://api.github.com/users/kchygoe/repos","events_url":"https://api.github.com/users/kchygoe/events{/privacy}","received_events_url":"https://api.github.com/users/kchygoe/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/546305277","html_url":"https://github.com/blue-oil/blueoil/issues/441#issuecomment-546305277","issue_url":"https://api.github.com/repos/blue-oil/blueoil/issues/441","id":546305277,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjMwNTI3Nw==","user":{"login":"ruimashita","id":138891,"node_id":"MDQ6VXNlcjEzODg5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/138891?v=4","gravatar_id":"","url":"https://api.github.com/users/ruimashita","html_url":"https://github.com/ruimashita","followers_url":"https://api.github.com/users/ruimashita/followers","following_url":"https://api.github.com/users/ruimashita/following{/other_user}","gists_url":"https://api.github.com/users/ruimashita/gists{/gist_id}","starred_url":"https://api.github.com/users/ruimashita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruimashita/subscriptions","organizations_url":"https://api.github.com/users/ruimashita/orgs","repos_url":"https://api.github.com/users/ruimashita/repos","events_url":"https://api.github.com/users/ruimashita/events{/privacy}","received_events_url":"https://api.github.com/users/ruimashita/received_events","type":"User","site_admin":false},"created_at":"2019-10-25T10:49:47Z","updated_at":"2019-10-25T10:49:47Z","author_association":"CONTRIBUTOR","body":"@kchygoe How is this progress ? I thinks we should move installing `openmpi` to before `pip install -r gpu.requirements.txt` .\r\n","reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/546305277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ruimashita","id":138891,"node_id":"MDQ6VXNlcjEzODg5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/138891?v=4","gravatar_id":"","url":"https://api.github.com/users/ruimashita","html_url":"https://github.com/ruimashita","followers_url":"https://api.github.com/users/ruimashita/followers","following_url":"https://api.github.com/users/ruimashita/following{/other_user}","gists_url":"https://api.github.com/users/ruimashita/gists{/gist_id}","starred_url":"https://api.github.com/users/ruimashita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruimashita/subscriptions","organizations_url":"https://api.github.com/users/ruimashita/orgs","repos_url":"https://api.github.com/users/ruimashita/repos","events_url":"https://api.github.com/users/ruimashita/events{/privacy}","received_events_url":"https://api.github.com/users/ruimashita/received_events","type":"User","site_admin":false}},{"id":2743782564,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc0Mzc4MjU2NA==","url":"https://api.github.com/repos/blue-oil/blueoil/issues/events/2743782564","actor":{"login":"kchygoe","id":1946823,"node_id":"MDQ6VXNlcjE5NDY4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1946823?v=4","gravatar_id":"","url":"https://api.github.com/users/kchygoe","html_url":"https://github.com/kchygoe","followers_url":"https://api.github.com/users/kchygoe/followers","following_url":"https://api.github.com/users/kchygoe/following{/other_user}","gists_url":"https://api.github.com/users/kchygoe/gists{/gist_id}","starred_url":"https://api.github.com/users/kchygoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchygoe/subscriptions","organizations_url":"https://api.github.com/users/kchygoe/orgs","repos_url":"https://api.github.com/users/kchygoe/repos","events_url":"https://api.github.com/users/kchygoe/events{/privacy}","received_events_url":"https://api.github.com/users/kchygoe/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-25T10:49:47Z","performed_via_github_app":null},{"id":2743782565,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3NDM3ODI1NjU=","url":"https://api.github.com/repos/blue-oil/blueoil/issues/events/2743782565","actor":{"login":"kchygoe","id":1946823,"node_id":"MDQ6VXNlcjE5NDY4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1946823?v=4","gravatar_id":"","url":"https://api.github.com/users/kchygoe","html_url":"https://github.com/kchygoe","followers_url":"https://api.github.com/users/kchygoe/followers","following_url":"https://api.github.com/users/kchygoe/following{/other_user}","gists_url":"https://api.github.com/users/kchygoe/gists{/gist_id}","starred_url":"https://api.github.com/users/kchygoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchygoe/subscriptions","organizations_url":"https://api.github.com/users/kchygoe/orgs","repos_url":"https://api.github.com/users/kchygoe/repos","events_url":"https://api.github.com/users/kchygoe/events{/privacy}","received_events_url":"https://api.github.com/users/kchygoe/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-25T10:49:47Z","performed_via_github_app":null},{"actor":{"login":"kchygoe","id":1946823,"node_id":"MDQ6VXNlcjE5NDY4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1946823?v=4","gravatar_id":"","url":"https://api.github.com/users/kchygoe","html_url":"https://github.com/kchygoe","followers_url":"https://api.github.com/users/kchygoe/followers","following_url":"https://api.github.com/users/kchygoe/following{/other_user}","gists_url":"https://api.github.com/users/kchygoe/gists{/gist_id}","starred_url":"https://api.github.com/users/kchygoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchygoe/subscriptions","organizations_url":"https://api.github.com/users/kchygoe/orgs","repos_url":"https://api.github.com/users/kchygoe/repos","events_url":"https://api.github.com/users/kchygoe/events{/privacy}","received_events_url":"https://api.github.com/users/kchygoe/received_events","type":"User","site_admin":false},"created_at":"2019-10-30T12:24:06Z","updated_at":"2019-10-30T12:24:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/580","repository_url":"https://api.github.com/repos/blue-oil/blueoil","labels_url":"https://api.github.com/repos/blue-oil/blueoil/issues/580/labels{/name}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/issues/580/comments","events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/580/events","html_url":"https://github.com/blue-oil/blueoil/pull/580","id":514617637,"node_id":"MDExOlB1bGxSZXF1ZXN0MzM0MjA2OTY4","number":580,"title":"Fix docker layers and stage for local development","user":{"login":"kchygoe","id":1946823,"node_id":"MDQ6VXNlcjE5NDY4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1946823?v=4","gravatar_id":"","url":"https://api.github.com/users/kchygoe","html_url":"https://github.com/kchygoe","followers_url":"https://api.github.com/users/kchygoe/followers","following_url":"https://api.github.com/users/kchygoe/following{/other_user}","gists_url":"https://api.github.com/users/kchygoe/gists{/gist_id}","starred_url":"https://api.github.com/users/kchygoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchygoe/subscriptions","organizations_url":"https://api.github.com/users/kchygoe/orgs","repos_url":"https://api.github.com/users/kchygoe/repos","events_url":"https://api.github.com/users/kchygoe/events{/privacy}","received_events_url":"https://api.github.com/users/kchygoe/received_events","type":"User","site_admin":false},"labels":[{"id":1446856599,"node_id":"MDU6TGFiZWwxNDQ2ODU2NTk5","url":"https://api.github.com/repos/blue-oil/blueoil/labels/CI:%20auto-run","name":"CI: auto-run","color":"5319e7","default":false,"description":"Run CI automatically"}],"state":"closed","locked":true,"assignee":{"login":"kchygoe","id":1946823,"node_id":"MDQ6VXNlcjE5NDY4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1946823?v=4","gravatar_id":"","url":"https://api.github.com/users/kchygoe","html_url":"https://github.com/kchygoe","followers_url":"https://api.github.com/users/kchygoe/followers","following_url":"https://api.github.com/users/kchygoe/following{/other_user}","gists_url":"https://api.github.com/users/kchygoe/gists{/gist_id}","starred_url":"https://api.github.com/users/kchygoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchygoe/subscriptions","organizations_url":"https://api.github.com/users/kchygoe/orgs","repos_url":"https://api.github.com/users/kchygoe/repos","events_url":"https://api.github.com/users/kchygoe/events{/privacy}","received_events_url":"https://api.github.com/users/kchygoe/received_events","type":"User","site_admin":false},"assignees":[{"login":"kchygoe","id":1946823,"node_id":"MDQ6VXNlcjE5NDY4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1946823?v=4","gravatar_id":"","url":"https://api.github.com/users/kchygoe","html_url":"https://github.com/kchygoe","followers_url":"https://api.github.com/users/kchygoe/followers","following_url":"https://api.github.com/users/kchygoe/following{/other_user}","gists_url":"https://api.github.com/users/kchygoe/gists{/gist_id}","starred_url":"https://api.github.com/users/kchygoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchygoe/subscriptions","organizations_url":"https://api.github.com/users/kchygoe/orgs","repos_url":"https://api.github.com/users/kchygoe/repos","events_url":"https://api.github.com/users/kchygoe/events{/privacy}","received_events_url":"https://api.github.com/users/kchygoe/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/blue-oil/blueoil/milestones/12","html_url":"https://github.com/blue-oil/blueoil/milestone/12","labels_url":"https://api.github.com/repos/blue-oil/blueoil/milestones/12/labels","id":4823070,"node_id":"MDk6TWlsZXN0b25lNDgyMzA3MA==","number":12,"title":"v0.14.0","description":null,"creator":{"login":"iizukak","id":478824,"node_id":"MDQ6VXNlcjQ3ODgyNA==","avatar_url":"https://avatars.githubusercontent.com/u/478824?v=4","gravatar_id":"","url":"https://api.github.com/users/iizukak","html_url":"https://github.com/iizukak","followers_url":"https://api.github.com/users/iizukak/followers","following_url":"https://api.github.com/users/iizukak/following{/other_user}","gists_url":"https://api.github.com/users/iizukak/gists{/gist_id}","starred_url":"https://api.github.com/users/iizukak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iizukak/subscriptions","organizations_url":"https://api.github.com/users/iizukak/orgs","repos_url":"https://api.github.com/users/iizukak/repos","events_url":"https://api.github.com/users/iizukak/events{/privacy}","received_events_url":"https://api.github.com/users/iizukak/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":32,"state":"closed","created_at":"2019-11-07T07:08:50Z","updated_at":"2019-12-06T05:55:38Z","due_on":null,"closed_at":"2019-12-06T05:55:38Z"},"comments":1,"created_at":"2019-10-30T12:09:19Z","updated_at":"2019-11-07T07:13:15Z","closed_at":"2019-11-05T18:57:33Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"repository":{"id":153597157,"node_id":"MDEwOlJlcG9zaXRvcnkxNTM1OTcxNTc=","name":"blueoil","full_name":"blue-oil/blueoil","private":false,"owner":{"login":"blue-oil","id":43470236,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzNDcwMjM2","avatar_url":"https://avatars.githubusercontent.com/u/43470236?v=4","gravatar_id":"","url":"https://api.github.com/users/blue-oil","html_url":"https://github.com/blue-oil","followers_url":"https://api.github.com/users/blue-oil/followers","following_url":"https://api.github.com/users/blue-oil/following{/other_user}","gists_url":"https://api.github.com/users/blue-oil/gists{/gist_id}","starred_url":"https://api.github.com/users/blue-oil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blue-oil/subscriptions","organizations_url":"https://api.github.com/users/blue-oil/orgs","repos_url":"https://api.github.com/users/blue-oil/repos","events_url":"https://api.github.com/users/blue-oil/events{/privacy}","received_events_url":"https://api.github.com/users/blue-oil/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/blue-oil/blueoil","description":"Bring Deep Learning to small devices","fork":false,"url":"https://api.github.com/repos/blue-oil/blueoil","forks_url":"https://api.github.com/repos/blue-oil/blueoil/forks","keys_url":"https://api.github.com/repos/blue-oil/blueoil/keys{/key_id}","collaborators_url":"https://api.github.com/repos/blue-oil/blueoil/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/blue-oil/blueoil/teams","hooks_url":"https://api.github.com/repos/blue-oil/blueoil/hooks","issue_events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/events{/number}","events_url":"https://api.github.com/repos/blue-oil/blueoil/events","assignees_url":"https://api.github.com/repos/blue-oil/blueoil/assignees{/user}","branches_url":"https://api.github.com/repos/blue-oil/blueoil/branches{/branch}","tags_url":"https://api.github.com/repos/blue-oil/blueoil/tags","blobs_url":"https://api.github.com/repos/blue-oil/blueoil/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/blue-oil/blueoil/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/blue-oil/blueoil/git/refs{/sha}","trees_url":"https://api.github.com/repos/blue-oil/blueoil/git/trees{/sha}","statuses_url":"https://api.github.com/repos/blue-oil/blueoil/statuses/{sha}","languages_url":"https://api.github.com/repos/blue-oil/blueoil/languages","stargazers_url":"https://api.github.com/repos/blue-oil/blueoil/stargazers","contributors_url":"https://api.github.com/repos/blue-oil/blueoil/contributors","subscribers_url":"https://api.github.com/repos/blue-oil/blueoil/subscribers","subscription_url":"https://api.github.com/repos/blue-oil/blueoil/subscription","commits_url":"https://api.github.com/repos/blue-oil/blueoil/commits{/sha}","git_commits_url":"https://api.github.com/repos/blue-oil/blueoil/git/commits{/sha}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/comments{/number}","issue_comment_url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments{/number}","contents_url":"https://api.github.com/repos/blue-oil/blueoil/contents/{+path}","compare_url":"https://api.github.com/repos/blue-oil/blueoil/compare/{base}...{head}","merges_url":"https://api.github.com/repos/blue-oil/blueoil/merges","archive_url":"https://api.github.com/repos/blue-oil/blueoil/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/blue-oil/blueoil/downloads","issues_url":"https://api.github.com/repos/blue-oil/blueoil/issues{/number}","pulls_url":"https://api.github.com/repos/blue-oil/blueoil/pulls{/number}","milestones_url":"https://api.github.com/repos/blue-oil/blueoil/milestones{/number}","notifications_url":"https://api.github.com/repos/blue-oil/blueoil/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/blue-oil/blueoil/labels{/name}","releases_url":"https://api.github.com/repos/blue-oil/blueoil/releases{/id}","deployments_url":"https://api.github.com/repos/blue-oil/blueoil/deployments","created_at":"2018-10-18T09:19:36Z","updated_at":"2022-11-10T12:34:45Z","pushed_at":"2021-04-22T08:46:57Z","git_url":"git://github.com/blue-oil/blueoil.git","ssh_url":"git@github.com:blue-oil/blueoil.git","clone_url":"https://github.com/blue-oil/blueoil.git","svn_url":"https://github.com/blue-oil/blueoil","homepage":"https://blueoil.org","size":304801,"stargazers_count":250,"watchers_count":250,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":84,"mirror_url":null,"archived":true,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","fpga","machine-learning","python","quantization"],"visibility":"public","forks":84,"open_issues":153,"watchers":250,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/blue-oil/blueoil/pulls/580","html_url":"https://github.com/blue-oil/blueoil/pull/580","diff_url":"https://github.com/blue-oil/blueoil/pull/580.diff","patch_url":"https://github.com/blue-oil/blueoil/pull/580.patch","merged_at":"2019-11-05T18:57:33Z"},"body":"<!--- ðŸ‘‰ðŸ‘‰ðŸ‘‰ Provide a general summary of your changes. ðŸ‘ˆðŸ‘ˆðŸ‘ˆ -->\r\n\r\n## Motivation and Context\r\n<!--- ðŸ’­ðŸ’¡ðŸ’­ Why is this change required? What problem does it solve? ðŸ’­ðŸ’¡ðŸ’­ -->\r\n<!--- ðŸ”— If it fixes an open issue, please link to the issue here. ðŸ”— -->\r\nRelated to https://github.com/blue-oil/blueoil/pull/374\r\nI want to reduce the time to build docker image\r\n\r\n## Description\r\n<!--- ðŸ“ðŸŽ¯ðŸ“ Describe your changes in detail. ðŸ“ðŸŽ¯ðŸ“ -->\r\n- Create docker stage to avoid unnecessary rebuild (base, blueoil-base, blueoil-dev)\r\n- Reduce the number of docker layer to reduce the build time (46 to 40)\r\n- Add build target to docker-compose to avoid unnecessary rebuild (use blueoil-dev)\r\n- Add `pyenv rehash` to enable blueoil command in docker image by default\r\n\r\n## How has this been tested?\r\n<!--- ðŸ™†ðŸ‘ŒðŸ™† Please describe in detail how you tested your changes. ðŸ™†ðŸ‘ŒðŸ™† -->\r\n<!--- Include details of your testing environment, details of your manual tests, snippet code or commands of your manual tests, table of experiments results metrics, tests ran to see how your change affects other areas of the code, etc. -->\r\n<!--- If you have experiments report documents please link to here. -->\r\nLocally built and run basics\r\n- `make build`\r\n- `docker-compose build`\r\n\r\n## Screenshots (if appropriate):\r\n\r\n## Types of changes\r\n<!--- ðŸðŸŽŒðŸ What types of changes does your code introduce? Put an `x` in all the boxes that apply: ðŸðŸŽŒðŸ -->\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature / Optimization (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n\r\n## Checklist:\r\n<!--- âœ…âœ…âœ… Go over all the following points, and put an `x` in all the boxes that apply. âœ…âœ…âœ… -->\r\n<!--- If you're unsure about any of these, don't hesitate to ask. We're here to help! -->\r\n\r\n<!--- TODO(wakisaka): After decide our code style, add this.\r\n- [ ] My code follows the code style of this project.\r\n-->\r\n- [ ] My change requires a change to the documentation.\r\n- [ ] I have updated the documentation accordingly.","reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/580/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blue-oil/blueoil/issues/580/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/600034404","html_url":"https://github.com/blue-oil/blueoil/issues/441#issuecomment-600034404","issue_url":"https://api.github.com/repos/blue-oil/blueoil/issues/441","id":600034404,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDAzNDQwNA==","user":{"login":"tk26eng","id":35796618,"node_id":"MDQ6VXNlcjM1Nzk2NjE4","avatar_url":"https://avatars.githubusercontent.com/u/35796618?v=4","gravatar_id":"","url":"https://api.github.com/users/tk26eng","html_url":"https://github.com/tk26eng","followers_url":"https://api.github.com/users/tk26eng/followers","following_url":"https://api.github.com/users/tk26eng/following{/other_user}","gists_url":"https://api.github.com/users/tk26eng/gists{/gist_id}","starred_url":"https://api.github.com/users/tk26eng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tk26eng/subscriptions","organizations_url":"https://api.github.com/users/tk26eng/orgs","repos_url":"https://api.github.com/users/tk26eng/repos","events_url":"https://api.github.com/users/tk26eng/events{/privacy}","received_events_url":"https://api.github.com/users/tk26eng/received_events","type":"User","site_admin":false},"created_at":"2020-03-17T12:05:43Z","updated_at":"2020-03-17T12:05:43Z","author_association":"CONTRIBUTOR","body":"Is compiling openmpi really required ? It takes most part of whole time for building.\r\nIf it's possible to remove it, it's better.","reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/600034404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tk26eng","id":35796618,"node_id":"MDQ6VXNlcjM1Nzk2NjE4","avatar_url":"https://avatars.githubusercontent.com/u/35796618?v=4","gravatar_id":"","url":"https://api.github.com/users/tk26eng","html_url":"https://github.com/tk26eng","followers_url":"https://api.github.com/users/tk26eng/followers","following_url":"https://api.github.com/users/tk26eng/following{/other_user}","gists_url":"https://api.github.com/users/tk26eng/gists{/gist_id}","starred_url":"https://api.github.com/users/tk26eng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tk26eng/subscriptions","organizations_url":"https://api.github.com/users/tk26eng/orgs","repos_url":"https://api.github.com/users/tk26eng/repos","events_url":"https://api.github.com/users/tk26eng/events{/privacy}","received_events_url":"https://api.github.com/users/tk26eng/received_events","type":"User","site_admin":false}}]