[{"actor":{"login":"joelN123","id":32167300,"node_id":"MDQ6VXNlcjMyMTY3MzAw","avatar_url":"https://avatars.githubusercontent.com/u/32167300?v=4","gravatar_id":"","url":"https://api.github.com/users/joelN123","html_url":"https://github.com/joelN123","followers_url":"https://api.github.com/users/joelN123/followers","following_url":"https://api.github.com/users/joelN123/following{/other_user}","gists_url":"https://api.github.com/users/joelN123/gists{/gist_id}","starred_url":"https://api.github.com/users/joelN123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelN123/subscriptions","organizations_url":"https://api.github.com/users/joelN123/orgs","repos_url":"https://api.github.com/users/joelN123/repos","events_url":"https://api.github.com/users/joelN123/events{/privacy}","received_events_url":"https://api.github.com/users/joelN123/received_events","type":"User","site_admin":false},"created_at":"2020-01-15T02:44:34Z","updated_at":"2020-01-15T02:44:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/726","repository_url":"https://api.github.com/repos/blue-oil/blueoil","labels_url":"https://api.github.com/repos/blue-oil/blueoil/issues/726/labels{/name}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/issues/726/comments","events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/726/events","html_url":"https://github.com/blue-oil/blueoil/pull/726","id":549932084,"node_id":"MDExOlB1bGxSZXF1ZXN0MzYyOTI5NzE3","number":726,"title":"Ensure pool processes have closed","user":{"login":"joelN123","id":32167300,"node_id":"MDQ6VXNlcjMyMTY3MzAw","avatar_url":"https://avatars.githubusercontent.com/u/32167300?v=4","gravatar_id":"","url":"https://api.github.com/users/joelN123","html_url":"https://github.com/joelN123","followers_url":"https://api.github.com/users/joelN123/followers","following_url":"https://api.github.com/users/joelN123/following{/other_user}","gists_url":"https://api.github.com/users/joelN123/gists{/gist_id}","starred_url":"https://api.github.com/users/joelN123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelN123/subscriptions","organizations_url":"https://api.github.com/users/joelN123/orgs","repos_url":"https://api.github.com/users/joelN123/repos","events_url":"https://api.github.com/users/joelN123/events{/privacy}","received_events_url":"https://api.github.com/users/joelN123/received_events","type":"User","site_admin":false},"labels":[{"id":1446856599,"node_id":"MDU6TGFiZWwxNDQ2ODU2NTk5","url":"https://api.github.com/repos/blue-oil/blueoil/labels/CI:%20auto-run","name":"CI: auto-run","color":"5319e7","default":false,"description":"Run CI automatically"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2020-01-15T02:44:34Z","updated_at":"2020-01-22T04:55:17Z","closed_at":"2020-01-22T01:37:38Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":153597157,"node_id":"MDEwOlJlcG9zaXRvcnkxNTM1OTcxNTc=","name":"blueoil","full_name":"blue-oil/blueoil","private":false,"owner":{"login":"blue-oil","id":43470236,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzNDcwMjM2","avatar_url":"https://avatars.githubusercontent.com/u/43470236?v=4","gravatar_id":"","url":"https://api.github.com/users/blue-oil","html_url":"https://github.com/blue-oil","followers_url":"https://api.github.com/users/blue-oil/followers","following_url":"https://api.github.com/users/blue-oil/following{/other_user}","gists_url":"https://api.github.com/users/blue-oil/gists{/gist_id}","starred_url":"https://api.github.com/users/blue-oil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blue-oil/subscriptions","organizations_url":"https://api.github.com/users/blue-oil/orgs","repos_url":"https://api.github.com/users/blue-oil/repos","events_url":"https://api.github.com/users/blue-oil/events{/privacy}","received_events_url":"https://api.github.com/users/blue-oil/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/blue-oil/blueoil","description":"Bring Deep Learning to small devices","fork":false,"url":"https://api.github.com/repos/blue-oil/blueoil","forks_url":"https://api.github.com/repos/blue-oil/blueoil/forks","keys_url":"https://api.github.com/repos/blue-oil/blueoil/keys{/key_id}","collaborators_url":"https://api.github.com/repos/blue-oil/blueoil/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/blue-oil/blueoil/teams","hooks_url":"https://api.github.com/repos/blue-oil/blueoil/hooks","issue_events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/events{/number}","events_url":"https://api.github.com/repos/blue-oil/blueoil/events","assignees_url":"https://api.github.com/repos/blue-oil/blueoil/assignees{/user}","branches_url":"https://api.github.com/repos/blue-oil/blueoil/branches{/branch}","tags_url":"https://api.github.com/repos/blue-oil/blueoil/tags","blobs_url":"https://api.github.com/repos/blue-oil/blueoil/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/blue-oil/blueoil/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/blue-oil/blueoil/git/refs{/sha}","trees_url":"https://api.github.com/repos/blue-oil/blueoil/git/trees{/sha}","statuses_url":"https://api.github.com/repos/blue-oil/blueoil/statuses/{sha}","languages_url":"https://api.github.com/repos/blue-oil/blueoil/languages","stargazers_url":"https://api.github.com/repos/blue-oil/blueoil/stargazers","contributors_url":"https://api.github.com/repos/blue-oil/blueoil/contributors","subscribers_url":"https://api.github.com/repos/blue-oil/blueoil/subscribers","subscription_url":"https://api.github.com/repos/blue-oil/blueoil/subscription","commits_url":"https://api.github.com/repos/blue-oil/blueoil/commits{/sha}","git_commits_url":"https://api.github.com/repos/blue-oil/blueoil/git/commits{/sha}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/comments{/number}","issue_comment_url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments{/number}","contents_url":"https://api.github.com/repos/blue-oil/blueoil/contents/{+path}","compare_url":"https://api.github.com/repos/blue-oil/blueoil/compare/{base}...{head}","merges_url":"https://api.github.com/repos/blue-oil/blueoil/merges","archive_url":"https://api.github.com/repos/blue-oil/blueoil/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/blue-oil/blueoil/downloads","issues_url":"https://api.github.com/repos/blue-oil/blueoil/issues{/number}","pulls_url":"https://api.github.com/repos/blue-oil/blueoil/pulls{/number}","milestones_url":"https://api.github.com/repos/blue-oil/blueoil/milestones{/number}","notifications_url":"https://api.github.com/repos/blue-oil/blueoil/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/blue-oil/blueoil/labels{/name}","releases_url":"https://api.github.com/repos/blue-oil/blueoil/releases{/id}","deployments_url":"https://api.github.com/repos/blue-oil/blueoil/deployments","created_at":"2018-10-18T09:19:36Z","updated_at":"2022-11-10T12:34:45Z","pushed_at":"2021-04-22T08:46:57Z","git_url":"git://github.com/blue-oil/blueoil.git","ssh_url":"git@github.com:blue-oil/blueoil.git","clone_url":"https://github.com/blue-oil/blueoil.git","svn_url":"https://github.com/blue-oil/blueoil","homepage":"https://blueoil.org","size":304801,"stargazers_count":250,"watchers_count":250,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":84,"mirror_url":null,"archived":true,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","fpga","machine-learning","python","quantization"],"visibility":"public","forks":84,"open_issues":153,"watchers":250,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/blue-oil/blueoil/pulls/726","html_url":"https://github.com/blue-oil/blueoil/pull/726","diff_url":"https://github.com/blue-oil/blueoil/pull/726.diff","patch_url":"https://github.com/blue-oil/blueoil/pull/726.patch","merged_at":"2020-01-22T01:37:38Z"},"body":"In the main training file, make sure pool processes have closed down after training has finished by manually shutting them down.\r\n\r\n## Motivation and Context\r\nThis is to solve the bug described in issue https://github.com/blue-oil/blueoil/issues/725 where the training loop has finished but the program doesn't end. It is especially a concern when using time-costed services, if the program still runs after training has finished, it is a waste of costly resource.\r\n\r\n## Description\r\nA simple function is added, which accepts a dataset object, and terminates, closes and joins pools from the prefetcher of that dataset. This is only relevant if prefetch is being used, so first it checks if enable_prefetch is true.\r\n\r\nThe function is called at the end of training on each of the datasets: train, validation, and train_validation_saving (if there is one).\r\n\r\nHonestly, I'm not sure why this fixes the problem, the dataset prefetcher should shut down own its own without it. But it doesn't in certain important cases.\r\n\r\n## How has this been tested?\r\nHow to reproduce the bug is explained in issue https://github.com/blue-oil/blueoil/issues/725\r\n\r\nTo test that this fix does work, I ran training under the same settings, except with the code change that is in this pull request, and it runs fine, and fixes the bug.\r\n\r\n## Types of changes\r\n<!--- 🏁🎌🏁 What types of changes does your code introduce? Put an `x` in all the boxes that apply: 🏁🎌🏁 -->\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature / Optimization (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n\r\n## Checklist:\r\n<!--- ✅✅✅ Go over all the following points, and put an `x` in all the boxes that apply. ✅✅✅ -->\r\n<!--- If you're unsure about any of these, don't hesitate to ask. We're here to help! -->\r\n\r\n<!--- TODO(wakisaka): After decide our code style, add this.\r\n- [ ] My code follows the code style of this project.\r\n-->\r\n- [ ] My change requires a change to the documentation.\r\n- [ ] I have updated the documentation accordingly.\r\n","reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blue-oil/blueoil/issues/726/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/577007608","html_url":"https://github.com/blue-oil/blueoil/issues/725#issuecomment-577007608","issue_url":"https://api.github.com/repos/blue-oil/blueoil/issues/725","id":577007608,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzAwNzYwOA==","user":{"login":"joelN123","id":32167300,"node_id":"MDQ6VXNlcjMyMTY3MzAw","avatar_url":"https://avatars.githubusercontent.com/u/32167300?v=4","gravatar_id":"","url":"https://api.github.com/users/joelN123","html_url":"https://github.com/joelN123","followers_url":"https://api.github.com/users/joelN123/followers","following_url":"https://api.github.com/users/joelN123/following{/other_user}","gists_url":"https://api.github.com/users/joelN123/gists{/gist_id}","starred_url":"https://api.github.com/users/joelN123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelN123/subscriptions","organizations_url":"https://api.github.com/users/joelN123/orgs","repos_url":"https://api.github.com/users/joelN123/repos","events_url":"https://api.github.com/users/joelN123/events{/privacy}","received_events_url":"https://api.github.com/users/joelN123/received_events","type":"User","site_admin":false},"created_at":"2020-01-22T04:56:38Z","updated_at":"2020-01-22T04:56:38Z","author_association":"CONTRIBUTOR","body":"closed with https://github.com/blue-oil/blueoil/pull/726","reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments/577007608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joelN123","id":32167300,"node_id":"MDQ6VXNlcjMyMTY3MzAw","avatar_url":"https://avatars.githubusercontent.com/u/32167300?v=4","gravatar_id":"","url":"https://api.github.com/users/joelN123","html_url":"https://github.com/joelN123","followers_url":"https://api.github.com/users/joelN123/followers","following_url":"https://api.github.com/users/joelN123/following{/other_user}","gists_url":"https://api.github.com/users/joelN123/gists{/gist_id}","starred_url":"https://api.github.com/users/joelN123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelN123/subscriptions","organizations_url":"https://api.github.com/users/joelN123/orgs","repos_url":"https://api.github.com/users/joelN123/repos","events_url":"https://api.github.com/users/joelN123/events{/privacy}","received_events_url":"https://api.github.com/users/joelN123/received_events","type":"User","site_admin":false}},{"id":2968686090,"node_id":"MDExOkNsb3NlZEV2ZW50Mjk2ODY4NjA5MA==","url":"https://api.github.com/repos/blue-oil/blueoil/issues/events/2968686090","actor":{"login":"joelN123","id":32167300,"node_id":"MDQ6VXNlcjMyMTY3MzAw","avatar_url":"https://avatars.githubusercontent.com/u/32167300?v=4","gravatar_id":"","url":"https://api.github.com/users/joelN123","html_url":"https://github.com/joelN123","followers_url":"https://api.github.com/users/joelN123/followers","following_url":"https://api.github.com/users/joelN123/following{/other_user}","gists_url":"https://api.github.com/users/joelN123/gists{/gist_id}","starred_url":"https://api.github.com/users/joelN123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelN123/subscriptions","organizations_url":"https://api.github.com/users/joelN123/orgs","repos_url":"https://api.github.com/users/joelN123/repos","events_url":"https://api.github.com/users/joelN123/events{/privacy}","received_events_url":"https://api.github.com/users/joelN123/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-01-22T04:56:45Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"joelN123","id":32167300,"node_id":"MDQ6VXNlcjMyMTY3MzAw","avatar_url":"https://avatars.githubusercontent.com/u/32167300?v=4","gravatar_id":"","url":"https://api.github.com/users/joelN123","html_url":"https://github.com/joelN123","followers_url":"https://api.github.com/users/joelN123/followers","following_url":"https://api.github.com/users/joelN123/following{/other_user}","gists_url":"https://api.github.com/users/joelN123/gists{/gist_id}","starred_url":"https://api.github.com/users/joelN123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelN123/subscriptions","organizations_url":"https://api.github.com/users/joelN123/orgs","repos_url":"https://api.github.com/users/joelN123/repos","events_url":"https://api.github.com/users/joelN123/events{/privacy}","received_events_url":"https://api.github.com/users/joelN123/received_events","type":"User","site_admin":false},"created_at":"2020-02-03T03:48:22Z","updated_at":"2020-02-03T03:48:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/777","repository_url":"https://api.github.com/repos/blue-oil/blueoil","labels_url":"https://api.github.com/repos/blue-oil/blueoil/issues/777/labels{/name}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/issues/777/comments","events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/777/events","html_url":"https://github.com/blue-oil/blueoil/pull/777","id":558823293,"node_id":"MDExOlB1bGxSZXF1ZXN0MzcwMTA1MTk5","number":777,"title":"close the validation dataset used in evaluate","user":{"login":"joelN123","id":32167300,"node_id":"MDQ6VXNlcjMyMTY3MzAw","avatar_url":"https://avatars.githubusercontent.com/u/32167300?v=4","gravatar_id":"","url":"https://api.github.com/users/joelN123","html_url":"https://github.com/joelN123","followers_url":"https://api.github.com/users/joelN123/followers","following_url":"https://api.github.com/users/joelN123/following{/other_user}","gists_url":"https://api.github.com/users/joelN123/gists{/gist_id}","starred_url":"https://api.github.com/users/joelN123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelN123/subscriptions","organizations_url":"https://api.github.com/users/joelN123/orgs","repos_url":"https://api.github.com/users/joelN123/repos","events_url":"https://api.github.com/users/joelN123/events{/privacy}","received_events_url":"https://api.github.com/users/joelN123/received_events","type":"User","site_admin":false},"labels":[{"id":1446856599,"node_id":"MDU6TGFiZWwxNDQ2ODU2NTk5","url":"https://api.github.com/repos/blue-oil/blueoil/labels/CI:%20auto-run","name":"CI: auto-run","color":"5319e7","default":false,"description":"Run CI automatically"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-02-03T03:48:22Z","updated_at":"2020-02-03T05:21:49Z","closed_at":"2020-02-03T04:15:33Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":153597157,"node_id":"MDEwOlJlcG9zaXRvcnkxNTM1OTcxNTc=","name":"blueoil","full_name":"blue-oil/blueoil","private":false,"owner":{"login":"blue-oil","id":43470236,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzNDcwMjM2","avatar_url":"https://avatars.githubusercontent.com/u/43470236?v=4","gravatar_id":"","url":"https://api.github.com/users/blue-oil","html_url":"https://github.com/blue-oil","followers_url":"https://api.github.com/users/blue-oil/followers","following_url":"https://api.github.com/users/blue-oil/following{/other_user}","gists_url":"https://api.github.com/users/blue-oil/gists{/gist_id}","starred_url":"https://api.github.com/users/blue-oil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blue-oil/subscriptions","organizations_url":"https://api.github.com/users/blue-oil/orgs","repos_url":"https://api.github.com/users/blue-oil/repos","events_url":"https://api.github.com/users/blue-oil/events{/privacy}","received_events_url":"https://api.github.com/users/blue-oil/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/blue-oil/blueoil","description":"Bring Deep Learning to small devices","fork":false,"url":"https://api.github.com/repos/blue-oil/blueoil","forks_url":"https://api.github.com/repos/blue-oil/blueoil/forks","keys_url":"https://api.github.com/repos/blue-oil/blueoil/keys{/key_id}","collaborators_url":"https://api.github.com/repos/blue-oil/blueoil/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/blue-oil/blueoil/teams","hooks_url":"https://api.github.com/repos/blue-oil/blueoil/hooks","issue_events_url":"https://api.github.com/repos/blue-oil/blueoil/issues/events{/number}","events_url":"https://api.github.com/repos/blue-oil/blueoil/events","assignees_url":"https://api.github.com/repos/blue-oil/blueoil/assignees{/user}","branches_url":"https://api.github.com/repos/blue-oil/blueoil/branches{/branch}","tags_url":"https://api.github.com/repos/blue-oil/blueoil/tags","blobs_url":"https://api.github.com/repos/blue-oil/blueoil/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/blue-oil/blueoil/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/blue-oil/blueoil/git/refs{/sha}","trees_url":"https://api.github.com/repos/blue-oil/blueoil/git/trees{/sha}","statuses_url":"https://api.github.com/repos/blue-oil/blueoil/statuses/{sha}","languages_url":"https://api.github.com/repos/blue-oil/blueoil/languages","stargazers_url":"https://api.github.com/repos/blue-oil/blueoil/stargazers","contributors_url":"https://api.github.com/repos/blue-oil/blueoil/contributors","subscribers_url":"https://api.github.com/repos/blue-oil/blueoil/subscribers","subscription_url":"https://api.github.com/repos/blue-oil/blueoil/subscription","commits_url":"https://api.github.com/repos/blue-oil/blueoil/commits{/sha}","git_commits_url":"https://api.github.com/repos/blue-oil/blueoil/git/commits{/sha}","comments_url":"https://api.github.com/repos/blue-oil/blueoil/comments{/number}","issue_comment_url":"https://api.github.com/repos/blue-oil/blueoil/issues/comments{/number}","contents_url":"https://api.github.com/repos/blue-oil/blueoil/contents/{+path}","compare_url":"https://api.github.com/repos/blue-oil/blueoil/compare/{base}...{head}","merges_url":"https://api.github.com/repos/blue-oil/blueoil/merges","archive_url":"https://api.github.com/repos/blue-oil/blueoil/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/blue-oil/blueoil/downloads","issues_url":"https://api.github.com/repos/blue-oil/blueoil/issues{/number}","pulls_url":"https://api.github.com/repos/blue-oil/blueoil/pulls{/number}","milestones_url":"https://api.github.com/repos/blue-oil/blueoil/milestones{/number}","notifications_url":"https://api.github.com/repos/blue-oil/blueoil/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/blue-oil/blueoil/labels{/name}","releases_url":"https://api.github.com/repos/blue-oil/blueoil/releases{/id}","deployments_url":"https://api.github.com/repos/blue-oil/blueoil/deployments","created_at":"2018-10-18T09:19:36Z","updated_at":"2022-11-10T12:34:45Z","pushed_at":"2021-04-22T08:46:57Z","git_url":"git://github.com/blue-oil/blueoil.git","ssh_url":"git@github.com:blue-oil/blueoil.git","clone_url":"https://github.com/blue-oil/blueoil.git","svn_url":"https://github.com/blue-oil/blueoil","homepage":"https://blueoil.org","size":304801,"stargazers_count":250,"watchers_count":250,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":84,"mirror_url":null,"archived":true,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","fpga","machine-learning","python","quantization"],"visibility":"public","forks":84,"open_issues":153,"watchers":250,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/blue-oil/blueoil/pulls/777","html_url":"https://github.com/blue-oil/blueoil/pull/777","diff_url":"https://github.com/blue-oil/blueoil/pull/777.diff","patch_url":"https://github.com/blue-oil/blueoil/pull/777.patch","merged_at":"2020-02-03T04:15:33Z"},"body":"after model evaluation is finished, close the validation dataset.\r\n## Motivation and Context\r\nA previous pull request https://github.com/blue-oil/blueoil/pull/726 closes the datasets used in training, so that when training finishes, the program will also stop running. (it is especially an issue if using costed computing resource). More details are also included in a previous issue https://github.com/blue-oil/blueoil/issues/725 for closing the datasets used in training.\r\n\r\nHowever, the same problem will also occur when evaluating an already trained model. So, a similar change needs to be made for when evaluation is being run.\r\n## Description\r\nThe validation dataset is closed by calling its close() method. This way of closing dataset is essentially the same as is already done in the training.\r\n## How has this been tested?\r\nRunning evaluation on a trained model using ```python executor/evaluate.py``` in singularity container.\r\n## Types of changes\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature / Optimization (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n\r\n## Checklist:\r\n<!--- ✅✅✅ Go over all the following points, and put an `x` in all the boxes that apply. ✅✅✅ -->\r\n<!--- If you're unsure about any of these, don't hesitate to ask. We're here to help! -->\r\n- [ ] My change requires a change to the documentation.\r\n- [ ] I have updated the documentation accordingly.\r\n","reactions":{"url":"https://api.github.com/repos/blue-oil/blueoil/issues/777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blue-oil/blueoil/issues/777/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]