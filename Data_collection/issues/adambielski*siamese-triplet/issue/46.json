{"url":"https://api.github.com/repos/adambielski/siamese-triplet/issues/46","repository_url":"https://api.github.com/repos/adambielski/siamese-triplet","labels_url":"https://api.github.com/repos/adambielski/siamese-triplet/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/adambielski/siamese-triplet/issues/46/comments","events_url":"https://api.github.com/repos/adambielski/siamese-triplet/issues/46/events","html_url":"https://github.com/adambielski/siamese-triplet/issues/46","id":598643149,"node_id":"MDU6SXNzdWU1OTg2NDMxNDk=","number":46,"title":"Implementation of Contrastive Loss","user":{"login":"ChenPaulYu","id":22783007,"node_id":"MDQ6VXNlcjIyNzgzMDA3","avatar_url":"https://avatars.githubusercontent.com/u/22783007?v=4","gravatar_id":"","url":"https://api.github.com/users/ChenPaulYu","html_url":"https://github.com/ChenPaulYu","followers_url":"https://api.github.com/users/ChenPaulYu/followers","following_url":"https://api.github.com/users/ChenPaulYu/following{/other_user}","gists_url":"https://api.github.com/users/ChenPaulYu/gists{/gist_id}","starred_url":"https://api.github.com/users/ChenPaulYu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChenPaulYu/subscriptions","organizations_url":"https://api.github.com/users/ChenPaulYu/orgs","repos_url":"https://api.github.com/users/ChenPaulYu/repos","events_url":"https://api.github.com/users/ChenPaulYu/events{/privacy}","received_events_url":"https://api.github.com/users/ChenPaulYu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-13T03:13:09Z","updated_at":"2020-04-23T22:49:15Z","closed_at":"2020-04-23T22:49:15Z","author_association":"NONE","active_lock_reason":null,"body":"Thanks for your great work, the code is clean and it is work appropriate.\r\nHowever, I got some problem about your implementation about contrastive loss. Is it possible to explain it more details, because it is quite different with the description of original paper.\r\n\r\nIn the mean time, I try some contrastive loss implementation by others, but it is not work, is it possible to explain the difference?\r\n\r\n```\r\n# Custom Contrastive Loss\r\nclass ContrastiveLoss(torch.nn.Module):\r\n    \"\"\"\r\n    Contrastive loss function.\r\n    Based on: http://yann.lecun.com/exdb/publis/pdf/hadsell-chopra-lecun-06.pdf\r\n    \"\"\"\r\n\r\n    def __init__(self, margin=2.0):\r\n        super(ContrastiveLoss, self).__init__()\r\n        self.margin = margin\r\n\r\n    def forward(self, output1, output2, label):\r\n        euclidean_distance = F.pairwise_distance(output1, output2)\r\n        loss_contrastive = torch.mean((1-label) * torch.pow(euclidean_distance, 2) + \r\n                                      (label) * torch.pow(torch.clamp(self.margin - euclidean_distance, min=0.0), 2))     \r\n \r\n\r\n        return loss_contrastive\r\n```\r\n","closed_by":{"login":"adambielski","id":14027793,"node_id":"MDQ6VXNlcjE0MDI3Nzkz","avatar_url":"https://avatars.githubusercontent.com/u/14027793?v=4","gravatar_id":"","url":"https://api.github.com/users/adambielski","html_url":"https://github.com/adambielski","followers_url":"https://api.github.com/users/adambielski/followers","following_url":"https://api.github.com/users/adambielski/following{/other_user}","gists_url":"https://api.github.com/users/adambielski/gists{/gist_id}","starred_url":"https://api.github.com/users/adambielski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adambielski/subscriptions","organizations_url":"https://api.github.com/users/adambielski/orgs","repos_url":"https://api.github.com/users/adambielski/repos","events_url":"https://api.github.com/users/adambielski/events{/privacy}","received_events_url":"https://api.github.com/users/adambielski/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/adambielski/siamese-triplet/issues/46/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/adambielski/siamese-triplet/issues/46/timeline","performed_via_github_app":null,"state_reason":"completed"}