{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/466","repository_url":"https://api.github.com/repos/Neuraxio/Neuraxle","labels_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/466/labels{/name}","comments_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/466/comments","events_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/466/events","html_url":"https://github.com/Neuraxio/Neuraxle/issues/466","id":844682362,"node_id":"MDU6SXNzdWU4NDQ2ODIzNjI=","number":466,"title":"Bug: Rounding discrete distributions to their nearest discrete point after undoing the SVD in the TPE might pick the wrong point","user":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false},"labels":[{"id":1290971220,"node_id":"MDU6TGFiZWwxMjkwOTcxMjIw","url":"https://api.github.com/repos/Neuraxio/Neuraxle/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1290971222,"node_id":"MDU6TGFiZWwxMjkwOTcxMjIy","url":"https://api.github.com/repos/Neuraxio/Neuraxle/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":1290971225,"node_id":"MDU6TGFiZWwxMjkwOTcxMjI1","url":"https://api.github.com/repos/Neuraxio/Neuraxle/labels/invalid","name":"invalid","color":"e4e669","default":true,"description":"This doesn't seem right"},{"id":1290971227,"node_id":"MDU6TGFiZWwxMjkwOTcxMjI3","url":"https://api.github.com/repos/Neuraxio/Neuraxle/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-30T14:52:08Z","updated_at":"2022-10-01T17:42:04Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"**Describe the bug**\r\nUpon doing an SVD and applying the TPE ratios within the SVD's space and then undoing the SVD space to get back to normal space, then the discrete points next to the found best point may not match. \r\n\r\n**To Reproduce**\r\n1. Fix #465 \r\n2. Optimize a quantized log-distributed hyperparam\r\n3. Observe that it may round most of the time to the lowest value instead of the highest value\r\n\r\n**Expected behavior**\r\nThe quantized point to be properly rounded to its nearest quantized value upon exiting the TPE to return the optimal point. \r\n\r\nI believe that to fix this, it'd be as easy as: \r\n1. round up and round down\r\n2. pass the up and down rounding back into the SVD space\r\n3. evaluate the distance in SVD space of this point v.s. the center point. In SVD space, everything is linear as per #465, so this means that the distance will be the good one\r\n4. pick the nearest point\r\n5. get back to normal space by undoing the SVD transformation\r\n6. re-round the point to its nearest point (just to eliminate numerical errors when back in the original space)\r\n7. you now have the good discrete point after having passed through the Orthogonalized (SVD) TPE. \r\n\r\n**Additional context**\r\n#464 \r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/466/timeline","performed_via_github_app":null,"state_reason":null}