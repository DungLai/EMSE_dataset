[{"id":4486226798,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ0ODYyMjY3OTg=","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/4486226798","actor":{"login":"joel-odlund","id":3356505,"node_id":"MDQ6VXNlcjMzNTY1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3356505?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-odlund","html_url":"https://github.com/joel-odlund","followers_url":"https://api.github.com/users/joel-odlund/followers","following_url":"https://api.github.com/users/joel-odlund/following{/other_user}","gists_url":"https://api.github.com/users/joel-odlund/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-odlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-odlund/subscriptions","organizations_url":"https://api.github.com/users/joel-odlund/orgs","repos_url":"https://api.github.com/users/joel-odlund/repos","events_url":"https://api.github.com/users/joel-odlund/events{/privacy}","received_events_url":"https://api.github.com/users/joel-odlund/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-03-21T00:39:18Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":4486226799,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ0ODYyMjY3OTk=","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/4486226799","actor":{"login":"joel-odlund","id":3356505,"node_id":"MDQ6VXNlcjMzNTY1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3356505?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-odlund","html_url":"https://github.com/joel-odlund","followers_url":"https://api.github.com/users/joel-odlund/followers","following_url":"https://api.github.com/users/joel-odlund/following{/other_user}","gists_url":"https://api.github.com/users/joel-odlund/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-odlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-odlund/subscriptions","organizations_url":"https://api.github.com/users/joel-odlund/orgs","repos_url":"https://api.github.com/users/joel-odlund/repos","events_url":"https://api.github.com/users/joel-odlund/events{/privacy}","received_events_url":"https://api.github.com/users/joel-odlund/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-03-21T00:39:18Z","label":{"name":"invalid","color":"e4e669"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/803628703","html_url":"https://github.com/Neuraxio/Neuraxle/issues/457#issuecomment-803628703","issue_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/457","id":803628703,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzYyODcwMw==","user":{"login":"vincent-antaki","id":74119210,"node_id":"MDQ6VXNlcjc0MTE5MjEw","avatar_url":"https://avatars.githubusercontent.com/u/74119210?v=4","gravatar_id":"","url":"https://api.github.com/users/vincent-antaki","html_url":"https://github.com/vincent-antaki","followers_url":"https://api.github.com/users/vincent-antaki/followers","following_url":"https://api.github.com/users/vincent-antaki/following{/other_user}","gists_url":"https://api.github.com/users/vincent-antaki/gists{/gist_id}","starred_url":"https://api.github.com/users/vincent-antaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincent-antaki/subscriptions","organizations_url":"https://api.github.com/users/vincent-antaki/orgs","repos_url":"https://api.github.com/users/vincent-antaki/repos","events_url":"https://api.github.com/users/vincent-antaki/events{/privacy}","received_events_url":"https://api.github.com/users/vincent-antaki/received_events","type":"User","site_admin":false},"created_at":"2021-03-21T17:32:11Z","updated_at":"2021-03-22T01:23:59Z","author_association":"CONTRIBUTOR","body":"Hello @joel-odlund,\r\n\r\nThere is indeed something unclear going on in this transformer. I'll provide you with some basic information so you can understand the problem, then will give you a solution.\r\n\r\n1. Under the hood, many steps in Neuraxle works with what we call handler methods. You read more on them [here](https://www.neuraxle.org/stable/handler_methods.html) but the gist of it is that we have methods called before and after the actual step method. These pre-process and post-process methods are used for many thing - do/undo some transformation of data structures, assert that the data structures we manipulate are not in an invalid state, etc.\r\n2. All handler methods use DataContainer and ExecutionContext instances as arguments. ExecutionContext are not relevant to your problem here so I won't elaborate on them.\r\n3. DataContainer have (possibly null) attributes : data_inputs, expected_outputs and current_ids. While data_inputs and expected_outputs are rather self-explanatory, current_ids are used in caching mechanism (which I don't think are activated by default but don't quote me on that).\r\n4. To define a step, you can either define fit, fit_transform and transform methods - or use handler methods instead and define _fit_data_container, _fit_transform_data_container, _transform_data_container. Steps which need to use handler method will often force it on a fit/fit_transform/transform call by implementing the ForceHandleMixin.\r\n5. By definition, a transform function only transform the data_input part of a DataContainer. This is why you need a special wrapper to transform both the data_input and expected_output part on a transform call. What the InputAndOutputTransformerWrapper/ InputAndOutputTransformerMixin do is that they take the DataContainer instances data_inputs and expected_outputs and put them as a tuple as the data_inputs attribute of a data_container before passing them to the transformer. (btw you only need to use one of the two, not both - I suggest the wrapper because its simpler to use).\r\n6. InputAndOutputTransformerWrapper/InputAndOutputTransformerMixin use handler methods themselves but call the regular transform function on their wrapped step/themselves\r\n\r\nSo that it for the rather tedious introduction. Now the problem you have is rather simple: By defining a transformation which changes the length of the data_inputs and expected_outputs attributes of the DataContainer instance but not the current_ids, we get a degenerated data structure - the current_ids do not match the di and eo. The InputAndOutputWrapper step has a postprocess method which perform an automatic check of that and that's where you get your error. The solution is to define a transformer step which makes use of the handler functions instead, so that you can also double the current_ids.\r\n        \r\n    class DataDoubler(ForceHandleMixin, BaseTransformer):\r\n        def __init__(self):\r\n            BaseTransformer.__init__(self)\r\n            ForceHandleMixin.__init__(self)\r\n    \r\n        def _transform_data_container(self, data_container: DataContainer, context: ExecutionContext) -> DataContainer:\r\n            di, eo = data_container.data_inputs\r\n            return DataContainer(data_inputs=(di*2, eo*2),\r\n                          current_ids=data_container.current_ids*2)\r\n\r\n\r\n\r\n\r\nPlease feel free to ask more questions if you have any - I understand I've just gave you a lot of information and it can be somewhat hard to process all of it at once. \r\n\r\nCheers :)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/803628703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vincent-antaki","id":74119210,"node_id":"MDQ6VXNlcjc0MTE5MjEw","avatar_url":"https://avatars.githubusercontent.com/u/74119210?v=4","gravatar_id":"","url":"https://api.github.com/users/vincent-antaki","html_url":"https://github.com/vincent-antaki","followers_url":"https://api.github.com/users/vincent-antaki/followers","following_url":"https://api.github.com/users/vincent-antaki/following{/other_user}","gists_url":"https://api.github.com/users/vincent-antaki/gists{/gist_id}","starred_url":"https://api.github.com/users/vincent-antaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincent-antaki/subscriptions","organizations_url":"https://api.github.com/users/vincent-antaki/orgs","repos_url":"https://api.github.com/users/vincent-antaki/repos","events_url":"https://api.github.com/users/vincent-antaki/events{/privacy}","received_events_url":"https://api.github.com/users/vincent-antaki/received_events","type":"User","site_admin":false}},{"id":4486991253,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQ4Njk5MTI1Mw==","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/4486991253","actor":{"login":"joel-odlund","id":3356505,"node_id":"MDQ6VXNlcjMzNTY1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3356505?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-odlund","html_url":"https://github.com/joel-odlund","followers_url":"https://api.github.com/users/joel-odlund/followers","following_url":"https://api.github.com/users/joel-odlund/following{/other_user}","gists_url":"https://api.github.com/users/joel-odlund/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-odlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-odlund/subscriptions","organizations_url":"https://api.github.com/users/joel-odlund/orgs","repos_url":"https://api.github.com/users/joel-odlund/repos","events_url":"https://api.github.com/users/joel-odlund/events{/privacy}","received_events_url":"https://api.github.com/users/joel-odlund/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-21T17:32:11Z","performed_via_github_app":null},{"id":4486991255,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0ODY5OTEyNTU=","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/4486991255","actor":{"login":"joel-odlund","id":3356505,"node_id":"MDQ6VXNlcjMzNTY1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3356505?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-odlund","html_url":"https://github.com/joel-odlund","followers_url":"https://api.github.com/users/joel-odlund/followers","following_url":"https://api.github.com/users/joel-odlund/following{/other_user}","gists_url":"https://api.github.com/users/joel-odlund/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-odlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-odlund/subscriptions","organizations_url":"https://api.github.com/users/joel-odlund/orgs","repos_url":"https://api.github.com/users/joel-odlund/repos","events_url":"https://api.github.com/users/joel-odlund/events{/privacy}","received_events_url":"https://api.github.com/users/joel-odlund/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-21T17:32:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/803650431","html_url":"https://github.com/Neuraxio/Neuraxle/issues/457#issuecomment-803650431","issue_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/457","id":803650431,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzY1MDQzMQ==","user":{"login":"joel-odlund","id":3356505,"node_id":"MDQ6VXNlcjMzNTY1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3356505?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-odlund","html_url":"https://github.com/joel-odlund","followers_url":"https://api.github.com/users/joel-odlund/followers","following_url":"https://api.github.com/users/joel-odlund/following{/other_user}","gists_url":"https://api.github.com/users/joel-odlund/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-odlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-odlund/subscriptions","organizations_url":"https://api.github.com/users/joel-odlund/orgs","repos_url":"https://api.github.com/users/joel-odlund/repos","events_url":"https://api.github.com/users/joel-odlund/events{/privacy}","received_events_url":"https://api.github.com/users/joel-odlund/received_events","type":"User","site_admin":false},"created_at":"2021-03-21T20:00:56Z","updated_at":"2021-03-21T20:00:56Z","author_association":"NONE","body":"Thank you.  This helps a lot.  \r\nI have chosen neuraxle for a fairly serious project, and detailed help like this makes a lot of difference!\r\n","reactions":{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/803650431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joel-odlund","id":3356505,"node_id":"MDQ6VXNlcjMzNTY1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3356505?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-odlund","html_url":"https://github.com/joel-odlund","followers_url":"https://api.github.com/users/joel-odlund/followers","following_url":"https://api.github.com/users/joel-odlund/following{/other_user}","gists_url":"https://api.github.com/users/joel-odlund/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-odlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-odlund/subscriptions","organizations_url":"https://api.github.com/users/joel-odlund/orgs","repos_url":"https://api.github.com/users/joel-odlund/repos","events_url":"https://api.github.com/users/joel-odlund/events{/privacy}","received_events_url":"https://api.github.com/users/joel-odlund/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/804093994","html_url":"https://github.com/Neuraxio/Neuraxle/issues/457#issuecomment-804093994","issue_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/457","id":804093994,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDA5Mzk5NA==","user":{"login":"vincent-antaki","id":74119210,"node_id":"MDQ6VXNlcjc0MTE5MjEw","avatar_url":"https://avatars.githubusercontent.com/u/74119210?v=4","gravatar_id":"","url":"https://api.github.com/users/vincent-antaki","html_url":"https://github.com/vincent-antaki","followers_url":"https://api.github.com/users/vincent-antaki/followers","following_url":"https://api.github.com/users/vincent-antaki/following{/other_user}","gists_url":"https://api.github.com/users/vincent-antaki/gists{/gist_id}","starred_url":"https://api.github.com/users/vincent-antaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincent-antaki/subscriptions","organizations_url":"https://api.github.com/users/vincent-antaki/orgs","repos_url":"https://api.github.com/users/vincent-antaki/repos","events_url":"https://api.github.com/users/vincent-antaki/events{/privacy}","received_events_url":"https://api.github.com/users/vincent-antaki/received_events","type":"User","site_admin":false},"created_at":"2021-03-22T14:12:21Z","updated_at":"2021-03-22T14:12:21Z","author_association":"CONTRIBUTOR","body":"Glad my answer helped you. I'm closing this issue but do not hesitate to ask further questions here - or on stackoverflow - and @guillaume-chevalier or I will gladly give you a hand with it.","reactions":{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/804093994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vincent-antaki","id":74119210,"node_id":"MDQ6VXNlcjc0MTE5MjEw","avatar_url":"https://avatars.githubusercontent.com/u/74119210?v=4","gravatar_id":"","url":"https://api.github.com/users/vincent-antaki","html_url":"https://github.com/vincent-antaki","followers_url":"https://api.github.com/users/vincent-antaki/followers","following_url":"https://api.github.com/users/vincent-antaki/following{/other_user}","gists_url":"https://api.github.com/users/vincent-antaki/gists{/gist_id}","starred_url":"https://api.github.com/users/vincent-antaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincent-antaki/subscriptions","organizations_url":"https://api.github.com/users/vincent-antaki/orgs","repos_url":"https://api.github.com/users/vincent-antaki/repos","events_url":"https://api.github.com/users/vincent-antaki/events{/privacy}","received_events_url":"https://api.github.com/users/vincent-antaki/received_events","type":"User","site_admin":false}},{"id":4490384678,"node_id":"MDExOkNsb3NlZEV2ZW50NDQ5MDM4NDY3OA==","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/4490384678","actor":{"login":"vincent-antaki","id":74119210,"node_id":"MDQ6VXNlcjc0MTE5MjEw","avatar_url":"https://avatars.githubusercontent.com/u/74119210?v=4","gravatar_id":"","url":"https://api.github.com/users/vincent-antaki","html_url":"https://github.com/vincent-antaki","followers_url":"https://api.github.com/users/vincent-antaki/followers","following_url":"https://api.github.com/users/vincent-antaki/following{/other_user}","gists_url":"https://api.github.com/users/vincent-antaki/gists{/gist_id}","starred_url":"https://api.github.com/users/vincent-antaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincent-antaki/subscriptions","organizations_url":"https://api.github.com/users/vincent-antaki/orgs","repos_url":"https://api.github.com/users/vincent-antaki/repos","events_url":"https://api.github.com/users/vincent-antaki/events{/privacy}","received_events_url":"https://api.github.com/users/vincent-antaki/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-03-22T14:12:21Z","state_reason":null,"performed_via_github_app":null},{"id":4490384700,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQ5MDM4NDcwMA==","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/4490384700","actor":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-22T14:12:22Z","performed_via_github_app":null},{"id":4490384710,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0OTAzODQ3MTA=","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/4490384710","actor":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-22T14:12:22Z","performed_via_github_app":null},{"id":4515353464,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDUxNTM1MzQ2NA==","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/4515353464","actor":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-03-26T18:00:50Z","rename":{"from":"Bug: Exception when upsampling data","to":"Bug: Exception when changing batch size (e.g.: upsampling data / data augmentation)"},"performed_via_github_app":null}]