[{"id":6934208043,"node_id":"LE_lADOCpoNY85NJN_KzwAAAAGdT54r","url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/events/6934208043","actor":{"login":"subramaniam20jan","id":6160977,"node_id":"MDQ6VXNlcjYxNjA5Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/6160977?v=4","gravatar_id":"","url":"https://api.github.com/users/subramaniam20jan","html_url":"https://github.com/subramaniam20jan","followers_url":"https://api.github.com/users/subramaniam20jan/followers","following_url":"https://api.github.com/users/subramaniam20jan/following{/other_user}","gists_url":"https://api.github.com/users/subramaniam20jan/gists{/gist_id}","starred_url":"https://api.github.com/users/subramaniam20jan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/subramaniam20jan/subscriptions","organizations_url":"https://api.github.com/users/subramaniam20jan/orgs","repos_url":"https://api.github.com/users/subramaniam20jan/repos","events_url":"https://api.github.com/users/subramaniam20jan/events{/privacy}","received_events_url":"https://api.github.com/users/subramaniam20jan/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-07-05T12:53:41Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/1175656019","html_url":"https://github.com/Neuraxio/Neuraxle/issues/526#issuecomment-1175656019","issue_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/526","id":1175656019,"node_id":"IC_kwDOCpoNY85GExZT","user":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false},"created_at":"2022-07-06T01:06:15Z","updated_at":"2022-07-06T01:06:15Z","author_association":"MEMBER","body":"You can use the ExecutionContext and the DataContainer to do this. You may want to take a look at the handle_fit and handle_transform methods. ","reactions":{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/1175656019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/1175851757","html_url":"https://github.com/Neuraxio/Neuraxle/issues/526#issuecomment-1175851757","issue_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/526","id":1175851757,"node_id":"IC_kwDOCpoNY85GFhLt","user":{"login":"subramaniam20jan","id":6160977,"node_id":"MDQ6VXNlcjYxNjA5Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/6160977?v=4","gravatar_id":"","url":"https://api.github.com/users/subramaniam20jan","html_url":"https://github.com/subramaniam20jan","followers_url":"https://api.github.com/users/subramaniam20jan/followers","following_url":"https://api.github.com/users/subramaniam20jan/following{/other_user}","gists_url":"https://api.github.com/users/subramaniam20jan/gists{/gist_id}","starred_url":"https://api.github.com/users/subramaniam20jan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/subramaniam20jan/subscriptions","organizations_url":"https://api.github.com/users/subramaniam20jan/orgs","repos_url":"https://api.github.com/users/subramaniam20jan/repos","events_url":"https://api.github.com/users/subramaniam20jan/events{/privacy}","received_events_url":"https://api.github.com/users/subramaniam20jan/received_events","type":"User","site_admin":false},"created_at":"2022-07-06T06:57:15Z","updated_at":"2022-07-06T06:59:29Z","author_association":"NONE","body":"I am not sure I understand how this can be used without too much confusion.\r\n\r\nWhat I want:\r\n```\r\nfrom neuraxle.base import BaseStepseStep\r\nfrom neuraxle.pipeline import Pipeline\r\nclass KerasNeuraxleWrapper(BaseStep):\r\n    def __init__(self,\r\n                 model,\r\n                 hyperparams: neuraxle.hyperparams.space.HyperparameterSamples = None,\r\n                 hyperparams_space: neuraxle.hyperparams.space.HyperparameterSpace = None,\r\n                 name: str = None,\r\n                 savers: List[neuraxle.base.BaseSaver] = None,\r\n                 hashers: List[neuraxle.base.BaseHasher] = None):\r\n        self.model = model\r\n        super().__init__(\r\n            hyperparams=hyperparams,\r\n            hyperparams_space=hyperparams_space,\r\n            name=name,\r\n            savers=savers,\r\n            hashers=hashers,\r\n        )\r\n    \r\n    def fit(self, data_input, expected_output, **kwargs):\r\n        self.model = self.model.fit(x=data_input, y=expected_output, **kwargs)\r\n        \r\n    def transform(self, data):\r\n        return self.model.transform(data)\r\n    \r\nkm = KerasNeuraxleWrapper(keras_model)\r\npipe = Pipeline([km])\r\npipe.fit(input_data_generator, expected_output=None, validation_data=validation_data_generator)\r\n```\r\n\r\nThe current flow I see is as follows:\r\n\r\npipeline.fit(data_input, expected_output)\r\n-> pipeline.fit_data_container(DACT(data_input, expected_output)\r\n--> _FittableStep.handle_fit(dact, cx) \r\n---> pipeline._fit_data_container(dact, cx)\r\n----> for each step: step.handle_fit(dact, cx)\r\n\r\nBoth the ExecutionContext and the DataContainer instances are generated inside the base Pipeline class. The best solution(hack) given the current setup could be to pass a dictionary as the data_input and then use that as follows.\r\n\r\n```\r\nfrom neuraxle.base import BaseStepseStep\r\nfrom neuraxle.pipeline import Pipeline\r\nclass KerasNeuraxleWrapper(BaseStep):\r\n    def __init__(self,\r\n                 model,\r\n                 hyperparams: neuraxle.hyperparams.space.HyperparameterSamples = None,\r\n                 hyperparams_space: neuraxle.hyperparams.space.HyperparameterSpace = None,\r\n                 name: str = None,\r\n                 savers: List[neuraxle.base.BaseSaver] = None,\r\n                 hashers: List[neuraxle.base.BaseHasher] = None):\r\n        self.model = model\r\n        super().__init__(\r\n            hyperparams=hyperparams,\r\n            hyperparams_space=hyperparams_space,\r\n            name=name,\r\n            savers=savers,\r\n            hashers=hashers,\r\n        )\r\n    \r\n    def fit(self, data_input, expected_output=None):\r\n        self.model = self.model.fit(y=expected_output, **data_input)\r\n        \r\n    def transform(self, data):\r\n        return self.model.transform(data)\r\n    \r\nkm = KerasNeuraxleWrapper(keras_model)\r\npipe = Pipeline([km])\r\npipe.fit(data_input={x=input_data_generator, validation_data=validation_data_generator}, expected_output=None)\r\n```\r\n\r\nBut this is not an elegant solution by far.\r\n\r\nAm I missing something here though?","reactions":{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/1175851757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"subramaniam20jan","id":6160977,"node_id":"MDQ6VXNlcjYxNjA5Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/6160977?v=4","gravatar_id":"","url":"https://api.github.com/users/subramaniam20jan","html_url":"https://github.com/subramaniam20jan","followers_url":"https://api.github.com/users/subramaniam20jan/followers","following_url":"https://api.github.com/users/subramaniam20jan/following{/other_user}","gists_url":"https://api.github.com/users/subramaniam20jan/gists{/gist_id}","starred_url":"https://api.github.com/users/subramaniam20jan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/subramaniam20jan/subscriptions","organizations_url":"https://api.github.com/users/subramaniam20jan/orgs","repos_url":"https://api.github.com/users/subramaniam20jan/repos","events_url":"https://api.github.com/users/subramaniam20jan/events{/privacy}","received_events_url":"https://api.github.com/users/subramaniam20jan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/1182026127","html_url":"https://github.com/Neuraxio/Neuraxle/issues/526#issuecomment-1182026127","issue_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/526","id":1182026127,"node_id":"IC_kwDOCpoNY85GdEmP","user":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false},"created_at":"2022-07-12T17:09:46Z","updated_at":"2022-07-12T17:09:46Z","author_association":"MEMBER","body":"You probably want to mix together what's done in these examples:\r\n- https://www.neuraxle.org/stable/hyperparameter_tuning.html\r\n- https://www.neuraxle.org/stable/intro.html#repository-for-lazy-data-loading\r\n- https://stackoverflow.com/questions/64477316/how-to-implement-a-repository-for-lazy-data-loading-with-neuraxle\r\n\r\nIt is recommended that you override the `_fit_data_container` method and not the `fit` method for your use case. Refer to this for overriding this method, and the same one equivalent for transforming as well: \r\n- https://www.neuraxle.org/stable/handler_methods.html\r\n","reactions":{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/1182026127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/1182029034","html_url":"https://github.com/Neuraxio/Neuraxle/issues/526#issuecomment-1182029034","issue_url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/526","id":1182029034,"node_id":"IC_kwDOCpoNY85GdFTq","user":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false},"created_at":"2022-07-12T17:12:27Z","updated_at":"2022-07-12T17:12:27Z","author_association":"MEMBER","body":"Note that you will later probably need a saver to make your pipeline serializable. Here is some inspiration on how to do it properly: \r\n- https://github.com/Neuraxio/Neuraxle-TensorFlow/blob/master/neuraxle_tensorflow/tensorflow_v2.py#L27\r\n- https://github.com/Neuraxio/Neuraxle-TensorFlow/blob/d4ef1b455ce9ba5bedd1d502498c5440bf1af962/neuraxle_tensorflow/tensorflow_v2.py#L167\r\n","reactions":{"url":"https://api.github.com/repos/Neuraxio/Neuraxle/issues/comments/1182029034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"guillaume-chevalier","id":11862328,"node_id":"MDQ6VXNlcjExODYyMzI4","avatar_url":"https://avatars.githubusercontent.com/u/11862328?v=4","gravatar_id":"","url":"https://api.github.com/users/guillaume-chevalier","html_url":"https://github.com/guillaume-chevalier","followers_url":"https://api.github.com/users/guillaume-chevalier/followers","following_url":"https://api.github.com/users/guillaume-chevalier/following{/other_user}","gists_url":"https://api.github.com/users/guillaume-chevalier/gists{/gist_id}","starred_url":"https://api.github.com/users/guillaume-chevalier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillaume-chevalier/subscriptions","organizations_url":"https://api.github.com/users/guillaume-chevalier/orgs","repos_url":"https://api.github.com/users/guillaume-chevalier/repos","events_url":"https://api.github.com/users/guillaume-chevalier/events{/privacy}","received_events_url":"https://api.github.com/users/guillaume-chevalier/received_events","type":"User","site_admin":false}}]