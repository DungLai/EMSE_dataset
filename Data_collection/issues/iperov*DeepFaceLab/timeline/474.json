[{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/comments/548729233","html_url":"https://github.com/iperov/DeepFaceLab/issues/474#issuecomment-548729233","issue_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/474","id":548729233,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODcyOTIzMw==","user":{"login":"Tesla32X","id":48013922,"node_id":"MDQ6VXNlcjQ4MDEzOTIy","avatar_url":"https://avatars.githubusercontent.com/u/48013922?v=4","gravatar_id":"","url":"https://api.github.com/users/Tesla32X","html_url":"https://github.com/Tesla32X","followers_url":"https://api.github.com/users/Tesla32X/followers","following_url":"https://api.github.com/users/Tesla32X/following{/other_user}","gists_url":"https://api.github.com/users/Tesla32X/gists{/gist_id}","starred_url":"https://api.github.com/users/Tesla32X/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tesla32X/subscriptions","organizations_url":"https://api.github.com/users/Tesla32X/orgs","repos_url":"https://api.github.com/users/Tesla32X/repos","events_url":"https://api.github.com/users/Tesla32X/events{/privacy}","received_events_url":"https://api.github.com/users/Tesla32X/received_events","type":"User","site_admin":false},"created_at":"2019-11-01T09:49:53Z","updated_at":"2019-11-01T09:49:53Z","author_association":"NONE","body":"Reduce your batchsize and try again. Your gpu is out of memory (OOM)","reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/comments/548729233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Tesla32X","id":48013922,"node_id":"MDQ6VXNlcjQ4MDEzOTIy","avatar_url":"https://avatars.githubusercontent.com/u/48013922?v=4","gravatar_id":"","url":"https://api.github.com/users/Tesla32X","html_url":"https://github.com/Tesla32X","followers_url":"https://api.github.com/users/Tesla32X/followers","following_url":"https://api.github.com/users/Tesla32X/following{/other_user}","gists_url":"https://api.github.com/users/Tesla32X/gists{/gist_id}","starred_url":"https://api.github.com/users/Tesla32X/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tesla32X/subscriptions","organizations_url":"https://api.github.com/users/Tesla32X/orgs","repos_url":"https://api.github.com/users/Tesla32X/repos","events_url":"https://api.github.com/users/Tesla32X/events{/privacy}","received_events_url":"https://api.github.com/users/Tesla32X/received_events","type":"User","site_admin":false}},{"id":3174666643,"node_id":"MDExOkNsb3NlZEV2ZW50MzE3NDY2NjY0Mw==","url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/events/3174666643","actor":{"login":"iperov","id":8076202,"node_id":"MDQ6VXNlcjgwNzYyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8076202?v=4","gravatar_id":"","url":"https://api.github.com/users/iperov","html_url":"https://github.com/iperov","followers_url":"https://api.github.com/users/iperov/followers","following_url":"https://api.github.com/users/iperov/following{/other_user}","gists_url":"https://api.github.com/users/iperov/gists{/gist_id}","starred_url":"https://api.github.com/users/iperov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iperov/subscriptions","organizations_url":"https://api.github.com/users/iperov/orgs","repos_url":"https://api.github.com/users/iperov/repos","events_url":"https://api.github.com/users/iperov/events{/privacy}","received_events_url":"https://api.github.com/users/iperov/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-03-28T05:41:44Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"Pips01","id":99753890,"node_id":"U_kgDOBfIfog","avatar_url":"https://avatars.githubusercontent.com/u/99753890?v=4","gravatar_id":"","url":"https://api.github.com/users/Pips01","html_url":"https://github.com/Pips01","followers_url":"https://api.github.com/users/Pips01/followers","following_url":"https://api.github.com/users/Pips01/following{/other_user}","gists_url":"https://api.github.com/users/Pips01/gists{/gist_id}","starred_url":"https://api.github.com/users/Pips01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pips01/subscriptions","organizations_url":"https://api.github.com/users/Pips01/orgs","repos_url":"https://api.github.com/users/Pips01/repos","events_url":"https://api.github.com/users/Pips01/events{/privacy}","received_events_url":"https://api.github.com/users/Pips01/received_events","type":"User","site_admin":false},"created_at":"2022-02-15T18:53:48Z","updated_at":"2022-02-15T18:53:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/5469","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/5469/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/5469/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/5469/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/5469","id":1122616429,"node_id":"I_kwDOCBuapc5C6cRt","number":5469,"title":"I can't run seahd on the gpu! it only runs on the cpu","user":{"login":"alan9455","id":98932376,"node_id":"U_kgDOBeWWmA","avatar_url":"https://avatars.githubusercontent.com/u/98932376?v=4","gravatar_id":"","url":"https://api.github.com/users/alan9455","html_url":"https://github.com/alan9455","followers_url":"https://api.github.com/users/alan9455/followers","following_url":"https://api.github.com/users/alan9455/following{/other_user}","gists_url":"https://api.github.com/users/alan9455/gists{/gist_id}","starred_url":"https://api.github.com/users/alan9455/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alan9455/subscriptions","organizations_url":"https://api.github.com/users/alan9455/orgs","repos_url":"https://api.github.com/users/alan9455/repos","events_url":"https://api.github.com/users/alan9455/events{/privacy}","received_events_url":"https://api.github.com/users/alan9455/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-02-03T03:34:42Z","updated_at":"2022-02-15T21:50:24Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"repository":{"id":136026789,"node_id":"MDEwOlJlcG9zaXRvcnkxMzYwMjY3ODk=","name":"DeepFaceLab","full_name":"iperov/DeepFaceLab","private":false,"owner":{"login":"iperov","id":8076202,"node_id":"MDQ6VXNlcjgwNzYyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8076202?v=4","gravatar_id":"","url":"https://api.github.com/users/iperov","html_url":"https://github.com/iperov","followers_url":"https://api.github.com/users/iperov/followers","following_url":"https://api.github.com/users/iperov/following{/other_user}","gists_url":"https://api.github.com/users/iperov/gists{/gist_id}","starred_url":"https://api.github.com/users/iperov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iperov/subscriptions","organizations_url":"https://api.github.com/users/iperov/orgs","repos_url":"https://api.github.com/users/iperov/repos","events_url":"https://api.github.com/users/iperov/events{/privacy}","received_events_url":"https://api.github.com/users/iperov/received_events","type":"User","site_admin":false},"html_url":"https://github.com/iperov/DeepFaceLab","description":"DeepFaceLab is the leading software for creating deepfakes.","fork":false,"url":"https://api.github.com/repos/iperov/DeepFaceLab","forks_url":"https://api.github.com/repos/iperov/DeepFaceLab/forks","keys_url":"https://api.github.com/repos/iperov/DeepFaceLab/keys{/key_id}","collaborators_url":"https://api.github.com/repos/iperov/DeepFaceLab/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/iperov/DeepFaceLab/teams","hooks_url":"https://api.github.com/repos/iperov/DeepFaceLab/hooks","issue_events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/events{/number}","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/events","assignees_url":"https://api.github.com/repos/iperov/DeepFaceLab/assignees{/user}","branches_url":"https://api.github.com/repos/iperov/DeepFaceLab/branches{/branch}","tags_url":"https://api.github.com/repos/iperov/DeepFaceLab/tags","blobs_url":"https://api.github.com/repos/iperov/DeepFaceLab/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/iperov/DeepFaceLab/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/iperov/DeepFaceLab/git/refs{/sha}","trees_url":"https://api.github.com/repos/iperov/DeepFaceLab/git/trees{/sha}","statuses_url":"https://api.github.com/repos/iperov/DeepFaceLab/statuses/{sha}","languages_url":"https://api.github.com/repos/iperov/DeepFaceLab/languages","stargazers_url":"https://api.github.com/repos/iperov/DeepFaceLab/stargazers","contributors_url":"https://api.github.com/repos/iperov/DeepFaceLab/contributors","subscribers_url":"https://api.github.com/repos/iperov/DeepFaceLab/subscribers","subscription_url":"https://api.github.com/repos/iperov/DeepFaceLab/subscription","commits_url":"https://api.github.com/repos/iperov/DeepFaceLab/commits{/sha}","git_commits_url":"https://api.github.com/repos/iperov/DeepFaceLab/git/commits{/sha}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/comments{/number}","issue_comment_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/comments{/number}","contents_url":"https://api.github.com/repos/iperov/DeepFaceLab/contents/{+path}","compare_url":"https://api.github.com/repos/iperov/DeepFaceLab/compare/{base}...{head}","merges_url":"https://api.github.com/repos/iperov/DeepFaceLab/merges","archive_url":"https://api.github.com/repos/iperov/DeepFaceLab/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/iperov/DeepFaceLab/downloads","issues_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues{/number}","pulls_url":"https://api.github.com/repos/iperov/DeepFaceLab/pulls{/number}","milestones_url":"https://api.github.com/repos/iperov/DeepFaceLab/milestones{/number}","notifications_url":"https://api.github.com/repos/iperov/DeepFaceLab/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/labels{/name}","releases_url":"https://api.github.com/repos/iperov/DeepFaceLab/releases{/id}","deployments_url":"https://api.github.com/repos/iperov/DeepFaceLab/deployments","created_at":"2018-06-04T13:10:00Z","updated_at":"2023-01-19T09:33:35Z","pushed_at":"2022-12-31T08:42:33Z","git_url":"git://github.com/iperov/DeepFaceLab.git","ssh_url":"git@github.com:iperov/DeepFaceLab.git","clone_url":"https://github.com/iperov/DeepFaceLab.git","svn_url":"https://github.com/iperov/DeepFaceLab","homepage":"","size":848595,"stargazers_count":36679,"watchers_count":36679,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":8262,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":488,"license":{"key":"gpl-3.0","name":"GNU General Public License v3.0","spdx_id":"GPL-3.0","url":"https://api.github.com/licenses/gpl-3.0","node_id":"MDc6TGljZW5zZTk="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["arxiv","creating-deepfakes","deep-face-swap","deep-learning","deep-neural-networks","deepface","deepfacelab","deepfakes","deeplearning","face-swap","faceswap","fakeapp","machine-learning","neural-nets","neural-networks"],"visibility":"public","forks":8262,"open_issues":488,"watchers":36679,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Initializing models: 80%|######################################## ######4 | 4/5 [00:28<00:07, 7.18s/it]\r\nError: OOM when allocating tensor of shape [3,3,512,2048] and type float\r\n         [[node src_dst_opt/vs_inter_B/upscale1/conv1/weight_0/Initializer/Const (defined at D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\DeepFaceLab\\core\\leras\\optimizers\\AdaBelief.py:38) ]]\r\n\r\nCaused by op 'src_dst_opt/vs_inter_B/upscale1/conv1/weight_0/Initializer/Const', defined at:\r\n  File \"threading.py\", line 884, in _bootstrap\r\n  File \"threading.py\", line 916, in _bootstrap_inner\r\n  File \"threading.py\", line 864, in run\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\DeepFaceLab\\mainscripts\\Trainer.py\", line 58, in trainerThread\r\n    debug=debug)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\DeepFaceLab\\models\\ModelBase.py\", line 193, in __init__\r\n    self.on_initialize()\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\DeepFaceLab\\models\\Model_SAEHD\\Model.py\", line 341, in on_initialize\r\n    self.src_dst_opt.initialize_variables (self.src_dst_saveable_weights, vars_on_cpu=optimizer_vars_on_cpu, lr_dropout_on_cpu=self.options['lr_dropout']=='cpu')\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\DeepFaceLab\\core\\leras\\optimizers\\AdaBelief.py\", line 38, in initialize_variables\r\n    vs = { v.name : tf.get_variable ( f'vs_{v.name}'.replace(':','_'), v.shape, dtype=v.dtype, initializer=tf.initializers.constant( 0.0), trainable=False) for v in trainable_weights }\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\DeepFaceLab\\core\\leras\\optimizers\\AdaBelief.py\", line 38, in <dictcomp>\r\n    vs = { v.name : tf.get_variable ( f'vs_{v.name}'.replace(':','_'), v.shape, dtype=v.dtype, initializer=tf.initializers.constant( 0.0), trainable=False) for v in trainable_weights }\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variable_scope.py\", line 1479, in get_variable\r\n    aggregation=aggregation)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variable_scope.py\", line 1220, in get_variable\r\n    aggregation=aggregation)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variable_scope.py\", line 547, in get_variable\r\n    aggregation=aggregation)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variable_scope.py\", line 499, in _true_getter\r\n    aggregation=aggregation)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variable_scope.py\", line 911, in _get_single_variable\r\n    aggregation=aggregation)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variables.py\", line 213, in __call__\r\n    return cls._variable_v1_call(*args, **kwargs)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variables.py\", line 176, in _variable_v1_call\r\n    aggregation=aggregation)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variables.py\", line 155, in <lambda>\r\n    previous_getter = lambda **kwargs: default_variable_creator(None, **kwargs)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variable_scope.py\", line 2495, in default_variable_creator\r\n    expected_shape=expected_shape, import_scope=import_scope)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variables.py\", line 217, in __call__\r\n    return super(VariableMetaclass, cls).__call__(*args, **kwargs)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variables.py\", line 1395, in __init__\r\n    constraint=constraint)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variables.py\", line 1503, in _init_from_args\r\n    initial_value(), name=\"initial_value\", dtype=dtype)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\variable_scope.py\", line 883, in <lambda>\r\n    shape.as_list(), dtype=dtype, partition_info=partition_info)\r\n  File \"D:\\deepfake\\DeepFaceLab\\DeepFaceLab_NVIDIA_up_to_RTX2080Ti\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\init_ops.py\", line 230, in __call__\r\n    self.value, dtype=dtype, shape=shape\r\n\r\n\r\n\r\n\r\n============ Model Summary ============\r\n==                                   ==\r\n==            Model name: new_SAEHD  ==\r\n==                                   ==\r\n==     Current iteration: 564        ==\r\n==                                   ==\r\n==---------- Model Options ----------==\r\n==                                   ==\r\n==            resolution: 320        ==\r\n==             face_type: f          ==\r\n==     models_opt_on_gpu: True       ==\r\n==                 archi: liae-ud    ==\r\n==               ae_dims: 256        ==\r\n==                e_dims: 64         ==\r\n==                d_dims: 64         ==\r\n==           d_mask_dims: 22         ==\r\n==       masked_training: True       ==\r\n==       eyes_mouth_prio: False      ==\r\n==           uniform_yaw: False      ==\r\n==         blur_out_mask: False      ==\r\n==             adabelief: True       ==\r\n==            lr_dropout: n          ==\r\n==           random_warp: True       ==\r\n==      random_hsv_power: 0.0        ==\r\n==       true_face_power: 0.0        ==\r\n==      face_style_power: 0.0        ==\r\n==        bg_style_power: 0.0        ==\r\n==               ct_mode: none       ==\r\n==              clipgrad: False      ==\r\n==              pretrain: False      ==\r\n==       autobackup_hour: 0          ==\r\n== write_preview_history: False      ==\r\n==           target_iter: 3000000000 ==\r\n==       random_src_flip: False      ==\r\n==       random_dst_flip: True       ==\r\n==            batch_size: 4          ==\r\n==             gan_power: 0.0        ==\r\n==        gan_patch_size: 40         ==\r\n==              gan_dims: 16         ==\r\n==                                   ==\r\n==----------- Running On ------------==\r\n==                                   ==\r\n==          Using device: CPU        ==\r\n==                                   ==\r\n=======================================\r\n","reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/5469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/5469/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]