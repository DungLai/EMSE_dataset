[{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/comments/683040586","html_url":"https://github.com/iperov/DeepFaceLab/issues/876#issuecomment-683040586","issue_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/876","id":683040586,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzA0MDU4Ng==","user":{"login":"HotDenim","id":14130510,"node_id":"MDQ6VXNlcjE0MTMwNTEw","avatar_url":"https://avatars.githubusercontent.com/u/14130510?v=4","gravatar_id":"","url":"https://api.github.com/users/HotDenim","html_url":"https://github.com/HotDenim","followers_url":"https://api.github.com/users/HotDenim/followers","following_url":"https://api.github.com/users/HotDenim/following{/other_user}","gists_url":"https://api.github.com/users/HotDenim/gists{/gist_id}","starred_url":"https://api.github.com/users/HotDenim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HotDenim/subscriptions","organizations_url":"https://api.github.com/users/HotDenim/orgs","repos_url":"https://api.github.com/users/HotDenim/repos","events_url":"https://api.github.com/users/HotDenim/events{/privacy}","received_events_url":"https://api.github.com/users/HotDenim/received_events","type":"User","site_admin":false},"created_at":"2020-08-28T18:24:00Z","updated_at":"2020-08-28T18:27:59Z","author_association":"NONE","body":"Set each and every setting to the lowest possible, and turn off every setting that is possible to turn off.\r\n\r\nSee if you can get any progress.... Then try each setting at its default value.\r\n\r\nNote:\r\n`batch_size: 20` seems high. Try the default (4)\r\n`AutoEncoder dims: 512`   seems high. Try the default or 128","reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/comments/683040586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HotDenim","id":14130510,"node_id":"MDQ6VXNlcjE0MTMwNTEw","avatar_url":"https://avatars.githubusercontent.com/u/14130510?v=4","gravatar_id":"","url":"https://api.github.com/users/HotDenim","html_url":"https://github.com/HotDenim","followers_url":"https://api.github.com/users/HotDenim/followers","following_url":"https://api.github.com/users/HotDenim/following{/other_user}","gists_url":"https://api.github.com/users/HotDenim/gists{/gist_id}","starred_url":"https://api.github.com/users/HotDenim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HotDenim/subscriptions","organizations_url":"https://api.github.com/users/HotDenim/orgs","repos_url":"https://api.github.com/users/HotDenim/repos","events_url":"https://api.github.com/users/HotDenim/events{/privacy}","received_events_url":"https://api.github.com/users/HotDenim/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/comments/684139570","html_url":"https://github.com/iperov/DeepFaceLab/issues/876#issuecomment-684139570","issue_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/876","id":684139570,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDEzOTU3MA==","user":{"login":"Zeerc1","id":70370674,"node_id":"MDQ6VXNlcjcwMzcwNjc0","avatar_url":"https://avatars.githubusercontent.com/u/70370674?v=4","gravatar_id":"","url":"https://api.github.com/users/Zeerc1","html_url":"https://github.com/Zeerc1","followers_url":"https://api.github.com/users/Zeerc1/followers","following_url":"https://api.github.com/users/Zeerc1/following{/other_user}","gists_url":"https://api.github.com/users/Zeerc1/gists{/gist_id}","starred_url":"https://api.github.com/users/Zeerc1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zeerc1/subscriptions","organizations_url":"https://api.github.com/users/Zeerc1/orgs","repos_url":"https://api.github.com/users/Zeerc1/repos","events_url":"https://api.github.com/users/Zeerc1/events{/privacy}","received_events_url":"https://api.github.com/users/Zeerc1/received_events","type":"User","site_admin":false},"created_at":"2020-09-01T01:37:59Z","updated_at":"2020-09-01T01:37:59Z","author_association":"NONE","body":"Sorry for the late reply. Tried your suggested settings and got this error message\r\n\r\nError: OOM when allocating tensor with shape[4,132,132,3] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\n         [[{{node model_1_1/zero_padding2d_1/Pad}} = Pad[T=DT_FLOAT, Tpaddings=DT_INT32, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_input_7_0_1/_1069, model_1/zero_padding2d_1/Pad/paddings)]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n\r\n         [[{{node Mean_3/_1109}} = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_7444_Mean_3\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\DeepFaceLab\\mainscripts\\Trainer.py\", line 111, in trainerThread\r\n    iter, iter_time = model.train_one_iter()\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\DeepFaceLab\\models\\ModelBase.py\", line 507, in train_one_iter\r\n    losses = self.onTrainOneIter(sample, self.generator_list)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\DeepFaceLab\\models\\Model_SAE\\Model.py\", line 506, in onTrainOneIter\r\n    src_loss, dst_loss, = self.src_dst_train (feed)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py\", line 2715, in __call__\r\n    return self._call(inputs)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py\", line 2675, in _call\r\n    fetched = self._callable_fn(*array_vals)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1439, in __call__\r\n    run_metadata_ptr)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 528, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[4,132,132,3] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\n         [[{{node model_1_1/zero_padding2d_1/Pad}} = Pad[T=DT_FLOAT, Tpaddings=DT_INT32, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_input_7_0_1/_1069, model_1/zero_padding2d_1/Pad/paddings)]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n\r\n         [[{{node Mean_3/_1109}} = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_7444_Mean_3\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.","reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/comments/684139570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Zeerc1","id":70370674,"node_id":"MDQ6VXNlcjcwMzcwNjc0","avatar_url":"https://avatars.githubusercontent.com/u/70370674?v=4","gravatar_id":"","url":"https://api.github.com/users/Zeerc1","html_url":"https://github.com/Zeerc1","followers_url":"https://api.github.com/users/Zeerc1/followers","following_url":"https://api.github.com/users/Zeerc1/following{/other_user}","gists_url":"https://api.github.com/users/Zeerc1/gists{/gist_id}","starred_url":"https://api.github.com/users/Zeerc1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zeerc1/subscriptions","organizations_url":"https://api.github.com/users/Zeerc1/orgs","repos_url":"https://api.github.com/users/Zeerc1/repos","events_url":"https://api.github.com/users/Zeerc1/events{/privacy}","received_events_url":"https://api.github.com/users/Zeerc1/received_events","type":"User","site_admin":false}}]