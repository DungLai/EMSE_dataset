{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/762","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/762/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/762/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/762/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/762","id":626156084,"node_id":"MDU6SXNzdWU2MjYxNTYwODQ=","number":762,"title":"Training Error","user":{"login":"doopidydoopidy","id":64371955,"node_id":"MDQ6VXNlcjY0MzcxOTU1","avatar_url":"https://avatars.githubusercontent.com/u/64371955?v=4","gravatar_id":"","url":"https://api.github.com/users/doopidydoopidy","html_url":"https://github.com/doopidydoopidy","followers_url":"https://api.github.com/users/doopidydoopidy/followers","following_url":"https://api.github.com/users/doopidydoopidy/following{/other_user}","gists_url":"https://api.github.com/users/doopidydoopidy/gists{/gist_id}","starred_url":"https://api.github.com/users/doopidydoopidy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doopidydoopidy/subscriptions","organizations_url":"https://api.github.com/users/doopidydoopidy/orgs","repos_url":"https://api.github.com/users/doopidydoopidy/repos","events_url":"https://api.github.com/users/doopidydoopidy/events{/privacy}","received_events_url":"https://api.github.com/users/doopidydoopidy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-05-28T02:03:37Z","updated_at":"2020-06-02T13:37:35Z","closed_at":"2020-06-02T13:37:35Z","author_association":"NONE","active_lock_reason":null,"body":"## Expected behavior\r\n\r\nTrying to train and running out of memory? My system specifications should be able to handle a big batch size im not sure why not.\r\n\r\nSPECS:\r\n\r\ni7-6700K 4GHz\r\nMSI RTX2070 SUPER 8GB\r\n16BG RAM\r\nWindows 10\r\nPython v 3.7.6\r\n\r\n## Actual behavior\r\n\r\n**2020-05-28 09:48:35.966448: E tensorflow/stream_executor/cuda/cuda_driver.cc:806] failed to allocate 2.14G (2297952256 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory**\r\n\r\nInitializing models: 100%|###############################################################| 5/5 [00:05<00:00,  1.05s/it]\r\nLoading samples: 100%|############################################################| 2393/2393 [00:14<00:00, 161.66it/s]\r\nLoading samples: 100%|##########################################################| 13542/13542 [00:50<00:00, 270.07it/s]\r\n================== Model Summary ==================\r\n==                                               ==\r\n==            Model name: OP_SAEHD               ==\r\n==                                               ==\r\n==     Current iteration: 550224                 ==\r\n==                                               ==\r\n==---------------- Model Options ----------------==\r\n==                                               ==\r\n==            resolution: 128                    ==\r\n==             face_type: wf                     ==\r\n==     models_opt_on_gpu: True                   ==\r\n==                 archi: df                     ==\r\n==               ae_dims: 256                    ==\r\n==                e_dims: 64                     ==\r\n==                d_dims: 64                     ==\r\n==           d_mask_dims: 22                     ==\r\n==       masked_training: True                   ==\r\n==             eyes_prio: False                  ==\r\n==            lr_dropout: False                  ==\r\n==           random_warp: True                   ==\r\n==             gan_power: 0.0                    ==\r\n==       true_face_power: 0.0                    ==\r\n==      face_style_power: 0.0                    ==\r\n==        bg_style_power: 0.0                    ==\r\n==               ct_mode: none                   ==\r\n==              clipgrad: False                  ==\r\n==              pretrain: False                  ==\r\n==       autobackup_hour: 0                      ==\r\n== write_preview_history: False                  ==\r\n==           target_iter: 0                      ==\r\n==           random_flip: True                   ==\r\n==            batch_size: 6                      ==\r\n==                                               ==\r\n==----------------- Running On ------------------==\r\n==                                               ==\r\n==          Device index: 0                      ==\r\n==                  Name: GeForce RTX 2070 SUPER ==\r\n==                  VRAM: 8.00GB                 ==\r\n==                                               ==\r\n===================================================\r\nStarting. Press \"Enter\" to stop training and save model.\r\n2020-05-28 09:48:35.966448: E tensorflow/stream_executor/cuda/cuda_driver.cc:806] failed to allocate 2.14G (2297952256 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory\r\n2020-05-28 09:48:35.972989: E tensorflow/stream_executor/cuda/cuda_driver.cc:806] failed to allocate 2.14G (2297952256 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory\r\n2020-05-28 09:48:36.092482: E tensorflow/stream_executor/cuda/cuda_driver.cc:806] failed to allocate 2.14G (2297952256 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory\r\n2020-05-28 09:48:36.098304: E tensorflow/stream_executor/cuda/cuda_driver.cc:806] failed to allocate 2.14G (2297952256 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory\r\n2020-05-28 09:48:36.126113: E tensorflow/stream_executor/cuda/cuda_driver.cc:806] failed to allocate 2.14G (2297952256 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory\r\n2020-05-28 09:48:36.131332: E tensorflow/stream_executor/cuda/cuda_driver.cc:806] failed to allocate 2.14G (2297952256 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory\r\n[10:00:49][#552566][0252ms][0.2136][0.1062]\r\n\r\n## Steps to reproduce\r\n\r\n*Describe, in some detail, the steps you tried that resulted in the behavior described above.*\r\n\r\n## Other relevant information\r\n- **Command lined used (if not specified in steps to reproduce)**: main.py ...\r\n- **Operating system and version:** Windows, macOS, Linux \r\n- **Python version:** 3.5, 3.6.4, ... (if you are not using prebuilt windows binary)","closed_by":{"login":"doopidydoopidy","id":64371955,"node_id":"MDQ6VXNlcjY0MzcxOTU1","avatar_url":"https://avatars.githubusercontent.com/u/64371955?v=4","gravatar_id":"","url":"https://api.github.com/users/doopidydoopidy","html_url":"https://github.com/doopidydoopidy","followers_url":"https://api.github.com/users/doopidydoopidy/followers","following_url":"https://api.github.com/users/doopidydoopidy/following{/other_user}","gists_url":"https://api.github.com/users/doopidydoopidy/gists{/gist_id}","starred_url":"https://api.github.com/users/doopidydoopidy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doopidydoopidy/subscriptions","organizations_url":"https://api.github.com/users/doopidydoopidy/orgs","repos_url":"https://api.github.com/users/doopidydoopidy/repos","events_url":"https://api.github.com/users/doopidydoopidy/events{/privacy}","received_events_url":"https://api.github.com/users/doopidydoopidy/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/762/timeline","performed_via_github_app":null,"state_reason":"completed"}