{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/617","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/617/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/617/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/617/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/617","id":564222641,"node_id":"MDU6SXNzdWU1NjQyMjI2NDE=","number":617,"title":"Errors while using RCT color transfer","user":{"login":"ThomasBardem","id":57501789,"node_id":"MDQ6VXNlcjU3NTAxNzg5","avatar_url":"https://avatars.githubusercontent.com/u/57501789?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasBardem","html_url":"https://github.com/ThomasBardem","followers_url":"https://api.github.com/users/ThomasBardem/followers","following_url":"https://api.github.com/users/ThomasBardem/following{/other_user}","gists_url":"https://api.github.com/users/ThomasBardem/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasBardem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasBardem/subscriptions","organizations_url":"https://api.github.com/users/ThomasBardem/orgs","repos_url":"https://api.github.com/users/ThomasBardem/repos","events_url":"https://api.github.com/users/ThomasBardem/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasBardem/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-12T19:37:53Z","updated_at":"2020-02-27T02:42:01Z","closed_at":"2020-02-27T02:42:01Z","author_association":"NONE","active_lock_reason":null,"body":"I'm training a standard model with following parameters:\r\n\r\n=================== Model Summary ====================\r\n==                                                  ==\r\n==            Model name: 128 DF 256 64 64 16_SAEHD ==\r\n==                                                  ==\r\n==     Current iteration: 137765                    ==\r\n==                                                  ==\r\n==----------------- Model Options ------------------==\r\n==                                                  ==\r\n==            resolution: 128                       ==\r\n==             face_type: f                         ==\r\n==     models_opt_on_gpu: True                      ==\r\n==                 archi: df                        ==\r\n==               ae_dims: 256                       ==\r\n==                e_dims: 64                        ==\r\n==                d_dims: 64                        ==\r\n==           d_mask_dims: 16                        ==\r\n==            learn_mask: False                     ==\r\n==            lr_dropout: False                     ==\r\n==           random_warp: False                     ==\r\n==             gan_power: 5.0                       ==\r\n==       true_face_power: 0.0                       ==\r\n==      face_style_power: 1.0                       ==\r\n==        bg_style_power: 1.0                       ==\r\n==               ct_mode: rct                       ==\r\n==              clipgrad: True                      ==\r\n==              pretrain: False                     ==\r\n==            autobackup: True                      ==\r\n== write_preview_history: False                     ==\r\n==           target_iter: 0                         ==\r\n==           random_flip: False                     ==\r\n==            batch_size: 10                        ==\r\n==       autobackup_hour: 0                         ==\r\n\r\nOnce RCT color transfer is enabled following errors are displayed but training continues and effects of color transfer are visible:\r\n\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: divide by zero encountered in float_scalars\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: invalid value encountered in multiply\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: divide by zero encountered in float_scalars\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: invalid value encountered in multiply\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in less\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in greater\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: divide by zero encountered in float_scalars\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: invalid value encountered in multiply\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: divide by zero encountered in float_scalars\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: invalid value encountered in multiply\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in less\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in greater\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: divide by zero encountered in float_scalars\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: invalid value encountered in multiply\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: divide by zero encountered in float_scalars\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: invalid value encountered in multiply\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in less\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in greater\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: divide by zero encountered in float_scalars\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: invalid value encountered in multiply\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: divide by zero encountered in float_scalars\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: invalid value encountered in multiply\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in less\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in greater\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: divide by zero encountered in float_scalars\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:243: RuntimeWarning: invalid value encountered in multiply\r\n  a = (aStdSrc / aStdTar) * a\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: divide by zero encountered in float_scalars\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:244: RuntimeWarning: invalid value encountered in multiply\r\n  b = (bStdSrc / bStdTar) * b\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in less\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\nF:\\DF\\DFL2.0\\_internal\\DeepFaceLab\\core\\imagelib\\color_transfer.py:320: RuntimeWarning: invalid value encountered in greater\r\n  scale_range = (max([mn, 0]), min([mx, 255]))\r\n\r\nI've been experiencing following errors even with other/older models in DFL 1.0 but never really though about reporting them to get to know what causes them, why the models seems to work/train fine despite them and if there is something that can be done to fix them.\r\n\r\nDFL 2.0 03.02.2020 version\r\nWin 10 Pro\r\nGTX 1060 6GB\r\n16GB RAM","closed_by":{"login":"ThomasBardem","id":57501789,"node_id":"MDQ6VXNlcjU3NTAxNzg5","avatar_url":"https://avatars.githubusercontent.com/u/57501789?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasBardem","html_url":"https://github.com/ThomasBardem","followers_url":"https://api.github.com/users/ThomasBardem/followers","following_url":"https://api.github.com/users/ThomasBardem/following{/other_user}","gists_url":"https://api.github.com/users/ThomasBardem/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasBardem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasBardem/subscriptions","organizations_url":"https://api.github.com/users/ThomasBardem/orgs","repos_url":"https://api.github.com/users/ThomasBardem/repos","events_url":"https://api.github.com/users/ThomasBardem/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasBardem/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/617/timeline","performed_via_github_app":null,"state_reason":"completed"}