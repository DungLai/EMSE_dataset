{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/760","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/760/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/760/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/760/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/760","id":624510471,"node_id":"MDU6SXNzdWU2MjQ1MTA0NzE=","number":760,"title":"Perhaps the face detector is due for an upgrade","user":{"login":"TalosOfCrete","id":32628941,"node_id":"MDQ6VXNlcjMyNjI4OTQx","avatar_url":"https://avatars.githubusercontent.com/u/32628941?v=4","gravatar_id":"","url":"https://api.github.com/users/TalosOfCrete","html_url":"https://github.com/TalosOfCrete","followers_url":"https://api.github.com/users/TalosOfCrete/followers","following_url":"https://api.github.com/users/TalosOfCrete/following{/other_user}","gists_url":"https://api.github.com/users/TalosOfCrete/gists{/gist_id}","starred_url":"https://api.github.com/users/TalosOfCrete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TalosOfCrete/subscriptions","organizations_url":"https://api.github.com/users/TalosOfCrete/orgs","repos_url":"https://api.github.com/users/TalosOfCrete/repos","events_url":"https://api.github.com/users/TalosOfCrete/events{/privacy}","received_events_url":"https://api.github.com/users/TalosOfCrete/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2020-05-25T22:45:26Z","updated_at":"2020-06-02T20:58:05Z","closed_at":"2020-06-02T20:57:59Z","author_association":"NONE","active_lock_reason":null,"body":"Seeing as S3FD is beginning to show its age - that being three years old - due to many users' difficulty using it on more complex scenes, such as ones with poor lighting and/or an abundance of occlusions, I believe has come time to retire S3FD and replace it with one of the multitude of face alignment papers that are far more recent and robust; these newer face alignment algorithms can be found [here](https://paperswithcode.com/task/face-alignment/latest#code), and seem to be substantially more resistant to occlusions and poor lighting.  The only concerns I would have with this upgrade would primarily be how ingrained S3FD is into this repository, i.e. if it can merely be swapped with a pretrained model and some variable changes, or if it would require a more fundamental restructuring of the codebase.\r\n\r\nI am opening this as an issue to promote discussion relating to the current face extraction algorithm and whether it is indeed sufficient.  I, however, am still planning to upgrade the detector on my fork of DFL [here](https://github.com/TalosOfCrete/DeepFaceLab).  Please leave your thoughts in this issue thread.  I would especially love to hear @iperov 's take on this.\r\n\r\n**Edit:** Upon further reading into the code, it does indeed appear that Head extraction makes use of a Tensorflow implementation of [this repository](https://github.com/1adrianb/face-alignment).  However, strangely enough, it still states that it uses S3FD even when extracting via head.  Regardless, S3FD is still used on all other face extraction modes.  In spite of this, however, I still believe that even the FAN-based head extractor could be upgraded as well.\r\n\r\nOne thing brought up by Ctrl+Shift+Face was the possibility of a trainable extractor, like an XSeg for alignment.  This idea is intriguing, and I believe that it warrants further exploration.","closed_by":{"login":"iperov","id":8076202,"node_id":"MDQ6VXNlcjgwNzYyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8076202?v=4","gravatar_id":"","url":"https://api.github.com/users/iperov","html_url":"https://github.com/iperov","followers_url":"https://api.github.com/users/iperov/followers","following_url":"https://api.github.com/users/iperov/following{/other_user}","gists_url":"https://api.github.com/users/iperov/gists{/gist_id}","starred_url":"https://api.github.com/users/iperov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iperov/subscriptions","organizations_url":"https://api.github.com/users/iperov/orgs","repos_url":"https://api.github.com/users/iperov/repos","events_url":"https://api.github.com/users/iperov/events{/privacy}","received_events_url":"https://api.github.com/users/iperov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/760/timeline","performed_via_github_app":null,"state_reason":"completed"}