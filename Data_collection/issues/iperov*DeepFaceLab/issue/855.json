{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/855","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/855/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/855/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/855/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/855","id":675858598,"node_id":"MDU6SXNzdWU2NzU4NTg1OTg=","number":855,"title":"Some problem when running the 5.XSeg) train.bat","user":{"login":"TLSteve","id":66633960,"node_id":"MDQ6VXNlcjY2NjMzOTYw","avatar_url":"https://avatars.githubusercontent.com/u/66633960?v=4","gravatar_id":"","url":"https://api.github.com/users/TLSteve","html_url":"https://github.com/TLSteve","followers_url":"https://api.github.com/users/TLSteve/followers","following_url":"https://api.github.com/users/TLSteve/following{/other_user}","gists_url":"https://api.github.com/users/TLSteve/gists{/gist_id}","starred_url":"https://api.github.com/users/TLSteve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TLSteve/subscriptions","organizations_url":"https://api.github.com/users/TLSteve/orgs","repos_url":"https://api.github.com/users/TLSteve/repos","events_url":"https://api.github.com/users/TLSteve/events{/privacy}","received_events_url":"https://api.github.com/users/TLSteve/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-10T04:41:34Z","updated_at":"2020-08-16T14:20:26Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"THIS IS NOT TECH SUPPORT FOR NEWBIE FAKERS\r\nPOST ONLY ISSUES RELATED TO BUGS OR CODE\r\nokay\r\n## Expected behavior\r\nI run the \"5.XSeg) train.bat\" and it failed. Although i tried to delete some samples or change the videos, it failed... :(\r\n## Actual behavior\r\nthe wrong message is\r\nCaused by op 'conv2d_transpose_2', defined at:\r\n  File \"threading.py\", line 884, in _bootstrap\r\n  File \"threading.py\", line 916, in _bootstrap_inner\r\n  File \"threading.py\", line 864, in run\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\mainscripts\\Trainer.py\", line 57, in trainerThread\r\n    debug=debug,\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\models\\Model_XSeg\\Model.py\", line 17, in __init__\r\n    super().__init__(*args, force_model_class_name='XSeg', **kwargs)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\models\\ModelBase.py\", line 188, in __init__\r\n    self.on_initialize()\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\models\\Model_XSeg\\Model.py\", line 93, in on_initialize\r\n    gpu_pred_logits_t, gpu_pred_t = self.model.flow(gpu_input_t)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\facelib\\XSegNet.py\", line 79, in flow\r\n    return self.model(x)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\core\\leras\\models\\ModelBase.py\", line 117, in __call__\r\n    return self.forward(*args, **kwargs)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\core\\leras\\models\\XSeg.py\", line 121, in forward\r\n    x = self.up2(x)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\core\\leras\\models\\ModelBase.py\", line 117, in __call__\r\n    return self.forward(*args, **kwargs)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\core\\leras\\models\\XSeg.py\", line 27, in forward\r\n    x = self.conv(x)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\core\\leras\\layers\\LayerBase.py\", line 14, in __call__\r\n    return self.forward(*args, **kwargs)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\core\\leras\\layers\\Conv2DTranspose.py\", line 81, in forward\r\n    x = tf.nn.conv2d_transpose(x, weight, output_shape, strides, padding=self.padding, data_format=nn.data_format)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py\", line 1654, in conv2d_transpose\r\n    name=name)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 1307, in conv2d_backprop_input\r\n    name=name)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 788, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 3300, in create_op\r\n    op_def=op_def)\r\n  File \"[My File Location]\\DeepFaceLab_NVIDIA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1801, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n\r\nResourceExhaustedError (see above for traceback): OOM when allocating tensor with shape[4,128,65,65] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\n         [[node conv2d_transpose_2 (defined at [My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\core\\leras\\layers\\Conv2DTranspose.py:81) ]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n\r\n         [[node Mean_33 (defined at [My File Location]\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\models\\Model_XSeg\\Model.py:105) ]]\r\n\r\n\r\n## Other relevant information\r\n- **Operating system and version:Windows\r\n- **Python version: 3.6.8","closed_by":null,"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/855/timeline","performed_via_github_app":null,"state_reason":null}