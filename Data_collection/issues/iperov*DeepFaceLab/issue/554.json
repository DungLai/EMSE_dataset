{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/554","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/554/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/554/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/554/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/554","id":548975485,"node_id":"MDU6SXNzdWU1NDg5NzU0ODU=","number":554,"title":"Traininig uses CPU not GPU. Is it how its supposed to be?","user":{"login":"Glaewion","id":59828194,"node_id":"MDQ6VXNlcjU5ODI4MTk0","avatar_url":"https://avatars.githubusercontent.com/u/59828194?v=4","gravatar_id":"","url":"https://api.github.com/users/Glaewion","html_url":"https://github.com/Glaewion","followers_url":"https://api.github.com/users/Glaewion/followers","following_url":"https://api.github.com/users/Glaewion/following{/other_user}","gists_url":"https://api.github.com/users/Glaewion/gists{/gist_id}","starred_url":"https://api.github.com/users/Glaewion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Glaewion/subscriptions","organizations_url":"https://api.github.com/users/Glaewion/orgs","repos_url":"https://api.github.com/users/Glaewion/repos","events_url":"https://api.github.com/users/Glaewion/events{/privacy}","received_events_url":"https://api.github.com/users/Glaewion/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-01-13T14:42:35Z","updated_at":"2020-03-28T05:42:18Z","closed_at":"2020-03-28T05:42:18Z","author_association":"NONE","active_lock_reason":null,"body":"THIS IS NOT TECH SUPPORT FOR NEWBIE FAKERS\r\nPOST ONLY ISSUES RELATED TO BUGS OR CODE\r\n\r\n## Expected behavior\r\n\r\nI want to run the program with my GPU, i bought a new graphic card for this, but it is not using GPU while training.\r\n\r\n## Actual behavior\r\nfirstly, before i write here, i searched every topics.\r\n\r\nWhen i run the Train SAEHD, it first says this error (photo 1):\r\n![1](https://user-images.githubusercontent.com/59828194/72260992-055ea500-3625-11ea-81e2-9b4754d44a04.jpg)\r\n\r\ntensorflow/stream_executor/cuda/cuda_driver.cc806] failed to allocate 2.43 G (2608267264 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory\r\n\r\nand i get rid of this error doing these-unfortunately it just helps the erase the error, nothing more.(before that photo, train was also not work, reducing batch size helped to work but..):\r\nhttps://github.com/iperov/DeepFaceLab/issues/369#issuecomment-524539937\r\n\r\n> try batch size of 2, dims 128\r\n----\r\n> Try lowering the batch size, i.e start from 4 and double until you get the error.\r\n> \r\n> If this doesn't work, changing line 144 in `nnlib.py` to `config.gpu_options.allow_growth = False` seemed to stop this error appearing for me.\"\r\n\r\nTrain model is working but it's not using my GPU now. It uses RAM and CPU. Is it should be like this or how can i work my GPU? This is how i train now;\r\n![2](https://user-images.githubusercontent.com/59828194/72261394-ca10a600-3625-11ea-9fda-45891aaa231a.png)\r\n\r\nIT uses shared GPU Ram but not processor. Also not actual G-RAM it uses from my normal RAM.\r\n\r\n## Other relevant information\r\nBatch size=6 \r\n **Operating system and version:** \r\nAMD Ryzen 3600 processor\r\nNvidia RTX 2060 6GB Graphic card\r\nDFL build is the latest one (10.1)\r\nWindows 10 64-bit, (i formatted several days ago, is it possible any other driver or program missing?)\r\n**Python version:**\r\nPython 3.8 64 bit.\r\n\r\n\r\n\r\n","closed_by":{"login":"iperov","id":8076202,"node_id":"MDQ6VXNlcjgwNzYyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8076202?v=4","gravatar_id":"","url":"https://api.github.com/users/iperov","html_url":"https://github.com/iperov","followers_url":"https://api.github.com/users/iperov/followers","following_url":"https://api.github.com/users/iperov/following{/other_user}","gists_url":"https://api.github.com/users/iperov/gists{/gist_id}","starred_url":"https://api.github.com/users/iperov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iperov/subscriptions","organizations_url":"https://api.github.com/users/iperov/orgs","repos_url":"https://api.github.com/users/iperov/repos","events_url":"https://api.github.com/users/iperov/events{/privacy}","received_events_url":"https://api.github.com/users/iperov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/554/timeline","performed_via_github_app":null,"state_reason":"completed"}