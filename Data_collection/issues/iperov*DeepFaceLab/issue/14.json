{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/14","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/14/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/14/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/14","id":350646257,"node_id":"MDU6SXNzdWUzNTA2NDYyNTc=","number":14,"title":"AttributeError: module 'tensorflow.python.ops.image_ops' has no attribute 'ssim'","user":{"login":"4DeepThought2","id":13695270,"node_id":"MDQ6VXNlcjEzNjk1Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/13695270?v=4","gravatar_id":"","url":"https://api.github.com/users/4DeepThought2","html_url":"https://github.com/4DeepThought2","followers_url":"https://api.github.com/users/4DeepThought2/followers","following_url":"https://api.github.com/users/4DeepThought2/following{/other_user}","gists_url":"https://api.github.com/users/4DeepThought2/gists{/gist_id}","starred_url":"https://api.github.com/users/4DeepThought2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/4DeepThought2/subscriptions","organizations_url":"https://api.github.com/users/4DeepThought2/orgs","repos_url":"https://api.github.com/users/4DeepThought2/repos","events_url":"https://api.github.com/users/4DeepThought2/events{/privacy}","received_events_url":"https://api.github.com/users/4DeepThought2/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-08-15T00:45:43Z","updated_at":"2018-08-15T00:56:28Z","closed_at":"2018-08-15T00:56:28Z","author_association":"NONE","active_lock_reason":null,"body":"## Expected behavior\r\n\r\nTraining should work\r\n\r\n## Actual behavior\r\n\r\nTraining fails with this error:\r\n```\r\nRunning trainer.\r\n\r\nLoading model...\r\nC:\\Users\\Singularity\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\h5py\\__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated\r\nas `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\n2018-08-14 19:42:44.666474: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX AVX2\r\nUsing TensorFlow backend.\r\nError: module 'tensorflow.python.ops.image_ops' has no attribute 'ssim'\r\nTraceback (most recent call last):\r\n  File \"Z:\\DeepFaceLab\\mainscripts\\Trainer.py\", line 41, in trainerThread\r\n    **in_options)\r\n  File \"Z:\\DeepFaceLab\\models\\ModelBase.py\", line 108, in __init__\r\n    self.onInitialize(**in_options)\r\n  File \"Z:\\DeepFaceLab\\models\\Model_DF\\Model.py\", line 41, in onInitialize\r\n    self.autoencoder_src.compile(optimizer=optimizer, loss=[dssimloss, 'mse'] )\r\n  File \"C:\\Users\\Singularity\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\keras\\engine\\training.py\", line 830, in compile\r\n    sample_weight, mask)\r\n  File \"C:\\Users\\Singularity\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\keras\\engine\\training.py\", line 429, in weighted\r\n    score_array = fn(y_true, y_pred)\r\n  File \"Z:\\DeepFaceLab\\nnlib\\__init__.py\", line 34, in __call__\r\n    loss = (1.0 - tf.image.ssim (y_true*mask, y_pred*mask, 1.0)) / 2.0\r\nAttributeError: module 'tensorflow.python.ops.image_ops' has no attribute 'ssim'\r\nPS Z:\\DeepFaceLab`\r\n```\r\n\r\n## Steps to reproduce\r\n\r\nLatest repo - CUDA 9, everything updated, 1080GT\r\n\r\n## Other relevant information\r\nWindows 10\r\npython 3.6.4","closed_by":{"login":"4DeepThought2","id":13695270,"node_id":"MDQ6VXNlcjEzNjk1Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/13695270?v=4","gravatar_id":"","url":"https://api.github.com/users/4DeepThought2","html_url":"https://github.com/4DeepThought2","followers_url":"https://api.github.com/users/4DeepThought2/followers","following_url":"https://api.github.com/users/4DeepThought2/following{/other_user}","gists_url":"https://api.github.com/users/4DeepThought2/gists{/gist_id}","starred_url":"https://api.github.com/users/4DeepThought2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/4DeepThought2/subscriptions","organizations_url":"https://api.github.com/users/4DeepThought2/orgs","repos_url":"https://api.github.com/users/4DeepThought2/repos","events_url":"https://api.github.com/users/4DeepThought2/events{/privacy}","received_events_url":"https://api.github.com/users/4DeepThought2/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/14/timeline","performed_via_github_app":null,"state_reason":"completed"}