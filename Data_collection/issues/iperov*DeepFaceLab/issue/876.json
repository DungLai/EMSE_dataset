{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/876","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/876/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/876/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/876/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/876","id":687929806,"node_id":"MDU6SXNzdWU2ODc5Mjk4MDY=","number":876,"title":"Deepfacelab gives error [Error: Attempting to use uninitialized value conv2d_1/bias] when running trainer","user":{"login":"Zeerc1","id":70370674,"node_id":"MDQ6VXNlcjcwMzcwNjc0","avatar_url":"https://avatars.githubusercontent.com/u/70370674?v=4","gravatar_id":"","url":"https://api.github.com/users/Zeerc1","html_url":"https://github.com/Zeerc1","followers_url":"https://api.github.com/users/Zeerc1/followers","following_url":"https://api.github.com/users/Zeerc1/following{/other_user}","gists_url":"https://api.github.com/users/Zeerc1/gists{/gist_id}","starred_url":"https://api.github.com/users/Zeerc1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zeerc1/subscriptions","organizations_url":"https://api.github.com/users/Zeerc1/orgs","repos_url":"https://api.github.com/users/Zeerc1/repos","events_url":"https://api.github.com/users/Zeerc1/events{/privacy}","received_events_url":"https://api.github.com/users/Zeerc1/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-08-28T09:09:38Z","updated_at":"2020-09-01T01:38:00Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Here's the code. Please help me realize what I have to fix. I am just learning the software and not familiar with code language so please be patient with me. I just want to know if this is something to do with my file placement, a software I don't have on my computer or if it just something my computer simply cannot do. Thank you!\r\n----------------------------------------------------------------------------------------------------------------------------------------------\r\nRunning trainer.\r\n\r\nLoading model...\r\n\r\nModel first run.\r\nEnable autobackup? (y/n ?:help skip:n) : y\r\nWrite preview history? (y/n ?:help skip:n) :\r\nn\r\nTarget iteration (skip:unlimited/default) :\r\n0\r\nBatch_size (?:help skip:0) : 20\r\nFlip faces randomly? (y/n ?:help skip:y) :\r\ny\r\nResolution ( 64-256 ?:help skip:128) :\r\n128\r\nHalf or Full face? (h/f, ?:help skip:f) :\r\nf\r\nLearn mask? (y/n, ?:help skip:y ) :\r\ny\r\nOptimizer mode? ( 1,2,3 ?:help skip:1) :\r\n1\r\nAE architecture (df, liae ?:help skip:df) :\r\ndf\r\nAutoEncoder dims (32-1024 ?:help skip:512) :\r\n512\r\nEncoder dims per channel (21-85 ?:help skip:42) :\r\n42\r\nDecoder dims per channel (10-85 ?:help skip:21) :\r\n21\r\nUse CA weights? (y/n, ?:help skip:n ) :\r\nn\r\nUse pixel loss? (y/n, ?:help skip:n ) :\r\nn\r\nFace style power ( 0.0 .. 100.0 ?:help skip:0.00) :\r\n0.0\r\nBackground style power ( 0.0 .. 100.0 ?:help skip:0.00) :\r\n0.0\r\nColor transfer mode apply to src faceset. ( none/rct/lct/mkl/idt/sot, ?:help skip:none) :\r\nnone\r\nEnable gradient clipping? (y/n, ?:help skip:n) : y\r\nPretrain the model? (y/n, ?:help skip:n) :\r\nn\r\nUsing TensorFlow backend.\r\nLoading: 100%|####################################################################| 6985/6985 [01:04<00:00, 109.09it/s]\r\nLoading: 100%|#######################################################################| 159/159 [00:01<00:00, 85.12it/s]\r\n========== Model Summary ===========\r\n==                                ==\r\n==        Model name: SAE         ==\r\n==                                ==\r\n== Current iteration: 0           ==\r\n==                                ==\r\n==-------- Model Options ---------==\r\n==                                ==\r\n==        autobackup: True        ==\r\n==       random_flip: True        ==\r\n==        resolution: 128         ==\r\n==         face_type: f           ==\r\n==        learn_mask: True        ==\r\n==    optimizer_mode: 1           ==\r\n==             archi: df          ==\r\n==           ae_dims: 512         ==\r\n==         e_ch_dims: 42          ==\r\n==         d_ch_dims: 21          ==\r\n==        ca_weights: False       ==\r\n==        pixel_loss: False       ==\r\n==  face_style_power: 0.0         ==\r\n==    bg_style_power: 0.0         ==\r\n==           ct_mode: none        ==\r\n==          clipgrad: True        ==\r\n==        batch_size: 20          ==\r\n==                                ==\r\n==---------- Running On ----------==\r\n==                                ==\r\n==      Device index: 0           ==\r\n==              Name: Quadro M620 ==\r\n==              VRAM: 2.00GB      ==\r\n==                                ==\r\n====================================\r\n/!\\\r\n/!\\ WARNING:\r\n/!\\ You are using a GPU with 2GB or less VRAM. This may significantly reduce the quality of your result!\r\n/!\\ If training does not start, close all programs and try again.\r\n/!\\ Also you can disable Windows Aero Desktop to increase available VRAM.\r\n/!\\\r\nError: Attempting to use uninitialized value conv2d_1/bias\r\n         [[{{node conv2d_1/bias/_856}} = _Send[T=DT_FLOAT, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_6_conv2d_1/bias\", _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](conv2d_1/bias)]]\r\n         [[{{node conv2d_1/bias/_857}} = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_6_conv2d_1/bias\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1334, in _do_call\r\n    return fn(*args)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1319, in _run_fn\r\n    options, feed_dict, fetch_list, target_list, run_metadata)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1407, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value conv2d_1/bias\r\n         [[{{node conv2d_1/bias/_856}} = _Send[T=DT_FLOAT, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_6_conv2d_1/bias\", _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](conv2d_1/bias)]]\r\n         [[{{node conv2d_1/bias/_857}} = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_6_conv2d_1/bias\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\DeepFaceLab\\mainscripts\\Trainer.py\", line 76, in trainerThread\r\n    model_save()\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\DeepFaceLab\\mainscripts\\Trainer.py\", line 62, in model_save\r\n    model.save()\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\DeepFaceLab\\models\\ModelBase.py\", line 349, in save\r\n    self.onSave()\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\DeepFaceLab\\models\\Model_SAE\\Model.py\", line 497, in onSave\r\n    self.save_weights_safe( self.get_model_filename_list() )\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\DeepFaceLab\\models\\ModelBase.py\", line 451, in save_weights_safe\r\n    model.save_weights( filename)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\keras\\engine\\network.py\", line 1121, in save_weights\r\n    saving.save_weights_to_hdf5_group(f, self.layers)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\keras\\engine\\saving.py\", line 572, in save_weights_to_hdf5_group\r\n    weight_values = K.batch_get_value(symbolic_weights)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py\", line 2420, in batch_get_value\r\n    return get_session().run(ops)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 929, in run\r\n    run_metadata_ptr)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1152, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1328, in _do_run\r\n    run_metadata)\r\n  File \"C:\\Users\\shado\\Desktop\\Deepfake maybe\\DeepFaceLab_CUDA\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1348, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value conv2d_1/bias\r\n         [[{{node conv2d_1/bias/_856}} = _Send[T=DT_FLOAT, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_6_conv2d_1/bias\", _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](conv2d_1/bias)]]\r\n         [[{{node conv2d_1/bias/_857}} = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_6_conv2d_1/bias\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]","closed_by":null,"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/876/timeline","performed_via_github_app":null,"state_reason":null}