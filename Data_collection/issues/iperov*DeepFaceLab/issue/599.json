{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/599","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/599/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/599/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/599/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/599","id":558618066,"node_id":"MDU6SXNzdWU1NTg2MTgwNjY=","number":599,"title":"TypeError: object of type 'PosixPath' has no len()","user":{"login":"l0ophole","id":19521547,"node_id":"MDQ6VXNlcjE5NTIxNTQ3","avatar_url":"https://avatars.githubusercontent.com/u/19521547?v=4","gravatar_id":"","url":"https://api.github.com/users/l0ophole","html_url":"https://github.com/l0ophole","followers_url":"https://api.github.com/users/l0ophole/followers","following_url":"https://api.github.com/users/l0ophole/following{/other_user}","gists_url":"https://api.github.com/users/l0ophole/gists{/gist_id}","starred_url":"https://api.github.com/users/l0ophole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/l0ophole/subscriptions","organizations_url":"https://api.github.com/users/l0ophole/orgs","repos_url":"https://api.github.com/users/l0ophole/repos","events_url":"https://api.github.com/users/l0ophole/events{/privacy}","received_events_url":"https://api.github.com/users/l0ophole/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-02-02T00:02:39Z","updated_at":"2020-02-03T07:26:21Z","closed_at":"2020-02-03T07:26:21Z","author_association":"NONE","active_lock_reason":null,"body":"OS: Debian Linux\r\nGPU: Nvidia T4\r\nCUDA: 10.0.130-1\r\nPython: 3.6\r\nCommand line: python3.6 DeepFaceLab/main.py merge --input-dir workspace/data_dst --output-dir workspace/data_dst/merged --output-mask-dir workspace/data_dst/merged_mask --aligned-dir workspace/data_dst/aligned --model-dir workspace/model --model \"SAEHD\"\r\n\r\nI've been training a model for the past 48 hours and I have already merged the model and exported it to a video twice with no problems. I just tried to merge the model again and now it gets to frame 95 and crashes. See the error log below this paragraph. Is my model useless now? I've been training it on a Google Compute VM so if the model is useless then I've wasted $10 on the Google Compute VM so far.\r\n\r\nMerging:   3% 95/3623 [00:05<03:27, 17.00it/s]Exception while process data [/content/workspace/data_dst/00096.jpg]: Traceback (most recent call last):\r\n  File \"/content/DeepFaceLab/mainscripts/Merger.py\", line 151, in process_data\r\n    final_img = MergeMasked (self.predictor_func, self.predictor_input_shape, cfg, frame_info)\r\n  File \"/content/DeepFaceLab/merger/MergeMasked.py\", line 327, in MergeMasked\r\n    out_img, out_img_merging_mask = MergeMaskedFace (predictor_func, predictor_input_shape, cfg, frame_info, img_bgr_uint8, img_bgr, img_landmarks)\r\n  File \"/content/DeepFaceLab/merger/MergeMasked.py\", line 13, in MergeMaskedFace\r\n    img_face_mask_a = LandmarksProcessor.get_image_hull_mask (img_bgr.shape, img_face_landmarks)\r\n  File \"/content/DeepFaceLab/facelib/LandmarksProcessor.py\", line 355, in get_image_hull_mask\r\n    lmrks = expand_eyebrows(image_landmarks, eyebrows_expand_mod)\r\n  File \"/content/DeepFaceLab/facelib/LandmarksProcessor.py\", line 324, in expand_eyebrows\r\n    if len(lmrks) != 68:\r\nTypeError: object of type 'PosixPath' has no len()\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/content/DeepFaceLab/core/joblib/SubprocessorBase.py\", line 71, in _subprocess_run\r\n    result = self.process_data (data)\r\n  File \"/content/DeepFaceLab/mainscripts/Merger.py\", line 157, in process_data\r\n    raise Exception( f'Error while merging file [{filepath}]: {e_str}' )\r\nException: Error while merging file [/content/workspace/data_dst/00096.jpg]: Traceback (most recent call last):\r\n  File \"/content/DeepFaceLab/mainscripts/Merger.py\", line 151, in process_data\r\n    final_img = MergeMasked (self.predictor_func, self.predictor_input_shape, cfg, frame_info)\r\n  File \"/content/DeepFaceLab/merger/MergeMasked.py\", line 327, in MergeMasked\r\n    out_img, out_img_merging_mask = MergeMaskedFace (predictor_func, predictor_input_shape, cfg, frame_info, img_bgr_uint8, img_bgr, img_landmarks)\r\n  File \"/content/DeepFaceLab/merger/MergeMasked.py\", line 13, in MergeMaskedFace\r\n    img_face_mask_a = LandmarksProcessor.get_image_hull_mask (img_bgr.shape, img_face_landmarks)\r\n  File \"/content/DeepFaceLab/facelib/LandmarksProcessor.py\", line 355, in get_image_hull_mask\r\n    lmrks = expand_eyebrows(image_landmarks, eyebrows_expand_mod)\r\n  File \"/content/DeepFaceLab/facelib/LandmarksProcessor.py\", line 324, in expand_eyebrows\r\n    if len(lmrks) != 68:\r\nTypeError: object of type 'PosixPath' has no len()\r\n\r\n\r\n/usr/lib/python3.6/multiprocessing/semaphore_tracker.py:143: UserWarning: semaphore_tracker: There appear to be 1 leaked semaphores to clean up at shutdown\r\n  len(cache))\r\nException while process data [/content/workspace/data_dst/00097.jpg]: Traceback (most recent call last):\r\n  File \"/content/DeepFaceLab/mainscripts/Merger.py\", line 151, in process_data\r\n    final_img = MergeMasked (self.predictor_func, self.predictor_input_shape, cfg, frame_info)\r\n  File \"/content/DeepFaceLab/merger/MergeMasked.py\", line 327, in MergeMasked\r\n    out_img, out_img_merging_mask = MergeMaskedFace (predictor_func, predictor_input_shape, cfg, frame_info, img_bgr_uint8, img_bgr, img_landmarks)\r\n  File \"/content/DeepFaceLab/merger/MergeMasked.py\", line 13, in MergeMaskedFace\r\n    img_face_mask_a = LandmarksProcessor.get_image_hull_mask (img_bgr.shape, img_face_landmarks)\r\n  File \"/content/DeepFaceLab/facelib/LandmarksProcessor.py\", line 355, in get_image_hull_mask\r\n    lmrks = expand_eyebrows(image_landmarks, eyebrows_expand_mod)\r\n  File \"/content/DeepFaceLab/facelib/LandmarksProcessor.py\", line 324, in expand_eyebrows\r\n    if len(lmrks) != 68:\r\nTypeError: object of type 'PosixPath' has no len()\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/content/DeepFaceLab/core/joblib/SubprocessorBase.py\", line 71, in _subprocess_run\r\n    result = self.process_data (data)\r\n  File \"/content/DeepFaceLab/mainscripts/Merger.py\", line 157, in process_data\r\n    raise Exception( f'Error while merging file [{filepath}]: {e_str}' )\r\nException: Error while merging file [/content/workspace/data_dst/00097.jpg]: Traceback (most recent call last):\r\n  File \"/content/DeepFaceLab/mainscripts/Merger.py\", line 151, in process_data\r\n    final_img = MergeMasked (self.predictor_func, self.predictor_input_shape, cfg, frame_info)\r\n  File \"/content/DeepFaceLab/merger/MergeMasked.py\", line 327, in MergeMasked\r\n    out_img, out_img_merging_mask = MergeMaskedFace (predictor_func, predictor_input_shape, cfg, frame_info, img_bgr_uint8, img_bgr, img_landmarks)\r\n  File \"/content/DeepFaceLab/merger/MergeMasked.py\", line 13, in MergeMaskedFace\r\n    img_face_mask_a = LandmarksProcessor.get_image_hull_mask (img_bgr.shape, img_face_landmarks)\r\n  File \"/content/DeepFaceLab/facelib/LandmarksProcessor.py\", line 355, in get_image_hull_mask\r\n    lmrks = expand_eyebrows(image_landmarks, eyebrows_expand_mod)\r\n  File \"/content/DeepFaceLab/facelib/LandmarksProcessor.py\", line 324, in expand_eyebrows\r\n    if len(lmrks) != 68:\r\nTypeError: object of type 'PosixPath' has no len()\r\n\r\n\r\n/usr/lib/python3.6/multiprocessing/semaphore_tracker.py:143: UserWarning: semaphore_tracker: There appear to be 1 leaked semaphores to clean up at shutdown\r\n  len(cache))","closed_by":{"login":"iperov","id":8076202,"node_id":"MDQ6VXNlcjgwNzYyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8076202?v=4","gravatar_id":"","url":"https://api.github.com/users/iperov","html_url":"https://github.com/iperov","followers_url":"https://api.github.com/users/iperov/followers","following_url":"https://api.github.com/users/iperov/following{/other_user}","gists_url":"https://api.github.com/users/iperov/gists{/gist_id}","starred_url":"https://api.github.com/users/iperov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iperov/subscriptions","organizations_url":"https://api.github.com/users/iperov/orgs","repos_url":"https://api.github.com/users/iperov/repos","events_url":"https://api.github.com/users/iperov/events{/privacy}","received_events_url":"https://api.github.com/users/iperov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/599/timeline","performed_via_github_app":null,"state_reason":"completed"}