{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/193","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/193/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/193/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/193/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/193","id":421485527,"node_id":"MDU6SXNzdWU0MjE0ODU1Mjc=","number":193,"title":"CUDA9.2SSE  cudnn has crash","user":{"login":"deyu260","id":1235651,"node_id":"MDQ6VXNlcjEyMzU2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1235651?v=4","gravatar_id":"","url":"https://api.github.com/users/deyu260","html_url":"https://github.com/deyu260","followers_url":"https://api.github.com/users/deyu260/followers","following_url":"https://api.github.com/users/deyu260/following{/other_user}","gists_url":"https://api.github.com/users/deyu260/gists{/gist_id}","starred_url":"https://api.github.com/users/deyu260/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deyu260/subscriptions","organizations_url":"https://api.github.com/users/deyu260/orgs","repos_url":"https://api.github.com/users/deyu260/repos","events_url":"https://api.github.com/users/deyu260/events{/privacy}","received_events_url":"https://api.github.com/users/deyu260/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2019-03-15T12:00:46Z","updated_at":"2019-04-03T04:38:41Z","closed_at":"2019-03-15T12:17:20Z","author_association":"NONE","active_lock_reason":null,"body":"DeepFaceLabCUDA9.2SSE_build_03_11_2019 has carsh，error log say: Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR，I installed the driver correctly and cuda and cudnn。\r\n\r\ncuda_9.2.148_win10\r\ncudnn-9.2-windows10-x64-v7.4.2.24\r\n\r\nos windows 10 2019 ltsc\r\ncpu amd x830 \r\nmotherboard GA 780G Integrated Graphics HD3200\r\nmemory 2Gx8\r\nGraphics card p106 6g\r\n\r\n//===== Model summary =====\r\n//== Model name: H128\r\n//==\r\n//== Current epoch: 0\r\n//==\r\n//== Model options:\r\n//== |== batch_size : 4\r\n//== |== sort_by_yaw : False\r\n//== |== random_flip : True\r\n//== |== lighter_ae : False\r\n//== |== pixel_loss : False\r\n//== Running on:\r\n//== |== [0 : P106-100]\r\n//=========================\r\nSaving...\r\nStarting. Press \"Enter\" to stop training and save model.\r\n2019-03-15 19:42:35.937782: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-03-15 19:42:35.943660: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-03-15 19:42:35.950721: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-03-15 19:42:35.955916: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\nError: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above.\r\n         [[{{node model_1_1/conv2d_1/convolution}} = Conv2D[T=DT_FLOAT, _class=[\"loc:@training/Adam/gradients/AddN_45\"], data_format=\"NCHW\", dilations=[1, 1, 1, 1], padding=\"SAME\", strides=[1, 1, 2, 2], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](training/Adam/gradients/model_1_1/conv2d_1/convolution_grad/Conv2DBackpropFilter-0-TransposeNHWCToNCHW-LayoutOptimizer, conv2d_1/kernel/read)]]\r\n         [[{{node loss/model_2_loss_1/Mean_3/_567}} = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_4729_loss/model_2_loss_1/Mean_3\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\nTraceback (most recent call last):\r\n  File \"C:\\temp\\DeepFaceLabCUDA9.2SSE\\_internal\\DeepFaceLab\\mainscripts\\Trainer.py\", line 75, in trainerThread\r\n    loss_string = model.train_one_epoch()\r\n  File \"C:\\temp\\DeepFaceLabCUDA9.2SSE\\_internal\\DeepFaceLab\\models\\ModelBase.py\", line 309, in train_one_epoch\r\n    losses = self.onTrainOneEpoch(sample, self.generator_list)\r\n  File \"C:\\temp\\DeepFaceLabCUDA9.2SSE\\_internal\\DeepFaceLab\\models\\Model_H128\\Model.py\", line 84, in onTrainOneEpoch\r\n    total, loss_src_bgr, loss_src_mask, loss_dst_bgr, loss_dst_mask = self.ae.train_on_batch( [warped_src, target_src_mask, warped_dst, target_dst_mask], [target_src, target_src_mask, target_dst, target_dst_mask] )\r\n  File \"C:\\temp\\DeepFaceLabCUDA9.2SSE\\_internal\\python-3.6.8\\lib\\site-packages\\keras\\engine\\training.py\", line 1217, in train_on_batch\r\n    outputs = self.train_function(ins)\r\n  File \"C:\\temp\\DeepFaceLabCUDA9.2SSE\\_internal\\python-3.6.8\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py\", line 2715, in __call__\r\n    return self._call(inputs)\r\n  File \"C:\\temp\\DeepFaceLabCUDA9.2SSE\\_internal\\python-3.6.8\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py\", line 2675, in _call\r\n    fetched = self._callable_fn(*array_vals)\r\n  File \"C:\\temp\\DeepFaceLabCUDA9.2SSE\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1439, in __call__\r\n    run_metadata_ptr)\r\n  File \"C:\\temp\\DeepFaceLabCUDA9.2SSE\\_internal\\python-3.6.8\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 528, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.UnknownError: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above.\r\n         [[{{node model_1_1/conv2d_1/convolution}} = Conv2D[T=DT_FLOAT, _class=[\"loc:@training/Adam/gradients/AddN_45\"], data_format=\"NCHW\", dilations=[1, 1, 1, 1], padding=\"SAME\", strides=[1, 1, 2, 2], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](training/Adam/gradients/model_1_1/conv2d_1/convolution_grad/Conv2DBackpropFilter-0-TransposeNHWCToNCHW-LayoutOptimizer, conv2d_1/kernel/read)]]\r\n         [[{{node loss/model_2_loss_1/Mean_3/_567}} = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_4729_loss/model_2_loss_1/Mean_3\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\nDone.\r\n请按任意键继续. . .\r\n\r\n","closed_by":{"login":"iperov","id":8076202,"node_id":"MDQ6VXNlcjgwNzYyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8076202?v=4","gravatar_id":"","url":"https://api.github.com/users/iperov","html_url":"https://github.com/iperov","followers_url":"https://api.github.com/users/iperov/followers","following_url":"https://api.github.com/users/iperov/following{/other_user}","gists_url":"https://api.github.com/users/iperov/gists{/gist_id}","starred_url":"https://api.github.com/users/iperov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iperov/subscriptions","organizations_url":"https://api.github.com/users/iperov/orgs","repos_url":"https://api.github.com/users/iperov/repos","events_url":"https://api.github.com/users/iperov/events{/privacy}","received_events_url":"https://api.github.com/users/iperov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/193/timeline","performed_via_github_app":null,"state_reason":"completed"}