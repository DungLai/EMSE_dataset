{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/796","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/796/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/796/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/796/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/796","id":643390620,"node_id":"MDU6SXNzdWU2NDMzOTA2MjA=","number":796,"title":"Unpredictable shutdown when I use 2 GPUs to train one model","user":{"login":"rec8","id":7539328,"node_id":"MDQ6VXNlcjc1MzkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/7539328?v=4","gravatar_id":"","url":"https://api.github.com/users/rec8","html_url":"https://github.com/rec8","followers_url":"https://api.github.com/users/rec8/followers","following_url":"https://api.github.com/users/rec8/following{/other_user}","gists_url":"https://api.github.com/users/rec8/gists{/gist_id}","starred_url":"https://api.github.com/users/rec8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rec8/subscriptions","organizations_url":"https://api.github.com/users/rec8/orgs","repos_url":"https://api.github.com/users/rec8/repos","events_url":"https://api.github.com/users/rec8/events{/privacy}","received_events_url":"https://api.github.com/users/rec8/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-22T22:08:22Z","updated_at":"2020-06-23T21:05:52Z","closed_at":"2020-06-23T21:05:35Z","author_association":"NONE","active_lock_reason":null,"body":"## Expected behavior\r\nTraining my model with both GPUs at the same time.\r\n\r\n## Actual behavior\r\nMy computer shutdown when I train with 2 GPUs. It is totally unexpected; it could happen after 5 minutes or after 1 hour. Longest time training is 2 hours.\r\nYes, I know this seem clearly hardware related, but I have tested different case scenarios and I think the answer is not so simple (if I am wrong please don’t mind to tell me I am an idiot).\r\nFirst strange thing: All works fine in build 04_20_2020, but in the later builds I have the issue (In build 04_20_2020 longest training time is 30 hours and I stopped the training, the pc didn’t shutdown suddenly).\r\n\r\n## Steps to reproduce\r\nTrain SAEHD with my two GPUs (I dont think it could be reproduced)\r\n\r\n## Other relevant information\r\nI am using prebuilt windows binary\r\n- Windows 10\r\n- AMD Threadripper 1950X 3.4 GHz 16-Core Processor\r\n- MSI X399 GAMING PRO CARBON ATX\r\n- 64 Gb RAM\r\n- SSD (500 GB free)\r\n- 1 GTX 1080ti 11Gb\r\n- 1 TITAN XP 12Gb\r\n- SeaSonic PRIME Titanium 1000 W \r\n(PC part picker says my PC estimated wattage is 838W)\r\n\r\nAs I said all works OK in build 04_20_2020 (longest trainning session using both GPUs in my model is 30 hours). My model is 256px, 296-80-80-22, batch=8. All in GPU.\r\n\r\n- If I use just the GTX 1080ti with same model and settings but batch=4, all works fine (training during 24 hours with no issues and using the computer to watch youtube videos, surf the web, etc).\r\n- If I use just the TITAN XP with same model and settings but batch=4, all works fine (training during 24 hours with no issues and using the computer to watch youtube videos, surf the web, etc).\r\n- If I use both GPUs at the same time, each one working in a different folder with a model with the same settings, but batch=4, all works fine (training during 24 hours with no issues and using the computer to watch youtube videos, surf the web, etc).\r\n- If I use both GPUs, both training the same model with batch=8, the issue happens. (I also tried with batch=6, 4 and even 2 and it is the same. My PC shutsdown suddenly after a couple of minutes even without using the PC for anything else besides the training).\r\n\r\nThank you very much.\r\n","closed_by":{"login":"iperov","id":8076202,"node_id":"MDQ6VXNlcjgwNzYyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8076202?v=4","gravatar_id":"","url":"https://api.github.com/users/iperov","html_url":"https://github.com/iperov","followers_url":"https://api.github.com/users/iperov/followers","following_url":"https://api.github.com/users/iperov/following{/other_user}","gists_url":"https://api.github.com/users/iperov/gists{/gist_id}","starred_url":"https://api.github.com/users/iperov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iperov/subscriptions","organizations_url":"https://api.github.com/users/iperov/orgs","repos_url":"https://api.github.com/users/iperov/repos","events_url":"https://api.github.com/users/iperov/events{/privacy}","received_events_url":"https://api.github.com/users/iperov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/796/timeline","performed_via_github_app":null,"state_reason":"completed"}