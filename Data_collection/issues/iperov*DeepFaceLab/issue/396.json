{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/396","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/396/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/396/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/396/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/396","id":489522577,"node_id":"MDU6SXNzdWU0ODk1MjI1Nzc=","number":396,"title":"Model collapsing from low loss values but image quality of closeups is still non ideal","user":{"login":"bkapvt","id":54478726,"node_id":"MDQ6VXNlcjU0NDc4NzI2","avatar_url":"https://avatars.githubusercontent.com/u/54478726?v=4","gravatar_id":"","url":"https://api.github.com/users/bkapvt","html_url":"https://github.com/bkapvt","followers_url":"https://api.github.com/users/bkapvt/followers","following_url":"https://api.github.com/users/bkapvt/following{/other_user}","gists_url":"https://api.github.com/users/bkapvt/gists{/gist_id}","starred_url":"https://api.github.com/users/bkapvt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkapvt/subscriptions","organizations_url":"https://api.github.com/users/bkapvt/orgs","repos_url":"https://api.github.com/users/bkapvt/repos","events_url":"https://api.github.com/users/bkapvt/events{/privacy}","received_events_url":"https://api.github.com/users/bkapvt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-09-05T04:34:32Z","updated_at":"2020-03-28T05:41:10Z","closed_at":"2020-03-28T05:41:10Z","author_association":"NONE","active_lock_reason":null,"body":"I've trained a model with the following settings to ~85k iterations. The model settings i'm using are based off of the post made here https://github.com/iperov/DeepFaceLab/issues/329 and can be seen below. In this post @Auroir mentions that for a batch size of 6 (this is the best my GPU can handle) I should shoot for ~150K iterations. What I'm not understanding is why I'm getting model collapses and super low loss values starting at ~60k iterations ( I back up my models so I was able to recover from 2 collapses and get another 25k iterations out of it.)\r\n\r\nIt's worth mentioning that the result of a seamless learned hst match conversion looks quite good for destination images at medium ranges but the closeups still look very blurry. I was thinking that more training would get the closeups better but as you can see in the image below the loss values are really low and are improving little if at all over more iterations.\r\n\r\nGiven the context above I have a few questions...\r\n1. Why are the loss values so low this early, given 150K iterations is recommended.\r\n2. Why is the model collapsing this early?\r\n3. Why are the closeup images so much blurrier than the medium shots?\r\n4. Does this all just point to bad a source set?\r\n\r\n# Model Settings:\r\n== Model name: SAE\r\n== Current iteration: 82708\r\n== Model option\r\n== |== batch_size : 6\r\n== |== sort_by_yaw : False\r\n== |== random_flip : False\r\n== |== resolution : 176\r\n== |== face_type : f\r\n== |== learn_mask : True\r\n== |== optimizer_mode : 3\r\n== |== archi : liae\r\n== |== ae_dims : 200\r\n== |== e_ch_dims : 40\r\n== |== d_ch_dims : 20\r\n== |== multiscale_decoder : False\r\n== |== ca_weights : True\r\n== |== pixel_loss : True\r\n== |== face_style_power : 0.0\r\n== |== bg_style_power : 0.0\r\n== |== apply_random_ct : False\r\n== Running on\r\n== |== [0 : GeForce GTX 980 Ti]\r\n\r\n=========================\r\n\r\n![Untitled](https://user-images.githubusercontent.com/54478726/64311981-0edf4e80-cf5b-11e9-8944-ce2467a588bc.png)\r\n\r\n","closed_by":{"login":"iperov","id":8076202,"node_id":"MDQ6VXNlcjgwNzYyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8076202?v=4","gravatar_id":"","url":"https://api.github.com/users/iperov","html_url":"https://github.com/iperov","followers_url":"https://api.github.com/users/iperov/followers","following_url":"https://api.github.com/users/iperov/following{/other_user}","gists_url":"https://api.github.com/users/iperov/gists{/gist_id}","starred_url":"https://api.github.com/users/iperov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iperov/subscriptions","organizations_url":"https://api.github.com/users/iperov/orgs","repos_url":"https://api.github.com/users/iperov/repos","events_url":"https://api.github.com/users/iperov/events{/privacy}","received_events_url":"https://api.github.com/users/iperov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/396/timeline","performed_via_github_app":null,"state_reason":"completed"}