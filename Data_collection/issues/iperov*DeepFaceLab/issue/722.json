{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/722","repository_url":"https://api.github.com/repos/iperov/DeepFaceLab","labels_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/722/labels{/name}","comments_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/722/comments","events_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/722/events","html_url":"https://github.com/iperov/DeepFaceLab/issues/722","id":602700152,"node_id":"MDU6SXNzdWU2MDI3MDAxNTI=","number":722,"title":"Some problem about merge Quick96.bat","user":{"login":"Rocky-17","id":52768119,"node_id":"MDQ6VXNlcjUyNzY4MTE5","avatar_url":"https://avatars.githubusercontent.com/u/52768119?v=4","gravatar_id":"","url":"https://api.github.com/users/Rocky-17","html_url":"https://github.com/Rocky-17","followers_url":"https://api.github.com/users/Rocky-17/followers","following_url":"https://api.github.com/users/Rocky-17/following{/other_user}","gists_url":"https://api.github.com/users/Rocky-17/gists{/gist_id}","starred_url":"https://api.github.com/users/Rocky-17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rocky-17/subscriptions","organizations_url":"https://api.github.com/users/Rocky-17/orgs","repos_url":"https://api.github.com/users/Rocky-17/repos","events_url":"https://api.github.com/users/Rocky-17/events{/privacy}","received_events_url":"https://api.github.com/users/Rocky-17/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-19T12:14:37Z","updated_at":"2021-10-09T18:31:25Z","closed_at":"2021-10-09T18:31:25Z","author_association":"NONE","active_lock_reason":null,"body":"**### ==----------- Model Options -----------==\r\n==                                     ==\r\n==        batch_size: 4                ==\r\n==                                     ==\r\n==------------ Running On -------------==\r\n==                                     ==\r\n==      Device index: 0                ==\r\n==              Name: GeForce GTX 1050 ==\r\n==              VRAM: 2.00GB           ==\r\n==                                     ==\r\n=========================================**\r\n\r\n### **when I run 7) merge Quick96.batï¼Œif I chose use interactive merger, and next frame to a image which have face, it would be like this:**\r\n\r\n```\r\n[y] Use interactive merger? ( y/n ) : y\r\nCollecting alignments: 100%|########################################################| 203/203 [00:00<00:00, 349.73it/s]\r\nComputing motion vectors: 100%|####################################################| 203/203 [00:00<00:00, 1049.03it/s]\r\nRunning on CPU3.\r\nRunning on CPU0.\r\nRunning on CPU1.\r\nRunning on CPU2.\r\nMerging:   0%|                                                                                 | 0/203 [00:00<?, ?it/s]Exception while process data [D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\workspace\\data_dst\\00018.jpg]: Traceback (most recent call last):\r\n  File \"D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\merger\\InteractiveMergerSubprocessor.py\", line 112, in process_data\r\n    frame_info=frame_info)\r\n  File \"D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\merger\\MergeMasked.py\", line 326, in MergeMasked\r\n    out_img, out_img_merging_mask = MergeMaskedFace (predictor_func, predictor_input_shape, face_enhancer_func, xseg_256_extract_func, cfg, frame_info, img_bgr_uint8, img_bgr, img_landmarks)\r\n  File \"D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\merger\\MergeMasked.py\", line 311, in MergeMaskedFace\r\n    return out_img, out_merging_mask_a\r\nUnboundLocalError: local variable 'out_img' referenced before assignment\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\core\\joblib\\SubprocessorBase.py\", line 71, in _subprocess_run\r\n    result = self.process_data (data)\r\n  File \"D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\merger\\InteractiveMergerSubprocessor.py\", line 118, in process_data\r\n    raise Exception( f'Error while merging file [{filepath}]: {e_str}' )\r\nException: Error while merging file [D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\workspace\\data_dst\\00018.jpg]: Traceback (most recent call last):\r\n  File \"D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\merger\\InteractiveMergerSubprocessor.py\", line 112, in process_data\r\n    frame_info=frame_info)\r\n  File \"D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\merger\\MergeMasked.py\", line 326, in MergeMasked\r\n    out_img, out_img_merging_mask = MergeMaskedFace (predictor_func, predictor_input_shape, face_enhancer_func, xseg_256_extract_func, cfg, frame_info, img_bgr_uint8, img_bgr, img_landmarks)\r\n  File \"D:\\DeepFaceLab\\DeepFaceLab_NVIDIA\\_internal\\DeepFaceLab\\merger\\MergeMasked.py\", line 311, in MergeMaskedFace\r\n    return out_img, out_merging_mask_a\r\nUnboundLocalError: local variable 'out_img' referenced before assignment\r\n```\r\n \r\nBut if I do not use interactive merger, it will work well.How could I handle this?","closed_by":{"login":"Rocky-17","id":52768119,"node_id":"MDQ6VXNlcjUyNzY4MTE5","avatar_url":"https://avatars.githubusercontent.com/u/52768119?v=4","gravatar_id":"","url":"https://api.github.com/users/Rocky-17","html_url":"https://github.com/Rocky-17","followers_url":"https://api.github.com/users/Rocky-17/followers","following_url":"https://api.github.com/users/Rocky-17/following{/other_user}","gists_url":"https://api.github.com/users/Rocky-17/gists{/gist_id}","starred_url":"https://api.github.com/users/Rocky-17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rocky-17/subscriptions","organizations_url":"https://api.github.com/users/Rocky-17/orgs","repos_url":"https://api.github.com/users/Rocky-17/repos","events_url":"https://api.github.com/users/Rocky-17/events{/privacy}","received_events_url":"https://api.github.com/users/Rocky-17/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iperov/DeepFaceLab/issues/722/timeline","performed_via_github_app":null,"state_reason":"completed"}