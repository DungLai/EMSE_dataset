[{"url":"https://api.github.com/repos/f90/Wave-U-Net/issues/comments/415842244","html_url":"https://github.com/f90/Wave-U-Net/issues/1#issuecomment-415842244","issue_url":"https://api.github.com/repos/f90/Wave-U-Net/issues/1","id":415842244,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTg0MjI0NA==","user":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false},"created_at":"2018-08-24T18:23:05Z","updated_at":"2018-08-24T18:23:05Z","author_association":"OWNER","body":"Hey! Sorry for the late reply..\r\n\r\nThat seems odd, it indeed seems to get stuck at the queue get() function, but only after the first epoch. Normally that indicates that something has gone wrong with regards to the workers that load audio examples in the background, and do not fill up the internal queue, which then hangs since it waits for new examples. But it seems like your cache is being filled properly at the start of the new epoch.\r\n\r\nDoes this problem occur everytime you execute the code? I am going to try to replicate on my end.\r\n\r\nAre you using the packages indicated in the requirements in the correct versions?\r\n\r\nIt must be that the caching system is for some reason not reset properly between epochs.\r\n\r\nFor multiple GPUs, a slight extension is necessary to use them (see Towers in the Tensorflow manual), which I did not implement here. If you do implement this, it would be great if you submitted a pull request so everyone can benefit from that.","reactions":{"url":"https://api.github.com/repos/f90/Wave-U-Net/issues/comments/415842244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/f90/Wave-U-Net/issues/comments/416082540","html_url":"https://github.com/f90/Wave-U-Net/issues/1#issuecomment-416082540","issue_url":"https://api.github.com/repos/f90/Wave-U-Net/issues/1","id":416082540,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjA4MjU0MA==","user":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false},"created_at":"2018-08-26T23:58:14Z","updated_at":"2018-08-26T23:58:14Z","author_association":"OWNER","body":"Tried to replicate in my case, both with the old code and the newest revision I just committed, but could not replicate the issue, training proceeds normally for me. I tested with epochs_it reduced to 100 so an epoch goes by really quickly and I can test easily.\r\n\r\nYou might want to check out the latest code and see if your problem persists. Also it is worth checking if your dataset is intact (no file corruption, file paths set up correctly), as one thing that could cause it is when the individual data loader processes hang up and don't fill the queue anymore.","reactions":{"url":"https://api.github.com/repos/f90/Wave-U-Net/issues/comments/416082540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/f90/Wave-U-Net/issues/comments/416084976","html_url":"https://github.com/f90/Wave-U-Net/issues/1#issuecomment-416084976","issue_url":"https://api.github.com/repos/f90/Wave-U-Net/issues/1","id":416084976,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjA4NDk3Ng==","user":{"login":"leoybkim","id":21056900,"node_id":"MDQ6VXNlcjIxMDU2OTAw","avatar_url":"https://avatars.githubusercontent.com/u/21056900?v=4","gravatar_id":"","url":"https://api.github.com/users/leoybkim","html_url":"https://github.com/leoybkim","followers_url":"https://api.github.com/users/leoybkim/followers","following_url":"https://api.github.com/users/leoybkim/following{/other_user}","gists_url":"https://api.github.com/users/leoybkim/gists{/gist_id}","starred_url":"https://api.github.com/users/leoybkim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoybkim/subscriptions","organizations_url":"https://api.github.com/users/leoybkim/orgs","repos_url":"https://api.github.com/users/leoybkim/repos","events_url":"https://api.github.com/users/leoybkim/events{/privacy}","received_events_url":"https://api.github.com/users/leoybkim/received_events","type":"User","site_admin":false},"created_at":"2018-08-27T00:35:17Z","updated_at":"2018-08-27T00:35:17Z","author_association":"NONE","body":"Thanks for the follow up @f90 \r\n\r\nMultiple GPU is definitely my mistake. I initially thought that TF can handle it automatically.\r\nIn the end I removed batch generation and multi cache scripts and used a different approach. I'm going to go ahead and close the issue since I don't think I can replicate it either at this point :sweat_smile:\r\nBut thanks again for providing the source code and for following up. Greatly appreciated and I learned a lot!","reactions":{"url":"https://api.github.com/repos/f90/Wave-U-Net/issues/comments/416084976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leoybkim","id":21056900,"node_id":"MDQ6VXNlcjIxMDU2OTAw","avatar_url":"https://avatars.githubusercontent.com/u/21056900?v=4","gravatar_id":"","url":"https://api.github.com/users/leoybkim","html_url":"https://github.com/leoybkim","followers_url":"https://api.github.com/users/leoybkim/followers","following_url":"https://api.github.com/users/leoybkim/following{/other_user}","gists_url":"https://api.github.com/users/leoybkim/gists{/gist_id}","starred_url":"https://api.github.com/users/leoybkim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoybkim/subscriptions","organizations_url":"https://api.github.com/users/leoybkim/orgs","repos_url":"https://api.github.com/users/leoybkim/repos","events_url":"https://api.github.com/users/leoybkim/events{/privacy}","received_events_url":"https://api.github.com/users/leoybkim/received_events","type":"User","site_admin":false}},{"id":1809578450,"node_id":"MDExOkNsb3NlZEV2ZW50MTgwOTU3ODQ1MA==","url":"https://api.github.com/repos/f90/Wave-U-Net/issues/events/1809578450","actor":{"login":"leoybkim","id":21056900,"node_id":"MDQ6VXNlcjIxMDU2OTAw","avatar_url":"https://avatars.githubusercontent.com/u/21056900?v=4","gravatar_id":"","url":"https://api.github.com/users/leoybkim","html_url":"https://github.com/leoybkim","followers_url":"https://api.github.com/users/leoybkim/followers","following_url":"https://api.github.com/users/leoybkim/following{/other_user}","gists_url":"https://api.github.com/users/leoybkim/gists{/gist_id}","starred_url":"https://api.github.com/users/leoybkim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoybkim/subscriptions","organizations_url":"https://api.github.com/users/leoybkim/orgs","repos_url":"https://api.github.com/users/leoybkim/repos","events_url":"https://api.github.com/users/leoybkim/events{/privacy}","received_events_url":"https://api.github.com/users/leoybkim/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-08-27T00:35:17Z","state_reason":null,"performed_via_github_app":null},{"id":1809578451,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgwOTU3ODQ1MQ==","url":"https://api.github.com/repos/f90/Wave-U-Net/issues/events/1809578451","actor":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-08-27T00:35:17Z","performed_via_github_app":null},{"id":1809578452,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4MDk1Nzg0NTI=","url":"https://api.github.com/repos/f90/Wave-U-Net/issues/events/1809578452","actor":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-08-27T00:35:17Z","performed_via_github_app":null},{"id":1810606553,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQxODEwNjA2NTUz","url":"https://api.github.com/repos/f90/Wave-U-Net/issues/events/1810606553","actor":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2018-08-27T13:34:33Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/f90/Wave-U-Net/issues/comments/416228892","html_url":"https://github.com/f90/Wave-U-Net/issues/1#issuecomment-416228892","issue_url":"https://api.github.com/repos/f90/Wave-U-Net/issues/1","id":416228892,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjIyODg5Mg==","user":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false},"created_at":"2018-08-27T13:36:33Z","updated_at":"2018-08-27T13:36:33Z","author_association":"OWNER","body":"Investigating this more, there was indeed a problem with the training not continuing after a certain number of epochs. Weirdly enough, the problem came down to the librosa resampling procedure, which just froze for some reason at the start of an epoch, when workers started loading the audio, and so the Caches queue was never filled and waited for the workers forever.\r\n\r\nI changed the resampling procedure to use scipys ``resample_poly`` which should work well enough for most sampling rate conversions. This fixes the issue.\r\n\r\nThanks for reporting it, and glad that you were able to make good use of the code overall!","reactions":{"url":"https://api.github.com/repos/f90/Wave-U-Net/issues/comments/416228892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false}},{"id":1810610911,"node_id":"MDExOkNsb3NlZEV2ZW50MTgxMDYxMDkxMQ==","url":"https://api.github.com/repos/f90/Wave-U-Net/issues/events/1810610911","actor":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-08-27T13:36:33Z","state_reason":null,"performed_via_github_app":null},{"id":1971360557,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5NzEzNjA1NTc=","url":"https://api.github.com/repos/f90/Wave-U-Net/issues/events/1971360557","actor":{"login":"f90","id":23065103,"node_id":"MDQ6VXNlcjIzMDY1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/23065103?v=4","gravatar_id":"","url":"https://api.github.com/users/f90","html_url":"https://github.com/f90","followers_url":"https://api.github.com/users/f90/followers","following_url":"https://api.github.com/users/f90/following{/other_user}","gists_url":"https://api.github.com/users/f90/gists{/gist_id}","starred_url":"https://api.github.com/users/f90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f90/subscriptions","organizations_url":"https://api.github.com/users/f90/orgs","repos_url":"https://api.github.com/users/f90/repos","events_url":"https://api.github.com/users/f90/events{/privacy}","received_events_url":"https://api.github.com/users/f90/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-11-16T14:21:24Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null}]