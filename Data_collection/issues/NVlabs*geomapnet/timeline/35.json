[{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/658469828","html_url":"https://github.com/NVlabs/geomapnet/issues/35#issuecomment-658469828","issue_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/35","id":658469828,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODQ2OTgyOA==","user":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"created_at":"2020-07-14T23:58:42Z","updated_at":"2020-07-14T23:59:49Z","author_association":"COLLABORATOR","body":"Hi @ZhouJiaHuan. IIRC the `mean_t` and `std_t` were only used to avoid making the network predict super large values. This applies to RobotCar which is a large environment, but not so much to 7Scenes. Hence they are set to identity.\r\nAbout your problem: did you verify that you can train and test properly if you use the identity pose stats?","reactions":{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/658469828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false}},{"id":3546341245,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU0NjM0MTI0NQ==","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3546341245","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-14T23:59:49Z","performed_via_github_app":null},{"id":3546341251,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NDYzNDEyNTE=","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3546341251","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-14T23:59:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/658632399","html_url":"https://github.com/NVlabs/geomapnet/issues/35#issuecomment-658632399","issue_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/35","id":658632399,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODYzMjM5OQ==","user":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"created_at":"2020-07-15T08:41:04Z","updated_at":"2020-07-15T08:43:06Z","author_association":"NONE","body":"Thanks for your replying. @samarth-robo \r\n\r\nYea, because my environment is  Python3 + PyTorch 1.5.1, I modified some codes for compatibility and then trained first with all the default parameters (including the identity pose stats). The val result is almost same with the paper. The experimental result is as follows:\r\n\r\n------------------------------------------------------------------------------------\r\n- model: MapNet\r\n- Dataset: 7-Scenes `Heads`\r\n- Error in translation: median 0.19 m (0.18 m in paper `TABLE 3`),  mean 0.23 m\r\n- Error in rotation: median 13.23 degrees (13.25 degrees in paper `TABLE 3`), mean 13.26 degree\r\n------------------------------------------------------------------------------------\r\n\r\nI am not sure whether the different PyTorch version will affect the result a lot. (the pretrained weights of ResNet-34 in Torch 1.5.1 is different with that in Torch 0.4.1)\r\n\r\nHowever, when I substitute the identity pose stats with the value computed from `Heads` training data, the accuracy dropped a lot. The experimental result is as follows:\r\n\r\n------------------------------------------------------------------------------------\r\n- model: MapNet\r\n- Dataset: 7-Scenes `Heads`\r\n-  mean_t: (-0.01829027, -0.13756783,  0.09475311)\r\n-  std_t: (0.42199861, 0.19139078, 0.13966574)\r\n- Error in translation: median 0.95 m (0.18 m in paper `TABLE 3`),  mean 0.99 m\r\n- Error in rotation: median 14.47 degrees (13.25 degrees in paper `TABLE 3`), mean 13.91 degree\r\n------------------------------------------------------------------------------------\r\n\r\nAnd as a reference, I also visualize the training process with TensorboardX\r\n\r\n![learn_params](https://user-images.githubusercontent.com/37075120/87523643-c552aa80-c6b9-11ea-983b-a073fdcb9598.png)\r\n![train_val_loss](https://user-images.githubusercontent.com/37075120/87523644-c683d780-c6b9-11ea-9e1b-007e3bb16dbd.png)\r\n\r\n\r\nThe figure above is the learning parameters in MapNet loss function and the figure below is the training/val loss. As you see, the learning parameters are almost same during training pipeline. But the training loss for computed pose stats (in blue) seems **not** converge well.\r\n","reactions":{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/658632399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false}},{"id":3547521258,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU0NzUyMTI1OA==","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3547521258","actor":{"login":"Replying","id":45978521,"node_id":"MDQ6VXNlcjQ1OTc4NTIx","avatar_url":"https://avatars.githubusercontent.com/u/45978521?v=4","gravatar_id":"","url":"https://api.github.com/users/Replying","html_url":"https://github.com/Replying","followers_url":"https://api.github.com/users/Replying/followers","following_url":"https://api.github.com/users/Replying/following{/other_user}","gists_url":"https://api.github.com/users/Replying/gists{/gist_id}","starred_url":"https://api.github.com/users/Replying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Replying/subscriptions","organizations_url":"https://api.github.com/users/Replying/orgs","repos_url":"https://api.github.com/users/Replying/repos","events_url":"https://api.github.com/users/Replying/events{/privacy}","received_events_url":"https://api.github.com/users/Replying/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-15T08:41:41Z","performed_via_github_app":null},{"id":3547521261,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NDc1MjEyNjE=","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3547521261","actor":{"login":"Replying","id":45978521,"node_id":"MDQ6VXNlcjQ1OTc4NTIx","avatar_url":"https://avatars.githubusercontent.com/u/45978521?v=4","gravatar_id":"","url":"https://api.github.com/users/Replying","html_url":"https://github.com/Replying","followers_url":"https://api.github.com/users/Replying/followers","following_url":"https://api.github.com/users/Replying/following{/other_user}","gists_url":"https://api.github.com/users/Replying/gists{/gist_id}","starred_url":"https://api.github.com/users/Replying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Replying/subscriptions","organizations_url":"https://api.github.com/users/Replying/orgs","repos_url":"https://api.github.com/users/Replying/repos","events_url":"https://api.github.com/users/Replying/events{/privacy}","received_events_url":"https://api.github.com/users/Replying/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-15T08:41:41Z","performed_via_github_app":null},{"id":3547526834,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU0NzUyNjgzNA==","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3547526834","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-15T08:43:06Z","performed_via_github_app":null},{"id":3547526839,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NDc1MjY4Mzk=","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3547526839","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-15T08:43:06Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/659053395","html_url":"https://github.com/NVlabs/geomapnet/issues/35#issuecomment-659053395","issue_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/35","id":659053395,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTA1MzM5NQ==","user":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"created_at":"2020-07-15T22:47:04Z","updated_at":"2020-07-15T22:47:04Z","author_association":"COLLABORATOR","body":"@ZhouJiaHuan OK. And just to confirm, you calculated pose stats similarly to RobotCar, by modifying L100 and L101 of `seven_scenes.py` as follows?\r\n```\r\nposes = np.vstack(ps.values())\r\nmean_t = np.mean(poses[:, [3, 7, 11]], axis=0)\r\nstd_t = np.std(poses[:, [3, 7, 11]], axis=0)\r\n```","reactions":{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/659053395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false}},{"id":3550643032,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU1MDY0MzAzMg==","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3550643032","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-15T22:47:04Z","performed_via_github_app":null},{"id":3550643034,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NTA2NDMwMzQ=","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3550643034","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-15T22:47:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/659099617","html_url":"https://github.com/NVlabs/geomapnet/issues/35#issuecomment-659099617","issue_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/35","id":659099617,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTA5OTYxNw==","user":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"created_at":"2020-07-16T01:22:42Z","updated_at":"2020-07-16T01:22:42Z","author_association":"NONE","body":"@samarth-robo That's my code to calculate pose stats.\r\n\r\n```\r\nimport os\r\nimport os.path as osp\r\nimport numpy as np\r\nimport argparse\r\n\r\nDATA_DIR = \"data/deepslam_data/\"\r\n\r\n\r\ndef parse_args():\r\n    parser = argparse.ArgumentParser(description='Dataset pose statistics')\r\n    parser.add_argument('--dataset', type=str, choices=('SevenScenes', 'UnoRobot'),\r\n                        help='Dataset', required=True)\r\n    parser.add_argument('--scene', type=str,\r\n                        help='Scene name', required=True)\r\n    args = parser.parse_args()\r\n    return args\r\n\r\n\r\ndef parse_poses(dataset, scene):\r\n    data_path = osp.join(DATA_DIR, dataset, scene)\r\n    assert osp.exists(data_path)\r\n    split_file = osp.join(data_path, 'TrainSplit.txt')\r\n    assert osp.exists(split_file)\r\n    with open(split_file, 'r') as f:\r\n        seqs = [int(l.split('sequence')[-1]) for l in f if not l.startswith('#')]\r\n    pss = []\r\n    for seq in seqs:\r\n        seq_dir = osp.join(data_path, 'seq-{:02d}'.format(seq))\r\n        p_filenames = [n for n in os.listdir(osp.join(seq_dir, '.')) if\r\n                       n.find('pose') >= 0]\r\n\r\n        frame_idx = np.array(range(len(p_filenames)), dtype=np.int)\r\n        ps = [np.loadtxt(osp.join(seq_dir, 'frame-{:06d}.pose.txt'.\r\n              format(i)))[:3, 3] for i in frame_idx]\r\n        pss.extend(ps)\r\n    return np.array(pss)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    args = parse_args()\r\n    pss_array = parse_poses(args.dataset, args.scene)\r\n    print(pss_array.shape)\r\n    pss_mean = np.mean(pss_array, axis=0)\r\n    pss_std = np.std(pss_array, axis=0)\r\n    print(\"pose mean = {}\".format(pss_mean))\r\n    print(\"pose std = {}\".format(pss_std))`\r\n```\r\n\r\nthe code below is equivalent to that in RobotCar:\r\n\r\n```\r\nps = [np.loadtxt(osp.join(seq_dir, 'frame-{:06d}.pose.txt'. format(i)))[:3, 3] for i in frame_idx]\r\npss.extend(ps)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/659099617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false}},{"id":3550952015,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU1MDk1MjAxNQ==","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3550952015","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-16T01:22:42Z","performed_via_github_app":null},{"id":3550952016,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NTA5NTIwMTY=","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3550952016","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-16T01:22:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/659790995","html_url":"https://github.com/NVlabs/geomapnet/issues/35#issuecomment-659790995","issue_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/35","id":659790995,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTc5MDk5NQ==","user":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"created_at":"2020-07-17T02:14:12Z","updated_at":"2020-07-17T02:14:12Z","author_association":"NONE","body":"@samarth-robo hey, I found the causes. It's  my inference codes problem. I forgot to change the pose stats during inference phase so that the pose stats is still the identity. I fixed this error and the error for mapnet on `heads` is 0.20 m, 13.91 degree. Pardon the bother and thanks for your kindness.","reactions":{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/659790995/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false}},{"id":3555945920,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU1NTk0NTkyMA==","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3555945920","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-17T02:14:12Z","performed_via_github_app":null},{"id":3555945921,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NTU5NDU5MjE=","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3555945921","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-17T02:14:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/659791643","html_url":"https://github.com/NVlabs/geomapnet/issues/35#issuecomment-659791643","issue_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/35","id":659791643,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTc5MTY0Mw==","user":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"created_at":"2020-07-17T02:15:52Z","updated_at":"2020-07-17T02:15:52Z","author_association":"COLLABORATOR","body":"@ZhouJiaHuan I was just about to comment that! Glad you found the solution. I'll close this issue now.","reactions":{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/comments/659791643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false}},{"id":3555950238,"node_id":"MDExOkNsb3NlZEV2ZW50MzU1NTk1MDIzOA==","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3555950238","actor":{"login":"samarth-robo","id":2848070,"node_id":"MDQ6VXNlcjI4NDgwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/2848070?v=4","gravatar_id":"","url":"https://api.github.com/users/samarth-robo","html_url":"https://github.com/samarth-robo","followers_url":"https://api.github.com/users/samarth-robo/followers","following_url":"https://api.github.com/users/samarth-robo/following{/other_user}","gists_url":"https://api.github.com/users/samarth-robo/gists{/gist_id}","starred_url":"https://api.github.com/users/samarth-robo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarth-robo/subscriptions","organizations_url":"https://api.github.com/users/samarth-robo/orgs","repos_url":"https://api.github.com/users/samarth-robo/repos","events_url":"https://api.github.com/users/samarth-robo/events{/privacy}","received_events_url":"https://api.github.com/users/samarth-robo/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-07-17T02:15:52Z","state_reason":null,"performed_via_github_app":null},{"id":3555950244,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU1NTk1MDI0NA==","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3555950244","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-17T02:15:52Z","performed_via_github_app":null},{"id":3555950246,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NTU5NTAyNDY=","url":"https://api.github.com/repos/NVlabs/geomapnet/issues/events/3555950246","actor":{"login":"ZhouJiaHuan","id":37075120,"node_id":"MDQ6VXNlcjM3MDc1MTIw","avatar_url":"https://avatars.githubusercontent.com/u/37075120?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhouJiaHuan","html_url":"https://github.com/ZhouJiaHuan","followers_url":"https://api.github.com/users/ZhouJiaHuan/followers","following_url":"https://api.github.com/users/ZhouJiaHuan/following{/other_user}","gists_url":"https://api.github.com/users/ZhouJiaHuan/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhouJiaHuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhouJiaHuan/subscriptions","organizations_url":"https://api.github.com/users/ZhouJiaHuan/orgs","repos_url":"https://api.github.com/users/ZhouJiaHuan/repos","events_url":"https://api.github.com/users/ZhouJiaHuan/events{/privacy}","received_events_url":"https://api.github.com/users/ZhouJiaHuan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-17T02:15:52Z","performed_via_github_app":null}]