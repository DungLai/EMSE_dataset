{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/2","repository_url":"https://api.github.com/repos/NVlabs/geomapnet","labels_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/2/comments","events_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/2/events","html_url":"https://github.com/NVlabs/geomapnet/issues/2","id":325132369,"node_id":"MDU6SXNzdWUzMjUxMzIzNjk=","number":2,"title":"Some questions about the loss function","user":{"login":"HyuanTan","id":14145396,"node_id":"MDQ6VXNlcjE0MTQ1Mzk2","avatar_url":"https://avatars.githubusercontent.com/u/14145396?v=4","gravatar_id":"","url":"https://api.github.com/users/HyuanTan","html_url":"https://github.com/HyuanTan","followers_url":"https://api.github.com/users/HyuanTan/followers","following_url":"https://api.github.com/users/HyuanTan/following{/other_user}","gists_url":"https://api.github.com/users/HyuanTan/gists{/gist_id}","starred_url":"https://api.github.com/users/HyuanTan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyuanTan/subscriptions","organizations_url":"https://api.github.com/users/HyuanTan/orgs","repos_url":"https://api.github.com/users/HyuanTan/repos","events_url":"https://api.github.com/users/HyuanTan/events{/privacy}","received_events_url":"https://api.github.com/users/HyuanTan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-22T03:55:10Z","updated_at":"2018-05-24T12:24:11Z","closed_at":"2018-05-24T12:24:11Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, thanks for share!\r\nI want to ask some questions about the loss function `MapNetOnlineCriterion`. When calculate the VO loss in training `MapNet++`, the VO loss equals the position error(Just x and y, why exclude the z?):\r\n```\r\n   pred_vos = pred_vos.view(-1, *s[2:])\r\n    targ_vos = targ_vos.view(-1, *s[2:])\r\n    idx = 2 if self.gps_mode else 3\r\n    vo_loss = \\\r\n      torch.exp(-self.srx) * self.t_loss_fn(pred_vos[:, :idx], targ_vos[:, :idx]) + \\\r\n      self.srx\r\n    if not self.gps_mode:\r\n      vo_loss += \\\r\n        torch.exp(-self.srq) * self.q_loss_fn(pred_vos[:, 3:], targ_vos[:, 3:]) + \\\r\n        self.srq\r\n```\r\n\r\nAnd when test, the VO loss equals the position error(x,y,z) and orientation error, what make these differences?\r\n```\r\n    if args.model.find('++') >= 0:\r\n    kwargs = dict(kwargs, gps_mode=(vo_lib=='gps') )\r\n    train_criterion = MapNetOnlineCriterion(**kwargs)\r\n    val_criterion = MapNetOnlineCriterion()\r\n```\r\n\r\nAnd in:\r\n```\r\n    # get the VOs\r\n    if not self.gps_mode:\r\n      pred_vos = pose_utils.calc_vos(pred_vos)\r\n```\r\nWhy just `pred_vos` using pose_utils.calc_vos(), how about `targ_vos`?\r\n\r\nThanks!!","closed_by":{"login":"HyuanTan","id":14145396,"node_id":"MDQ6VXNlcjE0MTQ1Mzk2","avatar_url":"https://avatars.githubusercontent.com/u/14145396?v=4","gravatar_id":"","url":"https://api.github.com/users/HyuanTan","html_url":"https://github.com/HyuanTan","followers_url":"https://api.github.com/users/HyuanTan/followers","following_url":"https://api.github.com/users/HyuanTan/following{/other_user}","gists_url":"https://api.github.com/users/HyuanTan/gists{/gist_id}","starred_url":"https://api.github.com/users/HyuanTan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyuanTan/subscriptions","organizations_url":"https://api.github.com/users/HyuanTan/orgs","repos_url":"https://api.github.com/users/HyuanTan/repos","events_url":"https://api.github.com/users/HyuanTan/events{/privacy}","received_events_url":"https://api.github.com/users/HyuanTan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/NVlabs/geomapnet/issues/2/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/NVlabs/geomapnet/issues/2/timeline","performed_via_github_app":null,"state_reason":"completed"}