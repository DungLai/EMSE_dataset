{"url":"https://api.github.com/repos/moemen95/Pytorch-Project-Template/issues/1","repository_url":"https://api.github.com/repos/moemen95/Pytorch-Project-Template","labels_url":"https://api.github.com/repos/moemen95/Pytorch-Project-Template/issues/1/labels{/name}","comments_url":"https://api.github.com/repos/moemen95/Pytorch-Project-Template/issues/1/comments","events_url":"https://api.github.com/repos/moemen95/Pytorch-Project-Template/issues/1/events","html_url":"https://github.com/moemen95/Pytorch-Project-Template/issues/1","id":357640008,"node_id":"MDU6SXNzdWUzNTc2NDAwMDg=","number":1,"title":"DCGAN: Using a target size that is different to the input size is deprecated","user":{"login":"kongsgard","id":13556755,"node_id":"MDQ6VXNlcjEzNTU2NzU1","avatar_url":"https://avatars.githubusercontent.com/u/13556755?v=4","gravatar_id":"","url":"https://api.github.com/users/kongsgard","html_url":"https://github.com/kongsgard","followers_url":"https://api.github.com/users/kongsgard/followers","following_url":"https://api.github.com/users/kongsgard/following{/other_user}","gists_url":"https://api.github.com/users/kongsgard/gists{/gist_id}","starred_url":"https://api.github.com/users/kongsgard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongsgard/subscriptions","organizations_url":"https://api.github.com/users/kongsgard/orgs","repos_url":"https://api.github.com/users/kongsgard/repos","events_url":"https://api.github.com/users/kongsgard/events{/privacy}","received_events_url":"https://api.github.com/users/kongsgard/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-09-06T12:50:03Z","updated_at":"2022-07-09T12:27:24Z","closed_at":"2019-06-18T16:58:33Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, and thanks for the great PyTorch template!\r\n\r\nWhen I try to run the DCGAN, I get the following error. Do you see what's incorrect?\r\n\r\n```\r\nTHE Configuration of your experiment ..\r\n{'agent': 'DCGANAgent',\r\n'async_loading': True,\r\n'batch_size': 64,\r\n'beta1': 0.5,\r\n'beta2': 0.999,\r\n'checkpoint_file': 'checkpoint.pth.tar',\r\n'cuda': True,\r\n'data_folder': './data/celeba',\r\n'data_loader': 'CelebADataLoader',\r\n'data_loader_workers': 2,\r\n'data_mode': 'imgs',\r\n'exp_name': 'dcgan_exp_0',\r\n'g_input_size': 100,\r\n'gpu_device': 0,\r\n'image_size': 64,\r\n'input_channels': 3,\r\n'learning_rate': 0.0002,\r\n'max_epoch': 1,\r\n'mode': 'train',\r\n'num_classes': 2,\r\n'num_filt_d': 64,\r\n'num_filt_g': 64,\r\n'pin_memory': True,\r\n'relu_slope': 0.2,\r\n'seed': 12345,\r\n'validate_every': 2,\r\n'weight_decay': 0,\r\n'x_test': '',\r\n'x_train': '',\r\n'x_valid': '',\r\n'y_test': '',\r\n'y_train': '',\r\n'y_valid': ''}\r\n*************************************** \r\nThe experiment name is dcgan_exp_0\r\n*************************************** \r\n[INFO]: Hi, This is root.\r\n[INFO]: After the configurations are successfully processed and dirs are created.\r\n[INFO]: The pipeline of the project will begin now.\r\n--- Logging error ---\r\nTraceback (most recent call last):\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/__init__.py\", line 993, in emit\r\n   msg = self.format(record)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/__init__.py\", line 839, in format\r\n   return fmt.format(record)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/__init__.py\", line 576, in format\r\n   record.message = record.getMessage()\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/__init__.py\", line 338, in getMessage\r\n   msg = msg % self.args\r\nTypeError: not all arguments converted during string formatting\r\nCall stack:\r\n File \"main.py\", line 38, in <module>\r\n   main()\r\n File \"main.py\", line 32, in main\r\n   agent = agent_class(config)\r\n File \"/home/$USER/pytorch/agents/dcgan.py\", line 65, in __init__\r\n   self.logger.info (\"seed: \" , self.manual_seed)\r\nMessage: 'seed: '\r\nArguments: (3744,)\r\n--- Logging error ---\r\nTraceback (most recent call last):\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/handlers.py\", line 71, in emit\r\n   if self.shouldRollover(record):\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/handlers.py\", line 187, in shouldRollover\r\n   msg = \"%s\\n\" % self.format(record)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/__init__.py\", line 839, in format\r\n   return fmt.format(record)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/__init__.py\", line 576, in format\r\n   record.message = record.getMessage()\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/logging/__init__.py\", line 338, in getMessage\r\n   msg = msg % self.args\r\nTypeError: not all arguments converted during string formatting\r\nCall stack:\r\n File \"main.py\", line 38, in <module>\r\n   main()\r\n File \"main.py\", line 32, in main\r\n   agent = agent_class(config)\r\n File \"/home/$USER/pytorch/agents/dcgan.py\", line 65, in __init__\r\n   self.logger.info (\"seed: \" , self.manual_seed)\r\nMessage: 'seed: '\r\nArguments: (3744,)\r\n[INFO]: Program will run on *****CPU***** \r\n[INFO]: Loading checkpoint 'experiments/dcgan_exp_0/checkpoints/checkpoint.pth.tar'\r\n[INFO]: No checkpoint exists from 'experiments/dcgan_exp_0/checkpoints/'. Skipping...\r\n[INFO]: **First time to train**\r\nepoch-0-:   0%|                                                                 | 0/3166 [00:00<?, ?it/s]/home/$USER/anaconda3/envs/torch/lib/python3.6/site-packages/torch/nn/functional.py:1594: UserWarning: Using a target size (torch.Size([64])) that is different to the input size (torch.Size([5120])) is deprecated. Please ensure they have the same size.\r\n \"Please ensure they have the same size.\".format(target.size(), input.size()))\r\nException ignored in: <bound method _DataLoaderIter.__del__ of <torch.utils.data.dataloader._DataLoaderIter object at 0x7f13e317d710>>\r\nTraceback (most recent call last):\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 399, in __del__\r\n   self._shutdown_workers()\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 378, in _shutdown_workers\r\n   self.worker_result_queue.get()\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/multiprocessing/queues.py\", line 337, in get\r\n   return _ForkingPickler.loads(res)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/site-packages/torch/multiprocessing/reductions.py\", line 151, in rebuild_storage_fd\r\n   fd = df.detach()\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/multiprocessing/resource_sharer.py\", line 57, in detach\r\n   with _resource_sharer.get_connection(self._id) as conn:\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/multiprocessing/resource_sharer.py\", line 87, in get_connection\r\n   c = Client(address, authkey=process.current_process().authkey)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/multiprocessing/connection.py\", line 493, in Client\r\n   answer_challenge(c, authkey)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/multiprocessing/connection.py\", line 737, in answer_challenge\r\n   response = connection.recv_bytes(256)        # reject large message\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/multiprocessing/connection.py\", line 216, in recv_bytes\r\n   buf = self._recv_bytes(maxlength)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/multiprocessing/connection.py\", line 407, in _recv_bytes\r\n   buf = self._recv(4)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/multiprocessing/connection.py\", line 379, in _recv\r\n   chunk = read(handle, remaining)\r\nConnectionResetError: [Errno 104] Connection reset by peer\r\nTraceback (most recent call last):\r\n File \"main.py\", line 38, in <module>\r\n   main()\r\n File \"main.py\", line 33, in main\r\n   agent.run()\r\n File \"/home/$USER/pytorch/agents/dcgan.py\", line 133, in run\r\n   self.train()\r\n File \"/home/$USER/pytorch/agents/dcgan.py\", line 141, in train\r\n   self.train_one_epoch()\r\n File \"/home/$USER/pytorch/agents/dcgan.py\", line 175, in train_one_epoch\r\n   loss_D_real = self.loss(D_real_out, y)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 477, in __call__\r\n   result = self.forward(*input, **kwargs)\r\n File \"/home/$USER/pytorch/graphs/losses/bce.py\", line 15, in forward\r\n   loss = self.loss(logits, labels)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 477, in __call__\r\n   result = self.forward(*input, **kwargs)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/site-packages/torch/nn/modules/loss.py\", line 486, in forward\r\n   return F.binary_cross_entropy(input, target, weight=self.weight, reduction=self.reduction)\r\n File \"/home/$USER/anaconda3/envs/torch/lib/python3.6/site-packages/torch/nn/functional.py\", line 1597, in binary_cross_entropy\r\n   \"!= input nelement ({})\".format(target.nelement(), input.nelement()))\r\nValueError: Target and input must have the same number of elements. target nelement (64) != input nelement (5120)\r\n```","closed_by":{"login":"kongsgard","id":13556755,"node_id":"MDQ6VXNlcjEzNTU2NzU1","avatar_url":"https://avatars.githubusercontent.com/u/13556755?v=4","gravatar_id":"","url":"https://api.github.com/users/kongsgard","html_url":"https://github.com/kongsgard","followers_url":"https://api.github.com/users/kongsgard/followers","following_url":"https://api.github.com/users/kongsgard/following{/other_user}","gists_url":"https://api.github.com/users/kongsgard/gists{/gist_id}","starred_url":"https://api.github.com/users/kongsgard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongsgard/subscriptions","organizations_url":"https://api.github.com/users/kongsgard/orgs","repos_url":"https://api.github.com/users/kongsgard/repos","events_url":"https://api.github.com/users/kongsgard/events{/privacy}","received_events_url":"https://api.github.com/users/kongsgard/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/moemen95/Pytorch-Project-Template/issues/1/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/moemen95/Pytorch-Project-Template/issues/1/timeline","performed_via_github_app":null,"state_reason":"completed"}