{"url":"https://api.github.com/repos/XiaoMi/mobile-ai-bench/issues/12","repository_url":"https://api.github.com/repos/XiaoMi/mobile-ai-bench","labels_url":"https://api.github.com/repos/XiaoMi/mobile-ai-bench/issues/12/labels{/name}","comments_url":"https://api.github.com/repos/XiaoMi/mobile-ai-bench/issues/12/comments","events_url":"https://api.github.com/repos/XiaoMi/mobile-ai-bench/issues/12/events","html_url":"https://github.com/XiaoMi/mobile-ai-bench/issues/12","id":356399308,"node_id":"MDU6SXNzdWUzNTYzOTkzMDg=","number":12,"title":"Mi Note3 run error: governor: No such file or directory, unused DT entry: type 0xf arg 0xf81","user":{"login":"ysh329","id":7320657,"node_id":"MDQ6VXNlcjczMjA2NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7320657?v=4","gravatar_id":"","url":"https://api.github.com/users/ysh329","html_url":"https://github.com/ysh329","followers_url":"https://api.github.com/users/ysh329/followers","following_url":"https://api.github.com/users/ysh329/following{/other_user}","gists_url":"https://api.github.com/users/ysh329/gists{/gist_id}","starred_url":"https://api.github.com/users/ysh329/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ysh329/subscriptions","organizations_url":"https://api.github.com/users/ysh329/orgs","repos_url":"https://api.github.com/users/ysh329/repos","events_url":"https://api.github.com/users/ysh329/events{/privacy}","received_events_url":"https://api.github.com/users/ysh329/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-09-03T08:08:34Z","updated_at":"2018-09-03T12:53:58Z","closed_at":"2018-09-03T12:53:58Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, I have two problems when running as below.\r\n\r\n## 1. My Installation Step\r\n\r\n1. cloned `mobile-ai-bench` in docker image `registry.cn-hangzhou.aliyuncs.com/xiaomimace/mace-dev` on my cross-compile machine using commands below:\r\n```shell\r\ndocker pull registry.cn-hangzhou.aliyuncs.com/xiaomimace/mace-dev\r\ndocker run -it --privileged -d --name mace-dev \\\r\n           -v /dev/bus/usb:/dev/bus/usb --net=host \\\r\n           -v /local/path:/container/path \\\r\n           -v /usr/bin/docker:/usr/bin/docker \\\r\n           -v /var/run/docker.sock:/var/run/docker.sock \\\r\n           registry.cn-hangzhou.aliyuncs.com/xiaomimace/mace-dev\r\n``` \r\n2. downloaded snpe-1.8.0 and unzip to `/opt` as below:\r\n```shell\r\nroot@cross-compile:/opt# ls\r\nandroid-ndk-r12b  android-ndk-r16   mobile-ai-bench  snpe-1.18.0\r\nandroid-ndk-r15c  android-ndk-r17b  sdk              snpe-1.18.0.zip\r\n```\r\n3. edit snpe in WORKSPACE as below:\r\n```shell\r\n# You need to comment following new_http_archive and uncomment following           \r\n# new_local_repository to benchmark SNPE                                           \r\n#new_http_archive(                                                                 \r\n#    name = \"snpe\",                                                                \r\n#    build_file = \"third_party/snpe/snpe.BUILD\",                                   \r\n#    sha256 = \"b11780e5e7f591e916c69bdface4a1ef75b0c19f7b43c868bd62c0f3747d3fbb\",\r\n#    strip_prefix = \"snpe-1.15.0\",                                                 \r\n#    urls = [                                                                      \r\n#        \"https://cnbj1-fds.api.xiaomi.net/aibench/third_party/snpe-1.15.0.zip\",\r\n#    ],                                                                            \r\n#)                                                                                 \r\n# You need to uncomment following new_local_repository and comment foregoing       \r\n# new_http_archive to benchmark SNPE                                               \r\nnew_local_repository(                                                              \r\n    name = \"snpe\",                                                                 \r\n    build_file = \"third_party/snpe/snpe.BUILD\",                                    \r\n    path = \"/opt/snpe-1.18.0\",                                                     \r\n)\r\n```\r\n\r\n## 2. Issues\r\n\r\nBut build failed with 2 issues:  \r\n1. No such file or directory\r\n```shell\r\n/system/bin/sh: can't create /sys/class/devfreq/soc:qcom,l3-cdsp/governor: No such file or directory\r\n```\r\n2. unused DT entry: type 0xf arg 0xf81\r\n```shell\r\nWARNING: linker: /data/local/tmp/aibench/model_benchmark: unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'CPU', 'MobileNetV2')\r\n```\r\n\r\n## 3. Error Log\r\n\r\n```shell\r\nroot@cross-compile:/opt/mobile-ai-bench# python tools/benchmark.py --output_dir=output --frameworks=snpe \\\r\n> \r\nPrepare to run models on armeabi-v7a\r\n* Build //aibench/benchmark:model_benchmark with ABI armeabi-v7a\r\n/system/lib/libcdsprpc.so does not exists! Skip DSP.\r\nINFO: Analysed target //aibench/benchmark:model_benchmark (17 packages loaded).\r\nINFO: Found 1 target...\r\nTarget //aibench/benchmark:model_benchmark up-to-date:\r\n  bazel-bin/aibench/benchmark/model_benchmark\r\nINFO: Elapsed time: 61.398s, Critical Path: 1.79s\r\nINFO: 3 processes, local.\r\nINFO: Build completed successfully, 5 total actions\r\nBuild done!\r\n\r\n=====================================================================\r\nTrying to lock device ac516aca\r\nRun on device: ac516aca, sdm660, Mi Note 3\r\nAdjust power to performance mode on ac516aca, sdm660\r\nadbd is already running as root\r\nremount succeeded\r\n/system/bin/sh: can't create /sys/class/devfreq/1d84000.ufshc/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/aa00000.qcom,vidc:arm9_bus_ddr/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/aa00000.qcom,vidc:bus_cnoc/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/aa00000.qcom,vidc:venus_bus_ddr/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/aa00000.qcom,vidc:venus_bus_llcc/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/soc:qcom,l3-cdsp/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/soc:qcom,l3-cpu0/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/soc:qcom,l3-cpu4/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/soc:qcom,llccbw/governor: No such file or directory\r\n/system/bin/sh: can't create /sys/class/devfreq/soc:qcom,snoc_cnoc_keepalive/governor: No such file or directory\r\n647000000\r\n/system/bin/sh: can't create /d/dri/0/debug/core_perf/perf_mode: No such file or directory\r\n/system/bin/sh: can't create /sys/block/sda/queue/nr_requests: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu0/pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu0/rail-pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu1/pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu1/rail-pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu2/pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu2/rail-pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu3/pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu3/rail-pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu4/pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu4/rail-pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu5/pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu5/rail-pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu6/pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu6/rail-pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu7/pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/cpu7/rail-pc/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/l3-wfi/idle_enabled: No such file or directory\r\n/system/bin/sh: can't create /sys/module/lpm_levels/L3/llcc-off/idle_enabled: No such file or directory\r\nPush bazel-bin/aibench/benchmark/model_benchmark to /data/local/tmp/aibench\r\nRun /data/local/tmp/aibench/model_benchmark\r\n('snpe', 'CPU', 'MobileNetV1')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'CPU', 'MobileNetV2')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'CPU', 'SqueezeNetV11')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'CPU', 'InceptionV3')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'CPU', 'VGG16')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'GPU', 'MobileNetV1')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'GPU', 'MobileNetV2')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'GPU', 'SqueezeNetV11')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'GPU', 'InceptionV3')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'GPU', 'VGG16')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'DSP', 'MobileNetV1')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'DSP', 'MobileNetV2')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'DSP', 'SqueezeNetV11')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'DSP', 'InceptionV3')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n('snpe', 'DSP', 'VGG16')\r\nWARNING: linker: \"/data/local/tmp/aibench/model_benchmark\" unused DT entry: type 0xf arg 0xf81\r\n```","closed_by":{"login":"ysh329","id":7320657,"node_id":"MDQ6VXNlcjczMjA2NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7320657?v=4","gravatar_id":"","url":"https://api.github.com/users/ysh329","html_url":"https://github.com/ysh329","followers_url":"https://api.github.com/users/ysh329/followers","following_url":"https://api.github.com/users/ysh329/following{/other_user}","gists_url":"https://api.github.com/users/ysh329/gists{/gist_id}","starred_url":"https://api.github.com/users/ysh329/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ysh329/subscriptions","organizations_url":"https://api.github.com/users/ysh329/orgs","repos_url":"https://api.github.com/users/ysh329/repos","events_url":"https://api.github.com/users/ysh329/events{/privacy}","received_events_url":"https://api.github.com/users/ysh329/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/XiaoMi/mobile-ai-bench/issues/12/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/XiaoMi/mobile-ai-bench/issues/12/timeline","performed_via_github_app":null,"state_reason":"completed"}