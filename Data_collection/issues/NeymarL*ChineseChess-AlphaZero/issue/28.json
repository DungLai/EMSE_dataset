{"url":"https://api.github.com/repos/NeymarL/ChineseChess-AlphaZero/issues/28","repository_url":"https://api.github.com/repos/NeymarL/ChineseChess-AlphaZero","labels_url":"https://api.github.com/repos/NeymarL/ChineseChess-AlphaZero/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/NeymarL/ChineseChess-AlphaZero/issues/28/comments","events_url":"https://api.github.com/repos/NeymarL/ChineseChess-AlphaZero/issues/28/events","html_url":"https://github.com/NeymarL/ChineseChess-AlphaZero/issues/28","id":377082474,"node_id":"MDU6SXNzdWUzNzcwODI0NzQ=","number":28,"title":"[Error] Self paly with flag --ucci raising error  ","user":{"login":"CharlesLiuyx","id":21956621,"node_id":"MDQ6VXNlcjIxOTU2NjIx","avatar_url":"https://avatars.githubusercontent.com/u/21956621?v=4","gravatar_id":"","url":"https://api.github.com/users/CharlesLiuyx","html_url":"https://github.com/CharlesLiuyx","followers_url":"https://api.github.com/users/CharlesLiuyx/followers","following_url":"https://api.github.com/users/CharlesLiuyx/following{/other_user}","gists_url":"https://api.github.com/users/CharlesLiuyx/gists{/gist_id}","starred_url":"https://api.github.com/users/CharlesLiuyx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharlesLiuyx/subscriptions","organizations_url":"https://api.github.com/users/CharlesLiuyx/orgs","repos_url":"https://api.github.com/users/CharlesLiuyx/repos","events_url":"https://api.github.com/users/CharlesLiuyx/events{/privacy}","received_events_url":"https://api.github.com/users/CharlesLiuyx/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-11-03T18:48:18Z","updated_at":"2018-11-04T05:35:18Z","closed_at":"2018-11-04T05:35:18Z","author_association":"NONE","active_lock_reason":null,"body":"After install the requirements, I typed the `python cchess_alphazero/run.py play`\r\n\r\nI got this error raised\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1626, in _create_c_op\r\n    c_op = c_api.TF_FinishOperation(op_desc)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Shape must be rank 1 but is rank 0 for 'input_batchnorm/cond/Reshape_4' (op: 'Reshape') with input shapes: [1,192,1,1], [].\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"cchess_alphazero/run.py\", line 14, in <module>\r\n    manager.start()\r\n  File \"/media/yaoxingliu/Project/DeepLearning/ChineseChess-AlphaZero/cchess_alphazero/manager.py\", line 93, in start\r\n    play.start(config, not args.ai_move_first)\r\n  File \"/media/yaoxingliu/Project/DeepLearning/ChineseChess-AlphaZero/cchess_alphazero/play_games/play.py\", line 36, in start\r\n    play.start(human_move_first)\r\n  File \"/media/yaoxingliu/Project/DeepLearning/ChineseChess-AlphaZero/cchess_alphazero/play_games/play.py\", line 100, in start\r\n    self.load_model()\r\n  File \"/media/yaoxingliu/Project/DeepLearning/ChineseChess-AlphaZero/cchess_alphazero/play_games/play.py\", line 64, in load_model\r\n    if self.config.opts.new or not load_best_model_weight(self.model):\r\n  File \"/media/yaoxingliu/Project/DeepLearning/ChineseChess-AlphaZero/cchess_alphazero/lib/model_helper.py\", line 13, in load_best_model_weight\r\n    return model.load(model.config.resource.model_best_config_path, model.config.resource.model_best_weight_path)\r\n  File \"/media/yaoxingliu/Project/DeepLearning/ChineseChess-AlphaZero/cchess_alphazero/agent/model.py\", line 99, in load\r\n    self.model = Model.from_config(json.load(f))\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/keras/engine/network.py\", line 1032, in from_config\r\n    process_node(layer, node_data)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/keras/engine/network.py\", line 991, in process_node\r\n    layer(unpack_singleton(input_tensors), **kwargs)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/keras/engine/base_layer.py\", line 457, in __call__\r\n    output = self.call(inputs, **kwargs)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/keras/layers/normalization.py\", line 206, in call\r\n    training=training)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 3123, in in_train_phase\r\n    x = switch(training, x, alt)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 3058, in switch\r\n    else_expression_fn)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py\", line 488, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2087, in cond\r\n    orig_res_f, res_f = context_f.BuildCondBranch(false_fn)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 1920, in BuildCondBranch\r\n    original_result = fn()\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/keras/layers/normalization.py\", line 167, in normalize_inference\r\n    epsilon=self.epsilon)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 1908, in batch_normalization\r\n    mean = tf.reshape(mean, (-1))\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 6296, in reshape\r\n    \"Reshape\", tensor=tensor, shape=shape, name=name)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py\", line 488, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 3272, in create_op\r\n    op_def=op_def)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1790, in __init__\r\n    control_input_ops)\r\n  File \"/home/yaoxingliu/.conda/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1629, in _create_c_op\r\n    raise ValueError(str(e))\r\nValueError: Shape must be rank 1 but is rank 0 for 'input_batchnorm/cond/Reshape_4' (op: 'Reshape') with input shapes: [1,192,1,1], [].\r\n\r\n```","closed_by":{"login":"NeymarL","id":12618657,"node_id":"MDQ6VXNlcjEyNjE4NjU3","avatar_url":"https://avatars.githubusercontent.com/u/12618657?v=4","gravatar_id":"","url":"https://api.github.com/users/NeymarL","html_url":"https://github.com/NeymarL","followers_url":"https://api.github.com/users/NeymarL/followers","following_url":"https://api.github.com/users/NeymarL/following{/other_user}","gists_url":"https://api.github.com/users/NeymarL/gists{/gist_id}","starred_url":"https://api.github.com/users/NeymarL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NeymarL/subscriptions","organizations_url":"https://api.github.com/users/NeymarL/orgs","repos_url":"https://api.github.com/users/NeymarL/repos","events_url":"https://api.github.com/users/NeymarL/events{/privacy}","received_events_url":"https://api.github.com/users/NeymarL/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/NeymarL/ChineseChess-AlphaZero/issues/28/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/NeymarL/ChineseChess-AlphaZero/issues/28/timeline","performed_via_github_app":null,"state_reason":"completed"}