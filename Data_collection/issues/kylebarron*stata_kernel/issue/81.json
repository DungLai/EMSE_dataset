{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/81","repository_url":"https://api.github.com/repos/kylebarron/stata_kernel","labels_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/81/labels{/name}","comments_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/81/comments","events_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/81/events","html_url":"https://github.com/kylebarron/stata_kernel/issues/81","id":351172678,"node_id":"MDU6SXNzdWUzNTExNzI2Nzg=","number":81,"title":"Cannot access local macros in Jupyter","user":{"login":"maraab23","id":32602142,"node_id":"MDQ6VXNlcjMyNjAyMTQy","avatar_url":"https://avatars.githubusercontent.com/u/32602142?v=4","gravatar_id":"","url":"https://api.github.com/users/maraab23","html_url":"https://github.com/maraab23","followers_url":"https://api.github.com/users/maraab23/followers","following_url":"https://api.github.com/users/maraab23/following{/other_user}","gists_url":"https://api.github.com/users/maraab23/gists{/gist_id}","starred_url":"https://api.github.com/users/maraab23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maraab23/subscriptions","organizations_url":"https://api.github.com/users/maraab23/orgs","repos_url":"https://api.github.com/users/maraab23/repos","events_url":"https://api.github.com/users/maraab23/events{/privacy}","received_events_url":"https://api.github.com/users/maraab23/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-08-16T11:54:10Z","updated_at":"2018-08-20T14:22:05Z","closed_at":"2018-08-19T19:27:56Z","author_association":"NONE","active_lock_reason":null,"body":"#### Code Sample\r\n\r\n```stata\r\nlocal test \"tree house\"\r\ndisplay \"`test'\"\r\n\r\n* result:\t`test'\r\n* instead of:\ttree house\r\n\r\n```\r\n#### Problem description\r\n\r\nFirst of all, thanks for your great work. I intend to use this for teaching. However, I encountered the problem that I cannot access local macros in my Jupyter notebook. If I use a global instead of a local macro the ```display``` command still does not work as expected, although in both cases the macros are correctly generated (as shown by ```%locals``` or ```%globals```). Although the issue seems to be identical for both local and global macros there is a important difference:\r\n\r\nThe local macro (``` `xvars' ```) simply seems to be ignored:\r\n```stata\r\nsysuse auto\r\nlocal xvars \"mpg rep78 headroom\"\r\nregress price `xvars'\r\n```\r\n```\r\n(1978 Automobile Data)\r\n\r\n      Source |       SS           df       MS      Number of obs   =        74\r\n-------------+----------------------------------   F(0, 73)        =      0.00\r\n       Model |           0         0           .   Prob > F        =         .\r\n    Residual |   635065396        73  8699525.97   R-squared       =    0.0000\r\n-------------+----------------------------------   Adj R-squared   =    0.0000\r\n       Total |   635065396        73  8699525.97   Root MSE        =    2949.5\r\n\r\n------------------------------------------------------------------------------\r\n       price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]\r\n-------------+----------------------------------------------------------------\r\n       _cons |   6165.257   342.8719    17.98   0.000     5481.914      6848.6\r\n------------------------------------------------------------------------------\r\n```\r\n\r\n... whereas the global macro (``` $xvars ```) works as expected:\r\n\r\n```stata\r\nsysuse auto\r\nglobal xvars \"mpg rep78 headroom\"\r\nregress price $xvars\r\n```\r\n```\r\n(1978 Automobile Data)\r\n\r\n      Source |       SS           df       MS      Number of obs   =        69\r\n-------------+----------------------------------   F(3, 65)        =      7.51\r\n       Model |   148497605         3  49499201.8   Prob > F        =    0.0002\r\n    Residual |   428299354        65  6589220.82   R-squared       =    0.2575\r\n-------------+----------------------------------   Adj R-squared   =    0.2232\r\n       Total |   576796959        68  8482308.22   Root MSE        =    2566.9\r\n\r\n------------------------------------------------------------------------------\r\n       price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]\r\n-------------+----------------------------------------------------------------\r\n         mpg |  -289.3462   62.53921    -4.63   0.000    -414.2456   -164.4467\r\n       rep78 |   670.8971   343.5213     1.95   0.055    -15.16242    1356.957\r\n    headroom |  -300.0293   398.0516    -0.75   0.454    -1094.993    494.9346\r\n       _cons |   10921.33   2153.003     5.07   0.000     6621.487    15221.17\r\n------------------------------------------------------------------------------\r\n```\r\n\r\n\r\n\r\n\r\n\r\n#### Package Version\r\n\r\nVersion: 1.3.1\r\n","closed_by":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/81/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/81/timeline","performed_via_github_app":null,"state_reason":"completed"}