{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/32","repository_url":"https://api.github.com/repos/kylebarron/stata_kernel","labels_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/32/labels{/name}","comments_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/32/comments","events_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/32/events","html_url":"https://github.com/kylebarron/stata_kernel/issues/32","id":348421726,"node_id":"MDU6SXNzdWUzNDg0MjE3MjY=","number":32,"title":"code_manager.py file","user":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-08-07T17:44:24Z","updated_at":"2018-08-11T05:52:41Z","closed_at":"2018-08-11T05:52:41Z","author_association":"OWNER","active_lock_reason":null,"body":"This file should have a class that accepts an unmodified input string and returns a list of run-able code blocks. In general each item of the list should be a single line of Stata code, except when that line of Stata code would not return to a dot prompt.\r\n\r\n```py\r\nclass CodeManager(object):\r\n    def __init__(self, code):\r\n        self.input = code\r\n        self.tokens = self.tokenize_code()\r\n\r\n    def tokenize_code(self):\r\n        # Do tokenizing with Pygments\r\n        # Return a list of tokens\r\n\r\n    def is_complete(self):\r\n        # Analyze tokens\r\n        # Determine if all of input is complete.\r\n        # Return simple True/False\r\n\r\n    def completions(self, cursor_pos):\r\n        # Unclear whether it's necessary to tokenize the code for this.\r\n        # Return dict with correct Jupyter message\r\n\r\n    def tokens_to_lines():\r\n        # Form logical code chunks from tokens\r\n        # This should also remove comments\r\n        # Returns a list of code chunks that are safe to run in the console\r\n```","closed_by":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/32/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/32/timeline","performed_via_github_app":null,"state_reason":"completed"}