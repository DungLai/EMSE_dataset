{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/410","repository_url":"https://api.github.com/repos/kylebarron/stata_kernel","labels_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/410/labels{/name}","comments_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/410/comments","events_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/410/events","html_url":"https://github.com/kylebarron/stata_kernel/issues/410","id":1068592080,"node_id":"I_kwDOCI5E484_sWvQ","number":410,"title":"Kernel does not recover after stata process is killed","user":{"login":"matuskosut","id":10776269,"node_id":"MDQ6VXNlcjEwNzc2MjY5","avatar_url":"https://avatars.githubusercontent.com/u/10776269?v=4","gravatar_id":"","url":"https://api.github.com/users/matuskosut","html_url":"https://github.com/matuskosut","followers_url":"https://api.github.com/users/matuskosut/followers","following_url":"https://api.github.com/users/matuskosut/following{/other_user}","gists_url":"https://api.github.com/users/matuskosut/gists{/gist_id}","starred_url":"https://api.github.com/users/matuskosut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matuskosut/subscriptions","organizations_url":"https://api.github.com/users/matuskosut/orgs","repos_url":"https://api.github.com/users/matuskosut/repos","events_url":"https://api.github.com/users/matuskosut/events{/privacy}","received_events_url":"https://api.github.com/users/matuskosut/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-12-01T16:07:00Z","updated_at":"2021-12-01T16:07:00Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"#### Problem description\r\n\r\nKernel does not recover after stata process is killed.\r\n\r\nRunning stata_kernel in jupyter invokes this process, that I suppose is control process:\r\n```\r\npython -m stata_kernel -f ~/.local/jupyter/kernel-52386dec-3b41-429d-badc-548772e60645.json\r\n```\r\n\r\nThis process should then invoke stata (stata-mp):\r\n```\r\n/usr/bin/stata16/stata-mp\r\n```\r\n\r\nwhich I suppose executes stata code from the notebook cells.\r\n\r\nThere are cases when stata-mp process gets killed (e.g. OOM killer - running out of memore).\r\nControl process does not seem to notice this, there are no error logs reported to user side (e.g. error logs below the cell).\r\nThe cell appears to be executing (`[*]`), but it never reports back. Control process does not attempt to start a new stata-mp process either.\r\n\r\n#### Debugging log\r\n\r\nno information regarding kill event logged\r\n\r\n#### Expected Output\r\n\r\nExpecting error log or notification, or any kind of information about stata-mp process being killed (not present anymore).\r\n\r\n#### Other information\r\n\r\nIf you didn't attach the debugging log, please provide:\r\n\r\n- Operating System: Linux\r\n- Stata version: stata16\r\n- Package version: 1.12.2\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/410/timeline","performed_via_github_app":null,"state_reason":null}