[{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429041555","html_url":"https://github.com/kylebarron/stata_kernel/issues/201#issuecomment-429041555","issue_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/201","id":429041555,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTA0MTU1NQ==","user":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false},"created_at":"2018-10-11T17:16:36Z","updated_at":"2018-10-11T17:16:36Z","author_association":"OWNER","body":"Do you know what version of the package you're running? (You can find this out with `pip show stata_kernel`). Are you able to run any code?","reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429041555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429042952","html_url":"https://github.com/kylebarron/stata_kernel/issues/201#issuecomment-429042952","issue_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/201","id":429042952,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTA0Mjk1Mg==","user":{"login":"phross","id":44067138,"node_id":"MDQ6VXNlcjQ0MDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/44067138?v=4","gravatar_id":"","url":"https://api.github.com/users/phross","html_url":"https://github.com/phross","followers_url":"https://api.github.com/users/phross/followers","following_url":"https://api.github.com/users/phross/following{/other_user}","gists_url":"https://api.github.com/users/phross/gists{/gist_id}","starred_url":"https://api.github.com/users/phross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phross/subscriptions","organizations_url":"https://api.github.com/users/phross/orgs","repos_url":"https://api.github.com/users/phross/repos","events_url":"https://api.github.com/users/phross/events{/privacy}","received_events_url":"https://api.github.com/users/phross/received_events","type":"User","site_admin":false},"created_at":"2018-10-11T17:20:41Z","updated_at":"2018-10-11T17:21:19Z","author_association":"NONE","body":"I'm running 1.5.6. I'm unable to run any stata code in jupyter notebook.\r\n```\r\nC:\\Users\\phill>pip show stata_kernel\r\nName: stata-kernel\r\nVersion: 1.5.6\r\nSummary: A Jupyter kernel for Stata. Works with Windows, macOS, and Linux. Preserves program state.\r\nHome-page: https://github.com/kylebarron/stata_kernel\r\nAuthor: Kyle Barron\r\nAuthor-email: barronk@mit.edu\r\nLicense: GPLv3\r\nLocation: c:\\users\\phill\\anaconda3\\lib\\site-packages\r\nRequires: requests, jupyter-client, pywin32, regex, beautifulsoup4, pygments, jupyter, pandas, packaging, pillow, pexpect, IPython, ipykernel\r\nRequired-by:\r\n```","reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429042952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"phross","id":44067138,"node_id":"MDQ6VXNlcjQ0MDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/44067138?v=4","gravatar_id":"","url":"https://api.github.com/users/phross","html_url":"https://github.com/phross","followers_url":"https://api.github.com/users/phross/followers","following_url":"https://api.github.com/users/phross/following{/other_user}","gists_url":"https://api.github.com/users/phross/gists{/gist_id}","starred_url":"https://api.github.com/users/phross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phross/subscriptions","organizations_url":"https://api.github.com/users/phross/orgs","repos_url":"https://api.github.com/users/phross/repos","events_url":"https://api.github.com/users/phross/events{/privacy}","received_events_url":"https://api.github.com/users/phross/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429046964","html_url":"https://github.com/kylebarron/stata_kernel/issues/201#issuecomment-429046964","issue_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/201","id":429046964,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTA0Njk2NA==","user":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false},"created_at":"2018-10-11T17:31:49Z","updated_at":"2018-10-11T17:31:49Z","author_association":"OWNER","body":"If you have git installed, you could try\r\n```\r\npip install git+https://github.com/kylebarron/stata_kernel@dev-issue-201 --upgrade\r\n```\r\nand see if that fixes it?","reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429046964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429049728","html_url":"https://github.com/kylebarron/stata_kernel/issues/201#issuecomment-429049728","issue_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/201","id":429049728,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTA0OTcyOA==","user":{"login":"phross","id":44067138,"node_id":"MDQ6VXNlcjQ0MDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/44067138?v=4","gravatar_id":"","url":"https://api.github.com/users/phross","html_url":"https://github.com/phross","followers_url":"https://api.github.com/users/phross/followers","following_url":"https://api.github.com/users/phross/following{/other_user}","gists_url":"https://api.github.com/users/phross/gists{/gist_id}","starred_url":"https://api.github.com/users/phross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phross/subscriptions","organizations_url":"https://api.github.com/users/phross/orgs","repos_url":"https://api.github.com/users/phross/repos","events_url":"https://api.github.com/users/phross/events{/privacy}","received_events_url":"https://api.github.com/users/phross/received_events","type":"User","site_admin":false},"created_at":"2018-10-11T17:39:05Z","updated_at":"2018-10-11T17:39:05Z","author_association":"NONE","body":"It worked! Thanks so much!","reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429049728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"phross","id":44067138,"node_id":"MDQ6VXNlcjQ0MDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/44067138?v=4","gravatar_id":"","url":"https://api.github.com/users/phross","html_url":"https://github.com/phross","followers_url":"https://api.github.com/users/phross/followers","following_url":"https://api.github.com/users/phross/following{/other_user}","gists_url":"https://api.github.com/users/phross/gists{/gist_id}","starred_url":"https://api.github.com/users/phross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phross/subscriptions","organizations_url":"https://api.github.com/users/phross/orgs","repos_url":"https://api.github.com/users/phross/repos","events_url":"https://api.github.com/users/phross/events{/privacy}","received_events_url":"https://api.github.com/users/phross/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429049942","html_url":"https://github.com/kylebarron/stata_kernel/issues/201#issuecomment-429049942","issue_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/201","id":429049942,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTA0OTk0Mg==","user":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false},"created_at":"2018-10-11T17:39:37Z","updated_at":"2018-10-11T17:39:37Z","author_association":"OWNER","body":"Great. I'll push out a new release with that fix.","reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429049942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false}},{"id":1898875612,"node_id":"MDExOkNsb3NlZEV2ZW50MTg5ODg3NTYxMg==","url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/events/1898875612","actor":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-10-11T17:40:21Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429051086","html_url":"https://github.com/kylebarron/stata_kernel/issues/201#issuecomment-429051086","issue_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/201","id":429051086,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTA1MTA4Ng==","user":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false},"created_at":"2018-10-11T17:42:29Z","updated_at":"2018-10-11T17:42:29Z","author_association":"OWNER","body":"The new release should be on `pip` for standard `pip install stata_kernel --upgrade` installation.","reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/429051086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kylebarron","id":15164633,"node_id":"MDQ6VXNlcjE1MTY0NjMz","avatar_url":"https://avatars.githubusercontent.com/u/15164633?v=4","gravatar_id":"","url":"https://api.github.com/users/kylebarron","html_url":"https://github.com/kylebarron","followers_url":"https://api.github.com/users/kylebarron/followers","following_url":"https://api.github.com/users/kylebarron/following{/other_user}","gists_url":"https://api.github.com/users/kylebarron/gists{/gist_id}","starred_url":"https://api.github.com/users/kylebarron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylebarron/subscriptions","organizations_url":"https://api.github.com/users/kylebarron/orgs","repos_url":"https://api.github.com/users/kylebarron/repos","events_url":"https://api.github.com/users/kylebarron/events{/privacy}","received_events_url":"https://api.github.com/users/kylebarron/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/501706158","html_url":"https://github.com/kylebarron/stata_kernel/issues/201#issuecomment-501706158","issue_url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/201","id":501706158,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTcwNjE1OA==","user":{"login":"anilpankaj","id":29047208,"node_id":"MDQ6VXNlcjI5MDQ3MjA4","avatar_url":"https://avatars.githubusercontent.com/u/29047208?v=4","gravatar_id":"","url":"https://api.github.com/users/anilpankaj","html_url":"https://github.com/anilpankaj","followers_url":"https://api.github.com/users/anilpankaj/followers","following_url":"https://api.github.com/users/anilpankaj/following{/other_user}","gists_url":"https://api.github.com/users/anilpankaj/gists{/gist_id}","starred_url":"https://api.github.com/users/anilpankaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anilpankaj/subscriptions","organizations_url":"https://api.github.com/users/anilpankaj/orgs","repos_url":"https://api.github.com/users/anilpankaj/repos","events_url":"https://api.github.com/users/anilpankaj/events{/privacy}","received_events_url":"https://api.github.com/users/anilpankaj/received_events","type":"User","site_admin":false},"created_at":"2019-06-13T13:37:17Z","updated_at":"2019-06-13T13:37:17Z","author_association":"NONE","body":"Traceback (most recent call last):\r\n  File \"dialogue_management_model.py\", line 55, in <module>\r\n    run_weather_bot()\r\n  File \"dialogue_management_model.py\", line 46, in run_weather_bot\r\n    nlu_interpreter = RasaNLUInterpreter('./models/nlu/default/current')\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/rasa_core/interpreter.py\", line 234, in __init__\r\n    self._load_interpreter()\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/rasa_core/interpreter.py\", line 257, in _load_interpreter\r\n    self.interpreter = Interpreter.load(self.model_directory)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/rasa_nlu/model.py\", line 304, in load\r\n    skip_validation)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/rasa_nlu/model.py\", line 331, in create\r\n    model_metadata, **context)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/rasa_nlu/components.py\", line 425, in load_component\r\n    cached_component, **context)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/rasa_nlu/registry.py\", line 172, in load_component_by_meta\r\n    cached_component, **kwargs)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/rasa_nlu/utils/spacy_utils.py\", line 114, in load\r\n    nlp = spacy.load(model_name, disable=['parser'])\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/__init__.py\", line 27, in load\r\n    return util.load_model(name, **overrides)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/util.py\", line 129, in load_model\r\n    return load_model_from_link(name, **overrides)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/util.py\", line 146, in load_model_from_link\r\n    return cls.load(**overrides)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/data/en/__init__.py\", line 12, in load\r\n    return load_model_from_init_py(__file__, **overrides)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/util.py\", line 190, in load_model_from_init_py\r\n    return load_model_from_path(data_path, meta, **overrides)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/util.py\", line 173, in load_model_from_path\r\n    return nlp.from_disk(model_path)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/language.py\", line 791, in from_disk\r\n    util.from_disk(path, deserializers, exclude)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/util.py\", line 630, in from_disk\r\n    reader(path / key)\r\n  File \"/home/anil/.local/lib/python3.6/site-packages/spacy/language.py\", line 781, in <lambda>\r\n    deserializers[\"tokenizer\"] = lambda p: self.tokenizer.from_disk(p, exclude=[\"vocab\"])\r\n  File \"tokenizer.pyx\", line 391, in spacy.tokenizer.Tokenizer.from_disk\r\n  File \"tokenizer.pyx\", line 437, in spacy.tokenizer.Tokenizer.from_bytes\r\n  File \"/usr/lib/python3.6/re.py\", line 233, in compile\r\n    return _compile(pattern, flags)\r\n  File \"/usr/lib/python3.6/re.py\", line 301, in _compile\r\n    p = sre_compile.compile(pattern, flags)\r\n  File \"/usr/lib/python3.6/sre_compile.py\", line 562, in compile\r\n    p = sre_parse.parse(p, flags)\r\n  File \"/usr/lib/python3.6/sre_parse.py\", line 855, in parse\r\n    p = _parse_sub(source, pattern, flags & SRE_FLAG_VERBOSE, 0)\r\n  File \"/usr/lib/python3.6/sre_parse.py\", line 416, in _parse_sub\r\n    not nested and not items))\r\n  File \"/usr/lib/python3.6/sre_parse.py\", line 527, in _parse\r\n    code1 = _class_escape(source, this)\r\n  File \"/usr/lib/python3.6/sre_parse.py\", line 336, in _class_escape\r\n    raise source.error('bad escape %s' % escape, len(escape))\r\nsre_constants.error: bad escape \\p at position 257\r\nwhen i run this code that's i mention below i got that error so please help!\r\n\r\nfrom __future__ import absolute_import\r\nfrom __future__ import division\r\nfrom __future__ import print_function\r\nfrom __future__ import unicode_literals\r\n\r\nimport logging\r\nimport re\r\nimport warnings\r\nimport ruamel.yaml\r\nwarnings.simplefilter('ignore', ruamel.yaml.error.UnsafeLoaderWarning)\r\n\r\nfrom rasa_core.agent import Agent\r\nfrom rasa_core.policies import FallbackPolicy, KerasPolicy, MemoizationPolicy\r\nfrom rasa_core.interpreter import RasaNLUInterpreter\r\nfrom rasa_core.training import interactive\r\nfrom rasa_core.utils import EndpointConfig\r\n\r\nlogger = logging.getLogger(__name__)\r\n\r\n\r\n# this will catch predictions the model isn't very certain about\r\n# there is a threshold for the NLU predictions as well as the action predictions\r\nfallback = FallbackPolicy(fallback_action_name=\"utter_unclear\",\r\n                          core_threshold=0.2,\r\n                          nlu_threshold=0.1)\r\n\r\ndef train_dialogue(interpreter,domain_file = 'domain.yml',\r\n                   model_path = './models/dialogue',\r\n                   training_data_file = './data/stories.md'):\r\n\r\n    #action_endpoint = EndpointConfig(url=\"http://localhost:5055/webhook\")\r\n    agent = Agent(domain_file, policies=[MemoizationPolicy(), KerasPolicy(), fallback])\r\n    training_data = agent.load_data('./data/stories.md')\r\n\r\n    agent.train(\r\n            training_data)\r\n\r\n    agent.persist('models/dialogue')\r\n    return agent\r\n\r\n\r\n\r\n\r\ndef run_weather_bot(serve_forever=True):\r\n    nlu_interpreter = RasaNLUInterpreter('./models/nlu/default/current')\r\n    action_endpoint = EndpointConfig(url=\"http://localhost:5055/webhook\")\r\n    agent = Agent.load('./models/dialogue', interpreter=nlu_interpreter, action_endpoint=action_endpoint)\r\n    #rasa_core.run.serve_application(agent ,channel='cmdline')\r\n    \r\n    return agent\r\n\r\nif __name__ == '__main__':\r\n    train_dialogue(interpreter=RasaNLUInterpreter)\r\n    run_weather_bot()\r\n","reactions":{"url":"https://api.github.com/repos/kylebarron/stata_kernel/issues/comments/501706158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anilpankaj","id":29047208,"node_id":"MDQ6VXNlcjI5MDQ3MjA4","avatar_url":"https://avatars.githubusercontent.com/u/29047208?v=4","gravatar_id":"","url":"https://api.github.com/users/anilpankaj","html_url":"https://github.com/anilpankaj","followers_url":"https://api.github.com/users/anilpankaj/followers","following_url":"https://api.github.com/users/anilpankaj/following{/other_user}","gists_url":"https://api.github.com/users/anilpankaj/gists{/gist_id}","starred_url":"https://api.github.com/users/anilpankaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anilpankaj/subscriptions","organizations_url":"https://api.github.com/users/anilpankaj/orgs","repos_url":"https://api.github.com/users/anilpankaj/repos","events_url":"https://api.github.com/users/anilpankaj/events{/privacy}","received_events_url":"https://api.github.com/users/anilpankaj/received_events","type":"User","site_admin":false}}]