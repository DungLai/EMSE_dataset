[{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/451843416","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-451843416","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":451843416,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTg0MzQxNg==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-07T07:20:30Z","updated_at":"2019-01-07T07:20:30Z","author_association":"OWNER","body":"Hi, I did not have the same error. If you want to implement by yourself, you just need to implement `_apply_dense` and `_resource_apply_dense`. You can take the original Adam for reference. \r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/adam.py","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/451843416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/451850965","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-451850965","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":451850965,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTg1MDk2NQ==","user":{"login":"owen-chenhn","id":29171555,"node_id":"MDQ6VXNlcjI5MTcxNTU1","avatar_url":"https://avatars.githubusercontent.com/u/29171555?v=4","gravatar_id":"","url":"https://api.github.com/users/owen-chenhn","html_url":"https://github.com/owen-chenhn","followers_url":"https://api.github.com/users/owen-chenhn/followers","following_url":"https://api.github.com/users/owen-chenhn/following{/other_user}","gists_url":"https://api.github.com/users/owen-chenhn/gists{/gist_id}","starred_url":"https://api.github.com/users/owen-chenhn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owen-chenhn/subscriptions","organizations_url":"https://api.github.com/users/owen-chenhn/orgs","repos_url":"https://api.github.com/users/owen-chenhn/repos","events_url":"https://api.github.com/users/owen-chenhn/events{/privacy}","received_events_url":"https://api.github.com/users/owen-chenhn/received_events","type":"User","site_admin":false},"created_at":"2019-01-07T07:59:34Z","updated_at":"2019-01-07T07:59:34Z","author_association":"NONE","body":"Do I need to modify `apply_gradients` of AdamWeightDecayOptimizer in optimization.py? ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/451850965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"owen-chenhn","id":29171555,"node_id":"MDQ6VXNlcjI5MTcxNTU1","avatar_url":"https://avatars.githubusercontent.com/u/29171555?v=4","gravatar_id":"","url":"https://api.github.com/users/owen-chenhn","html_url":"https://github.com/owen-chenhn","followers_url":"https://api.github.com/users/owen-chenhn/followers","following_url":"https://api.github.com/users/owen-chenhn/following{/other_user}","gists_url":"https://api.github.com/users/owen-chenhn/gists{/gist_id}","starred_url":"https://api.github.com/users/owen-chenhn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owen-chenhn/subscriptions","organizations_url":"https://api.github.com/users/owen-chenhn/orgs","repos_url":"https://api.github.com/users/owen-chenhn/repos","events_url":"https://api.github.com/users/owen-chenhn/events{/privacy}","received_events_url":"https://api.github.com/users/owen-chenhn/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/451929907","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-451929907","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":451929907,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTkyOTkwNw==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-07T13:11:13Z","updated_at":"2019-01-07T13:11:13Z","author_association":"OWNER","body":"No need. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/451929907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452189602","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-452189602","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":452189602,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjE4OTYwMg==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-08T06:26:38Z","updated_at":"2019-01-08T06:26:38Z","author_association":"OWNER","body":"Closing the issue since this is not likely a bug. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452189602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"id":2059353240,"node_id":"MDExOkNsb3NlZEV2ZW50MjA1OTM1MzI0MA==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2059353240","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-01-08T06:26:38Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505366887","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-505366887","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":505366887,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTM2Njg4Nw==","user":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T09:34:33Z","updated_at":"2019-06-25T09:34:33Z","author_association":"NONE","body":"> Do I need to modify `apply_gradients` of AdamWeightDecayOptimizer in optimization.py?\r\n\r\nsorry to bother you, does it works for you?","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505366887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505367964","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-505367964","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":505367964,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTM2Nzk2NA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T09:37:48Z","updated_at":"2019-06-25T09:37:48Z","author_association":"OWNER","body":"> > Do I need to modify `apply_gradients` of AdamWeightDecayOptimizer in optimization.py?\r\n> \r\n> sorry to bother you, does it works for you?\r\n\r\nAre you having issues using the optimizer? ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505367964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505371516","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-505371516","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":505371516,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTM3MTUxNg==","user":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T09:47:40Z","updated_at":"2019-06-25T09:47:40Z","author_association":"NONE","body":"> > > Do I need to modify `apply_gradients` of AdamWeightDecayOptimizer in optimization.py?\r\n> > \r\n> > \r\n> > sorry to bother you, does it works for you?\r\n> \r\n> Are you having issues using the optimizer?\r\n\r\noh yes, thanks. \r\n\r\nI also wanna modify optimization.py of BERT but not sure how to re-implement `_resource_apply_dense ` and `_apply_dense `.\r\n\r\nnow I just copy your implementation of `AdamWeightDecayOptimizer` but get the same error\r\n```\r\nValueError: You must specify an aggregation method to update a MirroredVariable in Tower Context.\r\n```\r\n\r\ncould you please give me some advise ?\r\n","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505371516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505376594","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-505376594","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":505376594,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTM3NjU5NA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T10:02:16Z","updated_at":"2019-06-25T10:02:28Z","author_association":"OWNER","body":"I did not encounter similar issues. My advise would be replace the optimizer with the standard Adam and try whether the issue still persist. If so, you can print out vars to find which one is not specified aggregation method. \r\n\r\nPlease consider re-open the issue if you are confident that there's a bug in optimizer!","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505376594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505392247","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-505392247","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":505392247,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTM5MjI0Nw==","user":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T10:51:11Z","updated_at":"2019-06-25T10:51:11Z","author_association":"NONE","body":"> I did not encounter similar issues. My advise would be replace the optimizer with the standard Adam and try whether the issue still persist. If so, you can print out vars to find which one is not specified aggregation method.\r\n> \r\n> Please consider re-open the issue if you are confident that there's a bug in optimizer!\r\n\r\nThanks again, both do not works for me, but I think yours is right.\r\nI guess it might be about tf version, mine is 1.10.0. \r\nhave you run it on tensorflow lower than 1.13.0 ?\r\n","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505392247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505434010","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-505434010","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":505434010,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQzNDAxMA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T13:01:20Z","updated_at":"2019-06-25T13:01:20Z","author_association":"OWNER","body":"Nope. I tried on tf1.12 and 1.13. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505434010/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505705074","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-505705074","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":505705074,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTcwNTA3NA==","user":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false},"created_at":"2019-06-26T03:40:14Z","updated_at":"2019-06-26T03:40:14Z","author_association":"NONE","body":"> Nope. I tried on tf1.12 and 1.13.\r\n\r\nyeah it works on tf1.12 !! you did me a big favor!","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/505705074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/520142980","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-520142980","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":520142980,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDE0Mjk4MA==","user":{"login":"jiahuigeng","id":22496073,"node_id":"MDQ6VXNlcjIyNDk2MDcz","avatar_url":"https://avatars.githubusercontent.com/u/22496073?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuigeng","html_url":"https://github.com/jiahuigeng","followers_url":"https://api.github.com/users/jiahuigeng/followers","following_url":"https://api.github.com/users/jiahuigeng/following{/other_user}","gists_url":"https://api.github.com/users/jiahuigeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuigeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuigeng/subscriptions","organizations_url":"https://api.github.com/users/jiahuigeng/orgs","repos_url":"https://api.github.com/users/jiahuigeng/repos","events_url":"https://api.github.com/users/jiahuigeng/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuigeng/received_events","type":"User","site_admin":false},"created_at":"2019-08-10T11:53:23Z","updated_at":"2019-08-10T11:53:23Z","author_association":"NONE","body":"> > Nope. I tried on tf1.12 and 1.13.\r\n> \r\n> yeah it works on tf1.12 !! you did me a big favor!\r\n\r\nCould you please share your implementation for multi-gpu training? I met the same problem but using tf1.12 doesn't work. sad..","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/520142980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jiahuigeng","id":22496073,"node_id":"MDQ6VXNlcjIyNDk2MDcz","avatar_url":"https://avatars.githubusercontent.com/u/22496073?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuigeng","html_url":"https://github.com/jiahuigeng","followers_url":"https://api.github.com/users/jiahuigeng/followers","following_url":"https://api.github.com/users/jiahuigeng/following{/other_user}","gists_url":"https://api.github.com/users/jiahuigeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuigeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuigeng/subscriptions","organizations_url":"https://api.github.com/users/jiahuigeng/orgs","repos_url":"https://api.github.com/users/jiahuigeng/repos","events_url":"https://api.github.com/users/jiahuigeng/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuigeng/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/520143970","html_url":"https://github.com/JayYip/m3tl/issues/6#issuecomment-520143970","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/6","id":520143970,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDE0Mzk3MA==","user":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false},"created_at":"2019-08-10T12:08:53Z","updated_at":"2019-08-10T12:08:53Z","author_association":"NONE","body":"> > > Nope. I tried on tf1.12 and 1.13.\r\n> > \r\n> > \r\n> > yeah it works on tf1.12 !! you did me a big favor!\r\n> \r\n> Could you please share your implementation for multi-gpu training? I met the same problem but using tf1.12 doesn't work. sad..\r\n\r\nok\r\nBasically, I just replaced `AdamWeightDecayOptimizer`  in BERT with the same class in this repo.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/520143970/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4whp","id":41564365,"node_id":"MDQ6VXNlcjQxNTY0MzY1","avatar_url":"https://avatars.githubusercontent.com/u/41564365?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4whp","html_url":"https://github.com/nlp4whp","followers_url":"https://api.github.com/users/nlp4whp/followers","following_url":"https://api.github.com/users/nlp4whp/following{/other_user}","gists_url":"https://api.github.com/users/nlp4whp/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4whp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4whp/subscriptions","organizations_url":"https://api.github.com/users/nlp4whp/orgs","repos_url":"https://api.github.com/users/nlp4whp/repos","events_url":"https://api.github.com/users/nlp4whp/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4whp/received_events","type":"User","site_admin":false}}]