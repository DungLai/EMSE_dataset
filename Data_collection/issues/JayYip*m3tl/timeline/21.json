[{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511209332","html_url":"https://github.com/JayYip/m3tl/issues/21#issuecomment-511209332","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/21","id":511209332,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTIwOTMzMg==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-07-14T14:53:47Z","updated_at":"2019-07-14T14:53:47Z","author_association":"OWNER","body":"增加GPU的同时调整学习率和训练步数试试\r\n\r\nOn Sun, Jul 14, 2019, 3:50 PM will <notifications@github.com> wrote:\r\n\r\n> 请问有比较过多卡和单卡的训练时间吗？\r\n> 我按照这个方式实现了一下bert里的run_squad，发现2卡和单卡时间相当，甚至2卡比四卡时间还短一些.\r\n> 使用的是tf 1.13 gpu是1080\r\n>\r\n> —\r\n> You are receiving this because you are subscribed to this thread.\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/JayYip/bert-multitask-learning/issues/21?email_source=notifications&email_token=ADS2OTHYGEADRCAZWLC6QRLP7LLFVA5CNFSM4IDKS762YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4G7CFJXQ>,\r\n> or mute the thread\r\n> <https://github.com/notifications/unsubscribe-auth/ADS2OTAMOBXAHH7PTAWLJJLP7LLFVANCNFSM4IDKS76Q>\r\n> .\r\n>\r\n","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511209332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511257347","html_url":"https://github.com/JayYip/m3tl/issues/21#issuecomment-511257347","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/21","id":511257347,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI1NzM0Nw==","user":{"login":"Fengwills","id":18511731,"node_id":"MDQ6VXNlcjE4NTExNzMx","avatar_url":"https://avatars.githubusercontent.com/u/18511731?v=4","gravatar_id":"","url":"https://api.github.com/users/Fengwills","html_url":"https://github.com/Fengwills","followers_url":"https://api.github.com/users/Fengwills/followers","following_url":"https://api.github.com/users/Fengwills/following{/other_user}","gists_url":"https://api.github.com/users/Fengwills/gists{/gist_id}","starred_url":"https://api.github.com/users/Fengwills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fengwills/subscriptions","organizations_url":"https://api.github.com/users/Fengwills/orgs","repos_url":"https://api.github.com/users/Fengwills/repos","events_url":"https://api.github.com/users/Fengwills/events{/privacy}","received_events_url":"https://api.github.com/users/Fengwills/received_events","type":"User","site_admin":false},"created_at":"2019-07-15T02:16:34Z","updated_at":"2019-07-15T02:16:34Z","author_association":"NONE","body":"我可能没描述清楚，我在单卡和多卡训练100步的时间是相当的，差距在几秒，总的时间也是差不多，性能上也是差不多的，但在训练时，各个gpu占用率都是100%，所以多卡并没有加速训练，想问一下，你的多卡和单卡训练时间差距大吗？\r\n","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511257347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Fengwills","id":18511731,"node_id":"MDQ6VXNlcjE4NTExNzMx","avatar_url":"https://avatars.githubusercontent.com/u/18511731?v=4","gravatar_id":"","url":"https://api.github.com/users/Fengwills","html_url":"https://github.com/Fengwills","followers_url":"https://api.github.com/users/Fengwills/followers","following_url":"https://api.github.com/users/Fengwills/following{/other_user}","gists_url":"https://api.github.com/users/Fengwills/gists{/gist_id}","starred_url":"https://api.github.com/users/Fengwills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fengwills/subscriptions","organizations_url":"https://api.github.com/users/Fengwills/orgs","repos_url":"https://api.github.com/users/Fengwills/repos","events_url":"https://api.github.com/users/Fengwills/events{/privacy}","received_events_url":"https://api.github.com/users/Fengwills/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511258193","html_url":"https://github.com/JayYip/m3tl/issues/21#issuecomment-511258193","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/21","id":511258193,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI1ODE5Mw==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-07-15T02:25:28Z","updated_at":"2019-07-15T02:25:28Z","author_association":"OWNER","body":"是这样的, 增加GPU相当于增加`batch_size`, 比如单GPU的时候是32, 4个GPU就是128, 但是每一步消耗的时间是差不多的, 因此单GPU训练100步, 训练了100*32个训练数据, 4个GPU训练100步, 训练了100*128个训练数据. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511258193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511260576","html_url":"https://github.com/JayYip/m3tl/issues/21#issuecomment-511260576","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/21","id":511260576,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI2MDU3Ng==","user":{"login":"Fengwills","id":18511731,"node_id":"MDQ6VXNlcjE4NTExNzMx","avatar_url":"https://avatars.githubusercontent.com/u/18511731?v=4","gravatar_id":"","url":"https://api.github.com/users/Fengwills","html_url":"https://github.com/Fengwills","followers_url":"https://api.github.com/users/Fengwills/followers","following_url":"https://api.github.com/users/Fengwills/following{/other_user}","gists_url":"https://api.github.com/users/Fengwills/gists{/gist_id}","starred_url":"https://api.github.com/users/Fengwills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fengwills/subscriptions","organizations_url":"https://api.github.com/users/Fengwills/orgs","repos_url":"https://api.github.com/users/Fengwills/repos","events_url":"https://api.github.com/users/Fengwills/events{/privacy}","received_events_url":"https://api.github.com/users/Fengwills/received_events","type":"User","site_admin":false},"created_at":"2019-07-15T02:46:52Z","updated_at":"2019-07-15T02:46:52Z","author_association":"NONE","body":"嗷嗷，这样的话，多卡的训练总步数是 单卡步数/gpu数对吧，单卡跑25000步，3卡跑8300步，性能差了2个点，还是挺多的，你实验的时候结果如何呢","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511260576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Fengwills","id":18511731,"node_id":"MDQ6VXNlcjE4NTExNzMx","avatar_url":"https://avatars.githubusercontent.com/u/18511731?v=4","gravatar_id":"","url":"https://api.github.com/users/Fengwills","html_url":"https://github.com/Fengwills","followers_url":"https://api.github.com/users/Fengwills/followers","following_url":"https://api.github.com/users/Fengwills/following{/other_user}","gists_url":"https://api.github.com/users/Fengwills/gists{/gist_id}","starred_url":"https://api.github.com/users/Fengwills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fengwills/subscriptions","organizations_url":"https://api.github.com/users/Fengwills/orgs","repos_url":"https://api.github.com/users/Fengwills/repos","events_url":"https://api.github.com/users/Fengwills/events{/privacy}","received_events_url":"https://api.github.com/users/Fengwills/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511260905","html_url":"https://github.com/JayYip/m3tl/issues/21#issuecomment-511260905","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/21","id":511260905,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI2MDkwNQ==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-07-15T02:50:20Z","updated_at":"2019-07-15T02:50:20Z","author_association":"OWNER","body":"我自己跑的性能没差那么多, 你有试过多GPU下加大学习率吗?","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511260905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511283881","html_url":"https://github.com/JayYip/m3tl/issues/21#issuecomment-511283881","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/21","id":511283881,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI4Mzg4MQ==","user":{"login":"Fengwills","id":18511731,"node_id":"MDQ6VXNlcjE4NTExNzMx","avatar_url":"https://avatars.githubusercontent.com/u/18511731?v=4","gravatar_id":"","url":"https://api.github.com/users/Fengwills","html_url":"https://github.com/Fengwills","followers_url":"https://api.github.com/users/Fengwills/followers","following_url":"https://api.github.com/users/Fengwills/following{/other_user}","gists_url":"https://api.github.com/users/Fengwills/gists{/gist_id}","starred_url":"https://api.github.com/users/Fengwills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fengwills/subscriptions","organizations_url":"https://api.github.com/users/Fengwills/orgs","repos_url":"https://api.github.com/users/Fengwills/repos","events_url":"https://api.github.com/users/Fengwills/events{/privacy}","received_events_url":"https://api.github.com/users/Fengwills/received_events","type":"User","site_admin":false},"created_at":"2019-07-15T06:09:56Z","updated_at":"2019-07-15T06:09:56Z","author_association":"NONE","body":"没有哎，因为要比较多GPU和单GPU的训练时间和性能，需要控制学习率不变吧","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511283881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Fengwills","id":18511731,"node_id":"MDQ6VXNlcjE4NTExNzMx","avatar_url":"https://avatars.githubusercontent.com/u/18511731?v=4","gravatar_id":"","url":"https://api.github.com/users/Fengwills","html_url":"https://github.com/Fengwills","followers_url":"https://api.github.com/users/Fengwills/followers","following_url":"https://api.github.com/users/Fengwills/following{/other_user}","gists_url":"https://api.github.com/users/Fengwills/gists{/gist_id}","starred_url":"https://api.github.com/users/Fengwills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fengwills/subscriptions","organizations_url":"https://api.github.com/users/Fengwills/orgs","repos_url":"https://api.github.com/users/Fengwills/repos","events_url":"https://api.github.com/users/Fengwills/events{/privacy}","received_events_url":"https://api.github.com/users/Fengwills/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511284748","html_url":"https://github.com/JayYip/m3tl/issues/21#issuecomment-511284748","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/21","id":511284748,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI4NDc0OA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-07-15T06:15:18Z","updated_at":"2019-07-15T06:15:26Z","author_association":"OWNER","body":"可以参考下这篇文章: https://arxiv.org/pdf/1706.02677.pdf 的Section 2.1","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/511284748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"id":2697654319,"node_id":"MDExOkNsb3NlZEV2ZW50MjY5NzY1NDMxOQ==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2697654319","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-09T04:52:55Z","state_reason":null,"performed_via_github_app":null}]