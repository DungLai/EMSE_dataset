[{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452206370","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-452206370","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":452206370,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjIwNjM3MA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-08T07:55:55Z","updated_at":"2019-01-08T07:55:55Z","author_association":"OWNER","body":">  Could you explain some key points that you modify the original code to implement multi-GPU support, especially in the optimizer.py?\r\n\r\nThe original optimizer in bert implements `apply_gradients`, which does not support distribution strategy. For more details, please refer to the link below.\r\nhttps://github.com/tensorflow/tensorflow/blob/2ca0bf7cf4e16cbed6affd7dd844fea4ed3a62df/tensorflow/python/training/optimizer.py#L530\r\n\r\n>  is there any big changes in the estimator.py compared with the original code?\r\n\r\nThere's a bug in TF 1.12 which is fixed in latest build. I did a simple fix by myself. You can try the estimator from TF 1.12 then you will probably encounter the same error. \r\n","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452206370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"id":2062063437,"node_id":"MDExOkNsb3NlZEV2ZW50MjA2MjA2MzQzNw==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2062063437","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-01-09T03:46:32Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452635086","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-452635086","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":452635086,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjYzNTA4Ng==","user":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"created_at":"2019-01-09T09:46:46Z","updated_at":"2019-01-09T09:46:46Z","author_association":"NONE","body":"@JayYip Thanks for your reply. Another problem, I found you remove the function named _get_variable_name in your optimizer.py, and this function in original code takes param.name as input, but var variable in the _apply_dense function is not a string. Is this the bug you fixed in estimator.py?","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452635086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false}},{"id":2062585588,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA2MjU4NTU4OA==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2062585588","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-09T09:46:46Z","performed_via_github_app":null},{"id":2062585589,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwNjI1ODU1ODk=","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2062585589","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-09T09:46:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452670725","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-452670725","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":452670725,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjY3MDcyNQ==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-09T11:53:41Z","updated_at":"2019-01-09T11:53:41Z","author_association":"OWNER","body":"No, this is not the bug. the `_get_variable_name` is a method to get the slot var name. For more details of implementing optimizer, you may want to google it or post a question on stackoverflow. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452670725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452937837","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-452937837","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":452937837,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjkzNzgzNw==","user":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T01:37:59Z","updated_at":"2019-01-10T01:37:59Z","author_association":"NONE","body":"@JayYip Ok. I will check it out. But when I ran your program from scratch, the multi-gpu training indeed worked, another problem occurred. The GPU usage is actually 100%, but there is no checkpoint saving during training, and the log stopped updating.\r\n\r\nI use the following command to start the program:\r\n\"python main.py --problem \"CWS|NER|WeiboNER&WeiboSegment\" --schedule train\"\r\n\r\nthe nvidia-smi screenshot is:\r\n![image](https://user-images.githubusercontent.com/12755003/50940210-019cbd80-14bb-11e9-9ec9-900d39a043fc.png)\r\nand the log stopped here:\r\n![image](https://user-images.githubusercontent.com/12755003/50940279-3f014b00-14bb-11e9-97ab-f6d58db18880.png)\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452937837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false}},{"id":2064725392,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA2NDcyNTM5Mg==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2064725392","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-10T01:38:00Z","performed_via_github_app":null},{"id":2064725393,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwNjQ3MjUzOTM=","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2064725393","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-10T01:38:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452939343","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-452939343","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":452939343,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjkzOTM0Mw==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T01:46:37Z","updated_at":"2019-01-10T01:46:37Z","author_association":"OWNER","body":"That's weird. May you check the `params.log_every_n_steps` parameters? You can set it to 1 to see whether it's actually training. My guess is that it's actually running normally, maybe your batch size is too large and takes too long to run a step. \r\n\r\nIf you're confident this is a bug, please reopen the issue. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452939343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452951594","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-452951594","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":452951594,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mjk1MTU5NA==","user":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T02:52:24Z","updated_at":"2019-01-10T02:52:24Z","author_association":"NONE","body":"@JayYip I set log_every_n_steps to 1 and batch_size is 16. But I still got the same information after I restarted the program for 15 minutes, the gpu memory is full and usage is 100%, no running process showed in nvidia-smi. Then I checked cpu usage, it used about 30% of one core. And I tried \"WeiboNER&WeiboSegment\" problem, still got the same problem. By the way, how long does your program generally run? I ran the program in docker environment, maybe this is the problem.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452951594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false}},{"id":2064808508,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA2NDgwODUwOA==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2064808508","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-10T02:52:24Z","performed_via_github_app":null},{"id":2064808509,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwNjQ4MDg1MDk=","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2064808509","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-10T02:52:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452955636","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-452955636","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":452955636,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mjk1NTYzNg==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T03:15:30Z","updated_at":"2019-01-10T03:19:44Z","author_association":"OWNER","body":"That is very strange. With batch size of 32, max seq len of 128 the program can run about 3 steps per second on Titan Xp. Could you check the tensorflow logging level and tensorflow version? I don't think this is the reason but you better check. Also, is the checkpoint of step 0 saved?\r\n\r\nNormally in training, cpu usage would be around 200% or more. \r\n\r\nI don't think docker is the cause. Because I also run experiments in docker. \r\n\r\nEdit: Could you provide a full log?","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452955636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452964376","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-452964376","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":452964376,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mjk2NDM3Ng==","user":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T04:09:20Z","updated_at":"2019-01-10T08:12:22Z","author_association":"NONE","body":"@JayYip Frist, I installed the latest nccl tool (2.3.7) according to the instructions in this [blog](https://blog.csdn.net/qq_29592167/article/details/83866840).  \r\n\r\nThe tf version is 1.12.0, the cuda version is 9.0.176, and checkpoint of step 0 saved successfully. \r\n\r\nThe full log is here: \r\nonly WeiboNER \r\nhttps://gist.github.com/stevewyl/7c01203a2765641047e4b5b9fc7bf529\r\nWeiboNER& WeiboSegment \r\nhttps://gist.github.com/stevewyl/d812761ab8118ca9e5c44e5d05f9a17c\r\n\r\nEdit: I reinstall nccl by following the official instruction, the running process now showed in nvidia-smi, however, the program still not running correctly, the log still no more updating after a long while. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/452964376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false}},{"id":2064886786,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA2NDg4Njc4Ng==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2064886786","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-10T04:09:20Z","performed_via_github_app":null},{"id":2064886787,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwNjQ4ODY3ODc=","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2064886787","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-10T04:09:20Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453006416","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-453006416","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":453006416,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzAwNjQxNg==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T08:11:49Z","updated_at":"2019-01-10T08:11:49Z","author_association":"OWNER","body":"Everything seems normal. Did you encounter similar problems while training other models? ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453006416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453007068","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-453007068","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":453007068,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzAwNzA2OA==","user":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T08:14:41Z","updated_at":"2019-01-10T08:20:20Z","author_association":"NONE","body":"@JayYip  Nope. The BERT source code runs fine on single GPU.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453007068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false}},{"id":2065178828,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA2NTE3ODgyOA==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2065178828","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-10T08:14:41Z","performed_via_github_app":null},{"id":2065178829,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwNjUxNzg4Mjk=","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2065178829","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-10T08:14:41Z","performed_via_github_app":null},{"id":2065188653,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA2NTE4ODY1Mw==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2065188653","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-10T08:20:20Z","performed_via_github_app":null},{"id":2065188654,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwNjUxODg2NTQ=","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2065188654","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-10T08:20:20Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453018078","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-453018078","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":453018078,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzAxODA3OA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T08:54:49Z","updated_at":"2019-01-10T08:55:16Z","author_association":"OWNER","body":"I started from scratch. Clone repo, download pretrained checkpoint, download data, and train. Everything is fine... I am using the official tensorflow r1.12 docker image. \r\n\r\nIs this issue logging level related? The checkpoint will be saved every 10 minutes. Maybe you can let it run for like an hour and see whether there's any checkpoints. \r\n\r\nI have not encounter similar problems training this model or any other models I tried before. I am afraid that I cannot offer more help. Usually the GPU utilization is normal means at least the graph is able to run. If you figured out why, please share with me!  ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453018078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453441119","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-453441119","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":453441119,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzQ0MTExOQ==","user":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"created_at":"2019-01-11T09:06:44Z","updated_at":"2019-01-11T09:06:44Z","author_association":"NONE","body":"@JayYip Hey, buddy. Sorry to bother you yesterday. The jumper between the graphics cards is not configured. Now the program ran successfully.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453441119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false}},{"id":2067997956,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA2Nzk5Nzk1Ng==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2067997956","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-11T09:06:44Z","performed_via_github_app":null},{"id":2067997958,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIwNjc5OTc5NTg=","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2067997958","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-01-11T09:06:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453446877","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-453446877","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":453446877,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzQ0Njg3Nw==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-01-11T09:22:08Z","updated_at":"2019-01-11T09:22:08Z","author_association":"OWNER","body":"You are welcome. If you spotted any bugs, please let me know!","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453446877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453728031","html_url":"https://github.com/JayYip/m3tl/issues/7#issuecomment-453728031","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/7","id":453728031,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcyODAzMQ==","user":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false},"created_at":"2019-01-12T07:50:15Z","updated_at":"2019-01-12T07:52:13Z","author_association":"NONE","body":"@JayYip Hi, I encounter another problem. Referring to your implementation, I try to make run_classifier.py run under multiple GPUs. The program returned an error that position embedding operation cannot be run under the GPU. So I add one line in modeling.py (line 492) and ran successfully.\r\n```python\r\nif use_position_embeddings:\r\n    with tf.device('/cpu:0'): # new line\r\n      assert_op = tf.assert_less_equal(seq_length, max_position_embeddings)\r\n```\r\nBut in your implementation, you didn't change anything in modeling.py and successfully built the graph.\r\n\r\nIf I don not add that line , then the full error information is:\r\nCannot assign a device for operation bert/embeddings/assert_less_equal/Assert/Assert: Could not satisfy explicit device specification '/replica:0/task:0/device:GPU:0' because no supported kernel for GPU devices is available.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/453728031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevewyl","id":12755003,"node_id":"MDQ6VXNlcjEyNzU1MDAz","avatar_url":"https://avatars.githubusercontent.com/u/12755003?v=4","gravatar_id":"","url":"https://api.github.com/users/stevewyl","html_url":"https://github.com/stevewyl","followers_url":"https://api.github.com/users/stevewyl/followers","following_url":"https://api.github.com/users/stevewyl/following{/other_user}","gists_url":"https://api.github.com/users/stevewyl/gists{/gist_id}","starred_url":"https://api.github.com/users/stevewyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevewyl/subscriptions","organizations_url":"https://api.github.com/users/stevewyl/orgs","repos_url":"https://api.github.com/users/stevewyl/repos","events_url":"https://api.github.com/users/stevewyl/events{/privacy}","received_events_url":"https://api.github.com/users/stevewyl/received_events","type":"User","site_admin":false}},{"id":2069997670,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjA2OTk5NzY3MA==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2069997670","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-01-12T07:50:15Z","performed_via_github_app":null}]