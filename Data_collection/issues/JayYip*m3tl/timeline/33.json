[{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/558125695","html_url":"https://github.com/JayYip/m3tl/issues/33#issuecomment-558125695","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/33","id":558125695,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODEyNTY5NQ==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T12:03:58Z","updated_at":"2019-11-25T12:03:58Z","author_association":"OWNER","body":"Now you reminded me... Sorry, it's not implemented. \r\n\r\nhttps://github.com/JayYip/bert-multitask-learning/blob/9fe97739194f801e539efbadbaaf97a9c945eaaa/bert_multitask_learning/create_generators.py#L47","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/558125695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/558126667","html_url":"https://github.com/JayYip/m3tl/issues/33#issuecomment-558126667","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/33","id":558126667,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODEyNjY2Nw==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T12:06:55Z","updated_at":"2019-11-25T12:09:22Z","author_association":"OWNER","body":"Sorry, I misread your question. You can prepare something like:\r\n```python\r\n@preprocessing_fn\r\ndef proc_fn(params, mode):\r\n    return [{'a': [\"Everyone\", \"should\", \"be\", \"happy\", \".\"], 'b': [\"you're\", \"right\"]}], ['true']\r\n```","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/558126667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/570904317","html_url":"https://github.com/JayYip/m3tl/issues/33#issuecomment-570904317","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/33","id":570904317,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDkwNDMxNw==","user":{"login":"rudra0713","id":26213283,"node_id":"MDQ6VXNlcjI2MjEzMjgz","avatar_url":"https://avatars.githubusercontent.com/u/26213283?v=4","gravatar_id":"","url":"https://api.github.com/users/rudra0713","html_url":"https://github.com/rudra0713","followers_url":"https://api.github.com/users/rudra0713/followers","following_url":"https://api.github.com/users/rudra0713/following{/other_user}","gists_url":"https://api.github.com/users/rudra0713/gists{/gist_id}","starred_url":"https://api.github.com/users/rudra0713/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rudra0713/subscriptions","organizations_url":"https://api.github.com/users/rudra0713/orgs","repos_url":"https://api.github.com/users/rudra0713/repos","events_url":"https://api.github.com/users/rudra0713/events{/privacy}","received_events_url":"https://api.github.com/users/rudra0713/received_events","type":"User","site_admin":false},"created_at":"2020-01-05T11:49:59Z","updated_at":"2020-01-05T11:49:59Z","author_association":"NONE","body":"I prepared two sequences following your format, Here's an example:\r\n{'a': ['Everyone', 'should', 'not', 'be', 'happy', '.'], 'b': [\"you're\", 'right']}\r\nAfter printring tokens in add_special_tokens_with_seqs function in utils.py, I got this,\r\n`tokens ->  ['[CLS]', 'a', 'b', '[SEP]']`\r\nI was expecting 'a' and 'b' to be replaced by the original sequences. Is this okay? \r\nFor a single sequence task, when I printed tokens, I got the desired output,\r\n`tokens ->  ['[CLS]', 'marriage', 'came', 'from', 'religion', '.', '[SEP]']`","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/570904317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rudra0713","id":26213283,"node_id":"MDQ6VXNlcjI2MjEzMjgz","avatar_url":"https://avatars.githubusercontent.com/u/26213283?v=4","gravatar_id":"","url":"https://api.github.com/users/rudra0713","html_url":"https://github.com/rudra0713","followers_url":"https://api.github.com/users/rudra0713/followers","following_url":"https://api.github.com/users/rudra0713/following{/other_user}","gists_url":"https://api.github.com/users/rudra0713/gists{/gist_id}","starred_url":"https://api.github.com/users/rudra0713/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rudra0713/subscriptions","organizations_url":"https://api.github.com/users/rudra0713/orgs","repos_url":"https://api.github.com/users/rudra0713/repos","events_url":"https://api.github.com/users/rudra0713/events{/privacy}","received_events_url":"https://api.github.com/users/rudra0713/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/570996685","html_url":"https://github.com/JayYip/m3tl/issues/33#issuecomment-570996685","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/33","id":570996685,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDk5NjY4NQ==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2020-01-06T04:14:38Z","updated_at":"2020-01-06T04:15:01Z","author_association":"OWNER","body":"Maybe it's a bug. Could you confirm that the `example` argument of `create_single_problem_single_instance` is a tuple like below?\r\n\r\n```python\r\n({'a': ['Everyone', 'should', 'not', 'be', 'happy', '.'], 'b': [\"you're\", 'right']}, 'some label')\r\n```","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/570996685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/571377717","html_url":"https://github.com/JayYip/m3tl/issues/33#issuecomment-571377717","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/33","id":571377717,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTM3NzcxNw==","user":{"login":"rudra0713","id":26213283,"node_id":"MDQ6VXNlcjI2MjEzMjgz","avatar_url":"https://avatars.githubusercontent.com/u/26213283?v=4","gravatar_id":"","url":"https://api.github.com/users/rudra0713","html_url":"https://github.com/rudra0713","followers_url":"https://api.github.com/users/rudra0713/followers","following_url":"https://api.github.com/users/rudra0713/following{/other_user}","gists_url":"https://api.github.com/users/rudra0713/gists{/gist_id}","starred_url":"https://api.github.com/users/rudra0713/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rudra0713/subscriptions","organizations_url":"https://api.github.com/users/rudra0713/orgs","repos_url":"https://api.github.com/users/rudra0713/repos","events_url":"https://api.github.com/users/rudra0713/events{/privacy}","received_events_url":"https://api.github.com/users/rudra0713/received_events","type":"User","site_admin":false},"created_at":"2020-01-07T00:34:21Z","updated_at":"2020-01-07T02:07:16Z","author_association":"NONE","body":"After adding this print, this is what I have found \r\nif the Mode in the preprocessing function is 'train' or 'eval', the output of example aligns with what you mentioned,\r\n`example (from create_single_problem_single_instance function) ->  ({'a': ['we', 'Should', 'be', 'optimistic', 'about', 'the', 'future', '.'], 'b': ['Anything', 'that', 'improves', 'rush', 'hour', 'traffic', 'ca', \"n't\", 'be', 'all', 'that', 'bad', '.']}, 0)\r\ntokens (from add_special_tokens_with_seqs function)->  ['[CLS]', 'we', 'should', 'be', 'op', '##timi', '##stic', 'about', 'the', 'future', '.', '[SEP]', 'anything', 'that', 'improve', '##s', 'rus', '##h', 'hour', 'traffic', 'ca', 'n', \"##'\", '##t', 'be', 'all', 'that', 'bad', '.', '[SEP]']\r\n\r\nBut when the mode is 'infer', right before printing the accuracies of the particular task, there is no print of 'example', and tokens become like this ->\r\n`tokens ->  ['[CLS]', 'a', 'b', '[SEP]']\r\n`\r\nAlso, for the same dataset and same split, previously I got 76% accuracy with BERT model, but with the multitask setting, for that same task alone, I am getting only 48.71% accuracy.\r\n`","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/571377717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rudra0713","id":26213283,"node_id":"MDQ6VXNlcjI2MjEzMjgz","avatar_url":"https://avatars.githubusercontent.com/u/26213283?v=4","gravatar_id":"","url":"https://api.github.com/users/rudra0713","html_url":"https://github.com/rudra0713","followers_url":"https://api.github.com/users/rudra0713/followers","following_url":"https://api.github.com/users/rudra0713/following{/other_user}","gists_url":"https://api.github.com/users/rudra0713/gists{/gist_id}","starred_url":"https://api.github.com/users/rudra0713/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rudra0713/subscriptions","organizations_url":"https://api.github.com/users/rudra0713/orgs","repos_url":"https://api.github.com/users/rudra0713/repos","events_url":"https://api.github.com/users/rudra0713/events{/privacy}","received_events_url":"https://api.github.com/users/rudra0713/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/572835167","html_url":"https://github.com/JayYip/m3tl/issues/33#issuecomment-572835167","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/33","id":572835167,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjgzNTE2Nw==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2020-01-10T01:40:37Z","updated_at":"2020-01-10T01:40:37Z","author_association":"OWNER","body":"> But when the mode is 'infer', right before printing the accuracies of the particular task, there is no print of 'example', and tokens become like this ->\r\ntokens -> ['[CLS]', 'a', 'b', '[SEP]']\r\n\r\nThis is a bug. I'll fix it later. \r\n\r\n> Also, for the same dataset and same split, previously I got 76% accuracy with BERT model, but with the multitask setting, for that same task alone, I am getting only 48.71% accuracy.\r\n\r\nThat's weird. Maybe it's caused by another bug. Could you provide more info? ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/572835167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"id":2937025498,"node_id":"MDExOkNsb3NlZEV2ZW50MjkzNzAyNTQ5OA==","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2937025498","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-01-10T01:40:37Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/572835271","html_url":"https://github.com/JayYip/m3tl/issues/33#issuecomment-572835271","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/33","id":572835271,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjgzNTI3MQ==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2020-01-10T01:41:08Z","updated_at":"2020-01-10T01:41:08Z","author_association":"OWNER","body":"Sorry, accidentally closed. Reopen now. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/572835271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"id":2937026286,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyOTM3MDI2Mjg2","url":"https://api.github.com/repos/JayYip/m3tl/issues/events/2937026286","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2020-01-10T01:41:08Z","state_reason":null,"performed_via_github_app":null}]