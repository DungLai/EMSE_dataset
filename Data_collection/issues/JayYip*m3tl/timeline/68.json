[{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/692537198","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-692537198","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":692537198,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjUzNzE5OA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2020-09-15T07:54:52Z","updated_at":"2020-09-15T07:55:53Z","author_association":"OWNER","body":"This is a known issue with huggingface AutoTokenizer. You have to specify a specific tokenizer loading module:\r\n```python\r\nfrom bert_multitask_learning import DynamicBatchSizeParams\r\n\r\nparams = DynamicBatchSizeParams()\r\nparams.transformer_tokenizer_loading = 'BertTokenizer'\r\n\r\n# then pass the param to train_bert_multitask\r\n```\r\nThis is not a very good solution but does the job for now.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/692537198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/693420033","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-693420033","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":693420033,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzQyMDAzMw==","user":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false},"created_at":"2020-09-16T13:52:13Z","updated_at":"2020-09-16T13:52:13Z","author_association":"CONTRIBUTOR","body":"Thank you.  But when I made the prediction, there was another problem.\r\n'''\r\nTraceback (most recent call last):\r\n  File \"run_ner_sim_new.py\", line 105, in <module>\r\n    pred_prob = predict_bert_multitask(\r\n  File \"/data/home/likai/.conda/envs/lkai_tf2/lib/python3.8/site-packages/bert_multitask_learning/run_bert_multitask.py\", line 247, in predict_bert_multitask\r\n    pred_dataset = predict_input_fn(inputs, params)\r\n  File \"/data/home/likai/.conda/envs/lkai_tf2/lib/python3.8/site-packages/bert_multitask_learning/input_fn.py\", line 128, in predict_input_fn\r\n    first_dict = next(part_fn(example_list=tmp_iter))\r\nStopIteration\r\n...\r\nWARNING:tensorflow:A checkpoint was restored (e.g. tf.train.Checkpoint.restore or tf.keras.Model.load_weights) but not all checkpointed values were used. See above for specific issues. Use expect_partial() on the load status object, e.g. tf.train.Checkpoint.restore(...).expect_partial(), to silence these warnings, or use assert_consumed() to make the check explicit. See https://www.tensorflow.org/guide/checkpoint#loading_mechanics for details.\r\n'''\r\nMy inputs here is a list -['李白有哪些作品[SEP]诗词作品']，and the problem is ''msra_ner|sp_cls'. It contains a self-defined problem of sentence-pair classification.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/693420033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/693436767","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-693436767","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":693436767,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzQzNjc2Nw==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2020-09-16T14:18:08Z","updated_at":"2020-09-16T14:18:08Z","author_association":"OWNER","body":"Oh, this is a bug that will be triggered when the length of prediction input list is 1. Please try repeating the input list like `['李白有哪些作品[SEP]诗词作品']*5` to bypass it. I'll fix it later.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/693436767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/693750541","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-693750541","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":693750541,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc1MDU0MQ==","user":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false},"created_at":"2020-09-17T01:19:23Z","updated_at":"2020-09-17T01:19:23Z","author_association":"CONTRIBUTOR","body":"> Oh, this is a bug that will be triggered when the length of prediction input list is 1. Please try repeating the input list like `['李白有哪些作品[SEP]诗词作品']*5` to bypass it. I'll fix it later.\r\n\r\nThank you for the help. I will try again.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/693750541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/696123809","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-696123809","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":696123809,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjEyMzgwOQ==","user":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false},"created_at":"2020-09-21T13:43:47Z","updated_at":"2020-09-21T13:43:47Z","author_association":"CONTRIBUTOR","body":"Another question: \r\n`Epoch 1/5\r\n278/278 [==============================] - 104s 376ms/step - sp_cls_acc: 0.8215 - kg_ner_loss: 0.4776 - sp_cls_loss: 0.0793 - val_loss: 0.0456 - val_sp_cls_acc: 0.8332ted/_251\r\n....\r\nEpoch 5/5\r\n278/278 [==============================] - ETA: 0s - sp_cls_acc: 0.8307 - kg_ner_loss: 0.1234 - sp_cls_loss: 0.0127 - val_loss: 0.0433 - val_sp_cls_acc: 0.8326`\r\n\r\nIt is a Joint model of NER and sentence-pair classification. But when I was training the model, it wasn't show NER's accuracy, and from some examples, it didn't do very well.  ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/696123809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/696500128","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-696500128","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":696500128,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjUwMDEyOA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2020-09-22T04:18:12Z","updated_at":"2020-09-22T04:19:15Z","author_association":"OWNER","body":"Currently, only cls problem supports calculating accuracy. But implementing accuracy for seq_tag shouldn't be too difficult. Contribution is welcomed. You can start [here](https://github.com/JayYip/bert-multitask-learning/blob/a68ed5ee2163d0a2b292eccea13036e19d9f1482/bert_multitask_learning/top.py#L26).\r\n\r\nAs for the performance issue, I'll take some time to investigate. I wonder if it is related to huggingface transformers since the top layer is relatively simple.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/696500128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/696523631","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-696523631","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":696523631,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjUyMzYzMQ==","user":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false},"created_at":"2020-09-22T05:59:29Z","updated_at":"2020-09-22T05:59:29Z","author_association":"CONTRIBUTOR","body":"> Currently, only cls problem supports calculating accuracy. But implementing accuracy for seq_tag shouldn't be too difficult. Contribution is welcomed. You can start [here](https://github.com/JayYip/bert-multitask-learning/blob/a68ed5ee2163d0a2b292eccea13036e19d9f1482/bert_multitask_learning/top.py#L26).\r\n> \r\n> As for the performance issue, I'll take some time to investigate. I wonder if it is related to huggingface transformers since the top layer is relatively simple.\r\n\r\nOk, thank U.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/696523631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/697133202","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-697133202","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":697133202,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzEzMzIwMg==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2020-09-23T04:53:53Z","updated_at":"2020-09-23T04:53:53Z","author_association":"OWNER","body":"I removed a padding logic which could potentially cause a performance drop for sequence labeling, please install the latest code and give another shot. ","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/697133202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/697153174","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-697153174","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":697153174,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE1MzE3NA==","user":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false},"created_at":"2020-09-23T06:04:56Z","updated_at":"2020-09-23T06:04:56Z","author_association":"OWNER","body":"I have added the acc metric to seq_tag problem. BTW, I trained [this ner problem](https://github.com/CLUEbenchmark/CLUENER2020) for 3 epochs and judging from the results, the model is learning. \r\n![image](https://user-images.githubusercontent.com/15050572/93972797-920d5580-fda5-11ea-916f-b6bba40ca56c.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/697153174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayYip","id":15050572,"node_id":"MDQ6VXNlcjE1MDUwNTcy","avatar_url":"https://avatars.githubusercontent.com/u/15050572?v=4","gravatar_id":"","url":"https://api.github.com/users/JayYip","html_url":"https://github.com/JayYip","followers_url":"https://api.github.com/users/JayYip/followers","following_url":"https://api.github.com/users/JayYip/following{/other_user}","gists_url":"https://api.github.com/users/JayYip/gists{/gist_id}","starred_url":"https://api.github.com/users/JayYip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayYip/subscriptions","organizations_url":"https://api.github.com/users/JayYip/orgs","repos_url":"https://api.github.com/users/JayYip/repos","events_url":"https://api.github.com/users/JayYip/events{/privacy}","received_events_url":"https://api.github.com/users/JayYip/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/697257476","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-697257476","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":697257476,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzI1NzQ3Ng==","user":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false},"created_at":"2020-09-23T09:48:16Z","updated_at":"2020-09-23T09:48:34Z","author_association":"CONTRIBUTOR","body":"\r\nBravo, the problem has been solved. Thank U.","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/697257476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/697329760","html_url":"https://github.com/JayYip/m3tl/issues/68#issuecomment-697329760","issue_url":"https://api.github.com/repos/JayYip/m3tl/issues/68","id":697329760,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzMyOTc2MA==","user":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false},"created_at":"2020-09-23T12:26:00Z","updated_at":"2020-09-23T12:26:00Z","author_association":"CONTRIBUTOR","body":"Excuse me, I have a problem of sentence-pair classification. When I trained it as a single task, it had a high accuracy rate, but when I trained it as one of multi-task, it had a low accuracy rate, and the accuracy was always 0.8332. I'm puzzled by the result. Do you know the reason? Expect a response, thank you.\r\n\r\n---- Multi-task ----\r\n`Epoch 1/10\r\n759/759 [==============================] - 266s 351ms/step - sp_cls_acc: 0.8065 - sp_cls_loss: 0.0703 - msra_ner_acc: 0.8607 - msra_ner_loss: 0.3831 - val_sp_cls_acc: 0.8332 - val_msra_ner_acc: 0.9244 - val_loss: 0.1577\r\n...\r\nEpoch 10/10\r\n759/759 [==============================] - 367s 484ms/step - sp_cls_acc: 0.8329 - sp_cls_loss: 0.0045 - msra_ner_acc: 0.9530 - msra_ner_loss: 0.0903 - val_sp_cls_acc: 0.8332 - val_msra_ner_acc: 0.9523 - val_loss: 0.0793\r\n`\r\n---- Single-task ----\r\n`Epoch 1/5\r\n104/104 [==============================] - 44s 422ms/step - sp_cls_acc: 0.8311 - sp_cls_loss: 0.4513 - val_sp_cls_acc: 0.9150 - val_loss: 0.2207\r\n...\r\nEpoch 5/5\r\n104/104 [==============================] - 60s 580ms/step - sp_cls_acc: 0.9705 - sp_cls_loss: 0.0928 - val_sp_cls_acc: 0.9841 - val_loss: 0.0522\r\n`","reactions":{"url":"https://api.github.com/repos/JayYip/m3tl/issues/comments/697329760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AIikai","id":43310945,"node_id":"MDQ6VXNlcjQzMzEwOTQ1","avatar_url":"https://avatars.githubusercontent.com/u/43310945?v=4","gravatar_id":"","url":"https://api.github.com/users/AIikai","html_url":"https://github.com/AIikai","followers_url":"https://api.github.com/users/AIikai/followers","following_url":"https://api.github.com/users/AIikai/following{/other_user}","gists_url":"https://api.github.com/users/AIikai/gists{/gist_id}","starred_url":"https://api.github.com/users/AIikai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AIikai/subscriptions","organizations_url":"https://api.github.com/users/AIikai/orgs","repos_url":"https://api.github.com/users/AIikai/repos","events_url":"https://api.github.com/users/AIikai/events{/privacy}","received_events_url":"https://api.github.com/users/AIikai/received_events","type":"User","site_admin":false}}]