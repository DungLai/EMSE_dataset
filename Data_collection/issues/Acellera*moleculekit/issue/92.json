{"url":"https://api.github.com/repos/Acellera/moleculekit/issues/92","repository_url":"https://api.github.com/repos/Acellera/moleculekit","labels_url":"https://api.github.com/repos/Acellera/moleculekit/issues/92/labels{/name}","comments_url":"https://api.github.com/repos/Acellera/moleculekit/issues/92/comments","events_url":"https://api.github.com/repos/Acellera/moleculekit/issues/92/events","html_url":"https://github.com/Acellera/moleculekit/issues/92","id":1113854100,"node_id":"I_kwDOCp7fnc5CZBCU","number":92,"title":"systemprepare error","user":{"login":"MaciejMajew","id":45229025,"node_id":"MDQ6VXNlcjQ1MjI5MDI1","avatar_url":"https://avatars.githubusercontent.com/u/45229025?v=4","gravatar_id":"","url":"https://api.github.com/users/MaciejMajew","html_url":"https://github.com/MaciejMajew","followers_url":"https://api.github.com/users/MaciejMajew/followers","following_url":"https://api.github.com/users/MaciejMajew/following{/other_user}","gists_url":"https://api.github.com/users/MaciejMajew/gists{/gist_id}","starred_url":"https://api.github.com/users/MaciejMajew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaciejMajew/subscriptions","organizations_url":"https://api.github.com/users/MaciejMajew/orgs","repos_url":"https://api.github.com/users/MaciejMajew/repos","events_url":"https://api.github.com/users/MaciejMajew/events{/privacy}","received_events_url":"https://api.github.com/users/MaciejMajew/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-01-25T12:54:04Z","updated_at":"2022-01-31T12:05:18Z","closed_at":"2022-01-31T12:04:48Z","author_association":"NONE","active_lock_reason":null,"body":"I'm getting this error while using systemprepare vith 1.0.7 version of moleculekit\r\n\r\n```\r\n     23 mut.mutateResidue(\"chain D and resid \"+resid, resname)\r\n     24 \r\n---> 25 prep = systemPrepare(mut, pH=7.4)\r\n     26 prep.set(\"segid\", \"IL2\", sel=\"segid P0\")\r\n     27 prep.set(\"segid\", \"IL2B\", sel=\"segid P1\")\r\n\r\n/shared/maciej/SOFT/miniconda3/envs/htmd2.0.2/lib/python3.7/site-packages/moleculekit/tools/preparation.py in systemPrepare(mol_in, titration, pH, force_protonation, no_opt, no_prot, no_titr, hold_nonpeptidic_bonds, verbose, return_details, hydrophobic_thickness, plot_pka, ignore_ns_errors, _logger_level, _molkit_ff, outdir)\r\n    668     mol_orig = mol_in.copy()\r\n    669 \r\n--> 670     definition, forcefield = _get_custom_ff(molkit_ff=_molkit_ff)\r\n    671     definition, forcefield = _generate_nonstandard_residues_ff(\r\n    672         mol_in,\r\n\r\n/shared/maciej/SOFT/miniconda3/envs/htmd2.0.2/lib/python3.7/site-packages/moleculekit/tools/preparation_customres.py in _get_custom_ff(user_ff, molkit_ff)\r\n    315         from pdb2pqr import forcefield\r\n    316 \r\n--> 317         definition = get_definitions(aa_path=out_aa)\r\n    318         ff = forcefield.Forcefield(\"parse\", definition, out_dat, None)\r\n    319     return definition, ff\r\n\r\n/shared/maciej/SOFT/miniconda3/envs/htmd2.0.2/lib/python3.7/site-packages/pdb2pqr/io.py in get_definitions(aa_path, na_path, patch_path)\r\n    491             with open(patch_path_, \"rt\") as patch_file:\r\n    492                 definitions = defns.Definition(\r\n--> 493                     aa_file=aa_file, na_file=na_file, patch_file=patch_file\r\n    494                 )\r\n    495     return definitions\r\n\r\n/shared/maciej/SOFT/miniconda3/envs/htmd2.0.2/lib/python3.7/site-packages/pdb2pqr/definitions.py in __init__(self, aa_file, na_file, patch_file)\r\n    155                 resnames = list(self.map.keys())\r\n    156                 for name in resnames:\r\n--> 157                     regexp = re.compile(patch.applyto).match(name)\r\n    158                     if not regexp:\r\n    159                         continue\r\n\r\nTypeError: expected string or bytes-like object\r\n```","closed_by":{"login":"stefdoerr","id":7935362,"node_id":"MDQ6VXNlcjc5MzUzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/7935362?v=4","gravatar_id":"","url":"https://api.github.com/users/stefdoerr","html_url":"https://github.com/stefdoerr","followers_url":"https://api.github.com/users/stefdoerr/followers","following_url":"https://api.github.com/users/stefdoerr/following{/other_user}","gists_url":"https://api.github.com/users/stefdoerr/gists{/gist_id}","starred_url":"https://api.github.com/users/stefdoerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefdoerr/subscriptions","organizations_url":"https://api.github.com/users/stefdoerr/orgs","repos_url":"https://api.github.com/users/stefdoerr/repos","events_url":"https://api.github.com/users/stefdoerr/events{/privacy}","received_events_url":"https://api.github.com/users/stefdoerr/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Acellera/moleculekit/issues/92/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Acellera/moleculekit/issues/92/timeline","performed_via_github_app":null,"state_reason":"completed"}