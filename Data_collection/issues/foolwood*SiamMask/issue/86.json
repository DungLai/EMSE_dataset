{"url":"https://api.github.com/repos/foolwood/SiamMask/issues/86","repository_url":"https://api.github.com/repos/foolwood/SiamMask","labels_url":"https://api.github.com/repos/foolwood/SiamMask/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/foolwood/SiamMask/issues/86/comments","events_url":"https://api.github.com/repos/foolwood/SiamMask/issues/86/events","html_url":"https://github.com/foolwood/SiamMask/issues/86","id":477436969,"node_id":"MDU6SXNzdWU0Nzc0MzY5Njk=","number":86,"title":"\"bash test_mask_refine.sh config_davis.json\" output size question","user":{"login":"Hahaemmm","id":49722029,"node_id":"MDQ6VXNlcjQ5NzIyMDI5","avatar_url":"https://avatars.githubusercontent.com/u/49722029?v=4","gravatar_id":"","url":"https://api.github.com/users/Hahaemmm","html_url":"https://github.com/Hahaemmm","followers_url":"https://api.github.com/users/Hahaemmm/followers","following_url":"https://api.github.com/users/Hahaemmm/following{/other_user}","gists_url":"https://api.github.com/users/Hahaemmm/gists{/gist_id}","starred_url":"https://api.github.com/users/Hahaemmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hahaemmm/subscriptions","organizations_url":"https://api.github.com/users/Hahaemmm/orgs","repos_url":"https://api.github.com/users/Hahaemmm/repos","events_url":"https://api.github.com/users/Hahaemmm/events{/privacy}","received_events_url":"https://api.github.com/users/Hahaemmm/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-08-06T15:06:28Z","updated_at":"2019-08-13T01:38:33Z","closed_at":"2019-08-13T01:38:33Z","author_association":"NONE","active_lock_reason":null,"body":"when i try to run :\r\nbash test_mask_refine.sh config_davis.json SiamMask_DAVIS.pth DAVIS2017 0\r\n[2019-08-06 22:51:57,339-rk0-test.py#555] Namespace(arch=u'Custom', config='config_davis.json', cpu=False, dataset='DAVIS2017', debug=False, gt=False, log='log_test.txt', mask=True, refine=True, resume='SiamMask_DAVIS.pth', save_mask=False, video='', visualization=False)\r\n[2019-08-06 22:51:57,804-rk0-features.py# 66] Current training 0 layers:\r\n\r\n[2019-08-06 22:51:57,806-rk0-features.py# 66] Current training 1 layers:\r\n\r\n[2019-08-06 22:51:57,905-rk0-load_helper.py# 31] load pretrained model from SiamMask_DAVIS.pth\r\n[2019-08-06 22:52:03,409-rk0-load_helper.py# 25] remove prefix 'module.'\r\n[2019-08-06 22:52:03,414-rk0-load_helper.py# 16] [Warning] unused_pretrained_keys: set([u'features.features.layer2.2.bn1.num_batches_tracked', u'features.features.layer2.1.bn2.num_batches_tracked', u'rpn_model.loc.conv_kernel.1.num_batches_tracked', u'features.features.layer3.2.bn1.num_batches_tracked', u'rpn_model.cls.conv_search.1.num_batches_tracked', u'features.features.layer3.2.bn3.num_batches_tracked', u'features.features.layer3.1.bn2.num_batches_tracked', u'features.features.layer2.0.bn2.num_batches_tracked', u'features.features.layer2.3.bn2.num_batches_tracked', u'features.features.layer3.1.bn3.num_batches_tracked', u'rpn_model.loc.conv_search.1.num_batches_tracked', u'features.downsample.downsample.1.num_batches_tracked', u'features.features.layer1.2.bn1.num_batches_tracked', u'features.features.layer3.0.bn3.num_batches_tracked', u'features.features.layer1.1.bn3.num_batches_tracked', u'features.features.layer3.3.bn1.num_batches_tracked', u'features.features.layer1.2.bn2.num_batches_tracked', u'features.features.layer3.0.bn1.num_batches_tracked', u'mask_model.mask.conv_kernel.1.num_batches_tracked', u'features.features.layer2.3.bn3.num_batches_tracked', u'features.features.layer1.0.bn1.num_batches_tracked', u'features.features.layer3.1.bn1.num_batches_tracked', u'features.features.layer3.4.bn2.num_batches_tracked', u'features.features.layer2.3.bn1.num_batches_tracked', u'features.features.layer2.2.bn3.num_batches_tracked', u'features.features.layer1.1.bn2.num_batches_tracked', u'features.features.layer2.0.bn3.num_batches_tracked', u'features.features.layer3.4.bn1.num_batches_tracked', u'features.features.layer3.3.bn3.num_batches_tracked', u'features.features.layer1.1.bn1.num_batches_tracked', u'rpn_model.cls.conv_kernel.1.num_batches_tracked', u'features.features.layer3.3.bn2.num_batches_tracked', u'features.features.layer3.4.bn3.num_batches_tracked', u'features.features.layer2.2.bn2.num_batches_tracked', u'features.features.layer1.2.bn3.num_batches_tracked', u'rpn_model.loc.head.1.num_batches_tracked', u'features.features.layer3.5.bn3.num_batches_tracked', u'features.features.layer2.1.bn3.num_batches_tracked', u'features.features.layer1.0.downsample.1.num_batches_tracked', u'rpn_model.cls.head.1.num_batches_tracked', u'features.features.layer2.0.downsample.1.num_batches_tracked', u'features.features.layer3.0.downsample.1.num_batches_tracked', u'features.features.layer1.0.bn2.num_batches_tracked', u'features.features.bn1.num_batches_tracked', u'features.features.layer3.5.bn2.num_batches_tracked', u'features.features.layer3.5.bn1.num_batches_tracked', u'features.features.layer2.1.bn1.num_batches_tracked', u'mask_model.mask.conv_search.1.num_batches_tracked', u'features.features.layer3.2.bn2.num_batches_tracked', u'features.features.layer2.0.bn1.num_batches_tracked', u'features.features.layer3.0.bn2.num_batches_tracked', u'mask_model.mask.head.1.num_batches_tracked', u'features.features.layer1.0.bn3.num_batches_tracked'])\r\n[2019-08-06 22:52:03,415-rk0-load_helper.py# 17] unused checkpoint keys:53\r\n[2019-08-06 22:52:03,415-rk0-load_helper.py# 18] used keys:303\r\nTraceback (most recent call last):\r\n  File \"/home/caixianchen/SiamMask/tools/test.py\", line 608, in <module>\r\n    main()\r\n  File \"/home/caixianchen/SiamMask/tools/test.py\", line 589, in main\r\n    args.mask, args.refine, args.dataset in ['DAVIS2017', 'ytb_vos'], device=device)\r\n  File \"/home/caixianchen/SiamMask/tools/test.py\", line 500, in track_vos\r\n    state = siamese_track(state, im, mask_enable, refine_enable, device=device)  # track\r\n  File \"/home/caixianchen/SiamMask/tools/test.py\", line 257, in siamese_track\r\n    mask = net.track_refine((delta_y, delta_x)).to(device).sigmoid().squeeze().view(\r\n  File \"/home/caixianchen/SiamMask/experiments/siammask_sharp/custom.py\", line 189, in track_refine\r\n    pred_mask = self.refine_model(self.feature, self.corr_feature, pos=pos, test=True)\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 491, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/caixianchen/SiamMask/experiments/siammask_sharp/custom.py\", line 150, in forward\r\n    out = self.post0(F.upsample(self.h2(out) + self.v2(p2), size=(31, 31)))\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/functional.py\", line 1755, in upsample\r\n    return torch._C._nn.upsample_nearest2d(input, _scale_factor(2))\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/functional.py\", line 1727, in _scale_factor\r\n    'x'.join(map(str, input.size()))))\r\nRuntimeError: output size specified in UpsamplingNearest (31x31) has to be divisible by the input size, but got: 1x32x15x15\r\n","closed_by":{"login":"Hahaemmm","id":49722029,"node_id":"MDQ6VXNlcjQ5NzIyMDI5","avatar_url":"https://avatars.githubusercontent.com/u/49722029?v=4","gravatar_id":"","url":"https://api.github.com/users/Hahaemmm","html_url":"https://github.com/Hahaemmm","followers_url":"https://api.github.com/users/Hahaemmm/followers","following_url":"https://api.github.com/users/Hahaemmm/following{/other_user}","gists_url":"https://api.github.com/users/Hahaemmm/gists{/gist_id}","starred_url":"https://api.github.com/users/Hahaemmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hahaemmm/subscriptions","organizations_url":"https://api.github.com/users/Hahaemmm/orgs","repos_url":"https://api.github.com/users/Hahaemmm/repos","events_url":"https://api.github.com/users/Hahaemmm/events{/privacy}","received_events_url":"https://api.github.com/users/Hahaemmm/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/foolwood/SiamMask/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/foolwood/SiamMask/issues/86/timeline","performed_via_github_app":null,"state_reason":"completed"}