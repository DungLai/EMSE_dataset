{"url":"https://api.github.com/repos/jasonwei20/eda_nlp/issues/14","repository_url":"https://api.github.com/repos/jasonwei20/eda_nlp","labels_url":"https://api.github.com/repos/jasonwei20/eda_nlp/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/jasonwei20/eda_nlp/issues/14/comments","events_url":"https://api.github.com/repos/jasonwei20/eda_nlp/issues/14/events","html_url":"https://github.com/jasonwei20/eda_nlp/issues/14","id":514632528,"node_id":"MDU6SXNzdWU1MTQ2MzI1Mjg=","number":14,"title":"Random insertion is not excluding words from the stop words list","user":{"login":"Aid91","id":15079111,"node_id":"MDQ6VXNlcjE1MDc5MTEx","avatar_url":"https://avatars.githubusercontent.com/u/15079111?v=4","gravatar_id":"","url":"https://api.github.com/users/Aid91","html_url":"https://github.com/Aid91","followers_url":"https://api.github.com/users/Aid91/followers","following_url":"https://api.github.com/users/Aid91/following{/other_user}","gists_url":"https://api.github.com/users/Aid91/gists{/gist_id}","starred_url":"https://api.github.com/users/Aid91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aid91/subscriptions","organizations_url":"https://api.github.com/users/Aid91/orgs","repos_url":"https://api.github.com/users/Aid91/repos","events_url":"https://api.github.com/users/Aid91/events{/privacy}","received_events_url":"https://api.github.com/users/Aid91/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-10-30T12:33:23Z","updated_at":"2019-11-01T03:11:33Z","closed_at":"2019-11-01T03:11:33Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, thanks for the code repository and the paper! \r\n\r\nI think that the idea behind Easy Data Augmentation is helpful and I am planning to port/adapt it such that it is usable for the German language as well.\r\n\r\nBased on your paper random insertion is done in the following way:\r\n\r\n> **Random Insertion (RI):** Find a random synonym of a random word in the sentence that **is not a stop word**. Insert that synonym into a random position in the sentence. Do this _n_ times.\r\n\r\nHowever, by looking your implementation stop words are not excluded:\r\n\r\n```\r\ndef random_insertion(words, n):\r\n\tnew_words = words.copy()\r\n\tfor _ in range(n):\r\n\t\tadd_word(new_words)\r\n\treturn new_words`\r\n```\r\n```\r\ndef add_word(new_words):\r\n\tsynonyms = []\r\n\tcounter = 0\r\n\twhile len(synonyms) < 1:\r\n\t\trandom_word = new_words[random.randint(0, len(new_words)-1)]\r\n\t\tsynonyms = get_synonyms(random_word)\r\n\t\tcounter += 1\r\n\t\tif counter >= 10:\r\n\t\t\treturn\r\n\trandom_synonym = synonyms[0]\r\n\trandom_idx = random.randint(0, len(new_words)-1)\r\n\tnew_words.insert(random_idx, random_synonym)\r\n```\r\n\r\n```\r\ndef eda(sentence, alpha_sr=0.1, alpha_ri=0.1, alpha_rs=0.1, p_rd=0.1, num_aug=9):\r\n\t\r\n\tsentence = get_only_chars(sentence)\r\n\twords = sentence.split(' ')\r\n\twords = [word for word in words if word is not '']\r\n\tnum_words = len(words)\r\n\t\r\n\taugmented_sentences = []\r\n\tnum_new_per_technique = int(num_aug/4)+1\r\n\tn_sr = max(1, int(alpha_sr*num_words))\r\n\tn_ri = max(1, int(alpha_ri*num_words))\r\n\tn_rs = max(1, int(alpha_rs*num_words))\r\n         \r\n       .........\r\n\r\n\t#ri\r\n\tfor _ in range(num_new_per_technique):\r\n\t\ta_words = random_insertion(words, n_ri)\r\n\t\taugmented_sentences.append(' '.join(a_words))\r\n\r\n        .........\r\n```\r\n\r\nDo you know how this affects the final results? Thanks! ","closed_by":{"login":"jasonwei20","id":26695953,"node_id":"MDQ6VXNlcjI2Njk1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/26695953?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonwei20","html_url":"https://github.com/jasonwei20","followers_url":"https://api.github.com/users/jasonwei20/followers","following_url":"https://api.github.com/users/jasonwei20/following{/other_user}","gists_url":"https://api.github.com/users/jasonwei20/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonwei20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonwei20/subscriptions","organizations_url":"https://api.github.com/users/jasonwei20/orgs","repos_url":"https://api.github.com/users/jasonwei20/repos","events_url":"https://api.github.com/users/jasonwei20/events{/privacy}","received_events_url":"https://api.github.com/users/jasonwei20/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/jasonwei20/eda_nlp/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jasonwei20/eda_nlp/issues/14/timeline","performed_via_github_app":null,"state_reason":"completed"}