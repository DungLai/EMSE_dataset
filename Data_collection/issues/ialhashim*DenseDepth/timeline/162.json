[{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/763900695","html_url":"https://github.com/ialhashim/DenseDepth/issues/162#issuecomment-763900695","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/162","id":763900695,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzkwMDY5NQ==","user":{"login":"tomashlehmann","id":62885884,"node_id":"MDQ6VXNlcjYyODg1ODg0","avatar_url":"https://avatars.githubusercontent.com/u/62885884?v=4","gravatar_id":"","url":"https://api.github.com/users/tomashlehmann","html_url":"https://github.com/tomashlehmann","followers_url":"https://api.github.com/users/tomashlehmann/followers","following_url":"https://api.github.com/users/tomashlehmann/following{/other_user}","gists_url":"https://api.github.com/users/tomashlehmann/gists{/gist_id}","starred_url":"https://api.github.com/users/tomashlehmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomashlehmann/subscriptions","organizations_url":"https://api.github.com/users/tomashlehmann/orgs","repos_url":"https://api.github.com/users/tomashlehmann/repos","events_url":"https://api.github.com/users/tomashlehmann/events{/privacy}","received_events_url":"https://api.github.com/users/tomashlehmann/received_events","type":"User","site_admin":false},"created_at":"2021-01-20T20:07:19Z","updated_at":"2021-01-20T20:07:19Z","author_association":"NONE","body":"Hi guys, \r\nI also have a question about the pytorch code. After how many epochs the results should be similar to the results from the paper? After 20th epoch:\r\na1=0.56, a2=0.83, a3=0.93, rel=0.25, rms=1, log_10=0.11\r\nDid anyone check if the new implementation is correct and if achieved results are as good as the one from publication? \r\nI will be glad for any answer :) ","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/763900695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomashlehmann","id":62885884,"node_id":"MDQ6VXNlcjYyODg1ODg0","avatar_url":"https://avatars.githubusercontent.com/u/62885884?v=4","gravatar_id":"","url":"https://api.github.com/users/tomashlehmann","html_url":"https://github.com/tomashlehmann","followers_url":"https://api.github.com/users/tomashlehmann/followers","following_url":"https://api.github.com/users/tomashlehmann/following{/other_user}","gists_url":"https://api.github.com/users/tomashlehmann/gists{/gist_id}","starred_url":"https://api.github.com/users/tomashlehmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomashlehmann/subscriptions","organizations_url":"https://api.github.com/users/tomashlehmann/orgs","repos_url":"https://api.github.com/users/tomashlehmann/repos","events_url":"https://api.github.com/users/tomashlehmann/events{/privacy}","received_events_url":"https://api.github.com/users/tomashlehmann/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/864537141","html_url":"https://github.com/ialhashim/DenseDepth/issues/162#issuecomment-864537141","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/162","id":864537141,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDUzNzE0MQ==","user":{"login":"tanmayGIT","id":4047952,"node_id":"MDQ6VXNlcjQwNDc5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4047952?v=4","gravatar_id":"","url":"https://api.github.com/users/tanmayGIT","html_url":"https://github.com/tanmayGIT","followers_url":"https://api.github.com/users/tanmayGIT/followers","following_url":"https://api.github.com/users/tanmayGIT/following{/other_user}","gists_url":"https://api.github.com/users/tanmayGIT/gists{/gist_id}","starred_url":"https://api.github.com/users/tanmayGIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanmayGIT/subscriptions","organizations_url":"https://api.github.com/users/tanmayGIT/orgs","repos_url":"https://api.github.com/users/tanmayGIT/repos","events_url":"https://api.github.com/users/tanmayGIT/events{/privacy}","received_events_url":"https://api.github.com/users/tanmayGIT/received_events","type":"User","site_admin":false},"created_at":"2021-06-20T11:08:27Z","updated_at":"2021-06-20T14:29:54Z","author_association":"NONE","body":"Hi, \r\nI see that the authors are completely unresponsive ! Which is bizarre and not helpful. I have the same question for the PyTorch code. I don't actually understand why they did the following ?\r\n\r\nif self.is_test:\r\n        depth = self.to_tensor(depth).float() / 1000\r\nelse:\r\n        depth = self.to_tensor(depth).float() * 1000 \r\n        else:\r\n\r\nBut if you notice carefully, in \"to_tensor\" function, they normalized the values between 0-255 : return img.float().div(255). So the value becomes within 0-1. Then if you multiply any value by 1000 then definitely all the values will be between 0-1000. \r\n\r\nBut then also they did this, to make the values are within 10-1000   :\r\n        # put in the expected range\r\n        depth = torch.clamp(depth, 10, 1000)\r\n\r\nThe possible reason which I can imagine is that the reason for dividing by 1000 is they consider that no distance value will be more than 1000 (considering all the distance matrix of the complete dataset) in any way. So they decide to normalize by 1000. \r\n\r\nBut again there is no understandable reason for multiplying by 1000 for training and dividing in the case of testing. \r\n\r\nAnother point, if you carefully debug and run, then you will see that the control never enters in \"if self.is_test:\" that means they never do this operation and they always do multiplication by 1000 and never does the division by 1000.\r\n\r\nThe flow of code you can check in this order :\r\n\r\ngetTrainingTestingData(batch_size)    ->\r\ntransformed_testing = depthDatasetMemory(data, nyu2_train, transform=getNoTransform())      ->\r\ngetNoTransform(is_test=False) -> \r\nToTensor(object)  -> \r\n__init__(self, is_test=False)   ->\r\n\r\n        if self.is_test:\r\n            depth = self.to_tensor(depth).float() / 1000\r\n\r\n\r\n\r\nHence, the depth matrix gets never divided by 1000. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/864537141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tanmayGIT","id":4047952,"node_id":"MDQ6VXNlcjQwNDc5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4047952?v=4","gravatar_id":"","url":"https://api.github.com/users/tanmayGIT","html_url":"https://github.com/tanmayGIT","followers_url":"https://api.github.com/users/tanmayGIT/followers","following_url":"https://api.github.com/users/tanmayGIT/following{/other_user}","gists_url":"https://api.github.com/users/tanmayGIT/gists{/gist_id}","starred_url":"https://api.github.com/users/tanmayGIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanmayGIT/subscriptions","organizations_url":"https://api.github.com/users/tanmayGIT/orgs","repos_url":"https://api.github.com/users/tanmayGIT/repos","events_url":"https://api.github.com/users/tanmayGIT/events{/privacy}","received_events_url":"https://api.github.com/users/tanmayGIT/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/864704650","html_url":"https://github.com/ialhashim/DenseDepth/issues/162#issuecomment-864704650","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/162","id":864704650,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDcwNDY1MA==","user":{"login":"ialhashim","id":2434978,"node_id":"MDQ6VXNlcjI0MzQ5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2434978?v=4","gravatar_id":"","url":"https://api.github.com/users/ialhashim","html_url":"https://github.com/ialhashim","followers_url":"https://api.github.com/users/ialhashim/followers","following_url":"https://api.github.com/users/ialhashim/following{/other_user}","gists_url":"https://api.github.com/users/ialhashim/gists{/gist_id}","starred_url":"https://api.github.com/users/ialhashim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ialhashim/subscriptions","organizations_url":"https://api.github.com/users/ialhashim/orgs","repos_url":"https://api.github.com/users/ialhashim/repos","events_url":"https://api.github.com/users/ialhashim/events{/privacy}","received_events_url":"https://api.github.com/users/ialhashim/received_events","type":"User","site_admin":false},"created_at":"2021-06-21T03:51:33Z","updated_at":"2021-06-21T03:51:33Z","author_association":"OWNER","body":"As explicitly stated in the README. The PyTorch code is experimental, it is not supported and only provided as a courtesy and a start for others to build on.","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/864704650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ialhashim","id":2434978,"node_id":"MDQ6VXNlcjI0MzQ5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2434978?v=4","gravatar_id":"","url":"https://api.github.com/users/ialhashim","html_url":"https://github.com/ialhashim","followers_url":"https://api.github.com/users/ialhashim/followers","following_url":"https://api.github.com/users/ialhashim/following{/other_user}","gists_url":"https://api.github.com/users/ialhashim/gists{/gist_id}","starred_url":"https://api.github.com/users/ialhashim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ialhashim/subscriptions","organizations_url":"https://api.github.com/users/ialhashim/orgs","repos_url":"https://api.github.com/users/ialhashim/repos","events_url":"https://api.github.com/users/ialhashim/events{/privacy}","received_events_url":"https://api.github.com/users/ialhashim/received_events","type":"User","site_admin":false}},{"id":4914365396,"node_id":"MDExOkNsb3NlZEV2ZW50NDkxNDM2NTM5Ng==","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/4914365396","actor":{"login":"ialhashim","id":2434978,"node_id":"MDQ6VXNlcjI0MzQ5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2434978?v=4","gravatar_id":"","url":"https://api.github.com/users/ialhashim","html_url":"https://github.com/ialhashim","followers_url":"https://api.github.com/users/ialhashim/followers","following_url":"https://api.github.com/users/ialhashim/following{/other_user}","gists_url":"https://api.github.com/users/ialhashim/gists{/gist_id}","starred_url":"https://api.github.com/users/ialhashim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ialhashim/subscriptions","organizations_url":"https://api.github.com/users/ialhashim/orgs","repos_url":"https://api.github.com/users/ialhashim/repos","events_url":"https://api.github.com/users/ialhashim/events{/privacy}","received_events_url":"https://api.github.com/users/ialhashim/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-06-21T03:51:33Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/865287531","html_url":"https://github.com/ialhashim/DenseDepth/issues/162#issuecomment-865287531","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/162","id":865287531,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTI4NzUzMQ==","user":{"login":"tanmayGIT","id":4047952,"node_id":"MDQ6VXNlcjQwNDc5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4047952?v=4","gravatar_id":"","url":"https://api.github.com/users/tanmayGIT","html_url":"https://github.com/tanmayGIT","followers_url":"https://api.github.com/users/tanmayGIT/followers","following_url":"https://api.github.com/users/tanmayGIT/following{/other_user}","gists_url":"https://api.github.com/users/tanmayGIT/gists{/gist_id}","starred_url":"https://api.github.com/users/tanmayGIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanmayGIT/subscriptions","organizations_url":"https://api.github.com/users/tanmayGIT/orgs","repos_url":"https://api.github.com/users/tanmayGIT/repos","events_url":"https://api.github.com/users/tanmayGIT/events{/privacy}","received_events_url":"https://api.github.com/users/tanmayGIT/received_events","type":"User","site_admin":false},"created_at":"2021-06-21T19:26:41Z","updated_at":"2021-06-21T19:26:41Z","author_association":"NONE","body":"Thanks for the response. Could you please answer the question i.e. why the values are normalized between 10-1000. Because you did a similar operation in your original code too. \r\n\r\ndepth = torch.clamp(depth, 10, 1000)\r\n\r\nand it was also not clear why you normalize the predicted test image like this in \"/PyTorch/utils.py\" \r\n\r\ndef DepthNorm(depth, maxDepth=1000.0): \r\n    return maxDepth / depth\r\n\r\nThanks in advance for your reply. ","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/865287531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tanmayGIT","id":4047952,"node_id":"MDQ6VXNlcjQwNDc5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4047952?v=4","gravatar_id":"","url":"https://api.github.com/users/tanmayGIT","html_url":"https://github.com/tanmayGIT","followers_url":"https://api.github.com/users/tanmayGIT/followers","following_url":"https://api.github.com/users/tanmayGIT/following{/other_user}","gists_url":"https://api.github.com/users/tanmayGIT/gists{/gist_id}","starred_url":"https://api.github.com/users/tanmayGIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanmayGIT/subscriptions","organizations_url":"https://api.github.com/users/tanmayGIT/orgs","repos_url":"https://api.github.com/users/tanmayGIT/repos","events_url":"https://api.github.com/users/tanmayGIT/events{/privacy}","received_events_url":"https://api.github.com/users/tanmayGIT/received_events","type":"User","site_admin":false}}]