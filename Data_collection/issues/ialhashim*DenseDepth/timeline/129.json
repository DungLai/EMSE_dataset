[{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/640039407","html_url":"https://github.com/ialhashim/DenseDepth/issues/129#issuecomment-640039407","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/129","id":640039407,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDAzOTQwNw==","user":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false},"created_at":"2020-06-06T11:01:09Z","updated_at":"2020-06-06T11:01:09Z","author_association":"NONE","body":"Your issue is that instead of multiplying * 80 at y = pred_arr[0, :, :, 0], y_true = y * 80, you apply the DepthNorm (reciprocal of Depth) twice.\r\n\r\nYou must multiply y = pred_arr[0, :, :, 0] with *80 in order to get the real depths.\r\n\r\nPS: Did you make any change to the loss function when you trained? Mine looks like this (do not know if it's correct, but since my GT has real values between 1 and 80, maxDepthVal = 80.0:\r\n\r\n```\r\ndef depth_loss_function(y_true, y_pred, theta=0.1, maxDepthVal=80.0):\r\n    # Point-wise depth\r\n    l_depth = K.mean(K.abs(y_pred - y_true), axis=-1)\r\n\r\n    # Edges\r\n    dy_true, dx_true = tf.image.image_gradients(y_true)\r\n    dy_pred, dx_pred = tf.image.image_gradients(y_pred)\r\n    l_edges = K.mean(K.abs(dy_pred - dy_true) + K.abs(dx_pred - dx_true), axis=-1)\r\n\r\n    # Structural similarity (SSIM) index\r\n    l_ssim = K.clip((1 - tf.image.ssim(y_true, y_pred, maxDepthVal)) * 0.5, 0, 1)\r\n\r\n    # Weights\r\n    w1 = 1.0\r\n    w2 = 1.0\r\n    w3 = theta\r\n\r\n    return (w1 * l_ssim) + (w2 * K.mean(l_edges)) + (w3 * K.mean(l_depth))\r\n```","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/640039407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/640944166","html_url":"https://github.com/ialhashim/DenseDepth/issues/129#issuecomment-640944166","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/129","id":640944166,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDk0NDE2Ng==","user":{"login":"ahmeda14960","id":30680697,"node_id":"MDQ6VXNlcjMwNjgwNjk3","avatar_url":"https://avatars.githubusercontent.com/u/30680697?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmeda14960","html_url":"https://github.com/ahmeda14960","followers_url":"https://api.github.com/users/ahmeda14960/followers","following_url":"https://api.github.com/users/ahmeda14960/following{/other_user}","gists_url":"https://api.github.com/users/ahmeda14960/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmeda14960/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmeda14960/subscriptions","organizations_url":"https://api.github.com/users/ahmeda14960/orgs","repos_url":"https://api.github.com/users/ahmeda14960/repos","events_url":"https://api.github.com/users/ahmeda14960/events{/privacy}","received_events_url":"https://api.github.com/users/ahmeda14960/received_events","type":"User","site_admin":false},"created_at":"2020-06-08T23:42:48Z","updated_at":"2020-06-08T23:42:48Z","author_association":"NONE","body":"Hello Timbus,\r\n\r\nI don't think this is the case because with that change:\r\n```python\r\nexisting = 'kitti.h5'\r\ncustom_objects = {'BilinearUpSampling2D': BilinearUpSampling2D, 'depth_loss_function': None}\r\nmodel = load_model(existing, custom_objects=custom_objects, compile=False)\r\n\r\n# just test on one image\r\n# convert this image to an RGB numpy array\r\nimage_files = ['14.png']\r\ndata = load_images(image_files)\r\n\r\n\r\n# maximum depth for KITTI is 80 meters\r\nm = 80\r\npred_arr = predict(model, data, 0, 80)\r\n# output is (1, height, width, 1) for some reason\r\ny = pred_arr[0, :, :, 0]*m\r\ny_orig = 1 / y\r\n\r\nplt.imshow(y_orig, cmap='magma_r')\r\nplt.colorbar()\r\nplt.show()\r\n\r\nmono_pred_arr = np.load('14_disp.npy')\r\nground_truth = np.load('14.npy')\r\nground_truth[ground_truth < 0] = 0\r\nground_truth[ground_truth > 80] = 80\r\npred_depth = 1 / mono_pred_arr[0, 0]\r\nratio = np.median(ground_truth) / np.median(pred_depth)\r\npred_depth *= ratio\r\n\r\nplt.imshow(pred_depth, cmap='magma_r')\r\nplt.colorbar()\r\nplt.show()\r\n\r\nplt.imshow(ground_truth, cmap='magma_r')\r\nplt.colorbar()\r\nplt.show()\r\n```\r\n\r\nI get the following.\r\n\r\n![mul80](https://user-images.githubusercontent.com/30680697/84090467-e8ee4b00-a9bf-11ea-8f76-de774e1acea2.png)\r\n\r\nWhich is still not the correct range, and still shows the foreground as being further away than the background.\r\n\r\nAlso I see that the reciprocal of the depth is being applied twice here\r\n```python\r\ndef DepthNorm(x, maxDepth):\r\n    return maxDepth / x\r\n\r\ndef predict(model, images, minDepth=10, maxDepth=1000, batch_size=2):\r\n    # Support multiple RGBs, one RGB image, even grayscale \r\n    # I'm guessing this is the grayscale case\r\n    if len(images.shape) < 3: images = np.stack((images,images,images), axis=2)\r\n    # and this is for when we only have one image\r\n    if len(images.shape) < 4: images = images.reshape((1, images.shape[0], images.shape[1], images.shape[2]))\r\n    # Compute predictions\r\n    predictions = model.predict(images, batch_size=batch_size)\r\n    # Put in expected range\r\n    return np.clip(DepthNorm(predictions, maxDepth=maxDepth), minDepth, maxDepth) / maxDepth\r\n```\r\n\r\nBut the above snippet isn't my code; it's a utility function from the densedepth library and it was used in an example file to evaluate a trained model on a test image. \r\n\r\nAlso, I'm not sure I understand your last question because I didn't train a model, I used the pretrained KITTI model on this repository for inference on a single image.","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/640944166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ahmeda14960","id":30680697,"node_id":"MDQ6VXNlcjMwNjgwNjk3","avatar_url":"https://avatars.githubusercontent.com/u/30680697?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmeda14960","html_url":"https://github.com/ahmeda14960","followers_url":"https://api.github.com/users/ahmeda14960/followers","following_url":"https://api.github.com/users/ahmeda14960/following{/other_user}","gists_url":"https://api.github.com/users/ahmeda14960/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmeda14960/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmeda14960/subscriptions","organizations_url":"https://api.github.com/users/ahmeda14960/orgs","repos_url":"https://api.github.com/users/ahmeda14960/repos","events_url":"https://api.github.com/users/ahmeda14960/events{/privacy}","received_events_url":"https://api.github.com/users/ahmeda14960/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641088835","html_url":"https://github.com/ialhashim/DenseDepth/issues/129#issuecomment-641088835","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/129","id":641088835,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTA4ODgzNQ==","user":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false},"created_at":"2020-06-09T07:26:32Z","updated_at":"2020-06-09T07:29:17Z","author_association":"NONE","body":"Hello,\r\n\r\nI think you dont need to do anything to the output of the `predict` function. \r\nThe prediction of the model is \r\n`predictions = model.predict(images, batch_size=batch_size)` which is in the form of reciprocal depth. Then the code returns \r\n`np.clip(DepthNorm(predictions, maxDepth=maxDepth), minDepth, maxDepth) / maxDepth`\r\nwhich will bring the predicted value to the real scale.\r\n\r\nI think your code should be\r\n```\r\n# maximum depth for KITTI is 80 meters\r\npred_arr = predict(model, data, 0, 80)\r\npred_arr = [0,:,:,0]\r\n```","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641088835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641645490","html_url":"https://github.com/ialhashim/DenseDepth/issues/129#issuecomment-641645490","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/129","id":641645490,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTY0NTQ5MA==","user":{"login":"ahmeda14960","id":30680697,"node_id":"MDQ6VXNlcjMwNjgwNjk3","avatar_url":"https://avatars.githubusercontent.com/u/30680697?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmeda14960","html_url":"https://github.com/ahmeda14960","followers_url":"https://api.github.com/users/ahmeda14960/followers","following_url":"https://api.github.com/users/ahmeda14960/following{/other_user}","gists_url":"https://api.github.com/users/ahmeda14960/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmeda14960/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmeda14960/subscriptions","organizations_url":"https://api.github.com/users/ahmeda14960/orgs","repos_url":"https://api.github.com/users/ahmeda14960/repos","events_url":"https://api.github.com/users/ahmeda14960/events{/privacy}","received_events_url":"https://api.github.com/users/ahmeda14960/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T00:15:05Z","updated_at":"2020-06-10T00:15:05Z","author_association":"NONE","body":"Hello Aji,\r\n\r\nThank you for your suggestion! it seems to have fixed the problem where the relative depths seemed to have been inverted, but the scale is still off:\r\n![pred_out](https://user-images.githubusercontent.com/30680697/84212194-28ce3480-aa8b-11ea-9da4-10d1a7553f01.png)\r\nAs it is not in the range [0, 80] as I expected. With that being said, the obvious thing for me to do here is min-max normalization which got me the following plot:\r\n![scaled](https://user-images.githubusercontent.com/30680697/84213065-abf08a00-aa8d-11ea-8816-1892b42f8145.png)\r\nThis seems reasonable, but I'm left wondering if I'm overlooking/misunderstanding something in the code, because the predict function asked for a minimum and maximum value already, so I expected the model to output depths and not just disparities.\r\n\r\nOn a potentially unrelated note, I originally got an error that the image I was loading in had 4 channels when DenseDepth expects three channels, so I modified the \"load_images\" function from this repository by converting the image file into RGB format like so:\r\n```python\r\ndef load_images(image_files):\r\n    loaded_images = []\r\n    for file in image_files:\r\n        x = np.clip(np.asarray(Image.open( file ).convert(\"RGB\"), dtype=float) / 255, 0, 1)\r\n        loaded_images.append(x)\r\n    return np.stack(loaded_images, axis=0)\r\n```\r\n\r\nJust thought I would include this in case this lead to some weird bug with scaling that I overlooked...","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641645490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ahmeda14960","id":30680697,"node_id":"MDQ6VXNlcjMwNjgwNjk3","avatar_url":"https://avatars.githubusercontent.com/u/30680697?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmeda14960","html_url":"https://github.com/ahmeda14960","followers_url":"https://api.github.com/users/ahmeda14960/followers","following_url":"https://api.github.com/users/ahmeda14960/following{/other_user}","gists_url":"https://api.github.com/users/ahmeda14960/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmeda14960/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmeda14960/subscriptions","organizations_url":"https://api.github.com/users/ahmeda14960/orgs","repos_url":"https://api.github.com/users/ahmeda14960/repos","events_url":"https://api.github.com/users/ahmeda14960/events{/privacy}","received_events_url":"https://api.github.com/users/ahmeda14960/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641695043","html_url":"https://github.com/ialhashim/DenseDepth/issues/129#issuecomment-641695043","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/129","id":641695043,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTY5NTA0Mw==","user":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T03:17:19Z","updated_at":"2020-06-10T11:48:22Z","author_association":"NONE","body":"Hello Ahmeda,\r\n\r\nmaybe the pretrained KITTI model was not trained with `minDepth= 0` and `MaxDepth=80` but something else? \r\nAlso, correcting my initial answer, if we see the return of predict function, we see this:\r\n`return np.clip(DepthNorm(predictions, maxDepth=maxDepth), minDepth, maxDepth) / maxDepth`\r\n\r\nIt means, the range of the predicted depth is [0,1] and if you want to get the real world scale you should multiply the predicted depth with the maxDepth as suggested by @TimbusCalin.\r\n```\r\n# maximum depth for KITTI is 80 meters\r\npred_arr = predict(model, data, 0, 80)\r\npred_arr = [0,:,:,0]*80\r\n```\r\nBut again, it's strange that the predicted depth is quite off. Do you have the ground truth depth of your simulation image? Maybe you can compare it. It is the best practice to check whether the estimated depth is correct or not.\r\n\r\nAbout the edited load_images, you can always check the resulting x or image in runtime using a debugger.\r\n\r\nBest regards,\r\nAji","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641695043/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641930200","html_url":"https://github.com/ialhashim/DenseDepth/issues/129#issuecomment-641930200","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/129","id":641930200,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTkzMDIwMA==","user":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T11:07:18Z","updated_at":"2020-06-10T11:07:18Z","author_association":"NONE","body":"@resindraburiza  This is what I was also saying; at the same time, If he has problems when multiplying *80, it's related to the Ground Truth Depth of the simulation image, like you said.","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641930200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false}},{"id":3429111710,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQyOTExMTcxMA==","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3429111710","actor":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-10T11:07:18Z","performed_via_github_app":null},{"id":3429111712,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MjkxMTE3MTI=","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3429111712","actor":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-10T11:07:18Z","performed_via_github_app":null},{"id":3429250578,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQyOTI1MDU3OA==","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3429250578","actor":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-10T11:48:22Z","performed_via_github_app":null},{"id":3429250581,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MjkyNTA1ODE=","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3429250581","actor":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-10T11:48:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641951393","html_url":"https://github.com/ialhashim/DenseDepth/issues/129#issuecomment-641951393","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/129","id":641951393,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTk1MTM5Mw==","user":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false},"created_at":"2020-06-10T11:50:49Z","updated_at":"2020-06-10T11:50:49Z","author_association":"NONE","body":"Hi @TimbusCalin !\r\nI only skimmed your comment before and I didn't realize that you already said what I wanted to say. Adding a proper credit to my answer :D\r\n\r\ncheers!","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/641951393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false}},{"id":3429258968,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQyOTI1ODk2OA==","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3429258968","actor":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-10T11:50:49Z","performed_via_github_app":null},{"id":3429258970,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MjkyNTg5NzA=","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3429258970","actor":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-10T11:50:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/642868091","html_url":"https://github.com/ialhashim/DenseDepth/issues/129#issuecomment-642868091","issue_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/129","id":642868091,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mjg2ODA5MQ==","user":{"login":"ahmeda14960","id":30680697,"node_id":"MDQ6VXNlcjMwNjgwNjk3","avatar_url":"https://avatars.githubusercontent.com/u/30680697?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmeda14960","html_url":"https://github.com/ahmeda14960","followers_url":"https://api.github.com/users/ahmeda14960/followers","following_url":"https://api.github.com/users/ahmeda14960/following{/other_user}","gists_url":"https://api.github.com/users/ahmeda14960/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmeda14960/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmeda14960/subscriptions","organizations_url":"https://api.github.com/users/ahmeda14960/orgs","repos_url":"https://api.github.com/users/ahmeda14960/repos","events_url":"https://api.github.com/users/ahmeda14960/events{/privacy}","received_events_url":"https://api.github.com/users/ahmeda14960/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T18:53:43Z","updated_at":"2020-06-11T18:54:31Z","author_association":"NONE","body":"@TimbusCalin  I didn't read your answer correctly, thank you for pointing it out again. After making the modification I get the following depth map\r\n![timbus](https://user-images.githubusercontent.com/30680697/84427367-cc862480-abf2-11ea-922d-df06330e2646.png)\r\n\r\nWhich seems reasonable (up to some scaling factor). Thank you both for your help! @TimbusCalin @resindraburiza\r\n\r\nOn the note of the simulation image, indeed there is something strange going on because this is the ground depth for the scene.\r\n![ground_depth](https://user-images.githubusercontent.com/30680697/84427486-fdfef000-abf2-11ea-990b-ce200c4464f7.png)\r\n\r\nI think what's going on is that I set the Field of View for my camera settings to be too small. It's currently 30 degrees, but a while back I was working with a FOV that was 90 degrees which is probably a better fit for this network. Regardless, the issue doesn't seem to be with DenseDepth but with how I collected my data.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/comments/642868091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ahmeda14960","id":30680697,"node_id":"MDQ6VXNlcjMwNjgwNjk3","avatar_url":"https://avatars.githubusercontent.com/u/30680697?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmeda14960","html_url":"https://github.com/ahmeda14960","followers_url":"https://api.github.com/users/ahmeda14960/followers","following_url":"https://api.github.com/users/ahmeda14960/following{/other_user}","gists_url":"https://api.github.com/users/ahmeda14960/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmeda14960/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmeda14960/subscriptions","organizations_url":"https://api.github.com/users/ahmeda14960/orgs","repos_url":"https://api.github.com/users/ahmeda14960/repos","events_url":"https://api.github.com/users/ahmeda14960/events{/privacy}","received_events_url":"https://api.github.com/users/ahmeda14960/received_events","type":"User","site_admin":false}},{"id":3435518190,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQzNTUxODE5MA==","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3435518190","actor":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-11T18:53:43Z","performed_via_github_app":null},{"id":3435518196,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MzU1MTgxOTY=","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3435518196","actor":{"login":"TimbusCalin","id":23454613,"node_id":"MDQ6VXNlcjIzNDU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/23454613?v=4","gravatar_id":"","url":"https://api.github.com/users/TimbusCalin","html_url":"https://github.com/TimbusCalin","followers_url":"https://api.github.com/users/TimbusCalin/followers","following_url":"https://api.github.com/users/TimbusCalin/following{/other_user}","gists_url":"https://api.github.com/users/TimbusCalin/gists{/gist_id}","starred_url":"https://api.github.com/users/TimbusCalin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimbusCalin/subscriptions","organizations_url":"https://api.github.com/users/TimbusCalin/orgs","repos_url":"https://api.github.com/users/TimbusCalin/repos","events_url":"https://api.github.com/users/TimbusCalin/events{/privacy}","received_events_url":"https://api.github.com/users/TimbusCalin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-11T18:53:43Z","performed_via_github_app":null},{"id":3435521649,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQzNTUyMTY0OQ==","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3435521649","actor":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-11T18:54:31Z","performed_via_github_app":null},{"id":3435521652,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MzU1MjE2NTI=","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3435521652","actor":{"login":"resindraburiza","id":14196183,"node_id":"MDQ6VXNlcjE0MTk2MTgz","avatar_url":"https://avatars.githubusercontent.com/u/14196183?v=4","gravatar_id":"","url":"https://api.github.com/users/resindraburiza","html_url":"https://github.com/resindraburiza","followers_url":"https://api.github.com/users/resindraburiza/followers","following_url":"https://api.github.com/users/resindraburiza/following{/other_user}","gists_url":"https://api.github.com/users/resindraburiza/gists{/gist_id}","starred_url":"https://api.github.com/users/resindraburiza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resindraburiza/subscriptions","organizations_url":"https://api.github.com/users/resindraburiza/orgs","repos_url":"https://api.github.com/users/resindraburiza/repos","events_url":"https://api.github.com/users/resindraburiza/events{/privacy}","received_events_url":"https://api.github.com/users/resindraburiza/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-11T18:54:31Z","performed_via_github_app":null},{"id":3441127425,"node_id":"MDExOkNsb3NlZEV2ZW50MzQ0MTEyNzQyNQ==","url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/events/3441127425","actor":{"login":"ahmeda14960","id":30680697,"node_id":"MDQ6VXNlcjMwNjgwNjk3","avatar_url":"https://avatars.githubusercontent.com/u/30680697?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmeda14960","html_url":"https://github.com/ahmeda14960","followers_url":"https://api.github.com/users/ahmeda14960/followers","following_url":"https://api.github.com/users/ahmeda14960/following{/other_user}","gists_url":"https://api.github.com/users/ahmeda14960/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmeda14960/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmeda14960/subscriptions","organizations_url":"https://api.github.com/users/ahmeda14960/orgs","repos_url":"https://api.github.com/users/ahmeda14960/repos","events_url":"https://api.github.com/users/ahmeda14960/events{/privacy}","received_events_url":"https://api.github.com/users/ahmeda14960/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-06-13T20:37:56Z","state_reason":null,"performed_via_github_app":null}]