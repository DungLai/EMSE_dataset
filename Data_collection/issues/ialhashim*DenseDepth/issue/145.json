{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/145","repository_url":"https://api.github.com/repos/ialhashim/DenseDepth","labels_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/145/labels{/name}","comments_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/145/comments","events_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/145/events","html_url":"https://github.com/ialhashim/DenseDepth/issues/145","id":700632384,"node_id":"MDU6SXNzdWU3MDA2MzIzODQ=","number":145,"title":"Incremental slowing of Inference with each image","user":{"login":"3dsf","id":44537624,"node_id":"MDQ6VXNlcjQ0NTM3NjI0","avatar_url":"https://avatars.githubusercontent.com/u/44537624?v=4","gravatar_id":"","url":"https://api.github.com/users/3dsf","html_url":"https://github.com/3dsf","followers_url":"https://api.github.com/users/3dsf/followers","following_url":"https://api.github.com/users/3dsf/following{/other_user}","gists_url":"https://api.github.com/users/3dsf/gists{/gist_id}","starred_url":"https://api.github.com/users/3dsf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/3dsf/subscriptions","organizations_url":"https://api.github.com/users/3dsf/orgs","repos_url":"https://api.github.com/users/3dsf/repos","events_url":"https://api.github.com/users/3dsf/events{/privacy}","received_events_url":"https://api.github.com/users/3dsf/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-09-13T19:31:41Z","updated_at":"2020-10-02T04:30:42Z","closed_at":"2020-09-15T16:37:42Z","author_association":"NONE","active_lock_reason":null,"body":"I notice that inference slows incrementally with the inference of each image.  \r\n[run.py.txt](https://github.com/ialhashim/DenseDepth/files/5214967/run.py.txt)\r\n\r\nwith nvidia-smi, the script occupies the excess vRAM (8gb) and I presume each inference ends up fighting for memory on the card.  What direction would you recommend I pursue to mitigate this issue.\r\n\r\nThanks\r\n\r\n_edit: incremental slowing seems also to be present in cpu version but was not as noticeable_\r\n\r\n__GPU verison :__ \r\n```\r\n~/git/DenseDepth/nyu.h5  -->  loading time 9.092796073\r\n\r\nLoaded (180) images of size (480, 640)  loaded in  1.0813821029999993\r\nImage  0  finished at : 6.491642021999999\r\nImage  1  finished at : 0.23349596099999914\r\nImage  2  finished at : 0.2634309210000012\r\nImage  3  finished at : 0.3045279229999984\r\nImage  4  finished at : 0.3357483090000031\r\nImage  5  finished at : 0.3764045409999994\r\nImage  6  finished at : 0.41126781399999857\r\nImage  7  finished at : 0.4501484090000005\r\nImage  8  finished at : 0.4878527109999986\r\nImage  9  finished at : 0.5331705249999992\r\nImage  10  finished at : 0.5667452949999969\r\nImage  11  finished at : 0.596785870999998\r\nImage  12  finished at : 0.6326670340000007\r\nImage  13  finished at : 0.6698179260000003\r\nImage  14  finished at : 0.7078883320000031\r\nImage  15  finished at : 0.7382197829999981\r\nImage  16  finished at : 0.7853032930000019\r\nImage  17  finished at : 0.8254947440000002\r\nImage  18  finished at : 0.8596937370000006\r\nImage  19  finished at : 0.8943186870000019\r\nImage  20  finished at : 0.9382032120000012\r\nImage  21  finished at : 0.9705850530000006\r\nImage  22  finished at : 1.007154877999998\r\nImage  23  finished at : 1.0374596680000003\r\nImage  24  finished at : 1.0856798940000019\r\nImage  25  finished at : 1.1315344890000034\r\nImage  26  finished at : 1.1564165610000003\r\n```\r\n__cpu verison :__ \r\n```\r\n ~/git/DenseDepth/nyu.h5  -->  loading time 27.671262805\r\n\r\nLoaded (180) images of size (480, 640)  loaded in  0.9829827989999984\r\nImage  0  finished at : 18.129281445\r\nImage  1  finished at : 15.717587403000003\r\nImage  2  finished at : 15.706795373999995\r\nImage  3  finished at : 15.73168575999999\r\nImage  4  finished at : 15.766405479999989\r\nImage  5  finished at : 15.84176023500001\r\nImage  6  finished at : 15.860853317000007\r\nImage  7  finished at : 15.920388451999997\r\nImage  8  finished at : 15.931708080999982\r\nImage  9  finished at : 15.969125571000006\r\nImage  10  finished at : 16.034800738\r\nImage  11  finished at : 16.033931928000015\r\nImage  12  finished at : 16.124076593000012\r\nImage  13  finished at : 16.126775788000003\r\nImage  14  finished at : 16.19574586799999\r\nImage  15  finished at : 16.189003654000032\r\nImage  16  finished at : 16.27192721099999\r\nImage  17  finished at : 16.268307161999985\r\n```","closed_by":{"login":"ialhashim","id":2434978,"node_id":"MDQ6VXNlcjI0MzQ5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2434978?v=4","gravatar_id":"","url":"https://api.github.com/users/ialhashim","html_url":"https://github.com/ialhashim","followers_url":"https://api.github.com/users/ialhashim/followers","following_url":"https://api.github.com/users/ialhashim/following{/other_user}","gists_url":"https://api.github.com/users/ialhashim/gists{/gist_id}","starred_url":"https://api.github.com/users/ialhashim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ialhashim/subscriptions","organizations_url":"https://api.github.com/users/ialhashim/orgs","repos_url":"https://api.github.com/users/ialhashim/repos","events_url":"https://api.github.com/users/ialhashim/events{/privacy}","received_events_url":"https://api.github.com/users/ialhashim/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ialhashim/DenseDepth/issues/145/timeline","performed_via_github_app":null,"state_reason":"completed"}