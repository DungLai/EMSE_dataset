[{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/464832971","html_url":"https://github.com/oxwhirl/smac/issues/2#issuecomment-464832971","issue_url":"https://api.github.com/repos/oxwhirl/smac/issues/2","id":464832971,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDgzMjk3MQ==","user":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false},"created_at":"2019-02-18T18:14:33Z","updated_at":"2019-02-18T18:14:33Z","author_association":"COLLABORATOR","body":"Hi there!\r\n\r\nDid you re-install the smac package after making the changes in the codebase?","reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/464832971/reactions","total_count":2,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/464836779","html_url":"https://github.com/oxwhirl/smac/issues/2#issuecomment-464836779","issue_url":"https://api.github.com/repos/oxwhirl/smac/issues/2","id":464836779,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDgzNjc3OQ==","user":{"login":"SoyGema","id":24204714,"node_id":"MDQ6VXNlcjI0MjA0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/24204714?v=4","gravatar_id":"","url":"https://api.github.com/users/SoyGema","html_url":"https://github.com/SoyGema","followers_url":"https://api.github.com/users/SoyGema/followers","following_url":"https://api.github.com/users/SoyGema/following{/other_user}","gists_url":"https://api.github.com/users/SoyGema/gists{/gist_id}","starred_url":"https://api.github.com/users/SoyGema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoyGema/subscriptions","organizations_url":"https://api.github.com/users/SoyGema/orgs","repos_url":"https://api.github.com/users/SoyGema/repos","events_url":"https://api.github.com/users/SoyGema/events{/privacy}","received_events_url":"https://api.github.com/users/SoyGema/received_events","type":"User","site_admin":false},"created_at":"2019-02-18T18:29:55Z","updated_at":"2019-02-18T18:29:55Z","author_association":"NONE","body":"Hi !\r\nThanks for the response .\r\nNo , I didn¬¥t . Will definetly try and let you know, many thanks for your speed!\r\n\r\nI am digging into `smac/smac/env/starcraft2/starcraft2.py` and adding in #MapInfo some relevant info about the units in the custom map .\r\n\r\nLn: 254 \r\n```\r\n        self.marine_id = self.hellion_id = self.reaper_id = self.marauder_id = self.medivac_id = 0\r\n```\r\n\r\nLn : 256\r\n```\r\n        self.stalker_id = self.sentry_id = self.colossus_id = self.zealot_id = 0\r\n```\r\nRegarding the actions in [Ln:45](https://github.com/oxwhirl/smac/blob/d8b11503f6df5b9274d98a9f61631bda0677fd1f/smac/env/starcraft2/starcraft2.py#L45) from `smac/smac/env/starcraft2/starcraft2.py` I was thinking in add the special ability from sentry so the multiagent setup might allow sentry units to learn guardian shields, hallucinations or sentry defense . However, the number (id) doesn¬¥t match[ pysc2 functions ID ](https://github.com/deepmind/pysc2/blob/a9f093493c4c77adb385602790a480e7f238b97d/pysc2/lib/actions.py#L450) .  ( e.g : in SMAC, attack is 23, and in pysc2 attack is 12 ) Am I identifying correctly the setup for adding complexity to the actin space? \r\n\r\nMany thanks again ! üëç \r\n\r\n","reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/464836779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SoyGema","id":24204714,"node_id":"MDQ6VXNlcjI0MjA0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/24204714?v=4","gravatar_id":"","url":"https://api.github.com/users/SoyGema","html_url":"https://github.com/SoyGema","followers_url":"https://api.github.com/users/SoyGema/followers","following_url":"https://api.github.com/users/SoyGema/following{/other_user}","gists_url":"https://api.github.com/users/SoyGema/gists{/gist_id}","starred_url":"https://api.github.com/users/SoyGema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoyGema/subscriptions","organizations_url":"https://api.github.com/users/SoyGema/orgs","repos_url":"https://api.github.com/users/SoyGema/repos","events_url":"https://api.github.com/users/SoyGema/events{/privacy}","received_events_url":"https://api.github.com/users/SoyGema/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/464840557","html_url":"https://github.com/oxwhirl/smac/issues/2#issuecomment-464840557","issue_url":"https://api.github.com/repos/oxwhirl/smac/issues/2","id":464840557,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDg0MDU1Nw==","user":{"login":"SoyGema","id":24204714,"node_id":"MDQ6VXNlcjI0MjA0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/24204714?v=4","gravatar_id":"","url":"https://api.github.com/users/SoyGema","html_url":"https://github.com/SoyGema","followers_url":"https://api.github.com/users/SoyGema/followers","following_url":"https://api.github.com/users/SoyGema/following{/other_user}","gists_url":"https://api.github.com/users/SoyGema/gists{/gist_id}","starred_url":"https://api.github.com/users/SoyGema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoyGema/subscriptions","organizations_url":"https://api.github.com/users/SoyGema/orgs","repos_url":"https://api.github.com/users/SoyGema/repos","events_url":"https://api.github.com/users/SoyGema/events{/privacy}","received_events_url":"https://api.github.com/users/SoyGema/received_events","type":"User","site_admin":false},"created_at":"2019-02-18T18:45:25Z","updated_at":"2019-02-18T18:45:25Z","author_association":"NONE","body":"Mikayel , \r\nPlease, let me take a more deep approach into the action space and I will go back to you with a more thoughtfull and studied approach.\r\nSorry for the inconvenience caused for adding other functionality to the issue ","reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/464840557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SoyGema","id":24204714,"node_id":"MDQ6VXNlcjI0MjA0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/24204714?v=4","gravatar_id":"","url":"https://api.github.com/users/SoyGema","html_url":"https://github.com/SoyGema","followers_url":"https://api.github.com/users/SoyGema/followers","following_url":"https://api.github.com/users/SoyGema/following{/other_user}","gists_url":"https://api.github.com/users/SoyGema/gists{/gist_id}","starred_url":"https://api.github.com/users/SoyGema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoyGema/subscriptions","organizations_url":"https://api.github.com/users/SoyGema/orgs","repos_url":"https://api.github.com/users/SoyGema/repos","events_url":"https://api.github.com/users/SoyGema/events{/privacy}","received_events_url":"https://api.github.com/users/SoyGema/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/465044712","html_url":"https://github.com/oxwhirl/smac/issues/2#issuecomment-465044712","issue_url":"https://api.github.com/repos/oxwhirl/smac/issues/2","id":465044712,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTA0NDcxMg==","user":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false},"created_at":"2019-02-19T08:56:19Z","updated_at":"2019-02-19T08:56:19Z","author_association":"COLLABORATOR","body":"The actions indices that we use actually correspond to the 4th parameter of the Function.ability's from pysc2. For instance, [Attack is 23](https://github.com/deepmind/pysc2/blob/a9f093493c4c77adb385602790a480e7f238b97d/pysc2/lib/actions.py#L473), [Stop is 4th](https://github.com/deepmind/pysc2/blob/a9f093493c4c77adb385602790a480e7f238b97d/pysc2/lib/actions.py#L939), [Move is 16](https://github.com/deepmind/pysc2/blob/a9f093493c4c77adb385602790a480e7f238b97d/pysc2/lib/actions.py#L813), etc.\r\n\r\nWould be great to have additional skills such as the guardian shields, etc.\r\nFor a given `unit`, the available actions can be queried using the following commands:\r\n\r\n```\r\nfrom s2clientprotocol import query_pb2 as q_pb\r\n...\r\nself._controller.query(q_pb.RequestQuery(abilities=[q_pb.RequestQueryAvailableAbilities(unit_tag=unit.tag)]))\r\n```\r\n\r\nThe query command is currently not a part of the remote controller. However, you can find it in my [pysc2 PR](https://github.com/deepmind/pysc2/pull/257).\r\n\r\nI remember trying to use the Sentry's guardian shield long time ago, but it was not working. Maybe with the recent fixes of pysc2, it would be possible.","reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/465044712/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false}},{"id":2149277331,"node_id":"MDExOkNsb3NlZEV2ZW50MjE0OTI3NzMzMQ==","url":"https://api.github.com/repos/oxwhirl/smac/issues/events/2149277331","actor":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-02-19T15:48:11Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/467124200","html_url":"https://github.com/oxwhirl/smac/issues/2#issuecomment-467124200","issue_url":"https://api.github.com/repos/oxwhirl/smac/issues/2","id":467124200,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzEyNDIwMA==","user":{"login":"SoyGema","id":24204714,"node_id":"MDQ6VXNlcjI0MjA0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/24204714?v=4","gravatar_id":"","url":"https://api.github.com/users/SoyGema","html_url":"https://github.com/SoyGema","followers_url":"https://api.github.com/users/SoyGema/followers","following_url":"https://api.github.com/users/SoyGema/following{/other_user}","gists_url":"https://api.github.com/users/SoyGema/gists{/gist_id}","starred_url":"https://api.github.com/users/SoyGema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoyGema/subscriptions","organizations_url":"https://api.github.com/users/SoyGema/orgs","repos_url":"https://api.github.com/users/SoyGema/repos","events_url":"https://api.github.com/users/SoyGema/events{/privacy}","received_events_url":"https://api.github.com/users/SoyGema/received_events","type":"User","site_admin":false},"created_at":"2019-02-25T18:29:35Z","updated_at":"2019-02-25T18:29:35Z","author_association":"NONE","body":"Mikayel ,\r\nHope you are doing well. My apologies for reaching you again with an issue related with this .\r\nIve come to add the query PR to `pysc2/lib/remote_controler.py` sucessfully and the line showed above `self._controller.query(q_pb.RequestQuery(abilities=[q_pb.RequestQueryAvailableAbilities(unit_tag=unit.tag)]))` with the import statement\r\n\r\nHowever, the error displays \r\n\r\n```\r\nFile \"/Users/SMAC/smac/smac/examples/random_agents.py\", line 19, in main\r\n    env.reset()\r\n  File \"/Users/SMAC/smac/smac/env/starcraft2/starcraft2.py\", line 338, in reset\r\n    self._launch()\r\n  File \"/Users/SMAC/smac/smac/env/starcraft2/starcraft2.py\", line 313, in _launch\r\nself._controller.query(q_pb.RequestQuery(abilities=[q_pb.RequestQueryAvailableAbilities(unit_tag=unit.tag)]))\r\nNameError: name 'unit' is not defined\r\n```\r\n\r\nI¬¥m guessing **I am not understanding the 'unit' concept correctly**.\r\nBeen however in sc2client repository and couldn¬¥t find the exact guidance about this. Should it be exactly oriented to sentry unit ? \r\n\r\nWould you mind point me in the right direction regarding this? \r\nThanks so much .  üëç \r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/467124200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SoyGema","id":24204714,"node_id":"MDQ6VXNlcjI0MjA0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/24204714?v=4","gravatar_id":"","url":"https://api.github.com/users/SoyGema","html_url":"https://github.com/SoyGema","followers_url":"https://api.github.com/users/SoyGema/followers","following_url":"https://api.github.com/users/SoyGema/following{/other_user}","gists_url":"https://api.github.com/users/SoyGema/gists{/gist_id}","starred_url":"https://api.github.com/users/SoyGema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoyGema/subscriptions","organizations_url":"https://api.github.com/users/SoyGema/orgs","repos_url":"https://api.github.com/users/SoyGema/repos","events_url":"https://api.github.com/users/SoyGema/events{/privacy}","received_events_url":"https://api.github.com/users/SoyGema/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/467766582","html_url":"https://github.com/oxwhirl/smac/issues/2#issuecomment-467766582","issue_url":"https://api.github.com/repos/oxwhirl/smac/issues/2","id":467766582,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzc2NjU4Mg==","user":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false},"created_at":"2019-02-27T08:17:42Z","updated_at":"2019-02-27T08:17:42Z","author_association":"COLLABORATOR","body":"Hi there,\r\n\r\nSo by `unit` I meant the data structure that contains information about a given unit, such as health, location, tag, etc. We receive these as observations from sc2client when the `raw` interface is being used.\r\n\r\nWe store these unit structures in `self.agents`. So for our i-th unit, we can get its tag by `self.agents[i].tag` command. So the call would look like this\r\n\r\n```python\r\nself._controller.query(q_pb.RequestQuery(abilities[q_pb.RequestQueryAvailableAbilities(unit_tag=self.agents[i].tag)]))\r\n```\r\n\r\nwhere i should match the unit corresponding to a Sentry. You could print it for all units by just iterating through all agents *after* `self.init_units()` function is called.\r\n\r\nSorry that this required more work than expected. Let me know if you have any further questions.\r\n\r\nBest wishes,\r\nMika","reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/467766582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/473025651","html_url":"https://github.com/oxwhirl/smac/issues/2#issuecomment-473025651","issue_url":"https://api.github.com/repos/oxwhirl/smac/issues/2","id":473025651,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzAyNTY1MQ==","user":{"login":"SoyGema","id":24204714,"node_id":"MDQ6VXNlcjI0MjA0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/24204714?v=4","gravatar_id":"","url":"https://api.github.com/users/SoyGema","html_url":"https://github.com/SoyGema","followers_url":"https://api.github.com/users/SoyGema/followers","following_url":"https://api.github.com/users/SoyGema/following{/other_user}","gists_url":"https://api.github.com/users/SoyGema/gists{/gist_id}","starred_url":"https://api.github.com/users/SoyGema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoyGema/subscriptions","organizations_url":"https://api.github.com/users/SoyGema/orgs","repos_url":"https://api.github.com/users/SoyGema/repos","events_url":"https://api.github.com/users/SoyGema/events{/privacy}","received_events_url":"https://api.github.com/users/SoyGema/received_events","type":"User","site_admin":false},"created_at":"2019-03-14T19:31:59Z","updated_at":"2019-03-14T19:33:56Z","author_association":"NONE","body":"Hey Mika,\r\nHope everything is going ok . Thanks again for all the support ! \r\n\r\nAs I understood for your comment, [i] might be associated to the unit(agent) corresponding to a Sentry. \r\n\r\n- `self.agents` is an empty dictionary that will store unit data structures when the game is launched, defined [here](https://github.com/oxwhirl/smac/blob/master/smac/env/starcraft2/starcraft2.py#L237) \r\n\r\n\r\n- If we have 4 units(agents) that might act cooperativetly , the tag might be \r\n```\r\nself._controller.query(q_pb.RequestQuery(abilities[q_pb.RequestQueryAvailableAbilities(unit_tag=self.agents[4].tag)]))\r\n```\r\n- Or is it related to [pysc2/lib/units.py](https://github.com/deepmind/pysc2/blob/master/pysc2/lib/units.py#L119) meaning that the call is, in this case because of the sentry unit being 77 ??\r\n```\r\nself._controller.query(q_pb.RequestQuery(abilities[q_pb.RequestQueryAvailableAbilities(unit_tag=self.agents[77].tag)]))\r\n```\r\nI¬¥ve actually tried both , and it displays a key error in both cases : \r\n\r\n```\r\nself._launch()\r\n  File \"/SMAC/smac/smac/env/starcraft2/starcraft2.py\", line 313, in _launch\r\n    self._controller.query(q_pb.RequestQuery(abilities=[q_pb.RequestQueryAvailableAbilities(unit_tag=self.agents[4].tag)]))\r\nKeyError: 4\r\n```\r\n\r\nPlease Note that in this case all the units are sentry units. \r\n\r\nI¬¥ve also noted that your map desing is different from the mini-games designed in the pysc2 released, and the reward is included as a parameter in [starcraft.py](https://github.com/oxwhirl/smac/blob/master/smac/env/starcraft2/starcraft2.py#L138-L162)\r\n . Do you recommend to simplify the map version in terms of mimiquing information from SMAC_Maps ? \r\n\r\n\r\nI apologize if my block is causing extra effort for you as I am getting familliar with this .\r\n\r\nü•á Thanks so much and congratulations again in this extensive and detailed piece of OpenSource Software , and for pushing the boundaries to research and understand how cooperation works . \r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/473025651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SoyGema","id":24204714,"node_id":"MDQ6VXNlcjI0MjA0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/24204714?v=4","gravatar_id":"","url":"https://api.github.com/users/SoyGema","html_url":"https://github.com/SoyGema","followers_url":"https://api.github.com/users/SoyGema/followers","following_url":"https://api.github.com/users/SoyGema/following{/other_user}","gists_url":"https://api.github.com/users/SoyGema/gists{/gist_id}","starred_url":"https://api.github.com/users/SoyGema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoyGema/subscriptions","organizations_url":"https://api.github.com/users/SoyGema/orgs","repos_url":"https://api.github.com/users/SoyGema/repos","events_url":"https://api.github.com/users/SoyGema/events{/privacy}","received_events_url":"https://api.github.com/users/SoyGema/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/473226569","html_url":"https://github.com/oxwhirl/smac/issues/2#issuecomment-473226569","issue_url":"https://api.github.com/repos/oxwhirl/smac/issues/2","id":473226569,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzIyNjU2OQ==","user":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false},"created_at":"2019-03-15T10:00:33Z","updated_at":"2019-03-15T10:00:33Z","author_association":"COLLABORATOR","body":"Many thanks for your kinds words. I'm very happy to help.\r\n\r\nAs I've said in the previous comment, you should take a look at `self.agents` *after*  `self.init_units()` function is called. The `self.agents` will then become a dictionary containing n_agent entries. For `3m` map, for instance, the `self.agents` might look like this:\r\n\r\n```\r\n{0: display_type: Visible\r\nalliance: Self\r\ntag: 4295229441\r\nunit_type: 1957\r\nowner: 1\r\npos {\r\n  x: 9.0\r\n  y: 15.3115234375\r\n  z: 7.99609375\r\n}\r\nfacing: 4.71238899230957\r\nradius: 0.375\r\nbuild_progress: 1.0\r\ncloak: NotCloaked\r\nis_selected: false\r\nis_on_screen: false\r\nis_blip: false\r\nhealth: 45.0\r\nhealth_max: 45.0\r\nshield: 0.0\r\nenergy: 0.0\r\nis_flying: false\r\nis_burrowed: false\r\nassigned_harvesters: 0\r\nideal_harvesters: 0\r\nweapon_cooldown: 0.0\r\nshield_max: 0.0\r\nenergy_max: 0.0\r\nis_hallucination: false\r\n, 1: display_type: Visible\r\nalliance: Self\r\ntag: 4294967297\r\nunit_type: 1957\r\nowner: 1\r\npos {\r\n  x: 9.0\r\n  y: 16.0\r\n  z: 7.99609375\r\n}\r\nfacing: 4.71238899230957\r\nradius: 0.375\r\nbuild_progress: 1.0\r\ncloak: NotCloaked\r\nis_selected: false\r\nis_on_screen: false\r\nis_blip: false\r\nhealth: 45.0\r\nhealth_max: 45.0\r\nshield: 0.0\r\nenergy: 0.0\r\nis_flying: false\r\nis_burrowed: false\r\nassigned_harvesters: 0\r\nideal_harvesters: 0\r\nweapon_cooldown: 0.0\r\nshield_max: 0.0\r\nenergy_max: 0.0\r\nis_hallucination: false\r\n, 2: display_type: Visible\r\nalliance: Self\r\ntag: 4295491585\r\nunit_type: 1957\r\nowner: 1\r\npos {\r\n  x: 9.6884765625\r\n  y: 16.0\r\n  z: 7.99609375\r\n}\r\nfacing: 4.71238899230957\r\nradius: 0.375\r\nbuild_progress: 1.0\r\ncloak: NotCloaked\r\nis_selected: false\r\nis_on_screen: false\r\nis_blip: false\r\nhealth: 45.0\r\nhealth_max: 45.0\r\nshield: 0.0\r\nenergy: 0.0\r\nis_flying: false\r\nis_burrowed: false\r\nassigned_harvesters: 0\r\nideal_harvesters: 0\r\nweapon_cooldown: 0.0\r\nshield_max: 0.0\r\nenergy_max: 0.0\r\nis_hallucination: false\r\n}\r\n```\r\n\r\nHence, \r\n- it contains only n_agent entries. Thus, index 4 is out of range in your case since the indices start from 0.\r\n- self.agent[i]  contains all information about about i-th unit (indices need to be from 0 to 3 in your case, since you have 4 sentries), such as health, shield, position, weapon cooldown, etc.\r\n- you can notice the `tag` field in this structure. This is the `unit_tag` argument to be used by the query command above!\r\n\r\nYou are correct to notice that we don't use the rewards similar to mini-games released with pysc2. Instead, we provide options to construct different team rewards.\r\n\r\nI hope this makes sense now. Let me know if you have any further questions.\r\n\r\nRegards,\r\nMika","reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/comments/473226569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false}}]