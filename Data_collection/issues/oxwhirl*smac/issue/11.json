{"url":"https://api.github.com/repos/oxwhirl/smac/issues/11","repository_url":"https://api.github.com/repos/oxwhirl/smac","labels_url":"https://api.github.com/repos/oxwhirl/smac/issues/11/labels{/name}","comments_url":"https://api.github.com/repos/oxwhirl/smac/issues/11/comments","events_url":"https://api.github.com/repos/oxwhirl/smac/issues/11/events","html_url":"https://github.com/oxwhirl/smac/issues/11","id":451039573,"node_id":"MDU6SXNzdWU0NTEwMzk1NzM=","number":11,"title":"pathing_grid issue","user":{"login":"Zymrael","id":34561392,"node_id":"MDQ6VXNlcjM0NTYxMzky","avatar_url":"https://avatars.githubusercontent.com/u/34561392?v=4","gravatar_id":"","url":"https://api.github.com/users/Zymrael","html_url":"https://github.com/Zymrael","followers_url":"https://api.github.com/users/Zymrael/followers","following_url":"https://api.github.com/users/Zymrael/following{/other_user}","gists_url":"https://api.github.com/users/Zymrael/gists{/gist_id}","starred_url":"https://api.github.com/users/Zymrael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zymrael/subscriptions","organizations_url":"https://api.github.com/users/Zymrael/orgs","repos_url":"https://api.github.com/users/Zymrael/repos","events_url":"https://api.github.com/users/Zymrael/events{/privacy}","received_events_url":"https://api.github.com/users/Zymrael/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-06-01T03:37:05Z","updated_at":"2019-06-26T14:06:41Z","closed_at":"2019-06-26T14:06:41Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"New version of SCII is causing problems to several APIs (smac included). The first problem caused by the update seems to be related to the pathing grid's shape (data values have been turned into bits). \r\n\r\n```\r\nbits_per_pixel: 1\r\nsize {\r\n  x: 32\r\n  y: 32\r\n}\r\ndata: \"\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374?\\377\\377\\374\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\"\r\n\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-bbe461e77b17> in <module>\r\n      5 \r\n      6 for e in range(n_episodes):\r\n----> 7     env.reset()\r\n      8     terminated = False\r\n      9     episode_reward = 0\r\n\r\n~\\.conda\\envs\\rl\\lib\\site-packages\\smac\\env\\starcraft2\\starcraft2.py in reset(self)\r\n    320         if self._episode_count == 0:\r\n    321             # Launch StarCraft II\r\n--> 322             self._launch()\r\n    323         else:\r\n    324             self._restart()\r\n\r\n~\\.conda\\envs\\rl\\lib\\site-packages\\smac\\env\\starcraft2\\starcraft2.py in _launch(self)\r\n    311         self.pathing_grid = np.flip(\r\n    312             np.transpose(np.array(list(map_info.pathing_grid.data))\r\n--> 313                 .reshape(self.map_x, self.map_y)), 1) / 255\r\n    314 \r\n    315     def reset(self):\r\n\r\nValueError: cannot reshape array of size 128 into shape (32,32)\r\n```\r\nOther users are encountering similar problems when using python-sc2: https://github.com/Dentosal/python-sc2/issues/283\r\n\r\n> Things were working well until StarCraft2 version 4.8.4.\r\n> In 4.8.5, the pixelmap changed and self.state.upgrades stopped working. Thus, self.already_pending_upgrade(UPGRADEID) stopped working if the upgrade was completely researched (should return 1, but returns 0 instead).\r\n> self.state.upgrades was fixed in SC2 version 4.9.0.\r\n> \r\n> The master branch of this library is working for SC2 version 4.8.4, while the develop branch fixed the issues with pixelmap introduced in 4.8.5 (and is the same in 4.8.6). Pixelmaps were starting in the top left but are now starting in the bottom left, so they were flipped in y-axis. Also pixelmap values changed from bytes to bits (like pathing grid, placement grid, and in 4.9.0 also creep map).","closed_by":{"login":"samvelyan","id":9724413,"node_id":"MDQ6VXNlcjk3MjQ0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9724413?v=4","gravatar_id":"","url":"https://api.github.com/users/samvelyan","html_url":"https://github.com/samvelyan","followers_url":"https://api.github.com/users/samvelyan/followers","following_url":"https://api.github.com/users/samvelyan/following{/other_user}","gists_url":"https://api.github.com/users/samvelyan/gists{/gist_id}","starred_url":"https://api.github.com/users/samvelyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samvelyan/subscriptions","organizations_url":"https://api.github.com/users/samvelyan/orgs","repos_url":"https://api.github.com/users/samvelyan/repos","events_url":"https://api.github.com/users/samvelyan/events{/privacy}","received_events_url":"https://api.github.com/users/samvelyan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/oxwhirl/smac/issues/11/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/oxwhirl/smac/issues/11/timeline","performed_via_github_app":null,"state_reason":"completed"}