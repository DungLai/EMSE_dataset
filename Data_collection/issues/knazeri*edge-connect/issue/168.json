{"url":"https://api.github.com/repos/knazeri/edge-connect/issues/168","repository_url":"https://api.github.com/repos/knazeri/edge-connect","labels_url":"https://api.github.com/repos/knazeri/edge-connect/issues/168/labels{/name}","comments_url":"https://api.github.com/repos/knazeri/edge-connect/issues/168/comments","events_url":"https://api.github.com/repos/knazeri/edge-connect/issues/168/events","html_url":"https://github.com/knazeri/edge-connect/issues/168","id":793551000,"node_id":"MDU6SXNzdWU3OTM1NTEwMDA=","number":168,"title":"Executing the edge-connect model in Windows 10","user":{"login":"Sicily-F","id":68450039,"node_id":"MDQ6VXNlcjY4NDUwMDM5","avatar_url":"https://avatars.githubusercontent.com/u/68450039?v=4","gravatar_id":"","url":"https://api.github.com/users/Sicily-F","html_url":"https://github.com/Sicily-F","followers_url":"https://api.github.com/users/Sicily-F/followers","following_url":"https://api.github.com/users/Sicily-F/following{/other_user}","gists_url":"https://api.github.com/users/Sicily-F/gists{/gist_id}","starred_url":"https://api.github.com/users/Sicily-F/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sicily-F/subscriptions","organizations_url":"https://api.github.com/users/Sicily-F/orgs","repos_url":"https://api.github.com/users/Sicily-F/repos","events_url":"https://api.github.com/users/Sicily-F/events{/privacy}","received_events_url":"https://api.github.com/users/Sicily-F/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-01-25T16:55:53Z","updated_at":"2021-10-04T12:09:35Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi there,\r\n\r\nHas anyone run the train.py file in Windows 10? \r\n\r\nI keep getting the following traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"train.py\", line 2, in <module>\r\n    main(mode=1)\r\n  File \"C:\\Users\\Sicily\\edge-connect\\main.py\", line 56, in main\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\spawn.py\", line 105, in spawn_main\r\n    model.train()\r\nexitcode = _main(fd)  File \"C:\\Users\\Sicily\\edge-connect\\src\\edge_connect.py\", line 98, in train\r\n\r\n      File \"D:\\Anaconda\\lib\\multiprocessing\\spawn.py\", line 114, in _main\r\nfor items in train_loader:\r\nprepare(preparation_data)  File \"D:\\Anaconda\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 352, in __iter__\r\n\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\spawn.py\", line 225, in prepare\r\n        return self._get_iterator()_fixup_main_from_path(data['init_main_from_path'])\r\n\r\n  File \"D:\\Anaconda\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 294, in _get_iterator\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\spawn.py\", line 277, in _fixup_main_from_path\r\n        return _MultiProcessingDataLoaderIter(self)run_name=\"__mp_main__\")\r\n\r\n  File \"D:\\Anaconda\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 801, in __init__\r\n  File \"D:\\Anaconda\\lib\\runpy.py\", line 263, in run_path\r\n    w.start()\r\npkg_name=pkg_name, script_name=fname)  File \"D:\\Anaconda\\lib\\multiprocessing\\process.py\", line 112, in start\r\n\r\n  File \"D:\\Anaconda\\lib\\runpy.py\", line 96, in _run_module_code\r\n        self._popen = self._Popen(self)mod_name, mod_spec, pkg_name, script_name)\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\context.py\", line 223, in _Popen\r\n\r\n      File \"D:\\Anaconda\\lib\\runpy.py\", line 85, in _run_code\r\nreturn _default_context.get_context().Process._Popen(process_obj)\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\context.py\", line 322, in _Popen\r\nexec(code, run_globals)\r\nreturn Popen(process_obj)  File \"C:\\Users\\Sicily\\edge-connect\\train.py\", line 2, in <module>\r\n\r\n      File \"D:\\Anaconda\\lib\\multiprocessing\\popen_spawn_win32.py\", line 65, in __init__\r\nmain(mode=1)\r\nreduction.dump(process_obj, to_child)  File \"C:\\Users\\Sicily\\edge-connect\\main.py\", line 56, in main\r\n\r\n      File \"D:\\Anaconda\\lib\\multiprocessing\\reduction.py\", line 60, in dump\r\nmodel.train()\r\n  File \"C:\\Users\\Sicily\\edge-connect\\src\\edge_connect.py\", line 98, in train\r\n    ForkingPickler(file, protocol).dump(obj)\r\nfor items in train_loader:BrokenPipeError\r\n:   File \"D:\\Anaconda\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 352, in __iter__\r\n[Errno 32] Broken pipe\r\nreturn self._get_iterator()\r\n  File \"D:\\Anaconda\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 294, in _get_iterator\r\n    return _MultiProcessingDataLoaderIter(self)\r\n  File \"D:\\Anaconda\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 801, in __init__\r\n    w.start()\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\process.py\", line 112, in start\r\n    self._popen = self._Popen(self)\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\context.py\", line 223, in _Popen\r\n    return _default_context.get_context().Process._Popen(process_obj)\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\context.py\", line 322, in _Popen\r\n    return Popen(process_obj)\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\popen_spawn_win32.py\", line 33, in __init__\r\n    prep_data = spawn.get_preparation_data(process_obj._name)\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\spawn.py\", line 143, in get_preparation_data\r\n    _check_not_importing_main()\r\n  File \"D:\\Anaconda\\lib\\multiprocessing\\spawn.py\", line 136, in _check_not_importing_main\r\n    is not going to be frozen to produce an executable.''')\r\nRuntimeError:\r\n        An attempt has been made to start a new process before the\r\n        current process has finished its bootstrapping phase.\r\n\r\n        This probably means that you are not using fork to start your\r\n        child processes and you have forgotten to use the proper idiom\r\n        in the main module:\r\n\r\n            if __name__ == '__main__':\r\n                freeze_support()\r\n                ...\r\n\r\n        The \"freeze_support()\" line can be omitted if the program\r\n        is not going to be frozen to produce an executable\r\n```\r\n\r\nI tried placing this code at the beginning \r\n\r\n```\r\nif __name__ == \"__main__\":\r\n    \r\n    main()\r\n```\r\n\r\nAnd then indenting everything else below it in the main.py file. However, this also doesn't work, does anyone have any other workarounds they could suggest?\r\n\r\nI would be forever grateful!","closed_by":null,"reactions":{"url":"https://api.github.com/repos/knazeri/edge-connect/issues/168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/knazeri/edge-connect/issues/168/timeline","performed_via_github_app":null,"state_reason":null}