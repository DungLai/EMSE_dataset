[{"url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/comments/463884563","html_url":"https://github.com/NUAA-AL/ALiPy/issues/1#issuecomment-463884563","issue_url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/1","id":463884563,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mzg4NDU2Mw==","user":{"login":"Lggggggx","id":13412302,"node_id":"MDQ6VXNlcjEzNDEyMzAy","avatar_url":"https://avatars.githubusercontent.com/u/13412302?v=4","gravatar_id":"","url":"https://api.github.com/users/Lggggggx","html_url":"https://github.com/Lggggggx","followers_url":"https://api.github.com/users/Lggggggx/followers","following_url":"https://api.github.com/users/Lggggggx/following{/other_user}","gists_url":"https://api.github.com/users/Lggggggx/gists{/gist_id}","starred_url":"https://api.github.com/users/Lggggggx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lggggggx/subscriptions","organizations_url":"https://api.github.com/users/Lggggggx/orgs","repos_url":"https://api.github.com/users/Lggggggx/repos","events_url":"https://api.github.com/users/Lggggggx/events{/privacy}","received_events_url":"https://api.github.com/users/Lggggggx/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T02:39:26Z","updated_at":"2019-02-15T02:39:26Z","author_association":"COLLABORATOR","body":"Sorry about that. \r\nThe QueryRandom API has not been unified yet. The format of the QueryRandom.select looks like this select(self, unlabel_index, batch_size=1). We will fix this in the next version.\r\nIf you want to use the QueryRandom, you should write a separate process for this.\r\nHere is an example for your reference.\r\n\r\n    random = QueryRandom(X, y)\r\n    random_result = []\r\n\r\n    for round in range(5):\r\n        # Get the data split of one fold experiment\r\n        train_idx, test_idx, label_ind, unlab_ind = alibox.get_split(round)\r\n        # Get intermediate results saver for one fold experiment\r\n        saver = alibox.get_stateio(round)\r\n        # calc the initial point\r\n        model.fit(X=X[label_ind.index, :], y=y[label_ind.index])\r\n        pred = model.predict(X[test_idx, :])\r\n        accuracy = sum(pred == y[test_idx]) / len(test_idx)\r\n        saver.set_initial_point(accuracy)\r\n\r\n        while not stopping_criterion.is_stop():\r\n            # Select a subset of Uind according to the query strategy\r\n            # Passing model=None to use the default model for evaluating the committees' disagreement\r\n            select_ind = random.select(unlab_ind, batch_size=1)\r\n            label_ind.update(select_ind)\r\n            unlab_ind.difference_update(select_ind)\r\n\r\n            # Update model and calc performance according to the model you are using\r\n            model.fit(X=X[label_ind.index, :], y=y[label_ind.index])\r\n            pred = model.predict(X[test_idx, :])\r\n            accuracy = alibox.calc_performance_metric(y_true=y[test_idx],\r\n                                                    y_pred=pred,\r\n                                                    performance_metric='accuracy_score')\r\n\r\n            # Save intermediate results to file\r\n            st = alibox.State(select_index=select_ind, performance=accuracy)\r\n            saver.add_state(st)\r\n            saver.save()\r\n\r\n            # Passing the current progress to stopping criterion object\r\n            stopping_criterion.update_information(saver)\r\n        # Reset the progress in stopping criterion object\r\n        stopping_criterion.reset()\r\n        random_result.append(copy.deepcopy(saver))","reactions":{"url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/comments/463884563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Lggggggx","id":13412302,"node_id":"MDQ6VXNlcjEzNDEyMzAy","avatar_url":"https://avatars.githubusercontent.com/u/13412302?v=4","gravatar_id":"","url":"https://api.github.com/users/Lggggggx","html_url":"https://github.com/Lggggggx","followers_url":"https://api.github.com/users/Lggggggx/followers","following_url":"https://api.github.com/users/Lggggggx/following{/other_user}","gists_url":"https://api.github.com/users/Lggggggx/gists{/gist_id}","starred_url":"https://api.github.com/users/Lggggggx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lggggggx/subscriptions","organizations_url":"https://api.github.com/users/Lggggggx/orgs","repos_url":"https://api.github.com/users/Lggggggx/repos","events_url":"https://api.github.com/users/Lggggggx/events{/privacy}","received_events_url":"https://api.github.com/users/Lggggggx/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/comments/463886382","html_url":"https://github.com/NUAA-AL/ALiPy/issues/1#issuecomment-463886382","issue_url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/1","id":463886382,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mzg4NjM4Mg==","user":{"login":"evanzhu2013","id":7533756,"node_id":"MDQ6VXNlcjc1MzM3NTY=","avatar_url":"https://avatars.githubusercontent.com/u/7533756?v=4","gravatar_id":"","url":"https://api.github.com/users/evanzhu2013","html_url":"https://github.com/evanzhu2013","followers_url":"https://api.github.com/users/evanzhu2013/followers","following_url":"https://api.github.com/users/evanzhu2013/following{/other_user}","gists_url":"https://api.github.com/users/evanzhu2013/gists{/gist_id}","starred_url":"https://api.github.com/users/evanzhu2013/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanzhu2013/subscriptions","organizations_url":"https://api.github.com/users/evanzhu2013/orgs","repos_url":"https://api.github.com/users/evanzhu2013/repos","events_url":"https://api.github.com/users/evanzhu2013/events{/privacy}","received_events_url":"https://api.github.com/users/evanzhu2013/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T02:49:57Z","updated_at":"2019-02-15T02:49:57Z","author_association":"NONE","body":"Thanks for your quick answer. It works. I suggest putting this code to example folder. ","reactions":{"url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/comments/463886382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"evanzhu2013","id":7533756,"node_id":"MDQ6VXNlcjc1MzM3NTY=","avatar_url":"https://avatars.githubusercontent.com/u/7533756?v=4","gravatar_id":"","url":"https://api.github.com/users/evanzhu2013","html_url":"https://github.com/evanzhu2013","followers_url":"https://api.github.com/users/evanzhu2013/followers","following_url":"https://api.github.com/users/evanzhu2013/following{/other_user}","gists_url":"https://api.github.com/users/evanzhu2013/gists{/gist_id}","starred_url":"https://api.github.com/users/evanzhu2013/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanzhu2013/subscriptions","organizations_url":"https://api.github.com/users/evanzhu2013/orgs","repos_url":"https://api.github.com/users/evanzhu2013/repos","events_url":"https://api.github.com/users/evanzhu2013/events{/privacy}","received_events_url":"https://api.github.com/users/evanzhu2013/received_events","type":"User","site_admin":false}},{"id":2141410285,"node_id":"MDExOkNsb3NlZEV2ZW50MjE0MTQxMDI4NQ==","url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/events/2141410285","actor":{"login":"evanzhu2013","id":7533756,"node_id":"MDQ6VXNlcjc1MzM3NTY=","avatar_url":"https://avatars.githubusercontent.com/u/7533756?v=4","gravatar_id":"","url":"https://api.github.com/users/evanzhu2013","html_url":"https://github.com/evanzhu2013","followers_url":"https://api.github.com/users/evanzhu2013/followers","following_url":"https://api.github.com/users/evanzhu2013/following{/other_user}","gists_url":"https://api.github.com/users/evanzhu2013/gists{/gist_id}","starred_url":"https://api.github.com/users/evanzhu2013/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanzhu2013/subscriptions","organizations_url":"https://api.github.com/users/evanzhu2013/orgs","repos_url":"https://api.github.com/users/evanzhu2013/repos","events_url":"https://api.github.com/users/evanzhu2013/events{/privacy}","received_events_url":"https://api.github.com/users/evanzhu2013/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-02-15T02:49:57Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/comments/463887137","html_url":"https://github.com/NUAA-AL/ALiPy/issues/1#issuecomment-463887137","issue_url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/1","id":463887137,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mzg4NzEzNw==","user":{"login":"Lggggggx","id":13412302,"node_id":"MDQ6VXNlcjEzNDEyMzAy","avatar_url":"https://avatars.githubusercontent.com/u/13412302?v=4","gravatar_id":"","url":"https://api.github.com/users/Lggggggx","html_url":"https://github.com/Lggggggx","followers_url":"https://api.github.com/users/Lggggggx/followers","following_url":"https://api.github.com/users/Lggggggx/following{/other_user}","gists_url":"https://api.github.com/users/Lggggggx/gists{/gist_id}","starred_url":"https://api.github.com/users/Lggggggx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lggggggx/subscriptions","organizations_url":"https://api.github.com/users/Lggggggx/orgs","repos_url":"https://api.github.com/users/Lggggggx/repos","events_url":"https://api.github.com/users/Lggggggx/events{/privacy}","received_events_url":"https://api.github.com/users/Lggggggx/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T02:54:17Z","updated_at":"2019-02-15T02:54:17Z","author_association":"COLLABORATOR","body":"Thank you for your advice. It's a good idea.","reactions":{"url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/comments/463887137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Lggggggx","id":13412302,"node_id":"MDQ6VXNlcjEzNDEyMzAy","avatar_url":"https://avatars.githubusercontent.com/u/13412302?v=4","gravatar_id":"","url":"https://api.github.com/users/Lggggggx","html_url":"https://github.com/Lggggggx","followers_url":"https://api.github.com/users/Lggggggx/followers","following_url":"https://api.github.com/users/Lggggggx/following{/other_user}","gists_url":"https://api.github.com/users/Lggggggx/gists{/gist_id}","starred_url":"https://api.github.com/users/Lggggggx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lggggggx/subscriptions","organizations_url":"https://api.github.com/users/Lggggggx/orgs","repos_url":"https://api.github.com/users/Lggggggx/repos","events_url":"https://api.github.com/users/Lggggggx/events{/privacy}","received_events_url":"https://api.github.com/users/Lggggggx/received_events","type":"User","site_admin":false}}]