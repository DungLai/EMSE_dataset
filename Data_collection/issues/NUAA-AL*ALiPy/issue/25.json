{"url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/25","repository_url":"https://api.github.com/repos/NUAA-AL/ALiPy","labels_url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/25/labels{/name}","comments_url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/25/comments","events_url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/25/events","html_url":"https://github.com/NUAA-AL/ALiPy/issues/25","id":603826456,"node_id":"MDU6SXNzdWU2MDM4MjY0NTY=","number":25,"title":"Problems with select_by_prediction_mat function of class QueryInstanceUncertainty","user":{"login":"JuliaMasche","id":16819450,"node_id":"MDQ6VXNlcjE2ODE5NDUw","avatar_url":"https://avatars.githubusercontent.com/u/16819450?v=4","gravatar_id":"","url":"https://api.github.com/users/JuliaMasche","html_url":"https://github.com/JuliaMasche","followers_url":"https://api.github.com/users/JuliaMasche/followers","following_url":"https://api.github.com/users/JuliaMasche/following{/other_user}","gists_url":"https://api.github.com/users/JuliaMasche/gists{/gist_id}","starred_url":"https://api.github.com/users/JuliaMasche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JuliaMasche/subscriptions","organizations_url":"https://api.github.com/users/JuliaMasche/orgs","repos_url":"https://api.github.com/users/JuliaMasche/repos","events_url":"https://api.github.com/users/JuliaMasche/events{/privacy}","received_events_url":"https://api.github.com/users/JuliaMasche/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-04-21T08:52:55Z","updated_at":"2020-04-21T09:47:14Z","closed_at":"2020-04-21T09:47:14Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nI try to do instance selection with the select_by_prediction_mat function. My predict 2D-Array looks like this:\r\n\r\n[['1' '0.5258755683898926']\r\n ['2' '0.5193215012550354']\r\n ['1' '0.557829737663269']\r\n ...\r\n ['1' '0.550930380821228']\r\n ['1' '0.5237742066383362']\r\n ['1' '0.5445562601089478']]\r\n\r\nIf I use this as my predict input for the function with entropy as measure, I get the following error:\r\nTraceback (most recent call last):\r\n  File \"test_flair.py\", line 174, in <module>\r\n    select_ind = Uncertaint_Strategy.select_by_prediction_mat(unlab_ind, pred_ma, batch_size=5)\r\n  File \"/home/julia/master_thesis/env/lib/python3.6/site-packages/alipy/query_strategy/query_labels.py\", line 215, in select_by_prediction_mat\r\n    pv[pv <= 0] = 1e-06  # avoid zero division\r\nTypeError: '<=' not supported between instances of 'numpy.ndarray' and 'int'\r\n\r\nCould you tell me in detail how the predict matrix should look like? I know it says [n_samples, n_classes], but I have problems to understand exactly what that means. Could you tell me for my predict matrix how I should transform it so it will work?\r\n\r\nthank you in advance","closed_by":{"login":"JuliaMasche","id":16819450,"node_id":"MDQ6VXNlcjE2ODE5NDUw","avatar_url":"https://avatars.githubusercontent.com/u/16819450?v=4","gravatar_id":"","url":"https://api.github.com/users/JuliaMasche","html_url":"https://github.com/JuliaMasche","followers_url":"https://api.github.com/users/JuliaMasche/followers","following_url":"https://api.github.com/users/JuliaMasche/following{/other_user}","gists_url":"https://api.github.com/users/JuliaMasche/gists{/gist_id}","starred_url":"https://api.github.com/users/JuliaMasche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JuliaMasche/subscriptions","organizations_url":"https://api.github.com/users/JuliaMasche/orgs","repos_url":"https://api.github.com/users/JuliaMasche/repos","events_url":"https://api.github.com/users/JuliaMasche/events{/privacy}","received_events_url":"https://api.github.com/users/JuliaMasche/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/25/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/NUAA-AL/ALiPy/issues/25/timeline","performed_via_github_app":null,"state_reason":"completed"}