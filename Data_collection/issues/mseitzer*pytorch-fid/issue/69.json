{"url":"https://api.github.com/repos/mseitzer/pytorch-fid/issues/69","repository_url":"https://api.github.com/repos/mseitzer/pytorch-fid","labels_url":"https://api.github.com/repos/mseitzer/pytorch-fid/issues/69/labels{/name}","comments_url":"https://api.github.com/repos/mseitzer/pytorch-fid/issues/69/comments","events_url":"https://api.github.com/repos/mseitzer/pytorch-fid/issues/69/events","html_url":"https://github.com/mseitzer/pytorch-fid/issues/69","id":884353483,"node_id":"MDU6SXNzdWU4ODQzNTM0ODM=","number":69,"title":"TypeError: int() argument must be a string, a bytes-like object or a number, not 'PngImageFile'","user":{"login":"rickkk856","id":62864640,"node_id":"MDQ6VXNlcjYyODY0NjQw","avatar_url":"https://avatars.githubusercontent.com/u/62864640?v=4","gravatar_id":"","url":"https://api.github.com/users/rickkk856","html_url":"https://github.com/rickkk856","followers_url":"https://api.github.com/users/rickkk856/followers","following_url":"https://api.github.com/users/rickkk856/following{/other_user}","gists_url":"https://api.github.com/users/rickkk856/gists{/gist_id}","starred_url":"https://api.github.com/users/rickkk856/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickkk856/subscriptions","organizations_url":"https://api.github.com/users/rickkk856/orgs","repos_url":"https://api.github.com/users/rickkk856/repos","events_url":"https://api.github.com/users/rickkk856/events{/privacy}","received_events_url":"https://api.github.com/users/rickkk856/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-05-10T14:30:39Z","updated_at":"2021-05-10T17:08:22Z","closed_at":"2021-05-10T16:48:44Z","author_association":"NONE","active_lock_reason":null,"body":"I've been using PyTorch FID to calculate FID over real/fake samples of pix2pix models. \r\nBut its returning this error... each folder has 4k images of 256x256 pixels (.png)\r\n\r\nWould I need to use `imagemagick` and try `mogrify` the images to convert them on `jpg` format?\r\n\r\n```\r\n(base) C:\\Users\\Pichau\\pytorch-CycleGAN-and-pix2pix>python -m pytorch_fid ./results/40K_Rplan_Black_256/test_5/images/_real_B ./results/40K_Rplan_Black_256/test_5/images/_fake_B\r\n100%|██████████████████████████████████████████████████████████████████████████████████| 80/80 [10:48<00:00,  8.10s/it]\r\n 42%|██████████████████████████████████▊                                               | 34/80 [04:28<06:03,  7.90s/it]\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\pytorch_fid\\__main__.py\", line 4, in <module>\r\n    pytorch_fid.fid_score.main()\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\pytorch_fid\\fid_score.py\", line 249, in main\r\n    fid_value = calculate_fid_given_paths(args.path,\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\pytorch_fid\\fid_score.py\", line 238, in calculate_fid_given_paths\r\n    m2, s2 = _compute_statistics_of_path(paths[1], model, batch_size,\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\pytorch_fid\\fid_score.py\", line 218, in _compute_statistics_of_path\r\n    m, s = calculate_activation_statistics(files, model, batch_size,\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\pytorch_fid\\fid_score.py\", line 204, in calculate_activation_statistics\r\n    act = get_activations(files, model, batch_size, dims, cuda)\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\pytorch_fid\\fid_score.py\", line 106, in get_activations\r\n    images = np.array([imread(str(f)).astype(np.float32)\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\pytorch_fid\\fid_score.py\", line 106, in <listcomp>\r\n    images = np.array([imread(str(f)).astype(np.float32)\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\pytorch_fid\\fid_score.py\", line 71, in imread\r\n    return np.asarray(Image.open(filename), dtype=np.uint8)[..., :3]\r\n  File \"C:\\Users\\Pichau\\anaconda3\\lib\\site-packages\\numpy\\core\\_asarray.py\", line 102, in asarray\r\n    return array(a, dtype, copy=False, order=order)\r\nTypeError: int() argument must be a string, a bytes-like object or a number, not 'PngImageFile'\r\n```","closed_by":{"login":"rickkk856","id":62864640,"node_id":"MDQ6VXNlcjYyODY0NjQw","avatar_url":"https://avatars.githubusercontent.com/u/62864640?v=4","gravatar_id":"","url":"https://api.github.com/users/rickkk856","html_url":"https://github.com/rickkk856","followers_url":"https://api.github.com/users/rickkk856/followers","following_url":"https://api.github.com/users/rickkk856/following{/other_user}","gists_url":"https://api.github.com/users/rickkk856/gists{/gist_id}","starred_url":"https://api.github.com/users/rickkk856/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickkk856/subscriptions","organizations_url":"https://api.github.com/users/rickkk856/orgs","repos_url":"https://api.github.com/users/rickkk856/repos","events_url":"https://api.github.com/users/rickkk856/events{/privacy}","received_events_url":"https://api.github.com/users/rickkk856/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mseitzer/pytorch-fid/issues/69/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mseitzer/pytorch-fid/issues/69/timeline","performed_via_github_app":null,"state_reason":"completed"}