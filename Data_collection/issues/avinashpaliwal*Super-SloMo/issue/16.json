{"url":"https://api.github.com/repos/avinashpaliwal/Super-SloMo/issues/16","repository_url":"https://api.github.com/repos/avinashpaliwal/Super-SloMo","labels_url":"https://api.github.com/repos/avinashpaliwal/Super-SloMo/issues/16/labels{/name}","comments_url":"https://api.github.com/repos/avinashpaliwal/Super-SloMo/issues/16/comments","events_url":"https://api.github.com/repos/avinashpaliwal/Super-SloMo/issues/16/events","html_url":"https://github.com/avinashpaliwal/Super-SloMo/issues/16","id":396124529,"node_id":"MDU6SXNzdWUzOTYxMjQ1Mjk=","number":16,"title":"CUDA out of memory when training a model to .ckpt?","user":{"login":"deama","id":13488213,"node_id":"MDQ6VXNlcjEzNDg4MjEz","avatar_url":"https://avatars.githubusercontent.com/u/13488213?v=4","gravatar_id":"","url":"https://api.github.com/users/deama","html_url":"https://github.com/deama","followers_url":"https://api.github.com/users/deama/followers","following_url":"https://api.github.com/users/deama/following{/other_user}","gists_url":"https://api.github.com/users/deama/gists{/gist_id}","starred_url":"https://api.github.com/users/deama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deama/subscriptions","organizations_url":"https://api.github.com/users/deama/orgs","repos_url":"https://api.github.com/users/deama/repos","events_url":"https://api.github.com/users/deama/events{/privacy}","received_events_url":"https://api.github.com/users/deama/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-01-05T02:29:36Z","updated_at":"2019-01-05T17:15:20Z","closed_at":"2019-01-05T17:15:20Z","author_association":"NONE","active_lock_reason":null,"body":"So I'm trying to train my own custom model but am getting an out of memory error:\r\n```\r\n(base) C:\\Users\\deama\\Desktop\\Super-SloMo-master>python train.py --dataset_root\r\ndataset --checkpoint_dir checkpoints\r\nDataset SuperSloMo\r\n    Number of datapoints: 558\r\n    Root Location: dataset/train\r\n    Transforms (if any): Compose(\r\n                             ToTensor()\r\n                             Normalize(mean=[0.429, 0.431, 0.397], std=[1, 1, 1]\r\n)\r\n                         )\r\n Dataset SuperSloMo\r\n    Number of datapoints: 5\r\n    Root Location: dataset/validation\r\n    Transforms (if any): Compose(\r\n                             ToTensor()\r\n                             Normalize(mean=[0.429, 0.431, 0.397], std=[1, 1, 1]\r\n)\r\n                         )\r\n\r\nEpoch:  0\r\nC:\\ProgramData\\Anaconda3\\lib\\site-packages\\torch\\nn\\functional.py:2423: UserWarn\r\ning: Default upsampling behavior when mode=bilinear is changed to align_corners=\r\nFalse since 0.4.0. Please specify align_corners=True if the old behavior is desi\r\nred. See the documentation of nn.Upsample for details.\r\n  \"See the documentation of nn.Upsample for details.\".format(mode))\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 253, in <module>\r\n    intrpOut = ArbTimeFlowIntrp(torch.cat((I0, I1, F_0_1, F_1_0, F_t_1, F_t_0, g\r\n_I1_F_t_1, g_I0_F_t_0), dim=1))\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\module.py\",\r\nline 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"C:\\Users\\deama\\Desktop\\Super-SloMo-master\\model.py\", line 207, in forwar\r\nd\r\n    x  = self.up4(x, s2)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\module.py\",\r\nline 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"C:\\Users\\deama\\Desktop\\Super-SloMo-master\\model.py\", line 134, in forwar\r\nd\r\n    x = F.leaky_relu(self.conv2(torch.cat((x, skpCn), 1)), negative_slope = 0.1)\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\module.py\",\r\nline 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\conv.py\", li\r\nne 320, in forward\r\n    self.padding, self.dilation, self.groups)\r\nRuntimeError: CUDA out of memory. Tried to allocate 45.38 MiB (GPU 0; 4.00 GiB t\r\notal capacity; 3.46 GiB already allocated; 118.97 MiB free; 47.47 MiB cached)\r\n```\r\n\r\nIs the only fix to get a GPU with more VRAM or use lower resolution training data? I have used the adobe240fps dataset provided.","closed_by":{"login":"deama","id":13488213,"node_id":"MDQ6VXNlcjEzNDg4MjEz","avatar_url":"https://avatars.githubusercontent.com/u/13488213?v=4","gravatar_id":"","url":"https://api.github.com/users/deama","html_url":"https://github.com/deama","followers_url":"https://api.github.com/users/deama/followers","following_url":"https://api.github.com/users/deama/following{/other_user}","gists_url":"https://api.github.com/users/deama/gists{/gist_id}","starred_url":"https://api.github.com/users/deama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deama/subscriptions","organizations_url":"https://api.github.com/users/deama/orgs","repos_url":"https://api.github.com/users/deama/repos","events_url":"https://api.github.com/users/deama/events{/privacy}","received_events_url":"https://api.github.com/users/deama/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/avinashpaliwal/Super-SloMo/issues/16/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/avinashpaliwal/Super-SloMo/issues/16/timeline","performed_via_github_app":null,"state_reason":"completed"}