[{"url":"https://api.github.com/repos/lijx10/SO-Net/issues/comments/597563360","html_url":"https://github.com/lijx10/SO-Net/issues/32#issuecomment-597563360","issue_url":"https://api.github.com/repos/lijx10/SO-Net/issues/32","id":597563360,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzU2MzM2MA==","user":{"login":"lijx10","id":12218345,"node_id":"MDQ6VXNlcjEyMjE4MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/12218345?v=4","gravatar_id":"","url":"https://api.github.com/users/lijx10","html_url":"https://github.com/lijx10","followers_url":"https://api.github.com/users/lijx10/followers","following_url":"https://api.github.com/users/lijx10/following{/other_user}","gists_url":"https://api.github.com/users/lijx10/gists{/gist_id}","starred_url":"https://api.github.com/users/lijx10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lijx10/subscriptions","organizations_url":"https://api.github.com/users/lijx10/orgs","repos_url":"https://api.github.com/users/lijx10/repos","events_url":"https://api.github.com/users/lijx10/events{/privacy}","received_events_url":"https://api.github.com/users/lijx10/received_events","type":"User","site_admin":false},"created_at":"2020-03-11T10:47:03Z","updated_at":"2020-03-11T10:47:03Z","author_association":"OWNER","body":"For the speed. An alternative implementation is to run for loop in pytorch, to get a max-pooling for each node. In the case that node number is small, e.g., <10, this practice should be fine. However, in most cases, the node number is like 64, 128, which means python for loop will be quite slow.","reactions":{"url":"https://api.github.com/repos/lijx10/SO-Net/issues/comments/597563360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lijx10","id":12218345,"node_id":"MDQ6VXNlcjEyMjE4MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/12218345?v=4","gravatar_id":"","url":"https://api.github.com/users/lijx10","html_url":"https://github.com/lijx10","followers_url":"https://api.github.com/users/lijx10/followers","following_url":"https://api.github.com/users/lijx10/following{/other_user}","gists_url":"https://api.github.com/users/lijx10/gists{/gist_id}","starred_url":"https://api.github.com/users/lijx10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lijx10/subscriptions","organizations_url":"https://api.github.com/users/lijx10/orgs","repos_url":"https://api.github.com/users/lijx10/repos","events_url":"https://api.github.com/users/lijx10/events{/privacy}","received_events_url":"https://api.github.com/users/lijx10/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/lijx10/SO-Net/issues/comments/597986693","html_url":"https://github.com/lijx10/SO-Net/issues/32#issuecomment-597986693","issue_url":"https://api.github.com/repos/lijx10/SO-Net/issues/32","id":597986693,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Nzk4NjY5Mw==","user":{"login":"zeal-github","id":40826585,"node_id":"MDQ6VXNlcjQwODI2NTg1","avatar_url":"https://avatars.githubusercontent.com/u/40826585?v=4","gravatar_id":"","url":"https://api.github.com/users/zeal-github","html_url":"https://github.com/zeal-github","followers_url":"https://api.github.com/users/zeal-github/followers","following_url":"https://api.github.com/users/zeal-github/following{/other_user}","gists_url":"https://api.github.com/users/zeal-github/gists{/gist_id}","starred_url":"https://api.github.com/users/zeal-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeal-github/subscriptions","organizations_url":"https://api.github.com/users/zeal-github/orgs","repos_url":"https://api.github.com/users/zeal-github/repos","events_url":"https://api.github.com/users/zeal-github/events{/privacy}","received_events_url":"https://api.github.com/users/zeal-github/received_events","type":"User","site_admin":false},"created_at":"2020-03-12T03:21:36Z","updated_at":"2020-03-12T03:21:36Z","author_association":"NONE","body":"@lijx10 Can I implement like thisï¼š\r\n```\r\nfirst_pn_out_repeat = first_pn_out.unsqueeze(-1).repeat(1, 1, 1, M) # B x C x kN x M\r\nfirst_pn_out_repeat = torch.mul(first_pn_out_repeat, mask.float())\r\nfirst_pn_out_masked_max, _ = torch.max(first_pn_out_repeat, dim=2, keepdim=False) # B x C x M\r\n```\r\nI think the function is the same except all the features are smaller than 0.","reactions":{"url":"https://api.github.com/repos/lijx10/SO-Net/issues/comments/597986693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zeal-github","id":40826585,"node_id":"MDQ6VXNlcjQwODI2NTg1","avatar_url":"https://avatars.githubusercontent.com/u/40826585?v=4","gravatar_id":"","url":"https://api.github.com/users/zeal-github","html_url":"https://github.com/zeal-github","followers_url":"https://api.github.com/users/zeal-github/followers","following_url":"https://api.github.com/users/zeal-github/following{/other_user}","gists_url":"https://api.github.com/users/zeal-github/gists{/gist_id}","starred_url":"https://api.github.com/users/zeal-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeal-github/subscriptions","organizations_url":"https://api.github.com/users/zeal-github/orgs","repos_url":"https://api.github.com/users/zeal-github/repos","events_url":"https://api.github.com/users/zeal-github/events{/privacy}","received_events_url":"https://api.github.com/users/zeal-github/received_events","type":"User","site_admin":false}},{"id":3121261903,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzEyMTI2MTkwMw==","url":"https://api.github.com/repos/lijx10/SO-Net/issues/events/3121261903","actor":{"login":"lijx10","id":12218345,"node_id":"MDQ6VXNlcjEyMjE4MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/12218345?v=4","gravatar_id":"","url":"https://api.github.com/users/lijx10","html_url":"https://github.com/lijx10","followers_url":"https://api.github.com/users/lijx10/followers","following_url":"https://api.github.com/users/lijx10/following{/other_user}","gists_url":"https://api.github.com/users/lijx10/gists{/gist_id}","starred_url":"https://api.github.com/users/lijx10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lijx10/subscriptions","organizations_url":"https://api.github.com/users/lijx10/orgs","repos_url":"https://api.github.com/users/lijx10/repos","events_url":"https://api.github.com/users/lijx10/events{/privacy}","received_events_url":"https://api.github.com/users/lijx10/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-12T03:21:38Z","performed_via_github_app":null},{"id":3121261905,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMjEyNjE5MDU=","url":"https://api.github.com/repos/lijx10/SO-Net/issues/events/3121261905","actor":{"login":"lijx10","id":12218345,"node_id":"MDQ6VXNlcjEyMjE4MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/12218345?v=4","gravatar_id":"","url":"https://api.github.com/users/lijx10","html_url":"https://github.com/lijx10","followers_url":"https://api.github.com/users/lijx10/followers","following_url":"https://api.github.com/users/lijx10/following{/other_user}","gists_url":"https://api.github.com/users/lijx10/gists{/gist_id}","starred_url":"https://api.github.com/users/lijx10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lijx10/subscriptions","organizations_url":"https://api.github.com/users/lijx10/orgs","repos_url":"https://api.github.com/users/lijx10/repos","events_url":"https://api.github.com/users/lijx10/events{/privacy}","received_events_url":"https://api.github.com/users/lijx10/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-12T03:21:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/lijx10/SO-Net/issues/comments/597988112","html_url":"https://github.com/lijx10/SO-Net/issues/32#issuecomment-597988112","issue_url":"https://api.github.com/repos/lijx10/SO-Net/issues/32","id":597988112,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Nzk4ODExMg==","user":{"login":"lijx10","id":12218345,"node_id":"MDQ6VXNlcjEyMjE4MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/12218345?v=4","gravatar_id":"","url":"https://api.github.com/users/lijx10","html_url":"https://github.com/lijx10","followers_url":"https://api.github.com/users/lijx10/followers","following_url":"https://api.github.com/users/lijx10/following{/other_user}","gists_url":"https://api.github.com/users/lijx10/gists{/gist_id}","starred_url":"https://api.github.com/users/lijx10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lijx10/subscriptions","organizations_url":"https://api.github.com/users/lijx10/orgs","repos_url":"https://api.github.com/users/lijx10/repos","events_url":"https://api.github.com/users/lijx10/events{/privacy}","received_events_url":"https://api.github.com/users/lijx10/received_events","type":"User","site_admin":false},"created_at":"2020-03-12T03:27:53Z","updated_at":"2020-03-12T03:27:53Z","author_association":"OWNER","body":"Killing features smaller than 0 is fine becuase it equals to adding a relu. So theoretically it should be fine to use your implementation, but note that in this case you have to train your own model, instead of loading pre-trained ones.\r\n\r\nThe problem is that such pytorch implementation can be very slow because it is repeating the tensor by M times.","reactions":{"url":"https://api.github.com/repos/lijx10/SO-Net/issues/comments/597988112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lijx10","id":12218345,"node_id":"MDQ6VXNlcjEyMjE4MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/12218345?v=4","gravatar_id":"","url":"https://api.github.com/users/lijx10","html_url":"https://github.com/lijx10","followers_url":"https://api.github.com/users/lijx10/followers","following_url":"https://api.github.com/users/lijx10/following{/other_user}","gists_url":"https://api.github.com/users/lijx10/gists{/gist_id}","starred_url":"https://api.github.com/users/lijx10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lijx10/subscriptions","organizations_url":"https://api.github.com/users/lijx10/orgs","repos_url":"https://api.github.com/users/lijx10/repos","events_url":"https://api.github.com/users/lijx10/events{/privacy}","received_events_url":"https://api.github.com/users/lijx10/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/lijx10/SO-Net/issues/comments/597993195","html_url":"https://github.com/lijx10/SO-Net/issues/32#issuecomment-597993195","issue_url":"https://api.github.com/repos/lijx10/SO-Net/issues/32","id":597993195,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Nzk5MzE5NQ==","user":{"login":"zeal-github","id":40826585,"node_id":"MDQ6VXNlcjQwODI2NTg1","avatar_url":"https://avatars.githubusercontent.com/u/40826585?v=4","gravatar_id":"","url":"https://api.github.com/users/zeal-github","html_url":"https://github.com/zeal-github","followers_url":"https://api.github.com/users/zeal-github/followers","following_url":"https://api.github.com/users/zeal-github/following{/other_user}","gists_url":"https://api.github.com/users/zeal-github/gists{/gist_id}","starred_url":"https://api.github.com/users/zeal-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeal-github/subscriptions","organizations_url":"https://api.github.com/users/zeal-github/orgs","repos_url":"https://api.github.com/users/zeal-github/repos","events_url":"https://api.github.com/users/zeal-github/events{/privacy}","received_events_url":"https://api.github.com/users/zeal-github/received_events","type":"User","site_admin":false},"created_at":"2020-03-12T03:53:18Z","updated_at":"2020-03-12T03:53:18Z","author_association":"NONE","body":"Thanks for your reply and your work again! I do train my own model. But I think that even replace your index_max function with mine it's also capable to load your pre-trained model (maybe need some trick) since this operation is parameter-free.\r\nAnd yes , it may be slow.","reactions":{"url":"https://api.github.com/repos/lijx10/SO-Net/issues/comments/597993195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zeal-github","id":40826585,"node_id":"MDQ6VXNlcjQwODI2NTg1","avatar_url":"https://avatars.githubusercontent.com/u/40826585?v=4","gravatar_id":"","url":"https://api.github.com/users/zeal-github","html_url":"https://github.com/zeal-github","followers_url":"https://api.github.com/users/zeal-github/followers","following_url":"https://api.github.com/users/zeal-github/following{/other_user}","gists_url":"https://api.github.com/users/zeal-github/gists{/gist_id}","starred_url":"https://api.github.com/users/zeal-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeal-github/subscriptions","organizations_url":"https://api.github.com/users/zeal-github/orgs","repos_url":"https://api.github.com/users/zeal-github/repos","events_url":"https://api.github.com/users/zeal-github/events{/privacy}","received_events_url":"https://api.github.com/users/zeal-github/received_events","type":"User","site_admin":false}},{"id":3121311701,"node_id":"MDExOkNsb3NlZEV2ZW50MzEyMTMxMTcwMQ==","url":"https://api.github.com/repos/lijx10/SO-Net/issues/events/3121311701","actor":{"login":"zeal-github","id":40826585,"node_id":"MDQ6VXNlcjQwODI2NTg1","avatar_url":"https://avatars.githubusercontent.com/u/40826585?v=4","gravatar_id":"","url":"https://api.github.com/users/zeal-github","html_url":"https://github.com/zeal-github","followers_url":"https://api.github.com/users/zeal-github/followers","following_url":"https://api.github.com/users/zeal-github/following{/other_user}","gists_url":"https://api.github.com/users/zeal-github/gists{/gist_id}","starred_url":"https://api.github.com/users/zeal-github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeal-github/subscriptions","organizations_url":"https://api.github.com/users/zeal-github/orgs","repos_url":"https://api.github.com/users/zeal-github/repos","events_url":"https://api.github.com/users/zeal-github/events{/privacy}","received_events_url":"https://api.github.com/users/zeal-github/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-03-12T03:53:18Z","state_reason":null,"performed_via_github_app":null}]