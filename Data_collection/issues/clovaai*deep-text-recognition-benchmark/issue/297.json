{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/297","repository_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark","labels_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/297/labels{/name}","comments_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/297/comments","events_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/297/events","html_url":"https://github.com/clovaai/deep-text-recognition-benchmark/issues/297","id":956972826,"node_id":"MDU6SXNzdWU5NTY5NzI4MjY=","number":297,"title":"Fine-Tuning with Additional Characters -- Possible?","user":{"login":"JyK-Furiosa","id":78137883,"node_id":"MDQ6VXNlcjc4MTM3ODgz","avatar_url":"https://avatars.githubusercontent.com/u/78137883?v=4","gravatar_id":"","url":"https://api.github.com/users/JyK-Furiosa","html_url":"https://github.com/JyK-Furiosa","followers_url":"https://api.github.com/users/JyK-Furiosa/followers","following_url":"https://api.github.com/users/JyK-Furiosa/following{/other_user}","gists_url":"https://api.github.com/users/JyK-Furiosa/gists{/gist_id}","starred_url":"https://api.github.com/users/JyK-Furiosa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JyK-Furiosa/subscriptions","organizations_url":"https://api.github.com/users/JyK-Furiosa/orgs","repos_url":"https://api.github.com/users/JyK-Furiosa/repos","events_url":"https://api.github.com/users/JyK-Furiosa/events{/privacy}","received_events_url":"https://api.github.com/users/JyK-Furiosa/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-07-30T18:25:57Z","updated_at":"2022-09-23T05:26:18Z","closed_at":"2022-09-23T05:26:18Z","author_association":"NONE","active_lock_reason":null,"body":"Hello,\r\n\r\nI am trying to add additional characters (--sensitive option) by fine-tuning existing non-sensitive model\r\n\r\nI am using None-VGG-BiLSTM-CTC (a.k.a CRNN) model, which had accuracy of `62.795%` on IC15_2077 test set\r\n\r\nI have removed final layer of the pre-trained state_dict() in order to solve size mismatch problem.\r\nAlso, I have frozen all layers except final fully connected layer in order to only train classifier layer.\r\nOtherwise, all options are equal to the default settings.\r\n\r\nI used ST_spe (one with special characters) dataset to fine_tune, validation loss (on IC15_2077), train loss and accuracy values do not improve. (I have tested to train until 100000 steps).\r\n\r\nWhat might be the main problem here? Dataset Size? (1.5M though...) Freezing the layers?\r\n\r\nFollowing is my opt.txt\r\n```\r\nexp_name: None-VGG-BiLSTM-CTC-Seed1111\r\ntrain_data: ../RecData/training\r\nvalid_data: ../RecData/evaluation/IC15_2077\r\nmanualSeed: 1111\r\nworkers: 4\r\nbatch_size: 192\r\nnum_iter: 300000\r\nvalInterval: 2000\r\nsaved_model: saved_models/CRNN_new/best_accuracy.pth\r\nFT: True\r\nadam: False\r\nlr: 1\r\nbeta1: 0.9\r\nrho: 0.95\r\neps: 1e-08\r\ngrad_clip: 5\r\nbaiduCTC: False\r\nselect_data: ['ST_spe']\r\nbatch_ratio: ['1']\r\ntotal_data_usage_ratio: 1.0\r\nbatch_max_length: 25\r\nimgH: 32\r\nimgW: 100\r\nrgb: False\r\ncharacter: 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~\r\nsensitive: True\r\nPAD: False\r\ndata_filtering_off: False\r\nTransformation: None\r\nFeatureExtraction: VGG\r\nSequenceModeling: BiLSTM\r\nPrediction: CTC\r\nnum_fiducial: 20\r\ninput_channel: 1\r\noutput_channel: 512\r\nhidden_size: 256\r\nnum_gpu: 1\r\nnum_class: 95\r\n```\r\n\r\nFollowing is one validation log from opt_train.txt\r\n```\r\n[140000/300000] Train loss: 0.70766, Valid loss: 2.29187, Elapsed_time: 3637.79319\r\nCurrent_accuracy : 11.587, Current_norm_ED  : 0.46\r\nBest_accuracy    : 12.561, Best_norm_ED     : 0.48\r\n--------------------------------------------------------------------------------\r\nGround Truth              | Prediction                | Confidence Score & T/F\r\n--------------------------------------------------------------------------------\r\n9am-                      | Sumem                     | 0.0011\tFalse\r\nSKIN!                     | SKin!                     | 0.2561\tFalse\r\nOUTLET                    | outlLET                   | 0.0396\tFalse\r\nCARE                      | Sintiue:                  | 0.0000\tFalse\r\nSALE                      | SAle                      | 0.0096\tFalse\r\n--------------------------------------------------------------------------------\r\n```","closed_by":{"login":"JyK-Furiosa","id":78137883,"node_id":"MDQ6VXNlcjc4MTM3ODgz","avatar_url":"https://avatars.githubusercontent.com/u/78137883?v=4","gravatar_id":"","url":"https://api.github.com/users/JyK-Furiosa","html_url":"https://github.com/JyK-Furiosa","followers_url":"https://api.github.com/users/JyK-Furiosa/followers","following_url":"https://api.github.com/users/JyK-Furiosa/following{/other_user}","gists_url":"https://api.github.com/users/JyK-Furiosa/gists{/gist_id}","starred_url":"https://api.github.com/users/JyK-Furiosa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JyK-Furiosa/subscriptions","organizations_url":"https://api.github.com/users/JyK-Furiosa/orgs","repos_url":"https://api.github.com/users/JyK-Furiosa/repos","events_url":"https://api.github.com/users/JyK-Furiosa/events{/privacy}","received_events_url":"https://api.github.com/users/JyK-Furiosa/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/297/timeline","performed_via_github_app":null,"state_reason":"completed"}