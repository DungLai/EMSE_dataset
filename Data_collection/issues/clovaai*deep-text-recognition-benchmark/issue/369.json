{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/369","repository_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark","labels_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/369/labels{/name}","comments_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/369/comments","events_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/369/events","html_url":"https://github.com/clovaai/deep-text-recognition-benchmark/issues/369","id":1449469330,"node_id":"I_kwDOCq7kDM5WZSWS","number":369,"title":"Deployment problem. (torch.jit.script)","user":{"login":"JANGSOONMYUN","id":8862264,"node_id":"MDQ6VXNlcjg4NjIyNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8862264?v=4","gravatar_id":"","url":"https://api.github.com/users/JANGSOONMYUN","html_url":"https://github.com/JANGSOONMYUN","followers_url":"https://api.github.com/users/JANGSOONMYUN/followers","following_url":"https://api.github.com/users/JANGSOONMYUN/following{/other_user}","gists_url":"https://api.github.com/users/JANGSOONMYUN/gists{/gist_id}","starred_url":"https://api.github.com/users/JANGSOONMYUN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JANGSOONMYUN/subscriptions","organizations_url":"https://api.github.com/users/JANGSOONMYUN/orgs","repos_url":"https://api.github.com/users/JANGSOONMYUN/repos","events_url":"https://api.github.com/users/JANGSOONMYUN/events{/privacy}","received_events_url":"https://api.github.com/users/JANGSOONMYUN/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-11-15T09:39:09Z","updated_at":"2022-11-15T09:39:09Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I am trying to deploy the project for C++ but it doesn't work.\r\n\r\nI just put the jit function in train.py\r\n```\r\n    model = Model(opt)\r\n    my_module = torch.jit.script(model)\r\n    my_module.save(\"my_module.pt\")\r\n```\r\n\r\n> Traceback (most recent call last):\r\n>   File \"train.py\", line 352, in <module>\r\n>     train(opt)\r\n>   File \"train.py\", line 64, in train\r\n>     my_module = torch.jit.script(model)\r\n>   File \"/home/contrel/anaconda3/envs/torch/lib/python3.7/site-packages/torch/jit/_script.py\", line 1287, in script\r\n>     obj, torch.jit._recursive.infer_methods_to_compile\r\n>   File \"/home/contrel/anaconda3/envs/torch/lib/python3.7/site-packages/torch/jit/_recursive.py\", line 477, in create_script_module\r\n>     return create_script_module_impl(nn_module, concrete_type, stubs_fn)\r\n>   File \"/home/contrel/anaconda3/envs/torch/lib/python3.7/site-packages/torch/jit/_recursive.py\", line 539, in create_script_module_impl\r\n>     script_module = torch.jit.RecursiveScriptModule._construct(cpp_module, init_fn)\r\n>   File \"/home/contrel/anaconda3/envs/torch/lib/python3.7/site-packages/torch/jit/_script.py\", line 615, in _construct\r\n>     init_fn(script_module)\r\n>   File \"/home/contrel/anaconda3/envs/torch/lib/python3.7/site-packages/torch/jit/_recursive.py\", line 517, in init_fn\r\n>     scripted = create_script_module_impl(orig_value, sub_concrete_type, stubs_fn)\r\n>   File \"/home/contrel/anaconda3/envs/torch/lib/python3.7/site-packages/torch/jit/_recursive.py\", line 543, in create_script_module_impl\r\n>     create_methods_and_properties_from_stubs(concrete_type, method_stubs, property_stubs)\r\n>   File \"/home/contrel/anaconda3/envs/torch/lib/python3.7/site-packages/torch/jit/_recursive.py\", line 394, in create_methods_and_properties_from_stubs\r\n>     concrete_type._create_methods_and_properties(property_defs, property_rcbs, method_defs, method_rcbs, method_defaults)\r\n> RuntimeError:\r\n> \r\n> adaptive_avg_pool2d(Tensor input, int[2] output_size) -> Tensor:\r\n> Expected a value of type 'List[int]' for argument 'output_size' but instead found type 'Tuple[NoneType, int]'.\r\n> :\r\n>   File \"/home/contrel/anaconda3/envs/torch/lib/python3.7/site-packages/torch/nn/modules/pooling.py\", line 1184\r\n>     def forward(self, input: Tensor) -> Tensor:\r\n>         return F.adaptive_avg_pool2d(input, self.output_size)\r\n>                ~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n\r\nPlease help me to solve this.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/369/timeline","performed_via_github_app":null,"state_reason":null}