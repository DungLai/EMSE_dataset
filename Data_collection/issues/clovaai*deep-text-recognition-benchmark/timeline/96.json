[{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/comments/545296077","html_url":"https://github.com/clovaai/deep-text-recognition-benchmark/issues/96#issuecomment-545296077","issue_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/96","id":545296077,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTI5NjA3Nw==","user":{"login":"ku21fan","id":7953971,"node_id":"MDQ6VXNlcjc5NTM5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/7953971?v=4","gravatar_id":"","url":"https://api.github.com/users/ku21fan","html_url":"https://github.com/ku21fan","followers_url":"https://api.github.com/users/ku21fan/followers","following_url":"https://api.github.com/users/ku21fan/following{/other_user}","gists_url":"https://api.github.com/users/ku21fan/gists{/gist_id}","starred_url":"https://api.github.com/users/ku21fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ku21fan/subscriptions","organizations_url":"https://api.github.com/users/ku21fan/orgs","repos_url":"https://api.github.com/users/ku21fan/repos","events_url":"https://api.github.com/users/ku21fan/events{/privacy}","received_events_url":"https://api.github.com/users/ku21fan/received_events","type":"User","site_admin":false},"created_at":"2019-10-23T06:50:06Z","updated_at":"2019-10-23T06:50:06Z","author_association":"CONTRIBUTOR","body":"Hello, \r\n\r\ncomment out these lines\r\nhttps://github.com/clovaai/deep-text-recognition-benchmark/blob/9a6f6678b1ec3343fc6891ff964ac9af1b1d04c7/modules/transformation.py#L93-L95\r\nand un-comment out these lines (use these lines)\r\nhttps://github.com/clovaai/deep-text-recognition-benchmark/blob/9a6f6678b1ec3343fc6891ff964ac9af1b1d04c7/modules/transformation.py#L96-L98\r\nThen fine-tuning\r\nHope it helps. :)\r\n\r\nBest","reactions":{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/comments/545296077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ku21fan","id":7953971,"node_id":"MDQ6VXNlcjc5NTM5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/7953971?v=4","gravatar_id":"","url":"https://api.github.com/users/ku21fan","html_url":"https://github.com/ku21fan","followers_url":"https://api.github.com/users/ku21fan/followers","following_url":"https://api.github.com/users/ku21fan/following{/other_user}","gists_url":"https://api.github.com/users/ku21fan/gists{/gist_id}","starred_url":"https://api.github.com/users/ku21fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ku21fan/subscriptions","organizations_url":"https://api.github.com/users/ku21fan/orgs","repos_url":"https://api.github.com/users/ku21fan/repos","events_url":"https://api.github.com/users/ku21fan/events{/privacy}","received_events_url":"https://api.github.com/users/ku21fan/received_events","type":"User","site_admin":false}},{"id":2910545932,"node_id":"MDExOkNsb3NlZEV2ZW50MjkxMDU0NTkzMg==","url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/events/2910545932","actor":{"login":"ku21fan","id":7953971,"node_id":"MDQ6VXNlcjc5NTM5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/7953971?v=4","gravatar_id":"","url":"https://api.github.com/users/ku21fan","html_url":"https://github.com/ku21fan","followers_url":"https://api.github.com/users/ku21fan/followers","following_url":"https://api.github.com/users/ku21fan/following{/other_user}","gists_url":"https://api.github.com/users/ku21fan/gists{/gist_id}","starred_url":"https://api.github.com/users/ku21fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ku21fan/subscriptions","organizations_url":"https://api.github.com/users/ku21fan/orgs","repos_url":"https://api.github.com/users/ku21fan/repos","events_url":"https://api.github.com/users/ku21fan/events{/privacy}","received_events_url":"https://api.github.com/users/ku21fan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-12-27T10:58:32Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/comments/580996836","html_url":"https://github.com/clovaai/deep-text-recognition-benchmark/issues/96#issuecomment-580996836","issue_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/96","id":580996836,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDk5NjgzNg==","user":{"login":"itmorn","id":32835189,"node_id":"MDQ6VXNlcjMyODM1MTg5","avatar_url":"https://avatars.githubusercontent.com/u/32835189?v=4","gravatar_id":"","url":"https://api.github.com/users/itmorn","html_url":"https://github.com/itmorn","followers_url":"https://api.github.com/users/itmorn/followers","following_url":"https://api.github.com/users/itmorn/following{/other_user}","gists_url":"https://api.github.com/users/itmorn/gists{/gist_id}","starred_url":"https://api.github.com/users/itmorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itmorn/subscriptions","organizations_url":"https://api.github.com/users/itmorn/orgs","repos_url":"https://api.github.com/users/itmorn/repos","events_url":"https://api.github.com/users/itmorn/events{/privacy}","received_events_url":"https://api.github.com/users/itmorn/received_events","type":"User","site_admin":false},"created_at":"2020-02-01T05:47:04Z","updated_at":"2020-02-01T05:47:04Z","author_association":"NONE","body":"hello，@ku21fan\r\nWhen I add new characters to the \"characters \" and fine tune the model，I got the following mistakes. Could you give me some help?\r\nparser.add_argument('--character', type=str, default='0123456789abcdefghijklmnopqrstuvwxyz在任何场合，说服任何人', help='character label')\r\n\r\n`ssh://zyc@10.100.17.47:22/home/zyc/pyvenv/basic_DL/bin/python3 -u /home/zyc/workplace/deep-text-recognition-benchmark/train.py --train_data data_lmdb_release/training --valid_data data_lmdb_release/validation --Transformation TPS --FeatureExtraction ResNet --SequenceModeling BiLSTM --Prediction Attn --PAD --FT --saved_model TPS-ResNet-BiLSTM-Attn.pth\r\n------ Use multi-GPU setting ------\r\nif you stuck too long time with multi-GPU setting, try to set --workers 0\r\nFiltering the images containing characters which are not in opt.character\r\nFiltering the images whose label is longer than opt.batch_max_length\r\n--------------------------------------------------------------------------------\r\ndataset_root: data_lmdb_release/training\r\nopt.select_data: ['/']\r\nopt.batch_ratio: ['1']\r\n--------------------------------------------------------------------------------\r\ndataset_root:    data_lmdb_release/training\t dataset: /\r\nsub-directory:\t/.\t num samples: 4\r\nnum total samples of /: 4 x 1.0 (total_data_usage_ratio) = 4\r\nnum samples of / per batch: 384 x 1.0 (batch_ratio) = 384\r\n--------------------------------------------------------------------------------\r\nTotal_batch_size: 384 = 384\r\n--------------------------------------------------------------------------------\r\ndataset_root:    data_lmdb_release/validation\t dataset: /\r\nsub-directory:\t/.\t num samples: 4\r\n--------------------------------------------------------------------------------\r\nmodel input parameters 32 256 20 1 512 256 49 64 TPS ResNet BiLSTM Attn\r\nSkip Transformation.LocalizationNetwork.localization_fc2.weight as it is already initialized\r\nSkip Transformation.LocalizationNetwork.localization_fc2.bias as it is already initialized\r\nloading pretrained model from TPS-ResNet-BiLSTM-Attn.pth\r\nTraceback (most recent call last):\r\n  File \"/home/zyc/workplace/deep-text-recognition-benchmark/train.py\", line 315, in <module>\r\n    train(opt)\r\n  File \"/home/zyc/workplace/deep-text-recognition-benchmark/train.py\", line 82, in train\r\n    model.load_state_dict(torch.load(opt.saved_model), strict=False)\r\n  File \"/home/zyc/pyvenv/basic_DL/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 769, in load_state_dict\r\n    self.__class__.__name__, \"\\n\\t\".join(error_msgs)))\r\nRuntimeError: Error(s) in loading state_dict for DataParallel:\r\n\tsize mismatch for module.Prediction.attention_cell.rnn.weight_ih: copying a param with shape torch.Size([1024, 294]) from checkpoint, the shape in current model is torch.Size([1024, 305]).\r\n\tsize mismatch for module.Prediction.generator.weight: copying a param with shape torch.Size([38, 256]) from checkpoint, the shape in current model is torch.Size([49, 256]).\r\n\tsize mismatch for module.Prediction.generator.bias: copying a param with shape torch.Size([38]) from checkpoint, the shape in current model is torch.Size([49]).\r\n\r\nProcess finished with exit code 1\r\n`\r\n\r\n","reactions":{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/comments/580996836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"itmorn","id":32835189,"node_id":"MDQ6VXNlcjMyODM1MTg5","avatar_url":"https://avatars.githubusercontent.com/u/32835189?v=4","gravatar_id":"","url":"https://api.github.com/users/itmorn","html_url":"https://github.com/itmorn","followers_url":"https://api.github.com/users/itmorn/followers","following_url":"https://api.github.com/users/itmorn/following{/other_user}","gists_url":"https://api.github.com/users/itmorn/gists{/gist_id}","starred_url":"https://api.github.com/users/itmorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itmorn/subscriptions","organizations_url":"https://api.github.com/users/itmorn/orgs","repos_url":"https://api.github.com/users/itmorn/repos","events_url":"https://api.github.com/users/itmorn/events{/privacy}","received_events_url":"https://api.github.com/users/itmorn/received_events","type":"User","site_admin":false}},{"id":2999132048,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjk5OTEzMjA0OA==","url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/events/2999132048","actor":{"login":"ku21fan","id":7953971,"node_id":"MDQ6VXNlcjc5NTM5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/7953971?v=4","gravatar_id":"","url":"https://api.github.com/users/ku21fan","html_url":"https://github.com/ku21fan","followers_url":"https://api.github.com/users/ku21fan/followers","following_url":"https://api.github.com/users/ku21fan/following{/other_user}","gists_url":"https://api.github.com/users/ku21fan/gists{/gist_id}","starred_url":"https://api.github.com/users/ku21fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ku21fan/subscriptions","organizations_url":"https://api.github.com/users/ku21fan/orgs","repos_url":"https://api.github.com/users/ku21fan/repos","events_url":"https://api.github.com/users/ku21fan/events{/privacy}","received_events_url":"https://api.github.com/users/ku21fan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-02-01T05:47:04Z","performed_via_github_app":null},{"id":2999132049,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5OTkxMzIwNDk=","url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/events/2999132049","actor":{"login":"ku21fan","id":7953971,"node_id":"MDQ6VXNlcjc5NTM5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/7953971?v=4","gravatar_id":"","url":"https://api.github.com/users/ku21fan","html_url":"https://github.com/ku21fan","followers_url":"https://api.github.com/users/ku21fan/followers","following_url":"https://api.github.com/users/ku21fan/following{/other_user}","gists_url":"https://api.github.com/users/ku21fan/gists{/gist_id}","starred_url":"https://api.github.com/users/ku21fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ku21fan/subscriptions","organizations_url":"https://api.github.com/users/ku21fan/orgs","repos_url":"https://api.github.com/users/ku21fan/repos","events_url":"https://api.github.com/users/ku21fan/events{/privacy}","received_events_url":"https://api.github.com/users/ku21fan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-02-01T05:47:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/comments/770388369","html_url":"https://github.com/clovaai/deep-text-recognition-benchmark/issues/96#issuecomment-770388369","issue_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/96","id":770388369,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDM4ODM2OQ==","user":{"login":"AbdelsalamHaa","id":35866217,"node_id":"MDQ6VXNlcjM1ODY2MjE3","avatar_url":"https://avatars.githubusercontent.com/u/35866217?v=4","gravatar_id":"","url":"https://api.github.com/users/AbdelsalamHaa","html_url":"https://github.com/AbdelsalamHaa","followers_url":"https://api.github.com/users/AbdelsalamHaa/followers","following_url":"https://api.github.com/users/AbdelsalamHaa/following{/other_user}","gists_url":"https://api.github.com/users/AbdelsalamHaa/gists{/gist_id}","starred_url":"https://api.github.com/users/AbdelsalamHaa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AbdelsalamHaa/subscriptions","organizations_url":"https://api.github.com/users/AbdelsalamHaa/orgs","repos_url":"https://api.github.com/users/AbdelsalamHaa/repos","events_url":"https://api.github.com/users/AbdelsalamHaa/events{/privacy}","received_events_url":"https://api.github.com/users/AbdelsalamHaa/received_events","type":"User","site_admin":false},"created_at":"2021-01-31T14:11:16Z","updated_at":"2021-01-31T14:11:16Z","author_association":"NONE","body":"\r\nHello @ku21fan \r\nI did what you recommended witch is to comments some line in deep-text-recognition-benchmark/modules/transformation.py and uncomment some other but than I faced this issue. \r\n\r\nRuntimeError: Error(s) in loading state_dict for DataParallel:\r\n\tUnexpected key(s) in state_dict: \"module.Transformation.GridGenerator.inv_delta_C\", \"module.Transformation.GridGenerator.P_hat\". \r\n","reactions":{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/comments/770388369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AbdelsalamHaa","id":35866217,"node_id":"MDQ6VXNlcjM1ODY2MjE3","avatar_url":"https://avatars.githubusercontent.com/u/35866217?v=4","gravatar_id":"","url":"https://api.github.com/users/AbdelsalamHaa","html_url":"https://github.com/AbdelsalamHaa","followers_url":"https://api.github.com/users/AbdelsalamHaa/followers","following_url":"https://api.github.com/users/AbdelsalamHaa/following{/other_user}","gists_url":"https://api.github.com/users/AbdelsalamHaa/gists{/gist_id}","starred_url":"https://api.github.com/users/AbdelsalamHaa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AbdelsalamHaa/subscriptions","organizations_url":"https://api.github.com/users/AbdelsalamHaa/orgs","repos_url":"https://api.github.com/users/AbdelsalamHaa/repos","events_url":"https://api.github.com/users/AbdelsalamHaa/events{/privacy}","received_events_url":"https://api.github.com/users/AbdelsalamHaa/received_events","type":"User","site_admin":false}},{"id":4270355708,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI3MDM1NTcwOA==","url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/events/4270355708","actor":{"login":"ku21fan","id":7953971,"node_id":"MDQ6VXNlcjc5NTM5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/7953971?v=4","gravatar_id":"","url":"https://api.github.com/users/ku21fan","html_url":"https://github.com/ku21fan","followers_url":"https://api.github.com/users/ku21fan/followers","following_url":"https://api.github.com/users/ku21fan/following{/other_user}","gists_url":"https://api.github.com/users/ku21fan/gists{/gist_id}","starred_url":"https://api.github.com/users/ku21fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ku21fan/subscriptions","organizations_url":"https://api.github.com/users/ku21fan/orgs","repos_url":"https://api.github.com/users/ku21fan/repos","events_url":"https://api.github.com/users/ku21fan/events{/privacy}","received_events_url":"https://api.github.com/users/ku21fan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-01-31T14:11:16Z","performed_via_github_app":null},{"id":4270355709,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyNzAzNTU3MDk=","url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/events/4270355709","actor":{"login":"ku21fan","id":7953971,"node_id":"MDQ6VXNlcjc5NTM5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/7953971?v=4","gravatar_id":"","url":"https://api.github.com/users/ku21fan","html_url":"https://github.com/ku21fan","followers_url":"https://api.github.com/users/ku21fan/followers","following_url":"https://api.github.com/users/ku21fan/following{/other_user}","gists_url":"https://api.github.com/users/ku21fan/gists{/gist_id}","starred_url":"https://api.github.com/users/ku21fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ku21fan/subscriptions","organizations_url":"https://api.github.com/users/ku21fan/orgs","repos_url":"https://api.github.com/users/ku21fan/repos","events_url":"https://api.github.com/users/ku21fan/events{/privacy}","received_events_url":"https://api.github.com/users/ku21fan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-01-31T14:11:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/comments/985236809","html_url":"https://github.com/clovaai/deep-text-recognition-benchmark/issues/96#issuecomment-985236809","issue_url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/96","id":985236809,"node_id":"IC_kwDOCq7kDM46uYVJ","user":{"login":"nag1045","id":84288900,"node_id":"MDQ6VXNlcjg0Mjg4OTAw","avatar_url":"https://avatars.githubusercontent.com/u/84288900?v=4","gravatar_id":"","url":"https://api.github.com/users/nag1045","html_url":"https://github.com/nag1045","followers_url":"https://api.github.com/users/nag1045/followers","following_url":"https://api.github.com/users/nag1045/following{/other_user}","gists_url":"https://api.github.com/users/nag1045/gists{/gist_id}","starred_url":"https://api.github.com/users/nag1045/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nag1045/subscriptions","organizations_url":"https://api.github.com/users/nag1045/orgs","repos_url":"https://api.github.com/users/nag1045/repos","events_url":"https://api.github.com/users/nag1045/events{/privacy}","received_events_url":"https://api.github.com/users/nag1045/received_events","type":"User","site_admin":false},"created_at":"2021-12-03T05:52:14Z","updated_at":"2021-12-03T05:52:14Z","author_association":"NONE","body":"> Thanks for your reply,but even after Load with model.load_state_dict(torch.load(opt.saved_model), strict=False), Iam still getting this error(find below) when change input size.\r\n> \r\n> RuntimeError: Error(s) in loading state_dict for DataParallel: size mismatch for module.Transformation.GridGenerator.P_hat: copying a param with shape torch.Size([3200, 23]) from checkpoint, the shape in current model is torch.Size([15000, 23]).\r\n> \r\n> Please reply asap\r\n\r\ndid you solve this problem?","reactions":{"url":"https://api.github.com/repos/clovaai/deep-text-recognition-benchmark/issues/comments/985236809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nag1045","id":84288900,"node_id":"MDQ6VXNlcjg0Mjg4OTAw","avatar_url":"https://avatars.githubusercontent.com/u/84288900?v=4","gravatar_id":"","url":"https://api.github.com/users/nag1045","html_url":"https://github.com/nag1045","followers_url":"https://api.github.com/users/nag1045/followers","following_url":"https://api.github.com/users/nag1045/following{/other_user}","gists_url":"https://api.github.com/users/nag1045/gists{/gist_id}","starred_url":"https://api.github.com/users/nag1045/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nag1045/subscriptions","organizations_url":"https://api.github.com/users/nag1045/orgs","repos_url":"https://api.github.com/users/nag1045/repos","events_url":"https://api.github.com/users/nag1045/events{/privacy}","received_events_url":"https://api.github.com/users/nag1045/received_events","type":"User","site_admin":false}}]