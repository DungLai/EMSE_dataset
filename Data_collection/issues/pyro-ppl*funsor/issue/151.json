{"url":"https://api.github.com/repos/pyro-ppl/funsor/issues/151","repository_url":"https://api.github.com/repos/pyro-ppl/funsor","labels_url":"https://api.github.com/repos/pyro-ppl/funsor/issues/151/labels{/name}","comments_url":"https://api.github.com/repos/pyro-ppl/funsor/issues/151/comments","events_url":"https://api.github.com/repos/pyro-ppl/funsor/issues/151/events","html_url":"https://github.com/pyro-ppl/funsor/issues/151","id":459235646,"node_id":"MDU6SXNzdWU0NTkyMzU2NDY=","number":151,"title":"DiCE factors from importance sampling?","user":{"login":"mattwescott","id":863268,"node_id":"MDQ6VXNlcjg2MzI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/863268?v=4","gravatar_id":"","url":"https://api.github.com/users/mattwescott","html_url":"https://github.com/mattwescott","followers_url":"https://api.github.com/users/mattwescott/followers","following_url":"https://api.github.com/users/mattwescott/following{/other_user}","gists_url":"https://api.github.com/users/mattwescott/gists{/gist_id}","starred_url":"https://api.github.com/users/mattwescott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattwescott/subscriptions","organizations_url":"https://api.github.com/users/mattwescott/orgs","repos_url":"https://api.github.com/users/mattwescott/repos","events_url":"https://api.github.com/users/mattwescott/events{/privacy}","received_events_url":"https://api.github.com/users/mattwescott/received_events","type":"User","site_admin":false},"labels":[{"id":1262045842,"node_id":"MDU6TGFiZWwxMjYyMDQ1ODQy","url":"https://api.github.com/repos/pyro-ppl/funsor/labels/discussion","name":"discussion","color":"fef2c0","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-06-21T14:49:29Z","updated_at":"2019-06-25T00:23:47Z","closed_at":"2019-06-25T00:23:47Z","author_association":"NONE","active_lock_reason":null,"body":"In `Tensor.unscaled_sample`, a DiCE factor is added to the sample. In `Gaussian.unscaled_sample`, this isn't necessary because of the parameterization of the delta function. \r\n\r\nSo far including DiCE with the samples doesn't sit quite right conceptually. Could it make sense to instead approach this from importance sampling? The default interpretation of `adjoint(p) @ f` for continuous p might be to use importance sampling with some default proposal q. To maintain differentiability, the importance weights would be `p / q.detach()`. If samples can be drawn from p, then p can be used for the proposal, and the importance weights would be `p / p.detach()`, which in this context are the DiCE factors.\r\n\r\nAm I missing some benefits of the DiCE formalism?","closed_by":{"login":"mattwescott","id":863268,"node_id":"MDQ6VXNlcjg2MzI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/863268?v=4","gravatar_id":"","url":"https://api.github.com/users/mattwescott","html_url":"https://github.com/mattwescott","followers_url":"https://api.github.com/users/mattwescott/followers","following_url":"https://api.github.com/users/mattwescott/following{/other_user}","gists_url":"https://api.github.com/users/mattwescott/gists{/gist_id}","starred_url":"https://api.github.com/users/mattwescott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattwescott/subscriptions","organizations_url":"https://api.github.com/users/mattwescott/orgs","repos_url":"https://api.github.com/users/mattwescott/repos","events_url":"https://api.github.com/users/mattwescott/events{/privacy}","received_events_url":"https://api.github.com/users/mattwescott/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pyro-ppl/funsor/issues/151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pyro-ppl/funsor/issues/151/timeline","performed_via_github_app":null,"state_reason":"completed"}