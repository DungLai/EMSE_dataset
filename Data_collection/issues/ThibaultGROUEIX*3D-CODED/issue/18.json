{"url":"https://api.github.com/repos/ThibaultGROUEIX/3D-CODED/issues/18","repository_url":"https://api.github.com/repos/ThibaultGROUEIX/3D-CODED","labels_url":"https://api.github.com/repos/ThibaultGROUEIX/3D-CODED/issues/18/labels{/name}","comments_url":"https://api.github.com/repos/ThibaultGROUEIX/3D-CODED/issues/18/comments","events_url":"https://api.github.com/repos/ThibaultGROUEIX/3D-CODED/issues/18/events","html_url":"https://github.com/ThibaultGROUEIX/3D-CODED/issues/18","id":501886282,"node_id":"MDU6SXNzdWU1MDE4ODYyODI=","number":18,"title":"The problem\"OSError: [Errno 12] Cannot allocate memory\" when runing \"python ./training/train.py \"","user":{"login":"jayis520","id":48241137,"node_id":"MDQ6VXNlcjQ4MjQxMTM3","avatar_url":"https://avatars.githubusercontent.com/u/48241137?v=4","gravatar_id":"","url":"https://api.github.com/users/jayis520","html_url":"https://github.com/jayis520","followers_url":"https://api.github.com/users/jayis520/followers","following_url":"https://api.github.com/users/jayis520/following{/other_user}","gists_url":"https://api.github.com/users/jayis520/gists{/gist_id}","starred_url":"https://api.github.com/users/jayis520/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayis520/subscriptions","organizations_url":"https://api.github.com/users/jayis520/orgs","repos_url":"https://api.github.com/users/jayis520/repos","events_url":"https://api.github.com/users/jayis520/events{/privacy}","received_events_url":"https://api.github.com/users/jayis520/received_events","type":"User","site_admin":false},"labels":[{"id":968555372,"node_id":"MDU6TGFiZWw5Njg1NTUzNzI=","url":"https://api.github.com/repos/ThibaultGROUEIX/3D-CODED/labels/help%20wanted","name":"help wanted","color":"008672","default":true,"description":"Extra attention is needed"}],"state":"closed","locked":false,"assignee":{"login":"ThibaultGROUEIX","id":11445067,"node_id":"MDQ6VXNlcjExNDQ1MDY3","avatar_url":"https://avatars.githubusercontent.com/u/11445067?v=4","gravatar_id":"","url":"https://api.github.com/users/ThibaultGROUEIX","html_url":"https://github.com/ThibaultGROUEIX","followers_url":"https://api.github.com/users/ThibaultGROUEIX/followers","following_url":"https://api.github.com/users/ThibaultGROUEIX/following{/other_user}","gists_url":"https://api.github.com/users/ThibaultGROUEIX/gists{/gist_id}","starred_url":"https://api.github.com/users/ThibaultGROUEIX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThibaultGROUEIX/subscriptions","organizations_url":"https://api.github.com/users/ThibaultGROUEIX/orgs","repos_url":"https://api.github.com/users/ThibaultGROUEIX/repos","events_url":"https://api.github.com/users/ThibaultGROUEIX/events{/privacy}","received_events_url":"https://api.github.com/users/ThibaultGROUEIX/received_events","type":"User","site_admin":false},"assignees":[{"login":"ThibaultGROUEIX","id":11445067,"node_id":"MDQ6VXNlcjExNDQ1MDY3","avatar_url":"https://avatars.githubusercontent.com/u/11445067?v=4","gravatar_id":"","url":"https://api.github.com/users/ThibaultGROUEIX","html_url":"https://github.com/ThibaultGROUEIX","followers_url":"https://api.github.com/users/ThibaultGROUEIX/followers","following_url":"https://api.github.com/users/ThibaultGROUEIX/following{/other_user}","gists_url":"https://api.github.com/users/ThibaultGROUEIX/gists{/gist_id}","starred_url":"https://api.github.com/users/ThibaultGROUEIX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThibaultGROUEIX/subscriptions","organizations_url":"https://api.github.com/users/ThibaultGROUEIX/orgs","repos_url":"https://api.github.com/users/ThibaultGROUEIX/repos","events_url":"https://api.github.com/users/ThibaultGROUEIX/events{/privacy}","received_events_url":"https://api.github.com/users/ThibaultGROUEIX/received_events","type":"User","site_admin":false}],"milestone":null,"comments":7,"created_at":"2019-10-03T06:53:32Z","updated_at":"2021-11-12T11:09:39Z","closed_at":"2021-11-12T11:09:39Z","author_association":"NONE","active_lock_reason":null,"body":"Hi\r\n     I was trying to run model training command \"python ./training/train.py \",it reports:\r\n```\r\npython ./training/train.py \r\n\r\nUsed fix seed\r\nRandom Seed:  1\r\nWARNING:root:Setting up a new session...\r\ncreating folder   log/02019-10-03T11:24:32.317276\r\nPARAMETER: \r\n         batch_size : 32\r\n         workers : 10\r\n         nepoch : 100\r\n         start_epoch : 0\r\n         randomize : False\r\n         lrate : 0.001\r\n         lr_decay_1 : 80\r\n         lr_decay_2 : 90\r\n         number_points : 2500\r\n         faust : INTER\r\n         id : 0\r\n         env : CODED\r\n         display : True\r\n         port : 8889\r\n         dir_name : log/02019-10-03T11:24:32.317276\r\n         dataset_path : ./export/\r\n         model : \r\n         point_translation : False\r\n         dim_template : 3\r\n         patch_deformation : False\r\n         dim_out_patch : 3\r\n         start_from : TEMPLATE\r\n         accelerated_chamfer : True\r\n         HR : True\r\n         LR_input : True\r\n         reg_num_steps : 3000\r\n         inputA : data/example_0.ply\r\n         inputB : data/example_1.ply\r\n         num_angles : 100\r\n         clean : True\r\n         scale : True\r\n         project_on_target : False\r\n         date : 2019-10-03 11:24:32.317268\r\n         logname : log/02019-10-03T11:24:32.317276/log.txt\r\n         checkpointname : log/02019-10-03T11:24:32.317276/optimizer_last.pth\r\n         reload : False\r\ngit repo path :  https://github.com/ThibaultGROUEIX/3D-CODED/commit/\r\nEllapsed time to load dataset:  129.85412502288818\r\nnum_vertices 6890\r\nEllapsed time to load dataset:  0.11727118492126465\r\nnum_vertices 6890\r\nnum_vertices 6890\r\nUsing template to initialize template\r\nbottleneck_size 1027\r\nTraceback (most recent call last):\r\n  File \"./training/train.py\", line 24, in <module>\r\n    trainer.train_epoch()\r\n  File \"/media/lab601/000555B8000E726C/wuy/3D-CODED/training/trainer.py\", line 114, in train_epoch\r\n    iterator = self.dataloader_train.__iter__()\r\n  File \"/home/lab601/anaconda2/envs/pytorch-3D-CODED/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 819, in __iter__\r\n    return _DataLoaderIter(self)\r\n  File \"/home/lab601/anaconda2/envs/pytorch-3D-CODED/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 560, in __init__\r\n    w.start()\r\n  File \"/home/lab601/anaconda2/envs/pytorch-3D-CODED/lib/python3.7/multiprocessing/process.py\", line 112, in start\r\n    self._popen = self._Popen(self)\r\n  File \"/home/lab601/anaconda2/envs/pytorch-3D-CODED/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\r\n    return _default_context.get_context().Process._Popen(process_obj)\r\n  File \"/home/lab601/anaconda2/envs/pytorch-3D-CODED/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\r\n    return Popen(process_obj)\r\n  File \"/home/lab601/anaconda2/envs/pytorch-3D-CODED/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\r\n    self._launch(process_obj)\r\n  File \"/home/lab601/anaconda2/envs/pytorch-3D-CODED/lib/python3.7/multiprocessing/popen_fork.py\", line 70, in _launch\r\n    self.pid = os.fork()\r\nOSError: [Errno 12] Cannot allocate memory\r\n```\r\n     I see the code,and find the problem is in dataset.py\r\n       _if self.train:\r\n            self.datas = torch.load(\"./data/datas_surreal_train.pth\")\r\n        else:\r\n            self.datas = torch.load(\"./data/datas_surreal_test.pth\")_\r\n     The size of file \"datas_surreal_train.pth\" is 18Gï¼Œbut my computor's GPU memory size is 11G.How can I solve this problem?","closed_by":{"login":"ThibaultGROUEIX","id":11445067,"node_id":"MDQ6VXNlcjExNDQ1MDY3","avatar_url":"https://avatars.githubusercontent.com/u/11445067?v=4","gravatar_id":"","url":"https://api.github.com/users/ThibaultGROUEIX","html_url":"https://github.com/ThibaultGROUEIX","followers_url":"https://api.github.com/users/ThibaultGROUEIX/followers","following_url":"https://api.github.com/users/ThibaultGROUEIX/following{/other_user}","gists_url":"https://api.github.com/users/ThibaultGROUEIX/gists{/gist_id}","starred_url":"https://api.github.com/users/ThibaultGROUEIX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThibaultGROUEIX/subscriptions","organizations_url":"https://api.github.com/users/ThibaultGROUEIX/orgs","repos_url":"https://api.github.com/users/ThibaultGROUEIX/repos","events_url":"https://api.github.com/users/ThibaultGROUEIX/events{/privacy}","received_events_url":"https://api.github.com/users/ThibaultGROUEIX/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ThibaultGROUEIX/3D-CODED/issues/18/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ThibaultGROUEIX/3D-CODED/issues/18/timeline","performed_via_github_app":null,"state_reason":"completed"}