{"url":"https://api.github.com/repos/wentaoyuan/pcn/issues/24","repository_url":"https://api.github.com/repos/wentaoyuan/pcn","labels_url":"https://api.github.com/repos/wentaoyuan/pcn/issues/24/labels{/name}","comments_url":"https://api.github.com/repos/wentaoyuan/pcn/issues/24/comments","events_url":"https://api.github.com/repos/wentaoyuan/pcn/issues/24/events","html_url":"https://github.com/wentaoyuan/pcn/issues/24","id":453430824,"node_id":"MDU6SXNzdWU0NTM0MzA4MjQ=","number":24,"title":"Unable to run demo","user":{"login":"kvmanohar22","id":15105941,"node_id":"MDQ6VXNlcjE1MTA1OTQx","avatar_url":"https://avatars.githubusercontent.com/u/15105941?v=4","gravatar_id":"","url":"https://api.github.com/users/kvmanohar22","html_url":"https://github.com/kvmanohar22","followers_url":"https://api.github.com/users/kvmanohar22/followers","following_url":"https://api.github.com/users/kvmanohar22/following{/other_user}","gists_url":"https://api.github.com/users/kvmanohar22/gists{/gist_id}","starred_url":"https://api.github.com/users/kvmanohar22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvmanohar22/subscriptions","organizations_url":"https://api.github.com/users/kvmanohar22/orgs","repos_url":"https://api.github.com/users/kvmanohar22/repos","events_url":"https://api.github.com/users/kvmanohar22/events{/privacy}","received_events_url":"https://api.github.com/users/kvmanohar22/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-06-07T09:53:18Z","updated_at":"2019-06-07T10:33:03Z","closed_at":"2019-06-07T10:33:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Hi, \r\n\r\nI am having trouble in running the `demo.py` to just check if everything is okay. I keep running into problems with the following error.\r\n\r\nSystem specs:\r\n```\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 16.04.5 LTS\r\nRelease:        16.04\r\nCodename:       xenial\r\n```\r\nTensorflow: 1.12.0, cuda 9.0, python 3.5.\r\n\r\nWhen I run the demo.py script; I get the following error; \r\n\r\n```bash\r\nTraceback (most recent call last):\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1628, in \r\n_create_c_op\r\n    c_op = c_api.TF_FinishOperation(op_desc)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Shapes must be equal rank, but are 2 and 0\r\n        From merging shape 1 with other shapes. for 'encoder_0/Tile/multiples_1' (op: 'Pack') with input shapes: [], [1\r\n6384,3], [].\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", lin\r\ne 510, in _apply_op_helper\r\n    preferred_dtype=default_dtype)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1146, in \r\ninternal_convert_to_tensor\r\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 971, in _\r\nautopacking_conversion_function\r\n    return _autopacking_helper(v, dtype, name or \"packed\")\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 923, in _\r\nautopacking_helper\r\n    return gen_array_ops.pack(elems_as_tensors, name=scope)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 4875,\r\n in pack\r\n    \"Pack\", values=values, axis=axis, name=name)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", lin\r\ne 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py\", line 488, i\r\nn new_func\r\n    return func(*args, **kwargs)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 3274, in \r\ncreate_op\r\n    op_def=op_def)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1792, in \r\n__init__\r\n    control_input_ops)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1631, in \r\n_create_c_op\r\n    raise ValueError(str(e))\r\nValueError: Shapes must be equal rank, but are 2 and 0\r\n        From merging shape 1 with other shapes. for 'encoder_0/Tile/multiples_1' (op: 'Pack') with input shapes: [], [1\r\n6384,3], [].\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1628, in \r\n_create_c_op\r\n    c_op = c_api.TF_FinishOperation(op_desc)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Shapes must be equal rank, but are 2 and 0\r\n        From merging shape 1 with other shapes. for 'encoder_0/Tile/packed' (op: 'Pack') with input shapes: [], [16384,\r\n3], [].\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", lin\r\ne 524, in _apply_op_helper\r\n    values, as_ref=input_arg.is_ref).dtype.name\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1146, in \r\ninternal_convert_to_tensor\r\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 971, in _\r\nautopacking_conversion_function\r\n    return _autopacking_helper(v, dtype, name or \"packed\")\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 923, in _\r\nautopacking_helper\r\n    return gen_array_ops.pack(elems_as_tensors, name=scope)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 4875,\r\n in pack\r\n    \"Pack\", values=values, axis=axis, name=name)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", lin\r\ne 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py\", line 488, i\r\nn new_func\r\n    return func(*args, **kwargs)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 3274, in \r\ncreate_op\r\n    op_def=op_def)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1792, in \r\n__init__\r\n    control_input_ops)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1631, in \r\n_create_c_op\r\n    raise ValueError(str(e))\r\nValueError: Shapes must be equal rank, but are 2 and 0\r\n        From merging shape 1 with other shapes. for 'encoder_0/Tile/packed' (op: 'Pack') with input shapes: [], [16384,\r\n3], [].\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"demo.py\", line 35, in <module>\r\n    model = model_module.Model(inputs, gt, tf.constant(1.0), 0.5)\r\n  File \"/home/ankush/kv/pcn/models/pcn_cd.py\", line 13, in __init__\r\n    self.features = self.create_encoder(inputs, npts)\r\n  File \"/home/ankush/kv/pcn/models/pcn_cd.py\", line 28, in create_encoder\r\n    features_global = point_unpool(point_maxpool(features, npts, keepdims=True), npts)\r\n  File \"/home/ankush/kv/pcn/tf_util.py\", line 48, in point_unpool\r\n    outputs = [tf.tile(f, [1, npts[i], 1]) for i,f in enumerate(inputs)]\r\n  File \"/home/ankush/kv/pcn/tf_util.py\", line 48, in <listcomp>\r\n    outputs = [tf.tile(f, [1, npts[i], 1]) for i,f in enumerate(inputs)]\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 8805,\r\n in tile\r\n    \"Tile\", input=input, multiples=multiples, name=name)\r\n  File \"/home/ankush/anaconda3/envs/pcn/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", lin\r\ne 528, in _apply_op_helper\r\n    (input_name, err))\r\nValueError: Tried to convert 'multiples' to a tensor and failed. Error: Shapes must be equal rank, but are 2 and 0\r\n        From merging shape 1 with other shapes. for 'encoder_0/Tile/packed' (op: 'Pack') with input shapes: [], [16384,\r\n3], [].\r\n```\r\nI did check the inputs and they do not seem to be of 0 rank. Quite surprising. Could you please have a look at this?\r\n\r\nThanks!\r\n\r\n\r\n","closed_by":{"login":"kvmanohar22","id":15105941,"node_id":"MDQ6VXNlcjE1MTA1OTQx","avatar_url":"https://avatars.githubusercontent.com/u/15105941?v=4","gravatar_id":"","url":"https://api.github.com/users/kvmanohar22","html_url":"https://github.com/kvmanohar22","followers_url":"https://api.github.com/users/kvmanohar22/followers","following_url":"https://api.github.com/users/kvmanohar22/following{/other_user}","gists_url":"https://api.github.com/users/kvmanohar22/gists{/gist_id}","starred_url":"https://api.github.com/users/kvmanohar22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvmanohar22/subscriptions","organizations_url":"https://api.github.com/users/kvmanohar22/orgs","repos_url":"https://api.github.com/users/kvmanohar22/repos","events_url":"https://api.github.com/users/kvmanohar22/events{/privacy}","received_events_url":"https://api.github.com/users/kvmanohar22/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/wentaoyuan/pcn/issues/24/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/wentaoyuan/pcn/issues/24/timeline","performed_via_github_app":null,"state_reason":"completed"}