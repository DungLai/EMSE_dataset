{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1626","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1626/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1626/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1626/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1626","id":1090647312,"node_id":"I_kwDOB5BM6c5BAfUQ","number":1626,"title":"`ValueError: Unrecognized track_method=`","user":{"login":"linyangju1994","id":44795395,"node_id":"MDQ6VXNlcjQ0Nzk1Mzk1","avatar_url":"https://avatars.githubusercontent.com/u/44795395?v=4","gravatar_id":"","url":"https://api.github.com/users/linyangju1994","html_url":"https://github.com/linyangju1994","followers_url":"https://api.github.com/users/linyangju1994/followers","following_url":"https://api.github.com/users/linyangju1994/following{/other_user}","gists_url":"https://api.github.com/users/linyangju1994/gists{/gist_id}","starred_url":"https://api.github.com/users/linyangju1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyangju1994/subscriptions","organizations_url":"https://api.github.com/users/linyangju1994/orgs","repos_url":"https://api.github.com/users/linyangju1994/repos","events_url":"https://api.github.com/users/linyangju1994/events{/privacy}","received_events_url":"https://api.github.com/users/linyangju1994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2021-12-29T17:08:22Z","updated_at":"2021-12-30T22:40:39Z","closed_at":"2021-12-30T22:40:39Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nHi DLC team, \r\n\r\nI am using the GUI DLC (single animal model) to track a single fly and its interaction with a food dot (So I label the fly and the food with one dot respectively).  The training went smoothly and the evaluation result is OK.\r\n\r\nWhen I try to use the analyze videos to first analyze the video I used  to train, the processing step itself seems normal (processed a 10min video for ~3min till 100%) and no error is reported, but there is no any output file is generated after analyzing.  So it will show \"no unfiltered data file found\" and further errors  if I clicked \"yes\" for downstream options like \"want to plot the trajectory\" in the \"analyze videos\" step.  I did blindly did a searching to see whether the output file is somewhere else but not found. \r\n\r\nI found a previous comment that re-encoding the video may help if there is frame corrupted (I did see some sign since when deeplabcut was automatically picking 100 frames to label, only 98 were exported and they said 1 frame cannot be found), so I re-encoding the video by \"ffmpeg -i \"flyvideo.mp4\" -c:v libx264 -crf 23 -c:a copy \"flyvideo2.mp4\"\", but it didn't help. \r\n\r\nCould you help me look through this?\r\n\r\nThanks and happy new year. \n\n### Operating System\n\nWindows 10\n\n### DeepLabCut version\n\n>>> import deeplabcut\r\n>>> deeplabcut.__version__\r\n'2.2.0.3'\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\nRTX 2080 Ti\n\n### Steps To Reproduce\n\nOn the GUI \"analyze videos\"\r\n\r\nselect the video I used for training (either original or re-encoded)\r\n\r\nspecify the video type: mp4 and clicked yes for \"save csv\", \"want plots to pop up\" and \"want to plot the trajectory\" (if I don't click yes for them, there won't be error but still no output file is generated\")\r\n\r\n\n\n### Relevant log output\n\n```shell\nUse the function 'analyze_video' to make predictions on new videos.\r\nOtherwise, consider adding more labeled-data and retraining the network (see DeepLabCut workflow Fig 2, Nath 2019)\r\nConfig:\r\n{'all_joints': [[0], [1]],\r\n 'all_joints_names': ['bodypart1', 'food'],\r\n 'batch_size': 1,\r\n 'crop_pad': 0,\r\n 'dataset': 'training-datasets\\\\iteration-0\\\\UnaugmentedDataSet_flytrack2Dec28\\\\flytrack2_LJ95shuffle1.mat',\r\n 'dataset_type': 'imgaug',\r\n 'deterministic': False,\r\n 'fg_fraction': 0.25,\r\n 'global_scale': 0.8,\r\n 'init_weights': 'E:\\\\anaconda3\\\\envs\\\\deeplabcut\\\\lib\\\\site-packages\\\\deeplabcut\\\\pose_estimation_tensorflow\\\\models\\\\pretrained\\\\resnet_v1_50.ckpt',\r\n 'intermediate_supervision': False,\r\n 'intermediate_supervision_layer': 12,\r\n 'location_refinement': True,\r\n 'locref_huber_loss': True,\r\n 'locref_loss_weight': 1.0,\r\n 'locref_stdev': 7.2801,\r\n 'log_dir': 'log',\r\n 'mean_pixel': [123.68, 116.779, 103.939],\r\n 'mirror': False,\r\n 'net_type': 'resnet_50',\r\n 'num_joints': 2,\r\n 'optimizer': 'sgd',\r\n 'pairwise_huber_loss': True,\r\n 'pairwise_predict': False,\r\n 'partaffinityfield_predict': False,\r\n 'regularize': False,\r\n 'scoremap_dir': 'test',\r\n 'shuffle': True,\r\n 'snapshot_prefix': 'E:\\\\flytrack2-LJ-2021-12-28\\\\dlc-models\\\\iteration-0\\\\flytrack2Dec28-trainset95shuffle1\\\\test\\\\snapshot',\r\n 'stride': 8.0,\r\n 'weigh_negatives': False,\r\n 'weigh_only_present_joints': False,\r\n 'weigh_part_predictions': False,\r\n 'weight_decay': 0.0001}\r\nUsing snapshot-1030000 for model E:\\flytrack2-LJ-2021-12-28\\dlc-models\\iteration-0\\flytrack2Dec28-trainset95shuffle1\r\n2021-12-29 08:39:03.338611: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1525] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 8962 MB memory:  -> device: 0, name: NVIDIA GeForce RTX 2080 Ti, pci bus id: 0000:01:00.0, compute capability: 7.5\r\nStarting to analyze %  E:\\flytrack2-LJ-2021-12-28\\videos\\flyvideo.mp4\r\nLoading  E:\\flytrack2-LJ-2021-12-28\\videos\\flyvideo.mp4\r\nDuration of video [s]:  600.0 , recorded with  29.97 fps!\r\nOverall # of frames:  17982  found with (before cropping) frame dimensions:  416 416\r\nStarting to extract posture\r\n18079it [01:35, 188.44it/s]\r\nThe videos are analyzed. Now your research can truly start!\r\n You can create labeled videos with 'create_labeled_video'\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function 'extract_outlier_frames' to extract a few representative outlier frames.\r\n\r\nLoading  E:\\flytrack2-LJ-2021-12-28\\videos\\flyvideo2.mp4 and data.\r\nNo unfiltered data file found in E:\\flytrack2-LJ-2021-12-28\\videos for video flyvideo2 and scorer DLC_resnet50_flytrack2Dec28shuffle1_1030000.\r\nTraceback (most recent call last):\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\utils\\plotting.py\", line 257, in plot_trajectories\r\n    df, _, _, suffix = auxiliaryfunctions.load_analyzed_data(\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\utils\\auxiliaryfunctions.py\", line 768, in load_analyzed_data\r\n    filepath, scorer, suffix = find_analyzed_data(\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\utils\\auxiliaryfunctions.py\", line 754, in find_analyzed_data\r\n    raise FileNotFoundError(msg)\r\nFileNotFoundError: No unfiltered data file found in E:\\flytrack2-LJ-2021-12-28\\videos for video flyvideo2 and scorer DLC_resnet50_flytrack2Dec28shuffle1_1030000.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\gui\\analyze_videos.py\", line 529, in analyze_videos\r\n    deeplabcut.plot_trajectories(\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\utils\\plotting.py\", line 291, in plot_trajectories\r\n    _ = auxiliaryfunctions.load_detection_data(\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\utils\\auxiliaryfunctions.py\", line 785, in load_detection_data\r\n    raise ValueError(f\"Unrecognized track_method={track_method}\")\r\nValueError: Unrecognized track_method=\n```\n\n\n### Anything else?\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1626/timeline","performed_via_github_app":null,"state_reason":"completed"}