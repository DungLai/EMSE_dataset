{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/867","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/867/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/867/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/867/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/867","id":684377983,"node_id":"MDU6SXNzdWU2ODQzNzc5ODM=","number":867,"title":"Creating labeled video problem ","user":{"login":"eltabbal","id":22963512,"node_id":"MDQ6VXNlcjIyOTYzNTEy","avatar_url":"https://avatars.githubusercontent.com/u/22963512?v=4","gravatar_id":"","url":"https://api.github.com/users/eltabbal","html_url":"https://github.com/eltabbal","followers_url":"https://api.github.com/users/eltabbal/followers","following_url":"https://api.github.com/users/eltabbal/following{/other_user}","gists_url":"https://api.github.com/users/eltabbal/gists{/gist_id}","starred_url":"https://api.github.com/users/eltabbal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eltabbal/subscriptions","organizations_url":"https://api.github.com/users/eltabbal/orgs","repos_url":"https://api.github.com/users/eltabbal/repos","events_url":"https://api.github.com/users/eltabbal/events{/privacy}","received_events_url":"https://api.github.com/users/eltabbal/received_events","type":"User","site_admin":false},"labels":[{"id":1879321745,"node_id":"MDU6TGFiZWwxODc5MzIxNzQ1","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/Another%20package%20code%20issue","name":"Another package code issue","color":"91ff89","default":false,"description":"Bug/issue that relates to a dlc dependency"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2020-08-24T05:45:43Z","updated_at":"2020-08-24T09:00:47Z","closed_at":"2020-08-24T09:00:47Z","author_association":"NONE","active_lock_reason":null,"body":"#**Describe the bug**\r\n\r\nI am trying to create a labeled video after the analysis. if I used the GUI, nothing happens and it keeps buffering and deeplabcut GUI crashes. if i used the command window i got the following error in the pool.map function line 502 in make_labeled_video.py. i am using the following config for the project: \r\n\r\nProject path (change when moving around)\r\nproject_path: D:\\Deeplabcutanalysis\\Project-2020-08-21\r\n Annotation data set configuration (and individual video cropping parameters)\r\nvideo_sets:\r\n  D:\\Deeplabcutanalysis\\Project-2020-08-21\\videos\\d10_090820_000_video_Trial_number 13.avi:\r\n    crop: 0, 1504, 0, 1000\r\n  D:\\Deeplabcutanalysis\\Project-2020-08-21\\videos\\d10_090820_000_video_Trial_number 14.avi:\r\n    crop: 0, 1504, 0, 1000\r\nbodyparts:\r\n- Tipofnose\r\n- upperJaw\r\n- LowerJaw\r\n- forepaw\r\n- Pellet\r\nstart: 0\r\nstop: 1\r\nnumframes2pick: 20\r\nPlotting configuration\r\nskeleton:\r\n- - bodypart1\r\n  - bodypart2\r\n- - objectA\r\n  - bodypart3\r\nskeleton_color: black\r\npcutoff: 0.6\r\ndotsize: 12\r\nalphavalue: 0.7\r\ncolormap: jet\r\nTraining,Evaluation and Analysis configuration\r\nTrainingFraction:\r\n- 0.95\r\niteration: 0\r\nresnet:\r\nsnapshotindex: -1\r\nbatch_size: 8\r\nCropping Parameters (for analysis and outlier frame detection)\r\ncropping: false\r\n#if cropping is true for analysis, then set the values here:\r\nx1: 0\r\nx2: 640\r\ny1: 277\r\ny2: 624\r\nRefinement configuration (parameters from annotation dataset configuration also relevant in this stage)\r\ncorner2move2:\r\n- 50\r\n- 50\r\nmove2corner: true\r\ndefault_net_type: resnet_50\r\ndefault_augmenter: default\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Windows10\r\n - DeepLabCut Version 2.2b7\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n#Here is the detailed summary of the error \r\n\r\ndlc.create_labeled_video(config_path,[r'D:\\Trials_Deeplab cut training\\Deeplabanalysis\\10_110820_000_video_Trial_number 4.avi'], save_frames=False,filtered=True,fastmode=False);\r\nRemoteTraceback: \r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\multiprocessing\\pool.py\", line 119, in worker\r\n    result = (True, func(*args, **kwds))\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\multiprocessing\\pool.py\", line 44, in mapstar\r\n    return list(map(*args))\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\deeplabcut\\utils\\make_labeled_video.py\", line 611, in proc_video\r\n    color_by,\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\deeplabcut\\utils\\make_labeled_video.py\", line 284, in CreateVideoSlow\r\n    for index in trange(nframes):\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\tqdm\\std.py\", line 1469, in trange\r\n    return tqdm(_range(*args), **kwargs)\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\tqdm\\std.py\", line 1029, in __init__\r\n    self.refresh(lock_args=self.lock_args)\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\tqdm\\std.py\", line 1314, in refresh\r\n    self.display()\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\tqdm\\std.py\", line 1438, in display\r\n    self.sp(self.__repr__() if msg is None else msg)\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\tqdm\\std.py\", line 305, in print_status\r\n    fp_write('\\r' + s + (' ' * max(last_len[0] - len_s, 0)))\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\tqdm\\std.py\", line 298, in fp_write\r\n    fp.write(_unicode(s))\r\nAttributeError: 'NoneType' object has no attribute 'write'\r\n\"\"\"\r\n\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-4-6bca8b0d404b>\", line 1, in <module>\r\n    dlc.create_labeled_video(config_path,[r'D:\\Trials_Deeplab cut training\\Deeplabanalysis\\demi10_110820_000_video_Trial_number 4.avi'], save_frames=False,filtered=True,fastmode=False);\r\n\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\site-packages\\deeplabcut\\utils\\make_labeled_video.py\", line 502, in create_labeled_video\r\n    pool.map(func, Videos)\r\n\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\multiprocessing\\pool.py\", line 266, in map\r\n    return self._map_async(func, iterable, mapstar, chunksize).get()\r\n\r\n  File \"C:\\Users\\TABBAL\\AppData\\Local\\Continuum\\anaconda3\\envs\\dlc-windowsGPU\\lib\\multiprocessing\\pool.py\", line 644, in get\r\n    raise self._value\r\n\r\nAttributeError: 'NoneType' object has no attribute 'write'\r\n\r\n\r\n\r\n","closed_by":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/867/timeline","performed_via_github_app":null,"state_reason":"completed"}