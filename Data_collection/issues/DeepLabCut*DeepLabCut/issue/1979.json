{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1979","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1979/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1979/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1979/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1979","id":1368451222,"node_id":"I_kwDOB5BM6c5RkOiW","number":1979,"title":"Labels on labeled video placed from cropped coordinates","user":{"login":"jonpedros","id":85462635,"node_id":"MDQ6VXNlcjg1NDYyNjM1","avatar_url":"https://avatars.githubusercontent.com/u/85462635?v=4","gravatar_id":"","url":"https://api.github.com/users/jonpedros","html_url":"https://github.com/jonpedros","followers_url":"https://api.github.com/users/jonpedros/followers","following_url":"https://api.github.com/users/jonpedros/following{/other_user}","gists_url":"https://api.github.com/users/jonpedros/gists{/gist_id}","starred_url":"https://api.github.com/users/jonpedros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonpedros/subscriptions","organizations_url":"https://api.github.com/users/jonpedros/orgs","repos_url":"https://api.github.com/users/jonpedros/repos","events_url":"https://api.github.com/users/jonpedros/events{/privacy}","received_events_url":"https://api.github.com/users/jonpedros/received_events","type":"User","site_admin":false},"labels":[{"id":880550034,"node_id":"MDU6TGFiZWw4ODA1NTAwMzQ=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2022-09-10T01:27:39Z","updated_at":"2022-09-28T07:57:23Z","closed_at":"2022-09-28T07:57:23Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Bug description\r\n\r\nHello everyone,\r\n\r\nI'm having an issue with the create_labeled_video function. Currently, I've been analyzing novel videos by setting cropping coordinates for each file separately. I do this because I labeled frames cropped around the eye and now pupil border detection performance is perfect this way (but quite finicky when using the whole frame or even with dynamic cropping).\r\n\r\nHowever, when creating the labeled videos, the labels are placed according to the cropped frames label coordinates, as you can see here. \r\n\r\n![vlcsnap-2022-09-10-09h38m51s478](https://user-images.githubusercontent.com/85462635/189463319-f14d4c76-2f11-4daf-8ce3-5da3a275c47d.png)\r\n\r\nHere is a frame from a labeled video created with `displaycropped=True`\r\n\r\n![vlcsnap-2022-09-10-09h38m55s898](https://user-images.githubusercontent.com/85462635/189463340-63bc031a-895a-4327-ab13-9afd7a389e9d.png)\r\n\r\nThe issue doesn't happen with no cropping or dynamic cropping.\r\n\r\nI found [this](https://forum.image.sc/t/madlc-video-analysis-with-cropping-wrong-labeling/43671) discussion on image.sc, in which the user solved the exact same problem by using `cropping=False` on the config.yaml file. I checked this boolean is false for my file, so that shouldn't be an issue. \r\n\r\nLastly, I noticed that, when using `save_frames=True`, the created frame_temp folder has all the files with the correct label placing, although I haven't been able to check the finished video for this mode because the file is not written (but with no error output) and only a few frames remain in the temporary folder.\r\n\r\n### Operating System\r\n\r\nWindows 10 (Native)\r\n\r\n### DeepLabCut version\r\n\r\nDLC 2.2.2\r\n\r\n### DeepLabCut mode\r\n\r\nsingle animal\r\n\r\n### Device type\r\n\r\nNVIDIA GeForce RTX 2600 SUPER\r\n\r\n### Steps To Reproduce\r\n\r\n1 - Use network trained from cropped frames\r\n2 - Analyze novel video with cropping parameters\r\n3 - Create labeled video\r\n\r\n### Relevant log output\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1979/timeline","performed_via_github_app":null,"state_reason":"completed"}