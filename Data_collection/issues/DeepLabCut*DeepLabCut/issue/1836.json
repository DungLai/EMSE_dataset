{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1836","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1836/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1836/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1836/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1836","id":1238640449,"node_id":"I_kwDOB5BM6c5J1CdB","number":1836,"title":"Uncaught exception for Symlink on Windows","user":{"login":"nickdelgrosso","id":3802999,"node_id":"MDQ6VXNlcjM4MDI5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/3802999?v=4","gravatar_id":"","url":"https://api.github.com/users/nickdelgrosso","html_url":"https://github.com/nickdelgrosso","followers_url":"https://api.github.com/users/nickdelgrosso/followers","following_url":"https://api.github.com/users/nickdelgrosso/following{/other_user}","gists_url":"https://api.github.com/users/nickdelgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/nickdelgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickdelgrosso/subscriptions","organizations_url":"https://api.github.com/users/nickdelgrosso/orgs","repos_url":"https://api.github.com/users/nickdelgrosso/repos","events_url":"https://api.github.com/users/nickdelgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/nickdelgrosso/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2022-05-17T13:24:40Z","updated_at":"2022-05-20T09:10:57Z","closed_at":"2022-05-20T09:10:57Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nWhen creating a new project on a Windows machine with copy_videos set to `False`, an error was raised.  I noticed that the function was designed to catch this situation and switch to video copying automatically, but catches the wrong error.  \r\n\r\n\r\n\n\n### Operating System\n\nWindows 10\n\n### DeepLabCut version\n\n2.2.1\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\nNVidia GTX 970\n\n### Steps To Reproduce\n\n```python\r\nproject = deeplabcut.create_new_project(\r\n    project='wasptest2',\r\n    experimenter='NickDG',\r\n    videos=glob('waspvids/*.avi'),\r\n    working_directory='./wasptest2-project',\r\n    copy_videos=False,\r\n    videotype='.avi',\r\n    multianimal=False,\r\n)\r\n```\n\n### Relevant log output\n\n```shell\nFile ~\\.conda\\envs\\dlc2\\lib\\site-packages\\deeplabcut\\create_project\\new.py:162, in create_new_project(project, experimenter, videos, working_directory, copy_videos, videotype, multianimal)\r\n    159 try:\r\n    160     import subprocess\r\n--> 162     subprocess.check_call(\"mklink %s %s\" % (dst, src), shell=True)\r\n    163 except OSError:\r\n    164     print(\r\n    165         \"Symlink creation impossible (exFat architecture?): \"\r\n    166         \"cutting/pasting the video instead.\"\r\n    167     )\r\n\r\nFile ~\\.conda\\envs\\dlc2\\lib\\subprocess.py:364, in check_call(*popenargs, **kwargs)\r\n    362     if cmd is None:\r\n    363         cmd = popenargs[0]\r\n--> 364     raise CalledProcessError(retcode, cmd)\r\n    365 return 0\r\n\r\nCalledProcessError: Command 'mklink wasptest2-project\\wasptest2-NickDG-2022-05-17\\videos\\jwasp0.avi waspvids\\jwasp0.avi' returned non-zero exit status 1.\n```\n\n\n### Anything else?\n\n\r\nFor a simple fix, I would propose catching the CalledProcessError alongside the OSError in the try-catch block (will submit a pull request soon).\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1836/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1836/timeline","performed_via_github_app":null,"state_reason":"completed"}