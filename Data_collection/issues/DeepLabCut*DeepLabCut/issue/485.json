{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/485","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/485/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/485/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/485/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/485","id":521249252,"node_id":"MDU6SXNzdWU1MjEyNDkyNTI=","number":485,"title":"KeyError: '-' when creating the labeled 3d videos","user":{"login":"FredericaLee","id":26166375,"node_id":"MDQ6VXNlcjI2MTY2Mzc1","avatar_url":"https://avatars.githubusercontent.com/u/26166375?v=4","gravatar_id":"","url":"https://api.github.com/users/FredericaLee","html_url":"https://github.com/FredericaLee","followers_url":"https://api.github.com/users/FredericaLee/followers","following_url":"https://api.github.com/users/FredericaLee/following{/other_user}","gists_url":"https://api.github.com/users/FredericaLee/gists{/gist_id}","starred_url":"https://api.github.com/users/FredericaLee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FredericaLee/subscriptions","organizations_url":"https://api.github.com/users/FredericaLee/orgs","repos_url":"https://api.github.com/users/FredericaLee/repos","events_url":"https://api.github.com/users/FredericaLee/events{/privacy}","received_events_url":"https://api.github.com/users/FredericaLee/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-11-11T23:47:11Z","updated_at":"2019-11-12T00:02:05Z","closed_at":"2019-11-12T00:02:05Z","author_association":"NONE","active_lock_reason":null,"body":"**Your Operating system and DeepLabCut version**\r\n\r\nPlease state your operating system, env, and which version of DeepLabCut you are using.\r\nExample: Ubuntu 16.04 LTS, with an Anaconda Env, & DeepLabCut1.x or 2.x.\r\n\r\nPlease complete the following information about your system:\r\n\r\nOS: macOS Mojave 10.14.6 \r\nDeepLabCut Version 2.1.3\r\nBrowser Safari\r\n\r\n\r\n**Describe the problem**\r\n\r\nWhen I try to create the labeled 3d video by calling function\r\n_deeplabcut.create_labeled_video_3d(config_path,[video_path],videotype = 'mp4')_\r\nI met the _KeyError: '-'_\r\n\r\n#### Here is my config.yaml\r\n<img width=\"631\" alt=\"Screen Shot 2019-11-11 at 3 42 33 PM\" src=\"https://user-images.githubusercontent.com/26166375/68629802-04c95700-049a-11ea-9723-cc5bededfab1.png\">\r\n\r\n#### And this is the output\r\nAnalyzing all the videos in the directory\r\n[['/Users/linwei/deeplabcut/TD/video/1_DLC_3D.h5', '/Users/linwei/deeplabcut/TD/video/left-1.mp4', '/Users/linwei/deeplabcut/TD/video/right-1.mp4']]\r\nCreating 3D video from left-1.mp4 and right-1.mp4 using 1_DLC_3D.h5\r\nTrying to find filtered predictions...\r\nFound filtered predictions! I will use these for triangulation.\r\nThis is I found:  /Users/linwei/deeplabcut/TD/video/*left-1DLC_resnet50_dogwalkOct10shuffle1_59000*filtered.h5 /Users/linwei/deeplabcut/TD/video/*right-1DLC_resnet50_dogwalkOct10shuffle1_59000*filtered.h5\r\n  0%|                                                    | 0/31 [00:00<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"/Users/linwei/anaconda3/envs/tf/lib/python3.6/site-packages/pandas/core/indexes/base.py\", line 2522, in get_loc\r\n    return self._engine.get_loc(key)\r\n  File \"pandas/_libs/index.pyx\", line 117, in pandas._libs.index.IndexEngine.get_loc\r\n  File \"pandas/_libs/index.pyx\", line 139, in pandas._libs.index.IndexEngine.get_loc\r\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 1265, in pandas._libs.hashtable.PyObjectHashTable.get_item\r\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 1273, in pandas._libs.hashtable.PyObjectHashTable.get_item\r\nKeyError: '-'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/linwei/anaconda3/envs/tf/lib/python3.6/site-packages/deeplabcut/pose_estimation_3d/plotting3D.py\", line 147, in create_labeled_video_3d\r\n    output_folder,num_frames = plot2D(cfg_3d,k,bodyparts2plot,vid_cam1,vid_cam2,bodyparts2connect,df_cam1,df_cam2,df_3d,pcutoff,markerSize,alphaValue,color,path_h5_file,file_name,skeleton_color,view,draw_skeleton,trailpoints,xlim,ylim,zlim)\r\n  File \"/Users/linwei/anaconda3/envs/tf/lib/python3.6/site-packages/deeplabcut/pose_estimation_3d/plotting3D.py\", line 212, in plot2D\r\n    df_x[bpindex,:]=xyz_pts[scorer_3d][bp]['x'].values\r\n  File \"/Users/linwei/anaconda3/envs/tf/lib/python3.6/site-packages/pandas/core/frame.py\", line 2137, in __getitem__\r\n    return self._getitem_multilevel(key)\r\n  File \"/Users/linwei/anaconda3/envs/tf/lib/python3.6/site-packages/pandas/core/frame.py\", line 2181, in _getitem_multilevel\r\n    loc = self.columns.get_loc(key)\r\n  File \"/Users/linwei/anaconda3/envs/tf/lib/python3.6/site-packages/pandas/core/indexes/multi.py\", line 2071, in get_loc\r\n    loc = self._get_level_indexer(key, level=0)\r\n  File \"/Users/linwei/anaconda3/envs/tf/lib/python3.6/site-packages/pandas/core/indexes/multi.py\", line 2361, in _get_level_indexer\r\n    loc = level_index.get_loc(key)\r\n  File \"/Users/linwei/anaconda3/envs/tf/lib/python3.6/site-packages/pandas/core/indexes/base.py\", line 2524, in get_loc\r\n    return self._engine.get_loc(self._maybe_cast_indexer(key))\r\n  File \"pandas/_libs/index.pyx\", line 117, in pandas._libs.index.IndexEngine.get_loc\r\n  File \"pandas/_libs/index.pyx\", line 139, in pandas._libs.index.IndexEngine.get_loc\r\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 1265, in pandas._libs.hashtable.PyObjectHashTable.get_item\r\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 1273, in pandas._libs.hashtable.PyObjectHashTable.get_item\r\nKeyError: '-'\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/485/timeline","performed_via_github_app":null,"state_reason":"completed"}