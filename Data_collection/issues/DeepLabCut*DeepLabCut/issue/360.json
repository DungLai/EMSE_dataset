{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/360","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/360/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/360/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/360/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/360","id":467345975,"node_id":"MDU6SXNzdWU0NjczNDU5NzU=","number":360,"title":"HDF5ExtError: HDF5 error back trace when running the function evaluate_network [filename too long on windows!]","user":{"login":"tochenan","id":44315623,"node_id":"MDQ6VXNlcjQ0MzE1NjIz","avatar_url":"https://avatars.githubusercontent.com/u/44315623?v=4","gravatar_id":"","url":"https://api.github.com/users/tochenan","html_url":"https://github.com/tochenan","followers_url":"https://api.github.com/users/tochenan/followers","following_url":"https://api.github.com/users/tochenan/following{/other_user}","gists_url":"https://api.github.com/users/tochenan/gists{/gist_id}","starred_url":"https://api.github.com/users/tochenan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tochenan/subscriptions","organizations_url":"https://api.github.com/users/tochenan/orgs","repos_url":"https://api.github.com/users/tochenan/repos","events_url":"https://api.github.com/users/tochenan/events{/privacy}","received_events_url":"https://api.github.com/users/tochenan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-07-12T10:39:57Z","updated_at":"2019-07-14T18:53:27Z","closed_at":"2019-07-14T18:53:27Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nHello developer, when I am running the function : deeplabcut.evaluate_network, the following error took place.\r\n\r\nI use Windows10, Anaconda 3 and the newest version of deeplabcut\r\nI am pretty sure I run the command as an admin\r\n\r\nerror message:\r\n\r\n```\r\nC:\\Users\\analysis\\Desktop\\DeepLabCut\\DeepLabCut-master\\BRAC3477.2b\\evaluation-results\\iteration-0\\BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10-trainset95shuffle1  already exists!\r\nRunning  DeepCut_resnet50_BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10shuffle1_400000  with # of trainingiterations: 400000\r\nINFO:tensorflow:Restoring parameters from C:\\Users\\analysis\\Desktop\\DeepLabCut\\DeepLabCut-master\\BRAC3477.2b\\dlc-models\\iteration-0\\BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10-trainset95shuffle1\\train\\snapshot-400000\r\nAnalyzing data...\r\n23it [00:03,  7.43it/s]\r\n---------------------------------------------------------------------------\r\nFileNotFoundError                         Traceback (most recent call last)\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\evaluate.py in evaluate_network(config, Shuffles, plotting, show_errors, comparisonbodyparts, gputouse)\r\n    154                 try:\r\n--> 155                     DataMachine = pd.read_hdf(resultsfilename,'df_with_missing')\r\n    156                     print(\"This net has already been evaluated!\")\r\n\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\pandas\\io\\pytables.py in read_hdf(path_or_buf, key, mode, **kwargs)\r\n    346             raise compat.FileNotFoundError(\r\n--> 347                 'File %s does not exist' % path_or_buf)\r\n    348\r\n\r\nFileNotFoundError: File C:\\Users\\analysis\\Desktop\\DeepLabCut\\DeepLabCut-master\\BRAC3477.2b\\evaluation-results\\iteration-0\\BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10-trainset95shuffle1\\DeepCut_resnet50_BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10shuffle1_400000-snapshot-400000.h5 does not exist\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nHDF5ExtError                              Traceback (most recent call last)\r\n<ipython-input-6-944678ad1825> in <module>()\r\n----> 1 deeplabcut.evaluate_network('C:\\\\Users\\\\analysis\\\\Desktop\\\\DeepLabCut\\\\DeepLabCut-master\\\\BRAC3477.2b\\\\config.yaml',Shuffles=[1],plotting=True)\r\n\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\evaluate.py in evaluate_network(config, Shuffles, plotting, show_errors, comparisonbodyparts, gputouse)\r\n    183                     # Saving results\r\n    184                     DataMachine = pd.DataFrame(PredicteData, columns=index, index=Data.index.values)\r\n--> 185                     DataMachine.to_hdf(resultsfilename,'df_with_missing',format='table',mode='w')\r\n    186\r\n    187                     print(\"Done and results stored for snapshot: \", Snapshots[snapindex])\r\n\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\pandas\\core\\generic.py in to_hdf(self, path_or_buf, key, **kwargs)\r\n   1469\r\n   1470         from pandas.io import pytables\r\n-> 1471         return pytables.to_hdf(path_or_buf, key, self, **kwargs)\r\n   1472\r\n   1473     def to_msgpack(self, path_or_buf=None, encoding='utf-8', **kwargs):\r\n\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\pandas\\io\\pytables.py in to_hdf(path_or_buf, key, value, mode, complevel, complib, append, **kwargs)\r\n    278     if isinstance(path_or_buf, string_types):\r\n    279         with HDFStore(path_or_buf, mode=mode, complevel=complevel,\r\n--> 280                       complib=complib) as store:\r\n    281             f(store)\r\n    282     else:\r\n\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\pandas\\io\\pytables.py in __init__(self, path, mode, complevel, complib, fletcher32, **kwargs)\r\n    465         self._fletcher32 = fletcher32\r\n    466         self._filters = None\r\n--> 467         self.open(mode=mode, **kwargs)\r\n    468\r\n    469     def __fspath__(self):\r\n\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\pandas\\io\\pytables.py in open(self, mode, **kwargs)\r\n    578\r\n    579         try:\r\n--> 580             self._handle = tables.open_file(self._path, self._mode, **kwargs)\r\n    581         except (IOError) as e:  # pragma: no cover\r\n    582             if 'can not be written' in str(e):\r\n\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\tables\\file.py in open_file(filename, mode, title, root_uep, filters, **kwargs)\r\n    318\r\n    319     # Finally, create the File instance, and return it\r\n--> 320     return File(filename, mode, title, root_uep, filters, **kwargs)\r\n    321\r\n    322\r\n\r\nc:\\users\\analysis\\anaconda3\\envs\\dlc-windowsgpu\\lib\\site-packages\\tables\\file.py in __init__(self, filename, mode, title, root_uep, filters, **kwargs)\r\n    782\r\n    783         # Now, it is time to initialize the File extension\r\n--> 784         self._g_new(filename, mode, **params)\r\n    785\r\n    786         # Check filters and set PyTables format version for new files.\r\n\r\ntables\\hdf5extension.pyx in tables.hdf5extension.File._g_new()\r\n\r\nHDF5ExtError: HDF5 error back trace\r\n\r\n  File \"D:\\Build\\HDF5\\hdf5-1.10.4\\src\\H5F.c\", line 444, in H5Fcreate\r\n    unable to create file\r\n  File \"D:\\Build\\HDF5\\hdf5-1.10.4\\src\\H5Fint.c\", line 1364, in H5F__create\r\n    unable to open file\r\n  File \"D:\\Build\\HDF5\\hdf5-1.10.4\\src\\H5Fint.c\", line 1557, in H5F_open\r\n    unable to open file: time = Fri Jul 12 11:22:33 2019\r\n, name = 'C:\\Users\\analysis\\Desktop\\DeepLabCut\\DeepLabCut-master\\BRAC3477.2b\\evaluation-results\\iteration-0\\BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10-trainset95shuffle1\\DeepCut_resnet50_BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10shuffle1_400000-snapshot-400000.h5', tent_flags = 13\r\n  File \"D:\\Build\\HDF5\\hdf5-1.10.4\\src\\H5FD.c\", line 734, in H5FD_open\r\n    open failed\r\n  File \"D:\\Build\\HDF5\\hdf5-1.10.4\\src\\H5FDsec2.c\", line 346, in H5FD_sec2_open\r\n    unable to open file: name = 'C:\\Users\\analysis\\Desktop\\DeepLabCut\\DeepLabCut-master\\BRAC3477.2b\\evaluation-results\\iteration-0\\BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10-trainset95shuffle1\\DeepCut_resnet50_BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10shuffle1_400000-snapshot-400000.h5', errno = 2, error message = 'No such file or directory', flags = 13, o_flags = 302\r\n\r\nEnd of HDF5 error back trace\r\n\r\nUnable to open/create file 'C:\\Users\\analysis\\Desktop\\DeepLabCut\\DeepLabCut-master\\BRAC3477.2b\\evaluation-results\\iteration-0\\BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10-trainset95shuffle1\\DeepCut_resnet50_BRAC3477.2b bottom_right 08_07_2019 12_54_43 4Jul10shuffle1_400000-snapshot-400000.h5'\r\n\r\n\r\nconfig file information:\r\nIn [6]: deeplabcut.evaluate_network('C:\\\\Users\\\\analysis\\\\Desktop\\\\DeepLabCut\\\\DeepLabCut-master\\\\BRAC3477.2b\\\\config.y\r\n   ...: aml',Shuffles=[1],plotting=True)\r\nC:\\Users\\analysis\\Desktop\\DeepLabCut\\DeepLabCut-master\\BRAC3477.2b/evaluation-results/  already exists!\r\nConfig:\r\n{'all_joints': [[0],\r\n                [1],\r\n                [2],\r\n                [3],\r\n                [4],\r\n                [5],\r\n                [6],\r\n                [7],\r\n                [8],\r\n                [9],\r\n                [10],\r\n                [11],\r\n                [12],\r\n                [13],\r\n                [14],\r\n                [15]],\r\n 'all_joints_names': ['mouse',\r\n                      'left_ear',\r\n                      'right_ear',\r\n                      'left_shoulder',\r\n                      'right_shoulder',\r\n                      'left_back_leg',\r\n                      'right_back_leg',\r\n                      'tail_upper',\r\n                      'tail_middle',\r\n                      'tail_end',\r\n                      'pupA_head',\r\n                      'pupA_body',\r\n                      'pupA_tail',\r\n                      'pupB_head',\r\n                      'pupB_body',\r\n                      'pupB_tail'],\r\n 'batch_size': 1,\r\n 'bottomheight': 400,\r\n 'crop': True,\r\n 'crop_pad': 0,\r\n 'cropratio': 0.4,\r\n 'dataset': 'training-datasets\\\\iteration-0\\\\UnaugmentedDataSet_BRAC3477.2b '\r\n            'bottom_right 08_07_2019 12_54_43 4Jul10\\\\BRAC3477.2b bottom_right '\r\n            '08_07_2019 12_54_43 4_mc95shuffle1.mat',\r\n 'dataset_type': 'default',\r\n 'deterministic': False,\r\n 'display_iters': 1000,\r\n 'fg_fraction': 0.25,\r\n 'global_scale': 0.8,\r\n 'init_weights': 'c:\\\\users\\\\analysis\\\\anaconda3\\\\envs\\\\dlc-windowsgpu\\\\lib\\\\site-packages\\\\deeplabcut\\\\pose_estimation_tensorflow\\\\models\\\\pretrained\\\\resnet_v1_50.ckpt',\r\n 'intermediate_supervision': False,\r\n 'intermediate_supervision_layer': 12,\r\n 'leftwidth': 400,\r\n 'location_refinement': True,\r\n 'locref_huber_loss': True,\r\n 'locref_loss_weight': 0.05,\r\n 'locref_stdev': 7.2801,\r\n 'log_dir': 'log',\r\n 'max_input_size': 1500,\r\n 'mean_pixel': [123.68, 116.779, 103.939],\r\n 'metadataset': 'training-datasets\\\\iteration-0\\\\UnaugmentedDataSet_BRAC3477.2b '\r\n                'bottom_right 08_07_2019 12_54_43 '\r\n                '4Jul10\\\\Documentation_data-BRAC3477.2b bottom_right '\r\n                '08_07_2019 12_54_43 4_95shuffle1.pickle',\r\n 'min_input_size': 64,\r\n 'minsize': 100,\r\n 'mirror': False,\r\n 'multi_step': [[0.005, 10000],\r\n                [0.02, 430000],\r\n                [0.002, 730000],\r\n                [0.001, 1030000]],\r\n 'net_type': 'resnet_50',\r\n 'num_joints': 16,\r\n 'optimizer': 'sgd',\r\n 'pos_dist_thresh': 17,\r\n 'project_path': 'C:\\\\Users\\\\analysis\\\\Desktop\\\\DeepLabCut\\\\DeepLabCut-master\\\\BRAC3477.2b',\r\n 'regularize': False,\r\n 'rightwidth': 400,\r\n 'save_iters': 50000,\r\n 'scale_jitter_lo': 0.5,\r\n 'scale_jitter_up': 1.25,\r\n 'scoremap_dir': 'test',\r\n 'shuffle': True,\r\n 'snapshot_prefix': 'C:\\\\Users\\\\analysis\\\\Desktop\\\\DeepLabCut\\\\DeepLabCut-master\\\\BRAC3477.2b\\\\dlc-models\\\\iteration-0\\\\BRAC3477.2b '\r\n                    'bottom_right 08_07_2019 12_54_43 '\r\n                    '4Jul10-trainset95shuffle1\\\\test\\\\snapshot',\r\n 'stride': 8.0,\r\n 'topheight': 400,\r\n 'use_gt_segm': False,\r\n 'video': False,\r\n 'video_batch': False,\r\n 'weigh_negatives': False,\r\n 'weigh_only_present_joints': False,\r\n 'weigh_part_predictions': False,\r\n 'weight_decay': 0.0001}\r\n```\r\n\r\nthank you very much","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/360/timeline","performed_via_github_app":null,"state_reason":"completed"}