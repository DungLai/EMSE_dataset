{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/742","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/742/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/742/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/742/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/742","id":637882748,"node_id":"MDU6SXNzdWU2Mzc4ODI3NDg=","number":742,"title":"Create training dataset with \"Crop and Label Data\": Filename appends extra '.' during generation.","user":{"login":"catubc","id":4267452,"node_id":"MDQ6VXNlcjQyNjc0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4267452?v=4","gravatar_id":"","url":"https://api.github.com/users/catubc","html_url":"https://github.com/catubc","followers_url":"https://api.github.com/users/catubc/followers","following_url":"https://api.github.com/users/catubc/following{/other_user}","gists_url":"https://api.github.com/users/catubc/gists{/gist_id}","starred_url":"https://api.github.com/users/catubc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catubc/subscriptions","organizations_url":"https://api.github.com/users/catubc/orgs","repos_url":"https://api.github.com/users/catubc/repos","events_url":"https://api.github.com/users/catubc/events{/privacy}","received_events_url":"https://api.github.com/users/catubc/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"assignees":[{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-06-12T16:47:19Z","updated_at":"2020-06-12T18:58:45Z","closed_at":"2020-06-12T18:58:44Z","author_association":"NONE","active_lock_reason":null,"body":"Hi\r\n\r\nI have now confirmed starting a new project from scratch that there is a filename bug in the above function.  \r\n\r\nThe DLC code in fact appends an extra '.' explicitly now, not sure why that is happening:\r\n\r\n`    381                 video_orig = sep.join((vidpath, vidname + \".\" + videotype))`\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - Ubuntu 18.04\r\n - DeepLabCut Version: 2.26b\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior, i.e.:\r\n1. Label Frames\r\n2. Run Create training data using the \"Crop and Label Data\" Option (this bug is not present if this is turned off.\r\n```\r\n(DLC-GPU) cat@cat-System-Product-Name:~/code/DeepLabCut$ ipython\r\n^[[APython 3.7.6 (default, Jan  8 2020, 19:59:22) \r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.13.0 -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: import deeplabcut                                                                                                                                         \r\n^[[A^[[A\r\n\r\nIn [2]: deeplabcut.launch_dlc()                                                                                                                                   \r\nnote to user: currently only ResNet50-v1 is available for maDLC\r\nnote to user: currently model comparison is not available in maDLC\r\n100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5/5 [00:12<00:00,  2.41s/it]\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n~/code/DeepLabCut/deeplabcut/gui/create_training_dataset.py in create_training_dataset(self, event)\r\n    368                 ]\r\n    369                 deeplabcut.cropimagesandlabels(\r\n--> 370                     self.config, n_crops, (height, width), userfeedback\r\n    371                 )\r\n    372             else:\r\n\r\n~/code/DeepLabCut/deeplabcut/generate_training_dataset/trainingsetmanipulation.py in cropimagesandlabels(config, numcrops, size, userfeedback, cropdata, excludealreadycropped, updatevideoentries)\r\n    380                 # moving old entry to _original, dropping it from video_set and update crop parameters\r\n    381                 video_orig = sep.join((vidpath, vidname + \".\" + videotype))\r\n--> 382                 cfg[\"video_sets_original\"][video_orig] = cfg[\"video_sets\"][video_orig]\r\n    383                 cfg[\"video_sets\"].pop(video_orig)\r\n    384                 cfg[\"video_sets\"][video_orig.replace(vidname, new_vidname)] = {\r\n\r\n~/anaconda3/envs/DLC-GPU/lib/python3.7/site-packages/ruamel/yaml/comments.py in __getitem__(self, key)\r\n    751         # type: (Any) -> Any\r\n    752         try:\r\n--> 753             return ordereddict.__getitem__(self, key)\r\n    754         except KeyError:\r\n    755             for merged in getattr(self, merge_attrib, []):\r\n\r\nKeyError: '/media/cat/4TBSSD/dlc_models/movies/2020-3-8_12_08_57_943006_compressed..avi'\r\n\r\n\r\n```\r\n</p></details>\r\n","closed_by":{"login":"catubc","id":4267452,"node_id":"MDQ6VXNlcjQyNjc0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4267452?v=4","gravatar_id":"","url":"https://api.github.com/users/catubc","html_url":"https://github.com/catubc","followers_url":"https://api.github.com/users/catubc/followers","following_url":"https://api.github.com/users/catubc/following{/other_user}","gists_url":"https://api.github.com/users/catubc/gists{/gist_id}","starred_url":"https://api.github.com/users/catubc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catubc/subscriptions","organizations_url":"https://api.github.com/users/catubc/orgs","repos_url":"https://api.github.com/users/catubc/repos","events_url":"https://api.github.com/users/catubc/events{/privacy}","received_events_url":"https://api.github.com/users/catubc/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/742/timeline","performed_via_github_app":null,"state_reason":"completed"}