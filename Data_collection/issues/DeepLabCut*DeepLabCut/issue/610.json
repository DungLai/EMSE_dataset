{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/610","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/610/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/610/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/610/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/610","id":575439512,"node_id":"MDU6SXNzdWU1NzU0Mzk1MTI=","number":610,"title":"End of HDF5 error back trace [ 'Permission denied'] ","user":{"login":"ThePuppetShow","id":61789639,"node_id":"MDQ6VXNlcjYxNzg5NjM5","avatar_url":"https://avatars.githubusercontent.com/u/61789639?v=4","gravatar_id":"","url":"https://api.github.com/users/ThePuppetShow","html_url":"https://github.com/ThePuppetShow","followers_url":"https://api.github.com/users/ThePuppetShow/followers","following_url":"https://api.github.com/users/ThePuppetShow/following{/other_user}","gists_url":"https://api.github.com/users/ThePuppetShow/gists{/gist_id}","starred_url":"https://api.github.com/users/ThePuppetShow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThePuppetShow/subscriptions","organizations_url":"https://api.github.com/users/ThePuppetShow/orgs","repos_url":"https://api.github.com/users/ThePuppetShow/repos","events_url":"https://api.github.com/users/ThePuppetShow/events{/privacy}","received_events_url":"https://api.github.com/users/ThePuppetShow/received_events","type":"User","site_admin":false},"labels":[{"id":880550040,"node_id":"MDU6TGFiZWw4ODA1NTAwNDA=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/question","name":"question","color":"d876e3","default":true,"description":"user question (not great for github ;)"},{"id":1010467338,"node_id":"MDU6TGFiZWwxMDEwNDY3MzM4","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/Installation","name":"Installation","color":"ecfca6","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-03-04T14:20:46Z","updated_at":"2020-08-16T11:50:53Z","closed_at":"2020-03-05T19:39:15Z","author_association":"NONE","active_lock_reason":null,"body":"**Your Operating system and DeepLabCut version 2.1.6.2.**\r\n\r\nWindows 10 Education, with an Anaconda Env & DLC-GPU\r\n\r\nPlease complete the following information about your system:\r\n\r\nOS: [Windows 10]\r\nDeepLabCut Version [2.1.6.2] \r\nBrowser [Chrome]\r\n\r\n\r\n**Describe the problem**\r\n\r\nHello. I've just started using DLC and stumbled upon an issue while trying to analyse a test-video. \r\nI'm very new to this so apologies for any poor descriptions of the situation/issue. \r\n\r\nI'm using CUDA 10.2.89_441.22 and the GPU (Nvidia GeForce RTX 2080 Ti) to run the analysis. \r\nSo far I've used a test video of a mouse exploring a circular environment, and I've done all the procedures (extract frames, label etc. etc.) up until the analysis of the video. The video is mp4 format, which is what I've selected in the GUI. I have selected 1 for shuffle and have tried 0 and 1 for the training set index. I'm running anaconda with admin rights. \r\n\r\nWhen I run the analysis, I get the error \"End of HDF5 error back trace\". \r\n\r\n\r\nHere is the script with the error messages I get: \r\n---------------------------------------------------------------------------\r\n```\r\nStarting to analyze %  J:\\hello\\VT1_LD.mp4\r\nLoading  J:\\hello\\VT1_LD.mp4\r\nDuration of video [s]:  350.24 , recorded with  25.0 fps!\r\nOverall # of frames:  8756  found with (before cropping) frame dimensions:  720 576\r\nStarting to extract posture\r\n8787it [03:00, 48.02it/s]                                                                                                                                                                                                               Detected frames:  8753\r\n8787it [03:01, 48.31it/s]\r\nSaving results in J:\\hello...\r\n\r\nHDF5ExtError                              Traceback (most recent call last)\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\gui\\analyze_videos.py in analyze_videos(self, event)\r\n    262         deeplabcut.analyze_videos(self.config, self.filelist, videotype=self.videotype.GetValue(), shuffle=shuffle,\r\n    263                                   trainingsetindex=trainingsetindex, gputouse=None, save_as_csv=save_as_csv,\r\n--> 264                                   destfolder=self.destfolder, crop=crop, dynamic=dynamic)\r\n    265         if self.filter.GetStringSelection() == \"Yes\":\r\n    266             deeplabcut.filterpredictions(self.config, self.filelist, videotype=self.videotype.GetValue(), shuffle=shuffle, trainingsetindex=trainingsetindex, filtertype='median', windowlength=5, p_bound=0.001, ARdegree=3, MAdegree=1, alpha=0.01, save_as_csv=True, destfolder=self.destfolder)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\predict_videos.py in analyze_videos(config, videos, videotype, shuffle, trainingsetindex, gputouse, save_as_csv, destfolder, batchsize, crop, get_nframesfrommetadata, TFGPUinference, dynamic)\r\n    218         #looping over videos\r\n    219         for video in Videos:\r\n--> 220             DLCscorer=AnalyzeVideo(video,DLCscorer,DLCscorerlegacy,trainFraction,cfg,dlc_cfg,sess,inputs, outputs,pdindex,save_as_csv, destfolder,TFGPUinference,dynamic)\r\n    221\r\n    222         os.chdir(str(start_path))\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\predict_videos.py in AnalyzeVideo(video, DLCscorer, DLCscorerlegacy, trainFraction, cfg, dlc_cfg, sess, inputs, outputs, pdindex, save_as_csv, destfolder, TFGPUinference, dynamic)\r\n    529\r\n    530         print(\"Saving results in %s...\" %(Path(video).parents[0]))\r\n--> 531         auxiliaryfunctions.SaveData(PredictedData[:nframes,:], metadata, dataname, pdindex, range(nframes),save_as_csv)\r\n    532         return DLCscorer\r\n    533     else:\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\utils\\auxiliaryfunctions.py in SaveData(PredicteData, metadata, dataname, pdindex, imagenames, save_as_csv)\r\n    223     ''' Save predicted data as h5 file and metadata as pickle file; created by predict_videos.py '''\r\n    224     DataMachine = pd.DataFrame(PredicteData, columns=pdindex, index=imagenames)\r\n--> 225     DataMachine.to_hdf(dataname, 'df_with_missing', format='table', mode='w')\r\n    226     if save_as_csv:\r\n    227         print(\"Saving csv poses!\")\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\pandas\\core\\generic.py in to_hdf(self, path_or_buf, key, mode, complevel, complib, append, format, index, min_itemsize, nan_rep, dropna, data_columns, errors, encoding)\r\n   2503             data_columns=data_columns,\r\n   2504             errors=errors,\r\n-> 2505             encoding=encoding,\r\n   2506         )\r\n   2507\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\pandas\\io\\pytables.py in to_hdf(path_or_buf, key, value, mode, complevel, complib, append, format, index, min_itemsize, nan_rep, dropna, data_columns, errors, encoding)\r\n    278     if isinstance(path_or_buf, str):\r\n    279         with HDFStore(\r\n--> 280             path_or_buf, mode=mode, complevel=complevel, complib=complib\r\n    281         ) as store:\r\n    282             f(store)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\pandas\\io\\pytables.py in __init__(self, path, mode, complevel, complib, fletcher32, **kwargs)\r\n    535         self._fletcher32 = fletcher32\r\n    536         self._filters = None\r\n--> 537         self.open(mode=mode, **kwargs)\r\n    538\r\n    539     def __fspath__(self):\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\pandas\\io\\pytables.py in open(self, mode, **kwargs)\r\n    653\r\n    654         try:\r\n--> 655             self._handle = tables.open_file(self._path, self._mode, **kwargs)\r\n    656         except IOError as err:  # pragma: no cover\r\n    657             if \"can not be written\" in str(err):\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\tables\\file.py in open_file(filename, mode, title, root_uep, filters, **kwargs)\r\n    313\r\n    314     # Finally, create the File instance, and return it\r\n--> 315     return File(filename, mode, title, root_uep, filters, **kwargs)\r\n    316\r\n    317\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\tables\\file.py in __init__(self, filename, mode, title, root_uep, filters, **kwargs)\r\n    776\r\n    777         # Now, it is time to initialize the File extension\r\n--> 778         self._g_new(filename, mode, **params)\r\n    779\r\n    780         # Check filters and set PyTables format version for new files.\r\n\r\ntables\\hdf5extension.pyx in tables.hdf5extension.File._g_new()\r\n\r\nHDF5ExtError: HDF5 error back trace\r\n\r\n  File \"D:\\pytables_hdf5\\CMake-hdf5-1.10.5\\hdf5-1.10.5\\src\\H5F.c\", line 444, in H5Fcreate\r\n    unable to create file\r\n  File \"D:\\pytables_hdf5\\CMake-hdf5-1.10.5\\hdf5-1.10.5\\src\\H5Fint.c\", line 1509, in H5F_open\r\n    unable to open file: time = Tue Mar  3 15:53:48 2020\r\n, name = 'J:\\hello\\VT1_LDDLC_resnet50_testMar3shuffle1_20000.h5', tent_flags = 13\r\n  File \"D:\\pytables_hdf5\\CMake-hdf5-1.10.5\\hdf5-1.10.5\\src\\H5FD.c\", line 734, in H5FD_open\r\n    open failed\r\n  File \"D:\\pytables_hdf5\\CMake-hdf5-1.10.5\\hdf5-1.10.5\\src\\H5FDsec2.c\", line 346, in H5FD_sec2_open\r\n    unable to open file: name = 'J:\\hello\\VT1_LDDLC_resnet50_testMar3shuffle1_20000.h5', errno = 13, error message = 'Permission denied', flags = 13, o_flags = 302\r\n\r\nEnd of HDF5 error back trace\r\n\r\nUnable to open/create file 'J:\\hello\\VT1_LDDLC_resnet50_testMar3shuffle1_20000.h5'\r\n\r\n```","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/610/timeline","performed_via_github_app":null,"state_reason":"completed"}