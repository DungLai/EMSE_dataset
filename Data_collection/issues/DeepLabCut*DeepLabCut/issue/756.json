{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/756","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/756/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/756/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/756/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/756","id":641102007,"node_id":"MDU6SXNzdWU2NDExMDIwMDc=","number":756,"title":"SkeletonBuilder error in 2.2b6 but not in 2.2b5","user":{"login":"KonradDanielewski","id":54865575,"node_id":"MDQ6VXNlcjU0ODY1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/54865575?v=4","gravatar_id":"","url":"https://api.github.com/users/KonradDanielewski","html_url":"https://github.com/KonradDanielewski","followers_url":"https://api.github.com/users/KonradDanielewski/followers","following_url":"https://api.github.com/users/KonradDanielewski/following{/other_user}","gists_url":"https://api.github.com/users/KonradDanielewski/gists{/gist_id}","starred_url":"https://api.github.com/users/KonradDanielewski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KonradDanielewski/subscriptions","organizations_url":"https://api.github.com/users/KonradDanielewski/orgs","repos_url":"https://api.github.com/users/KonradDanielewski/repos","events_url":"https://api.github.com/users/KonradDanielewski/events{/privacy}","received_events_url":"https://api.github.com/users/KonradDanielewski/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2020-06-18T10:40:38Z","updated_at":"2020-06-23T07:43:48Z","closed_at":"2020-06-23T07:43:48Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\nAfter extracting frames using deeplabcut.extract_frames(cfp, crop=True) and labeling them using deeplabcut.SkeletonBuilder gives - ValueError: 'vertices' must be a 2D list or array with shape Nx2\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Windows 10 Pro\r\n - DeepLabCut Version 2.2b6 both CPU and GPU envs, single animal project\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior, i.e.:\r\n1. Extract frames with crop set to True\r\n2. Label frames\r\n3. Use deeplabcut.SkeletonBuilder(cfp) or use GUI 'Build skeleton' button\r\n4. See error:\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n\r\n```python\r\n\r\nIn [5]: deeplabcut.SkeletonBuilder(cfp)\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-5-41b4df9a73d8> in <module>\r\n----> 1 deeplabcut.SkeletonBuilder(cfp)\r\n\r\n~\\anaconda3\\envs\\dlc-cpu\\lib\\site-packages\\deeplabcut\\utils\\skeleton.py in __init__(self, config_path)\r\n     76                 self.segs.add(tuple(map(tuple, self.xy[pair_sorted, :])))\r\n     77         self.lines = LineCollection(\r\n---> 78             self.segs, colors=mcolors.to_rgba(self.cfg[\"skeleton_color\"])\r\n     79         )\r\n     80         self.lines.set_picker(True)\r\n\r\n~\\anaconda3\\envs\\dlc-cpu\\lib\\site-packages\\matplotlib\\collections.py in __init__(self, segments, linewidths, colors, antialiaseds, linestyles, offsets, transOffset, norm, cmap, pickradius, zorder, facecolors, **kwargs)\r\n   1224             **kwargs)\r\n   1225\r\n-> 1226         self.set_segments(segments)\r\n   1227\r\n   1228     def set_segments(self, segments):\r\n\r\n~\\anaconda3\\envs\\dlc-cpu\\lib\\site-packages\\matplotlib\\collections.py in set_segments(self, segments)\r\n   1239             _segments = self._add_offsets(_segments)\r\n   1240\r\n-> 1241         self._paths = [mpath.Path(_seg) for _seg in _segments]\r\n   1242         self.stale = True\r\n   1243\r\n\r\n~\\anaconda3\\envs\\dlc-cpu\\lib\\site-packages\\matplotlib\\collections.py in <listcomp>(.0)\r\n   1239             _segments = self._add_offsets(_segments)\r\n   1240\r\n-> 1241         self._paths = [mpath.Path(_seg) for _seg in _segments]\r\n   1242         self.stale = True\r\n   1243\r\n\r\n~\\anaconda3\\envs\\dlc-cpu\\lib\\site-packages\\matplotlib\\path.py in __init__(self, vertices, codes, _interpolation_steps, closed, readonly)\r\n    128         if vertices.ndim != 2 or vertices.shape[1] != 2:\r\n    129             raise ValueError(\r\n--> 130                 \"'vertices' must be a 2D list or array with shape Nx2\")\r\n    131\r\n    132         if codes is not None:\r\n\r\nValueError: 'vertices' must be a 2D list or array with shape Nx2 \r\n\r\n\r\n```\r\n</p></details>\r\n\r\n\r\n**Expected behavior**\r\nSkeleton builder GUI opens\r\n\r\n**Additional context**\r\nI tried on two computers, both on CPU and GPU envs with same result. When frames are extracted without cropping everything works. After downgrading to 2.2b5 SkeletonBuilder works.\r\n","closed_by":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/756/timeline","performed_via_github_app":null,"state_reason":"completed"}