{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1320","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1320/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1320/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1320/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1320","id":919109349,"node_id":"MDU6SXNzdWU5MTkxMDkzNDk=","number":1320,"title":"Missing parameter descriptions for deeplabcut.analyze_videos function","user":{"login":"jefromson","id":66144986,"node_id":"MDQ6VXNlcjY2MTQ0OTg2","avatar_url":"https://avatars.githubusercontent.com/u/66144986?v=4","gravatar_id":"","url":"https://api.github.com/users/jefromson","html_url":"https://github.com/jefromson","followers_url":"https://api.github.com/users/jefromson/followers","following_url":"https://api.github.com/users/jefromson/following{/other_user}","gists_url":"https://api.github.com/users/jefromson/gists{/gist_id}","starred_url":"https://api.github.com/users/jefromson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jefromson/subscriptions","organizations_url":"https://api.github.com/users/jefromson/orgs","repos_url":"https://api.github.com/users/jefromson/repos","events_url":"https://api.github.com/users/jefromson/events{/privacy}","received_events_url":"https://api.github.com/users/jefromson/received_events","type":"User","site_admin":false},"labels":[{"id":1896137682,"node_id":"MDU6TGFiZWwxODk2MTM3Njgy","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/documentation","name":"documentation","color":"57b8c1","default":true,"description":"documentation updates/comments"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2021-06-11T19:05:03Z","updated_at":"2021-06-17T15:28:55Z","closed_at":"2021-06-17T15:28:55Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\nIn the help text for the \"deeplabcut.analyze_videos\" function there is no description for two parameters, specifically \"get_nframesfrommetadata\" and \"modelprefix\".\r\n\r\n**Desktop (please complete the following information about your system):**\r\n\r\n   - Ubuntu 20.04\r\n   - DeepLabCut version 2.1.10.4\r\n   - DeepLabCut single animal tracking\r\n   - GPU: GeForce GTX 1060 6GB\r\n\r\n\r\n**To Reproduce**\r\n\r\n```python\r\n\r\nimport deeplabcut\r\ndeeplabcut.analyze_videos?\r\n\r\n```\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n\r\n\r\nOutput from deeplabcut.analyze_videos?:\r\n```\r\nSignature:\r\ndeeplabcut.analyze_videos(\r\n    config,\r\n    videos,\r\n    videotype='avi',\r\n    shuffle=1,\r\n    trainingsetindex=0,\r\n    gputouse=None,\r\n    save_as_csv=False,\r\n    destfolder=None,\r\n    batchsize=None,\r\n    cropping=None,\r\n    get_nframesfrommetadata=True,\r\n    TFGPUinference=True,\r\n    dynamic=(False, 0.5, 10),\r\n    modelprefix='',\r\n    c_engine=False,\r\n    robust_nframes=False,\r\n)\r\nDocstring:\r\n   Makes prediction based on a trained network. The index of the trained network is specified by parameters in the config file (in particular the variable 'snapshotindex')\r\n\r\n   Output: The labels are stored as MultiIndex Pandas Array, which contains the name of the network, body part name, (x, y) label position \r\n\r\n           in pixels, and the likelihood for each frame per body part. These arrays are stored in an efficient Hierarchical Data Format (HDF) \r\n\r\n           in the same directory, where the video is stored. However, if the flag save_as_csv is set to True, the data can also be exported in \r\n\r\n           comma-separated values format (.csv), which in turn can be imported in many programs, such as MATLAB, R, Prism, etc.\r\n\r\n   Parameters\r\n   ----------\r\n   config: string\r\n       Full path of the config.yaml file as a string.\r\n\r\n   videos: list\r\n       A list of strings containing the full paths to videos for analysis or a path to the directory, where all the videos with same extension are stored.\r\n\r\n   videotype: string, optional\r\n       Checks for the extension of the video in case the input to the video is a directory.\r\nOnly videos with this extension are analyzed. The default is ``.avi``\r\n\r\n   shuffle: int, optional\r\n       An integer specifying the shuffle index of the training dataset used for training the network. The default is 1.\r\n\r\n   trainingsetindex: int, optional\r\n       Integer specifying which TrainingsetFraction to use. By default the first (note that TrainingFraction is a list in config.yaml).\r\n\r\n   gputouse: int, optional. Natural number indicating the number of your GPU (see number in nvidia-smi). If you do not have a GPU put None.\r\n   See: https://nvidia.custhelp.com/app/answers/detail/a_id/3751/~/useful-nvidia-smi-queries\r\n\r\n   save_as_csv: bool, optional\r\n       Saves the predictions in a .csv file. The default is ``False``; if provided it must be either ``True`` or ``False``\r\n\r\n   destfolder: string, optional\r\n       Specifies the destination folder for analysis data (default is the path of the video). Note that for subsequent analysis this\r\n       folder also needs to be passed.\r\n\r\n   batchsize: int, default from pose_cfg.yaml\r\n       Change batch size for inference; if given overwrites value in pose_cfg.yaml\r\n\r\n   cropping: list, optional (default=None)\r\n       List of cropping coordinates as [x1, x2, y1, y2].\r\n       Note that the same cropping parameters will then be used for all videos.\r\n       If different video crops are desired, run 'analyze_videos' on individual videos\r\n       with the corresponding cropping coordinates.\r\n\r\n   TFGPUinference: bool, default: True\r\n       Perform inference on GPU with TensorFlow code. Introduced in \"Pretraining boosts out-of-domain robustness for pose estimation\" by\r\n       Alexander Mathis, Mert Yüksekgönül, Byron Rogers, Matthias Bethge, Mackenzie W. Mathis Source: https://arxiv.org/abs/1909.11229\r\n\r\n   dynamic: triple containing (state, detectiontreshold, margin)\r\n       If the state is true, then dynamic cropping will be performed. That means that if an object is detected (i.e. any body part > detectiontreshold),\r\n       then object boundaries are computed according to the smallest/largest x position and smallest/largest y position of all body parts. This  window is\r\n       expanded by the margin and from then on only the posture within this crop is analyzed (until the object is lost, i.e. <detectiontreshold). The\r\n       current position is utilized for updating the crop window for the next frame (this is why the margin is important and should be set large\r\n       enough given the movement of the animal).\r\n\r\n   c_engine: bool, optional (default=False)\r\n       If True, uses C code to detect 2D local maxima for multianimal inference.\r\n       Pure-Python functions are used by default, which, although slower, do not require the user\r\n       to install Cython and compile external code.\r\n\r\n   robust_nframes: bool, optional (default=False)\r\n       Evaluate a video's number of frames in a robust manner.\r\n       This option is slower (as the whole video is read frame-by-frame),\r\n       but does not rely on metadata, hence its robustness against file corruption.\r\n\r\n   Examples\r\n   --------\r\n\r\n   Windows example for analyzing 1 video\r\n   >>> deeplabcut.analyze_videos('C:\\myproject\\reaching-task\\config.yaml',['C:\\yourusername\\rig-95\\Videos\\reachingvideo1.avi'])\r\n   --------\r\n\r\n   If you want to analyze only 1 video\r\n   >>> deeplabcut.analyze_videos('/analysis/project/reaching-task/config.yaml',['/analysis/project/videos/reachingvideo1.avi'])\r\n   --------\r\n\r\n   If you want to analyze all videos of type avi in a folder:\r\n   >>> deeplabcut.analyze_videos('/analysis/project/reaching-task/config.yaml',['/analysis/project/videos'],videotype='.avi')\r\n   --------\r\n\r\n   If you want to analyze multiple videos\r\n   >>> deeplabcut.analyze_videos('/analysis/project/reaching-task/config.yaml',['/analysis/project/videos/reachingvideo1.avi','/analysis/project/videos/reachingvideo2.avi'])\r\n   --------\r\n\r\n   If you want to analyze multiple videos with shuffle = 2\r\n   >>> deeplabcut.analyze_videos('/analysis/project/reaching-task/config.yaml',['/analysis/project/videos/reachingvideo1.avi','/analysis/project/videos/reachingvideo2.avi'],shuffle=2)\r\n\r\n   --------\r\n   If you want to analyze multiple videos with shuffle = 2 and save results as an additional csv file too\r\n   >>> deeplabcut.analyze_videos('/analysis/project/reaching-task/config.yaml',['/analysis/project/videos/reachingvideo1.avi','/analysis/project/videos/reachingvideo2.avi'],shuffle=2,save_as_csv=True)\r\n   --------\r\n\r\n   \r\nFile:      ~/miniconda3/envs/dlc_gpu/lib/python3.7/site-packages/deeplabcut/pose_estimation_tensorflow/predict_videos.py\r\nType:      function\r\n```\r\n\r\n</p></details>\r\n\r\n\r\n\r\n**Expected behavior**\r\nExpecting descriptions for these two parameters.\r\n\r\n\r\n**Additional context**\r\n\r\nI'm looking for information on the purpose/function of \"get_nframesfrommetadata\".\r\n\r\n\r\nThanks,\r\nJohn\r\n","closed_by":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1320/timeline","performed_via_github_app":null,"state_reason":"completed"}