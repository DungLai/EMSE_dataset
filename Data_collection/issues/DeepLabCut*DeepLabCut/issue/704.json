{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/704","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/704/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/704/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/704/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/704","id":625068956,"node_id":"MDU6SXNzdWU2MjUwNjg5NTY=","number":704,"title":"Unable to create training dataset on google colab","user":{"login":"Kat-8-S","id":65971162,"node_id":"MDQ6VXNlcjY1OTcxMTYy","avatar_url":"https://avatars.githubusercontent.com/u/65971162?v=4","gravatar_id":"","url":"https://api.github.com/users/Kat-8-S","html_url":"https://github.com/Kat-8-S","followers_url":"https://api.github.com/users/Kat-8-S/followers","following_url":"https://api.github.com/users/Kat-8-S/following{/other_user}","gists_url":"https://api.github.com/users/Kat-8-S/gists{/gist_id}","starred_url":"https://api.github.com/users/Kat-8-S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kat-8-S/subscriptions","organizations_url":"https://api.github.com/users/Kat-8-S/orgs","repos_url":"https://api.github.com/users/Kat-8-S/repos","events_url":"https://api.github.com/users/Kat-8-S/events{/privacy}","received_events_url":"https://api.github.com/users/Kat-8-S/received_events","type":"User","site_admin":false},"labels":[{"id":1537171551,"node_id":"MDU6TGFiZWwxNTM3MTcxNTUx","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/COLAB","name":"COLAB","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-05-26T17:49:59Z","updated_at":"2020-05-31T19:58:16Z","closed_at":"2020-05-31T19:58:16Z","author_association":"NONE","active_lock_reason":null,"body":"Thank you for the new release! Very exciting!\r\n\r\nPlease state your operating system, env, and which version of DeepLabCut you are using.\r\nWindows 10, with an Anaconda Env, & DeepLabCut 2.2.b5\r\n\r\nPlease complete the following information about your system:\r\n\r\nOS: Windows 10\r\nDeepLabCut Version: 2.2.b5\r\nAnaconda env used: yes\r\n\r\nI used the GUI to create the new project. I was able to label the frames and can see that the new folders marked \"_labelled\" are created in the labelled data folder. The \"crop and label images\" function did not work for me in the GUI. I then unchecked the \"Crop and Label Images\" box in the GUI to try creating the multi animal training dataset without this function, but ran into another error. Finally, I tried uploading the folder onto my google colab script to create the dataset in colab, which I would have done even if the GUI steps had all worked, because I train my model on google colab, however, I ran into an error on colab.\r\n\r\nPlease place code inside this:\r\n\r\n**a)** Crop and Label Images- checked \"yes\" in GUI, followed by clicking \"Ok.\"\r\n**b)** Crop and Label Images- checked \"no\" in GUI, followed by clicking \"Ok.\"\r\n**c)** deeplabcut.create_multianimaltraining_dataset(path_config_file).\r\n\r\n[Please copy/paste the full terminal output of the error here!!!]\r\n\r\n**a)** \r\n```\r\nValueError                                Traceback (most recent call last)\r\n~\\Anaconda3\\envs\\dlc-windowsCPU\\lib\\site-packages\\deeplabcut\\gui\\create_training_dataset.py in create_training_dataset(self, event)\r\n    337         if config_file.get(\"multianimalproject\", False):\r\n    338             if self.cropandlabel.GetStringSelection() == \"Yes\":\r\n--> 339                 deeplabcut.cropimagesandlabels(self.config, userfeedback=userfeedback)\r\n    340             else:\r\n    341                 random = False\r\n\r\n~\\Anaconda3\\envs\\dlc-windowsCPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\trainingsetmanipulation.py in cropimagesandlabels(config, numcrops, size, userfeedback, cropdata, excludealreadycropped, updatevideoentries)\r\n    340                     dd = np.array(data[ind].copy(), dtype=float)\r\n    341                     y0, x0 = (\r\n--> 342                         np.random.randint(h - size[0]),\r\n    343                         np.random.randint(w - size[1]),\r\n    344                     )\r\n\r\nmtrand.pyx in mtrand.RandomState.randint()\r\n\r\nValueError: Range cannot be empty (low >= high) unless no samples are taken\r\n```\r\n**b)**\r\n```\r\nC:\\Users\\kat8s\\Desktop\\DLC_MultiAnimal2020\\Test-Kat-2020-05-25\\training-datasets\\iteration-0\\UnaugmentedDataSet_TestMay25  already exists!\r\nC:\\Users\\kat8s\\Desktop\\DLC_MultiAnimal2020\\Test-Kat-2020-05-25\\labeled-data\\Feb.11_c1-001_0001_cropped\\CollectedData_Kat.h5  not found (perhaps not annotated). If training on cropped data, make sure to call `cropimagesandlabels` prior to creating the dataset.\r\nC:\\Users\\kat8s\\Desktop\\DLC_MultiAnimal2020\\Test-Kat-2020-05-25\\labeled-data\\Feb.11_c1-001_0002_cropped\\CollectedData_Kat.h5  not found (perhaps not annotated). If training on cropped data, make sure to call `cropimagesandlabels` prior to creating the dataset.\r\nC:\\Users\\kat8s\\Desktop\\DLC_MultiAnimal2020\\Test-Kat-2020-05-25\\labeled-data\\Feb.11_c1-001_0003_cropped\\CollectedData_Kat.h5  not found (perhaps not annotated). If training on cropped data, make sure to call `cropimagesandlabels` prior to creating the dataset.\r\nC:\\Users\\kat8s\\Desktop\\DLC_MultiAnimal2020\\Test-Kat-2020-05-25\\labeled-data\\Feb.11_c1-001_0004_cropped\\CollectedData_Kat.h5  not found (perhaps not annotated). If training on cropped data, make sure to call `cropimagesandlabels` prior to creating the dataset.\r\nAnnotation data was not found by splitting video paths (from config['video_sets']). An alternative route is taken...\r\nThe following folders were found: ['C:\\\\Users\\\\kat8s\\\\Desktop\\\\DLC_MultiAnimal2020\\\\Test-Kat-2020-05-25\\\\labeled-data\\\\Feb_cropped']\r\nC:\\Users\\kat8s\\Desktop\\DLC_MultiAnimal2020\\Test-Kat-2020-05-25\\labeled-data\\Feb_cropped\\CollectedData_Kat.h5  not found (perhaps not annotated)\r\nNo data was found!\r\n```\r\n**c)** \r\n```\r\nFileNotFoundError                         Traceback (most recent call last)\r\n<ipython-input-22-33e81968c718> in <module>()\r\n      1 ##Newly added May 26/2020\r\n      2 \r\n----> 3 deeplabcut.create_multianimaltraining_dataset(path_config_file)\r\n\r\n7 frames\r\n/usr/local/lib/python3.6/dist-packages/imageio/core/request.py in _parse_uri(self, uri)\r\n    271                 # Reading: check that the file exists (but is allowed a dir)\r\n    272                 if not os.path.exists(fn):\r\n--> 273                     raise FileNotFoundError(\"No such file: '%s'\" % fn)\r\n    274             else:\r\n    275                 # Writing: check that the directory to write to does exist\r\n\r\nFileNotFoundError: No such file: '/content/drive/My Drive/DLC/DLC_MultiAnimal2020/Test-Kat-2020-05-25/labeled-data/Feb.11_c1-001_0001_'\r\n```\r\n**How to Reproduce the problem**\r\nSteps to reproduce the behavior:\r\n1) I used the GUI to create a new project. \r\n2) I was able to label the frames from four videos and can see that the new folders marked \"_labelled\" are created in the labelled data folder.\r\n3) In the \"Create training dataset\" tab, I clicked \"yes\" at Crop and Label Data. I then clicked \"Ok,\" but was given an error message in the anaconda terminal window -> please see **a)**  \r\n4) I then tried clicking \"no\" at Crop and Label Data. Then \"Ok,\" but was given a different error message -> please see **b)**\r\n5) I then decided to upload the folder onto my google drive to create the training dataset in a google colab script, which I would have also done anyhow if the \"crop and save images\" function had worked in the GUI, because I train the model using google colab, but ran into an error -> please see **c)**\r\n\r\n**Screenshots**\r\n![A](https://user-images.githubusercontent.com/65971162/82933033-55486380-9f57-11ea-9003-065aca73522e.PNG)\r\n![C1](https://user-images.githubusercontent.com/65971162/82933042-58dbea80-9f57-11ea-8457-cf7e3cee6a76.PNG)\r\n![C2](https://user-images.githubusercontent.com/65971162/82933090-6abd8d80-9f57-11ea-9880-112613ba73ba.PNG)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/704/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/704/timeline","performed_via_github_app":null,"state_reason":"completed"}