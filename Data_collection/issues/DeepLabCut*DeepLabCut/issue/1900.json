{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1900","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1900/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1900/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1900/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1900","id":1301112312,"node_id":"I_kwDOB5BM6c5NjWX4","number":1900,"title":"`get_list_of_videos` errors when passed filepaths and `videotype=None`","user":{"login":"CBroz1","id":9404707,"node_id":"MDQ6VXNlcjk0MDQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/9404707?v=4","gravatar_id":"","url":"https://api.github.com/users/CBroz1","html_url":"https://github.com/CBroz1","followers_url":"https://api.github.com/users/CBroz1/followers","following_url":"https://api.github.com/users/CBroz1/following{/other_user}","gists_url":"https://api.github.com/users/CBroz1/gists{/gist_id}","starred_url":"https://api.github.com/users/CBroz1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CBroz1/subscriptions","organizations_url":"https://api.github.com/users/CBroz1/orgs","repos_url":"https://api.github.com/users/CBroz1/repos","events_url":"https://api.github.com/users/CBroz1/events{/privacy}","received_events_url":"https://api.github.com/users/CBroz1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2022-07-11T19:12:07Z","updated_at":"2022-07-15T14:07:06Z","closed_at":"2022-07-15T14:07:06Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Bug description\r\n\r\nI'm setting up a [script to call `analyze_videos`](https://github.com/datajoint/element-deeplabcut/blob/main/element_deeplabcut/readers/dlc_reader.py#L152). For end-user clarity, I set all parameters to defaults, including `videotype`. In doing so `get_list_of_videos` gets a list of filepaths with an an explicit `videotype=None`\r\n\r\n### Operating System\r\n\r\nOSX\r\n\r\n### DeepLabCut version\r\n\r\n2.2.1.1\r\n\r\n### DeepLabCut mode\r\n\r\nsingle animal\r\n\r\n### Device type\r\n\r\nIntel Core i7\r\n\r\n### Steps To Reproduce\r\n\r\n```python\r\nfrom deeplabcut.pose_estimation_tensorflow import analyze_videos\r\nanalyze_videos('my/config.yaml','my/videos/vid.mp4',videotype=None)\r\n```\r\n\r\n### Relevant log output\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\nBased on the `analyze_videos` docstring, I would expect it to look for supported extensions when `videotype` is None, even when `videos` is not a directory.\r\n>    videotype: str, optional, default=\"\"\r\n>        Checks for the extension of the video in case the input to the video is a\r\n>        directory. Only videos with this extension are analyzed. If left unspecified,\r\n>        videos with common extensions ('avi', 'mp4', 'mov', 'mpeg', 'mkv') are kept.\r\n        \r\nSuggestions\r\n1. Move [this conditional](https://github.com/DeepLabCut/DeepLabCut/blob/master/deeplabcut/utils/auxiliaryfunctions.py#L349-L350) outside the parent if clause, to call `auxfun_videos.SUPPORTED_VIDEOS` even when input is not a directory.\r\n2. Modify to above docstring to restrict the unspecified behavior to only when `videos` is a directory.\r\n\r\nHappy to submit a PR if desired\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"CBroz1","id":9404707,"node_id":"MDQ6VXNlcjk0MDQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/9404707?v=4","gravatar_id":"","url":"https://api.github.com/users/CBroz1","html_url":"https://github.com/CBroz1","followers_url":"https://api.github.com/users/CBroz1/followers","following_url":"https://api.github.com/users/CBroz1/following{/other_user}","gists_url":"https://api.github.com/users/CBroz1/gists{/gist_id}","starred_url":"https://api.github.com/users/CBroz1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CBroz1/subscriptions","organizations_url":"https://api.github.com/users/CBroz1/orgs","repos_url":"https://api.github.com/users/CBroz1/repos","events_url":"https://api.github.com/users/CBroz1/events{/privacy}","received_events_url":"https://api.github.com/users/CBroz1/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1900/timeline","performed_via_github_app":null,"state_reason":"completed"}