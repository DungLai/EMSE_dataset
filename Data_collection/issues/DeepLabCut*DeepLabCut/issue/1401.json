{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1401","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1401/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1401/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1401/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1401","id":941374250,"node_id":"MDU6SXNzdWU5NDEzNzQyNTA=","number":1401,"title":"Consistent label offset when using analyze_videos and create_video_with_all_detections","user":{"login":"arjunt19","id":44276017,"node_id":"MDQ6VXNlcjQ0Mjc2MDE3","avatar_url":"https://avatars.githubusercontent.com/u/44276017?v=4","gravatar_id":"","url":"https://api.github.com/users/arjunt19","html_url":"https://github.com/arjunt19","followers_url":"https://api.github.com/users/arjunt19/followers","following_url":"https://api.github.com/users/arjunt19/following{/other_user}","gists_url":"https://api.github.com/users/arjunt19/gists{/gist_id}","starred_url":"https://api.github.com/users/arjunt19/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arjunt19/subscriptions","organizations_url":"https://api.github.com/users/arjunt19/orgs","repos_url":"https://api.github.com/users/arjunt19/repos","events_url":"https://api.github.com/users/arjunt19/events{/privacy}","received_events_url":"https://api.github.com/users/arjunt19/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-07-11T05:02:56Z","updated_at":"2021-07-11T05:36:11Z","closed_at":"2021-07-11T05:36:11Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n\r\n\r\n**Describe the bug**\r\n\r\nAfter training the model and using a checkpoint to analyze a novel video, the output detections video has labels that are consistently placed above the animal. This happens for all animals in the video, consisting of 3 pups and one adult mouse. It appears to be consistent as the labels move along with the mouse, but just offset by some distance.\r\n\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - Google Colab\r\n - DeepLabCut Version: 2.2rc2\r\n - DeepLabCut mode: Multi-animal tracking\r\n - GPU TYPE: GPU Tesla T4\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior, i.e.:\r\nCreate training dataset, train network, then call analyze_videos and create_video_with_all_detections. The output video is mislabeled.\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n\r\n```python\r\n\r\n^do not delete the ```python\r\n \r\ndeeplabcut.analyze_videos(path_config_file, ['/content/drive/MyDrive/mouse1_Trim30sec.mp4'], save_as_csv=True, gputouse=None, destfolder=\"/content/drive/MyDrive/mouse1results\")\r\n\r\ndeeplabcut.create_video_with_all_detections(path_config_file, videos=['/content/drive/MyDrive/mouse1_Trim30sec.mp4'], )\r\n \r\ndo not delete below this line, leave the blank line and the ```\r\n\r\n```\r\n</p></details>\r\n\r\n\r\n**Expected behavior**\r\nI expected the labels to be present on the animals. Since it appears to be a consistent offset, I doubt it's a problem with the model itself. In addition, when evaluate_network is called, it produces test and train images with accurately plotted labels/predictions.\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/44276017/125183273-33ee1980-e1e3-11eb-910f-455186e784d7.png)\r\n(Above image is from the output detections video)\r\n![image](https://user-images.githubusercontent.com/44276017/125183314-9d6e2800-e1e3-11eb-9562-c4b73b8bd509.png)\r\n(Above image is from calling evaluate_network)\r\n\r\n\r\nhttps://user-images.githubusercontent.com/44276017/125183351-eaea9500-e1e3-11eb-8966-68c2e676d53b.mp4\r\n\r\n\r\n**Additional context**\r\nThis warning is shown when analyze_videos is called:\r\n\r\n/content/drive/MyDrive/DLCAresty/deeplabcut/utils/auxfun_videos.py:192: UserWarning: Bounding box larger than the video... Clipping to video dimensions.\r\n  \"Bounding box larger than the video... \" \"Clipping to video dimensions.\"","closed_by":{"login":"arjunt19","id":44276017,"node_id":"MDQ6VXNlcjQ0Mjc2MDE3","avatar_url":"https://avatars.githubusercontent.com/u/44276017?v=4","gravatar_id":"","url":"https://api.github.com/users/arjunt19","html_url":"https://github.com/arjunt19","followers_url":"https://api.github.com/users/arjunt19/followers","following_url":"https://api.github.com/users/arjunt19/following{/other_user}","gists_url":"https://api.github.com/users/arjunt19/gists{/gist_id}","starred_url":"https://api.github.com/users/arjunt19/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arjunt19/subscriptions","organizations_url":"https://api.github.com/users/arjunt19/orgs","repos_url":"https://api.github.com/users/arjunt19/repos","events_url":"https://api.github.com/users/arjunt19/events{/privacy}","received_events_url":"https://api.github.com/users/arjunt19/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1401/timeline","performed_via_github_app":null,"state_reason":"completed"}