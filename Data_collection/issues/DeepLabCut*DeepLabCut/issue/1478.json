{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1478","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1478/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1478/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1478/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1478","id":978435536,"node_id":"MDU6SXNzdWU5Nzg0MzU1MzY=","number":1478,"title":"`cv2.error: OpenCV(4.5.3) /tmp/pip-req-build-f51eratu/opencv/modules/imgproc/src/color.cpp:182: error: (-215:Assertion failed) !_src.empty() in function 'cvtColor'`","user":{"login":"LyleSmash","id":87035058,"node_id":"MDQ6VXNlcjg3MDM1MDU4","avatar_url":"https://avatars.githubusercontent.com/u/87035058?v=4","gravatar_id":"","url":"https://api.github.com/users/LyleSmash","html_url":"https://github.com/LyleSmash","followers_url":"https://api.github.com/users/LyleSmash/followers","following_url":"https://api.github.com/users/LyleSmash/following{/other_user}","gists_url":"https://api.github.com/users/LyleSmash/gists{/gist_id}","starred_url":"https://api.github.com/users/LyleSmash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LyleSmash/subscriptions","organizations_url":"https://api.github.com/users/LyleSmash/orgs","repos_url":"https://api.github.com/users/LyleSmash/repos","events_url":"https://api.github.com/users/LyleSmash/events{/privacy}","received_events_url":"https://api.github.com/users/LyleSmash/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2021-08-24T19:57:21Z","updated_at":"2021-09-02T20:12:27Z","closed_at":"2021-09-02T20:12:26Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Bug description\r\n\r\nI'm trying to evaluate network after completing the training. I have a series of errors which I am having a hard time interpreting. I am running this through a HPC center through MobaXTERM on windows10\r\n\r\n### Operating System\r\n\r\nRemote-monitoring information for session farnam.hpc.yale.edu (lm966)\r\n\r\n\r\n- Host:\r\n    Hostname: farnam2.farnam.hpc.yale.internal\r\n    Version:  Linux version 3.10.0-1160.21.1.el7.x86_64 (mockbuild@x86-034.build.eng.bos.redhat.com) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) ) #1 SMP Mon Feb 22 18:03:13 EST 2021\r\n\r\n- CPU:\r\n    Current CPU load:  8%\r\n\r\n- RAM:\r\n    Total RAM:  128111 MB\r\n    Used RAM:   35952 MB\r\n    Cached RAM: 8433 MB\r\n    Buffers:    1053 MB\r\n\r\n\r\n\r\n\r\n\r\n### DeepLabCut version\r\n\r\nThis is my yaml file \r\n```\r\n#DeepLabCut2.0 Toolbox (deeplabcut.org)\r\n#Â© A. & M. Mathis Labs\r\n#https://github.com/DeepLabCut/DeepLabCut\r\n#Please see AUTHORS for contributors.\r\n\r\n#https://github.com/DeepLabCut/DeepLabCut/blob/master/AUTHORS\r\n#Licensed under GNU Lesser General Public License v3.0\r\n#\r\n# DeepLabCut environment\r\n# FIRST: INSTALL CORRECT DRIVER for GPU, see https://stackoverflow.com/questions/30820513/what-is-the-correct-version-of-cuda-for-my-nvidia-driver/30820690\r\n#\r\n# install: conda env create -f DEEPLABCUT.yaml\r\n# update:  conda env update -f DEEPLABCUT.yaml\r\nname: DEEPLABCUT\r\nchannels:\r\n  - conda-forge\r\n  - defaults\r\ndependencies:\r\n  - python=3.8\r\n  - pip\r\n  - jupyter\r\n  - nb_conda\r\n  - ffmpeg\r\n  - wxpython<4.1\r\n  - pip:\r\n    - \"deeplabcut[gui]==2.2rc3\"\r\n\r\n```\r\n-----------------------------------------------------------------------------------------------------------------\r\n\r\nThis is environments. \r\n```\r\n[lm966@farnam2 ~]$ conda list\r\n# packages in environment at /ysm-gpfs/apps/software/miniconda/4.10.3:\r\n#\r\n# Name                    Version                   Build  Channel\r\n_libgcc_mutex             0.1                        main\r\n_openmp_mutex             4.5                       1_gnu\r\nbrotlipy                  0.7.0           py39h27cfd23_1003\r\nbzip2                     1.0.8                h7f98852_4    conda-forge\r\nc-ares                    1.17.1               h7f98852_1    conda-forge\r\nca-certificates           2021.5.30            ha878542_0    conda-forge\r\ncertifi                   2021.5.30        py39hf3d152e_0    conda-forge\r\ncffi                      1.14.6           py39h400218f_0\r\nchardet                   4.0.0           py39h06a4308_1003\r\nconda                     4.10.3           py39hf3d152e_0    conda-forge\r\nconda-package-handling    1.7.3            py39h27cfd23_1\r\ncryptography              3.4.7            py39hd23ed53_0\r\nicu                       68.1                 h58526e2_0    conda-forge\r\nidna                      2.10               pyhd3eb1b0_0\r\nkrb5                      1.19.1               hcc1bbae_0    conda-forge\r\nld_impl_linux-64          2.35.1               h7274673_9\r\nlibarchive                3.5.1                hccf745f_2    conda-forge\r\nlibcurl                   7.77.0               h2574ce0_0    conda-forge\r\nlibedit                   3.1.20191231         he28a2e2_2    conda-forge\r\nlibev                     4.33                 h516909a_1    conda-forge\r\nlibffi                    3.3                  he6710b0_2\r\nlibgcc-ng                 9.3.0               h5101ec6_17\r\nlibgomp                   9.3.0               h5101ec6_17\r\nlibiconv                  1.16                 h516909a_0    conda-forge\r\nlibnghttp2                1.43.0               h812cca2_0    conda-forge\r\nlibsolv                   0.7.19               h780b84a_5    conda-forge\r\nlibssh2                   1.9.0                ha56f1ee_6    conda-forge\r\nlibstdcxx-ng              9.3.0               hd4cf53a_17\r\nlibxml2                   2.9.12               h72842e0_0    conda-forge\r\nlz4-c                     1.9.3                h9c3ff4c_0    conda-forge\r\nlzo                       2.10              h516909a_1000    conda-forge\r\nmamba                     0.15.2           py39h951de11_0    conda-forge\r\nncurses                   6.2                  he6710b0_1\r\nopenssl                   1.1.1k               h7f98852_0    conda-forge\r\npip                       21.1.3           py39h06a4308_0\r\npycosat                   0.6.3            py39h27cfd23_0\r\npycparser                 2.20                       py_2\r\npyopenssl                 20.0.1             pyhd3eb1b0_1\r\npysocks                   1.7.1            py39h06a4308_0\r\npython                    3.9.5                h12debd9_4\r\npython_abi                3.9                      2_cp39    conda-forge\r\nreadline                  8.1                  h27cfd23_0\r\nreproc                    14.2.1               h36c2ea0_0    conda-forge\r\nreproc-cpp                14.2.1               h58526e2_0    conda-forge\r\nrequests                  2.25.1             pyhd3eb1b0_0\r\nruamel_yaml               0.15.100         py39h27cfd23_0\r\nsetuptools                52.0.0           py39h06a4308_0\r\nsix                       1.16.0             pyhd3eb1b0_0\r\nsqlite                    3.36.0               hc218d9a_0\r\ntk                        8.6.10               hbc83047_0\r\ntqdm                      4.61.2             pyhd3eb1b0_1\r\ntzdata                    2021a                h52ac0ba_0\r\nurllib3                   1.26.6             pyhd3eb1b0_1\r\nwheel                     0.36.2             pyhd3eb1b0_0\r\nxz                        5.2.5                h7b6447c_0\r\nyaml                      0.2.5                h7b6447c_0\r\nzlib                      1.2.11               h7b6447c_3\r\nzstd                      1.5.0                ha95c52a_0    conda-forge\r\n```\r\n\r\n### DeepLabCut mode\r\n\r\nsingle animal\r\n\r\n### Device type\r\n\r\nNVIDIA-SMI 460.32.03    Driver Version: 460.32.03    CUDA Version: 11.2\r\n\r\nTesla k80\r\n\r\n### Steps To Reproduce\r\n\r\n1) module load cuDNN/8.1.1.33 miniconda\r\n2) conda activate DEEPLABCUT\r\n3) python -m deeplab cut\r\n4) Load config file\r\n5)Training was already successfully completed, move to evaluate\r\n6)Evaluate network\r\n\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n[lm966@c21n10 ~]$ module load cuDNN/8.1.1.33 miniconda\r\n[lm966@c21n10 ~]$ nvidia-smi\r\nTue Aug 24 15:48:09 2021\r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 460.32.03    Driver Version: 460.32.03    CUDA Version: 11.2     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|                               |                      |               MIG M. |\r\n|===============================+======================+======================|\r\n|   0  Tesla K80           On   | 00000000:0E:00.0 Off |                    0 |\r\n| N/A   47C    P8    31W / 149W |      0MiB / 11441MiB |      0%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n\r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                                  |\r\n|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\r\n|        ID   ID                                                   Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n+-----------------------------------------------------------------------------+\r\n[lm966@c21n10 ~]$ ^C\r\n[lm966@c21n10 ~]$ ^C\r\n[lm966@c21n10 ~]$ conda activate DEEPLABCUT\r\n(DEEPLABCUT)[lm966@c21n10 ~]$ python -m deeplabcut\r\n2021-08-24 15:50:03.336033: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0\r\nStarting GUI...\r\n\r\n/gpfs/ysm/home/lm966/Deeplabcut/Hot_Cold_Mouse-Lyle_Murphy-2021-07-15/evaluation-results/  already exists!\r\n/gpfs/ysm/home/lm966/Deeplabcut/Hot_Cold_Mouse-Lyle_Murphy-2021-07-15/evaluation-results/iteration-0/Hot_Cold_MouseJul15-trainset95shuffle1  already exists!\r\nRunning  DLC_resnet50_Hot_Cold_MouseJul15shuffle1_1030000  with # of trainingiterations: 1030000\r\n/gpfs/ysm/project/gracheva/lm966/conda_envs/DEEPLABCUT/lib/python3.8/site-packages/tensorflow/python/keras/engine/base_layer_v1.py:1692: UserWarning: `layer.apply` is deprecated and will be removed in a future version. Please use `layer.__call__` method instead.\r\n  warnings.warn('`layer.apply` is deprecated and '\r\n2021-08-24 15:51:35.668174: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcuda.so.1\r\n2021-08-24 15:51:35.697837: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:\r\npciBusID: 0000:0e:00.0 name: Tesla K80 computeCapability: 3.7\r\ncoreClock: 0.8235GHz coreCount: 13 deviceMemorySize: 11.17GiB deviceMemoryBandwidth: 223.96GiB/s\r\n2021-08-24 15:51:35.698102: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0\r\n2021-08-24 15:51:36.129573: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublas.so.11\r\n2021-08-24 15:51:36.129780: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcublasLt.so.11\r\n2021-08-24 15:51:36.219033: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcufft.so.10\r\n2021-08-24 15:51:36.345203: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcurand.so.10\r\n2021-08-24 15:51:36.539816: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusolver.so.11\r\n2021-08-24 15:51:36.669743: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcusparse.so.11\r\n2021-08-24 15:51:36.682735: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudnn.so.8\r\n2021-08-24 15:51:36.685110: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0\r\n2021-08-24 15:51:36.685833: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA\r\nTo enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\n2021-08-24 15:51:36.687146: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties:\r\npciBusID: 0000:0e:00.0 name: Tesla K80 computeCapability: 3.7\r\ncoreClock: 0.8235GHz coreCount: 13 deviceMemorySize: 11.17GiB deviceMemoryBandwidth: 223.96GiB/s\r\n2021-08-24 15:51:36.689403: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0\r\n2021-08-24 15:51:36.689534: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library libcudart.so.11.0\r\n2021-08-24 15:51:40.454812: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2021-08-24 15:51:40.455015: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0\r\n2021-08-24 15:51:40.455091: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N\r\n2021-08-24 15:51:40.458643: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10800 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:0e:00.0, compute capability: 3.7)\r\n2021-08-24 15:51:40.555641: I tensorflow/core/platform/profile_utils/cpu_utils.cc:114] CPU Frequency: 2600245000 Hz\r\nAnalyzing data...\r\n0it [00:00, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"/gpfs/ysm/project/gracheva/lm966/conda_envs/DEEPLABCUT/lib/python3.8/site-packages/deeplabcut/gui/evaluate_network.py\", line 270, in evaluate_network\r\n    deeplabcut.evaluate_network(\r\n  File \"/gpfs/ysm/project/gracheva/lm966/conda_envs/DEEPLABCUT/lib/python3.8/site-packages/deeplabcut/pose_estimation_tensorflow/core/evaluate.py\", line 778, in evaluate_network\r\n    image = imread(\r\n  File \"/gpfs/ysm/project/gracheva/lm966/conda_envs/DEEPLABCUT/lib/python3.8/site-packages/deeplabcut/utils/auxfun_videos.py\", line 349, in imread\r\n    return cv2.cvtColor(cv2.imread(path), cv2.COLOR_BGR2RGB)\r\ncv2.error: OpenCV(4.5.3) /tmp/pip-req-build-f51eratu/opencv/modules/imgproc/src/color.cpp:182: error: (-215:Assertion failed) !_src.empty() in function 'cvtColor'\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1478/timeline","performed_via_github_app":null,"state_reason":"completed"}