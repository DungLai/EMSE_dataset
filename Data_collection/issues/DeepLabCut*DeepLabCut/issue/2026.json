{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2026","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2026/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2026/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2026/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/2026","id":1425221615,"node_id":"I_kwDOB5BM6c5U8yfv","number":2026,"title":"Crash on analyze video","user":{"login":"LWitter","id":49272646,"node_id":"MDQ6VXNlcjQ5MjcyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/49272646?v=4","gravatar_id":"","url":"https://api.github.com/users/LWitter","html_url":"https://github.com/LWitter","followers_url":"https://api.github.com/users/LWitter/followers","following_url":"https://api.github.com/users/LWitter/following{/other_user}","gists_url":"https://api.github.com/users/LWitter/gists{/gist_id}","starred_url":"https://api.github.com/users/LWitter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LWitter/subscriptions","organizations_url":"https://api.github.com/users/LWitter/orgs","repos_url":"https://api.github.com/users/LWitter/repos","events_url":"https://api.github.com/users/LWitter/events{/privacy}","received_events_url":"https://api.github.com/users/LWitter/received_events","type":"User","site_admin":false},"labels":[{"id":1916568775,"node_id":"MDU6TGFiZWwxOTE2NTY4Nzc1","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/more-data-requested-by-us","name":"more-data-requested-by-us","color":"08427c","default":false,"description":"We would like to get more data to answer"}],"state":"open","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2022-10-27T08:15:55Z","updated_at":"2022-11-16T09:55:27Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nI have unexplained crashes on analyze video.\r\nI try to analyze movies from open field data where four cages of mice were recorded simultaneously via 1 camera. I have split movies into four separate clips (cropping 4x each movie) and analyzed these with DLC. Worked great.\r\nNow, when I try to use analyze videos ipython crashes, even when using the exact same movies that previously were used for labeling. The crash is without a command-line error. Just a windows-style crash with a popup stating 'python has stopped working'.\r\n\r\nNow the weird part: When I try to analyze a non-cropped movie, everything works fine. Which led me to believe something changed in the codec making DLC or something under the hood not properly recognizing the movie. I tried every coded I could think using VLC. Nothing worked. So, I switched to ffmpeg to split movies and code them. Nothing worked. Then I realized DLC has a crop function! Didn't work either, not via the config file, nor via the GUI. Now, again I tried analyzing the non-cropped movie. Worked.\r\nVery confusing behavior.\r\nI also tried not filtering the points, not exporting the CSV file, etc. Didn't work....\r\n\r\nWhat could be going on here? Does DLC maybe want a larger video (in terms of X*Y pixels)? Should I rebuild the project and try again? Did anyone experience this before?\r\n\r\n\n\n### Operating System\n\nWindows 7 (required by my institute on managed R&D computers)\n\n### DeepLabCut version\n\ndlc version 2.2.0.3\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\nGPU: RTX2080TI\r\n\r\nFollowing should be irrelevant I think?\r\nCPU: Xeon W2123\r\nMemory: 128Gb\n\n### Steps To Reproduce\n\n(deeplabcut) C:\\Users\\lwitter2>pip list\r\nPackage                       Version\r\n----------------------------- -------------------\r\nabsl-py                       1.0.0\r\nanipose                       1.0.1\r\naniposelib                    0.4.3\r\napptools                      5.1.0\r\nargon2-cffi                   21.1.0\r\nastunparse                    1.6.3\r\nasync-generator               1.10\r\nattrs                         21.2.0\r\nbackcall                      0.2.0\r\nbackports.functools-lru-cache 1.6.4\r\nbleach                        4.1.0\r\nBrotli                        1.0.9\r\ncachetools                    4.2.4\r\ncertifi                       2021.10.8\r\ncffi                          1.15.0\r\ncharset-normalizer            2.0.9\r\nclick                         8.0.4\r\ncolorama                      0.4.4\r\nconfigobj                     5.0.6\r\ncycler                        0.11.0\r\ndebugpy                       1.5.1\r\ndecorator                     5.1.1\r\ndeeplabcut                    2.2.0.3\r\ndefusedxml                    0.7.1\r\nentrypoints                   0.3\r\nfilterpy                      1.4.5\r\nFlask                         2.0.3\r\nFlask-Compress                1.11\r\nflask-ipban                   1.1.5\r\nflatbuffers                   2.0\r\nfonttools                     4.28.3\r\ngast                          0.4.0\r\ngoogle-auth                   2.3.3\r\ngoogle-auth-oauthlib          0.4.6\r\ngoogle-pasta                  0.2.0\r\ngrpcio                        1.42.0\r\nh5py                          3.6.0\r\nidna                          3.3\r\nimageio                       2.13.3\r\nimageio-ffmpeg                0.4.5\r\nimgaug                        0.4.0\r\nimportlib-metadata            4.8.2\r\nimportlib-resources           5.4.0\r\nipykernel                     6.5.1\r\nipython                       7.30.1\r\nipython-genutils              0.2.0\r\nipywidgets                    7.6.5\r\nitsdangerous                  2.1.1\r\njedi                          0.18.1\r\nJinja2                        3.0.3\r\njoblib                        1.1.0\r\njsonschema                    4.2.1\r\njupyter                       1.0.0\r\njupyter-client                7.1.0\r\njupyter-console               6.4.0\r\njupyter-core                  4.9.1\r\njupyterlab-pygments           0.1.2\r\njupyterlab-widgets            1.0.2\r\nkeras                         2.8.0\r\nKeras-Preprocessing           1.1.2\r\nkiwisolver                    1.3.2\r\nlibclang                      12.0.0\r\nllvmlite                      0.37.0\r\nMarkdown                      3.3.6\r\nMarkupSafe                    2.0.1\r\nmatplotlib                    3.5.0\r\nmatplotlib-inline             0.1.3\r\nmistune                       0.8.4\r\nmkl-service                   2.4.0\r\nmoviepy                       1.0.3\r\nmsgpack                       1.0.3\r\nmsgpack-numpy                 0.4.7.1\r\nnb-conda                      2.2.1\r\nnb-conda-kernels              2.3.1\r\nnbclient                      0.5.9\r\nnbconvert                     6.3.0\r\nnbformat                      5.1.3\r\nnest-asyncio                  1.5.4\r\nnetworkx                      2.6.3\r\nnotebook                      6.4.6\r\nnumba                         0.54.1\r\nnumexpr                       2.8.1\r\nnumpy                         1.20.0\r\noauthlib                      3.1.1\r\nopencv-contrib-python         4.5.5.64\r\nopencv-python                 4.5.4.60\r\nopencv-python-headless        4.5.4.60\r\nopt-einsum                    3.3.0\r\npackaging                     21.3\r\npandas                        1.3.4\r\npandocfilters                 1.5.0\r\nparso                         0.8.3\r\npatsy                         0.5.2\r\npickleshare                   0.7.5\r\nPillow                        8.4.0\r\npip                           21.3.1\r\nproglog                       0.1.9\r\nprometheus-client             0.12.0\r\nprompt-toolkit                3.0.24\r\nprotobuf                      3.19.1\r\npsutil                        5.8.0\r\npyasn1                        0.4.8\r\npyasn1-modules                0.2.8\r\npycparser                     2.21\r\npyface                        7.4.1\r\nPygments                      2.10.0\r\npyparsing                     3.0.6\r\nPyQt5                         5.12.3\r\nPyQt5_sip                     4.19.18\r\nPyQtChart                     5.12\r\nPyQtWebEngine                 5.12.1\r\npyrsistent                    0.18.0\r\npython-dateutil               2.8.2\r\npytz                          2021.3\r\nPyWavelets                    1.2.0\r\npywin32                       302\r\npywinpty                      1.1.6\r\nPyYAML                        6.0\r\npyzmq                         22.3.0\r\nqtconsole                     5.2.1\r\nQtPy                          1.11.3\r\nrequests                      2.26.0\r\nrequests-oauthlib             1.3.0\r\nrsa                           4.8\r\nruamel.yaml                   0.17.17\r\nruamel.yaml.clib              0.2.6\r\nscikit-image                  0.18.1\r\nscikit-learn                  1.0.1\r\nscikit-video                  1.1.11\r\nscipy                         1.7.3\r\nSend2Trash                    1.8.0\r\nsetuptools                    59.4.0\r\nsetuptools-scm                6.3.2\r\nShapely                       1.8.0\r\nsix                           1.16.0\r\nstatsmodels                   0.13.1\r\ntables                        3.7.0\r\ntabulate                      0.8.9\r\ntensorboard                   2.8.0\r\ntensorboard-data-server       0.6.1\r\ntensorboard-plugin-wit        1.8.0\r\ntensorflow                    2.8.0\r\ntensorflow-estimator          2.7.0\r\ntensorflow-io-gcs-filesystem  0.24.0\r\ntensorpack                    0.11\r\ntermcolor                     1.1.0\r\nterminado                     0.12.1\r\ntestpath                      0.5.0\r\ntf-estimator-nightly          2.8.0.dev2021122109\r\ntf-slim                       1.1.0\r\nthreadpoolctl                 3.0.0\r\ntifffile                      2021.11.2\r\ntoml                          0.10.2\r\ntomli                         1.2.2\r\ntornado                       6.1\r\ntqdm                          4.62.3\r\ntraitlets                     5.1.1\r\ntraits                        6.3.2\r\ntraitsui                      7.3.1\r\ntyping_extensions             4.0.1\r\nurllib3                       1.26.7\r\nwcwidth                       0.2.5\r\nwebencodings                  0.5.1\r\nWerkzeug                      2.0.2\r\nwheel                         0.37.0\r\nwidgetsnbextension            3.5.2\r\nwrapt                         1.13.3\r\nwxPython                      4.1.1\r\nzipp                          3.6.0\n\n### Relevant log output\n\n```shell\nIn [3]: deeplabcut.launch_dlc()\r\nUsing snapshot-950000 for model D:\\DLC\\Open_Field_Michael\\OpenFieldMichael-LW-20\r\n22-07-15\\dlc-models\\iteration-0\\OpenFieldMichaelJul15-trainset95shuffle1\r\nC:\\ProgramData\\Anaconda3\\envs\\deeplabcut\\lib\\site-packages\\tensorflow\\python\\ker\r\nas\\engine\\base_layer_v1.py:1694: UserWarning: `layer.apply` is deprecated and wi\r\nll be removed in a future version. Please use `layer.__call__` method instead.\r\n  warnings.warn('`layer.apply` is deprecated and '\r\nC:\\ProgramData\\Anaconda3\\envs\\deeplabcut\\lib\\site-packages\\tf_slim\\layers\\layers\r\n.py:684: UserWarning: `layer.apply` is deprecated and will be removed in a futur\r\ne version. Please use `layer.__call__` method instead.\r\n  outputs = layer.apply(inputs, training=is_training)\r\n2022-10-27 10:12:50.276290: I tensorflow/core/platform/cpu_feature_guard.cc:151]\r\n This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (on\r\neDNN) to use the following CPU instructions in performance-critical operations:\r\n AVX AVX2\r\nTo enable them in other operations, rebuild TensorFlow with the appropriate comp\r\niler flags.\r\n2022-10-27 10:12:51.136290: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1\r\n525] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 9526 MB me\r\nmory:  -> device: 0, name: NVIDIA GeForce RTX 2080 Ti, pci bus id: 0000:65:00.0,\r\n compute capability: 7.5\r\nStarting to analyze %  D:\\DLC\\Open_Field_Michael\\OpenFieldMichael-LW-2022-07-15\\\r\nvideos\\Trial1cropped.mpg\r\nLoading  D:\\DLC\\Open_Field_Michael\\OpenFieldMichael-LW-2022-07-15\\videos\\Trial1c\r\nropped.mpg\r\nDuration of video [s]:  655.92 , recorded with  25.0 fps!\r\nOverall # of frames:  16398  found with (before cropping) frame dimensions:  202\r\n 204\r\nStarting to extract posture\r\n  0%|                                                | 0/16398 [00:00<?, ?it/s]2\r\n022-10-27 10:12:53.749290: I tensorflow/stream_executor/cuda/cuda_dnn.cc:368] Lo\r\naded cuDNN version 8101\r\n\r\n(deeplabcut) C:\\Users\\lwitter2>\n```\n\n\n### Anything else?\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2026/timeline","performed_via_github_app":null,"state_reason":null}