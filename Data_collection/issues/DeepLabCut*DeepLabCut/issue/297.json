{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/297","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/297/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/297/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/297/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/297","id":447245329,"node_id":"MDU6SXNzdWU0NDcyNDUzMjk=","number":297,"title":"Deeplabcut training doesn't speed up on Cloud TPU. Why could this be?","user":{"login":"Umar-Ayub","id":20211196,"node_id":"MDQ6VXNlcjIwMjExMTk2","avatar_url":"https://avatars.githubusercontent.com/u/20211196?v=4","gravatar_id":"","url":"https://api.github.com/users/Umar-Ayub","html_url":"https://github.com/Umar-Ayub","followers_url":"https://api.github.com/users/Umar-Ayub/followers","following_url":"https://api.github.com/users/Umar-Ayub/following{/other_user}","gists_url":"https://api.github.com/users/Umar-Ayub/gists{/gist_id}","starred_url":"https://api.github.com/users/Umar-Ayub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Umar-Ayub/subscriptions","organizations_url":"https://api.github.com/users/Umar-Ayub/orgs","repos_url":"https://api.github.com/users/Umar-Ayub/repos","events_url":"https://api.github.com/users/Umar-Ayub/events{/privacy}","received_events_url":"https://api.github.com/users/Umar-Ayub/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-05-22T16:57:21Z","updated_at":"2019-05-22T17:13:14Z","closed_at":"2019-05-22T17:13:11Z","author_association":"NONE","active_lock_reason":null,"body":"**Your Operating system and DeepLabCut version**\r\nGoogle Colab Unix based OS\r\nhttps://colab.research.google.com/github/AlexEMG/DeepLabCut/blob/master/examples/Colab_TrainNetwork_VideoAnalysis.ipynb#scrollTo=RiDwIVf5-3H_\r\n\r\n\r\nPlease state your operating system, env, and which version of DeepLabCut you are using.\r\nExample: Ubuntu 16.04 LTS, with an Anaconda Env, & DeepLabCut1.x or 2.x.\r\n\r\n**If applicable, please also complete the following information:**\r\n - Browser [e.g. chrome, safari]\r\nchrome\r\n - Version [e.g. 22]\r\nlatest\r\n \r\n**Describe the bug**\r\nHi I wanted to train a model on Cloud TPU to take advantage of it's speed up effects for training. However, when I ran it on the TPU runtime inside the colab notebook there wasn't a speedup on TPU and in fact it was performing much slower than a GPU. Would you have any insight on why this is? Theoretically, cloud TPU should perform way faster than cloud GPU (this is the case for example models shared by google cloud). Could there be something on the backend that needs to be implemented in deeplabcut for TPU. Thanks\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n I just followed the intructions for both GPU and TPU on the colab notebook released by the authors:\r\nhttps://colab.research.google.com/github/AlexEMG/DeepLabCut/blob/master/examples/Colab_TrainNetwork_VideoAnalysis.ipynb#scrollTo=RiDwIVf5-3H_\r\n\r\n**Expected behavior**\r\nTPU training should be faster. It's much slower for first 1000 iterations about 20 min on TPU and about 10 min on GPU.\r\n\r\n\r\nAny insight on faster training (hours to minutes) would be appreciated. Thanks \r\n\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/297/timeline","performed_via_github_app":null,"state_reason":"completed"}