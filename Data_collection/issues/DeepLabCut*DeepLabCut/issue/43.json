{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/43","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/43/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/43/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/43/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/43","id":350638195,"node_id":"MDU6SXNzdWUzNTA2MzgxOTU=","number":43,"title":"Does not reach first iteration of training. (Only edit pose_config.yaml manually if you do so consistently)","user":{"login":"elliottabe","id":38570489,"node_id":"MDQ6VXNlcjM4NTcwNDg5","avatar_url":"https://avatars.githubusercontent.com/u/38570489?v=4","gravatar_id":"","url":"https://api.github.com/users/elliottabe","html_url":"https://github.com/elliottabe","followers_url":"https://api.github.com/users/elliottabe/followers","following_url":"https://api.github.com/users/elliottabe/following{/other_user}","gists_url":"https://api.github.com/users/elliottabe/gists{/gist_id}","starred_url":"https://api.github.com/users/elliottabe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elliottabe/subscriptions","organizations_url":"https://api.github.com/users/elliottabe/orgs","repos_url":"https://api.github.com/users/elliottabe/repos","events_url":"https://api.github.com/users/elliottabe/events{/privacy}","received_events_url":"https://api.github.com/users/elliottabe/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-08-15T00:00:00Z","updated_at":"2018-09-30T23:47:36Z","closed_at":"2018-08-15T19:08:21Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the problem**\r\nWhen training on labeled data, the code seems to get stuck after establishing the connection with the GPU.  This only happens occasionally, since I was able to train on a different data set.  When i look at the nvidia-smi the GPU does not appear to be processing anything even though the memory is reserved.  \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Follow the Generating training data steps to create and begin training. \r\n2. edit some parts but not others. \r\n\r\n**Screenshots**\r\nlog.txt file when program gets stuck. \r\n\r\n2018-08-14 23:47:21 Config:\r\n{'all_joints': [[0], [1], [2], [3], [4], [5], [6]],\r\n 'all_joints_names': ['P1', 'P2', 'P3', 'P4', 'P5', 'P6', 'P7'],\r\n 'batch_size': 1,\r\n 'crop': False,\r\n 'crop_pad': 0,\r\n 'dataset': '../../UnaugmentedDataSet_FishTailAug14/FishTail_Elliott95shuffle1.mat',\r\n 'dataset_type': 'default',\r\n 'display_iters': 1000,\r\n 'fg_fraction': 0.25,\r\n 'global_scale': 0.8,\r\n 'init_weights': '../../pretrained/resnet_v1_50.ckpt',\r\n 'intermediate_supervision': False,\r\n 'intermediate_supervision_layer': 12,\r\n 'location_refinement': True,\r\n 'locref_huber_loss': True,\r\n 'locref_loss_weight': 0.05,\r\n 'locref_stdev': 7.2801,\r\n 'log_dir': 'log',\r\n 'max_input_size': 1000,\r\n 'mean_pixel': [123.68, 116.779, 103.939],\r\n 'mirror': False,\r\n 'multi_step': [[0.005, 10000],\r\n                [0.02, 430000],\r\n                [0.002, 730000],\r\n                [0.001, 1030000]],\r\n 'net_type': 'resnet_50',\r\n 'num_joints': 6,\r\n 'optimizer': 'sgd',\r\n 'pos_dist_thresh': 17,\r\n 'regularize': False,\r\n 'save_iters': 50000,\r\n 'scale_jitter_lo': 0.5,\r\n 'scale_jitter_up': 1.5,\r\n 'scoremap_dir': 'test',\r\n 'shuffle': True,\r\n 'snapshot_prefix': './snapshot',\r\n 'stride': 8.0,\r\n 'use_gt_segm': False,\r\n 'video': False,\r\n 'video_batch': False,\r\n 'weigh_negatives': False,\r\n 'weigh_only_present_joints': False,\r\n 'weigh_part_predictions': False,\r\n 'weight_decay': 0.0001}\r\n2018-08-14 23:47:21 From /home/eabe/DeepLabCut/pose-tensorflow/nnet/pose_net.py:52: calling resnet_arg_scope (from tensorflow.contrib.slim.python.slim.nets.resnet_utils) with is_training is deprecated and will be removed after 2017-08-01.\r\nInstructions for updating:\r\nPass is_training directly to the network instead of the arg_scope.\r\n2018-08-14 23:47:23 logits.dtype=<dtype: 'float32'>.\r\n2018-08-14 23:47:23 multi_class_labels.dtype=<dtype: 'float32'>.\r\n2018-08-14 23:47:23 losses.dtype=<dtype: 'float32'>.\r\n2018-08-14 23:55:32 Restoring parameters from ../../pretrained/resnet_v1_50.ckpt\r\n\r\n\r\n**Additional context**\r\nTraining on 77 images, I have tried with 3 points and 7 points and still gets stuck.  It seems like it is getting stuck when loading in the .mat file.  When switching out the path to another one and changing to the appropriate number of joints, it works.  I have tried recreating the training set and still does not get past the initial set up.  ","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/43/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/43/timeline","performed_via_github_app":null,"state_reason":"completed"}