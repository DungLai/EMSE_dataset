{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2102","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2102/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2102/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2102/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/2102","id":1509740910,"node_id":"I_kwDOB5BM6c5Z_NFu","number":2102,"title":"DLC installtion error ","user":{"login":"mano2991","id":13638496,"node_id":"MDQ6VXNlcjEzNjM4NDk2","avatar_url":"https://avatars.githubusercontent.com/u/13638496?v=4","gravatar_id":"","url":"https://api.github.com/users/mano2991","html_url":"https://github.com/mano2991","followers_url":"https://api.github.com/users/mano2991/followers","following_url":"https://api.github.com/users/mano2991/following{/other_user}","gists_url":"https://api.github.com/users/mano2991/gists{/gist_id}","starred_url":"https://api.github.com/users/mano2991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mano2991/subscriptions","organizations_url":"https://api.github.com/users/mano2991/orgs","repos_url":"https://api.github.com/users/mano2991/repos","events_url":"https://api.github.com/users/mano2991/events{/privacy}","received_events_url":"https://api.github.com/users/mano2991/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2022-12-23T20:01:44Z","updated_at":"2022-12-28T12:53:09Z","closed_at":"2022-12-28T12:53:08Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nI'm trying to install DeepLabcut . Im using M1 macbook, So i have followed https://deeplabcut.github.io/DeepLabCut/docs/recipes/installTips.html for installing DLC.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/runpy.py\", line 188, in _run_module_as_main\r\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/runpy.py\", line 147, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/runpy.py\", line 111, in _get_module_details\r\n    __import__(pkg_name)\r\n  File \"/Users/manojkumark/Desktop/Test_DLC/DeepLabCut-2.3rc3/conda-environments/DeepLabCut/deeplabcut/__init__.py\", line 16, in <module>\r\n    import tensorflow as tf\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/site-packages/tensorflow/__init__.py\", line 41, in <module>\r\n    from tensorflow.python.tools import module_util as _module_util\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/site-packages/tensorflow/python/__init__.py\", line 28, in <module>\r\n    import ctypes\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/ctypes/__init__.py\", line 8, in <module>\r\n    from _ctypes import Union, Structure, Array\r\nImportError: dlopen(/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/_ctypes.cpython-39-darwin.so, 0x0002): Library not loaded: @rpath/libffi.8.dylib\r\n  Referenced from: <E87F2CF1-C39F-319B-AC95-8B0D23B12C36> /Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/_ctypes.cpython-39-darwin.so\r\n  Reason: tried: '/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/../../libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/../../libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/bin/../lib/libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/bin/../lib/libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/System/Volumes/Preboot/Cryptexes/OS@rpath/libffi.8.dylib' (no such file), '/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/../../libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/../../libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/bin/../lib/libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/bin/../lib/libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/usr/local/lib/libffi.8.dylib' (no such file), '/usr/lib/libffi.8.dylib' (no such file, not in dyld cache)\r\n```\n\n### Operating System\n\noperating system : MacOS\n\n### DeepLabCut version\n\ndlc version : DeepLabCut-2.3rc3\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\ngpu MAC_M1\n\n### Steps To Reproduce\n\nStep 1 : Clone the DLC repo.\r\n`git clone https://github.com/DeepLabCut/DeepLabCut.git`\r\n\r\nStep 2 : Change your Director to the conda-environment.\r\n`cd DeepLabCut/conda-environments`\r\n\r\nStep 3: download TensorFlow for installation.\r\n`https://drive.google.com/file/d/17pSwfoNuyf3YR8vCaVggHeI-pMQ3xL7l/view?usp=sharing`\r\n\r\nStep 4: Create the Conda environment \r\n`conda env create -f DEEPLABCUT_M1.yaml`\r\n\r\nnote i have chnage the name of  DEEPLABCUT_M1 to DLC_M1\r\n<img width=\"689\" alt=\"Screenshot 2022-12-24 at 01 25 21\" src=\"https://user-images.githubusercontent.com/13638496/209400469-2159504e-3c2d-4b2d-a63b-221026f98931.png\">\r\n\r\n\r\nStep 5: activate the DLC conda environment \r\n```\r\nconda activate DLC_M1\r\nconda env config vars set CONDA_SUBDIR=osx-64\r\n```\r\n\r\nStep 6: reactivate the DLC conda environment \r\n```\r\nconda deactivate\r\nconda activate DLC_M1\r\nconda env update -f DEEPLABCUT_M1.yaml\r\n```\r\n\r\nStep 7:  install tensor flow \r\n`pip install tensorflow-2.4.1-py3-none-any.whl --no-dependencies --force-reinstall`\r\n\r\nStep 8: start DLC\r\n`pythonw -m deeplabcut`\r\n\r\n<img width=\"1512\" alt=\"Screenshot 2022-12-24 at 00 46 41\" src=\"https://user-images.githubusercontent.com/13638496/209400841-87c48593-3be1-4946-a99d-6f37161bfb0d.png\">\r\n\n\n### Relevant log output\n\n```shell\nTraceback (most recent call last):\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/runpy.py\", line 188, in _run_module_as_main\r\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/runpy.py\", line 147, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/runpy.py\", line 111, in _get_module_details\r\n    __import__(pkg_name)\r\n  File \"/Users/manojkumark/Desktop/Test_DLC/DeepLabCut-2.3rc3/conda-environments/DeepLabCut/deeplabcut/__init__.py\", line 16, in <module>\r\n    import tensorflow as tf\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/site-packages/tensorflow/__init__.py\", line 41, in <module>\r\n    from tensorflow.python.tools import module_util as _module_util\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/site-packages/tensorflow/python/__init__.py\", line 28, in <module>\r\n    import ctypes\r\n  File \"/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/ctypes/__init__.py\", line 8, in <module>\r\n    from _ctypes import Union, Structure, Array\r\nImportError: dlopen(/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/_ctypes.cpython-39-darwin.so, 0x0002): Library not loaded: @rpath/libffi.8.dylib\r\n  Referenced from: <E87F2CF1-C39F-319B-AC95-8B0D23B12C36> /Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/_ctypes.cpython-39-darwin.so\r\n  Reason: tried: '/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/../../libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/../../libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/bin/../lib/libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/bin/../lib/libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/System/Volumes/Preboot/Cryptexes/OS@rpath/libffi.8.dylib' (no such file), '/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/../../libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/lib/python3.9/lib-dynload/../../libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/bin/../lib/libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/Users/manojkumark/miniconda/envs/DLC_M1/bin/../lib/libffi.8.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')), '/usr/local/lib/libffi.8.dylib' (no such file), '/usr/lib/libffi.8.dylib' (no such file, not in dyld cache)\n```\n\n\n### Anything else?\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"mano2991","id":13638496,"node_id":"MDQ6VXNlcjEzNjM4NDk2","avatar_url":"https://avatars.githubusercontent.com/u/13638496?v=4","gravatar_id":"","url":"https://api.github.com/users/mano2991","html_url":"https://github.com/mano2991","followers_url":"https://api.github.com/users/mano2991/followers","following_url":"https://api.github.com/users/mano2991/following{/other_user}","gists_url":"https://api.github.com/users/mano2991/gists{/gist_id}","starred_url":"https://api.github.com/users/mano2991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mano2991/subscriptions","organizations_url":"https://api.github.com/users/mano2991/orgs","repos_url":"https://api.github.com/users/mano2991/repos","events_url":"https://api.github.com/users/mano2991/events{/privacy}","received_events_url":"https://api.github.com/users/mano2991/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2102/timeline","performed_via_github_app":null,"state_reason":"completed"}