{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/72","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/72/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/72/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/72/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/72","id":367182873,"node_id":"MDU6SXNzdWUzNjcxODI4NzM=","number":72,"title":"Have MakingLabelledVideo.py label the original, un-cropped video, if cropping = True","user":{"login":"sot-iris","id":16489075,"node_id":"MDQ6VXNlcjE2NDg5MDc1","avatar_url":"https://avatars.githubusercontent.com/u/16489075?v=4","gravatar_id":"","url":"https://api.github.com/users/sot-iris","html_url":"https://github.com/sot-iris","followers_url":"https://api.github.com/users/sot-iris/followers","following_url":"https://api.github.com/users/sot-iris/following{/other_user}","gists_url":"https://api.github.com/users/sot-iris/gists{/gist_id}","starred_url":"https://api.github.com/users/sot-iris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sot-iris/subscriptions","organizations_url":"https://api.github.com/users/sot-iris/orgs","repos_url":"https://api.github.com/users/sot-iris/repos","events_url":"https://api.github.com/users/sot-iris/events{/privacy}","received_events_url":"https://api.github.com/users/sot-iris/received_events","type":"User","site_admin":false},"labels":[{"id":880550036,"node_id":"MDU6TGFiZWw4ODA1NTAwMzY=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-10-05T12:08:15Z","updated_at":"2018-10-06T10:09:55Z","closed_at":"2018-10-05T17:26:26Z","author_association":"NONE","active_lock_reason":null,"body":"Hello!\r\nAs I understand things, when you configure myconfig_analysis so that cropping is True, analysis is confined to a smaller ROI (with given x1, x2, y1, and y2 values), but the labelled videos are cropped. Others may want to have the labels on the original, un-cropped video.\r\nI have made this work-around-script if others find it helpful:\r\n\r\n```\r\nfrom myconfig_analysis import x1, x2, y1, y2\r\nimport cv2\r\n\r\nroi = cv2.VideoCapture(\"VideoROI.avi\") #cropped but labelled video\r\nFOV = cv2.VideoCapture(\"VideoFOV.avi\") #full video, but not labelled\r\n\r\nvids = [roi, FOV]\r\n\r\nframes_roi = []\r\nframes_FOV = []\r\n\r\ncount = 0\r\nfor vid in vids:\r\n    while vid.isOpened():\r\n        ret, frame = vid.read()\r\n        if ret:\r\n            if count == 0:\r\n                frames_roi.append(frame)\r\n            else:\r\n                frames_FOV.append(frame)\r\n        else:\r\n            break\r\n    count += 1\r\n    vid.release()\r\n\r\ncombined = []\r\n\r\nfor i in range(len(frames_FOV)):\r\n    full = frames_FOV[i]\r\n    cropped = frames_roi[i][y1:y2-1, x1:x2]\r\n    full[y1:(y2-1), x1:x2] = cropped\r\n    combined.append(full)\r\n\r\nw, h = frames_FOV[0].shape\r\nout = cv2.VideoWriter(\"FullFOVLabelled_Video.avi\", cv2.VideoWriter_fourcc(*'XVID'), 30, (w, h))\r\nfor i in range(len(combined)):\r\n    out.write(combined[i])\r\nout.release()\r\n```\r\n\r\nHope this helps!","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/72/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/72/timeline","performed_via_github_app":null,"state_reason":"completed"}