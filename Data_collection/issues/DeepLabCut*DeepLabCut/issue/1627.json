{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1627","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1627/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1627/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1627/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1627","id":1090673660,"node_id":"I_kwDOB5BM6c5BAlv8","number":1627,"title":"Empty tracklet for a single-animal single-point tracking using maDLC","user":{"login":"linyangju1994","id":44795395,"node_id":"MDQ6VXNlcjQ0Nzk1Mzk1","avatar_url":"https://avatars.githubusercontent.com/u/44795395?v=4","gravatar_id":"","url":"https://api.github.com/users/linyangju1994","html_url":"https://github.com/linyangju1994","followers_url":"https://api.github.com/users/linyangju1994/followers","following_url":"https://api.github.com/users/linyangju1994/following{/other_user}","gists_url":"https://api.github.com/users/linyangju1994/gists{/gist_id}","starred_url":"https://api.github.com/users/linyangju1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyangju1994/subscriptions","organizations_url":"https://api.github.com/users/linyangju1994/orgs","repos_url":"https://api.github.com/users/linyangju1994/repos","events_url":"https://api.github.com/users/linyangju1994/events{/privacy}","received_events_url":"https://api.github.com/users/linyangju1994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"assignees":[{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2021-12-29T18:04:14Z","updated_at":"2021-12-30T22:40:22Z","closed_at":"2021-12-30T22:40:21Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nDear DLC team,\r\n\r\nI have a different issue following #1626 for single point  tracking. \r\n\r\nI also used maDLC to track a single animal (fly) and its interaction with food. Since v2.2.0.3  starts to support single point tracking, I also just labeled fly as \"individual 1\" with only 1 body part and the food dot as a stable object. \r\n\r\nAfter analyzing the video (tracker method: box), I first checked the video generated for detection before building tracklet. It did a perfect job which can stably track the fly dot and food dot (fly and food are always present in the video). However, after \"convert to tracklets\" and \"create tracks\", I saw following error saying that \"tracklets are empty\". \r\n\r\nI have seen this error before when I was analyzing other videos which have multiple animals with multiple bodyparts, but that seems only happen when there are no (or very few) animals present in the video. \r\n\r\nI am just wondering if there is any change of parameter may help this single-point tracking to build the tracklet and get the (x,y) csv file. \r\n\r\nThanks and happy new year.  \r\n\n\n### Operating System\n\nWindows 10\n\n### DeepLabCut version\n\n2.2.0.3\n\n### DeepLabCut mode\n\nmulti animal\n\n### Device type\n\nRTX 2080Ti\n\n### Steps To Reproduce\n\nIn analyze video (GUI), I selected the video I used for training to analyze, and specify the videotype and tracker method (box), \"No\" for \"calibrate animal assembly and identity only\". \r\n\r\nThe inference_config is default:\r\nboundingboxslack: 0\r\niou_threshold: 0.6\r\nmax_age: 1\r\nmethod: m1\r\nmin_hits: 1\r\nminimalnumberofconnections: 1\r\npafthreshold: 0.1\r\npcutoff: 0.1\r\ntopktoretain: 2\r\nvariant: 0\r\nwithid: false\r\n\r\nIn \"refine tracklets\", the specified shuffle and trainingset index is default as \"1\" and \"0\" respectively.  \r\n\n\n### Relevant log output\n\n```shell\nStarting to analyze %  E:\\flytrack-LJ-2021-12-27\\videos\\flyvideo.mp4\r\nLoading  E:\\flytrack-LJ-2021-12-27\\videos\\flyvideo.mp4\r\nDuration of video [s]:  600.0 , recorded with  29.97 fps!\r\nOverall # of frames:  17982  found with (before cropping) frame dimensions:  416 416\r\nStarting to extract posture from the video(s) with batchsize: 32\r\n17985it [01:44, 172.59it/s]\r\nVideo Analyzed. Saving results in E:\\flytrack-LJ-2021-12-27\\videos...\r\nThe videos are analyzed. Time to assemble animals and track 'em...\r\n Call 'create_video_with_all_detections' to check multi-animal detection quality before tracking.\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function 'extract_outlier_frames' to extract a few representative outlier frames.\r\nUsing snapshot-200000 for model E:\\flytrack-LJ-2021-12-27\\dlc-models\\iteration-0\\flytrackDec27-trainset95shuffle1\r\nProcessing...  E:\\flytrack-LJ-2021-12-27\\videos\\flyvideo.mp4\r\nAnalyzing E:\\flytrack-LJ-2021-12-27\\videos\\flyvideoDLC_dlcrnetms5_flytrackDec27shuffle1_200000.h5\r\n17982it [00:01, 16617.81it/s]\r\n0it [00:00, ?it/s]E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\lib\\trackingutils.py:78: RuntimeWarning: invalid value encountered in double_scalars\r\n  r = w / float(h)\r\n17982it [00:05, 3199.98it/s]\r\nThe tracklets were created (i.e., under the hood deeplabcut.convert_detections2tracklets was run). Now you can 'refine_tracklets' in the GUI, or run 'deeplabcut.stitch_tracklets'.\r\nProcessing...  E:\\flytrack-LJ-2021-12-27\\videos\\flyvideo.mp4\r\nTraceback (most recent call last):\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\gui\\refine_tracklets.py\", line 317, in create_tracks\r\n    deeplabcut.stitch_tracklets(\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 1093, in stitch_tracklets\r\n    stitcher = TrackletStitcher.from_pickle(\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 515, in from_pickle\r\n    class_ = cls.from_dict_of_dict(\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 547, in from_dict_of_dict\r\n    class_ = cls(\r\n  File \"E:\\anaconda3\\envs\\deeplabcut\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 475, in __init__\r\n    raise IOError(\"Tracklets are empty.\")\r\nOSError: Tracklets are empty.\n```\n\n\n### Anything else?\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1627/timeline","performed_via_github_app":null,"state_reason":"completed"}