{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1004","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1004/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1004/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1004/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1004","id":748339427,"node_id":"MDU6SXNzdWU3NDgzMzk0Mjc=","number":1004,"title":"Missing most of my video for DeepLabCut after video Analysis step","user":{"login":"Hydraulic343","id":43321657,"node_id":"MDQ6VXNlcjQzMzIxNjU3","avatar_url":"https://avatars.githubusercontent.com/u/43321657?v=4","gravatar_id":"","url":"https://api.github.com/users/Hydraulic343","html_url":"https://github.com/Hydraulic343","followers_url":"https://api.github.com/users/Hydraulic343/followers","following_url":"https://api.github.com/users/Hydraulic343/following{/other_user}","gists_url":"https://api.github.com/users/Hydraulic343/gists{/gist_id}","starred_url":"https://api.github.com/users/Hydraulic343/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hydraulic343/subscriptions","organizations_url":"https://api.github.com/users/Hydraulic343/orgs","repos_url":"https://api.github.com/users/Hydraulic343/repos","events_url":"https://api.github.com/users/Hydraulic343/events{/privacy}","received_events_url":"https://api.github.com/users/Hydraulic343/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-11-22T20:10:37Z","updated_at":"2020-11-24T22:30:49Z","closed_at":"2020-11-24T22:30:48Z","author_association":"NONE","active_lock_reason":null,"body":"I ran a 6 minute long video through the DeepLabCut program, Colab_TrainNetwork_VideoAnalysis.ipynb. Every step worked fine, until I got to the end and saw that the labeled video was only 1 second long, the first second of the original video. I noticed that during the analysis step, the number of frames went down from 23512 to 58, and I don’t know why this happened.\r\n\r\nBelow is the following code that was generated. Below that is my config file for any additional information that might be needed. I have never ran into this issue before, please let me know if there are any fixes for this.\r\n_____________________________________________________________________________________________________________\r\n```python\r\n\r\nConfig:\r\n{‘all_joints’: [[0], [1], [2], [3], [4], [5], [6], [7], [8]],\r\n‘all_joints_names’: [‘nose’,\r\n‘leftear’,\r\n‘rightear’,\r\n‘spine1’,\r\n‘spine2’,\r\n‘spine3’,\r\n‘tailbase’,\r\n‘tailmid’,\r\n‘tailend’],\r\n‘batch_size’: 1,\r\n‘crop_pad’: 0,\r\n‘dataset’: 'training-datasets/iteration-0/UnaugmentedDataSet_Cohort 5 ’\r\n'Baseline Mouse INov22/Cohort 5 Baseline Mouse ’\r\n‘I_Nicole95shuffle1.mat’,\r\n‘dataset_type’: ‘imgaug’,\r\n‘deterministic’: False,\r\n‘fg_fraction’: 0.25,\r\n‘global_scale’: 0.8,\r\n‘init_weights’: ‘/usr/local/lib/python3.6/dist-packages/deeplabcut/pose_estimation_tensorflow/models/pretrained/resnet_v1_50.ckpt’,\r\n‘intermediate_supervision’: False,\r\n‘intermediate_supervision_layer’: 12,\r\n‘location_refinement’: True,\r\n‘locref_huber_loss’: True,\r\n‘locref_loss_weight’: 1.0,\r\n‘locref_stdev’: 7.2801,\r\n‘log_dir’: ‘log’,\r\n‘mean_pixel’: [123.68, 116.779, 103.939],\r\n‘mirror’: False,\r\n‘net_type’: ‘resnet_50’,\r\n‘num_joints’: 9,\r\n‘optimizer’: ‘sgd’,\r\n‘pairwise_huber_loss’: True,\r\n‘pairwise_predict’: False,\r\n‘partaffinityfield_predict’: False,\r\n‘regularize’: False,\r\n‘scoremap_dir’: ‘test’,\r\n‘shuffle’: True,\r\n‘snapshot_prefix’: '/content/drive/My Drive/Cohort 5 Baseline Mouse ’\r\n'I-Nicole-2020-11-22/dlc-models/iteration-0/Cohort 5 ’\r\n‘Baseline Mouse INov22-trainset95shuffle1/test/snapshot’,\r\n‘stride’: 8.0,\r\n‘weigh_negatives’: False,\r\n‘weigh_only_present_joints’: False,\r\n‘weigh_part_predictions’: False,\r\n‘weight_decay’: 0.0001}\r\nUsing snapshot-13500 for model /content/drive/My Drive/Cohort 5 Baseline Mouse I-Nicole-2020-11-22/dlc-models/iteration-0/Cohort 5 Baseline Mouse INov22-trainset95shuffle1\r\nInitializing ResNet\r\nAnalyzing all the videos in the directory…\r\nStarting to analyze % /content/drive/My Drive/Cohort 5 Baseline Mouse I-Nicole-2020-11-22/videos/GOPR1483.MP4\r\n/content/drive/My Drive/Cohort 5 Baseline Mouse I-Nicole-2020-11-22/videos already exists!\r\nLoading /content/drive/My Drive/Cohort 5 Baseline Mouse I-Nicole-2020-11-22/videos/GOPR1483.MP4\r\n0%| | 0/23512 [00:00<?, ?it/s]Duration of video [s]: 392.26 , recorded with 59.94 fps!\r\nOverall # of frames: 23512 found with (before cropping) frame dimensions: 1920 1080\r\nStarting to extract posture\r\nDetected frames: 58\r\n1%| | 235/23512 [00:18<30:05, 12.90it/s]Saving results in /content/drive/My Drive/Cohort 5 Baseline Mouse I-Nicole-2020-11-22/videos…\r\nThe videos are analyzed. Now your research can truly start!\r\nYou can create labeled videos with ‘create_labeled_video’\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function ‘extract_outlier_frames’ to extract a few representative outlier frames.\r\n\r\nDLC_resnet50_Cohort 5 Baseline Mouse INov22shuffle1_13500\r\n\r\n_____________________________________________________________________________________________________________\r\n\r\n# Project path (change when moving around)\r\nproject_path: /content/drive/My Drive/Cohort 5 Baseline Mouse I-Nicole-2020-11-22\r\n\r\n# Annotation data set configuration (and individual video cropping parameters)\r\nvideo_sets:\r\n/content/drive/My Drive/Cohort 5 Baseline Mouse I-Nicole-2020-11-22/videos/GOPR1483.MP4:\r\ncrop: 0, 1920, 0, 1080\r\nbodyparts:\r\n\r\nnose\r\nleftear\r\nrightear\r\nspine1\r\nspine2\r\nspine3\r\ntailbase\r\ntailmid\r\ntailend\r\nstart: 0\r\nstop: 1\r\nnumframes2pick: 20\r\n\r\n# Plotting configuration\r\nskeleton:\r\n\r\nleftear\r\nspine1\r\nspine3\r\ntailbase\r\nrightear\r\ntailend\r\nnose\r\nrightear\r\nleftear\r\ntailbase\r\nrightear\r\nspine3\r\nnose\r\nspine1\r\nleftear\r\nrightear\r\ntailbase\r\ntailmid\r\nleftear\r\nspine3\r\nspine1\r\nspine2\r\nrightear\r\ntailbase\r\nspine2\r\nspine3\r\nleftear\r\nspine2\r\nrightear\r\nspine1\r\nnose\r\nleftear\r\nrightear\r\ntailmid\r\nleftear\r\ntailend\r\nleftear\r\ntailmid\r\ntailmid\r\ntailend\r\nrightear\r\n\r\nspine2\r\nskeleton_color: cyan\r\npcutoff: 0.6\r\ndotsize: 12\r\nalphavalue: 0.7\r\ncolormap: plasma\r\n\r\nTraining,Evaluation and Analysis configuration\r\nTrainingFraction:\r\n\r\n0.95\r\niteration: 0\r\ndefault_net_type: resnet_50\r\ndefault_augmenter: default\r\nsnapshotindex: -1\r\nbatch_size: 8\r\n\r\nCropping Parameters (for analysis and outlier frame detection)\r\ncropping: false\r\ncroppedtraining: false\r\n#if cropping is true for analysis, then set the values here:\r\nx1: 0\r\nx2: 640\r\ny1: 277\r\ny2: 624\r\n\r\n# Refinement configuration (parameters from annotation dataset configuration also relevant in this stage)\r\ncorner2move2:\r\n\r\n50\r\n50\r\nmove2corner: true\r\n\r\n```","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1004/timeline","performed_via_github_app":null,"state_reason":"completed"}