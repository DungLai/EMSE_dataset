{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/805","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/805/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/805/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/805/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/805","id":658383814,"node_id":"MDU6SXNzdWU2NTgzODM4MTQ=","number":805,"title":"[Bug/Improvement] Creating a Labeled Video in a maDLC Project","user":{"login":"Alyetama","id":56323389,"node_id":"MDQ6VXNlcjU2MzIzMzg5","avatar_url":"https://avatars.githubusercontent.com/u/56323389?v=4","gravatar_id":"","url":"https://api.github.com/users/Alyetama","html_url":"https://github.com/Alyetama","followers_url":"https://api.github.com/users/Alyetama/followers","following_url":"https://api.github.com/users/Alyetama/following{/other_user}","gists_url":"https://api.github.com/users/Alyetama/gists{/gist_id}","starred_url":"https://api.github.com/users/Alyetama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alyetama/subscriptions","organizations_url":"https://api.github.com/users/Alyetama/orgs","repos_url":"https://api.github.com/users/Alyetama/repos","events_url":"https://api.github.com/users/Alyetama/events{/privacy}","received_events_url":"https://api.github.com/users/Alyetama/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2020-07-16T17:04:22Z","updated_at":"2020-07-16T21:34:28Z","closed_at":"2020-07-16T21:34:28Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":" - OS: tested on Linux RHEL and MacOS Catalina\r\n - DeepLabCut Version: tested on 2.2b6 and 2.2b7\r\n\r\n**To Reproduce**\r\n1. In maDLC, using a labeled project:\r\n```python\r\n>>> import tensorflow as tf\r\n>>> import os\r\n>>> os.environ[\"DLClight\"]=\"True\"\r\n>>> import deeplabcut\r\n>>> config_path = '.../config.yaml'\r\n>>> deeplabcut.create_multianimaltraining_dataset(config_path)\r\n>>> deeplabcut.train_network(config_path, shuffle=1, saveiters=10000, displayiters=10, maxiters=75000)\r\n>>> deeplabcut.evaluate_multianimal_crossvalidate(config_path, Shuffles=[1], edgewisecondition=True, leastbpts=1, init_points=20, n_iter=50, target='rpck_train')\r\n>>> videofile_path = '.../cat_video.mp4'\r\n>>> deeplabcut.analyze_videos(config_path, videofile_path, videotype='mp4')\r\n>>> deeplabcut.convert_detections2tracklets(config_path,videofile_path, videotype='mp4', shuffle=1, trainingsetindex=0, track_method='box')\r\n>>> deeplabcut.convert_raw_tracks_to_h5(config_path, '...shuffle1_75000_bx.pickle')\r\n>>> deeplabcut.create_labeled_video(config_path, videofile_path)\r\n```\r\n2. You get the following error message:\r\n```\r\n../videos  already exists!\r\nStarting to process video: .../videos/cat_video.mp4\r\nLoading .../videos/cat_video.mp4 and data.\r\nNo unfiltered data file found in .../videos for cat_video sample and scorer DLC_resnet50_...shuffle1_75000.\r\n```\r\neven though:\r\n```\r\n$ ls\r\n...shuffle1_75000_bx.pickle\r\n...shuffle1_75000_full.pickle\r\n...shuffle1_75000_bx.h5\r\n...shuffle1_75000_meta.pickle\r\ncat_video.mp4\r\n```\r\n3. Issue is solved when renaming file `...shuffle1_75000_bx.h5` to `...shuffle1_75000.h5` (i.e., removing \"_bx\" from the name).\r\n\r\n**Expected behavior**\r\n- Automatically detect _bx.h5 file and use it for creating labeled video.\r\n","closed_by":{"login":"Alyetama","id":56323389,"node_id":"MDQ6VXNlcjU2MzIzMzg5","avatar_url":"https://avatars.githubusercontent.com/u/56323389?v=4","gravatar_id":"","url":"https://api.github.com/users/Alyetama","html_url":"https://github.com/Alyetama","followers_url":"https://api.github.com/users/Alyetama/followers","following_url":"https://api.github.com/users/Alyetama/following{/other_user}","gists_url":"https://api.github.com/users/Alyetama/gists{/gist_id}","starred_url":"https://api.github.com/users/Alyetama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alyetama/subscriptions","organizations_url":"https://api.github.com/users/Alyetama/orgs","repos_url":"https://api.github.com/users/Alyetama/repos","events_url":"https://api.github.com/users/Alyetama/events{/privacy}","received_events_url":"https://api.github.com/users/Alyetama/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/805/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/805/timeline","performed_via_github_app":null,"state_reason":"completed"}