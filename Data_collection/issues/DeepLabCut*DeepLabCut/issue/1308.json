{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1308","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1308/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1308/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1308/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1308","id":912395344,"node_id":"MDU6SXNzdWU5MTIzOTUzNDQ=","number":1308,"title":"maDLC 2.2rc2 error while stitching a tracklet from el.pickle file","user":{"login":"kylecnewton","id":48524603,"node_id":"MDQ6VXNlcjQ4NTI0NjAz","avatar_url":"https://avatars.githubusercontent.com/u/48524603?v=4","gravatar_id":"","url":"https://api.github.com/users/kylecnewton","html_url":"https://github.com/kylecnewton","followers_url":"https://api.github.com/users/kylecnewton/followers","following_url":"https://api.github.com/users/kylecnewton/following{/other_user}","gists_url":"https://api.github.com/users/kylecnewton/gists{/gist_id}","starred_url":"https://api.github.com/users/kylecnewton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylecnewton/subscriptions","organizations_url":"https://api.github.com/users/kylecnewton/orgs","repos_url":"https://api.github.com/users/kylecnewton/repos","events_url":"https://api.github.com/users/kylecnewton/events{/privacy}","received_events_url":"https://api.github.com/users/kylecnewton/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":24,"created_at":"2021-06-05T18:56:40Z","updated_at":"2022-10-04T19:16:00Z","closed_at":"2022-10-04T19:16:00Z","author_association":"NONE","active_lock_reason":null,"body":"Hi all,\r\n\r\nWin 10, GPU, error stitching a tracklet from command line DLC2.2rc2\r\n\r\nI ran into an error while trying to stitch a tracklet together from an el.pickle file. When I looked at the video created to check the detections, I saw that DLC was misidentifying a bubble along the side of the arena as a fish body part. \r\n\r\nthe error is pasted below but I cannot attach the el.pickle file as the format is not supported here.\r\n\r\nthanks!\r\n\r\nKyle\r\n-------------------------------------------------------------------\r\n```python\r\nTMicrosoft Windows [Version 10.0.19042.985]\r\n(c) Microsoft Corporation. All rights reserved.\r\n\r\nC:\\Users\\Fish_Behavior>conda activate DLC-GPU\r\n\r\n(DLC-GPU) C:\\Users\\Fish_Behavior>python\r\nPython 3.7.7 (default, May  6 2020, 11:45:54) [MSC v.1916 64 bit (AMD64)] :: Anaconda, Inc. on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import deeplabcut\r\nC:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\nC:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\nC:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:528: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\nC:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:529: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\nC:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:530: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\nC:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:535: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\n>>> from deeplabcut import stitch_tracklets\r\n>>> stitch_tracklets(r'C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\config.yaml', r'C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\videos\\batch_process\\20210526_AB_7dpf_2hr_shake_0004downsampled_croppedDLC_resnet50_1LZF_DLCma_modelJul29shuffle1_100000_el.pickle')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 1042, in stitch_tracklets\r\n    pickle_file, n_tracks, min_length, split_tracklets, prestitch_residuals\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 507, in from_pickle\r\n    with open(pickle_file, \"rb\") as file:\r\nFileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\Fish_Behavior\\\\Desktop\\\\DLCwork\\\\1LZF_DLCma_model-Kyle-2020-07-29\\\\videos\\\\batch_process\\\\20210526_AB_7dpf_2hr_shake_0004downsampled_croppedDLC_resnet50_1LZF_DLCma_modelJul29shuffle1_100000_el.pickle'\r\n>>> stitch_tracklets(r'C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\config.yaml', C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\videos\\batch_process\\20210526_AB_7dpf_2hr_shake_0004downsampled_cropped_croppedDLC_resnet50_1LZF_DLCma_modelJul29shuffle1_100000_el.pickle')\r\n  File \"<stdin>\", line 1\r\n    stitch_tracklets(r'C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\config.yaml', C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\videos\\batch_process\\20210526_AB_7dpf_2hr_shake_0004downsampled_cropped_croppedDLC_resnet50_1LZF_DLCma_modelJul29shuffle1_100000_el.pickle')\r\n                                                                                                              ^\r\nSyntaxError: invalid syntax\r\n>>> from deeplabcut import stitch_tracklets\r\n>>> from deeplabcut.utils import grab_files_in_folder\r\n>>> for pickle_file in grab_files_in_folder(r'C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\videos\\batch_process', ext='_el.pickle', relative=False):\r\n...    stitch_tracklets(r'C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\config.yaml', pickle_file, n_tracks=1)\r\n...\r\n100%|████████████████████████████████████████████████████████████████████████████████████████████| 2/2 [00:00<?, ?it/s]\r\n<deeplabcut.refine_training_dataset.stitch.TrackletStitcher object at 0x000001DD4F7E2408>\r\n>>> for pickle_file in grab_files_in_folder(r'C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\videos\\batch_process', ext='_el.pickle', relative=False):\r\n...    stitch_tracklets(r'C:\\Users\\Fish_Behavior\\Desktop\\DLCwork\\1LZF_DLCma_model-Kyle-2020-07-29\\config.yaml', pickle_file, n_tracks=1)\r\n...\r\n100%|████████████████████████████████████████████████████████████████████████████████████████████| 2/2 [00:00<?, ?it/s]\r\nC:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py:650: UserWarning: No optimal solution found. Employing black magic...\r\n  warnings.warn(\"No optimal solution found. Employing black magic...\")\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 647, in stitch\r\n    _, self.flow = nx.capacity_scaling(self.G)\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\networkx\\algorithms\\flow\\capacityscaling.py\", line 373, in capacity_scaling\r\n    raise nx.NetworkXUnfeasible('No flow satisfying all demands.')\r\nnetworkx.exception.NetworkXUnfeasible: No flow satisfying all demands.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 673, in stitch\r\n    self.G, \"source\", \"sink\", preflow_push, self.n_tracks\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\networkx\\algorithms\\connectivity\\disjoint_paths.py\", line 401, in node_disjoint_paths\r\n    for path in paths_edges:\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\networkx\\algorithms\\connectivity\\disjoint_paths.py\", line 208, in edge_disjoint_paths\r\n    raise NetworkXNoPath\r\nnetworkx.exception.NetworkXNoPath\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 1051, in stitch_tracklets\r\n    stitcher.stitch()\r\n  File \"C:\\Users\\Fish_Behavior\\.conda\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py\", line 727, in stitch\r\n    f\"Could not reconstruct {self.n_tracks} tracks from the tracklets given.\"\r\nValueError: Could not reconstruct 1 tracks from the tracklets given.\r\n>>>\r\n```","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1308/timeline","performed_via_github_app":null,"state_reason":"completed"}