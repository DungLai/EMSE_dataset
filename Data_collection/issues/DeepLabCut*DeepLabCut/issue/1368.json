{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1368","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1368/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1368/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1368/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1368","id":934866668,"node_id":"MDU6SXNzdWU5MzQ4NjY2Njg=","number":1368,"title":"pytables error in 2.2rc3","user":{"login":"backyardbiomech","id":9662673,"node_id":"MDQ6VXNlcjk2NjI2NzM=","avatar_url":"https://avatars.githubusercontent.com/u/9662673?v=4","gravatar_id":"","url":"https://api.github.com/users/backyardbiomech","html_url":"https://github.com/backyardbiomech","followers_url":"https://api.github.com/users/backyardbiomech/followers","following_url":"https://api.github.com/users/backyardbiomech/following{/other_user}","gists_url":"https://api.github.com/users/backyardbiomech/gists{/gist_id}","starred_url":"https://api.github.com/users/backyardbiomech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/backyardbiomech/subscriptions","organizations_url":"https://api.github.com/users/backyardbiomech/orgs","repos_url":"https://api.github.com/users/backyardbiomech/repos","events_url":"https://api.github.com/users/backyardbiomech/events{/privacy}","received_events_url":"https://api.github.com/users/backyardbiomech/received_events","type":"User","site_admin":false},"labels":[{"id":1010467338,"node_id":"MDU6TGFiZWwxMDEwNDY3MzM4","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/Installation","name":"Installation","color":"ecfca6","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"assignees":[{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":11,"created_at":"2021-07-01T13:48:30Z","updated_at":"2021-07-13T16:58:17Z","closed_at":"2021-07-13T16:58:17Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\nTo test out 2.2rc3, I followed the installation instructions to install a new environment on my DLC computer (env file downloaded from the blog), rather than the latest from the repo. I've encountered two errors:\r\n\r\n1. the instructions to run `pip install deeplabcut[gui]` from within the env did not grab rc3 (got 2.1.10.4 instead). I had to run `pip install deeplabcut[gui]==2.2rc3` Instructions should be clarified.\r\n2. I was in the middle of a workflow, so I decided to jump right into evaluating a new network, but got a tables error, which I know was a bit of a problem during rc3 testing.\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Windows10\r\n - DeepLabCut Version `2.2rc3`\r\n - conda version 4.10.1 (ran `conda update conda` just before installation of rc3)\r\n - Single animal, called in jupyter lab nb\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior, i.e.:\r\n1. create env with `DEEPLABCUT.yaml`\r\n2. activate env, and run `pip install deeplabcut[gui]==2.2rc3`\r\n3. confirm version with `deeplabcut.__version__`\r\n4. ran `dlc.evaluate_network(config, plotting=True, gputouse=0, show_errors=True, Shuffles=[1])`\r\n4. See error:\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n\r\n```python\r\n\r\n----> 5 dlc.evaluate_network(config, plotting=True, gputouse=0, show_errors=True, Shuffles=[1])\r\n\r\n~\\Miniconda3\\envs\\dlc22rc3\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\core\\evaluate.py in evaluate_network(config, Shuffles, trainingsetindex, plotting, show_errors, comparisonbodyparts, gputouse, rescale, modelprefix, c_engine)\r\n    613         # Loading human annotatated data\r\n    614         trainingsetfolder = auxiliaryfunctions.GetTrainingSetFolder(cfg)\r\n--> 615         Data = pd.read_hdf(\r\n    616             os.path.join(\r\n    617                 cfg[\"project_path\"],\r\n\r\n~\\Miniconda3\\envs\\dlc22rc3\\lib\\site-packages\\pandas\\io\\pytables.py in read_hdf(path_or_buf, key, mode, errors, where, start, stop, columns, iterator, chunksize, **kwargs)\r\n    397             raise FileNotFoundError(f\"File {path_or_buf} does not exist\")\r\n    398 \r\n--> 399         store = HDFStore(path_or_buf, mode=mode, errors=errors, **kwargs)\r\n    400         # can't auto open/close if we are using an iterator\r\n    401         # so delegate to the iterator\r\n\r\n~\\Miniconda3\\envs\\dlc22rc3\\lib\\site-packages\\pandas\\io\\pytables.py in __init__(self, path, mode, complevel, complib, fletcher32, **kwargs)\r\n    540             raise ValueError(\"format is not a defined argument for HDFStore\")\r\n    541 \r\n--> 542         tables = import_optional_dependency(\"tables\")\r\n    543 \r\n    544         if complib is not None and complib not in tables.filters.all_complibs:\r\n\r\n~\\Miniconda3\\envs\\dlc22rc3\\lib\\site-packages\\pandas\\compat\\_optional.py in import_optional_dependency(name, extra, raise_on_missing, on_version)\r\n    107     except ImportError:\r\n    108         if raise_on_missing:\r\n--> 109             raise ImportError(msg) from None\r\n    110         else:\r\n    111             return None\r\n\r\nImportError: Missing optional dependency 'tables'.  Use pip or conda to install tables.\r\n\r\n```\r\n</p></details>\r\n\r\n`conda list`  shows `pytables==3.6.1` from conda-forge\r\n\r\n<details><summary>full conda list</summary><p>\r\n\r\n```\r\n\r\n(dlc22rc3) C:\\>conda list\r\n# packages in environment at C:\\Users\\jacksonbe3\\Miniconda3\\envs\\dlc22rc3:\r\n#\r\n# Name                    Version                   Build  Channel\r\nabsl-py                   0.13.0                   pypi_0    pypi\r\nargon2-cffi               20.1.0           py38h294d835_2    conda-forge\r\nastunparse                1.6.3                    pypi_0    pypi\r\nasync_generator           1.10                       py_0    conda-forge\r\nattrs                     21.2.0             pyhd8ed1ab_0    conda-forge\r\nbackcall                  0.2.0              pyh9f0ad1d_0    conda-forge\r\nbackports                 1.0                        py_2    conda-forge\r\nbackports.functools_lru_cache 1.6.4              pyhd8ed1ab_0    conda-forge\r\nbayesian-optimization     1.2.0                    pypi_0    pypi\r\nbleach                    3.3.0              pyh44b312d_0    conda-forge\r\nblosc                     1.21.0               h0e60522_0    conda-forge\r\nbzip2                     1.0.8                h8ffe710_4    conda-forge\r\nca-certificates           2021.5.30            h5b45459_0    conda-forge\r\ncachetools                4.2.2                    pypi_0    pypi\r\ncertifi                   2021.5.30        py38haa244fe_0    conda-forge\r\ncffi                      1.14.5           py38hd8c33c5_0    conda-forge\r\nchardet                   4.0.0                    pypi_0    pypi\r\nclick                     8.0.1                    pypi_0    pypi\r\ncolorama                  0.4.4              pyh9f0ad1d_0    conda-forge\r\ncycler                    0.10.0                   pypi_0    pypi\r\ncython                    0.29.23                  pypi_0    pypi\r\ndebugpy                   1.3.0            py38h885f38d_0    conda-forge\r\ndecorator                 4.4.2                    pypi_0    pypi\r\ndeeplabcut                2.2rc3                   pypi_0    pypi\r\ndefusedxml                0.7.1              pyhd8ed1ab_0    conda-forge\r\nentrypoints               0.3             pyhd8ed1ab_1003    conda-forge\r\nffmpeg                    4.3.1                ha925a31_0    conda-forge\r\nfilterpy                  1.4.5                    pypi_0    pypi\r\nflatbuffers               1.12                     pypi_0    pypi\r\ngast                      0.4.0                    pypi_0    pypi\r\ngoogle-auth               1.32.1                   pypi_0    pypi\r\ngoogle-auth-oauthlib      0.4.4                    pypi_0    pypi\r\ngoogle-pasta              0.2.0                    pypi_0    pypi\r\ngrpcio                    1.34.1                   pypi_0    pypi\r\nh5py                      3.1.0                    pypi_0    pypi\r\nhdf5                      1.10.6          nompi_h5268f04_1114    conda-forge\r\nicu                       68.1                 h0e60522_0    conda-forge\r\nidna                      2.10                     pypi_0    pypi\r\nimageio                   2.9.0                    pypi_0    pypi\r\nimageio-ffmpeg            0.4.4                    pypi_0    pypi\r\nimgaug                    0.4.0                    pypi_0    pypi\r\nimportlib-metadata        4.6.0            py38haa244fe_0    conda-forge\r\nintel-openmp              2021.3.0                 pypi_0    pypi\r\nipykernel                 6.0.0            py38h43734a8_0    conda-forge\r\nipython                   7.25.0           py38h43734a8_1    conda-forge\r\nipython_genutils          0.2.0                      py_1    conda-forge\r\nipywidgets                7.6.3              pyhd3deb0d_0    conda-forge\r\njedi                      0.18.0           py38haa244fe_2    conda-forge\r\njinja2                    3.0.1              pyhd8ed1ab_0    conda-forge\r\njoblib                    1.0.1                    pypi_0    pypi\r\njpeg                      9d                   h8ffe710_0    conda-forge\r\njsonschema                3.2.0              pyhd8ed1ab_3    conda-forge\r\njupyter                   1.0.0            py38haa244fe_6    conda-forge\r\njupyter_client            6.1.12             pyhd8ed1ab_0    conda-forge\r\njupyter_console           6.4.0              pyhd8ed1ab_0    conda-forge\r\njupyter_core              4.7.1            py38haa244fe_0    conda-forge\r\njupyterlab_pygments       0.1.2              pyh9f0ad1d_0    conda-forge\r\njupyterlab_widgets        1.0.0              pyhd8ed1ab_1    conda-forge\r\nkeras-nightly             2.5.0.dev2021032900          pypi_0    pypi\r\nkeras-preprocessing       1.1.2                    pypi_0    pypi\r\nkiwisolver                1.3.1                    pypi_0    pypi\r\nkrb5                      1.19.1               hbae68bd_0    conda-forge\r\nlibblas                   3.9.0                     9_mkl    conda-forge\r\nlibcblas                  3.9.0                     9_mkl    conda-forge\r\nlibclang                  11.1.0          default_h5c34c98_1    conda-forge\r\nlibcurl                   7.77.0               h789b8ee_0    conda-forge\r\nliblapack                 3.9.0                     9_mkl    conda-forge\r\nlibpng                    1.6.37               h1d00b33_2    conda-forge\r\nlibsodium                 1.0.18               h8d14728_1    conda-forge\r\nlibssh2                   1.9.0                h680486a_6    conda-forge\r\nllvmlite                  0.34.0                   pypi_0    pypi\r\nmarkdown                  3.3.4                    pypi_0    pypi\r\nmarkupsafe                2.0.1            py38h294d835_0    conda-forge\r\nmatplotlib                3.1.3                    pypi_0    pypi\r\nmatplotlib-inline         0.1.2              pyhd8ed1ab_2    conda-forge\r\nmistune                   0.8.4           py38h294d835_1004    conda-forge\r\nmkl                       2021.2.0           hb70f87d_389    conda-forge\r\nmock                      4.0.3            py38haa244fe_1    conda-forge\r\nmoviepy                   1.0.1                    pypi_0    pypi\r\nmsgpack                   1.0.2                    pypi_0    pypi\r\nmsgpack-numpy             0.4.7.1                  pypi_0    pypi\r\nnb_conda                  2.2.1            py38haa244fe_4    conda-forge\r\nnb_conda_kernels          2.3.1            py38haa244fe_0    conda-forge\r\nnbclient                  0.5.3              pyhd8ed1ab_0    conda-forge\r\nnbconvert                 6.1.0            py38haa244fe_0    conda-forge\r\nnbformat                  5.1.3              pyhd8ed1ab_0    conda-forge\r\nnest-asyncio              1.5.1              pyhd8ed1ab_0    conda-forge\r\nnetworkx                  2.5.1                    pypi_0    pypi\r\nnotebook                  6.4.0              pyha770c72_0    conda-forge\r\nnumba                     0.51.1                   pypi_0    pypi\r\nnumexpr                   2.7.3            py38h4c96930_0    conda-forge\r\nnumpy                     1.19.5                   pypi_0    pypi\r\noauthlib                  3.1.1                    pypi_0    pypi\r\nopencv-python             4.5.2.54                 pypi_0    pypi\r\nopencv-python-headless    3.4.9.33                 pypi_0    pypi\r\nopenssl                   1.1.1k               h8ffe710_0    conda-forge\r\nopt-einsum                3.3.0                    pypi_0    pypi\r\npackaging                 20.9               pyh44b312d_0    conda-forge\r\npandas                    1.2.5                    pypi_0    pypi\r\npandoc                    2.14.0.3             h8ffe710_0    conda-forge\r\npandocfilters             1.4.2                      py_1    conda-forge\r\nparso                     0.8.2              pyhd8ed1ab_0    conda-forge\r\npatsy                     0.5.1                    pypi_0    pypi\r\npickleshare               0.7.5                   py_1003    conda-forge\r\npillow                    8.3.0                    pypi_0    pypi\r\npip                       21.1.3             pyhd8ed1ab_0    conda-forge\r\nproglog                   0.1.9                    pypi_0    pypi\r\nprometheus_client         0.11.0             pyhd8ed1ab_0    conda-forge\r\nprompt-toolkit            3.0.19             pyha770c72_0    conda-forge\r\nprompt_toolkit            3.0.19               hd8ed1ab_0    conda-forge\r\nprotobuf                  3.17.3                   pypi_0    pypi\r\npsutil                    5.8.0                    pypi_0    pypi\r\npyasn1                    0.4.8                    pypi_0    pypi\r\npyasn1-modules            0.2.8                    pypi_0    pypi\r\npycparser                 2.20               pyh9f0ad1d_2    conda-forge\r\npygments                  2.9.0              pyhd8ed1ab_0    conda-forge\r\npyparsing                 2.4.7              pyh9f0ad1d_0    conda-forge\r\npyqt                      5.12.3           py38haa244fe_7    conda-forge\r\npyqt-impl                 5.12.3           py38h885f38d_7    conda-forge\r\npyqt5-sip                 4.19.18          py38h885f38d_7    conda-forge\r\npyqtchart                 5.12             py38h885f38d_7    conda-forge\r\npyqtwebengine             5.12.1           py38h885f38d_7    conda-forge\r\npyrsistent                0.17.3           py38h294d835_2    conda-forge\r\npytables                  3.6.1            py38h153c448_3    conda-forge\r\npython                    3.8.10          h7840368_1_cpython    conda-forge\r\npython-dateutil           2.8.1                      py_0    conda-forge\r\npython_abi                3.8                      2_cp38    conda-forge\r\npytz                      2021.1                   pypi_0    pypi\r\npywavelets                1.1.1                    pypi_0    pypi\r\npywin32                   300              py38h294d835_0    conda-forge\r\npywinpty                  1.1.3            py38hd3f51b4_0    conda-forge\r\npyyaml                    5.4.1                    pypi_0    pypi\r\npyzmq                     22.1.0           py38h09162b1_0    conda-forge\r\nqt                        5.12.9               h5909a2a_4    conda-forge\r\nqtconsole                 5.1.1              pyhd8ed1ab_0    conda-forge\r\nqtpy                      1.9.0                      py_0    conda-forge\r\nrequests                  2.25.1                   pypi_0    pypi\r\nrequests-oauthlib         1.3.0                    pypi_0    pypi\r\nrsa                       4.7.2                    pypi_0    pypi\r\nruamel-yaml               0.17.10                  pypi_0    pypi\r\nruamel-yaml-clib          0.2.4                    pypi_0    pypi\r\nscikit-image              0.18.2                   pypi_0    pypi\r\nscikit-learn              0.24.2                   pypi_0    pypi\r\nscipy                     1.7.0                    pypi_0    pypi\r\nsend2trash                1.7.1              pyhd8ed1ab_0    conda-forge\r\nsetuptools                49.6.0           py38haa244fe_3    conda-forge\r\nshapely                   1.7.1                    pypi_0    pypi\r\nsix                       1.15.0                   pypi_0    pypi\r\nsqlite                    3.36.0               h8ffe710_0    conda-forge\r\nstatsmodels               0.12.2                   pypi_0    pypi\r\ntabulate                  0.8.9                    pypi_0    pypi\r\ntbb                       2021.2.0             h2d74725_1    conda-forge\r\ntensorboard               2.5.0                    pypi_0    pypi\r\ntensorboard-data-server   0.6.1                    pypi_0    pypi\r\ntensorboard-plugin-wit    1.8.0                    pypi_0    pypi\r\ntensorflow                2.5.0                    pypi_0    pypi\r\ntensorflow-estimator      2.5.0                    pypi_0    pypi\r\ntensorpack                0.9.8                    pypi_0    pypi\r\ntermcolor                 1.1.0                    pypi_0    pypi\r\nterminado                 0.10.1           py38haa244fe_0    conda-forge\r\ntestpath                  0.5.0              pyhd8ed1ab_0    conda-forge\r\ntf-slim                   1.1.0                    pypi_0    pypi\r\nthreadpoolctl             2.1.0                    pypi_0    pypi\r\ntifffile                  2021.6.14                pypi_0    pypi\r\ntk                        8.6.10               h8ffe710_1    conda-forge\r\ntornado                   6.1              py38h294d835_1    conda-forge\r\ntqdm                      4.61.1                   pypi_0    pypi\r\ntraitlets                 5.0.5                      py_0    conda-forge\r\ntyping-extensions         3.7.4.3                  pypi_0    pypi\r\nucrt                      10.0.20348.0         h57928b3_0    conda-forge\r\nurllib3                   1.26.6                   pypi_0    pypi\r\nvc                        14.2                 hb210afc_5    conda-forge\r\nvs2015_runtime            14.29.30037          h902a5da_5    conda-forge\r\nwcwidth                   0.2.5              pyh9f0ad1d_2    conda-forge\r\nwebencodings              0.5.1                      py_1    conda-forge\r\nwerkzeug                  2.0.1                    pypi_0    pypi\r\nwheel                     0.36.2             pyhd3deb0d_0    conda-forge\r\nwidgetsnbextension        3.5.1            py38haa244fe_4    conda-forge\r\nwincertstore              0.2             py38haa244fe_1006    conda-forge\r\nwinpty                    0.4.3                         4    conda-forge\r\nwrapt                     1.12.1                   pypi_0    pypi\r\nwxpython                  4.0.7.post2              pypi_0    pypi\r\nzeromq                    4.3.4                h0e60522_0    conda-forge\r\nzipp                      3.4.1              pyhd8ed1ab_0    conda-forge\r\nzlib                      1.2.11            h62dcd97_1010    conda-forge\r\n```\r\n</p></details>\r\n\r\n### attempted fix\r\n\r\n1. `conda uninstall pytables` which led to a lot of changes (mostly superseding) of various modules\r\n2. `pip install tables` \r\n3. The code seemed to work (but my GPU was not being engaged, so now I'm off to try to fix that...)\r\n\r\n\r\n\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1368/timeline","performed_via_github_app":null,"state_reason":"completed"}