{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1001","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1001/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1001/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1001/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1001","id":747789862,"node_id":"MDU6SXNzdWU3NDc3ODk4NjI=","number":1001,"title":"'Analyze Videos' Doesn't Analyze Full Video","user":{"login":"cdj5044","id":62957755,"node_id":"MDQ6VXNlcjYyOTU3NzU1","avatar_url":"https://avatars.githubusercontent.com/u/62957755?v=4","gravatar_id":"","url":"https://api.github.com/users/cdj5044","html_url":"https://github.com/cdj5044","followers_url":"https://api.github.com/users/cdj5044/followers","following_url":"https://api.github.com/users/cdj5044/following{/other_user}","gists_url":"https://api.github.com/users/cdj5044/gists{/gist_id}","starred_url":"https://api.github.com/users/cdj5044/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdj5044/subscriptions","organizations_url":"https://api.github.com/users/cdj5044/orgs","repos_url":"https://api.github.com/users/cdj5044/repos","events_url":"https://api.github.com/users/cdj5044/events{/privacy}","received_events_url":"https://api.github.com/users/cdj5044/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-11-20T21:00:15Z","updated_at":"2020-11-24T17:12:37Z","closed_at":"2020-11-24T17:12:37Z","author_association":"NONE","active_lock_reason":null,"body":"OS: Windows10\r\nDeepLabCut Version: 2.2\r\nAnaconda env used: DLC-GPU\r\n\r\nProblem:\r\n\r\nWhen I try to analyze videos with a trained model, it only analyzes a small percentage of each video (usually 10-12%). The videos I have are rather large: 1920 x 1080, but I changed the max input size to 2500. The only other thing I can think of is that I did have to decrease global scale to 0.7 for training, so as to not overload my GPU with the larger videos. \r\n\r\nThank you so much for your help!\r\n\r\nPlease place code inside this:\r\n\r\n```python\r\n\r\nUsing snapshot-200000 for model C:\\Users\\SNRC_Z42\\Desktop\\DLC-Projects\\ALII Piloting\\TM_sag_nomark-CDJ-2020-11-17\\dlc-models\\iteration-0\\TM_sag_nomarkNov17-trainset90shuffle1\r\nInitializing ResNet\r\nWARNING:tensorflow:From C:\\Users\\SNRC_Z42\\anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\nWARNING:tensorflow:From C:\\Users\\SNRC_Z42\\anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\nWARNING:tensorflow:From C:\\Users\\SNRC_Z42\\anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\training\\saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse standard file APIs to check for files with this prefix.\r\nWARNING:tensorflow:From C:\\Users\\SNRC_Z42\\anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\tensorflow\\python\\training\\saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse standard file APIs to check for files with this prefix.\r\nStarting to analyze %  P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM\\Run_S1_L.MP4\r\nLoading  P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM\\Run_S1_L.MP4\r\nDuration of video [s]:  8.17 , recorded with  119.88 fps!\r\n**Overall # of frames:  980  found with (before cropping) frame dimensions:  1920 1080\r\nStarting to extract posture\r\n 12%|¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦**                                                                                                               | 120/980 [00:34<03:32,  4.06it/s]Detected frames:  113\r\n 12%|¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦                                                                                                               | 120/980 [00:43<05:09,  2.78it/s]\r\nSaving results in P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM...\r\nSaving csv poses!\r\nThe videos are analyzed. Now your research can truly start!\r\n You can create labeled videos with 'create_labeled_video'.\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function 'extract_outlier_frames' to extract any outlier frames!\r\nFiltering with median model P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM\\Run_S1_L.MP4\r\n5it [00:00, 131.93it/s]\r\nSaving filtered csv poses!\r\nStarting %  P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM ['P:\\\\SNRC Team\\\\Caleb Johnson\\\\ALII Study\\\\Piloting\\\\Videos_NoMark\\\\TM\\\\Run_S1_L.MP4']\r\nLoading  P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM\\Run_S1_L.MP4 and data.\r\n980\r\nDuration of video [s]:  0.94 , recorded with  119.88 fps!\r\nOverall # of frames:  113 with cropped frame dimensions:  1920 1080\r\nGenerating frames and creating video.\r\n  0%|                                                                                                                                         | 0/113 [00:00<?, ?it/s]C:\\Users\\SNRC_Z42\\anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\utils\\make_labeled_video.py:109: FutureWarning: circle is deprecated in favor of disk.circle will be removed in version 0.19\r\n  rr, cc = circle(df_y[bpindex,index-k],df_x[bpindex,index-k],dotsize,shape=(ny,nx))\r\n100%|¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦| 113/113 [00:03<00:00, 33.11it/s]\r\nP:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM\\Run_S1_L.MP4\r\nStarting %  P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM\\Run_S1_L.MP4\r\nLoading  P:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM\\Run_S1_L.MP4 and data.\r\nP:\\SNRC Team\\Caleb Johnson\\ALII Study\\Piloting\\Videos_NoMark\\TM  already exists!\r\nPlots created! Please check the directory \"plot-poses\" within the video directory\r\n```\r\n\r\n**How to Reproduce the problem**\r\nSteps to reproduce the behavior:\r\n1. Trained model using 300 frames, 200,000 iterations, resnet-50 base model\r\n2. Clicked on Analyze Videos tab in GUI\r\n3. Selected a video to analyze\r\n4. Checked boxes to: 1) save results as csv, 2) filter predictions, 3) plot trajectories, 4) create labeled videos.\r\n5. Clicked 'Run'\r\n6. Code ran to completion, but only 12% of video was analyzed\r\n(Videos are about 8 seconds; 1920 x 1080p; 120 fps)\r\n\r\n\r\n","closed_by":{"login":"cdj5044","id":62957755,"node_id":"MDQ6VXNlcjYyOTU3NzU1","avatar_url":"https://avatars.githubusercontent.com/u/62957755?v=4","gravatar_id":"","url":"https://api.github.com/users/cdj5044","html_url":"https://github.com/cdj5044","followers_url":"https://api.github.com/users/cdj5044/followers","following_url":"https://api.github.com/users/cdj5044/following{/other_user}","gists_url":"https://api.github.com/users/cdj5044/gists{/gist_id}","starred_url":"https://api.github.com/users/cdj5044/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdj5044/subscriptions","organizations_url":"https://api.github.com/users/cdj5044/orgs","repos_url":"https://api.github.com/users/cdj5044/repos","events_url":"https://api.github.com/users/cdj5044/events{/privacy}","received_events_url":"https://api.github.com/users/cdj5044/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1001/timeline","performed_via_github_app":null,"state_reason":"completed"}