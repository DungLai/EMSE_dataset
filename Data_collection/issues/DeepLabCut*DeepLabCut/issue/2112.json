{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2112","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2112/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2112/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2112/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/2112","id":1519412837,"node_id":"I_kwDOB5BM6c5akGZl","number":2112,"title":"DLC crashes after labeling in napari","user":{"login":"OmerBarkai","id":119345689,"node_id":"U_kgDOBx0SGQ","avatar_url":"https://avatars.githubusercontent.com/u/119345689?v=4","gravatar_id":"","url":"https://api.github.com/users/OmerBarkai","html_url":"https://github.com/OmerBarkai","followers_url":"https://api.github.com/users/OmerBarkai/followers","following_url":"https://api.github.com/users/OmerBarkai/following{/other_user}","gists_url":"https://api.github.com/users/OmerBarkai/gists{/gist_id}","starred_url":"https://api.github.com/users/OmerBarkai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OmerBarkai/subscriptions","organizations_url":"https://api.github.com/users/OmerBarkai/orgs","repos_url":"https://api.github.com/users/OmerBarkai/repos","events_url":"https://api.github.com/users/OmerBarkai/events{/privacy}","received_events_url":"https://api.github.com/users/OmerBarkai/received_events","type":"User","site_admin":false},"labels":[{"id":1313079487,"node_id":"MDU6TGFiZWwxMzEzMDc5NDg3","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/howtousedlc","name":"howtousedlc","color":"a1b3f4","default":false,"description":"issue regarding the use of DeepLabCut"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2023-01-04T18:34:51Z","updated_at":"2023-01-09T16:35:47Z","closed_at":"2023-01-09T14:14:41Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nWhen trying to save labeled (or also unlabeled) frames on napari DLC crashes immediately.\r\n\r\n\n\n### Operating System\n\nWindows 10\n\n### DeepLabCut version\n\n2.3\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\nGPU: NVIDIA GeForce RTX 3060\n\n### Steps To Reproduce\n\nIn Windows 10\r\nDLC-GPU GUI configuration, after creating/loading config.yaml file and extracting frames.\r\nWhen labeling frames in napari, and clicking File>Save All Layers... DLC and napari window close immediately and send an output (see below) to the command prompt. \r\n\n\n### Relevant log output\n\n```shell\nLoading DLC 2.3.0...\r\nStarting GUI...\r\nWARNING: DirectWrite: CreateFontFaceFromHDC() failed (Indicates an error in an input file such as a font file.) for QFontDef(Family=\"MS Sans Serif\", pointsize=12, pixelsize=16, styleHint=5, weight=400, stretch=100, hintingPreference=0) LOGFONT(\"MS Sans Serif\", lfWidth=0, lfHeight=-16) dpi=120\r\nWARNING: QStatusBar::insertPermanentWidget: Index out of range (0), appending widget\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\gui\\tabs\\label_frames.py\", line 55, in label_frames\r\n    _ = launch_napari(folder)\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\gui\\widgets.py\", line 45, in launch_napari\r\n    viewer.open(files, plugin=\"napari-deeplabcut\")\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\napari\\components\\viewer_model.py\", line 1014, in open\r\n    self._add_layers_with_plugins(\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\napari\\components\\viewer_model.py\", line 1216, in _add_layers_with_plugins\r\n    layer_data, hookimpl = read_data_with_plugins(\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\napari\\plugins\\io.py\", line 77, in read_data_with_plugins\r\n    res = _npe2.read(paths, plugin, stack=stack)\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\napari\\plugins\\_npe2.py\", line 55, in read\r\n    layer_data, reader = io_utils.read_get_reader(\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\npe2\\io_utils.py\", line 66, in read_get_reader\r\n    return _read(\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\npe2\\io_utils.py\", line 160, in _read\r\n    read_func = rdr.exec(kwargs={\"path\": paths, \"stack\": stack})\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\npe2\\manifest\\contributions\\_readers.py\", line 52, in exec\r\n    callable_ = super().exec(kwargs=kwargs)\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\npe2\\manifest\\utils.py\", line 65, in exec\r\n    return self.get_callable(_registry)(*args, **kwargs)\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\napari_deeplabcut\\_reader.py\", line 71, in get_folder_parser\r\n    raise OSError(\"No supported images were found.\")\r\nOSError: No supported images were found.\r\n97it [00:00, 646.72it/s]\r\n646it [00:00, 694.62it/s]\r\n1361it [00:01, 694.74it/s]\r\nWARNING: QStatusBar::insertPermanentWidget: Index out of range (0), appending widget\r\nTraceback (most recent call last):\r\n  File \"shibokensupport/signature/mapping.py\", line 196, in update\r\n  File \"shibokensupport/signature/mapping.py\", line 197, in <genexpr>\r\n  File \"shibokensupport/signature/mapping.py\", line 182, in module_valid\r\nAttributeError: 'CythonDotParallel' object has no attribute '__name__'\r\nFatal Python error: seterror_argument failed to call update_mapping\r\nPython runtime state: initialized\r\n\r\nThread 0x00004270 (most recent call first):\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\concurrent\\futures\\thread.py\", line 78 in _worker\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\threading.py\", line 870 in run\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\threading.py\", line 932 in _bootstrap_inner\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\threading.py\", line 890 in _bootstrap\r\n\r\nThread 0x00003770 (most recent call first):\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\threading.py\", line 306 in wait\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\threading.py\", line 558 in wait\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\tqdm\\_monitor.py\", line 60 in run\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\threading.py\", line 932 in _bootstrap_inner\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\threading.py\", line 890 in _bootstrap\r\n\r\nThread 0x0000159c (most recent call first):\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\threading.py\", line 302 in wait\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\queue.py\", line 170 in get\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\gui\\widgets.py\", line 206 in run\r\n\r\nCurrent thread 0x00004e64 (most recent call first):\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\napari\\_qt\\qt_viewer.py\", line 617 in _save_layers_dialog\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\napari\\_qt\\menus\\file_menu.py\", line 82 in <lambda>\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\gui\\launch_script.py\", line 69 in launch_dlc\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\__main__.py\", line 24 in <module>\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\runpy.py\", line 87 in _run_code\r\n  File \"C:\\Users\\ch226295\\Anaconda3\\envs\\DEEPLABCUT\\lib\\runpy.py\", line 194 in _run_module_as_main\r\n*** Received signal 22 ***\r\n*** BEGIN STACK TRACE POINTERS ***\r\n0x00007ffa6107a58f\r\n0x00007ffa6107a777\r\n0x00007ffb06821881\r\n0x00007ffb06822851\r\n0x00007ffab6f348c5\r\n0x00007ffab6f34944\r\n0x00007ffaa9c5ddad\r\n0x00007ffa314061e6\r\n0x00007ffab6e0136e\r\n0x00007ffab6e00256\r\n0x00007ffab6ee9008\r\n0x00007ffab6ee5442\r\n0x00007ffab6ee7c0a\r\n0x00007ffab6e00aaf\r\n0x00007ffab6e03b36\r\n0x00007ffab6e03d4c\r\n0x00007ffab6ee0676\r\n0x00007ffab6ee9008\r\n0x00007ffab6ee5442\r\n0x00007ffab6ee7c0a\r\n0x00007ffab6e00aaf\r\n0x00007ffab6e003a6\r\n0x00007ffaa9c06f6f\r\n0x00007ffaa9c0abcb\r\n0x00007ffa88fddfb1\r\n0x00007ffa8900e186\r\n0x00007ffa890103b4\r\n0x00007ffa88b52701\r\n0x00007ffa30f19779\r\n0x00007ffa30f19614\r\n0x00007ffa30f1f8ea\r\n0x00007ffa31582385\r\n0x00007ffa30dcf8c0\r\n0x00007ffa30f1b000\r\n0x00007ffa315805cb\r\n0x00007ffa30d910ee\r\n0x00007ffa30d8ef45\r\n0x00007ffa31383e98\r\n0x00007ffa88fd31b5\r\n0x00007ffa30d94dff\r\n0x00007ffa30ded426\r\n0x00007ffa30deb5c5\r\n0x00007ffa30d910ee\r\n0x00007ffa30d9008f\r\n0x00007ffa31383e98\r\n0x00007ffa88fd31b5\r\n0x00007ffa88896939\r\n0x00007ffa888e4b48\r\n0x00007ffa8912cf40\r\n0x00007ffa88b20b19\r\n0x00007ffa88fd888f\r\n0x00007ffa88fd0fcd\r\n0x00007ffa31380e15\r\n0x00007ffab6e46f62\r\n0x00007ffab6ee0676\r\n0x00007ffab6ee9008\r\n0x00007ffab6ee53e9\r\n0x00007ffab6e00695\r\n0x00007ffab6e009d8\r\n0x00007ffab6ee0676\r\n0x00007ffab6ee9008\r\n0x00007ffab6ee3078\r\n0x00007ffab6ee7c0a\r\n0x00007ffab6ee1a74\r\n*** END STACK TRACE POINTERS ***\r\n\r\n0x00007FFA61109605      tensorflow::CurrentStackTrace\r\n0x00007FFA6107A781      tensorflow::testing::InstallStacktraceHandler\r\n0x00007FFB06821881      raise\r\n0x00007FFB06822851      abort\r\n0x00007FFAB6F348C5      Py_EndInterpreter\r\n0x00007FFAB6F34944      Py_FatalError\r\n0x00007FFAA9C5DDAD      SetError_Argument\r\n0x00007FFA314061E6      (unknown)\r\n0x00007FFAB6E0136E      PyMethodDef_RawFastCallKeywords\r\n0x00007FFAB6E00256      PyObject_MakeTpCall\r\n0x00007FFAB6EE9008      PyEval_GetFuncDesc\r\n0x00007FFAB6EE5442      PyEval_EvalFrameDefault\r\n0x00007FFAB6EE7C0A      PyEval_EvalCodeWithName\r\n0x00007FFAB6E00AAF      PyFunction_Vectorcall\r\n0x00007FFAB6E03B36      PyCell_Set\r\n0x00007FFAB6E03D4C      PyMethod_Self\r\n0x00007FFAB6EE0676      PyOS_URandomNonblock\r\n0x00007FFAB6EE9008      PyEval_GetFuncDesc\r\n0x00007FFAB6EE5442      PyEval_EvalFrameDefault\r\n0x00007FFAB6EE7C0A      PyEval_EvalCodeWithName\r\n0x00007FFAB6E00AAF      PyFunction_Vectorcall\r\n0x00007FFAB6E003A6      PyVectorcall_Call\r\n0x00007FFAA9C06F6F      PySide::SignalManager::callPythonMetaMethod\r\n0x00007FFAA9C0ABCB      PySide::SignalManager::setQmlMetaCallErrorHandler\r\n0x00007FFA88FDDFB1      QMetaObject::metacall\r\n0x00007FFA8900E186      QObject::qt_static_metacall\r\n0x00007FFA890103B4      QMetaObject::activate\r\n0x00007FFA88B52701      QAction::activate\r\n0x00007FFA30F19779      QMenu::actionGeometry\r\n0x00007FFA30F19614      QMenu::actionGeometry\r\n0x00007FFA30F1F8EA      QMenu::mouseReleaseEvent\r\n0x00007FFA31582385      (unknown)\r\n0x00007FFA30DCF8C0      QWidget::event\r\n0x00007FFA30F1B000      QMenu::event\r\n0x00007FFA315805CB      (unknown)\r\n0x00007FFA30D910EE      QApplicationPrivate::notify_helper\r\n0x00007FFA30D8EF45      QApplication::notify\r\n0x00007FFA31383E98      (unknown)\r\n0x00007FFA88FD31B5      QCoreApplication::notifyInternal2\r\n0x00007FFA30D94DFF      QApplicationPrivate::sendMouseEvent\r\n0x00007FFA30DED426      QWidgetPrivate::shouldDiscardSyncRequest\r\n0x00007FFA30DEB5C5      QWidgetPrivate::shouldDiscardSyncRequest\r\n0x00007FFA30D910EE      QApplicationPrivate::notify_helper\r\n0x00007FFA30D9008F      QApplication::notify\r\n0x00007FFA31383E98      (unknown)\r\n0x00007FFA88FD31B5      QCoreApplication::notifyInternal2\r\n0x00007FFA88896939      QGuiApplicationPrivate::processMouseEvent\r\n0x00007FFA888E4B48      QWindowSystemInterface::sendWindowSystemEvents\r\n0x00007FFA8912CF40      QEventDispatcherWin32::processEvents\r\n0x00007FFA88B20B19      QWindowsGuiEventDispatcher::processEvents\r\n0x00007FFA88FD888F      QEventLoop::exec\r\n0x00007FFA88FD0FCD      QCoreApplication::exec\r\n0x00007FFA31380E15      (unknown)\r\n0x00007FFAB6E46F62      PyCFunction_DebugMallocStats\r\n0x00007FFAB6EE0676      PyOS_URandomNonblock\r\n0x00007FFAB6EE9008      PyEval_GetFuncDesc\r\n0x00007FFAB6EE53E9      PyEval_EvalFrameDefault\r\n0x00007FFAB6E00695      PyObject_Call\r\n0x00007FFAB6E009D8      PyFunction_Vectorcall\r\n0x00007FFAB6EE0676      PyOS_URandomNonblock\r\n0x00007FFAB6EE9008      PyEval_GetFuncDesc\r\n0x00007FFAB6EE3078      PyEval_EvalFrameDefault\r\n0x00007FFAB6EE7C0A      PyEval_EvalCodeWithName\r\n0x00007FFAB6EE1A74      PyEval_EvalCode\n```\n\n\n### Anything else?\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2112/timeline","performed_via_github_app":null,"state_reason":"completed"}