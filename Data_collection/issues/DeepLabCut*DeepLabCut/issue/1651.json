{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1651","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1651/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1651/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1651/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1651","id":1113324322,"node_id":"I_kwDOB5BM6c5CW_si","number":1651,"title":"OpenBLAS error when trying to extract frames from videos","user":{"login":"AnnabelPerry","id":87875766,"node_id":"MDQ6VXNlcjg3ODc1NzY2","avatar_url":"https://avatars.githubusercontent.com/u/87875766?v=4","gravatar_id":"","url":"https://api.github.com/users/AnnabelPerry","html_url":"https://github.com/AnnabelPerry","followers_url":"https://api.github.com/users/AnnabelPerry/followers","following_url":"https://api.github.com/users/AnnabelPerry/following{/other_user}","gists_url":"https://api.github.com/users/AnnabelPerry/gists{/gist_id}","starred_url":"https://api.github.com/users/AnnabelPerry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnnabelPerry/subscriptions","organizations_url":"https://api.github.com/users/AnnabelPerry/orgs","repos_url":"https://api.github.com/users/AnnabelPerry/repos","events_url":"https://api.github.com/users/AnnabelPerry/events{/privacy}","received_events_url":"https://api.github.com/users/AnnabelPerry/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2022-01-25T01:35:45Z","updated_at":"2022-01-27T09:14:41Z","closed_at":"2022-01-27T03:59:34Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nI tried extracting frames from 3 videos in a new DeepLabCut project, but the extraction process encountered a segmentation fault within 2 minutes of extracting frames from the first video. I've tried rebuilding OpenBLAS according to the following steps, but to no avail:\r\n```\r\n\r\ngit clone https://github.com/xianyi/OpenBLAS.git \r\ncd OpenBLAS \r\n\r\nmake -j4 NUM_THREADS=64 \r\n\r\nmkdir tempOpenBLAS\r\n\r\nmake PREFIX='/home/blackmonlab/tempOpenBLAS' install NUM_THREADS=64\r\n\r\n```\n\n### Operating System\n\noperating system\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 18.04.6 LTS\r\nRelease:\t18.04\r\nCodename:\tbionic\r\n270.2 GB RAM\n\n### DeepLabCut version\n\ndlc version\r\n2.2.0.6\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\ngpu\r\n01:00.0 VGA compatible controller: NVIDIA Corporation Device 1e04 (rev a1)\n\n### Steps To Reproduce\n\n```\r\nconda create -n DLC python=3.8\r\n\r\npip install deeplabcut\r\n\r\nconda activate DLC\r\n\r\nipython\r\n\r\nimport deeplabcut\r\n\r\ndeeplabcut.create_new_project('SurfaceAnnotated','annabel',['/home/blackmonlab/Documents/Annabel/NeuralNetworkProject/DLCSurfaceAnnotated/videos/Surface 1 41486.mp4','/home/blackmonlab/Documents/Annabel/NeuralNetworkProject/DLCSurfaceAnnotated/videos/Surface 2 45209.mp4','/home/blackmonlab/Documents/Annabel/NeuralNetworkProject/DLCSurfaceAnnotated/videos/Surface 3 03428.mp4'])\r\n```\r\n\r\nAdd these body parts to config.yaml:\r\n1. Mouth\r\n2. Presumptive Eye\r\n3. Operculum Dorsal\r\n4. Operculum Ventral\r\n5. Body Midpoint\r\n6. Dorsal Fin\r\n7. Anal Fin Base\r\n8. Tail Midpoint\r\n9. Peduncle Base\r\n\r\n```\r\npath_config = '/home/blackmonlab/SurfaceAnnotated-annabel-2022-01-24/config.yaml'\r\n\r\ndeeplabcut.extract_frames(path_config, 'automatic', 'kmeans')\r\n```\r\n\n\n### Relevant log output\n\n```shell\nConfig file read successfully.\r\nDo you want to extract (perhaps additional) frames for video: /home/blackmonlab/Documents/Annabel/NeuralNetworkProject/DLCSurfaceAnnotated/videos/Surface 1 41486.mp4 ?\r\nyes/noyes\r\nExtracting frames based on kmeans ...\r\nKmeans-quantization based extracting of frames from 0.0  seconds to 1559.24  seconds.\r\nExtracting and downsampling... 38981  frames from the video.\r\n38981it [02:04, 312.90it/s]\r\nKmeans clustering ... (this might take a while)\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nBLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\nSegmentation fault (core dumped)\n```\n\n\n### Anything else?\n\nHere is a Google Drive with the three videos - the link should be open to anyone. \r\n(Ignore the CSV file in here that is for a different issue)\r\nhttps://drive.google.com/drive/folders/1JB3nE14e3-8AcZE0DsZ0F1wXpwmMqM_J?usp=sharing\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"AnnabelPerry","id":87875766,"node_id":"MDQ6VXNlcjg3ODc1NzY2","avatar_url":"https://avatars.githubusercontent.com/u/87875766?v=4","gravatar_id":"","url":"https://api.github.com/users/AnnabelPerry","html_url":"https://github.com/AnnabelPerry","followers_url":"https://api.github.com/users/AnnabelPerry/followers","following_url":"https://api.github.com/users/AnnabelPerry/following{/other_user}","gists_url":"https://api.github.com/users/AnnabelPerry/gists{/gist_id}","starred_url":"https://api.github.com/users/AnnabelPerry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnnabelPerry/subscriptions","organizations_url":"https://api.github.com/users/AnnabelPerry/orgs","repos_url":"https://api.github.com/users/AnnabelPerry/repos","events_url":"https://api.github.com/users/AnnabelPerry/events{/privacy}","received_events_url":"https://api.github.com/users/AnnabelPerry/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1651/timeline","performed_via_github_app":null,"state_reason":"completed"}