{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1204","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1204/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1204/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1204/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1204","id":867092491,"node_id":"MDU6SXNzdWU4NjcwOTI0OTE=","number":1204,"title":"backward compatibility issue - analyze video files generate different naming (2.1.10.4 vs 2.1.10.2)","user":{"login":"mfkeles","id":22876046,"node_id":"MDQ6VXNlcjIyODc2MDQ2","avatar_url":"https://avatars.githubusercontent.com/u/22876046?v=4","gravatar_id":"","url":"https://api.github.com/users/mfkeles","html_url":"https://github.com/mfkeles","followers_url":"https://api.github.com/users/mfkeles/followers","following_url":"https://api.github.com/users/mfkeles/following{/other_user}","gists_url":"https://api.github.com/users/mfkeles/gists{/gist_id}","starred_url":"https://api.github.com/users/mfkeles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfkeles/subscriptions","organizations_url":"https://api.github.com/users/mfkeles/orgs","repos_url":"https://api.github.com/users/mfkeles/repos","events_url":"https://api.github.com/users/mfkeles/events{/privacy}","received_events_url":"https://api.github.com/users/mfkeles/received_events","type":"User","site_admin":false},"labels":[{"id":1487356103,"node_id":"MDU6TGFiZWwxNDg3MzU2MTAz","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/backwards%20compatibility","name":"backwards compatibility","color":"5319e7","default":false,"description":"issues concerning prior to current versions"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-25T19:23:52Z","updated_at":"2021-04-26T17:48:37Z","closed_at":"2021-04-26T17:48:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"\r\n**Describe the bug**\r\nAnalyzed files with 2.1.10.4 are not recognized with the previous versions (2.1.10.2). When the same config file is used, 2.1.10.2 is looking for \"resnet_50\" in the name whereas 2.1.10.4 is searching for \"resnet50\". Manually changing the file name from \"resnet50\" to \"resnet_50\" solves this issue. \r\n*****I encountered this issue after failing to extract outlier frames with 2.1.10.4. Extract outlier frames in this version leads to  `missing 1 required positional argument: 'gui_size'` error in `outlier _frame_extraction_toolbox.py`. I then tried to extract outlier frames with the prev version (2.1.10.2) and then got the error `no analyzed video`. \r\n\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Windows10\r\n - DeepLabCut Version: 2.1.10.4 vs 2.1.10.2\r\n - DeepLabCut mode: single animal tracking\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior, i.e.:\r\n1. Analyze a video with 2.1.10.4\r\n2. Try extracting outlier frames using the manual option. This will fail (see above)\r\n3. Use 2.1.10.2 to extract outlier frames. This will lead to 'no analyzed video' error.\r\n4. Modify the analyzed file name as indicated above. Issue is solved. \r\n5. Below is the expected output when attempting to use `deeplabcut.extract_outlier_frames(config_path,vid_path, shuffle=1,outlieralgorithm='manual')`\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n\r\n```python\r\n\r\n\r\n---------------------------------------------------------------------------\r\n\r\nTypeError                                 Traceback (most recent call last)\r\n\r\n<ipython-input-9-8715a3aedf65> in <module>\r\n----> 1 deeplabcut.extract_outlier_frames(config_path,vid_path, shuffle=1,outlieralgorithm='manual')\r\n      2 \r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\dlc1-4\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\outlier_frames.py in extract_outlier_frames(config, videos, videotype, shuffle, trainingsetindex, outlieralgorithm, comparisonbodyparts, epsilon, p_bound, ARdegree, MAdegree, alpha, extractionalgorithm, automatic, cluster_resizewidth, cluster_color, opencv, savelabeled, destfolder, modelprefix, track_method)\r\n    213                     df,\r\n    214                     savelabeled,\r\n--> 215                     cfg.get(\"multianimalproject\", False),\r\n    216                 )\r\n    217 \r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\dlc1-4\\lib\\site-packages\\deeplabcut\\gui\\outlier_frame_extraction_toolbox.py in show(config, video, shuffle, Dataframe, savelabeled, multianimal)\r\n    580     app = wx.App()\r\n    581     frame = MainFrame(\r\n--> 582         None, config, video, shuffle, Dataframe, savelabeled, multianimal\r\n    583     ).Show()\r\n    584     app.MainLoop()\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\dlc1-4\\lib\\site-packages\\deeplabcut\\gui\\outlier_frame_extraction_toolbox.py in __init__(self, parent, config, video, shuffle, Dataframe, savelabeled, multianimal)\r\n    102         vSplitter = wx.SplitterWindow(topSplitter)\r\n    103 \r\n--> 104         self.image_panel = ImagePanel(vSplitter, self.gui_size)\r\n    105         self.choice_panel = ScrollPanel(vSplitter)\r\n    106 \r\n\r\nTypeError: __init__() missing 1 required positional argument: 'gui_size'\r\n\r\n```\r\n</p></details>\r\n\r\n\r\n**Additional context**\r\n2.1.10.4 fails to extract outlier frames, when older versions (2.1.10.2) are used on the same analyzed video, 'no analyzed video' is printed. Changing the analysis file names fixes this issue.\r\n","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1204/timeline","performed_via_github_app":null,"state_reason":"completed"}