{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/881","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/881/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/881/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/881/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/881","id":689224115,"node_id":"MDU6SXNzdWU2ODkyMjQxMTU=","number":881,"title":"float division by zero error on create_labeled_video function [ path errors windows vs unix]","user":{"login":"nschapp","id":69989544,"node_id":"MDQ6VXNlcjY5OTg5NTQ0","avatar_url":"https://avatars.githubusercontent.com/u/69989544?v=4","gravatar_id":"","url":"https://api.github.com/users/nschapp","html_url":"https://github.com/nschapp","followers_url":"https://api.github.com/users/nschapp/followers","following_url":"https://api.github.com/users/nschapp/following{/other_user}","gists_url":"https://api.github.com/users/nschapp/gists{/gist_id}","starred_url":"https://api.github.com/users/nschapp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nschapp/subscriptions","organizations_url":"https://api.github.com/users/nschapp/orgs","repos_url":"https://api.github.com/users/nschapp/repos","events_url":"https://api.github.com/users/nschapp/events{/privacy}","received_events_url":"https://api.github.com/users/nschapp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"assignees":[{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}],"milestone":null,"comments":7,"created_at":"2020-08-31T13:50:37Z","updated_at":"2020-09-08T20:50:25Z","closed_at":"2020-09-08T20:50:25Z","author_association":"NONE","active_lock_reason":null,"body":"**Your Operating system and DeepLabCut version**\r\n\r\nWindows 10 Enterprise, Version 10.0.18363 Build 18363\r\nAnaconda Env, DeepLabCut Version 2.1.8.2\r\n\r\n**Describe the problem**\r\n\r\nI'm encountering a divide by zero error consistently on the last step of the pipeline for deeplabcut, the create_labeled_videos step for different videos and projects created.  Error prevents the completion of this last step for processing data.  I've run this through the basic pipeline detailed in the \"Demo your own data\" section here on the Github, so I wanted to know if there was a variable that needed to be defined on by myself as the user, or if it's perhaps some other issue.  Posted below is the entire output of the command prompt for the previous attempt:\r\n```\r\nIn [1]: import deeplabcut\r\n\r\nIn [2]: path_config_file = 'Social Interaction-Maha-2020-08-25/config.yaml'\r\n\r\nIn [3]: deeplabcut.evaluate_network(path_config_file, plotting=True)\r\nRunning  DLC_resnet50_Social InteractionAug25shuffle1_25000  with # of trainingiterations: 25000\r\nInitializing ResNet\r\nWARNING:tensorflow:From C:\\Users\\malavikalabuser\\Anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\nWARNING:tensorflow:From C:\\Users\\malavikalabuser\\Anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\nWARNING:tensorflow:From C:\\Users\\malavikalabuser\\Anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\tensorflow\\python\\training\\saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse standard file APIs to check for files with this prefix.\r\nWARNING:tensorflow:From C:\\Users\\malavikalabuser\\Anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\tensorflow\\python\\training\\saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse standard file APIs to check for files with this prefix.\r\nINFO:tensorflow:Restoring parameters from C:\\Users\\malavikalabuser\\Social Interaction-Maha-2020-08-25\\dlc-models\\iteration-0\\Social InteractionAug25-trainset95shuffle1\\train\\snapshot-25000\r\nINFO:tensorflow:Restoring parameters from C:\\Users\\malavikalabuser\\Social Interaction-Maha-2020-08-25\\dlc-models\\iteration-0\\Social InteractionAug25-trainset95shuffle1\\train\\snapshot-25000\r\nAnalyzing data...\r\n99it [04:32,  2.76s/it]\r\nDone and results stored for snapshot:  snapshot-25000\r\nResults for 25000  training iterations: 95 1 train error: 4.0 pixels. Test error: 22.78  pixels.\r\nWith pcutoff of 0.6  train error: 3.99 pixels. Test error: 22.01 pixels\r\nThereby, the errors are given by the average distances between the labels by DLC and the scorer.\r\nPlotting...\r\n100%|██████████████████████████████████████████████████████████████████████████████████| 99/99 [01:16<00:00,  1.30it/s]\r\nThe network is evaluated and the results are stored in the subdirectory 'evaluation_results'.\r\nIf it generalizes well, choose the best model for prediction and update the config file with the appropriate index for the 'snapshotindex'.\r\nUse the function 'analyze_video' to make predictions on new videos.\r\nOtherwise consider retraining the network (see DeepLabCut workflow Fig 2)\r\n\r\nIn [4]: videofile_path=['Videos/Maha/Maha_vid1.mp4']\r\n\r\nIn [5]: deeplab.analyze_videos(path_config_file, videofile_path, videotype='.mp4')\r\n---------------------------------------------------------------------------\r\nNameError                                 Traceback (most recent call last)\r\n<ipython-input-5-1e7f2377434b> in <module>\r\n----> 1 deeplab.analyze_videos(path_config_file, videofile_path, videotype='.mp4')\r\n\r\nNameError: name 'deeplab' is not defined\r\n\r\nIn [6]: deeplabcut.analyze_videos(path_config_file, videofile_path, videotype='.mp4')\r\nUsing snapshot-25000 for model C:\\Users\\malavikalabuser\\Social Interaction-Maha-2020-08-25\\dlc-models\\iteration-0\\Social InteractionAug25-trainset95shuffle1\r\nInitializing ResNet\r\nINFO:tensorflow:Restoring parameters from C:\\Users\\malavikalabuser\\Social Interaction-Maha-2020-08-25\\dlc-models\\iteration-0\\Social InteractionAug25-trainset95shuffle1\\train\\snapshot-25000\r\nINFO:tensorflow:Restoring parameters from C:\\Users\\malavikalabuser\\Social Interaction-Maha-2020-08-25\\dlc-models\\iteration-0\\Social InteractionAug25-trainset95shuffle1\\train\\snapshot-25000\r\nStarting to analyze %  Videos/Maha/Maha_vid1.mp4\r\nLoading  Videos/Maha/Maha_vid1.mp4\r\nDuration of video [s]:  119.99 , recorded with  100.0 fps!\r\nOverall # of frames:  11999  found with (before cropping) frame dimensions:  1920 1200\r\nStarting to extract posture\r\n12019it [8:20:51,  2.53s/it]                                                                                           Detected frames:  11999\r\n12019it [8:25:15,  2.52s/it]\r\nSaving results in Videos\\Maha...\r\nThe videos are analyzed. Now your research can truly start!\r\n You can create labeled videos with 'create_labeled_video'.\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function 'extract_outlier_frames' to extract any outlier frames!\r\nOut[6]: 'DLC_resnet50_Social InteractionAug25shuffle1_25000'\r\n\r\nIn [7]:  deeplabcut.create_labeled_Video(path_config_file, videofile_path)\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-7-8cc0b6979ab3> in <module>\r\n----> 1 deeplabcut.create_labeled_Video(path_config_file, videofile_path)\r\n\r\nAttributeError: module 'deeplabcut' has no attribute 'create_labeled_Video'\r\n\r\nIn [8]:  deeplabcut.create_labeled_video(path_config_file, videofile_path)\r\nStarting %  Videos\\Maha ['Videos/Maha/Maha_vid1.mp4']\r\nLoading  Videos/Maha/Maha_vid1.mp4 and data.\r\nThe video was not analyzed with this scorer: DLC_resnet50_Social InteractionAug25shuffle1_25000\r\nOther scorers were found, however: ['Maha_vid1DLC_resnet50_Social InteractionAug25shuffle1_25000.h5']\r\nCreating output for: DLC_resnet50_Social InteractionAug25shuffle1_25000  instead.\r\nwarning: Error opening file (/build/opencv/modules/videoio/src/cap_ffmpeg_impl.hpp:940)\r\nwarning: Videos/Maha/Maha_vid1.mp4 (/build/opencv/modules/videoio/src/cap_ffmpeg_impl.hpp:941)\r\n0\r\n---------------------------------------------------------------------------\r\nZeroDivisionError                         Traceback (most recent call last)\r\n<ipython-input-8-d8d98a0e91a1> in <module>\r\n----> 1 deeplabcut.create_labeled_video(path_config_file, videofile_path)\r\n\r\n~\\Anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\utils\\make_labeled_video.py in create_labeled_video(config, videos, videotype, shuffle, trainingsetindex, filtered, save_frames, Frames2plot, delete, displayedbodyparts, codec, outputframerate, destfolder, draw_skeleton, trailpoints, displaycropped)\r\n    395                     else: #then the full video + the (perhaps in cropped mode analyzed labels) are depicted\r\n    396                         clip = vp(fname = video,sname = videooutname,codec=codec)\r\n--> 397                         CreateVideo(clip,Dataframe,cfg[\"pcutoff\"],cfg[\"dotsize\"],cfg[\"colormap\"],DLCscorer,bodyparts,trailpoints,cropping,x1,x2,y1,y2,bodyparts2connect,skeleton_color,draw_skeleton,displaycropped)\r\n    398\r\n    399     os.chdir(str(start_path))\r\n\r\n~\\Anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\utils\\make_labeled_video.py in CreateVideo(clip, Dataframe, pcutoff, dotsize, colormap, DLCscorer, bodyparts2plot, trailpoints, cropping, x1, x2, y1, y2, bodyparts2connect, skeleton_color, draw_skeleton, displaycropped)\r\n     71         fps=clip.fps()\r\n     72         nframes = len(Dataframe.index)\r\n---> 73         duration = nframes/fps\r\n     74\r\n     75         print(\"Duration of video [s]: \", round(duration,2), \", recorded with \", round(fps,2),\"fps!\")\r\n\r\nZeroDivisionError: float division by zero\r\n\r\nIn [9]:                 \r\n```","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/881/timeline","performed_via_github_app":null,"state_reason":"completed"}