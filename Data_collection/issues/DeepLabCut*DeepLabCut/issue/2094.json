{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2094","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2094/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2094/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2094/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/2094","id":1505490288,"node_id":"I_kwDOB5BM6c5Zu_Vw","number":2094,"title":"efficiently masking the videos","user":{"login":"ludovicbellier","id":28165157,"node_id":"MDQ6VXNlcjI4MTY1MTU3","avatar_url":"https://avatars.githubusercontent.com/u/28165157?v=4","gravatar_id":"","url":"https://api.github.com/users/ludovicbellier","html_url":"https://github.com/ludovicbellier","followers_url":"https://api.github.com/users/ludovicbellier/followers","following_url":"https://api.github.com/users/ludovicbellier/following{/other_user}","gists_url":"https://api.github.com/users/ludovicbellier/gists{/gist_id}","starred_url":"https://api.github.com/users/ludovicbellier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ludovicbellier/subscriptions","organizations_url":"https://api.github.com/users/ludovicbellier/orgs","repos_url":"https://api.github.com/users/ludovicbellier/repos","events_url":"https://api.github.com/users/ludovicbellier/events{/privacy}","received_events_url":"https://api.github.com/users/ludovicbellier/received_events","type":"User","site_admin":false},"labels":[{"id":880550036,"node_id":"MDU6TGFiZWw4ODA1NTAwMzY=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":1879338398,"node_id":"MDU6TGFiZWwxODc5MzM4Mzk4","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/Community%20feedback%20requested","name":"Community feedback requested","color":"8c06e0","default":false,"description":"Comments from the user/dev community welcomed!"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-12-21T00:02:57Z","updated_at":"2022-12-22T14:41:01Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Hi team DLC,\r\n\r\nI have a particular use case for which I'm currently developing some code, and would like to get your input about 1) whether you have insights on how to best get this done, and 2) whether you would be interested in getting this as a feature (in such case I would create a PR).\r\n\r\nHere's the use case: I have a set of videos in which I want to track one animal, but there is a second animal in part of the FOV, contained within a specific area, who can't move much and for which I'm not interested in getting pose estimates. I've tried to analyze one of these videos with a model trained on single-animal videos (hoping it would generalize like in Mathis et al., 2018, Fig. 4b), but it seemed like there could only be one instance of each body part label per frame (so sometimes the left back paw label was placed onto the animal I want to ignore, thus \"stealing\" the label from the animal of interest). I bypassed this issue by applying a mask on the video before frame extraction, effectively hiding the FOV area containing the second animal (and in which the animal of interest can't physically go). Hope this makes sense so far!\r\n\r\nNow, here's the feature idea: instead of rewriting all videos to get the corresponding masked version, I was thinking we could do the same as cropping, i.e., in the config.yaml file, below each video we could have the option to put \"mask: <some params>\" to apply a mask on the video in an online way. The mask could either be a path to an image file of the exact same dimensions than the cropped frames, or even (messier but more \"online\") parameters for drawing shapes in the FOV (e.g., \"circle\", center_x, center_y, radius). And there would be relevant flags for all functions (extract_frames obviously, but also analyze_videos and create_labeled_videos).\r\n\r\nAnd that's it, basically it's about adding a built-in masking feature alongside the existing cropping feature, so that we don't have to do this step beforehand loosing time and disk space doing so. I don't know if such use cases where masking is needed occur often though, hence this issue to get your insights on it first. Also, if you have suggestions on better ways to handle this use case than using masks, I'm looking forward to reading them!\r\n\r\nThank you,\r\nLudovic","closed_by":null,"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2094/timeline","performed_via_github_app":null,"state_reason":null}