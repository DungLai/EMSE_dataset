{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/543","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/543/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/543/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/543/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/543","id":548350671,"node_id":"MDU6SXNzdWU1NDgzNTA2NzE=","number":543,"title":"Jupyter hangs when closing relabelling GUI twice","user":{"login":"johnmbarrett","id":19190699,"node_id":"MDQ6VXNlcjE5MTkwNjk5","avatar_url":"https://avatars.githubusercontent.com/u/19190699?v=4","gravatar_id":"","url":"https://api.github.com/users/johnmbarrett","html_url":"https://github.com/johnmbarrett","followers_url":"https://api.github.com/users/johnmbarrett/followers","following_url":"https://api.github.com/users/johnmbarrett/following{/other_user}","gists_url":"https://api.github.com/users/johnmbarrett/gists{/gist_id}","starred_url":"https://api.github.com/users/johnmbarrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnmbarrett/subscriptions","organizations_url":"https://api.github.com/users/johnmbarrett/orgs","repos_url":"https://api.github.com/users/johnmbarrett/repos","events_url":"https://api.github.com/users/johnmbarrett/events{/privacy}","received_events_url":"https://api.github.com/users/johnmbarrett/received_events","type":"User","site_admin":false},"labels":[{"id":1518724279,"node_id":"MDU6TGFiZWwxNTE4NzI0Mjc5","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/GUI","name":"GUI","color":"4477c4","default":false,"description":"issues relating to GUI"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2020-01-11T00:22:57Z","updated_at":"2020-01-23T07:30:45Z","closed_at":"2020-01-23T07:30:45Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nRunning the relabelling GUI from an IPython/Jupyter notebook and then quitting twice causes Jupyter to hang on the second quit. In other words, the status indicator gets stuck on running (filled circle in upper right corner) and no other cells can be run. It is not possible to interrupt the cell, to run the GUI again (or do anything else) you have to restart the kernel (or the server, but that's overkill).\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Create a new IPython/Jupyter notebook with a single cell containing the following:\r\n```\r\nimport deeplabcut\r\n\r\n%gui wx\r\ndeeplabcut.refine_labels('<path to config file>') # change this to a path to a valid DLC config file on your system\r\n```\r\n2. Run the cell\r\n3. Press the quit button in the relabelling GUI\r\n4. Run the cell again\r\n5. Press the quit button again\r\n6. Jupyter is stuck \"running\" the cell and cannot be interrupted, nor can other cells be run. The normal output on closing the relabelling GUI is printed and no error message appears in the notebook or the console/server logs.\r\n\r\n**Expected behavior**\r\nYou can start and quit the relabelling GUI as many times as you want.\r\n\r\n**Screenshots**\r\n![relabelling_gui_bug](https://user-images.githubusercontent.com/19190699/72194900-52e4d300-33d5-11ea-8664-566c4776c6f4.png)\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Windows 10 x64\r\n - Python Version: Python 3.6.9 :: Anaconda, Inc.\r\n - Anaconda Version: 4.7.12\r\n - Jupyter Version: 1.0.0\r\n - DeepLabCut Version: 2.1.4\r\n - Browser: Firefox 71.0\r\n\r\n**Additional context**\r\nThis does not happen when running the relabelling GUI from the normal Python REPL as far as I can tell, only from a notebook.\r\n\r\nThis does not appear to be related to the cannot create multiple GUI event loops bug, as I don't see that error, but I could be wrong. I also couldn't see any other issues that looked the same.\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/543/timeline","performed_via_github_app":null,"state_reason":"completed"}