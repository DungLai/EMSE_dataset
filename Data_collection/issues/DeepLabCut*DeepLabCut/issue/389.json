{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/389","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/389/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/389/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/389/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/389","id":477120867,"node_id":"MDU6SXNzdWU0NzcxMjA4Njc=","number":389,"title":"deeplabcut.check_undistortion(): (-215:Assertion failed) count >= 0 in function 'cv::cornerSubPix","user":{"login":"caniko","id":29519599,"node_id":"MDQ6VXNlcjI5NTE5NTk5","avatar_url":"https://avatars.githubusercontent.com/u/29519599?v=4","gravatar_id":"","url":"https://api.github.com/users/caniko","html_url":"https://github.com/caniko","followers_url":"https://api.github.com/users/caniko/followers","following_url":"https://api.github.com/users/caniko/following{/other_user}","gists_url":"https://api.github.com/users/caniko/gists{/gist_id}","starred_url":"https://api.github.com/users/caniko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caniko/subscriptions","organizations_url":"https://api.github.com/users/caniko/orgs","repos_url":"https://api.github.com/users/caniko/repos","events_url":"https://api.github.com/users/caniko/events{/privacy}","received_events_url":"https://api.github.com/users/caniko/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-08-06T01:15:17Z","updated_at":"2021-07-16T01:59:40Z","closed_at":"2019-08-06T13:35:53Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI get this bug when I run deeplabcut.check_undistortion() as instructed by the 3D reconstruction DEMO jpynb. It should be noted that I am using a modified version of the function. Discussion on the changes can be found #387, and the source is [here](https://github.com/caniko2/DeepLabCut/commit/ed97f43ed1169583bd5c73f1c2c8ce1b16d83743). The modifications should have no effect on the portion of the code where the error occurs, but I am mentioning it just in case.\r\n\r\n**To Reproduce**\r\nFollow the instruction on examples\\DEMO_3D_DeepLabCut.ipynb, and run the cell with deeplabcut.check_undistortion()\r\n\r\n**Expected behavior**\r\n`error: OpenCV(4.1.0) C:\\projects\\opencv-python\\opencv\\modules\\imgproc\\src\\cornersubpix.cpp:58: error: (-215:Assertion failed) count >= 0 in function 'cv::cornerSubPix'`\r\n\r\n**Screenshots**\r\nHere is a picture of the error:\r\n![image](https://user-images.githubusercontent.com/29519599/62503502-bea68c80-b7f4-11e9-9cae-085416cbd2f0.png)\r\n\r\nMy modifications checks if both images, comprising a pair, are present in the corners folder. For instance, if the user deletes camera-1-14, and leaves camera-2-14;  camera-2-14 will be ignored. The function **crashes at the first pair**, which is in fact valid (check below).\r\n\r\nThe image that raises the error (south-left-14_corner):\r\n![south-left-14_corner](https://user-images.githubusercontent.com/29519599/62504106-5c9b5680-b7f7-11e9-9e8d-446a25378ae9.jpg)\r\nThe 2nd image (south-right-14_corner):\r\n![south-right-14_corner](https://user-images.githubusercontent.com/29519599/62504129-70df5380-b7f7-11e9-8b65-e6ba70272b2d.jpg)\r\n\r\nThese pictures were created by deeplabcut.calibrate_cameras with calibrate set to False.\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Windows 10\r\n - DeepLabCut Version: 2.0.8\r\n - Browser: Chrome\r\n\r\nThank you for your time","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/389/timeline","performed_via_github_app":null,"state_reason":"completed"}