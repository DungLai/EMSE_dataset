{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1205","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1205/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1205/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1205/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1205","id":867108673,"node_id":"MDU6SXNzdWU4NjcxMDg2NzM=","number":1205,"title":"cropimagesandlabels RuntimeError: OrderedDict mutated during iteration","user":{"login":"alexcwsmith","id":47009665,"node_id":"MDQ6VXNlcjQ3MDA5NjY1","avatar_url":"https://avatars.githubusercontent.com/u/47009665?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcwsmith","html_url":"https://github.com/alexcwsmith","followers_url":"https://api.github.com/users/alexcwsmith/followers","following_url":"https://api.github.com/users/alexcwsmith/following{/other_user}","gists_url":"https://api.github.com/users/alexcwsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcwsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcwsmith/subscriptions","organizations_url":"https://api.github.com/users/alexcwsmith/orgs","repos_url":"https://api.github.com/users/alexcwsmith/repos","events_url":"https://api.github.com/users/alexcwsmith/events{/privacy}","received_events_url":"https://api.github.com/users/alexcwsmith/received_events","type":"User","site_admin":false},"labels":[{"id":880550034,"node_id":"MDU6TGFiZWw4ODA1NTAwMzQ=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2021-04-25T20:39:06Z","updated_at":"2021-07-08T17:03:16Z","closed_at":"2021-04-27T07:53:50Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\nSince updating to be current with this repo, dlc.cropimagesandlabels results in RuntimeError: OrderedDict mutated during iteration.\r\n\r\nThe config.yaml file is not updated appropriately with cropped videos / video_sets_original.\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Ubuntu 18.04\r\n - DeepLabCut Version: 2.1.10.4 (current with GitHub repo)\r\n - DeepLabCut mode: Single-animal tracking\r\n - No browser.\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior, i.e.:\r\n1. Label data.\r\n2. dlc.cropimagesandlabels(path_config_file, numcrops=10, size=(800,400), userfeedback=False)\r\n\r\nsetting excludealreadycropped=True does not have any impact here, same error occurs.\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n\r\n```python\r\n\r\n  File \"<ipython-input-3-4f0b621448c4>\", line 1, in <module>\r\n    dlc.cropimagesandlabels(path_config_file, numcrops=10, size=(800,400), userfeedback=False, excludealreadycropped=True)\r\n\r\n  File \"/d1/studies/DeepLabCut_Forked/DeepLabCut/deeplabcut/generate_training_dataset/trainingsetmanipulation.py\", line 308, in cropimagesandlabels\r\n    for video in videos:\r\n\r\n  File \"/home/smith/anaconda3/envs/ma-dlc/lib/python3.7/site-packages/ruamel/yaml/comments.py\", line 822, in __iter__\r\n    for x in ordereddict.__iter__(self):\r\n\r\nRuntimeError: OrderedDict mutated during iteration\r\n\r\n ```\r\n</p></details></summary>\r\n\r\n**Expected behavior**\r\nImages and labels should be cropped for all videos and config.yaml should be updated.\r\n\r\n","closed_by":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1205/timeline","performed_via_github_app":null,"state_reason":"completed"}