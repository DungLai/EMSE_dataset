{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/98","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/98/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/98/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/98/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/98","id":378680651,"node_id":"MDU6SXNzdWUzNzg2ODA2NTE=","number":98,"title":"[Multiple Pose prediction] cfg.stride is not present in pose_cfg.yaml (pose-tensorflow/model/XY/test)","user":{"login":"JensBlack","id":44863941,"node_id":"MDQ6VXNlcjQ0ODYzOTQx","avatar_url":"https://avatars.githubusercontent.com/u/44863941?v=4","gravatar_id":"","url":"https://api.github.com/users/JensBlack","html_url":"https://github.com/JensBlack","followers_url":"https://api.github.com/users/JensBlack/followers","following_url":"https://api.github.com/users/JensBlack/following{/other_user}","gists_url":"https://api.github.com/users/JensBlack/gists{/gist_id}","starred_url":"https://api.github.com/users/JensBlack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JensBlack/subscriptions","organizations_url":"https://api.github.com/users/JensBlack/orgs","repos_url":"https://api.github.com/users/JensBlack/repos","events_url":"https://api.github.com/users/JensBlack/events{/privacy}","received_events_url":"https://api.github.com/users/JensBlack/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-11-08T11:00:18Z","updated_at":"2018-11-08T16:37:46Z","closed_at":"2018-11-08T16:37:45Z","author_association":"NONE","active_lock_reason":null,"body":"I was using the new AnalyzeVideosAndExtractScoreMaps.py to use the ScoreMap with local maxima identification to find multiple bodyparts of the same kind (e.g. nose) and it works fine (Thanks for the suggestion btw).\r\n\r\nAs i am adapting my own little \"predict.argmax_pose_predict\", I noticed that to successfully calculate back to the origal image/video size the original code uses: \r\n\r\n`def argmax_pose_predict(scmap, offmat, stride):\r\n\r\n        pos_f8 = (np.array(maxloc).astype('float') * stride + 0.5 * stride +\r\n                  offset)\r\n        pose.append(np.hstack((pos_f8[::-1],\r\n                               [scmap[maxloc][joint_idx]])))\r\n    return np.array(pose)`\r\n\r\n**stride** is taken from the config file pose_cfg.yaml (pose-tensorflow/model/XY/test)\r\nIf I open the file to look for the value, I cannot find it. Am I missing something here?\r\n\r\nThe variable pos_f8 should have values that represent the coordinates according to the original file resolution.\r\n_maxloc_ has the shape (72, 88, #bodyparts, 2) in my case and my images/videos have the resolution 704 x 576. \r\nIf i fix **stride** manually (e.g. \"8\") I can get a slighty distorted version of the originally (by DLC \"normal\") correct-identified bodyparts.\r\n\r\n\r\n\r\n","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/98/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/98/timeline","performed_via_github_app":null,"state_reason":"completed"}