{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/199","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/199/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/199/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/199/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/199","id":406365075,"node_id":"MDU6SXNzdWU0MDYzNjUwNzU=","number":199,"title":"Error when checkcropping=True (multiple videos)","user":{"login":"rnrpereira","id":2293879,"node_id":"MDQ6VXNlcjIyOTM4Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/2293879?v=4","gravatar_id":"","url":"https://api.github.com/users/rnrpereira","html_url":"https://github.com/rnrpereira","followers_url":"https://api.github.com/users/rnrpereira/followers","following_url":"https://api.github.com/users/rnrpereira/following{/other_user}","gists_url":"https://api.github.com/users/rnrpereira/gists{/gist_id}","starred_url":"https://api.github.com/users/rnrpereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnrpereira/subscriptions","organizations_url":"https://api.github.com/users/rnrpereira/orgs","repos_url":"https://api.github.com/users/rnrpereira/repos","events_url":"https://api.github.com/users/rnrpereira/events{/privacy}","received_events_url":"https://api.github.com/users/rnrpereira/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-02-04T14:52:28Z","updated_at":"2019-02-04T15:23:57Z","closed_at":"2019-02-04T15:10:59Z","author_association":"NONE","active_lock_reason":null,"body":"Using: Ubuntu 16.04 LTS, with an Anaconda Env, & DeepLabCut 2.0.4\r\n\r\n**Problem: dlc.extract_frames error when checkcropping flag is True.**\r\n[Checked related issues. My dlc.extract_frames with clip=clip.crop(..) ok!]\r\n`local variable 'image' referenced before assignment`\r\n\r\n```\r\nIn [17]: deeplabcut.extract_frames(path_config,'automatic','kmeans',crop=True,checkcropping=True)                                                    \r\nConfig file read successfully.\r\nDo you want to extract (perhaps additional) frames for video: /media/rodrigo/MAIN PART 2/JOAO HD1/EXPERIMENTOS/Tracking corrigido e artefactos marcados/Social interaction SI/CTR_R5/CTR_R5_Neymar_Familiar_1.AVI ?\r\nyes/noy\r\nMake sure you change the crop parameters in the config.yaml file. The default parameters are set to the video dimensions.\r\n---------------------------------------------------------------------------\r\nUnboundLocalError                         Traceback (most recent call last)\r\n<ipython-input-17-4a3b97b25b69> in <module>\r\n----> 1 deeplabcut.extract_frames(path_config,'automatic','kmeans',crop=True,checkcropping=True)\r\n\r\n~/.conda/envs/DLCut/lib/python3.6/site-packages/deeplabcut/generate_training_dataset/frame_extraction.py in extract_frames(config, mode, algo, crop, checkcropping, userfeedback, cluster_step, cluster_resizewidth, cluster_color, Screens, scale_w, scale_h, opencv)\r\n    166                         fig,ax = plt.subplots(1)\r\n    167                         # Display the image\r\n--> 168                         ax.imshow(image)\r\n    169                         # Create a Rectangle patch\r\n    170                         rect = patches.Rectangle((int(coords[0]),int(coords[2])),int(coords[1])-int(coords[0]),int(coords[3])-int(coords[2]),linewidth=3,edgecolor='r',facecolor='none')\r\n\r\nUnboundLocalError: local variable 'image' referenced before assignment\r\n```\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/199/timeline","performed_via_github_app":null,"state_reason":"completed"}