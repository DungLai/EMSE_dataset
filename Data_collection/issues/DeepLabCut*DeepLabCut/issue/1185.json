{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1185","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1185/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1185/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1185/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1185","id":853825288,"node_id":"MDU6SXNzdWU4NTM4MjUyODg=","number":1185,"title":"Labels Placed Outside Image","user":{"login":"NickBardjis","id":48658752,"node_id":"MDQ6VXNlcjQ4NjU4NzUy","avatar_url":"https://avatars.githubusercontent.com/u/48658752?v=4","gravatar_id":"","url":"https://api.github.com/users/NickBardjis","html_url":"https://github.com/NickBardjis","followers_url":"https://api.github.com/users/NickBardjis/followers","following_url":"https://api.github.com/users/NickBardjis/following{/other_user}","gists_url":"https://api.github.com/users/NickBardjis/gists{/gist_id}","starred_url":"https://api.github.com/users/NickBardjis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickBardjis/subscriptions","organizations_url":"https://api.github.com/users/NickBardjis/orgs","repos_url":"https://api.github.com/users/NickBardjis/repos","events_url":"https://api.github.com/users/NickBardjis/events{/privacy}","received_events_url":"https://api.github.com/users/NickBardjis/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-08T19:55:21Z","updated_at":"2021-04-08T20:34:16Z","closed_at":"2021-04-08T20:34:16Z","author_association":"NONE","active_lock_reason":null,"body":"When labeling frames it is possible to right click to place a label outside of the image.  If you do so, the program moves to the next body part as if a label was actually placed, but no visible label exists.  If you select the same body part and try to place a label elsewhere, it tells you a label already exists.  As the label cannot be seen, the user cannot click on it to delete it.\r\nThis can occur both when zoomed in and when viewing the whole image.  Notably any labels placed like this when zoomed in do not simply appear in a part of the image that is currently out of view.\r\nError output for 3 such incidents given below\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Windows10\r\n - DeepLabCut Version 2.1.10.2\r\n - multi-animal tracking\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior, i.e.:\r\n1. In the command line run deeplabcut.label_frames(config_path)\r\n2. Select \"Load Frames\" and choose any folder of frames\r\n3. On any frame, select a body part that does not have a label\r\n4. Right click in the GUI outside of the image of the frame\r\n4. See error:\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n\r\n```python\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in OnKeyPressed\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in <listcomp>\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 351, in calc_distance\r\n    return np.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)\r\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'float'\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in OnKeyPressed\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in <listcomp>\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 351, in calc_distance\r\n    return np.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)\r\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'float'\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in OnKeyPressed\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in <listcomp>\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 351, in calc_distance\r\n    return np.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)\r\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'float'\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in OnKeyPressed\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in <listcomp>\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 351, in calc_distance\r\n    return np.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)\r\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'float'\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in OnKeyPressed\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in <listcomp>\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 351, in calc_distance\r\n    return np.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)\r\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'float'\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in OnKeyPressed\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 333, in <listcomp>\r\n    [self.calc_distance(*dp.point.center, *pos_rel) for dp in self.drs]\r\n  File \"C:\\Users\\astro\\anaconda3\\envs\\DLC-CPU\\lib\\site-packages\\deeplabcut\\generate_training_dataset\\multiple_individuals_labeling_toolbox.py\", line 351, in calc_distance\r\n    return np.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)\r\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'float'\r\n\r\n```\r\n</p></details>","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1185/timeline","performed_via_github_app":null,"state_reason":"completed"}