{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1901","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1901/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1901/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1901/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1901","id":1302884968,"node_id":"I_kwDOB5BM6c5NqHJo","number":1901,"title":"extract_outlier_frames should not move videos","user":{"login":"johnmbarrett","id":19190699,"node_id":"MDQ6VXNlcjE5MTkwNjk5","avatar_url":"https://avatars.githubusercontent.com/u/19190699?v=4","gravatar_id":"","url":"https://api.github.com/users/johnmbarrett","html_url":"https://github.com/johnmbarrett","followers_url":"https://api.github.com/users/johnmbarrett/followers","following_url":"https://api.github.com/users/johnmbarrett/following{/other_user}","gists_url":"https://api.github.com/users/johnmbarrett/gists{/gist_id}","starred_url":"https://api.github.com/users/johnmbarrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnmbarrett/subscriptions","organizations_url":"https://api.github.com/users/johnmbarrett/orgs","repos_url":"https://api.github.com/users/johnmbarrett/repos","events_url":"https://api.github.com/users/johnmbarrett/events{/privacy}","received_events_url":"https://api.github.com/users/johnmbarrett/received_events","type":"User","site_admin":false},"labels":[{"id":880550034,"node_id":"MDU6TGFiZWw4ODA1NTAwMzQ=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2022-07-13T04:24:14Z","updated_at":"2022-07-30T17:01:13Z","closed_at":"2022-07-30T17:01:13Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nOn file systems where symlinking is not possible, extract_outlier_frames moves the video. In create_new_project, I can stop this happening by setting copy_videos to True, but extract_outlier_frames has no such option.\n\n### Operating System\n\nWindows 10\n\n### DeepLabCut version\n\nDLC 2.2.1.1\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\nNVIDIA GeForce GT 730\n\n### Steps To Reproduce\n\n1) Download the attached [script](https://github.com/DeepLabCut/DeepLabCut/files/9098869/test.txt) and [video](https://github.com/DeepLabCut/DeepLabCut/files/9098858/test.zip) to a file system where it is not possible to create symlinks (in my case this happens to be a network drive)\r\n2) Unzip the video\r\n3) Rename test.txt to test.py\r\n4) Change the paths on lines 8-9 of test.py to point to where you keep your DLC projects and where you downloaded the video in step 1\r\n5) Run test.py\r\n6) At the first prompt (line 13), change both the numframes2pick and the TrainingFraction in config.yaml to 1\r\n7) Label the frames\r\n8) [Optional, but it will go a lot faster if you do] At the second prompt (line 21), in the DLC model's pose_cfg.yaml file, change the display_iters and save_iters both to 1 and multi_step to:\r\n```\r\n- - 0.005\r\n  - 1\r\n```\r\n9) Wait for the script to finish running\r\n10) Navigate to the folder where you unzipped the video to in step 2\r\n\r\nExpected behaviour: test.avi is still there\r\n\r\nActual behaviour: it has been moved inside the DLC project folder\r\n\r\n\r\n\n\n### Relevant log output\n\n_No response_\n\n### Anything else?\n\nI believe this to have been introduced in #1272. As mentioned up top, this is fixable when creating a project by passing copy_videos=True, but not with extract_outlier_frames. More generally, I'm not sure moving videos is the best default option, as it is liable to lead to user confusion and may interfere with other scripts/programs that expect the videos to be in whatever folder they came from. In my opinion, the safer default would be to symlink if possible, otherwise copy, cutting only if the user specifies copy_videos=False and symlinking is impossible.\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1901/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1901/timeline","performed_via_github_app":null,"state_reason":"completed"}