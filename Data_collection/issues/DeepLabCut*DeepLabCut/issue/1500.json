{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1500","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1500/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1500/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1500/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1500","id":992008558,"node_id":"MDU6SXNzdWU5OTIwMDg1NTg=","number":1500,"title":"Cannot perform \"refine tracklets\" on maDLC","user":{"login":"quirinkrabi","id":89841165,"node_id":"MDQ6VXNlcjg5ODQxMTY1","avatar_url":"https://avatars.githubusercontent.com/u/89841165?v=4","gravatar_id":"","url":"https://api.github.com/users/quirinkrabi","html_url":"https://github.com/quirinkrabi","followers_url":"https://api.github.com/users/quirinkrabi/followers","following_url":"https://api.github.com/users/quirinkrabi/following{/other_user}","gists_url":"https://api.github.com/users/quirinkrabi/gists{/gist_id}","starred_url":"https://api.github.com/users/quirinkrabi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quirinkrabi/subscriptions","organizations_url":"https://api.github.com/users/quirinkrabi/orgs","repos_url":"https://api.github.com/users/quirinkrabi/repos","events_url":"https://api.github.com/users/quirinkrabi/events{/privacy}","received_events_url":"https://api.github.com/users/quirinkrabi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2021-09-09T09:35:13Z","updated_at":"2021-09-10T08:31:05Z","closed_at":"2021-09-10T08:31:05Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Bug description\r\n\r\nDear developers,\r\n\r\nI am using the latest deeplabcut from github in an Anaconda environment, with GPU (all working fine it seems), using the deeplabcut GUI to do maDLC.\r\n\r\nI successfully performed maDLC network training on a video of two rats interacting (one white one dark), and I successfully analyzed the same video afterwards to test the tracking, and converted this to tracklets.\r\n\r\nI got various pickle files as outputs.\r\n\r\nThen on the \"Refine tracklets\" tab, I performed \"Create tracks\". I got the ..._el.h5 file as output.\r\n\r\nThen I wanted to perform, on the same tab, the \"Optional: Refine tracks\" function.\r\n\r\nThis however fails with an error.\r\n\r\n(Please see below, where I pasted all from \"Step 1: Analyze Videos\" onwards).\r\n\r\nWould you kindly have any suggestion how to solve this? Or am I overlooking something?\r\n\r\nBest wishes,\r\nQuirin\r\n\r\n\r\n### Operating System\r\n\r\nWindows 10\r\n\r\n### DeepLabCut version\r\n\r\ndlc version 2.2.0.1\r\n\r\n### DeepLabCut mode\r\n\r\nmulti animal\r\n\r\n### Device type\r\n\r\ngpu: Nvidia Quadro T1000\r\n\r\n### Steps To Reproduce\r\n\r\n_No response_\r\n\r\n### Relevant log output\r\n\r\n```shell\r\nRunning  DLC_dlcrnetms5_test4Sep1shuffle1_180000  with # of trainingiterations: 180000\r\nActivating extracting of PAFs\r\nAnalyzing data...\r\n40it [00:03, 10.29it/s]\r\nResults for 180000 training iterations: 95, shuffle 1:\r\nTrain error: 4.98 pixels. Test error: 10.67 pixels.\r\nWith pcutoff of 0.6:\r\nTrain error: 4.98 pixels. Test error: 10.67 pixels.\r\n##########################################\r\nAverage Euclidean distance to GT per individual (in pixels)\r\nindividuals\r\nStimulusrat    3.575547\r\nTestrat        7.179212\r\nAverage Euclidean distance to GT per bodypart (in pixels)\r\nbodyparts\r\nleftear      5.785083\r\nrightear     5.844563\r\nshoulder     9.230907\r\nsnout       11.160438\r\nspine1       4.743156\r\nspine2       5.251940\r\nspine3       2.800900\r\nspine4       2.728229\r\ntail1        3.021923\r\ntail2        5.815999\r\ntailbase     2.696431\r\ntailend      2.645095\r\nDone and results stored for snapshot:  snapshot-180000\r\nSelecting best skeleton...\r\nGraph 1|10\r\n40it [00:00, 791.65it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3957.17it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3311.79it/s]\r\nGraph 2|10\r\n40it [00:00, 566.04it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3956.42it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3310.09it/s]\r\nGraph 3|10\r\n40it [00:00, 440.04it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3958.94it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 4996.04it/s]\r\nGraph 4|10\r\n40it [00:00, 363.79it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 2557.89it/s]\r\n100%|██████████████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<?, ?it/s]\r\nGraph 5|10\r\n40it [00:00, 344.96it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 2565.91it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 2560.55it/s]\r\nGraph 6|10\r\n40it [00:00, 290.59it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 2561.02it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 1703.22it/s]\r\nGraph 7|10\r\n40it [00:00, 242.64it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 4983.43it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3316.97it/s]\r\nGraph 8|10\r\n40it [00:00, 188.60it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3307.68it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3954.47it/s]\r\nGraph 9|10\r\n40it [00:00, 197.37it/s]\r\n100%|████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<00:00, 3999.34it/s]\r\n100%|██████████████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<?, ?it/s]\r\nGraph 10|10\r\n40it [00:00, 185.28it/s]\r\n100%|██████████████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<?, ?it/s]\r\n100%|██████████████████████████████████████████████████████████████████████████████████████████| 40/40 [00:00<?, ?it/s]\r\nC:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01/evaluation-results/  already exists!\r\nC:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\evaluation-results\\iteration-0\\test4Sep1-trainset95shuffle1  already exists!\r\nC:\\ANACONDA\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\base_layer_v1.py:1694: UserWarning: `layer.apply` is deprecated and will be removed in a future version. Please use `layer.__call__` method instead.\r\n  warnings.warn('`layer.apply` is deprecated and '\r\nActivating extracting of PAFs\r\nAnalyzing data...\r\n3it [00:00,  9.88it/s]\r\nSaving plots...\r\nC:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\evaluation-results\\iteration-0\\test4Sep1-trainset95shuffle1\\maps  already exists!\r\n100%|████████████████████████████████████████████████████████████████████████████████████| 3/3 [00:05<00:00,  1.77s/it]\r\nAnalyzing ...\r\nUsing snapshot-180000 for model C:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\dlc-models\\iteration-0\\test4Sep1-trainset95shuffle1\r\nActivating extracting of PAFs\r\nStarting to analyze %  C:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\Gq-II_OTR-Cre_vlPAG_01_SI_salineshortcropped.avi\r\nC:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01  already exists!\r\nLoading  C:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\Gq-II_OTR-Cre_vlPAG_01_SI_salineshortcropped.avi\r\nDuration of video [s]:  60.0 , recorded with  25.0 fps!\r\nOverall # of frames:  1500  found with (before cropping) frame dimensions:  266 286\r\nStarting to extract posture\r\n100%|██████████████████████████████████████████████████████████████████████████████| 1500/1500 [00:23<00:00, 63.06it/s]\r\nSaving results in C:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01...\r\nThe videos are analyzed. Time to assemble animals and track 'em...\r\n Call 'create_video_with_all_detections' to check multi-animal detection quality before tracking.\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function 'extract_outlier_frames' to extract a few representative outlier frames.\r\nCreating labeled video for  Gq-II_OTR-Cre_vlPAG_01_SI_salineshortcropped\r\n100%|█████████████████████████████████████████████████████████████████████████████| 1500/1500 [00:06<00:00, 243.92it/s]\r\nUsing snapshot-180000 for model C:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\dlc-models\\iteration-0\\test4Sep1-trainset95shuffle1\r\nProcessing...  C:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\Gq-II_OTR-Cre_vlPAG_01_SI_salineshortcropped.avi\r\nC:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01  already exists!\r\nAnalyzing C:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\Gq-II_OTR-Cre_vlPAG_01_SI_salineshortcroppedDLC_dlcrnetms5_test4Sep1shuffle1_180000.h5\r\n1500it [00:03, 436.39it/s]\r\n1500it [00:04, 351.79it/s]\r\nThe tracklets were created. Now you can 'refine_tracklets'.\r\nProcessing...  C:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01\\Gq-II_OTR-Cre_vlPAG_01_SI_salineshortcropped.avi\r\nC:\\ANACONDA\\DATAANALYSIS\\DeepLabCut-projects\\test4-Quirin-2021-09-01  already exists!\r\n100%|█████████████████████████████████████████████████████████████████████████████████| 50/50 [00:00<00:00, 500.37it/s]\r\nC:\\ANACONDA\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py:656: UserWarning: No optimal solution found. Employing black magic...\r\n  warnings.warn(\"No optimal solution found. Employing black magic...\")\r\nTraceback (most recent call last):\r\n  File \"C:\\ANACONDA\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\gui\\refine_tracklets.py\", line 313, in refine_tracklets\r\n    self.manager, self.viz = deeplabcut.refine_tracklets(\r\n  File \"C:\\ANACONDA\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\gui\\tracklet_toolbox.py\", line 793, in refine_tracklets\r\n    manager.load_tracklets_from_hdf(pickle_or_h5_file)\r\n  File \"C:\\ANACONDA\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\tracklets.py\", line 238, in load_tracklets_from_hdf\r\n    df = pd.read_hdf(filename)\r\n  File \"C:\\ANACONDA\\Anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\pandas\\io\\pytables.py\", line 427, in read_hdf\r\n    raise FileNotFoundError(f\"File {path_or_buf} does not exist\")\r\nFileNotFoundError: File  does not exist\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nI will gladly provide any further information required. Please note that I am a beginner with programming and command line usage...\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"quirinkrabi","id":89841165,"node_id":"MDQ6VXNlcjg5ODQxMTY1","avatar_url":"https://avatars.githubusercontent.com/u/89841165?v=4","gravatar_id":"","url":"https://api.github.com/users/quirinkrabi","html_url":"https://github.com/quirinkrabi","followers_url":"https://api.github.com/users/quirinkrabi/followers","following_url":"https://api.github.com/users/quirinkrabi/following{/other_user}","gists_url":"https://api.github.com/users/quirinkrabi/gists{/gist_id}","starred_url":"https://api.github.com/users/quirinkrabi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quirinkrabi/subscriptions","organizations_url":"https://api.github.com/users/quirinkrabi/orgs","repos_url":"https://api.github.com/users/quirinkrabi/repos","events_url":"https://api.github.com/users/quirinkrabi/events{/privacy}","received_events_url":"https://api.github.com/users/quirinkrabi/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1500/timeline","performed_via_github_app":null,"state_reason":"completed"}