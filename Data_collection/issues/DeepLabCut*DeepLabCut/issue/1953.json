{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1953","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1953/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1953/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1953/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1953","id":1343406647,"node_id":"I_kwDOB5BM6c5QEsI3","number":1953,"title":"Numpy version error: Wxypthon installation for Ubuntu 20.04 forces Numpy version update ","user":{"login":"anpeter1","id":32559387,"node_id":"MDQ6VXNlcjMyNTU5Mzg3","avatar_url":"https://avatars.githubusercontent.com/u/32559387?v=4","gravatar_id":"","url":"https://api.github.com/users/anpeter1","html_url":"https://github.com/anpeter1","followers_url":"https://api.github.com/users/anpeter1/followers","following_url":"https://api.github.com/users/anpeter1/following{/other_user}","gists_url":"https://api.github.com/users/anpeter1/gists{/gist_id}","starred_url":"https://api.github.com/users/anpeter1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anpeter1/subscriptions","organizations_url":"https://api.github.com/users/anpeter1/orgs","repos_url":"https://api.github.com/users/anpeter1/repos","events_url":"https://api.github.com/users/anpeter1/events{/privacy}","received_events_url":"https://api.github.com/users/anpeter1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2022-08-18T17:35:41Z","updated_at":"2022-10-09T14:30:03Z","closed_at":"2022-10-09T14:30:03Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nAfter installing DLC on Ubuntu 20.04 with the [following instructions](https://deeplabcut.github.io/DeepLabCut/docs/recipes/installTips.html#troubleshooting-note-if-you-get-a-failed-build-due-to-wxpython-note-this-does-not-happen-on-ubuntu-18-16-etc-i-e), we get a Numpy error when trying to launch the GUI. This is after the installation of Wxpython.\r\n\r\nIt seems that during the DLC installation numpy==1.21.5, but the wxpython installation forces a numpy upgrade to numpy==1.23.1, which causes an error when trying to initiate deeplabcut. \r\n\r\nWe have successfully installed a couple DLC environments on the same computer/login, but they were built a few months prior. We have never been able install DLC without have to run the wxpython troubleshooting steps, but this is the first time those steps have failed.\r\n\r\nWe were able to install wxpython==4.1.1 and then downgrade numpy to numpy==1.21.5 and successfully launch DLC with the following steps:\r\n\r\nconda install -c conda-forge wxpython==4.1.1 \r\nconda install -c conda-forge numpy==1.21.5\r\n\r\nHowever, we have not started using this installation of DLC yet and do not know if this workaround will cause any issues further down the pipeline.\r\n\r\n\r\n\n\n### Operating System\n\nUbuntu 20.04\n\n### DeepLabCut version\n\nDLC 2.2.1.1\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\ngpu\n\n### Steps To Reproduce\n\nOpen the .yaml file and change deeplabcut[gui] to deeplabcut, save file\r\nRe-create Enviornment (DLC_troubleshoot)\r\n\r\nconda env create -n DLC_troubleshoot -f DEEPLABCUT.yaml\r\n\r\nInstallation is succussful, activate with:\r\n\r\nconda activate DLC_troubleshoot\r\n\r\ninstall -c conda-forge wxpython\n\n### Relevant log output\n\n```shell\n(DLC_troubleshoot) anpetey@lambda-quad:~/Downloads$ install -c conda-forge wxpython\r\nCollecting package metadata (current_repodata.json): done\r\nSolving environment: done\r\n\r\n\r\n==> WARNING: A newer version of conda exists. <==\r\n  current version: 4.12.0\r\n  latest version: 4.13.0\r\n\r\nPlease update conda by running\r\n\r\n    $ conda update -n base -c defaults conda\r\n\r\n\r\n\r\n## Package Plan ##\r\n\r\n  environment location: /home/anpetey/anaconda3/envs/DLC_troubleshoot\r\n\r\n  added / updated specs:\r\n    - wxpython\r\n\r\n\r\nThe following packages will be downloaded:\r\n\r\n    package                    |            build\r\n    ---------------------------|-----------------\r\n    cairo-1.16.0               |    ha61ee94_1012         1.5 MB  conda-forge\r\n    charset-normalizer-2.1.0   |     pyhd8ed1ab_0          35 KB  conda-forge\r\n    cryptography-37.0.4        |   py38h2b5fc30_0         1.5 MB  conda-forge\r\n    harfbuzz-5.1.0             |       hf9f4e7c_0         2.3 MB  conda-forge\r\n    lerc-4.0.0                 |       h27087fc_0         275 KB  conda-forge\r\n    libblas-3.9.0              |16_linux64_openblas          13 KB  conda-forge\r\n    libcblas-3.9.0             |16_linux64_openblas          13 KB  conda-forge\r\n    libdeflate-1.13            |       h166bdaf_0          79 KB  conda-forge\r\n    liblapack-3.9.0            |16_linux64_openblas          13 KB  conda-forge\r\n    libopenblas-0.3.21         |pthreads_h78a6416_1        10.1 MB  conda-forge\r\n    libtiff-4.4.0              |       h0e0dad5_3         642 KB  conda-forge\r\n    libwebp-base-1.2.4         |       h166bdaf_0         404 KB  conda-forge\r\n    numpy-1.23.2               |   py38h3a7f9d9_0         7.1 MB  conda-forge\r\n    openjpeg-2.5.0             |       h7d73246_1         533 KB  conda-forge\r\n    pango-1.50.9               |       hc4f8a73_0         460 KB  conda-forge\r\n    pillow-9.2.0               |   py38ha3b2c9c_2        45.2 MB  conda-forge\r\n    requests-2.28.1            |     pyhd8ed1ab_0          53 KB  conda-forge\r\n    urllib3-1.26.11            |     pyhd8ed1ab_0         102 KB  conda-forge\r\n    ------------------------------------------------------------\r\n                                           Total:        70.2 MB\r\n\r\nThe following NEW packages will be INSTALLED:\r\n\r\n  atk-1.0            conda-forge/linux-64::atk-1.0-2.36.0-h3371d22_4\r\n  brotlipy           conda-forge/linux-64::brotlipy-0.7.0-py38h0a891b7_1004\r\n  cairo              conda-forge/linux-64::cairo-1.16.0-ha61ee94_1012\r\n  certifi            conda-forge/linux-64::certifi-2022.6.15-py38h578d9bd_0\r\n  charset-normalizer conda-forge/noarch::charset-normalizer-2.1.0-pyhd8ed1ab_0\r\n  cryptography       conda-forge/linux-64::cryptography-37.0.4-py38h2b5fc30_0\r\n  fribidi            conda-forge/linux-64::fribidi-1.0.10-h36c2ea0_0\r\n  gdk-pixbuf         conda-forge/linux-64::gdk-pixbuf-2.42.8-hff1cb4f_0\r\n  graphite2          conda-forge/linux-64::graphite2-1.3.13-h58526e2_1001\r\n  gtk2               conda-forge/linux-64::gtk2-2.24.33-h90689f9_2\r\n  harfbuzz           conda-forge/linux-64::harfbuzz-5.1.0-hf9f4e7c_0\r\n  idna               conda-forge/noarch::idna-3.3-pyhd8ed1ab_0\r\n  lcms2              conda-forge/linux-64::lcms2-2.12-hddcbb42_0\r\n  lerc               conda-forge/linux-64::lerc-4.0.0-h27087fc_0\r\n  libblas            conda-forge/linux-64::libblas-3.9.0-16_linux64_openblas\r\n  libcblas           conda-forge/linux-64::libcblas-3.9.0-16_linux64_openblas\r\n  libdeflate         conda-forge/linux-64::libdeflate-1.13-h166bdaf_0\r\n  libglu             conda-forge/linux-64::libglu-9.0.0-he1b5a44_1001\r\n  liblapack          conda-forge/linux-64::liblapack-3.9.0-16_linux64_openblas\r\n  libopenblas        conda-forge/linux-64::libopenblas-0.3.21-pthreads_h78a6416_1\r\n  libtiff            conda-forge/linux-64::libtiff-4.4.0-h0e0dad5_3\r\n  libwebp-base       conda-forge/linux-64::libwebp-base-1.2.4-h166bdaf_0\r\n  numpy              conda-forge/linux-64::numpy-1.23.2-py38h3a7f9d9_0\r\n  openjpeg           conda-forge/linux-64::openjpeg-2.5.0-h7d73246_1\r\n  pango              conda-forge/linux-64::pango-1.50.9-hc4f8a73_0\r\n  pathlib2           conda-forge/linux-64::pathlib2-2.3.7.post1-py38h578d9bd_1\r\n  pillow             conda-forge/linux-64::pillow-9.2.0-py38ha3b2c9c_2\r\n  pixman             conda-forge/linux-64::pixman-0.40.0-h36c2ea0_0\r\n  pyopenssl          conda-forge/noarch::pyopenssl-22.0.0-pyhd8ed1ab_0\r\n  pypubsub           conda-forge/noarch::pypubsub-4.0.3-py_0\r\n  pysocks            conda-forge/linux-64::pysocks-1.7.1-py38h578d9bd_5\r\n  requests           conda-forge/noarch::requests-2.28.1-pyhd8ed1ab_0\r\n  urllib3            conda-forge/noarch::urllib3-1.26.11-pyhd8ed1ab_0\r\n  wxpython           conda-forge/linux-64::wxpython-4.1.1-py38hc041153_7\r\n  xorg-libice        conda-forge/linux-64::xorg-libice-1.0.10-h7f98852_0\r\n  xorg-libsm         conda-forge/linux-64::xorg-libsm-1.2.3-hd9c2040_1000\r\n  xorg-libxrender    conda-forge/linux-64::xorg-libxrender-0.9.10-h7f98852_1003\r\n  xorg-renderproto   conda-forge/linux-64::xorg-renderproto-0.11.1-h7f98852_1002\r\n  zlib               conda-forge/linux-64::zlib-1.2.12-h166bdaf_2\r\n\r\n\r\nProceed ([y]/n)? y\r\n\r\n\r\nDownloading and Extracting Packages\r\nopenjpeg-2.5.0       | 533 KB    | ##################################### | 100% \r\nlerc-4.0.0           | 275 KB    | ##################################### | 100% \r\nharfbuzz-5.1.0       | 2.3 MB    | ##################################### | 100% \r\npango-1.50.9         | 460 KB    | ##################################### | 100% \r\nlibopenblas-0.3.21   | 10.1 MB   | ##################################### | 100% \r\ncharset-normalizer-2 | 35 KB     | ##################################### | 100% \r\nlibblas-3.9.0        | 13 KB     | ##################################### | 100% \r\ncryptography-37.0.4  | 1.5 MB    | ##################################### | 100% \r\nrequests-2.28.1      | 53 KB     | ##################################### | 100% \r\nlibdeflate-1.13      | 79 KB     | ##################################### | 100% \r\nlibcblas-3.9.0       | 13 KB     | ##################################### | 100% \r\nlibwebp-base-1.2.4   | 404 KB    | ##################################### | 100% \r\nliblapack-3.9.0      | 13 KB     | ##################################### | 100% \r\npillow-9.2.0         | 45.2 MB   | ##################################### | 100% \r\nlibtiff-4.4.0        | 642 KB    | ##################################### | 100% \r\ncairo-1.16.0         | 1.5 MB    | ##################################### | 100% \r\nnumpy-1.23.2         | 7.1 MB    | ##################################### | 100% \r\nurllib3-1.26.11      | 102 KB    | ##################################### | 100% \r\nPreparing transaction: done\r\nVerifying transaction: done\r\nExecuting transaction: | \r\ndone\r\n\r\n\r\n(DLC_troubleshoot) anpetey@lambda-quad:~/Downloads$ python -m deeplabcut\r\nLoading DLC 2.2.1.1...\r\nDLC loaded in light mode; you cannot use any GUI (labeling, relabeling and standalone GUI)\r\nTraceback (most recent call last):\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/runpy.py\", line 185, in _run_module_as_main\r\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/runpy.py\", line 144, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/runpy.py\", line 111, in _get_module_details\r\n    __import__(pkg_name)\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/deeplabcut/__init__.py\", line 39, in <module>\r\n    from deeplabcut.create_project import (\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/deeplabcut/create_project/__init__.py\", line 2, in <module>\r\n    from deeplabcut.create_project.demo_data import load_demo_data\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/deeplabcut/create_project/demo_data.py\", line 15, in <module>\r\n    from deeplabcut.utils import auxiliaryfunctions\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/deeplabcut/utils/__init__.py\", line 1, in <module>\r\n    from deeplabcut.utils.auxfun_multianimal import *\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/deeplabcut/utils/auxfun_multianimal.py\", line 24, in <module>\r\n    from deeplabcut.utils import auxiliaryfunctions, conversioncode\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/deeplabcut/utils/auxiliaryfunctions.py\", line 21, in <module>\r\n    from deeplabcut.pose_estimation_tensorflow.lib.trackingutils import TRACK_METHODS\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/deeplabcut/pose_estimation_tensorflow/lib/trackingutils.py\", line 18, in <module>\r\n    from numba import jit\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/numba/__init__.py\", line 206, in <module>\r\n    _ensure_critical_deps()\r\n  File \"/home/anpetey/anaconda3/envs/DLC_troubleshoot/lib/python3.8/site-packages/numba/__init__.py\", line 146, in _ensure_critical_deps\r\n    raise ImportError(\"Numba needs NumPy 1.22 or less\")\r\nImportError: Numba needs NumPy 1.22 or less\n```\n\n\n### Anything else?\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1953/timeline","performed_via_github_app":null,"state_reason":"completed"}