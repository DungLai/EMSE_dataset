{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/577","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/577/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/577/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/577/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/577","id":560122066,"node_id":"MDU6SXNzdWU1NjAxMjIwNjY=","number":577,"title":"fail to extract_outlier_frames (pandas 1.0 compatibility issue) ","user":{"login":"haofanglee","id":18105990,"node_id":"MDQ6VXNlcjE4MTA1OTkw","avatar_url":"https://avatars.githubusercontent.com/u/18105990?v=4","gravatar_id":"","url":"https://api.github.com/users/haofanglee","html_url":"https://github.com/haofanglee","followers_url":"https://api.github.com/users/haofanglee/followers","following_url":"https://api.github.com/users/haofanglee/following{/other_user}","gists_url":"https://api.github.com/users/haofanglee/gists{/gist_id}","starred_url":"https://api.github.com/users/haofanglee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haofanglee/subscriptions","organizations_url":"https://api.github.com/users/haofanglee/orgs","repos_url":"https://api.github.com/users/haofanglee/repos","events_url":"https://api.github.com/users/haofanglee/events{/privacy}","received_events_url":"https://api.github.com/users/haofanglee/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2020-02-05T03:44:49Z","updated_at":"2020-02-06T23:05:28Z","closed_at":"2020-02-06T23:05:28Z","author_association":"NONE","active_lock_reason":null,"body":"operating system: Windows 10 , env: anaconda3 created with the environment .yml file,  DeepLabCut version** 2.1.5\r\nBrowser: chrome\r\ncommand: \r\n\r\n```\r\ndeeplabcut.extract_outlier_frames(config_path,['D:\\\\Haofang\\\\Haofang_LEAP_videos\\\\high_framerate_recording\\\\719-1\\\\092319\\\\L\\\\2hz-5\\\\processedbehavior2019-09-23T15_24_28_stim_1.avi'],outlieralgorithm='jump')\r\n```\r\n\r\nOutput: Method  jump  found  5  putative outlier frames.\r\nDo you want to proceed with extracting  10  of those?\r\nIf this list is very large, perhaps consider changing the paramters (start, stop, epsilon, comparisonbodyparts) or use a different method.\r\nyes/no\r\n\r\nThen Input: yes\r\n\r\nError message:\r\n```\r\n\r\nLoading video...\r\nDuration of video [s]:  7.51 , recorded @  100.0 fps!\r\nOverall # of frames:  751 with (cropped) frame dimensions:\r\nKmeans-quantization based extracting of frames from 0.0  seconds to 7.51  seconds.\r\nExtracting and downsampling... 289  frames from the video.\r\n289it [00:02, 113.07it/s]\r\nKmeans clustering ... (this might take a while)\r\nLet's select frames indices: [627, 194, 361, 568, 402, 332, 438, 300, 367, 282]\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-4-53fd25d5ce70> in <module>\r\n----> 1 deeplabcut.extract_outlier_frames(config_path,['D:\\\\Haofang\\\\Haofang_LEAP_videos\\\\high_framerate_recording\\\\719-1\\\\092319\\\\L\\\\2hz-5\\\\processedbehavior2019-09-23T15_24_28_stim_1.avi'],outlieralgorithm='jump')\r\n\r\n~\\Anaconda3\\envs\\why\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\outlier_frames.py in extract_outlier_frames(config, videos, videotype, shuffle, trainingsetindex, outlieralgorithm, comparisonbodyparts, epsilon, p_bound, ARdegree, MAdegree, alpha, extractionalgorithm, automatic, cluster_resizewidth, cluster_color, opencv, savelabeled, destfolder)\r\n    189               if askuser=='y' or askuser=='yes' or askuser=='Ja' or askuser=='ha': # multilanguage support :)\r\n    190                   #Now extract from those Indices!\r\n--> 191                   ExtractFramesbasedonPreselection(Indices,extractionalgorithm,Dataframe,dataname,scorer,video,cfg,config,opencv,cluster_resizewidth,cluster_color,savelabeled)\r\n    192               else:\r\n    193                   print(\"Nothing extracted, please change the parameters and start again...\")\r\n\r\n~\\Anaconda3\\envs\\why\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\outlier_frames.py in ExtractFramesbasedonPreselection(Index, extractionalgorithm, Dataframe, dataname, scorer, video, cfg, config, opencv, cluster_resizewidth, cluster_color, savelabeled)\r\n    366     if len(frames2pick)>0:\r\n    367         #Dataframe = pd.read_hdf(os.path.join(videofolder,dataname+'.h5'))\r\n--> 368         DF = Dataframe.ix[frames2pick]\r\n    369         DF.index=[os.path.join('labeled-data', vname,\"img\"+str(index).zfill(strwidth)+\".png\") for index in DF.index] #exchange index number by file names.\r\n    370\r\n\r\n~\\Anaconda3\\envs\\why\\lib\\site-packages\\pandas\\core\\generic.py in __getattr__(self, name)\r\n   5271             if self._info_axis._can_hold_identifiers_and_holds_name(name):\r\n   5272                 return self[name]\r\n-> 5273             return object.__getattribute__(self, name)\r\n   5274\r\n   5275     def __setattr__(self, name: str, value) -> None:\r\n\r\nAttributeError: 'DataFrame' object has no attribute 'ix'\r\n```\r\n\r\nSeems like it was able to select the frame index but wasn't able to extract them. Could you help me with this please?\r\n\r\n\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/577/timeline","performed_via_github_app":null,"state_reason":"completed"}