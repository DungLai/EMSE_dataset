{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1458","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1458/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1458/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1458/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1458","id":966791338,"node_id":"MDU6SXNzdWU5NjY3OTEzMzg=","number":1458,"title":"cropping video problem and an error during \"refine tracklet\"","user":{"login":"deepbraincut","id":75436015,"node_id":"MDQ6VXNlcjc1NDM2MDE1","avatar_url":"https://avatars.githubusercontent.com/u/75436015?v=4","gravatar_id":"","url":"https://api.github.com/users/deepbraincut","html_url":"https://github.com/deepbraincut","followers_url":"https://api.github.com/users/deepbraincut/followers","following_url":"https://api.github.com/users/deepbraincut/following{/other_user}","gists_url":"https://api.github.com/users/deepbraincut/gists{/gist_id}","starred_url":"https://api.github.com/users/deepbraincut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepbraincut/subscriptions","organizations_url":"https://api.github.com/users/deepbraincut/orgs","repos_url":"https://api.github.com/users/deepbraincut/repos","events_url":"https://api.github.com/users/deepbraincut/events{/privacy}","received_events_url":"https://api.github.com/users/deepbraincut/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2021-08-11T14:08:46Z","updated_at":"2021-09-02T12:57:13Z","closed_at":"2021-09-02T12:57:13Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Bug description\r\n\r\nHi,\r\n\r\nFirst, thank you so much for the awesome work! I think the problems I am experiencing probably came from misuses of the program OR some necessary processes have not been done properly, but I could not figure out by online searching. so if you can advice me which points I did wrong, it would be really appreciate!\r\n\r\nI am tracking 2 mice in the home cage, and upgrade to DLC2.2 from DLC2.2rc3 yesterday (yay!). I labeled and trained with new version, and the new training went well. I ran evaluation and it seems fine. But I have 2 problems here.\r\n\r\n1. I analyzed some videos and found the outside of the cropped area were detected, even after I changed the config file cropping parameter. \r\n```\r\n    # Cropping Parameters (for analysis and outlier frame detection)\r\ncropping: true\r\n    #if cropping is true for analysis, then set the values here:\r\nx1: 100\r\nx2: 520\r\ny1: 150\r\ny2: 360\r\n```\r\nSo I used video editor tap to crop the video and got the error message like this: \r\n‘ffmpeg’ is not recognized as an internal or external command,\r\noperable program or batch file.’\r\n\r\nwhat am I missing here? \r\n\r\n2. The second problem happens when I tried to refine the tracklets.  but have an error message “FileNotFoundError: File does not exist” \r\nWhat I did: load the config file > go to refine tracklets > step1: create tracks > step2: optional refine tracks\r\nI didn’t change any default values in refine tracks tap (maybe that’s why?)\r\n\r\nI still could analyze the video but couldn’t go further steps: create video or refine labels.\r\n\r\nI would appreciate any help!!!!\r\n\r\n-Ain\r\n\r\n### Operating System\r\n\r\noperating system\r\n\r\nWindows 10\r\n\r\n### DeepLabCut version\r\n\r\ndlc version\r\nDLC 2.2\r\n\r\n### DeepLabCut mode\r\n\r\nmulti animal\r\n\r\n### Device type\r\n\r\ngpu\r\nNVIDIA GeForce RTX 2060 super\r\n\r\n### Steps To Reproduce\r\n\r\n1. in the anaconda3 env, activate DLC-GPU and ran deeplabcut 2.2\r\n2. ran this config file\r\n```\r\n    # Project definitions (do not edit)\r\nTask: SRM_STIM_2mice\r\nscorer: ac\r\ndate: Jul26\r\nmultianimalproject: true\r\nidentity: true\r\n\r\n    # Project path (change when moving around)\r\nproject_path: D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\r\n\r\n    # Annotation data set configuration (and individual video cropping parameters)\r\nvideo_sets:\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial1_2021-06-25-094507-0000.avi:\r\n    crop: 99, 536, 145, 399\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial2_2021-06-25-095115-0000.avi:\r\n    crop: 103, 521, 149, 406\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial3_2021-06-25-095713-0000.avi:\r\n    crop: 94, 519, 140, 408\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial4_2021-06-25-100315-0000.avi:\r\n    crop: 0, 640, 0, 480\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial5_2021-06-25-100916-0000.avi:\r\n    crop: 0, 640, 0, 480\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial6_2021-06-25-101515-0000.avi:\r\n    crop: 79, 533, 133, 403\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial7_2021-06-25-102121-0000.avi:\r\n    crop: 80, 534, 138, 406\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial8_2021-06-25-102721-0000.avi:\r\n    crop: 75, 534, 132, 401\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial9_2021-06-25-103329-0000.avi:\r\n    crop: 97, 532, 135, 396\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial10_2021-06-25-103932-0000.avi:\r\n    crop: 76, 532, 131, 399\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial1_2021-07-17-095318-0000.avi:\r\n    crop: 77, 498, 96, 349\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial2_2021-07-17-095936-0000.avi:\r\n    crop: 69, 496, 96, 362\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial3_2021-07-17-100537-0000.avi:\r\n    crop: 61, 522, 108, 368\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial4_2021-07-17-101145-0000.avi:\r\n    crop: 0, 640, 0, 480\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial5_2021-07-17-101759-0000.avi:\r\n    crop: 0, 640, 0, 480\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial6_2021-07-17-102400-0000.avi:\r\n    crop: 49, 501, 94, 379\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial7_2_2021-07-17-103323-0000.avi:\r\n    crop: 67, 515, 93, 385\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial7_2021-07-17-103008-0000.avi:\r\n    crop: 64, 504, 91, 375\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial8_2021-07-17-103618-0000.avi:\r\n    crop: 66, 504, 75, 356\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial9_2021-07-17-104211-0000.avi:\r\n    crop: 58, 503, 83, 360\r\n  D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial10_2021-07-17-104805-0000.avi:\r\n    crop: 61, 507, 76, 356\r\nindividuals:\r\n- Test\r\n- Sample\r\n\r\nuniquebodyparts: []\r\nmultianimalbodyparts:\r\n- Nose\r\n- LeftEar\r\n- RightEar\r\n- Center\r\n- LeftLeg\r\n- RightLeg\r\n- Tail\r\nskeleton:\r\n- - LeftEar\r\n  - Center\r\n- - RightLeg\r\n  - Tail\r\n- - Nose\r\n  - RightEar\r\n- - LeftEar\r\n  - Tail\r\n- - RightEar\r\n  - RightLeg\r\n- - Nose\r\n  - Center\r\n- - LeftEar\r\n  - RightEar\r\n- - LeftEar\r\n  - RightLeg\r\n- - Center\r\n  - Tail\r\n- - Nose\r\n  - LeftLeg\r\n- - RightEar\r\n  - Tail\r\n- - LeftLeg\r\n  - RightLeg\r\n- - LeftEar\r\n  - LeftLeg\r\n- - RightEar\r\n  - Center\r\n- - Center\r\n  - RightLeg\r\n- - Nose\r\n  - LeftEar\r\n- - LeftLeg\r\n  - Tail\r\n- - Center\r\n  - LeftLeg\r\n- - RightEar\r\n  - LeftLeg\r\nbodyparts: MULTI!\r\nstart: 0\r\nstop: 1\r\nnumframes2pick: 20\r\n\r\n    # Plotting configuration\r\nskeleton_color: black\r\npcutoff: 0.6\r\ndotsize: 12\r\nalphavalue: 0.7\r\ncolormap: rainbow\r\n\r\n    # Training,Evaluation and Analysis configuration\r\nTrainingFraction:\r\n- 0.95\r\niteration: 0\r\ndefault_net_type: dlcrnet_ms5\r\ndefault_augmenter: multi-animal-imgaug\r\nsnapshotindex: -1\r\nbatch_size: 8\r\n\r\n    # Cropping Parameters (for analysis and outlier frame detection)\r\ncropping: true\r\n    #if cropping is true for analysis, then set the values here:\r\nx1: 100\r\nx2: 520\r\ny1: 150\r\ny2: 360\r\n\r\n    # Refinement configuration (parameters from annotation dataset configuration also relevant in this stage)\r\ncorner2move2:\r\n- 50\r\n- 50\r\nmove2corner: true\r\ncroppedtraining: false\r\n```\r\n3. \r\n1) load the config file> go to video editor> set cropping boundary in the popup window> click CROP> error like: ‘ffmpeg’ is not recognized as an internal or external command, operable program or batch file.’\r\n\r\n\r\n2) load the config file > go to refine tracklets > step1: create tracks > step2: optional refine tracks> got an error message ' filenotfounderror' (see below)  \r\n\r\n\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n(DLC-GPU) C:\\Users\\sahay>python -m deeplabcut\r\n2021-08-10 10:15:23.242303: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cudart64_110.dll\r\nStarting GUI…\r\ncurrently DLCRNet is only supported in multi-animal mode\r\nProcessing… D:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos\\Trial1_2021-06-25-094507-0000.avi\r\nD:\\DLC\\SRM_STIM_2mice-ac-2021-07-26\\videos already exists!\r\n100%|█████████████████████████████████████████████████████████████████████████████████| 21/21 [00:00<00:00, 263.20it/s]\r\nTraceback (most recent call last):\r\nFile “C:\\Users\\sahay\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\gui\\refine_tracklets.py”, line 319, in refine_tracklets\r\nmax_gap=self.slider_gap.GetValue(),\r\nFile “C:\\Users\\sahay\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\gui\\tracklet_toolbox.py”, line 793, in refine_tracklets\r\nmanager.load_tracklets_from_hdf(pickle_or_h5_file)\r\nFile “C:\\Users\\sahay\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\tracklets.py”, line 238, in load_tracklets_from_hdf\r\ndf = pd.read_hdf(filename)\r\nFile “C:\\Users\\sahay\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\pandas\\io\\pytables.py”, line 387, in read_hdf\r\nraise FileNotFoundError(f\"File {path_or_buf} does not exist\")\r\nFileNotFoundError: File does not exist\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n![crop error](https://user-images.githubusercontent.com/75436015/129043960-b9927c58-7132-48f6-9435-f5f42d120d9c.PNG)\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1458/timeline","performed_via_github_app":null,"state_reason":"completed"}