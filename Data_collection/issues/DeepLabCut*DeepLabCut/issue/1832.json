{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1832","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1832/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1832/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1832/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1832","id":1235869677,"node_id":"I_kwDOB5BM6c5Jqd_t","number":1832,"title":"Can't create video by filtered file.[No filtered data file found in......]","user":{"login":"JianzhiZhang1","id":103829351,"node_id":"U_kgDOBjBPZw","avatar_url":"https://avatars.githubusercontent.com/u/103829351?v=4","gravatar_id":"","url":"https://api.github.com/users/JianzhiZhang1","html_url":"https://github.com/JianzhiZhang1","followers_url":"https://api.github.com/users/JianzhiZhang1/followers","following_url":"https://api.github.com/users/JianzhiZhang1/following{/other_user}","gists_url":"https://api.github.com/users/JianzhiZhang1/gists{/gist_id}","starred_url":"https://api.github.com/users/JianzhiZhang1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JianzhiZhang1/subscriptions","organizations_url":"https://api.github.com/users/JianzhiZhang1/orgs","repos_url":"https://api.github.com/users/JianzhiZhang1/repos","events_url":"https://api.github.com/users/JianzhiZhang1/events{/privacy}","received_events_url":"https://api.github.com/users/JianzhiZhang1/received_events","type":"User","site_admin":false},"labels":[{"id":2379991078,"node_id":"MDU6TGFiZWwyMzc5OTkxMDc4","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/maDLC","name":"maDLC","color":"96001b","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2022-05-14T04:46:11Z","updated_at":"2022-05-20T09:06:06Z","closed_at":"2022-05-20T09:06:06Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nWhen I analyze my video well，these files were generated.and\r\n![image](https://user-images.githubusercontent.com/103829351/168410734-4f51b4db-114b-4624-8405-95245e388464.png)\r\nThen I performed the refinetracklets step, refining the tracking points in the video. clicke save and filter track.\r\n![image](https://user-images.githubusercontent.com/103829351/168410812-c9cd9af7-6ff7-4955-b39c-8d984f1ca58f.png)\r\n \r\nnext,create video with [use filtered predictions]\r\n![image](https://user-images.githubusercontent.com/103829351/168410856-63386db5-e557-41fa-9e46-50c1703382ab.png)\r\n\r\nUnfortunately, I got the error message.\r\n![image](https://user-images.githubusercontent.com/103829351/168410896-648ea286-54a2-4027-ba3a-5f20949e84a8.png)\r\n\r\nBut the filtered file is already there.\r\n![image](https://user-images.githubusercontent.com/103829351/168410916-fdd27e1c-d37e-4517-b477-9cc80aa30a7c.png)\r\n\r\ncould you help me! Any help would be greatly appreciated!\n\n### Operating System\n\noperating system：windows 10\n\n### DeepLabCut version\n\ndlc version：2.2.1\n\n### DeepLabCut mode\n\nmulti animal\n\n### Device type\n\ngpu\n\n### Steps To Reproduce\n\n_No response_\n\n### Relevant log output\n\n```shell\n(base) PS C:\\Users\\Administrator> conda activate DLC-221\r\n(DLC-221) PS C:\\Users\\Administrator> python -m deeplabcut\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\statsmodels\\compat\\pandas.py:65: FutureWarning: pandas.Int64Index is deprecated and will be removed from pandas in a future version. Use pandas.Index with the appropriate dtype instead.\r\n  from pandas import Int64Index as NumericIndex\r\n\r\n\r\nStarting GUI...\r\nDLC network loading and video analysis starting ...\r\nUsing snapshot-500000 for model E:\\social-02-2021-10-24\\dlc-models\\iteration-0\\socialOct24-trainset95shuffle1\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\base_layer_v1.py:1694: UserWarning: `layer.apply` is deprecated and will be removed in a future version. Please use `layer.__call__` method instead.\r\n  warnings.warn('`layer.apply` is deprecated and '\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\tf_slim\\layers\\layers.py:684: UserWarning: `layer.apply` is deprecated and will be removed in a future version. Please use `layer.__call__` method instead.\r\n  outputs = layer.apply(inputs, training=is_training)\r\n\r\n\r\nActivating extracting of PAFs\r\n2022-05-14 12:07:31.849114: I tensorflow/core/platform/cpu_feature_guard.cc:151] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX AVX2\r\nTo enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\n2022-05-14 12:07:32.230363: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1525] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 9622 MB memory:  -> device: 0, name: NVIDIA GeForce RTX 3060, pci bus id: 0000:01:00.0, compute capability: 8.6\r\nNo video(s) were found. Please check your paths and/or 'video_type'.\r\nNo video(s) were found. Please check your paths and/or 'videotype'.\r\nAll H5 files were converted to CSV.\r\nNo videos found. Make sure you passed a list of videos and that *videotype* is right.\r\n\r\n\r\nDLC network loading and video analysis starting ...\r\nUsing snapshot-500000 for model E:\\social-02-2021-10-24\\dlc-models\\iteration-0\\socialOct24-trainset95shuffle1\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\base_layer_v1.py:1694: UserWarning: `layer.apply` is deprecated and will be removed in a future version. Please use `layer.__call__` method instead.\r\n  warnings.warn('`layer.apply` is deprecated and '\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\tf_slim\\layers\\layers.py:684: UserWarning: `layer.apply` is deprecated and will be removed in a future version. Please use `layer.__call__` method instead.\r\n  outputs = layer.apply(inputs, training=is_training)\r\nActivating extracting of PAFs\r\n2022-05-14 12:08:32.412507: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1525] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 9622 MB memory:  -> device: 0, name: NVIDIA GeForce RTX 3060, pci bus id: 0000:01:00.0, compute capability: 8.6\r\n\r\n\r\nStarting to analyze %  E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2s.mp4\r\nLoading  E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2s.mp4\r\nDuration of video [s]:  2.0 , recorded with  30.0 fps!\r\nOverall # of frames:  60  found with (before cropping) frame dimensions:  1072 1024\r\nStarting to extract posture from the video(s) with batchsize: 8\r\n  0%|                                                                                           | 0/60 [00:00<?, ?it/s]2022-05-14 12:08:34.474719: I tensorflow/stream_executor/cuda/cuda_dnn.cc:368] Loaded cuDNN version 8201\r\n100%|██████████████████████████████████████████████████████████████████████████████████| 60/60 [01:27<00:00,  1.45s/it]\r\nVideo Analyzed. Saving results in E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos...\r\nUsing snapshot-500000 for model E:\\social-02-2021-10-24\\dlc-models\\iteration-0\\socialOct24-trainset95shuffle1\r\n\r\nProcessing...  E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2s.mp4\r\nAnalyzing E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2sDLC_dlcrnetms5_socialOct24shuffle1_500000.h5\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\lib\\inferenceutils.py:256: UserWarning: The network was not trained with identity; setting `identity_only` to False.\r\n  warnings.warn(\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\lib\\inferenceutils.py:309: UserWarning: The assembler could not be robustly calibrated. Continuing without it...\r\n  warnings.warn(\r\n60it [00:00, 99.44it/s]\r\n60it [00:00, 6038.73it/s]\r\nThe tracklets were created (i.e., under the hood deeplabcut.convert_detections2tracklets was run). Now you can 'refine_tracklets' in the GUI, or run 'deeplabcut.stitch_tracklets'.\r\nProcessing...  E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2s.mp4\r\n100%|████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<?, ?it/s]\r\n\r\n\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py:674: UserWarning: No optimal solution found. Employing black magic...\r\n  warnings.warn(\"No optimal solution found. Employing black magic...\")\r\nThe videos are analyzed. Time to assemble animals and track 'em...\r\n Call 'create_video_with_all_detections' to check multi-animal detection quality before tracking.\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function 'extract_outlier_frames' to extract a few representative outlier frames.\r\nCreating labeled video for  2s\r\n100%|██████████████████████████████████████████████████████████████████████████████████| 60/60 [00:04<00:00, 12.53it/s]\r\nFiltering with median model E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2s.mp4\r\nSaving filtered csv poses!\r\nFound output file for scorer: DLC_dlcrnetms5_socialOct24shuffle1_500000_el\r\nConverting E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2sDLC_dlcrnetms5_socialOct24shuffle1_500000_el.h5...\r\nFound output file for scorer: DLC_dlcrnetms5_socialOct24shuffle1_500000_el_filtered\r\nConverting E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2sDLC_dlcrnetms5_socialOct24shuffle1_500000_el_filtered.h5...\r\nAll H5 files were converted to CSV.\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\deeplabcut\\gui\\refine_tracklets.py\", line 317, in refine_tracklets\r\n    dest = str(Path(self.video).parents[0])\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\pathlib.py\", line 621, in __getitem__\r\n    raise IndexError(idx)\r\nIndexError: 0\r\nProcessing...  E:\\FreeSocialTest\\FSoT-01-2022-04-21\\videos\\2s.mp4\r\n100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<?, ?it/s]\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\stitch.py:674: UserWarning: No optimal solution found. Employing black magic...\r\n  warnings.warn(\"No optimal solution found. Employing black magic...\")\r\nDLC network loading and video analysis starting ...\r\nUsing snapshot-500000 for model E:\\social-02-2021-10-24\\dlc-models\\iteration-0\\socialOct24-trainset95shuffle1\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\base_layer_v1.py:1694: UserWarning: `layer.apply` is deprecated and will be removed in a future version. Please use `layer.__call__` method instead.\r\n  warnings.warn('`layer.apply` is deprecated and '\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\tf_slim\\layers\\layers.py:684: UserWarning: `layer.apply` is deprecated and will be removed in a future version. Please use `layer.__call__` method instead.\r\n  outputs = layer.apply(inputs, training=is_training)\r\nActivating extracting of PAFs\r\n2022-05-14 12:15:45.867871: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1525] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 9622 MB memory:  -> device: 0, name: NVIDIA GeForce RTX 3060, pci bus id: 0000:01:00.0, compute capability: 8.6\r\nStarting to analyze %  E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4\r\nLoading  E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4\r\nDuration of video [s]:  2.0 , recorded with  30.0 fps!\r\nOverall # of frames:  60  found with (before cropping) frame dimensions:  1020 1024\r\nStarting to extract posture from the video(s) with batchsize: 8\r\n100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 60/60 [00:08<00:00,  7.43it/s]\r\nVideo Analyzed. Saving results in E:\\social-02-2021-10-24\\videos...\r\nUsing snapshot-500000 for model E:\\social-02-2021-10-24\\dlc-models\\iteration-0\\socialOct24-trainset95shuffle1\r\nProcessing...  E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4\r\nAnalyzing E:\\social-02-2021-10-24\\videos\\2s_M1M22123DLC_dlcrnetms5_socialOct24shuffle1_500000.h5\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\lib\\inferenceutils.py:256: UserWarning: The network was not trained with identity; setting `identity_only` to False.\r\n  warnings.warn(\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\lib\\inferenceutils.py:309: UserWarning: The assembler \r\n\r\ncould not be robustly calibrated. Continuing without it...\r\n  warnings.warn(\r\n60it [00:00, 235.90it/s]\r\n60it [00:00, 3759.91it/s]\r\nThe tracklets were created (i.e., under the hood deeplabcut.convert_detections2tracklets was run). Now you can 'refine_tracklets' in the GUI, or run 'deeplabcut.stitch_tracklets'.\r\nProcessing...  E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4\r\n100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2/2 [00:00<?, ?it/s]\r\nThe videos are analyzed. Time to assemble animals and track 'em...\r\n Call 'create_video_with_all_detections' to check multi-animal detection quality before tracking.\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function 'extract_outlier_frames' to extract a few representative outlier frames.\r\nCreating labeled video for  2s_M1M22123\r\n100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 60/60 [00:00<00:00, 93.70it/s]\r\nFound output file for scorer: DLC_dlcrnetms5_socialOct24shuffle1_500000_el\r\nConverting E:\\social-02-2021-10-24\\videos\\2s_M1M22123DLC_dlcrnetms5_socialOct24shuffle1_500000_el.h5...\r\nAll H5 files were converted to CSV.\r\n\r\n\r\nLoading  E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4 and data.\r\nPlots created! Please check the directory \"plot-poses\" within the video directory\r\nProcessing...  E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4\r\n100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2/2 [00:00<?, ?it/s]\r\nFiltering with median model E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4\r\nSaving filtered csv poses!\r\n\r\n\r\nCreating a video with the Default tracker method!\r\nC:\\ProgramData\\Anaconda3\\envs\\DLC-221\\lib\\site-packages\\statsmodels\\compat\\pandas.py:65: FutureWarning: pandas.Int64Index is deprecated and will be removed from pandas in a future version. Use pandas.Index with the appropriate dtype instead.\r\n  from pandas import Int64Index as NumericIndex\r\nStarting to process video: E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4\r\nLoading E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4 and data.\r\nNo filtered data file found in E:\\social-02-2021-10-24\\videos for video 2s_M1M22123 and scorer DLC_dlcrnetms5_socialOct24shuffle1_500000 and ellipse tracker.\r\nLoading  E:\\social-02-2021-10-24\\videos\\2s_M1M22123.mp4 and data.\r\nNo filtered data file found in E:\\social-02-2021-10-24\\videos for video 2s_M1M22123 and scorer DLC_dlcrnetms5_socialOct24shuffle1_500000 and ellipse tracker.\r\nCall \"deeplabcut.stitch_tracklets()\" prior to plotting the trajectories.\r\nPlots could not be created! Videos were not evaluated with the current scorer DLC_dlcrnetms5_socialOct24shuffle1_500000.\n```\n\n\n### Anything else?\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1832/timeline","performed_via_github_app":null,"state_reason":"completed"}