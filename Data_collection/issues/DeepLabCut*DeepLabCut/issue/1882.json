{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1882","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1882/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1882/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1882/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1882","id":1273776830,"node_id":"I_kwDOB5BM6c5L7Eq-","number":1882,"title":"Analyzing only running to 99%","user":{"login":"esmall2023","id":86076632,"node_id":"MDQ6VXNlcjg2MDc2NjMy","avatar_url":"https://avatars.githubusercontent.com/u/86076632?v=4","gravatar_id":"","url":"https://api.github.com/users/esmall2023","html_url":"https://github.com/esmall2023","followers_url":"https://api.github.com/users/esmall2023/followers","following_url":"https://api.github.com/users/esmall2023/following{/other_user}","gists_url":"https://api.github.com/users/esmall2023/gists{/gist_id}","starred_url":"https://api.github.com/users/esmall2023/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/esmall2023/subscriptions","organizations_url":"https://api.github.com/users/esmall2023/orgs","repos_url":"https://api.github.com/users/esmall2023/repos","events_url":"https://api.github.com/users/esmall2023/events{/privacy}","received_events_url":"https://api.github.com/users/esmall2023/received_events","type":"User","site_admin":false},"labels":[{"id":1879321745,"node_id":"MDU6TGFiZWwxODc5MzIxNzQ1","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/Another%20package%20code%20issue","name":"Another package code issue","color":"91ff89","default":false,"description":"Bug/issue that relates to a dlc dependency"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2022-06-16T16:06:25Z","updated_at":"2022-07-21T07:55:32Z","closed_at":"2022-07-21T07:55:12Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nI've trained my network 3 separate times, but when I try to analyze new videos (within a folder), it seems to only analyze some of the vidoes to 99%, not creating any of the supplementary files such as the csv, pickle, or h5 files. \n\n### Operating System\n\noperating system \r\n\r\n- running the project through a GPU node with 32gb memory\r\n\r\n-This is through my college's high performance computing linux server\n\n### DeepLabCut version\n\ndlc version 2.2.1\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\ngpu with 32gb memory\n\n### Steps To Reproduce\n\n1. Run analyze_videos with configuration path, video folder path, and videotype of 'mkv' through linux server\r\n2. Produces the following results\r\n<img width=\"1083\" alt=\"Screen Shot 2022-06-16 at 11 43 42 AM\" src=\"https://user-images.githubusercontent.com/86076632/174112246-0cd003f9-14cc-413b-a0d9-15845bfa53ea.png\">\r\n\r\n\r\n\r\n\n\n### Relevant log output\n\n```shell\nStarting to analyze %  /mnt/research/hhorch/esmall2/Explore-the-space/Stimuli-videos/Stimulus1/2020-11-03 11-16-35 201014S2F1 stim01-2.mkv\r\nLoading  /mnt/research/hhorch/esmall2/Explore-the-space/Stimuli-videos/Stimulus1/2020-11-03 11-16-35 201014S2F1 stim01-2.mkv\r\nDuration of video [s]:  182.88 , recorded with  60.0 fps!\r\nOverall # of frames:  10973  found with (before cropping) frame dimensions:  1280 720\r\nStarting to extract posture\r\n\r\n  0%|          | 0/10973 [00:00<?, ?it/s]\r\n  1%|          | 109/10973 [00:02<04:02, 44.78it/s]\r\n  2%|▏         | 218/10973 [00:04<04:07, 43.50it/s]\r\n  3%|▎         | 327/10973 [00:07<03:59, 44.42it/s]\r\n  4%|▍         | 436/10973 [00:09<04:00, 43.81it/s]\r\n  5%|▍         | 545/10973 [00:12<03:59, 43.50it/s]\r\n  6%|▌         | 654/10973 [00:14<03:52, 44.29it/s]\r\n  7%|▋         | 763/10973 [00:17<03:52, 43.83it/s]\r\n  8%|▊         | 872/10973 [00:19<03:51, 43.56it/s]\r\n  9%|▉         | 981/10973 [00:22<03:45, 44.28it/s]\r\n 10%|▉         | 1090/10973 [00:24<03:45, 43.86it/s]\r\n 11%|█         | 1199/10973 [00:27<03:39, 44.46it/s]\r\n 12%|█▏        | 1308/10973 [00:29<03:39, 43.99it/s]\r\n 13%|█▎        | 1417/10973 [00:32<03:38, 43.68it/s]\r\n 14%|█▍        | 1526/10973 [00:34<03:33, 44.29it/s]\r\n 15%|█▍        | 1635/10973 [00:37<03:32, 43.87it/s]\r\n 16%|█▌        | 1744/10973 [00:39<03:31, 43.56it/s]\r\n 17%|█▋        | 1853/10973 [00:42<03:26, 44.22it/s]\r\n 18%|█▊        | 1962/10973 [00:44<03:25, 43.78it/s]\r\n 19%|█▉        | 2071/10973 [00:47<03:20, 44.34it/s]\r\n 20%|█▉        | 2180/10973 [00:49<03:20, 43.87it/s]\r\n 21%|██        | 2289/10973 [00:52<03:19, 43.52it/s]\r\n 22%|██▏       | 2398/10973 [00:54<03:14, 44.13it/s]\r\n 23%|██▎       | 2507/10973 [00:57<03:13, 43.70it/s]\r\n 24%|██▍       | 2616/10973 [00:59<03:12, 43.42it/s]\r\n 25%|██▍       | 2725/10973 [01:02<03:07, 44.08it/s]\r\n 26%|██▌       | 2834/10973 [01:04<03:06, 43.66it/s]\r\n 27%|██▋       | 2943/10973 [01:06<03:01, 44.24it/s]\r\n 28%|██▊       | 3052/10973 [01:09<03:00, 43.78it/s]\r\n 29%|██▉       | 3161/10973 [01:12<02:59, 43.46it/s]\r\n 30%|██▉       | 3270/10973 [01:14<02:54, 44.08it/s]\r\n 31%|███       | 3379/10973 [01:16<02:53, 43.67it/s]\r\n 32%|███▏      | 3488/10973 [01:19<02:52, 43.39it/s]\r\n 33%|███▎      | 3597/10973 [01:21<02:47, 44.06it/s]\r\n 34%|███▍      | 3706/10973 [01:24<02:46, 43.67it/s]\r\n 35%|███▍      | 3815/10973 [01:26<02:41, 44.23it/s]\r\n 36%|███▌      | 3924/10973 [01:29<02:41, 43.78it/s]\r\n 37%|███▋      | 4033/10973 [01:31<02:39, 43.46it/s]\r\n 38%|███▊      | 4142/10973 [01:34<02:34, 44.11it/s]\r\n 39%|███▊      | 4251/10973 [01:36<02:33, 43.70it/s]\r\n 40%|███▉      | 4360/10973 [01:39<02:32, 43.44it/s]\r\n 41%|████      | 4469/10973 [01:41<02:27, 44.08it/s]\r\n 42%|████▏     | 4578/10973 [01:44<02:26, 43.67it/s]\r\n 43%|████▎     | 4687/10973 [01:46<02:21, 44.27it/s]\r\n 44%|████▎     | 4796/10973 [01:49<02:21, 43.79it/s]\r\n 45%|████▍     | 4905/10973 [01:51<02:19, 43.49it/s]\r\n 46%|████▌     | 5014/10973 [01:54<02:15, 44.11it/s]\r\n 47%|████▋     | 5123/10973 [01:56<02:13, 43.70it/s]\r\n 48%|████▊     | 5232/10973 [01:59<02:12, 43.42it/s]\r\n 49%|████▊     | 5341/10973 [02:01<02:07, 44.06it/s]\r\n 50%|████▉     | 5450/10973 [02:04<02:06, 43.68it/s]\r\n 51%|█████     | 5559/10973 [02:06<02:02, 44.24it/s]\r\n 52%|█████▏    | 5668/10973 [02:09<02:01, 43.79it/s]\r\n 53%|█████▎    | 5777/10973 [02:11<01:59, 43.47it/s]\r\n 54%|█████▎    | 5886/10973 [02:14<01:55, 44.12it/s]\r\n 55%|█████▍    | 5995/10973 [02:16<01:53, 43.69it/s]\r\n 56%|█████▌    | 6104/10973 [02:19<01:52, 43.42it/s]\r\n 57%|█████▋    | 6213/10973 [02:21<01:48, 44.07it/s]\r\n 58%|█████▊    | 6322/10973 [02:24<01:46, 43.65it/s]\r\n 59%|█████▊    | 6431/10973 [02:26<01:42, 44.23it/s]\r\n 60%|█████▉    | 6540/10973 [02:29<01:41, 43.77it/s]\r\n 61%|██████    | 6649/10973 [02:31<01:39, 43.46it/s]\r\n 62%|██████▏   | 6758/10973 [02:34<01:35, 44.08it/s]\r\n 63%|██████▎   | 6867/10973 [02:36<01:34, 43.68it/s]\r\n 64%|██████▎   | 6976/10973 [02:39<01:32, 43.40it/s]\r\n 65%|██████▍   | 7085/10973 [02:41<01:28, 44.04it/s]\r\n 66%|██████▌   | 7194/10973 [02:44<01:26, 43.64it/s]\r\n 67%|██████▋   | 7303/10973 [02:46<01:23, 44.21it/s]\r\n 68%|██████▊   | 7412/10973 [02:49<01:21, 43.75it/s]\r\n 69%|██████▊   | 7521/10973 [02:51<01:19, 43.44it/s]\r\n 70%|██████▉   | 7630/10973 [02:53<01:15, 44.08it/s]\r\n 71%|███████   | 7739/10973 [02:56<01:14, 43.66it/s]\r\n 72%|███████▏  | 7848/10973 [02:59<01:12, 43.37it/s]\r\n 73%|███████▎  | 7957/10973 [03:01<01:08, 44.03it/s]\r\n 74%|███████▎  | 8066/10973 [03:04<01:06, 43.64it/s]\r\n 75%|███████▍  | 8175/10973 [03:06<01:03, 44.22it/s]\r\n 75%|███████▌  | 8284/10973 [03:08<01:01, 43.74it/s]\r\n 76%|███████▋  | 8393/10973 [03:11<00:59, 43.45it/s]\r\n 77%|███████▋  | 8502/10973 [03:13<00:56, 44.04it/s]\r\n 78%|███████▊  | 8611/10973 [03:16<00:54, 43.64it/s]\r\n 79%|███████▉  | 8720/10973 [03:19<00:51, 43.34it/s]\r\n 80%|████████  | 8829/10973 [03:21<00:48, 43.96it/s]\r\n 81%|████████▏ | 8938/10973 [03:23<00:46, 43.57it/s]\r\n 82%|████████▏ | 9047/10973 [03:26<00:43, 44.16it/s]\r\n 83%|████████▎ | 9156/10973 [03:28<00:41, 43.70it/s]\r\n 84%|████████▍ | 9265/10973 [03:31<00:39, 43.38it/s]\r\n 85%|████████▌ | 9374/10973 [03:33<00:36, 44.01it/s]\r\n 86%|████████▋ | 9483/10973 [03:36<00:34, 43.56it/s]\r\n 87%|████████▋ | 9592/10973 [03:38<00:31, 43.30it/s]\r\n 88%|████████▊ | 9701/10973 [03:41<00:28, 43.96it/s]\r\n 89%|████████▉ | 9810/10973 [03:43<00:26, 43.56it/s]\r\n 90%|█████████ | 9919/10973 [03:46<00:23, 44.16it/s]\r\n 91%|█████████▏| 10028/10973 [03:48<00:21, 43.69it/s]\r\n 92%|█████████▏| 10137/10973 [03:51<00:19, 43.39it/s]\r\n 93%|█████████▎| 10246/10973 [03:53<00:16, 44.00it/s]\r\n 94%|█████████▍| 10355/10973 [03:56<00:14, 43.54it/s]\r\n 95%|█████████▌| 10464/10973 [03:58<00:11, 43.25it/s]\r\n 96%|█████████▋| 10573/10973 [04:01<00:09, 43.94it/s]\r\n 97%|█████████▋| 10682/10973 [04:03<00:06, 43.57it/s]\r\n 98%|█████████▊| 10791/10973 [04:06<00:04, 44.16it/s]\r\n 99%|█████████▉| 10900/10973 [04:08<00:01, 43.70it/s]\r\n 99%|█████████▉| 10900/10973 [04:10<00:01, 43.49it/s]\r\n\r\nAnd it stops here\n```\n\n\n### Anything else?\n\nOther notes:\r\n- All videos are .mkv files \r\n- Most of the videos in the folder are a similar number of frames with similar video quality etc, and work perfectly fine, generating the csv, h5, and pickle files\r\n\r\nIn relation to similar issues people have had:\r\n- I tried searching for similar issues, but because all of the files are .mkv, I can't upload them to any video editing software\r\n- I also tried using the VideoReader, but I can't install ffmpeg because I am running this all through my school's linux server\r\n\r\nQuestions for solutions:\r\n- is there an alternative way to check if videos are corrupt? and is there an alternative way to fix them?\r\n- Why does it only have an issue with the remaining 1% of frames for all of the unanalyzed videos?\r\n\r\n\r\nPlease let me know if I am missing any crucial information that would help! Thank you so much for your help!!\n\n### Code of Conduct\n\n- [x] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1882/timeline","performed_via_github_app":null,"state_reason":"completed"}