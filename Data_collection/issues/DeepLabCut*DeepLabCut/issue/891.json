{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/891","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/891/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/891/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/891/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/891","id":696072663,"node_id":"MDU6SXNzdWU2OTYwNzI2NjM=","number":891,"title":"When running plotting = True get 'The filename or extension is too long' error","user":{"login":"wweertman","id":65740666,"node_id":"MDQ6VXNlcjY1NzQwNjY2","avatar_url":"https://avatars.githubusercontent.com/u/65740666?v=4","gravatar_id":"","url":"https://api.github.com/users/wweertman","html_url":"https://github.com/wweertman","followers_url":"https://api.github.com/users/wweertman/followers","following_url":"https://api.github.com/users/wweertman/following{/other_user}","gists_url":"https://api.github.com/users/wweertman/gists{/gist_id}","starred_url":"https://api.github.com/users/wweertman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wweertman/subscriptions","organizations_url":"https://api.github.com/users/wweertman/orgs","repos_url":"https://api.github.com/users/wweertman/repos","events_url":"https://api.github.com/users/wweertman/events{/privacy}","received_events_url":"https://api.github.com/users/wweertman/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-09-08T18:03:20Z","updated_at":"2020-09-08T20:37:56Z","closed_at":"2020-09-08T20:37:56Z","author_association":"NONE","active_lock_reason":null,"body":"Thanks for opening this issue, and thanks for using DeepLabCut (we hope you are enjoying it ;). \r\nPlease fill out the template completely, including the full \"TRACEBACK\" and input code that you ran to hit this error.\r\n\r\n**Describe the bug**\r\n\r\nWhen I run deeplabcut.evaluate_network(path_config, plotting = True) I get FileNotFoundError: [WinError 206] The filename or extension is too long. Additionally, only the .h5 file file is created in the evaluation-results folder, no .csv file is created. If I run with plotting = False the .csv file gets created (so the filename error is hit before the .csv file is created). \r\n\r\nA clear and concise description of what the bug is. \r\nPlease provide the minimal required code to reproduce the error and the full output (please edit ONLY the section below that says `PLACE YOUR CODE HERE!!! `.\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: [e.g. Windows10, MacOS version, Linux, etc.]\r\n - DeepLabCut Version [e.g. 22] (please check with ``import deeplabcut``, ``deeplabcut.__version__``)\r\n - Browser, if applicable [e.g. chrome, safari]\r\n\r\nOS: Windows 10 Pro\r\nDeeplabcut version:  2.1.6.3 \r\nBrowser: Chrome\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior, i.e.:\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. the input code you used (i.e. `deeplabcut.train_network( .... )`)\r\n4. See error:\r\n\r\n<details><summary>TRACEBACK</summary><p>\r\n\r\n```python\r\n\r\nPlease place code inside this!!!\r\nPLACE YOUR CODE HERE!!!  \r\n\r\npath_config = r\"C:\\Users\\wlwee\\Documents\\python\\fhl_flume_dlc\\MODELS\\eyes_and_mantle_tip-weertman-2020-09-05\\config.yaml\"\r\n\r\ndeeplabcut.evaluate_network(path_config, \r\n                            plotting = True)\r\n\r\n```\r\n</p></details>\r\n\r\ndeeplabcut.evaluate_network(path_config, plotting = True)\r\nConfig:\r\n{'all_joints': [[0], [1], [2]],\r\n 'all_joints_names': ['left_eye', 'right_eye', 'mantle_tip'],\r\n 'batch_size': 1,\r\n 'bottomheight': 400,\r\n 'crop': True,\r\n 'crop_pad': 0,\r\n 'cropratio': 0.4,\r\n 'dataset': 'training-datasets\\\\iteration-0\\\\UnaugmentedDataSet_eyes_and_mantle_tipSep5\\\\eyes_and_mantle_tip_weertman95shuffle1.mat',\r\n 'dataset_type': 'default',\r\n 'deconvolutionstride': 2,\r\n 'deterministic': False,\r\n 'display_iters': 1000,\r\n 'fg_fraction': 0.25,\r\n 'global_scale': 0.8,\r\n 'init_weights': 'C:\\\\Users\\\\wlwee\\\\Anaconda3\\\\envs\\\\DLC-GPU\\\\lib\\\\site-packages\\\\deeplabcut\\\\pose_estimation_tensorflow\\\\models\\\\pretrained\\\\resnet_v1_50.ckpt',\r\n 'intermediate_supervision': False,\r\n 'intermediate_supervision_layer': 12,\r\n 'leftwidth': 400,\r\n 'location_refinement': True,\r\n 'locref_huber_loss': True,\r\n 'locref_loss_weight': 0.05,\r\n 'locref_stdev': 7.2801,\r\n 'log_dir': 'log',\r\n 'max_input_size': 1500,\r\n 'mean_pixel': [123.68, 116.779, 103.939],\r\n 'metadataset': 'training-datasets\\\\iteration-0\\\\UnaugmentedDataSet_eyes_and_mantle_tipSep5\\\\Documentation_data-eyes_and_mantle_tip_95shuffle1.pickle',\r\n 'min_input_size': 64,\r\n 'minsize': 100,\r\n 'mirror': False,\r\n 'multi_step': [[0.005, 10000],\r\n                [0.02, 430000],\r\n                [0.002, 730000],\r\n                [0.001, 1030000]],\r\n 'net_type': 'resnet_50',\r\n 'num_joints': 3,\r\n 'optimizer': 'sgd',\r\n 'output_stride': 16,\r\n 'pos_dist_thresh': 17,\r\n 'project_path': 'C:\\\\Users\\\\wlwee\\\\Documents\\\\python\\\\fhl_flume_dlc\\\\MODELS\\\\eyes_and_mantle_tip-weertman-2020-09-05',\r\n 'regularize': False,\r\n 'rightwidth': 400,\r\n 'save_iters': 50000,\r\n 'scale_jitter_lo': 0.5,\r\n 'scale_jitter_up': 1.25,\r\n 'scoremap_dir': 'test',\r\n 'shuffle': True,\r\n 'snapshot_prefix': 'C:\\\\Users\\\\wlwee\\\\Documents\\\\python\\\\fhl_flume_dlc\\\\MODELS\\\\eyes_and_mantle_tip-weertman-2020-09-05\\\\dlc-models\\\\iteration-0\\\\eyes_and_mantle_tipSep5-trainset95shuffle1\\\\test\\\\snapshot',\r\n 'stride': 8.0,\r\n 'topheight': 400,\r\n 'weigh_negatives': False,\r\n 'weigh_only_present_joints': False,\r\n 'weigh_part_predictions': False,\r\n 'weight_decay': 0.0001}\r\nRunning  DLC_resnet50_eyes_and_mantle_tipSep5shuffle1_300000  with # of trainingiterations: 300000\r\nInitializing ResNet\r\nINFO:tensorflow:Restoring parameters from C:\\Users\\wlwee\\Documents\\python\\fhl_flume_dlc\\MODELS\\eyes_and_mantle_tip-weertman-2020-09-05\\dlc-models\\iteration-0\\eyes_and_mantle_tipSep5-trainset95shuffle1\\train\\snapshot-300000\r\n0it [00:00, ?it/s]Analyzing data...\r\n329it [00:57,  5.76it/s]\r\nDone and results stored for snapshot:  snapshot-300000\r\nResults for 300000  training iterations: 95 1 train error: 2.36 pixels. Test error: 3.26  pixels.\r\nWith pcutoff of 0.6  train error: 2.36 pixels. Test error: 3.26 pixels\r\nThereby, the errors are given by the average distances between the labels by DLC and the scorer.\r\nPlotting...\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-19-9370bd4d741b>\", line 1, in <module>\r\n    deeplabcut.evaluate_network(path_config, plotting = True)\r\n\r\n  File \"C:\\Users\\wlwee\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\pose_estimation_tensorflow\\evaluate.py\", line 385, in evaluate_network\r\n    auxiliaryfunctions.attempttomakefolder(foldername)\r\n\r\n  File \"C:\\Users\\wlwee\\Anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\utils\\auxiliaryfunctions.py\", line 187, in attempttomakefolder\r\n    os.mkdir(foldername)\r\n\r\nFileNotFoundError: [WinError 206] The filename or extension is too long: 'C:\\\\Users\\\\wlwee\\\\Documents\\\\python\\\\fhl_flume_dlc\\\\MODELS\\\\eyes_and_mantle_tip-weertman-2020-09-05\\\\evaluation-results\\\\iteration-0\\\\eyes_and_mantle_tipSep5-trainset95shuffle1\\\\LabeledImages_DLC_resnet50_eyes_and_mantle_tipSep5shuffle1_300000_snapshot-300000'\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\nplotting: bool, optional\r\n    Plots the predictions on the train and test images. The default is ``False``; if provided it must be either ``True`` or ``False``\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem. (but please post the code output above!)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n\r\nThe images I am analyzing have a resolution of 1920x1200 so perhaps I need to change the max input size?\r\n","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/891/timeline","performed_via_github_app":null,"state_reason":"completed"}