{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2030","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2030/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2030/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2030/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/2030","id":1430165728,"node_id":"I_kwDOB5BM6c5VPpjg","number":2030,"title":"Model export results in incorrect inference output","user":{"login":"dominusLabs","id":46234492,"node_id":"MDQ6VXNlcjQ2MjM0NDky","avatar_url":"https://avatars.githubusercontent.com/u/46234492?v=4","gravatar_id":"","url":"https://api.github.com/users/dominusLabs","html_url":"https://github.com/dominusLabs","followers_url":"https://api.github.com/users/dominusLabs/followers","following_url":"https://api.github.com/users/dominusLabs/following{/other_user}","gists_url":"https://api.github.com/users/dominusLabs/gists{/gist_id}","starred_url":"https://api.github.com/users/dominusLabs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dominusLabs/subscriptions","organizations_url":"https://api.github.com/users/dominusLabs/orgs","repos_url":"https://api.github.com/users/dominusLabs/repos","events_url":"https://api.github.com/users/dominusLabs/events{/privacy}","received_events_url":"https://api.github.com/users/dominusLabs/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2022-10-31T16:54:54Z","updated_at":"2022-10-31T21:35:59Z","closed_at":"2022-10-31T18:08:59Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Bug description\r\n\r\nWhen I run model evaluation through DLC GUI, I get the expected output. However, after exporting the model like so:\r\n```\r\nimport deeplabcut\r\n\r\nconfigPath = 'C:\\\\Users\\\\user\\\\dice-experimenter-2022-10-31\\\\config.yaml'\r\ndeeplabcut.export_model(configPath)\r\n```\r\nthe inference output on the same image is very different.\r\n\r\nThis is the output for the `concat:0` tensor during evaluation through the DLC GUI for a particular image\r\n```\r\n[[19.64681318 34.91724157  0.99998426]\r\n [47.67369652 39.54975843  0.99995196]\r\n [26.5708791  61.89950466  0.99987972]\r\n [ 4.64226437 46.81770182  0.99987268]]\r\n```\r\n\r\nAfter running the snippet above to export the model, this is the output\r\n```\r\n[[13.053988  70.33874    0.6142439]\r\n [13.715715  97.30544    0.7299041]\r\n [47.45656   92.80279    0.8475074]\r\n [44.407116  68.63243    0.929145 ]]\r\n```\r\n\r\nAt first I thought the issue was with the way I was running the inference after exporting the model, but I modified the DLC library to attempt to do an inference while the export function was being called (since the graph is loaded in this function). The output was the same as the incorrect output. So it couldn't be the way I was doing the inference. \r\n\r\nThe first output is correct, the second one is not. I'm very confused what could be causing this. I've retrained and exported the model multiple times now, I even completely reinstalled DLC, but the issue persists. \r\n\r\n\r\n### Operating System\r\n\r\nWindows 10\r\n\r\n### DeepLabCut version\r\n\r\n2.2.3\r\n\r\n### DeepLabCut mode\r\n\r\nsingle animal\r\n\r\n### Device type\r\n\r\nRTX 2070 Super\r\n\r\n### Steps To Reproduce\r\n__No response__\r\n\r\n### Relevant log output\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"dominusLabs","id":46234492,"node_id":"MDQ6VXNlcjQ2MjM0NDky","avatar_url":"https://avatars.githubusercontent.com/u/46234492?v=4","gravatar_id":"","url":"https://api.github.com/users/dominusLabs","html_url":"https://github.com/dominusLabs","followers_url":"https://api.github.com/users/dominusLabs/followers","following_url":"https://api.github.com/users/dominusLabs/following{/other_user}","gists_url":"https://api.github.com/users/dominusLabs/gists{/gist_id}","starred_url":"https://api.github.com/users/dominusLabs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dominusLabs/subscriptions","organizations_url":"https://api.github.com/users/dominusLabs/orgs","repos_url":"https://api.github.com/users/dominusLabs/repos","events_url":"https://api.github.com/users/dominusLabs/events{/privacy}","received_events_url":"https://api.github.com/users/dominusLabs/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/2030/timeline","performed_via_github_app":null,"state_reason":"completed"}