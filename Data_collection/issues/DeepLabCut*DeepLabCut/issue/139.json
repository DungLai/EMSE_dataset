{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/139","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/139/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/139/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/139/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/139","id":387517386,"node_id":"MDU6SXNzdWUzODc1MTczODY=","number":139,"title":"labeled video not generated","user":{"login":"mdandola","id":22916421,"node_id":"MDQ6VXNlcjIyOTE2NDIx","avatar_url":"https://avatars.githubusercontent.com/u/22916421?v=4","gravatar_id":"","url":"https://api.github.com/users/mdandola","html_url":"https://github.com/mdandola","followers_url":"https://api.github.com/users/mdandola/followers","following_url":"https://api.github.com/users/mdandola/following{/other_user}","gists_url":"https://api.github.com/users/mdandola/gists{/gist_id}","starred_url":"https://api.github.com/users/mdandola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdandola/subscriptions","organizations_url":"https://api.github.com/users/mdandola/orgs","repos_url":"https://api.github.com/users/mdandola/repos","events_url":"https://api.github.com/users/mdandola/events{/privacy}","received_events_url":"https://api.github.com/users/mdandola/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-12-04T22:57:54Z","updated_at":"2021-08-27T08:47:34Z","closed_at":"2018-12-05T13:53:09Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\nfirst of all thanks for this awesome tool!\r\n\r\nI'm running DeepLabCut 2.0 on linux server, anaconda env.\r\n\r\nI trained the network correctly and analyzed a novel video with it (subfolder plot-poses and plot outputs created correctly). The problem occurs when I try to created the labeled video.\r\n\r\nThis is what I used:\r\n       import deeplabcut\r\n      config_path='mypath'\r\n      deeplabcut.create_labeled_video(config_path,['video_path/video.AVI'],delete=False)\r\n\r\nThis is the output i get in my command line:\r\n     Starting %  video_path ['/video_path/video.AVI']\r\n     Loading  video_path/video.AVI and data.\r\n     False 0 640 0 480\r\n     1865\r\n     Could not find encoder for codec id 27: Encoder not found\r\n     Duration of video [s]:  9.32 , recorded with  200.0 fps!\r\n     Overall # of frames:  1865 with cropped frame dimensions:  640 480\r\n     Generating frames and creating video.\r\n     100%| \r\n ██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1865/1865 [00:31<00:00, 59.77it/s]\r\n\r\n\r\nBu the video is not created in the folder \"video_path\". I looked up the error about the encoder, and I found that ffmpeg needs to be configured with --enable-glp and --enable-libx264. \r\n\r\n1. I tried to do it manually as reported here https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu\r\nbut nothing changed\r\n\r\n2. Then I removed apt installations of ffmpeg, libx264 and libx264-dev and tried to reinstall with conda install -c conda-forge ffmpeg, still nothing changed\r\n\r\n3. ffmpeg info of version installed after conda installation:\r\nffmpeg version 4.1 Copyright (c) 2000-2018 the FFmpeg developers\r\n  built with gcc 4.8.2 (GCC) 20140120 (Red Hat 4.8.2-15)\r\n  configuration: --prefix=/export/opt/anaconda2/envs/Tracking --disable-doc --disable-openssl --enable-shared --enable-static --extra-cflags='-Wall -g -m64 -pipe -O3 -march=x86-64 -fP        IC' --extra-cxxflags='-Wall -g -m64 -pipe -O3 -march=x86-64 -fPIC' --extra-libs='-lpthread -lm -lz' --enable-zlib --enable-pic --enable-pthreads --enable-gpl --enable-version3 --enabl        e-hardcoded-tables --enable-avresample --enable-libfreetype --enable-gnutls --enable-libx264 --enable-libopenh264\r\n  libavutil      56. 22.100 / 56. 22.100\r\n  libavcodec     58. 35.100 / 58. 35.100\r\n  libavformat    58. 20.100 / 58. 20.100\r\n  libavdevice    58.  5.100 / 58.  5.100\r\n  libavfilter     7. 40.101 /  7. 40.101\r\n  libavresample   4.  0.  0 /  4.  0.  0\r\n  libswscale      5.  3.100 /  5.  3.100\r\n  libswresample   3.  3.100 /  3.  3.100\r\n  libpostproc    55.  3.100 / 55.  3.100\r\nHyper fast Audio and Video encoder\r\n\r\nthus configuration should be ok.\r\nWhat am I missing? Any suggestion would be much appreciated, I'm really having troubles to find a solution for this.\r\n\r\nthank you!\r\n\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/139/timeline","performed_via_github_app":null,"state_reason":"completed"}