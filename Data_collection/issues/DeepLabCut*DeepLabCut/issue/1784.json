{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1784","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1784/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1784/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1784/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1784","id":1211650855,"node_id":"I_kwDOB5BM6c5IOFMn","number":1784,"title":"3D Create Labeled Video","user":{"login":"mendlen","id":28741288,"node_id":"MDQ6VXNlcjI4NzQxMjg4","avatar_url":"https://avatars.githubusercontent.com/u/28741288?v=4","gravatar_id":"","url":"https://api.github.com/users/mendlen","html_url":"https://github.com/mendlen","followers_url":"https://api.github.com/users/mendlen/followers","following_url":"https://api.github.com/users/mendlen/following{/other_user}","gists_url":"https://api.github.com/users/mendlen/gists{/gist_id}","starred_url":"https://api.github.com/users/mendlen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mendlen/subscriptions","organizations_url":"https://api.github.com/users/mendlen/orgs","repos_url":"https://api.github.com/users/mendlen/repos","events_url":"https://api.github.com/users/mendlen/events{/privacy}","received_events_url":"https://api.github.com/users/mendlen/received_events","type":"User","site_admin":false},"labels":[{"id":1313079487,"node_id":"MDU6TGFiZWwxMzEzMDc5NDg3","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/howtousedlc","name":"howtousedlc","color":"a1b3f4","default":false,"description":"issue regarding the use of DeepLabCut"},{"id":1932265427,"node_id":"MDU6TGFiZWwxOTMyMjY1NDI3","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/3D","name":"3D","color":"ddf952","default":false,"description":"questions/code issues regarding 3D DLC"}],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2022-04-21T23:35:29Z","updated_at":"2022-12-09T16:01:42Z","closed_at":"2022-05-12T15:59:07Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Bug description\r\n\r\nI'm running a 3D DLC project with two cameras.\r\n\r\nAfter successfully running all steps up to this point, I get an error when I run deeplabcut.create_labeled_video_3d(). I've tried playing with the start and end inputs, and reviewing my config files, and so far no luck finding the source of my problem. Any help would be greatly appreciated!\r\n\r\n\r\n### Operating System\r\n\r\nWindows 10\r\n\r\n\r\n### DeepLabCut mode\r\n\r\n3d\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n(DEEPLABCUT) C:\\Users\\madComp\\Desktop\\chaosdbsdlc3d\\VM05_3d\\COTask-Linea-2022-04-16-3d>python calibrate.py\r\nAnalyzing all the videos in the directory\r\n[['C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session001_0000_Linea.h5', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session001_leftCam-0000.mp4', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session001_rightCam-0000.mp4'], ['C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session002_0000_Linea.h5', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session002_leftCam-0000.mp4', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session002_rightCam-0000.mp4'], ['C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session003_0000_Linea.h5', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session003_leftCam-0000.mp4', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session003_rightCam-0000.mp4'], ['C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session004_0000_Linea.h5', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session004_leftCam-0000.mp4', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session004_rightCam-0000.mp4'], ['C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session005_0000_Linea.h5', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session005_leftCam-0000.mp4', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session005_rightCam-0000.mp4'], ['C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session006_0000_Linea.h5', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session006_leftCam-0000.mp4', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session006_rightCam-0000.mp4'], ['C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session007_0000_Linea.h5', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session007_leftCam-0000.mp4', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session007_rightCam-0000.mp4'], ['C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session008_0000_Linea.h5', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session008_leftCam-0000.mp4', 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled\\\\20211007_VM05_session008_rightCam-0000.mp4']]\r\nCreating 3D video from 20211007_VM05_session001_leftCam-0000.mp4 and 20211007_VM05_session001_rightCam-0000.mp4 using 20211007_VM05_session001_0000_Linea.h5\r\nLooking for filtered predictions...\r\nFound the following filtered data:  C:\\Users\\madComp\\Desktop\\chaosdbsdlc3d\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\*20211007_VM05_session001_leftCam-0000DLC_resnet50_COTaskOct18shuffle1_1030000*filtered.h5 C:\\Users\\madComp\\Desktop\\chaosdbsdlc3d\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\*20211007_VM05_session001_rightCam-0000DLC_resnet50_COTaskOct18shuffle1_1030000*filtered.h5\r\n  0%|                                                                                        | 0/20438 [00:00<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"calibrate.py\", line 35, in <module>\r\n    deeplabcut.create_labeled_video_3d(config_path3d, [triangulateFolder], videotype=\".mp4\")\r\n  File \"C:\\Users\\madComp\\anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\pose_estimation_3d\\plotting3D.py\", line 222, in create_labeled_video_3d\r\n    output_folder, num_frames = plot2D(\r\n  File \"C:\\Users\\madComp\\anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\deeplabcut\\pose_estimation_3d\\plotting3D.py\", line 354, in plot2D\r\n    axes3.set_xlim3d([np.nanmin(df_x), np.nanmax(df_x)])\r\n  File \"<__array_function__ internals>\", line 5, in nanmin\r\n  File \"C:\\Users\\madComp\\anaconda3\\envs\\DEEPLABCUT\\lib\\site-packages\\numpy\\lib\\nanfunctions.py\", line 319, in nanmin\r\n    res = np.fmin.reduce(a, axis=axis, out=out, **kwargs)\r\nValueError: zero-size array to reduction operation fmin which has no identity\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n**calibrate.py** (pls excuse the goofy file name)\r\n\r\n```\r\nimport deeplabcut\r\nconfig_path3d = 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2022-04-16-3d/config.yaml'\r\ntriangulateFolder = 'C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2021-10-18/videos/unlabeled'\r\ndeeplabcut.create_labeled_video_3d(config_path3d, [triangulateFolder], videotype=\".mp4\")\r\n```\r\n\r\n\r\n**2D config**\r\n```\r\n # Project definitions (do not edit)\r\nTask: COTask\r\nscorer: Linea\r\ndate: Oct18\r\nmultianimalproject: false\r\nidentity:\r\n\r\n    # Project path (change when moving around)\r\nproject_path: C:\\\\Users\\\\madComp\\\\Desktop\\\\chaosdbsdlc3d\\\\VM05_3d\\\\COTask-Linea-2021-10-18\r\n\r\n    # Annotation data set configuration (and individual video cropping parameters)\r\nvideo_sets:\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session001_leftCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session002_leftCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session003_leftCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session004_leftCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session005_leftCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session006_leftCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session007_leftCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session008_leftCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session001_rightCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session002_rightCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session003_rightCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session004_rightCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session005_rightCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session006_rightCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session007_rightCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n  C:\\Users\\madComp\\Desktop\\dbsdlc\\VM05_3d\\COTask-Linea-2021-10-18\\videos\\unlabeled\\20211007_VM05_session008_rightCam-0000.mp4:\r\n    crop: 0, 720, 0, 540\r\n\r\nbodyparts:\r\n- D2TIP\r\nstart: 0\r\nstop: 1\r\nnumframes2pick: 25\r\n\r\n    # Plotting configuration\r\nskeleton: []\r\nskeleton_color: black\r\npcutoff: 0.6\r\ndotsize: 3\r\nalphavalue: 0.7\r\ncolormap: rainbow\r\n\r\n    # Training,Evaluation and Analysis configuration\r\nTrainingFraction:\r\n- 0.95\r\niteration: 0\r\ndefault_net_type: resnet_50\r\ndefault_augmenter: default\r\nsnapshotindex: -1\r\nbatch_size: 8\r\n\r\n    # Cropping Parameters (for analysis and outlier frame detection)\r\ncropping: false\r\n    #if cropping is true for analysis, then set the values here:\r\nx1: 0\r\nx2: 640\r\ny1: 277\r\ny2: 624\r\n\r\n    # Refinement configuration (parameters from annotation dataset configuration also relevant in this stage)\r\ncorner2move2:\r\n- 50\r\n- 50\r\nmove2corner: true\r\n\r\n```\r\n\r\n**3D config**\r\n```\r\n# Project definitions (do not edit)\r\nTask: COTask\r\nscorer: Linea\r\ndate: Apr16\r\n\r\n# Project path (change when moving around)\r\nproject_path: C:/Users/madComp/Desktop/chaosdbsdlc3d/VM05_3d/COTask-Linea-2022-04-16-3d\r\n\r\n# Plotting configuration\r\nskeleton: []    # Note that the pairs must be defined, as you want them linked!\r\nskeleton_color: black\r\npcutoff: 0.6\r\ncolormap: jet\r\ndotsize: 3\r\nalphaValue: 0.7\r\nmarkerType: '*'\r\nmarkerColor: r\r\n\r\n# Number of cameras, camera names, path of the config files, shuffle index and trainingsetindex used to analyze videos:\r\nnum_cameras: 2\r\ncamera_names:\r\n- leftCam\r\n- rightCam\r\n\r\nscorername_3d: Linea # Enter the scorer name for the 3D output\r\ntrainingsetindex_leftCam: 0\r\ntrainingsetindex_rightCam: 0\r\nconfig_file_leftCam: C:\\\\Users\\\\madComp\\\\Desktop\\\\chaosdbsdlc3d\\\\VM05_3d\\\\COTask-Linea-2021-10-18\\\\config.yaml\r\nconfig_file_rightCam: C:\\\\Users\\\\madComp\\\\Desktop\\\\chaosdbsdlc3d\\\\VM05_3d\\\\COTask-Linea-2021-10-18\\\\config.yaml\r\nshuffle_leftCam: 1\r\nshuffle_rightCam: 1\r\n```\r\n\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1784/timeline","performed_via_github_app":null,"state_reason":"completed"}