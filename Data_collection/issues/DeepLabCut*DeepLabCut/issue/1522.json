{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1522","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1522/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1522/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1522/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1522","id":1013502196,"node_id":"I_kwDOB5BM6c48aND0","number":1522,"title":"Segmentation Error at K-Means Clustering running testscript.py (only on updated MacOS systems)","user":{"login":"lilstarhunter","id":47579642,"node_id":"MDQ6VXNlcjQ3NTc5NjQy","avatar_url":"https://avatars.githubusercontent.com/u/47579642?v=4","gravatar_id":"","url":"https://api.github.com/users/lilstarhunter","html_url":"https://github.com/lilstarhunter","followers_url":"https://api.github.com/users/lilstarhunter/followers","following_url":"https://api.github.com/users/lilstarhunter/following{/other_user}","gists_url":"https://api.github.com/users/lilstarhunter/gists{/gist_id}","starred_url":"https://api.github.com/users/lilstarhunter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lilstarhunter/subscriptions","organizations_url":"https://api.github.com/users/lilstarhunter/orgs","repos_url":"https://api.github.com/users/lilstarhunter/repos","events_url":"https://api.github.com/users/lilstarhunter/events{/privacy}","received_events_url":"https://api.github.com/users/lilstarhunter/received_events","type":"User","site_admin":false},"labels":[{"id":880550037,"node_id":"MDU6TGFiZWw4ODA1NTAwMzc=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/help%20wanted","name":"help wanted","color":"008672","default":true,"description":"Extra attention is needed"},{"id":1010467338,"node_id":"MDU6TGFiZWwxMDEwNDY3MzM4","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/Installation","name":"Installation","color":"ecfca6","default":false,"description":""},{"id":3416107796,"node_id":"LA_kwDOB5BM6c7LnasU","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/macos","name":"macos","color":"8F1058","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"assignees":[{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2021-10-01T15:50:19Z","updated_at":"2021-10-21T17:19:16Z","closed_at":"2021-10-21T13:40:48Z","author_association":"NONE","active_lock_reason":null,"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nUpon installation the GUI is able to open fine and create/load a project. However the GUI shuts down during the Extraction. I get the same error when running the testscript.py.\r\nThe error I receive is a segmentation fault. \r\n\r\nI did run `conda install python.ap` per #1341 in addition because the app wasn't launching initially.\n\n### Operating System\n\nMacOS Big Sur v11.4\r\nApple M1 Chip\n\n### DeepLabCut version\n\nDLC version 2.2.0.2\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\nCPU for extraction and labeling \r\nColab for training/testing\n\n### Steps To Reproduce\n\n**First here are my installation steps:**\r\n1. git clone repo to Downloads cd to conda-env\r\n2. downloaded Tensorflow-2.4.1-py3-none-any.whl\r\n3. Created the environment\r\n`conda env create -f DEEPLABCUT_M1.yaml`\r\n4. cd to Downloads to run\r\n`pip install tensorflow-2.4.1-py3-none-any.whl --no-dependencies --force-reinstall`\r\n\r\n**Code producing error:**\r\n\r\n5. `conda activate DEEPLABCUT_M1`\r\n6. Launch GUI: `pythonw -m deeplabcut`\r\nOR\r\n7. cd DeepLabCut/examples `pythonw testscript.py`\n\n### Relevant log output\n\n```shell\n(DEEPLABCUT_M1) laurenstein@vagelos-ve703-11391 examples % pythonw testscript.py\r\nImported DLC!\r\nOn Windows/OSX tensorpack is not tested by default.\r\nCREATING PROJECT\r\nCreated \"/Users/laurenstein/Desktop/GitHub/DeepLabCut/examples/TEST-Alex-2021-10-01/videos\"\r\nCreated \"/Users/laurenstein/Desktop/GitHub/DeepLabCut/examples/TEST-Alex-2021-10-01/labeled-data\"\r\nCreated \"/Users/laurenstein/Desktop/GitHub/DeepLabCut/examples/TEST-Alex-2021-10-01/training-datasets\"\r\nCreated \"/Users/laurenstein/Desktop/GitHub/DeepLabCut/examples/TEST-Alex-2021-10-01/dlc-models\"\r\nCopying the videos\r\n/Users/laurenstein/Desktop/GitHub/DeepLabCut/examples/TEST-Alex-2021-10-01/videos/reachingvideo1.avi\r\nGenerated \"/Users/laurenstein/Desktop/GitHub/DeepLabCut/examples/TEST-Alex-2021-10-01/config.yaml\"\r\n\r\nA new project with name TEST-Alex-2021-10-01 is created at /Users/laurenstein/Desktop/GitHub/DeepLabCut/examples and a configurable file (config.yaml) is stored there. Change the parameters in this file to adapt to your project's needs.\r\n Once you have changed the configuration file, use the function 'extract_frames' to select frames for labeling.\r\n. [OPTIONAL] Use the function 'add_new_videos' to add new videos to your project (at any stage).\r\nEXTRACTING FRAMES\r\nConfig file read successfully.\r\nExtracting frames based on kmeans ...\r\nKmeans-quantization based extracting of frames from 0.0  seconds to 8.53  seconds.\r\nExtracting and downsampling... 256  frames from the video.\r\n256it [00:01, 172.37it/s]\r\nKmeans clustering ... (this might take a while)\r\n/Users/laurenstein/opt/anaconda3/envs/DEEPLABCUT_M1/bin/pythonw: line 3: 79139 Segmentation fault: 11  /Users/laurenstein/opt/anaconda3/envs/DEEPLABCUT_M1/python.app/Contents/MacOS/python \"$@\"\n```\n\n\n### Anything else?\n\n_Here a few package information that may be useful in my conda environment_\r\n\r\n**deeplabcut                2.2.0.2                  pypi_0    pypi**\r\npickleshare               0.7.5                   py_1003    conda-forge\r\npillow                    8.3.2                    pypi_0    pypi\r\npip                       21.2.4             pyhd8ed1ab_0    conda-forge\r\npython                    3.7.10          haf480d7_101_cpython    conda-forge\r\npython-dateutil           2.8.2              pyhd8ed1ab_0    conda-forge\r\n**python.app                3                py37h9ed2024_0**  \r\n**tensorflow                2.4.1                    pypi_0    pypi**\r\n**wheel                     0.37.0             pyhd8ed1ab_1    conda-forge**\r\n**wxpython                  4.0.7.post2              pypi_0    pypi**\r\n\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1522/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1522/timeline","performed_via_github_app":null,"state_reason":"completed"}