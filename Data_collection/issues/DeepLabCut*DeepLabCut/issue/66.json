{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/66","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/66/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/66/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/66/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/66","id":362676828,"node_id":"MDU6SXNzdWUzNjI2NzY4Mjg=","number":66,"title":"Tracking only one point (this is now possible)","user":{"login":"mschart","id":17218515,"node_id":"MDQ6VXNlcjE3MjE4NTE1","avatar_url":"https://avatars.githubusercontent.com/u/17218515?v=4","gravatar_id":"","url":"https://api.github.com/users/mschart","html_url":"https://github.com/mschart","followers_url":"https://api.github.com/users/mschart/followers","following_url":"https://api.github.com/users/mschart/following{/other_user}","gists_url":"https://api.github.com/users/mschart/gists{/gist_id}","starred_url":"https://api.github.com/users/mschart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mschart/subscriptions","organizations_url":"https://api.github.com/users/mschart/orgs","repos_url":"https://api.github.com/users/mschart/repos","events_url":"https://api.github.com/users/mschart/events{/privacy}","received_events_url":"https://api.github.com/users/mschart/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-09-21T15:53:27Z","updated_at":"2018-11-13T19:11:31Z","closed_at":"2018-09-21T17:39:51Z","author_association":"NONE","active_lock_reason":null,"body":"If you want to track only one body part (one point, joint), then there is the following error when running \r\n\r\n`python Step1_EvaluateModelonDataset.py`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"EvaluateNetwork.py\", line 113, in <module>\r\n    scmap, locref = predict.extract_cnn_output(outputs_np, cfg)\r\n  File \"/home/angelakilab/DeepLabCut/pose-tensorflow/nnet/predict.py\", line 42, in extract_cnn_output\r\n    print(shape(scmap))\r\nTypeError: 'tuple' object is not callable\r\n```\r\nAs the dimensions of that scmap array don't match. For four points it'll have that shape (14, 14, 4), no idea what the first two 14 are, but the last is the 4 points. If you have 1 point only the dims would be  (14, 14) but you'd want (14, 14,1) for the later functions. \r\n\r\nTo fix that and make one-point-only tracking possible, I suggest expanding the dimension by one in case you just have one point, using np.expand_dims on the scmap array in the pose-tensorflow//mnet/predict.py script as follows:\r\n\r\n```\r\ndef extract_cnn_output(outputs_np, cfg):\r\n    scmap = outputs_np[0]\r\n    scmap = np.squeeze(scmap)\r\n    locref = None\r\n    if cfg.location_refinement:\r\n        locref = np.squeeze(outputs_np[1])\r\n        shape = locref.shape\r\n        locref = np.reshape(locref, (shape[0], shape[1], -1, 2))\r\n        locref *= cfg.locref_stdev\r\n    if len(scmap.shape)==2:\r\n     scmap=np.expand_dims(scmap,axis=2)\r\n    return scmap, locref\r\n```\r\n\r\n","closed_by":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/66/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/66/timeline","performed_via_github_app":null,"state_reason":"completed"}