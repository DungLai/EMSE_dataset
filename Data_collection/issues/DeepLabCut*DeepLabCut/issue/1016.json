{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1016","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1016/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1016/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1016/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1016","id":753694596,"node_id":"MDU6SXNzdWU3NTM2OTQ1OTY=","number":1016,"title":"ValueError: Dataset(s) incompatible with Pandas data types, not table, or no datasets found in HDF5 file","user":{"login":"beeceegee","id":60203568,"node_id":"MDQ6VXNlcjYwMjAzNTY4","avatar_url":"https://avatars.githubusercontent.com/u/60203568?v=4","gravatar_id":"","url":"https://api.github.com/users/beeceegee","html_url":"https://github.com/beeceegee","followers_url":"https://api.github.com/users/beeceegee/followers","following_url":"https://api.github.com/users/beeceegee/following{/other_user}","gists_url":"https://api.github.com/users/beeceegee/gists{/gist_id}","starred_url":"https://api.github.com/users/beeceegee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beeceegee/subscriptions","organizations_url":"https://api.github.com/users/beeceegee/orgs","repos_url":"https://api.github.com/users/beeceegee/repos","events_url":"https://api.github.com/users/beeceegee/events{/privacy}","received_events_url":"https://api.github.com/users/beeceegee/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-11-30T18:14:10Z","updated_at":"2020-12-06T17:23:02Z","closed_at":"2020-12-06T17:23:02Z","author_association":"NONE","active_lock_reason":null,"body":"Hi there. I am running into some issues with the steps after `analyze_videos`\r\nI run `deeplabcut.analyze_videos(config_path,[‘Full path of video or video folder’], shuffle=1, videotype=‘.MP4’)`\r\nHere is the output of `analyze_videos`:\r\n```\r\nIn [29]: deeplabcut.analyze_videos(config_path,['/home/quantum/Documents/name/videos/'], shuffle=1, videotype\r\n    ...: ='.MP4')\r\nUsing snapshot-700000 for model /home/quantum/Documents/name/practice-name-2020-11-28/dlc-models/iteration-0/practiceNov28-trainset95shuffle1\r\nInitializing ResNet\r\nAnalyzing all the videos in the directory...\r\nStarting to analyze %  /home/quantum/Documents/name/videos/GH012794_CF1_var.MP4\r\n/home/quantum/Documents/name/videos  already exists!\r\nLoading  /home/quantum/Documents/name/videos/GH012794_CF1_var.MP4\r\nDuration of video [s]:  1059.06 , recorded with  23.98 fps!\r\nOverall # of frames:  25392  found with (before cropping) frame dimensions:  1920 1440\r\nStarting to extract posture\r\n  0%|                                                                              | 0/25392 [00:00<?, ?it/s]Detected frames:  0\r\n  1%|▋                                                                 | 253/25392 [00:00<00:19, 1296.34it/s]\r\nSaving results in /home/quantum/Documents/name/videos...\r\nStarting to analyze %  /home/quantum/Documents/name/videos/GH022794_CF1_var2.MP4\r\n/home/quantum/Documents/name/videos  already exists!\r\nLoading  /home/quantum/Documents/name/videos/GH022794_CF1_var2.MP4\r\nDuration of video [s]:  384.51 , recorded with  23.98 fps!\r\nOverall # of frames:  9219  found with (before cropping) frame dimensions:  1920 1440\r\nStarting to extract posture\r\n  0%|                                                                               | 0/9219 [00:00<?, ?it/s]Detected frames:  0\r\n  1%|▋                                                                   | 92/9219 [00:00<00:04, 2002.99it/s]\r\nSaving results in /home/quantum/Documents/name/videos...\r\nStarting to analyze %  /home/quantum/Documents/name/videos/GH012799_CF5_var.MP4\r\n/home/quantum/Documents/name/videos  already exists!\r\nLoading  /home/quantum/Documents/name/videos/GH012799_CF5_var.MP4\r\nDuration of video [s]:  1059.06 , recorded with  23.98 fps!\r\nOverall # of frames:  25392  found with (before cropping) frame dimensions:  1920 1440\r\nStarting to extract posture\r\n  0%|                                                                              | 0/25392 [00:00<?, ?it/s]Detected frames:  0\r\n  1%|▋                                                                 | 253/25392 [00:00<00:04, 5319.49it/s]\r\nSaving results in /home/quantum/Documents/name/videos...\r\nStarting to analyze %  /home/quantum/Documents/name/videos/GH022800_CF5_imi2.MP4\r\n/home/quantum/Documents/name/videos  already exists!\r\nLoading  /home/quantum/Documents/name/videos/GH022800_CF5_imi2.MP4\r\nDuration of video [s]:  197.82 , recorded with  23.98 fps!\r\nOverall # of frames:  4743  found with (before cropping) frame dimensions:  1920 1440\r\nStarting to extract posture\r\n  0%|                                                                               | 0/4743 [00:00<?, ?it/s]Detected frames:  0\r\n  1%|▋                                                                    | 47/4743 [00:00<00:04, 999.40it/s]\r\nSaving results in /home/quantum/Documents/name/videos...\r\nStarting to analyze %  /home/quantum/Documents/name/videos/GH022799_CF5_var2.MP4\r\n/home/quantum/Documents/name/videos  already exists!\r\nLoading  /home/quantum/Documents/name/videos/GH022799_CF5_var2.MP4\r\nDuration of video [s]:  354.69 , recorded with  23.98 fps!\r\nOverall # of frames:  8504  found with (before cropping) frame dimensions:  1920 1440\r\nStarting to extract posture\r\n  0%|                                                                               | 0/8504 [00:00<?, ?it/s]Detected frames:  0\r\n  1%|▋                                                                   | 85/8504 [00:00<00:04, 1919.14it/s]\r\nSaving results in /home/quantum/Documents/name/videos...\r\nStarting to analyze %  /home/quantum/Documents/name/videos/GH012800_CF5_imi.MP4\r\n/home/quantum/Documents/name/videos  already exists!\r\nLoading  /home/quantum/Documents/name/videos/GH012800_CF5_imi.MP4\r\nDuration of video [s]:  1059.06 , recorded with  23.98 fps!\r\nOverall # of frames:  25392  found with (before cropping) frame dimensions:  1920 1440\r\nStarting to extract posture\r\n  0%|                                                                              | 0/25392 [00:00<?, ?it/s]Detected frames:  0\r\n  1%|▋                                                                 | 253/25392 [00:00<00:04, 5710.68it/s]\r\nSaving results in /home/quantum/Documents/name/videos...\r\nThe videos are analyzed. Now your research can truly start! \r\n You can create labeled videos with 'create_labeled_video'\r\nIf the tracking is not satisfactory for some videos, consider expanding the training set. You can use the function 'extract_outlier_frames' to extract a few representative outlier frames.\r\n```\r\nThe output of the files (such as the .h5) has 1.0 kB, which makes me think they look OK, despite the above step happening really fast (correct me if I'm wrong!)\r\n\r\nAnd then when I run `deeplabcut.filterpredictions(config_path,[‘video_path’], videotype=‘.MP4’)` I get this error: \r\n\r\n```\r\n`In [73]: deeplabcut.plot_trajectories(config_path,['/home/quantum/Documents/name/videos/GH012794_CF1_var.MP4'])\r\nLoading  /home/quantum/Documents/name/videos/GH012794_CF1_var.MP4 and data.\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-73-b89ee41c5057> in <module>\r\n----> 1 deeplabcut.plot_trajectories(config_path,['/home/quantum/Documents/name/videos/GH012794_CF1_var.MP4'])\r\n\r\n~/anaconda3/envs/DLC-GPU/lib/python3.7/site-packages/deeplabcut/utils/plotting.py in plot_trajectories(config, videos, videotype, shuffle, trainingsetindex, filtered, displayedbodyparts, displayedindividuals, showfigures, destfolder, modelprefix, track_method, imagetype, resolution, linewidth)\r\n    256         try:\r\n    257             df, _, _, suffix = auxiliaryfunctions.load_analyzed_data(\r\n--> 258                 videofolder, vname, DLCscorer, filtered, track_method\r\n    259             )\r\n    260             failed.append(False)\r\n\r\n~/anaconda3/envs/DLC-GPU/lib/python3.7/site-packages/deeplabcut/utils/auxiliaryfunctions.py in load_analyzed_data(folder, videoname, scorer, filtered, track_method)\r\n    744         folder, videoname, scorer, filtered, track_method\r\n    745     )\r\n--> 746     df = pd.read_hdf(filepath)\r\n    747     return df, filepath, scorer, suffix\r\n    748 \r\n\r\n~/anaconda3/envs/DLC-GPU/lib/python3.7/site-packages/pandas/io/pytables.py in read_hdf(path_or_buf, key, mode, errors, where, start, stop, columns, iterator, chunksize, **kwargs)\r\n    397             if len(groups) == 0:\r\n    398                 raise ValueError(\r\n--> 399                     \"Dataset(s) incompatible with Pandas data types, \"\r\n    400                     \"not table, or no datasets found in HDF5 file.\"\r\n    401                 )\r\n\r\nValueError: Dataset(s) incompatible with Pandas data types, not table, or no datasets found in HDF5 file.\r\n`\r\n```\r\nAny suggestions? This is my first time using github so I'm happy to provide additional details. Thanks for your help and for the awesome software. \r\nDesktop details: \r\nUbuntu 20.04 LTS\r\nGraphics: NVIDIA Quadro RTX 5000 (2 GPUs)\r\nMemory: 124 Gb\r\nDisk: 2 Tb\r\nDLC version: \r\n```\r\n# packages in environment at /home/quantum/anaconda3/envs/DLC-GPU:\r\n#\r\n# Name                    Version                   Build  Channel\r\n_libgcc_mutex             0.1                        main  \r\n_tflow_select             2.1.0                       gpu  \r\nabsl-py                   0.11.0           py37h06a4308_0  \r\nargon2-cffi               20.1.0           py37h7b6447c_1  \r\nastor                     0.8.1                    py37_0  \r\nasync_generator           1.10             py37h28b3542_0  \r\nattrs                     20.3.0             pyhd3eb1b0_0  \r\nbackcall                  0.2.0                      py_0  \r\nbayesian-optimization     1.2.0                    pypi_0    pypi\r\nblas                      1.0                         mkl  \r\nbleach                    3.2.1                      py_0  \r\nc-ares                    1.16.1               h7b6447c_0  \r\nca-certificates           2020.10.14                    0  \r\ncairo                     1.14.12              h8948797_3  \r\ncertifi                   2020.6.20          pyhd3eb1b0_3  \r\ncffi                      1.14.3           py37h261ae71_2  \r\nchardet                   3.0.4                    pypi_0    pypi\r\nclick                     7.1.2                    pypi_0    pypi\r\ncudatoolkit               10.0.130                      0  \r\ncudnn                     7.6.5                cuda10.0_0  \r\ncupti                     10.0.130                      0  \r\ncycler                    0.10.0                   pypi_0    pypi\r\ncython                    0.29.21                  pypi_0    pypi\r\ndbus                      1.13.18              hb2f20db_0  \r\ndecorator                 4.4.2                      py_0  \r\ndeeplabcut                2.1.9                    pypi_0    pypi\r\ndefusedxml                0.6.0                      py_0  \r\neasydict                  1.9                      pypi_0    pypi\r\nentrypoints               0.3                      py37_0  \r\nexpat                     2.2.10               he6710b0_2  \r\nfilterpy                  1.4.5                    pypi_0    pypi\r\nfontconfig                2.13.0               h9420a91_0  \r\nfreetype                  2.10.4               h5ab3b9f_0  \r\nfribidi                   1.0.10               h7b6447c_0  \r\ngast                      0.2.2                    pypi_0    pypi\r\ngeos                      3.8.0                he6710b0_0  \r\ngettext                   0.19.8.1             h9b4dc7a_1  \r\nglib                      2.66.1               h92f7085_0  \r\ngoogle-pasta              0.2.0                    pypi_0    pypi\r\ngraphite2                 1.3.14               h23475e2_0  \r\ngrpcio                    1.31.0           py37hf8bcb03_0  \r\ngst-plugins-base          1.14.0               hbbd80ab_1  \r\ngstreamer                 1.14.0               hb31296c_0  \r\nh5py                      2.10.0           py37hd6299e0_1  \r\nharfbuzz                  2.4.0                hca77d97_1  \r\nhdf5                      1.10.6               hb1b8bf9_0  \r\nicu                       58.2                 he6710b0_3  \r\nidna                      2.10                     pypi_0    pypi\r\nimageio                   2.9.0                    pypi_0    pypi\r\nimageio-ffmpeg            0.4.2                    pypi_0    pypi\r\nimgaug                    0.4.0                    pypi_0    pypi\r\nimportlib-metadata        2.0.0                      py_1  \r\nimportlib_metadata        2.0.0                         1  \r\nintel-openmp              2020.0.133               pypi_0    pypi\r\nipykernel                 5.3.4            py37h5ca1d4c_0  \r\nipython                   7.19.0           py37hb070fc8_0  \r\nipython_genutils          0.2.0                    py37_0  \r\nipywidgets                7.5.1                      py_1  \r\njedi                      0.17.2                   py37_0  \r\njinja2                    2.11.2                     py_0  \r\njoblib                    0.17.0                   pypi_0    pypi\r\njpeg                      9b                   h024ee3a_2  \r\njsonschema                3.2.0                      py_2  \r\njupyter                   1.0.0                    py37_7  \r\njupyter_client            6.1.7                      py_0  \r\njupyter_console           6.2.0                      py_0  \r\njupyter_core              4.6.3                    py37_0  \r\njupyterlab_pygments       0.1.2                      py_0  \r\nkeras-applications        1.0.8                      py_1  \r\nkeras-preprocessing       1.1.0                      py_1  \r\nkiwisolver                1.3.1                    pypi_0    pypi\r\nld_impl_linux-64          2.33.1               h53a641e_7  \r\nlibedit                   3.1.20191231         h14c3975_1  \r\nlibffi                    3.3                  he6710b0_2  \r\nlibgcc-ng                 9.1.0                hdf63c60_0  \r\nlibgfortran-ng            7.3.0                hdf63c60_0  \r\nlibglu                    9.0.0                hf484d3e_1  \r\nlibpng                    1.6.37               hbc83047_0  \r\nlibprotobuf               3.13.0.1             hd408876_0  \r\nlibsodium                 1.0.18               h7b6447c_0  \r\nlibstdcxx-ng              9.1.0                hdf63c60_0  \r\nlibuuid                   1.0.3                h1bed415_2  \r\nlibxcb                    1.14                 h7b6447c_0  \r\nlibxml2                   2.9.10               hb55368b_3  \r\nllvmlite                  0.34.0                   pypi_0    pypi\r\nmarkdown                  3.3.3            py37h06a4308_0  \r\nmarkupsafe                1.1.1            py37h14c3975_1  \r\nmatplotlib                3.1.3                    pypi_0    pypi\r\nmistune                   0.8.4           py37h14c3975_1001  \r\nmkl                       2020.2                      256  \r\nmkl-service               2.3.0            py37he904b0f_0  \r\nmkl_fft                   1.2.0            py37h23d657b_0  \r\nmkl_random                1.1.1            py37h0573a6f_0  \r\nmock                      4.0.2                      py_0  \r\nmoviepy                   1.0.1                    pypi_0    pypi\r\nmsgpack                   1.0.0                    pypi_0    pypi\r\nmsgpack-numpy             0.4.7.1                  pypi_0    pypi\r\nnb_conda                  2.2.1                    py37_0  \r\nnb_conda_kernels          2.3.0                    py37_0  \r\nnbclient                  0.5.1                      py_0  \r\nnbconvert                 6.0.7                    py37_0  \r\nnbformat                  5.0.8                      py_0  \r\nncurses                   6.2                  he6710b0_1  \r\nnest-asyncio              1.4.2              pyhd3eb1b0_0  \r\nnetworkx                  2.5                      pypi_0    pypi\r\nnotebook                  6.1.4                    py37_0  \r\nnumba                     0.51.1                   pypi_0    pypi\r\nnumexpr                   2.7.1                    pypi_0    pypi\r\nnumpy                     1.16.4                   pypi_0    pypi\r\nopencv-python             4.4.0.46                 pypi_0    pypi\r\nopencv-python-headless    4.4.0.46                 pypi_0    pypi\r\nopenssl                   1.1.1h               h7b6447c_0  \r\nopt-einsum                3.3.0                    pypi_0    pypi\r\npackaging                 20.4                       py_0  \r\npandas                    1.1.4                    pypi_0    pypi\r\npandoc                    2.11                 hb0f4dca_0  \r\npandocfilters             1.4.3            py37h06a4308_1  \r\npango                     1.45.3               hd140c19_0  \r\nparso                     0.7.0                      py_0  \r\npatsy                     0.5.1                    pypi_0    pypi\r\npcre                      8.44                 he6710b0_0  \r\npexpect                   4.8.0              pyhd3eb1b0_3  \r\npickleshare               0.7.5                 py37_1001  \r\npillow                    8.0.1                    pypi_0    pypi\r\npip                       20.2.4           py37h06a4308_0  \r\npixman                    0.40.0               h7b6447c_0  \r\nproglog                   0.1.9                    pypi_0    pypi\r\nprometheus_client         0.8.0                      py_0  \r\nprompt-toolkit            3.0.8                      py_0  \r\nprompt_toolkit            3.0.8                         0  \r\nprotobuf                  3.13.0.1         py37he6710b0_1  \r\npsutil                    5.7.3                    pypi_0    pypi\r\nptyprocess                0.6.0              pyhd3eb1b0_2  \r\npycparser                 2.20                       py_2  \r\npygments                  2.7.2              pyhd3eb1b0_0  \r\npyparsing                 2.4.7                      py_0  \r\npyqt                      5.9.2            py37h05f1152_2  \r\npyrsistent                0.17.3           py37h7b6447c_0  \r\npython                    3.7.9                h7579374_0  \r\npython-dateutil           2.8.1                      py_0  \r\npytz                      2020.4                   pypi_0    pypi\r\npywavelets                1.1.1                    pypi_0    pypi\r\npyyaml                    5.3.1                    pypi_0    pypi\r\npyzmq                     19.0.2           py37he6710b0_1  \r\nqt                        5.9.7                h5867ecd_1  \r\nqtconsole                 4.7.7                      py_0  \r\nqtpy                      1.9.0                      py_0  \r\nreadline                  8.0                  h7b6447c_0  \r\nrequests                  2.25.0                   pypi_0    pypi\r\nruamel-yaml               0.16.12                  pypi_0    pypi\r\nruamel-yaml-clib          0.2.2                    pypi_0    pypi\r\nscikit-image              0.17.2                   pypi_0    pypi\r\nscikit-learn              0.23.2                   pypi_0    pypi\r\nscipy                     1.5.2            py37h0b6359f_0  \r\nsend2trash                1.5.0                    py37_0  \r\nsetuptools                50.3.1           py37h06a4308_1  \r\nshapely                   1.7.1            py37h98ec03d_0  \r\nsip                       4.19.8           py37hf484d3e_0  \r\nsix                       1.15.0           py37h06a4308_0  \r\nsqlite                    3.33.0               h62c20be_0  \r\nstatsmodels               0.12.1                   pypi_0    pypi\r\ntables                    3.6.1                    pypi_0    pypi\r\ntabulate                  0.8.7                    pypi_0    pypi\r\ntensorboard               1.15.0                   pypi_0    pypi\r\ntensorflow                1.13.1          gpu_py37hc158e3b_0  \r\ntensorflow-base           1.13.1          gpu_py37h8d69cac_0  \r\ntensorflow-estimator      1.15.1                   pypi_0    pypi\r\ntensorflow-gpu            1.15.0                   pypi_0    pypi\r\ntensorpack                0.9.8                    pypi_0    pypi\r\ntermcolor                 1.1.0                    py37_1  \r\nterminado                 0.9.1                    py37_0  \r\ntestpath                  0.4.4                      py_0  \r\nthreadpoolctl             2.1.0                    pypi_0    pypi\r\ntifffile                  2020.11.18               pypi_0    pypi\r\ntk                        8.6.10               hbc83047_0  \r\ntornado                   6.0.4            py37h7b6447c_1  \r\ntqdm                      4.52.0                   pypi_0    pypi\r\ntraitlets                 5.0.5                      py_0  \r\nurllib3                   1.26.2                   pypi_0    pypi\r\nwcwidth                   0.2.5                      py_0  \r\nwebencodings              0.5.1                    py37_1  \r\nwerkzeug                  1.0.1                      py_0  \r\nwheel                     0.35.1             pyhd3eb1b0_0  \r\nwidgetsnbextension        3.5.1                    py37_0  \r\nwrapt                     1.12.1                   pypi_0    pypi\r\nwxpython                  4.0.4            py37hc99224d_0  \r\nxz                        5.2.5                h7b6447c_0  \r\nzeromq                    4.3.3                he6710b0_3  \r\nzipp                      3.4.0              pyhd3eb1b0_0  \r\nzlib                      1.2.11               h7b6447c_3  \r\n\r\n```","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1016/timeline","performed_via_github_app":null,"state_reason":"completed"}