{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/486","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/486/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/486/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/486/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/486","id":521912110,"node_id":"MDU6SXNzdWU1MjE5MTIxMTA=","number":486,"title":"Cannot import my own annotated data--does not appear to have labeled data!","user":{"login":"monajalal","id":1892917,"node_id":"MDQ6VXNlcjE4OTI5MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1892917?v=4","gravatar_id":"","url":"https://api.github.com/users/monajalal","html_url":"https://github.com/monajalal","followers_url":"https://api.github.com/users/monajalal/followers","following_url":"https://api.github.com/users/monajalal/following{/other_user}","gists_url":"https://api.github.com/users/monajalal/gists{/gist_id}","starred_url":"https://api.github.com/users/monajalal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monajalal/subscriptions","organizations_url":"https://api.github.com/users/monajalal/orgs","repos_url":"https://api.github.com/users/monajalal/repos","events_url":"https://api.github.com/users/monajalal/events{/privacy}","received_events_url":"https://api.github.com/users/monajalal/received_events","type":"User","site_admin":false},"labels":[{"id":880550040,"node_id":"MDU6TGFiZWw4ODA1NTAwNDA=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/question","name":"question","color":"d876e3","default":true,"description":"user question (not great for github ;)"},{"id":1313079487,"node_id":"MDU6TGFiZWwxMzEzMDc5NDg3","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/howtousedlc","name":"howtousedlc","color":"a1b3f4","default":false,"description":"issue regarding the use of DeepLabCut"},{"id":1661894904,"node_id":"MDU6TGFiZWwxNjYxODk0OTA0","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/temple%20not%20complete","name":"temple not complete","color":"312C2C","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-11-13T02:08:13Z","updated_at":"2019-12-10T00:30:35Z","closed_at":"2019-11-13T15:42:31Z","author_association":"NONE","active_lock_reason":"resolved","body":" Looking at the other github issues, their solutions didn't work for me. Please let me know if you would like to know more details on my end.\r\n\r\nJust a few questions for further clarification:\r\n\r\nIs the following correct or does the annotation csv file need to have a specific name?\r\n\r\n```\r\n[jalal@goku labeled-data]$ ls\r\ntotal 32\r\ndrwxr-xr-x. 2 jalal cs-grad    10 Nov 10 21:39 ordered_video\r\ndrwxr-xr-x. 6 jalal cs-grad   126 Nov 10 21:40 ..\r\n-rw-r--r--. 1 jalal cs-grad 32154 Nov 10 21:42 Moth_CollectedData_Mona.csv\r\ndrwxr-xr-x. 3 jalal cs-grad    74 Nov 10 21:42 .\r\n[jalal@goku labeled-data]$ pwd\r\n/scratch3/3d_pose/animalpose/moth_annotated/Moth_annotations-Mona-2019-11-10/labeled-data\r\n[jalal@goku labeled-data]$ head -20 Moth_CollectedData_Mona.csv \r\nscorer,Mona,Mona,Mona,Mona,Mona,Mona,Mona,Mona\r\nbodyparts,head,head,wingr,wingr,tail,tail,wingl,wingl\r\ncoords,x,y,x,y,x,y,x,y\r\n1,494.5551,234.251,711.6219,274.2668,481.7198,299.5598,311.0864,339.5756\r\n2,494.6552,233.6892,698.531,237.2043,478.3979,300.0367,285.5068,300.0367\r\n3,496.0657,234.568,660.4773,182.6485,477.8938,299.0346,279.7346,239.3273\r\n4,498.0948,236.4126,618.2942,142.6347,477.2553,302.2803,298.6309,175.0104\r\n5,499.2109,237.2335,603.7807,120.0112,473.9058,307.5669,323.1914,136.013\r\n6,497.2581,236.8611,616.7132,115.5453,473.4415,309.7994,336.124,123.7323\r\n7,497.2588,237.2343,642.7633,126.7104,471.5815,313.1497,329.7984,132.6645\r\n8,499.12,239.4676,669.9296,159.0866,470.0935,315.7552,312.3086,156.4817\r\n9,498.0675,237.764,703.4297,201.8367,468.7934,317.1588,292.7054,184.0948\r\n10,498.9722,237.7636,718.0843,248.8523,469.6981,316.7149,282.5214,219.1346\r\n11,497.7061,234.7693,713.0226,288.1279,468.5731,317.7061,288.6927,256.3582\r\n12,498.798,234.528,697.1991,312.6272,469.6927,316.5079,305.733,286.4324\r\n13,496.114,233.2197,686.6575,320.3376,472.5106,315.6169,329.1738,304.0298\r\n14,495.6837,232.6953,692.2354,316.8091,475.5136,311.2301,325.7395,309.0844\r\n15,493.538,231.8357,705.11,303.9332,475.9428,313.8037,302.1361,309.5122\r\n16,494.0606,233.7505,709.474,280.9177,476.069,313.4972,280.5923,281.8903\r\n17,494.0631,233.8895,688.5673,233.8895,476.0715,315.5813,277.191,230.972\r\n```\r\n\r\n\r\n\r\ndoes the first column elements need to have the .JPEG frame name?\r\nSo I have around 800 frames, but only ~400 of them have annotations.\r\n1. How can I force DLC to only do the training/test on these 400 frames for which I have annotations?\r\n\r\n2. How can I generalize it so that it actually trains on the 400 annotated one and use it to test on the ones that are not annotated?\r\n\r\n(I am mostly for now interested in 1 because I have expert ground truth).\r\n3. Do I have to create a separate AVI video of these 400 ish frames? Otherwise, I wonder how else DLC would know which frame is which. Can we actually give the DLC a folder with images as an input instead of an AVI? my understanding is that for question 1 that I asked, I should create a video that only contains these frames. But I would like to double-check with you and get an expert's opinion on this matter.\r\nPlease note that these annotated frames are picked randomly and not necessarily they are in order. For example, 1.JPEG is not annotated by an expert.\r\n\r\n![Screenshot from 2019-11-10 21-42-57](https://user-images.githubusercontent.com/1892917/68557469-e9137180-0403-11ea-949b-9e0eb94cd008.png)\r\n\r\nRight now, I am in the above step. I am not sure exactly how to use deeplabcut.convertcsv2h5 for converting my CSV into h5 but that's something I am working on it but I get errors:\r\n\r\n```\r\n[jalal@goku labeled-data]$ cp Moth_CollectedData_Mona.csv  ordered_video/\r\n[jalal@goku labeled-data]$ cd ordered_video/\r\n[jalal@goku ordered_video]$ ls\r\ntotal 32\r\ndrwxr-xr-x. 3 jalal cs-grad    74 Nov 10 21:42 ..\r\n-rw-r--r--. 1 jalal cs-grad 32154 Nov 10 21:56 Moth_CollectedData_Mona.csv\r\ndrwxr-xr-x. 2 jalal cs-grad    49 Nov 10 21:56 .\r\n\r\n\r\nIn [2]: deeplabcut.convertcsv2h5(\"/scratch3/3d_pose/animalpose/moth_annotated/Moth_annotations-Mona-2019-11-10/config.yaml\")\r\nDo you want to convert the csv file in folder: /scratch3/3d_pose/animalpose/moth_annotated/Moth_annotations-Mona-2019-11-10/labeled-data/ordered_video ?\r\nyes/noyes\r\nAttention: /scratch3/3d_pose/animalpose/moth_annotated/Moth_annotations-Mona-2019-11-10/labeled-data/ordered_video does not appear to have labeled data!\r\n\r\nIn [3]: deeplabcut.convertcsv2h5(\"/scratch3/3d_pose/animalpose/moth_annotated/Moth_annotations-Mona-2019-11-10/config.yaml\")\r\nDo you want to convert the csv file in folder: /scratch3/3d_pose/animalpose/moth_annotated/Moth_annotations-Mona-2019-11-10/labeled-data/ordered_video ?\r\nyes/noyes\r\nAttention: /scratch3/3d_pose/animalpose/moth_annotated/Moth_annotations-Mona-2019-11-10/labeled-data/ordered_video does not appear to have labeled data!\r\n\r\n\r\n```\r\n\r\nHere is my config.yaml file:\r\n\r\n```\r\n[jalal@goku Moth_annotations-Mona-2019-11-10]$ cat config.yaml \r\n# Project definitions (do not edit)\r\nTask: Moth_annotations\r\nscorer: Mona\r\ndate: Nov10\r\n\r\n# Project path (change when moving around)\r\nproject_path: /scratch3/3d_pose/animalpose/moth_annotated/Moth_annotations-Mona-2019-11-10\r\n\r\n# Annotation data set configuration (and individual video cropping parameters)\r\nvideo_sets:\r\n  /scratch3/3d_pose/animalpose/DeepPoseKit/datasets/moth/ordered_video.avi:\r\n    crop: 0, 800, 0, 600\r\nbodyparts:\r\n- head\r\n- wingr\r\n- tail\r\n- wingl\r\nstart: 0\r\nstop: 1\r\nnumframes2pick: 20\r\n\r\n# Plotting configuration\r\nskeleton:\r\n- - bodypart1\r\n  - bodypart2\r\n- - objectA\r\n  - bodypart3\r\nskeleton_color: black\r\npcutoff: 0.1\r\ndotsize: 12\r\nalphavalue: 0.7\r\ncolormap: jet\r\n\r\n# Training,Evaluation and Analysis configuration\r\nTrainingFraction:\r\n- 0.95\r\niteration: 0\r\nresnet:\r\nsnapshotindex: -1\r\nbatch_size: 8\r\n\r\n# Cropping Parameters (for analysis and outlier frame detection)\r\ncropping: false\r\n#if cropping is true for analysis, then set the values here:\r\nx1: 0\r\nx2: 640\r\ny1: 277\r\ny2: 624\r\n\r\n# Refinement configuration (parameters from annotation dataset configuration also relevant in this stage)\r\ncorner2move2:\r\n- 50\r\n- 50\r\nmove2corner: true\r\ndefault_net_type: resnet_50\r\ndefault_augmenter: default\r\n[jalal@goku Moth_annotations-Mona-2019-11-10]$ \r\n\r\n```\r\n\r\n\r\n\r\n**Your Operating system and DeepLabCut version**\r\n```\r\nIn [2]: dlc.__version__\r\nOut[2]: '2.1.1'\r\n$ uname -a\r\nLinux goku.bu.edu 3.10.0-1062.1.1.el7.x86_64 #1 SMP Fri Sep 13 22:55:44 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n$  cat /etc/os-release\r\nNAME=\"CentOS Linux\"\r\nVERSION=\"7 (Core)\"\r\nID=\"centos\"\r\nID_LIKE=\"rhel fedora\"\r\nVERSION_ID=\"7\"\r\nPRETTY_NAME=\"CentOS Linux 7 (Core)\"\r\nANSI_COLOR=\"0;31\"\r\nCPE_NAME=\"cpe:/o:centos:centos:7\"\r\nHOME_URL=\"https://www.centos.org/\"\r\nBUG_REPORT_URL=\"https://bugs.centos.org/\"\r\n\r\nCENTOS_MANTISBT_PROJECT=\"CentOS-7\"\r\nCENTOS_MANTISBT_PROJECT_VERSION=\"7\"\r\nREDHAT_SUPPORT_PRODUCT=\"centos\"\r\nREDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\r\n\r\n```\r\n\r\nPlease state your operating system, env, and which version of DeepLabCut you are using.\r\nExample: Ubuntu 16.04 LTS, with an Anaconda Env, & DeepLabCut1.x or 2.x.\r\n\r\nPlease complete the following information about your system:\r\n\r\nOS: [e.g. iOS, Windows 10, etc]\r\nDeepLabCut Version [e.g. 22] (please check with import deeplabcut, deeplabcut.__version__)\r\nBrowser [e.g. chrome, safari]\r\n\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/486/timeline","performed_via_github_app":null,"state_reason":"completed"}