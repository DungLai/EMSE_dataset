{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/635","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/635/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/635/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/635/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/635","id":587746740,"node_id":"MDU6SXNzdWU1ODc3NDY3NDA=","number":635,"title":"Indexerror: list index is out of range (Analyze videos step)","user":{"login":"catubc","id":4267452,"node_id":"MDQ6VXNlcjQyNjc0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4267452?v=4","gravatar_id":"","url":"https://api.github.com/users/catubc","html_url":"https://github.com/catubc","followers_url":"https://api.github.com/users/catubc/followers","following_url":"https://api.github.com/users/catubc/following{/other_user}","gists_url":"https://api.github.com/users/catubc/gists{/gist_id}","starred_url":"https://api.github.com/users/catubc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catubc/subscriptions","organizations_url":"https://api.github.com/users/catubc/orgs","repos_url":"https://api.github.com/users/catubc/repos","events_url":"https://api.github.com/users/catubc/events{/privacy}","received_events_url":"https://api.github.com/users/catubc/received_events","type":"User","site_admin":false},"labels":[{"id":1313079487,"node_id":"MDU6TGFiZWwxMzEzMDc5NDg3","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/howtousedlc","name":"howtousedlc","color":"a1b3f4","default":false,"description":"issue regarding the use of DeepLabCut"},{"id":1518724279,"node_id":"MDU6TGFiZWwxNTE4NzI0Mjc5","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels/GUI","name":"GUI","color":"4477c4","default":false,"description":"issues relating to GUI"}],"state":"closed","locked":false,"assignee":{"login":"catubc","id":4267452,"node_id":"MDQ6VXNlcjQyNjc0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4267452?v=4","gravatar_id":"","url":"https://api.github.com/users/catubc","html_url":"https://github.com/catubc","followers_url":"https://api.github.com/users/catubc/followers","following_url":"https://api.github.com/users/catubc/following{/other_user}","gists_url":"https://api.github.com/users/catubc/gists{/gist_id}","starred_url":"https://api.github.com/users/catubc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catubc/subscriptions","organizations_url":"https://api.github.com/users/catubc/orgs","repos_url":"https://api.github.com/users/catubc/repos","events_url":"https://api.github.com/users/catubc/events{/privacy}","received_events_url":"https://api.github.com/users/catubc/received_events","type":"User","site_admin":false},"assignees":[{"login":"catubc","id":4267452,"node_id":"MDQ6VXNlcjQyNjc0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4267452?v=4","gravatar_id":"","url":"https://api.github.com/users/catubc","html_url":"https://github.com/catubc","followers_url":"https://api.github.com/users/catubc/followers","following_url":"https://api.github.com/users/catubc/following{/other_user}","gists_url":"https://api.github.com/users/catubc/gists{/gist_id}","starred_url":"https://api.github.com/users/catubc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catubc/subscriptions","organizations_url":"https://api.github.com/users/catubc/orgs","repos_url":"https://api.github.com/users/catubc/repos","events_url":"https://api.github.com/users/catubc/events{/privacy}","received_events_url":"https://api.github.com/users/catubc/received_events","type":"User","site_admin":false},{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2020-03-25T14:41:15Z","updated_at":"2020-03-25T21:42:49Z","closed_at":"2020-03-25T21:41:37Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n![dlc](https://user-images.githubusercontent.com/4267452/77548730-4ecd3b00-6e85-11ea-8b89-530780bcbabb.png)\r\n**Describe the bug**\r\nDLC crashes during analyze video step after saving the .csv and .h5 files but before saving the annotated video. I saw the same error on 2 different computers/installs.\r\n\r\n**To Reproduce**\r\nRun the \"analyze video\" option with setting as in attached figure.\r\n\r\n**Expected behavior**\r\nA video should have been generated with the labels.\r\n\r\n**Screenshots**\r\nSee attached\r\n\r\n**Desktop (please complete the following information about your system):**\r\n - OS: Ubuntu 18.04 (+ffmpeg)\r\n - DeepLabCut Version: 2.1.4\r\n\r\n\r\n**Additional context**\r\n\r\n```\r\n\r\nStarting %  /media/cat/14TB/insync_cm5636/march_2/video/compressed ['/media/cat/14TB/insync_cm5636/march_2/video/compressed/file_list_0_compressed.avi']\r\nLoading  /media/cat/14TB/insync_cm5636/march_2/video/compressed/file_list_0_compressed.avi and data.\r\nNo filtered predictions found, using frame-by-frame output instead.\r\n2159721\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n~/anaconda3/envs/dlc-ubuntu-GPU/lib/python3.6/site-packages/deeplabcut/gui/analyze_videos.py in analyze_videos(self, event)\r\n    267 \r\n    268         if self.create_labeled_videos.GetStringSelection() == \"Yes\":\r\n--> 269             deeplabcut.create_labeled_video(self.config,self.filelist,self.videotype.GetValue(),shuffle=shuffle, trainingsetindex=trainingsetindex, draw_skeleton= self.draw,trailpoints = self.trail_points.GetValue(), filtered=True)\r\n    270 \r\n    271         if self.trajectory.GetStringSelection() == \"Yes\":\r\n\r\n~/anaconda3/envs/dlc-ubuntu-GPU/lib/python3.6/site-packages/deeplabcut/utils/make_labeled_video.py in create_labeled_video(config, videos, videotype, shuffle, trainingsetindex, filtered, save_frames, Frames2plot, delete, displayedbodyparts, codec, outputframerate, destfolder, draw_skeleton, trailpoints, displaycropped)\r\n    394                     else: #then the full video + the (perhaps in cropped mode analyzed labels) are depicted\r\n    395                         clip = vp(fname = video,sname = videooutname,codec=codec)\r\n--> 396                         CreateVideo(clip,Dataframe,cfg[\"pcutoff\"],cfg[\"dotsize\"],cfg[\"colormap\"],DLCscorer,bodyparts,trailpoints,cropping,x1,x2,y1,y2,bodyparts2connect,skeleton_color,draw_skeleton,displaycropped)\r\n    397 \r\n    398 if __name__ == '__main__':\r\n\r\n~/anaconda3/envs/dlc-ubuntu-GPU/lib/python3.6/site-packages/deeplabcut/utils/make_labeled_video.py in CreateVideo(clip, Dataframe, pcutoff, dotsize, colormap, DLCscorer, bodyparts2plot, trailpoints, cropping, x1, x2, y1, y2, bodyparts2connect, skeleton_color, draw_skeleton, displaycropped)\r\n     61             index=np.arange(len(bodyparts2plot))\r\n     62             for pair in bodyparts2connect:\r\n---> 63                 if pair[0] in bodyparts2plot and pair[1] in bodyparts2plot:\r\n     64                     bpts2connect.append([index[pair[0]==np.array(bodyparts2plot)][0],index[pair[1]==np.array(bodyparts2plot)][0]])\r\n     65 \r\n\r\n~/anaconda3/envs/dlc-ubuntu-GPU/lib/python3.6/site-packages/ruamel/yaml/compat.py in __getitem__(self, index)\r\n    271         # type: (Any) -> Any\r\n    272         if not isinstance(index, slice):\r\n--> 273             return self.__getsingleitem__(index)\r\n    274         return type(self)([self[i] for i in range(*index.indices(len(self)))])  # type: ignore\r\n    275 \r\n\r\n~/anaconda3/envs/dlc-ubuntu-GPU/lib/python3.6/site-packages/ruamel/yaml/comments.py in __getsingleitem__(self, idx)\r\n    386     def __getsingleitem__(self, idx):\r\n    387         # type: (Any) -> Any\r\n--> 388         return list.__getitem__(self, idx)\r\n    389 \r\n    390     def __setsingleitem__(self, idx, value):\r\n\r\nIndexError: list index out of range\r\n```\r\n\r\n","closed_by":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/635/timeline","performed_via_github_app":null,"state_reason":"completed"}