[{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/604749555","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-604749555","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":604749555,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDc0OTU1NQ==","user":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"created_at":"2020-03-27T00:10:43Z","updated_at":"2020-03-27T00:12:20Z","author_association":"MEMBER","body":"Sure, if that is for our example data than that takes way too long. So, I suppose that's something about your context? Can you try to figure out where in the code it is stuck? I.e. does it load the video etc. \r\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/604749555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false}},{"id":3170513255,"node_id":"MDEyOkxhYmVsZWRFdmVudDMxNzA1MTMyNTU=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3170513255","actor":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-27T00:10:52Z","label":{"name":"Installation","color":"ecfca6"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/605370501","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-605370501","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":605370501,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTM3MDUwMQ==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2020-03-28T00:51:42Z","updated_at":"2020-03-28T00:51:49Z","author_association":"MEMBER","body":"I don't know much about nix packages, but perhaps the lack of  intel0openmp is an issue?\r\n\r\n ``    --replace \"'intel-openmp',\" \"\" \\ ``","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/605370501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/605538672","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-605538672","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":605538672,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTUzODY3Mg==","user":{"login":"tbenst","id":863327,"node_id":"MDQ6VXNlcjg2MzMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/863327?v=4","gravatar_id":"","url":"https://api.github.com/users/tbenst","html_url":"https://github.com/tbenst","followers_url":"https://api.github.com/users/tbenst/followers","following_url":"https://api.github.com/users/tbenst/following{/other_user}","gists_url":"https://api.github.com/users/tbenst/gists{/gist_id}","starred_url":"https://api.github.com/users/tbenst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbenst/subscriptions","organizations_url":"https://api.github.com/users/tbenst/orgs","repos_url":"https://api.github.com/users/tbenst/repos","events_url":"https://api.github.com/users/tbenst/events{/privacy}","received_events_url":"https://api.github.com/users/tbenst/received_events","type":"User","site_admin":false},"created_at":"2020-03-29T00:33:21Z","updated_at":"2020-03-29T16:10:14Z","author_association":"CONTRIBUTOR","body":"@MMathisLab thanks, I added that package (binaries should already be there as nix packages intel-openmy with the binary MKL package) just in case, no difference.\r\n\r\nI used `pudb` to track down the hang all the way until [_k_init](https://github.com/scikit-learn/scikit-learn/blob/a84ba0c0b8b4948a5571ce1a815102c43d35cdd1/sklearn/cluster/_kmeans.py#L120). This calls [euclidean_distances](https://github.com/scikit-learn/scikit-learn/blob/a84ba0c0b8b4948a5571ce1a815102c43d35cdd1/sklearn/metrics/pairwise.py#L303), where the code calls [safe_sparse_dot](https://github.com/scikit-learn/scikit-learn/blob/1495f69242646d239d89a5713982946b8ffcf9d9/sklearn/utils/extmath.py#L142). The hang occurs in the `np.dot` call, and I couldn't trace further with a python debugger. I did save the two arrays being sent to `np.dot` (`a.shape == (3, 810)`, `b.shape ==(810, 256)`). but I could not reproduce the hang in a python shell. Therefore, we appear to have hit some ugly calling context-dependency in the compiled numpy code, which is a major bummer.\r\n\r\nI'm on sklearn 0.21.3, and I noticed that `safe_sparse_dot` changes dramatically. Now, rather than calling `np.dot`, the code calls `a @ b` unless ndim > 2. Thus, perhaps we hit a known bug that might be fixed on upgrading sklearn. \r\n\r\nIn fact, this appears to be the same issue as described back in 2012: https://github.com/scikit-learn/scikit-learn/issues/636#issuecomment-4172159\r\n\r\nEdit: worth noting that I’m on Linux using MKL. Explanation appears to be https://github.com/scikit-learn/scikit-learn/issues/636#issuecomment-134504345 and may be related to Python Multiprocessing violating POSIX standard. In any case, this does not appear to be a deeplabcut problem\r\n\r\nEdit 2: I was able to fix the hang by changing some dependencies! It appears that the issue only occurs if `numpy` is compiled against `openblas`, and does not occur if `numpy` is compiled against `mkl`. I am working to validate this today","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/605538672/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tbenst","id":863327,"node_id":"MDQ6VXNlcjg2MzMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/863327?v=4","gravatar_id":"","url":"https://api.github.com/users/tbenst","html_url":"https://github.com/tbenst","followers_url":"https://api.github.com/users/tbenst/followers","following_url":"https://api.github.com/users/tbenst/following{/other_user}","gists_url":"https://api.github.com/users/tbenst/gists{/gist_id}","starred_url":"https://api.github.com/users/tbenst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbenst/subscriptions","organizations_url":"https://api.github.com/users/tbenst/orgs","repos_url":"https://api.github.com/users/tbenst/repos","events_url":"https://api.github.com/users/tbenst/events{/privacy}","received_events_url":"https://api.github.com/users/tbenst/received_events","type":"User","site_admin":false}},{"id":3175457571,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzE3NTQ1NzU3MQ==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3175457571","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-29T00:33:21Z","performed_via_github_app":null},{"id":3175457572,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxNzU0NTc1NzI=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3175457572","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-29T00:33:21Z","performed_via_github_app":null},{"id":3184897336,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzE4NDg5NzMzNg==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3184897336","actor":{"login":"tbenst","id":863327,"node_id":"MDQ6VXNlcjg2MzMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/863327?v=4","gravatar_id":"","url":"https://api.github.com/users/tbenst","html_url":"https://github.com/tbenst","followers_url":"https://api.github.com/users/tbenst/followers","following_url":"https://api.github.com/users/tbenst/following{/other_user}","gists_url":"https://api.github.com/users/tbenst/gists{/gist_id}","starred_url":"https://api.github.com/users/tbenst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbenst/subscriptions","organizations_url":"https://api.github.com/users/tbenst/orgs","repos_url":"https://api.github.com/users/tbenst/repos","events_url":"https://api.github.com/users/tbenst/events{/privacy}","received_events_url":"https://api.github.com/users/tbenst/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-03-31T19:47:00Z","rename":{"from":"examples/testscript.py hangs on Kmeans clustering","to":"examples/testscript.py hangs"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606842824","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-606842824","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":606842824,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjg0MjgyNA==","user":{"login":"tbenst","id":863327,"node_id":"MDQ6VXNlcjg2MzMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/863327?v=4","gravatar_id":"","url":"https://api.github.com/users/tbenst","html_url":"https://github.com/tbenst","followers_url":"https://api.github.com/users/tbenst/followers","following_url":"https://api.github.com/users/tbenst/following{/other_user}","gists_url":"https://api.github.com/users/tbenst/gists{/gist_id}","starred_url":"https://api.github.com/users/tbenst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbenst/subscriptions","organizations_url":"https://api.github.com/users/tbenst/orgs","repos_url":"https://api.github.com/users/tbenst/repos","events_url":"https://api.github.com/users/tbenst/events{/privacy}","received_events_url":"https://api.github.com/users/tbenst/received_events","type":"User","site_admin":false},"created_at":"2020-03-31T19:58:27Z","updated_at":"2020-03-31T19:58:51Z","author_association":"CONTRIBUTOR","body":"Ok, much progress! The default cases without Tensorpack loader are functional: [output](https://gist.github.com/tbenst/db8f258c7f3bdc0f8d1d024342513798).\r\n\r\nSeems like this stalls at `deeplabcut.train_network(path_config_file,shuffle=2,allow_growth=True)`. There is a warning that may be helpful:\r\n```\r\n[0331 19:38:05 @parallel.py:355] [MultiProcessRunnerZMQ] Will fork a dataflow more than one times. This assumes the datapoints are i.i.d.\r\n[0331 19:38:06 @argtools.py:146] WRN Starting a process with 'fork' method is not safe and may consume unnecessary extra CPU memory. Use 'forkserver/spawn' method (available after Py3.4) instead if you run into any issues. See https://docs.python.org/3/library/multiprocessing.html#contexts-and-start-methods\r\n```\r\n\r\nAny ideas? Many thanks","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606842824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tbenst","id":863327,"node_id":"MDQ6VXNlcjg2MzMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/863327?v=4","gravatar_id":"","url":"https://api.github.com/users/tbenst","html_url":"https://github.com/tbenst","followers_url":"https://api.github.com/users/tbenst/followers","following_url":"https://api.github.com/users/tbenst/following{/other_user}","gists_url":"https://api.github.com/users/tbenst/gists{/gist_id}","starred_url":"https://api.github.com/users/tbenst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbenst/subscriptions","organizations_url":"https://api.github.com/users/tbenst/orgs","repos_url":"https://api.github.com/users/tbenst/repos","events_url":"https://api.github.com/users/tbenst/events{/privacy}","received_events_url":"https://api.github.com/users/tbenst/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606848714","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-606848714","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":606848714,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjg0ODcxNA==","user":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"created_at":"2020-03-31T20:11:00Z","updated_at":"2020-03-31T20:11:00Z","author_association":"MEMBER","body":"I think that process is from tensorpack I think.\n\n________________________________\nFrom: tbenst <notifications@github.com>\nSent: Tuesday, March 31, 2020 3:58:42 PM\nTo: AlexEMG/DeepLabCut <DeepLabCut@noreply.github.com>\nCc: Mathis, Alexander Thomas <amathis@fas.harvard.edu>; Comment <comment@noreply.github.com>\nSubject: Re: [AlexEMG/DeepLabCut] examples/testscript.py hangs (#637)\n\n\nOk, much progress! The default cases without Tensorpack loader are functional: output<https://urldefense.proofpoint.com/v2/url?u=https-3A__gist.github.com_tbenst_db8f258c7f3bdc0f8d1d024342513798&d=DwMCaQ&c=WO-RGvefibhHBZq3fL85hQ&r=11wEEDBv3Ke3n3b8dICjuQC5vgZ23dfGPax018VOZ2g&m=CFd4FmL5araFBpcJlPnMUS6mVmO0PCfdxtNWjIqXTz0&s=vDJLsbkyioop7Kl_kCR__U7GFz5MQUHTJYB8U5rE9UY&e=>. The process never closes however, and I'm a bit confused why I see CREATING DATASET after the ALL DONE!!! message\n\nSeems like this stalls at deeplabcut.train_network(path_config_file,shuffle=2,allow_growth=True). There is a warning that may be helpful:\n\n[0331 19:38:05 @parallel.py:355] [MultiProcessRunnerZMQ] Will fork a dataflow more than one times. This assumes the datapoints are i.i.d.\n[0331 19:38:06 @argtools.py:146] WRN Starting a process with 'fork' method is not safe and may consume unnecessary extra CPU memory. Use 'forkserver/spawn' method (available after Py3.4) instead if you run into any issues. See https://docs.python.org/3/library/multiprocessing.html#contexts-and-start-methods\n\n\nAny ideas? Many thanks\n\n—\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_AlexEMG_DeepLabCut_issues_637-23issuecomment-2D606842824&d=DwMCaQ&c=WO-RGvefibhHBZq3fL85hQ&r=11wEEDBv3Ke3n3b8dICjuQC5vgZ23dfGPax018VOZ2g&m=CFd4FmL5araFBpcJlPnMUS6mVmO0PCfdxtNWjIqXTz0&s=O_tcsmKsyaxgu6hbAY0KODEZnqPVs8gxh6pcH9jfufw&e=>, or unsubscribe<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_notifications_unsubscribe-2Dauth_AE7CMXVPRH3MZDN6BU3ESBLRKJDPFANCNFSM4LURGRMA&d=DwMCaQ&c=WO-RGvefibhHBZq3fL85hQ&r=11wEEDBv3Ke3n3b8dICjuQC5vgZ23dfGPax018VOZ2g&m=CFd4FmL5araFBpcJlPnMUS6mVmO0PCfdxtNWjIqXTz0&s=wVOkfc1SMDUx8HNv-w3su-wMO0Uxbrk4lH_6ftlnBUw&e=>.\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606848714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606868137","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-606868137","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":606868137,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjg2ODEzNw==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2020-03-31T20:50:45Z","updated_at":"2020-03-31T20:50:45Z","author_association":"MEMBER","body":"Yes, this is from tensorpack, if you don't run on a linux (ubuntu, etc) this is a warning one gets/the process never stops... hence why we test for defualt loader, imgaug, and then only tensorpack support for ubuntu :) although interesting you get this on MKL","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606868137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606869356","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-606869356","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":606869356,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjg2OTM1Ng==","user":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"created_at":"2020-03-31T20:53:29Z","updated_at":"2020-03-31T20:53:29Z","author_association":"MEMBER","body":"https://github.com/AlexEMG/DeepLabCut/blob/master/examples/testscript.py#L41\n\nThe latest testscript excludes tensorpack though.\n\n________________________________\nFrom: Mackenzie Mathis <notifications@github.com>\nSent: Tuesday, March 31, 2020 4:51:00 PM\nTo: AlexEMG/DeepLabCut <DeepLabCut@noreply.github.com>\nCc: Mathis, Alexander Thomas <amathis@fas.harvard.edu>; Comment <comment@noreply.github.com>\nSubject: Re: [AlexEMG/DeepLabCut] examples/testscript.py hangs (#637)\n\n\nYes, this is from tensorpack, if you don't run on a linux (ubuntu, etc) this is a warning one gets/the process never stops... hence why we test for defualt loader, imgaug, and then only tensorpack support for ubuntu :) although interesting you get this on MKL\n\n—\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_AlexEMG_DeepLabCut_issues_637-23issuecomment-2D606868137&d=DwMCaQ&c=WO-RGvefibhHBZq3fL85hQ&r=11wEEDBv3Ke3n3b8dICjuQC5vgZ23dfGPax018VOZ2g&m=BPu5VyXNIRXO5ZTvzZ8u_Sw5C3E6E0ZtVSU8VevhoPw&s=7kNAQ3ZHuL6JLimYtDLUqWy4OASErhNsLa5x1GIIgTY&e=>, or unsubscribe<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_notifications_unsubscribe-2Dauth_AE7CMXSIBKG2QYZEGPRVM7TRKJJTJANCNFSM4LURGRMA&d=DwMCaQ&c=WO-RGvefibhHBZq3fL85hQ&r=11wEEDBv3Ke3n3b8dICjuQC5vgZ23dfGPax018VOZ2g&m=BPu5VyXNIRXO5ZTvzZ8u_Sw5C3E6E0ZtVSU8VevhoPw&s=3w5FhBnuzJxvGtTvsPiPGzeMLchB4RbkDtOcBeQfxY0&e=>.\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606869356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606893058","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-606893058","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":606893058,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjg5MzA1OA==","user":{"login":"tbenst","id":863327,"node_id":"MDQ6VXNlcjg2MzMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/863327?v=4","gravatar_id":"","url":"https://api.github.com/users/tbenst","html_url":"https://github.com/tbenst","followers_url":"https://api.github.com/users/tbenst/followers","following_url":"https://api.github.com/users/tbenst/following{/other_user}","gists_url":"https://api.github.com/users/tbenst/gists{/gist_id}","starred_url":"https://api.github.com/users/tbenst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbenst/subscriptions","organizations_url":"https://api.github.com/users/tbenst/orgs","repos_url":"https://api.github.com/users/tbenst/repos","events_url":"https://api.github.com/users/tbenst/events{/privacy}","received_events_url":"https://api.github.com/users/tbenst/received_events","type":"User","site_admin":false},"created_at":"2020-03-31T21:43:41Z","updated_at":"2020-03-31T21:43:41Z","author_association":"CONTRIBUTOR","body":"Yes, this is being run on Linux (although NixOS is admittedly a less common distribution) & I'm running the latest DLC tag. I was not successful in running the tensorpack tests, so I agree with your diagnosis that tensorpack is the issue, thank you!\r\n\r\nBtw, I can confirm that the KMeans hang is indeed solely due to `openblas`, I ran `testscript.py` with all the same dependencies that worked with `MKL` so conclusively isolated that problem at least.","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606893058/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tbenst","id":863327,"node_id":"MDQ6VXNlcjg2MzMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/863327?v=4","gravatar_id":"","url":"https://api.github.com/users/tbenst","html_url":"https://github.com/tbenst","followers_url":"https://api.github.com/users/tbenst/followers","following_url":"https://api.github.com/users/tbenst/following{/other_user}","gists_url":"https://api.github.com/users/tbenst/gists{/gist_id}","starred_url":"https://api.github.com/users/tbenst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbenst/subscriptions","organizations_url":"https://api.github.com/users/tbenst/orgs","repos_url":"https://api.github.com/users/tbenst/repos","events_url":"https://api.github.com/users/tbenst/events{/privacy}","received_events_url":"https://api.github.com/users/tbenst/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606957274","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/637#issuecomment-606957274","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/637","id":606957274,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjk1NzI3NA==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2020-04-01T00:25:57Z","updated_at":"2020-04-01T00:25:57Z","author_association":"MEMBER","body":"I will close the issue, since we know the culprit regarding openblas, but please feel free to post more if something comes up! ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/606957274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"id":3185670224,"node_id":"MDExOkNsb3NlZEV2ZW50MzE4NTY3MDIyNA==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3185670224","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-04-01T00:25:57Z","state_reason":null,"performed_via_github_app":null},{"id":3185708646,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzE4NTcwODY0Ng==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3185708646","actor":{"login":"tbenst","id":863327,"node_id":"MDQ6VXNlcjg2MzMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/863327?v=4","gravatar_id":"","url":"https://api.github.com/users/tbenst","html_url":"https://github.com/tbenst","followers_url":"https://api.github.com/users/tbenst/followers","following_url":"https://api.github.com/users/tbenst/following{/other_user}","gists_url":"https://api.github.com/users/tbenst/gists{/gist_id}","starred_url":"https://api.github.com/users/tbenst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbenst/subscriptions","organizations_url":"https://api.github.com/users/tbenst/orgs","repos_url":"https://api.github.com/users/tbenst/repos","events_url":"https://api.github.com/users/tbenst/events{/privacy}","received_events_url":"https://api.github.com/users/tbenst/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-04-01T00:46:25Z","rename":{"from":"examples/testscript.py hangs","to":"examples/testscript.py hangs on Kmeans clustering"},"performed_via_github_app":null}]