[{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/815649725","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1182#issuecomment-815649725","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1182","id":815649725,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTY0OTcyNQ==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2021-04-08T10:31:20Z","updated_at":"2021-04-08T10:31:20Z","author_association":"MEMBER","body":"The `config.yaml` sets batchsize for video analysis only; for training, you need to either edit the `pose_cfg.yaml` file. You should also pass `allow_growth = True`.\r\n\r\nFor every function, if you look at the docstrings it will give you all the options. For example:\r\n\r\n```python\r\nipython\r\nimport deeplabcut\r\ndeeplabcut.train_network?\r\n\r\ntrain_network(config, shuffle=1, trainingsetindex=0, max_snapshots_to_keep=5, displayiters=None, saveiters=None, maxiters=None, allow_growth=False, gputouse=None, autotune=False, keepdeconvweights=True, modelprefix='')\r\n    Trains the network with the labels in the training dataset.\r\n\r\n    Parameter\r\n    ----------\r\n    config : string\r\n        Full path of the config.yaml file as a string.\r\n\r\n    shuffle: int, optional\r\n        Integer value specifying the shuffle index to select for training. Default is set to 1\r\n\r\n    trainingsetindex: int, optional\r\n        Integer specifying which TrainingsetFraction to use. By default the first (note that TrainingFraction is a list in config.yaml).\r\n\r\n    Additional parameters:\r\n\r\n    max_snapshots_to_keep: int, or None. Sets how many snapshots are kept, i.e. states of the trained network. Every savinginteration many times\r\n        a snapshot is stored, however only the last max_snapshots_to_keep many are kept! If you change this to None, then all are kept.\r\n        See: https://github.com/AlexEMG/DeepLabCut/issues/8#issuecomment-387404835\r\n\r\n    displayiters: this variable is actually set in pose_config.yaml. However, you can overwrite it with this hack. Don't use this regularly, just if you are too lazy to dig out\r\n        the pose_config.yaml file for the corresponding project. If None, the value from there is used, otherwise it is overwritten! Default: None\r\n\r\n    saveiters: this variable is actually set in pose_config.yaml. However, you can overwrite it with this hack. Don't use this regularly, just if you are too lazy to dig out\r\n        the pose_config.yaml file for the corresponding project. If None, the value from there is used, otherwise it is overwritten! Default: None\r\n\r\n    maxiters: this variable is actually set in pose_config.yaml. However, you can overwrite it with this hack. Don't use this regularly, just if you are too lazy to dig out\r\n        the pose_config.yaml file for the corresponding project. If None, the value from there is used, otherwise it is overwritten! Default: None\r\n\r\n    allow_groth: bool, default false.\r\n        For some smaller GPUs the memory issues happen. If true, the memory allocator does not pre-allocate the entire specified\r\n        GPU memory region, instead starting small and growing as needed. See issue: https://forum.image.sc/t/how-to-stop-running-out-of-vram/30551/2\r\n\r\n    gputouse: int, optional. Natural number indicating the number of your GPU (see number in nvidia-smi). If you do not have a GPU put None.\r\n        See: https://nvidia.custhelp.com/app/answers/detail/a_id/3751/~/useful-nvidia-smi-queries\r\n\r\n    autotune: property of TensorFlow, somehow faster if 'false' (as Eldar found out, see https://github.com/tensorflow/tensorflow/issues/13317). Default: False\r\n:","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/815649725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"id":4567823147,"node_id":"MDExOkNsb3NlZEV2ZW50NDU2NzgyMzE0Nw==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/4567823147","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-04-08T10:31:20Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/815650822","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1182#issuecomment-815650822","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1182","id":815650822,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTY1MDgyMg==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2021-04-08T10:33:12Z","updated_at":"2021-04-08T10:33:12Z","author_association":"MEMBER","body":"And, if you change the batchsize, you need to carefully think about how long to train for; i.e. the default 50K would not be enough unless you do batchsize 8, which is what we recommend! \r\n\r\nMy guess is your new data is not cropped to the same size. You can't use batch training unless all images match dimensions.... so, you need to crop the new frames. ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/815650822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"id":4567833511,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDU2NzgzMzUxMQ==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/4567833511","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-04-08T10:33:28Z","rename":{"from":"Training crashes.","to":"How to set batchsize for maDLC"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/815667016","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1182#issuecomment-815667016","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1182","id":815667016,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTY2NzAxNg==","user":{"login":"DorianBattivelli","id":66886884,"node_id":"MDQ6VXNlcjY2ODg2ODg0","avatar_url":"https://avatars.githubusercontent.com/u/66886884?v=4","gravatar_id":"","url":"https://api.github.com/users/DorianBattivelli","html_url":"https://github.com/DorianBattivelli","followers_url":"https://api.github.com/users/DorianBattivelli/followers","following_url":"https://api.github.com/users/DorianBattivelli/following{/other_user}","gists_url":"https://api.github.com/users/DorianBattivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/DorianBattivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DorianBattivelli/subscriptions","organizations_url":"https://api.github.com/users/DorianBattivelli/orgs","repos_url":"https://api.github.com/users/DorianBattivelli/repos","events_url":"https://api.github.com/users/DorianBattivelli/events{/privacy}","received_events_url":"https://api.github.com/users/DorianBattivelli/received_events","type":"User","site_admin":false},"created_at":"2021-04-08T10:59:57Z","updated_at":"2021-04-08T10:59:57Z","author_association":"NONE","body":"Hello @MMathisLab ,\r\n\r\nThank you for the support. \r\nOk so, if I go for batch size = 1, I should do 50000  x 8 iterations: 400 000 iterations for training? \r\n\r\nFor the cropping, if you talk about the cropimagesandlabels function, I also cropped the new frames with 600x600 as I did for the first set of labeled frames. Should I do something else? \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/815667016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DorianBattivelli","id":66886884,"node_id":"MDQ6VXNlcjY2ODg2ODg0","avatar_url":"https://avatars.githubusercontent.com/u/66886884?v=4","gravatar_id":"","url":"https://api.github.com/users/DorianBattivelli","html_url":"https://github.com/DorianBattivelli","followers_url":"https://api.github.com/users/DorianBattivelli/followers","following_url":"https://api.github.com/users/DorianBattivelli/following{/other_user}","gists_url":"https://api.github.com/users/DorianBattivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/DorianBattivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DorianBattivelli/subscriptions","organizations_url":"https://api.github.com/users/DorianBattivelli/orgs","repos_url":"https://api.github.com/users/DorianBattivelli/repos","events_url":"https://api.github.com/users/DorianBattivelli/events{/privacy}","received_events_url":"https://api.github.com/users/DorianBattivelli/received_events","type":"User","site_admin":false}},{"id":4567955510,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDU2Nzk1NTUxMA==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/4567955510","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-08T10:59:57Z","performed_via_github_app":null},{"id":4567955517,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1Njc5NTU1MTc=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/4567955517","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-08T10:59:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/815727188","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1182#issuecomment-815727188","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1182","id":815727188,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTcyNzE4OA==","user":{"login":"DorianBattivelli","id":66886884,"node_id":"MDQ6VXNlcjY2ODg2ODg0","avatar_url":"https://avatars.githubusercontent.com/u/66886884?v=4","gravatar_id":"","url":"https://api.github.com/users/DorianBattivelli","html_url":"https://github.com/DorianBattivelli","followers_url":"https://api.github.com/users/DorianBattivelli/followers","following_url":"https://api.github.com/users/DorianBattivelli/following{/other_user}","gists_url":"https://api.github.com/users/DorianBattivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/DorianBattivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DorianBattivelli/subscriptions","organizations_url":"https://api.github.com/users/DorianBattivelli/orgs","repos_url":"https://api.github.com/users/DorianBattivelli/repos","events_url":"https://api.github.com/users/DorianBattivelli/events{/privacy}","received_events_url":"https://api.github.com/users/DorianBattivelli/received_events","type":"User","site_admin":false},"created_at":"2021-04-08T12:06:02Z","updated_at":"2021-04-08T12:06:02Z","author_association":"NONE","body":"Everything works now, thank you very much, \r\n\r\nBest, \r\nDorian ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/815727188/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DorianBattivelli","id":66886884,"node_id":"MDQ6VXNlcjY2ODg2ODg0","avatar_url":"https://avatars.githubusercontent.com/u/66886884?v=4","gravatar_id":"","url":"https://api.github.com/users/DorianBattivelli","html_url":"https://github.com/DorianBattivelli","followers_url":"https://api.github.com/users/DorianBattivelli/followers","following_url":"https://api.github.com/users/DorianBattivelli/following{/other_user}","gists_url":"https://api.github.com/users/DorianBattivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/DorianBattivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DorianBattivelli/subscriptions","organizations_url":"https://api.github.com/users/DorianBattivelli/orgs","repos_url":"https://api.github.com/users/DorianBattivelli/repos","events_url":"https://api.github.com/users/DorianBattivelli/events{/privacy}","received_events_url":"https://api.github.com/users/DorianBattivelli/received_events","type":"User","site_admin":false}}]