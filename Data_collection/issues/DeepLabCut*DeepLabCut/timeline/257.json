[{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479464776","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/257#issuecomment-479464776","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/257","id":479464776,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTQ2NDc3Ng==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2019-04-03T12:18:36Z","updated_at":"2019-04-03T12:19:40Z","author_association":"MEMBER","body":"Thanks for the kind words - always nice to hear from users :). So, Iâ€™m the frame extraction step does use openCV (if you are using the latest 2.0.5.1), and there is a flag to set: opencv=True (false uses moviepy). Check out the function here (or in the terminal check the docs by deeplabcut.extract_frames? https://github.com/AlexEMG/DeepLabCut/blob/master/deeplabcut/generate_training_dataset/frame_extraction.py","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479464776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479469847","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/257#issuecomment-479469847","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/257","id":479469847,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTQ2OTg0Nw==","user":{"login":"AmandineCornil","id":22766358,"node_id":"MDQ6VXNlcjIyNzY2MzU4","avatar_url":"https://avatars.githubusercontent.com/u/22766358?v=4","gravatar_id":"","url":"https://api.github.com/users/AmandineCornil","html_url":"https://github.com/AmandineCornil","followers_url":"https://api.github.com/users/AmandineCornil/followers","following_url":"https://api.github.com/users/AmandineCornil/following{/other_user}","gists_url":"https://api.github.com/users/AmandineCornil/gists{/gist_id}","starred_url":"https://api.github.com/users/AmandineCornil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmandineCornil/subscriptions","organizations_url":"https://api.github.com/users/AmandineCornil/orgs","repos_url":"https://api.github.com/users/AmandineCornil/repos","events_url":"https://api.github.com/users/AmandineCornil/events{/privacy}","received_events_url":"https://api.github.com/users/AmandineCornil/received_events","type":"User","site_admin":false},"created_at":"2019-04-03T12:34:52Z","updated_at":"2019-04-03T12:34:52Z","author_association":"CONTRIBUTOR","body":"Dear. Thanks a lot for your quick answer ! I add the flag to opencv=True but the error occurs before. You can see below the process (with the error) --> I add some print for fps, duration & nframes in the frame_extraction.py and you can see that the values are super strange (the real fps is 20 and not 25):\r\n\r\nIn [3]: deeplabcut.extract_frames(config_path,\"automatic\",\"uniform\", userfeedbac\r\n   ...: k=True, crop=True, opencv=True\r\n   ...: )\r\n/home/amandine/anaconda3/envs/Tracking/lib/python3.6/site-packages/deeplabcut/generate_training_dataset/frame_extraction.py:100: YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated, as the default Loader is unsafe. Please read https://msg.pyyaml.org/load for full details.\r\n  cfg = yaml.load(ymlfile)\r\nConfig file read successfully.\r\nDo you want to extract (perhaps additional) frames for video: /home/amandine/Bureau/TestRaspTracking/Test1.h264 ?\r\nyes/noyes\r\n**fps 25.0\r\nnframes -192153584101141\r\nduration -7686143364045.64**\r\n/home/amandine/anaconda3/envs/Tracking/lib/python3.6/site-packages/deeplabcut/generate_training_dataset/frame_extraction.py:145: RuntimeWarning: invalid value encountered in log10\r\n  indexlength = int(np.ceil(np.log10(nframes)))\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-ff8694e32821> in <module>()\r\n----> 1 deeplabcut.extract_frames(config_path,\"automatic\",\"uniform\", userfeedback=True, crop=True, opencv=True\r\n      2 )\r\n\r\n/home/amandine/anaconda3/envs/Tracking/lib/python3.6/site-packages/deeplabcut/generate_training_dataset/frame_extraction.py in extract_frames(config, mode, algo, crop, userfeedback, cluster_step, cluster_resizewidth, cluster_color, opencv)\r\n    143                     duration=clip.duration\r\n    144                     nframes=int(np.ceil(clip.duration*1./fps))\r\n--> 145                 indexlength = int(np.ceil(np.log10(nframes)))\r\n    146                 if crop==True:\r\n    147                     if opencv:\r\n\r\nValueError: cannot convert float NaN to integer\r\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479469847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AmandineCornil","id":22766358,"node_id":"MDQ6VXNlcjIyNzY2MzU4","avatar_url":"https://avatars.githubusercontent.com/u/22766358?v=4","gravatar_id":"","url":"https://api.github.com/users/AmandineCornil","html_url":"https://github.com/AmandineCornil","followers_url":"https://api.github.com/users/AmandineCornil/followers","following_url":"https://api.github.com/users/AmandineCornil/following{/other_user}","gists_url":"https://api.github.com/users/AmandineCornil/gists{/gist_id}","starred_url":"https://api.github.com/users/AmandineCornil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmandineCornil/subscriptions","organizations_url":"https://api.github.com/users/AmandineCornil/orgs","repos_url":"https://api.github.com/users/AmandineCornil/repos","events_url":"https://api.github.com/users/AmandineCornil/events{/privacy}","received_events_url":"https://api.github.com/users/AmandineCornil/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479475437","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/257#issuecomment-479475437","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/257","id":479475437,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTQ3NTQzNw==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2019-04-03T12:51:37Z","updated_at":"2019-04-03T12:51:37Z","author_association":"MEMBER","body":"Hmm, seems an opencv loading issue then. maybe post to opencv/search there is .h264 is usable (I know the compression codec is, but store videos as .mp4 with the h264 codec, not named .h264 :/ or, you can just add a line of code to convert file to .mp4 as before/as it loads? ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479475437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479479855","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/257#issuecomment-479479855","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/257","id":479479855,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTQ3OTg1NQ==","user":{"login":"AmandineCornil","id":22766358,"node_id":"MDQ6VXNlcjIyNzY2MzU4","avatar_url":"https://avatars.githubusercontent.com/u/22766358?v=4","gravatar_id":"","url":"https://api.github.com/users/AmandineCornil","html_url":"https://github.com/AmandineCornil","followers_url":"https://api.github.com/users/AmandineCornil/followers","following_url":"https://api.github.com/users/AmandineCornil/following{/other_user}","gists_url":"https://api.github.com/users/AmandineCornil/gists{/gist_id}","starred_url":"https://api.github.com/users/AmandineCornil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmandineCornil/subscriptions","organizations_url":"https://api.github.com/users/AmandineCornil/orgs","repos_url":"https://api.github.com/users/AmandineCornil/repos","events_url":"https://api.github.com/users/AmandineCornil/events{/privacy}","received_events_url":"https://api.github.com/users/AmandineCornil/received_events","type":"User","site_admin":false},"created_at":"2019-04-03T13:03:56Z","updated_at":"2019-04-03T13:03:56Z","author_association":"CONTRIBUTOR","body":"I don't have the choice with the Raspberry Pi, it's .h264. And it's working with opencv with my scripts, it's why I don't understand why there is a problem here. I also tried to run my scripts with the same env and it works, so it's not a possible version problem. But don't worry, when I will have more time I can go deeper in your script to dissect the problem.\r\nBest !","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479479855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AmandineCornil","id":22766358,"node_id":"MDQ6VXNlcjIyNzY2MzU4","avatar_url":"https://avatars.githubusercontent.com/u/22766358?v=4","gravatar_id":"","url":"https://api.github.com/users/AmandineCornil","html_url":"https://github.com/AmandineCornil","followers_url":"https://api.github.com/users/AmandineCornil/followers","following_url":"https://api.github.com/users/AmandineCornil/following{/other_user}","gists_url":"https://api.github.com/users/AmandineCornil/gists{/gist_id}","starred_url":"https://api.github.com/users/AmandineCornil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmandineCornil/subscriptions","organizations_url":"https://api.github.com/users/AmandineCornil/orgs","repos_url":"https://api.github.com/users/AmandineCornil/repos","events_url":"https://api.github.com/users/AmandineCornil/events{/privacy}","received_events_url":"https://api.github.com/users/AmandineCornil/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479531506","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/257#issuecomment-479531506","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/257","id":479531506,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTUzMTUwNg==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2019-04-03T15:10:00Z","updated_at":"2019-04-03T15:10:00Z","author_association":"MEMBER","body":"Thanks (sorry I don't have more time now). If you want to post the code you use to load the video so I can compare though, that would be great. I will \"close\" the issue for now, but please keep us updated on this thread :). ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/479531506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"id":2250180974,"node_id":"MDExOkNsb3NlZEV2ZW50MjI1MDE4MDk3NA==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/2250180974","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-04-03T15:10:00Z","state_reason":null,"performed_via_github_app":null},{"id":2250182187,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjI1MDE4MjE4Nw==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/2250182187","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-04-03T15:10:20Z","rename":{"from":"PiCamera (Raspberry Pi videos)","to":"PiCamera (Raspberry Pi videos) .h264 video support in opencv"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/481765232","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/257#issuecomment-481765232","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/257","id":481765232,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTc2NTIzMg==","user":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T16:32:53Z","updated_at":"2019-04-10T16:32:53Z","author_association":"MEMBER","body":"Seems like opencv cannot deal with your video? You could try (to use moviepy): deeplabcut.extract_frames(config_path,\"automatic\",\"uniform\", userfeedback=True, crop=True, opencv=False)\r\n\r\nor convert them?\r\nor make sure you have the right codec for your video in opencv?","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/481765232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexEMG","id":20850270,"node_id":"MDQ6VXNlcjIwODUwMjcw","avatar_url":"https://avatars.githubusercontent.com/u/20850270?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexEMG","html_url":"https://github.com/AlexEMG","followers_url":"https://api.github.com/users/AlexEMG/followers","following_url":"https://api.github.com/users/AlexEMG/following{/other_user}","gists_url":"https://api.github.com/users/AlexEMG/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexEMG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexEMG/subscriptions","organizations_url":"https://api.github.com/users/AlexEMG/orgs","repos_url":"https://api.github.com/users/AlexEMG/repos","events_url":"https://api.github.com/users/AlexEMG/events{/privacy}","received_events_url":"https://api.github.com/users/AlexEMG/received_events","type":"User","site_admin":false}}]