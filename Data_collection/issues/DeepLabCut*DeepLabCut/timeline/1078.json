[{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/759498768","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1078#issuecomment-759498768","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1078","id":759498768,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTQ5ODc2OA==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2021-01-13T14:51:52Z","updated_at":"2021-01-13T14:51:52Z","author_association":"MEMBER","body":"yes, please see this issue and resolution here: https://github.com/DeepLabCut/DeepLabCut/issues/944 (i.e, would be good to post there, or in deeplabcutcore, as that is the code you are using, vs. new issue here) & please note the you need to use the correct CUDA for 2.5, which is not CUDA 10; please carefully check your driver, CUDA, and TF versions: https://www.tensorflow.org/install/source#gpu\r\n\r\nI would never recommend using the nightly build of TF until you know you have an env. that works; please try a stable release: \r\n\r\n![Screen Shot 2021-01-13 at 3 51 09 PM](https://user-images.githubusercontent.com/28102185/104468005-3e728200-55b7-11eb-9b03-2c2e7cefdd99.png)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/759498768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"id":4201616036,"node_id":"MDExOkNsb3NlZEV2ZW50NDIwMTYxNjAzNg==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/4201616036","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-01-13T14:51:53Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"dlramamurthy","id":42419792,"node_id":"MDQ6VXNlcjQyNDE5Nzky","avatar_url":"https://avatars.githubusercontent.com/u/42419792?v=4","gravatar_id":"","url":"https://api.github.com/users/dlramamurthy","html_url":"https://github.com/dlramamurthy","followers_url":"https://api.github.com/users/dlramamurthy/followers","following_url":"https://api.github.com/users/dlramamurthy/following{/other_user}","gists_url":"https://api.github.com/users/dlramamurthy/gists{/gist_id}","starred_url":"https://api.github.com/users/dlramamurthy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlramamurthy/subscriptions","organizations_url":"https://api.github.com/users/dlramamurthy/orgs","repos_url":"https://api.github.com/users/dlramamurthy/repos","events_url":"https://api.github.com/users/dlramamurthy/events{/privacy}","received_events_url":"https://api.github.com/users/dlramamurthy/received_events","type":"User","site_admin":false},"created_at":"2021-01-13T18:50:49Z","updated_at":"2021-01-13T18:50:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues/13","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues/13/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues/13/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues/13/events","html_url":"https://github.com/DeepLabCut/DeepLabCut-core/issues/13","id":783804241,"node_id":"MDU6SXNzdWU3ODM4MDQyNDE=","number":13,"title":"Compatibility with RTX 3080","user":{"login":"PlatinumYao","id":30731064,"node_id":"MDQ6VXNlcjMwNzMxMDY0","avatar_url":"https://avatars.githubusercontent.com/u/30731064?v=4","gravatar_id":"","url":"https://api.github.com/users/PlatinumYao","html_url":"https://github.com/PlatinumYao","followers_url":"https://api.github.com/users/PlatinumYao/followers","following_url":"https://api.github.com/users/PlatinumYao/following{/other_user}","gists_url":"https://api.github.com/users/PlatinumYao/gists{/gist_id}","starred_url":"https://api.github.com/users/PlatinumYao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PlatinumYao/subscriptions","organizations_url":"https://api.github.com/users/PlatinumYao/orgs","repos_url":"https://api.github.com/users/PlatinumYao/repos","events_url":"https://api.github.com/users/PlatinumYao/events{/privacy}","received_events_url":"https://api.github.com/users/PlatinumYao/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-01-12T00:24:38Z","updated_at":"2021-05-20T13:31:02Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"repository":{"id":246129165,"node_id":"MDEwOlJlcG9zaXRvcnkyNDYxMjkxNjU=","name":"DeepLabCut-core","full_name":"DeepLabCut/DeepLabCut-core","private":false,"owner":{"login":"DeepLabCut","id":59848143,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU5ODQ4MTQz","avatar_url":"https://avatars.githubusercontent.com/u/59848143?v=4","gravatar_id":"","url":"https://api.github.com/users/DeepLabCut","html_url":"https://github.com/DeepLabCut","followers_url":"https://api.github.com/users/DeepLabCut/followers","following_url":"https://api.github.com/users/DeepLabCut/following{/other_user}","gists_url":"https://api.github.com/users/DeepLabCut/gists{/gist_id}","starred_url":"https://api.github.com/users/DeepLabCut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeepLabCut/subscriptions","organizations_url":"https://api.github.com/users/DeepLabCut/orgs","repos_url":"https://api.github.com/users/DeepLabCut/repos","events_url":"https://api.github.com/users/DeepLabCut/events{/privacy}","received_events_url":"https://api.github.com/users/DeepLabCut/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/DeepLabCut/DeepLabCut-core","description":"Headless DeepLabCut (no GUI support)","fork":false,"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core","forks_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/forks","keys_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/teams","hooks_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/hooks","issue_events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues/events{/number}","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/events","assignees_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/assignees{/user}","branches_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/branches{/branch}","tags_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/tags","blobs_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/statuses/{sha}","languages_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/languages","stargazers_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/stargazers","contributors_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/contributors","subscribers_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/subscribers","subscription_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/subscription","commits_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/contents/{+path}","compare_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/merges","archive_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/downloads","issues_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues{/number}","pulls_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/pulls{/number}","milestones_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/milestones{/number}","notifications_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/labels{/name}","releases_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/releases{/id}","deployments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/deployments","created_at":"2020-03-09T19:55:49Z","updated_at":"2022-07-12T04:26:48Z","pushed_at":"2021-06-30T19:47:57Z","git_url":"git://github.com/DeepLabCut/DeepLabCut-core.git","ssh_url":"git@github.com:DeepLabCut/DeepLabCut-core.git","clone_url":"https://github.com/DeepLabCut/DeepLabCut-core.git","svn_url":"https://github.com/DeepLabCut/DeepLabCut-core","homepage":"http://deeplabcut.org","size":44189,"stargazers_count":30,"watchers_count":30,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":17,"mirror_url":null,"archived":true,"disabled":false,"open_issues_count":7,"license":{"key":"lgpl-3.0","name":"GNU Lesser General Public License v3.0","spdx_id":"LGPL-3.0","url":"https://api.github.com/licenses/lgpl-3.0","node_id":"MDc6TGljZW5zZTEy"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["behavior-analysis","deep-learning","deeplabcut","pose-estimation","pose-tracking"],"visibility":"public","forks":17,"open_issues":7,"watchers":30,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"OS: Win 10\r\nDeepLabCut Version: DeepLabCut-core tf 2.2 alpha\r\nAnaconda env used: DLC-GPU (clone the DLC-GPU env and uninstall the CUDA and cudnn)\r\nTensorflow Version:  TF2.3, TF2.4, or tf-nightly, installed with pip (see below)\r\nCuda version: 11.0 and 11.1 (see below)\r\n\r\nHi everyone,\r\nFirst of all, I want to say thank you to the deeplabcut team! I have been using the DLC for whisker tracking on an RTX 2060 for a while and it significantly facilitates my project. \r\nRecently, I got an RTX 3080 in the lab. However, I had a hard time setting it up for DLC due to the compatibility issue. First, I noticed that RTX 3000 series does not support CUDA 10.x or earlier versions, so I installed CUDA 11.0 or CUDA 11.1 with the coresponding CuDNN on my windows. And I also cloned DLC-GPU conda environment and uninstalled the original CUDA and cudnn in the environment to prevent conflict.\r\nTensorFlow starts to support CUDA 11.0 from TensorFlow 2.4, so I installed the TensorFlow 2.4 or tf-nightly-2.5 in the conda environment (via pip). I also tried TF-2.3 to check whether TF-2.3 is indeed incompatible with CUDA 11.x. I followed the \r\nhttps://github.com/DeepLabCut/DeepLabCut-core/blob/tf2.2alpha/Colab_TrainNetwork_VideoAnalysis_TF2.ipynb\r\nto install DeepLabCut-core tf 2.2 alpha and tf-slim and run the deeplabcut-core. However, I could not get it to start training in any of the settings.\r\nHere is the summary\r\nCUDA 11.0 | TF-2.3 | TF cannot recognize GPU as it is looking for .dll files that only exist in CUDA10.x \r\nCUDA 11.0 | TF-2.4 | TF can recognize GPU smoothly, cannot start training with an error message (see Notes 1) \r\nCUDA 11.0 | TF-nightly | TF can recognize GPU smoothly, cannot start training with an error message (see Notes  1) \r\nCUDA 11.1 | TF-2.4| TF can recognize GPU with a trick (see Notes  2), cannot start training with no error message \r\nCUDA 11.1 | TF-nightly | TF can recognize GPU with a trick (see Notes  2), cannot start training with no error message \r\nI tested some simple TensorFlow script (https://www.tensorflow.org/tutorials/quickstart/advanced), they seemed to work fine on GPU in the last 4 configurations that I listed above.\r\n\r\nNotes 1: Error message: failed to create cublas handle: CUBLAS_STATUS_ALLOC_FAILED.  And I saw the VRAM exploded in Windows Task manager after I started training. I tried to restrict the memory to a lower use by \"config.gpu_options.per_process_gpu_memory_fraction = 0.6\". It did not help, unfortunately.\r\n\r\nNotes  2: TF could not recognize GPU because it could find \"cusolver64_10.dll\" which exists in CUDA 11.0 but replaced by \"cusolver64_11.dll\" in CUDA 11.1. So I copied \"cusolver64_11.dll\" and renamed it as \"cusolver64_10.dll\". Although TF can recognize GPU after that, it cannot start training. I saw the VRAM usage increased (but did not explode) in task manager after training start and after ~ 30 seconds, ipython or python just closed itself without any error message.\r\n\r\nI also carefully followed the suggestions in https://github.com/DeepLabCut/DeepLabCut/issues/944. They are very useful suggestions. However, I still cannot get my RTX3080 work.\r\n\r\nDo you have any more suggestions that I could try? \r\nDoes anyone have a guide to set DLC-Core on RTX 3000 Series?\r\n\r\nThank you in advance\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues/13/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut-core/issues/13/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]