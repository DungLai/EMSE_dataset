[{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653207699","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-653207699","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":653207699,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzIwNzY5OQ==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2020-07-02T20:31:20Z","updated_at":"2020-07-02T20:31:20Z","author_association":"MEMBER","body":"Yep! This support was added in 2.2b6, so please upgrade 👯 ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653207699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653242271","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-653242271","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":653242271,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzI0MjI3MQ==","user":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"created_at":"2020-07-02T22:17:45Z","updated_at":"2020-07-02T22:17:45Z","author_association":"NONE","body":"I had to downgrade to 2.2b5 because launching the refine tracklets GUI in 2.2b6 caused a memory leak and crashed dlc (on multiple systems). I should have clarified this.","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653242271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653248733","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-653248733","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":653248733,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzI0ODczMw==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2020-07-02T22:40:26Z","updated_at":"2020-07-02T22:40:26Z","author_association":"MEMBER","body":"can you share the memory leak issue?","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653248733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653561283","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-653561283","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":653561283,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzU2MTI4Mw==","user":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"created_at":"2020-07-03T13:58:02Z","updated_at":"2020-07-03T13:58:02Z","author_association":"NONE","body":"On Ubuntu it doesn't produce an error message, the terminal simply reports that the process has been killed.\r\nThis peak in RAM usage after I launch the tracklet GUI that renders the PC unresponsive until dlc is killed suggested a memory leak to me: \r\n![image](https://user-images.githubusercontent.com/66742593/86475284-49ad4100-bd3c-11ea-8454-036f01b2cd3a.png)\r\n\r\nMy videos are 12 minutes long and are at most 200 MB big, though the crash doesn't happen with a short 30 second clip where all labels appear as expected. \r\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653561283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653600209","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-653600209","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":653600209,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzYwMDIwOQ==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2020-07-03T15:37:29Z","updated_at":"2020-07-03T15:37:29Z","author_association":"MEMBER","body":"awe yes, the video is just too large, unfortunately given the available memory then.  \r\n\r\nOne workflow is to simply use shorted videos and use the GUI to be sure you have optimal tracking parameters.\r\n\r\nthen, you can skip the GUI if you are happy in general:\r\n\r\nLastly, let's say you've optimized the inference_cfg.yaml (i.e., tracking) parameters, and you want to just apply this to a set of videos and by-pass the tracklet GUI, you can pass the pickle file directly from analyze_videos (and your config.yaml full path) and run:\r\n\r\n`deeplabcut.convert_raw_tracks_to_h5(path_config_file, picklefile)`\r\n\r\nso, in short, you should update to 2.2b6 so you get all the points, but your RAM is too small for such a large video to parse, so set your tracking parameters on a shorter one 👍 ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/653600209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"id":3511453277,"node_id":"MDExOkNsb3NlZEV2ZW50MzUxMTQ1MzI3Nw==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3511453277","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-07-03T15:37:29Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/654893472","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-654893472","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":654893472,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDg5MzQ3Mg==","user":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"created_at":"2020-07-07T14:15:07Z","updated_at":"2020-07-08T18:44:49Z","author_association":"NONE","body":"Thank you, I've tried to circumvent the GUI using the convert_raw_tracks_to_h5() function, however, I still run out of memory as with the GUI:\r\n\r\n<details><summary>Code output</summary><p>\r\n\r\n```python\r\n\r\nMemoryError                               Traceback (most recent call last)\r\n\r\n<ipython-input-8-3d1e39fa01e7> in <module>\r\n\r\n      1 for pickle_file in pickles:\r\n\r\n      2     print(pickle_file)\r\n\r\n----> 3     dlc.convert_raw_tracks_to_h5(config_path, pickle_file)\r\n\r\n      4\r\n\r\n\r\n\r\n~\\anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\tracklets.py in convert_raw_tracks_to_h5(config, tracks_pickle, output_name)\r\n\r\n   1071 def convert_raw_tracks_to_h5(config, tracks_pickle, output_name=\"\"):\r\n\r\n   1072     manager = TrackletManager(config, 0, 0)\r\n\r\n-> 1073     manager.load_tracklets_from_pickle(tracks_pickle)\r\n\r\n   1074     manager.save(output_name)\r\n\r\n\r\n\r\n~\\anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\tracklets.py in load_tracklets_from_pickle(self, filename, auto_fill)\r\n\r\n    330         with open(filename, \"rb\") as file:\r\n\r\n    331             tracklets = pickle.load(file)\r\n\r\n--> 332         self._load_tracklets(tracklets, auto_fill)\r\n\r\n    333         self._xy = self.xy.copy()\r\n\r\n    334\r\n\r\n\r\n\r\n~\\anaconda3\\envs\\DLC-GPU\\lib\\site-packages\\deeplabcut\\refine_training_dataset\\tracklets.py in _load_tracklets(self, tracklets, auto_fill)\r\n\r\n    205                 is_single = np.isnan(to_fill[:, mask_multi]).all()\r\n\r\n    206                 if is_single:\r\n\r\n--> 207                     to_fill = to_fill[:, mask_single]\r\n\r\n    208                 else:\r\n\r\n    209                     to_fill = to_fill[:, mask_multi]\r\n\r\n\r\n\r\nMemoryError:\r\n\r\n```\r\n\r\n</p></details>\r\n\r\nIs this expected even for a 12MB .pickle file? \r\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/654893472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false}},{"id":3526550995,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQzNTI2NTUwOTk1","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3526550995","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-07-08T18:44:21Z","assignee":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"id":3526551230,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQzNTI2NTUxMjMw","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3526551230","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-07-08T18:44:25Z","assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/655704552","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-655704552","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":655704552,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTcwNDU1Mg==","user":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"created_at":"2020-07-08T19:14:23Z","updated_at":"2020-07-08T19:14:23Z","author_association":"MEMBER","body":"Hi @xneven, could you re-try as follows and let me know if things changed?\r\n`manager = TrackletManager(config, 0, 0.01, max_gap=1)`\r\n`manager.load_tracklets_from_pickle(tracks_pickle)`","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/655704552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}},{"id":3526654920,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzUyNjY1NDkyMA==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3526654920","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-08T19:14:24Z","performed_via_github_app":null},{"id":3526654926,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1MjY2NTQ5MjY=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3526654926","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-08T19:14:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/655713556","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-655713556","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":655713556,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTcxMzU1Ng==","user":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"created_at":"2020-07-08T19:34:11Z","updated_at":"2020-07-08T19:34:11Z","author_association":"NONE","body":"That works! thank you :)","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/655713556/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/656146011","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-656146011","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":656146011,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjE0NjAxMQ==","user":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"created_at":"2020-07-09T14:01:57Z","updated_at":"2020-07-09T14:01:57Z","author_association":"NONE","body":"On closer inspection the .h5 files were successfully generated, however, they are now missing the unique body parts. I checked that this only happens with the code modification discussed above.","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/656146011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/656157090","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-656157090","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":656157090,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjE1NzA5MA==","user":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"created_at":"2020-07-09T14:20:53Z","updated_at":"2020-07-09T14:20:53Z","author_association":"MEMBER","body":"@xneven, the only explanation I have is that your \"unique\" keypoints are made of a succession of very short tracklets (less than 1% the number of frames), and are therefore discarded. There is a coming update that will let you specify that threshold in absolute (rather than relative) # of frames. Meanwhile, you could try with an even lower value (perhaps 0.0005; i.e., if your video is 10k-frame long, you'll get rid of artifacts shorted than 5 frames). ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/656157090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}},{"id":3529942666,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzUyOTk0MjY2Ng==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3529942666","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-09T14:20:53Z","performed_via_github_app":null},{"id":3529942667,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1Mjk5NDI2Njc=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3529942667","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-09T14:20:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/657523982","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-657523982","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":657523982,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzUyMzk4Mg==","user":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"created_at":"2020-07-13T12:12:08Z","updated_at":"2020-07-13T12:12:08Z","author_association":"NONE","body":"I've been playing around with this threshold but I cannot get these missing body parts to appear, even though they are the most robustly tracked i.e. they are almost never occluded whereas the multianimal body parts are occluded or missing from frame quite frequently and yet their tracklets still get assembled. The unique body part tracklets should therefore definitely be longer than 1% of frames. On a shorter video lowering the threshold did make the unique body parts appear (0.0005 for 900 frame video) but I haven't had the same success with longer videos (~21500 frames), where making the threshold too low (e.g. 0.000045) leads to a memory crash again. ","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/657523982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658838842","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-658838842","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":658838842,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODgzODg0Mg==","user":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false},"created_at":"2020-07-15T15:35:01Z","updated_at":"2020-07-15T15:36:45Z","author_association":"CONTRIBUTOR","body":"I am having this exact same problem with hour long 90 fps videos. I am thinking ill have to read the pickle files directly into my analysis perhaps instead of converting to h5. Does this sound feasible in your opinion @jeylau ?. I made the changes you suggested to the convert_raw_tracks function but its still using up 99% of my memory (though this time it at least hasnt crashed yet). Ill leave it running overnight and update you in the morning.\r\n\r\nyour help is greatly appreciated.","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658838842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658841253","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-658841253","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":658841253,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODg0MTI1Mw==","user":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false},"created_at":"2020-07-15T15:39:48Z","updated_at":"2020-07-15T15:39:48Z","author_association":"CONTRIBUTOR","body":"Didnt have to wait so long for a result :) \r\n![OOM](https://user-images.githubusercontent.com/38996929/87565574-2b185400-c705-11ea-929f-e2f6d4d9b037.png)\r\n\r\nIf theres anything i can contribute to help solve this let me know!","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658841253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false}},{"id":3549144734,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU0OTE0NDczNA==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3549144734","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-15T15:48:32Z","performed_via_github_app":null},{"id":3549144735,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NDkxNDQ3MzU=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3549144735","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-15T15:48:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658850533","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-658850533","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":658850533,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODg1MDUzMw==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2020-07-15T15:59:24Z","updated_at":"2020-07-15T16:02:46Z","author_association":"MEMBER","body":"Hi @PolarBean we just updated the code base last night, to 2.2b7, which includes memory improvements for the tracklet manager, looking forward to your feedback. `pip install deeplabcut==2.2b7` (although any 1 hour video for a python/matplotlib fxn is going to be really hard ;)\r\n\r\n> @xneven, the only explanation I have is that your \"unique\" keypoints are made of a succession of very short tracklets (less than 1% the number of frames), and are therefore discarded. There is a coming update that will let you specify that threshold in absolute (rather than relative) # of frames., the only explanation I have is that your \"unique\" keypoints are made of a succession of very short tracklets (less than 1% the number of frames), and are therefore discarded. There is a coming update that will let you specify that threshold in absolute (rather than relative) # of frames.\r\n\r\n@xneven, this update is out! ^","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658850533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"id":3549220073,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU0OTIyMDA3Mw==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3549220073","actor":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-15T16:12:41Z","performed_via_github_app":null},{"id":3549220076,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NDkyMjAwNzY=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3549220076","actor":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-15T16:12:41Z","performed_via_github_app":null},{"id":3549234703,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU0OTIzNDcwMw==","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3549234703","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-15T16:16:10Z","performed_via_github_app":null},{"id":3549234710,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NDkyMzQ3MTA=","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/3549234710","actor":{"login":"xneven","id":66742593,"node_id":"MDQ6VXNlcjY2NzQyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/66742593?v=4","gravatar_id":"","url":"https://api.github.com/users/xneven","html_url":"https://github.com/xneven","followers_url":"https://api.github.com/users/xneven/followers","following_url":"https://api.github.com/users/xneven/following{/other_user}","gists_url":"https://api.github.com/users/xneven/gists{/gist_id}","starred_url":"https://api.github.com/users/xneven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xneven/subscriptions","organizations_url":"https://api.github.com/users/xneven/orgs","repos_url":"https://api.github.com/users/xneven/repos","events_url":"https://api.github.com/users/xneven/events{/privacy}","received_events_url":"https://api.github.com/users/xneven/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-15T16:16:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658860289","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-658860289","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":658860289,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODg2MDI4OQ==","user":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false},"created_at":"2020-07-15T16:18:59Z","updated_at":"2020-07-15T16:18:59Z","author_association":"CONTRIBUTOR","body":"Hmm i experienced this using a deeplabcut Version cloned from  the github ~an hour ago. Would you still recommend updating? Alternatively I may just read the pickle files directly as I understand most people wont be converting so many frames at once. Thanks for the quick reply 😊","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658860289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658872392","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-658872392","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":658872392,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODg3MjM5Mg==","user":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false},"created_at":"2020-07-15T16:40:56Z","updated_at":"2020-07-15T16:40:56Z","author_association":"MEMBER","body":"I think trying out the default settings would be good, but agreed the current code is not beyond pypi ;)","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/658872392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MMathisLab","id":28102185,"node_id":"MDQ6VXNlcjI4MTAyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/28102185?v=4","gravatar_id":"","url":"https://api.github.com/users/MMathisLab","html_url":"https://github.com/MMathisLab","followers_url":"https://api.github.com/users/MMathisLab/followers","following_url":"https://api.github.com/users/MMathisLab/following{/other_user}","gists_url":"https://api.github.com/users/MMathisLab/gists{/gist_id}","starred_url":"https://api.github.com/users/MMathisLab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MMathisLab/subscriptions","organizations_url":"https://api.github.com/users/MMathisLab/orgs","repos_url":"https://api.github.com/users/MMathisLab/repos","events_url":"https://api.github.com/users/MMathisLab/events{/privacy}","received_events_url":"https://api.github.com/users/MMathisLab/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/659119385","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/778#issuecomment-659119385","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/778","id":659119385,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTExOTM4NQ==","user":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false},"created_at":"2020-07-16T02:29:31Z","updated_at":"2020-07-16T02:30:04Z","author_association":"CONTRIBUTOR","body":"Just to keep you guys in the loop, I looked into this loop with tqdm and found that it runs quite slowly and is where the memory starts to get out of control.\r\n\r\n `for num_tracklet in tqdm(sorted(tracklets)):`\r\n\r\n            to_fill = np.full((self.nframes, len(bodyparts)), np.nan)\r\n            for frame_name, data in tracklets[num_tracklet].items():\r\n                ind_frame = int(re.findall(r\"\\d+\", frame_name)[0])\r\n                to_fill[ind_frame] = data\r\n            nonempty = np.any(~np.isnan(to_fill), axis=1)\r\n            completeness = nonempty.sum()\r\n            if completeness >= self.min_tracklet_len:\r\n                is_single = np.isnan(to_fill[:, mask_multi]).all()\r\n                if is_single:\r\n                    to_fill = to_fill[:, mask_single]\r\n                else:\r\n                    to_fill = to_fill[:, mask_multi]\r\n                if to_fill.size:\r\n                    tracklets_unsorted[num_tracklet] = to_fill, completeness, is_single`\r\n\r\nAs you can see from the following screenshot it takes much longer than expected. \r\n\r\n\r\n![slow_func](https://user-images.githubusercontent.com/38996929/87619206-051f9d80-c75f-11ea-98e3-25ea8c59ba22.png)\r\n\r\nIf I run it on a 90 FPS 20 second video this same function is incredibly fast.\r\n\r\n![fast_func](https://user-images.githubusercontent.com/38996929/87619471-9e4eb400-c75f-11ea-8a6f-38da163510d1.png)\r\n\r\nThen the same function on a 90 fps 5 minute video is moderately slow and still uses all the memory very quickly (32gb).\r\n![medium_func](https://user-images.githubusercontent.com/38996929/87619665-0e5d3a00-c760-11ea-9b7e-29e07d5eded7.png)\r\n \r\n\r\nI'll look into this further and get back to you :)","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/659119385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"PolarBean","id":38996929,"node_id":"MDQ6VXNlcjM4OTk2OTI5","avatar_url":"https://avatars.githubusercontent.com/u/38996929?v=4","gravatar_id":"","url":"https://api.github.com/users/PolarBean","html_url":"https://github.com/PolarBean","followers_url":"https://api.github.com/users/PolarBean/followers","following_url":"https://api.github.com/users/PolarBean/following{/other_user}","gists_url":"https://api.github.com/users/PolarBean/gists{/gist_id}","starred_url":"https://api.github.com/users/PolarBean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolarBean/subscriptions","organizations_url":"https://api.github.com/users/PolarBean/orgs","repos_url":"https://api.github.com/users/PolarBean/repos","events_url":"https://api.github.com/users/PolarBean/events{/privacy}","received_events_url":"https://api.github.com/users/PolarBean/received_events","type":"User","site_admin":false}}]