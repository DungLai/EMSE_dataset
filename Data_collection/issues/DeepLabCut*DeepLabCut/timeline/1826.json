[{"id":6571580847,"node_id":"AE_lADOB5BM6c5JR6G0zwAAAAGHsl2v","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6571580847","actor":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-05-09T09:26:16Z","assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1123283731","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1826#issuecomment-1123283731","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1826","id":1123283731,"node_id":"IC_kwDOB5BM6c5C8_MT","user":{"login":"KonradDanielewski","id":54865575,"node_id":"MDQ6VXNlcjU0ODY1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/54865575?v=4","gravatar_id":"","url":"https://api.github.com/users/KonradDanielewski","html_url":"https://github.com/KonradDanielewski","followers_url":"https://api.github.com/users/KonradDanielewski/followers","following_url":"https://api.github.com/users/KonradDanielewski/following{/other_user}","gists_url":"https://api.github.com/users/KonradDanielewski/gists{/gist_id}","starred_url":"https://api.github.com/users/KonradDanielewski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KonradDanielewski/subscriptions","organizations_url":"https://api.github.com/users/KonradDanielewski/orgs","repos_url":"https://api.github.com/users/KonradDanielewski/repos","events_url":"https://api.github.com/users/KonradDanielewski/events{/privacy}","received_events_url":"https://api.github.com/users/KonradDanielewski/received_events","type":"User","site_admin":false},"created_at":"2022-05-11T07:26:51Z","updated_at":"2022-05-11T07:26:51Z","author_association":"CONTRIBUTOR","body":"There are multiple potiential causes. From not running the terminal as admin, corrupted file, bad installation of the env to RAM issues. \r\nOn more than one occasion I've run clustering on videos with 120k-180k frames by accident and never had this issue even on my 16GB RAM laptop so I wouldn't think this is the cause (also then I'd expect some sort of oom and not Windows erroring out)","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1123283731/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"KonradDanielewski","id":54865575,"node_id":"MDQ6VXNlcjU0ODY1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/54865575?v=4","gravatar_id":"","url":"https://api.github.com/users/KonradDanielewski","html_url":"https://github.com/KonradDanielewski","followers_url":"https://api.github.com/users/KonradDanielewski/followers","following_url":"https://api.github.com/users/KonradDanielewski/following{/other_user}","gists_url":"https://api.github.com/users/KonradDanielewski/gists{/gist_id}","starred_url":"https://api.github.com/users/KonradDanielewski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KonradDanielewski/subscriptions","organizations_url":"https://api.github.com/users/KonradDanielewski/orgs","repos_url":"https://api.github.com/users/KonradDanielewski/repos","events_url":"https://api.github.com/users/KonradDanielewski/events{/privacy}","received_events_url":"https://api.github.com/users/KonradDanielewski/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1127457794","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1826#issuecomment-1127457794","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1826","id":1127457794,"node_id":"IC_kwDOB5BM6c5DM6QC","user":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"created_at":"2022-05-16T09:46:16Z","updated_at":"2022-05-16T09:46:16Z","author_association":"MEMBER","body":"@jkbhagatio, I concur with what Konrad said above. Out of curiosity, I tried with a 3D array occupying 12gb of memory (1M frames downsampled to a width of 40 pixels), and MiniBatchKMeans had no problem fitting the data in ~25 s.\r\nOne thing you could try is to run `extract_frames` with a lower `cluster_resizewidth` (e.g., you could try with 10 pixels) and a higher `cluster_step`(e.g., 5â€“10) to reduce the memory footprint. If it still crashes, try to uninstall and reinstall scipy and scikit-learn. I hope this helps!","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1127457794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}},{"id":6614621444,"node_id":"MEE_lADOB5BM6c5JR6G0zwAAAAGKQx0E","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6614621444","actor":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-16T09:46:16Z","performed_via_github_app":null},{"id":6614621457,"node_id":"SE_lADOB5BM6c5JR6G0zwAAAAGKQx0R","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6614621457","actor":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-16T09:46:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1133198638","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1826#issuecomment-1133198638","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1826","id":1133198638,"node_id":"IC_kwDOB5BM6c5Diz0u","user":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false},"created_at":"2022-05-20T18:34:32Z","updated_at":"2022-05-21T13:32:28Z","author_association":"NONE","body":"Hm ok, so I'm confident none of these are issues:\r\n\r\n> There are multiple potiential causes. From not running the terminal as admin, corrupted file, bad installation of the env to RAM issues.\r\n\r\nAnd yes a lower `cluster_resizewidth` and higher `cluster_step` does help, but like you say probably just because this reduces the memory size of the array that kmeans runs on.\r\n\r\nI believe the memory size of the array in my case was 40 * 30 * 80000 * 8 ~ 800 mb (1440 x 1080 pixels reduced to 40x30, 80000 frames, and 8 bytes per element) . Just from cursory messing around, it worked fine with the same settings but cluster_step at 10, so a 10x reduction in size I guess to ~ 80 mb. \r\n\r\n> Out of curiosity, I tried with a 3D array occupying 12gb of memory (1M frames downsampled to a width of 40 pixels), and MiniBatchKMeans had no problem fitting the data in ~25 s.\r\n\r\nThis is interesting - a good sanity check. Could you share with me your hardware and software specs and point me to the KMeans function you used here? Was it a call to the exact same function used in `extract_frames()` ?\r\n\r\nThanks!\r\n","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1133198638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1140864965","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1826#issuecomment-1140864965","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1826","id":1140864965,"node_id":"IC_kwDOB5BM6c5EADfF","user":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"created_at":"2022-05-30T08:32:51Z","updated_at":"2022-05-30T08:32:51Z","author_association":"MEMBER","body":"Hey @jkbhagatio, it's a Ubuntu workstation w/ 64GB of RAM, and 20 Intel(R) Core(TM) i9-10900X CPU @ 3.70GHz processors. I had simply created the large array and fed it to `MiniBatchKMeans`, done in DeepLabCut [here](https://github.com/DeepLabCut/DeepLabCut/blob/7df1753943538f6b9ccdac1df61d58b74e1fa6f2/deeplabcut/utils/frameselectiontools.py#L389-L392)","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1140864965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}},{"id":6700977112,"node_id":"MEE_lADOB5BM6c5JR6G0zwAAAAGPaMvY","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6700977112","actor":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-30T08:32:51Z","performed_via_github_app":null},{"id":6700977122,"node_id":"SE_lADOB5BM6c5JR6G0zwAAAAGPaMvi","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6700977122","actor":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-30T08:32:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1142527418","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1826#issuecomment-1142527418","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1826","id":1142527418,"node_id":"IC_kwDOB5BM6c5EGZW6","user":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false},"created_at":"2022-05-31T18:50:41Z","updated_at":"2022-05-31T18:50:58Z","author_association":"NONE","body":"> also then I'd expect some sort of oom and not Windows erroring out\r\n\r\n@KonradDanielewski So to be clear, the error I get is a memory error: `Process finished with exit code -1073741819 (0xC0000005)`\r\nhttps://social.microsoft.com/Forums/en-US/431265d6-823e-4671-ae31-6e2b7e40170f/exit-code-0xc0000005?forum=windowshpcmpi\r\n\r\nThe error does occur during `kmeans.fit(data)` with for me an array > 700 mb. @cawa-93 have you had the same issue?\r\n\r\n@jeylau what version of sklearn did you have when you ran it? Mine was 1.0.2\r\n\r\nI'm running a Windows with a ryzen 9 5950X - I could try compiling sklearn from source for this and trying again, may be performance benefits anyway due to default intel mkl crippling of instruction sets for amd cpus?","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1142527418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false}},{"id":6712317782,"node_id":"MEE_lADOB5BM6c5JR6G0zwAAAAGQFddW","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6712317782","actor":{"login":"cawa-93","id":1662812,"node_id":"MDQ6VXNlcjE2NjI4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1662812?v=4","gravatar_id":"","url":"https://api.github.com/users/cawa-93","html_url":"https://github.com/cawa-93","followers_url":"https://api.github.com/users/cawa-93/followers","following_url":"https://api.github.com/users/cawa-93/following{/other_user}","gists_url":"https://api.github.com/users/cawa-93/gists{/gist_id}","starred_url":"https://api.github.com/users/cawa-93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cawa-93/subscriptions","organizations_url":"https://api.github.com/users/cawa-93/orgs","repos_url":"https://api.github.com/users/cawa-93/repos","events_url":"https://api.github.com/users/cawa-93/events{/privacy}","received_events_url":"https://api.github.com/users/cawa-93/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-31T18:50:41Z","performed_via_github_app":null},{"id":6712317788,"node_id":"SE_lADOB5BM6c5JR6G0zwAAAAGQFddc","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6712317788","actor":{"login":"cawa-93","id":1662812,"node_id":"MDQ6VXNlcjE2NjI4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1662812?v=4","gravatar_id":"","url":"https://api.github.com/users/cawa-93","html_url":"https://github.com/cawa-93","followers_url":"https://api.github.com/users/cawa-93/followers","following_url":"https://api.github.com/users/cawa-93/following{/other_user}","gists_url":"https://api.github.com/users/cawa-93/gists{/gist_id}","starred_url":"https://api.github.com/users/cawa-93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cawa-93/subscriptions","organizations_url":"https://api.github.com/users/cawa-93/orgs","repos_url":"https://api.github.com/users/cawa-93/repos","events_url":"https://api.github.com/users/cawa-93/events{/privacy}","received_events_url":"https://api.github.com/users/cawa-93/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-31T18:50:41Z","performed_via_github_app":null},{"id":6712317797,"node_id":"MEE_lADOB5BM6c5JR6G0zwAAAAGQFddl","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6712317797","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-31T18:50:41Z","performed_via_github_app":null},{"id":6712317804,"node_id":"SE_lADOB5BM6c5JR6G0zwAAAAGQFdds","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6712317804","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-31T18:50:41Z","performed_via_github_app":null},{"id":6712319113,"node_id":"MEE_lADOB5BM6c5JR6G0zwAAAAGQFdyJ","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6712319113","actor":{"login":"KonradDanielewski","id":54865575,"node_id":"MDQ6VXNlcjU0ODY1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/54865575?v=4","gravatar_id":"","url":"https://api.github.com/users/KonradDanielewski","html_url":"https://github.com/KonradDanielewski","followers_url":"https://api.github.com/users/KonradDanielewski/followers","following_url":"https://api.github.com/users/KonradDanielewski/following{/other_user}","gists_url":"https://api.github.com/users/KonradDanielewski/gists{/gist_id}","starred_url":"https://api.github.com/users/KonradDanielewski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KonradDanielewski/subscriptions","organizations_url":"https://api.github.com/users/KonradDanielewski/orgs","repos_url":"https://api.github.com/users/KonradDanielewski/repos","events_url":"https://api.github.com/users/KonradDanielewski/events{/privacy}","received_events_url":"https://api.github.com/users/KonradDanielewski/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-31T18:50:58Z","performed_via_github_app":null},{"id":6712319117,"node_id":"SE_lADOB5BM6c5JR6G0zwAAAAGQFdyN","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6712319117","actor":{"login":"KonradDanielewski","id":54865575,"node_id":"MDQ6VXNlcjU0ODY1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/54865575?v=4","gravatar_id":"","url":"https://api.github.com/users/KonradDanielewski","html_url":"https://github.com/KonradDanielewski","followers_url":"https://api.github.com/users/KonradDanielewski/followers","following_url":"https://api.github.com/users/KonradDanielewski/following{/other_user}","gists_url":"https://api.github.com/users/KonradDanielewski/gists{/gist_id}","starred_url":"https://api.github.com/users/KonradDanielewski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KonradDanielewski/subscriptions","organizations_url":"https://api.github.com/users/KonradDanielewski/orgs","repos_url":"https://api.github.com/users/KonradDanielewski/repos","events_url":"https://api.github.com/users/KonradDanielewski/events{/privacy}","received_events_url":"https://api.github.com/users/KonradDanielewski/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-31T18:50:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1144535469","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1826#issuecomment-1144535469","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1826","id":1144535469,"node_id":"IC_kwDOB5BM6c5EODmt","user":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"created_at":"2022-06-02T07:23:54Z","updated_at":"2022-06-02T07:23:54Z","author_association":"MEMBER","body":"I ran it with sklearn 1.0, and have no problem with 1.0.2 either. I'm not convinced it is worth installing sklearn from source just for frame extraction. Since you seem limited by hardware anyway, I'd just tune `cluster_step` and `cluster_resizewidth` as it worked earlier, and continue with your project. Note that you could also use `algo=uniform` to extract frames uniformly: there is no clustering involved so memory usage is limited, though it is not ideal if the behavior of interest is sparse.","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1144535469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1146895388","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1826#issuecomment-1146895388","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1826","id":1146895388,"node_id":"IC_kwDOB5BM6c5EXDwc","user":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false},"created_at":"2022-06-05T22:33:49Z","updated_at":"2022-06-05T22:33:49Z","author_association":"NONE","body":">Since you seem limited by hardware anyway\r\n\r\nThis shouldn't be the case - it seems to be a software issue: a ryzen 9 5950X should have no issues running kmeans on ~1 gig of data.\r\n\r\nYeah my project is fine, just interested in the root cause of this error. Anyway since it's an sklearn issue and I want to optimize sklearn on my machine anyway I will install from source and see how it goes - feel free to close this, I'll provide an update comment anyway if I get to the root cause.","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1146895388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jkbhagatio","id":14895866,"node_id":"MDQ6VXNlcjE0ODk1ODY2","avatar_url":"https://avatars.githubusercontent.com/u/14895866?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbhagatio","html_url":"https://github.com/jkbhagatio","followers_url":"https://api.github.com/users/jkbhagatio/followers","following_url":"https://api.github.com/users/jkbhagatio/following{/other_user}","gists_url":"https://api.github.com/users/jkbhagatio/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbhagatio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbhagatio/subscriptions","organizations_url":"https://api.github.com/users/jkbhagatio/orgs","repos_url":"https://api.github.com/users/jkbhagatio/repos","events_url":"https://api.github.com/users/jkbhagatio/events{/privacy}","received_events_url":"https://api.github.com/users/jkbhagatio/received_events","type":"User","site_admin":false}},{"actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"created_at":"2022-06-27T12:10:33Z","updated_at":"2022-06-27T12:10:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1877","repository_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1877/labels{/name}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1877/comments","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1877/events","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1877","id":1268773639,"node_id":"I_kwDOB5BM6c5Ln_MH","number":1877,"title":"Segfault during Kmeans for frame selection ","user":{"login":"grahamfindlay","id":4753005,"node_id":"MDQ6VXNlcjQ3NTMwMDU=","avatar_url":"https://avatars.githubusercontent.com/u/4753005?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamfindlay","html_url":"https://github.com/grahamfindlay","followers_url":"https://api.github.com/users/grahamfindlay/followers","following_url":"https://api.github.com/users/grahamfindlay/following{/other_user}","gists_url":"https://api.github.com/users/grahamfindlay/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamfindlay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamfindlay/subscriptions","organizations_url":"https://api.github.com/users/grahamfindlay/orgs","repos_url":"https://api.github.com/users/grahamfindlay/repos","events_url":"https://api.github.com/users/grahamfindlay/events{/privacy}","received_events_url":"https://api.github.com/users/grahamfindlay/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2022-06-13T01:26:55Z","updated_at":"2022-07-20T13:07:08Z","closed_at":"2022-07-20T13:07:07Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":126897385,"node_id":"MDEwOlJlcG9zaXRvcnkxMjY4OTczODU=","name":"DeepLabCut","full_name":"DeepLabCut/DeepLabCut","private":false,"owner":{"login":"DeepLabCut","id":59848143,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU5ODQ4MTQz","avatar_url":"https://avatars.githubusercontent.com/u/59848143?v=4","gravatar_id":"","url":"https://api.github.com/users/DeepLabCut","html_url":"https://github.com/DeepLabCut","followers_url":"https://api.github.com/users/DeepLabCut/followers","following_url":"https://api.github.com/users/DeepLabCut/following{/other_user}","gists_url":"https://api.github.com/users/DeepLabCut/gists{/gist_id}","starred_url":"https://api.github.com/users/DeepLabCut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeepLabCut/subscriptions","organizations_url":"https://api.github.com/users/DeepLabCut/orgs","repos_url":"https://api.github.com/users/DeepLabCut/repos","events_url":"https://api.github.com/users/DeepLabCut/events{/privacy}","received_events_url":"https://api.github.com/users/DeepLabCut/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/DeepLabCut/DeepLabCut","description":"Official implementation of DeepLabCut: Markerless pose estimation of user-defined features with deep learning for all animals incl. humans","fork":false,"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut","forks_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/forks","keys_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/keys{/key_id}","collaborators_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/teams","hooks_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/hooks","issue_events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events{/number}","events_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/events","assignees_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/assignees{/user}","branches_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/branches{/branch}","tags_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/tags","blobs_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/git/refs{/sha}","trees_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/git/trees{/sha}","statuses_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/statuses/{sha}","languages_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/languages","stargazers_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/stargazers","contributors_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/contributors","subscribers_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/subscribers","subscription_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/subscription","commits_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/commits{/sha}","git_commits_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/git/commits{/sha}","comments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/comments{/number}","issue_comment_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments{/number}","contents_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/contents/{+path}","compare_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/compare/{base}...{head}","merges_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/merges","archive_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/downloads","issues_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues{/number}","pulls_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/pulls{/number}","milestones_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/milestones{/number}","notifications_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/labels{/name}","releases_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/releases{/id}","deployments_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/deployments","created_at":"2018-03-26T22:29:12Z","updated_at":"2023-01-19T09:39:11Z","pushed_at":"2023-01-13T07:57:38Z","git_url":"git://github.com/DeepLabCut/DeepLabCut.git","ssh_url":"git@github.com:DeepLabCut/DeepLabCut.git","clone_url":"https://github.com/DeepLabCut/DeepLabCut.git","svn_url":"https://github.com/DeepLabCut/DeepLabCut","homepage":"http://deeplabcut.org","size":166257,"stargazers_count":3464,"watchers_count":3464,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":1470,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"lgpl-3.0","name":"GNU Lesser General Public License v3.0","spdx_id":"LGPL-3.0","url":"https://api.github.com/licenses/lgpl-3.0","node_id":"MDc6TGljZW5zZTEy"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["animal-pose-estimation","behavior-analysis","deep-learning","deeplabcut","feature-detectors","keypoint-detection","keypoint-tracking","labeling-tool","pose-estimation","toolbox"],"visibility":"public","forks":1470,"open_issues":43,"watchers":3464,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Bug description\n\nSimilar issues #1651 and #1809 exist, but the proposed solutions fail in my case. \r\n\r\nHere's what I did:\r\n1. When using the latest version of conda to create an environment using the `DEEPLABCUT.yaml` file provided, `wxpython` failed to build. Full stdout and stderr here: [conda_create_out.txt](https://github.com/DeepLabCut/DeepLabCut/files/8887086/conda_create_out.txt)\r\n2. Following `setup.py`, I added  `wxpython<4.1` as a conda-supplied dependency to [DEEPLABCUT2.yaml](https://github.com/DeepLabCut/DeepLabCut/files/8887097/DEEPLABCUT2.txt). This solves the problem of `wxpython` not building. \r\n3. I get the OpenBLAS segfault during frame extraction, as reported by #1651 and #1809. The solution in #1651 was just to use the supplied environment file, which I am already doing. The solution in #1809 was to install scipy and scikit-learn with conda instead of pip. \r\n4. Following #1809, I added `scipy` and `scikit-learn` to [DEEPLABCUT3.txt](https://github.com/DeepLabCut/DeepLabCut/files/8887104/DEEPLABCUT3.txt). I hoped this would work, since I know that `conda-forge` often builds with different compiler options that better support CPUs with large numbers of cores. Full output from env creation [here](https://github.com/DeepLabCut/DeepLabCut/files/8887109/conda_create_out_3.txt). Sadly, I continued to get the same error, though now with a mangled stack trace and a SIGSEGV:\r\n    ```\r\n    Kmeans clustering ... (this might take a while)\r\n    ...\r\n    BLAS : Program is Terminated. Because you tried to allocate too many memory regions.\r\n    *** Received signal 11 ***\r\n    *** BEGIN MANGLED STACK TRACE ***\r\n    Segmentation fault (core dumped)\r\n    ```\r\n    Output from  `python -m threadpoolctl --import sklearn` (also attached below, in the \"Device type\" section):\r\n    ```\r\n    [\r\n      {\r\n        \"user_api\": \"blas\",\r\n        \"internal_api\": \"openblas\",\r\n        \"prefix\": \"libopenblas\",\r\n        \"filepath\": \"/home/gfindlay/miniconda3/envs/datoviz/lib/python3.8/site-packages/numpy.libs/libopenblas64_p-r0-2f7c42d4.3.18.so\",\r\n        \"version\": \"0.3.18\",\r\n        \"threading_layer\": \"pthreads\",\r\n        \"architecture\": \"SkylakeX\",\r\n        \"num_threads\": 64\r\n      },\r\n      {\r\n        \"user_api\": \"blas\",\r\n        \"internal_api\": \"openblas\",\r\n        \"prefix\": \"libopenblas\",\r\n        \"filepath\": \"/home/gfindlay/.local/lib/python3.8/site-packages/scipy.libs/libopenblasp-r0-8b9e111f.3.17.so\",\r\n        \"version\": \"0.3.17\",\r\n        \"threading_layer\": \"pthreads\",\r\n        \"architecture\": \"SkylakeX\",\r\n        \"num_threads\": 64\r\n      },\r\n      {\r\n        \"user_api\": \"openmp\",\r\n        \"internal_api\": \"openmp\",\r\n        \"prefix\": \"libgomp\",\r\n        \"filepath\": \"/Volumes/scratch/neuropixels/t2_shared_envs/dlc_shared_t2/lib/libgomp.so.1.0.0\",\r\n        \"version\": null,\r\n        \"num_threads\": 224\r\n      }\r\n    ]\r\n    ```\r\n    Note that the OpenMP `num_threads` is 224. \r\n5. #1809 referenced [this](https://github.com/scikit-learn/scikit-learn/issues/20539) scikit-learn issue, which further references [this](https://github.com/xianyi/OpenBLAS/issues/3321) OpenBLAS issue. See in particular [this](https://github.com/xianyi/OpenBLAS/issues/3321#issuecomment-885433142) comment. Since the `MiniBatchKMeans` that DLC uses does not offer an `n_jobs` kwargs like `DBSCAN` or `KNN` do, I set my `OPENBLAS_NUM_THREADS` and `OMP_NUM_THREADS` environment variables to 64. Didn't fix anything. In fact, `htop` sugggested that these variables were being ignored. I wondered if they might influence builds and not just runtime behavior (similar to `MAX_THREADS`), so I recreated the env. No luck. Perhaps importantly, there is no change to the output of `python -m threadpoolctl --import sklearn`. \r\n6. I took the extreme route and set `OPENBLAS_NUM_THREADS` and `OMP_NUM_THREADS` to 1. No luck. Again, no change to the output of `python -m threadpoolctl --import sklearn`. This makes me really wonder if the `OMP_NUM_THREADS` environment variable is being ignored. Maybe `omp_set_num_threads()` is overriding `OMP_NUM_THREADS`? I know this is possible, but usually is only done to _decrease_ the number of threads... I don't know of any other way to control OpenMP threading behavior. \r\n\r\nUnfortunately we have tried a containerized install as well, but cannot get the GUI to work on our remote servers using either rootless or rooted Docker. We are not yet clear on whether this is an issue with how the DLC container handles graphical displays or how Docker per se handles remote displays. Quite possibly the latter. Perhaps related to #1623. We will probably just give up and use local workstations for the GUI, and hope to at least get a containerized headless install working so we can train on the server GPU. \r\n\r\nSorry I can't be more helpful! And sorry that this really is probably not an issue with DLC per se, but it seems to be affecting users, so I thought you might like more info. Thanks for DLC :\n\n### Operating System\n\nUbunutu 20.04.4 LTS\n\n### DeepLabCut version\n\n2.2.1\n\n### DeepLabCut mode\n\nsingle animal\n\n### Device type\n\nI have an NVidia Tesla V100 32GB GPU, but I am attempting a conda-based CPU-only install on a 224-core Intel Xeon Platinum 8276M (Skylake, x86_64). For detailed info, see `lscpu` output [here](https://github.com/DeepLabCut/DeepLabCut/files/8887072/lscpu_out.txt).\r\n \r\nAs expected, `nproc` reports 224, `joblib.cpu_count()` reports 224, and `joblib.cpu_count(only_physical_cores=True)` reports 112. \r\n\r\nHere's the output of `python -m threadpoolctl --import sklearn`, which I suspect is highly relevant:\r\n[threadpoolctl_out.txt](https://github.com/DeepLabCut/DeepLabCut/files/8887127/threadpoolctl_out.txt)\n\n### Steps To Reproduce\n\nSee above. \n\n### Relevant log output\n\n_No response_\n\n### Anything else?\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/DeepLabCut/DeepLabCut/blob/master/CODE_OF_CONDUCT.md)","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1877/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1877/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1169728881","html_url":"https://github.com/DeepLabCut/DeepLabCut/issues/1826#issuecomment-1169728881","issue_url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/1826","id":1169728881,"node_id":"IC_kwDOB5BM6c5FuKVx","user":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"created_at":"2022-06-29T09:12:06Z","updated_at":"2022-06-29T09:12:06Z","author_association":"MEMBER","body":"I'll close the issue, but feel free to reopen it or give us some feedback if you figure out what the root cause is!","reactions":{"url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/comments/1169728881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false}},{"id":6900589444,"node_id":"CE_lADOB5BM6c5JR6G0zwAAAAGbTqOE","url":"https://api.github.com/repos/DeepLabCut/DeepLabCut/issues/events/6900589444","actor":{"login":"jeylau","id":30733203,"node_id":"MDQ6VXNlcjMwNzMzMjAz","avatar_url":"https://avatars.githubusercontent.com/u/30733203?v=4","gravatar_id":"","url":"https://api.github.com/users/jeylau","html_url":"https://github.com/jeylau","followers_url":"https://api.github.com/users/jeylau/followers","following_url":"https://api.github.com/users/jeylau/following{/other_user}","gists_url":"https://api.github.com/users/jeylau/gists{/gist_id}","starred_url":"https://api.github.com/users/jeylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeylau/subscriptions","organizations_url":"https://api.github.com/users/jeylau/orgs","repos_url":"https://api.github.com/users/jeylau/repos","events_url":"https://api.github.com/users/jeylau/events{/privacy}","received_events_url":"https://api.github.com/users/jeylau/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-06-29T09:12:06Z","state_reason":null,"performed_via_github_app":null}]