[{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481117656","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481117656","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481117656,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTExNzY1Ng==","user":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T06:19:02Z","updated_at":"2019-04-09T06:19:17Z","author_association":"OWNER","body":"@binhvq that's interesting, if the corpus is 28 GB uncompressed, then after encoding to npy it should be around 3x smaller (depends on language).\r\nAt what stage does it fail? I guess at creating sentencepiece model? If yes, then there are some extra options you could pass to sentensepiece to make it use less memory, or you could build sentencepiece model on a sample of the corpus.\r\n\r\nAlso note that right now I'm working on ``pytorch`` branch which would use PyTorch instead of tensorflow, it already supports single-GPU training, plan to add multi-GPU this week, so if you are fine with pytorch you can try using this one instead (but it will use the same amount of memory).","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481117656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false}},{"id":2261758221,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI2MTc1ODIyMQ==","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2261758221","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-09T06:19:02Z","performed_via_github_app":null},{"id":2261758222,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNjE3NTgyMjI=","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2261758222","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-09T06:19:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481151316","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481151316","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481151316,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTE1MTMxNg==","user":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T08:18:18Z","updated_at":"2019-04-09T08:18:18Z","author_association":"NONE","body":"@lopuhin My corpus is uncompressed.\r\nFail at convert corpus to npy. Load 3 part of corpus: train, test, valid is very large.\r\n![Screenshot from 2019-04-09 15-19-37](https://user-images.githubusercontent.com/7200425/55784336-8b6c1f00-5ada-11e9-9c9a-d5575a1bf907.png)\r\n","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481151316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false}},{"id":2262021306,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI2MjAyMTMwNg==","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262021306","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:18:18Z","performed_via_github_app":null},{"id":2262021309,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNjIwMjEzMDk=","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262021309","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:18:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481152654","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481152654","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481152654,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTE1MjY1NA==","user":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T08:22:23Z","updated_at":"2019-04-09T08:22:23Z","author_association":"OWNER","body":"Oh I see, thanks for clarification @binhvq , I didn't expect the code to fail at this stage, I thought that 80 GB of RAM would be more than enough to hold an uncompressed text corpus of 28 GB...\r\nI'll try to check if there are any unexpected leaks here.\r\nDo you know how much did it manage to process (ideally what percentage) before failing?","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481152654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false}},{"id":2262031782,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI2MjAzMTc4Mg==","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262031782","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:22:23Z","performed_via_github_app":null},{"id":2262031785,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNjIwMzE3ODU=","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262031785","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:22:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481157012","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481157012","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481157012,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTE1NzAxMg==","user":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T08:35:07Z","updated_at":"2019-04-09T08:35:29Z","author_association":"NONE","body":"@lopuhin  f.readlines() -> With the command to read the file as above, at least take 28GB of RAM to read to the end file.\r\nAnd encoded variable is dictionary has 3 key train, valid, test. That will take a lot of RAM\r\n","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481157012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false}},{"id":2262066964,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI2MjA2Njk2NA==","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262066964","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:35:07Z","performed_via_github_app":null},{"id":2262066966,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNjIwNjY5NjY=","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262066966","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:35:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481157741","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481157741","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481157741,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTE1Nzc0MQ==","user":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T08:37:17Z","updated_at":"2019-04-09T08:37:17Z","author_association":"OWNER","body":"Oh right, my bad - didn't think about this as I had a lot of small files instead. That's quite silly that readlines works this way, we should switch to reading the file without loading it all into memory, and hold only encoded bits (this could be optimized as well, but hopefully won't be required here).","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481157741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481158546","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481158546","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481158546,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTE1ODU0Ng==","user":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T08:39:36Z","updated_at":"2019-04-09T08:39:36Z","author_association":"NONE","body":"I'm trying using generater for large dataset. It's work but some feature not work, i'm can't using progess bar tqdm for train and validate.","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481158546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481159205","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481159205","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481159205,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTE1OTIwNQ==","user":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T08:41:27Z","updated_at":"2019-04-09T08:41:27Z","author_association":"OWNER","body":"@binhvq just to be clear - I think that it still will be possible to have numpy-encoded train/valid/test that would fit in memory for you, we only need to fix the code that produces these files, using another way to read the file, as you suggested.","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481159205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false}},{"id":2262084753,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI2MjA4NDc1Mw==","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262084753","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:41:27Z","performed_via_github_app":null},{"id":2262084754,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNjIwODQ3NTQ=","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262084754","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:41:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481162053","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481162053","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481162053,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTE2MjA1Mw==","user":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T08:49:29Z","updated_at":"2019-04-09T08:49:29Z","author_association":"NONE","body":"@lopuhin That's a good idea. \r\nI am trying 80GB RAM will handle 28GB text with my suggested(not use f.readlines())\r\nAbout 8GB memory for 9m sentences, my corpus 28GB have 162m sentences.\r\nSo ~ 150GB RAM is required to be able to encode my corpus.","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481162053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false}},{"id":2262106913,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI2MjEwNjkxMw==","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262106913","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:49:29Z","performed_via_github_app":null},{"id":2262106915,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNjIxMDY5MTU=","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2262106915","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-09T08:49:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481416728","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-481416728","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":481416728,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTQxNjcyOA==","user":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T20:12:55Z","updated_at":"2019-04-09T20:12:55Z","author_association":"OWNER","body":"@binhvq I did some memory optimizations eb101ba and e1f938b in master, this should allow to read the corpus using around 2x memory the size of encoded corpus, so in I hope you'd use around 10 - 20 GB of RAM, depending on whether the size of your sentencepiece vocabulary is smaller or larger than 65k symbols.","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/481416728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false}},{"id":2264079862,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI2NDA3OTg2Mg==","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2264079862","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-09T20:12:56Z","performed_via_github_app":null},{"id":2264079863,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNjQwNzk4NjM=","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2264079863","actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-09T20:12:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/483965459","html_url":"https://github.com/lopuhin/transformer-lm/issues/3#issuecomment-483965459","issue_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/3","id":483965459,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzk2NTQ1OQ==","user":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"created_at":"2019-04-17T07:10:32Z","updated_at":"2019-04-17T07:10:32Z","author_association":"OWNER","body":"should be fixed now, closing","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments/483965459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false}},{"id":2281794785,"node_id":"MDExOkNsb3NlZEV2ZW50MjI4MTc5NDc4NQ==","url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events/2281794785","actor":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-04-17T07:10:32Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"created_at":"2019-05-14T06:33:59Z","updated_at":"2019-05-14T06:33:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/7","repository_url":"https://api.github.com/repos/lopuhin/transformer-lm","labels_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/7/labels{/name}","comments_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/7/comments","events_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/7/events","html_url":"https://github.com/lopuhin/transformer-lm/issues/7","id":443734035,"node_id":"MDU6SXNzdWU0NDM3MzQwMzU=","number":7,"title":"Predict with GPU","user":{"login":"binhvq","id":7200425,"node_id":"MDQ6VXNlcjcyMDA0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/7200425?v=4","gravatar_id":"","url":"https://api.github.com/users/binhvq","html_url":"https://github.com/binhvq","followers_url":"https://api.github.com/users/binhvq/followers","following_url":"https://api.github.com/users/binhvq/following{/other_user}","gists_url":"https://api.github.com/users/binhvq/gists{/gist_id}","starred_url":"https://api.github.com/users/binhvq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binhvq/subscriptions","organizations_url":"https://api.github.com/users/binhvq/orgs","repos_url":"https://api.github.com/users/binhvq/repos","events_url":"https://api.github.com/users/binhvq/events{/privacy}","received_events_url":"https://api.github.com/users/binhvq/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-05-14T06:33:59Z","updated_at":"2019-05-14T09:51:53Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"repository":{"id":176069746,"node_id":"MDEwOlJlcG9zaXRvcnkxNzYwNjk3NDY=","name":"transformer-lm","full_name":"lopuhin/transformer-lm","private":false,"owner":{"login":"lopuhin","id":424613,"node_id":"MDQ6VXNlcjQyNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/424613?v=4","gravatar_id":"","url":"https://api.github.com/users/lopuhin","html_url":"https://github.com/lopuhin","followers_url":"https://api.github.com/users/lopuhin/followers","following_url":"https://api.github.com/users/lopuhin/following{/other_user}","gists_url":"https://api.github.com/users/lopuhin/gists{/gist_id}","starred_url":"https://api.github.com/users/lopuhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lopuhin/subscriptions","organizations_url":"https://api.github.com/users/lopuhin/orgs","repos_url":"https://api.github.com/users/lopuhin/repos","events_url":"https://api.github.com/users/lopuhin/events{/privacy}","received_events_url":"https://api.github.com/users/lopuhin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/lopuhin/transformer-lm","description":"Transformer language model (GPT-2) with sentencepiece tokenizer","fork":false,"url":"https://api.github.com/repos/lopuhin/transformer-lm","forks_url":"https://api.github.com/repos/lopuhin/transformer-lm/forks","keys_url":"https://api.github.com/repos/lopuhin/transformer-lm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/lopuhin/transformer-lm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/lopuhin/transformer-lm/teams","hooks_url":"https://api.github.com/repos/lopuhin/transformer-lm/hooks","issue_events_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/events{/number}","events_url":"https://api.github.com/repos/lopuhin/transformer-lm/events","assignees_url":"https://api.github.com/repos/lopuhin/transformer-lm/assignees{/user}","branches_url":"https://api.github.com/repos/lopuhin/transformer-lm/branches{/branch}","tags_url":"https://api.github.com/repos/lopuhin/transformer-lm/tags","blobs_url":"https://api.github.com/repos/lopuhin/transformer-lm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/lopuhin/transformer-lm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/lopuhin/transformer-lm/git/refs{/sha}","trees_url":"https://api.github.com/repos/lopuhin/transformer-lm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/lopuhin/transformer-lm/statuses/{sha}","languages_url":"https://api.github.com/repos/lopuhin/transformer-lm/languages","stargazers_url":"https://api.github.com/repos/lopuhin/transformer-lm/stargazers","contributors_url":"https://api.github.com/repos/lopuhin/transformer-lm/contributors","subscribers_url":"https://api.github.com/repos/lopuhin/transformer-lm/subscribers","subscription_url":"https://api.github.com/repos/lopuhin/transformer-lm/subscription","commits_url":"https://api.github.com/repos/lopuhin/transformer-lm/commits{/sha}","git_commits_url":"https://api.github.com/repos/lopuhin/transformer-lm/git/commits{/sha}","comments_url":"https://api.github.com/repos/lopuhin/transformer-lm/comments{/number}","issue_comment_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/comments{/number}","contents_url":"https://api.github.com/repos/lopuhin/transformer-lm/contents/{+path}","compare_url":"https://api.github.com/repos/lopuhin/transformer-lm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/lopuhin/transformer-lm/merges","archive_url":"https://api.github.com/repos/lopuhin/transformer-lm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/lopuhin/transformer-lm/downloads","issues_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues{/number}","pulls_url":"https://api.github.com/repos/lopuhin/transformer-lm/pulls{/number}","milestones_url":"https://api.github.com/repos/lopuhin/transformer-lm/milestones{/number}","notifications_url":"https://api.github.com/repos/lopuhin/transformer-lm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/lopuhin/transformer-lm/labels{/name}","releases_url":"https://api.github.com/repos/lopuhin/transformer-lm/releases{/id}","deployments_url":"https://api.github.com/repos/lopuhin/transformer-lm/deployments","created_at":"2019-03-17T07:30:07Z","updated_at":"2022-04-07T17:19:19Z","pushed_at":"2021-02-27T15:23:53Z","git_url":"git://github.com/lopuhin/transformer-lm.git","ssh_url":"git@github.com:lopuhin/transformer-lm.git","clone_url":"https://github.com/lopuhin/transformer-lm.git","svn_url":"https://github.com/lopuhin/transformer-lm","homepage":"","size":368,"stargazers_count":161,"watchers_count":161,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":46,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":9,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["gpt-2","language-model","tensorflow"],"visibility":"public","forks":46,"open_issues":9,"watchers":161,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi lopuhin!\r\nI'm use GPU for trainning but i can't use GPU for text generate. i'm try change device in torch but recived message RuntimeError: Expected object of backend CUDA but got backend CPU for argument 3 'index'","reactions":{"url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/7/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/lopuhin/transformer-lm/issues/7/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]