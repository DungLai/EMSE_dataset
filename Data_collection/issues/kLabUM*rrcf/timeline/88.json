[{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/comments/827237536","html_url":"https://github.com/kLabUM/rrcf/issues/88#issuecomment-827237536","issue_url":"https://api.github.com/repos/kLabUM/rrcf/issues/88","id":827237536,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzIzNzUzNg==","user":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false},"created_at":"2021-04-27T01:09:44Z","updated_at":"2021-04-27T01:09:44Z","author_association":"NONE","body":"I have a walkaround for this scenario. If the dataset contains only one unique value, the tree can be build by creating an empty tree and insert 'new' data point into it iteratively.","reactions":{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/comments/827237536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false}},{"id":4686289803,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDY4NjI4OTgwMw==","url":"https://api.github.com/repos/kLabUM/rrcf/issues/events/4686289803","actor":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-05T00:31:26Z","performed_via_github_app":null},{"id":4686289807,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2ODYyODk4MDc=","url":"https://api.github.com/repos/kLabUM/rrcf/issues/events/4686289807","actor":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-05T00:31:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/comments/834001162","html_url":"https://github.com/kLabUM/rrcf/issues/88#issuecomment-834001162","issue_url":"https://api.github.com/repos/kLabUM/rrcf/issues/88","id":834001162,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDAwMTE2Mg==","user":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false},"created_at":"2021-05-07T01:56:11Z","updated_at":"2021-05-07T01:59:52Z","author_association":"NONE","body":"The idea of the walkaround is if you reach a single value, instead of creating a tree with all the observations, you insert a point to a empty tree. An example code snippet would be like:\r\n\r\n```\r\nforest = []\r\nwhile len(forest) < num_trees:\r\n\t# Select random subsets of points uniformly from point set\r\n\tixs = np.random.choice(n, size=(n // tree_size, tree_size), replace=False)\r\n\t# Add sampled trees to forest\r\n\ttrees = []\r\n\tfor ix in ixs:\r\n\t\tif len(np.unique(x[ix])) > 1:\r\n\t\t\ttree = rrcf.RCTree(x[ix], index_labels=ix)\r\n\t\telse:  # If a subset contains only one value, RCTree will bug\r\n\t\t\ttree = rrcf.RCTree()\r\n\t\t\tfor point, label in zip(x[ix], ix):\r\n\t\t\t\ttree.insert_point(point=point, index=label)\r\n\t\ttrees.append(tree)\r\n\tforest.extend(trees)\r\n```","reactions":{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/comments/834001162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/comments/834003054","html_url":"https://github.com/kLabUM/rrcf/issues/88#issuecomment-834003054","issue_url":"https://api.github.com/repos/kLabUM/rrcf/issues/88","id":834003054,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDAwMzA1NA==","user":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false},"created_at":"2021-05-07T02:01:26Z","updated_at":"2021-05-07T02:01:26Z","author_association":"NONE","body":"Hey buddy,\n\nI have posted the code for the walkaround. Feel free to check it out.\n\nCheers\nW\n\n\n> 在 2021年5月5日，10:31，titaii2 ***@***.***> 写道：\n> \n> ﻿\n> I have a walkaround for this scenario. If the dataset contains only one unique value, the tree can be build by creating an empty tree and insert 'new' data point into it iteratively.\n> \n> Hello :)\n> Can you post your solution code here ?\n> Because I have the same problem when my data is populated by X1 at 98% and X2 at 2% which makes the sample (created with \"ixs\") only populated by X1 which cause the same error \"probabilities contain NaN\" while doing \"l /= l.sum()\"\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n","reactions":{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/comments/834003054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false}}]