{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/88","repository_url":"https://api.github.com/repos/kLabUM/rrcf","labels_url":"https://api.github.com/repos/kLabUM/rrcf/issues/88/labels{/name}","comments_url":"https://api.github.com/repos/kLabUM/rrcf/issues/88/comments","events_url":"https://api.github.com/repos/kLabUM/rrcf/issues/88/events","html_url":"https://github.com/kLabUM/rrcf/issues/88","id":868302787,"node_id":"MDU6SXNzdWU4NjgzMDI3ODc=","number":88,"title":"RCTree cannot handle when the data consists of only one unique value","user":{"login":"kongwilson","id":12696650,"node_id":"MDQ6VXNlcjEyNjk2NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12696650?v=4","gravatar_id":"","url":"https://api.github.com/users/kongwilson","html_url":"https://github.com/kongwilson","followers_url":"https://api.github.com/users/kongwilson/followers","following_url":"https://api.github.com/users/kongwilson/following{/other_user}","gists_url":"https://api.github.com/users/kongwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/kongwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kongwilson/subscriptions","organizations_url":"https://api.github.com/users/kongwilson/orgs","repos_url":"https://api.github.com/users/kongwilson/repos","events_url":"https://api.github.com/users/kongwilson/events{/privacy}","received_events_url":"https://api.github.com/users/kongwilson/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-04-27T00:21:54Z","updated_at":"2021-05-07T02:01:27Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I ran into issues when a subset of my sample data points only contain ONE unique value. How should we handle such an exception?\r\n\r\nThe error message basically suggests a NaN value for probability (caused by division by zero). I tried to turn this into a uniform distribution, but it caused subsequent issue after a cut the right side contains no values. I think this violates the principle of the RRCF algo. Do we have better way of resolving such cases?\r\n\r\n```  \r\nFile \"<ipython-input-2-b3a957a401e5>\", line 139, in <listcomp>\r\n    rrcf.RCTree(x[ix], index_labels=ix) for ix in ixs]\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\rrcf-0.4.3-py3.8.egg\\rrcf\\rrcf.py\", line 106, in __init__\r\n    self._mktree(X, S, N, I, parent=self)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\rrcf-0.4.3-py3.8.egg\\rrcf\\rrcf.py\", line 177, in _mktree\r\n    S1, S2, branch = self._cut(X, S, parent=parent, side=side)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\rrcf-0.4.3-py3.8.egg\\rrcf\\rrcf.py\", line 159, in _cut\r\n    q = self.rng.choice(self.ndim, p=l)\r\n  File \"mtrand.pyx\", line 928, in numpy.random.mtrand.RandomState.choice\r\nValueError: probabilities contain NaN\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/88/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kLabUM/rrcf/issues/88/timeline","performed_via_github_app":null,"state_reason":null}