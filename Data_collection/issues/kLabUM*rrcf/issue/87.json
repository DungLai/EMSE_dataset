{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/87","repository_url":"https://api.github.com/repos/kLabUM/rrcf","labels_url":"https://api.github.com/repos/kLabUM/rrcf/issues/87/labels{/name}","comments_url":"https://api.github.com/repos/kLabUM/rrcf/issues/87/comments","events_url":"https://api.github.com/repos/kLabUM/rrcf/issues/87/events","html_url":"https://github.com/kLabUM/rrcf/issues/87","id":818977020,"node_id":"MDU6SXNzdWU4MTg5NzcwMjA=","number":87,"title":"Issue with DataFrame - TypeError: '(slice(None, None, None), 24)' is an invalid key ","user":{"login":"shaye059","id":24394743,"node_id":"MDQ6VXNlcjI0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/24394743?v=4","gravatar_id":"","url":"https://api.github.com/users/shaye059","html_url":"https://github.com/shaye059","followers_url":"https://api.github.com/users/shaye059/followers","following_url":"https://api.github.com/users/shaye059/following{/other_user}","gists_url":"https://api.github.com/users/shaye059/gists{/gist_id}","starred_url":"https://api.github.com/users/shaye059/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaye059/subscriptions","organizations_url":"https://api.github.com/users/shaye059/orgs","repos_url":"https://api.github.com/users/shaye059/repos","events_url":"https://api.github.com/users/shaye059/events{/privacy}","received_events_url":"https://api.github.com/users/shaye059/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-01T15:28:38Z","updated_at":"2021-03-01T15:28:38Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I've tried building a tree from a pandas DataFrame using the following line:\r\n`tree = rrcf.RCTree(data_anom.sample(1000, random_state=111))`\r\n\r\nBut it results in a TypeError. It works when I convert it to a NumPy array\r\n`tree = rrcf.RCTree(data_anom.sample(1000, random_state=111).to_numpy())`\r\nso is this just a matter of DataFrames not being supported or is there something in my DataFrame causing the issue?\r\n\r\n\r\n\r\nFull error output:\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-57-af57d97a258a> in <module>\r\n----> 1 tree = rrcf.RCTree(data_anom.sample(1000, random_state=111))\r\n\r\n~\\anaconda3\\envs\\squarefeetenv\\lib\\site-packages\\rrcf\\rrcf.py in __init__(self, X, index_labels, precision, random_state)\r\n    104             # Create RRC Tree\r\n    105             S = np.ones(n, dtype=np.bool)\r\n--> 106             self._mktree(X, S, N, I, parent=self)\r\n    107             # Remove parent of root\r\n    108             self.root.u = None\r\n\r\n~\\anaconda3\\envs\\squarefeetenv\\lib\\site-packages\\rrcf\\rrcf.py in _mktree(self, X, S, N, I, parent, side, depth)\r\n    170         depth += 1\r\n    171         # Create a cut according to definition 1\r\n--> 172         S1, S2, branch = self._cut(X, S, parent=parent, side=side)\r\n    173         # If S1 does not contain an isolated point...\r\n    174         if S1.sum() > 1:\r\n\r\n~\\anaconda3\\envs\\squarefeetenv\\lib\\site-packages\\rrcf\\rrcf.py in _cut(self, X, S, parent, side)\r\n    156         p = self.rng.uniform(xmin[q], xmax[q])\r\n    157         # Determine subset of points to left\r\n--> 158         S1 = (X[:, q] <= p) & (S)\r\n    159         # Determine subset of points to right\r\n    160         S2 = (~S1) & (S)\r\n\r\n~\\AppData\\Roaming\\Python\\Python38\\site-packages\\pandas\\core\\frame.py in __getitem__(self, key)\r\n   2904             if self.columns.nlevels > 1:\r\n   2905                 return self._getitem_multilevel(key)\r\n-> 2906             indexer = self.columns.get_loc(key)\r\n   2907             if is_integer(indexer):\r\n   2908                 indexer = [indexer]\r\n\r\n~\\AppData\\Roaming\\Python\\Python38\\site-packages\\pandas\\core\\indexes\\base.py in get_loc(self, key, method, tolerance)\r\n   2893             casted_key = self._maybe_cast_indexer(key)\r\n   2894             try:\r\n-> 2895                 return self._engine.get_loc(casted_key)\r\n   2896             except KeyError as err:\r\n   2897                 raise KeyError(key) from err\r\n\r\npandas\\_libs\\index.pyx in pandas._libs.index.IndexEngine.get_loc()\r\n\r\npandas\\_libs\\index.pyx in pandas._libs.index.IndexEngine.get_loc()\r\n\r\nTypeError: '(slice(None, None, None), 24)' is an invalid key\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/kLabUM/rrcf/issues/87/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kLabUM/rrcf/issues/87/timeline","performed_via_github_app":null,"state_reason":null}