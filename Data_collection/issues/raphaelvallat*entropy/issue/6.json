{"url":"https://api.github.com/repos/raphaelvallat/entropy/issues/6","repository_url":"https://api.github.com/repos/raphaelvallat/entropy","labels_url":"https://api.github.com/repos/raphaelvallat/entropy/issues/6/labels{/name}","comments_url":"https://api.github.com/repos/raphaelvallat/entropy/issues/6/comments","events_url":"https://api.github.com/repos/raphaelvallat/entropy/issues/6/events","html_url":"https://github.com/raphaelvallat/entropy/issues/6","id":630754514,"node_id":"MDU6SXNzdWU2MzA3NTQ1MTQ=","number":6,"title":"module 'entropy' has no attribute error for all entropy/complexity tests","user":{"login":"apavlo89","id":36444714,"node_id":"MDQ6VXNlcjM2NDQ0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/36444714?v=4","gravatar_id":"","url":"https://api.github.com/users/apavlo89","html_url":"https://github.com/apavlo89","followers_url":"https://api.github.com/users/apavlo89/followers","following_url":"https://api.github.com/users/apavlo89/following{/other_user}","gists_url":"https://api.github.com/users/apavlo89/gists{/gist_id}","starred_url":"https://api.github.com/users/apavlo89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apavlo89/subscriptions","organizations_url":"https://api.github.com/users/apavlo89/orgs","repos_url":"https://api.github.com/users/apavlo89/repos","events_url":"https://api.github.com/users/apavlo89/events{/privacy}","received_events_url":"https://api.github.com/users/apavlo89/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-04T11:49:44Z","updated_at":"2020-06-07T19:29:32Z","closed_at":"2020-06-07T19:29:32Z","author_association":"NONE","active_lock_reason":null,"body":"A bizzare issue that has come up after formatting my pc and reinstalling entropy. I am not sure if I'm making a mistake or the newest version of entropy broke something.\r\n\r\nThis is the code I am using for a two-channel resting-state EEG study.\r\n\r\n`\r\nimport yasa\r\nimport mne\r\nimport numpy as np\r\nimport seaborn as sns\r\nimport pandas as pd\r\nimport entropy as ent\r\nsns.set(font_scale=1.2)\r\n\r\n\r\n#P1\r\n\r\n# Load data as a eeglab file\r\nf = mne.io.read_raw_eeglab('D:/study/EEGLAB/resting state/Recordings/bandpass 0point5 - 45Hz +ASR/1_EEG_LR_RS.set', eog=(), preload=True, uint16_codec=None, verbose=None)\r\n# Load data\r\n\r\ndata = f._data * 1e6\r\n\r\nsf = f.info['sfreq']\r\nchan = f.ch_names\r\ntimes = np.arange(data.shape[1]) / sf\r\n\r\n\r\nprint(data.shape, np.round(data[0:5], 3))\r\n\r\n\r\n# Convert the EEG data to 30-sec data\r\ntimes, data_win = yasa.sliding_window(data, sf, window=51)\r\n\r\n# Convert times to minutes\r\ntimes /= 60\r\n\r\nfrom numpy import apply_along_axis as apply\r\n\r\ndef lziv(x):\r\n    \"\"\"Binarize the EEG signal and calculate the Lempel-Ziv complexity.\r\n    \"\"\"\r\n    return ent.lziv_complexity(x > x.mean(), normalize=True)\r\n\r\ndf_all = []\r\n\r\nfor i, c in enumerate(chan):\r\n    data_win_ep = data_win[i, :, :]\r\n    # Calculate entropy for this channel\r\n    df_chan = {\r\n    # Entropy\r\n    'perm_entropy': apply(ent.perm_entropy, axis=1, arr=data_win_ep, normalize=True),\r\n    'svd_entropy': apply(ent.svd_entropy, 1, data_win_ep, normalize=True),\r\n    'spec_entropy': apply(ent.spectral_entropy, 1, data_win_ep, sf=sf, nperseg=data_win_ep.shape[1], normalize=True),\r\n    'sample_entropy': apply(ent.sample_entropy, 1, data_win_ep),\r\n    # Fractal dimension\r\n    'dfa': apply(ent.detrended_fluctuation, 1, data_win_ep),\r\n    'petrosian': apply(ent.petrosian_fd, 1, data_win_ep),\r\n    'katz': apply(ent.katz_fd, 1, data_win_ep),\r\n    'higuchi': apply(ent.higuchi_fd, 1, data_win_ep),\r\n    'lziv': apply(lziv, 1, data_win_ep),\r\n    }\r\n\r\n\r\n    df_chan['Channel'] = f\r\n    # Append to a larger dataframe\r\n    df_all.append(df_chan)\r\n\r\ndf_all = pd.DataFrame(df_all)\r\ndf_all.to_csv(r'D:\\study\\EEGLAB\\resting state\\nonlinear - ASR + BANDPASS\\1_nonlinear.csv')`\r\n\r\nError: AttributeError: module 'entropy' has no attribute 'perm_entropy'. This happens with all different types of entropy/complexity is just stops at the first one. \r\n\r\nThank you for your help in the matter.\r\n\r\n","closed_by":{"login":"apavlo89","id":36444714,"node_id":"MDQ6VXNlcjM2NDQ0NzE0","avatar_url":"https://avatars.githubusercontent.com/u/36444714?v=4","gravatar_id":"","url":"https://api.github.com/users/apavlo89","html_url":"https://github.com/apavlo89","followers_url":"https://api.github.com/users/apavlo89/followers","following_url":"https://api.github.com/users/apavlo89/following{/other_user}","gists_url":"https://api.github.com/users/apavlo89/gists{/gist_id}","starred_url":"https://api.github.com/users/apavlo89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apavlo89/subscriptions","organizations_url":"https://api.github.com/users/apavlo89/orgs","repos_url":"https://api.github.com/users/apavlo89/repos","events_url":"https://api.github.com/users/apavlo89/events{/privacy}","received_events_url":"https://api.github.com/users/apavlo89/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/raphaelvallat/entropy/issues/6/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/raphaelvallat/entropy/issues/6/timeline","performed_via_github_app":null,"state_reason":"completed"}