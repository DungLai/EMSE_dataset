{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/243","repository_url":"https://api.github.com/repos/k4yt3x/video2x","labels_url":"https://api.github.com/repos/k4yt3x/video2x/issues/243/labels{/name}","comments_url":"https://api.github.com/repos/k4yt3x/video2x/issues/243/comments","events_url":"https://api.github.com/repos/k4yt3x/video2x/issues/243/events","html_url":"https://github.com/k4yt3x/video2x/issues/243","id":615305651,"node_id":"MDU6SXNzdWU2MTUzMDU2NTE=","number":243,"title":"Non Zero Exit Status 1","user":{"login":"edberteliezer","id":13046668,"node_id":"MDQ6VXNlcjEzMDQ2NjY4","avatar_url":"https://avatars.githubusercontent.com/u/13046668?v=4","gravatar_id":"","url":"https://api.github.com/users/edberteliezer","html_url":"https://github.com/edberteliezer","followers_url":"https://api.github.com/users/edberteliezer/followers","following_url":"https://api.github.com/users/edberteliezer/following{/other_user}","gists_url":"https://api.github.com/users/edberteliezer/gists{/gist_id}","starred_url":"https://api.github.com/users/edberteliezer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edberteliezer/subscriptions","organizations_url":"https://api.github.com/users/edberteliezer/orgs","repos_url":"https://api.github.com/users/edberteliezer/repos","events_url":"https://api.github.com/users/edberteliezer/events{/privacy}","received_events_url":"https://api.github.com/users/edberteliezer/received_events","type":"User","site_admin":false},"labels":[{"id":1317577858,"node_id":"MDU6TGFiZWwxMzE3NTc3ODU4","url":"https://api.github.com/repos/k4yt3x/video2x/labels/state:waitingForCreator","name":"state:waitingForCreator","color":"540777","default":false,"description":"Further information required"}],"state":"closed","locked":false,"assignee":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"assignees":[{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2020-05-10T03:11:45Z","updated_at":"2020-05-12T21:58:46Z","closed_at":"2020-05-12T21:58:46Z","author_association":"NONE","active_lock_reason":null,"body":"## Environment Information\r\n\r\n|`4.0.0 Beta 3`||\r\n|`Windows 10 1903 x64`||\r\n|`Video2X`||\r\n|`FFmpeg`||\r\n|`waifu2x-caffe`||\r\n\r\n## Symptom\r\nI tried both with .mkv and .mp4 both always yield this result, with or without running as admin\r\n\r\n```\r\n[+] INFO: Upscaling single video file: C:\\Users\\Edbert\\Videos\\2020-05-10 10-00-55.mp4\r\n2020-05-10 10:02:29.717243 [+] INFO: Creating cache directory C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\r\n2020-05-10 10:02:29.718231 [+] INFO: Extracted frames are being saved to: C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\\tmpxscet1q6\r\n2020-05-10 10:02:29.720232 [+] INFO: Upscaled frames are being saved to: C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\\tmpt6k0954m\r\n[+] INFO: Reading video information\r\n2020-05-10 10:02:29.720232 [+] INFO: Executing: Z:\\Program\\Video 2X\\dependencies\\ffmpeg-latest-win64-static\\bin\\ffprobe -v quiet -print_format json -show_format -show_streams -i C:\\Users\\Edbert\\Videos\\2020-05-10 10-00-55.mp4\r\n2020-05-10 10:02:30.407562 [+] INFO: Executing: ['Z:\\\\Program\\\\Video 2X\\\\dependencies\\\\ffmpeg-latest-win64-static\\\\bin\\\\ffmpeg', '-hwaccel', 'auto', '-y', '-i', 'C:\\\\Users\\\\Edbert\\\\Videos\\\\2020-05-10 10-00-55.mp4', '-pix_fmt', 'rgba64be', 'C:\\\\Users\\\\Edbert\\\\AppData\\\\Local\\\\Temp\\\\video2x\\\\tmpxscet1q6\\\\extracted_%0d.png']\r\n2020-05-10 10:02:30.933291 [+] INFO: Main process waiting for subprocesses to exit\r\nffmpeg version git-2020-05-04-5767a2e Copyright (c) 2000-2020 the FFmpeg developers\r\n  built with gcc 9.3.1 (GCC) 20200328\r\n  configuration: --enable-gpl --enable-version3 --enable-sdl2 --enable-fontconfig --enable-gnutls --enable-iconv --enable-libass --enable-libdav1d --enable-libbluray --enable-libfreetype --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libopus --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libsrt --enable-libtheora --enable-libtwolame --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libzimg --enable-lzma --enable-zlib --enable-gmp --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvo-amrwbenc --enable-libmysofa --enable-libspeex --enable-libxvid --enable-libaom --disable-w32threads --enable-libmfx --enable-ffnvcodec --enable-cuda-llvm --enable-cuvid --enable-d3d11va --enable-nvenc --enable-nvdec --enable-dxva2 --enable-avisynth --enable-libopenmpt --enable-amf\r\n  libavutil      56. 43.100 / 56. 43.100\r\n  libavcodec     58. 82.100 / 58. 82.100\r\n  libavformat    58. 42.102 / 58. 42.102\r\n  libavdevice    58.  9.103 / 58.  9.103\r\n  libavfilter     7. 80.100 /  7. 80.100\r\n  libswscale      5.  6.101 /  5.  6.101\r\n  libswresample   3.  6.100 /  3.  6.100\r\n  libpostproc    55.  6.100 / 55.  6.100\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'C:\\Users\\Edbert\\Videos\\2020-05-10 10-00-55.mp4':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2avc1mp41\r\n    encoder         : Lavf58.29.100\r\n  Duration: 00:00:16.98, start: 0.000000, bitrate: 1273 kb/s\r\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 604x340, 1068 kb/s, 60 fps, 60 tbr, 15360 tbn, 120 tbc (default)\r\n    Metadata:\r\n      handler_name    : VideoHandler\r\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 192 kb/s (default)\r\n    Metadata:\r\n      handler_name    : SoundHandler\r\n[h264 @ 0000025f0b025040] Using auto hwaccel type dxva2 with new default device.\r\nStream mapping:\r\n  Stream #0:0 -> #0:0 (h264 (native) -> png (native))\r\nPress [q] to stop, [?] for help\r\nOutput #0, image2, to 'C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\\tmpxscet1q6\\extracted_%0d.png':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2avc1mp41\r\n    encoder         : Lavf58.42.102\r\n    Stream #0:0(und): Video: png, rgba64be, 604x340, q=2-31, 200 kb/s, 60 fps, 60 tbn, 60 tbc (default)\r\n    Metadata:\r\n      handler_name    : VideoHandler\r\n      encoder         : Lavc58.82.100 png\r\nframe= 1018 fps=8.0 q=-0.0 Lsize=N/A time=00:00:16.96 bitrate=N/A speed=0.134x\r\nvideo:627183kB audio:0kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: unknown\r\n2020-05-10 10:04:37.942305 [+] INFO: Subprocess 1656 exited with code 0\r\n2020-05-10 10:04:38.044319 [+] INFO: Executing: Z:\\Program\\Video 2X\\dependencies\\ffmpeg-latest-win64-static\\bin\\ffprobe -v quiet -pix_fmts\r\n2020-05-10 10:04:38.187216 [+] INFO: {'yuv420p': 12, 'yuyv422': 16, 'rgb24': 24, 'bgr24': 24, 'yuv422p': 16, 'yuv444p': 24, 'yuv410p': 9, 'yuv411p': 12, 'gray': 8, 'monow': 1, 'monob': 1, 'pal8': 8, 'yuvj420p': 12, 'yuvj422p': 16, 'yuvj444p': 24, 'uyvy422': 16, 'uyyvyy411': 12, 'bgr8': 8, 'bgr4': 4, 'bgr4_byte': 4, 'rgb8': 8, 'rgb4': 4, 'rgb4_byte': 4, 'nv12': 12, 'nv21': 12, 'argb': 32, 'rgba': 32, 'abgr': 32, 'bgra': 32, 'gray16be': 16, 'gray16le': 16, 'yuv440p': 16, 'yuvj440p': 16, 'yuva420p': 20, 'rgb48be': 48, 'rgb48le': 48, 'rgb565be': 16, 'rgb565le': 16, 'rgb555be': 15, 'rgb555le': 15, 'bgr565be': 16, 'bgr565le': 16, 'bgr555be': 15, 'bgr555le': 15, 'vaapi_moco': 0, 'vaapi_idct': 0, 'vaapi_vld': 0, 'yuv420p16le': 24, 'yuv420p16be': 24, 'yuv422p16le': 32, 'yuv422p16be': 32, 'yuv444p16le': 48, 'yuv444p16be': 48, 'dxva2_vld': 0, 'rgb444le': 12, 'rgb444be': 12, 'bgr444le': 12, 'bgr444be': 12, 'ya8': 16, 'bgr48be': 48, 'bgr48le': 48, 'yuv420p9be': 13, 'yuv420p9le': 13, 'yuv420p10be': 15, 'yuv420p10le': 15, 'yuv422p10be': 20, 'yuv422p10le': 20, 'yuv444p9be': 27, 'yuv444p9le': 27, 'yuv444p10be': 30, 'yuv444p10le': 30, 'yuv422p9be': 18, 'yuv422p9le': 18, 'gbrp': 24, 'gbrp9be': 27, 'gbrp9le': 27, 'gbrp10be': 30, 'gbrp10le': 30, 'gbrp16be': 48, 'gbrp16le': 48, 'yuva422p': 24, 'yuva444p': 32, 'yuva420p9be': 22, 'yuva420p9le': 22, 'yuva422p9be': 27, 'yuva422p9le': 27, 'yuva444p9be': 36, 'yuva444p9le': 36, 'yuva420p10be': 25, 'yuva420p10le': 25, 'yuva422p10be': 30, 'yuva422p10le': 30, 'yuva444p10be': 40, 'yuva444p10le': 40, 'yuva420p16be': 40, 'yuva420p16le': 40, 'yuva422p16be': 48, 'yuva422p16le': 48, 'yuva444p16be': 64, 'yuva444p16le': 64, 'vdpau': 0, 'xyz12le': 36, 'xyz12be': 36, 'nv16': 16, 'nv20le': 20, 'nv20be': 20, 'rgba64be': 64, 'rgba64le': 64, 'bgra64be': 64, 'bgra64le': 64, 'yvyu422': 16, 'ya16be': 32, 'ya16le': 32, 'gbrap': 32, 'gbrap16be': 64, 'gbrap16le': 64, 'qsv': 0, 'mmal': 0, 'd3d11va_vld': 0, 'cuda': 0, '0rgb': 24, 'rgb0': 24, '0bgr': 24, 'bgr0': 24, 'yuv420p12be': 18, 'yuv420p12le': 18, 'yuv420p14be': 21, 'yuv420p14le': 21, 'yuv422p12be': 24, 'yuv422p12le': 24, 'yuv422p14be': 28, 'yuv422p14le': 28, 'yuv444p12be': 36, 'yuv444p12le': 36, 'yuv444p14be': 42, 'yuv444p14le': 42, 'gbrp12be': 36, 'gbrp12le': 36, 'gbrp14be': 42, 'gbrp14le': 42, 'yuvj411p': 12, 'bayer_bggr8': 8, 'bayer_rggb8': 8, 'bayer_gbrg8': 8, 'bayer_grbg8': 8, 'bayer_bggr16le': 16, 'bayer_bggr16be': 16, 'bayer_rggb16le': 16, 'bayer_rggb16be': 16, 'bayer_gbrg16le': 16, 'bayer_gbrg16be': 16, 'bayer_grbg16le': 16, 'bayer_grbg16be': 16, 'xvmc': 0, 'yuv440p10le': 20, 'yuv440p10be': 20, 'yuv440p12le': 24, 'yuv440p12be': 24, 'ayuv64le': 64, 'ayuv64be': 64, 'videotoolbox_vld': 0, 'p010le': 15, 'p010be': 15, 'gbrap12be': 48, 'gbrap12le': 48, 'gbrap10be': 40, 'gbrap10le': 40, 'mediacodec': 0, 'gray12be': 12, 'gray12le': 12, 'gray10be': 10, 'gray10le': 10, 'p016le': 24, 'p016be': 24, 'd3d11': 0, 'gray9be': 9, 'gray9le': 9, 'gbrpf32be': 96, 'gbrpf32le': 96, 'gbrapf32be': 128, 'gbrapf32le': 128, 'drm_prime': 0, 'opencl': 0, 'gray14be': 14, 'gray14le': 14, 'grayf32be': 32, 'grayf32le': 32, 'yuva422p12be': 36, 'yuva422p12le': 36, 'yuva444p12be': 48, 'yuva444p12le': 48, 'nv24': 24, 'nv42': 24, 'vulkan': 0, 'y210be': 20, 'y210le': 20}\r\n[+] INFO: Framerate: 60.0\r\n[+] INFO: Starting to upscale extracted images\r\n2020-05-10 10:04:40.198077 [+] INFO: [upscaler] Subprocess 5384 executing: 'Z:\\Program\\Video 2X\\dependencies\\waifu2x-caffe\\waifu2x-caffe-cui' --tta 0 --gpu 0 --batch_size 1 --crop_size 128 --output_depth 12 --output_quality 8 --process gpu --model_dir 'Z:\\Program\\Video 2X\\dependencies\\waifu2x-caffe\\models\\cunet' --noise_level 3 --mode noise_scale --output_extention png --input_path 'C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\\tmpxscet1q6\\0' --output_path 'C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\\tmpt6k0954m' --scale_ratio 2.0\r\n2020-05-10 10:04:40.348593 [+] INFO: Starting progress monitor\r\n2020-05-10 10:04:40.350591 [+] INFO: Starting upscaled image cleaner\r\n2020-05-10 10:04:40.355591 [+] INFO: Main process waiting for subprocesses to exit\r\nUpscaling Progress:   0%|                                                                     | 0/1018 [00:00<?, ?it/s] 変換に失敗したファイルがあります\r\n[!] ERROR: Subprocess 11368 exited with code 1\r\n[!] ERROR: Subprocess execution ran into an error\r\n[!] WARNING: Terminating all processes\r\n2020-05-10 10:04:41.502055 [+] INFO: Killing progress monitor\r\nUpscaling Progress:   0%|                                                                     | 0/1018 [00:01<?, ?it/s]\r\n2020-05-10 10:04:41.555027 [+] INFO: Killing upscaled image cleaner\r\nCleaning up cache directory: C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\\tmpxscet1q6\r\nCleaning up cache directory: C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\\tmpt6k0954m\r\nCleaning up cache directory: C:\\Users\\Edbert\\AppData\\Local\\Temp\\video2x\r\nTraceback (most recent call last):\r\n  File \"video2x_gui.py\", line 94, in run\r\n  File \"upscaler.py\", line 538, in run\r\n  File \"upscaler.py\", line 516, in run\r\n  File \"upscaler.py\", line 328, in _upscale_frames\r\n  File \"upscaler.py\", line 320, in _upscale_frames\r\n  File \"upscaler.py\", line 390, in _wait\r\n  File \"upscaler.py\", line 374, in _wait\r\nsubprocess.CalledProcessError: Command '['Z:\\\\Program\\\\Video 2X\\\\dependencies\\\\waifu2x-caffe\\\\waifu2x-caffe-cui', '--tta', '0', '--gpu', '0', '--batch_size', '1', '--crop_size', '128', '--output_depth', '12', '--output_quality', '8', '--process', 'gpu', '--model_dir', 'Z:\\\\Program\\\\Video 2X\\\\dependencies\\\\waifu2x-caffe\\\\models\\\\cunet', '--noise_level', '3', '--mode', 'noise_scale', '--output_extention', 'png', '--input_path', 'C:\\\\Users\\\\Edbert\\\\AppData\\\\Local\\\\Temp\\\\video2x\\\\tmpxscet1q6\\\\0', '--output_path', 'C:\\\\Users\\\\Edbert\\\\AppData\\\\Local\\\\Temp\\\\video2x\\\\tmpt6k0954m', '--scale_ratio', '2.0']' returned non-zero exit status 1.\r\n\r\n```\r\n","closed_by":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/k4yt3x/video2x/issues/243/timeline","performed_via_github_app":null,"state_reason":"completed"}