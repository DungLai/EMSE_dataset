{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/399","repository_url":"https://api.github.com/repos/k4yt3x/video2x","labels_url":"https://api.github.com/repos/k4yt3x/video2x/issues/399/labels{/name}","comments_url":"https://api.github.com/repos/k4yt3x/video2x/issues/399/comments","events_url":"https://api.github.com/repos/k4yt3x/video2x/issues/399/events","html_url":"https://github.com/k4yt3x/video2x/issues/399","id":732265675,"node_id":"MDU6SXNzdWU3MzIyNjU2NzU=","number":399,"title":"The .yaml of 4.x.x is .yaml method has become inconvenient compared to 3.0.0.","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[{"id":2082244999,"node_id":"MDU6TGFiZWwyMDgyMjQ0OTk5","url":"https://api.github.com/repos/k4yt3x/video2x/labels/type:Discussion","name":"type:Discussion","color":"bfdadc","default":false,"description":"this is a discussion"}],"state":"closed","locked":false,"assignee":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"assignees":[{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-10-29T12:19:24Z","updated_at":"2020-11-04T15:33:49Z","closed_at":"2020-11-04T15:33:49Z","author_association":"NONE","active_lock_reason":null,"body":"## Description\r\nI downloaded it to update video2x after a long time, but .yaml method has become inconvenient compared to 3.0.0.\r\n\r\n1. You cannot work with webp. (caused by the extracted_frame_format)\r\n2. Unlike 3.0.0 an error occurs when you remove an unwanted command line.\r\n3. In video2x 4.x.x version, the latest version of waifu2x-ncnn-vulkan cannot be used to utilize multi-GPU.\r\n\r\nRequest .yaml method in the same way as 3.0.0.\r\n\r\n## Sources\r\nI copied the .yaml file based on video2x 3.0.0.\r\nfor waifu2x-caffe.\r\nThe .yaml written in the vulkan way was accidentally deleted and needs to be rewritten.\r\n\r\n```yaml\r\nffmpeg:\r\n  ffmpeg_path: video2x\r\n  video_to_frames:\r\n    -hwaccel: cuda\r\n    -y: true\r\n    output_options:\r\n      -vcodec: libwebp\r\n      -pix_fmt: yuv420p\r\n      -q: 100\r\n      -compression_level: 6\r\n      -an: true\r\n      -sn: true\r\n  frames_to_video:\r\n    -hwaccel: cuda\r\n    -y: true\r\n    input_options:\r\n      -f: null\r\n    output_options:\r\n      -vcodec: libx265\r\n      -crf: 17\r\n      -preset: placebo\r\n      -pix_fmt: yuv420p\r\n      -an: true\r\n      -sn: true\r\n  migrating_tracks:\r\n    -hwaccel: cuda\r\n    -y: true\r\n    output_options:\r\n      -c: copy\r\n      -map:\r\n      - 0:v?\r\n      - 1:d?\r\n      - 1:t?\r\n      -pix_fmt: yuv420p\r\nwaifu2x_caffe:\r\n  path: waifu2x-caffe\\waifu2x-caffe-cui.exe\r\n  model_dir: waifu2x-caffe\\models\\cunet\r\n  scale_height: null\r\n  scale_ratio: null\r\n  scale_width: null\r\n  crop_h: null\r\n  crop_w: null\r\n  input_path: null\r\n  output_path: null\r\n  output_depth: null\r\n  noise_level: null\r\n  process: gpu\r\n  input_extention_list: 'webp:png'\r\n  output_extention: webp\r\n  batch_size: 1\r\n  crop_size: 384\r\n  gpu: 0\r\n  mode: scale\r\n  output_quality: 100\r\n  tta: 1\r\nvideo2x:\r\n  image_format: webp\r\n  preserve_frames: true\r\n  video2x_cache_directory: D:\\video2x\\temp\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/k4yt3x/video2x/issues/399/timeline","performed_via_github_app":null,"state_reason":"completed"}