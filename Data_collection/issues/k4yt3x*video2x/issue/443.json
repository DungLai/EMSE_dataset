{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/443","repository_url":"https://api.github.com/repos/k4yt3x/video2x","labels_url":"https://api.github.com/repos/k4yt3x/video2x/issues/443/labels{/name}","comments_url":"https://api.github.com/repos/k4yt3x/video2x/issues/443/comments","events_url":"https://api.github.com/repos/k4yt3x/video2x/issues/443/events","html_url":"https://github.com/k4yt3x/video2x/issues/443","id":782526029,"node_id":"MDU6SXNzdWU3ODI1MjYwMjk=","number":443,"title":"TypeError: unsupported operand type(s) for /: 'NoneType' and 'int'","user":{"login":"andykais","id":6627147,"node_id":"MDQ6VXNlcjY2MjcxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/6627147?v=4","gravatar_id":"","url":"https://api.github.com/users/andykais","html_url":"https://github.com/andykais","followers_url":"https://api.github.com/users/andykais/followers","following_url":"https://api.github.com/users/andykais/following{/other_user}","gists_url":"https://api.github.com/users/andykais/gists{/gist_id}","starred_url":"https://api.github.com/users/andykais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andykais/subscriptions","organizations_url":"https://api.github.com/users/andykais/orgs","repos_url":"https://api.github.com/users/andykais/repos","events_url":"https://api.github.com/users/andykais/events{/privacy}","received_events_url":"https://api.github.com/users/andykais/received_events","type":"User","site_admin":false},"labels":[{"id":847238628,"node_id":"MDU6TGFiZWw4NDcyMzg2Mjg=","url":"https://api.github.com/repos/k4yt3x/video2x/labels/type:Bug","name":"type:Bug","color":"d80000","default":false,"description":"Something isn't working"},{"id":2047758506,"node_id":"MDU6TGFiZWwyMDQ3NzU4NTA2","url":"https://api.github.com/repos/k4yt3x/video2x/labels/component:CLI","name":"component:CLI","color":"ad2f0f","default":false,"description":"CLI related issue"}],"state":"closed","locked":false,"assignee":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"assignees":[{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2021-01-09T06:40:02Z","updated_at":"2021-01-23T21:48:59Z","closed_at":"2021-01-23T21:48:59Z","author_association":"NONE","active_lock_reason":null,"body":"## Component Versions\r\n\r\nPlease at least fill in the release version and GUI or CLI version.\r\n\r\n- **Video2X release version**: 4.3.1\r\n- **Upscaler version**:  `waifu2x-converter-cpp  version: v5.3.3 (master-27ad20e)`\r\n- **GUI version**: N/A\r\n- **CLI version**: 4.3.1\r\n\r\n## Symptom\r\nrunning video2x on the command line results in a python error\r\n\r\n## Error Log or Screenshots\r\n```\r\n andrew  Gash Bell  video2x -i gash-bell-01.mp4 -o gash-bell-01-video2x-upscaled.mp4 -d waifu2x_converter_cpp\r\n\r\n    __      __  _       _                  ___   __   __\r\n    \\ \\    / / (_)     | |                |__ \\  \\ \\ / /\r\n     \\ \\  / /   _    __| |   ___    ___      ) |  \\ V /\r\n      \\ \\/ /   | |  / _` |  / _ \\  / _ \\    / /    > <\r\n       \\  /    | | | (_| | |  __/ | (_) |  / /_   / . \\\r\n        \\/     |_|  \\__,_|  \\___|  \\___/  |____| /_/ \\_\\\r\n\r\n\r\n                  Video2X Video Enlarger\r\n\r\n                       Version 4.3.1\r\n\r\n[+] INFO: Loading files into processing queue\r\n2021-01-09 01:34:03.850792 [+] INFO: Input path(s): gash-bell-01.mp4\r\n2021-01-09 01:34:03.855201 [+] INFO: File MIME type: video/mp4\r\n[+] INFO: Loaded files into processing queue\r\n2021-01-09 01:34:03.856844 [+] INFO: Input file: /media/Torrents/Gash Bell/gash-bell-01.mp4\r\n[+] INFO: Reading file information\r\n2021-01-09 01:34:03.856953 [+] INFO: Executing: /usr/bin/ffprobe -v quiet -print_format json -show_format -show_streams -i /media/Torrents/Gash Bell/gash-bell-01.mp4\r\n2021-01-09 01:34:03.917333 [+] INFO: Creating cache directory /var/tmp/video2x\r\n2021-01-09 01:34:03.918585 [+] INFO: Extracted frames are being saved to: /var/tmp/video2x/tmp_gzl_j75\r\n2021-01-09 01:34:03.918855 [+] INFO: Upscaled frames are being saved to: /var/tmp/video2x/tmpvw4_6_fr\r\n[+] INFO: Starting upscaling video/GIF\r\n[+] INFO: Getting total number of frames in the file\r\n[+] INFO: Calculating scaling parameters\r\nCleaning up cache directory: /var/tmp/video2x/tmp_gzl_j75\r\nCleaning up cache directory: /var/tmp/video2x/tmpvw4_6_fr\r\nCleaning up cache directory: /var/tmp/video2x\r\n[!] ERROR: An exception has occurred\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/video2x\", line 342, in <module>\r\n    upscaler.run()\r\n  File \"/usr/share/video2x/upscaler.py\", line 1023, in run\r\n    raise e\r\n  File \"/usr/share/video2x/upscaler.py\", line 737, in run\r\n    output_width = output_height / height * width\r\nTypeError: unsupported operand type(s) for /: 'NoneType' and 'int'\r\n[!] ERROR: The error log file can be found at: /tmp/video2x_ttilvjrr.log\r\n```\r\nI inspected the code a bit and the `output_width` is `None` here which is causing the error. I think this is just something that needs to be caught during validation (e.g. tell the user to specify either `-r`, `-w` or `-h`","closed_by":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/k4yt3x/video2x/issues/443/timeline","performed_via_github_app":null,"state_reason":"completed"}