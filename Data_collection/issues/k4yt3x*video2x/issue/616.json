{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/616","repository_url":"https://api.github.com/repos/k4yt3x/video2x","labels_url":"https://api.github.com/repos/k4yt3x/video2x/issues/616/labels{/name}","comments_url":"https://api.github.com/repos/k4yt3x/video2x/issues/616/comments","events_url":"https://api.github.com/repos/k4yt3x/video2x/issues/616/events","html_url":"https://github.com/k4yt3x/video2x/issues/616","id":1174325060,"node_id":"I_kwDOB1EkMc5F_sdE","number":616,"title":"Cannot use CUDA on Ubuntu 20.04","user":{"login":"iowa69","id":46189171,"node_id":"MDQ6VXNlcjQ2MTg5MTcx","avatar_url":"https://avatars.githubusercontent.com/u/46189171?v=4","gravatar_id":"","url":"https://api.github.com/users/iowa69","html_url":"https://github.com/iowa69","followers_url":"https://api.github.com/users/iowa69/followers","following_url":"https://api.github.com/users/iowa69/following{/other_user}","gists_url":"https://api.github.com/users/iowa69/gists{/gist_id}","starred_url":"https://api.github.com/users/iowa69/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iowa69/subscriptions","organizations_url":"https://api.github.com/users/iowa69/orgs","repos_url":"https://api.github.com/users/iowa69/repos","events_url":"https://api.github.com/users/iowa69/events{/privacy}","received_events_url":"https://api.github.com/users/iowa69/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-03-19T18:20:22Z","updated_at":"2022-04-01T08:05:57Z","closed_at":"2022-04-01T08:05:57Z","author_association":"NONE","active_lock_reason":null,"body":"Cannot undverstand the problem here... how do I set up to use CUDA or my GTX1060 on my laptop? I am using docker image.\r\n\r\n```console\r\n(base) xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx: ~/Downloads$ docker run -it --rm --gpus all -v /dev/dri:/dev/dri -v $PWD:/host ghcr.io/k4yt3x/video2x:5.0.0-beta4-cuda-patched -i TM.mp4 -o TM-HD.mp4 -p3 upscale -h 2160 -a waifu2x -n3\r\n18:02:54.100933 | INFO     | Video2X 5.0.0-beta4\r\n18:02:54.101112 | INFO     | Copyright (C) 2018-2022 K4YT3X and contributors.\r\n18:02:54.101262 | INFO     | Reading input video information\r\n18:02:54.160902 | INFO     | Starting video decoder\r\n18:02:54.164973 | INFO     | Starting video encoder\r\n18:02:54.171471 | INFO     | Upscaler process 0 initiating\r\n18:02:54.173324 | INFO     | Upscaler process 1 initiating\r\n18:02:54.175106 | INFO     | Upscaler process 2 initiating\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'TM.mp4':\r\n  Metadata:\r\n    major_brand     : mp42\r\n    minor_version   : 0\r\n    compatible_brands: isommp42\r\n    creation_time   : 2018-09-26T07:46:53.000000Z\r\n  Duration: 00:05:10.29, start: 0.000000, bitrate: 554 kb/s\r\n    Stream #0:0(und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 455 kb/s, 29.97 fps, 29.97 tbr, 30k tbn, 59.94 tbc (default)\r\n    Metadata:\r\n      creation_time   : 2018-09-26T07:46:53.000000Z\r\n      handler_name    : ISO Media file produced by Google Inc. Created on: 09/26/2018.\r\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 96 kb/s (default)\r\n    Metadata:\r\n      creation_time   : 2018-09-26T07:46:53.000000Z\r\n      handler_name    : ISO Media file produced by Google Inc. Created on: 09/26/2018.\r\nStream mapping:\r\n  Stream #0:0 -> #0:0 (h264 (native) -> rawvideo (native))\r\nPress [q] to stop, [?] for help\r\nOutput #0, rawvideo, to 'pipe:1':\r\n  Metadata:\r\n    major_brand     : mp42\r\n    minor_version   : 0\r\n    compatible_brands: isommp42\r\n    encoder         : Lavf58.29.100\r\n    Stream #0:0(und): Video: rawvideo (RGB[24] / 0x18424752), rgb24, 480x360 [SAR 1:1 DAR 4:3], q=2-31, 124291 kb/s, 29.97 fps, 29.97 tbn, 29.97 tbc (default)\r\n    Metadata:\r\n      creation_time   : 2018-09-26T07:46:53.000000Z\r\n      handler_name    : ISO Media file produced by Google Inc. Created on: 09/26/2018.\r\n      encoder         : Lavc58.54.100 rawvideo\r\n[0 NVIDIA GeForce GTX 1060]  queueC=2[8]  queueG=0[16]  queueT=1[2]\r\n[0 NVIDIA GeForce GTX 1060]  bugsbn1=0  bugbilz=0  bugcopc=0  bugihfa=0\r\n[0 NVIDIA GeForce GTX 1060]  fp16-p/s/a=1/1/0  int8-p/s/a=1/1/1\r\n[0 NVIDIA GeForce GTX 1060]  subgroup=32  basic=1  vote=1  ballot=1  shuffle=1\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  queueC=0[1]  queueG=0[1]  queueT=0[1]\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  bugsbn1=0  bugbilz=0  bugcopc=0  bugihfa=0\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  fp16-p/s/a=1/1/0  int8-p/s/a=1/1/0\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  subgroup=8  basic=1  vote=1  ballot=1  shuffle=0\r\n[0 NVIDIA GeForce GTX 1060]  queueC=2[8]  queueG=0[16]  queueT=1[2]\r\n[0 NVIDIA GeForce GTX 1060]  bugsbn1=0  bugbilz=0  bugcopc=0  bugihfa=0\r\n[0 NVIDIA GeForce GTX 1060]  fp16-p/s/a=1/1/0  int8-p/s/a=1/1/1\r\n[0 NVIDIA GeForce GTX 1060]  subgroup=32  basic=1  vote=1  ballot=1  shuffle=1\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  queueC=0[1]  queueG=0[1]  queueT=0[1]\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  bugsbn1=0  bugbilz=0  bugcopc=0  bugihfa=0\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  fp16-p/s/a=1/1/0  int8-p/s/a=1/1/0\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  subgroup=8  basic=1  vote=1  ballot=1  shuffle=0\r\n[0 NVIDIA GeForce GTX 1060]  queueC=2[8]  queueG=0[16]  queueT=1[2]\r\n[0 NVIDIA GeForce GTX 1060]  bugsbn1=0  bugbilz=0  bugcopc=0  bugihfa=0\r\n[0 NVIDIA GeForce GTX 1060]  fp16-p/s/a=1/1/0  int8-p/s/a=1/1/1\r\n[0 NVIDIA GeForce GTX 1060]  subgroup=32  basic=1  vote=1  ballot=1  shuffle=1\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  queueC=0[1]  queueG=0[1]  queueT=0[1]\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  bugsbn1=0  bugbilz=0  bugcopc=0  bugihfa=0\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  fp16-p/s/a=1/1/0  int8-p/s/a=1/1/0\r\n[1 llvmpipe (LLVM 12.0.0, 256 bits)]  subgroup=8  basic=1  vote=1  ballot=1  shuffle=0\r\nInput #0, rawvideo, from 'pipe:0':\r\n  Duration: N/A, start: 0.000000, bitrate: 4474500 kb/s\r\n    Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 2880x2160, 4474500 kb/s, 29.97 tbr, 29.97 tbn, 29.97 tbc\r\nInput #1, mov,mp4,m4a,3gp,3g2,mj2, from 'TM.mp4':\r\n  Metadata:\r\n    major_brand     : mp42\r\n    minor_version   : 0\r\n    compatible_brands: isommp42\r\n    creation_time   : 2018-09-26T07:46:53.000000Z\r\n  Duration: 00:05:10.29, start: 0.000000, bitrate: 554 kb/s\r\n    Stream #1:0(und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 455 kb/s, 29.97 fps, 29.97 tbr, 30k tbn, 59.94 tbc (default)\r\n    Metadata:\r\n      creation_time   : 2018-09-26T07:46:53.000000Z\r\n      handler_name    : ISO Media file produced by Google Inc. Created on: 09/26/2018.\r\n    Stream #1:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 96 kb/s (default)\r\n    Metadata:\r\n      creation_time   : 2018-09-26T07:46:53.000000Z\r\n      handler_name    : ISO Media file produced by Google Inc. Created on: 09/26/2018.\r\nStream mapping:\r\n  Stream #0:0 -> #0:0 (rawvideo (native) -> h264 (libx264))\r\n  Stream #1:1 -> #0:1 (aac (native) -> aac (native))\r\n[libx264 @ 0x55f847588b80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2\r\n[libx264 @ 0x55f847588b80] profile High, level 5.1\r\n[libx264 @ 0x55f847588b80] 264 - core 155 r2917 0a84d98 - H.264/MPEG-4 AVC codec - Copyleft 2003-2018 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=18 lookahead_threads=3 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=17.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00\r\nOutput #0, mp4, to 'TM-HD.mp4':\r\n  Metadata:\r\n    major_brand     : mp42\r\n    minor_version   : 0\r\n    compatible_brands: isommp42\r\n    creation_time   : 2018-09-26T07:46:53.000000Z\r\n    comment         : Processed with Video2X\r\n    encoder         : Lavf58.29.100\r\ntream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 2880x2160, q=-1--1, 29.97 fps, 929700 tbn, 29.97 tbc\r\n    Metadata:\r\n      encoder         : Lavc58.54.100 libx264\r\n    Side data:\r\n      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1\r\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\r\n    Metadata:\r\n      creation_time   : 2018-09-26T07:46:53.000000Z\r\n      handler_name    : ISO Media file produced by Google Inc. Created on: 09/26/2018.\r\n      encoder         : Lavc58.54.100 aac\r\nUpscaling ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   0% (3/9297) ? FPS 0:00:24 < -:--:--\r\n```","closed_by":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/k4yt3x/video2x/issues/616/timeline","performed_via_github_app":null,"state_reason":"completed"}