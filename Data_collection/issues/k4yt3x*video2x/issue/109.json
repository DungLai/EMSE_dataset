{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/109","repository_url":"https://api.github.com/repos/k4yt3x/video2x","labels_url":"https://api.github.com/repos/k4yt3x/video2x/issues/109/labels{/name}","comments_url":"https://api.github.com/repos/k4yt3x/video2x/issues/109/comments","events_url":"https://api.github.com/repos/k4yt3x/video2x/issues/109/events","html_url":"https://github.com/k4yt3x/video2x/issues/109","id":459622403,"node_id":"MDU6SXNzdWU0NTk2MjI0MDM=","number":109,"title":"Upscale Fails Immediately","user":{"login":"JohnTravolski","id":36255053,"node_id":"MDQ6VXNlcjM2MjU1MDUz","avatar_url":"https://avatars.githubusercontent.com/u/36255053?v=4","gravatar_id":"","url":"https://api.github.com/users/JohnTravolski","html_url":"https://github.com/JohnTravolski","followers_url":"https://api.github.com/users/JohnTravolski/followers","following_url":"https://api.github.com/users/JohnTravolski/following{/other_user}","gists_url":"https://api.github.com/users/JohnTravolski/gists{/gist_id}","starred_url":"https://api.github.com/users/JohnTravolski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohnTravolski/subscriptions","organizations_url":"https://api.github.com/users/JohnTravolski/orgs","repos_url":"https://api.github.com/users/JohnTravolski/repos","events_url":"https://api.github.com/users/JohnTravolski/events{/privacy}","received_events_url":"https://api.github.com/users/JohnTravolski/received_events","type":"User","site_admin":false},"labels":[{"id":847238628,"node_id":"MDU6TGFiZWw4NDcyMzg2Mjg=","url":"https://api.github.com/repos/k4yt3x/video2x/labels/type:Bug","name":"type:Bug","color":"d80000","default":false,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"assignees":[{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false}],"milestone":null,"comments":8,"created_at":"2019-06-23T21:56:41Z","updated_at":"2019-07-01T19:26:49Z","closed_at":"2019-07-01T19:26:49Z","author_association":"NONE","active_lock_reason":null,"body":"## Environment Information\r\n\r\n|Module|Version|\r\n|-|-| \r\n|`video2x`|video2x-2.7.1-win32-full.zip|\r\n|`ffmpeg`|ffmpeg-20190330-5282cba-win64-static|\r\n|`waifu2x-caffe`|ver 1.2.0.2|\r\n|`waifu2x-converter-cpp`|Whatever was included in the zip|\r\n\r\n## Symptom\r\n\r\nWhen I attempt to run:\r\n`./video2x -i testinput.mp4 -o out.mp4 -m gpu --width 3840 --height 2160`\r\nI receive a \"returned non-zero exit status\" error.  The test input file can be found here:\r\nhttps://drive.google.com/open?id=1kXXatUgsEq9aaWa9wkx-cuRxBBb0TcFu\r\n\r\nCan somebody please help me understand what's going wrong?\r\n\r\n## Screenshots or Error Messages\r\n\r\n\r\n\r\nPlease paste your error message in the code block down below:\r\n\r\n```\r\nPS E:\\upscalingTesting\\video2x> ./video2x -i testinput.mp4 -o out.mp4 -m gpu --width 3840 --height 2160\r\n__      __  _       _                  ___   __   __\r\n\\ \\    / / (_)     | |                |__ \\  \\ \\ / /\r\n \\ \\  / /   _    __| |   ___    ___      ) |  \\ V /\r\n  \\ \\/ /   | |  / _` |  / _ \\  / _ \\    / /    > <\r\n   \\  /    | | | (_| | |  __/ | (_) |  / /_   / . \\\r\n    \\/     |_|  \\__,_|  \\___|  \\___/  |____| /_/ \\_\\\r\n\r\n               Video2X Video Enlarger\r\n\r\n                   Version 2.7.1\r\n\r\n[!] WARNING: Specified cache directory C:\\Users\\UN2\\AppData\\Local\\Temp\\video2x does not exist\r\n[?] USER: Create directory? [Y/n]: Y\r\n[+] INFO: C:\\Users\\UN2\\AppData\\Local\\Temp\\video2x created\r\n[+] INFO: Upscaling single video file: testinput.mp4\r\n2019-06-23 16:44:46.608633 [+] INFO: Extracted frames are being saved to: C:\\Users\\UN2\\AppData\\Local\\Temp\\video2x\\tmpc9y8gxhx\r\n2019-06-23 16:44:46.609637 [+] INFO: Upscaled frames are being saved to: C:\\Users\\UN2\\AppData\\Local\\Temp\\video2x\\tmpj6yj3n31\r\n2019-06-23 16:44:46.610079 [+] INFO: Executing: ['E:\\\\upscalingTesting\\\\video2x\\\\dependencies\\\\ffmpeg-latest-win64-static\\\\bin\\\\ffmpeg.exe', '-hwaccel', 'auto', '-y', '-i', 'E:\\\\upscalingTesting\\\\video2x\\\\testinput.mp4', 'C:\\\\Users\\\\UN2\\\\AppData\\\\Local\\\\Temp\\\\video2x\\\\tmpc9y8gxhx\\\\extracted_%0d.png']\r\nffmpeg version N-93485-g5282cbae61 Copyright (c) 2000-2019 the FFmpeg developers\r\n  built with gcc 8.2.1 (GCC) 20190212\r\n  configuration: --enable-gpl --enable-version3 --enable-sdl2 --enable-fontconfig --enable-gnutls --enable-iconv --enable-libass --enable-libdav1d --enable-libbluray --enable-libfreetype --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libopus --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libtheora --enable-libtwolame --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libzimg --enable-lzma --enable-zlib --enable-gmp --enable-libvidstab --enable-libvorbis --enable-libvo-amrwbenc --enable-libmysofa --enable-libspeex --enable-libxvid --enable-libaom --enable-libmfx --enable-amf --enable-ffnvcodec --enable-cuvid --enable-d3d11va --enable-nvenc --enable-nvdec --enable-dxva2 --enable-avisynth --enable-libopenmpt\r\n  libavutil      56. 26.100 / 56. 26.100\r\n  libavcodec     58. 47.106 / 58. 47.106\r\n  libavformat    58. 26.101 / 58. 26.101\r\n  libavdevice    58.  7.100 / 58.  7.100\r\n  libavfilter     7. 48.100 /  7. 48.100\r\n  libswscale      5.  4.100 /  5.  4.100\r\n  libswresample   3.  4.100 /  3.  4.100\r\n  libpostproc    55.  4.100 / 55.  4.100\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'E:\\upscalingTesting\\video2x\\testinput.mp4':\r\n  Metadata:\r\n    major_brand     : mp42\r\n    minor_version   : 0\r\n    compatible_brands: mp42mp41\r\n    creation_time   : 2019-06-23T21:40:22.000000Z\r\n  Duration: 00:00:01.56, start: 0.000000, bitrate: 28702 kb/s\r\n    Stream #0:0(eng): Video: h264 (Main) (avc1 / 0x31637661), yuv420p(tv, bt709), 1920x1080, 29049 kb/s, 59.94 fps, 59.94 tbr, 60k tbn, 119.88 tbc (default)\r\n    Metadata:\r\n      creation_time   : 2019-06-23T21:40:22.000000Z\r\n      handler_name    : ?Mainconcept Video Media Handler\r\n      encoder         : AVC Coding\r\n    Stream #0:1(eng): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 317 kb/s (default)\r\n    Metadata:\r\n      creation_time   : 2019-06-23T21:40:22.000000Z\r\n      handler_name    : #Mainconcept MP4 Sound Media Handler\r\n[h264 @ 0000017106f6e500] Using auto hwaccel type dxva2 with new default device.\r\nStream mapping:\r\n  Stream #0:0 -> #0:0 (h264 (native) -> png (native))\r\nPress [q] to stop, [?] for help\r\nOutput #0, image2, to 'C:\\Users\\UN2\\AppData\\Local\\Temp\\video2x\\tmpc9y8gxhx\\extracted_%0d.png':\r\n  Metadata:\r\n    major_brand     : mp42\r\n    minor_version   : 0\r\n    compatible_brands: mp42mp41\r\n    encoder         : Lavf58.26.101\r\n    Stream #0:0(eng): Video: png, rgb24, 1920x1080, q=2-31, 200 kb/s, 59.94 fps, 59.94 tbn, 59.94 tbc (default)\r\n    Metadata:\r\n      creation_time   : 2019-06-23T21:40:22.000000Z\r\n      handler_name    : ?Mainconcept Video Media Handler\r\n      encoder         : Lavc58.47.106 png\r\nframe=   91 fps= 11 q=-0.0 Lsize=N/A time=00:00:01.51 bitrate=N/A speed=0.181x\r\nvideo:282357kB audio:0kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: unknown\r\n[+] INFO: Reading video information\r\n2019-06-23 16:44:55.332076 [+] INFO: Executing: E:\\upscalingTesting\\video2x\\dependencies\\ffmpeg-latest-win64-static\\bin\\ffprobe.exe -v quiet -print_format json -show_format -show_streams -i E:\\upscalingTesting\\video2x\\testinput.mp4\r\n[+] INFO: Framerate: 59.94005994005994\r\n[+] INFO: Starting to upscale extracted images\r\n2019-06-23 16:44:55.588932 [+] INFO: Starting upscaled image cleaner\r\n2019-06-23 16:44:55.590445 [+] INFO: [upscaler] Thread 0 started\r\n2019-06-23 16:44:55.591439 [+] INFO: Executing: ['E:\\\\upscalingTesting\\\\video2x\\\\dependencies\\\\waifu2x-caffe\\\\waifu2x-caffe-cui.exe', '--output_extention', 'png', '--mode', 'noise_scale', '--scale_width', '3840', '--scale_height', '2160', '--noise_level', '3', '--process', 'gpu', '--crop_size', '128', '--output_quality', '-1', '--output_depth', '8', '--batch_size', '1', '--gpu', '0', '--tta', '0', '--input_path', 'C:\\\\Users\\\\UN2\\\\AppData\\\\Local\\\\Temp\\\\video2x\\\\tmpc9y8gxhx\\\\0', '--output_path', 'C:\\\\Users\\\\UN2\\\\AppData\\\\Local\\\\Temp\\\\video2x\\\\tmpj6yj3n31']\r\nUpscaling Progress:   0%|                                                                                     | 0/91 [00:00<?, ?it/s]変換に失敗したファイルがあります\r\n2019-06-23 16:44:55.634551 [+] INFO: Killing upscaled image cleaner\r\nUpscaling Progress:   0%|                                                                                     | 0/91 [00:01<?, ?it/s][!] ERROR: An exception has occurred\r\nTraceback (most recent call last):\r\n  File \"video2x.py\", line 318, in <module>\r\n  File \"upscaler.py\", line 295, in run\r\n  File \"upscaler.py\", line 234, in _upscale_frames\r\n  File \"waifu2x_caffe.py\", line 83, in upscale\r\n  File \"subprocess.py\", line 487, in run\r\nsubprocess.CalledProcessError: Command '['E:\\\\upscalingTesting\\\\video2x\\\\dependencies\\\\waifu2x-caffe\\\\waifu2x-caffe-cui.exe', '--output_extention', 'png', '--mode', 'noise_scale', '--scale_width', '3840', '--scale_height', '2160', '--noise_level', '3', '--process', 'gpu', '--crop_size', '128', '--output_quality', '-1', '--output_depth', '8', '--batch_size', '1', '--gpu', '0', '--tta', '0', '--input_path', 'C:\\\\Users\\\\UN2\\\\AppData\\\\Local\\\\Temp\\\\video2x\\\\tmpc9y8gxhx\\\\0', '--output_path', 'C:\\\\Users\\\\UN2\\\\AppData\\\\Local\\\\Temp\\\\video2x\\\\tmpj6yj3n31']' returned non-zero exit status 1.\r\n```\r\n","closed_by":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/k4yt3x/video2x/issues/109/timeline","performed_via_github_app":null,"state_reason":"completed"}