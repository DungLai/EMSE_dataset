{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/494","repository_url":"https://api.github.com/repos/k4yt3x/video2x","labels_url":"https://api.github.com/repos/k4yt3x/video2x/issues/494/labels{/name}","comments_url":"https://api.github.com/repos/k4yt3x/video2x/issues/494/comments","events_url":"https://api.github.com/repos/k4yt3x/video2x/issues/494/events","html_url":"https://github.com/k4yt3x/video2x/issues/494","id":858849377,"node_id":"MDU6SXNzdWU4NTg4NDkzNzc=","number":494,"title":"VOB无法转换","user":{"login":"sakura2333","id":27041052,"node_id":"MDQ6VXNlcjI3MDQxMDUy","avatar_url":"https://avatars.githubusercontent.com/u/27041052?v=4","gravatar_id":"","url":"https://api.github.com/users/sakura2333","html_url":"https://github.com/sakura2333","followers_url":"https://api.github.com/users/sakura2333/followers","following_url":"https://api.github.com/users/sakura2333/following{/other_user}","gists_url":"https://api.github.com/users/sakura2333/gists{/gist_id}","starred_url":"https://api.github.com/users/sakura2333/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sakura2333/subscriptions","organizations_url":"https://api.github.com/users/sakura2333/orgs","repos_url":"https://api.github.com/users/sakura2333/repos","events_url":"https://api.github.com/users/sakura2333/events{/privacy}","received_events_url":"https://api.github.com/users/sakura2333/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"assignees":[{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false}],"milestone":null,"comments":7,"created_at":"2021-04-15T12:50:42Z","updated_at":"2022-04-24T07:02:24Z","closed_at":"2022-04-24T07:02:23Z","author_association":"NONE","active_lock_reason":null,"body":"**vob文件无法处理\r\n同目录下MP4文件可以处理**\r\n\r\n**release为最新**\r\n**log：**\r\n\r\n<details>\r\n\u001B[90m2021-04-15 20:45:39.139998 [+] INFO: Executing: D:\\工具\\video2x-4.8.1-win32-full\\dependencies\\ffmpeg\\bin\\ffprobe -v quiet -count_frames -select_streams v:1 -show_entries stream=nb_read_frames -of default=nokey=1:noprint_wrappers=1 C:\\Users\\U2\\Pictures\\VTS_01_1.VOB\u001B[0m\r\n清理缓存目录：C:\\Users\\U2\\AppData\\Local\\Temp\\video2x\\tmpi37h0m_y\r\n清理缓存目录：C:\\Users\\U2\\AppData\\Local\\Temp\\video2x\\tmpph7sx9ga\r\n清理缓存目录：C:\\Users\\U2\\AppData\\Local\\Temp\\video2x\r\nTraceback (most recent call last):\r\n  File \"video2x_gui.py\", line 105, in run\r\n  File \"upscaler.py\", line 1022, in run\r\n  File \"upscaler.py\", line 716, in run\r\n  File \"wrappers\\ffmpeg.py\", line 112, in get_number_of_frames\r\nValueError: invalid literal for int() with base 10: ''\r\n\r\n**ffprobe运行结果：**\r\n**简化信息**\r\nffprobe -v quiet -print_format json -show_format -show_streams -i /Volumes/D/动画/VTS_01_1.VOB | grep frame\r\n            \"r_frame_rate\": \"0/0\",\r\n            \"avg_frame_rate\": \"0/0\",\r\n            \"has_b_frames\": 1,\r\n            \"r_frame_rate\": \"30000/1001\",\r\n            \"avg_frame_rate\": \"30000/1001\",\r\n            \"r_frame_rate\": \"0/0\",\r\n            \"avg_frame_rate\": \"0/0\",\r\n            \"r_frame_rate\": \"0/0\",\r\n            \"avg_frame_rate\": \"0/0\",\r\n\r\nffprobe -v quiet -print_format json -show_format -show_streams -i /Volumes/D/动画/2.mp4  | grep frame\r\n            \"has_b_frames\": 2,\r\n            \"r_frame_rate\": \"24000/1001\",\r\n            \"avg_frame_rate\": \"24000/1001\",\r\n            \"nb_frames\": \"32704\",\r\n            \"r_frame_rate\": \"0/0\",\r\n            \"avg_frame_rate\": \"0/0\",\r\n            **\"nb_frames\": \"63939\",**\r\n\r\n\r\n**原始信息：**\r\nVOB：\r\nffprobe -v quiet -print_format json -show_format -show_streams -i /Volumes/D/动画/VTS_01_1.VOB \r\n{\r\n    \"streams\": [\r\n        {\r\n            \"index\": 0,\r\n            \"codec_name\": \"dvd_nav_packet\",\r\n            \"codec_long_name\": \"DVD Nav packet\",\r\n            \"codec_type\": \"data\",\r\n            \"codec_tag_string\": \"[0][0][0][0]\",\r\n            \"codec_tag\": \"0x0000\",\r\n            \"id\": \"0x1bf\",\r\n            \"r_frame_rate\": \"0/0\",\r\n            \"avg_frame_rate\": \"0/0\",\r\n            \"time_base\": \"1/90000\",\r\n            \"start_pts\": 25257,\r\n            \"start_time\": \"0.280633\",\r\n            \"disposition\": {\r\n                \"default\": 0,\r\n                \"dub\": 0,\r\n                \"original\": 0,\r\n                \"comment\": 0,\r\n                \"lyrics\": 0,\r\n                \"karaoke\": 0,\r\n                \"forced\": 0,\r\n                \"hearing_impaired\": 0,\r\n                \"visual_impaired\": 0,\r\n                \"clean_effects\": 0,\r\n                \"attached_pic\": 0,\r\n                \"timed_thumbnails\": 0\r\n            }\r\n        },\r\n        {\r\n            \"index\": 1,\r\n            \"codec_name\": \"mpeg2video\",\r\n            \"codec_long_name\": \"MPEG-2 video\",\r\n            \"profile\": \"Main\",\r\n            \"codec_type\": \"video\",\r\n            \"codec_time_base\": \"1001/30000\",\r\n            \"codec_tag_string\": \"[0][0][0][0]\",\r\n            \"codec_tag\": \"0x0000\",\r\n            \"width\": 720,\r\n            \"height\": 480,\r\n            \"coded_width\": 0,\r\n            \"coded_height\": 0,\r\n            \"closed_captions\": 0,\r\n            \"has_b_frames\": 1,\r\n            \"sample_aspect_ratio\": \"32:27\",\r\n            \"display_aspect_ratio\": \"16:9\",\r\n            \"pix_fmt\": \"yuv420p\",\r\n            \"level\": 8,\r\n            \"color_range\": \"tv\",\r\n            \"chroma_location\": \"left\",\r\n            \"field_order\": \"tt\",\r\n            \"refs\": 1,\r\n            \"id\": \"0x1e0\",\r\n            \"r_frame_rate\": \"30000/1001\",\r\n            \"avg_frame_rate\": \"30000/1001\",\r\n            \"time_base\": \"1/90000\",\r\n            \"start_pts\": 25257,\r\n            \"start_time\": \"0.280633\",\r\n            \"duration_ts\": 100029930,\r\n            \"duration\": \"1111.443667\",\r\n            \"bit_rate\": \"7200000\",\r\n            \"disposition\": {\r\n                \"default\": 0,\r\n                \"dub\": 0,\r\n                \"original\": 0,\r\n                \"comment\": 0,\r\n                \"lyrics\": 0,\r\n                \"karaoke\": 0,\r\n                \"forced\": 0,\r\n                \"hearing_impaired\": 0,\r\n                \"visual_impaired\": 0,\r\n                \"clean_effects\": 0,\r\n                \"attached_pic\": 0,\r\n                \"timed_thumbnails\": 0\r\n            },\r\n            \"side_data_list\": [\r\n                {\r\n                    \"side_data_type\": \"CPB properties\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"index\": 2,\r\n            \"codec_name\": \"ac3\",\r\n            \"codec_long_name\": \"ATSC A/52A (AC-3)\",\r\n            \"codec_type\": \"audio\",\r\n            \"codec_time_base\": \"1/48000\",\r\n            \"codec_tag_string\": \"[0][0][0][0]\",\r\n            \"codec_tag\": \"0x0000\",\r\n            \"sample_fmt\": \"fltp\",\r\n            \"sample_rate\": \"48000\",\r\n            \"channels\": 2,\r\n            \"channel_layout\": \"stereo\",\r\n            \"bits_per_sample\": 0,\r\n            \"dmix_mode\": \"-1\",\r\n            \"ltrt_cmixlev\": \"-1.000000\",\r\n            \"ltrt_surmixlev\": \"-1.000000\",\r\n            \"loro_cmixlev\": \"-1.000000\",\r\n            \"loro_surmixlev\": \"-1.000000\",\r\n            \"id\": \"0x80\",\r\n            \"r_frame_rate\": \"0/0\",\r\n            \"avg_frame_rate\": \"0/0\",\r\n            \"time_base\": \"1/90000\",\r\n            \"start_pts\": 25257,\r\n            \"start_time\": \"0.280633\",\r\n            \"duration_ts\": 100054080,\r\n            \"duration\": \"1111.712000\",\r\n            \"bit_rate\": \"192000\",\r\n            \"disposition\": {\r\n                \"default\": 0,\r\n                \"dub\": 0,\r\n                \"original\": 0,\r\n                \"comment\": 0,\r\n                \"lyrics\": 0,\r\n                \"karaoke\": 0,\r\n                \"forced\": 0,\r\n                \"hearing_impaired\": 0,\r\n                \"visual_impaired\": 0,\r\n                \"clean_effects\": 0,\r\n                \"attached_pic\": 0,\r\n                \"timed_thumbnails\": 0\r\n            }\r\n        },\r\n        {\r\n            \"index\": 3,\r\n            \"codec_name\": \"ac3\",\r\n            \"codec_long_name\": \"ATSC A/52A (AC-3)\",\r\n            \"codec_type\": \"audio\",\r\n            \"codec_time_base\": \"1/48000\",\r\n            \"codec_tag_string\": \"[0][0][0][0]\",\r\n            \"codec_tag\": \"0x0000\",\r\n            \"sample_fmt\": \"fltp\",\r\n            \"sample_rate\": \"48000\",\r\n            \"channels\": 2,\r\n            \"channel_layout\": \"stereo\",\r\n            \"bits_per_sample\": 0,\r\n            \"dmix_mode\": \"-1\",\r\n            \"ltrt_cmixlev\": \"-1.000000\",\r\n            \"ltrt_surmixlev\": \"-1.000000\",\r\n            \"loro_cmixlev\": \"-1.000000\",\r\n            \"loro_surmixlev\": \"-1.000000\",\r\n            \"id\": \"0x81\",\r\n            \"r_frame_rate\": \"0/0\",\r\n            \"avg_frame_rate\": \"0/0\",\r\n            \"time_base\": \"1/90000\",\r\n            \"start_pts\": 25257,\r\n            \"start_time\": \"0.280633\",\r\n            \"duration_ts\": 100054080,\r\n            \"duration\": \"1111.712000\",\r\n            \"bit_rate\": \"192000\",\r\n            \"disposition\": {\r\n                \"default\": 0,\r\n                \"dub\": 0,\r\n                \"original\": 0,\r\n                \"comment\": 0,\r\n                \"lyrics\": 0,\r\n                \"karaoke\": 0,\r\n                \"forced\": 0,\r\n                \"hearing_impaired\": 0,\r\n                \"visual_impaired\": 0,\r\n                \"clean_effects\": 0,\r\n                \"attached_pic\": 0,\r\n                \"timed_thumbnails\": 0\r\n            }\r\n        }\r\n    ],\r\n    \"format\": {\r\n        \"filename\": \"/Volumes/D/动画/VTS_01_1.VOB\",\r\n        \"nb_streams\": 4,\r\n        \"nb_programs\": 0,\r\n        \"format_name\": \"mpeg\",\r\n        \"format_long_name\": \"MPEG-PS (MPEG-2 Program Stream)\",\r\n        \"start_time\": \"0.280633\",\r\n        \"duration\": \"1111.712000\",\r\n        \"size\": \"1073403904\",\r\n        \"bit_rate\": \"7724330\",\r\n        \"probe_score\": 26\r\n    }\r\n}\r\n\r\nMP4\r\n ffprobe -v quiet -print_format json -show_format -show_streams -i /Volumes/D/动画/2.mp4 \r\n{\r\n    \"streams\": [\r\n        {\r\n            \"index\": 0,\r\n            \"codec_name\": \"h264\",\r\n            \"codec_long_name\": \"H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\",\r\n            \"profile\": \"High\",\r\n            \"codec_type\": \"video\",\r\n            \"codec_time_base\": \"1001/48000\",\r\n            \"codec_tag_string\": \"avc1\",\r\n            \"codec_tag\": \"0x31637661\",\r\n            \"width\": 1920,\r\n            \"height\": 1080,\r\n            \"coded_width\": 1920,\r\n            \"coded_height\": 1088,\r\n            \"closed_captions\": 0,\r\n            \"has_b_frames\": 2,\r\n            \"sample_aspect_ratio\": \"1:1\",\r\n            \"display_aspect_ratio\": \"16:9\",\r\n            \"pix_fmt\": \"yuv420p\",\r\n            \"level\": 40,\r\n            \"color_range\": \"tv\",\r\n            \"color_space\": \"bt709\",\r\n            \"color_transfer\": \"bt709\",\r\n            \"color_primaries\": \"bt709\",\r\n            \"chroma_location\": \"left\",\r\n            \"refs\": 1,\r\n            \"is_avc\": \"true\",\r\n            \"nal_length_size\": \"4\",\r\n            \"r_frame_rate\": \"24000/1001\",\r\n            \"avg_frame_rate\": \"24000/1001\",\r\n            \"time_base\": \"1/24000\",\r\n            \"start_pts\": 0,\r\n            \"start_time\": \"0.000000\",\r\n            \"duration_ts\": 32736680,\r\n            \"duration\": \"1364.028333\",\r\n            \"bit_rate\": \"2996717\",\r\n            \"bits_per_raw_sample\": \"8\",\r\n            \"nb_frames\": \"32704\",\r\n            \"disposition\": {\r\n                \"default\": 1,\r\n                \"dub\": 0,\r\n                \"original\": 0,\r\n                \"comment\": 0,\r\n                \"lyrics\": 0,\r\n                \"karaoke\": 0,\r\n                \"forced\": 0,\r\n                \"hearing_impaired\": 0,\r\n                \"visual_impaired\": 0,\r\n                \"clean_effects\": 0,\r\n                \"attached_pic\": 0,\r\n                \"timed_thumbnails\": 0\r\n            },\r\n            \"tags\": {\r\n                \"creation_time\": \"2021-04-06T05:14:22.000000Z\",\r\n                \"language\": \"und\",\r\n                \"encoder\": \"AVC Coding\"\r\n            }\r\n        },\r\n        {\r\n            \"index\": 1,\r\n            \"codec_name\": \"aac\",\r\n            \"codec_long_name\": \"AAC (Advanced Audio Coding)\",\r\n            \"profile\": \"LC\",\r\n            \"codec_type\": \"audio\",\r\n            \"codec_time_base\": \"1/48000\",\r\n            \"codec_tag_string\": \"mp4a\",\r\n            \"codec_tag\": \"0x6134706d\",\r\n            \"sample_fmt\": \"fltp\",\r\n            \"sample_rate\": \"48000\",\r\n            \"channels\": 2,\r\n            \"channel_layout\": \"stereo\",\r\n            \"bits_per_sample\": 0,\r\n            \"r_frame_rate\": \"0/0\",\r\n            \"avg_frame_rate\": \"0/0\",\r\n            \"time_base\": \"1/48000\",\r\n            \"start_pts\": 0,\r\n            \"start_time\": \"0.000000\",\r\n            \"duration_ts\": 65473520,\r\n            \"duration\": \"1364.031667\",\r\n            \"bit_rate\": \"253375\",\r\n            \"max_bit_rate\": \"262912\",\r\n            \"nb_frames\": \"63939\",\r\n            \"disposition\": {\r\n                \"default\": 1,\r\n                \"dub\": 0,\r\n                \"original\": 0,\r\n                \"comment\": 0,\r\n                \"lyrics\": 0,\r\n                \"karaoke\": 0,\r\n                \"forced\": 0,\r\n                \"hearing_impaired\": 0,\r\n                \"visual_impaired\": 0,\r\n                \"clean_effects\": 0,\r\n                \"attached_pic\": 0,\r\n                \"timed_thumbnails\": 0\r\n            },\r\n            \"tags\": {\r\n                \"creation_time\": \"2021-04-06T05:14:22.000000Z\",\r\n                \"language\": \"jpn\"\r\n            }\r\n        }\r\n    ],\r\n    \"format\": {\r\n        \"filename\": \"/Volumes/D/动画/2.mp4\",\r\n        \"nb_streams\": 2,\r\n        \"nb_programs\": 0,\r\n        \"format_name\": \"mov,mp4,m4a,3gp,3g2,mj2\",\r\n        \"format_long_name\": \"QuickTime / MOV\",\r\n        \"start_time\": \"0.000000\",\r\n        \"duration\": \"1364.031667\",\r\n        \"size\": \"554798258\",\r\n        \"bit_rate\": \"3253873\",\r\n        \"probe_score\": 100,\r\n        \"tags\": {\r\n            \"major_brand\": \"mp42\",\r\n            \"minor_version\": \"0\",\r\n            \"compatible_brands\": \"mp42mp41isomavc1\",\r\n            \"creation_time\": \"2021-04-06T05:14:22.000000Z\"\r\n        }\r\n    }\r\n}\r\n</details>\r\n","closed_by":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/k4yt3x/video2x/issues/494/timeline","performed_via_github_app":null,"state_reason":"completed"}