{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/403","repository_url":"https://api.github.com/repos/k4yt3x/video2x","labels_url":"https://api.github.com/repos/k4yt3x/video2x/issues/403/labels{/name}","comments_url":"https://api.github.com/repos/k4yt3x/video2x/issues/403/comments","events_url":"https://api.github.com/repos/k4yt3x/video2x/issues/403/events","html_url":"https://github.com/k4yt3x/video2x/issues/403","id":733973955,"node_id":"MDU6SXNzdWU3MzM5NzM5NTU=","number":403,"title":"RGB -> YUV color difference","user":{"login":"28598519a","id":33422418,"node_id":"MDQ6VXNlcjMzNDIyNDE4","avatar_url":"https://avatars.githubusercontent.com/u/33422418?v=4","gravatar_id":"","url":"https://api.github.com/users/28598519a","html_url":"https://github.com/28598519a","followers_url":"https://api.github.com/users/28598519a/followers","following_url":"https://api.github.com/users/28598519a/following{/other_user}","gists_url":"https://api.github.com/users/28598519a/gists{/gist_id}","starred_url":"https://api.github.com/users/28598519a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/28598519a/subscriptions","organizations_url":"https://api.github.com/users/28598519a/orgs","repos_url":"https://api.github.com/users/28598519a/repos","events_url":"https://api.github.com/users/28598519a/events{/privacy}","received_events_url":"https://api.github.com/users/28598519a/received_events","type":"User","site_admin":false},"labels":[{"id":847238628,"node_id":"MDU6TGFiZWw4NDcyMzg2Mjg=","url":"https://api.github.com/repos/k4yt3x/video2x/labels/type:Bug","name":"type:Bug","color":"d80000","default":false,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false},"assignees":[{"login":"k4yt3x","id":21986859,"node_id":"MDQ6VXNlcjIxOTg2ODU5","avatar_url":"https://avatars.githubusercontent.com/u/21986859?v=4","gravatar_id":"","url":"https://api.github.com/users/k4yt3x","html_url":"https://github.com/k4yt3x","followers_url":"https://api.github.com/users/k4yt3x/followers","following_url":"https://api.github.com/users/k4yt3x/following{/other_user}","gists_url":"https://api.github.com/users/k4yt3x/gists{/gist_id}","starred_url":"https://api.github.com/users/k4yt3x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4yt3x/subscriptions","organizations_url":"https://api.github.com/users/k4yt3x/orgs","repos_url":"https://api.github.com/users/k4yt3x/repos","events_url":"https://api.github.com/users/k4yt3x/events{/privacy}","received_events_url":"https://api.github.com/users/k4yt3x/received_events","type":"User","site_admin":false}],"milestone":null,"comments":28,"created_at":"2020-11-01T14:02:10Z","updated_at":"2022-05-04T09:53:27Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"body":"Color Primaries : BT.709\r\nTransfer Characteristics : BT.709\r\nMatrix Coefficients : BT.709\r\n\r\nUsually the three tags in metadata are unknown, but sometimes they are not.\r\n\r\nTake BT.709, for example, when ffmpeg convert \"png to video\" ( RGB -> YUV ), if you don't specify out_color_matrix as bt709, which will result in color difference after conversion.\r\n\r\n`\r\n-vf scale=out_color_matrix=bt709\r\n`\r\n\r\nYou only need to add this if the three tags are not unknown, so this needs to be determined by changing the code and cannot be resolved simply by editing video2x.yaml\r\n\r\nNote. Not sure which of the three tags is the key.\r\n\r\nref. \r\n\r\n1. [FFmpeg Filters Documentation](https://ffmpeg.org/ffmpeg-filters.html#toc-Options-1)\r\nYou cannot specify auto because it has no effect.\r\n2. [Video Example](http://suezou.dyndns.org/lune.html#sukebe_elf-song_demo)\r\nYou can use this video to do simple direct cutting\r\n`\r\nffmpeg -ss 00:00:** -t 00:00:01 -i input.mp4 -vcodec copy -acodec copy output.mp4\r\n`\r\nOutput the video_1 with Video2x, and then edit assemble_video.output_options invideo2x.yaml\r\n`\r\n'-vf': 'pad=ceil(iw/2)*2:ceil(ih/2)*2'\r\n`\r\nto\r\n`\r\n'-vf': 'scale=out_color_matrix=bt709,pad=ceil(iw/2)*2:ceil(ih/2)*2'\r\n`\r\nOutput the video_2 with Video2x, Compare the two videos to the source. (**Please make sure there is no one else nearby.**)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/k4yt3x/video2x/issues/403/timeline","performed_via_github_app":null,"state_reason":null}