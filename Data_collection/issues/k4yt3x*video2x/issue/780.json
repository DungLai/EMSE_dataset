{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/780","repository_url":"https://api.github.com/repos/k4yt3x/video2x","labels_url":"https://api.github.com/repos/k4yt3x/video2x/issues/780/labels{/name}","comments_url":"https://api.github.com/repos/k4yt3x/video2x/issues/780/comments","events_url":"https://api.github.com/repos/k4yt3x/video2x/issues/780/events","html_url":"https://github.com/k4yt3x/video2x/issues/780","id":1453770712,"node_id":"I_kwDOB1EkMc5WpsfY","number":780,"title":"Hitting mysterious hangs on a specific frame when upscaling","user":{"login":"ghostis","id":3442500,"node_id":"MDQ6VXNlcjM0NDI1MDA=","avatar_url":"https://avatars.githubusercontent.com/u/3442500?v=4","gravatar_id":"","url":"https://api.github.com/users/ghostis","html_url":"https://github.com/ghostis","followers_url":"https://api.github.com/users/ghostis/followers","following_url":"https://api.github.com/users/ghostis/following{/other_user}","gists_url":"https://api.github.com/users/ghostis/gists{/gist_id}","starred_url":"https://api.github.com/users/ghostis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghostis/subscriptions","organizations_url":"https://api.github.com/users/ghostis/orgs","repos_url":"https://api.github.com/users/ghostis/repos","events_url":"https://api.github.com/users/ghostis/events{/privacy}","received_events_url":"https://api.github.com/users/ghostis/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-11-17T18:10:35Z","updated_at":"2022-11-17T18:10:35Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Thanks so much for this tool!\r\n\r\nSome runs have been OK, some are not.\r\n\r\nI'm running into mysterious hangs on a specific frame during some runs. The exact frame depends on the source video file, but it's always the same frame for a particular file.\r\n\r\nSetup:\r\n\r\nDebian 11 (also experienced on Debian 10)\r\nRTX2060 in TB3 eGPU on Intel NUC\r\nNVIDIA Driver 520.56.06\r\nCUDA Version: 11.8\r\nFFMPEG version: ffmpeg version 4.3.5-0+deb11u1 ... built with gcc 10 (Debian 10.2.1-6)\r\n\r\nTried -p1, -p2, and -p4 (depending on algorithm's capabilities)\r\n\r\nTried 515 \"Production Branch\" NVIDIA driver (vs 520 \"New Features\" driver currently installed)\r\n\r\nFirst hit this on Debian 10 with 4.x kernel.\r\nTried upgrading to Debian 11 with 5.x kernel.\r\n\r\nIt can take awhile to hit using RealSR because of compute cost per frame, but on animation using realcugan, I hit it quickly with a file that's affected.\r\n\r\nSource files are mpeg2 (or are converted to), deinterlaced if needed.\r\n\r\nHappens with both RealSR and realcugan, so I think it may be an ffmpeg issue.\r\n\r\nstrace shows strange timeouts for the Python process:\r\n\r\n---SNIP---\r\nread(20, \"\\200\\4\\225\\16\\0\\0\\0\\0\\0\\0\\0\\214\\7#RETURN\\224N\\206\\224.\", 25) = 25\r\nselect(0, NULL, NULL, NULL, {tv_sec=0, tv_usec=100000}) = 0 (Timeout)\r\nfutex(0x93a568, FUTEX_WAIT_BITSET_PRIVATE, 0, {tv_sec=2328, tv_nsec=432330575}, FUTEX_BITSET_MATCH_ANY) = 0\r\nfutex(0x93a570, FUTEX_WAKE_PRIVATE, 1)  = 0\r\nfutex(0x93a570, FUTEX_WAKE_PRIVATE, 1)  = 0\r\nfutex(0x93a568, FUTEX_WAIT_BITSET_PRIVATE, 0, {tv_sec=2328, tv_nsec=433830821}, FUTEX_BITSET_MATCH_ANY) = -1 ETIMEDOUT (Connection timed out)\r\nfutex(0x93a570, FUTEX_WAKE_PRIVATE, 1)  = 0\r\nfutex(0x93a5c4, FUTEX_WAKE_PRIVATE, 1)  = 1\r\nfutex(0x93a5c8, FUTEX_WAKE_PRIVATE, 1)  = 1\r\nfutex(0x93a570, FUTEX_WAKE_PRIVATE, 1)  = 1\r\nfutex(0x93a56c, FUTEX_WAKE_PRIVATE, 1)  = 1\r\nwrite(20, \"\\0\\0\\0+\\200\\4\\225 \\0\\0\\0\\0\\0\\0\\0(\\214\\f7f8cdf299f00\\224\\214\"..., 47) = 47\r\nfutex(0x93a568, FUTEX_WAIT_BITSET_PRIVATE, 0, {tv_sec=2328, tv_nsec=440655535}, FUTEX_BITSET_MATCH_ANY) = 0\r\nfutex(0x93a570, FUTEX_WAKE_PRIVATE, 1)  = 0\r\nfutex(0x93a56c, FUTEX_WAIT_BITSET_PRIVATE, 0, {tv_sec=2328, tv_nsec=441497048}, FUTEX_BITSET_MATCH_ANY) = -1 EAGAIN (Resource temporarily unavailable)\r\nfutex(0x93a570, FUTEX_WAKE_PRIVATE, 1)  = 0\r\nfutex(0x93a570, FUTEX_WAKE_PRIVATE, 1)  = 0\r\nfutex(0x93a570, FUTEX_WAKE_PRIVATE, 1)  = 0\r\nread(20, \"\\0\\0\\0\\31\", 4)                = 4\r\nread(20, \"\\200\\4\\225\\16\\0\\0\\0\\0\\0\\0\\0\\214\\7#RETURN\\224N\\206\\224.\", 25) = 25\r\nselect(0, NULL, NULL, NULL, {tv_sec=0, tv_usec=100000}) = 0 (Timeout)\r\n---SNIP---\r\n\r\n---\r\n\r\nI'm willing to troubleshoot more, but I'm not sure what to try next.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/k4yt3x/video2x/issues/780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/k4yt3x/video2x/issues/780/timeline","performed_via_github_app":null,"state_reason":null}