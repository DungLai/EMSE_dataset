[{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/704583138","html_url":"https://github.com/brent-stone/CAN_Reverse_Engineering/issues/9#issuecomment-704583138","issue_url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/9","id":704583138,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDU4MzEzOA==","user":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false},"created_at":"2020-10-06T22:19:09Z","updated_at":"2020-10-06T22:19:09Z","author_association":"OWNER","body":"That's weird .isnan() of all things is giving the error. Did you already\nlook at where the \"strict\" flag is set in your environment?\n\nOn Tue, Oct 6, 2020, 5:53 PM Mitch <notifications@github.com> wrote:\n\n> Hoping for some clarification .\n>\n> using socketcan .log files , I receive the following errors after\n> installing on my new laptop, (mint 20.04, same as desktop)\n>\n> File \"Main.py\", line 85, in\n> id_dictionary, j1979_dictionary =\n> pre_processor.generate_arb_id_dictionary(a_timer,\n> File\n> \"/home/mitch/Canbus/CAN_Reverse_Engineering/Pipeline/PreProcessor.py\", line\n> 87, in generate_arb_id_dictionary\n> self.import_csv(a_timer, self.data_filename)\n> File\n> \"/home/mitch/Canbus/CAN_Reverse_Engineering/Pipeline/PreProcessor.py\", line\n> 43, in import_csv\n> self.data = read_csv(filename,\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 686, in read_csv\n> return _read(filepath_or_buffer, kwds)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 458, in _read\n> data = parser.read(nrows)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 1196, in read\n> ret = self._engine.read(nrows)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 2231, in read\n> index, names = self._make_index(data, alldata, names)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 1677, in _make_index\n> index = self._agg_index(index)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 1770, in _agg_index\n> arr, _ = self._infer_types(arr, col_na_values | col_na_fvalues)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 1871, in _infer_types\n> mask = algorithms.isin(values, list(na_values))\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/core/algorithms.py\",\n> line 443, in isin\n> if np.isnan(values).any():\n> TypeError: ufunc 'isnan' not supported for the input types, and the inputs\n> could not be safely coerced to any supported types according to the casting\n> rule ''safe''\n>\n> odd thing is, it doesn't happen on my desktop.. (Same OS)\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/brent-stone/CAN_Reverse_Engineering/issues/9>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AEG4NYDSMPOEBKVSIOSMNXDSJOGUDANCNFSM4SGS6CZQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/704583138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/718804642","html_url":"https://github.com/brent-stone/CAN_Reverse_Engineering/issues/9#issuecomment-718804642","issue_url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/9","id":718804642,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODgwNDY0Mg==","user":{"login":"JoshuaArking","id":54147655,"node_id":"MDQ6VXNlcjU0MTQ3NjU1","avatar_url":"https://avatars.githubusercontent.com/u/54147655?v=4","gravatar_id":"","url":"https://api.github.com/users/JoshuaArking","html_url":"https://github.com/JoshuaArking","followers_url":"https://api.github.com/users/JoshuaArking/followers","following_url":"https://api.github.com/users/JoshuaArking/following{/other_user}","gists_url":"https://api.github.com/users/JoshuaArking/gists{/gist_id}","starred_url":"https://api.github.com/users/JoshuaArking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoshuaArking/subscriptions","organizations_url":"https://api.github.com/users/JoshuaArking/orgs","repos_url":"https://api.github.com/users/JoshuaArking/repos","events_url":"https://api.github.com/users/JoshuaArking/events{/privacy}","received_events_url":"https://api.github.com/users/JoshuaArking/received_events","type":"User","site_admin":false},"created_at":"2020-10-29T14:50:35Z","updated_at":"2020-10-29T14:50:35Z","author_association":"CONTRIBUTOR","body":"> Hoping for some clarification .\r\n> \r\n> using socketcan .log files , I receive the following errors after installing on my new laptop, (mint 20.04, same as desktop)\r\n> \r\n> File \"Main.py\", line 85, in\r\n> id_dictionary, j1979_dictionary = pre_processor.generate_arb_id_dictionary(a_timer,\r\n> File \"/home/mitch/Canbus/CAN_Reverse_Engineering/Pipeline/PreProcessor.py\", line 87, in generate_arb_id_dictionary\r\n> self.import_csv(a_timer, self.data_filename)\r\n> File \"/home/mitch/Canbus/CAN_Reverse_Engineering/Pipeline/PreProcessor.py\", line 43, in import_csv\r\n> self.data = read_csv(filename,\r\n> File \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line 686, in read_csv\r\n> return _read(filepath_or_buffer, kwds)\r\n> File \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line 458, in _read\r\n> data = parser.read(nrows)\r\n> File \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line 1196, in read\r\n> ret = self._engine.read(nrows)\r\n> File \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line 2231, in read\r\n> index, names = self._make_index(data, alldata, names)\r\n> File \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line 1677, in _make_index\r\n> index = self._agg_index(index)\r\n> File \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line 1770, in _agg_index\r\n> arr, _ = self._infer_types(arr, col_na_values | col_na_fvalues)\r\n> File \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line 1871, in _infer_types\r\n> mask = algorithms.isin(values, list(na_values))\r\n> File \"/home/mitch/.local/lib/python3.8/site-packages/pandas/core/algorithms.py\", line 443, in isin\r\n> if np.isnan(values).any():\r\n> TypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''\r\n> \r\n> odd thing is, it doesn't happen on my desktop.. (Same OS)\r\n\r\nAfter some digging, it appears to be an issue with pandas 1.1.3 specifically, and the issue is already being worked on in the pandas-dev repository. Here's a link to the issue tracker on the pandas-dev repo: [https://github.com/pandas-dev/pandas/issues/37094](url) Currently the bug is slated to be fixed in the 1.1.4 release which is due to come out tomorrow on October 30th. It appears that it is related to the index_col argument for read_csv() when > 1000000 lines, so a quick fix would be to set index separately from read_csv() instead of including it as an argument or to process fewer than 1000000 lines per file. Here's an example from the issue tracker:\r\n\r\n> I can confirm I have the same problem, which arises as soon as I pass the threshold of 1M rows.\r\n> \r\n> I only need to specify `index_col` to get the bug, though. Specifying `dtypes` is not needed.\r\n> \r\n> Pandas 1.1.3\r\n> \r\n> And as a temporary workaround, I am reading without `index_col`, and then setting my index. E.g.\r\n> \r\n> ```python\r\n> df = pd.read_csv(filepath, nrows=1000001)\r\n> df.set_index(0) # for example if I wanted the first column\r\n> ```\r\n\r\nIn short, upgrade to pandas 1.1.4 or downgrade to pandas 1.1.2 and this should be fixed. Since the issue is not with this repo I don't think any changes are needed besides changing requirements.txt line 2 from  \r\n```pandas``` \r\nto\r\n```pandas>=1.1.4```\r\nor\r\n```pandas<=1.1.2```\r\nI am not familiar with requirements.txt syntax, so if there's a way to specifically exclude only version 1.1.3, that would be ideal. ","reactions":{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/718804642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoshuaArking","id":54147655,"node_id":"MDQ6VXNlcjU0MTQ3NjU1","avatar_url":"https://avatars.githubusercontent.com/u/54147655?v=4","gravatar_id":"","url":"https://api.github.com/users/JoshuaArking","html_url":"https://github.com/JoshuaArking","followers_url":"https://api.github.com/users/JoshuaArking/followers","following_url":"https://api.github.com/users/JoshuaArking/following{/other_user}","gists_url":"https://api.github.com/users/JoshuaArking/gists{/gist_id}","starred_url":"https://api.github.com/users/JoshuaArking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoshuaArking/subscriptions","organizations_url":"https://api.github.com/users/JoshuaArking/orgs","repos_url":"https://api.github.com/users/JoshuaArking/repos","events_url":"https://api.github.com/users/JoshuaArking/events{/privacy}","received_events_url":"https://api.github.com/users/JoshuaArking/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/719070840","html_url":"https://github.com/brent-stone/CAN_Reverse_Engineering/issues/9#issuecomment-719070840","issue_url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/9","id":719070840,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTA3MDg0MA==","user":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false},"created_at":"2020-10-29T22:59:05Z","updated_at":"2020-10-29T22:59:05Z","author_association":"OWNER","body":"Thanks for following up on this.\n\nThere's three lines in this project for bandaid fixing another pandas\nindexing bug. I spent about two weeks trying to figure out what I was doing\nwrong. Only problem is it would took sharing a private data file to\ndemonstrate how to reproduce the error so I didn't create an issue with\nPandas :(\n\n\n\nOn Thu, Oct 29, 2020, 10:50 AM Joshua Arking <notifications@github.com>\nwrote:\n\n> Hoping for some clarification .\n>\n> using socketcan .log files , I receive the following errors after\n> installing on my new laptop, (mint 20.04, same as desktop)\n>\n> File \"Main.py\", line 85, in\n> id_dictionary, j1979_dictionary =\n> pre_processor.generate_arb_id_dictionary(a_timer,\n> File\n> \"/home/mitch/Canbus/CAN_Reverse_Engineering/Pipeline/PreProcessor.py\", line\n> 87, in generate_arb_id_dictionary\n> self.import_csv(a_timer, self.data_filename)\n> File\n> \"/home/mitch/Canbus/CAN_Reverse_Engineering/Pipeline/PreProcessor.py\", line\n> 43, in import_csv\n> self.data = read_csv(filename,\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 686, in read_csv\n> return _read(filepath_or_buffer, kwds)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 458, in _read\n> data = parser.read(nrows)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 1196, in read\n> ret = self._engine.read(nrows)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 2231, in read\n> index, names = self._make_index(data, alldata, names)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 1677, in _make_index\n> index = self._agg_index(index)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 1770, in _agg_index\n> arr, _ = self._infer_types(arr, col_na_values | col_na_fvalues)\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/io/parsers.py\", line\n> 1871, in _infer_types\n> mask = algorithms.isin(values, list(na_values))\n> File\n> \"/home/mitch/.local/lib/python3.8/site-packages/pandas/core/algorithms.py\",\n> line 443, in isin\n> if np.isnan(values).any():\n> TypeError: ufunc 'isnan' not supported for the input types, and the inputs\n> could not be safely coerced to any supported types according to the casting\n> rule ''safe''\n>\n> odd thing is, it doesn't happen on my desktop.. (Same OS)\n>\n> After some digging, it appears to be an issue with pandas 1.1.3\n> specifically, and the issue is already being worked on in the pandas-dev\n> repository. Here's a link to the issue tracker on the pandas-dev repo:\n> https://github.com/pandas-dev/pandas/issues/37094 <http://url> Currently\n> the bug is slated to be fixed in the 1.1.4 release which is due to come out\n> tomorrow on October 30th. It appears that it is related to the index_col\n> argument for read_csv() when > 1000000 lines, so a quick fix would be to\n> set index separately from read_csv() instead of including it as an argument\n> or to process fewer than 1000000 lines per file. Here's an example from the\n> issue tracker:\n>\n> I can confirm I have the same problem, which arises as soon as I pass the\n> threshold of 1M rows.\n>\n> I only need to specify index_col to get the bug, though. Specifying dtypes\n> is not needed.\n>\n> Pandas 1.1.3\n>\n> And as a temporary workaround, I am reading without index_col, and then\n> setting my index. E.g.\n>\n> df = pd.read_csv(filepath, nrows=1000001)df.set_index(0) # for example if I wanted the first column\n>\n> In short, upgrade to pandas 1.1.4 or downgrade to pandas 1.1.2 and this\n> should be fixed. Since the issue is not with this repo I don't think any\n> changes are needed besides changing requirements.txt line 2 from\n> pandas\n> to\n> pandas>=1.1.4\n> or\n> pandas<=1.1.2\n> I am not familiar with requirements.txt syntax, so if there's a way to\n> specifically exclude only version 1.1.3, that would be ideal.\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/brent-stone/CAN_Reverse_Engineering/issues/9#issuecomment-718804642>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AEG4NYC5CIUAC4VHHYTEOY3SNF6MZANCNFSM4SGS6CZQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/719070840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false}}]