[{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/528848583","html_url":"https://github.com/brent-stone/CAN_Reverse_Engineering/issues/3#issuecomment-528848583","issue_url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/3","id":528848583,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODg0ODU4Mw==","user":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false},"created_at":"2019-09-06T13:10:51Z","updated_at":"2019-09-06T13:10:51Z","author_association":"OWNER","body":"Thanks for the fix! Sorry for the slow response. I'll merge this weekend.\n\nOn Fri, Sep 6, 2019, 07:15 Joshua Arking <notifications@github.com> wrote:\n\n> (Copied from pull request: Fix for very small floating point numbers\n> causing ValueError\n> <https://github.com/brent-stone/CAN_Reverse_Engineering/pull/2>)\n>\n> While using data recorded from a 2018 Mazda 3, Semantic Analysis fails\n> with:\n>\n> Traceback (most recent call last): File\n> \"/home/mint/PycharmProjects/CAN_Reverse_Engineering/Pipeline_multi-file/Main.py\",\n> line 35, in cluster_dict, linkage_matrix =\n> sample.cluster_signals(corr_matrix) File\n> \"/home/mint/PycharmProjects/CAN_Reverse_Engineering/Pipeline_multi-file/Sample.py\",\n> line 245, in cluster_signals force_clustering) # type: dict, ndarray File\n> \"/home/mint/PycharmProjects/CAN_Reverse_Engineering/Pipeline_multi-file/SemanticAnalysis.py\",\n> line 82, in signal_clustering Z = linkage(Y, method='single',\n> optimal_ordering=True) File\n> \"/home/mint/anaconda3/envs/CAN_Reverse_Engineering/lib/python3.7/site-packages/scipy/cluster/hierarchy.py\",\n> line 1075, in linkage return optimal_leaf_ordering(result, y) File\n> \"/home/mint/anaconda3/envs/CAN_Reverse_Engineering/lib/python3.7/site-packages/scipy/cluster/hierarchy.py\",\n> line 1530, in optimal_leaf_ordering is_valid_linkage(Z, throw=True,\n> name='Z') File\n> \"/home/mint/anaconda3/envs/CAN_Reverse_Engineering/lib/python3.7/site-packages/scipy/cluster/hierarchy.py\",\n> line 2273, in is_valid_linkage name_str) ValueError: Linkage 'Z' contains\n> negative distances.\n>\n> I believe this is caused by floating point precision limitations on very\n> small positive numbers causing some distances to appear negative when added\n> to the Z linkage.\n>\n> I have fixed this in by changing line 80 in SemanticAnalysis.py to\n> Y = clip(ssd.squareform(X), 0, None)\n> and adding the associated import from numpy on line 2\n> from numpy import ndarray, zeros, clip\n>\n> Since the numbers in question are so incredibly close to zero, clipping\n> them to 0 does not cause any noticeable loss in the quality of the output\n> data.\n>\n> I have submitted the pull request linked at the top of this issue with the\n> described changes.\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/brent-stone/CAN_Reverse_Engineering/issues/3?email_source=notifications&email_token=AEG4NYCI5NF53XGOUQNWO3LQIJCV5A5CNFSM4IUILB22YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4HJZJ35Q>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AEG4NYD6HYU3M24WKBOASO3QIJCV5ANCNFSM4IUILB2Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/528848583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/530158112","html_url":"https://github.com/brent-stone/CAN_Reverse_Engineering/issues/3#issuecomment-530158112","issue_url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/3","id":530158112,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDE1ODExMg==","user":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false},"created_at":"2019-09-10T23:26:15Z","updated_at":"2019-09-10T23:26:15Z","author_association":"OWNER","body":"Merged. Thanks for squishing the bug.","reactions":{"url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/comments/530158112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false}},{"id":2623975482,"node_id":"MDExOkNsb3NlZEV2ZW50MjYyMzk3NTQ4Mg==","url":"https://api.github.com/repos/brent-stone/CAN_Reverse_Engineering/issues/events/2623975482","actor":{"login":"brent-stone","id":17680096,"node_id":"MDQ6VXNlcjE3NjgwMDk2","avatar_url":"https://avatars.githubusercontent.com/u/17680096?v=4","gravatar_id":"","url":"https://api.github.com/users/brent-stone","html_url":"https://github.com/brent-stone","followers_url":"https://api.github.com/users/brent-stone/followers","following_url":"https://api.github.com/users/brent-stone/following{/other_user}","gists_url":"https://api.github.com/users/brent-stone/gists{/gist_id}","starred_url":"https://api.github.com/users/brent-stone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brent-stone/subscriptions","organizations_url":"https://api.github.com/users/brent-stone/orgs","repos_url":"https://api.github.com/users/brent-stone/repos","events_url":"https://api.github.com/users/brent-stone/events{/privacy}","received_events_url":"https://api.github.com/users/brent-stone/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-09-10T23:26:17Z","state_reason":null,"performed_via_github_app":null}]