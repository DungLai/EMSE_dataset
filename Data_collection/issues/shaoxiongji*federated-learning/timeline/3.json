[{"url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/comments/442809166","html_url":"https://github.com/shaoxiongji/federated-learning/issues/3#issuecomment-442809166","issue_url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/3","id":442809166,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjgwOTE2Ng==","user":{"login":"FassyGit","id":22509982,"node_id":"MDQ6VXNlcjIyNTA5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/22509982?v=4","gravatar_id":"","url":"https://api.github.com/users/FassyGit","html_url":"https://github.com/FassyGit","followers_url":"https://api.github.com/users/FassyGit/followers","following_url":"https://api.github.com/users/FassyGit/following{/other_user}","gists_url":"https://api.github.com/users/FassyGit/gists{/gist_id}","starred_url":"https://api.github.com/users/FassyGit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FassyGit/subscriptions","organizations_url":"https://api.github.com/users/FassyGit/orgs","repos_url":"https://api.github.com/users/FassyGit/repos","events_url":"https://api.github.com/users/FassyGit/events{/privacy}","received_events_url":"https://api.github.com/users/FassyGit/received_events","type":"User","site_admin":false},"created_at":"2018-11-29T12:02:22Z","updated_at":"2018-11-29T12:02:22Z","author_association":"NONE","body":"I think I found the problem, not quite sure whether it is a problem caused by using cpu.\r\nThe type index in local update step is float.64, after converting the type to np.int, this code can run well\r\n ","reactions":{"url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/comments/442809166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"FassyGit","id":22509982,"node_id":"MDQ6VXNlcjIyNTA5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/22509982?v=4","gravatar_id":"","url":"https://api.github.com/users/FassyGit","html_url":"https://github.com/FassyGit","followers_url":"https://api.github.com/users/FassyGit/followers","following_url":"https://api.github.com/users/FassyGit/following{/other_user}","gists_url":"https://api.github.com/users/FassyGit/gists{/gist_id}","starred_url":"https://api.github.com/users/FassyGit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FassyGit/subscriptions","organizations_url":"https://api.github.com/users/FassyGit/orgs","repos_url":"https://api.github.com/users/FassyGit/repos","events_url":"https://api.github.com/users/FassyGit/events{/privacy}","received_events_url":"https://api.github.com/users/FassyGit/received_events","type":"User","site_admin":false}},{"id":1995039146,"node_id":"MDExOkNsb3NlZEV2ZW50MTk5NTAzOTE0Ng==","url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/events/1995039146","actor":{"login":"FassyGit","id":22509982,"node_id":"MDQ6VXNlcjIyNTA5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/22509982?v=4","gravatar_id":"","url":"https://api.github.com/users/FassyGit","html_url":"https://github.com/FassyGit","followers_url":"https://api.github.com/users/FassyGit/followers","following_url":"https://api.github.com/users/FassyGit/following{/other_user}","gists_url":"https://api.github.com/users/FassyGit/gists{/gist_id}","starred_url":"https://api.github.com/users/FassyGit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FassyGit/subscriptions","organizations_url":"https://api.github.com/users/FassyGit/orgs","repos_url":"https://api.github.com/users/FassyGit/repos","events_url":"https://api.github.com/users/FassyGit/events{/privacy}","received_events_url":"https://api.github.com/users/FassyGit/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-11-29T12:02:37Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"SohamMazumder","id":19251191,"node_id":"MDQ6VXNlcjE5MjUxMTkx","avatar_url":"https://avatars.githubusercontent.com/u/19251191?v=4","gravatar_id":"","url":"https://api.github.com/users/SohamMazumder","html_url":"https://github.com/SohamMazumder","followers_url":"https://api.github.com/users/SohamMazumder/followers","following_url":"https://api.github.com/users/SohamMazumder/following{/other_user}","gists_url":"https://api.github.com/users/SohamMazumder/gists{/gist_id}","starred_url":"https://api.github.com/users/SohamMazumder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SohamMazumder/subscriptions","organizations_url":"https://api.github.com/users/SohamMazumder/orgs","repos_url":"https://api.github.com/users/SohamMazumder/repos","events_url":"https://api.github.com/users/SohamMazumder/events{/privacy}","received_events_url":"https://api.github.com/users/SohamMazumder/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T18:32:29Z","updated_at":"2019-05-22T18:32:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/4","repository_url":"https://api.github.com/repos/shaoxiongji/federated-learning","labels_url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/4/labels{/name}","comments_url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/4/comments","events_url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/4/events","html_url":"https://github.com/shaoxiongji/federated-learning/issues/4","id":447281839,"node_id":"MDU6SXNzdWU0NDcyODE4Mzk=","number":4,"title":"Runtime error on cuda","user":{"login":"SohamMazumder","id":19251191,"node_id":"MDQ6VXNlcjE5MjUxMTkx","avatar_url":"https://avatars.githubusercontent.com/u/19251191?v=4","gravatar_id":"","url":"https://api.github.com/users/SohamMazumder","html_url":"https://github.com/SohamMazumder","followers_url":"https://api.github.com/users/SohamMazumder/followers","following_url":"https://api.github.com/users/SohamMazumder/following{/other_user}","gists_url":"https://api.github.com/users/SohamMazumder/gists{/gist_id}","starred_url":"https://api.github.com/users/SohamMazumder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SohamMazumder/subscriptions","organizations_url":"https://api.github.com/users/SohamMazumder/orgs","repos_url":"https://api.github.com/users/SohamMazumder/repos","events_url":"https://api.github.com/users/SohamMazumder/events{/privacy}","received_events_url":"https://api.github.com/users/SohamMazumder/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-05-22T18:29:52Z","updated_at":"2019-08-22T03:05:49Z","closed_at":"2019-08-22T03:05:49Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":127416920,"node_id":"MDEwOlJlcG9zaXRvcnkxMjc0MTY5MjA=","name":"federated-learning","full_name":"shaoxiongji/federated-learning","private":false,"owner":{"login":"shaoxiongji","id":18508057,"node_id":"MDQ6VXNlcjE4NTA4MDU3","avatar_url":"https://avatars.githubusercontent.com/u/18508057?v=4","gravatar_id":"","url":"https://api.github.com/users/shaoxiongji","html_url":"https://github.com/shaoxiongji","followers_url":"https://api.github.com/users/shaoxiongji/followers","following_url":"https://api.github.com/users/shaoxiongji/following{/other_user}","gists_url":"https://api.github.com/users/shaoxiongji/gists{/gist_id}","starred_url":"https://api.github.com/users/shaoxiongji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaoxiongji/subscriptions","organizations_url":"https://api.github.com/users/shaoxiongji/orgs","repos_url":"https://api.github.com/users/shaoxiongji/repos","events_url":"https://api.github.com/users/shaoxiongji/events{/privacy}","received_events_url":"https://api.github.com/users/shaoxiongji/received_events","type":"User","site_admin":false},"html_url":"https://github.com/shaoxiongji/federated-learning","description":"A PyTorch Implementation of Federated Learning http://doi.org/10.5281/zenodo.4321561","fork":false,"url":"https://api.github.com/repos/shaoxiongji/federated-learning","forks_url":"https://api.github.com/repos/shaoxiongji/federated-learning/forks","keys_url":"https://api.github.com/repos/shaoxiongji/federated-learning/keys{/key_id}","collaborators_url":"https://api.github.com/repos/shaoxiongji/federated-learning/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/shaoxiongji/federated-learning/teams","hooks_url":"https://api.github.com/repos/shaoxiongji/federated-learning/hooks","issue_events_url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/events{/number}","events_url":"https://api.github.com/repos/shaoxiongji/federated-learning/events","assignees_url":"https://api.github.com/repos/shaoxiongji/federated-learning/assignees{/user}","branches_url":"https://api.github.com/repos/shaoxiongji/federated-learning/branches{/branch}","tags_url":"https://api.github.com/repos/shaoxiongji/federated-learning/tags","blobs_url":"https://api.github.com/repos/shaoxiongji/federated-learning/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/shaoxiongji/federated-learning/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/shaoxiongji/federated-learning/git/refs{/sha}","trees_url":"https://api.github.com/repos/shaoxiongji/federated-learning/git/trees{/sha}","statuses_url":"https://api.github.com/repos/shaoxiongji/federated-learning/statuses/{sha}","languages_url":"https://api.github.com/repos/shaoxiongji/federated-learning/languages","stargazers_url":"https://api.github.com/repos/shaoxiongji/federated-learning/stargazers","contributors_url":"https://api.github.com/repos/shaoxiongji/federated-learning/contributors","subscribers_url":"https://api.github.com/repos/shaoxiongji/federated-learning/subscribers","subscription_url":"https://api.github.com/repos/shaoxiongji/federated-learning/subscription","commits_url":"https://api.github.com/repos/shaoxiongji/federated-learning/commits{/sha}","git_commits_url":"https://api.github.com/repos/shaoxiongji/federated-learning/git/commits{/sha}","comments_url":"https://api.github.com/repos/shaoxiongji/federated-learning/comments{/number}","issue_comment_url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/comments{/number}","contents_url":"https://api.github.com/repos/shaoxiongji/federated-learning/contents/{+path}","compare_url":"https://api.github.com/repos/shaoxiongji/federated-learning/compare/{base}...{head}","merges_url":"https://api.github.com/repos/shaoxiongji/federated-learning/merges","archive_url":"https://api.github.com/repos/shaoxiongji/federated-learning/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/shaoxiongji/federated-learning/downloads","issues_url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues{/number}","pulls_url":"https://api.github.com/repos/shaoxiongji/federated-learning/pulls{/number}","milestones_url":"https://api.github.com/repos/shaoxiongji/federated-learning/milestones{/number}","notifications_url":"https://api.github.com/repos/shaoxiongji/federated-learning/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/shaoxiongji/federated-learning/labels{/name}","releases_url":"https://api.github.com/repos/shaoxiongji/federated-learning/releases{/id}","deployments_url":"https://api.github.com/repos/shaoxiongji/federated-learning/deployments","created_at":"2018-03-30T10:44:46Z","updated_at":"2023-01-18T00:33:04Z","pushed_at":"2021-11-18T14:54:04Z","git_url":"git://github.com/shaoxiongji/federated-learning.git","ssh_url":"git@github.com:shaoxiongji/federated-learning.git","clone_url":"https://github.com/shaoxiongji/federated-learning.git","svn_url":"https://github.com/shaoxiongji/federated-learning","homepage":"http://doi.org/10.5281/zenodo.4321561","size":39,"stargazers_count":808,"watchers_count":808,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":281,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":10,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","federated-learning","pytorch"],"visibility":"public","forks":281,"open_issues":10,"watchers":808,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"`bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\r\n\r\ncuda:0\r\n\r\nCNNMnist(\r\n\r\n(conv1): Conv2d(1, 10, kernel_size=(5, 5), stride=(1, 1))\r\n\r\n(conv2): Conv2d(10, 20, kernel_size=(5, 5), stride=(1, 1))\r\n\r\n(conv2_drop): Dropout2d(p=0.5)\r\n\r\n(fc1): Linear(in_features=320, out_features=50, bias=True)\r\n\r\n(fc2): Linear(in_features=50, out_features=10, bias=True)\r\n\r\n)\r\n\r\n/opt/conda/lib/python3.6/site-packages/torchvision/datasets/mnist.py:43: UserWarning: train_labels has been renamed targets\r\n\r\nwarnings.warn(\"train_labels has been renamed targets\")\r\n\r\nTraceback (most recent call last):\r\n\r\nFile \"main_fed.py\", line 113, in <module>\r\n\r\nw, loss = local.train(net=copy.deepcopy(net_glob).to(args.device))\r\n\r\nFile \"/code/models/Update.py\", line 48, in train\r\n\r\nloss = self.loss_func(log_probs, labels)\r\n\r\nFile \"/opt/conda/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n\r\nresult = self.forward(*input, **kwargs)\r\n\r\nFile \"/opt/conda/lib/python3.6/site-packages/torch/nn/modules/loss.py\", line 904, in forward\r\n\r\nignore_index=self.ignore_index, reduction=self.reduction)\r\n\r\nFile \"/opt/conda/lib/python3.6/site-packages/torch/nn/functional.py\", line 1970, in cross_entropy\r\n\r\nreturn nll_loss(log_softmax(input, 1), target, weight, None, ignore_index, None, reduction)\r\n\r\nFile \"/opt/conda/lib/python3.6/site-packages/torch/nn/functional.py\", line 1790, in nll_loss\r\n\r\nret = torch._C._nn.nll_loss(input, target, weight, _Reduction.get_enum(reduction), ignore_index)\r\n\r\nRuntimeError: Expected object of backend CUDA but got backend CPU for argument  'weight'`\r\n\r\n\r\nI get the above error, only when trying to run it on CUDA.","reactions":{"url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/4/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/shaoxiongji/federated-learning/issues/4/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]