[{"url":"https://api.github.com/repos/google-research/language/issues/comments/716377394","html_url":"https://github.com/google-research/language/issues/54#issuecomment-716377394","issue_url":"https://api.github.com/repos/google-research/language/issues/54","id":716377394,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjM3NzM5NA==","user":{"login":"blackskylh","id":25436070,"node_id":"MDQ6VXNlcjI1NDM2MDcw","avatar_url":"https://avatars.githubusercontent.com/u/25436070?v=4","gravatar_id":"","url":"https://api.github.com/users/blackskylh","html_url":"https://github.com/blackskylh","followers_url":"https://api.github.com/users/blackskylh/followers","following_url":"https://api.github.com/users/blackskylh/following{/other_user}","gists_url":"https://api.github.com/users/blackskylh/gists{/gist_id}","starred_url":"https://api.github.com/users/blackskylh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blackskylh/subscriptions","organizations_url":"https://api.github.com/users/blackskylh/orgs","repos_url":"https://api.github.com/users/blackskylh/repos","events_url":"https://api.github.com/users/blackskylh/events{/privacy}","received_events_url":"https://api.github.com/users/blackskylh/received_events","type":"User","site_admin":false},"created_at":"2020-10-26T07:55:08Z","updated_at":"2020-10-26T07:55:08Z","author_association":"NONE","body":"I have the same problem too.","reactions":{"url":"https://api.github.com/repos/google-research/language/issues/comments/716377394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"blackskylh","id":25436070,"node_id":"MDQ6VXNlcjI1NDM2MDcw","avatar_url":"https://avatars.githubusercontent.com/u/25436070?v=4","gravatar_id":"","url":"https://api.github.com/users/blackskylh","html_url":"https://github.com/blackskylh","followers_url":"https://api.github.com/users/blackskylh/followers","following_url":"https://api.github.com/users/blackskylh/following{/other_user}","gists_url":"https://api.github.com/users/blackskylh/gists{/gist_id}","starred_url":"https://api.github.com/users/blackskylh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blackskylh/subscriptions","organizations_url":"https://api.github.com/users/blackskylh/orgs","repos_url":"https://api.github.com/users/blackskylh/repos","events_url":"https://api.github.com/users/blackskylh/events{/privacy}","received_events_url":"https://api.github.com/users/blackskylh/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/google-research/language/issues/comments/720551313","html_url":"https://github.com/google-research/language/issues/54#issuecomment-720551313","issue_url":"https://api.github.com/repos/google-research/language/issues/54","id":720551313,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDU1MTMxMw==","user":{"login":"ellonde","id":7325927,"node_id":"MDQ6VXNlcjczMjU5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7325927?v=4","gravatar_id":"","url":"https://api.github.com/users/ellonde","html_url":"https://github.com/ellonde","followers_url":"https://api.github.com/users/ellonde/followers","following_url":"https://api.github.com/users/ellonde/following{/other_user}","gists_url":"https://api.github.com/users/ellonde/gists{/gist_id}","starred_url":"https://api.github.com/users/ellonde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ellonde/subscriptions","organizations_url":"https://api.github.com/users/ellonde/orgs","repos_url":"https://api.github.com/users/ellonde/repos","events_url":"https://api.github.com/users/ellonde/events{/privacy}","received_events_url":"https://api.github.com/users/ellonde/received_events","type":"User","site_admin":false},"created_at":"2020-11-02T15:43:36Z","updated_at":"2020-11-02T15:43:36Z","author_association":"NONE","body":"You have to use a gcp bucket path like `gs://` for saving the models and the data","reactions":{"url":"https://api.github.com/repos/google-research/language/issues/comments/720551313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ellonde","id":7325927,"node_id":"MDQ6VXNlcjczMjU5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7325927?v=4","gravatar_id":"","url":"https://api.github.com/users/ellonde","html_url":"https://github.com/ellonde","followers_url":"https://api.github.com/users/ellonde/followers","following_url":"https://api.github.com/users/ellonde/following{/other_user}","gists_url":"https://api.github.com/users/ellonde/gists{/gist_id}","starred_url":"https://api.github.com/users/ellonde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ellonde/subscriptions","organizations_url":"https://api.github.com/users/ellonde/orgs","repos_url":"https://api.github.com/users/ellonde/repos","events_url":"https://api.github.com/users/ellonde/events{/privacy}","received_events_url":"https://api.github.com/users/ellonde/received_events","type":"User","site_admin":false}},{"actor":{"login":"bhack","id":1710528,"node_id":"MDQ6VXNlcjE3MTA1Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1710528?v=4","gravatar_id":"","url":"https://api.github.com/users/bhack","html_url":"https://github.com/bhack","followers_url":"https://api.github.com/users/bhack/followers","following_url":"https://api.github.com/users/bhack/following{/other_user}","gists_url":"https://api.github.com/users/bhack/gists{/gist_id}","starred_url":"https://api.github.com/users/bhack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhack/subscriptions","organizations_url":"https://api.github.com/users/bhack/orgs","repos_url":"https://api.github.com/users/bhack/repos","events_url":"https://api.github.com/users/bhack/events{/privacy}","received_events_url":"https://api.github.com/users/bhack/received_events","type":"User","site_admin":false},"created_at":"2021-05-16T15:21:52Z","updated_at":"2021-05-16T15:21:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tensorflow/tensorflow/issues/49177","repository_url":"https://api.github.com/repos/tensorflow/tensorflow","labels_url":"https://api.github.com/repos/tensorflow/tensorflow/issues/49177/labels{/name}","comments_url":"https://api.github.com/repos/tensorflow/tensorflow/issues/49177/comments","events_url":"https://api.github.com/repos/tensorflow/tensorflow/issues/49177/events","html_url":"https://github.com/tensorflow/tensorflow/issues/49177","id":891587135,"node_id":"MDU6SXNzdWU4OTE1ODcxMzU=","number":49177,"title":"File system scheme '[local]' not implemented on TPU","user":{"login":"RookieZB","id":47286428,"node_id":"MDQ6VXNlcjQ3Mjg2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/47286428?v=4","gravatar_id":"","url":"https://api.github.com/users/RookieZB","html_url":"https://github.com/RookieZB","followers_url":"https://api.github.com/users/RookieZB/followers","following_url":"https://api.github.com/users/RookieZB/following{/other_user}","gists_url":"https://api.github.com/users/RookieZB/gists{/gist_id}","starred_url":"https://api.github.com/users/RookieZB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RookieZB/subscriptions","organizations_url":"https://api.github.com/users/RookieZB/orgs","repos_url":"https://api.github.com/users/RookieZB/repos","events_url":"https://api.github.com/users/RookieZB/events{/privacy}","received_events_url":"https://api.github.com/users/RookieZB/received_events","type":"User","site_admin":false},"labels":[{"id":1093464312,"node_id":"MDU6TGFiZWwxMDkzNDY0MzEy","url":"https://api.github.com/repos/tensorflow/tensorflow/labels/type:others","name":"type:others","color":"159b2e","default":false,"description":"issues not falling in  bug, perfromance, support, build and install or feature"},{"id":1097541661,"node_id":"MDU6TGFiZWwxMDk3NTQxNjYx","url":"https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tpus","name":"comp:tpus","color":"0052cc","default":false,"description":"tpu, tpuestimator"}],"state":"closed","locked":false,"assignee":{"login":"tilakrayal","id":81610181,"node_id":"MDQ6VXNlcjgxNjEwMTgx","avatar_url":"https://avatars.githubusercontent.com/u/81610181?v=4","gravatar_id":"","url":"https://api.github.com/users/tilakrayal","html_url":"https://github.com/tilakrayal","followers_url":"https://api.github.com/users/tilakrayal/followers","following_url":"https://api.github.com/users/tilakrayal/following{/other_user}","gists_url":"https://api.github.com/users/tilakrayal/gists{/gist_id}","starred_url":"https://api.github.com/users/tilakrayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilakrayal/subscriptions","organizations_url":"https://api.github.com/users/tilakrayal/orgs","repos_url":"https://api.github.com/users/tilakrayal/repos","events_url":"https://api.github.com/users/tilakrayal/events{/privacy}","received_events_url":"https://api.github.com/users/tilakrayal/received_events","type":"User","site_admin":false},"assignees":[{"login":"tilakrayal","id":81610181,"node_id":"MDQ6VXNlcjgxNjEwMTgx","avatar_url":"https://avatars.githubusercontent.com/u/81610181?v=4","gravatar_id":"","url":"https://api.github.com/users/tilakrayal","html_url":"https://github.com/tilakrayal","followers_url":"https://api.github.com/users/tilakrayal/followers","following_url":"https://api.github.com/users/tilakrayal/following{/other_user}","gists_url":"https://api.github.com/users/tilakrayal/gists{/gist_id}","starred_url":"https://api.github.com/users/tilakrayal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilakrayal/subscriptions","organizations_url":"https://api.github.com/users/tilakrayal/orgs","repos_url":"https://api.github.com/users/tilakrayal/repos","events_url":"https://api.github.com/users/tilakrayal/events{/privacy}","received_events_url":"https://api.github.com/users/tilakrayal/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2021-05-14T04:29:22Z","updated_at":"2021-05-17T12:10:04Z","closed_at":"2021-05-16T14:58:34Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":45717250,"node_id":"MDEwOlJlcG9zaXRvcnk0NTcxNzI1MA==","name":"tensorflow","full_name":"tensorflow/tensorflow","private":false,"owner":{"login":"tensorflow","id":15658638,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4","avatar_url":"https://avatars.githubusercontent.com/u/15658638?v=4","gravatar_id":"","url":"https://api.github.com/users/tensorflow","html_url":"https://github.com/tensorflow","followers_url":"https://api.github.com/users/tensorflow/followers","following_url":"https://api.github.com/users/tensorflow/following{/other_user}","gists_url":"https://api.github.com/users/tensorflow/gists{/gist_id}","starred_url":"https://api.github.com/users/tensorflow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tensorflow/subscriptions","organizations_url":"https://api.github.com/users/tensorflow/orgs","repos_url":"https://api.github.com/users/tensorflow/repos","events_url":"https://api.github.com/users/tensorflow/events{/privacy}","received_events_url":"https://api.github.com/users/tensorflow/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tensorflow/tensorflow","description":"An Open Source Machine Learning Framework for Everyone","fork":false,"url":"https://api.github.com/repos/tensorflow/tensorflow","forks_url":"https://api.github.com/repos/tensorflow/tensorflow/forks","keys_url":"https://api.github.com/repos/tensorflow/tensorflow/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tensorflow/tensorflow/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tensorflow/tensorflow/teams","hooks_url":"https://api.github.com/repos/tensorflow/tensorflow/hooks","issue_events_url":"https://api.github.com/repos/tensorflow/tensorflow/issues/events{/number}","events_url":"https://api.github.com/repos/tensorflow/tensorflow/events","assignees_url":"https://api.github.com/repos/tensorflow/tensorflow/assignees{/user}","branches_url":"https://api.github.com/repos/tensorflow/tensorflow/branches{/branch}","tags_url":"https://api.github.com/repos/tensorflow/tensorflow/tags","blobs_url":"https://api.github.com/repos/tensorflow/tensorflow/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tensorflow/tensorflow/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tensorflow/tensorflow/git/refs{/sha}","trees_url":"https://api.github.com/repos/tensorflow/tensorflow/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tensorflow/tensorflow/statuses/{sha}","languages_url":"https://api.github.com/repos/tensorflow/tensorflow/languages","stargazers_url":"https://api.github.com/repos/tensorflow/tensorflow/stargazers","contributors_url":"https://api.github.com/repos/tensorflow/tensorflow/contributors","subscribers_url":"https://api.github.com/repos/tensorflow/tensorflow/subscribers","subscription_url":"https://api.github.com/repos/tensorflow/tensorflow/subscription","commits_url":"https://api.github.com/repos/tensorflow/tensorflow/commits{/sha}","git_commits_url":"https://api.github.com/repos/tensorflow/tensorflow/git/commits{/sha}","comments_url":"https://api.github.com/repos/tensorflow/tensorflow/comments{/number}","issue_comment_url":"https://api.github.com/repos/tensorflow/tensorflow/issues/comments{/number}","contents_url":"https://api.github.com/repos/tensorflow/tensorflow/contents/{+path}","compare_url":"https://api.github.com/repos/tensorflow/tensorflow/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tensorflow/tensorflow/merges","archive_url":"https://api.github.com/repos/tensorflow/tensorflow/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tensorflow/tensorflow/downloads","issues_url":"https://api.github.com/repos/tensorflow/tensorflow/issues{/number}","pulls_url":"https://api.github.com/repos/tensorflow/tensorflow/pulls{/number}","milestones_url":"https://api.github.com/repos/tensorflow/tensorflow/milestones{/number}","notifications_url":"https://api.github.com/repos/tensorflow/tensorflow/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tensorflow/tensorflow/labels{/name}","releases_url":"https://api.github.com/repos/tensorflow/tensorflow/releases{/id}","deployments_url":"https://api.github.com/repos/tensorflow/tensorflow/deployments","created_at":"2015-11-07T01:19:20Z","updated_at":"2023-01-19T09:41:48Z","pushed_at":"2023-01-19T09:24:55Z","git_url":"git://github.com/tensorflow/tensorflow.git","ssh_url":"git@github.com:tensorflow/tensorflow.git","clone_url":"https://github.com/tensorflow/tensorflow.git","svn_url":"https://github.com/tensorflow/tensorflow","homepage":"https://tensorflow.org","size":1040588,"stargazers_count":170513,"watchers_count":170513,"language":"C++","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":87656,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2322,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["deep-learning","deep-neural-networks","distributed","machine-learning","ml","neural-network","python","tensorflow"],"visibility":"public","forks":87656,"open_issues":2322,"watchers":170513,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello, I have a task to train a model with millions of images using TPU, so I plan to load local data batch by batch when training. The main function to load data is shown below.\r\n\r\n`def batch_processing(image):\r\n    image1 = tf.image.decode_jpeg(tf.io.read_file(image), 3)\r\n    return tf.image.resize(image1, [IMGSIZE, IMGSIZE])/255.\r\n\r\n\r\ndef data_loading(path, data, batch, buffer=1000, training=False):\r\n    img1, start1 = [], 0\r\n    \r\n    while start1 < len(data):\r\n        path1 = data['image_id'][start1:start1+buffer]\r\n        img1 += path1.apply(lambda x: path+'train/'+x[0]+'/'+x[1]+'/'+x[2]+'/'+x+'.png').tolist()\r\n        start1 += buffer\r\n\r\n    set1 = tf.data.Dataset.from_tensor_slices((img1))\r\n    set1 = set1.map(batch_processing, num_parallel_calls=AUTOTUNE)\r\n    set1 = set1.shuffle(buffer).batch(batch) if training else set1.batch(batch)\r\n    set1 = set1.prefetch(buffer_size=AUTOTUNE)\r\n    return tpu_strategy.experimental_distribute_datasets_from_function(lambda _: set1)`\r\n\r\nHowever, I have got an error \"File system scheme '[local]' not implemented\". Since this code works on GPU, I think such local file scheme isn't supported on TPU currently. Could you please tell me how to deal with this problem, when I have too many local images to load?\r\n\r\nThank you!\r\n","reactions":{"url":"https://api.github.com/repos/tensorflow/tensorflow/issues/49177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tensorflow/tensorflow/issues/49177/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]