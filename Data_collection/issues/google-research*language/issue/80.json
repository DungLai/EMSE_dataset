{"url":"https://api.github.com/repos/google-research/language/issues/80","repository_url":"https://api.github.com/repos/google-research/language","labels_url":"https://api.github.com/repos/google-research/language/issues/80/labels{/name}","comments_url":"https://api.github.com/repos/google-research/language/issues/80/comments","events_url":"https://api.github.com/repos/google-research/language/issues/80/events","html_url":"https://github.com/google-research/language/issues/80","id":705721942,"node_id":"MDU6SXNzdWU3MDU3MjE5NDI=","number":80,"title":"language/xsp/data_preprocessing/abstract_sql_converters.py foreign key direction wrong","user":{"login":"ruiqi-zhong","id":22912421,"node_id":"MDQ6VXNlcjIyOTEyNDIx","avatar_url":"https://avatars.githubusercontent.com/u/22912421?v=4","gravatar_id":"","url":"https://api.github.com/users/ruiqi-zhong","html_url":"https://github.com/ruiqi-zhong","followers_url":"https://api.github.com/users/ruiqi-zhong/followers","following_url":"https://api.github.com/users/ruiqi-zhong/following{/other_user}","gists_url":"https://api.github.com/users/ruiqi-zhong/gists{/gist_id}","starred_url":"https://api.github.com/users/ruiqi-zhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruiqi-zhong/subscriptions","organizations_url":"https://api.github.com/users/ruiqi-zhong/orgs","repos_url":"https://api.github.com/users/ruiqi-zhong/repos","events_url":"https://api.github.com/users/ruiqi-zhong/events{/privacy}","received_events_url":"https://api.github.com/users/ruiqi-zhong/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-21T15:52:55Z","updated_at":"2020-10-03T00:34:38Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The Foreign key is defined by child table, parent table, child column, parent column.\r\n\r\nI see a line here:\r\n`ForeignKeyRelation('flight', 'flight_stop', 'flight_id', 'flight_id')`\r\n\r\nHowever, it seems that flight_stop.flight_id should be a child of flight.flight_id . (i.e. the set of elements from flight_stop.flight_id is a subset of flight.flight_id)\r\n\r\nIt does not seem that all relations are reversed either; for example:\r\n\r\n`ForeignKeyRelation('city', 'state', 'state_code', 'state_code')`\r\n\r\nThe above relation seems to be correct.\r\n\r\nDid you use some automatic script to mine the key relation from the corpus? Here are some cases where the automatic extraction rules might fail:\r\n\r\n`ForeignKeyRelation('course', 'course', 'course_id', 'course_id')`\r\n\r\nIn this case, a column is its own parent, which seems a little wrong to me.\r\n\r\n`ForeignKeyRelation('program_course', 'student_record', course_id', 'course_id')`\r\n\r\nThis is plausible, but I suspect that program_course.course_id might be a direct child of course.course_id .\r\nThis problem is especially salient with the geography database.\r\n\r\n\r\nThere seems to be a lot of disagreeing foreign key directions in this file, and I wonder whether it would hurt OOD performance. Thanks!\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/language/issues/80/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/language/issues/80/timeline","performed_via_github_app":null,"state_reason":null}