{"url":"https://api.github.com/repos/google-research/language/issues/121","repository_url":"https://api.github.com/repos/google-research/language","labels_url":"https://api.github.com/repos/google-research/language/issues/121/labels{/name}","comments_url":"https://api.github.com/repos/google-research/language/issues/121/comments","events_url":"https://api.github.com/repos/google-research/language/issues/121/events","html_url":"https://github.com/google-research/language/issues/121","id":1095686118,"node_id":"I_kwDOCSGqyM5BTtfm","number":121,"title":"totto bleurt evaluation -- missing flag definition","user":{"login":"ballerlina","id":6558674,"node_id":"MDQ6VXNlcjY1NTg2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6558674?v=4","gravatar_id":"","url":"https://api.github.com/users/ballerlina","html_url":"https://github.com/ballerlina","followers_url":"https://api.github.com/users/ballerlina/followers","following_url":"https://api.github.com/users/ballerlina/following{/other_user}","gists_url":"https://api.github.com/users/ballerlina/gists{/gist_id}","starred_url":"https://api.github.com/users/ballerlina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ballerlina/subscriptions","organizations_url":"https://api.github.com/users/ballerlina/orgs","repos_url":"https://api.github.com/users/ballerlina/repos","events_url":"https://api.github.com/users/ballerlina/events{/privacy}","received_events_url":"https://api.github.com/users/ballerlina/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-01-06T20:52:45Z","updated_at":"2022-01-06T20:57:04Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi, I tried running the bash totto/totto_eval.sh command in the README of the totto repo, but was getting the error:\r\n```\r\nTraceback (most recent call last):                                                                                                                                                                                                       \r\n  File \"~/.conda/envs/totto/lib/python3.7/runpy.py\", line 193, in _run_module_as_main                                                                                                                                      \r\n    \"__main__\", mod_spec)                                                                                                                                                                                                                \r\n  File \"~/.conda/envs/totto/lib/python3.7/runpy.py\", line 85, in _run_code                                                                                                                                                 \r\n    exec(code, run_globals)                                                                                                                                                                                                              \r\n  File \"~/fact/language_repo/language/totto/totto_bleurt_eval.py\", line 138, in <module>                                                                                                                    \r\n    \"bleurt_checkpoint\",                                                                                            \r\n  File \"~/.conda/envs/totto/lib/python3.7/site-packages/absl/flags/_validators.py\", line 233, in mark_flags_as_required                                                                                                    \r\n    mark_flag_as_required(flag_name, flag_values)                                                                                                                                                                                        \r\n  File \"~/.conda/envs/totto/lib/python3.7/site-packages/absl/flags/_validators.py\", line 202, in mark_flag_as_required                                                                                                     \r\n    if flag_values[flag_name].default is not None:                                                                                                                                                                                       \r\n  File \"~/.conda/envs/totto/lib/python3.7/site-packages/absl/flags/_flagvalues.py\", line 471, in __getitem__                                                                                                               \r\n    return self._flags()[name]                                                                                                                                                                                                           \r\nKeyError: 'bleurt_checkpoint' \r\n```\r\nAdding flags.DEFINE_string(\"bleurt_checkpoint\", None, \"\") to the totto_bleurt_eval.py file fixes this for me. I also had to down-version sacrebleu to 1.5.1 to get this to work (eval_requirements.txt has no package versions).","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/language/issues/121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/language/issues/121/timeline","performed_via_github_app":null,"state_reason":null}