{"url":"https://api.github.com/repos/google-research/language/issues/22","repository_url":"https://api.github.com/repos/google-research/language","labels_url":"https://api.github.com/repos/google-research/language/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/google-research/language/issues/22/comments","events_url":"https://api.github.com/repos/google-research/language/issues/22/events","html_url":"https://github.com/google-research/language/issues/22","id":510385775,"node_id":"MDU6SXNzdWU1MTAzODU3NzU=","number":22,"title":"Script problems for consistent_zero_shot_nmt","user":{"login":"zjplab","id":16349466,"node_id":"MDQ6VXNlcjE2MzQ5NDY2","avatar_url":"https://avatars.githubusercontent.com/u/16349466?v=4","gravatar_id":"","url":"https://api.github.com/users/zjplab","html_url":"https://github.com/zjplab","followers_url":"https://api.github.com/users/zjplab/followers","following_url":"https://api.github.com/users/zjplab/following{/other_user}","gists_url":"https://api.github.com/users/zjplab/gists{/gist_id}","starred_url":"https://api.github.com/users/zjplab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zjplab/subscriptions","organizations_url":"https://api.github.com/users/zjplab/orgs","repos_url":"https://api.github.com/users/zjplab/repos","events_url":"https://api.github.com/users/zjplab/events{/privacy}","received_events_url":"https://api.github.com/users/zjplab/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-10-22T01:48:37Z","updated_at":"2019-10-22T01:48:37Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi! I am trying to replicate your results. But stuck on some problems.\r\n1. `download_and_preproc_uncorpus.sh` is missing. I don't know how to prepare `uncorpus` for your program without it.\r\n2. For `europarl` dataset. First your program tries to find `wmt06` folder which has been replaced by `wmt07`:\r\n```python\r\n\"src_fname\": \"wmt06/dev/dev2006.{src_lang}\".format(src_lang=src_lang),\r\n#from data_generators\\translate_europarl.py\r\n```\r\nI fixed this by changing the code in data_generators\\translate_europarl.py\r\n\r\n3. For Europarl dataset., TF 1.13.1 and Tensor2Tensor 1.11.0 is fine. But one dependency of Tensor2Tensor is `Mesh Tensorflow` which will trying to import tensor's TPU support part not covered in TF 1.13.1 thus giving the following error:\r\n\r\n```\r\n File \"/usr/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/usr/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/content/language/language/labs/consistent_zero_shot_nmt/bin/t2t_trainer.py\", line 27, in <module>\r\n    from tensor2tensor.bin import t2t_trainer\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensor2tensor/bin/t2t_trainer.py\", line 25, in <module>\r\n    from tensor2tensor import models  # pylint: disable=unused-import\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensor2tensor/models/__init__.py\", line 29, in <module>\r\n    from tensor2tensor.models import mtf_image_transformer\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensor2tensor/models/mtf_image_transformer.py\", line 29, in <module>\r\n    import mesh_tensorflow as mtf\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesh_tensorflow/__init__.py\", line 26, in <module>\r\n    from mesh_tensorflow import simd_mesh_impl\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesh_tensorflow/simd_mesh_impl.py\", line 32, in <module>\r\n    from tensorflow.python.tpu.ops import tpu_ops  # pylint: disable=g-direct-tensorflow-import\r\nModuleNotFoundError: No module named 'tensorflow.python.tpu'\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/google-research/language/issues/22/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google-research/language/issues/22/timeline","performed_via_github_app":null,"state_reason":null}