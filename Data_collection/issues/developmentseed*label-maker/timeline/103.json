[{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/410960522","html_url":"https://github.com/developmentseed/label-maker/issues/103#issuecomment-410960522","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/103","id":410960522,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDk2MDUyMg==","user":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false},"created_at":"2018-08-07T07:24:50Z","updated_at":"2018-08-07T07:24:50Z","author_association":"NONE","body":"Looked it over, and I'm not 100% clear on the filtering syntax- perhaps it's where I'm hitting an issue. Checked out OSM and Mapbox filtering keys and classes, and not quite sure how they should be specified. Particularly 'landuse' Virtually all of the examples or use cases I've seen are roads/buildings filters. Thanks for the help, and label-maker seems like a very powerful tool for GIS'ers and image scientists to have!","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/410960522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/411080642","html_url":"https://github.com/developmentseed/label-maker/issues/103#issuecomment-411080642","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/103","id":411080642,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA4MDY0Mg==","user":{"login":"drewbo","id":7108211,"node_id":"MDQ6VXNlcjcxMDgyMTE=","avatar_url":"https://avatars.githubusercontent.com/u/7108211?v=4","gravatar_id":"","url":"https://api.github.com/users/drewbo","html_url":"https://github.com/drewbo","followers_url":"https://api.github.com/users/drewbo/followers","following_url":"https://api.github.com/users/drewbo/following{/other_user}","gists_url":"https://api.github.com/users/drewbo/gists{/gist_id}","starred_url":"https://api.github.com/users/drewbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewbo/subscriptions","organizations_url":"https://api.github.com/users/drewbo/orgs","repos_url":"https://api.github.com/users/drewbo/repos","events_url":"https://api.github.com/users/drewbo/events{/privacy}","received_events_url":"https://api.github.com/users/drewbo/received_events","type":"User","site_admin":false},"created_at":"2018-08-07T14:40:48Z","updated_at":"2018-08-07T14:40:48Z","author_association":"CONTRIBUTOR","body":"@joh10891 You're definitely right that we could use some more examples. In this case, the filter is almost there, you would need to change `has` to `==` (the former is a check to see if a feature has that property at all, the latter checks to see if the feature has the property with the given value). If you want to inspect the underlying `mbtiles` file a bit easier to see what the base data looks like, I recommend using [mbview](https://github.com/mapbox/mbview)","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/411080642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"drewbo","id":7108211,"node_id":"MDQ6VXNlcjcxMDgyMTE=","avatar_url":"https://avatars.githubusercontent.com/u/7108211?v=4","gravatar_id":"","url":"https://api.github.com/users/drewbo","html_url":"https://github.com/drewbo","followers_url":"https://api.github.com/users/drewbo/followers","following_url":"https://api.github.com/users/drewbo/following{/other_user}","gists_url":"https://api.github.com/users/drewbo/gists{/gist_id}","starred_url":"https://api.github.com/users/drewbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewbo/subscriptions","organizations_url":"https://api.github.com/users/drewbo/orgs","repos_url":"https://api.github.com/users/drewbo/repos","events_url":"https://api.github.com/users/drewbo/events{/privacy}","received_events_url":"https://api.github.com/users/drewbo/received_events","type":"User","site_admin":false}},{"id":1775464445,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc3NTQ2NDQ0NQ==","url":"https://api.github.com/repos/developmentseed/label-maker/issues/events/1775464445","actor":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-08-07T14:40:48Z","performed_via_github_app":null},{"id":1775464448,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3NzU0NjQ0NDg=","url":"https://api.github.com/repos/developmentseed/label-maker/issues/events/1775464448","actor":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-08-07T14:40:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/411610229","html_url":"https://github.com/developmentseed/label-maker/issues/103#issuecomment-411610229","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/103","id":411610229,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTYxMDIyOQ==","user":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false},"created_at":"2018-08-09T01:44:20Z","updated_at":"2018-08-09T01:44:20Z","author_association":"NONE","body":"Hmm, had tried `==` previously. But tried it again, and still got strangely few tiles with inaccurate labels. No clue what the problem could be! Once it gets sorted out, I'm more than happy to share my project if you'd like to add it to the examples section.","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/411610229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/412010268","html_url":"https://github.com/developmentseed/label-maker/issues/103#issuecomment-412010268","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/103","id":412010268,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjAxMDI2OA==","user":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false},"created_at":"2018-08-10T08:12:04Z","updated_at":"2018-08-10T08:12:04Z","author_association":"NONE","body":"For the sake of trial and error, I tried the following filters but still no success. No clue what the problem could be.\r\n`\"has\", \"landuse\", \"farmland\"` (generates a few labels, but inaccurate)\r\n`\"has\", \"agriculture\"` (doesn't work)\r\n`\"has\", \"class\", \"agriculture\"` (doesn't work)\r\n`\"has\", \"class\", \"farmland\"` (doesn't work)\r\n`\"has\", \"landuse=farmland\"` (doesn't work)\r\n`\"==\", \"landuse\", \"farmland\"` (generates a few labels, but inaccurate)\r\n`\"==\", \"landuse\", \"agriculture\"` (doesn't work)\r\n`\"==\", \"class\", \"agriculture\"` (doesn't work)","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/412010268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/412121974","html_url":"https://github.com/developmentseed/label-maker/issues/103#issuecomment-412121974","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/103","id":412121974,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjEyMTk3NA==","user":{"login":"drewbo","id":7108211,"node_id":"MDQ6VXNlcjcxMDgyMTE=","avatar_url":"https://avatars.githubusercontent.com/u/7108211?v=4","gravatar_id":"","url":"https://api.github.com/users/drewbo","html_url":"https://github.com/drewbo","followers_url":"https://api.github.com/users/drewbo/followers","following_url":"https://api.github.com/users/drewbo/following{/other_user}","gists_url":"https://api.github.com/users/drewbo/gists{/gist_id}","starred_url":"https://api.github.com/users/drewbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewbo/subscriptions","organizations_url":"https://api.github.com/users/drewbo/orgs","repos_url":"https://api.github.com/users/drewbo/repos","events_url":"https://api.github.com/users/drewbo/events{/privacy}","received_events_url":"https://api.github.com/users/drewbo/received_events","type":"User","site_admin":false},"created_at":"2018-08-10T15:41:17Z","updated_at":"2018-08-10T15:41:17Z","author_association":"CONTRIBUTOR","body":"The sixth entry looks correct. Do you know if all the data is labelled correctly in OpenStreetMap? You can check out the [Mapbox GL filters](https://www.mapbox.com/mapbox-gl-js/style-spec/#other-filter) and [OSM `landuse` tag options](https://wiki.openstreetmap.org/wiki/Key:landuse) for more context. I tried replicating over some farm area in Portugal and it all appears properly labelled (it matches the OSM data but not necessarily the satellite data):\r\n\r\n**config.json**\r\n```json\r\n{\r\n  \"country\": \"portugal\",\r\n  \"bounding_box\": [-9.178047180175781,\r\n              39.0525182700645,\r\n              -9.134101867675781,\r\n              39.07864158248181],\r\n  \"zoom\": 16,\r\n  \"classes\": [\r\n    { \"name\": \"Farmland\", \"filter\": [\"==\", \"landuse\", \"farmland\"] }\r\n  ],\r\n  \"imagery\": \"http://a.tiles.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.jpg?access_token=ACCESS_TOKEN\",\r\n  \"background_ratio\": 1,\r\n  \"ml_type\": \"classification\"\r\n}\r\n```\r\n\r\n**farmland in yellow over mapbox satellite**\r\n\r\n<img width=\"855\" alt=\"screen shot 2018-08-10 at 11 39 26 am\" src=\"https://user-images.githubusercontent.com/7108211/43967368-350dec6c-9c92-11e8-9f2e-0afea76d9b48.png\">\r\n\r\n\r\n**selected area in OSM rendering (farmland in yellow)**\r\n\r\n\r\n<img width=\"542\" alt=\"screen shot 2018-08-10 at 11 38 51 am\" src=\"https://user-images.githubusercontent.com/7108211/43967378-38f5e00a-9c92-11e8-931e-f55b5d63ee8e.png\">\r\n","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/412121974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"drewbo","id":7108211,"node_id":"MDQ6VXNlcjcxMDgyMTE=","avatar_url":"https://avatars.githubusercontent.com/u/7108211?v=4","gravatar_id":"","url":"https://api.github.com/users/drewbo","html_url":"https://github.com/drewbo","followers_url":"https://api.github.com/users/drewbo/followers","following_url":"https://api.github.com/users/drewbo/following{/other_user}","gists_url":"https://api.github.com/users/drewbo/gists{/gist_id}","starred_url":"https://api.github.com/users/drewbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewbo/subscriptions","organizations_url":"https://api.github.com/users/drewbo/orgs","repos_url":"https://api.github.com/users/drewbo/repos","events_url":"https://api.github.com/users/drewbo/events{/privacy}","received_events_url":"https://api.github.com/users/drewbo/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/412202519","html_url":"https://github.com/developmentseed/label-maker/issues/103#issuecomment-412202519","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/103","id":412202519,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjIwMjUxOQ==","user":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false},"created_at":"2018-08-10T20:49:47Z","updated_at":"2018-08-10T20:49:47Z","author_association":"NONE","body":"Thank you! Your Portugal example prompted me to try other countries- for some reason, every other AOI outside of the US I've tried has worked with no mislabeled tiles. No idea why I can't get it to work in the US, but I'm just going to use non-US farmland for training data. I appreciate the help, Drew!","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/412202519/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false}},{"id":1783356862,"node_id":"MDExOkNsb3NlZEV2ZW50MTc4MzM1Njg2Mg==","url":"https://api.github.com/repos/developmentseed/label-maker/issues/events/1783356862","actor":{"login":"joh10891","id":29440741,"node_id":"MDQ6VXNlcjI5NDQwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/29440741?v=4","gravatar_id":"","url":"https://api.github.com/users/joh10891","html_url":"https://github.com/joh10891","followers_url":"https://api.github.com/users/joh10891/followers","following_url":"https://api.github.com/users/joh10891/following{/other_user}","gists_url":"https://api.github.com/users/joh10891/gists{/gist_id}","starred_url":"https://api.github.com/users/joh10891/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joh10891/subscriptions","organizations_url":"https://api.github.com/users/joh10891/orgs","repos_url":"https://api.github.com/users/joh10891/repos","events_url":"https://api.github.com/users/joh10891/events{/privacy}","received_events_url":"https://api.github.com/users/joh10891/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-08-10T20:49:47Z","state_reason":null,"performed_via_github_app":null}]