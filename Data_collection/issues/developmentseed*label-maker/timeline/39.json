[{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/367177470","html_url":"https://github.com/developmentseed/label-maker/issues/39#issuecomment-367177470","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/39","id":367177470,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzE3NzQ3MA==","user":{"login":"McCulloughRT","id":13041850,"node_id":"MDQ6VXNlcjEzMDQxODUw","avatar_url":"https://avatars.githubusercontent.com/u/13041850?v=4","gravatar_id":"","url":"https://api.github.com/users/McCulloughRT","html_url":"https://github.com/McCulloughRT","followers_url":"https://api.github.com/users/McCulloughRT/followers","following_url":"https://api.github.com/users/McCulloughRT/following{/other_user}","gists_url":"https://api.github.com/users/McCulloughRT/gists{/gist_id}","starred_url":"https://api.github.com/users/McCulloughRT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/McCulloughRT/subscriptions","organizations_url":"https://api.github.com/users/McCulloughRT/orgs","repos_url":"https://api.github.com/users/McCulloughRT/repos","events_url":"https://api.github.com/users/McCulloughRT/events{/privacy}","received_events_url":"https://api.github.com/users/McCulloughRT/received_events","type":"User","site_admin":false},"created_at":"2018-02-21T01:02:46Z","updated_at":"2018-02-21T01:08:55Z","author_association":"CONTRIBUTOR","body":"What you're experiencing is probably caused by running out of RAM. I just ran 'label-maker label' on the united_states_of_america.mbtiles file on an AWS m5.4xlarge (64GB of RAM). It peaked at about 61GB of usage but did finally finish running in a half hour or so. \r\n\r\nLooking at the code, it appears that stream-filter.py is taking the output of tippecanoe-decode and instead of streaming it, buffering the entire GeoJSON into memory before processing it.\r\n\r\nQuick fix is to change stream-filter.py line 8 to read:\r\n`for line in sys.stdin:`\r\ninstead of:\r\n`for line in sys.stdin.readlines():`\r\n\r\nThis will cause it to stream the lines instead of buffering them. I'm not sure if there are other implications of this given that you're relying on tippecanoe to output each feature on a single line... but it appears to make that assumption either way.\r\n\r\nI'll submit a PR on it in the mean time. :)\r\n#45 ","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/367177470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"McCulloughRT","id":13041850,"node_id":"MDQ6VXNlcjEzMDQxODUw","avatar_url":"https://avatars.githubusercontent.com/u/13041850?v=4","gravatar_id":"","url":"https://api.github.com/users/McCulloughRT","html_url":"https://github.com/McCulloughRT","followers_url":"https://api.github.com/users/McCulloughRT/followers","following_url":"https://api.github.com/users/McCulloughRT/following{/other_user}","gists_url":"https://api.github.com/users/McCulloughRT/gists{/gist_id}","starred_url":"https://api.github.com/users/McCulloughRT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/McCulloughRT/subscriptions","organizations_url":"https://api.github.com/users/McCulloughRT/orgs","repos_url":"https://api.github.com/users/McCulloughRT/repos","events_url":"https://api.github.com/users/McCulloughRT/events{/privacy}","received_events_url":"https://api.github.com/users/McCulloughRT/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/369659885","html_url":"https://github.com/developmentseed/label-maker/issues/39#issuecomment-369659885","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/39","id":369659885,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTY1OTg4NQ==","user":{"login":"drewbo","id":7108211,"node_id":"MDQ6VXNlcjcxMDgyMTE=","avatar_url":"https://avatars.githubusercontent.com/u/7108211?v=4","gravatar_id":"","url":"https://api.github.com/users/drewbo","html_url":"https://github.com/drewbo","followers_url":"https://api.github.com/users/drewbo/followers","following_url":"https://api.github.com/users/drewbo/following{/other_user}","gists_url":"https://api.github.com/users/drewbo/gists{/gist_id}","starred_url":"https://api.github.com/users/drewbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewbo/subscriptions","organizations_url":"https://api.github.com/users/drewbo/orgs","repos_url":"https://api.github.com/users/drewbo/repos","events_url":"https://api.github.com/users/drewbo/events{/privacy}","received_events_url":"https://api.github.com/users/drewbo/received_events","type":"User","site_admin":false},"created_at":"2018-03-01T17:03:33Z","updated_at":"2018-03-01T17:03:33Z","author_association":"CONTRIBUTOR","body":"@Ashot-KR can you try [version 0.2.1](https://github.com/developmentseed/label-maker/releases/tag/0.2.1) to see if this still occurs? I pushed the above fix from @McCulloughRT as well as a download fix (#35) for large files.","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/369659885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"drewbo","id":7108211,"node_id":"MDQ6VXNlcjcxMDgyMTE=","avatar_url":"https://avatars.githubusercontent.com/u/7108211?v=4","gravatar_id":"","url":"https://api.github.com/users/drewbo","html_url":"https://github.com/drewbo","followers_url":"https://api.github.com/users/drewbo/followers","following_url":"https://api.github.com/users/drewbo/following{/other_user}","gists_url":"https://api.github.com/users/drewbo/gists{/gist_id}","starred_url":"https://api.github.com/users/drewbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewbo/subscriptions","organizations_url":"https://api.github.com/users/drewbo/orgs","repos_url":"https://api.github.com/users/drewbo/repos","events_url":"https://api.github.com/users/drewbo/events{/privacy}","received_events_url":"https://api.github.com/users/drewbo/received_events","type":"User","site_admin":false}},{"id":1499480512,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTQ5OTQ4MDUxMg==","url":"https://api.github.com/repos/developmentseed/label-maker/issues/events/1499480512","actor":{"login":"Ashot-KR","id":899218,"node_id":"MDQ6VXNlcjg5OTIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/899218?v=4","gravatar_id":"","url":"https://api.github.com/users/Ashot-KR","html_url":"https://github.com/Ashot-KR","followers_url":"https://api.github.com/users/Ashot-KR/followers","following_url":"https://api.github.com/users/Ashot-KR/following{/other_user}","gists_url":"https://api.github.com/users/Ashot-KR/gists{/gist_id}","starred_url":"https://api.github.com/users/Ashot-KR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ashot-KR/subscriptions","organizations_url":"https://api.github.com/users/Ashot-KR/orgs","repos_url":"https://api.github.com/users/Ashot-KR/repos","events_url":"https://api.github.com/users/Ashot-KR/events{/privacy}","received_events_url":"https://api.github.com/users/Ashot-KR/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-01T17:03:33Z","performed_via_github_app":null},{"id":1499480514,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0OTk0ODA1MTQ=","url":"https://api.github.com/repos/developmentseed/label-maker/issues/events/1499480514","actor":{"login":"Ashot-KR","id":899218,"node_id":"MDQ6VXNlcjg5OTIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/899218?v=4","gravatar_id":"","url":"https://api.github.com/users/Ashot-KR","html_url":"https://github.com/Ashot-KR","followers_url":"https://api.github.com/users/Ashot-KR/followers","following_url":"https://api.github.com/users/Ashot-KR/following{/other_user}","gists_url":"https://api.github.com/users/Ashot-KR/gists{/gist_id}","starred_url":"https://api.github.com/users/Ashot-KR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ashot-KR/subscriptions","organizations_url":"https://api.github.com/users/Ashot-KR/orgs","repos_url":"https://api.github.com/users/Ashot-KR/repos","events_url":"https://api.github.com/users/Ashot-KR/events{/privacy}","received_events_url":"https://api.github.com/users/Ashot-KR/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-01T17:03:33Z","performed_via_github_app":null},{"id":1499480518,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTQ5OTQ4MDUxOA==","url":"https://api.github.com/repos/developmentseed/label-maker/issues/events/1499480518","actor":{"login":"McCulloughRT","id":13041850,"node_id":"MDQ6VXNlcjEzMDQxODUw","avatar_url":"https://avatars.githubusercontent.com/u/13041850?v=4","gravatar_id":"","url":"https://api.github.com/users/McCulloughRT","html_url":"https://github.com/McCulloughRT","followers_url":"https://api.github.com/users/McCulloughRT/followers","following_url":"https://api.github.com/users/McCulloughRT/following{/other_user}","gists_url":"https://api.github.com/users/McCulloughRT/gists{/gist_id}","starred_url":"https://api.github.com/users/McCulloughRT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/McCulloughRT/subscriptions","organizations_url":"https://api.github.com/users/McCulloughRT/orgs","repos_url":"https://api.github.com/users/McCulloughRT/repos","events_url":"https://api.github.com/users/McCulloughRT/events{/privacy}","received_events_url":"https://api.github.com/users/McCulloughRT/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-01T17:03:33Z","performed_via_github_app":null},{"id":1499480521,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0OTk0ODA1MjE=","url":"https://api.github.com/repos/developmentseed/label-maker/issues/events/1499480521","actor":{"login":"McCulloughRT","id":13041850,"node_id":"MDQ6VXNlcjEzMDQxODUw","avatar_url":"https://avatars.githubusercontent.com/u/13041850?v=4","gravatar_id":"","url":"https://api.github.com/users/McCulloughRT","html_url":"https://github.com/McCulloughRT","followers_url":"https://api.github.com/users/McCulloughRT/followers","following_url":"https://api.github.com/users/McCulloughRT/following{/other_user}","gists_url":"https://api.github.com/users/McCulloughRT/gists{/gist_id}","starred_url":"https://api.github.com/users/McCulloughRT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/McCulloughRT/subscriptions","organizations_url":"https://api.github.com/users/McCulloughRT/orgs","repos_url":"https://api.github.com/users/McCulloughRT/repos","events_url":"https://api.github.com/users/McCulloughRT/events{/privacy}","received_events_url":"https://api.github.com/users/McCulloughRT/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-01T17:03:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/369696852","html_url":"https://github.com/developmentseed/label-maker/issues/39#issuecomment-369696852","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/39","id":369696852,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTY5Njg1Mg==","user":{"login":"Ashot-KR","id":899218,"node_id":"MDQ6VXNlcjg5OTIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/899218?v=4","gravatar_id":"","url":"https://api.github.com/users/Ashot-KR","html_url":"https://github.com/Ashot-KR","followers_url":"https://api.github.com/users/Ashot-KR/followers","following_url":"https://api.github.com/users/Ashot-KR/following{/other_user}","gists_url":"https://api.github.com/users/Ashot-KR/gists{/gist_id}","starred_url":"https://api.github.com/users/Ashot-KR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ashot-KR/subscriptions","organizations_url":"https://api.github.com/users/Ashot-KR/orgs","repos_url":"https://api.github.com/users/Ashot-KR/repos","events_url":"https://api.github.com/users/Ashot-KR/events{/privacy}","received_events_url":"https://api.github.com/users/Ashot-KR/received_events","type":"User","site_admin":false},"created_at":"2018-03-01T19:08:12Z","updated_at":"2018-03-01T19:08:12Z","author_association":"NONE","body":"thanks, i will try it in few day, when i have some free time","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/369696852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ashot-KR","id":899218,"node_id":"MDQ6VXNlcjg5OTIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/899218?v=4","gravatar_id":"","url":"https://api.github.com/users/Ashot-KR","html_url":"https://github.com/Ashot-KR","followers_url":"https://api.github.com/users/Ashot-KR/followers","following_url":"https://api.github.com/users/Ashot-KR/following{/other_user}","gists_url":"https://api.github.com/users/Ashot-KR/gists{/gist_id}","starred_url":"https://api.github.com/users/Ashot-KR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ashot-KR/subscriptions","organizations_url":"https://api.github.com/users/Ashot-KR/orgs","repos_url":"https://api.github.com/users/Ashot-KR/repos","events_url":"https://api.github.com/users/Ashot-KR/events{/privacy}","received_events_url":"https://api.github.com/users/Ashot-KR/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/369758469","html_url":"https://github.com/developmentseed/label-maker/issues/39#issuecomment-369758469","issue_url":"https://api.github.com/repos/developmentseed/label-maker/issues/39","id":369758469,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTc1ODQ2OQ==","user":{"login":"Ashot-KR","id":899218,"node_id":"MDQ6VXNlcjg5OTIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/899218?v=4","gravatar_id":"","url":"https://api.github.com/users/Ashot-KR","html_url":"https://github.com/Ashot-KR","followers_url":"https://api.github.com/users/Ashot-KR/followers","following_url":"https://api.github.com/users/Ashot-KR/following{/other_user}","gists_url":"https://api.github.com/users/Ashot-KR/gists{/gist_id}","starred_url":"https://api.github.com/users/Ashot-KR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ashot-KR/subscriptions","organizations_url":"https://api.github.com/users/Ashot-KR/orgs","repos_url":"https://api.github.com/users/Ashot-KR/repos","events_url":"https://api.github.com/users/Ashot-KR/events{/privacy}","received_events_url":"https://api.github.com/users/Ashot-KR/received_events","type":"User","site_admin":false},"created_at":"2018-03-01T22:49:28Z","updated_at":"2018-03-01T22:49:28Z","author_association":"NONE","body":"it took about 30 minutes, but it works, thanks!","reactions":{"url":"https://api.github.com/repos/developmentseed/label-maker/issues/comments/369758469/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ashot-KR","id":899218,"node_id":"MDQ6VXNlcjg5OTIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/899218?v=4","gravatar_id":"","url":"https://api.github.com/users/Ashot-KR","html_url":"https://github.com/Ashot-KR","followers_url":"https://api.github.com/users/Ashot-KR/followers","following_url":"https://api.github.com/users/Ashot-KR/following{/other_user}","gists_url":"https://api.github.com/users/Ashot-KR/gists{/gist_id}","starred_url":"https://api.github.com/users/Ashot-KR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ashot-KR/subscriptions","organizations_url":"https://api.github.com/users/Ashot-KR/orgs","repos_url":"https://api.github.com/users/Ashot-KR/repos","events_url":"https://api.github.com/users/Ashot-KR/events{/privacy}","received_events_url":"https://api.github.com/users/Ashot-KR/received_events","type":"User","site_admin":false}},{"id":1500122448,"node_id":"MDExOkNsb3NlZEV2ZW50MTUwMDEyMjQ0OA==","url":"https://api.github.com/repos/developmentseed/label-maker/issues/events/1500122448","actor":{"login":"Ashot-KR","id":899218,"node_id":"MDQ6VXNlcjg5OTIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/899218?v=4","gravatar_id":"","url":"https://api.github.com/users/Ashot-KR","html_url":"https://github.com/Ashot-KR","followers_url":"https://api.github.com/users/Ashot-KR/followers","following_url":"https://api.github.com/users/Ashot-KR/following{/other_user}","gists_url":"https://api.github.com/users/Ashot-KR/gists{/gist_id}","starred_url":"https://api.github.com/users/Ashot-KR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ashot-KR/subscriptions","organizations_url":"https://api.github.com/users/Ashot-KR/orgs","repos_url":"https://api.github.com/users/Ashot-KR/repos","events_url":"https://api.github.com/users/Ashot-KR/events{/privacy}","received_events_url":"https://api.github.com/users/Ashot-KR/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-03-01T22:49:28Z","state_reason":null,"performed_via_github_app":null}]