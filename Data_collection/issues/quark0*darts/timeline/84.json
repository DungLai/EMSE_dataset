[{"url":"https://api.github.com/repos/quark0/darts/issues/comments/518950796","html_url":"https://github.com/quark0/darts/issues/84#issuecomment-518950796","issue_url":"https://api.github.com/repos/quark0/darts/issues/84","id":518950796,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk1MDc5Ng==","user":{"login":"wangfrombupt","id":8392386,"node_id":"MDQ6VXNlcjgzOTIzODY=","avatar_url":"https://avatars.githubusercontent.com/u/8392386?v=4","gravatar_id":"","url":"https://api.github.com/users/wangfrombupt","html_url":"https://github.com/wangfrombupt","followers_url":"https://api.github.com/users/wangfrombupt/followers","following_url":"https://api.github.com/users/wangfrombupt/following{/other_user}","gists_url":"https://api.github.com/users/wangfrombupt/gists{/gist_id}","starred_url":"https://api.github.com/users/wangfrombupt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangfrombupt/subscriptions","organizations_url":"https://api.github.com/users/wangfrombupt/orgs","repos_url":"https://api.github.com/users/wangfrombupt/repos","events_url":"https://api.github.com/users/wangfrombupt/events{/privacy}","received_events_url":"https://api.github.com/users/wangfrombupt/received_events","type":"User","site_admin":false},"created_at":"2019-08-07T05:51:50Z","updated_at":"2019-08-07T05:52:43Z","author_association":"NONE","body":"@Dav-Jay , I came cross this bug when I used the code for a customized data set. My patch for the bug is as follows:\r\n```\r\n  def forward(self, x):\r\n    x = self.relu(x)\r\n    even_conv = self.conv_1(x) \r\n    odd_conv = self.conv_2(x[:,:,1:,1:]) \r\n\r\n    diff2 = even_conv.shape[2] - odd_conv.shape[2] \r\n    diff3 = even_conv.shape[3] - odd_conv.shape[3] \r\n\r\n    if diff2 > 0 :\r\n      odd_conv = odd_conv.permute(2,1,0,3)\r\n      odd_conv = torch.cat((odd_conv,torch.zeros(diff2, odd_conv.shape[1], odd_conv.shape[2],odd_conv.shape[3], dtype=odd_conv.dtype, device=odd_conv.device)), dim=0)\r\n      odd_conv = odd_conv.permute(2,1,0,3) \r\n    if diff3 > 0:\r\n      odd_conv = odd_conv.permute(3,1,2,0)\r\n      odd_conv = torch.cat((odd_conv,torch.zeros(diff3, odd_conv.shape[1], odd_conv.shape[2],odd_conv.shape[3], dtype=odd_conv.dtype, device=odd_conv.device)), dim=0)\r\n      odd_conv = odd_conv.permute(3,1,2,0)\r\n    if diff2 < 0:\r\n      even_conv = even_conv.permute(2,1,0,3)\r\n      even_conv = torch.cat((even_conv,torch.zeros(diff2, even_conv.shape[1], even_conv.shape[2],even_conv.shape[3], dtype=even_conv.dtype, device=even_conv.device)), dim=0)\r\n      even_conv = even_conv.permute(2,1,0,3)      \r\n    if diff3 < 0:\r\n      even_conv = even_conv.permute(3,1,2,0)\r\n      even_conv = torch.cat((even_conv,torch.zeros(diff3, even_conv.shape[1], even_conv.shape[2],even_conv.shape[3], dtype=even_conv.dtype, device=even_conv.device)), dim=0)\r\n      even_conv = even_conv.permute(3,1,2,0)      \r\n   \r\n    out = torch.cat([even_conv, odd_conv], dim=1)\r\n    out = self.bn(out)\r\n    return out\r\n```","reactions":{"url":"https://api.github.com/repos/quark0/darts/issues/comments/518950796/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wangfrombupt","id":8392386,"node_id":"MDQ6VXNlcjgzOTIzODY=","avatar_url":"https://avatars.githubusercontent.com/u/8392386?v=4","gravatar_id":"","url":"https://api.github.com/users/wangfrombupt","html_url":"https://github.com/wangfrombupt","followers_url":"https://api.github.com/users/wangfrombupt/followers","following_url":"https://api.github.com/users/wangfrombupt/following{/other_user}","gists_url":"https://api.github.com/users/wangfrombupt/gists{/gist_id}","starred_url":"https://api.github.com/users/wangfrombupt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangfrombupt/subscriptions","organizations_url":"https://api.github.com/users/wangfrombupt/orgs","repos_url":"https://api.github.com/users/wangfrombupt/repos","events_url":"https://api.github.com/users/wangfrombupt/events{/privacy}","received_events_url":"https://api.github.com/users/wangfrombupt/received_events","type":"User","site_admin":false}},{"id":2538865529,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjUzODg2NTUyOQ==","url":"https://api.github.com/repos/quark0/darts/issues/events/2538865529","actor":{"login":"Dav-Jay","id":11131378,"node_id":"MDQ6VXNlcjExMTMxMzc4","avatar_url":"https://avatars.githubusercontent.com/u/11131378?v=4","gravatar_id":"","url":"https://api.github.com/users/Dav-Jay","html_url":"https://github.com/Dav-Jay","followers_url":"https://api.github.com/users/Dav-Jay/followers","following_url":"https://api.github.com/users/Dav-Jay/following{/other_user}","gists_url":"https://api.github.com/users/Dav-Jay/gists{/gist_id}","starred_url":"https://api.github.com/users/Dav-Jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dav-Jay/subscriptions","organizations_url":"https://api.github.com/users/Dav-Jay/orgs","repos_url":"https://api.github.com/users/Dav-Jay/repos","events_url":"https://api.github.com/users/Dav-Jay/events{/privacy}","received_events_url":"https://api.github.com/users/Dav-Jay/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-07T05:51:50Z","performed_via_github_app":null},{"id":2538865530,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1Mzg4NjU1MzA=","url":"https://api.github.com/repos/quark0/darts/issues/events/2538865530","actor":{"login":"Dav-Jay","id":11131378,"node_id":"MDQ6VXNlcjExMTMxMzc4","avatar_url":"https://avatars.githubusercontent.com/u/11131378?v=4","gravatar_id":"","url":"https://api.github.com/users/Dav-Jay","html_url":"https://github.com/Dav-Jay","followers_url":"https://api.github.com/users/Dav-Jay/followers","following_url":"https://api.github.com/users/Dav-Jay/following{/other_user}","gists_url":"https://api.github.com/users/Dav-Jay/gists{/gist_id}","starred_url":"https://api.github.com/users/Dav-Jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dav-Jay/subscriptions","organizations_url":"https://api.github.com/users/Dav-Jay/orgs","repos_url":"https://api.github.com/users/Dav-Jay/repos","events_url":"https://api.github.com/users/Dav-Jay/events{/privacy}","received_events_url":"https://api.github.com/users/Dav-Jay/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-07T05:51:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/quark0/darts/issues/comments/567381897","html_url":"https://github.com/quark0/darts/issues/84#issuecomment-567381897","issue_url":"https://api.github.com/repos/quark0/darts/issues/84","id":567381897,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzM4MTg5Nw==","user":{"login":"bolianchen","id":39755828,"node_id":"MDQ6VXNlcjM5NzU1ODI4","avatar_url":"https://avatars.githubusercontent.com/u/39755828?v=4","gravatar_id":"","url":"https://api.github.com/users/bolianchen","html_url":"https://github.com/bolianchen","followers_url":"https://api.github.com/users/bolianchen/followers","following_url":"https://api.github.com/users/bolianchen/following{/other_user}","gists_url":"https://api.github.com/users/bolianchen/gists{/gist_id}","starred_url":"https://api.github.com/users/bolianchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolianchen/subscriptions","organizations_url":"https://api.github.com/users/bolianchen/orgs","repos_url":"https://api.github.com/users/bolianchen/repos","events_url":"https://api.github.com/users/bolianchen/events{/privacy}","received_events_url":"https://api.github.com/users/bolianchen/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T08:07:21Z","updated_at":"2019-12-19T08:08:03Z","author_association":"NONE","body":"@wangfrombupt \r\nThanks for mentioning this bug which I did not noticed before.\r\nI guess the original codes assumes the feature map (x) always has even width and height. I would fix it by:\r\nout = torch.cat([self.conv_1(x[:,:,:-1,:-1]), self.conv_2(x[:,:,1:,1:])], dim=1)","reactions":{"url":"https://api.github.com/repos/quark0/darts/issues/comments/567381897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bolianchen","id":39755828,"node_id":"MDQ6VXNlcjM5NzU1ODI4","avatar_url":"https://avatars.githubusercontent.com/u/39755828?v=4","gravatar_id":"","url":"https://api.github.com/users/bolianchen","html_url":"https://github.com/bolianchen","followers_url":"https://api.github.com/users/bolianchen/followers","following_url":"https://api.github.com/users/bolianchen/following{/other_user}","gists_url":"https://api.github.com/users/bolianchen/gists{/gist_id}","starred_url":"https://api.github.com/users/bolianchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolianchen/subscriptions","organizations_url":"https://api.github.com/users/bolianchen/orgs","repos_url":"https://api.github.com/users/bolianchen/repos","events_url":"https://api.github.com/users/bolianchen/events{/privacy}","received_events_url":"https://api.github.com/users/bolianchen/received_events","type":"User","site_admin":false}},{"id":2896269018,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg5NjI2OTAxOA==","url":"https://api.github.com/repos/quark0/darts/issues/events/2896269018","actor":{"login":"wangfrombupt","id":8392386,"node_id":"MDQ6VXNlcjgzOTIzODY=","avatar_url":"https://avatars.githubusercontent.com/u/8392386?v=4","gravatar_id":"","url":"https://api.github.com/users/wangfrombupt","html_url":"https://github.com/wangfrombupt","followers_url":"https://api.github.com/users/wangfrombupt/followers","following_url":"https://api.github.com/users/wangfrombupt/following{/other_user}","gists_url":"https://api.github.com/users/wangfrombupt/gists{/gist_id}","starred_url":"https://api.github.com/users/wangfrombupt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangfrombupt/subscriptions","organizations_url":"https://api.github.com/users/wangfrombupt/orgs","repos_url":"https://api.github.com/users/wangfrombupt/repos","events_url":"https://api.github.com/users/wangfrombupt/events{/privacy}","received_events_url":"https://api.github.com/users/wangfrombupt/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-19T08:07:21Z","performed_via_github_app":null},{"id":2896269022,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4OTYyNjkwMjI=","url":"https://api.github.com/repos/quark0/darts/issues/events/2896269022","actor":{"login":"wangfrombupt","id":8392386,"node_id":"MDQ6VXNlcjgzOTIzODY=","avatar_url":"https://avatars.githubusercontent.com/u/8392386?v=4","gravatar_id":"","url":"https://api.github.com/users/wangfrombupt","html_url":"https://github.com/wangfrombupt","followers_url":"https://api.github.com/users/wangfrombupt/followers","following_url":"https://api.github.com/users/wangfrombupt/following{/other_user}","gists_url":"https://api.github.com/users/wangfrombupt/gists{/gist_id}","starred_url":"https://api.github.com/users/wangfrombupt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangfrombupt/subscriptions","organizations_url":"https://api.github.com/users/wangfrombupt/orgs","repos_url":"https://api.github.com/users/wangfrombupt/repos","events_url":"https://api.github.com/users/wangfrombupt/events{/privacy}","received_events_url":"https://api.github.com/users/wangfrombupt/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-19T08:07:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/quark0/darts/issues/comments/575595239","html_url":"https://github.com/quark0/darts/issues/84#issuecomment-575595239","issue_url":"https://api.github.com/repos/quark0/darts/issues/84","id":575595239,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTU5NTIzOQ==","user":{"login":"D-X-Y","id":9547057,"node_id":"MDQ6VXNlcjk1NDcwNTc=","avatar_url":"https://avatars.githubusercontent.com/u/9547057?v=4","gravatar_id":"","url":"https://api.github.com/users/D-X-Y","html_url":"https://github.com/D-X-Y","followers_url":"https://api.github.com/users/D-X-Y/followers","following_url":"https://api.github.com/users/D-X-Y/following{/other_user}","gists_url":"https://api.github.com/users/D-X-Y/gists{/gist_id}","starred_url":"https://api.github.com/users/D-X-Y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/D-X-Y/subscriptions","organizations_url":"https://api.github.com/users/D-X-Y/orgs","repos_url":"https://api.github.com/users/D-X-Y/repos","events_url":"https://api.github.com/users/D-X-Y/events{/privacy}","received_events_url":"https://api.github.com/users/D-X-Y/received_events","type":"User","site_admin":false},"created_at":"2020-01-17T11:47:54Z","updated_at":"2020-01-17T11:47:54Z","author_association":"NONE","body":"When the width and height are even, it works fine. When the width or height is odd (can be avoid by control the input), there is a mismatch.","reactions":{"url":"https://api.github.com/repos/quark0/darts/issues/comments/575595239/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"D-X-Y","id":9547057,"node_id":"MDQ6VXNlcjk1NDcwNTc=","avatar_url":"https://avatars.githubusercontent.com/u/9547057?v=4","gravatar_id":"","url":"https://api.github.com/users/D-X-Y","html_url":"https://github.com/D-X-Y","followers_url":"https://api.github.com/users/D-X-Y/followers","following_url":"https://api.github.com/users/D-X-Y/following{/other_user}","gists_url":"https://api.github.com/users/D-X-Y/gists{/gist_id}","starred_url":"https://api.github.com/users/D-X-Y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/D-X-Y/subscriptions","organizations_url":"https://api.github.com/users/D-X-Y/orgs","repos_url":"https://api.github.com/users/D-X-Y/repos","events_url":"https://api.github.com/users/D-X-Y/events{/privacy}","received_events_url":"https://api.github.com/users/D-X-Y/received_events","type":"User","site_admin":false}}]