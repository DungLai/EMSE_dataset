{"url":"https://api.github.com/repos/quark0/darts/issues/18","repository_url":"https://api.github.com/repos/quark0/darts","labels_url":"https://api.github.com/repos/quark0/darts/issues/18/labels{/name}","comments_url":"https://api.github.com/repos/quark0/darts/issues/18/comments","events_url":"https://api.github.com/repos/quark0/darts/issues/18/events","html_url":"https://github.com/quark0/darts/issues/18","id":341819933,"node_id":"MDU6SXNzdWUzNDE4MTk5MzM=","number":18,"title":"OOM ERROR WITH PYTORCH 0.3.1","user":{"login":"mjenkins1992","id":30144032,"node_id":"MDQ6VXNlcjMwMTQ0MDMy","avatar_url":"https://avatars.githubusercontent.com/u/30144032?v=4","gravatar_id":"","url":"https://api.github.com/users/mjenkins1992","html_url":"https://github.com/mjenkins1992","followers_url":"https://api.github.com/users/mjenkins1992/followers","following_url":"https://api.github.com/users/mjenkins1992/following{/other_user}","gists_url":"https://api.github.com/users/mjenkins1992/gists{/gist_id}","starred_url":"https://api.github.com/users/mjenkins1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjenkins1992/subscriptions","organizations_url":"https://api.github.com/users/mjenkins1992/orgs","repos_url":"https://api.github.com/users/mjenkins1992/repos","events_url":"https://api.github.com/users/mjenkins1992/events{/privacy}","received_events_url":"https://api.github.com/users/mjenkins1992/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-07-17T08:38:53Z","updated_at":"2019-02-01T01:42:57Z","closed_at":"2018-07-19T07:30:50Z","author_association":"NONE","active_lock_reason":null,"body":"I see open issues relating to this but all with PyTorch 0.4\r\n\r\nDoes anyone have experience with this in PyTorch 0.3.1?\r\n\r\nNew PyTorch user so any assistance is much appreciated. \r\n\r\nThanks!!\r\n\r\n`Experiment dir : eval-EXP-20180717-093523\r\n07/17 09:35:23 AM gpu device = 0\r\n07/17 09:35:23 AM args = Namespace(arch='DARTS', auxiliary=False, auxiliary_weight=0.4, batch_size=96, cutout=False, cutout_length=16, data='../data', drop_path_prob=0.2, epochs=600, gpu=0, grad_clip=5, init_channels=36, layers=20, learning_rate=0.025, model_path='saved_models', momentum=0.9, report_freq=50, save='eval-EXP-20180717-093523', seed=0, weight_decay=0.0003)\r\n108 108 36\r\n108 144 36\r\n144 144 36\r\n144 144 36\r\n144 144 36\r\n144 144 36\r\n144 144 72\r\n144 288 72\r\n288 288 72\r\n288 288 72\r\n288 288 72\r\n288 288 72\r\n288 288 72\r\n288 288 144\r\n288 576 144\r\n576 576 144\r\n576 576 144\r\n576 576 144\r\n576 576 144\r\n576 576 144\r\n07/17 09:35:25 AM param size = 3.169414MB\r\nFiles already downloaded and verified\r\nFiles already downloaded and verified\r\n07/17 09:35:27 AM epoch 0 lr 2.500000e-02\r\nTHCudaCheck FAIL file=/opt/conda/conda-bld/pytorch_1518241081361/work/torch/lib/THC/generic/THCStorage.cu line=58 error=2 : out of memory\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 169, in <module>\r\n    main() \r\n  File \"train.py\", line 102, in main\r\n    train_acc, train_obj = train(train_queue, model, criterion, optimizer)\r\n  File \"train.py\", line 122, in train\r\n    logits, logits_aux = model(input)\r\n  File \"/home/gecko/MARK/anaconda3/envs/darts/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 357, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/mnt/SSD/MARK/darts/cnn/model.py\", line 148, in forward\r\n    s0 = s1 = self.stem(input)\r\n  File \"/home/gecko/MARK/anaconda3/envs/darts/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 357, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/gecko/MARK/anaconda3/envs/darts/lib/python3.5/site-packages/torch/nn/modules/container.py\", line 67, in forward\r\n    input = module(input)\r\n  File \"/home/gecko/MARK/anaconda3/envs/darts/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 357, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/gecko/MARK/anaconda3/envs/darts/lib/python3.5/site-packages/torch/nn/modules/conv.py\", line 282, in forward\r\n    self.padding, self.dilation, self.groups)\r\n  File \"/home/gecko/MARK/anaconda3/envs/darts/lib/python3.5/site-packages/torch/nn/functional.py\", line 90, in conv2d\r\n    return f(input, weight, bias)\r\nRuntimeError: cuda runtime error (2) : out of memory at /opt/conda/conda-bld/pytorch_1518241081361/work/torch/lib/THC/generic/THCStorage.cu:58`","closed_by":{"login":"mjenkins1992","id":30144032,"node_id":"MDQ6VXNlcjMwMTQ0MDMy","avatar_url":"https://avatars.githubusercontent.com/u/30144032?v=4","gravatar_id":"","url":"https://api.github.com/users/mjenkins1992","html_url":"https://github.com/mjenkins1992","followers_url":"https://api.github.com/users/mjenkins1992/followers","following_url":"https://api.github.com/users/mjenkins1992/following{/other_user}","gists_url":"https://api.github.com/users/mjenkins1992/gists{/gist_id}","starred_url":"https://api.github.com/users/mjenkins1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjenkins1992/subscriptions","organizations_url":"https://api.github.com/users/mjenkins1992/orgs","repos_url":"https://api.github.com/users/mjenkins1992/repos","events_url":"https://api.github.com/users/mjenkins1992/events{/privacy}","received_events_url":"https://api.github.com/users/mjenkins1992/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/quark0/darts/issues/18/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/quark0/darts/issues/18/timeline","performed_via_github_app":null,"state_reason":"completed"}