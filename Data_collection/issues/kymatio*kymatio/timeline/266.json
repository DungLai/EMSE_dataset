[{"id":2030724767,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwMzA3MjQ3Njc=","url":"https://api.github.com/repos/kymatio/kymatio/issues/events/2030724767","actor":{"login":"janden","id":3976052,"node_id":"MDQ6VXNlcjM5NzYwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3976052?v=4","gravatar_id":"","url":"https://api.github.com/users/janden","html_url":"https://github.com/janden","followers_url":"https://api.github.com/users/janden/followers","following_url":"https://api.github.com/users/janden/following{/other_user}","gists_url":"https://api.github.com/users/janden/gists{/gist_id}","starred_url":"https://api.github.com/users/janden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janden/subscriptions","organizations_url":"https://api.github.com/users/janden/orgs","repos_url":"https://api.github.com/users/janden/repos","events_url":"https://api.github.com/users/janden/events{/privacy}","received_events_url":"https://api.github.com/users/janden/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-12-17T16:25:11Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/kymatio/kymatio/issues/comments/447908028","html_url":"https://github.com/kymatio/kymatio/issues/266#issuecomment-447908028","issue_url":"https://api.github.com/repos/kymatio/kymatio/issues/266","id":447908028,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzkwODAyOA==","user":{"login":"janden","id":3976052,"node_id":"MDQ6VXNlcjM5NzYwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3976052?v=4","gravatar_id":"","url":"https://api.github.com/users/janden","html_url":"https://github.com/janden","followers_url":"https://api.github.com/users/janden/followers","following_url":"https://api.github.com/users/janden/following{/other_user}","gists_url":"https://api.github.com/users/janden/gists{/gist_id}","starred_url":"https://api.github.com/users/janden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janden/subscriptions","organizations_url":"https://api.github.com/users/janden/orgs","repos_url":"https://api.github.com/users/janden/repos","events_url":"https://api.github.com/users/janden/events{/privacy}","received_events_url":"https://api.github.com/users/janden/received_events","type":"User","site_admin":false},"created_at":"2018-12-17T16:30:55Z","updated_at":"2018-12-17T16:30:55Z","author_association":"COLLABORATOR","body":"> I'd like to advocate changing to the latter. This would have the advantage of being able to load whichever backend we wanted, and even used two at the same time. That might come in handy. It would be especially good for testing, because then we could compare things within one script.\r\n\r\nAgreed.\r\n\r\n> Of course, having backend choice at instantiation can be pushed even further to having a different backend for each piece of the scattering transform. This might be pushing it a bit, but I see it as a way of implementing the above.\r\n\r\nI don't understand. What's \"each piece\"?\r\n\r\n> \r\n> Key points for being able to do this:\r\n> \r\n>     * everything backend-specific must be confined to the backend files. The backend package is only ever imported in there.\r\n\r\nSo this includes any operation done on a tensor (FFT, mult, subsample, etc., but also shape, reshape, and so on?), since this may be done differently in PyTorch, skcuda, TF, etc. Correct?\r\n\r\n>     * we need a very smart `check_array` function that can figure out which type of array we are getting as input, perform conversion if requested or raise an error if wrong format is received. This function will take some work to write\r\n\r\nI don't quite follow. If the wrong format is received, should it raise an error or convert? Those are two very different scenarios. Should it convert only in certain circumstances?\r\n\r\n>     * Without noticing, I think our code is infused with pytorch-specific commands. We'd need to clean that up.\r\n> \r\n>     * we can also easily say for some functionality \"hey this isn't implemented yet for this backend\"\r\n\r\nYes and yes.\r\n\r\n> Advantages of doing this:\r\n> \r\n>     * our software doesn't die when a framework becomes unpopular\r\n> \r\n>     * it can be used with the major frameworks\r\n> \r\n>     * we are forced to think about semantics of the subcomponents of the transforms and to keep our files tidy\r\n\r\nAll good things.\r\n\r\n> Disadvantages:\r\n> \r\n>     * it might not be super stable if coded in a rushed manner\r\n\r\nWhich brings up the point of timing. It seems like a lot of the previous issues should be addressed before moving on to this, but some more careful planning is needed here.","reactions":{"url":"https://api.github.com/repos/kymatio/kymatio/issues/comments/447908028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"janden","id":3976052,"node_id":"MDQ6VXNlcjM5NzYwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3976052?v=4","gravatar_id":"","url":"https://api.github.com/users/janden","html_url":"https://github.com/janden","followers_url":"https://api.github.com/users/janden/followers","following_url":"https://api.github.com/users/janden/following{/other_user}","gists_url":"https://api.github.com/users/janden/gists{/gist_id}","starred_url":"https://api.github.com/users/janden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janden/subscriptions","organizations_url":"https://api.github.com/users/janden/orgs","repos_url":"https://api.github.com/users/janden/repos","events_url":"https://api.github.com/users/janden/events{/privacy}","received_events_url":"https://api.github.com/users/janden/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kymatio/kymatio/issues/comments/447912343","html_url":"https://github.com/kymatio/kymatio/issues/266#issuecomment-447912343","issue_url":"https://api.github.com/repos/kymatio/kymatio/issues/266","id":447912343,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzkxMjM0Mw==","user":{"login":"eickenberg","id":1306635,"node_id":"MDQ6VXNlcjEzMDY2MzU=","avatar_url":"https://avatars.githubusercontent.com/u/1306635?v=4","gravatar_id":"","url":"https://api.github.com/users/eickenberg","html_url":"https://github.com/eickenberg","followers_url":"https://api.github.com/users/eickenberg/followers","following_url":"https://api.github.com/users/eickenberg/following{/other_user}","gists_url":"https://api.github.com/users/eickenberg/gists{/gist_id}","starred_url":"https://api.github.com/users/eickenberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eickenberg/subscriptions","organizations_url":"https://api.github.com/users/eickenberg/orgs","repos_url":"https://api.github.com/users/eickenberg/repos","events_url":"https://api.github.com/users/eickenberg/events{/privacy}","received_events_url":"https://api.github.com/users/eickenberg/received_events","type":"User","site_admin":false},"created_at":"2018-12-17T16:42:40Z","updated_at":"2018-12-17T16:42:40Z","author_association":"COLLABORATOR","body":"> I don't understand. What's \"each piece\"?\r\n\r\nI was thinking: `convolution`, `nonlinearity/modulus/magnitude`, `downsampling`\r\n\r\nMaybe there are a few other operations like that. The basic ingredients basically\r\n\r\n> So this includes any operation done on a tensor (FFT, mult, subsample, etc., but also shape, reshape, and so on?), since this may be done differently in PyTorch, skcuda, TF, etc. Correct?\r\n\r\nIndeed. Most frameworks behave OK, but they all have their quirks. The quirks would need to be ironed out by confining the quirky part to the backend, defining a function there with the correct name, and importing it.\r\n\r\nThe numpy conventions seem like a good set of rules to adhere to, because all frameworks report back to cpu with numpy arrays. Also this NEP will come in handy https://www.numpy.org/neps/nep-0018-array-function-protocol.html but only in the future\r\n\r\n> I don't quite follow. If the wrong format is received, should it raise an error or convert? Those are two very different scenarios. Should it convert only in certain circumstances?\r\n\r\nI am imagining a function `check_array(array, backend='pytorch', device='cpu', maybe_other_stuff=None, cast_backend=False, cast_device=False)`. If `cast_...` is set to `True`, and `array` is not of the right type, then it converts, otherwise it raises an error. Improvable, and details to be worked out.\r\n\r\n> Which brings up the point of timing. It seems like a lot of the previous issues should be addressed before moving on to this, but some more careful planning is needed here.\r\n\r\nYes, I think this is delicate but there can be a high payoff. Some of the previous issues might inform this procedure. So yeah, I think the other things need to be addressed first.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/kymatio/kymatio/issues/comments/447912343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eickenberg","id":1306635,"node_id":"MDQ6VXNlcjEzMDY2MzU=","avatar_url":"https://avatars.githubusercontent.com/u/1306635?v=4","gravatar_id":"","url":"https://api.github.com/users/eickenberg","html_url":"https://github.com/eickenberg","followers_url":"https://api.github.com/users/eickenberg/followers","following_url":"https://api.github.com/users/eickenberg/following{/other_user}","gists_url":"https://api.github.com/users/eickenberg/gists{/gist_id}","starred_url":"https://api.github.com/users/eickenberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eickenberg/subscriptions","organizations_url":"https://api.github.com/users/eickenberg/orgs","repos_url":"https://api.github.com/users/eickenberg/repos","events_url":"https://api.github.com/users/eickenberg/events{/privacy}","received_events_url":"https://api.github.com/users/eickenberg/received_events","type":"User","site_admin":false}},{"id":2379748380,"node_id":"MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQyMzc5NzQ4Mzgw","url":"https://api.github.com/repos/kymatio/kymatio/issues/events/2379748380","actor":{"login":"edouardoyallon","id":4263222,"node_id":"MDQ6VXNlcjQyNjMyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4263222?v=4","gravatar_id":"","url":"https://api.github.com/users/edouardoyallon","html_url":"https://github.com/edouardoyallon","followers_url":"https://api.github.com/users/edouardoyallon/followers","following_url":"https://api.github.com/users/edouardoyallon/following{/other_user}","gists_url":"https://api.github.com/users/edouardoyallon/gists{/gist_id}","starred_url":"https://api.github.com/users/edouardoyallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edouardoyallon/subscriptions","organizations_url":"https://api.github.com/users/edouardoyallon/orgs","repos_url":"https://api.github.com/users/edouardoyallon/repos","events_url":"https://api.github.com/users/edouardoyallon/events{/privacy}","received_events_url":"https://api.github.com/users/edouardoyallon/received_events","type":"User","site_admin":false},"event":"added_to_project","commit_id":null,"commit_url":null,"created_at":"2019-05-31T02:05:48Z","project_card":{"id":22205355,"url":"https://api.github.com/projects/columns/cards/22205355","project_id":2716410,"project_url":"https://api.github.com/projects/2716410","column_name":"Todo"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/kymatio/kymatio/issues/comments/514235123","html_url":"https://github.com/kymatio/kymatio/issues/266#issuecomment-514235123","issue_url":"https://api.github.com/repos/kymatio/kymatio/issues/266","id":514235123,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDIzNTEyMw==","user":{"login":"edouardoyallon","id":4263222,"node_id":"MDQ6VXNlcjQyNjMyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4263222?v=4","gravatar_id":"","url":"https://api.github.com/users/edouardoyallon","html_url":"https://github.com/edouardoyallon","followers_url":"https://api.github.com/users/edouardoyallon/followers","following_url":"https://api.github.com/users/edouardoyallon/following{/other_user}","gists_url":"https://api.github.com/users/edouardoyallon/gists{/gist_id}","starred_url":"https://api.github.com/users/edouardoyallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edouardoyallon/subscriptions","organizations_url":"https://api.github.com/users/edouardoyallon/orgs","repos_url":"https://api.github.com/users/edouardoyallon/repos","events_url":"https://api.github.com/users/edouardoyallon/events{/privacy}","received_events_url":"https://api.github.com/users/edouardoyallon/received_events","type":"User","site_admin":false},"created_at":"2019-07-23T14:29:47Z","updated_at":"2019-07-23T14:29:47Z","author_association":"COLLABORATOR","body":"Closed by #415 ","reactions":{"url":"https://api.github.com/repos/kymatio/kymatio/issues/comments/514235123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"edouardoyallon","id":4263222,"node_id":"MDQ6VXNlcjQyNjMyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4263222?v=4","gravatar_id":"","url":"https://api.github.com/users/edouardoyallon","html_url":"https://github.com/edouardoyallon","followers_url":"https://api.github.com/users/edouardoyallon/followers","following_url":"https://api.github.com/users/edouardoyallon/following{/other_user}","gists_url":"https://api.github.com/users/edouardoyallon/gists{/gist_id}","starred_url":"https://api.github.com/users/edouardoyallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edouardoyallon/subscriptions","organizations_url":"https://api.github.com/users/edouardoyallon/orgs","repos_url":"https://api.github.com/users/edouardoyallon/repos","events_url":"https://api.github.com/users/edouardoyallon/events{/privacy}","received_events_url":"https://api.github.com/users/edouardoyallon/received_events","type":"User","site_admin":false}},{"id":2503282825,"node_id":"MDExOkNsb3NlZEV2ZW50MjUwMzI4MjgyNQ==","url":"https://api.github.com/repos/kymatio/kymatio/issues/events/2503282825","actor":{"login":"edouardoyallon","id":4263222,"node_id":"MDQ6VXNlcjQyNjMyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4263222?v=4","gravatar_id":"","url":"https://api.github.com/users/edouardoyallon","html_url":"https://github.com/edouardoyallon","followers_url":"https://api.github.com/users/edouardoyallon/followers","following_url":"https://api.github.com/users/edouardoyallon/following{/other_user}","gists_url":"https://api.github.com/users/edouardoyallon/gists{/gist_id}","starred_url":"https://api.github.com/users/edouardoyallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edouardoyallon/subscriptions","organizations_url":"https://api.github.com/users/edouardoyallon/orgs","repos_url":"https://api.github.com/users/edouardoyallon/repos","events_url":"https://api.github.com/users/edouardoyallon/events{/privacy}","received_events_url":"https://api.github.com/users/edouardoyallon/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-07-23T14:29:47Z","state_reason":null,"performed_via_github_app":null},{"id":2503282873,"node_id":"MDI2Ok1vdmVkQ29sdW1uc0luUHJvamVjdEV2ZW50MjUwMzI4Mjg3Mw==","url":"https://api.github.com/repos/kymatio/kymatio/issues/events/2503282873","actor":{"login":"edouardoyallon","id":4263222,"node_id":"MDQ6VXNlcjQyNjMyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4263222?v=4","gravatar_id":"","url":"https://api.github.com/users/edouardoyallon","html_url":"https://github.com/edouardoyallon","followers_url":"https://api.github.com/users/edouardoyallon/followers","following_url":"https://api.github.com/users/edouardoyallon/following{/other_user}","gists_url":"https://api.github.com/users/edouardoyallon/gists{/gist_id}","starred_url":"https://api.github.com/users/edouardoyallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edouardoyallon/subscriptions","organizations_url":"https://api.github.com/users/edouardoyallon/orgs","repos_url":"https://api.github.com/users/edouardoyallon/repos","events_url":"https://api.github.com/users/edouardoyallon/events{/privacy}","received_events_url":"https://api.github.com/users/edouardoyallon/received_events","type":"User","site_admin":false},"event":"moved_columns_in_project","commit_id":null,"commit_url":null,"created_at":"2019-07-23T14:29:48Z","project_card":{"id":22205355,"url":"https://api.github.com/projects/columns/cards/22205355","project_id":2716410,"project_url":"https://api.github.com/projects/2716410","column_name":"Done","previous_column_name":"Todo"},"performed_via_github_app":null}]