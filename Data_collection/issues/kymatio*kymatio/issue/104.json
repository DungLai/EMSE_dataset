{"url":"https://api.github.com/repos/kymatio/kymatio/issues/104","repository_url":"https://api.github.com/repos/kymatio/kymatio","labels_url":"https://api.github.com/repos/kymatio/kymatio/issues/104/labels{/name}","comments_url":"https://api.github.com/repos/kymatio/kymatio/issues/104/comments","events_url":"https://api.github.com/repos/kymatio/kymatio/issues/104/events","html_url":"https://github.com/kymatio/kymatio/issues/104","id":376354765,"node_id":"MDU6SXNzdWUzNzYzNTQ3NjU=","number":104,"title":"CPU fallback for skcuda backend","user":{"login":"janden","id":3976052,"node_id":"MDQ6VXNlcjM5NzYwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3976052?v=4","gravatar_id":"","url":"https://api.github.com/users/janden","html_url":"https://github.com/janden","followers_url":"https://api.github.com/users/janden/followers","following_url":"https://api.github.com/users/janden/following{/other_user}","gists_url":"https://api.github.com/users/janden/gists{/gist_id}","starred_url":"https://api.github.com/users/janden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janden/subscriptions","organizations_url":"https://api.github.com/users/janden/orgs","repos_url":"https://api.github.com/users/janden/repos","events_url":"https://api.github.com/users/janden/events{/privacy}","received_events_url":"https://api.github.com/users/janden/received_events","type":"User","site_admin":false},"labels":[{"id":1076176425,"node_id":"MDU6TGFiZWwxMDc2MTc2NDI1","url":"https://api.github.com/repos/kymatio/kymatio/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-11-01T11:28:55Z","updated_at":"2018-11-04T01:20:28Z","closed_at":"2018-11-04T01:20:28Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"Currently, the skcuda backend errors when you try to give it CPU tensors. While this makes sense, it does make it quite hard for people to structure their code. Things like\r\n```\r\nscattering = Scattering2D(32, 32, 4);\r\nx = torch.randn(1, 1, 32, 32);\r\nSx = scattering.forward(x);\r\n```\r\nwill run for `SCATTERING_BACKEND_2D=\"torch\"` but fail for `SCATTERING_BACKEND_2D=\"skcuda\"`.\r\n\r\nTo get code that runs for both backends, you must write the code to always run on GPU. If you write code that runs on CPU, your code will crash if the user selects the skcuda backend. The only way to write portable code is to detect both the presence of GPU and identify the backend currently in use, which is quite cumbersome.\r\n\r\nI suggest we have the skcuda backend fall back to the torch backend for CPU tensors. This way, using the library only involves the decision of CPU/GPU inside the code, which is more manageable, I think.","closed_by":{"login":"janden","id":3976052,"node_id":"MDQ6VXNlcjM5NzYwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3976052?v=4","gravatar_id":"","url":"https://api.github.com/users/janden","html_url":"https://github.com/janden","followers_url":"https://api.github.com/users/janden/followers","following_url":"https://api.github.com/users/janden/following{/other_user}","gists_url":"https://api.github.com/users/janden/gists{/gist_id}","starred_url":"https://api.github.com/users/janden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janden/subscriptions","organizations_url":"https://api.github.com/users/janden/orgs","repos_url":"https://api.github.com/users/janden/repos","events_url":"https://api.github.com/users/janden/events{/privacy}","received_events_url":"https://api.github.com/users/janden/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/kymatio/kymatio/issues/104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kymatio/kymatio/issues/104/timeline","performed_via_github_app":null,"state_reason":"completed"}