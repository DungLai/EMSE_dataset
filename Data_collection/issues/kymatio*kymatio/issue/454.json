{"url":"https://api.github.com/repos/kymatio/kymatio/issues/454","repository_url":"https://api.github.com/repos/kymatio/kymatio","labels_url":"https://api.github.com/repos/kymatio/kymatio/issues/454/labels{/name}","comments_url":"https://api.github.com/repos/kymatio/kymatio/issues/454/comments","events_url":"https://api.github.com/repos/kymatio/kymatio/issues/454/events","html_url":"https://github.com/kymatio/kymatio/issues/454","id":526317729,"node_id":"MDU6SXNzdWU1MjYzMTc3Mjk=","number":454,"title":"On output of 3D scattering","user":{"login":"nshervt","id":30446938,"node_id":"MDQ6VXNlcjMwNDQ2OTM4","avatar_url":"https://avatars.githubusercontent.com/u/30446938?v=4","gravatar_id":"","url":"https://api.github.com/users/nshervt","html_url":"https://github.com/nshervt","followers_url":"https://api.github.com/users/nshervt/followers","following_url":"https://api.github.com/users/nshervt/following{/other_user}","gists_url":"https://api.github.com/users/nshervt/gists{/gist_id}","starred_url":"https://api.github.com/users/nshervt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nshervt/subscriptions","organizations_url":"https://api.github.com/users/nshervt/orgs","repos_url":"https://api.github.com/users/nshervt/repos","events_url":"https://api.github.com/users/nshervt/events{/privacy}","received_events_url":"https://api.github.com/users/nshervt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-11-21T01:57:35Z","updated_at":"2022-06-20T20:17:50Z","closed_at":"2022-06-20T20:17:50Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"According to the following comment in #158, for a 3D input of size (B, M, N, O), the outputs , based on the method, would have the following dimensions:\r\n\r\n> The 3D version returns different outputs for different versions.\r\n> \r\n> - \"standard\" would return `(B, P, M/2**J, N/2**J, O/2**J)` \r\n> - \"integral\" would return `(B, P, 1, 1, 1)` (or `(B, P)` not sure)\r\n> - \"local\" would return `(B, P, 1)`\r\n> \r\n> The reason for \"integral\" is practically dimensionality reduction (among others) because  3D  is typically large. For \"local\" you have to ask @louity to be certain but I think it's to identify interesting regions in the moduli (e.g. midpoints between bonded atoms in quantum chemistry)\r\n> \r\n> _Originally posted by @gexarcha in https://github.com/kymatio/kymatio/issues/158#issuecomment-440062949_\r\n\r\nNow I have 2 issues:\r\n\r\n 1. for an input data with size `torch.Size([1, 128, 128, 128])`, using standard method, I get an output of size `torch.Size([1, 10, 5, 16, 16, 16])` for a scattering with `J = 3` and `L = 4`. This does not follow `(B, P, M/2**J, N/2**J, O/2**J)`  that was mentioned earlier, but looks like `(B, ?, ?, M/2**J, N/2**J, O/2**J)`. I was wondering how to compute values for the dimensions  marked by `?`.\r\n\r\n 2. Again, as mentioned in another comment in https://github.com/kymatio/kymatio/issues/158#issuecomment-441827979 and implemented in `scattering3d_qm7`, zeroth order coefficients are computed using `compute_integrals`. However, the example implemented in `compute_speed.py` does not use `compute_integrals`. I was wondering which one is correct, to use or not to use `compute_integrals`?\r\n\r\nThanks!","closed_by":{"login":"janden","id":3976052,"node_id":"MDQ6VXNlcjM5NzYwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3976052?v=4","gravatar_id":"","url":"https://api.github.com/users/janden","html_url":"https://github.com/janden","followers_url":"https://api.github.com/users/janden/followers","following_url":"https://api.github.com/users/janden/following{/other_user}","gists_url":"https://api.github.com/users/janden/gists{/gist_id}","starred_url":"https://api.github.com/users/janden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janden/subscriptions","organizations_url":"https://api.github.com/users/janden/orgs","repos_url":"https://api.github.com/users/janden/repos","events_url":"https://api.github.com/users/janden/events{/privacy}","received_events_url":"https://api.github.com/users/janden/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/kymatio/kymatio/issues/454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kymatio/kymatio/issues/454/timeline","performed_via_github_app":null,"state_reason":"completed"}