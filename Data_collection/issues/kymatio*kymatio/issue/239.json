{"url":"https://api.github.com/repos/kymatio/kymatio/issues/239","repository_url":"https://api.github.com/repos/kymatio/kymatio","labels_url":"https://api.github.com/repos/kymatio/kymatio/issues/239/labels{/name}","comments_url":"https://api.github.com/repos/kymatio/kymatio/issues/239/comments","events_url":"https://api.github.com/repos/kymatio/kymatio/issues/239/events","html_url":"https://github.com/kymatio/kymatio/issues/239","id":391271793,"node_id":"MDU6SXNzdWUzOTEyNzE3OTM=","number":239,"title":"[RFC] `method` kwarg is not descriptive enough","user":{"login":"lostanlen","id":3943142,"node_id":"MDQ6VXNlcjM5NDMxNDI=","avatar_url":"https://avatars.githubusercontent.com/u/3943142?v=4","gravatar_id":"","url":"https://api.github.com/users/lostanlen","html_url":"https://github.com/lostanlen","followers_url":"https://api.github.com/users/lostanlen/followers","following_url":"https://api.github.com/users/lostanlen/following{/other_user}","gists_url":"https://api.github.com/users/lostanlen/gists{/gist_id}","starred_url":"https://api.github.com/users/lostanlen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lostanlen/subscriptions","organizations_url":"https://api.github.com/users/lostanlen/orgs","repos_url":"https://api.github.com/users/lostanlen/repos","events_url":"https://api.github.com/users/lostanlen/events{/privacy}","received_events_url":"https://api.github.com/users/lostanlen/received_events","type":"User","site_admin":false},"labels":[{"id":1138929232,"node_id":"MDU6TGFiZWwxMTM4OTI5MjMy","url":"https://api.github.com/repos/kymatio/kymatio/labels/API","name":"API","color":"002fa7","default":false,"description":"Issues in user-facing code"},{"id":1163515562,"node_id":"MDU6TGFiZWwxMTYzNTE1NTYy","url":"https://api.github.com/repos/kymatio/kymatio/labels/3D","name":"3D","color":"f7858f","default":false,"description":"Issue with 3D scattering code"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/kymatio/kymatio/milestones/3","html_url":"https://github.com/kymatio/kymatio/milestone/3","labels_url":"https://api.github.com/repos/kymatio/kymatio/milestones/3/labels","id":3843576,"node_id":"MDk6TWlsZXN0b25lMzg0MzU3Ng==","number":3,"title":"0.2.0","description":"Release of the V2!","creator":{"login":"lostanlen","id":3943142,"node_id":"MDQ6VXNlcjM5NDMxNDI=","avatar_url":"https://avatars.githubusercontent.com/u/3943142?v=4","gravatar_id":"","url":"https://api.github.com/users/lostanlen","html_url":"https://github.com/lostanlen","followers_url":"https://api.github.com/users/lostanlen/followers","following_url":"https://api.github.com/users/lostanlen/following{/other_user}","gists_url":"https://api.github.com/users/lostanlen/gists{/gist_id}","starred_url":"https://api.github.com/users/lostanlen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lostanlen/subscriptions","organizations_url":"https://api.github.com/users/lostanlen/orgs","repos_url":"https://api.github.com/users/lostanlen/repos","events_url":"https://api.github.com/users/lostanlen/events{/privacy}","received_events_url":"https://api.github.com/users/lostanlen/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":57,"state":"closed","created_at":"2018-11-23T19:21:24Z","updated_at":"2020-03-13T01:24:16Z","due_on":"2020-02-21T08:00:00Z","closed_at":"2020-03-12T01:03:44Z"},"comments":6,"created_at":"2018-12-14T20:41:10Z","updated_at":"2018-12-16T22:33:46Z","closed_at":"2018-12-16T22:33:45Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"This came in discussion over Slack and resurfaced in #222\r\nI would be in favor of renaming the `method` kwarg in `Scattering3D` to something more descriptive, like `sampling`.\r\nBelow is a discussion I've have with @eickenberg 3 weeks ago on the topic. You will see that, at first, I'm in favor of the term `averaging`, and then I change my mind to `sampling`.\r\n\r\n\r\n> lostanlen [21 days ago]\r\n> I would be in favor of renaming the `method` kward in scattering3d, into `averaging`\r\n> so that `standard`, `integral`, and `local`\r\n> would rename to\r\n> `local`, `global`, and `foveal` respectively\r\n> this distinction is also very useful in 1d and 2d, so it could be added in the future without API break\r\n> `points` could be renamed to `foveal_coords` for clarity but that’s a small change that does not require a cross-module deprecation (edited)\r\n\r\n\r\nMichael [21 days ago]\r\nI agree with all of that except the word foveal - not sure that is the right term, but maybe I also don't completely understand the concept\r\n\r\n> lostanlen [21 days ago]\r\n> this is something on which @Mathieu has more expertise, but it’s basically the scattering transform \r\n> of x(t) computed only at t=0 (or at a small, finite number of points) rather than at every t\r\n> so that spares the convolution with phi for going from U to S, which considerably speeds up the code\r\n> this is super useful in time series forecasting. also when you don’t need invariance to translation because the object is already registered around a natural “center” for you.\r\n> see paper by Chang, Mallat, and Yap in Applied and Computational Harmonic Analysis. It’s brilliant \r\n> `foveated` might be preferable over `foveal`. `foveated` is computer vision terminology whereas `foveal` relates more to anatomy\r\n\r\nMichael [21 days ago]\r\nOh yeah I know that paper -- I just didn't see a connection to the 3d option of evaluation in specific points, since these need not be foveal points\r\n\r\n> lostanlen [21 days ago]\r\n> why not? aren’t they foveal points by virtue of being “specific” (i.e. user-defined)?\r\n\r\nMichael [21 days ago]\r\nTo me a fovea is a point of concentration of measurements, not just a specific choice of measurements\r\ngiven a certain budget of measurements but which you get to apply anywhere, for some signals and tasks it is beneficial to concentrate them\r\ne.g. https://bair.berkeley.edu/blog/2017/11/09/learn-to-attend-fovea/\r\nThe Berkeley Artificial Intelligence Research Blog\r\nThe Emergence of a Fovea while Learning to Attend\r\nThe BAIR Blog (135 kB)\r\n\r\n> lostanlen [21 days ago]\r\n> ok, so that is necessarily an adaptive thing?\r\n> hm\r\n\r\nMichael [21 days ago]\r\nnot adaptive necessarily, but concentrating measurements\r\n\r\n> lostanlen [21 days ago]\r\n> perhaps `averaging=None` would make the most sense then? (edited)\r\n> well no because that could imply that we return the whole `U` for every `t`, not just near one point `t=0` \r\n\r\nMichael [21 days ago]\r\ni.e. specifying a regular grid of measurements is not foveating, and one can do that in the 3d case. so i don't think it's about foveating but rather just evaluating wherever one wants\r\nbut again, I don't even understand what this was implemented for. If it was implemented with foveation in mind, then maybe it's legit to call it that\r\nSo I would definitely like to see an `averaging=None` option for returning U, but the evaluation in specific points thing seems to be different from that\r\n\r\n> lostanlen [21 days ago]\r\n> right.\r\n> ... and I thought `averaging='foveal'` was clever :/\r\n> I have an idea. It’s good and bad at the same time\r\n> `averaging=x` where the array-like variable `x` contains the point(s) around which we measure the scattering transform\r\n> then `sampling` would be a better term than `averaging`\r\n> (and that could generalize beyond averages, like `ell_p` pooling for instance)\r\n> so `sampling='local'` (default), `sampling='global'` (aka `integral`), `sampling=x` (return U at specific values), `sampling=None` (return U entirely, but that’s out of the scope of 0.1) (edited)\r\n\r\n\r\nMichael [21 days ago]\r\nis `local` low-passed or how is it different from `None` ?\r\nI like the idea in general\r\n\r\n> lostanlen [21 days ago]\r\n> yeah, `local` is low-passed\r\n\r\nMichael [21 days ago]\r\nmore generally I guess it is an \"output transform\"\r\n(at the implementation level)\r\n\r\n> lostanlen [21 days ago]\r\n> right. but this matters a lot because Kymatio is depth-first to minimize the memory overhead\r\n\r\nMichael [21 days ago]\r\n`sampling` seems like a good word for it\r\n\r\n> lostanlen [21 days ago]\r\n> so we can’t guarantee that U2 will fit into memory (especially in GPU memory). therefore we “sample” (average, pool, sum, cherry-pick values, whatever) each path before computing the next one","closed_by":{"login":"lostanlen","id":3943142,"node_id":"MDQ6VXNlcjM5NDMxNDI=","avatar_url":"https://avatars.githubusercontent.com/u/3943142?v=4","gravatar_id":"","url":"https://api.github.com/users/lostanlen","html_url":"https://github.com/lostanlen","followers_url":"https://api.github.com/users/lostanlen/followers","following_url":"https://api.github.com/users/lostanlen/following{/other_user}","gists_url":"https://api.github.com/users/lostanlen/gists{/gist_id}","starred_url":"https://api.github.com/users/lostanlen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lostanlen/subscriptions","organizations_url":"https://api.github.com/users/lostanlen/orgs","repos_url":"https://api.github.com/users/lostanlen/repos","events_url":"https://api.github.com/users/lostanlen/events{/privacy}","received_events_url":"https://api.github.com/users/lostanlen/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/kymatio/kymatio/issues/239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kymatio/kymatio/issues/239/timeline","performed_via_github_app":null,"state_reason":"completed"}