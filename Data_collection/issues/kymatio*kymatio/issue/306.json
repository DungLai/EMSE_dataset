{"url":"https://api.github.com/repos/kymatio/kymatio/issues/306","repository_url":"https://api.github.com/repos/kymatio/kymatio","labels_url":"https://api.github.com/repos/kymatio/kymatio/issues/306/labels{/name}","comments_url":"https://api.github.com/repos/kymatio/kymatio/issues/306/comments","events_url":"https://api.github.com/repos/kymatio/kymatio/issues/306/events","html_url":"https://github.com/kymatio/kymatio/issues/306","id":399965520,"node_id":"MDU6SXNzdWUzOTk5NjU1MjA=","number":306,"title":"Padding size problem","user":{"login":"ethiy","id":10118949,"node_id":"MDQ6VXNlcjEwMTE4OTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10118949?v=4","gravatar_id":"","url":"https://api.github.com/users/ethiy","html_url":"https://github.com/ethiy","followers_url":"https://api.github.com/users/ethiy/followers","following_url":"https://api.github.com/users/ethiy/following{/other_user}","gists_url":"https://api.github.com/users/ethiy/gists{/gist_id}","starred_url":"https://api.github.com/users/ethiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ethiy/subscriptions","organizations_url":"https://api.github.com/users/ethiy/orgs","repos_url":"https://api.github.com/users/ethiy/repos","events_url":"https://api.github.com/users/ethiy/events{/privacy}","received_events_url":"https://api.github.com/users/ethiy/received_events","type":"User","site_admin":false},"labels":[{"id":1076176418,"node_id":"MDU6TGFiZWwxMDc2MTc2NDE4","url":"https://api.github.com/repos/kymatio/kymatio/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1090201815,"node_id":"MDU6TGFiZWwxMDkwMjAxODE1","url":"https://api.github.com/repos/kymatio/kymatio/labels/high%20priority","name":"high priority","color":"AA0000","default":false,"description":""},{"id":1163515489,"node_id":"MDU6TGFiZWwxMTYzNTE1NDg5","url":"https://api.github.com/repos/kymatio/kymatio/labels/2D","name":"2D","color":"74ed7c","default":false,"description":"Issue with 2D scattering code"}],"state":"closed","locked":false,"assignee":{"login":"eickenberg","id":1306635,"node_id":"MDQ6VXNlcjEzMDY2MzU=","avatar_url":"https://avatars.githubusercontent.com/u/1306635?v=4","gravatar_id":"","url":"https://api.github.com/users/eickenberg","html_url":"https://github.com/eickenberg","followers_url":"https://api.github.com/users/eickenberg/followers","following_url":"https://api.github.com/users/eickenberg/following{/other_user}","gists_url":"https://api.github.com/users/eickenberg/gists{/gist_id}","starred_url":"https://api.github.com/users/eickenberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eickenberg/subscriptions","organizations_url":"https://api.github.com/users/eickenberg/orgs","repos_url":"https://api.github.com/users/eickenberg/repos","events_url":"https://api.github.com/users/eickenberg/events{/privacy}","received_events_url":"https://api.github.com/users/eickenberg/received_events","type":"User","site_admin":false},"assignees":[{"login":"eickenberg","id":1306635,"node_id":"MDQ6VXNlcjEzMDY2MzU=","avatar_url":"https://avatars.githubusercontent.com/u/1306635?v=4","gravatar_id":"","url":"https://api.github.com/users/eickenberg","html_url":"https://github.com/eickenberg","followers_url":"https://api.github.com/users/eickenberg/followers","following_url":"https://api.github.com/users/eickenberg/following{/other_user}","gists_url":"https://api.github.com/users/eickenberg/gists{/gist_id}","starred_url":"https://api.github.com/users/eickenberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eickenberg/subscriptions","organizations_url":"https://api.github.com/users/eickenberg/orgs","repos_url":"https://api.github.com/users/eickenberg/repos","events_url":"https://api.github.com/users/eickenberg/events{/privacy}","received_events_url":"https://api.github.com/users/eickenberg/received_events","type":"User","site_admin":false},{"login":"eugenium","id":3606031,"node_id":"MDQ6VXNlcjM2MDYwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/3606031?v=4","gravatar_id":"","url":"https://api.github.com/users/eugenium","html_url":"https://github.com/eugenium","followers_url":"https://api.github.com/users/eugenium/followers","following_url":"https://api.github.com/users/eugenium/following{/other_user}","gists_url":"https://api.github.com/users/eugenium/gists{/gist_id}","starred_url":"https://api.github.com/users/eugenium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eugenium/subscriptions","organizations_url":"https://api.github.com/users/eugenium/orgs","repos_url":"https://api.github.com/users/eugenium/repos","events_url":"https://api.github.com/users/eugenium/events{/privacy}","received_events_url":"https://api.github.com/users/eugenium/received_events","type":"User","site_admin":false},{"login":"janden","id":3976052,"node_id":"MDQ6VXNlcjM5NzYwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3976052?v=4","gravatar_id":"","url":"https://api.github.com/users/janden","html_url":"https://github.com/janden","followers_url":"https://api.github.com/users/janden/followers","following_url":"https://api.github.com/users/janden/following{/other_user}","gists_url":"https://api.github.com/users/janden/gists{/gist_id}","starred_url":"https://api.github.com/users/janden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janden/subscriptions","organizations_url":"https://api.github.com/users/janden/orgs","repos_url":"https://api.github.com/users/janden/repos","events_url":"https://api.github.com/users/janden/events{/privacy}","received_events_url":"https://api.github.com/users/janden/received_events","type":"User","site_admin":false},{"login":"edouardoyallon","id":4263222,"node_id":"MDQ6VXNlcjQyNjMyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4263222?v=4","gravatar_id":"","url":"https://api.github.com/users/edouardoyallon","html_url":"https://github.com/edouardoyallon","followers_url":"https://api.github.com/users/edouardoyallon/followers","following_url":"https://api.github.com/users/edouardoyallon/following{/other_user}","gists_url":"https://api.github.com/users/edouardoyallon/gists{/gist_id}","starred_url":"https://api.github.com/users/edouardoyallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edouardoyallon/subscriptions","organizations_url":"https://api.github.com/users/edouardoyallon/orgs","repos_url":"https://api.github.com/users/edouardoyallon/repos","events_url":"https://api.github.com/users/edouardoyallon/events{/privacy}","received_events_url":"https://api.github.com/users/edouardoyallon/received_events","type":"User","site_admin":false},{"login":"AndreuxMath","id":10076572,"node_id":"MDQ6VXNlcjEwMDc2NTcy","avatar_url":"https://avatars.githubusercontent.com/u/10076572?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreuxMath","html_url":"https://github.com/AndreuxMath","followers_url":"https://api.github.com/users/AndreuxMath/followers","following_url":"https://api.github.com/users/AndreuxMath/following{/other_user}","gists_url":"https://api.github.com/users/AndreuxMath/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreuxMath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreuxMath/subscriptions","organizations_url":"https://api.github.com/users/AndreuxMath/orgs","repos_url":"https://api.github.com/users/AndreuxMath/repos","events_url":"https://api.github.com/users/AndreuxMath/events{/privacy}","received_events_url":"https://api.github.com/users/AndreuxMath/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-01-16T19:41:12Z","updated_at":"2019-03-03T02:03:10Z","closed_at":"2019-03-03T02:03:10Z","author_association":"NONE","active_lock_reason":null,"body":"I was trying the Scattering2D on my data and it did not work. I had this error message: \r\n>RuntimeError: The filters are not compatible for multiplication!\r\n\r\nWhile debugging, I found out that the padding does not work well with some input shapes. Here is a minimal example:\r\n\r\n``` python\r\nimport torch\r\nr = torch.randn(1, 1, 45, 45)\r\n\r\nfrom kymatio import Scattering2D\r\nscatterer = Scattering2D(J=3, shape=tuple(r.size()[2:]))\r\n\r\nfrom kymatio.scattering2d.backend import fft\r\nprint(scatterer.Phi[0].size()) # size -> torch.Size([56, 56, 2])\r\nprint(fft(scatterer.pad(r), 'C2C').size()) # this is the 'U_0_c' size -> torch.Size([1, 1, 61, 61, 2])\r\nprint(scatterer.forward(r))\r\n```\r\n\r\nI have tried other matrix shapes and it seems that the `U_0_c` size, in axis `d=2,3`, is equal to the size of `Phi[0]`, in axis `d-2`, plus the rest of the Euclidian division of the original size, in axis `d-2`, on `2^J`. This causes the later uncatched exception.\r\n\r\nWas this unintended? or was it the contrary (which implies that I have to choose a good `J` value)?\r\n\r\nIf it is the last case, how to choose `J` when I have no guaranty over the input sizes? ","closed_by":{"login":"janden","id":3976052,"node_id":"MDQ6VXNlcjM5NzYwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3976052?v=4","gravatar_id":"","url":"https://api.github.com/users/janden","html_url":"https://github.com/janden","followers_url":"https://api.github.com/users/janden/followers","following_url":"https://api.github.com/users/janden/following{/other_user}","gists_url":"https://api.github.com/users/janden/gists{/gist_id}","starred_url":"https://api.github.com/users/janden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janden/subscriptions","organizations_url":"https://api.github.com/users/janden/orgs","repos_url":"https://api.github.com/users/janden/repos","events_url":"https://api.github.com/users/janden/events{/privacy}","received_events_url":"https://api.github.com/users/janden/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/kymatio/kymatio/issues/306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kymatio/kymatio/issues/306/timeline","performed_via_github_app":null,"state_reason":"completed"}