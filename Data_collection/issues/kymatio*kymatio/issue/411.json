{"url":"https://api.github.com/repos/kymatio/kymatio/issues/411","repository_url":"https://api.github.com/repos/kymatio/kymatio","labels_url":"https://api.github.com/repos/kymatio/kymatio/issues/411/labels{/name}","comments_url":"https://api.github.com/repos/kymatio/kymatio/issues/411/comments","events_url":"https://api.github.com/repos/kymatio/kymatio/issues/411/events","html_url":"https://github.com/kymatio/kymatio/issues/411","id":468030861,"node_id":"MDU6SXNzdWU0NjgwMzA4NjE=","number":411,"title":"Inconsistent documentation for Scattering1D input and output shapes","user":{"login":"EtienneDesticourt","id":8978248,"node_id":"MDQ6VXNlcjg5NzgyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/8978248?v=4","gravatar_id":"","url":"https://api.github.com/users/EtienneDesticourt","html_url":"https://github.com/EtienneDesticourt","followers_url":"https://api.github.com/users/EtienneDesticourt/followers","following_url":"https://api.github.com/users/EtienneDesticourt/following{/other_user}","gists_url":"https://api.github.com/users/EtienneDesticourt/gists{/gist_id}","starred_url":"https://api.github.com/users/EtienneDesticourt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EtienneDesticourt/subscriptions","organizations_url":"https://api.github.com/users/EtienneDesticourt/orgs","repos_url":"https://api.github.com/users/EtienneDesticourt/repos","events_url":"https://api.github.com/users/EtienneDesticourt/events{/privacy}","received_events_url":"https://api.github.com/users/EtienneDesticourt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"lostanlen","id":3943142,"node_id":"MDQ6VXNlcjM5NDMxNDI=","avatar_url":"https://avatars.githubusercontent.com/u/3943142?v=4","gravatar_id":"","url":"https://api.github.com/users/lostanlen","html_url":"https://github.com/lostanlen","followers_url":"https://api.github.com/users/lostanlen/followers","following_url":"https://api.github.com/users/lostanlen/following{/other_user}","gists_url":"https://api.github.com/users/lostanlen/gists{/gist_id}","starred_url":"https://api.github.com/users/lostanlen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lostanlen/subscriptions","organizations_url":"https://api.github.com/users/lostanlen/orgs","repos_url":"https://api.github.com/users/lostanlen/repos","events_url":"https://api.github.com/users/lostanlen/events{/privacy}","received_events_url":"https://api.github.com/users/lostanlen/received_events","type":"User","site_admin":false},"assignees":[{"login":"lostanlen","id":3943142,"node_id":"MDQ6VXNlcjM5NDMxNDI=","avatar_url":"https://avatars.githubusercontent.com/u/3943142?v=4","gravatar_id":"","url":"https://api.github.com/users/lostanlen","html_url":"https://github.com/lostanlen","followers_url":"https://api.github.com/users/lostanlen/followers","following_url":"https://api.github.com/users/lostanlen/following{/other_user}","gists_url":"https://api.github.com/users/lostanlen/gists{/gist_id}","starred_url":"https://api.github.com/users/lostanlen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lostanlen/subscriptions","organizations_url":"https://api.github.com/users/lostanlen/orgs","repos_url":"https://api.github.com/users/lostanlen/repos","events_url":"https://api.github.com/users/lostanlen/events{/privacy}","received_events_url":"https://api.github.com/users/lostanlen/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-07-15T09:37:41Z","updated_at":"2020-02-12T20:48:11Z","closed_at":"2020-02-12T20:48:11Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nThe shape of the input and output tensors of Scattering1D is inconsistent/unclear in the documentation.\r\n\r\nFor example in the 1D section of the [user guide](https://www.kymat.io/userguide.html):\r\n> If the input x is a Tensor of size (B, 1, T), the output of the 1D scattering transform is of size (B, P, T/2^J)  \r\n\r\nBut the output shape is actually (B, 1, P, T/2^J) with such an input tensor.\r\n\r\nSimilarly, in the [code reference for Scattering1d](https://www.kymat.io/codereference.html) the example provided shows an input tensor of shape (1, 1, T), which I assume corresponds to (batch size, channels, time samples):\r\n\r\n```# Set the parameters of the scattering transform.\r\nJ = 6\r\nT = 2**13\r\nQ = 8\r\n\r\n# Generate a sample signal.\r\nx = torch.randn(1, 1, T)\r\n\r\n# Define a Scattering1D object.\r\nS = Scattering1D(J, T, Q)\r\n\r\n# Calculate the scattering transform.\r\nSx = S.forward(x)\r\n```\r\nWhich corresponds to an input shape of (1, 1, 8192) and an output size of (1, 1, 126, 128)\r\n\r\nEven though the documentation for the forward function a few paragraph down says:\r\n\r\n> Given an input Tensor of size (B, T0), where B is the batch size and T0 is the length of the individual signals, this function computes its scattering transform. If the vectorize flag is set to True, the output is in the form of a Tensor or size (B, C, T1), where T1 is the signal length after subsampling to the scale 2**J (with the appropriate oversampling factor to reduce aliasing), and C is the number of scattering coefficients.\r\n\r\nThank you.\r\n\r\n\r\n","closed_by":{"login":"edouardoyallon","id":4263222,"node_id":"MDQ6VXNlcjQyNjMyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4263222?v=4","gravatar_id":"","url":"https://api.github.com/users/edouardoyallon","html_url":"https://github.com/edouardoyallon","followers_url":"https://api.github.com/users/edouardoyallon/followers","following_url":"https://api.github.com/users/edouardoyallon/following{/other_user}","gists_url":"https://api.github.com/users/edouardoyallon/gists{/gist_id}","starred_url":"https://api.github.com/users/edouardoyallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edouardoyallon/subscriptions","organizations_url":"https://api.github.com/users/edouardoyallon/orgs","repos_url":"https://api.github.com/users/edouardoyallon/repos","events_url":"https://api.github.com/users/edouardoyallon/events{/privacy}","received_events_url":"https://api.github.com/users/edouardoyallon/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/kymatio/kymatio/issues/411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kymatio/kymatio/issues/411/timeline","performed_via_github_app":null,"state_reason":"completed"}