[{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/comments/512116070","html_url":"https://github.com/shahrukhqasim/TIES-2.0/issues/10#issuecomment-512116070","issue_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/10","id":512116070,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjExNjA3MA==","user":{"login":"nggih","id":8409460,"node_id":"MDQ6VXNlcjg0MDk0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/8409460?v=4","gravatar_id":"","url":"https://api.github.com/users/nggih","html_url":"https://github.com/nggih","followers_url":"https://api.github.com/users/nggih/followers","following_url":"https://api.github.com/users/nggih/following{/other_user}","gists_url":"https://api.github.com/users/nggih/gists{/gist_id}","starred_url":"https://api.github.com/users/nggih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nggih/subscriptions","organizations_url":"https://api.github.com/users/nggih/orgs","repos_url":"https://api.github.com/users/nggih/repos","events_url":"https://api.github.com/users/nggih/events{/privacy}","received_events_url":"https://api.github.com/users/nggih/received_events","type":"User","site_admin":false},"created_at":"2019-07-17T06:05:52Z","updated_at":"2019-07-17T06:05:52Z","author_association":"NONE","body":"Did you get this error from downloading via GDrive? If yes, there is a possibility that it was corrupted while downloading. Try to use the synthetic data generation github.com/hassan-mahmood/Structural_Analysis","reactions":{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/comments/512116070/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nggih","id":8409460,"node_id":"MDQ6VXNlcjg0MDk0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/8409460?v=4","gravatar_id":"","url":"https://api.github.com/users/nggih","html_url":"https://github.com/nggih","followers_url":"https://api.github.com/users/nggih/followers","following_url":"https://api.github.com/users/nggih/following{/other_user}","gists_url":"https://api.github.com/users/nggih/gists{/gist_id}","starred_url":"https://api.github.com/users/nggih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nggih/subscriptions","organizations_url":"https://api.github.com/users/nggih/orgs","repos_url":"https://api.github.com/users/nggih/repos","events_url":"https://api.github.com/users/nggih/events{/privacy}","received_events_url":"https://api.github.com/users/nggih/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/comments/584946254","html_url":"https://github.com/shahrukhqasim/TIES-2.0/issues/10#issuecomment-584946254","issue_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/10","id":584946254,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDk0NjI1NA==","user":{"login":"Sky9222","id":12670293,"node_id":"MDQ6VXNlcjEyNjcwMjkz","avatar_url":"https://avatars.githubusercontent.com/u/12670293?v=4","gravatar_id":"","url":"https://api.github.com/users/Sky9222","html_url":"https://github.com/Sky9222","followers_url":"https://api.github.com/users/Sky9222/followers","following_url":"https://api.github.com/users/Sky9222/following{/other_user}","gists_url":"https://api.github.com/users/Sky9222/gists{/gist_id}","starred_url":"https://api.github.com/users/Sky9222/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sky9222/subscriptions","organizations_url":"https://api.github.com/users/Sky9222/orgs","repos_url":"https://api.github.com/users/Sky9222/repos","events_url":"https://api.github.com/users/Sky9222/events{/privacy}","received_events_url":"https://api.github.com/users/Sky9222/received_events","type":"User","site_admin":false},"created_at":"2020-02-12T00:37:37Z","updated_at":"2020-02-12T00:37:37Z","author_association":"NONE","body":"You can use the following code to find the corrupted tfrecords:\r\n\r\n```\r\nimport tensorflow as tf\r\nimport glob\r\ntotal_images = 0\r\ntrain_files = sorted(glob.glob('~/*.tfrecord'))\r\ncompression = tf.python_io.TFRecordCompressionType.GZIP\r\nprint(\"validation started!\")\r\nfor idx, file in enumerate(train_files):\r\n    try:\r\n        total_images += sum([1 for _ in tf.io.tf_record_iterator(file, tf.python_io.TFRecordOptions(compression))])\r\n        print(\"{}: {} is ok\".format(idx, file))\r\n    except Exception as e:\r\n        print(\"{}: {} is corrupted\".format(idx, file))\r\n        print(e)\r\n```","reactions":{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/comments/584946254/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Sky9222","id":12670293,"node_id":"MDQ6VXNlcjEyNjcwMjkz","avatar_url":"https://avatars.githubusercontent.com/u/12670293?v=4","gravatar_id":"","url":"https://api.github.com/users/Sky9222","html_url":"https://github.com/Sky9222","followers_url":"https://api.github.com/users/Sky9222/followers","following_url":"https://api.github.com/users/Sky9222/following{/other_user}","gists_url":"https://api.github.com/users/Sky9222/gists{/gist_id}","starred_url":"https://api.github.com/users/Sky9222/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sky9222/subscriptions","organizations_url":"https://api.github.com/users/Sky9222/orgs","repos_url":"https://api.github.com/users/Sky9222/repos","events_url":"https://api.github.com/users/Sky9222/events{/privacy}","received_events_url":"https://api.github.com/users/Sky9222/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/comments/774685410","html_url":"https://github.com/shahrukhqasim/TIES-2.0/issues/10#issuecomment-774685410","issue_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/10","id":774685410,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDY4NTQxMA==","user":{"login":"EmperorKaiser","id":26653458,"node_id":"MDQ6VXNlcjI2NjUzNDU4","avatar_url":"https://avatars.githubusercontent.com/u/26653458?v=4","gravatar_id":"","url":"https://api.github.com/users/EmperorKaiser","html_url":"https://github.com/EmperorKaiser","followers_url":"https://api.github.com/users/EmperorKaiser/followers","following_url":"https://api.github.com/users/EmperorKaiser/following{/other_user}","gists_url":"https://api.github.com/users/EmperorKaiser/gists{/gist_id}","starred_url":"https://api.github.com/users/EmperorKaiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmperorKaiser/subscriptions","organizations_url":"https://api.github.com/users/EmperorKaiser/orgs","repos_url":"https://api.github.com/users/EmperorKaiser/repos","events_url":"https://api.github.com/users/EmperorKaiser/events{/privacy}","received_events_url":"https://api.github.com/users/EmperorKaiser/received_events","type":"User","site_admin":false},"created_at":"2021-02-07T14:42:56Z","updated_at":"2021-02-07T14:42:56Z","author_association":"NONE","body":"> Did you get this error from downloading via GDrive? If yes, there is a possibility that it was corrupted while downloading. Try to use the synthetic data generation github.com/hassan-mahmood/Structural_Analysis\r\n\r\nyes, the generated data seems to be gzip compressed though they appear to be tfrecord files. For generated data, there is no need to modify the data reader too much","reactions":{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/comments/774685410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"EmperorKaiser","id":26653458,"node_id":"MDQ6VXNlcjI2NjUzNDU4","avatar_url":"https://avatars.githubusercontent.com/u/26653458?v=4","gravatar_id":"","url":"https://api.github.com/users/EmperorKaiser","html_url":"https://github.com/EmperorKaiser","followers_url":"https://api.github.com/users/EmperorKaiser/followers","following_url":"https://api.github.com/users/EmperorKaiser/following{/other_user}","gists_url":"https://api.github.com/users/EmperorKaiser/gists{/gist_id}","starred_url":"https://api.github.com/users/EmperorKaiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmperorKaiser/subscriptions","organizations_url":"https://api.github.com/users/EmperorKaiser/orgs","repos_url":"https://api.github.com/users/EmperorKaiser/repos","events_url":"https://api.github.com/users/EmperorKaiser/events{/privacy}","received_events_url":"https://api.github.com/users/EmperorKaiser/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/comments/1208746779","html_url":"https://github.com/shahrukhqasim/TIES-2.0/issues/10#issuecomment-1208746779","issue_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/10","id":1208746779,"node_id":"IC_kwDOCkN6Ic5IDAMb","user":{"login":"jonathanloganmoran","id":22329957,"node_id":"MDQ6VXNlcjIyMzI5OTU3","avatar_url":"https://avatars.githubusercontent.com/u/22329957?v=4","gravatar_id":"","url":"https://api.github.com/users/jonathanloganmoran","html_url":"https://github.com/jonathanloganmoran","followers_url":"https://api.github.com/users/jonathanloganmoran/followers","following_url":"https://api.github.com/users/jonathanloganmoran/following{/other_user}","gists_url":"https://api.github.com/users/jonathanloganmoran/gists{/gist_id}","starred_url":"https://api.github.com/users/jonathanloganmoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonathanloganmoran/subscriptions","organizations_url":"https://api.github.com/users/jonathanloganmoran/orgs","repos_url":"https://api.github.com/users/jonathanloganmoran/repos","events_url":"https://api.github.com/users/jonathanloganmoran/events{/privacy}","received_events_url":"https://api.github.com/users/jonathanloganmoran/received_events","type":"User","site_admin":false},"created_at":"2022-08-09T00:10:26Z","updated_at":"2022-08-09T00:10:26Z","author_association":"NONE","body":"> \r\n\r\nFor TensorFlow v2+, the following modifications to your code need to be made:\r\n```\r\nimport tensorflow as tf\r\nimport glob\r\ntotal_images = 0\r\ntrain_files = sorted(glob.glob('~/*.tfrecord'))\r\ncompression = tf.compat.v1.io.TFRecordCompressionType.GZIP\r\nprint(\"validation started!\")\r\nfor idx, file in enumerate(train_files):\r\n    try:\r\n        total_images += sum([1 for _ in tf.io.tf_record_iterator(file, tf.compat.v1.io.TFRecordOptions(compression))])\r\n        print(\"{}: {} is ok\".format(idx, file))\r\n    except Exception as e:\r\n        print(\"{}: {} is corrupted\".format(idx, file))\r\n        print(e)\r\n```\r\nbut I'm not too sure what this does other than confirm the obvious (file corrupted, already assumed).","reactions":{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/comments/1208746779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonathanloganmoran","id":22329957,"node_id":"MDQ6VXNlcjIyMzI5OTU3","avatar_url":"https://avatars.githubusercontent.com/u/22329957?v=4","gravatar_id":"","url":"https://api.github.com/users/jonathanloganmoran","html_url":"https://github.com/jonathanloganmoran","followers_url":"https://api.github.com/users/jonathanloganmoran/followers","following_url":"https://api.github.com/users/jonathanloganmoran/following{/other_user}","gists_url":"https://api.github.com/users/jonathanloganmoran/gists{/gist_id}","starred_url":"https://api.github.com/users/jonathanloganmoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonathanloganmoran/subscriptions","organizations_url":"https://api.github.com/users/jonathanloganmoran/orgs","repos_url":"https://api.github.com/users/jonathanloganmoran/repos","events_url":"https://api.github.com/users/jonathanloganmoran/events{/privacy}","received_events_url":"https://api.github.com/users/jonathanloganmoran/received_events","type":"User","site_admin":false}}]