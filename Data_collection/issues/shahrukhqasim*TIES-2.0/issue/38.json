{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/38","repository_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0","labels_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/38/labels{/name}","comments_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/38/comments","events_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/38/events","html_url":"https://github.com/shahrukhqasim/TIES-2.0/issues/38","id":691581076,"node_id":"MDU6SXNzdWU2OTE1ODEwNzY=","number":38,"title":"Invalid argument: indices[24,899,5] = [24, 899, 900] does not index into param shape [25,900,900]","user":{"login":"kmanojkkmr","id":26357942,"node_id":"MDQ6VXNlcjI2MzU3OTQy","avatar_url":"https://avatars.githubusercontent.com/u/26357942?v=4","gravatar_id":"","url":"https://api.github.com/users/kmanojkkmr","html_url":"https://github.com/kmanojkkmr","followers_url":"https://api.github.com/users/kmanojkkmr/followers","following_url":"https://api.github.com/users/kmanojkkmr/following{/other_user}","gists_url":"https://api.github.com/users/kmanojkkmr/gists{/gist_id}","starred_url":"https://api.github.com/users/kmanojkkmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmanojkkmr/subscriptions","organizations_url":"https://api.github.com/users/kmanojkkmr/orgs","repos_url":"https://api.github.com/users/kmanojkkmr/repos","events_url":"https://api.github.com/users/kmanojkkmr/events{/privacy}","received_events_url":"https://api.github.com/users/kmanojkkmr/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-09-03T02:33:06Z","updated_at":"2021-04-23T16:04:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello,\r\n\r\nWhen i am training the model with the data which was mentioned in this repo(i.e. google drive link) I am getting below error.\r\n\r\nI have tried this on Windows **8.1 CPU** version and **Linux 64 bit CPU**.\r\n**Tensorflow Version: 2.2.0** also tried on **TF version: 1.15.3**\r\n\r\nI have modified the code according to 2.* version. But I couldn't find the fix for this issue. \r\nCould you please help me what changes to be done to overcome this.\r\n\r\nHere is the traceback of the issue.\r\n\r\n\r\n2020-09-01 10:26:56.662955: W tensorflow/core/framework/op_kernel.cc:1753] OP_REQUIRES failed at gather_nd_op.cc:47 : Invalid argument: indices[24,899,5] = [24, 899, 900] does not index into param shape [25,900,900]\r\n2020-09-01 10:26:56.711510: W tensorflow/core/framework/op_kernel.cc:1753] OP_REQUIRES failed at gather_nd_op.cc:47 : Invalid argument: indices[24,899,5] = [24, 899, 900] does not index into param shape [25,900,900]\r\n2020-09-01 10:26:56.783215: W tensorflow/core/framework/op_kernel.cc:1753] OP_REQUIRES failed at gather_nd_op.cc:47 : Invalid argument: indices[21,788,3] = [21, 788, 900] does not index into param shape [25,900,900]\r\n2020-09-01 10:26:58.902602: W tensorflow/core/framework/op_kernel.cc:1753] OP_REQUIRES failed at gather_nd_op.cc:47 : Invalid argument: indices[12,450,3] = [12, 900] does not index into param shape [25,900,128]\r\n2020-09-01 10:26:58.905858: W tensorflow/core/framework/op_kernel.cc:1753] OP_REQUIRES failed at gather_nd_op.cc:47 : Invalid argument: indices[23,394,5] = [23, 900] does not index into param shape [25,900,128]\r\n2020-09-01 10:26:58.912144: W tensorflow/core/framework/op_kernel.cc:1753] OP_REQUIRES failed at gather_nd_op.cc:47 : Invalid argument: indices[24,899,5] = [24, 900] does not index into param shape [25,900,128]\r\nTraceback (most recent call last):\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1365, in _do_call\r\n    return fn(*args)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1350, in _run_fn\r\n    target_list, run_metadata)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1443, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: indices[24,899,5] = [24, 899, 900] does not index into param shape [25,900,900]\r\n         [[{{node conv_graph_dgcnn_fast_conv_1/GatherNd_10}}]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"bin/iterate/table_adjacency_parsing.py\", line 35, in <module>\r\n    trainer.train()\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../iterators/table_adjacency_parsing_iterator.py\", line 84, in train\r\n    model.run_training_iteration(sess, summary_writer, iteration_number)\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../models/basic_model.py\", line 481, in run_training_iteration\r\n    ops_result = sess.run(ops_to_run, feed_dict = feed_dict)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 958, in run\r\n    run_metadata_ptr)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1181, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1359, in _do_run\r\n    run_metadata)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1384, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: indices[24,899,5] = [24, 899, 900] does not index into param shape [25,900,900]\r\n         [[node conv_graph_dgcnn_fast_conv_1/GatherNd_10 (defined at /home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../models/basic_model.py:259) ]]\r\n\r\nErrors may have originated from an input operation.\r\nInput Source operations connected to node conv_graph_dgcnn_fast_conv_1/GatherNd_10:\r\n conv_graph_dgcnn_fast_conv_1/Placeholder_5 (defined at /home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../models/basic_model.py:163)\r\n conv_graph_dgcnn_fast_conv_1/concat_23 (defined at /home/sdpu\r\n ser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../models/basic_model.py:244)\r\n\r\nOriginal stack trace for 'conv_graph_dgcnn_fast_conv_1/GatherNd_10':\r\n  File \"bin/iterate/table_adjacency_parsing.py\", line 35, in <module>\r\n    trainer.train()\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../iterators/table_adjacency_parsing_iterator.py\", line 48, in train\r\n    model.initialize(training=True)\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../models/basic_model.py\", line 96, in initialize\r\n    self.build_computation_graphs()\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../models/basic_model.py\", line 445, in build_computation_graphs\r\n    self.build_classification_segments(graph_features, placeholders)\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../models/basic_model.py\", line 337, in build_classification_segments\r\n    sampled_indices, computation_graph, gt_matrix = self.do_monte_carlo_sampling(graph_features, gt_sampled_adj_matrix)\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python_v2/bin/iterate/../../models/basic_model.py\", line 259, in do_monte_carlo_sampling\r\n    return samples, x, tf.gather_nd(gt_matrix, indexing_tensor_for_adj_matrices)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/util/dispatch.py\", line 180, in wrapper\r\n    return target(*args, **kwargs)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/ops/array_ops.py\", line 4852, in gather_nd_v2\r\n    return gather_nd(params, indices, name=name, batch_dims=batch_dims)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/util/dispatch.py\", line 180, in wrapper\r\n    return target(*args, **kwargs)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/ops/array_ops.py\", line 4844, in gather_nd\r\n    return gen_array_ops.gather_nd(params, indices, name=name)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 3666, in gather_nd\r\n    \"GatherNd\", params=params, indices=indices, name=name)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 744, in _apply_op_helper\r\n    attrs=attr_protos, op_def=op_def)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 3327, in _create_op_internal\r\n    op_def=op_def)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1791, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/38/timeline","performed_via_github_app":null,"state_reason":null}