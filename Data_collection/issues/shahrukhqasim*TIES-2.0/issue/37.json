{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/37","repository_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0","labels_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/37/labels{/name}","comments_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/37/comments","events_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/37/events","html_url":"https://github.com/shahrukhqasim/TIES-2.0/issues/37","id":682316994,"node_id":"MDU6SXNzdWU2ODIzMTY5OTQ=","number":37,"title":"InvalidArgumentError: Input to reshape is a tensor with 810000 values, but the requested shape has 27000 [Op:Reshape]","user":{"login":"kmanojkkmr","id":26357942,"node_id":"MDQ6VXNlcjI2MzU3OTQy","avatar_url":"https://avatars.githubusercontent.com/u/26357942?v=4","gravatar_id":"","url":"https://api.github.com/users/kmanojkkmr","html_url":"https://github.com/kmanojkkmr","followers_url":"https://api.github.com/users/kmanojkkmr/followers","following_url":"https://api.github.com/users/kmanojkkmr/following{/other_user}","gists_url":"https://api.github.com/users/kmanojkkmr/gists{/gist_id}","starred_url":"https://api.github.com/users/kmanojkkmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmanojkkmr/subscriptions","organizations_url":"https://api.github.com/users/kmanojkkmr/orgs","repos_url":"https://api.github.com/users/kmanojkkmr/repos","events_url":"https://api.github.com/users/kmanojkkmr/events{/privacy}","received_events_url":"https://api.github.com/users/kmanojkkmr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-08-20T02:29:42Z","updated_at":"2020-09-14T07:00:44Z","closed_at":"2020-08-21T17:20:28Z","author_association":"NONE","active_lock_reason":null,"body":"Hi Team,\r\n\r\nWhen I am trying to run the training part(I am using the partial dataset which was provided by you in ReadMe) , I am getting the below error.\r\n\r\n**Max vertices: 900\r\nMax word length: 30**\r\n\r\n**vertex_text: tf.Tensor(\r\n[[ 82  69  76 ...   0   0   0]\r\n [ 76  79  78 ...   0   0   0]\r\n [109 103  97 ...   0   0   0]\r\n ...\r\n [ 68 105 115 ...   0   0   0]\r\n [ 79  70   0 ...   0   0   0]\r\n [ 74  97 110 ...   0   0   0]], shape=(30, 27000), dtype=int64)\r\nshape of vertex_text: (30, 27000)**\r\nTraceback (most recent call last):\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 8075, in reshape\r\n    tld.op_callbacks, tensor, shape)\r\ntensorflow.python.eager.core._FallbackException: This function does not handle the case of the path where all inputs are not already EagerTensors.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"bin/iterate/table_adjacency_parsing.py\", line 35, in <module>\r\n    trainer.train()\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python/bin/iterate/../../iterators/table_adjacency_parsing_iterator.py\", line 48, in train\r\n    model.initialize(training=True)\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python/bin/iterate/../../models/basic_model.py\", line 72, in initialize\r\n    self.training_feeds = self.training_reader.get_feeds()\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python/bin/iterate/../../readers/image_words_reader.py\", line 76, in get_feeds\r\n    vertex_text = tf.reshape(vertex_text, shape=(self.num_max_vertices, self.max_word_length))\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/ops/array_ops.py\", line 193, in reshape\r\n    result = gen_array_ops.reshape(tensor, shape, name)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 8080, in reshape\r\n    tensor, shape, name=name, ctx=_ctx)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 8107, in reshape_eager_fallback\r\n    ctx=ctx, name=name)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/eager/execute.py\", line 60, in quick_execute\r\n    inputs, attrs, num_outputs)\r\ntensorflow.python.framework.errors_impl.**InvalidArgumentError: Input to reshape is a tensor with 810000 values, but the requested shape has 27000 [Op:Reshape**]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere it is expecting a tensor of shape 810000 as the shape of vertex_text is (30, 27000). \r\n\r\n\r\n\r\nTo overcome this I have modified the parameter **max_vertices** **from 900 to 27000**\r\n\r\nAfter this change, I am getting other error:\r\n\r\n\r\n\r\n\r\nFile \"bin/iterate/table_adjacency_parsing.py\", line 35, in <module>\r\n    trainer.train()\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python/bin/iterate/../../iterators/table_adjacency_parsing_iterator.py\", line 48, in train\r\n    model.initialize(training=True)\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python/bin/iterate/../../models/basic_model.py\", line 72, in initialize\r\n    self.training_feeds = self.training_reader.get_feeds()\r\n  File \"/home/sdpuser/Desktop/Table_Detection/TIES/TIES-2.0/python/bin/iterate/../../readers/image_words_reader.py\", line 71, in get_feeds\r\n    vertex_features, vertex_text, image, global_features, adj_cells, adj_rows, adj_cols = iterator.get_next()\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/data/ops/iterator_ops.py\", line 741, in get_next\r\n    return self._next_internal()\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/data/ops/iterator_ops.py\", line 661, in _next_internal\r\n    return structure.from_compatible_tensor_list(self._element_spec, ret)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/contextlib.py\", line 99, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/eager/context.py\", line 1989, in execution_mode\r\n    executor_new.wait()\r\n  File \"/home/sdpuser/.conda/envs/table_detection/lib/python3.6/site-packages/tensorflow/python/eager/executor.py\", line 67, in wait\r\n    pywrap_tfe.TFE_ExecutorWaitForAllPendingNodes(self._handle)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: **Key: adjacency_matrix_cols.  Can't parse serialized Example.\r\n         [[{{node ParseSingleExample/ParseExample/ParseExampleV2}}]]**\r\n\r\n\r\nCan you please look into this and help me what can be done.\r\n\r\nThank you in Advance. ","closed_by":{"login":"kmanojkkmr","id":26357942,"node_id":"MDQ6VXNlcjI2MzU3OTQy","avatar_url":"https://avatars.githubusercontent.com/u/26357942?v=4","gravatar_id":"","url":"https://api.github.com/users/kmanojkkmr","html_url":"https://github.com/kmanojkkmr","followers_url":"https://api.github.com/users/kmanojkkmr/followers","following_url":"https://api.github.com/users/kmanojkkmr/following{/other_user}","gists_url":"https://api.github.com/users/kmanojkkmr/gists{/gist_id}","starred_url":"https://api.github.com/users/kmanojkkmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmanojkkmr/subscriptions","organizations_url":"https://api.github.com/users/kmanojkkmr/orgs","repos_url":"https://api.github.com/users/kmanojkkmr/repos","events_url":"https://api.github.com/users/kmanojkkmr/events{/privacy}","received_events_url":"https://api.github.com/users/kmanojkkmr/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/shahrukhqasim/TIES-2.0/issues/37/timeline","performed_via_github_app":null,"state_reason":"completed"}