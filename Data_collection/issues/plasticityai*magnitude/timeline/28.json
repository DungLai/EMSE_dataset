[{"url":"https://api.github.com/repos/plasticityai/magnitude/issues/comments/427660307","html_url":"https://github.com/plasticityai/magnitude/issues/28#issuecomment-427660307","issue_url":"https://api.github.com/repos/plasticityai/magnitude/issues/28","id":427660307,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNzY2MDMwNw==","user":{"login":"AjayP13","id":5404177,"node_id":"MDQ6VXNlcjU0MDQxNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5404177?v=4","gravatar_id":"","url":"https://api.github.com/users/AjayP13","html_url":"https://github.com/AjayP13","followers_url":"https://api.github.com/users/AjayP13/followers","following_url":"https://api.github.com/users/AjayP13/following{/other_user}","gists_url":"https://api.github.com/users/AjayP13/gists{/gist_id}","starred_url":"https://api.github.com/users/AjayP13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AjayP13/subscriptions","organizations_url":"https://api.github.com/users/AjayP13/orgs","repos_url":"https://api.github.com/users/AjayP13/repos","events_url":"https://api.github.com/users/AjayP13/events{/privacy}","received_events_url":"https://api.github.com/users/AjayP13/received_events","type":"User","site_admin":false},"created_at":"2018-10-07T15:06:23Z","updated_at":"2018-10-07T15:06:23Z","author_association":"CONTRIBUTOR","body":"You can index the keys with `model[5]` to get the \"key/value pair tuple\" or `model.index(5, return_vector = False)` to just get the key. You can then create a set in Python by doing: \r\n\r\n```python\r\nindex2word_set = set([model.index(i, return_vector=False) for i in range(len(model))])\r\n```\r\n\r\nIdeally, you should not loop over all vectors like this. It will be slow. Magnitude makes speed enhancements by lazy loading into memory. By doing this, you are asking it to load all of the data back into memory immediately. What's your use case for doing this?","reactions":{"url":"https://api.github.com/repos/plasticityai/magnitude/issues/comments/427660307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AjayP13","id":5404177,"node_id":"MDQ6VXNlcjU0MDQxNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5404177?v=4","gravatar_id":"","url":"https://api.github.com/users/AjayP13","html_url":"https://github.com/AjayP13","followers_url":"https://api.github.com/users/AjayP13/followers","following_url":"https://api.github.com/users/AjayP13/following{/other_user}","gists_url":"https://api.github.com/users/AjayP13/gists{/gist_id}","starred_url":"https://api.github.com/users/AjayP13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AjayP13/subscriptions","organizations_url":"https://api.github.com/users/AjayP13/orgs","repos_url":"https://api.github.com/users/AjayP13/repos","events_url":"https://api.github.com/users/AjayP13/events{/privacy}","received_events_url":"https://api.github.com/users/AjayP13/received_events","type":"User","site_admin":false}},{"id":1889041822,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxODg5MDQxODIy","url":"https://api.github.com/repos/plasticityai/magnitude/issues/events/1889041822","actor":{"login":"AjayP13","id":5404177,"node_id":"MDQ6VXNlcjU0MDQxNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5404177?v=4","gravatar_id":"","url":"https://api.github.com/users/AjayP13","html_url":"https://github.com/AjayP13","followers_url":"https://api.github.com/users/AjayP13/followers","following_url":"https://api.github.com/users/AjayP13/following{/other_user}","gists_url":"https://api.github.com/users/AjayP13/gists{/gist_id}","starred_url":"https://api.github.com/users/AjayP13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AjayP13/subscriptions","organizations_url":"https://api.github.com/users/AjayP13/orgs","repos_url":"https://api.github.com/users/AjayP13/repos","events_url":"https://api.github.com/users/AjayP13/events{/privacy}","received_events_url":"https://api.github.com/users/AjayP13/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2018-10-07T15:07:24Z","assignee":{"login":"AjayP13","id":5404177,"node_id":"MDQ6VXNlcjU0MDQxNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5404177?v=4","gravatar_id":"","url":"https://api.github.com/users/AjayP13","html_url":"https://github.com/AjayP13","followers_url":"https://api.github.com/users/AjayP13/followers","following_url":"https://api.github.com/users/AjayP13/following{/other_user}","gists_url":"https://api.github.com/users/AjayP13/gists{/gist_id}","starred_url":"https://api.github.com/users/AjayP13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AjayP13/subscriptions","organizations_url":"https://api.github.com/users/AjayP13/orgs","repos_url":"https://api.github.com/users/AjayP13/repos","events_url":"https://api.github.com/users/AjayP13/events{/privacy}","received_events_url":"https://api.github.com/users/AjayP13/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"id":1889041862,"node_id":"MDEyOkxhYmVsZWRFdmVudDE4ODkwNDE4NjI=","url":"https://api.github.com/repos/plasticityai/magnitude/issues/events/1889041862","actor":{"login":"AjayP13","id":5404177,"node_id":"MDQ6VXNlcjU0MDQxNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5404177?v=4","gravatar_id":"","url":"https://api.github.com/users/AjayP13","html_url":"https://github.com/AjayP13","followers_url":"https://api.github.com/users/AjayP13/followers","following_url":"https://api.github.com/users/AjayP13/following{/other_user}","gists_url":"https://api.github.com/users/AjayP13/gists{/gist_id}","starred_url":"https://api.github.com/users/AjayP13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AjayP13/subscriptions","organizations_url":"https://api.github.com/users/AjayP13/orgs","repos_url":"https://api.github.com/users/AjayP13/repos","events_url":"https://api.github.com/users/AjayP13/events{/privacy}","received_events_url":"https://api.github.com/users/AjayP13/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-07T15:07:32Z","label":{"name":"question","color":"d876e3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/plasticityai/magnitude/issues/comments/427665964","html_url":"https://github.com/plasticityai/magnitude/issues/28#issuecomment-427665964","issue_url":"https://api.github.com/repos/plasticityai/magnitude/issues/28","id":427665964,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNzY2NTk2NA==","user":{"login":"c-chaitanya","id":30503224,"node_id":"MDQ6VXNlcjMwNTAzMjI0","avatar_url":"https://avatars.githubusercontent.com/u/30503224?v=4","gravatar_id":"","url":"https://api.github.com/users/c-chaitanya","html_url":"https://github.com/c-chaitanya","followers_url":"https://api.github.com/users/c-chaitanya/followers","following_url":"https://api.github.com/users/c-chaitanya/following{/other_user}","gists_url":"https://api.github.com/users/c-chaitanya/gists{/gist_id}","starred_url":"https://api.github.com/users/c-chaitanya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-chaitanya/subscriptions","organizations_url":"https://api.github.com/users/c-chaitanya/orgs","repos_url":"https://api.github.com/users/c-chaitanya/repos","events_url":"https://api.github.com/users/c-chaitanya/events{/privacy}","received_events_url":"https://api.github.com/users/c-chaitanya/received_events","type":"User","site_admin":false},"created_at":"2018-10-07T16:22:25Z","updated_at":"2018-10-07T16:26:14Z","author_association":"NONE","body":"I have a lot of sentences. I am presently using googles model to get averaged word vector for each sentence, and using cosine similarity to find similar sentences. My use case is to find the average word vector for every sentence and eventually perform cosine similarity for the purpose of sentence similarity.\r\nThis would be production level code, can you suggest an option for better performance with the added advantage of magnitude(lower memory footprint).","reactions":{"url":"https://api.github.com/repos/plasticityai/magnitude/issues/comments/427665964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"c-chaitanya","id":30503224,"node_id":"MDQ6VXNlcjMwNTAzMjI0","avatar_url":"https://avatars.githubusercontent.com/u/30503224?v=4","gravatar_id":"","url":"https://api.github.com/users/c-chaitanya","html_url":"https://github.com/c-chaitanya","followers_url":"https://api.github.com/users/c-chaitanya/followers","following_url":"https://api.github.com/users/c-chaitanya/following{/other_user}","gists_url":"https://api.github.com/users/c-chaitanya/gists{/gist_id}","starred_url":"https://api.github.com/users/c-chaitanya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-chaitanya/subscriptions","organizations_url":"https://api.github.com/users/c-chaitanya/orgs","repos_url":"https://api.github.com/users/c-chaitanya/repos","events_url":"https://api.github.com/users/c-chaitanya/events{/privacy}","received_events_url":"https://api.github.com/users/c-chaitanya/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/plasticityai/magnitude/issues/comments/427732707","html_url":"https://github.com/plasticityai/magnitude/issues/28#issuecomment-427732707","issue_url":"https://api.github.com/repos/plasticityai/magnitude/issues/28","id":427732707,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNzczMjcwNw==","user":{"login":"AjayP13","id":5404177,"node_id":"MDQ6VXNlcjU0MDQxNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5404177?v=4","gravatar_id":"","url":"https://api.github.com/users/AjayP13","html_url":"https://github.com/AjayP13","followers_url":"https://api.github.com/users/AjayP13/followers","following_url":"https://api.github.com/users/AjayP13/following{/other_user}","gists_url":"https://api.github.com/users/AjayP13/gists{/gist_id}","starred_url":"https://api.github.com/users/AjayP13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AjayP13/subscriptions","organizations_url":"https://api.github.com/users/AjayP13/orgs","repos_url":"https://api.github.com/users/AjayP13/repos","events_url":"https://api.github.com/users/AjayP13/events{/privacy}","received_events_url":"https://api.github.com/users/AjayP13/received_events","type":"User","site_admin":false},"created_at":"2018-10-08T06:31:30Z","updated_at":"2018-10-08T06:32:35Z","author_association":"CONTRIBUTOR","body":"```python\r\nimport numpy\r\nfrom pymagnitude import *\r\n\r\nmodel = Magnitude(\"crawl-300d-2M.magnitude\")\r\nsent_1 = model.query([\"The\", \"quick\", \"brown\", \"fox\", \"jumped\", \"over\", \"the\", \"lazy\", \"dog\", \".\"])\r\nsent_1 = numpy.mean(sent_1, axis=1)/numpy.linalg.norm(numpy.mean(sent_1, axis=1)) # average the vectors for each word into a single vector and normalize it\r\nsent_2 = model.query([\"The\", \"quick\", \"brown\", \"fox\", \"jumped\", \"over\", \"the\", \"lazy\", \"cat\", \".\"])\r\nsent_2 = numpy.mean(sent_2, axis=1)/numpy.linalg.norm(numpy.mean(sent_2, axis=1)) # average the vectors for each word into a single vector and normalize it\r\n\r\nsimilarity_sent_1_and_sent_2 = numpy.inner(sent_1, sent_2)  # calculate cosine similarity\r\n```\r\n\r\nYou can just do this to calculate the similarities between two sentences. The code above will be efficient and fast and take advantage of the way Magnitude works. I see no reason to create a set of words and iterate over the whole model. ","reactions":{"url":"https://api.github.com/repos/plasticityai/magnitude/issues/comments/427732707/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AjayP13","id":5404177,"node_id":"MDQ6VXNlcjU0MDQxNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5404177?v=4","gravatar_id":"","url":"https://api.github.com/users/AjayP13","html_url":"https://github.com/AjayP13","followers_url":"https://api.github.com/users/AjayP13/followers","following_url":"https://api.github.com/users/AjayP13/following{/other_user}","gists_url":"https://api.github.com/users/AjayP13/gists{/gist_id}","starred_url":"https://api.github.com/users/AjayP13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AjayP13/subscriptions","organizations_url":"https://api.github.com/users/AjayP13/orgs","repos_url":"https://api.github.com/users/AjayP13/repos","events_url":"https://api.github.com/users/AjayP13/events{/privacy}","received_events_url":"https://api.github.com/users/AjayP13/received_events","type":"User","site_admin":false}},{"id":1892896587,"node_id":"MDExOkNsb3NlZEV2ZW50MTg5Mjg5NjU4Nw==","url":"https://api.github.com/repos/plasticityai/magnitude/issues/events/1892896587","actor":{"login":"AjayP13","id":5404177,"node_id":"MDQ6VXNlcjU0MDQxNzc=","avatar_url":"https://avatars.githubusercontent.com/u/5404177?v=4","gravatar_id":"","url":"https://api.github.com/users/AjayP13","html_url":"https://github.com/AjayP13","followers_url":"https://api.github.com/users/AjayP13/followers","following_url":"https://api.github.com/users/AjayP13/following{/other_user}","gists_url":"https://api.github.com/users/AjayP13/gists{/gist_id}","starred_url":"https://api.github.com/users/AjayP13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AjayP13/subscriptions","organizations_url":"https://api.github.com/users/AjayP13/orgs","repos_url":"https://api.github.com/users/AjayP13/repos","events_url":"https://api.github.com/users/AjayP13/events{/privacy}","received_events_url":"https://api.github.com/users/AjayP13/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-10-09T13:54:42Z","state_reason":null,"performed_via_github_app":null}]