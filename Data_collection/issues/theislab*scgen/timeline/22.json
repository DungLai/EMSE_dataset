[{"url":"https://api.github.com/repos/theislab/scgen/issues/comments/611463706","html_url":"https://github.com/theislab/scgen/issues/22#issuecomment-611463706","issue_url":"https://api.github.com/repos/theislab/scgen/issues/22","id":611463706,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTQ2MzcwNg==","user":{"login":"M0hammadL","id":33202701,"node_id":"MDQ6VXNlcjMzMjAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/33202701?v=4","gravatar_id":"","url":"https://api.github.com/users/M0hammadL","html_url":"https://github.com/M0hammadL","followers_url":"https://api.github.com/users/M0hammadL/followers","following_url":"https://api.github.com/users/M0hammadL/following{/other_user}","gists_url":"https://api.github.com/users/M0hammadL/gists{/gist_id}","starred_url":"https://api.github.com/users/M0hammadL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/M0hammadL/subscriptions","organizations_url":"https://api.github.com/users/M0hammadL/orgs","repos_url":"https://api.github.com/users/M0hammadL/repos","events_url":"https://api.github.com/users/M0hammadL/events{/privacy}","received_events_url":"https://api.github.com/users/M0hammadL/received_events","type":"User","site_admin":false},"created_at":"2020-04-09T10:50:50Z","updated_at":"2020-04-09T10:50:50Z","author_association":"COLLABORATOR","body":"Hi Veronika,\r\n\r\nYes, scGen by default downloads the CPU version of TensorFlow and does not use GPU. to use GPU, please remove TensorFlow CPU and then install TensorFlow GPU. Please be careful about the version of TF. please  have look at [here](https://github.com/theislab/scgen/issues/14) and [here](https://pypi.org/project/tensorflow-gpu/#history) .","reactions":{"url":"https://api.github.com/repos/theislab/scgen/issues/comments/611463706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"M0hammadL","id":33202701,"node_id":"MDQ6VXNlcjMzMjAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/33202701?v=4","gravatar_id":"","url":"https://api.github.com/users/M0hammadL","html_url":"https://github.com/M0hammadL","followers_url":"https://api.github.com/users/M0hammadL/followers","following_url":"https://api.github.com/users/M0hammadL/following{/other_user}","gists_url":"https://api.github.com/users/M0hammadL/gists{/gist_id}","starred_url":"https://api.github.com/users/M0hammadL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/M0hammadL/subscriptions","organizations_url":"https://api.github.com/users/M0hammadL/orgs","repos_url":"https://api.github.com/users/M0hammadL/repos","events_url":"https://api.github.com/users/M0hammadL/events{/privacy}","received_events_url":"https://api.github.com/users/M0hammadL/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/theislab/scgen/issues/comments/617940058","html_url":"https://github.com/theislab/scgen/issues/22#issuecomment-617940058","issue_url":"https://api.github.com/repos/theislab/scgen/issues/22","id":617940058,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzk0MDA1OA==","user":{"login":"vkedlian","id":22593315,"node_id":"MDQ6VXNlcjIyNTkzMzE1","avatar_url":"https://avatars.githubusercontent.com/u/22593315?v=4","gravatar_id":"","url":"https://api.github.com/users/vkedlian","html_url":"https://github.com/vkedlian","followers_url":"https://api.github.com/users/vkedlian/followers","following_url":"https://api.github.com/users/vkedlian/following{/other_user}","gists_url":"https://api.github.com/users/vkedlian/gists{/gist_id}","starred_url":"https://api.github.com/users/vkedlian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vkedlian/subscriptions","organizations_url":"https://api.github.com/users/vkedlian/orgs","repos_url":"https://api.github.com/users/vkedlian/repos","events_url":"https://api.github.com/users/vkedlian/events{/privacy}","received_events_url":"https://api.github.com/users/vkedlian/received_events","type":"User","site_admin":false},"created_at":"2020-04-22T18:05:09Z","updated_at":"2020-04-22T22:02:17Z","author_association":"NONE","body":"Hi @M0hammadL ! Thanks a lot for the explanation - it works for me now with GPU! The only thing I have noticed that when I try small batches ( like 30-500 cells) - GPU utilization is very low (between 0-5%) and it takes long time for one epoch to run (from 1 hour to 3-4 min). In contrast,  when I increase batch size to 4000 cells - GPU utilization is higher  (between 0-35%) and each epoch takes substantially less time. Thus, my question is if it is Ok to use big batches and if you can suggest any guidance on how to choose batch size for specific dataset to get the optimal performance ? For example, is 1/20 of dataset would be optimal to use as a batch size (as I am using now)?","reactions":{"url":"https://api.github.com/repos/theislab/scgen/issues/comments/617940058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vkedlian","id":22593315,"node_id":"MDQ6VXNlcjIyNTkzMzE1","avatar_url":"https://avatars.githubusercontent.com/u/22593315?v=4","gravatar_id":"","url":"https://api.github.com/users/vkedlian","html_url":"https://github.com/vkedlian","followers_url":"https://api.github.com/users/vkedlian/followers","following_url":"https://api.github.com/users/vkedlian/following{/other_user}","gists_url":"https://api.github.com/users/vkedlian/gists{/gist_id}","starred_url":"https://api.github.com/users/vkedlian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vkedlian/subscriptions","organizations_url":"https://api.github.com/users/vkedlian/orgs","repos_url":"https://api.github.com/users/vkedlian/repos","events_url":"https://api.github.com/users/vkedlian/events{/privacy}","received_events_url":"https://api.github.com/users/vkedlian/received_events","type":"User","site_admin":false}},{"id":3261808228,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI2MTgwODIyOA==","url":"https://api.github.com/repos/theislab/scgen/issues/events/3261808228","actor":{"login":"M0hammadL","id":33202701,"node_id":"MDQ6VXNlcjMzMjAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/33202701?v=4","gravatar_id":"","url":"https://api.github.com/users/M0hammadL","html_url":"https://github.com/M0hammadL","followers_url":"https://api.github.com/users/M0hammadL/followers","following_url":"https://api.github.com/users/M0hammadL/following{/other_user}","gists_url":"https://api.github.com/users/M0hammadL/gists{/gist_id}","starred_url":"https://api.github.com/users/M0hammadL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/M0hammadL/subscriptions","organizations_url":"https://api.github.com/users/M0hammadL/orgs","repos_url":"https://api.github.com/users/M0hammadL/repos","events_url":"https://api.github.com/users/M0hammadL/events{/privacy}","received_events_url":"https://api.github.com/users/M0hammadL/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-22T18:05:09Z","performed_via_github_app":null},{"id":3261808233,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyNjE4MDgyMzM=","url":"https://api.github.com/repos/theislab/scgen/issues/events/3261808233","actor":{"login":"M0hammadL","id":33202701,"node_id":"MDQ6VXNlcjMzMjAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/33202701?v=4","gravatar_id":"","url":"https://api.github.com/users/M0hammadL","html_url":"https://github.com/M0hammadL","followers_url":"https://api.github.com/users/M0hammadL/followers","following_url":"https://api.github.com/users/M0hammadL/following{/other_user}","gists_url":"https://api.github.com/users/M0hammadL/gists{/gist_id}","starred_url":"https://api.github.com/users/M0hammadL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/M0hammadL/subscriptions","organizations_url":"https://api.github.com/users/M0hammadL/orgs","repos_url":"https://api.github.com/users/M0hammadL/repos","events_url":"https://api.github.com/users/M0hammadL/events{/privacy}","received_events_url":"https://api.github.com/users/M0hammadL/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-22T18:05:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/theislab/scgen/issues/comments/667624459","html_url":"https://github.com/theislab/scgen/issues/22#issuecomment-667624459","issue_url":"https://api.github.com/repos/theislab/scgen/issues/22","id":667624459,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzYyNDQ1OQ==","user":{"login":"M0hammadL","id":33202701,"node_id":"MDQ6VXNlcjMzMjAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/33202701?v=4","gravatar_id":"","url":"https://api.github.com/users/M0hammadL","html_url":"https://github.com/M0hammadL","followers_url":"https://api.github.com/users/M0hammadL/followers","following_url":"https://api.github.com/users/M0hammadL/following{/other_user}","gists_url":"https://api.github.com/users/M0hammadL/gists{/gist_id}","starred_url":"https://api.github.com/users/M0hammadL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/M0hammadL/subscriptions","organizations_url":"https://api.github.com/users/M0hammadL/orgs","repos_url":"https://api.github.com/users/M0hammadL/repos","events_url":"https://api.github.com/users/M0hammadL/events{/privacy}","received_events_url":"https://api.github.com/users/M0hammadL/received_events","type":"User","site_admin":false},"created_at":"2020-08-02T04:15:38Z","updated_at":"2020-08-02T04:15:38Z","author_association":"COLLABORATOR","body":"please use the Keras version in this case `scgen.VAEArithKeras(..)`","reactions":{"url":"https://api.github.com/repos/theislab/scgen/issues/comments/667624459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"M0hammadL","id":33202701,"node_id":"MDQ6VXNlcjMzMjAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/33202701?v=4","gravatar_id":"","url":"https://api.github.com/users/M0hammadL","html_url":"https://github.com/M0hammadL","followers_url":"https://api.github.com/users/M0hammadL/followers","following_url":"https://api.github.com/users/M0hammadL/following{/other_user}","gists_url":"https://api.github.com/users/M0hammadL/gists{/gist_id}","starred_url":"https://api.github.com/users/M0hammadL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/M0hammadL/subscriptions","organizations_url":"https://api.github.com/users/M0hammadL/orgs","repos_url":"https://api.github.com/users/M0hammadL/repos","events_url":"https://api.github.com/users/M0hammadL/events{/privacy}","received_events_url":"https://api.github.com/users/M0hammadL/received_events","type":"User","site_admin":false}},{"id":3612954136,"node_id":"MDExOkNsb3NlZEV2ZW50MzYxMjk1NDEzNg==","url":"https://api.github.com/repos/theislab/scgen/issues/events/3612954136","actor":{"login":"M0hammadL","id":33202701,"node_id":"MDQ6VXNlcjMzMjAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/33202701?v=4","gravatar_id":"","url":"https://api.github.com/users/M0hammadL","html_url":"https://github.com/M0hammadL","followers_url":"https://api.github.com/users/M0hammadL/followers","following_url":"https://api.github.com/users/M0hammadL/following{/other_user}","gists_url":"https://api.github.com/users/M0hammadL/gists{/gist_id}","starred_url":"https://api.github.com/users/M0hammadL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/M0hammadL/subscriptions","organizations_url":"https://api.github.com/users/M0hammadL/orgs","repos_url":"https://api.github.com/users/M0hammadL/repos","events_url":"https://api.github.com/users/M0hammadL/events{/privacy}","received_events_url":"https://api.github.com/users/M0hammadL/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-08-02T04:15:38Z","state_reason":null,"performed_via_github_app":null}]