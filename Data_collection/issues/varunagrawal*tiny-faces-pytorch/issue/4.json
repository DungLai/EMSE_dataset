{"url":"https://api.github.com/repos/varunagrawal/tiny-faces-pytorch/issues/4","repository_url":"https://api.github.com/repos/varunagrawal/tiny-faces-pytorch","labels_url":"https://api.github.com/repos/varunagrawal/tiny-faces-pytorch/issues/4/labels{/name}","comments_url":"https://api.github.com/repos/varunagrawal/tiny-faces-pytorch/issues/4/comments","events_url":"https://api.github.com/repos/varunagrawal/tiny-faces-pytorch/issues/4/events","html_url":"https://github.com/varunagrawal/tiny-faces-pytorch/issues/4","id":469230747,"node_id":"MDU6SXNzdWU0NjkyMzA3NDc=","number":4,"title":"Could you share the resulting picture?","user":{"login":"SkyfengBiuBiu","id":28752150,"node_id":"MDQ6VXNlcjI4NzUyMTUw","avatar_url":"https://avatars.githubusercontent.com/u/28752150?v=4","gravatar_id":"","url":"https://api.github.com/users/SkyfengBiuBiu","html_url":"https://github.com/SkyfengBiuBiu","followers_url":"https://api.github.com/users/SkyfengBiuBiu/followers","following_url":"https://api.github.com/users/SkyfengBiuBiu/following{/other_user}","gists_url":"https://api.github.com/users/SkyfengBiuBiu/gists{/gist_id}","starred_url":"https://api.github.com/users/SkyfengBiuBiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SkyfengBiuBiu/subscriptions","organizations_url":"https://api.github.com/users/SkyfengBiuBiu/orgs","repos_url":"https://api.github.com/users/SkyfengBiuBiu/repos","events_url":"https://api.github.com/users/SkyfengBiuBiu/events{/privacy}","received_events_url":"https://api.github.com/users/SkyfengBiuBiu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-07-17T14:07:01Z","updated_at":"2022-11-13T04:18:49Z","closed_at":"2020-01-06T23:32:45Z","author_association":"NONE","active_lock_reason":null,"body":"Hello, \r\nAt first, thank you for your implement.\r\nThere are still some bugs which I hope you could fix for better project.\r\n\r\n1. In the \"WIDERFace\" class, the load function would cause an error while reading the the pictures without bounding boxes. It would be fixed if it is changed to :\r\n\r\n\r\n                bboxes = np.empty((n, 10))\r\n                \r\n                if n!=0:\r\n                    for b in range(n):\r\n                        bboxes[b, :] = [abs(float(x))\r\n                                    for x in lines[idx].strip().split()]\r\n                        idx += 1\r\n                else:\r\n                    idx += 1\r\n\r\n2. Then the PyTorch version in \"requirement.txt\" should be 0.4.1. \r\n3. The run function in \"evaluate.py\" has the debug option. In this place, you forgot unnormalize the image. Changing to :\r\n        if debug:\r\n            mean = torch.as_tensor([0.485, 0.456, 0.406], dtype=torch.float32, device=img.device)\r\n            std = torch.as_tensor([0.229, 0.224, 0.225], dtype=torch.float32, device=img.device)\r\n            \r\n            img=(img[0]).permute((1, 2, 0))\r\n            img=std*img+mean\r\n            img=np.clip(img.numpy(),0,1)\r\n            im = Image.fromarray((img*255).astype('uint8'), 'RGB')\r\n            visualize.visualize_bboxes(im, dets)\r\n\r\nit would fix the wired picture.\r\n\r\nWhat's more? After applying the \"visualize.visualize_bboxes\" , the resulting picture (from test folder) does not satisfy me as the original Matlab model. By using the default parameters as you gave and training model with 50 epochs, the results are presented as the following figures.\r\n![0 49843369913251623](https://user-images.githubusercontent.com/28752150/61381962-d932b900-a879-11e9-8993-1f7fabce9eca.jpg)\r\n![0 26791034629033217](https://user-images.githubusercontent.com/28752150/61381963-d932b900-a879-11e9-8ea5-44bbe0d1b8e2.jpg)\r\n![0 12144445914391433](https://user-images.githubusercontent.com/28752150/61381964-d9cb4f80-a879-11e9-95f5-04d96474d0ae.jpg)\r\n![0 9841258305625651](https://user-images.githubusercontent.com/28752150/61381966-d9cb4f80-a879-11e9-982c-d7c2fcecb5c9.jpg)\r\n![0 8950883280463936](https://user-images.githubusercontent.com/28752150/61381969-d9cb4f80-a879-11e9-9447-89cc56f9b5f7.jpg)\r\n![0 8476592584406182](https://user-images.githubusercontent.com/28752150/61381970-d9cb4f80-a879-11e9-9b04-2b63eca40fd3.jpg)\r\n![0 6770404203657887](https://user-images.githubusercontent.com/28752150/61381971-d9cb4f80-a879-11e9-91b6-265b463785a2.jpg)\r\n![0 5918913651406368](https://user-images.githubusercontent.com/28752150/61381972-da63e600-a879-11e9-8cef-98e382cfd600.jpg)\r\n![0 3623791789569477](https://user-images.githubusercontent.com/28752150/61381973-da63e600-a879-11e9-8a3d-a7f4a2c16d63.jpg)\r\n\r\n(prob_thresh=0.6 nms_thresh=0.1)\r\nCould you provide your per-trained model and share us the resulting pictures?\r\nThank you very much!!\r\nFor better project :+1: :+1: \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"varunagrawal","id":975964,"node_id":"MDQ6VXNlcjk3NTk2NA==","avatar_url":"https://avatars.githubusercontent.com/u/975964?v=4","gravatar_id":"","url":"https://api.github.com/users/varunagrawal","html_url":"https://github.com/varunagrawal","followers_url":"https://api.github.com/users/varunagrawal/followers","following_url":"https://api.github.com/users/varunagrawal/following{/other_user}","gists_url":"https://api.github.com/users/varunagrawal/gists{/gist_id}","starred_url":"https://api.github.com/users/varunagrawal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/varunagrawal/subscriptions","organizations_url":"https://api.github.com/users/varunagrawal/orgs","repos_url":"https://api.github.com/users/varunagrawal/repos","events_url":"https://api.github.com/users/varunagrawal/events{/privacy}","received_events_url":"https://api.github.com/users/varunagrawal/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/varunagrawal/tiny-faces-pytorch/issues/4/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/varunagrawal/tiny-faces-pytorch/issues/4/timeline","performed_via_github_app":null,"state_reason":"completed"}