[{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558838001","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558838001","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558838001,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODgzODAwMQ==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-11-26T22:06:46Z","updated_at":"2019-11-26T22:06:46Z","author_association":"OWNER","body":"Thanks for your comments.\r\n\r\nWe in fact provide a 10.5Gb dataset of images for download, for which the subset used for training/test is clearly stated in the corresponding README.txt in the download. The corresponding performance rates are provided in the corresponding paper, and this is the largest fire image dataset available globally as of right now - what more do you want?\r\n\r\nRun the model over the images, do you get the same accuracy.","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558838001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558846134","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558846134","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558846134,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODg0NjEzNA==","user":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false},"created_at":"2019-11-26T22:32:05Z","updated_at":"2019-11-26T22:33:36Z","author_association":"NONE","body":"Somehow I can't validate the model with your images.\r\n\r\nFor example:\r\n```\r\n$ label_image --tflite_model firenet.tflite --image FireDataTwo4333.bmp --labels labels.txt\r\nLoaded model firenet.tflite\r\nresolved reporter\r\nINFO: Initialized TensorFlow Lite runtime.\r\ninvoked \r\naverage time: 86.082 ms \r\n0.999985: 1 No Fire\r\n```\r\nThere is a fire in the image.\r\n\r\nI use this TF-Lite model: https://people.freebsd.org/~yuri/firenet.tflite\r\nIt was converted from the TF model: https://people.freebsd.org/~yuri/firenet.pb\r\n```label_image``` is built from the TensorFlow project.\r\n\r\nEither the conversion is wrong, or the input range is wrong, hard to tell.","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558846134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558851506","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558851506","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558851506,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODg1MTUwNg==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-11-26T22:51:30Z","updated_at":"2019-11-26T22:54:33Z","author_association":"OWNER","body":"Have you checked the PAQ issue post on the one hot encoding definition we used ... \r\n... when you compare it to your labels.txt\r\n\r\nThis would appear to be inverted in your code.\r\n\r\nAs, again, we say in the PAQ issue post our inputs are 0-255, not rescaled.\r\n\r\nRun over the entire dataset, if the accuracy is inverted from what we reported then your labelling is probably inverted.","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558851506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558854917","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558854917","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558854917,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODg1NDkxNw==","user":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false},"created_at":"2019-11-26T23:03:43Z","updated_at":"2019-11-26T23:04:12Z","author_association":"NONE","body":"> This would appear to be inverted in your code.\r\n\r\nMy labels.txt:\r\n```\r\nFire\r\nNo Fire\r\n```\r\nis according to PAQ:\r\n```\r\nQ: How were the labels encoded during training ?\r\nA: The one-hot encoding was made alphabetically with 'fire' being the first class (0) and 'nofire' the second (1) such that:\r\n\r\n    fire= (1,0)\r\n    nofire = (0,1)\r\n```","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558854917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558862710","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558862710","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558862710,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODg2MjcxMA==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-11-26T23:34:46Z","updated_at":"2019-11-27T07:31:12Z","author_association":"OWNER","body":"In which case just run over the set of test examples outlined in the README.txt doc with the dataset.\r\n\r\nIf you get the same accuracy - all ok.\r\n\r\nIf you get 1-accuracy or similar - labels are inverted (does tf lite encode line 1 of labels as 1,0 (i.e. 10) alphabetically left to right or encode them starting from smallest binary representation upwards as 01, aka 0,1, for the first line entry ? - check this)\r\n\r\nIf accuracy is completely different, ... your model conversion is wrong somehow.\r\n\r\nHope this helps.","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558862710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558867429","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558867429","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558867429,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODg2NzQyOQ==","user":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false},"created_at":"2019-11-26T23:57:19Z","updated_at":"2019-11-26T23:57:19Z","author_association":"NONE","body":"You should publish the models suitable for computation. .tflite in particular.\r\n","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558867429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558963955","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558963955","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558963955,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODk2Mzk1NQ==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-11-27T07:22:08Z","updated_at":"2019-11-27T07:22:08Z","author_association":"OWNER","body":"Thanks for your suggestion.\r\n\r\nThis is exactly why we publish the frozen graph .pb protocolbuf version (which you claim had all the extra nodes in it - but that were not visible in TensorFlow/Tensorboard). This is specifically a inference (computation) format. \r\n\r\nConverting from this standard tf .pb format to .tflite or other optimized edge computation formats is a fairly standard step, and not very difficult.\r\n\r\nIt is not possible to publish the models in every possible format for every framework. We publish them in the original framework format, and a convertor to one of the most common formats. We recommend the MMNet convertor project for conversions beyond this.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558963955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"id":2834561870,"node_id":"MDExOkNsb3NlZEV2ZW50MjgzNDU2MTg3MA==","url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/events/2834561870","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-11-27T07:22:09Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558980008","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558980008","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558980008,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODk4MDAwOA==","user":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false},"created_at":"2019-11-27T08:18:48Z","updated_at":"2019-11-27T08:18:48Z","author_association":"NONE","body":"> which you claim had all the extra nodes in it - but that were not visible in TensorFlow/Tensorboard\r\n\r\nPlease open it in ```netron``` (https://github.com/lutzroeder/netron) and observe this for yourself. The resulting model also has ransom number generators, switches, etc.\r\n","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558980008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558983067","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558983067","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558983067,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODk4MzA2Nw==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-11-27T08:27:44Z","updated_at":"2019-11-27T08:27:44Z","author_association":"OWNER","body":"... but as I pointed out before the support for this format is only _experimental_ in netron whilst they are not shown in TensorFlow/TensorBoard which is in fact reading this format correctly, as will tensorflow, tflite etc.\r\n\r\nnetron is not showing the actual model as loaded by TensorFlow or tools which fully support the protocolbuf format used by TF.\r\n\r\nAssuming you managed to translate this model to tflite and it works - then the const, random number generators, switches must not be present or the model would not work properly.","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558983067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558989077","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-558989077","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":558989077,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODk4OTA3Nw==","user":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false},"created_at":"2019-11-27T08:46:18Z","updated_at":"2019-11-27T08:46:18Z","author_association":"NONE","body":"No, from my perspective FireNet does not work - I was not able to validate it, it always returns \"No Fire\" no matter what image is supplied.","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/558989077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/559027648","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-559027648","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":559027648,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTAyNzY0OA==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-11-27T10:28:00Z","updated_at":"2019-11-27T10:46:07Z","author_association":"OWNER","body":"This is probably because the default code for the example you are using at: \r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/examples/label_image\r\n\r\nis subtracting the default mean and rescaling by the default standard deviation for all input pixels.\r\n\r\nAs both of these are set to 127.5 by default (in one of the header files at this url), this will result in an input pixel range of -1->1, not 0->255 as required by FireNet.\r\n\r\nAs a result all the pixels will be very dark in terms of colour (-1/0->1) compared to what the network was trained on (0->255), and as a result it will always classify the image as not fire.\r\n\r\nIn that particular TensorFlow example, if you use the additional available command line options to specify a zero input mean, and standard deviation of 1 I think the code will not perform any rescaling/substraction on the pixels. In which case you should get the results you expect, as the network is now getting the pixel range it expects.\r\n\r\nI hope this helps.","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/559027648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/559890843","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-559890843","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":559890843,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTg5MDg0Mw==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-11-29T22:47:25Z","updated_at":"2019-11-29T22:47:25Z","author_association":"OWNER","body":"Can you please confirm if this solved your issue ?","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/559890843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/559900541","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-559900541","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":559900541,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTkwMDU0MQ==","user":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false},"created_at":"2019-11-30T00:50:44Z","updated_at":"2019-11-30T00:50:44Z","author_association":"NONE","body":"> Can you please confirm if this solved your issue ?\r\n\r\nNo, from my perspective FireNet doesn't work (it always says \"NoFire').\r\n","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/559900541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/560179284","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-560179284","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":560179284,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDE3OTI4NA==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-12-02T00:17:13Z","updated_at":"2019-12-02T00:17:49Z","author_association":"OWNER","body":"OK, so I have looked at this further ... \r\n\r\nIn the branch available at: [https://github.com/tobybreckon/fire-detection-cnn/tree/tflite](https://github.com/tobybreckon/fire-detection-cnn/tree/tflite) I have added a conversion to ``.tflite`` for firenet and also a validation program that now shows, for the test video provided, that the output of all three models (tflearn, ``.pb``, ``.tflife``) is the same for all frames in the video.\r\n\r\nTo use (do a pull, and checkout this branch - not master):\r\n```\r\ncd fire-detection-cnn\r\ngit pull\r\ngit checkout tflite\r\ncd converter\r\npython firenet-conversion.py\r\n```\r\n\r\nwhich should now additionally produce ``firenet.tflite`` in the convertor directory. \r\n\r\nTo validate try:\r\n```\r\npython firenet-validation.py\r\n```\r\nwhich runs each model format on the test video and should then produce ...\r\n```\r\nLoad tflearn model from: ../models/FireNet ...OK\r\nLoad protocolbuf (pb) model from: firenet.pb ...OK\r\nLoad protocolbuf (pb) model from: firenet.tflite ...OK\r\nLoad test video from ../models/test.mp4 ...\r\nframe: 0        : TFLearn (original): [[9.999914e-01 8.576833e-06]]     : Tensorflow .pb (via opencv): [[9.999914e-01 8.576866e-06]]    : TFLite (via tensorflow): [[9.999914e-01 8.576899e-06]]: all equal test - PASS\r\nframe: 1        : TFLearn (original): [[9.999924e-01 7.609045e-06]]     : Tensorflow .pb (via opencv): [[9.999924e-01 7.608987e-06]]    : TFLite (via tensorflow): [[9.999924e-01 7.608980e-06]]: all equal test - PASS\r\nframe: 2        : TFLearn (original): [[9.999967e-01 3.373572e-06]]     : Tensorflow .pb (via opencv): [[9.999967e-01 3.373559e-06]]    : TFLite (via tensorflow): [[9.999967e-01 3.373456e-06]]: all equal test - PASS\r\nframe: 3        : TFLearn (original): [[9.999968e-01 3.165212e-06]]     : Tensorflow .pb (via opencv): [[9.999968e-01 3.165221e-06]]    : TFLite (via tensorflow): [[9.999968e-01 3.165176e-06]]: all equal test - PASS\r\n...\r\n```\r\nThe README in this branch has been updated but does not include the ``checkout`` step, pending a pull request.\r\n\r\nBack to your original issue - I suspect that the problem is that the input image has pixels in the wrong range (0->1, instead of 0->255 - due to issue in earlier post) and is possibly in RGB rather than BGR channel ordering (with the latter being the default for all things OpenCV - [see here](https://www.learnopencv.com/why-does-opencv-use-bgr-color-format/)).\r\n\r\nThe above provides a working ``.tflite`` model, working on the same images and giving the same output to the 7 decimal place (for PASS/FAIL). I hope this helps.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/560179284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/560451271","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-560451271","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":560451271,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDQ1MTI3MQ==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-12-02T15:42:14Z","updated_at":"2019-12-02T15:42:14Z","author_association":"OWNER","body":"Some more experimentation with a GPU variant seems to show I the same output to a numerical precision of 5 (for PASS/FAIL) for the whole video for all three models, and hence the thresholded fire/no-fire decisions always match - I have amended the code to show this (in this branch). Please let me know if you concur.","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/560451271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/564388950","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-564388950","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":564388950,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDM4ODk1MA==","user":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false},"created_at":"2019-12-11T05:41:36Z","updated_at":"2019-12-11T05:47:44Z","author_association":"NONE","body":"> possibly in RGB rather than BGR channel ordering\r\n\r\nThis was the culprit. Once I swapped channels the network works beautifully.\r\n\r\n--------------\r\n\r\nI recommend you publish firenet NN in common formats, .tflow, .pb, .onnx, so that it would be easy for people to run. Python scripts that generate the files would become obsolete and not runnable after a few TF releases, and people wouldn't be able to generate the files themselves any more. File formats are easier, they are just ProtoBufs and FlatBufs.\r\n\r\n--------------\r\n\r\nYou should also emphasize that 0..255 input normalization and BGR color encoding are expected. Or just reformat the net to be 0..1/RGB.\r\n\r\n--------------\r\nThe files I ran are:\r\nhttps://people.freebsd.org/~yuri/firenet.tflite\r\nhttps://people.freebsd.org/~yuri/firenet.pb\r\nI had to manually get rid of the 'training' boolean variable to be able to run it.\r\n","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/564388950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/565760060","html_url":"https://github.com/tobybreckon/fire-detection-cnn/issues/36#issuecomment-565760060","issue_url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/36","id":565760060,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTc2MDA2MA==","user":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false},"created_at":"2019-12-14T22:51:28Z","updated_at":"2019-12-14T22:51:28Z","author_association":"OWNER","body":"Good to know it is working.\r\n\r\nWe'll take what you say in the models onboard - it is a trade-off between providing the original and maintaining convertors which will then always then provide a net output that is compatible with the latest TF release, or providing a set of file format variants which then have to be maintained as being compatible with latest TF release. With the possible exception of ONNX, many of these appear not to be stable on themselves.\r\n\r\nIn the new tflite branch we address the tflite export issue and the training variables - still to be pulled to master.\r\n\r\nThe input format requirements are now clearly in the PAQ, thanks for catching this.\r\n\r\nIt is unlikely we will retrain these nets at present, we have a new set of architectures making their debut soon.\r\n\r\nMany thanks.\r\n","reactions":{"url":"https://api.github.com/repos/tobybreckon/fire-detection-cnn/issues/comments/565760060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tobybreckon","id":3429179,"node_id":"MDQ6VXNlcjM0MjkxNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3429179?v=4","gravatar_id":"","url":"https://api.github.com/users/tobybreckon","html_url":"https://github.com/tobybreckon","followers_url":"https://api.github.com/users/tobybreckon/followers","following_url":"https://api.github.com/users/tobybreckon/following{/other_user}","gists_url":"https://api.github.com/users/tobybreckon/gists{/gist_id}","starred_url":"https://api.github.com/users/tobybreckon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobybreckon/subscriptions","organizations_url":"https://api.github.com/users/tobybreckon/orgs","repos_url":"https://api.github.com/users/tobybreckon/repos","events_url":"https://api.github.com/users/tobybreckon/events{/privacy}","received_events_url":"https://api.github.com/users/tobybreckon/received_events","type":"User","site_admin":false}}]