{"url":"https://api.github.com/repos/titipata/detecting-scientific-claim/issues/20","repository_url":"https://api.github.com/repos/titipata/detecting-scientific-claim","labels_url":"https://api.github.com/repos/titipata/detecting-scientific-claim/issues/20/labels{/name}","comments_url":"https://api.github.com/repos/titipata/detecting-scientific-claim/issues/20/comments","events_url":"https://api.github.com/repos/titipata/detecting-scientific-claim/issues/20/events","html_url":"https://github.com/titipata/detecting-scientific-claim/issues/20","id":453263247,"node_id":"MDU6SXNzdWU0NTMyNjMyNDc=","number":20,"title":"Trouble running web_service.sh and following examples from README","user":{"login":"olabknbit","id":9802056,"node_id":"MDQ6VXNlcjk4MDIwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/9802056?v=4","gravatar_id":"","url":"https://api.github.com/users/olabknbit","html_url":"https://github.com/olabknbit","followers_url":"https://api.github.com/users/olabknbit/followers","following_url":"https://api.github.com/users/olabknbit/following{/other_user}","gists_url":"https://api.github.com/users/olabknbit/gists{/gist_id}","starred_url":"https://api.github.com/users/olabknbit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olabknbit/subscriptions","organizations_url":"https://api.github.com/users/olabknbit/orgs","repos_url":"https://api.github.com/users/olabknbit/repos","events_url":"https://api.github.com/users/olabknbit/events{/privacy}","received_events_url":"https://api.github.com/users/olabknbit/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-06-06T22:20:32Z","updated_at":"2019-06-10T16:24:00Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I've been trying to use your classifier but encountered a couple of problems:\r\n1. In your README line `wget https://s3-us-west-2.amazonaws.com/pubmed-rct/model.tar.gz` downloads the model to the main dir, not `output/` and the later commands assume model will be in the `output` dir. \r\n2. The commands (and web_service.sh) all use `discourse_classifier` as a predictor, where I believe they should use `discourse_predictor` instead. `discourse_classifier` gives error `allennlp.common.checks.ConfigurationError: 'discourse_classifier is not a registered name for Predictor'`\r\n3. As long as I was able to detect the previous problems quite quickly and fixing them was trivial, I stumbled across a problem I couldn't overcome: The commands for starting the web server do not start it for me. I get\r\n```\r\n(p37) detecting-scientific-claim$ flask run --host=0.0.0.0\r\n * Serving Flask app \"main.py\"\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n/home/student/anaconda/envs/p37/lib/python3.7/site-packages/sklearn/utils/linear_assignment_.py:21: DeprecationWarning: The linear_assignment_ module is deprecated in 0.21 and will be removed from 0.23. Use scipy.optimize.linear_sum_assignment instead.\r\n  DeprecationWarning)\r\n100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 355287325/355287325 [01:43<00:00, 3420728.39B/s]\r\n/home/student/anaconda/envs/p37/lib/python3.7/site-packages/torch/nn/modules/rnn.py:54: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1\r\n  \"num_layers={}\".format(dropout, num_layers))\r\n100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 381931118/381931118 [01:36<00:00, 3946648.30B/s]\r\n * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)\r\n```\r\nor\r\n```\r\n(p37) student@gpunode2:~/byczynskaa/detecting-scientific-claim$ bash web_service.sh \r\n/home/student/anaconda/envs/p37/lib/python3.7/site-packages/sklearn/utils/linear_assignment_.py:21: DeprecationWarning: The linear_assignment_ module is deprecated in 0.21 and will be removed from 0.23. Use scipy.optimize.linear_sum_assignment instead.\r\n  DeprecationWarning)\r\n/home/student/anaconda/envs/p37/lib/python3.7/site-packages/torch/nn/modules/rnn.py:54: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1\r\n  \"num_layers={}\".format(dropout, num_layers))\r\nModel loaded, serving demo on port 8000\r\n```\r\nBut when I go the the localhost:`port`, I get `This site can’t be reached` :(\r\n\r\n4. Also, since I downloaded the latest `allennlp` the flags might have changed, and the evaluate command should be of the form `allennlp evaluate model.tar.gz  https://s3-us-west-2.amazonaws.com/pubmed-rct/test.json   --include-package discourse`\r\n\r\nCould you help me fix the issue 3.? \r\nThanks!","closed_by":null,"reactions":{"url":"https://api.github.com/repos/titipata/detecting-scientific-claim/issues/20/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/titipata/detecting-scientific-claim/issues/20/timeline","performed_via_github_app":null,"state_reason":null}