{"url":"https://api.github.com/repos/allenai/scispacy/issues/136","repository_url":"https://api.github.com/repos/allenai/scispacy","labels_url":"https://api.github.com/repos/allenai/scispacy/issues/136/labels{/name}","comments_url":"https://api.github.com/repos/allenai/scispacy/issues/136/comments","events_url":"https://api.github.com/repos/allenai/scispacy/issues/136/events","html_url":"https://github.com/allenai/scispacy/issues/136","id":470656735,"node_id":"MDU6SXNzdWU0NzA2NTY3MzU=","number":136,"title":"`is_oov` in comparison to `in nlp.vocab`","user":{"login":"eliorc","id":17727283,"node_id":"MDQ6VXNlcjE3NzI3Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/17727283?v=4","gravatar_id":"","url":"https://api.github.com/users/eliorc","html_url":"https://github.com/eliorc","followers_url":"https://api.github.com/users/eliorc/followers","following_url":"https://api.github.com/users/eliorc/following{/other_user}","gists_url":"https://api.github.com/users/eliorc/gists{/gist_id}","starred_url":"https://api.github.com/users/eliorc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eliorc/subscriptions","organizations_url":"https://api.github.com/users/eliorc/orgs","repos_url":"https://api.github.com/users/eliorc/repos","events_url":"https://api.github.com/users/eliorc/events{/privacy}","received_events_url":"https://api.github.com/users/eliorc/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-07-20T09:43:29Z","updated_at":"2019-07-27T14:43:21Z","closed_at":"2019-07-27T14:43:21Z","author_association":"NONE","active_lock_reason":null,"body":"I'm looking to use scispacy's `en_core_sci_md` model for various purposes, one being using its word vectors as an input to a neural network.\r\nAs I was checking the coverage of the existing embedding, I noticed a weird phenomenon where a given token's `token.is_oov == True`, thought `token.text in nlp.vocab == True`. When this happens the `token.vector.sum() == 0`.\r\nI can't figure out how does this make sense, if it is in the vocabulary, how come it is oov and has an all zero vector? Also some basic words are missing, for example\r\n\r\n```python3\r\n\r\ntokens = gather_all_tokens_from_corpus()\r\n\r\nsome_token = random.choice([t for t in tokens if t.is_oov])\r\nprint(some_token)\r\n>>> smelling\r\n\r\nsome_token.text in nlp.vocab\r\n>>> True\r\n\r\nsome_token.vector\r\n>>> array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,\r\n       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.], dtype=float32)\r\n```\r\n\r\nHow come it is OOV yet returns `True` when checking `in nlp.vocab`?\r\nIs it expected that basic words like `smelling` won't have a vector?","closed_by":{"login":"eliorc","id":17727283,"node_id":"MDQ6VXNlcjE3NzI3Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/17727283?v=4","gravatar_id":"","url":"https://api.github.com/users/eliorc","html_url":"https://github.com/eliorc","followers_url":"https://api.github.com/users/eliorc/followers","following_url":"https://api.github.com/users/eliorc/following{/other_user}","gists_url":"https://api.github.com/users/eliorc/gists{/gist_id}","starred_url":"https://api.github.com/users/eliorc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eliorc/subscriptions","organizations_url":"https://api.github.com/users/eliorc/orgs","repos_url":"https://api.github.com/users/eliorc/repos","events_url":"https://api.github.com/users/eliorc/events{/privacy}","received_events_url":"https://api.github.com/users/eliorc/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/allenai/scispacy/issues/136/timeline","performed_via_github_app":null,"state_reason":"completed"}