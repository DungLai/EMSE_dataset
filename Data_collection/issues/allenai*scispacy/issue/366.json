{"url":"https://api.github.com/repos/allenai/scispacy/issues/366","repository_url":"https://api.github.com/repos/allenai/scispacy","labels_url":"https://api.github.com/repos/allenai/scispacy/issues/366/labels{/name}","comments_url":"https://api.github.com/repos/allenai/scispacy/issues/366/comments","events_url":"https://api.github.com/repos/allenai/scispacy/issues/366/events","html_url":"https://github.com/allenai/scispacy/issues/366","id":925118984,"node_id":"MDU6SXNzdWU5MjUxMTg5ODQ=","number":366,"title":"Explanation for the M parameter in CreateIndex in nmslib","user":{"login":"MichalMalyska","id":12971408,"node_id":"MDQ6VXNlcjEyOTcxNDA4","avatar_url":"https://avatars.githubusercontent.com/u/12971408?v=4","gravatar_id":"","url":"https://api.github.com/users/MichalMalyska","html_url":"https://github.com/MichalMalyska","followers_url":"https://api.github.com/users/MichalMalyska/followers","following_url":"https://api.github.com/users/MichalMalyska/following{/other_user}","gists_url":"https://api.github.com/users/MichalMalyska/gists{/gist_id}","starred_url":"https://api.github.com/users/MichalMalyska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichalMalyska/subscriptions","organizations_url":"https://api.github.com/users/MichalMalyska/orgs","repos_url":"https://api.github.com/users/MichalMalyska/repos","events_url":"https://api.github.com/users/MichalMalyska/events{/privacy}","received_events_url":"https://api.github.com/users/MichalMalyska/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-06-18T18:28:59Z","updated_at":"2021-06-22T20:02:01Z","closed_at":"2021-06-22T20:02:01Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I was digging through code on creating the entity linker and found this TODO:\r\n\r\nhttps://github.com/allenai/scispacy/blob/2290a80cfe0948e48d8ecfbd60064019d57a6874/scispacy/candidate_generation.py#L387\r\n\r\nSo i went on a deeper dive and found:\r\n\r\n![M param explanation](https://user-images.githubusercontent.com/12971408/122602503-ee558b00-d040-11eb-9cb1-30d930c90521.png)\r\n\r\nThe M parameter seems to be the size of the neighbourhood in the underlying graph structure when creating the HNSW ( https://arxiv.org/ftp/arxiv/papers/1603/1603.09320.pdf) graph. \r\n\r\nMy understanding is that putting this number higher increases the connectivity between clusters allowing for easier between-cluster jumping. \r\n\r\nThe way they describe it in NMSLIB repo is:\r\n\r\n\"\"\"\r\nIn what follows, we discuss HNSW-specific parameters. First, for HNSW, the parameter M defines the maximum number of neighbors in the zero and above-zero layers. However, the actual default maximum number of neighbors for the zero layer is 2*M. This behavior can be overriden by explicitly setting the maximum number of neighbors for the zero (maxM0) and above-zero layers (maxM). Note that the zero layer contains all the data points, but the number of points included in other layers is defined by the parameter mult (see the HNSW paper for details).\r\n\"\"\"","closed_by":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/allenai/scispacy/issues/366/timeline","performed_via_github_app":null,"state_reason":"completed"}