{"url":"https://api.github.com/repos/allenai/scispacy/issues/284","repository_url":"https://api.github.com/repos/allenai/scispacy","labels_url":"https://api.github.com/repos/allenai/scispacy/issues/284/labels{/name}","comments_url":"https://api.github.com/repos/allenai/scispacy/issues/284/comments","events_url":"https://api.github.com/repos/allenai/scispacy/issues/284/events","html_url":"https://github.com/allenai/scispacy/issues/284","id":729761270,"node_id":"MDU6SXNzdWU3Mjk3NjEyNzA=","number":284,"title":"8X runtime increase with EntityLinker","user":{"login":"JohnGiorgi","id":8917831,"node_id":"MDQ6VXNlcjg5MTc4MzE=","avatar_url":"https://avatars.githubusercontent.com/u/8917831?v=4","gravatar_id":"","url":"https://api.github.com/users/JohnGiorgi","html_url":"https://github.com/JohnGiorgi","followers_url":"https://api.github.com/users/JohnGiorgi/followers","following_url":"https://api.github.com/users/JohnGiorgi/following{/other_user}","gists_url":"https://api.github.com/users/JohnGiorgi/gists{/gist_id}","starred_url":"https://api.github.com/users/JohnGiorgi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohnGiorgi/subscriptions","organizations_url":"https://api.github.com/users/JohnGiorgi/orgs","repos_url":"https://api.github.com/users/JohnGiorgi/repos","events_url":"https://api.github.com/users/JohnGiorgi/events{/privacy}","received_events_url":"https://api.github.com/users/JohnGiorgi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-26T17:26:10Z","updated_at":"2020-10-29T15:20:02Z","closed_at":"2020-10-29T15:20:02Z","author_association":"NONE","active_lock_reason":null,"body":"This is less of an issue and more of a question.\r\n\r\nWe were hoping to use the EntityLinker pipe on some clinical notes. We have tens of thousands of them, each with an average of 1100 tokens. We find that running the EntityLinker on these notes is prohibitively expensive in terms of runtime and memory. This is the case even when we select a subset of a few thousand.\r\n\r\nIn a dumb little benchmark I put together [here](https://colab.research.google.com/drive/10pSZJkQr3IFg_g40vV-6fvMYgcCBqJ5R?usp=sharing) on the 20-newsgroup dataset, I found that adding the EntityLinker pipe increases the runtime of scispacy by ~8X(!) when using `nlp.pipe()`:\r\n\r\n![image](https://user-images.githubusercontent.com/8917831/97205920-76bfac80-178e-11eb-8524-5dce07e99bb5.png)\r\n\r\n\r\nIs this expected? Are there any tips/tricks for getting it to run in a reasonable amount of time when you have lots of texts? I have already disabled the components I don't need (`\"tagger\"`, `\"parser\"`) and am using `nlp.pipe()` as recommended in the spacy documentation.\r\n","closed_by":{"login":"JohnGiorgi","id":8917831,"node_id":"MDQ6VXNlcjg5MTc4MzE=","avatar_url":"https://avatars.githubusercontent.com/u/8917831?v=4","gravatar_id":"","url":"https://api.github.com/users/JohnGiorgi","html_url":"https://github.com/JohnGiorgi","followers_url":"https://api.github.com/users/JohnGiorgi/followers","following_url":"https://api.github.com/users/JohnGiorgi/following{/other_user}","gists_url":"https://api.github.com/users/JohnGiorgi/gists{/gist_id}","starred_url":"https://api.github.com/users/JohnGiorgi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohnGiorgi/subscriptions","organizations_url":"https://api.github.com/users/JohnGiorgi/orgs","repos_url":"https://api.github.com/users/JohnGiorgi/repos","events_url":"https://api.github.com/users/JohnGiorgi/events{/privacy}","received_events_url":"https://api.github.com/users/JohnGiorgi/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/allenai/scispacy/issues/284/timeline","performed_via_github_app":null,"state_reason":"completed"}