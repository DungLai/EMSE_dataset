[{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/510358152","html_url":"https://github.com/allenai/scispacy/issues/134#issuecomment-510358152","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/134","id":510358152,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDM1ODE1Mg==","user":{"login":"DeNeutoy","id":16001974,"node_id":"MDQ6VXNlcjE2MDAxOTc0","avatar_url":"https://avatars.githubusercontent.com/u/16001974?v=4","gravatar_id":"","url":"https://api.github.com/users/DeNeutoy","html_url":"https://github.com/DeNeutoy","followers_url":"https://api.github.com/users/DeNeutoy/followers","following_url":"https://api.github.com/users/DeNeutoy/following{/other_user}","gists_url":"https://api.github.com/users/DeNeutoy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeNeutoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeNeutoy/subscriptions","organizations_url":"https://api.github.com/users/DeNeutoy/orgs","repos_url":"https://api.github.com/users/DeNeutoy/repos","events_url":"https://api.github.com/users/DeNeutoy/events{/privacy}","received_events_url":"https://api.github.com/users/DeNeutoy/received_events","type":"User","site_admin":false},"created_at":"2019-07-11T07:04:55Z","updated_at":"2019-07-11T07:04:55Z","author_association":"COLLABORATOR","body":"Hi Dan,\r\n\r\nThanks - are you specifically interested in the performance when combined with the mention span detector (i.e using predicted mention spans and not gold mention spans)?\r\n\r\nYes, the 69.26 F1 is the span detection F1 for the latest en_core_sci_md/sm (I can't actually remember which one, but they are essentially the same). However, this does not include performance when considering the semantic types predicted by the model, because we don't actually use those at all yet in the linker.\r\n\r\nYou are correct that the st21pv is not used at all.\r\n\r\nWow I did not know that TaggerOne requires 1TB RAM ðŸ˜­ ðŸ˜­ ðŸ˜­ \r\n\r\n\r\nI've added some statistics below based on our development version of the linker, which was not integrated into the library. As such there may be small differences in numbers:\r\n\r\n#### Document level scores\r\n\r\nThis evaluation is at the _document level_, based on the \"bag of entities\" in an abstract. I.e we are measuring the recall of gold concepts in the aggregated list of all mention candidates in the document. This is meaningful because quite often, we actually care about document level metrics (search, displaying in a UI) in practice. Additionally, it helps with the abbreviation problem, because quite often a mention will be defined in full and then used as an abbreviation.\r\n\r\n*Base Configuration*\r\n- No abbreviation substitution\r\n- Mentions generated based on `en_core_web_md`\r\n\r\nK | Base | +Noun Chunks | Gold Mentions\r\n-- | -- | -- | --\r\n1 | 57.34 | 60.41 | 72.35\r\n2 | 62.6 | 65.96 | 78.52\r\n10 | 71.73 | 75.83 | 86.33\r\n40 | 78.22 | 82.3 | 91.13\r\n60 | 79.85 | 83.91 | 92.31\r\n80 | 80.65 | 84.66 | 92.79\r\n100 | 81.17 | 85.19 | 93.13\r\n\r\n#### Soft Matching Mention level scores\r\n- No abbreviation substitution\r\n- Mentions generated based on `en_core_web_md`\r\n- predicted mentions are compared based on a \"soft overlap\", meaning that we take it to be a match with any gold mention with which it overlaps at all.\r\n\r\nK | Recall@K\r\n-- | --\r\n1 | 49.36\r\n2 | 54.27\r\n10 | 62.64\r\n40 | 68.62\r\n60 | 70.09\r\n80 | 70.91\r\n100 | 71.49\r\n\r\n\r\nFinally, it's also helpful to measure _normalised_ recall@1, where we consider only results for which the gold mention is present in the generated candidates for a given K. You can get an approximation of this just by dividing K=1/K=N (this is not quite accurate as it's possible that when we throw away entities which we can't generate candidates for, the set that is left is easier overall, so this is a slight underestimate probably). E.g normalised soft matching with predicted mentions and K=80 == 69.6% Accuracy.\r\n\r\nHopefully those numbers are useful for understanding the performance!\r\n\r\nThere are many pitfalls when evaluating EL systems, it's really pretty annoying. P,R and F1 really don't give you enough of an idea of how the system is performing as a whole. Let me know if you need to know anything specific about it!\r\n\r\nMark\r\n","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/510358152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DeNeutoy","id":16001974,"node_id":"MDQ6VXNlcjE2MDAxOTc0","avatar_url":"https://avatars.githubusercontent.com/u/16001974?v=4","gravatar_id":"","url":"https://api.github.com/users/DeNeutoy","html_url":"https://github.com/DeNeutoy","followers_url":"https://api.github.com/users/DeNeutoy/followers","following_url":"https://api.github.com/users/DeNeutoy/following{/other_user}","gists_url":"https://api.github.com/users/DeNeutoy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeNeutoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeNeutoy/subscriptions","organizations_url":"https://api.github.com/users/DeNeutoy/orgs","repos_url":"https://api.github.com/users/DeNeutoy/repos","events_url":"https://api.github.com/users/DeNeutoy/events{/privacy}","received_events_url":"https://api.github.com/users/DeNeutoy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/510888889","html_url":"https://github.com/allenai/scispacy/issues/134#issuecomment-510888889","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/134","id":510888889,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg4ODg4OQ==","user":{"login":"danlou","id":16802508,"node_id":"MDQ6VXNlcjE2ODAyNTA4","avatar_url":"https://avatars.githubusercontent.com/u/16802508?v=4","gravatar_id":"","url":"https://api.github.com/users/danlou","html_url":"https://github.com/danlou","followers_url":"https://api.github.com/users/danlou/followers","following_url":"https://api.github.com/users/danlou/following{/other_user}","gists_url":"https://api.github.com/users/danlou/gists{/gist_id}","starred_url":"https://api.github.com/users/danlou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danlou/subscriptions","organizations_url":"https://api.github.com/users/danlou/orgs","repos_url":"https://api.github.com/users/danlou/repos","events_url":"https://api.github.com/users/danlou/events{/privacy}","received_events_url":"https://api.github.com/users/danlou/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T13:36:00Z","updated_at":"2019-07-12T13:36:00Z","author_association":"NONE","body":"Hi Mark,\r\n\r\nThanks for such a detailed response, it's definitely helpful! Yes, I'm interested in mention span detection and entity linking (concept recognition), under similar conditions as the MedMentions paper (though more interested on the full dataset too).\r\n\r\nThis evaluation is under slightly different conditions from the MedMentions paper (they focused on st21pv, 'hard' matches) but these results seem to suggest that your lightweight approach (even in alpha) can be competitive with the paper's very impractical baseline (maybe even better for document-level).\r\n\r\nI'm also realizing that evaluating EL, particularly for MedMentions, won't be as straightforward as it should be... P/R/F1 are a bit harsh indeed, specially considering that span detection in this dataset seems quite challenging. Even with gold spans I expect that recall@1 should be very hard given the number of closely related concepts (incl. many without annotations in the training set!).\r\n\r\nIn any case, MedMentions seems like a great dataset otherwise, it's only really lacking detailed evaluation results. It's still very recent though.\r\n\r\nI have a couple of questions on this, mostly to make sure I'm understanding everything:\r\n - When you say that 'we don't actually use [semantic types] at all yet in the linker', are you referring to the concept annotations on MedMentions ? The linker does match predicted spans to UMLS concepts (and thus sematic types), the difference here is that you're only considering the aliases from the UMLS KB, right?\r\n\r\n- I don't think I understand the normalised recall@1 you describe. Doesn't evaluating under a scenario where you throw away spans that didn't include the gold mention (concept) lead to overestimating performance instead of underestimating? I also didn't understand how the approximation through K works, and where the accuracy comes from.\r\n\r\nThanks once again, this is great!\r\nDan","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/510888889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danlou","id":16802508,"node_id":"MDQ6VXNlcjE2ODAyNTA4","avatar_url":"https://avatars.githubusercontent.com/u/16802508?v=4","gravatar_id":"","url":"https://api.github.com/users/danlou","html_url":"https://github.com/danlou","followers_url":"https://api.github.com/users/danlou/followers","following_url":"https://api.github.com/users/danlou/following{/other_user}","gists_url":"https://api.github.com/users/danlou/gists{/gist_id}","starred_url":"https://api.github.com/users/danlou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danlou/subscriptions","organizations_url":"https://api.github.com/users/danlou/orgs","repos_url":"https://api.github.com/users/danlou/repos","events_url":"https://api.github.com/users/danlou/events{/privacy}","received_events_url":"https://api.github.com/users/danlou/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/511104016","html_url":"https://github.com/allenai/scispacy/issues/134#issuecomment-511104016","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/134","id":511104016,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEwNDAxNg==","user":{"login":"DeNeutoy","id":16001974,"node_id":"MDQ6VXNlcjE2MDAxOTc0","avatar_url":"https://avatars.githubusercontent.com/u/16001974?v=4","gravatar_id":"","url":"https://api.github.com/users/DeNeutoy","html_url":"https://github.com/DeNeutoy","followers_url":"https://api.github.com/users/DeNeutoy/followers","following_url":"https://api.github.com/users/DeNeutoy/following{/other_user}","gists_url":"https://api.github.com/users/DeNeutoy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeNeutoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeNeutoy/subscriptions","organizations_url":"https://api.github.com/users/DeNeutoy/orgs","repos_url":"https://api.github.com/users/DeNeutoy/repos","events_url":"https://api.github.com/users/DeNeutoy/events{/privacy}","received_events_url":"https://api.github.com/users/DeNeutoy/received_events","type":"User","site_admin":false},"created_at":"2019-07-13T08:53:09Z","updated_at":"2019-07-13T08:53:09Z","author_association":"COLLABORATOR","body":"No problem!\r\n\r\nIn answer to your questions:\r\n\r\n1. Right, the concept annotations are not used because we only are looking at string similarity to aliases from the kb.\r\n\r\n2. Yes this is a bit complicated. It basically comes down to the following:\r\n\r\nThere are 3 things we want to evaluate when doing end to end linking: 1) mention detection, 2) candidate generation and 3) choosing the right candidate. It's clear how to ablate the mention detection - just use gold mentions. To do the same thing with respect to the candidate selection part, you can say \"for the mentions for which the top K contains the gold concept (i.e we did the generation step successfully), what is my accuracy with respect to this subset?\". This separates out performance between the generation step and the selection step. The reason I then took the recall@1/recall@k is that the linker is currently only based on string similarity, so to get a single output you just take the one with the highest score. The reason that this is not quite accurate is that it is possible that the datapoints that you remove for a given K are \"hard\" in some sense, and the accuracy over this subset for top 1 is actually higher than over the whole dataset (this is likely to be the case), which is why this number is a lower bound of the normalized accuracy. \r\n\r\nI am currently working on some integration stuff with `allennlp` (see https://github.com/allenai/allennlp/pull/3040) to make it easier to hook in more complicated models, and I also want to try the entity linker from spacy too.\r\n\r\n\r\nI've just re-read the medmentions paper and it seems like they added much more detail about the st21pv subset - previously when I'd read it I thought it was much more specific to IR. I think possibly we should switch over to this subset as it sounds more likely to reflect what people actually want out of an entity linker.\r\n\r\nIt seems like some useful evaluations would be the following:\r\n\r\n- P/R/F1 on the st21pv subset with gold mentions\r\n- mention detection P/R/F1 on the st21pv subset\r\n\r\nIt would also be helpful to know the coverage of our kb on this subset as well as what % of annotated concepts in this subset have definitions. I will try to work on these things over the next couple of weeks. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/511104016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DeNeutoy","id":16001974,"node_id":"MDQ6VXNlcjE2MDAxOTc0","avatar_url":"https://avatars.githubusercontent.com/u/16001974?v=4","gravatar_id":"","url":"https://api.github.com/users/DeNeutoy","html_url":"https://github.com/DeNeutoy","followers_url":"https://api.github.com/users/DeNeutoy/followers","following_url":"https://api.github.com/users/DeNeutoy/following{/other_user}","gists_url":"https://api.github.com/users/DeNeutoy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeNeutoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeNeutoy/subscriptions","organizations_url":"https://api.github.com/users/DeNeutoy/orgs","repos_url":"https://api.github.com/users/DeNeutoy/repos","events_url":"https://api.github.com/users/DeNeutoy/events{/privacy}","received_events_url":"https://api.github.com/users/DeNeutoy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/511106229","html_url":"https://github.com/allenai/scispacy/issues/134#issuecomment-511106229","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/134","id":511106229,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEwNjIyOQ==","user":{"login":"DeNeutoy","id":16001974,"node_id":"MDQ6VXNlcjE2MDAxOTc0","avatar_url":"https://avatars.githubusercontent.com/u/16001974?v=4","gravatar_id":"","url":"https://api.github.com/users/DeNeutoy","html_url":"https://github.com/DeNeutoy","followers_url":"https://api.github.com/users/DeNeutoy/followers","following_url":"https://api.github.com/users/DeNeutoy/following{/other_user}","gists_url":"https://api.github.com/users/DeNeutoy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeNeutoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeNeutoy/subscriptions","organizations_url":"https://api.github.com/users/DeNeutoy/orgs","repos_url":"https://api.github.com/users/DeNeutoy/repos","events_url":"https://api.github.com/users/DeNeutoy/events{/privacy}","received_events_url":"https://api.github.com/users/DeNeutoy/received_events","type":"User","site_admin":false},"created_at":"2019-07-13T09:19:55Z","updated_at":"2019-07-13T09:19:55Z","author_association":"COLLABORATOR","body":"Ok, i'm training a mention detector now. It should be done soon, that will give a good first indication about whether removing the other types makes everything easier. The other stuff (with the kb) might take a bit longer, but i'll update this thread as I go.","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/511106229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DeNeutoy","id":16001974,"node_id":"MDQ6VXNlcjE2MDAxOTc0","avatar_url":"https://avatars.githubusercontent.com/u/16001974?v=4","gravatar_id":"","url":"https://api.github.com/users/DeNeutoy","html_url":"https://github.com/DeNeutoy","followers_url":"https://api.github.com/users/DeNeutoy/followers","following_url":"https://api.github.com/users/DeNeutoy/following{/other_user}","gists_url":"https://api.github.com/users/DeNeutoy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeNeutoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeNeutoy/subscriptions","organizations_url":"https://api.github.com/users/DeNeutoy/orgs","repos_url":"https://api.github.com/users/DeNeutoy/repos","events_url":"https://api.github.com/users/DeNeutoy/events{/privacy}","received_events_url":"https://api.github.com/users/DeNeutoy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/511786417","html_url":"https://github.com/allenai/scispacy/issues/134#issuecomment-511786417","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/134","id":511786417,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTc4NjQxNw==","user":{"login":"danlou","id":16802508,"node_id":"MDQ6VXNlcjE2ODAyNTA4","avatar_url":"https://avatars.githubusercontent.com/u/16802508?v=4","gravatar_id":"","url":"https://api.github.com/users/danlou","html_url":"https://github.com/danlou","followers_url":"https://api.github.com/users/danlou/followers","following_url":"https://api.github.com/users/danlou/following{/other_user}","gists_url":"https://api.github.com/users/danlou/gists{/gist_id}","starred_url":"https://api.github.com/users/danlou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danlou/subscriptions","organizations_url":"https://api.github.com/users/danlou/orgs","repos_url":"https://api.github.com/users/danlou/repos","events_url":"https://api.github.com/users/danlou/events{/privacy}","received_events_url":"https://api.github.com/users/danlou/received_events","type":"User","site_admin":false},"created_at":"2019-07-16T12:01:28Z","updated_at":"2019-07-16T12:01:28Z","author_association":"NONE","body":"Hi Mark,\r\n\r\nThanks for keeping on providing more details.\r\nWe're going to be working on this over the next couple of weeks (with some breaks though), so I think I can help with those evaluations (we should need them too).\r\n\r\nI've started experimenting with scibert, converting MedMentions to conll format and training a mention detector with it's default NER model, and I'm seeing a significant improvement on F1 (\"test_f1-measure-overall\": 0.7646). Still need to confirm a few things though (e.g. https://github.com/allenai/scibert/issues/50).\r\n\r\nI'll let you know more as I make progress too. Still not sure if I'm more interested in the full data or st21pv, but am interested to know your results on st21pv in any case.\r\n\r\nThanks","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/511786417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danlou","id":16802508,"node_id":"MDQ6VXNlcjE2ODAyNTA4","avatar_url":"https://avatars.githubusercontent.com/u/16802508?v=4","gravatar_id":"","url":"https://api.github.com/users/danlou","html_url":"https://github.com/danlou","followers_url":"https://api.github.com/users/danlou/followers","following_url":"https://api.github.com/users/danlou/following{/other_user}","gists_url":"https://api.github.com/users/danlou/gists{/gist_id}","starred_url":"https://api.github.com/users/danlou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danlou/subscriptions","organizations_url":"https://api.github.com/users/danlou/orgs","repos_url":"https://api.github.com/users/danlou/repos","events_url":"https://api.github.com/users/danlou/events{/privacy}","received_events_url":"https://api.github.com/users/danlou/received_events","type":"User","site_admin":false}},{"actor":{"login":"izuna385","id":35322641,"node_id":"MDQ6VXNlcjM1MzIyNjQx","avatar_url":"https://avatars.githubusercontent.com/u/35322641?v=4","gravatar_id":"","url":"https://api.github.com/users/izuna385","html_url":"https://github.com/izuna385","followers_url":"https://api.github.com/users/izuna385/followers","following_url":"https://api.github.com/users/izuna385/following{/other_user}","gists_url":"https://api.github.com/users/izuna385/gists{/gist_id}","starred_url":"https://api.github.com/users/izuna385/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/izuna385/subscriptions","organizations_url":"https://api.github.com/users/izuna385/orgs","repos_url":"https://api.github.com/users/izuna385/repos","events_url":"https://api.github.com/users/izuna385/events{/privacy}","received_events_url":"https://api.github.com/users/izuna385/received_events","type":"User","site_admin":false},"created_at":"2020-02-09T07:58:49Z","updated_at":"2020-02-09T07:58:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/allenai/scispacy/issues/191","repository_url":"https://api.github.com/repos/allenai/scispacy","labels_url":"https://api.github.com/repos/allenai/scispacy/issues/191/labels{/name}","comments_url":"https://api.github.com/repos/allenai/scispacy/issues/191/comments","events_url":"https://api.github.com/repos/allenai/scispacy/issues/191/events","html_url":"https://github.com/allenai/scispacy/issues/191","id":556663680,"node_id":"MDU6SXNzdWU1NTY2NjM2ODA=","number":191,"title":"How is concept_aliases.json constructed?","user":{"login":"izuna385","id":35322641,"node_id":"MDQ6VXNlcjM1MzIyNjQx","avatar_url":"https://avatars.githubusercontent.com/u/35322641?v=4","gravatar_id":"","url":"https://api.github.com/users/izuna385","html_url":"https://github.com/izuna385","followers_url":"https://api.github.com/users/izuna385/followers","following_url":"https://api.github.com/users/izuna385/following{/other_user}","gists_url":"https://api.github.com/users/izuna385/gists{/gist_id}","starred_url":"https://api.github.com/users/izuna385/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/izuna385/subscriptions","organizations_url":"https://api.github.com/users/izuna385/orgs","repos_url":"https://api.github.com/users/izuna385/repos","events_url":"https://api.github.com/users/izuna385/events{/privacy}","received_events_url":"https://api.github.com/users/izuna385/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-01-29T06:24:38Z","updated_at":"2020-02-17T17:43:54Z","closed_at":"2020-02-17T17:43:54Z","author_association":"NONE","active_lock_reason":null,"repository":{"id":150172473,"node_id":"MDEwOlJlcG9zaXRvcnkxNTAxNzI0NzM=","name":"scispacy","full_name":"allenai/scispacy","private":false,"owner":{"login":"allenai","id":5667695,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2Njc2OTU=","avatar_url":"https://avatars.githubusercontent.com/u/5667695?v=4","gravatar_id":"","url":"https://api.github.com/users/allenai","html_url":"https://github.com/allenai","followers_url":"https://api.github.com/users/allenai/followers","following_url":"https://api.github.com/users/allenai/following{/other_user}","gists_url":"https://api.github.com/users/allenai/gists{/gist_id}","starred_url":"https://api.github.com/users/allenai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allenai/subscriptions","organizations_url":"https://api.github.com/users/allenai/orgs","repos_url":"https://api.github.com/users/allenai/repos","events_url":"https://api.github.com/users/allenai/events{/privacy}","received_events_url":"https://api.github.com/users/allenai/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/allenai/scispacy","description":"A full spaCy pipeline and models for scientific/biomedical documents.","fork":false,"url":"https://api.github.com/repos/allenai/scispacy","forks_url":"https://api.github.com/repos/allenai/scispacy/forks","keys_url":"https://api.github.com/repos/allenai/scispacy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/allenai/scispacy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/allenai/scispacy/teams","hooks_url":"https://api.github.com/repos/allenai/scispacy/hooks","issue_events_url":"https://api.github.com/repos/allenai/scispacy/issues/events{/number}","events_url":"https://api.github.com/repos/allenai/scispacy/events","assignees_url":"https://api.github.com/repos/allenai/scispacy/assignees{/user}","branches_url":"https://api.github.com/repos/allenai/scispacy/branches{/branch}","tags_url":"https://api.github.com/repos/allenai/scispacy/tags","blobs_url":"https://api.github.com/repos/allenai/scispacy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/allenai/scispacy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/allenai/scispacy/git/refs{/sha}","trees_url":"https://api.github.com/repos/allenai/scispacy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/allenai/scispacy/statuses/{sha}","languages_url":"https://api.github.com/repos/allenai/scispacy/languages","stargazers_url":"https://api.github.com/repos/allenai/scispacy/stargazers","contributors_url":"https://api.github.com/repos/allenai/scispacy/contributors","subscribers_url":"https://api.github.com/repos/allenai/scispacy/subscribers","subscription_url":"https://api.github.com/repos/allenai/scispacy/subscription","commits_url":"https://api.github.com/repos/allenai/scispacy/commits{/sha}","git_commits_url":"https://api.github.com/repos/allenai/scispacy/git/commits{/sha}","comments_url":"https://api.github.com/repos/allenai/scispacy/comments{/number}","issue_comment_url":"https://api.github.com/repos/allenai/scispacy/issues/comments{/number}","contents_url":"https://api.github.com/repos/allenai/scispacy/contents/{+path}","compare_url":"https://api.github.com/repos/allenai/scispacy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/allenai/scispacy/merges","archive_url":"https://api.github.com/repos/allenai/scispacy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/allenai/scispacy/downloads","issues_url":"https://api.github.com/repos/allenai/scispacy/issues{/number}","pulls_url":"https://api.github.com/repos/allenai/scispacy/pulls{/number}","milestones_url":"https://api.github.com/repos/allenai/scispacy/milestones{/number}","notifications_url":"https://api.github.com/repos/allenai/scispacy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/allenai/scispacy/labels{/name}","releases_url":"https://api.github.com/repos/allenai/scispacy/releases{/id}","deployments_url":"https://api.github.com/repos/allenai/scispacy/deployments","created_at":"2018-09-24T21:45:52Z","updated_at":"2023-01-18T20:18:10Z","pushed_at":"2022-12-10T17:26:57Z","git_url":"git://github.com/allenai/scispacy.git","ssh_url":"git@github.com:allenai/scispacy.git","clone_url":"https://github.com/allenai/scispacy.git","svn_url":"https://github.com/allenai/scispacy","homepage":"https://allenai.github.io/scispacy/","size":248852,"stargazers_count":1306,"watchers_count":1306,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":180,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":31,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bioinformatics","biomedical","custom-pipes","nlp","scientific-documents","spacy"],"visibility":"public","forks":180,"open_issues":31,"watchers":1306,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"How `concept_aliases.json` is constructed?\r\nhttps://github.com/allenai/scispacy/search?q=\"concept_aliases\"&unscoped_q=\"concept_aliases\"\r\n\r\nBy using this table, I think, if mention is included in this table, mention-entity prior(=similarity) is fixed to 1.0. (If my understanding is incorrect, I'd appreciate if you'd write.)\r\n\r\nCurrently I'm curious about, how this `concept_aliases.json` is constructed?\r\nIt seems that this is actually list, whose length is 4426690, but I can't understand how this list was constructed.\r\nAlso, I supposed that alias table is something like,\r\n```\r\n{'entitiy1':[alias1_1,alias1_2,alias1_3], 'entity2':[alias2_1,alias2_2,...],...}\r\n```\r\nbut `concept_aliases.json` is list. I'd like to know what this list means.\r\n\r\nStill I'm currently reading codes and maybe I missed some codes, which is related to constructing this table.\r\n","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/allenai/scispacy/issues/191/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/650921020","html_url":"https://github.com/allenai/scispacy/issues/134#issuecomment-650921020","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/134","id":650921020,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDkyMTAyMA==","user":{"login":"kingsaint","id":14911999,"node_id":"MDQ6VXNlcjE0OTExOTk5","avatar_url":"https://avatars.githubusercontent.com/u/14911999?v=4","gravatar_id":"","url":"https://api.github.com/users/kingsaint","html_url":"https://github.com/kingsaint","followers_url":"https://api.github.com/users/kingsaint/followers","following_url":"https://api.github.com/users/kingsaint/following{/other_user}","gists_url":"https://api.github.com/users/kingsaint/gists{/gist_id}","starred_url":"https://api.github.com/users/kingsaint/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingsaint/subscriptions","organizations_url":"https://api.github.com/users/kingsaint/orgs","repos_url":"https://api.github.com/users/kingsaint/repos","events_url":"https://api.github.com/users/kingsaint/events{/privacy}","received_events_url":"https://api.github.com/users/kingsaint/received_events","type":"User","site_admin":false},"created_at":"2020-06-29T05:41:17Z","updated_at":"2020-06-29T05:41:17Z","author_association":"NONE","body":"> Hi Dan,\r\n> \r\n> Thanks - are you specifically interested in the performance when combined with the mention span detector (i.e using predicted mention spans and not gold mention spans)?\r\n> \r\n> Yes, the 69.26 F1 is the span detection F1 for the latest en_core_sci_md/sm (I can't actually remember which one, but they are essentially the same). However, this does not include performance when considering the semantic types predicted by the model, because we don't actually use those at all yet in the linker.\r\n> \r\n> You are correct that the st21pv is not used at all.\r\n> \r\n> Wow I did not know that TaggerOne requires 1TB RAM ðŸ˜­ ðŸ˜­ ðŸ˜­\r\n> \r\n> I've added some statistics below based on our development version of the linker, which was not integrated into the library. As such there may be small differences in numbers:\r\n> \r\n> #### Document level scores\r\n> This evaluation is at the _document level_, based on the \"bag of entities\" in an abstract. I.e we are measuring the recall of gold concepts in the aggregated list of all mention candidates in the document. This is meaningful because quite often, we actually care about document level metrics (search, displaying in a UI) in practice. Additionally, it helps with the abbreviation problem, because quite often a mention will be defined in full and then used as an abbreviation.\r\n> \r\n> _Base Configuration_\r\n> \r\n> * No abbreviation substitution\r\n> * Mentions generated based on `en_core_web_md`\r\n> \r\n> K\tBase\t+Noun Chunks\tGold Mentions\r\n> 1\t57.34\t60.41\t72.35\r\n> 2\t62.6\t65.96\t78.52\r\n> 10\t71.73\t75.83\t86.33\r\n> 40\t78.22\t82.3\t91.13\r\n> 60\t79.85\t83.91\t92.31\r\n> 80\t80.65\t84.66\t92.79\r\n> 100\t81.17\t85.19\t93.13\r\n> #### Soft Matching Mention level scores\r\n> * No abbreviation substitution\r\n> * Mentions generated based on `en_core_web_md`\r\n> * predicted mentions are compared based on a \"soft overlap\", meaning that we take it to be a match with any gold mention with which it overlaps at all.\r\n> \r\n> K\tRecall@K\r\n> 1\t49.36\r\n> 2\t54.27\r\n> 10\t62.64\r\n> 40\t68.62\r\n> 60\t70.09\r\n> 80\t70.91\r\n> 100\t71.49\r\n> Finally, it's also helpful to measure _normalised_ recall@1, where we consider only results for which the gold mention is present in the generated candidates for a given K. You can get an approximation of this just by dividing K=1/K=N (this is not quite accurate as it's possible that when we throw away entities which we can't generate candidates for, the set that is left is easier overall, so this is a slight underestimate probably). E.g normalised soft matching with predicted mentions and K=80 == 69.6% Accuracy.\r\n> \r\n> Hopefully those numbers are useful for understanding the performance!\r\n> \r\n> There are many pitfalls when evaluating EL systems, it's really pretty annoying. P,R and F1 really don't give you enough of an idea of how the system is performing as a whole. Let me know if you need to know anything specific about it!\r\n> \r\n> Mark\r\n\r\nSuppose I have the gold mentions available from Oracle. How can I provide the gold mentions to the entity linking model during inference? In other words, is there a way to avoid mention detection?","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/650921020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kingsaint","id":14911999,"node_id":"MDQ6VXNlcjE0OTExOTk5","avatar_url":"https://avatars.githubusercontent.com/u/14911999?v=4","gravatar_id":"","url":"https://api.github.com/users/kingsaint","html_url":"https://github.com/kingsaint","followers_url":"https://api.github.com/users/kingsaint/followers","following_url":"https://api.github.com/users/kingsaint/following{/other_user}","gists_url":"https://api.github.com/users/kingsaint/gists{/gist_id}","starred_url":"https://api.github.com/users/kingsaint/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingsaint/subscriptions","organizations_url":"https://api.github.com/users/kingsaint/orgs","repos_url":"https://api.github.com/users/kingsaint/repos","events_url":"https://api.github.com/users/kingsaint/events{/privacy}","received_events_url":"https://api.github.com/users/kingsaint/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/651156657","html_url":"https://github.com/allenai/scispacy/issues/134#issuecomment-651156657","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/134","id":651156657,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTE1NjY1Nw==","user":{"login":"danlou","id":16802508,"node_id":"MDQ6VXNlcjE2ODAyNTA4","avatar_url":"https://avatars.githubusercontent.com/u/16802508?v=4","gravatar_id":"","url":"https://api.github.com/users/danlou","html_url":"https://github.com/danlou","followers_url":"https://api.github.com/users/danlou/followers","following_url":"https://api.github.com/users/danlou/following{/other_user}","gists_url":"https://api.github.com/users/danlou/gists{/gist_id}","starred_url":"https://api.github.com/users/danlou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danlou/subscriptions","organizations_url":"https://api.github.com/users/danlou/orgs","repos_url":"https://api.github.com/users/danlou/repos","events_url":"https://api.github.com/users/danlou/events{/privacy}","received_events_url":"https://api.github.com/users/danlou/received_events","type":"User","site_admin":false},"created_at":"2020-06-29T14:25:31Z","updated_at":"2020-06-29T14:25:31Z","author_association":"NONE","body":"FYI, I've since explored this further on a short paper at ECIR. The (preliminary) code is available [here](https://github.com/danlou/MedLinker).\r\n\r\nThe MedLinker codebase is quite modular, and allows for providing gold mentions. It was used to produce results with gold mentions when writing the paper. The [predict()](https://github.com/danlou/MedLinker/blob/master/medlinker.py#L112) method in the MedLinker class accepts gold spans as a parameter.\r\n\r\nThere's little to no documentation/testing for that project though, and I haven't worked on that project for some time...\r\n\r\nIt's also possible that there's this functionality in scispacy, in which case you're probably better off relying on that.","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/651156657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danlou","id":16802508,"node_id":"MDQ6VXNlcjE2ODAyNTA4","avatar_url":"https://avatars.githubusercontent.com/u/16802508?v=4","gravatar_id":"","url":"https://api.github.com/users/danlou","html_url":"https://github.com/danlou","followers_url":"https://api.github.com/users/danlou/followers","following_url":"https://api.github.com/users/danlou/following{/other_user}","gists_url":"https://api.github.com/users/danlou/gists{/gist_id}","starred_url":"https://api.github.com/users/danlou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danlou/subscriptions","organizations_url":"https://api.github.com/users/danlou/orgs","repos_url":"https://api.github.com/users/danlou/repos","events_url":"https://api.github.com/users/danlou/events{/privacy}","received_events_url":"https://api.github.com/users/danlou/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/652769043","html_url":"https://github.com/allenai/scispacy/issues/134#issuecomment-652769043","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/134","id":652769043,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mjc2OTA0Mw==","user":{"login":"kingsaint","id":14911999,"node_id":"MDQ6VXNlcjE0OTExOTk5","avatar_url":"https://avatars.githubusercontent.com/u/14911999?v=4","gravatar_id":"","url":"https://api.github.com/users/kingsaint","html_url":"https://github.com/kingsaint","followers_url":"https://api.github.com/users/kingsaint/followers","following_url":"https://api.github.com/users/kingsaint/following{/other_user}","gists_url":"https://api.github.com/users/kingsaint/gists{/gist_id}","starred_url":"https://api.github.com/users/kingsaint/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingsaint/subscriptions","organizations_url":"https://api.github.com/users/kingsaint/orgs","repos_url":"https://api.github.com/users/kingsaint/repos","events_url":"https://api.github.com/users/kingsaint/events{/privacy}","received_events_url":"https://api.github.com/users/kingsaint/received_events","type":"User","site_admin":false},"created_at":"2020-07-02T04:04:51Z","updated_at":"2020-07-02T04:04:51Z","author_association":"NONE","body":"> FYI, I've since explored this further on a short paper at ECIR. The (preliminary) code is available [here](https://github.com/danlou/MedLinker).\r\n> \r\n> The MedLinker codebase is quite modular, and allows for providing gold mentions. It was used to produce results with gold mentions when writing the paper. The [predict()](https://github.com/danlou/MedLinker/blob/master/medlinker.py#L112) method in the MedLinker class accepts gold spans as a parameter.\r\n> \r\n> There's little to no documentation/testing for that project though, and I haven't worked on that project for some time...\r\n> \r\n> It's also possible that there's this functionality in scispacy, in which case you're probably better off relying on that.\r\n\r\nThanks, Dan! This is super helpful.","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/652769043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kingsaint","id":14911999,"node_id":"MDQ6VXNlcjE0OTExOTk5","avatar_url":"https://avatars.githubusercontent.com/u/14911999?v=4","gravatar_id":"","url":"https://api.github.com/users/kingsaint","html_url":"https://github.com/kingsaint","followers_url":"https://api.github.com/users/kingsaint/followers","following_url":"https://api.github.com/users/kingsaint/following{/other_user}","gists_url":"https://api.github.com/users/kingsaint/gists{/gist_id}","starred_url":"https://api.github.com/users/kingsaint/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingsaint/subscriptions","organizations_url":"https://api.github.com/users/kingsaint/orgs","repos_url":"https://api.github.com/users/kingsaint/repos","events_url":"https://api.github.com/users/kingsaint/events{/privacy}","received_events_url":"https://api.github.com/users/kingsaint/received_events","type":"User","site_admin":false}},{"id":6226732164,"node_id":"CE_lADOCPNzOc4byotmzwAAAAFzJGSE","url":"https://api.github.com/repos/allenai/scispacy/issues/events/6226732164","actor":{"login":"DeNeutoy","id":16001974,"node_id":"MDQ6VXNlcjE2MDAxOTc0","avatar_url":"https://avatars.githubusercontent.com/u/16001974?v=4","gravatar_id":"","url":"https://api.github.com/users/DeNeutoy","html_url":"https://github.com/DeNeutoy","followers_url":"https://api.github.com/users/DeNeutoy/followers","following_url":"https://api.github.com/users/DeNeutoy/following{/other_user}","gists_url":"https://api.github.com/users/DeNeutoy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeNeutoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeNeutoy/subscriptions","organizations_url":"https://api.github.com/users/DeNeutoy/orgs","repos_url":"https://api.github.com/users/DeNeutoy/repos","events_url":"https://api.github.com/users/DeNeutoy/events{/privacy}","received_events_url":"https://api.github.com/users/DeNeutoy/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-03-11T18:26:58Z","state_reason":null,"performed_via_github_app":null}]