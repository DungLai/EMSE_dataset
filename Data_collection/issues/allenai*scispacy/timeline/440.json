[{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1186285631","html_url":"https://github.com/allenai/scispacy/issues/440#issuecomment-1186285631","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/440","id":1186285631,"node_id":"IC_kwDOCPNzOc5GtUg_","user":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"created_at":"2022-07-16T20:32:29Z","updated_at":"2022-07-16T20:32:29Z","author_association":"COLLABORATOR","body":"Can you try adding a `from scispacy.base_project_code import *` to the top of your file?","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1186285631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1187676947","html_url":"https://github.com/allenai/scispacy/issues/440#issuecomment-1187676947","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/440","id":1187676947,"node_id":"IC_kwDOCPNzOc5GyoMT","user":{"login":"Hammad-NobleAI","id":108357284,"node_id":"U_kgDOBnVmpA","avatar_url":"https://avatars.githubusercontent.com/u/108357284?v=4","gravatar_id":"","url":"https://api.github.com/users/Hammad-NobleAI","html_url":"https://github.com/Hammad-NobleAI","followers_url":"https://api.github.com/users/Hammad-NobleAI/followers","following_url":"https://api.github.com/users/Hammad-NobleAI/following{/other_user}","gists_url":"https://api.github.com/users/Hammad-NobleAI/gists{/gist_id}","starred_url":"https://api.github.com/users/Hammad-NobleAI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hammad-NobleAI/subscriptions","organizations_url":"https://api.github.com/users/Hammad-NobleAI/orgs","repos_url":"https://api.github.com/users/Hammad-NobleAI/repos","events_url":"https://api.github.com/users/Hammad-NobleAI/events{/privacy}","received_events_url":"https://api.github.com/users/Hammad-NobleAI/received_events","type":"User","site_admin":false},"created_at":"2022-07-18T15:58:32Z","updated_at":"2022-07-18T15:58:32Z","author_association":"NONE","body":"Thanks for getting back to me. I tried that, and it seems to have got beyond that issue now, but has led into this:\r\n\r\n```\r\nFile ~/.pyenv/versions/3.10.5/envs/el-demo/lib/python3.10/site-packages/spacy/language.py:1249, in Language.begin_training(self, get_examples, sgd)\r\n   1242 def begin_training(\r\n   1243     self,\r\n   1244     get_examples: Optional[Callable[[], Iterable[Example]]] = None,\r\n   1245     *,\r\n   1246     sgd: Optional[Optimizer] = None,\r\n   1247 ) -> Optimizer:\r\n   1248     warnings.warn(Warnings.W089, DeprecationWarning)\r\n-> 1249     return self.initialize(get_examples, sgd=sgd)\r\n\r\nFile ~/.pyenv/versions/3.10.5/envs/el-demo/lib/python3.10/site-packages/spacy/language.py:1286, in Language.initialize(self, get_examples, sgd)\r\n   1284     before_init(self)\r\n   1285 try:\r\n-> 1286     init_vocab(\r\n   1287         self, data=I[\"vocab_data\"], lookups=I[\"lookups\"], vectors=I[\"vectors\"]\r\n   1288     )\r\n...\r\n     23 if require_exists and not location.exists():\r\n---> 24     raise ValueError(f\"Can't read file: {location}\")\r\n     25 return location\r\n\r\nValueError: Can't read file: project_data/vocab_lg.jsonl\r\n```","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1187676947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hammad-NobleAI","id":108357284,"node_id":"U_kgDOBnVmpA","avatar_url":"https://avatars.githubusercontent.com/u/108357284?v=4","gravatar_id":"","url":"https://api.github.com/users/Hammad-NobleAI","html_url":"https://github.com/Hammad-NobleAI","followers_url":"https://api.github.com/users/Hammad-NobleAI/followers","following_url":"https://api.github.com/users/Hammad-NobleAI/following{/other_user}","gists_url":"https://api.github.com/users/Hammad-NobleAI/gists{/gist_id}","starred_url":"https://api.github.com/users/Hammad-NobleAI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hammad-NobleAI/subscriptions","organizations_url":"https://api.github.com/users/Hammad-NobleAI/orgs","repos_url":"https://api.github.com/users/Hammad-NobleAI/repos","events_url":"https://api.github.com/users/Hammad-NobleAI/events{/privacy}","received_events_url":"https://api.github.com/users/Hammad-NobleAI/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1187982220","html_url":"https://github.com/allenai/scispacy/issues/440#issuecomment-1187982220","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/440","id":1187982220,"node_id":"IC_kwDOCPNzOc5GzyuM","user":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"created_at":"2022-07-18T18:03:23Z","updated_at":"2022-07-18T18:08:42Z","author_association":"COLLABORATOR","body":"Ok, I think you are working from an outdated example, because the `begin_training` function is deprecated (https://spacy.io/api/language#initialize). If you want to write your own training loop, you will probably need to look deeper into how spacy does it in the train CLI. That being said, you should probably use their config system and CLI for training as much as possible. Check out `project.yml` and the configs here https://github.com/explosion/projects/tree/v3/tutorials/nel_emerson. All that being said, I think this is also a question about spacy, not scispacy, as I think you will get similar errors if you run your script using `en_core_web_md`, so further questions are probably better directed to the spacy folks. Feel free to reopen if it ends up being scispacy specific.","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1187982220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false}},{"id":7014267525,"node_id":"CE_lADOCPNzOc5NziHJzwAAAAGiFTqF","url":"https://api.github.com/repos/allenai/scispacy/issues/events/7014267525","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-07-18T18:03:23Z","state_reason":null,"performed_via_github_app":null},{"id":7014309032,"node_id":"REE_lADOCPNzOc5NziHJzwAAAAGiFdyo","url":"https://api.github.com/repos/allenai/scispacy/issues/events/7014309032","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2022-07-18T18:09:34Z","state_reason":"reopened","performed_via_github_app":null},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1188008649","html_url":"https://github.com/allenai/scispacy/issues/440#issuecomment-1188008649","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/440","id":1188008649,"node_id":"IC_kwDOCPNzOc5Gz5LJ","user":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"created_at":"2022-07-18T18:10:09Z","updated_at":"2022-07-18T18:10:09Z","author_association":"COLLABORATOR","body":"Edit: looks like the base spacy models don't have this issue, so it is something more specific. I think it might still be a question for the spacy folks, but first you should try using the config system and CLI.","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1188008649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1188073416","html_url":"https://github.com/allenai/scispacy/issues/440#issuecomment-1188073416","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/440","id":1188073416,"node_id":"IC_kwDOCPNzOc5G0I_I","user":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"created_at":"2022-07-18T18:30:38Z","updated_at":"2022-07-18T18:30:38Z","author_association":"COLLABORATOR","body":"If it turns out you do just need that vocab file to continue, you can probably recreate it from the `en_core_sci_lg` model somehow, but you can definitely also just create it the same way that we do. See the `convert-lg` command in our `project.yml`.","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1188073416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false}},{"id":7335035298,"node_id":"LE_lADOCPNzOc5NziHJzwAAAAG1M8Gi","url":"https://api.github.com/repos/allenai/scispacy/issues/events/7335035298","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-07T02:59:09Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1248944548","html_url":"https://github.com/allenai/scispacy/issues/440#issuecomment-1248944548","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/440","id":1248944548,"node_id":"IC_kwDOCPNzOc5KcWGk","user":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"created_at":"2022-09-16T05:49:14Z","updated_at":"2022-09-16T05:49:14Z","author_association":"COLLABORATOR","body":"see #450 for a workaround","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1248944548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false}},{"id":7400231094,"node_id":"RTE_lADOCPNzOc5NziHJzwAAAAG5FpC2","url":"https://api.github.com/repos/allenai/scispacy/issues/events/7400231094","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2022-09-16T05:49:47Z","rename":{"from":"Training custom EL through Spacy's default approach","to":"Training scispacy pipelines require recreating the vocab file"},"performed_via_github_app":null}]