[{"id":5954564609,"node_id":"RTE_lADOCPNzOc5CcIrozwAAAAFi63IB","url":"https://api.github.com/repos/allenai/scispacy/issues/events/5954564609","actor":{"login":"davidshumway","id":3892695,"node_id":"MDQ6VXNlcjM4OTI2OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3892695?v=4","gravatar_id":"","url":"https://api.github.com/users/davidshumway","html_url":"https://github.com/davidshumway","followers_url":"https://api.github.com/users/davidshumway/followers","following_url":"https://api.github.com/users/davidshumway/following{/other_user}","gists_url":"https://api.github.com/users/davidshumway/gists{/gist_id}","starred_url":"https://api.github.com/users/davidshumway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidshumway/subscriptions","organizations_url":"https://api.github.com/users/davidshumway/orgs","repos_url":"https://api.github.com/users/davidshumway/repos","events_url":"https://api.github.com/users/davidshumway/events{/privacy}","received_events_url":"https://api.github.com/users/davidshumway/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2022-01-26T06:22:13Z","rename":{"from":"Enhancement: Provide option to modify cache folder entity linker knowledge base downloads","to":"Enhancement: Provide option to modify cache folder for entity linker knowledge base downloads"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1021913868","html_url":"https://github.com/allenai/scispacy/issues/415#issuecomment-1021913868","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/415","id":1021913868,"node_id":"IC_kwDOCPNzOc486SsM","user":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"created_at":"2022-01-26T06:44:17Z","updated_at":"2022-01-26T06:44:17Z","author_association":"COLLABORATOR","body":"I think you actually can do this, although admittedly I have not tried it. Can you try setting the `SCISPACY_CACHE` environment variable (used on this line https://github.com/allenai/scispacy/blob/3d153ddad1f11f000f961f7a92c0d862b93c0973/scispacy/file_cache.py#L16) to whatever folder you want to use, before importing the library?","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1021913868/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1023716940","html_url":"https://github.com/allenai/scispacy/issues/415#issuecomment-1023716940","issue_url":"https://api.github.com/repos/allenai/scispacy/issues/415","id":1023716940,"node_id":"IC_kwDOCPNzOc49BK5M","user":{"login":"davidshumway","id":3892695,"node_id":"MDQ6VXNlcjM4OTI2OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3892695?v=4","gravatar_id":"","url":"https://api.github.com/users/davidshumway","html_url":"https://github.com/davidshumway","followers_url":"https://api.github.com/users/davidshumway/followers","following_url":"https://api.github.com/users/davidshumway/following{/other_user}","gists_url":"https://api.github.com/users/davidshumway/gists{/gist_id}","starred_url":"https://api.github.com/users/davidshumway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidshumway/subscriptions","organizations_url":"https://api.github.com/users/davidshumway/orgs","repos_url":"https://api.github.com/users/davidshumway/repos","events_url":"https://api.github.com/users/davidshumway/events{/privacy}","received_events_url":"https://api.github.com/users/davidshumway/received_events","type":"User","site_admin":false},"created_at":"2022-01-27T22:56:42Z","updated_at":"2022-01-27T22:56:42Z","author_association":"NONE","body":"Makes sense.\r\n\r\nSo it seems to pretty much be working with a bit of a workaround.\r\n\r\nThe files are initially cached to `/root/.scispacy/datasets/`.\r\n\r\nAfter caching, move the cache folder to a permanent folder on Google drive:\r\n\r\n```python\r\n!mv /root/.scispacy/ /content/gdrive/MyDrive/test/\r\n!ls /content/gdrive/MyDrive/test/.scispacy/\r\n>>> datasets\r\n```\r\n\r\nTo update the environment variable, as described:\r\n\r\n```python\r\nimport os\r\nos.environ['SCISPACY_CACHE'] = '/content/gdrive/MyDrive/test/.scispacy/'\r\n```\r\n\r\nHowever, this alone does not find the cached files. It will re-download the files again. In order to see the new environment variable, it's necessary to restart the runtime: `Runtime->Restart runtime`.\r\n\r\nNow when running the entity linker, it will see the _permanently_ cached files.\r\n\r\nSo is an enhancement necessary? It'd definitely be easier and more foolproof to simply add a parameter such as `cache_folder` to the `nlp.add_pipe()` method. For example:\r\n\r\n```python\r\nnlp.add_pipe(\r\n  \"scispacy_linker\",\r\n  config={\r\n    \"resolve_abbreviations\": True,\r\n    \"linker_name\": \"umls\",\r\n    \"cache_folder\": \"/content/gdrive/MyDrive/test/\"})\r\n```\r\n\r\nwhich would then be used to look for a subfolder `.scispacy`, i.e. `/content/gdrive/MyDrive/test/.scispacy/` in this case.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/allenai/scispacy/issues/comments/1023716940/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"davidshumway","id":3892695,"node_id":"MDQ6VXNlcjM4OTI2OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3892695?v=4","gravatar_id":"","url":"https://api.github.com/users/davidshumway","html_url":"https://github.com/davidshumway","followers_url":"https://api.github.com/users/davidshumway/followers","following_url":"https://api.github.com/users/davidshumway/following{/other_user}","gists_url":"https://api.github.com/users/davidshumway/gists{/gist_id}","starred_url":"https://api.github.com/users/davidshumway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidshumway/subscriptions","organizations_url":"https://api.github.com/users/davidshumway/orgs","repos_url":"https://api.github.com/users/davidshumway/repos","events_url":"https://api.github.com/users/davidshumway/events{/privacy}","received_events_url":"https://api.github.com/users/davidshumway/received_events","type":"User","site_admin":false}},{"id":5999347364,"node_id":"LE_lADOCPNzOc5CcIrozwAAAAFllsak","url":"https://api.github.com/repos/allenai/scispacy/issues/events/5999347364","actor":{"login":"dakinggg","id":43149077,"node_id":"MDQ6VXNlcjQzMTQ5MDc3","avatar_url":"https://avatars.githubusercontent.com/u/43149077?v=4","gravatar_id":"","url":"https://api.github.com/users/dakinggg","html_url":"https://github.com/dakinggg","followers_url":"https://api.github.com/users/dakinggg/followers","following_url":"https://api.github.com/users/dakinggg/following{/other_user}","gists_url":"https://api.github.com/users/dakinggg/gists{/gist_id}","starred_url":"https://api.github.com/users/dakinggg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakinggg/subscriptions","organizations_url":"https://api.github.com/users/dakinggg/orgs","repos_url":"https://api.github.com/users/dakinggg/repos","events_url":"https://api.github.com/users/dakinggg/events{/privacy}","received_events_url":"https://api.github.com/users/dakinggg/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-02-02T23:53:14Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null}]