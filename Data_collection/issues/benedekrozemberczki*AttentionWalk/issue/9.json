{"url":"https://api.github.com/repos/benedekrozemberczki/AttentionWalk/issues/9","repository_url":"https://api.github.com/repos/benedekrozemberczki/AttentionWalk","labels_url":"https://api.github.com/repos/benedekrozemberczki/AttentionWalk/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/benedekrozemberczki/AttentionWalk/issues/9/comments","events_url":"https://api.github.com/repos/benedekrozemberczki/AttentionWalk/issues/9/events","html_url":"https://github.com/benedekrozemberczki/AttentionWalk/issues/9","id":922005904,"node_id":"MDU6SXNzdWU5MjIwMDU5MDQ=","number":9,"title":"miscalculations of normalized adjacency matrix","user":{"login":"neilctwu","id":53163710,"node_id":"MDQ6VXNlcjUzMTYzNzEw","avatar_url":"https://avatars.githubusercontent.com/u/53163710?v=4","gravatar_id":"","url":"https://api.github.com/users/neilctwu","html_url":"https://github.com/neilctwu","followers_url":"https://api.github.com/users/neilctwu/followers","following_url":"https://api.github.com/users/neilctwu/following{/other_user}","gists_url":"https://api.github.com/users/neilctwu/gists{/gist_id}","starred_url":"https://api.github.com/users/neilctwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neilctwu/subscriptions","organizations_url":"https://api.github.com/users/neilctwu/orgs","repos_url":"https://api.github.com/users/neilctwu/repos","events_url":"https://api.github.com/users/neilctwu/events{/privacy}","received_events_url":"https://api.github.com/users/neilctwu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-06-16T02:00:33Z","updated_at":"2021-06-17T12:29:02Z","closed_at":"2021-06-17T12:29:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Thanks for sharing this awesome repo.\r\n\r\nThe issue is I found that `loss_on_target` will become extreme big while training from the original code, and I think is due to the miscalculation of `normalized_adjacency_matrix `.\r\n\r\nFrom your original code, normalized_adjacency_matrix is been calculated by:\r\n```\r\nnormalized_adjacency_matrix = degs.dot(adjacency_matrix)\r\n```\r\nHowever while the matrix hasn't been normalize but simply multiple by degree of nodes.\r\nI think the part of normalized_adjacency_matrix should be modified like its original definition:\r\n```\r\n  normalized_adjacency_matrix = degs.power(-1/2)\\\r\n                                    .dot(adjacency_matrix)\\\r\n                                    .dot(degs.power(-1/2))\r\n```\r\nIt'll turn out to be more reasonable loss shown below:\r\n![image](https://user-images.githubusercontent.com/53163710/122146213-9593c000-ce91-11eb-9498-20a0b4268117.png)\r\n\r\nAm I understand it correctly?","closed_by":{"login":"benedekrozemberczki","id":17380887,"node_id":"MDQ6VXNlcjE3MzgwODg3","avatar_url":"https://avatars.githubusercontent.com/u/17380887?v=4","gravatar_id":"","url":"https://api.github.com/users/benedekrozemberczki","html_url":"https://github.com/benedekrozemberczki","followers_url":"https://api.github.com/users/benedekrozemberczki/followers","following_url":"https://api.github.com/users/benedekrozemberczki/following{/other_user}","gists_url":"https://api.github.com/users/benedekrozemberczki/gists{/gist_id}","starred_url":"https://api.github.com/users/benedekrozemberczki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedekrozemberczki/subscriptions","organizations_url":"https://api.github.com/users/benedekrozemberczki/orgs","repos_url":"https://api.github.com/users/benedekrozemberczki/repos","events_url":"https://api.github.com/users/benedekrozemberczki/events{/privacy}","received_events_url":"https://api.github.com/users/benedekrozemberczki/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/AttentionWalk/issues/9/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/benedekrozemberczki/AttentionWalk/issues/9/timeline","performed_via_github_app":null,"state_reason":"completed"}