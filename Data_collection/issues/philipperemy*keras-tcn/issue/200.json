{"url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/200","repository_url":"https://api.github.com/repos/philipperemy/keras-tcn","labels_url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/200/labels{/name}","comments_url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/200/comments","events_url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/200/events","html_url":"https://github.com/philipperemy/keras-tcn/issues/200","id":853591599,"node_id":"MDU6SXNzdWU4NTM1OTE1OTk=","number":200,"title":"Random Layer Names","user":{"login":"MBSMGW","id":69980389,"node_id":"MDQ6VXNlcjY5OTgwMzg5","avatar_url":"https://avatars.githubusercontent.com/u/69980389?v=4","gravatar_id":"","url":"https://api.github.com/users/MBSMGW","html_url":"https://github.com/MBSMGW","followers_url":"https://api.github.com/users/MBSMGW/followers","following_url":"https://api.github.com/users/MBSMGW/following{/other_user}","gists_url":"https://api.github.com/users/MBSMGW/gists{/gist_id}","starred_url":"https://api.github.com/users/MBSMGW/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MBSMGW/subscriptions","organizations_url":"https://api.github.com/users/MBSMGW/orgs","repos_url":"https://api.github.com/users/MBSMGW/repos","events_url":"https://api.github.com/users/MBSMGW/events{/privacy}","received_events_url":"https://api.github.com/users/MBSMGW/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-08T15:26:35Z","updated_at":"2021-04-28T07:03:32Z","closed_at":"2021-04-28T07:03:32Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nWhen using the tcn_full_summary() to output the model arrangement, all of the numberings are either out of order or random. If the numbers were all ascending maybe i wouldn't have batted an eyelid, but i just can not find anything to explain why the numbers are jumbled. \r\n\r\nSee for example below, the names of the activation layers, moving from input to output:\r\nactivation_3 (Activation)3\r\nactivation (Activation)0\r\n1\r\n2\r\n7\r\n4\r\n5\r\n6\r\n11\r\n8\r\n9\r\n10\r\n15\r\n12\r\n13\r\n14\r\n19\r\n16\r\n17\r\n18\r\n23\r\n20\r\n21\r\n22\r\n27\r\n24\r\n25\r\n26\r\n31\r\n28\r\n29\r\n30\r\n35\r\n32\r\n33\r\n34\r\n\r\n**Paste a snippet**\r\n```python\r\nmodel=Sequential()\r\nmodel = compiled_tcn(return_sequences=False,\r\n                         num_feat=1,\r\n                         num_classes=10,\r\n                         nb_filters=20,\r\n                         kernel_size=6,\r\n                         dilations=[2 ** i for i in range(9)],\r\n                         nb_stacks=1,\r\n                         max_len=x_train[0:1].shape[1],\r\n                         use_skip_connections=True)\r\n\r\ntcn_full_summary(model, expand_residual_blocks=True)\r\n```\r\nReturns the following:\r\n```\r\nModel: \"model\"\r\n_________________________________________________________________\r\nLayer (type)                 Output Shape              Param #   \r\n=================================================================\r\ninput_1 (InputLayer)         [(None, 784, 1)]          0         \r\n_________________________________________________________________\r\nmatching_conv1D (Conv1D)     multiple                  40        \r\n_________________________________________________________________\r\nactivation_3 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  140       \r\n_________________________________________________________________\r\nactivation (Activation)      multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d (SpatialDr multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_1 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_1 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nactivation_2 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nmatching_identity (Lambda)   (None, 784, 20)           0         \r\n_________________________________________________________________\r\nactivation_7 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_4 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_2 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_5 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_3 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nactivation_6 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nmatching_identity (Lambda)   (None, 784, 20)           0         \r\n_________________________________________________________________\r\nactivation_11 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_8 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_4 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_9 (Activation)    multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_5 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nactivation_10 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nmatching_identity (Lambda)   (None, 784, 20)           0         \r\n_________________________________________________________________\r\nactivation_15 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_12 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_6 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_13 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_7 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nactivation_14 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nmatching_identity (Lambda)   (None, 784, 20)           0         \r\n_________________________________________________________________\r\nactivation_19 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_16 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_8 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_17 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_9 (Spatial multiple                  0         \r\n_________________________________________________________________\r\nactivation_18 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nmatching_identity (Lambda)   (None, 784, 20)           0         \r\n_________________________________________________________________\r\nactivation_23 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_20 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_10 (Spatia multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_21 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_11 (Spatia multiple                  0         \r\n_________________________________________________________________\r\nactivation_22 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nmatching_identity (Lambda)   (None, 784, 20)           0         \r\n_________________________________________________________________\r\nactivation_27 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_24 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_12 (Spatia multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_25 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_13 (Spatia multiple                  0         \r\n_________________________________________________________________\r\nactivation_26 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nmatching_identity (Lambda)   (None, 784, 20)           0         \r\n_________________________________________________________________\r\nactivation_31 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_28 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_14 (Spatia multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_29 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_15 (Spatia multiple                  0         \r\n_________________________________________________________________\r\nactivation_30 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nmatching_identity (Lambda)   (None, 784, 20)           0         \r\n_________________________________________________________________\r\nactivation_35 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nconv1D_0 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_32 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_16 (Spatia multiple                  0         \r\n_________________________________________________________________\r\nconv1D_1 (Conv1D)            multiple                  2420      \r\n_________________________________________________________________\r\nactivation_33 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nspatial_dropout1d_17 (Spatia multiple                  0         \r\n_________________________________________________________________\r\nactivation_34 (Activation)   multiple                  0         \r\n_________________________________________________________________\r\nlambda (Lambda)              multiple                  0         \r\n_________________________________________________________________\r\ndense (Dense)                (None, 10)                210       \r\n_________________________________________________________________\r\nactivation (Activation)      (None, 10)                0         \r\n=================================================================\r\nTotal params: 41,530\r\nTrainable params: 41,530\r\nNon-trainable params: 0\r\n\r\n```\r\n\r\n**Dependencies**\r\nRunning in Jupyter, Python 3.8, Tensorflow 2.4.1, keras-tcn 3.4.0\r\n","closed_by":{"login":"MBSMGW","id":69980389,"node_id":"MDQ6VXNlcjY5OTgwMzg5","avatar_url":"https://avatars.githubusercontent.com/u/69980389?v=4","gravatar_id":"","url":"https://api.github.com/users/MBSMGW","html_url":"https://github.com/MBSMGW","followers_url":"https://api.github.com/users/MBSMGW/followers","following_url":"https://api.github.com/users/MBSMGW/following{/other_user}","gists_url":"https://api.github.com/users/MBSMGW/gists{/gist_id}","starred_url":"https://api.github.com/users/MBSMGW/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MBSMGW/subscriptions","organizations_url":"https://api.github.com/users/MBSMGW/orgs","repos_url":"https://api.github.com/users/MBSMGW/repos","events_url":"https://api.github.com/users/MBSMGW/events{/privacy}","received_events_url":"https://api.github.com/users/MBSMGW/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/200/timeline","performed_via_github_app":null,"state_reason":"completed"}