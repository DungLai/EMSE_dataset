[{"url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/comments/1018531644","html_url":"https://github.com/philipperemy/keras-tcn/issues/223#issuecomment-1018531644","issue_url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/223","id":1018531644,"node_id":"IC_kwDOB4a3hs48tY88","user":{"login":"philipperemy","id":4516927,"node_id":"MDQ6VXNlcjQ1MTY5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4516927?v=4","gravatar_id":"","url":"https://api.github.com/users/philipperemy","html_url":"https://github.com/philipperemy","followers_url":"https://api.github.com/users/philipperemy/followers","following_url":"https://api.github.com/users/philipperemy/following{/other_user}","gists_url":"https://api.github.com/users/philipperemy/gists{/gist_id}","starred_url":"https://api.github.com/users/philipperemy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipperemy/subscriptions","organizations_url":"https://api.github.com/users/philipperemy/orgs","repos_url":"https://api.github.com/users/philipperemy/repos","events_url":"https://api.github.com/users/philipperemy/events{/privacy}","received_events_url":"https://api.github.com/users/philipperemy/received_events","type":"User","site_admin":false},"created_at":"2022-01-21T14:03:31Z","updated_at":"2022-01-21T14:08:32Z","author_association":"OWNER","body":"@evanharwin thank you very much! A TCN model is more or less a stack of layers containing \"a trous\" (dilated) convolutions. The `dilations` parameter controls how dilated each convolution is in the network.\r\n\r\nIf you specify `d=[1,2,4,8]`, \r\n- you will have 4 layers because `len(d)=4`. \r\n- `d[0]=1` is your first dilated layer with `dilations=1`. You can read the doc of dilated conv here: https://www.tensorflow.org/api_docs/python/tf/nn/conv1d.\r\n- `d[1]=2` will point to your second dilated layer with `dilations=2`.\r\n- etc...\r\n\r\nDilated convolutions are used to keep the number of parameters \"low\" while increasing how far the network can see in the sequence.\r\n\r\nThe \"trous\" or dilated values are displayed in white on this visual, with the example `d=[1,2,4,8]`:\r\n\r\n![image](https://user-images.githubusercontent.com/4516927/150537394-d197568b-7c33-420e-a1b0-54e87bf8d2eb.png)\r\n\r\nTo find how much dilations you need, you can refer to Table 2 on the original paper: https://arxiv.org/pdf/1803.01271.pdf.\r\n\r\nIt's the column `n`.\r\n\r\n![image](https://user-images.githubusercontent.com/4516927/150539752-b6714c18-813b-44af-9e62-40cf1be6d925.png)\r\n\r\nTo answer your question: ideally you want your receptive field to be bigger than the largest of your sequence. Imagine if you have sequences of 20 elements but your receptive field is only 5. That would mean that replacing the first 15 elements with 0 and appending the last 5 values would give you EXACTLY the same result because the TCN will be unable to see further than 5 values in the past. However, if your sequences are of length 20 but you choose a receptive field of 999: you would just waste a lot of resources for nothing and you could even \"dilate\" your network too much and lose in precision.","reactions":{"url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/comments/1018531644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"philipperemy","id":4516927,"node_id":"MDQ6VXNlcjQ1MTY5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4516927?v=4","gravatar_id":"","url":"https://api.github.com/users/philipperemy","html_url":"https://github.com/philipperemy","followers_url":"https://api.github.com/users/philipperemy/followers","following_url":"https://api.github.com/users/philipperemy/following{/other_user}","gists_url":"https://api.github.com/users/philipperemy/gists{/gist_id}","starred_url":"https://api.github.com/users/philipperemy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipperemy/subscriptions","organizations_url":"https://api.github.com/users/philipperemy/orgs","repos_url":"https://api.github.com/users/philipperemy/repos","events_url":"https://api.github.com/users/philipperemy/events{/privacy}","received_events_url":"https://api.github.com/users/philipperemy/received_events","type":"User","site_admin":false}},{"id":5932334309,"node_id":"MEE_lADOB4a3hs5CLyyzzwAAAAFhmDzl","url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/events/5932334309","actor":{"login":"evanharwin","id":20156105,"node_id":"MDQ6VXNlcjIwMTU2MTA1","avatar_url":"https://avatars.githubusercontent.com/u/20156105?v=4","gravatar_id":"","url":"https://api.github.com/users/evanharwin","html_url":"https://github.com/evanharwin","followers_url":"https://api.github.com/users/evanharwin/followers","following_url":"https://api.github.com/users/evanharwin/following{/other_user}","gists_url":"https://api.github.com/users/evanharwin/gists{/gist_id}","starred_url":"https://api.github.com/users/evanharwin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanharwin/subscriptions","organizations_url":"https://api.github.com/users/evanharwin/orgs","repos_url":"https://api.github.com/users/evanharwin/repos","events_url":"https://api.github.com/users/evanharwin/events{/privacy}","received_events_url":"https://api.github.com/users/evanharwin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-01-21T14:03:32Z","performed_via_github_app":null},{"id":5932334315,"node_id":"SE_lADOB4a3hs5CLyyzzwAAAAFhmDzr","url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/events/5932334315","actor":{"login":"evanharwin","id":20156105,"node_id":"MDQ6VXNlcjIwMTU2MTA1","avatar_url":"https://avatars.githubusercontent.com/u/20156105?v=4","gravatar_id":"","url":"https://api.github.com/users/evanharwin","html_url":"https://github.com/evanharwin","followers_url":"https://api.github.com/users/evanharwin/followers","following_url":"https://api.github.com/users/evanharwin/following{/other_user}","gists_url":"https://api.github.com/users/evanharwin/gists{/gist_id}","starred_url":"https://api.github.com/users/evanharwin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanharwin/subscriptions","organizations_url":"https://api.github.com/users/evanharwin/orgs","repos_url":"https://api.github.com/users/evanharwin/repos","events_url":"https://api.github.com/users/evanharwin/events{/privacy}","received_events_url":"https://api.github.com/users/evanharwin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-01-21T14:03:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/comments/1018565516","html_url":"https://github.com/philipperemy/keras-tcn/issues/223#issuecomment-1018565516","issue_url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/223","id":1018565516,"node_id":"IC_kwDOB4a3hs48thOM","user":{"login":"evanharwin","id":20156105,"node_id":"MDQ6VXNlcjIwMTU2MTA1","avatar_url":"https://avatars.githubusercontent.com/u/20156105?v=4","gravatar_id":"","url":"https://api.github.com/users/evanharwin","html_url":"https://github.com/evanharwin","followers_url":"https://api.github.com/users/evanharwin/followers","following_url":"https://api.github.com/users/evanharwin/following{/other_user}","gists_url":"https://api.github.com/users/evanharwin/gists{/gist_id}","starred_url":"https://api.github.com/users/evanharwin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanharwin/subscriptions","organizations_url":"https://api.github.com/users/evanharwin/orgs","repos_url":"https://api.github.com/users/evanharwin/repos","events_url":"https://api.github.com/users/evanharwin/events{/privacy}","received_events_url":"https://api.github.com/users/evanharwin/received_events","type":"User","site_admin":false},"created_at":"2022-01-21T14:41:09Z","updated_at":"2022-01-21T16:56:59Z","author_association":"CONTRIBUTOR","body":"Wow thanks for that â™¥\r\n\r\nThat makes a lot of sense. It's a little tricky transferring the understanding from image CNN's, but the exponential dilations are pretty smart.\r\n\r\nDo you think it's worth me making a PR like this? or shall I leave it be?\r\n\r\n```diff\r\n- `dilations`: It controls how deep your TCN layer is. Usually, consider a list with multiple of \r\n- two. You can guess how many dilations you need by matching the receptive field (of the TCN) with \r\n- the sequences' lengths.\r\n+ - `dilations`: It controls how deep your TCN layer is. Usually, consider a list with multiple of\r\n+ two. You can guess how many dilations you need by matching the receptive field (of the TCN) with\r\n+ the length of features in your sequence. For example, if your timeseries is periodic, you might \r\n+ want to have multiples of that period as dilations.\r\n```\r\n\r\n\r\nIf you think it's good how it is, feel free to close this issue right away ðŸ™‚\r\n","reactions":{"url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/comments/1018565516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"evanharwin","id":20156105,"node_id":"MDQ6VXNlcjIwMTU2MTA1","avatar_url":"https://avatars.githubusercontent.com/u/20156105?v=4","gravatar_id":"","url":"https://api.github.com/users/evanharwin","html_url":"https://github.com/evanharwin","followers_url":"https://api.github.com/users/evanharwin/followers","following_url":"https://api.github.com/users/evanharwin/following{/other_user}","gists_url":"https://api.github.com/users/evanharwin/gists{/gist_id}","starred_url":"https://api.github.com/users/evanharwin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanharwin/subscriptions","organizations_url":"https://api.github.com/users/evanharwin/orgs","repos_url":"https://api.github.com/users/evanharwin/repos","events_url":"https://api.github.com/users/evanharwin/events{/privacy}","received_events_url":"https://api.github.com/users/evanharwin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/comments/1018998242","html_url":"https://github.com/philipperemy/keras-tcn/issues/223#issuecomment-1018998242","issue_url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/223","id":1018998242,"node_id":"IC_kwDOB4a3hs48vK3i","user":{"login":"philipperemy","id":4516927,"node_id":"MDQ6VXNlcjQ1MTY5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4516927?v=4","gravatar_id":"","url":"https://api.github.com/users/philipperemy","html_url":"https://github.com/philipperemy","followers_url":"https://api.github.com/users/philipperemy/followers","following_url":"https://api.github.com/users/philipperemy/following{/other_user}","gists_url":"https://api.github.com/users/philipperemy/gists{/gist_id}","starred_url":"https://api.github.com/users/philipperemy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipperemy/subscriptions","organizations_url":"https://api.github.com/users/philipperemy/orgs","repos_url":"https://api.github.com/users/philipperemy/repos","events_url":"https://api.github.com/users/philipperemy/events{/privacy}","received_events_url":"https://api.github.com/users/philipperemy/received_events","type":"User","site_admin":false},"created_at":"2022-01-22T00:57:48Z","updated_at":"2022-01-22T00:57:48Z","author_association":"OWNER","body":"Sure you can open a PR. That sounds good to me!","reactions":{"url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/comments/1018998242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"philipperemy","id":4516927,"node_id":"MDQ6VXNlcjQ1MTY5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4516927?v=4","gravatar_id":"","url":"https://api.github.com/users/philipperemy","html_url":"https://github.com/philipperemy","followers_url":"https://api.github.com/users/philipperemy/followers","following_url":"https://api.github.com/users/philipperemy/following{/other_user}","gists_url":"https://api.github.com/users/philipperemy/gists{/gist_id}","starred_url":"https://api.github.com/users/philipperemy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipperemy/subscriptions","organizations_url":"https://api.github.com/users/philipperemy/orgs","repos_url":"https://api.github.com/users/philipperemy/repos","events_url":"https://api.github.com/users/philipperemy/events{/privacy}","received_events_url":"https://api.github.com/users/philipperemy/received_events","type":"User","site_admin":false}},{"id":5938915725,"node_id":"CE_lADOB4a3hs5CLyyzzwAAAAFh_KmN","url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/events/5938915725","actor":{"login":"philipperemy","id":4516927,"node_id":"MDQ6VXNlcjQ1MTY5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4516927?v=4","gravatar_id":"","url":"https://api.github.com/users/philipperemy","html_url":"https://github.com/philipperemy","followers_url":"https://api.github.com/users/philipperemy/followers","following_url":"https://api.github.com/users/philipperemy/following{/other_user}","gists_url":"https://api.github.com/users/philipperemy/gists{/gist_id}","starred_url":"https://api.github.com/users/philipperemy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipperemy/subscriptions","organizations_url":"https://api.github.com/users/philipperemy/orgs","repos_url":"https://api.github.com/users/philipperemy/repos","events_url":"https://api.github.com/users/philipperemy/events{/privacy}","received_events_url":"https://api.github.com/users/philipperemy/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-01-23T23:57:31Z","state_reason":null,"performed_via_github_app":null},{"id":5940869591,"node_id":"REFE_lADOB4a3hs5CLyyzzwAAAAFiGnnX","url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/events/5940869591","actor":{"login":"evanharwin","id":20156105,"node_id":"MDQ6VXNlcjIwMTU2MTA1","avatar_url":"https://avatars.githubusercontent.com/u/20156105?v=4","gravatar_id":"","url":"https://api.github.com/users/evanharwin","html_url":"https://github.com/evanharwin","followers_url":"https://api.github.com/users/evanharwin/followers","following_url":"https://api.github.com/users/evanharwin/following{/other_user}","gists_url":"https://api.github.com/users/evanharwin/gists{/gist_id}","starred_url":"https://api.github.com/users/evanharwin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanharwin/subscriptions","organizations_url":"https://api.github.com/users/evanharwin/orgs","repos_url":"https://api.github.com/users/evanharwin/repos","events_url":"https://api.github.com/users/evanharwin/events{/privacy}","received_events_url":"https://api.github.com/users/evanharwin/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"545807b72b2cdcc9348a870e5d56e3669cdc779c","commit_url":"https://api.github.com/repos/evanharwin/keras-tcn/commits/545807b72b2cdcc9348a870e5d56e3669cdc779c","created_at":"2022-01-24T09:28:11Z","performed_via_github_app":null},{"id":5949314864,"node_id":"REFE_lADOB4a3hs5CLyyzzwAAAAFim1cw","url":"https://api.github.com/repos/philipperemy/keras-tcn/issues/events/5949314864","actor":{"login":"philipperemy","id":4516927,"node_id":"MDQ6VXNlcjQ1MTY5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4516927?v=4","gravatar_id":"","url":"https://api.github.com/users/philipperemy","html_url":"https://github.com/philipperemy","followers_url":"https://api.github.com/users/philipperemy/followers","following_url":"https://api.github.com/users/philipperemy/following{/other_user}","gists_url":"https://api.github.com/users/philipperemy/gists{/gist_id}","starred_url":"https://api.github.com/users/philipperemy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipperemy/subscriptions","organizations_url":"https://api.github.com/users/philipperemy/orgs","repos_url":"https://api.github.com/users/philipperemy/repos","events_url":"https://api.github.com/users/philipperemy/events{/privacy}","received_events_url":"https://api.github.com/users/philipperemy/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"07fa45b323615118e6c3b3b36fa159f7be096fb7","commit_url":"https://api.github.com/repos/philipperemy/keras-tcn/commits/07fa45b323615118e6c3b3b36fa159f7be096fb7","created_at":"2022-01-25T11:57:51Z","performed_via_github_app":null}]