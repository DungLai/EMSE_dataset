[{"id":2360125128,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM2MDEyNTEyOA==","url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/events/2360125128","actor":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-22T17:51:53Z","performed_via_github_app":null},{"id":2360125130,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNjAxMjUxMzA=","url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/events/2360125130","actor":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-22T17:51:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/494911816","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-494911816","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":494911816,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDkxMTgxNg==","user":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T18:23:45Z","updated_at":"2019-05-22T18:23:45Z","author_association":"OWNER","body":"Thank you for your feedback! What is the EPE when you use the [official repository](https://github.com/NVlabs/PWC-Net/tree/master/PyTorch)? Specifically, the `pwc_net.pth.tar` and the `pwc_net_chairs.pth.tar` models. Thanks!","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/494911816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/495122410","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-495122410","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":495122410,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTEyMjQxMA==","user":{"login":"jeffbaena","id":18122010,"node_id":"MDQ6VXNlcjE4MTIyMDEw","avatar_url":"https://avatars.githubusercontent.com/u/18122010?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffbaena","html_url":"https://github.com/jeffbaena","followers_url":"https://api.github.com/users/jeffbaena/followers","following_url":"https://api.github.com/users/jeffbaena/following{/other_user}","gists_url":"https://api.github.com/users/jeffbaena/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffbaena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffbaena/subscriptions","organizations_url":"https://api.github.com/users/jeffbaena/orgs","repos_url":"https://api.github.com/users/jeffbaena/repos","events_url":"https://api.github.com/users/jeffbaena/events{/privacy}","received_events_url":"https://api.github.com/users/jeffbaena/received_events","type":"User","site_admin":false},"created_at":"2019-05-23T08:38:18Z","updated_at":"2019-05-23T08:38:18Z","author_association":"NONE","body":"Unfortunately I cannot run the official network. It requires CUDA 8.0, but in my cluster I am forced to use CUDA 10. (if you have any hint on how to make it work it would be greatly appreciated)\r\nSo I run your net on the 1041 samples of \"Sintel training clean\" and I got 1.81 EPE.\r\nAccording to the paper, the closest EPE value to the one I got is (red circle): meaning this could be the version fine-tuned on sintel. \r\n\r\nCould you help me clarifying which version we are using?\r\n\r\n![Screenshot 2019-05-23 at 10 28 11](https://user-images.githubusercontent.com/18122010/58237731-19782e00-7d46-11e9-827b-3451cf8d92a8.png)\r\n\r\nNOTE: my result 1.81 actually seems to match the value reported in your link, so I think your network is working properly:  https://github.com/NVlabs/PWC-Net/tree/master/PyTorch\r\nBut in the link it is not specified which version it is.\r\n\r\nThanks for your help,\r\nStefano\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/495122410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeffbaena","id":18122010,"node_id":"MDQ6VXNlcjE4MTIyMDEw","avatar_url":"https://avatars.githubusercontent.com/u/18122010?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffbaena","html_url":"https://github.com/jeffbaena","followers_url":"https://api.github.com/users/jeffbaena/followers","following_url":"https://api.github.com/users/jeffbaena/following{/other_user}","gists_url":"https://api.github.com/users/jeffbaena/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffbaena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffbaena/subscriptions","organizations_url":"https://api.github.com/users/jeffbaena/orgs","repos_url":"https://api.github.com/users/jeffbaena/repos","events_url":"https://api.github.com/users/jeffbaena/events{/privacy}","received_events_url":"https://api.github.com/users/jeffbaena/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/495290582","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-495290582","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":495290582,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTI5MDU4Mg==","user":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false},"created_at":"2019-05-23T16:28:28Z","updated_at":"2019-05-23T16:28:28Z","author_association":"OWNER","body":"This comment might be useful: https://github.com/NVlabs/PWC-Net/issues/26#issuecomment-413752445\r\n\r\nHowever, I do not think that there is a corresponding entry in the paper. But please correct me if I am wrong, I am sure others would be happy to get an answer to this question as well!\r\n\r\nFor a related discussion, please see: https://github.com/sniklaus/pytorch-pwc/issues/9","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/495290582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/495321249","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-495321249","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":495321249,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTMyMTI0OQ==","user":{"login":"jeffbaena","id":18122010,"node_id":"MDQ6VXNlcjE4MTIyMDEw","avatar_url":"https://avatars.githubusercontent.com/u/18122010?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffbaena","html_url":"https://github.com/jeffbaena","followers_url":"https://api.github.com/users/jeffbaena/followers","following_url":"https://api.github.com/users/jeffbaena/following{/other_user}","gists_url":"https://api.github.com/users/jeffbaena/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffbaena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffbaena/subscriptions","organizations_url":"https://api.github.com/users/jeffbaena/orgs","repos_url":"https://api.github.com/users/jeffbaena/repos","events_url":"https://api.github.com/users/jeffbaena/events{/privacy}","received_events_url":"https://api.github.com/users/jeffbaena/received_events","type":"User","site_admin":false},"created_at":"2019-05-23T17:56:06Z","updated_at":"2019-05-23T17:56:06Z","author_association":"NONE","body":"Thanks for the high quality references! I can confirm that your _default_ version of PWC-Net corresponds to PWC-Net ROB of the paper \"Model Matters...\" (https://arxiv.org/pdf/1809.05571.pdf)\r\nTrained on Sintel and scoring exactly 1.81 px EPE on sintel training clean.\r\nCongratulations for your great work!\r\nStefano\r\n![Screen Shot 2019-05-23 at 19 50 42](https://user-images.githubusercontent.com/18122010/58275140-a3e77e80-7d94-11e9-8fee-ef009dc4ad05.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/495321249/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeffbaena","id":18122010,"node_id":"MDQ6VXNlcjE4MTIyMDEw","avatar_url":"https://avatars.githubusercontent.com/u/18122010?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffbaena","html_url":"https://github.com/jeffbaena","followers_url":"https://api.github.com/users/jeffbaena/followers","following_url":"https://api.github.com/users/jeffbaena/following{/other_user}","gists_url":"https://api.github.com/users/jeffbaena/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffbaena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffbaena/subscriptions","organizations_url":"https://api.github.com/users/jeffbaena/orgs","repos_url":"https://api.github.com/users/jeffbaena/repos","events_url":"https://api.github.com/users/jeffbaena/events{/privacy}","received_events_url":"https://api.github.com/users/jeffbaena/received_events","type":"User","site_admin":false}},{"id":2363602899,"node_id":"MDExOkNsb3NlZEV2ZW50MjM2MzYwMjg5OQ==","url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/events/2363602899","actor":{"login":"jeffbaena","id":18122010,"node_id":"MDQ6VXNlcjE4MTIyMDEw","avatar_url":"https://avatars.githubusercontent.com/u/18122010?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffbaena","html_url":"https://github.com/jeffbaena","followers_url":"https://api.github.com/users/jeffbaena/followers","following_url":"https://api.github.com/users/jeffbaena/following{/other_user}","gists_url":"https://api.github.com/users/jeffbaena/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffbaena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffbaena/subscriptions","organizations_url":"https://api.github.com/users/jeffbaena/orgs","repos_url":"https://api.github.com/users/jeffbaena/repos","events_url":"https://api.github.com/users/jeffbaena/events{/privacy}","received_events_url":"https://api.github.com/users/jeffbaena/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-23T20:01:31Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/495388077","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-495388077","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":495388077,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM4ODA3Nw==","user":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false},"created_at":"2019-05-23T21:16:34Z","updated_at":"2019-05-23T21:16:34Z","author_association":"OWNER","body":"Awesome, thank you for the clarification!","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/495388077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1063700821","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-1063700821","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":1063700821,"node_id":"IC_kwDOCGqm2c4_ZslV","user":{"login":"Etienne66","id":52262160,"node_id":"MDQ6VXNlcjUyMjYyMTYw","avatar_url":"https://avatars.githubusercontent.com/u/52262160?v=4","gravatar_id":"","url":"https://api.github.com/users/Etienne66","html_url":"https://github.com/Etienne66","followers_url":"https://api.github.com/users/Etienne66/followers","following_url":"https://api.github.com/users/Etienne66/following{/other_user}","gists_url":"https://api.github.com/users/Etienne66/gists{/gist_id}","starred_url":"https://api.github.com/users/Etienne66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Etienne66/subscriptions","organizations_url":"https://api.github.com/users/Etienne66/orgs","repos_url":"https://api.github.com/users/Etienne66/repos","events_url":"https://api.github.com/users/Etienne66/events{/privacy}","received_events_url":"https://api.github.com/users/Etienne66/received_events","type":"User","site_admin":false},"created_at":"2022-03-10T06:13:11Z","updated_at":"2022-03-10T06:13:11Z","author_association":"CONTRIBUTOR","body":"I manged to install Cudatools 9.2 but my card was too new for Cudatools 8.0 plus I was having to change my code too much for the older versions of PyTorch.\r\n\r\nI still couldn't reproduce the same numbers as in the paper but at least I seem to be in the ballpark. It could be because I have Cuda 11.6.1 installed. I don't feel like downgrading that installation too and there is no longer a MiniConda for Python 2.7 available. \r\n\r\nOlder versions of `nn.functional.grid_sample` don't support the `align_corners` attribute but supposedly it was true before 1.3.0 and it is set to false in the latest version of the code. When I tried PyTorch 1.4.0 with Cudatools 9.2/10.0 I got the same results as PyTorch 1.10.2.\r\n\r\nCudatools / PyTorch / Conda| Simtel Clean EPE</br>(training) | Simtel Final EPE</br>(training)\r\n-----------------------|--------------------|-----------------\r\n8.0 / 0.2 / 2.7            | (1.81)                   | (2.29)\r\n9.2 / 1.1.0 / 37_4.11 | 2.80980               |3.28290\r\n10.2 / 1.10.2 / 39_4.11 | 1.49756             | 1.94308\r\n\r\n**Note:** Numbers in parenthesis are from the paper for PWC-Net_ROB","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1063700821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Etienne66","id":52262160,"node_id":"MDQ6VXNlcjUyMjYyMTYw","avatar_url":"https://avatars.githubusercontent.com/u/52262160?v=4","gravatar_id":"","url":"https://api.github.com/users/Etienne66","html_url":"https://github.com/Etienne66","followers_url":"https://api.github.com/users/Etienne66/followers","following_url":"https://api.github.com/users/Etienne66/following{/other_user}","gists_url":"https://api.github.com/users/Etienne66/gists{/gist_id}","starred_url":"https://api.github.com/users/Etienne66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Etienne66/subscriptions","organizations_url":"https://api.github.com/users/Etienne66/orgs","repos_url":"https://api.github.com/users/Etienne66/repos","events_url":"https://api.github.com/users/Etienne66/events{/privacy}","received_events_url":"https://api.github.com/users/Etienne66/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1063724173","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-1063724173","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":1063724173,"node_id":"IC_kwDOCGqm2c4_ZySN","user":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false},"created_at":"2022-03-10T06:57:30Z","updated_at":"2022-03-10T06:57:30Z","author_association":"OWNER","body":"Thanks for sharing your findings! So it seems like you got better results than the paper claimed as long as you use a recent PyTorch version? I wonder why this is the case, should you find any issues in my implementation then please don't hesitate to let me know.","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1063724173/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064212653","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-1064212653","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":1064212653,"node_id":"IC_kwDOCGqm2c4_bpit","user":{"login":"Etienne66","id":52262160,"node_id":"MDQ6VXNlcjUyMjYyMTYw","avatar_url":"https://avatars.githubusercontent.com/u/52262160?v=4","gravatar_id":"","url":"https://api.github.com/users/Etienne66","html_url":"https://github.com/Etienne66","followers_url":"https://api.github.com/users/Etienne66/followers","following_url":"https://api.github.com/users/Etienne66/following{/other_user}","gists_url":"https://api.github.com/users/Etienne66/gists{/gist_id}","starred_url":"https://api.github.com/users/Etienne66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Etienne66/subscriptions","organizations_url":"https://api.github.com/users/Etienne66/orgs","repos_url":"https://api.github.com/users/Etienne66/repos","events_url":"https://api.github.com/users/Etienne66/events{/privacy}","received_events_url":"https://api.github.com/users/Etienne66/received_events","type":"User","site_admin":false},"created_at":"2022-03-10T15:55:44Z","updated_at":"2022-03-10T15:55:44Z","author_association":"CONTRIBUTOR","body":"> Thanks for sharing your findings! So it seems like you got better results than the paper claimed as long as you use a recent PyTorch version? I wonder why this is the case, should you find any issues in my implementation then please don't hesitate to let me know.\r\n\r\nThe difference in PyTorch versions seemed to be the `align_corners` parameter setting. The not matching the paper was probably my Nvidia CUDA Toolkit version which I didn't change for these tests. I'm sure Nvidia made improvements in the past few years. Perhaps if I had used CUDA Toolkit 9.2 along with `cudatools=9.2` and PyTorch 1.4.0. I could've matched the paper.\r\n\r\nI just do this as a hobby. Not like any of my results will be published in a paper but I will put it out here on Github.  My goal is to have a lot better performance than the paper by changing up the learning even more. I've learned a lot in the past year though and I still find this stuff interesting. But if I find any more issues I'll be happy to share.","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064212653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Etienne66","id":52262160,"node_id":"MDQ6VXNlcjUyMjYyMTYw","avatar_url":"https://avatars.githubusercontent.com/u/52262160?v=4","gravatar_id":"","url":"https://api.github.com/users/Etienne66","html_url":"https://github.com/Etienne66","followers_url":"https://api.github.com/users/Etienne66/followers","following_url":"https://api.github.com/users/Etienne66/following{/other_user}","gists_url":"https://api.github.com/users/Etienne66/gists{/gist_id}","starred_url":"https://api.github.com/users/Etienne66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Etienne66/subscriptions","organizations_url":"https://api.github.com/users/Etienne66/orgs","repos_url":"https://api.github.com/users/Etienne66/repos","events_url":"https://api.github.com/users/Etienne66/events{/privacy}","received_events_url":"https://api.github.com/users/Etienne66/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064228565","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-1064228565","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":1064228565,"node_id":"IC_kwDOCGqm2c4_btbV","user":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false},"created_at":"2022-03-10T16:10:10Z","updated_at":"2022-03-10T16:10:10Z","author_association":"OWNER","body":"You can try the following `backwarp` when using an older PyTorch that doesn't support `align_corners=False`.\r\n\r\n```\r\ndef backwarp(tenInput, tenFlow):\r\n    if str(tenFlow.shape) not in backwarp_tenGrid:\r\n        tenHor = torch.linspace(-1.0, 1.0, tenFlow.shape[3]).view(1, 1, 1, -1).repeat(1, 1, tenFlow.shape[2], 1)\r\n        tenVer = torch.linspace(-1.0, 1.0, tenFlow.shape[2]).view(1, 1, -1, 1).repeat(1, 1, 1, tenFlow.shape[3])\r\n\r\n        backwarp_tenGrid[str(tenFlow.shape)] = torch.cat([ tenHor, tenVer ], 1).cuda()\r\n    # end\r\n\r\n    if str(tenFlow.shape) not in backwarp_tenPartial:\r\n        backwarp_tenPartial[str(tenFlow.shape)] = tenFlow.new_ones([ tenFlow.shape[0], 1, tenFlow.shape[2], tenFlow.shape[3] ])\r\n    # end\r\n\r\n    tenFlow = torch.cat([ tenFlow[:, 0:1, :, :] / ((tenInput.shape[3] - 1.0) / 2.0), tenFlow[:, 1:2, :, :] / ((tenInput.shape[2] - 1.0) / 2.0) ], 1)\r\n    tenInput = torch.cat([ tenInput, backwarp_tenPartial[str(tenFlow.shape)] ], 1)\r\n\r\n    tenOutput = torch.nn.functional.grid_sample(input=tenInput, grid=(backwarp_tenGrid[str(tenFlow.shape)] + tenFlow).permute(0, 2, 3, 1), mode='bilinear', padding_mode='zeros')\r\n\r\n    tenMask = tenOutput[:, -1:, :, :]; tenMask[tenMask > 0.999] = 1.0; tenMask[tenMask < 1.0] = 0.0\r\n\r\n    return tenOutput[:, :-1, :, :] * tenMask\r\n# end\r\n```","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064228565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064250338","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-1064250338","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":1064250338,"node_id":"IC_kwDOCGqm2c4_byvi","user":{"login":"Etienne66","id":52262160,"node_id":"MDQ6VXNlcjUyMjYyMTYw","avatar_url":"https://avatars.githubusercontent.com/u/52262160?v=4","gravatar_id":"","url":"https://api.github.com/users/Etienne66","html_url":"https://github.com/Etienne66","followers_url":"https://api.github.com/users/Etienne66/followers","following_url":"https://api.github.com/users/Etienne66/following{/other_user}","gists_url":"https://api.github.com/users/Etienne66/gists{/gist_id}","starred_url":"https://api.github.com/users/Etienne66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Etienne66/subscriptions","organizations_url":"https://api.github.com/users/Etienne66/orgs","repos_url":"https://api.github.com/users/Etienne66/repos","events_url":"https://api.github.com/users/Etienne66/events{/privacy}","received_events_url":"https://api.github.com/users/Etienne66/received_events","type":"User","site_admin":false},"created_at":"2022-03-10T16:24:09Z","updated_at":"2022-03-10T16:24:09Z","author_association":"CONTRIBUTOR","body":"Cool. You have my curiosity so I'll try that","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064250338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Etienne66","id":52262160,"node_id":"MDQ6VXNlcjUyMjYyMTYw","avatar_url":"https://avatars.githubusercontent.com/u/52262160?v=4","gravatar_id":"","url":"https://api.github.com/users/Etienne66","html_url":"https://github.com/Etienne66","followers_url":"https://api.github.com/users/Etienne66/followers","following_url":"https://api.github.com/users/Etienne66/following{/other_user}","gists_url":"https://api.github.com/users/Etienne66/gists{/gist_id}","starred_url":"https://api.github.com/users/Etienne66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Etienne66/subscriptions","organizations_url":"https://api.github.com/users/Etienne66/orgs","repos_url":"https://api.github.com/users/Etienne66/repos","events_url":"https://api.github.com/users/Etienne66/events{/privacy}","received_events_url":"https://api.github.com/users/Etienne66/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064477233","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-1064477233","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":1064477233,"node_id":"IC_kwDOCGqm2c4_cqIx","user":{"login":"Etienne66","id":52262160,"node_id":"MDQ6VXNlcjUyMjYyMTYw","avatar_url":"https://avatars.githubusercontent.com/u/52262160?v=4","gravatar_id":"","url":"https://api.github.com/users/Etienne66","html_url":"https://github.com/Etienne66","followers_url":"https://api.github.com/users/Etienne66/followers","following_url":"https://api.github.com/users/Etienne66/following{/other_user}","gists_url":"https://api.github.com/users/Etienne66/gists{/gist_id}","starred_url":"https://api.github.com/users/Etienne66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Etienne66/subscriptions","organizations_url":"https://api.github.com/users/Etienne66/orgs","repos_url":"https://api.github.com/users/Etienne66/repos","events_url":"https://api.github.com/users/Etienne66/events{/privacy}","received_events_url":"https://api.github.com/users/Etienne66/received_events","type":"User","site_admin":false},"created_at":"2022-03-10T20:31:43Z","updated_at":"2022-03-10T21:06:02Z","author_association":"CONTRIBUTOR","body":"I was wrong about the Nvidia Cuda Toolkit... It doesn't even need to be installed unless you want to compile the code. Looks like PyTorch provides the runtime libraries it needs.\r\n\r\nIt seems they center cropped the images for training and didn't bother to test them without cropping.\r\n\r\nCudatools / PyTorch / Conda| Simtel Clean EPE</br>(training) | Simtel Final EPE</br>(training)\r\n------------------------|--------------------|-----------------\r\n8.0 / 0.2 / 2.7         | (1.81)<sup>1</sup>             | (2.29)\r\n9.0 / 1.1.0 / 37_4.11   | 1.47732            | 1.93140\r\n9.0 / 1.1.0 / 37_4.11   | 1.84321<sup>2</sup>  | 2.27769<sup>2</sup>\r\n10.2 / 1.10.2 / 39_4.11 | 1.49756            | 1.94308\r\n10.2 / 1.10.2 / 39_4.11 | 1.86661<sup>2</sup>    | 2.29435<sup>2</sup>\r\n10.2 / 1.10.2 / 39_4.11<sup>3</sup>| 1.84321<sup>2</sup>   | 2.27769<sup>2</sup>\r\n\r\n<sub><sup>**Notes:**</sub></sup>\r\n&nbsp;&nbsp;<sub><sup>1. Numbers in parenthesis are from [their paper](https://arxiv.org/pdf/1809.05571.pdf) for PWC-Net_ROB (Table 1)</sub></sup>\r\n&nbsp;&nbsp;<sub><sup>2. Cropped to 768x320 per [their paper](https://arxiv.org/pdf/1809.05571.pdf) (Section 4.1.3)</sub></sup>\r\n&nbsp;&nbsp;<sub><sup>3. `align_corners=True` and same `linspace` as that was used for PyTorch 1.1.0</sub></sup>\r\n\r\n\r\n\r\nI used the following to toggle between the two versions of `linspace` and `grid_sample`\r\n```python\r\nfrom distutils.version import LooseVersion\r\nif LooseVersion(torch.__version__) >= LooseVersion('1.3'):\r\n```","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064477233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Etienne66","id":52262160,"node_id":"MDQ6VXNlcjUyMjYyMTYw","avatar_url":"https://avatars.githubusercontent.com/u/52262160?v=4","gravatar_id":"","url":"https://api.github.com/users/Etienne66","html_url":"https://github.com/Etienne66","followers_url":"https://api.github.com/users/Etienne66/followers","following_url":"https://api.github.com/users/Etienne66/following{/other_user}","gists_url":"https://api.github.com/users/Etienne66/gists{/gist_id}","starred_url":"https://api.github.com/users/Etienne66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Etienne66/subscriptions","organizations_url":"https://api.github.com/users/Etienne66/orgs","repos_url":"https://api.github.com/users/Etienne66/repos","events_url":"https://api.github.com/users/Etienne66/events{/privacy}","received_events_url":"https://api.github.com/users/Etienne66/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064747001","html_url":"https://github.com/sniklaus/pytorch-pwc/issues/23#issuecomment-1064747001","issue_url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/23","id":1064747001,"node_id":"IC_kwDOCGqm2c4_dr_5","user":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false},"created_at":"2022-03-11T03:55:29Z","updated_at":"2022-03-11T03:55:29Z","author_association":"OWNER","body":"Oh wow, nice find and thanks for sharing this information!","reactions":{"url":"https://api.github.com/repos/sniklaus/pytorch-pwc/issues/comments/1064747001/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sniklaus","id":1238034,"node_id":"MDQ6VXNlcjEyMzgwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1238034?v=4","gravatar_id":"","url":"https://api.github.com/users/sniklaus","html_url":"https://github.com/sniklaus","followers_url":"https://api.github.com/users/sniklaus/followers","following_url":"https://api.github.com/users/sniklaus/following{/other_user}","gists_url":"https://api.github.com/users/sniklaus/gists{/gist_id}","starred_url":"https://api.github.com/users/sniklaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sniklaus/subscriptions","organizations_url":"https://api.github.com/users/sniklaus/orgs","repos_url":"https://api.github.com/users/sniklaus/repos","events_url":"https://api.github.com/users/sniklaus/events{/privacy}","received_events_url":"https://api.github.com/users/sniklaus/received_events","type":"User","site_admin":false}}]