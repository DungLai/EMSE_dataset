[{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/579715688","html_url":"https://github.com/EmuKit/emukit/issues/281#issuecomment-579715688","issue_url":"https://api.github.com/repos/EmuKit/emukit/issues/281","id":579715688,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTcxNTY4OA==","user":{"login":"apaleyes","id":2852301,"node_id":"MDQ6VXNlcjI4NTIzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/2852301?v=4","gravatar_id":"","url":"https://api.github.com/users/apaleyes","html_url":"https://github.com/apaleyes","followers_url":"https://api.github.com/users/apaleyes/followers","following_url":"https://api.github.com/users/apaleyes/following{/other_user}","gists_url":"https://api.github.com/users/apaleyes/gists{/gist_id}","starred_url":"https://api.github.com/users/apaleyes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apaleyes/subscriptions","organizations_url":"https://api.github.com/users/apaleyes/orgs","repos_url":"https://api.github.com/users/apaleyes/repos","events_url":"https://api.github.com/users/apaleyes/events{/privacy}","received_events_url":"https://api.github.com/users/apaleyes/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T11:35:33Z","updated_at":"2020-01-29T11:35:33Z","author_association":"COLLABORATOR","body":"Emukit doesn't provide many models itself. Most of the model definitions come out of examples, including the one you mentioned, `MultiFidelityDeepGP`. I don't think it is realistic to expect each example author to implement serialization for their model, especially if they themselves don't need it. The most we, as library authors, can do is to add a few optional methods to `IModel` (e.g. `write_model(file)`, `read_model(file)`) and hope that some users implement them.\r\n\r\nThat said, most of the models are based on frameworks where serialization can be done. Say for GPy some models can be serialized/deserialized, have a look at their readme for this: https://github.com/SheffieldML/GPy (section \"Saving models in a consistent way across versions\").\r\n\r\nHowever I don't think every GPy model can be fully deserialized using this technique though. Would you be able to try use it for `MultiFidelityDeepGP` and let us know how it went?","reactions":{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/579715688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"apaleyes","id":2852301,"node_id":"MDQ6VXNlcjI4NTIzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/2852301?v=4","gravatar_id":"","url":"https://api.github.com/users/apaleyes","html_url":"https://github.com/apaleyes","followers_url":"https://api.github.com/users/apaleyes/followers","following_url":"https://api.github.com/users/apaleyes/following{/other_user}","gists_url":"https://api.github.com/users/apaleyes/gists{/gist_id}","starred_url":"https://api.github.com/users/apaleyes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apaleyes/subscriptions","organizations_url":"https://api.github.com/users/apaleyes/orgs","repos_url":"https://api.github.com/users/apaleyes/repos","events_url":"https://api.github.com/users/apaleyes/events{/privacy}","received_events_url":"https://api.github.com/users/apaleyes/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/579751400","html_url":"https://github.com/EmuKit/emukit/issues/281#issuecomment-579751400","issue_url":"https://api.github.com/repos/EmuKit/emukit/issues/281","id":579751400,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTc1MTQwMA==","user":{"login":"jjramsey","id":25332524,"node_id":"MDQ6VXNlcjI1MzMyNTI0","avatar_url":"https://avatars.githubusercontent.com/u/25332524?v=4","gravatar_id":"","url":"https://api.github.com/users/jjramsey","html_url":"https://github.com/jjramsey","followers_url":"https://api.github.com/users/jjramsey/followers","following_url":"https://api.github.com/users/jjramsey/following{/other_user}","gists_url":"https://api.github.com/users/jjramsey/gists{/gist_id}","starred_url":"https://api.github.com/users/jjramsey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjramsey/subscriptions","organizations_url":"https://api.github.com/users/jjramsey/orgs","repos_url":"https://api.github.com/users/jjramsey/repos","events_url":"https://api.github.com/users/jjramsey/events{/privacy}","received_events_url":"https://api.github.com/users/jjramsey/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T13:19:41Z","updated_at":"2020-01-29T13:19:41Z","author_association":"NONE","body":"`MultiFidelityDeepGP` is an Emukit `IModel` that contains a GPFlow model, not a GPy model itself. If I run `print(model.param_array)`, I get the error message \"`'MultiFidelityDeepGP' object has no attribute 'param_array'.`\" Similarly, If I run `print(model.model.param_array)`, I get the error message \"`'DGP_Base' object has no attribute 'param_array'`.\" (`DGP_Base` inherits from `gpflow.models.model.Model`.)","reactions":{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/579751400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jjramsey","id":25332524,"node_id":"MDQ6VXNlcjI1MzMyNTI0","avatar_url":"https://avatars.githubusercontent.com/u/25332524?v=4","gravatar_id":"","url":"https://api.github.com/users/jjramsey","html_url":"https://github.com/jjramsey","followers_url":"https://api.github.com/users/jjramsey/followers","following_url":"https://api.github.com/users/jjramsey/following{/other_user}","gists_url":"https://api.github.com/users/jjramsey/gists{/gist_id}","starred_url":"https://api.github.com/users/jjramsey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjramsey/subscriptions","organizations_url":"https://api.github.com/users/jjramsey/orgs","repos_url":"https://api.github.com/users/jjramsey/repos","events_url":"https://api.github.com/users/jjramsey/events{/privacy}","received_events_url":"https://api.github.com/users/jjramsey/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/579795390","html_url":"https://github.com/EmuKit/emukit/issues/281#issuecomment-579795390","issue_url":"https://api.github.com/repos/EmuKit/emukit/issues/281","id":579795390,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTc5NTM5MA==","user":{"login":"apaleyes","id":2852301,"node_id":"MDQ6VXNlcjI4NTIzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/2852301?v=4","gravatar_id":"","url":"https://api.github.com/users/apaleyes","html_url":"https://github.com/apaleyes","followers_url":"https://api.github.com/users/apaleyes/followers","following_url":"https://api.github.com/users/apaleyes/following{/other_user}","gists_url":"https://api.github.com/users/apaleyes/gists{/gist_id}","starred_url":"https://api.github.com/users/apaleyes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apaleyes/subscriptions","organizations_url":"https://api.github.com/users/apaleyes/orgs","repos_url":"https://api.github.com/users/apaleyes/repos","events_url":"https://api.github.com/users/apaleyes/events{/privacy}","received_events_url":"https://api.github.com/users/apaleyes/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T15:01:25Z","updated_at":"2020-01-29T15:01:25Z","author_association":"COLLABORATOR","body":"Oh, apologies, didn't notice that this one builds on top of GPflow not GPy. Does this thread yield anything helpful? There they discuss `to_dict` which is available, as well as some custom ways users came up with: https://github.com/GPflow/GPflow/issues/48","reactions":{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/579795390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"apaleyes","id":2852301,"node_id":"MDQ6VXNlcjI4NTIzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/2852301?v=4","gravatar_id":"","url":"https://api.github.com/users/apaleyes","html_url":"https://github.com/apaleyes","followers_url":"https://api.github.com/users/apaleyes/followers","following_url":"https://api.github.com/users/apaleyes/following{/other_user}","gists_url":"https://api.github.com/users/apaleyes/gists{/gist_id}","starred_url":"https://api.github.com/users/apaleyes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apaleyes/subscriptions","organizations_url":"https://api.github.com/users/apaleyes/orgs","repos_url":"https://api.github.com/users/apaleyes/repos","events_url":"https://api.github.com/users/apaleyes/events{/privacy}","received_events_url":"https://api.github.com/users/apaleyes/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/579888389","html_url":"https://github.com/EmuKit/emukit/issues/281#issuecomment-579888389","issue_url":"https://api.github.com/repos/EmuKit/emukit/issues/281","id":579888389,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTg4ODM4OQ==","user":{"login":"jjramsey","id":25332524,"node_id":"MDQ6VXNlcjI1MzMyNTI0","avatar_url":"https://avatars.githubusercontent.com/u/25332524?v=4","gravatar_id":"","url":"https://api.github.com/users/jjramsey","html_url":"https://github.com/jjramsey","followers_url":"https://api.github.com/users/jjramsey/followers","following_url":"https://api.github.com/users/jjramsey/following{/other_user}","gists_url":"https://api.github.com/users/jjramsey/gists{/gist_id}","starred_url":"https://api.github.com/users/jjramsey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjramsey/subscriptions","organizations_url":"https://api.github.com/users/jjramsey/orgs","repos_url":"https://api.github.com/users/jjramsey/repos","events_url":"https://api.github.com/users/jjramsey/events{/privacy}","received_events_url":"https://api.github.com/users/jjramsey/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T18:12:40Z","updated_at":"2020-01-29T18:12:40Z","author_association":"NONE","body":"Unfortunately, that thread is out of date. Apparently, although they added `get_parameter_dict()`, etc. at one point, that functionality seems to have since been removed. In the GPFlow 1.x series, they did add some [functionality to support model persistence](https://nbviewer.jupyter.org/github/GPflow/GPflow/blob/develop-1.0/doc/source/notebooks/tips_and_tricks.ipynb#7.-I-want-to-save-and-load-a-GPflow-model), but it doesn't *quite* work.\r\n\r\nSuppose that I do the following:\r\n\r\n```python\r\ngpflow.saver.Saver().save(\"foo\", model.model)\r\n```\r\n\r\nwhere `model` is a `MultiFidelityDeepGP` and `model.model` is a `DGP_Base`. This will fail with errors like this:\r\n\r\n```\r\nTypeError: only size-1 arrays can be converted to Python scalars\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"./try-mfdgp.py\", line 38, in <module>\r\n    gpflow.saver.Saver().save(\"foo\", model.model)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/saver.py\", line 36, in save\r\n    encoded_target = CoderDispatcher(context).encode(target)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 613, in encode\r\n    return self._execute_coder(item, 'encode')\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 606, in _execute_coder\r\n    return coder(self.context).encode(item)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 404, in encode\r\n    data = dispatcher.encode(values)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 613, in encode\r\n    return self._execute_coder(item, 'encode')\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 606, in _execute_coder\r\n    return coder(self.context).encode(item)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 288, in encode\r\n    pre_data = {k : dispatcher.encode(v) for k, v in item.items()}\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 288, in <dictcomp>\r\n    pre_data = {k : dispatcher.encode(v) for k, v in item.items()}\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 613, in encode\r\n    return self._execute_coder(item, 'encode')\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 606, in _execute_coder\r\n    return coder(self.context).encode(item)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 249, in encode\r\n    data = np.array(data, dtype=data_dtype)\r\nValueError: setting an array element with a sequence.\r\n```\r\n\r\nHere, I'm using a version of Tensorflow that's supposed to be compatible with `MultiFidelityDeepGP`, version 1.8, but newer 1.x versions have the same problem. It turns out that GPFlow's `Saver` chokes on the data members `X_list` and `Y_list` of `model.model`. Now if I do the following:\r\n\r\n```python\r\ndel model.model.X_list\r\ndel model.model.Y_list\r\n\r\ngpflow.saver.Saver().save(\"foo\", model.model)\r\n```\r\n\r\nthen I *appear* to have some success--until I try to read the file \"foo\". This does not work:\r\n\r\n```python\r\nimport gpflow\r\nimport tensorflow as tf\r\n\r\nwith tf.Graph().as_default(), tf.Session().as_default():\r\n    model = gpflow.saver.Saver().load(\"foo\")\r\n```\r\n\r\nThis results in the following errors:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 510, in _apply_op_helper\r\n    preferred_dtype=default_dtype)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1104, in internal_convert_to_tensor\r\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/constant_op.py\", line 235, in _constant_tensor_conversion_function\r\n    return constant(v, dtype=dtype, name=name)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/constant_op.py\", line 214, in constant\r\n    value, dtype=dtype, shape=shape, verify_shape=verify_shape))\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/tensor_util.py\", line 420, in make_tensor_proto\r\n    raise ValueError(\"None values not supported.\")\r\nValueError: None values not supported.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 524, in _apply_op_helper\r\n    values, as_ref=input_arg.is_ref).dtype.name\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1104, in internal_convert_to_tensor\r\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/constant_op.py\", line 235, in _constant_tensor_conversion_function\r\n    return constant(v, dtype=dtype, name=name)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/constant_op.py\", line 214, in constant\r\n    value, dtype=dtype, shape=shape, verify_shape=verify_shape))\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/tensor_util.py\", line 420, in make_tensor_proto\r\n    raise ValueError(\"None values not supported.\")\r\nValueError: None values not supported.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"./read-model-mfdgp.py\", line 21, in <module>\r\n    model = gpflow.saver.Saver().load(\"foo\")\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/saver.py\", line 42, in load\r\n    return CoderDispatcher(context).decode(encoded_target)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 616, in decode\r\n    return self._execute_coder(item, 'decode')\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 608, in _execute_coder\r\n    return coder(self.context).decode(item)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 420, in decode\r\n    return self._decode_object(item, variables)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/saver/coders.py\", line 559, in _decode_object\r\n    instance.compile(session=self.context.session)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/core/node.py\", line 58, in compile\r\n    self.build()\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/core/node.py\", line 156, in build\r\n    self._build()\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/models/model.py\", line 79, in _build\r\n    likelihood = self._build_likelihood()\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/decors.py\", line 67, in tensor_mode_wrapper\r\n    result = method(obj, *args, **kwargs)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/emukit/examples/multi_fidelity_dgp/multi_fidelity_deep_gp.py\", line 243, in _build_likelihood\r\n    L += (tf.reduce_sum(self.E_log_p_Y(X_l, Y_l, fidelity)) * scale)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/emukit/examples/multi_fidelity_dgp/multi_fidelity_deep_gp.py\", line 198, in E_log_p_Y\r\n    Fmean, Fvar = self._build_predict(X_f, full_cov=False, S=self.num_samples, fidelity=fidelity)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/decors.py\", line 67, in tensor_mode_wrapper\r\n    result = method(obj, *args, **kwargs)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/emukit/examples/multi_fidelity_dgp/multi_fidelity_deep_gp.py\", line 172, in _build_predict\r\n    _, Fmeans, Fvars = self.propagate(X, full_cov=full_cov, S=S)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/gpflow/decors.py\", line 67, in tensor_mode_wrapper\r\n    result = method(obj, *args, **kwargs)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/emukit/examples/multi_fidelity_dgp/multi_fidelity_deep_gp.py\", line 140, in propagate\r\n    F, Fmean, Fvar = layer.sample_from_conditional(F, z=z, full_cov=full_cov)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/doubly_stochastic_dgp/layers.py\", line 88, in sample_from_conditional\r\n    mean, var = self.conditional_SND(X, full_cov=full_cov)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/doubly_stochastic_dgp/layers.py\", line 73, in conditional_SND\r\n    mean, var = self.conditional_ND(X_flat)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/doubly_stochastic_dgp/layers.py\", line 186, in conditional_ND\r\n    A = tf.matrix_triangular_solve(self.Lu, Kuf, lower=True)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/ops/gen_linalg_ops.py\", line 1402, in matrix_triangular_solve\r\n    adjoint=adjoint, name=name)\r\n  File \"/Users/jjramsey/venvs/old-tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 528, in _apply_op_helper\r\n    (input_name, err))\r\nValueError: Tried to convert 'matrix' to a tensor and failed. Error: None values not supported.\r\n```\r\n\r\nThis also fails, and with the same errors:\r\n\r\n```python\r\nimport gpflow\r\nimport tensorflow as tf\r\n\r\nctx_for_loading = gpflow.saver.SaverContext(autocompile=False)\r\nmodel = gpflow.saver.Saver().load(\"foo\", context=ctx_for_loading)\r\nmodel.clear()\r\nmodel.compile()\r\n```\r\n\r\nThe failure occurs with both Tensorflow 1.8 and later versions as well. With later 1.x versions of Tensorflow, error messages like these are seen as well:\r\n\r\n```\r\nERROR:tensorflow:==================================\r\nObject was never used (type <class 'tensorflow.python.framework.ops.Tensor'>):\r\n<tf.Tensor 'DGP_Base-a6908df1-44/X1/IsVariableInitialized:0' shape=() dtype=bool>\r\nIf you want to mark it as used call its \"mark_used()\" method.\r\nIt was originally created here:\r\n  File \"/Users/jjramsey/venvs/emukit_mfdgp/lib/python3.7/site-packages/gpflow/models/model.py\", line 79, in _build\r\n    likelihood = self._build_likelihood()  File \"/Users/jjramsey/venvs/emukit_mfdgp/lib/python3.7/site-packages/gpflow/params/parameterized.py\", line 302, in _build\r\n    self._prior_tensor = self._build_prior(priors)  File \"/Users/jjramsey/venvs/emukit_mfdgp/lib/python3.7/site-packages/gpflow/core/node.py\", line 156, in build\r\n    self._build()  File \"/Users/jjramsey/venvs/emukit_mfdgp/lib/python3.7/site-packages/gpflow/params/dataholders.py\", line 91, in _build\r\n    self._is_initialized_tensor = tf.is_variable_initialized(tensor)  File \"/Users/jjramsey/venvs/emukit_mfdgp/lib/python3.7/site-packages/tensorflow_core/python/util/tf_should_use.py\", line 198, in wrapped\r\n    return _add_should_use_warning(fn(*args, **kwargs))\r\n==================================\r\n```","reactions":{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/579888389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jjramsey","id":25332524,"node_id":"MDQ6VXNlcjI1MzMyNTI0","avatar_url":"https://avatars.githubusercontent.com/u/25332524?v=4","gravatar_id":"","url":"https://api.github.com/users/jjramsey","html_url":"https://github.com/jjramsey","followers_url":"https://api.github.com/users/jjramsey/followers","following_url":"https://api.github.com/users/jjramsey/following{/other_user}","gists_url":"https://api.github.com/users/jjramsey/gists{/gist_id}","starred_url":"https://api.github.com/users/jjramsey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjramsey/subscriptions","organizations_url":"https://api.github.com/users/jjramsey/orgs","repos_url":"https://api.github.com/users/jjramsey/repos","events_url":"https://api.github.com/users/jjramsey/events{/privacy}","received_events_url":"https://api.github.com/users/jjramsey/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/584618016","html_url":"https://github.com/EmuKit/emukit/issues/281#issuecomment-584618016","issue_url":"https://api.github.com/repos/EmuKit/emukit/issues/281","id":584618016,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDYxODAxNg==","user":{"login":"apaleyes","id":2852301,"node_id":"MDQ6VXNlcjI4NTIzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/2852301?v=4","gravatar_id":"","url":"https://api.github.com/users/apaleyes","html_url":"https://github.com/apaleyes","followers_url":"https://api.github.com/users/apaleyes/followers","following_url":"https://api.github.com/users/apaleyes/following{/other_user}","gists_url":"https://api.github.com/users/apaleyes/gists{/gist_id}","starred_url":"https://api.github.com/users/apaleyes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apaleyes/subscriptions","organizations_url":"https://api.github.com/users/apaleyes/orgs","repos_url":"https://api.github.com/users/apaleyes/repos","events_url":"https://api.github.com/users/apaleyes/events{/privacy}","received_events_url":"https://api.github.com/users/apaleyes/received_events","type":"User","site_admin":false},"created_at":"2020-02-11T12:46:58Z","updated_at":"2020-02-11T12:47:10Z","author_association":"COLLABORATOR","body":"Well, I guess at this point the issue is beyond Emukit's scope. To make sure model can be saved in this example, we would need model persistence in GPflow to work properly, which apparently isn't the case.\r\n\r\nI would probably advise to try and raise it with GPflow folks, see if they are aware model persistence isn't working. Sorry we couldn't be of much help here!","reactions":{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/584618016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"apaleyes","id":2852301,"node_id":"MDQ6VXNlcjI4NTIzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/2852301?v=4","gravatar_id":"","url":"https://api.github.com/users/apaleyes","html_url":"https://github.com/apaleyes","followers_url":"https://api.github.com/users/apaleyes/followers","following_url":"https://api.github.com/users/apaleyes/following{/other_user}","gists_url":"https://api.github.com/users/apaleyes/gists{/gist_id}","starred_url":"https://api.github.com/users/apaleyes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apaleyes/subscriptions","organizations_url":"https://api.github.com/users/apaleyes/orgs","repos_url":"https://api.github.com/users/apaleyes/repos","events_url":"https://api.github.com/users/apaleyes/events{/privacy}","received_events_url":"https://api.github.com/users/apaleyes/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/588289413","html_url":"https://github.com/EmuKit/emukit/issues/281#issuecomment-588289413","issue_url":"https://api.github.com/repos/EmuKit/emukit/issues/281","id":588289413,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODI4OTQxMw==","user":{"login":"mmahsereci","id":42842079,"node_id":"MDQ6VXNlcjQyODQyMDc5","avatar_url":"https://avatars.githubusercontent.com/u/42842079?v=4","gravatar_id":"","url":"https://api.github.com/users/mmahsereci","html_url":"https://github.com/mmahsereci","followers_url":"https://api.github.com/users/mmahsereci/followers","following_url":"https://api.github.com/users/mmahsereci/following{/other_user}","gists_url":"https://api.github.com/users/mmahsereci/gists{/gist_id}","starred_url":"https://api.github.com/users/mmahsereci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmahsereci/subscriptions","organizations_url":"https://api.github.com/users/mmahsereci/orgs","repos_url":"https://api.github.com/users/mmahsereci/repos","events_url":"https://api.github.com/users/mmahsereci/events{/privacy}","received_events_url":"https://api.github.com/users/mmahsereci/received_events","type":"User","site_admin":false},"created_at":"2020-02-19T15:52:35Z","updated_at":"2020-02-19T15:52:35Z","author_association":"CONTRIBUTOR","body":"Thanks, Andrei and jjramsey, I am closing the issue.","reactions":{"url":"https://api.github.com/repos/EmuKit/emukit/issues/comments/588289413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mmahsereci","id":42842079,"node_id":"MDQ6VXNlcjQyODQyMDc5","avatar_url":"https://avatars.githubusercontent.com/u/42842079?v=4","gravatar_id":"","url":"https://api.github.com/users/mmahsereci","html_url":"https://github.com/mmahsereci","followers_url":"https://api.github.com/users/mmahsereci/followers","following_url":"https://api.github.com/users/mmahsereci/following{/other_user}","gists_url":"https://api.github.com/users/mmahsereci/gists{/gist_id}","starred_url":"https://api.github.com/users/mmahsereci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmahsereci/subscriptions","organizations_url":"https://api.github.com/users/mmahsereci/orgs","repos_url":"https://api.github.com/users/mmahsereci/repos","events_url":"https://api.github.com/users/mmahsereci/events{/privacy}","received_events_url":"https://api.github.com/users/mmahsereci/received_events","type":"User","site_admin":false}},{"id":3052222764,"node_id":"MDExOkNsb3NlZEV2ZW50MzA1MjIyMjc2NA==","url":"https://api.github.com/repos/EmuKit/emukit/issues/events/3052222764","actor":{"login":"mmahsereci","id":42842079,"node_id":"MDQ6VXNlcjQyODQyMDc5","avatar_url":"https://avatars.githubusercontent.com/u/42842079?v=4","gravatar_id":"","url":"https://api.github.com/users/mmahsereci","html_url":"https://github.com/mmahsereci","followers_url":"https://api.github.com/users/mmahsereci/followers","following_url":"https://api.github.com/users/mmahsereci/following{/other_user}","gists_url":"https://api.github.com/users/mmahsereci/gists{/gist_id}","starred_url":"https://api.github.com/users/mmahsereci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmahsereci/subscriptions","organizations_url":"https://api.github.com/users/mmahsereci/orgs","repos_url":"https://api.github.com/users/mmahsereci/repos","events_url":"https://api.github.com/users/mmahsereci/events{/privacy}","received_events_url":"https://api.github.com/users/mmahsereci/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-02-19T15:52:35Z","state_reason":null,"performed_via_github_app":null}]