{"url":"https://api.github.com/repos/EmuKit/emukit/issues/154","repository_url":"https://api.github.com/repos/EmuKit/emukit","labels_url":"https://api.github.com/repos/EmuKit/emukit/issues/154/labels{/name}","comments_url":"https://api.github.com/repos/EmuKit/emukit/issues/154/comments","events_url":"https://api.github.com/repos/EmuKit/emukit/issues/154/events","html_url":"https://github.com/EmuKit/emukit/issues/154","id":399437290,"node_id":"MDU6SXNzdWUzOTk0MzcyOTA=","number":154,"title":"MultiSourceFunctionWrapper result: Wrong x-y-pairs for unsorted sources","user":{"login":"dekuenstle","id":734721,"node_id":"MDQ6VXNlcjczNDcyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/734721?v=4","gravatar_id":"","url":"https://api.github.com/users/dekuenstle","html_url":"https://github.com/dekuenstle","followers_url":"https://api.github.com/users/dekuenstle/followers","following_url":"https://api.github.com/users/dekuenstle/following{/other_user}","gists_url":"https://api.github.com/users/dekuenstle/gists{/gist_id}","starred_url":"https://api.github.com/users/dekuenstle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dekuenstle/subscriptions","organizations_url":"https://api.github.com/users/dekuenstle/orgs","repos_url":"https://api.github.com/users/dekuenstle/repos","events_url":"https://api.github.com/users/dekuenstle/events{/privacy}","received_events_url":"https://api.github.com/users/dekuenstle/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-01-15T16:49:20Z","updated_at":"2019-01-21T15:32:48Z","closed_at":"2019-01-21T15:32:48Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Hey,\r\nif the input to a MultiSourceFunctionWrapper is not sorted by the source column, \r\nthen the list of results has input in the original order, but output ordered by source.\r\nI did not find any docs or checks about the input order.\r\n\r\n```python\r\nX = np.array([[x0, 0], [x1, 1], [x2, 0], [x3, 1]])\r\nf = MultiSourceFunctionWrapper([f0, f1])\r\nresults = f.evaluate(X)\r\n\r\n# input in results are in the expected order\r\nresults[0].X == [x0, 0]\r\nresults[1].X == [x1, 1]\r\n...\r\n# output is sorted by source\r\nresults[0].Y == f0([x0, 0])\r\nresults[1].Y == f0[x2, 0])\r\nresults[2].Y == f1([x1, 1])\r\nresults[3].Y == f1[x3, 1])\r\n```\r\nIn my oppinion, the outputs should be resorted to the input order before [zipping them](https://github.com/amzn/emukit/blob/master/emukit/core/loop/user_function.py#L117). \r\nI can prepare a PR, if it is welcome.\r\n\r\nCheers, \r\nDavid","closed_by":{"login":"apaleyes","id":2852301,"node_id":"MDQ6VXNlcjI4NTIzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/2852301?v=4","gravatar_id":"","url":"https://api.github.com/users/apaleyes","html_url":"https://github.com/apaleyes","followers_url":"https://api.github.com/users/apaleyes/followers","following_url":"https://api.github.com/users/apaleyes/following{/other_user}","gists_url":"https://api.github.com/users/apaleyes/gists{/gist_id}","starred_url":"https://api.github.com/users/apaleyes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apaleyes/subscriptions","organizations_url":"https://api.github.com/users/apaleyes/orgs","repos_url":"https://api.github.com/users/apaleyes/repos","events_url":"https://api.github.com/users/apaleyes/events{/privacy}","received_events_url":"https://api.github.com/users/apaleyes/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/EmuKit/emukit/issues/154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/EmuKit/emukit/issues/154/timeline","performed_via_github_app":null,"state_reason":"completed"}