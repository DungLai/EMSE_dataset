{"url":"https://api.github.com/repos/diffgram/diffgram/issues/596","repository_url":"https://api.github.com/repos/diffgram/diffgram","labels_url":"https://api.github.com/repos/diffgram/diffgram/issues/596/labels{/name}","comments_url":"https://api.github.com/repos/diffgram/diffgram/issues/596/comments","events_url":"https://api.github.com/repos/diffgram/diffgram/issues/596/events","html_url":"https://github.com/diffgram/diffgram/issues/596","id":1137794169,"node_id":"I_kwDOCM48Rc5D0Vx5","number":596,"title":"Image compression on using facing media","user":{"login":"anthony-sarkis","id":18080164,"node_id":"MDQ6VXNlcjE4MDgwMTY0","avatar_url":"https://avatars.githubusercontent.com/u/18080164?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-sarkis","html_url":"https://github.com/anthony-sarkis","followers_url":"https://api.github.com/users/anthony-sarkis/followers","following_url":"https://api.github.com/users/anthony-sarkis/following{/other_user}","gists_url":"https://api.github.com/users/anthony-sarkis/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-sarkis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-sarkis/subscriptions","organizations_url":"https://api.github.com/users/anthony-sarkis/orgs","repos_url":"https://api.github.com/users/anthony-sarkis/repos","events_url":"https://api.github.com/users/anthony-sarkis/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-sarkis/received_events","type":"User","site_admin":false},"labels":[{"id":1048365666,"node_id":"MDU6TGFiZWwxMDQ4MzY1NjY2","url":"https://api.github.com/repos/diffgram/diffgram/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"},{"id":3124551249,"node_id":"MDU6TGFiZWwzMTI0NTUxMjQ5","url":"https://api.github.com/repos/diffgram/diffgram/labels/discussion","name":"discussion","color":"E49EC3","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-02-14T20:18:36Z","updated_at":"2022-02-18T13:53:02Z","closed_at":"2022-02-18T13:53:02Z","author_association":"MEMBER","active_lock_reason":null,"body":"Continuing the discussion from https://github.com/diffgram/diffgram/pull/593\r\n\r\nTo summarize some of the above:\r\n1) We currently store the raw files as part of ingestion process. So the the assumption when creating any new modified artifacts is they are for specific purpose. For example for human UI centric use. The user or other processes can decide to pull the raw or modified image.\r\n2) In the context of 1) we may as well focus on space efficient storage options, e.g. for network transfer speed to user etc. For example defaulting to JPG and even a specific value on imwrite like 95\r\n\r\nTo add another reason why we do the raw storage, is that it helps decouple the processing layer from the raw ingestion layer. So for example as long as we can stream the raw bytes to the server we can ingest as much as we want. And if we have say a 30GB video file that needs to retry processing we can do that too.\r\n\r\nThis discussion is generally focused on images, but can also apply to other media formats.\r\nVideo -> We assume the new artifact will be .mp4 \r\n\r\nCurrent state (to be verified)\r\nAssuming this is already happening with imwrite default settings if input is jpg already\r\nAssuming this is not happening if the input type is `png` ","closed_by":{"login":"PJEstrada","id":6606958,"node_id":"MDQ6VXNlcjY2MDY5NTg=","avatar_url":"https://avatars.githubusercontent.com/u/6606958?v=4","gravatar_id":"","url":"https://api.github.com/users/PJEstrada","html_url":"https://github.com/PJEstrada","followers_url":"https://api.github.com/users/PJEstrada/followers","following_url":"https://api.github.com/users/PJEstrada/following{/other_user}","gists_url":"https://api.github.com/users/PJEstrada/gists{/gist_id}","starred_url":"https://api.github.com/users/PJEstrada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PJEstrada/subscriptions","organizations_url":"https://api.github.com/users/PJEstrada/orgs","repos_url":"https://api.github.com/users/PJEstrada/repos","events_url":"https://api.github.com/users/PJEstrada/events{/privacy}","received_events_url":"https://api.github.com/users/PJEstrada/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/diffgram/diffgram/issues/596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diffgram/diffgram/issues/596/timeline","performed_via_github_app":null,"state_reason":"completed"}