{"url":"https://api.github.com/repos/diffgram/diffgram/issues/861","repository_url":"https://api.github.com/repos/diffgram/diffgram","labels_url":"https://api.github.com/repos/diffgram/diffgram/issues/861/labels{/name}","comments_url":"https://api.github.com/repos/diffgram/diffgram/issues/861/comments","events_url":"https://api.github.com/repos/diffgram/diffgram/issues/861/events","html_url":"https://github.com/diffgram/diffgram/issues/861","id":1239364827,"node_id":"I_kwDOCM48Rc5J3zTb","number":861,"title":"Improve Asset Storage Backend Connection Tracking ","user":{"login":"anthony-sarkis","id":18080164,"node_id":"MDQ6VXNlcjE4MDgwMTY0","avatar_url":"https://avatars.githubusercontent.com/u/18080164?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-sarkis","html_url":"https://github.com/anthony-sarkis","followers_url":"https://api.github.com/users/anthony-sarkis/followers","following_url":"https://api.github.com/users/anthony-sarkis/following{/other_user}","gists_url":"https://api.github.com/users/anthony-sarkis/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-sarkis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-sarkis/subscriptions","organizations_url":"https://api.github.com/users/anthony-sarkis/orgs","repos_url":"https://api.github.com/users/anthony-sarkis/repos","events_url":"https://api.github.com/users/anthony-sarkis/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-sarkis/received_events","type":"User","site_admin":false},"labels":[{"id":1048365662,"node_id":"MDU6TGFiZWwxMDQ4MzY1NjYy","url":"https://api.github.com/repos/diffgram/diffgram/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-05-18T02:54:41Z","updated_at":"2022-05-26T20:03:09Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"### Context\r\nIn the past we operated under the assumption of a single storage backend\r\nso it was rare that (from a system level) a blob could ever inaccessible, missing or unavailable\r\n\r\nRecent changes, and directional ideas, make it more possible\r\n* As we add more storage backends\r\n  *  it's possible a file could be in one backend, and if the user switches it will become missing\r\nin the case of minio and local dev for example\r\n* Storage tier delays, archive may be 2-12 hours\r\n* As we grow embedded support and users more deeply integrate Diffgram \r\n* End user managed storage could be disrupted. e.g. user deletes bucket\r\n* New end user goals / life cycle rules, e.g guarantee delete after x period of time.\r\n* As we explore more IAM and alternative storage concepts, it becomes more likely \r\nthat a blob will be auth blocked, inaccessible or deleted from some other process\r\n\r\nSo basically before the assumption was if the blob was missing it was \"really bad\"\r\nNow there could be valid, even expected, reasons.\r\nSo we want to shift more into software managed and reduce expectations about having the same storage always available.\r\n\r\n### Ideas\r\n* Add better 404 / error handling if the bob / file path is not found (since this could always happen in theory)\r\n* General shift to no longer assume a blob will be available\r\n* Capture more information about the where the resource lives\r\nfor example, if we also shift to making the \"backend\" itself a `connection` object,\r\nthis might be as easy as storing the connection ID.\r\n\r\nSemi related, this could be a step towards cases where we want to keep Diffgram generated data artifacts in the same place\r\nas the original data.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/diffgram/diffgram/issues/861/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diffgram/diffgram/issues/861/timeline","performed_via_github_app":null,"state_reason":null}