{"url":"https://api.github.com/repos/diffgram/diffgram/issues/545","repository_url":"https://api.github.com/repos/diffgram/diffgram","labels_url":"https://api.github.com/repos/diffgram/diffgram/issues/545/labels{/name}","comments_url":"https://api.github.com/repos/diffgram/diffgram/issues/545/comments","events_url":"https://api.github.com/repos/diffgram/diffgram/issues/545/events","html_url":"https://github.com/diffgram/diffgram/issues/545","id":1118440403,"node_id":"I_kwDOCM48Rc5CqgvT","number":545,"title":"Better UI experience for surfacing permissions errors, including stale logins","user":{"login":"anthony-sarkis","id":18080164,"node_id":"MDQ6VXNlcjE4MDgwMTY0","avatar_url":"https://avatars.githubusercontent.com/u/18080164?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-sarkis","html_url":"https://github.com/anthony-sarkis","followers_url":"https://api.github.com/users/anthony-sarkis/followers","following_url":"https://api.github.com/users/anthony-sarkis/following{/other_user}","gists_url":"https://api.github.com/users/anthony-sarkis/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-sarkis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-sarkis/subscriptions","organizations_url":"https://api.github.com/users/anthony-sarkis/orgs","repos_url":"https://api.github.com/users/anthony-sarkis/repos","events_url":"https://api.github.com/users/anthony-sarkis/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-sarkis/received_events","type":"User","site_admin":false},"labels":[{"id":3095735901,"node_id":"MDU6TGFiZWwzMDk1NzM1OTAx","url":"https://api.github.com/repos/diffgram/diffgram/labels/backlog","name":"backlog","color":"58E97A","default":false,"description":""},{"id":3251128841,"node_id":"MDU6TGFiZWwzMjUxMTI4ODQx","url":"https://api.github.com/repos/diffgram/diffgram/labels/user-experience","name":"user-experience","color":"3CD7CF","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-01-30T07:03:59Z","updated_at":"2022-02-02T00:18:36Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Context of bug report on user not being able to create or delete projects after having not logged in for some time.\r\n\r\n## Observation\r\nWhen the user session goes stale for normal security reasons it naturally prevents the user from operating normally.\r\nWhile certain actions throw fairly loud errors on 403s, it sounds like some don't.\r\n\r\n## Intent\r\nIdeally system detects that it's a stale session and prompts the user to log back in again.\r\n\r\n## Ideas\r\nThis should be generic enough that it can happen anywhere in the application.\r\n\r\nIf we add this directly into regular error that may be fairly easy to achieve.\r\nhttps://github.com/diffgram/diffgram/blob/master/frontend/src/components/regular/regular_error_handling.js#L64\r\n\r\nMaybe something through vuex and a snackbar, like what we already have for a broken connection to backend.\r\nhttps://github.com/diffgram/diffgram/blob/master/frontend/src/components/regular/regular_error_handling.js#L47\r\n\r\nA proxy for stale state could be the 403 status but we may want something more sophisticated in future.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/diffgram/diffgram/issues/545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diffgram/diffgram/issues/545/timeline","performed_via_github_app":null,"state_reason":null}