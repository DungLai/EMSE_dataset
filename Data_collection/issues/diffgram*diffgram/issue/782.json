{"url":"https://api.github.com/repos/diffgram/diffgram/issues/782","repository_url":"https://api.github.com/repos/diffgram/diffgram","labels_url":"https://api.github.com/repos/diffgram/diffgram/issues/782/labels{/name}","comments_url":"https://api.github.com/repos/diffgram/diffgram/issues/782/comments","events_url":"https://api.github.com/repos/diffgram/diffgram/issues/782/events","html_url":"https://github.com/diffgram/diffgram/issues/782","id":1191023466,"node_id":"I_kwDOCM48Rc5G_ZNq","number":782,"title":"Flask error handling review","user":{"login":"anthony-sarkis","id":18080164,"node_id":"MDQ6VXNlcjE4MDgwMTY0","avatar_url":"https://avatars.githubusercontent.com/u/18080164?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-sarkis","html_url":"https://github.com/anthony-sarkis","followers_url":"https://api.github.com/users/anthony-sarkis/followers","following_url":"https://api.github.com/users/anthony-sarkis/following{/other_user}","gists_url":"https://api.github.com/users/anthony-sarkis/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-sarkis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-sarkis/subscriptions","organizations_url":"https://api.github.com/users/anthony-sarkis/orgs","repos_url":"https://api.github.com/users/anthony-sarkis/repos","events_url":"https://api.github.com/users/anthony-sarkis/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-sarkis/received_events","type":"User","site_admin":false},"labels":[{"id":3280404168,"node_id":"MDU6TGFiZWwzMjgwNDA0MTY4","url":"https://api.github.com/repos/diffgram/diffgram/labels/backend","name":"backend","color":"3D08AB","default":false,"description":""},{"id":3996947883,"node_id":"LA_kwDOCM48Rc7uPJWr","url":"https://api.github.com/repos/diffgram/diffgram/labels/flask","name":"flask","color":"A1E545","default":false,"description":""},{"id":3996948038,"node_id":"LA_kwDOCM48Rc7uPJZG","url":"https://api.github.com/repos/diffgram/diffgram/labels/error%20handling","name":"error handling","color":"1963D4","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-03T19:32:18Z","updated_at":"2022-04-03T19:36:34Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"### Context\r\nThe guidance here https://flask.palletsprojects.com/en/2.0.x/errorhandling/#generic-exception-handlers\r\nwarns \"Be sure to craft your handler carefully so you donâ€™t lose information about the HTTP error.\"\r\n\r\nWe are subject to this, here https://github.com/diffgram/diffgram/blob/master/shared/error_handlers/error_handlers.py\r\nwe added a manual one for forbidden, and then recently I added it for 404 but neither solution is great. Basically both attempts were band-aids vs general solution. This is relevant to internal 5 whys review on confusion debugging what turned out to be a relatively simple issue.\r\n\r\nWe need to review way to add the information we want for custom handling, but without losing the http info, especially the status code. It may be as easy as L18 to `e.code`. But this is worth a double check and awareness. \r\n\r\nhttps://github.com/diffgram/diffgram/pull/777/commits/2a0a11ecf8c4d36713bc8a39a2ba41a510f822f8  please review\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/diffgram/diffgram/issues/782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diffgram/diffgram/issues/782/timeline","performed_via_github_app":null,"state_reason":null}