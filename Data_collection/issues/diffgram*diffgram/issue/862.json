{"url":"https://api.github.com/repos/diffgram/diffgram/issues/862","repository_url":"https://api.github.com/repos/diffgram/diffgram","labels_url":"https://api.github.com/repos/diffgram/diffgram/issues/862/labels{/name}","comments_url":"https://api.github.com/repos/diffgram/diffgram/issues/862/comments","events_url":"https://api.github.com/repos/diffgram/diffgram/issues/862/events","html_url":"https://github.com/diffgram/diffgram/issues/862","id":1240418253,"node_id":"I_kwDOCM48Rc5J70fN","number":862,"title":"Default Storage Provider: Consider adding minio to docker compose","user":{"login":"anthony-sarkis","id":18080164,"node_id":"MDQ6VXNlcjE4MDgwMTY0","avatar_url":"https://avatars.githubusercontent.com/u/18080164?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-sarkis","html_url":"https://github.com/anthony-sarkis","followers_url":"https://api.github.com/users/anthony-sarkis/followers","following_url":"https://api.github.com/users/anthony-sarkis/following{/other_user}","gists_url":"https://api.github.com/users/anthony-sarkis/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-sarkis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-sarkis/subscriptions","organizations_url":"https://api.github.com/users/anthony-sarkis/orgs","repos_url":"https://api.github.com/users/anthony-sarkis/repos","events_url":"https://api.github.com/users/anthony-sarkis/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-sarkis/received_events","type":"User","site_admin":false},"labels":[{"id":3095733390,"node_id":"MDU6TGFiZWwzMDk1NzMzMzkw","url":"https://api.github.com/repos/diffgram/diffgram/labels/installation","name":"installation","color":"0D272A","default":false,"description":""},{"id":3108651667,"node_id":"MDU6TGFiZWwzMTA4NjUxNjY3","url":"https://api.github.com/repos/diffgram/diffgram/labels/admin%20experience","name":"admin experience","color":"224E58","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"PJEstrada","id":6606958,"node_id":"MDQ6VXNlcjY2MDY5NTg=","avatar_url":"https://avatars.githubusercontent.com/u/6606958?v=4","gravatar_id":"","url":"https://api.github.com/users/PJEstrada","html_url":"https://github.com/PJEstrada","followers_url":"https://api.github.com/users/PJEstrada/followers","following_url":"https://api.github.com/users/PJEstrada/following{/other_user}","gists_url":"https://api.github.com/users/PJEstrada/gists{/gist_id}","starred_url":"https://api.github.com/users/PJEstrada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PJEstrada/subscriptions","organizations_url":"https://api.github.com/users/PJEstrada/orgs","repos_url":"https://api.github.com/users/PJEstrada/repos","events_url":"https://api.github.com/users/PJEstrada/events{/privacy}","received_events_url":"https://api.github.com/users/PJEstrada/received_events","type":"User","site_admin":false},"assignees":[{"login":"PJEstrada","id":6606958,"node_id":"MDQ6VXNlcjY2MDY5NTg=","avatar_url":"https://avatars.githubusercontent.com/u/6606958?v=4","gravatar_id":"","url":"https://api.github.com/users/PJEstrada","html_url":"https://github.com/PJEstrada","followers_url":"https://api.github.com/users/PJEstrada/followers","following_url":"https://api.github.com/users/PJEstrada/following{/other_user}","gists_url":"https://api.github.com/users/PJEstrada/gists{/gist_id}","starred_url":"https://api.github.com/users/PJEstrada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PJEstrada/subscriptions","organizations_url":"https://api.github.com/users/PJEstrada/orgs","repos_url":"https://api.github.com/users/PJEstrada/repos","events_url":"https://api.github.com/users/PJEstrada/events{/privacy}","received_events_url":"https://api.github.com/users/PJEstrada/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2022-05-18T19:27:46Z","updated_at":"2022-10-21T22:53:44Z","closed_at":"2022-10-21T22:53:28Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Update** Merged!\r\nhttps://github.com/diffgram/diffgram/pull/1127\r\n\r\nExample\r\nIdea credit: @ppolxda @towr\r\n\r\nhttps://github.com/diffgram/diffgram/commit/d637d2f974b74a8f746e4eb2149c383b0ccae7b5\r\n\r\nAlso\r\nhttps://github.com/diffgram/diffgram/commit/9608e58d1324ad4f0a1ff90ece4bfe2368b7adfe\r\n\r\n```\r\nminio:\r\n    image: minio/minio\r\n    environment:\r\n      <<: *diffgram-common-env\r\n    ports:\r\n      - 9000:9000\r\n      - 9001:9001\r\n    volumes:\r\n      - ${MINIO_DATA_DIR:-minio-data}:/data\r\n    command: server /data --console-address \":9001\"\r\n    healthcheck:\r\n      test: [\"CMD\", \"curl\", \"-f\", \"http://minio:9000/minio/health/live\"]\r\n      interval: 30s\r\n      timeout: 20s\r\n      retries: 3\r\n    restart: always\r\n\r\n  createbuckets:\r\n    image: minio/mc\r\n    depends_on:\r\n      - minio\r\n    environment:\r\n      <<: *diffgram-common-env\r\n    entrypoint: >\r\n      /bin/sh -c \" \r\n      echo $${DIFFGRAM_S3_BUCKET_NAME}; \r\n      echo $${ML__DIFFGRAM_S3_BUCKET_NAME}; \r\n      /usr/bin/mc alias set myminio http://minio:9000 $${MINIO_ROOT_USER}  $${MINIO_ROOT_PASSWORD};\r\n      /usr/bin/mc mb myminio/$${DIFFGRAM_S3_BUCKET_NAME}; \r\n      /usr/bin/mc mb myminio/$${ML__DIFFGRAM_S3_BUCKET_NAME}; \r\n      exit 0; \"\r\n```\r\n","closed_by":{"login":"anthony-sarkis","id":18080164,"node_id":"MDQ6VXNlcjE4MDgwMTY0","avatar_url":"https://avatars.githubusercontent.com/u/18080164?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-sarkis","html_url":"https://github.com/anthony-sarkis","followers_url":"https://api.github.com/users/anthony-sarkis/followers","following_url":"https://api.github.com/users/anthony-sarkis/following{/other_user}","gists_url":"https://api.github.com/users/anthony-sarkis/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-sarkis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-sarkis/subscriptions","organizations_url":"https://api.github.com/users/anthony-sarkis/orgs","repos_url":"https://api.github.com/users/anthony-sarkis/repos","events_url":"https://api.github.com/users/anthony-sarkis/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-sarkis/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/diffgram/diffgram/issues/862/reactions","total_count":30,"+1":29,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diffgram/diffgram/issues/862/timeline","performed_via_github_app":null,"state_reason":"completed"}