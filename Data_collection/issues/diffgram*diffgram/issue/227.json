{"url":"https://api.github.com/repos/diffgram/diffgram/issues/227","repository_url":"https://api.github.com/repos/diffgram/diffgram","labels_url":"https://api.github.com/repos/diffgram/diffgram/issues/227/labels{/name}","comments_url":"https://api.github.com/repos/diffgram/diffgram/issues/227/comments","events_url":"https://api.github.com/repos/diffgram/diffgram/issues/227/events","html_url":"https://github.com/diffgram/diffgram/issues/227","id":969354316,"node_id":"MDU6SXNzdWU5NjkzNTQzMTY=","number":227,"title":"[backlog] Instrumentation - flask catch 400 errors into event system","user":{"login":"anthony-sarkis","id":18080164,"node_id":"MDQ6VXNlcjE4MDgwMTY0","avatar_url":"https://avatars.githubusercontent.com/u/18080164?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-sarkis","html_url":"https://github.com/anthony-sarkis","followers_url":"https://api.github.com/users/anthony-sarkis/followers","following_url":"https://api.github.com/users/anthony-sarkis/following{/other_user}","gists_url":"https://api.github.com/users/anthony-sarkis/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-sarkis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-sarkis/subscriptions","organizations_url":"https://api.github.com/users/anthony-sarkis/orgs","repos_url":"https://api.github.com/users/anthony-sarkis/repos","events_url":"https://api.github.com/users/anthony-sarkis/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-sarkis/received_events","type":"User","site_admin":false},"labels":[{"id":3095735901,"node_id":"MDU6TGFiZWwzMDk1NzM1OTAx","url":"https://api.github.com/repos/diffgram/diffgram/labels/backlog","name":"backlog","color":"58E97A","default":false,"description":""},{"id":3171896860,"node_id":"MDU6TGFiZWwzMTcxODk2ODYw","url":"https://api.github.com/repos/diffgram/diffgram/labels/analytics","name":"analytics","color":"980B64","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-08-12T18:40:08Z","updated_at":"2021-08-12T20:05:53Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Instrumentation idea\r\n\r\nA small idea to help us discover this and other errors, what if we add a\r\nglobal wrapper on flask routes, that if it's a 400 error it attempts to\r\ncreate a diffgram event with the log? (or something similar)\r\n\r\nThat way we have more statistical insight to how often these type of things\r\nare occurring. Plus potentially more information in terms of time stamps\r\nand relevant instance list etc.\r\n\r\nMain context is desire to store the diffgram internal log which new relic or other logging I believe doesn't capture\r\nIt's also just easier sometimes to have these \"named\" events instead of having to deduce it from general logs\r\n\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/diffgram/diffgram/issues/227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diffgram/diffgram/issues/227/timeline","performed_via_github_app":null,"state_reason":null}