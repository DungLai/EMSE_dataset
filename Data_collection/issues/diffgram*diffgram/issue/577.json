{"url":"https://api.github.com/repos/diffgram/diffgram/issues/577","repository_url":"https://api.github.com/repos/diffgram/diffgram","labels_url":"https://api.github.com/repos/diffgram/diffgram/issues/577/labels{/name}","comments_url":"https://api.github.com/repos/diffgram/diffgram/issues/577/comments","events_url":"https://api.github.com/repos/diffgram/diffgram/issues/577/events","html_url":"https://github.com/diffgram/diffgram/issues/577","id":1126195508,"node_id":"I_kwDOCM48Rc5DIGE0","number":577,"title":"How do I change the port from the default 8080","user":{"login":"RAbraham","id":214189,"node_id":"MDQ6VXNlcjIxNDE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/214189?v=4","gravatar_id":"","url":"https://api.github.com/users/RAbraham","html_url":"https://github.com/RAbraham","followers_url":"https://api.github.com/users/RAbraham/followers","following_url":"https://api.github.com/users/RAbraham/following{/other_user}","gists_url":"https://api.github.com/users/RAbraham/gists{/gist_id}","starred_url":"https://api.github.com/users/RAbraham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RAbraham/subscriptions","organizations_url":"https://api.github.com/users/RAbraham/orgs","repos_url":"https://api.github.com/users/RAbraham/repos","events_url":"https://api.github.com/users/RAbraham/events{/privacy}","received_events_url":"https://api.github.com/users/RAbraham/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-02-07T16:10:23Z","updated_at":"2022-02-07T22:04:46Z","closed_at":"2022-02-07T22:04:46Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\nI'm trying to run diffgram on a local server. I see that some of the services use the port 8080 but that's already used by another service of ours in a docker container. How do I go about changing to another port?\r\n\r\nWhat I tried:\r\n- go to the `docker-compose` and change all ports to `9080`\r\n- change all locations in `.env` to `9080`\r\n\r\nbut that didnt work\r\n\r\nHere is the error I got(when I go through the new task template on the UI):\r\n```\r\n\r\n\r\n error: HTTPConnectionPool(host='walrus', port=9080): Max retries exceeded with url: /api/walrus/v1/interservice/receive (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7c2f752da0>: Failed to establish a new connection: [Errno -2] Name or service not known'))\r\n trace: Traceback (most recent call last): File \"/usr/local/lib/python3.7/site-packages/urllib3/connection.py\", line 175, in _new_conn (self._dns_host, self.port), self.timeout, **extra_kw File \"/usr/local/lib/python3.7/site-packages/urllib3/util/connection.py\", line 72, in create_connection for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM): File \"/usr/local/lib/python3.7/socket.py\", line 748, in getaddrinfo for res in _socket.getaddrinfo(host, port, family, type, proto, flags): socket.gaierror: [Errno -2] Name or service not known During handling of the above exception, another exception occurred: Traceback (most recent call last): File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 710, in urlopen chunked=chunked, File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 398, in _make_request conn.request(method, url, **httplib_request_kw) File \"/usr/local/lib/python3.7/site-packages/urllib3/connection.py\", line 239, in request super(HTTPConnection, self).request(method, url, body=body, headers=headers) File \"/usr/local/lib/python3.7/http/client.py\", line 1229, in request self._send_request(method, url, body, headers, encode_chunked) File \"/usr/local/lib/python3.7/http/client.py\", line 1275, in _send_request self.endheaders(body, encode_chunked=encode_chunked) File \"/usr/local/lib/python3.7/http/client.py\", line 1224, in endheaders self._send_output(message_body, encode_chunked=encode_chunked) File \"/usr/local/lib/python3.7/http/client.py\", line 1016, in _send_output self.send(msg) File \"/usr/local/lib/python3.7/http/client.py\", line 956, in send self.connect() File \"/usr/local/lib/python3.7/site-packages/urllib3/connection.py\", line 205, in connect conn = self._new_conn() File \"/usr/local/lib/python3.7/site-packages/urllib3/connection.py\", line 187, in _new_conn self, \"Failed to establish a new connection: %s\" % e urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f7c2f752da0>: Failed to establish a new connection: [Errno -2] Name or service not known During handling of the above exception, another exception occurred: Traceback (most recent call last): File \"/usr/local/lib/python3.7/site-packages/requests/adapters.py\", line 449, in send timeout=timeout File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 786, in urlopen method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2] File \"/usr/local/lib/python3.7/site-packages/urllib3/util/retry.py\", line 592, in increment raise MaxRetryError(_pool, url, error or ResponseError(cause)) urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='walrus', port=9080): Max retries exceeded with url: /api/walrus/v1/interservice/receive (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7c2f752da0>: Failed to establish a new connection: [Errno -2] Name or service not known')) During handling of the above exception, another exception occurred: Traceback (most recent call last): File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1949, in full_dispatch_request rv = self.dispatch_request() File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1935, in dispatch_request return self.view_functions[rule.endpoint](**req.view_args) File \"/app/methods/task/task_template/job_launch.py\", line 136, in task_template_launch_api task_template_launcher.enqueue_task_template_launch(member_created=member) File \"/app/methods/task/task_template/job_launch.py\", line 35, in enqueue_task_template_launch self.notify_workers() File \"/app/methods/task/task_template/job_launch.py\", line 42, in notify_workers service_target = 'walrus') File \"/app/shared/regular/regular_methods.py\", line 111, in transmit_interservice_request response = requests.post(endpoint, data = json.dumps(data)) File \"/usr/local/lib/python3.7/site-packages/requests/api.py\", line 119, in post return request('post', url, data=data, json=json, **kwargs) File \"/usr/local/lib/python3.7/site-packages/requests/api.py\", line 61, in request return session.request(method=method, url=url, **kwargs) File \"/usr/local/lib/python3.7/site-packages/requests/sessions.py\", line 542, in request resp = self.send(prep, **send_kwargs) File \"/usr/local/lib/python3.7/site-packages/requests/sessions.py\", line 655, in send r = adapter.send(request, **kwargs) File \"/usr/local/lib/python3.7/site-packages/requests/adapters.py\", line 516, in send raise ConnectionError(e, request=request) requests.exceptions.ConnectionError: HTTPConnectionPool(host='walrus', port=9080): Max retries exceeded with url: /api/walrus/v1/interservice/receive (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7c2f752da0>: Failed to establish a new connection: [Errno -2] Name or service not known'))\r\n server: Please try again later. Contact us if this persists. \r\n```\r\n","closed_by":{"login":"RAbraham","id":214189,"node_id":"MDQ6VXNlcjIxNDE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/214189?v=4","gravatar_id":"","url":"https://api.github.com/users/RAbraham","html_url":"https://github.com/RAbraham","followers_url":"https://api.github.com/users/RAbraham/followers","following_url":"https://api.github.com/users/RAbraham/following{/other_user}","gists_url":"https://api.github.com/users/RAbraham/gists{/gist_id}","starred_url":"https://api.github.com/users/RAbraham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RAbraham/subscriptions","organizations_url":"https://api.github.com/users/RAbraham/orgs","repos_url":"https://api.github.com/users/RAbraham/repos","events_url":"https://api.github.com/users/RAbraham/events{/privacy}","received_events_url":"https://api.github.com/users/RAbraham/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/diffgram/diffgram/issues/577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diffgram/diffgram/issues/577/timeline","performed_via_github_app":null,"state_reason":"completed"}