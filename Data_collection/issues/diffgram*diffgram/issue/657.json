{"url":"https://api.github.com/repos/diffgram/diffgram/issues/657","repository_url":"https://api.github.com/repos/diffgram/diffgram","labels_url":"https://api.github.com/repos/diffgram/diffgram/issues/657/labels{/name}","comments_url":"https://api.github.com/repos/diffgram/diffgram/issues/657/comments","events_url":"https://api.github.com/repos/diffgram/diffgram/issues/657/events","html_url":"https://github.com/diffgram/diffgram/issues/657","id":1147374151,"node_id":"I_kwDOCM48Rc5EY4pH","number":657,"title":"Make user moving to different project via random URL navigation smoother","user":{"login":"anthony-sarkis","id":18080164,"node_id":"MDQ6VXNlcjE4MDgwMTY0","avatar_url":"https://avatars.githubusercontent.com/u/18080164?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-sarkis","html_url":"https://github.com/anthony-sarkis","followers_url":"https://api.github.com/users/anthony-sarkis/followers","following_url":"https://api.github.com/users/anthony-sarkis/following{/other_user}","gists_url":"https://api.github.com/users/anthony-sarkis/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-sarkis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-sarkis/subscriptions","organizations_url":"https://api.github.com/users/anthony-sarkis/orgs","repos_url":"https://api.github.com/users/anthony-sarkis/repos","events_url":"https://api.github.com/users/anthony-sarkis/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-sarkis/received_events","type":"User","site_admin":false},"labels":[{"id":3095735901,"node_id":"MDU6TGFiZWwzMDk1NzM1OTAx","url":"https://api.github.com/repos/diffgram/diffgram/labels/backlog","name":"backlog","color":"58E97A","default":false,"description":""},{"id":3251128841,"node_id":"MDU6TGFiZWwzMjUxMTI4ODQx","url":"https://api.github.com/repos/diffgram/diffgram/labels/user-experience","name":"user-experience","color":"3CD7CF","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-22T21:14:35Z","updated_at":"2022-02-23T19:41:19Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"### Intent\r\nAs a logged in user, if I follow a link from project A to project B the front end should auto move my current project to B.\r\n\r\n### Context\r\nThis is implemented for tasks.\r\nIt would be better if it was a more general implementation e.g. in the router nav guard  `router.beforeEach()` or similar\r\n\r\nMain challenge is not all routes contain the project string. Options include\r\n1) moving all URLs to include project string\r\n2) custom logic for popular routes\r\n3) Or something else?\r\n\r\n### Why?\r\n1) Not all screens have the change project option - meaning that a user can feel \"stuck\"\r\n2) It can be annoying\r\n3) The more robust we make this, the less we rely on redirects or events (like login), since any link will work.\r\n\r\n### More context\r\n- A perfect redirect a login does not solve this, since as a logged in user I may wish to go from task A to task B and task A may be in project A and B in B etc.\r\n- The project concept contains important permission concepts, and is relatively robust, the fault is the current system assumed the user would change it through the UI, but in reality it can often be through a link.\r\n\r\n### Links / implementation detail\r\ntask->\r\nhttps://github.com/diffgram/diffgram/blob/18f376a41ec386c537ad845ba25ca3be4d69c7d1/frontend/src/components/annotation/annotation_ui_factory.vue#L628\r\n\r\nthe primary lines to change the project is \r\n```\r\n  this.$store.commit(\"set_project_name\", response.data[\"project\"][\"name\"]);\r\n  this.$store.commit(\"set_project\", response.data[\"project\"]); \r\n```\r\nThis needs to be refactored into one line too. `set_project_name` is the legacy method and just needs to be added into `set_project`.  The permissions stuff too should be rolled into project change too probably. \r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/diffgram/diffgram/issues/657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diffgram/diffgram/issues/657/timeline","performed_via_github_app":null,"state_reason":null}