[{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663091094","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-663091094","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":663091094,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzA5MTA5NA==","user":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T16:01:56Z","updated_at":"2020-07-23T16:01:56Z","author_association":"CONTRIBUTOR","body":"By performance do you mean the accuracy of the embeddings, or the computational performance? \r\n\r\nThe embedding accuracy is discussed in the following papers:\r\n- In the original paper they do performance evaluation - https://arxiv.org/pdf/1710.10321.pdf\r\n- In this paper the performance of other network embedding algorithms is discussed and evaluated - https://arxiv.org/pdf/1911.11726.pdf\r\n\r\nHope this helps","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663091094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663432606","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-663432606","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":663432606,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzQzMjYwNg==","user":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false},"created_at":"2020-07-24T09:07:30Z","updated_at":"2020-07-24T09:07:30Z","author_association":"NONE","body":"Thank you for your answer.\r\nBut my issue is that I want to explore the node classification performance of the graphwave model on other datasets. And your code only get node embedding representations, I try to do node classification task based your code. But I do not success. So I hope that to make the open source code more usable, you can add the node classification task for graphwave model.","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663432606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663462909","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-663462909","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":663462909,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzQ2MjkwOQ==","user":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false},"created_at":"2020-07-24T09:57:48Z","updated_at":"2020-07-24T09:57:48Z","author_association":"CONTRIBUTOR","body":"From the investigations into the use of graphwave that I conducted during my final year of university I found that semi-supervised (such as label spreading) and unsupervised (clustering) ML was not a good use of graphwave due to fairly poor accuracy in a real-world dataset. The dataset used was approximately 270 nodes from the enron dataset labelled with the individual's job title, with the aim of predicting job-title from the graph structure. The job titles were \"Employee\", \"Manager\", and \"President, Director, or CEO (PDCEO)\".\r\n\r\n![Unsupervised learning performance](https://user-images.githubusercontent.com/15263318/88379674-4a655000-cd9b-11ea-9ab7-f71c1f81cc92.png)\r\n\r\n![Label spreading performance](https://user-images.githubusercontent.com/15263318/88379787-6c5ed280-cd9b-11ea-9018-6c9fc1020f85.png)\r\n\r\n\r\nSupervised learning approaches, such as using XGBoost, were fairly effective in comparison but still did not yield 'good' overall accuracy, however this is not necessarily the fault of the approach, but potentially the relatively small and potentially noisy dataset used. This approach also requires a large amount of labelled data, which would not be a good use case for graphwave in the first place as graphwave is designed for unsupervised role detection. Perhaps another algorithm would be more suitable in this case, as it would be able to take advantage of known labels to extract behaviour 'fingerprints' that would more strongly correlate with each class.\r\n\r\n![Supervised learning performance](https://user-images.githubusercontent.com/15263318/88379621-34f02600-cd9b-11ea-9d59-18b89e908904.png)\r\n\r\nIn the dataset I used, the best approach I found was simply using K-NN, where K could be as low as a single other node and would still provide relatively good accuracy.\r\n\r\n![Single Nearest Neighbour performance](https://user-images.githubusercontent.com/15263318/88380072-c495d480-cd9b-11ea-94de-b96b258122e2.png)\r\n\r\nAdditionally the idea of an ordered set of likely classes (which could be evaluated similarly to a search engine's ranking system) using K-NN was initially investigated, but needed more testing than I had time for.\r\n\r\nHope this helps, and I have also created a distributed graphwave implementation to help speed up the learning times as this implementation, whilst very good, does not take advantage of the embarrassingly parallel nature of most of the graphwave algorithm.","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663462909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663984060","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-663984060","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":663984060,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mzk4NDA2MA==","user":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false},"created_at":"2020-07-26T12:51:20Z","updated_at":"2020-07-26T12:51:20Z","author_association":"NONE","body":"Thank you very much.  I learned a lot from your answer analysis. I want to do node classification task on Cora dataset by using your code. But my code allways dose not run in the part of node classification code. So I'd like to ask for your help. I hope that you can give the code of node classification based on your graphwave model. Thank you much.","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663984060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663992450","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-663992450","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":663992450,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mzk5MjQ1MA==","user":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false},"created_at":"2020-07-26T14:08:30Z","updated_at":"2020-07-26T14:08:30Z","author_association":"CONTRIBUTOR","body":"This is taking bits from what i used, however is not entirely the same. But it should give you an idea of how I approached it.\r\n```python3\r\nimport pandas as pd \r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.decomposition import PCA\r\nfrom sklearn.preprocessing import StandardScaler\r\nfrom sklearn.svm import SVC\r\nfrom sklearn.metrics import confusion_matrix\r\nfrom pprint import pprint\r\nfrom sklearn.metrics import classification_report\r\n\r\ngw_res = pd.read_csv(\"gwres.csv\") # output from graphwave algorithm\r\nroles = pd.read_csv(\"roles.csv\") # order matches gwres order.\r\n\r\ndf_all = gw_res\r\ndf_all['role'] = roles\r\n\r\n\r\npca = PCA(n_components=0.99) # keep 99% of variance \r\nemb = pca.fit_transform(StandardScaler().fit_transform(gw_res))\r\n\r\nclf = SVC()\r\nle = LabelEncoder()\r\n\r\nX = gw_res\r\ny = le.fit_transform(df_all['role'])\r\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.20)\r\n\r\nclf.fit(X_train, y_train)\r\npreds = clf.predict(X_test)\r\npprint(confusion_matrix(y_test, preds))\r\nprint(classification_report(y_test, preds))\r\n```","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/663992450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false}},{"id":3619258234,"node_id":"MDExOkNsb3NlZEV2ZW50MzYxOTI1ODIzNA==","url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/events/3619258234","actor":{"login":"benedekrozemberczki","id":17380887,"node_id":"MDQ6VXNlcjE3MzgwODg3","avatar_url":"https://avatars.githubusercontent.com/u/17380887?v=4","gravatar_id":"","url":"https://api.github.com/users/benedekrozemberczki","html_url":"https://github.com/benedekrozemberczki","followers_url":"https://api.github.com/users/benedekrozemberczki/followers","following_url":"https://api.github.com/users/benedekrozemberczki/following{/other_user}","gists_url":"https://api.github.com/users/benedekrozemberczki/gists{/gist_id}","starred_url":"https://api.github.com/users/benedekrozemberczki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedekrozemberczki/subscriptions","organizations_url":"https://api.github.com/users/benedekrozemberczki/orgs","repos_url":"https://api.github.com/users/benedekrozemberczki/repos","events_url":"https://api.github.com/users/benedekrozemberczki/events{/privacy}","received_events_url":"https://api.github.com/users/benedekrozemberczki/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-08-04T08:56:55Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677479981","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-677479981","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":677479981,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzQ3OTk4MQ==","user":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false},"created_at":"2020-08-20T09:14:42Z","updated_at":"2020-08-20T09:16:42Z","author_association":"NONE","body":"Hello, I am sorry to reply your message now. I read your answer above, but I do not get this result. This is my real problem according the learned node embedding from your code. I think that you see this figure, and you can know my problem. Thus, I hope that you can know how to solve this problem. Due to the learned node embedding from your code, I would like to evaluate the learned node embedding through the node classification.\r\n![](https://img-blog.csdnimg.cn/20200820170132262.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3h1ZXhpb25n,size_16,color_FFFFFF,t_70)\r\n###    Run Error: TypeError: Singleton array array(<_io.TextIOWrapper name='../output/wiki_embedding.txt' mode='r' encoding='cp936'>, dtype=object) cannot be considered a valid collection.","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677479981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677480634","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-677480634","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":677480634,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzQ4MDYzNA==","user":{"login":"benedekrozemberczki","id":17380887,"node_id":"MDQ6VXNlcjE3MzgwODg3","avatar_url":"https://avatars.githubusercontent.com/u/17380887?v=4","gravatar_id":"","url":"https://api.github.com/users/benedekrozemberczki","html_url":"https://github.com/benedekrozemberczki","followers_url":"https://api.github.com/users/benedekrozemberczki/followers","following_url":"https://api.github.com/users/benedekrozemberczki/following{/other_user}","gists_url":"https://api.github.com/users/benedekrozemberczki/gists{/gist_id}","starred_url":"https://api.github.com/users/benedekrozemberczki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedekrozemberczki/subscriptions","organizations_url":"https://api.github.com/users/benedekrozemberczki/orgs","repos_url":"https://api.github.com/users/benedekrozemberczki/repos","events_url":"https://api.github.com/users/benedekrozemberczki/events{/privacy}","received_events_url":"https://api.github.com/users/benedekrozemberczki/received_events","type":"User","site_admin":false},"created_at":"2020-08-20T09:16:16Z","updated_at":"2020-08-20T09:16:16Z","author_association":"OWNER","body":"The link is dead.\n\nOn Thu, 20 Aug 2020, 11:14 Jack, <notifications@github.com> wrote:\n\n> Hello, I am sorry to reply your message now. I read your answer above, but\n> I do not get this result. This is my real problem according the learned\n> node embedding from your code. I think that you see this figure, and you\n> can know my problem. Thus, I hope that you can know how to solve this\n> problem. Due to the learned node embedding from your code, I would like to\n> evaluate the learned node embedding through the node classification.\n>\n> https://img-blog.csdnimg.cn/20200820170132262.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3h1ZXhpb25n,size_16,color_FFFFFF,t_70\n> <http://url>\n> Run Error: TypeError: Singleton array array(<_io.TextIOWrapper\n> name='../output/wiki_embedding.txt' mode='r' encoding='cp936'>,\n>\n>   dtype=object) cannot be considered a valid collection.\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-677479981>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AEETMF53YYDNYMIFYWMOPX3SBTSRDANCNFSM4PFIFSKQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677480634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"benedekrozemberczki","id":17380887,"node_id":"MDQ6VXNlcjE3MzgwODg3","avatar_url":"https://avatars.githubusercontent.com/u/17380887?v=4","gravatar_id":"","url":"https://api.github.com/users/benedekrozemberczki","html_url":"https://github.com/benedekrozemberczki","followers_url":"https://api.github.com/users/benedekrozemberczki/followers","following_url":"https://api.github.com/users/benedekrozemberczki/following{/other_user}","gists_url":"https://api.github.com/users/benedekrozemberczki/gists{/gist_id}","starred_url":"https://api.github.com/users/benedekrozemberczki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedekrozemberczki/subscriptions","organizations_url":"https://api.github.com/users/benedekrozemberczki/orgs","repos_url":"https://api.github.com/users/benedekrozemberczki/repos","events_url":"https://api.github.com/users/benedekrozemberczki/events{/privacy}","received_events_url":"https://api.github.com/users/benedekrozemberczki/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677638999","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-677638999","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":677638999,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzYzODk5OQ==","user":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false},"created_at":"2020-08-20T12:37:33Z","updated_at":"2020-08-20T12:40:32Z","author_association":"CONTRIBUTOR","body":"EDIT:\r\nwhat does your node_classification_F1 function expect? Currently you are passing it a python file object, rather than a Numpy Array or a Pandas Dataframe which may be what the function expects","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677638999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677645935","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-677645935","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":677645935,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzY0NTkzNQ==","user":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false},"created_at":"2020-08-20T12:52:34Z","updated_at":"2020-08-20T12:57:33Z","author_association":"NONE","body":"Here, this function code:\r\n\r\nread_label()\r\n\r\n    `def read_label(inputFileName):\r\n        f = open(inputFileName, 'r')\r\n        lines = f.readlines()\r\n        f.close()\r\n        N = len(lines)\r\n        y = np.zeros(N, dtype=int)\r\n        for line in lines:\r\n            l = line.strip('\\n\\r').split(' ')\r\n            y[int(l[0])] = int(l[1])\r\n        return y`\r\n\r\nnode_classification_F1()\r\n\r\n    `def node_classification_F1(Embeddings, y):\r\n        macro_f1_avg = 0\r\n        micro_f1_avg = 0\r\n        for i in range(10):\r\n           rnd = np.random.randint(2018)\r\n           macro_f1, micro_f1 = multiclass_node_classification_eval(Embeddings, y, 0.7, rnd)\r\n           macro_f1_avg += macro_f1\r\n           micro_f1_avg += micro_f1\r\n        macro_f1_avg /= 10\r\n        micro_f1_avg /= 10\r\n        print('Macro_f1 average value: ' + str(macro_f1_avg))\r\n        print('Micro_f1 average value: ' + str(micro_f1_avg))`\r\n\r\nmulticlass_node_classification_eval()\r\n\r\n    `def multiclass_node_classification_eval(X, y, ratio=0.2, rnd=2018):\r\n       warnings.filterwarnings('ignore')\r\n      X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=ratio, random_state=rnd)\r\n      clf = LinearSVC()\r\n      clf.fit(X_train, y_train)\r\n      y_pred = clf.predict(X_test)\r\n      macro_f1 = f1_score(y_test, y_pred, average='macro')\r\n      micro_f1 = f1_score(y_test, y_pred, average='micro')\r\n      return macro_f1, micro_f1`\r\n\r\nI hope that you can solve this problem. Thank you very much.\r\n","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677645935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677649738","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-677649738","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":677649738,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzY0OTczOA==","user":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false},"created_at":"2020-08-20T13:00:12Z","updated_at":"2020-08-20T13:00:25Z","author_association":"CONTRIBUTOR","body":"try changing `embeddings = open(fn,'r')`\r\nto\r\n`embeddings = pandas.read_csv(fn)`","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677649738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677746320","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/6#issuecomment-677746320","issue_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/6","id":677746320,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc0NjMyMA==","user":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false},"created_at":"2020-08-20T15:47:35Z","updated_at":"2020-08-20T15:47:35Z","author_association":"NONE","body":"Thank you very much. According your advice, I get the result, Thank you again.","reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/comments/677746320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"XuexiongLuoMQ","id":58167222,"node_id":"MDQ6VXNlcjU4MTY3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/58167222?v=4","gravatar_id":"","url":"https://api.github.com/users/XuexiongLuoMQ","html_url":"https://github.com/XuexiongLuoMQ","followers_url":"https://api.github.com/users/XuexiongLuoMQ/followers","following_url":"https://api.github.com/users/XuexiongLuoMQ/following{/other_user}","gists_url":"https://api.github.com/users/XuexiongLuoMQ/gists{/gist_id}","starred_url":"https://api.github.com/users/XuexiongLuoMQ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuexiongLuoMQ/subscriptions","organizations_url":"https://api.github.com/users/XuexiongLuoMQ/orgs","repos_url":"https://api.github.com/users/XuexiongLuoMQ/repos","events_url":"https://api.github.com/users/XuexiongLuoMQ/events{/privacy}","received_events_url":"https://api.github.com/users/XuexiongLuoMQ/received_events","type":"User","site_admin":false}}]