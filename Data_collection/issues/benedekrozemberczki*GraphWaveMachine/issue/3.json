{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/3","repository_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine","labels_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/3/labels{/name}","comments_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/3/comments","events_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/3/events","html_url":"https://github.com/benedekrozemberczki/GraphWaveMachine/issues/3","id":432786311,"node_id":"MDU6SXNzdWU0MzI3ODYzMTE=","number":3,"title":"Ordering of output embeddings not consistent with node labels/numbers","user":{"login":"lewisrb","id":15263318,"node_id":"MDQ6VXNlcjE1MjYzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/15263318?v=4","gravatar_id":"","url":"https://api.github.com/users/lewisrb","html_url":"https://github.com/lewisrb","followers_url":"https://api.github.com/users/lewisrb/followers","following_url":"https://api.github.com/users/lewisrb/following{/other_user}","gists_url":"https://api.github.com/users/lewisrb/gists{/gist_id}","starred_url":"https://api.github.com/users/lewisrb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewisrb/subscriptions","organizations_url":"https://api.github.com/users/lewisrb/orgs","repos_url":"https://api.github.com/users/lewisrb/repos","events_url":"https://api.github.com/users/lewisrb/events{/privacy}","received_events_url":"https://api.github.com/users/lewisrb/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-04-13T00:15:14Z","updated_at":"2019-04-13T08:17:04Z","closed_at":"2019-04-13T08:17:04Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"For certain graphs, the ordering of the output embeddings may not be consistent with the node labels. It seems that this can be fixed through the addition of the following near the bottom of the `transform_and_save_embedding` function:\r\n```python3\r\nself.real_and_imaginary.index = self.index\r\nself.real_and_imaginary.index = self.real_and_imaginary.index.astype(self.settings.index_type)\r\nself.real_and_imaginary = self.real_and_imaginary.sort_index()\r\n```\r\nwhere `self.settings.index_type' is set by the user to a simple python type, eg `int`, `string`, or `float`, etc. and `self.index=G.nodes()` is set in the `\\_\\_init\\_\\_` function of the class.\r\n\r\nAdditionally adding the index column to the csv file generated would allow for embeddings to be linked to named, rather than numbered, nodes. \r\nThis would be done through changing the bottom line in the `transform_and_save_embedding_function`  to the following: `self.real_and_imaginary.to_csv(self.settings.output)`\r\n\r\n\r\nNote, this was tested using a slightly modified read_graph() function as the csv version resulted in a very different graph to the `nx.read_edgelist` version:\r\n```python3\r\ndef read_graph(path):\r\n    graph = nx.read_edgelist(path)\r\n    return graph\r\n```\r\n\r\nAlso would there be any plans to move towards the `nx.read_edgelist` implementation as it seems more elegant of a solution?\r\n\r\nI don't currently have the time to create a pull request with a fully tested solution to these issues, but the changes suggested should solve most of it (except the user-defined index type).","closed_by":{"login":"benedekrozemberczki","id":17380887,"node_id":"MDQ6VXNlcjE3MzgwODg3","avatar_url":"https://avatars.githubusercontent.com/u/17380887?v=4","gravatar_id":"","url":"https://api.github.com/users/benedekrozemberczki","html_url":"https://github.com/benedekrozemberczki","followers_url":"https://api.github.com/users/benedekrozemberczki/followers","following_url":"https://api.github.com/users/benedekrozemberczki/following{/other_user}","gists_url":"https://api.github.com/users/benedekrozemberczki/gists{/gist_id}","starred_url":"https://api.github.com/users/benedekrozemberczki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedekrozemberczki/subscriptions","organizations_url":"https://api.github.com/users/benedekrozemberczki/orgs","repos_url":"https://api.github.com/users/benedekrozemberczki/repos","events_url":"https://api.github.com/users/benedekrozemberczki/events{/privacy}","received_events_url":"https://api.github.com/users/benedekrozemberczki/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/3/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/benedekrozemberczki/GraphWaveMachine/issues/3/timeline","performed_via_github_app":null,"state_reason":"completed"}