{"url":"https://api.github.com/repos/marl/openl3/issues/43","repository_url":"https://api.github.com/repos/marl/openl3","labels_url":"https://api.github.com/repos/marl/openl3/issues/43/labels{/name}","comments_url":"https://api.github.com/repos/marl/openl3/issues/43/comments","events_url":"https://api.github.com/repos/marl/openl3/issues/43/events","html_url":"https://github.com/marl/openl3/issues/43","id":572773504,"node_id":"MDU6SXNzdWU1NzI3NzM1MDQ=","number":43,"title":"Failed to construct network. Tried both Tensorflow 2.0.0 and 1.9.5,  Keras2.3.1 and 2.2.5","user":{"login":"zhao-shuyang","id":45360808,"node_id":"MDQ6VXNlcjQ1MzYwODA4","avatar_url":"https://avatars.githubusercontent.com/u/45360808?v=4","gravatar_id":"","url":"https://api.github.com/users/zhao-shuyang","html_url":"https://github.com/zhao-shuyang","followers_url":"https://api.github.com/users/zhao-shuyang/followers","following_url":"https://api.github.com/users/zhao-shuyang/following{/other_user}","gists_url":"https://api.github.com/users/zhao-shuyang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhao-shuyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhao-shuyang/subscriptions","organizations_url":"https://api.github.com/users/zhao-shuyang/orgs","repos_url":"https://api.github.com/users/zhao-shuyang/repos","events_url":"https://api.github.com/users/zhao-shuyang/events{/privacy}","received_events_url":"https://api.github.com/users/zhao-shuyang/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-02-28T14:01:01Z","updated_at":"2020-03-03T21:44:27Z","closed_at":"2020-03-03T21:44:26Z","author_association":"NONE","active_lock_reason":null,"body":">>> openl3.models._construct_mel128_audio_network()\r\nWARNING:tensorflow:From /home/zhaos/anaconda3/lib/python3.7/site-packages/keras/backend/tensorflow_backend.py:66: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.\r\n\r\nWARNING:tensorflow:From /home/zhaos/anaconda3/lib/python3.7/site-packages/keras/backend/tensorflow_backend.py:541: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.\r\n\r\nWARNING:tensorflow:From /home/zhaos/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/zhaos/anaconda3/lib/python3.7/site-packages/openl3/models.py\", line 265, in _construct_mel128_audio_network\r\n    y_a = Melspectrogram(n_dft=n_dft, n_hop=n_hop, n_mels=n_mels, sr=asr, power_melgram=1.0, htk=True, return_decibel_melgram=True, padding='same')(x_a)\r\n  File \"/home/zhaos/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 881, in __call__\r\n    inputs, outputs, args, kwargs)\r\n  File \"/home/zhaos/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 2043, in _set_connectivity_metadata_\r\n    input_tensors=inputs, output_tensors=outputs, arguments=arguments)\r\n  File \"/home/zhaos/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 2059, in _add_inbound_node\r\n    input_tensors)\r\n  File \"/home/zhaos/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/util/nest.py\", line 536, in map_structure\r\n    structure[0], [func(*x) for x in entries],\r\n  File \"/home/zhaos/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/util/nest.py\", line 536, in <listcomp>\r\n    structure[0], [func(*x) for x in entries],\r\n  File \"/home/zhaos/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 2058, in <lambda>\r\n    inbound_layers = nest.map_structure(lambda t: t._keras_history.layer,\r\nAttributeError: 'tuple' object has no attribute 'layer'","closed_by":{"login":"auroracramer","id":1388668,"node_id":"MDQ6VXNlcjEzODg2Njg=","avatar_url":"https://avatars.githubusercontent.com/u/1388668?v=4","gravatar_id":"","url":"https://api.github.com/users/auroracramer","html_url":"https://github.com/auroracramer","followers_url":"https://api.github.com/users/auroracramer/followers","following_url":"https://api.github.com/users/auroracramer/following{/other_user}","gists_url":"https://api.github.com/users/auroracramer/gists{/gist_id}","starred_url":"https://api.github.com/users/auroracramer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/auroracramer/subscriptions","organizations_url":"https://api.github.com/users/auroracramer/orgs","repos_url":"https://api.github.com/users/auroracramer/repos","events_url":"https://api.github.com/users/auroracramer/events{/privacy}","received_events_url":"https://api.github.com/users/auroracramer/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/43/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/marl/openl3/issues/43/timeline","performed_via_github_app":null,"state_reason":"completed"}