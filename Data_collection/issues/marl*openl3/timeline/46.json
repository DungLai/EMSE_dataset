[{"id":3094096936,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA5NDA5NjkzNg==","url":"https://api.github.com/repos/marl/openl3/issues/events/3094096936","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T22:10:10Z","performed_via_github_app":null},{"id":3094096943,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTQwOTY5NDM=","url":"https://api.github.com/repos/marl/openl3/issues/events/3094096943","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T22:10:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594216991","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-594216991","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":594216991,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDIxNjk5MQ==","user":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"created_at":"2020-03-03T23:04:35Z","updated_at":"2020-03-03T23:04:35Z","author_association":"COLLABORATOR","body":"Generally I totally support this move. My main concern as you've identified is the move from keras to `tf.keras`. As an example, I believe @jongwook tried to migrate CREPE from Keras to tf.keras and gave up on it because of incompatibilities and changes to the behavior of the model.\r\n\r\nIf we can make all of these changes while maintaining model performance (and hence regression tests), I think it's a no brainer. If the tests fail, then it'd probably be worth re-training the openl3 models against the new model implementation, ensuring the resulting embeddings are equally competitive on at least one downstream (e.g. US8K) and then releasing that.\r\n\r\nThoughts?","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594216991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false}},{"id":3094249949,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA5NDI0OTk0OQ==","url":"https://api.github.com/repos/marl/openl3/issues/events/3094249949","actor":{"login":"jongwook","id":266841,"node_id":"MDQ6VXNlcjI2Njg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/266841?v=4","gravatar_id":"","url":"https://api.github.com/users/jongwook","html_url":"https://github.com/jongwook","followers_url":"https://api.github.com/users/jongwook/followers","following_url":"https://api.github.com/users/jongwook/following{/other_user}","gists_url":"https://api.github.com/users/jongwook/gists{/gist_id}","starred_url":"https://api.github.com/users/jongwook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jongwook/subscriptions","organizations_url":"https://api.github.com/users/jongwook/orgs","repos_url":"https://api.github.com/users/jongwook/repos","events_url":"https://api.github.com/users/jongwook/events{/privacy}","received_events_url":"https://api.github.com/users/jongwook/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T23:04:35Z","performed_via_github_app":null},{"id":3094249951,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTQyNDk5NTE=","url":"https://api.github.com/repos/marl/openl3/issues/events/3094249951","actor":{"login":"jongwook","id":266841,"node_id":"MDQ6VXNlcjI2Njg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/266841?v=4","gravatar_id":"","url":"https://api.github.com/users/jongwook","html_url":"https://github.com/jongwook","followers_url":"https://api.github.com/users/jongwook/followers","following_url":"https://api.github.com/users/jongwook/following{/other_user}","gists_url":"https://api.github.com/users/jongwook/gists{/gist_id}","starred_url":"https://api.github.com/users/jongwook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jongwook/subscriptions","organizations_url":"https://api.github.com/users/jongwook/orgs","repos_url":"https://api.github.com/users/jongwook/repos","events_url":"https://api.github.com/users/jongwook/events{/privacy}","received_events_url":"https://api.github.com/users/jongwook/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T23:04:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594218220","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-594218220","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":594218220,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDIxODIyMA==","user":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"created_at":"2020-03-03T23:08:20Z","updated_at":"2020-03-03T23:08:20Z","author_association":"COLLABORATOR","body":"p.s - we might be able to get away without re-training the models if we can at least show that the weights we have right now, coupled with the new implementation, still produce comparable downstream results. Then we'd just have to update the regression data for the regression tests.\r\n\r\nSo I guess my proposed steps would be:\r\n1. Update to `tf.keras` - if regression tests pass, we're done.\r\n2. If the regression tests fails, evaluate the resulting embeddings on downstream tasks. If they are equally competitive, update the regression test using the new implementation.\r\n3. If the modified embeddings aren't competitive, then we'd have to re-train against the new implementation.","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594218220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594220042","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-594220042","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":594220042,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDIyMDA0Mg==","user":{"login":"jongwook","id":266841,"node_id":"MDQ6VXNlcjI2Njg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/266841?v=4","gravatar_id":"","url":"https://api.github.com/users/jongwook","html_url":"https://github.com/jongwook","followers_url":"https://api.github.com/users/jongwook/followers","following_url":"https://api.github.com/users/jongwook/following{/other_user}","gists_url":"https://api.github.com/users/jongwook/gists{/gist_id}","starred_url":"https://api.github.com/users/jongwook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jongwook/subscriptions","organizations_url":"https://api.github.com/users/jongwook/orgs","repos_url":"https://api.github.com/users/jongwook/repos","events_url":"https://api.github.com/users/jongwook/events{/privacy}","received_events_url":"https://api.github.com/users/jongwook/received_events","type":"User","site_admin":false},"created_at":"2020-03-03T23:13:57Z","updated_at":"2020-03-03T23:14:09Z","author_association":"MEMBER","body":"> As an example, I believe @jongwook tried to migrate CREPE from Keras to tf.keras and gave up on it because of incompatibilities and changes to the behavior of the model.\r\n\r\nThis happened once when `tf.keras` was in a very early stage in the development, but [CREPE is currently using tf.keras](https://github.com/marl/crepe/blob/master/crepe/core.py#L44-L46) without causing disaster AFAIK. (and yes I am responsible for not writing real regression tests there)","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594220042/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jongwook","id":266841,"node_id":"MDQ6VXNlcjI2Njg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/266841?v=4","gravatar_id":"","url":"https://api.github.com/users/jongwook","html_url":"https://github.com/jongwook","followers_url":"https://api.github.com/users/jongwook/followers","following_url":"https://api.github.com/users/jongwook/following{/other_user}","gists_url":"https://api.github.com/users/jongwook/gists{/gist_id}","starred_url":"https://api.github.com/users/jongwook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jongwook/subscriptions","organizations_url":"https://api.github.com/users/jongwook/orgs","repos_url":"https://api.github.com/users/jongwook/repos","events_url":"https://api.github.com/users/jongwook/events{/privacy}","received_events_url":"https://api.github.com/users/jongwook/received_events","type":"User","site_admin":false}},{"id":3094273293,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA5NDI3MzI5Mw==","url":"https://api.github.com/repos/marl/openl3/issues/events/3094273293","actor":{"login":"jongwook","id":266841,"node_id":"MDQ6VXNlcjI2Njg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/266841?v=4","gravatar_id":"","url":"https://api.github.com/users/jongwook","html_url":"https://github.com/jongwook","followers_url":"https://api.github.com/users/jongwook/followers","following_url":"https://api.github.com/users/jongwook/following{/other_user}","gists_url":"https://api.github.com/users/jongwook/gists{/gist_id}","starred_url":"https://api.github.com/users/jongwook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jongwook/subscriptions","organizations_url":"https://api.github.com/users/jongwook/orgs","repos_url":"https://api.github.com/users/jongwook/repos","events_url":"https://api.github.com/users/jongwook/events{/privacy}","received_events_url":"https://api.github.com/users/jongwook/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T23:13:57Z","performed_via_github_app":null},{"id":3094273294,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTQyNzMyOTQ=","url":"https://api.github.com/repos/marl/openl3/issues/events/3094273294","actor":{"login":"jongwook","id":266841,"node_id":"MDQ6VXNlcjI2Njg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/266841?v=4","gravatar_id":"","url":"https://api.github.com/users/jongwook","html_url":"https://github.com/jongwook","followers_url":"https://api.github.com/users/jongwook/followers","following_url":"https://api.github.com/users/jongwook/following{/other_user}","gists_url":"https://api.github.com/users/jongwook/gists{/gist_id}","starred_url":"https://api.github.com/users/jongwook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jongwook/subscriptions","organizations_url":"https://api.github.com/users/jongwook/orgs","repos_url":"https://api.github.com/users/jongwook/repos","events_url":"https://api.github.com/users/jongwook/events{/privacy}","received_events_url":"https://api.github.com/users/jongwook/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T23:13:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594221847","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-594221847","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":594221847,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDIyMTg0Nw==","user":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"created_at":"2020-03-03T23:19:49Z","updated_at":"2020-03-03T23:19:49Z","author_association":"COLLABORATOR","body":"Ah cool, thanks for the info @jongwook. So it sounds like we should be able to at least give it a try, but yeah, we gotta be solid on performance and regression.","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594221847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false}},{"id":3094286344,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA5NDI4NjM0NA==","url":"https://api.github.com/repos/marl/openl3/issues/events/3094286344","actor":{"login":"jongwook","id":266841,"node_id":"MDQ6VXNlcjI2Njg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/266841?v=4","gravatar_id":"","url":"https://api.github.com/users/jongwook","html_url":"https://github.com/jongwook","followers_url":"https://api.github.com/users/jongwook/followers","following_url":"https://api.github.com/users/jongwook/following{/other_user}","gists_url":"https://api.github.com/users/jongwook/gists{/gist_id}","starred_url":"https://api.github.com/users/jongwook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jongwook/subscriptions","organizations_url":"https://api.github.com/users/jongwook/orgs","repos_url":"https://api.github.com/users/jongwook/repos","events_url":"https://api.github.com/users/jongwook/events{/privacy}","received_events_url":"https://api.github.com/users/jongwook/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T23:19:49Z","performed_via_github_app":null},{"id":3094286345,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTQyODYzNDU=","url":"https://api.github.com/repos/marl/openl3/issues/events/3094286345","actor":{"login":"jongwook","id":266841,"node_id":"MDQ6VXNlcjI2Njg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/266841?v=4","gravatar_id":"","url":"https://api.github.com/users/jongwook","html_url":"https://github.com/jongwook","followers_url":"https://api.github.com/users/jongwook/followers","following_url":"https://api.github.com/users/jongwook/following{/other_user}","gists_url":"https://api.github.com/users/jongwook/gists{/gist_id}","starred_url":"https://api.github.com/users/jongwook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jongwook/subscriptions","organizations_url":"https://api.github.com/users/jongwook/orgs","repos_url":"https://api.github.com/users/jongwook/repos","events_url":"https://api.github.com/users/jongwook/events{/privacy}","received_events_url":"https://api.github.com/users/jongwook/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T23:19:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594223319","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-594223319","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":594223319,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDIyMzMxOQ==","user":{"login":"auroracramer","id":1388668,"node_id":"MDQ6VXNlcjEzODg2Njg=","avatar_url":"https://avatars.githubusercontent.com/u/1388668?v=4","gravatar_id":"","url":"https://api.github.com/users/auroracramer","html_url":"https://github.com/auroracramer","followers_url":"https://api.github.com/users/auroracramer/followers","following_url":"https://api.github.com/users/auroracramer/following{/other_user}","gists_url":"https://api.github.com/users/auroracramer/gists{/gist_id}","starred_url":"https://api.github.com/users/auroracramer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/auroracramer/subscriptions","organizations_url":"https://api.github.com/users/auroracramer/orgs","repos_url":"https://api.github.com/users/auroracramer/repos","events_url":"https://api.github.com/users/auroracramer/events{/privacy}","received_events_url":"https://api.github.com/users/auroracramer/received_events","type":"User","site_admin":false},"created_at":"2020-03-03T23:24:35Z","updated_at":"2020-03-03T23:24:35Z","author_association":"COLLABORATOR","body":"@justinsalamon That plan sounds good to me. I'll see about looking into this in the near future.","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/594223319/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"auroracramer","id":1388668,"node_id":"MDQ6VXNlcjEzODg2Njg=","avatar_url":"https://avatars.githubusercontent.com/u/1388668?v=4","gravatar_id":"","url":"https://api.github.com/users/auroracramer","html_url":"https://github.com/auroracramer","followers_url":"https://api.github.com/users/auroracramer/followers","following_url":"https://api.github.com/users/auroracramer/following{/other_user}","gists_url":"https://api.github.com/users/auroracramer/gists{/gist_id}","starred_url":"https://api.github.com/users/auroracramer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/auroracramer/subscriptions","organizations_url":"https://api.github.com/users/auroracramer/orgs","repos_url":"https://api.github.com/users/auroracramer/repos","events_url":"https://api.github.com/users/auroracramer/events{/privacy}","received_events_url":"https://api.github.com/users/auroracramer/received_events","type":"User","site_admin":false}},{"id":3094296596,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA5NDI5NjU5Ng==","url":"https://api.github.com/repos/marl/openl3/issues/events/3094296596","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T23:24:35Z","performed_via_github_app":null},{"id":3094296597,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTQyOTY1OTc=","url":"https://api.github.com/repos/marl/openl3/issues/events/3094296597","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T23:24:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/601287365","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-601287365","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":601287365,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTI4NzM2NQ==","user":{"login":"thias42","id":3823304,"node_id":"MDQ6VXNlcjM4MjMzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3823304?v=4","gravatar_id":"","url":"https://api.github.com/users/thias42","html_url":"https://github.com/thias42","followers_url":"https://api.github.com/users/thias42/followers","following_url":"https://api.github.com/users/thias42/following{/other_user}","gists_url":"https://api.github.com/users/thias42/gists{/gist_id}","starred_url":"https://api.github.com/users/thias42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thias42/subscriptions","organizations_url":"https://api.github.com/users/thias42/orgs","repos_url":"https://api.github.com/users/thias42/repos","events_url":"https://api.github.com/users/thias42/events{/privacy}","received_events_url":"https://api.github.com/users/thias42/received_events","type":"User","site_admin":false},"created_at":"2020-03-19T16:45:52Z","updated_at":"2020-03-19T16:45:52Z","author_association":"NONE","body":"Hi, first of all thank you for sharing the code and model! I had a go at the TF2 support (branch tf2 in my fork) and it turns out that the regression tests fail after switching to tf.keras. So the new embeddings would need to be evaluated on any downstream tasks.","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/601287365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thias42","id":3823304,"node_id":"MDQ6VXNlcjM4MjMzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3823304?v=4","gravatar_id":"","url":"https://api.github.com/users/thias42","html_url":"https://github.com/thias42","followers_url":"https://api.github.com/users/thias42/followers","following_url":"https://api.github.com/users/thias42/following{/other_user}","gists_url":"https://api.github.com/users/thias42/gists{/gist_id}","starred_url":"https://api.github.com/users/thias42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thias42/subscriptions","organizations_url":"https://api.github.com/users/thias42/orgs","repos_url":"https://api.github.com/users/thias42/repos","events_url":"https://api.github.com/users/thias42/events{/privacy}","received_events_url":"https://api.github.com/users/thias42/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/653896056","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-653896056","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":653896056,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzg5NjA1Ng==","user":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false},"created_at":"2020-07-05T14:31:32Z","updated_at":"2020-07-05T14:31:32Z","author_association":"NONE","body":"Hi, we are working with a sound recognizer currently based on vggish.  Our recognizer runs on an edge device and stretches the small CPU's to the limit. Too much heat and too much power usage.  So we want to try out tensorflow-lite, perhaps in combination with a Coral co-processor.  Unfortunately is only supported on TF2.  For vggish there are now some TF2 ports available and we have an evaluation of the port on our roadmap.\r\n\r\nBut we also very much would like to evaluate  openl3 for our application. But not if this would lock us to TF1.x again.\r\nThe last post for this issue was almost 4 months ago.  What are your current plans/goals regarding the TF2 port?","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/653896056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/654427451","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-654427451","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":654427451,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDQyNzQ1MQ==","user":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"created_at":"2020-07-06T19:38:04Z","updated_at":"2020-07-06T19:38:04Z","author_association":"COLLABORATOR","body":"@gmos we definitely plan to add TF 2.x support, but since this is a \"side gig\" for all of us, it is hard to provide concrete plans/estimates. We'll do our best to discuss in the near future and come up with an estimate, which we'll post here. Thanks!","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/654427451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false}},{"id":3517378892,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzUxNzM3ODg5Mg==","url":"https://api.github.com/repos/marl/openl3/issues/events/3517378892","actor":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-06T19:38:04Z","performed_via_github_app":null},{"id":3517378897,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1MTczNzg4OTc=","url":"https://api.github.com/repos/marl/openl3/issues/events/3517378897","actor":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-06T19:38:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/759761975","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-759761975","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":759761975,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTc2MTk3NQ==","user":{"login":"fluffynukeit","id":844574,"node_id":"MDQ6VXNlcjg0NDU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/844574?v=4","gravatar_id":"","url":"https://api.github.com/users/fluffynukeit","html_url":"https://github.com/fluffynukeit","followers_url":"https://api.github.com/users/fluffynukeit/followers","following_url":"https://api.github.com/users/fluffynukeit/following{/other_user}","gists_url":"https://api.github.com/users/fluffynukeit/gists{/gist_id}","starred_url":"https://api.github.com/users/fluffynukeit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fluffynukeit/subscriptions","organizations_url":"https://api.github.com/users/fluffynukeit/orgs","repos_url":"https://api.github.com/users/fluffynukeit/repos","events_url":"https://api.github.com/users/fluffynukeit/events{/privacy}","received_events_url":"https://api.github.com/users/fluffynukeit/received_events","type":"User","site_admin":false},"created_at":"2021-01-13T21:52:57Z","updated_at":"2021-01-13T21:52:57Z","author_association":"NONE","body":"@gmos When you say it's \"only supported on TF2\", do you mean vggish, tensorflow-lite, or the coral coprocessor?  I am considering using the coral coprocessor to run the openl3 model on TF 1.x.  Is that possible?","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/759761975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fluffynukeit","id":844574,"node_id":"MDQ6VXNlcjg0NDU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/844574?v=4","gravatar_id":"","url":"https://api.github.com/users/fluffynukeit","html_url":"https://github.com/fluffynukeit","followers_url":"https://api.github.com/users/fluffynukeit/followers","following_url":"https://api.github.com/users/fluffynukeit/following{/other_user}","gists_url":"https://api.github.com/users/fluffynukeit/gists{/gist_id}","starred_url":"https://api.github.com/users/fluffynukeit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fluffynukeit/subscriptions","organizations_url":"https://api.github.com/users/fluffynukeit/orgs","repos_url":"https://api.github.com/users/fluffynukeit/repos","events_url":"https://api.github.com/users/fluffynukeit/events{/privacy}","received_events_url":"https://api.github.com/users/fluffynukeit/received_events","type":"User","site_admin":false}},{"id":4203377780,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDIwMzM3Nzc4MA==","url":"https://api.github.com/repos/marl/openl3/issues/events/4203377780","actor":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-01-13T21:52:57Z","performed_via_github_app":null},{"id":4203377782,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyMDMzNzc3ODI=","url":"https://api.github.com/repos/marl/openl3/issues/events/4203377782","actor":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-01-13T21:52:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/759930305","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-759930305","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":759930305,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTkzMDMwNQ==","user":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false},"created_at":"2021-01-14T05:12:08Z","updated_at":"2021-01-14T05:12:08Z","author_association":"NONE","body":"Nope. Last time when I looked at it, Coral required TF-Lite which only exists on TF2.\r\n\r\nFrom: Daniel Austin <notifications@github.com>\r\nSent: Wednesday, 13 January 2021 22:53\r\nTo: marl/openl3 <openl3@noreply.github.com>\r\nCc: Gijs Mos <gijs.mos@matanga.nl>; Mention <mention@noreply.github.com>\r\nSubject: Re: [marl/openl3] Refactor code and models to support TF 2.x and tf.keras (#46)\r\n\r\n\r\n@gmos<https://github.com/gmos> When you say it's \"only supported on TF2\", do you mean vggish, tensorflow-lite, or the coral coprocessor? I am considering using the coral coprocessor to run the openl3 model on TF 1.x. Is that possible?\r\n\r\n—\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub<https://github.com/marl/openl3/issues/46#issuecomment-759761975>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AALUWEG3XJCRTPP4ZXDK6JTSZYI4RANCNFSM4LAUOORQ>.\r\n","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/759930305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false}},{"id":4204396290,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDIwNDM5NjI5MA==","url":"https://api.github.com/repos/marl/openl3/issues/events/4204396290","actor":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-01-14T05:12:08Z","performed_via_github_app":null},{"id":4204396291,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyMDQzOTYyOTE=","url":"https://api.github.com/repos/marl/openl3/issues/events/4204396291","actor":{"login":"gmos","id":1526544,"node_id":"MDQ6VXNlcjE1MjY1NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1526544?v=4","gravatar_id":"","url":"https://api.github.com/users/gmos","html_url":"https://github.com/gmos","followers_url":"https://api.github.com/users/gmos/followers","following_url":"https://api.github.com/users/gmos/following{/other_user}","gists_url":"https://api.github.com/users/gmos/gists{/gist_id}","starred_url":"https://api.github.com/users/gmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmos/subscriptions","organizations_url":"https://api.github.com/users/gmos/orgs","repos_url":"https://api.github.com/users/gmos/repos","events_url":"https://api.github.com/users/gmos/events{/privacy}","received_events_url":"https://api.github.com/users/gmos/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-01-14T05:12:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/760368172","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-760368172","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":760368172,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDM2ODE3Mg==","user":{"login":"fluffynukeit","id":844574,"node_id":"MDQ6VXNlcjg0NDU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/844574?v=4","gravatar_id":"","url":"https://api.github.com/users/fluffynukeit","html_url":"https://github.com/fluffynukeit","followers_url":"https://api.github.com/users/fluffynukeit/followers","following_url":"https://api.github.com/users/fluffynukeit/following{/other_user}","gists_url":"https://api.github.com/users/fluffynukeit/gists{/gist_id}","starred_url":"https://api.github.com/users/fluffynukeit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fluffynukeit/subscriptions","organizations_url":"https://api.github.com/users/fluffynukeit/orgs","repos_url":"https://api.github.com/users/fluffynukeit/repos","events_url":"https://api.github.com/users/fluffynukeit/events{/privacy}","received_events_url":"https://api.github.com/users/fluffynukeit/received_events","type":"User","site_admin":false},"created_at":"2021-01-14T18:08:40Z","updated_at":"2021-01-16T13:20:41Z","author_association":"NONE","body":"Edit: I have updated this post to reflect a correct method for compiling openl3 to tflite format, and will continue to update it if I discover better ways to do it.\r\n\r\nI was able to compile and run the openl3 model using tflite with tensorflow 1.x on google colab.  Here is the code to compile to tf-lite with %tensorflow_version 1.x.  I could compile it and run it using the CPU only colab environment with no GPU accleration, which I assume will also work but it not necessary.  I have also included an excerpt of the printout showing the openl3 step time and TFLite interpreter invocation time, as well as the first 10 of 512 embedding values for each.  They agree well.\r\n\r\nThe key resource for me getting this to work was this Xilinx note about compiling a tensorflow 1.x model to pb format for use in their Vitis AI accelerator.  Once in .pb format, the TFLite compilation went smoothly, unlike my *many, many* other attempts.  It's tough to navigate the docs when trying to parse keras vs tensorflow, tensorflow 1 vs 2, various keras and tensorflow save formats, weights vs global variables (which was particularly troublesome when used with batchnormalization layers), etc.\r\n\r\nhttps://github.com/Xilinx/Vitis-AI-Tutorials/tree/536b147e2820ff8ec16b11a85eff0f0c87f0a7da\r\n\r\n```python\r\nimport tensorflow as tf\r\nimport openl3\r\nimport keras\r\n\r\n# This code does not require colab GPU backend to work.  CPU only is fine.\r\n\r\n# Steps modeled from resource below\r\n# https://github.com/Xilinx/Vitis-AI-Tutorials/tree/536b147e2820ff8ec16b11a85eff0f0c87f0a7da\r\n\r\nctype = \"env\"\r\nitype = \"mel128\"\r\nesize = 512 # I'm only interested in 512 model, so I don't change this\r\nbn = f\"ol3_{ctype}_{itype}\"\r\ndn = f\"{bn}_export\"\r\nkeras.backend.clear_session()\r\n\r\nprint(\"Disabling learning phases and building model\")\r\nkeras.backend.set_learning_phase(0)\r\n\r\n# load weights & architecture into new model\r\nloaded_model = openl3.models.load_audio_embedding_model(\r\n      content_type=ctype, embedding_size=esize, input_repr=itype)\r\n\r\nprint ('Keras model information:')\r\nprint (' Input names :',loaded_model.inputs)\r\nprint (' Output names:',loaded_model.outputs)\r\nprint('-------------------------------------')\r\n\r\n# fetch the tensorflow session using the Keras backend\r\ntf_session = keras.backend.get_session()\r\n\r\nprint(\"Saving\")\r\n!mkdir -p \"{dn}\"\r\n# write out tensorflow checkpoint & meta graph.\r\n# NOTE: the tf.global_variables() is important to preserve correct behavior of\r\n# batch normalization layers.\r\n# https://stackoverflow.com/questions/45800871/tensorflow-save-restore-batch-norm\r\nsaver = tf.compat.v1.train.Saver(tf.global_variables())\r\nsave_path = saver.save(tf_session,f\"{dn}/{bn}.tf_ckpt\")\r\n\r\n! freeze_graph \\\r\n    --input_meta_graph  \"{dn}/{bn}.tf_ckpt.meta\" \\\r\n    --input_checkpoint  \"{dn}/{bn}.tf_ckpt\" \\\r\n    --output_graph      \"{dn}/{bn}.pb\" \\\r\n    --output_node_names \"flatten_1/Reshape\" \\\r\n    --input_binary      true\r\n\r\n! tflite_convert \\\r\n    --output_file=\"{dn}/{bn}.tflite\" \\\r\n    --graph_def_file=\"{dn}/{bn}.pb\" \\\r\n    --input_arrays=input_1 \\\r\n    --output_arrays=flatten_1/Reshape\r\n```\r\n\r\nHere is the code to execute the openl3 and tflite models in colab, also in CPU only session type.  I use a single 1 second audio file of 48000 samples exactly because I'm interested in running as audio is collected.  I run each version 5 times with the same data to see the associated step times for each model. \r\n\r\n```python\r\nimport numpy as np\r\nimport tensorflow as tf\r\nimport soundfile as sf\r\nimport time\r\nimport openl3\r\n\r\n# This code does not require colab GPU backend to work.  CPU only is fine.\r\n\r\nctype = \"env\"\r\nitype = \"mel128\"\r\nesize = 512 # I'm only interested in 512 model, so I don't change this\r\nbn = f\"ol3_{ctype}_{itype}\"\r\ndn = f\"{bn}_export\"\r\n\r\n# Note: inputs data better be 48000 samples!\r\naudio, sr = sf.read(\"1second.wav\")\r\nx = audio.reshape(1, 1, 48000)\r\n\r\n# Check the openl3 output values (first 10 of 512)\r\nmodel = openl3.models.load_audio_embedding_model(\r\n      content_type=ctype, embedding_size=esize, input_repr=itype)\r\n\r\nfor i in range(5):\r\n  output_ol3, _ = openl3.get_audio_embedding(audio, sr, model=model, center=False)\r\n  print(f\"OL Model, {i}: \", output_ol3[0][0:10])\r\n\r\n# Test the first 10 values from TFLite interpreter file\r\n# Load the TFLite model and allocate tensors.\r\ninterpreter = tf.lite.Interpreter(model_path=f\"{dn}/{bn}.tflite\")\r\ninterpreter.allocate_tensors()\r\n\r\n# Get input and output tensors.\r\ninput_details = interpreter.get_input_details()\r\noutput_details = interpreter.get_output_details()\r\n\r\ninput_shape = input_details[0]['shape']\r\ntflite_input = x.astype('float32')\r\n\r\nfor i in range(5):\r\n  t = time.time()\r\n  interpreter.set_tensor(input_details[0]['index'], \r\n          tflite_input)\r\n  interpreter.invoke()\r\n\r\n  # The function `get_tensor()` returns a copy of the tensor data.\r\n  # Use `tensor()` in order to get a pointer to the tensor.\r\n  output_data = interpreter.get_tensor(output_details[0]['index'])\r\n  print(f\"Time {i}: {(time.time() - t)*1000} msec\")\r\n  print(f\"TFLite {i} \", output_data[0][0:10])\r\n\r\n```\r\nThe resulting output of running both models is below.  Openl3 and tflite version agree on results, and the TFlite version is indeed a little faster.\r\n\r\n```\r\n1/1 [==============================] - 1s 682ms/step\r\nOL Model, 0:  [1.3157089 1.2120367 2.8306766 2.2643678 2.492464  1.2830704 2.141046\r\n 1.5203106 1.1770811 3.5058348]\r\n1/1 [==============================] - 0s 300ms/step\r\nOL Model, 1:  [1.3157089 1.2120367 2.8306766 2.2643678 2.492464  1.2830704 2.141046\r\n 1.5203106 1.1770811 3.5058348]\r\n1/1 [==============================] - 0s 293ms/step\r\nOL Model, 2:  [1.3157089 1.2120367 2.8306766 2.2643678 2.492464  1.2830704 2.141046\r\n 1.5203106 1.1770811 3.5058348]\r\n1/1 [==============================] - 0s 292ms/step\r\nOL Model, 3:  [1.3157089 1.2120367 2.8306766 2.2643678 2.492464  1.2830704 2.141046\r\n 1.5203106 1.1770811 3.5058348]\r\n1/1 [==============================] - 0s 300ms/step\r\nOL Model, 4:  [1.3157089 1.2120367 2.8306766 2.2643678 2.492464  1.2830704 2.141046\r\n 1.5203106 1.1770811 3.5058348]\r\nTime 0: 350.56400299072266 msec\r\nTFLite 0  [1.3157148 1.2120365 2.830676  2.2643683 2.492464  1.2830614 2.1410458\r\n 1.5203104 1.1770768 3.5058343]\r\nTime 1: 253.8745403289795 msec\r\nTFLite 1  [1.3157148 1.2120365 2.830676  2.2643683 2.492464  1.2830614 2.1410458\r\n 1.5203104 1.1770768 3.5058343]\r\nTime 2: 232.6219081878662 msec\r\nTFLite 2  [1.3157148 1.2120365 2.830676  2.2643683 2.492464  1.2830614 2.1410458\r\n 1.5203104 1.1770768 3.5058343]\r\nTime 3: 242.37751960754395 msec\r\nTFLite 3  [1.3157148 1.2120365 2.830676  2.2643683 2.492464  1.2830614 2.1410458\r\n 1.5203104 1.1770768 3.5058343]\r\nTime 4: 231.9028377532959 msec\r\nTFLite 4  [1.3157148 1.2120365 2.830676  2.2643683 2.492464  1.2830614 2.1410458\r\n 1.5203104 1.1770768 3.5058343]\r\n```","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/760368172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fluffynukeit","id":844574,"node_id":"MDQ6VXNlcjg0NDU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/844574?v=4","gravatar_id":"","url":"https://api.github.com/users/fluffynukeit","html_url":"https://github.com/fluffynukeit","followers_url":"https://api.github.com/users/fluffynukeit/followers","following_url":"https://api.github.com/users/fluffynukeit/following{/other_user}","gists_url":"https://api.github.com/users/fluffynukeit/gists{/gist_id}","starred_url":"https://api.github.com/users/fluffynukeit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fluffynukeit/subscriptions","organizations_url":"https://api.github.com/users/fluffynukeit/orgs","repos_url":"https://api.github.com/users/fluffynukeit/repos","events_url":"https://api.github.com/users/fluffynukeit/events{/privacy}","received_events_url":"https://api.github.com/users/fluffynukeit/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/761561922","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-761561922","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":761561922,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTU2MTkyMg==","user":{"login":"fluffynukeit","id":844574,"node_id":"MDQ6VXNlcjg0NDU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/844574?v=4","gravatar_id":"","url":"https://api.github.com/users/fluffynukeit","html_url":"https://github.com/fluffynukeit","followers_url":"https://api.github.com/users/fluffynukeit/followers","following_url":"https://api.github.com/users/fluffynukeit/following{/other_user}","gists_url":"https://api.github.com/users/fluffynukeit/gists{/gist_id}","starred_url":"https://api.github.com/users/fluffynukeit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fluffynukeit/subscriptions","organizations_url":"https://api.github.com/users/fluffynukeit/orgs","repos_url":"https://api.github.com/users/fluffynukeit/repos","events_url":"https://api.github.com/users/fluffynukeit/events{/privacy}","received_events_url":"https://api.github.com/users/fluffynukeit/received_events","type":"User","site_admin":false},"created_at":"2021-01-16T13:16:51Z","updated_at":"2021-01-16T13:16:51Z","author_association":"NONE","body":"I have edited my previous comment to include code that successfully compiles openl3 to TFLite in tensorflow 1.x on google colab.  TFlite model is faster and produces resulting audio embeddings that agree with vanilla openl3.","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/761561922/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fluffynukeit","id":844574,"node_id":"MDQ6VXNlcjg0NDU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/844574?v=4","gravatar_id":"","url":"https://api.github.com/users/fluffynukeit","html_url":"https://github.com/fluffynukeit","followers_url":"https://api.github.com/users/fluffynukeit/followers","following_url":"https://api.github.com/users/fluffynukeit/following{/other_user}","gists_url":"https://api.github.com/users/fluffynukeit/gists{/gist_id}","starred_url":"https://api.github.com/users/fluffynukeit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fluffynukeit/subscriptions","organizations_url":"https://api.github.com/users/fluffynukeit/orgs","repos_url":"https://api.github.com/users/fluffynukeit/repos","events_url":"https://api.github.com/users/fluffynukeit/events{/privacy}","received_events_url":"https://api.github.com/users/fluffynukeit/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/marl/openl3/issues/comments/767714520","html_url":"https://github.com/marl/openl3/issues/46#issuecomment-767714520","issue_url":"https://api.github.com/repos/marl/openl3/issues/46","id":767714520,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NzcxNDUyMA==","user":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false},"created_at":"2021-01-26T17:48:55Z","updated_at":"2021-01-26T17:48:55Z","author_association":"COLLABORATOR","body":"Thanks @fluffynukeit !\r\n\r\nWe're hoping to port openl3 to TF 2.x, it's just a question of when we're able to allocate the cycles to it.","reactions":{"url":"https://api.github.com/repos/marl/openl3/issues/comments/767714520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"justinsalamon","id":3009670,"node_id":"MDQ6VXNlcjMwMDk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/3009670?v=4","gravatar_id":"","url":"https://api.github.com/users/justinsalamon","html_url":"https://github.com/justinsalamon","followers_url":"https://api.github.com/users/justinsalamon/followers","following_url":"https://api.github.com/users/justinsalamon/following{/other_user}","gists_url":"https://api.github.com/users/justinsalamon/gists{/gist_id}","starred_url":"https://api.github.com/users/justinsalamon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinsalamon/subscriptions","organizations_url":"https://api.github.com/users/justinsalamon/orgs","repos_url":"https://api.github.com/users/justinsalamon/repos","events_url":"https://api.github.com/users/justinsalamon/events{/privacy}","received_events_url":"https://api.github.com/users/justinsalamon/received_events","type":"User","site_admin":false}},{"id":4251949459,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI1MTk0OTQ1OQ==","url":"https://api.github.com/repos/marl/openl3/issues/events/4251949459","actor":{"login":"fluffynukeit","id":844574,"node_id":"MDQ6VXNlcjg0NDU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/844574?v=4","gravatar_id":"","url":"https://api.github.com/users/fluffynukeit","html_url":"https://github.com/fluffynukeit","followers_url":"https://api.github.com/users/fluffynukeit/followers","following_url":"https://api.github.com/users/fluffynukeit/following{/other_user}","gists_url":"https://api.github.com/users/fluffynukeit/gists{/gist_id}","starred_url":"https://api.github.com/users/fluffynukeit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fluffynukeit/subscriptions","organizations_url":"https://api.github.com/users/fluffynukeit/orgs","repos_url":"https://api.github.com/users/fluffynukeit/repos","events_url":"https://api.github.com/users/fluffynukeit/events{/privacy}","received_events_url":"https://api.github.com/users/fluffynukeit/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-01-26T17:48:55Z","performed_via_github_app":null}]