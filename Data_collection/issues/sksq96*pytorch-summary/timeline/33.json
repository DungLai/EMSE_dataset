[{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/424201513","html_url":"https://github.com/sksq96/pytorch-summary/issues/33#issuecomment-424201513","issue_url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/33","id":424201513,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDIwMTUxMw==","user":{"login":"tvnhan","id":1217011,"node_id":"MDQ6VXNlcjEyMTcwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1217011?v=4","gravatar_id":"","url":"https://api.github.com/users/tvnhan","html_url":"https://github.com/tvnhan","followers_url":"https://api.github.com/users/tvnhan/followers","following_url":"https://api.github.com/users/tvnhan/following{/other_user}","gists_url":"https://api.github.com/users/tvnhan/gists{/gist_id}","starred_url":"https://api.github.com/users/tvnhan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvnhan/subscriptions","organizations_url":"https://api.github.com/users/tvnhan/orgs","repos_url":"https://api.github.com/users/tvnhan/repos","events_url":"https://api.github.com/users/tvnhan/events{/privacy}","received_events_url":"https://api.github.com/users/tvnhan/received_events","type":"User","site_admin":false},"created_at":"2018-09-25T04:11:53Z","updated_at":"2018-09-25T04:11:53Z","author_association":"NONE","body":"I followed the pull request #11 and it fixed the error 'tuple' object has no attribute 'size'\r\nBut now, I got another erorr with BiLSTM:\r\nFile \"/home/lucas/HW_FixField/git_source/rnd_fixed_form_hw_ocr/main_source/approaches/approach_rcnn.py\", line 47, in approachProcess\r\n    summary(model, (1, 32, 257), device=device)\r\n  File \"/home/lucas/HW_FixField/git_source/rnd_fixed_form_hw_ocr/main_source/utils/sumaryModel.py\", line 112, in summary\r\n    total_output += np.prod(summary[layer][\"output_shape\"])\r\n  File \"/home/lucas/anaconda3/lib/python3.6/site-packages/numpy/core/fromnumeric.py\", line 2566, in prod\r\n    out=out, **kwargs)\r\n  File \"/home/lucas/anaconda3/lib/python3.6/site-packages/numpy/core/_methods.py\", line 35, in _prod\r\n    return umr_prod(a, axis, dtype, out, keepdims)\r\nTypeError: can't multiply sequence by non-int of type 'list'","reactions":{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/424201513/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tvnhan","id":1217011,"node_id":"MDQ6VXNlcjEyMTcwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1217011?v=4","gravatar_id":"","url":"https://api.github.com/users/tvnhan","html_url":"https://github.com/tvnhan","followers_url":"https://api.github.com/users/tvnhan/followers","following_url":"https://api.github.com/users/tvnhan/following{/other_user}","gists_url":"https://api.github.com/users/tvnhan/gists{/gist_id}","starred_url":"https://api.github.com/users/tvnhan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvnhan/subscriptions","organizations_url":"https://api.github.com/users/tvnhan/orgs","repos_url":"https://api.github.com/users/tvnhan/repos","events_url":"https://api.github.com/users/tvnhan/events{/privacy}","received_events_url":"https://api.github.com/users/tvnhan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/462348738","html_url":"https://github.com/sksq96/pytorch-summary/issues/33#issuecomment-462348738","issue_url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/33","id":462348738,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjM0ODczOA==","user":{"login":"shamangary","id":12425585,"node_id":"MDQ6VXNlcjEyNDI1NTg1","avatar_url":"https://avatars.githubusercontent.com/u/12425585?v=4","gravatar_id":"","url":"https://api.github.com/users/shamangary","html_url":"https://github.com/shamangary","followers_url":"https://api.github.com/users/shamangary/followers","following_url":"https://api.github.com/users/shamangary/following{/other_user}","gists_url":"https://api.github.com/users/shamangary/gists{/gist_id}","starred_url":"https://api.github.com/users/shamangary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shamangary/subscriptions","organizations_url":"https://api.github.com/users/shamangary/orgs","repos_url":"https://api.github.com/users/shamangary/repos","events_url":"https://api.github.com/users/shamangary/events{/privacy}","received_events_url":"https://api.github.com/users/shamangary/received_events","type":"User","site_admin":false},"created_at":"2019-02-11T14:34:25Z","updated_at":"2019-02-11T14:34:25Z","author_association":"NONE","body":"Any update on this? I get the same error when I define the custom layer with multiple outputs.\r\n\r\nTypeError: can't multiply sequence by non-int of type 'list'","reactions":{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/462348738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shamangary","id":12425585,"node_id":"MDQ6VXNlcjEyNDI1NTg1","avatar_url":"https://avatars.githubusercontent.com/u/12425585?v=4","gravatar_id":"","url":"https://api.github.com/users/shamangary","html_url":"https://github.com/shamangary","followers_url":"https://api.github.com/users/shamangary/followers","following_url":"https://api.github.com/users/shamangary/following{/other_user}","gists_url":"https://api.github.com/users/shamangary/gists{/gist_id}","starred_url":"https://api.github.com/users/shamangary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shamangary/subscriptions","organizations_url":"https://api.github.com/users/shamangary/orgs","repos_url":"https://api.github.com/users/shamangary/repos","events_url":"https://api.github.com/users/shamangary/events{/privacy}","received_events_url":"https://api.github.com/users/shamangary/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/502520339","html_url":"https://github.com/sksq96/pytorch-summary/issues/33#issuecomment-502520339","issue_url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/33","id":502520339,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjUyMDMzOQ==","user":{"login":"Lanme","id":28859589,"node_id":"MDQ6VXNlcjI4ODU5NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28859589?v=4","gravatar_id":"","url":"https://api.github.com/users/Lanme","html_url":"https://github.com/Lanme","followers_url":"https://api.github.com/users/Lanme/followers","following_url":"https://api.github.com/users/Lanme/following{/other_user}","gists_url":"https://api.github.com/users/Lanme/gists{/gist_id}","starred_url":"https://api.github.com/users/Lanme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lanme/subscriptions","organizations_url":"https://api.github.com/users/Lanme/orgs","repos_url":"https://api.github.com/users/Lanme/repos","events_url":"https://api.github.com/users/Lanme/events{/privacy}","received_events_url":"https://api.github.com/users/Lanme/received_events","type":"User","site_admin":false},"created_at":"2019-06-17T03:16:39Z","updated_at":"2019-06-17T03:16:39Z","author_association":"NONE","body":"Same error. \r\n\r\n> AttributeError: 'tuple' object has no attribute 'size'\r\n\r\nHope someone can fix it.","reactions":{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/502520339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Lanme","id":28859589,"node_id":"MDQ6VXNlcjI4ODU5NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28859589?v=4","gravatar_id":"","url":"https://api.github.com/users/Lanme","html_url":"https://github.com/Lanme","followers_url":"https://api.github.com/users/Lanme/followers","following_url":"https://api.github.com/users/Lanme/following{/other_user}","gists_url":"https://api.github.com/users/Lanme/gists{/gist_id}","starred_url":"https://api.github.com/users/Lanme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lanme/subscriptions","organizations_url":"https://api.github.com/users/Lanme/orgs","repos_url":"https://api.github.com/users/Lanme/repos","events_url":"https://api.github.com/users/Lanme/events{/privacy}","received_events_url":"https://api.github.com/users/Lanme/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/527369580","html_url":"https://github.com/sksq96/pytorch-summary/issues/33#issuecomment-527369580","issue_url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/33","id":527369580,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzM2OTU4MA==","user":{"login":"zhouxiaowei1120","id":12512685,"node_id":"MDQ6VXNlcjEyNTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/12512685?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxiaowei1120","html_url":"https://github.com/zhouxiaowei1120","followers_url":"https://api.github.com/users/zhouxiaowei1120/followers","following_url":"https://api.github.com/users/zhouxiaowei1120/following{/other_user}","gists_url":"https://api.github.com/users/zhouxiaowei1120/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxiaowei1120/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxiaowei1120/subscriptions","organizations_url":"https://api.github.com/users/zhouxiaowei1120/orgs","repos_url":"https://api.github.com/users/zhouxiaowei1120/repos","events_url":"https://api.github.com/users/zhouxiaowei1120/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxiaowei1120/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T08:57:09Z","updated_at":"2019-09-03T08:57:09Z","author_association":"NONE","body":"I also got the same error when I use summary. I find if there is an operation torch.sum() in the network, the error would be there.\r\n\r\n> TypeError: can't multiply sequence by non-int of type 'list'\r\n\r\nHope to fix it. Thank you.","reactions":{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/527369580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zhouxiaowei1120","id":12512685,"node_id":"MDQ6VXNlcjEyNTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/12512685?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxiaowei1120","html_url":"https://github.com/zhouxiaowei1120","followers_url":"https://api.github.com/users/zhouxiaowei1120/followers","following_url":"https://api.github.com/users/zhouxiaowei1120/following{/other_user}","gists_url":"https://api.github.com/users/zhouxiaowei1120/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxiaowei1120/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxiaowei1120/subscriptions","organizations_url":"https://api.github.com/users/zhouxiaowei1120/orgs","repos_url":"https://api.github.com/users/zhouxiaowei1120/repos","events_url":"https://api.github.com/users/zhouxiaowei1120/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxiaowei1120/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/537467580","html_url":"https://github.com/sksq96/pytorch-summary/issues/33#issuecomment-537467580","issue_url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/33","id":537467580,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzQ2NzU4MA==","user":{"login":"metrofun","id":946519,"node_id":"MDQ6VXNlcjk0NjUxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/946519?v=4","gravatar_id":"","url":"https://api.github.com/users/metrofun","html_url":"https://github.com/metrofun","followers_url":"https://api.github.com/users/metrofun/followers","following_url":"https://api.github.com/users/metrofun/following{/other_user}","gists_url":"https://api.github.com/users/metrofun/gists{/gist_id}","starred_url":"https://api.github.com/users/metrofun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/metrofun/subscriptions","organizations_url":"https://api.github.com/users/metrofun/orgs","repos_url":"https://api.github.com/users/metrofun/repos","events_url":"https://api.github.com/users/metrofun/events{/privacy}","received_events_url":"https://api.github.com/users/metrofun/received_events","type":"User","site_admin":false},"created_at":"2019-10-02T12:23:01Z","updated_at":"2019-10-02T12:23:01Z","author_association":"NONE","body":"Same issue here","reactions":{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/537467580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"metrofun","id":946519,"node_id":"MDQ6VXNlcjk0NjUxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/946519?v=4","gravatar_id":"","url":"https://api.github.com/users/metrofun","html_url":"https://github.com/metrofun","followers_url":"https://api.github.com/users/metrofun/followers","following_url":"https://api.github.com/users/metrofun/following{/other_user}","gists_url":"https://api.github.com/users/metrofun/gists{/gist_id}","starred_url":"https://api.github.com/users/metrofun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/metrofun/subscriptions","organizations_url":"https://api.github.com/users/metrofun/orgs","repos_url":"https://api.github.com/users/metrofun/repos","events_url":"https://api.github.com/users/metrofun/events{/privacy}","received_events_url":"https://api.github.com/users/metrofun/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/599770106","html_url":"https://github.com/sksq96/pytorch-summary/issues/33#issuecomment-599770106","issue_url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/33","id":599770106,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc3MDEwNg==","user":{"login":"geschaftsreise","id":10146990,"node_id":"MDQ6VXNlcjEwMTQ2OTkw","avatar_url":"https://avatars.githubusercontent.com/u/10146990?v=4","gravatar_id":"","url":"https://api.github.com/users/geschaftsreise","html_url":"https://github.com/geschaftsreise","followers_url":"https://api.github.com/users/geschaftsreise/followers","following_url":"https://api.github.com/users/geschaftsreise/following{/other_user}","gists_url":"https://api.github.com/users/geschaftsreise/gists{/gist_id}","starred_url":"https://api.github.com/users/geschaftsreise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geschaftsreise/subscriptions","organizations_url":"https://api.github.com/users/geschaftsreise/orgs","repos_url":"https://api.github.com/users/geschaftsreise/repos","events_url":"https://api.github.com/users/geschaftsreise/events{/privacy}","received_events_url":"https://api.github.com/users/geschaftsreise/received_events","type":"User","site_admin":false},"created_at":"2020-03-16T21:39:26Z","updated_at":"2020-03-16T21:40:05Z","author_association":"NONE","body":"Same issue with different network.\r\nSeems to be failing when it gets to this module:\r\n```\r\nclass Quantize(nn.Module):\r\n    def __init__(self, dim, n_embed, decay=0.99, eps=1e-5):\r\n        super().__init__()\r\n\r\n        self.dim = dim\r\n        self.n_embed = n_embed\r\n        self.decay = decay\r\n        self.eps = eps\r\n\r\n        embed = torch.randn(dim, n_embed)\r\n        self.register_buffer('embed', embed)\r\n        self.register_buffer('cluster_size', torch.zeros(n_embed))\r\n        self.register_buffer('embed_avg', embed.clone())\r\n\r\n    def forward(self, input):\r\n        flatten = input.reshape(-1, self.dim)\r\n        dist = (\r\n            flatten.pow(2).sum(1, keepdim=True)\r\n            - 2 * flatten @ self.embed\r\n            + self.embed.pow(2).sum(0, keepdim=True)\r\n        )\r\n        _, embed_ind = (-dist).max(1)\r\n        embed_onehot = F.one_hot(embed_ind, self.n_embed).type(flatten.dtype)\r\n        embed_ind = embed_ind.view(*input.shape[:-1])\r\n        quantize = self.embed_code(embed_ind)\r\n\r\n        if self.training:\r\n            self.cluster_size.data.mul_(self.decay).add_(\r\n                1 - self.decay, embed_onehot.sum(0)\r\n            )\r\n            embed_sum = flatten.transpose(0, 1) @ embed_onehot\r\n            self.embed_avg.data.mul_(self.decay).add_(1 - self.decay, embed_sum)\r\n            n = self.cluster_size.sum()\r\n            cluster_size = (\r\n                (self.cluster_size + self.eps) / (n + self.n_embed * self.eps) * n\r\n            )\r\n            embed_normalized = self.embed_avg / cluster_size.unsqueeze(0)\r\n            self.embed.data.copy_(embed_normalized)\r\n\r\n        diff = (quantize.detach() - input).pow(2).mean()\r\n        quantize = input + (quantize - input).detach()\r\n\r\n        return quantize, diff, embed_ind\r\n\r\n    def embed_code(self, embed_id):\r\n        return F.embedding(embed_id, self.embed.transpose(0, 1))\r\n```","reactions":{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/599770106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"geschaftsreise","id":10146990,"node_id":"MDQ6VXNlcjEwMTQ2OTkw","avatar_url":"https://avatars.githubusercontent.com/u/10146990?v=4","gravatar_id":"","url":"https://api.github.com/users/geschaftsreise","html_url":"https://github.com/geschaftsreise","followers_url":"https://api.github.com/users/geschaftsreise/followers","following_url":"https://api.github.com/users/geschaftsreise/following{/other_user}","gists_url":"https://api.github.com/users/geschaftsreise/gists{/gist_id}","starred_url":"https://api.github.com/users/geschaftsreise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geschaftsreise/subscriptions","organizations_url":"https://api.github.com/users/geschaftsreise/orgs","repos_url":"https://api.github.com/users/geschaftsreise/repos","events_url":"https://api.github.com/users/geschaftsreise/events{/privacy}","received_events_url":"https://api.github.com/users/geschaftsreise/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/618780521","html_url":"https://github.com/sksq96/pytorch-summary/issues/33#issuecomment-618780521","issue_url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/33","id":618780521,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODc4MDUyMQ==","user":{"login":"TylerYep","id":18021435,"node_id":"MDQ6VXNlcjE4MDIxNDM1","avatar_url":"https://avatars.githubusercontent.com/u/18021435?v=4","gravatar_id":"","url":"https://api.github.com/users/TylerYep","html_url":"https://github.com/TylerYep","followers_url":"https://api.github.com/users/TylerYep/followers","following_url":"https://api.github.com/users/TylerYep/following{/other_user}","gists_url":"https://api.github.com/users/TylerYep/gists{/gist_id}","starred_url":"https://api.github.com/users/TylerYep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TylerYep/subscriptions","organizations_url":"https://api.github.com/users/TylerYep/orgs","repos_url":"https://api.github.com/users/TylerYep/repos","events_url":"https://api.github.com/users/TylerYep/events{/privacy}","received_events_url":"https://api.github.com/users/TylerYep/received_events","type":"User","site_admin":false},"created_at":"2020-04-24T03:23:35Z","updated_at":"2020-04-24T03:23:35Z","author_association":"NONE","body":"Should all be fixed in #124 ","reactions":{"url":"https://api.github.com/repos/sksq96/pytorch-summary/issues/comments/618780521/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TylerYep","id":18021435,"node_id":"MDQ6VXNlcjE4MDIxNDM1","avatar_url":"https://avatars.githubusercontent.com/u/18021435?v=4","gravatar_id":"","url":"https://api.github.com/users/TylerYep","html_url":"https://github.com/TylerYep","followers_url":"https://api.github.com/users/TylerYep/followers","following_url":"https://api.github.com/users/TylerYep/following{/other_user}","gists_url":"https://api.github.com/users/TylerYep/gists{/gist_id}","starred_url":"https://api.github.com/users/TylerYep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TylerYep/subscriptions","organizations_url":"https://api.github.com/users/TylerYep/orgs","repos_url":"https://api.github.com/users/TylerYep/repos","events_url":"https://api.github.com/users/TylerYep/events{/privacy}","received_events_url":"https://api.github.com/users/TylerYep/received_events","type":"User","site_admin":false}}]