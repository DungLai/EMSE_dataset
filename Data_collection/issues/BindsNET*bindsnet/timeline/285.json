[{"id":2428351342,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjQyODM1MTM0Mg==","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/2428351342","actor":{"login":"Huizerd","id":15855769,"node_id":"MDQ6VXNlcjE1ODU1NzY5","avatar_url":"https://avatars.githubusercontent.com/u/15855769?v=4","gravatar_id":"","url":"https://api.github.com/users/Huizerd","html_url":"https://github.com/Huizerd","followers_url":"https://api.github.com/users/Huizerd/followers","following_url":"https://api.github.com/users/Huizerd/following{/other_user}","gists_url":"https://api.github.com/users/Huizerd/gists{/gist_id}","starred_url":"https://api.github.com/users/Huizerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huizerd/subscriptions","organizations_url":"https://api.github.com/users/Huizerd/orgs","repos_url":"https://api.github.com/users/Huizerd/repos","events_url":"https://api.github.com/users/Huizerd/events{/privacy}","received_events_url":"https://api.github.com/users/Huizerd/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-06-20T19:09:28Z","rename":{"from":"Order of things in `EnvironmentPipeline`","to":"Order of things in EnvironmentPipeline"},"performed_via_github_app":null},{"id":2428371789,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyNDI4MzcxNzg5","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/2428371789","actor":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-06-20T19:18:40Z","assignee":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504150249","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-504150249","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":504150249,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE1MDI0OQ==","user":{"login":"djsaunde","id":1245942,"node_id":"MDQ6VXNlcjEyNDU5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1245942?v=4","gravatar_id":"","url":"https://api.github.com/users/djsaunde","html_url":"https://github.com/djsaunde","followers_url":"https://api.github.com/users/djsaunde/followers","following_url":"https://api.github.com/users/djsaunde/following{/other_user}","gists_url":"https://api.github.com/users/djsaunde/gists{/gist_id}","starred_url":"https://api.github.com/users/djsaunde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djsaunde/subscriptions","organizations_url":"https://api.github.com/users/djsaunde/orgs","repos_url":"https://api.github.com/users/djsaunde/repos","events_url":"https://api.github.com/users/djsaunde/events{/privacy}","received_events_url":"https://api.github.com/users/djsaunde/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T19:20:42Z","updated_at":"2019-06-20T19:22:18Z","author_association":"COLLABORATOR","body":"Yeah, you're right. `env.step` returns `next_state` (or `next_obs`, if you will), which should not be used with the current `reward`. Good catch. I think this hasn't been caught before because I don't think many people are using this code.\r\n\r\n> A more correct approach would be to either update the weights before the new state gets fed through, or take a new action based on output spikes generated by the new state (which gives a new reward) before the weight update.\r\n\r\nThe former makes more sense to me (the latter is just the former moved forward in time one step, right?). How would you implement it?","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504150249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"djsaunde","id":1245942,"node_id":"MDQ6VXNlcjEyNDU5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1245942?v=4","gravatar_id":"","url":"https://api.github.com/users/djsaunde","html_url":"https://github.com/djsaunde","followers_url":"https://api.github.com/users/djsaunde/followers","following_url":"https://api.github.com/users/djsaunde/following{/other_user}","gists_url":"https://api.github.com/users/djsaunde/gists{/gist_id}","starred_url":"https://api.github.com/users/djsaunde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djsaunde/subscriptions","organizations_url":"https://api.github.com/users/djsaunde/orgs","repos_url":"https://api.github.com/users/djsaunde/repos","events_url":"https://api.github.com/users/djsaunde/events{/privacy}","received_events_url":"https://api.github.com/users/djsaunde/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504152119","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-504152119","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":504152119,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE1MjExOQ==","user":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T19:26:49Z","updated_at":"2019-06-20T19:26:49Z","author_association":"COLLABORATOR","body":"We had some discussion on the order of operations in the context of RL, that why I'm pinging @dee0512 to fill us in if he add some progress on that.","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504152119/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false}},{"id":2428389632,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQyODM4OTYzMg==","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/2428389632","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-20T19:26:49Z","performed_via_github_app":null},{"id":2428389633,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0MjgzODk2MzM=","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/2428389633","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-20T19:26:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504168551","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-504168551","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":504168551,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE2ODU1MQ==","user":{"login":"Huizerd","id":15855769,"node_id":"MDQ6VXNlcjE1ODU1NzY5","avatar_url":"https://avatars.githubusercontent.com/u/15855769?v=4","gravatar_id":"","url":"https://api.github.com/users/Huizerd","html_url":"https://github.com/Huizerd","followers_url":"https://api.github.com/users/Huizerd/followers","following_url":"https://api.github.com/users/Huizerd/following{/other_user}","gists_url":"https://api.github.com/users/Huizerd/gists{/gist_id}","starred_url":"https://api.github.com/users/Huizerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huizerd/subscriptions","organizations_url":"https://api.github.com/users/Huizerd/orgs","repos_url":"https://api.github.com/users/Huizerd/repos","events_url":"https://api.github.com/users/Huizerd/events{/privacy}","received_events_url":"https://api.github.com/users/Huizerd/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T20:21:01Z","updated_at":"2019-06-20T20:21:01Z","author_association":"COLLABORATOR","body":"> The former makes more sense to me (the latter is just the former moved forward in time one step, right?). \r\n\r\nYes!\r\n\r\n> How would you implement it?\r\n\r\nI was thinking we could create separate network functions for the forward pass and the updating of weights (both called by `network.run()`), so there is an option to customize for the `EnvironmentPipeline`, while not breaking everything else","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504168551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Huizerd","id":15855769,"node_id":"MDQ6VXNlcjE1ODU1NzY5","avatar_url":"https://avatars.githubusercontent.com/u/15855769?v=4","gravatar_id":"","url":"https://api.github.com/users/Huizerd","html_url":"https://github.com/Huizerd","followers_url":"https://api.github.com/users/Huizerd/followers","following_url":"https://api.github.com/users/Huizerd/following{/other_user}","gists_url":"https://api.github.com/users/Huizerd/gists{/gist_id}","starred_url":"https://api.github.com/users/Huizerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huizerd/subscriptions","organizations_url":"https://api.github.com/users/Huizerd/orgs","repos_url":"https://api.github.com/users/Huizerd/repos","events_url":"https://api.github.com/users/Huizerd/events{/privacy}","received_events_url":"https://api.github.com/users/Huizerd/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504495474","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-504495474","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":504495474,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDQ5NTQ3NA==","user":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false},"created_at":"2019-06-21T16:53:30Z","updated_at":"2019-06-21T16:53:30Z","author_association":"COLLABORATOR","body":"> > How would you implement it?\r\n> \r\n> I was thinking we could create separate network functions for the forward pass and the updating of weights (both called by `network.run()`), so there is an option to customize for the `EnvironmentPipeline`, while not breaking everything else\r\n\r\nAlso, we could overload `network.run()' with that functionality. In fact we discuss that with @dee0512 that currently busy, but I suggest to wait for his response ","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504495474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false}},{"id":2430888781,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQzMDg4ODc4MQ==","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/2430888781","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-21T16:53:30Z","performed_via_github_app":null},{"id":2430888782,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0MzA4ODg3ODI=","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/2430888782","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-21T16:53:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504945161","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-504945161","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":504945161,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDk0NTE2MQ==","user":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"created_at":"2019-06-24T10:02:08Z","updated_at":"2019-06-24T10:02:08Z","author_association":"COLLABORATOR","body":"Hi everyone,\r\n\r\nSorry for the late reply. I have been busy. So here is my input:\r\n\r\nThe following line is standard for an RL environment (Reward is received after the action is done).:\r\n\r\n` obs, reward, done, info = self.env.step(self.action) `\r\n\r\nHowever, if we assume that the network runs on the new input for some time, say 100ms, then the input is pushed through the network 100 times and the weights are updated 100 times. However, it happens in the following fashion:\r\n\r\n```\r\ndo 100 times:\r\n- push input\r\n- update weights\r\n```\r\n\r\nTherefore, even if we change the order, it will only help with the first iteration of the loop. \r\n\r\nTherefore, our code for right now only provides a guideline and is not how RL environments should be implemented. There are many different ways RL environments can be implemented. I provide 3 different examples below to explain my point:\r\n\r\n1. In the first scenario, we can take the action that is the result of the aggregate of spikes. We then get the reward and update the network. To update the network we can only update the weights once outside the env.run function.\r\n\r\n2. Another option to update the weights for update methods such as STDP is to push the same input again, however, this time with the reward and update weights inside the env.run like we are doing right now.\r\n\r\n3. You might also want to reward a particular action and punish another action. In which case we should be able to provide the env.run with an action instead of a reward. For each iteration, the network receives a reward based on its activity after the input is pushed. In this case, also we can use the same code but we need an option for passing action instead of reward (This method is used in Florian's paper). \r\n\r\nTherefore, I do not think we should change the order. Since in all of the above scenarios, the weight is always updated after the layers are moved forward. Therefore, I do not think we should change the order inside the env.run. If there is some other paper or idea to do it differently, we can think about it. \r\n\r\nHowever, I am all for making the env.run function modular as long as it does not slow it down. ","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/504945161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505054374","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-505054374","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":505054374,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTA1NDM3NA==","user":{"login":"Huizerd","id":15855769,"node_id":"MDQ6VXNlcjE1ODU1NzY5","avatar_url":"https://avatars.githubusercontent.com/u/15855769?v=4","gravatar_id":"","url":"https://api.github.com/users/Huizerd","html_url":"https://github.com/Huizerd","followers_url":"https://api.github.com/users/Huizerd/followers","following_url":"https://api.github.com/users/Huizerd/following{/other_user}","gists_url":"https://api.github.com/users/Huizerd/gists{/gist_id}","starred_url":"https://api.github.com/users/Huizerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huizerd/subscriptions","organizations_url":"https://api.github.com/users/Huizerd/orgs","repos_url":"https://api.github.com/users/Huizerd/repos","events_url":"https://api.github.com/users/Huizerd/events{/privacy}","received_events_url":"https://api.github.com/users/Huizerd/received_events","type":"User","site_admin":false},"created_at":"2019-06-24T15:14:03Z","updated_at":"2019-06-24T15:14:03Z","author_association":"COLLABORATOR","body":"Ok, so I think @dee0512's first scenario\r\n> 1. In the first scenario, we can take the action that is the result of the aggregate of spikes. We then get the reward and update the network. To update the network we can only update the weights once outside the env.run function.\r\n\r\nis the closest to what I'm getting at. To put it in more formal steps (the way it is implemented in `EnvironmentPipeline` right now):\r\n1. You have a `state = initial_state` (internal to the environment)\r\n2. We (randomly) choose some `action`, because there currently aren't any output layer spikes in `Network`\r\n3. Based on `action` (and the environment's internal `state`), the environment returns a `new_state` and `reward`\r\n4. This `new_state` is fed through `Network` **once** to generate output spikes\r\n5. `Network`'s weights are updated based on `reward`\r\n6. The environment internally updates `state = new_state`\r\n7. We choose an `action` based on `Network`'s output spikes\r\n8. Repeat steps 3 -7\r\n\r\nWhile we want `new_state` to be fed through `Network` to generate output spikes and select a new `action`, we want to update `Network`'s weights based on `state` and `reward`, because `reward` is the feedback for `Network` to determine whether it took the correct `action` in `state`, and `Network` is our representation of `V(s)` (state-value function) or `Q(s, a)` (action-value function).\r\n\r\nI don't see why you would want to push the same `state` (encoded into spikes) through the network multiple times with the same `reward`, updating the weights every time. It seems more natural (to allow temporal encoding of the input) to push input spike trains (encoding a single `state`) through the network once, take an `action` based on the output spikes, and update the weights based on the `reward` you got for this action.\r\n\r\nIt's not that updating of weights should happen before or after the forward pass, it's that they belong with different `state`'s, and that the weight update should happen based on the network's spiking (following from `state`) that obtained the `reward`.","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505054374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Huizerd","id":15855769,"node_id":"MDQ6VXNlcjE1ODU1NzY5","avatar_url":"https://avatars.githubusercontent.com/u/15855769?v=4","gravatar_id":"","url":"https://api.github.com/users/Huizerd","html_url":"https://github.com/Huizerd","followers_url":"https://api.github.com/users/Huizerd/followers","following_url":"https://api.github.com/users/Huizerd/following{/other_user}","gists_url":"https://api.github.com/users/Huizerd/gists{/gist_id}","starred_url":"https://api.github.com/users/Huizerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huizerd/subscriptions","organizations_url":"https://api.github.com/users/Huizerd/orgs","repos_url":"https://api.github.com/users/Huizerd/repos","events_url":"https://api.github.com/users/Huizerd/events{/privacy}","received_events_url":"https://api.github.com/users/Huizerd/received_events","type":"User","site_admin":false}},{"id":2434632244,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQzNDYzMjI0NA==","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/2434632244","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-24T15:14:03Z","performed_via_github_app":null},{"id":2434632246,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0MzQ2MzIyNDY=","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/2434632246","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-24T15:14:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505061893","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-505061893","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":505061893,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTA2MTg5Mw==","user":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"created_at":"2019-06-24T15:31:54Z","updated_at":"2019-06-24T15:31:54Z","author_association":"COLLABORATOR","body":"If by pushing the weights once you mean running only 1 iteration of forward pass (1ms), then it would result in very low/no activity in the network (depending on the weights and threshold). \r\n\r\nIn either case, if the weights are to be updated after the network.run loop, you can update manually after the network.run function call with the reward. The weight update in the network.run loop is for updating weights every iteration. Which is not the case in this scenario. Therefore as I suggested, \r\nTo update the network we can only update the weights once outside the network.run function.","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505061893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505067032","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-505067032","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":505067032,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTA2NzAzMg==","user":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false},"created_at":"2019-06-24T15:44:54Z","updated_at":"2019-06-24T15:44:54Z","author_association":"COLLABORATOR","body":"> I don't see why you would want to push the same state (encoded into spikes) through the network multiple times with the same reward, updating the weights every time. It seems more natural (to allow temporal encoding of the input) to push input spike trains (encoding a single state) through the network once, take an action based on the output spikes, and update the weights based on the reward you got for this action.\r\n\r\nBecause we are combining standard RL methods and spiking neurons, I think it deserve a compromise. Where standard neurons get almost immediately influence from the input, spiking neurons need some iteration to get the effect. \r\nMaybe we need yet another input/update ratio that will be in the pipeline. With this “learning constant” we feed the input and the (reward multiply by the ratio) to spread the effect of the reward on multiple iterations with less strength.\r\nAlso when feeding another reward, we can gradually change the reward from the previous one, because of the \"slow\" effect of the neurons to absorbs the new input.","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505067032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505324679","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-505324679","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":505324679,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTMyNDY3OQ==","user":{"login":"Huizerd","id":15855769,"node_id":"MDQ6VXNlcjE1ODU1NzY5","avatar_url":"https://avatars.githubusercontent.com/u/15855769?v=4","gravatar_id":"","url":"https://api.github.com/users/Huizerd","html_url":"https://github.com/Huizerd","followers_url":"https://api.github.com/users/Huizerd/followers","following_url":"https://api.github.com/users/Huizerd/following{/other_user}","gists_url":"https://api.github.com/users/Huizerd/gists{/gist_id}","starred_url":"https://api.github.com/users/Huizerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huizerd/subscriptions","organizations_url":"https://api.github.com/users/Huizerd/orgs","repos_url":"https://api.github.com/users/Huizerd/repos","events_url":"https://api.github.com/users/Huizerd/events{/privacy}","received_events_url":"https://api.github.com/users/Huizerd/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T07:34:22Z","updated_at":"2019-06-25T07:34:22Z","author_association":"COLLABORATOR","body":"> If by pushing the weights once you mean running only 1 iteration of forward pass (1ms), then it would result in very low/no activity in the network (depending on the weights and threshold).\r\n\r\nI actually do one pass of 10ms, but yes, activity depends on weights/thresholds.\r\n\r\n> In either case, if the weights are to be updated after the network.run loop, you can update manually after the network.run function call with the reward. The weight update in the network.run loop is for updating weights every iteration. Which is not the case in this scenario. Therefore as I suggested,\r\n> > To update the network we can only update the weights once outside the network.run function.\r\n\r\nDo you mean setting `learning = False` and calling `Connection.update()` with `reward` outside the `Network.run()`?\r\n\r\n> Because we are combining standard RL methods and spiking neurons, I think it deserve a compromise. Where standard neurons get almost immediately influence from the input, spiking neurons need some iteration to get the effect.\r\n> Maybe we need yet another input/update ratio that will be in the pipeline. With this “learning constant” we feed the input and the (reward multiply by the ratio) to spread the effect of the reward on multiple iterations with less strength.\r\n> Also when feeding another reward, we can gradually change the reward from the previous one, because of the \"slow\" effect of the neurons to absorbs the new input.\r\n\r\nOk, I see where you're coming from. In any case, I'll see whether I can make `Network.run()` modular in a way that is beneficial for all, without breaking/slowing anything, and create a PR for that.","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505324679/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Huizerd","id":15855769,"node_id":"MDQ6VXNlcjE1ODU1NzY5","avatar_url":"https://avatars.githubusercontent.com/u/15855769?v=4","gravatar_id":"","url":"https://api.github.com/users/Huizerd","html_url":"https://github.com/Huizerd","followers_url":"https://api.github.com/users/Huizerd/followers","following_url":"https://api.github.com/users/Huizerd/following{/other_user}","gists_url":"https://api.github.com/users/Huizerd/gists{/gist_id}","starred_url":"https://api.github.com/users/Huizerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huizerd/subscriptions","organizations_url":"https://api.github.com/users/Huizerd/orgs","repos_url":"https://api.github.com/users/Huizerd/repos","events_url":"https://api.github.com/users/Huizerd/events{/privacy}","received_events_url":"https://api.github.com/users/Huizerd/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505542637","html_url":"https://github.com/BindsNET/bindsnet/issues/285#issuecomment-505542637","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/285","id":505542637,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTU0MjYzNw==","user":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T17:26:42Z","updated_at":"2019-06-25T17:26:42Z","author_association":"COLLABORATOR","body":"> Do you mean setting learning = False and calling Connection.update() with reward outside the Network.run()?\r\n\r\nI do. Since different RL solutions require different ways of updating weights. But if there is another way of doing it without removing the current update method, then we can think about it. \r\n\r\nI agree that making the network.run modular would be the first step.","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/505542637/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dee0512","id":7398932,"node_id":"MDQ6VXNlcjczOTg5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7398932?v=4","gravatar_id":"","url":"https://api.github.com/users/dee0512","html_url":"https://github.com/dee0512","followers_url":"https://api.github.com/users/dee0512/followers","following_url":"https://api.github.com/users/dee0512/following{/other_user}","gists_url":"https://api.github.com/users/dee0512/gists{/gist_id}","starred_url":"https://api.github.com/users/dee0512/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dee0512/subscriptions","organizations_url":"https://api.github.com/users/dee0512/orgs","repos_url":"https://api.github.com/users/dee0512/repos","events_url":"https://api.github.com/users/dee0512/events{/privacy}","received_events_url":"https://api.github.com/users/dee0512/received_events","type":"User","site_admin":false}},{"id":3366533662,"node_id":"MDExOkNsb3NlZEV2ZW50MzM2NjUzMzY2Mg==","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/3366533662","actor":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-05-23T01:11:33Z","state_reason":null,"performed_via_github_app":null}]