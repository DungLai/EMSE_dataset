[{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/1331241222","html_url":"https://github.com/BindsNET/bindsnet/issues/601#issuecomment-1331241222","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/601","id":1331241222,"node_id":"IC_kwDOBzWFSM5PWSEG","user":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false},"created_at":"2022-11-29T20:13:42Z","updated_at":"2022-11-29T20:13:42Z","author_association":"COLLABORATOR","body":"Thank you for using BindsNET. \r\nI'm a little confused, are you training the SNN twice?\r\n\r\nThe conversion process should be:\r\n1. Build an ANN using a regular PyTorch module and train it using your favorite gradient descent method.\r\n2. Building an SNN with the same topology as the ANN from the previous step.\r\n3. Converting the ANN weights to the equivalent range for SNN from the previous step. \r\n5. Testing SNN on the testing data.\r\n\r\nNote \r\n1. when the training/conversion process finish, use `network. train(mode=False)` to freeze the weights.\r\n2. ANN conversion to SNN should be used only once, running the code twice can lead to unexpected results. If the conversion wasn't successful the first time, some parameters need to be changed, and the process need to be started again. \r\n\r\nps. The script that you are using to convert the network is not updated and is not part of the supported code in BindsNET. The code you are using probably contain some code that needs to be update. With that said, I will be happy to help you use it, and hopefully, you can help by contributing your time to fix some of the small kinks that exist in the BindsNET code. \r\n","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/1331241222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/1331256454","html_url":"https://github.com/BindsNET/bindsnet/issues/601#issuecomment-1331256454","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/601","id":1331256454,"node_id":"IC_kwDOBzWFSM5PWVyG","user":{"login":"0xnurl","id":16934551,"node_id":"MDQ6VXNlcjE2OTM0NTUx","avatar_url":"https://avatars.githubusercontent.com/u/16934551?v=4","gravatar_id":"","url":"https://api.github.com/users/0xnurl","html_url":"https://github.com/0xnurl","followers_url":"https://api.github.com/users/0xnurl/followers","following_url":"https://api.github.com/users/0xnurl/following{/other_user}","gists_url":"https://api.github.com/users/0xnurl/gists{/gist_id}","starred_url":"https://api.github.com/users/0xnurl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xnurl/subscriptions","organizations_url":"https://api.github.com/users/0xnurl/orgs","repos_url":"https://api.github.com/users/0xnurl/repos","events_url":"https://api.github.com/users/0xnurl/events{/privacy}","received_events_url":"https://api.github.com/users/0xnurl/received_events","type":"User","site_admin":false},"created_at":"2022-11-29T20:26:39Z","updated_at":"2022-11-29T20:26:39Z","author_association":"CONTRIBUTOR","body":"Thanks Hananel for the very quick reply!\r\n\r\nWe're not training the SNN twice. We're just using the ANN->SNN conversion as a way to build a deep SNN architecture. We couldn't find an example of a multilayer architecture in your example, so we've been using this method. Does this make sense?\r\n\r\nSo our process is:\r\n\r\n1. Build multilayer ANN in PyTorch.\r\n2. Convert to SNN using `bindsnet.conversion.ann_to_snn()`\r\n3. Train SNN as in your examples (`eth_mnist.py`)\r\n\r\nSo basically this should work right? The problem is that after step 3, the SNN doesn't seem to retain the weights. \r\n\r\nRe: unsupported code, yes I'm aware of that and even opened a [pull request](https://github.com/BINDS-LAB-UMASS/bindsnet_experiments/pull/9) to update the external script. \r\nHowever, the `conversion` module is part of the BindsNET package, so should be supported, right?\r\n\r\nAny help would be much appreciated. \r\nThanks again!","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/1331256454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"0xnurl","id":16934551,"node_id":"MDQ6VXNlcjE2OTM0NTUx","avatar_url":"https://avatars.githubusercontent.com/u/16934551?v=4","gravatar_id":"","url":"https://api.github.com/users/0xnurl","html_url":"https://github.com/0xnurl","followers_url":"https://api.github.com/users/0xnurl/followers","following_url":"https://api.github.com/users/0xnurl/following{/other_user}","gists_url":"https://api.github.com/users/0xnurl/gists{/gist_id}","starred_url":"https://api.github.com/users/0xnurl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xnurl/subscriptions","organizations_url":"https://api.github.com/users/0xnurl/orgs","repos_url":"https://api.github.com/users/0xnurl/repos","events_url":"https://api.github.com/users/0xnurl/events{/privacy}","received_events_url":"https://api.github.com/users/0xnurl/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/1331273564","html_url":"https://github.com/BindsNET/bindsnet/issues/601#issuecomment-1331273564","issue_url":"https://api.github.com/repos/BindsNET/bindsnet/issues/601","id":1331273564,"node_id":"IC_kwDOBzWFSM5PWZ9c","user":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false},"created_at":"2022-11-29T20:41:04Z","updated_at":"2022-11-29T20:41:04Z","author_association":"COLLABORATOR","body":"If I'm not mistaken (I didnt use this part of the code for a long time) the method `bindsnet.conversion.ann_to_snn()` assume that the given ANN is already fully trained. The result of this method is an equivalent SNN that should perform similarly to the ANN. \r\nThe only training here should be performed on the ANN, not the SNN. Therefore, step three is not relevant. \r\n\r\nAbout the PR, if the code work on the main BindsNET, I will be glad if you submit it to this repository, with only one request, you will help in the future to update the code if necessary to new upcoming changes in PyTorch/BindsNET. ","reactions":{"url":"https://api.github.com/repos/BindsNET/bindsnet/issues/comments/1331273564/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false}},{"id":7944227140,"node_id":"CE_lADOBzWFSM5XdKQWzwAAAAHZg0lE","url":"https://api.github.com/repos/BindsNET/bindsnet/issues/events/7944227140","actor":{"login":"Hananel-Hazan","id":3954715,"node_id":"MDQ6VXNlcjM5NTQ3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3954715?v=4","gravatar_id":"","url":"https://api.github.com/users/Hananel-Hazan","html_url":"https://github.com/Hananel-Hazan","followers_url":"https://api.github.com/users/Hananel-Hazan/followers","following_url":"https://api.github.com/users/Hananel-Hazan/following{/other_user}","gists_url":"https://api.github.com/users/Hananel-Hazan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hananel-Hazan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hananel-Hazan/subscriptions","organizations_url":"https://api.github.com/users/Hananel-Hazan/orgs","repos_url":"https://api.github.com/users/Hananel-Hazan/repos","events_url":"https://api.github.com/users/Hananel-Hazan/events{/privacy}","received_events_url":"https://api.github.com/users/Hananel-Hazan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-12-02T22:11:25Z","state_reason":null,"performed_via_github_app":null}]