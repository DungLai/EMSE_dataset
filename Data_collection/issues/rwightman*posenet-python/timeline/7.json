[{"url":"https://api.github.com/repos/rwightman/posenet-python/issues/comments/470981310","html_url":"https://github.com/rwightman/posenet-python/issues/7#issuecomment-470981310","issue_url":"https://api.github.com/repos/rwightman/posenet-python/issues/7","id":470981310,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDk4MTMxMA==","user":{"login":"rwightman","id":5702664,"node_id":"MDQ6VXNlcjU3MDI2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5702664?v=4","gravatar_id":"","url":"https://api.github.com/users/rwightman","html_url":"https://github.com/rwightman","followers_url":"https://api.github.com/users/rwightman/followers","following_url":"https://api.github.com/users/rwightman/following{/other_user}","gists_url":"https://api.github.com/users/rwightman/gists{/gist_id}","starred_url":"https://api.github.com/users/rwightman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwightman/subscriptions","organizations_url":"https://api.github.com/users/rwightman/orgs","repos_url":"https://api.github.com/users/rwightman/repos","events_url":"https://api.github.com/users/rwightman/events{/privacy}","received_events_url":"https://api.github.com/users/rwightman/received_events","type":"User","site_admin":false},"created_at":"2019-03-08T16:06:54Z","updated_at":"2019-03-08T16:06:54Z","author_association":"OWNER","body":"It's building the list line segments for polylines to draw which are defined by connected part indices. The original algo specified that a skeleton segment is valid if both ends are above the min confidence.\r\n\r\nI'm not sure how you'd get rid of it? You could try combining in it in the same loop as the keypoint scan but you'd need the connected parts in some sort of dict form and a bunch of dict lookups in the loop. Doubt it would be any faster. The connected parts data structure does not include all of the keypoints and some more than once, basically defines the skeleton segments with none of the face keypoints.","reactions":{"url":"https://api.github.com/repos/rwightman/posenet-python/issues/comments/470981310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rwightman","id":5702664,"node_id":"MDQ6VXNlcjU3MDI2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5702664?v=4","gravatar_id":"","url":"https://api.github.com/users/rwightman","html_url":"https://github.com/rwightman","followers_url":"https://api.github.com/users/rwightman/followers","following_url":"https://api.github.com/users/rwightman/following{/other_user}","gists_url":"https://api.github.com/users/rwightman/gists{/gist_id}","starred_url":"https://api.github.com/users/rwightman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwightman/subscriptions","organizations_url":"https://api.github.com/users/rwightman/orgs","repos_url":"https://api.github.com/users/rwightman/repos","events_url":"https://api.github.com/users/rwightman/events{/privacy}","received_events_url":"https://api.github.com/users/rwightman/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/rwightman/posenet-python/issues/comments/471445839","html_url":"https://github.com/rwightman/posenet-python/issues/7#issuecomment-471445839","issue_url":"https://api.github.com/repos/rwightman/posenet-python/issues/7","id":471445839,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTQ0NTgzOQ==","user":{"login":"gustavz","id":29252883,"node_id":"MDQ6VXNlcjI5MjUyODgz","avatar_url":"https://avatars.githubusercontent.com/u/29252883?v=4","gravatar_id":"","url":"https://api.github.com/users/gustavz","html_url":"https://github.com/gustavz","followers_url":"https://api.github.com/users/gustavz/followers","following_url":"https://api.github.com/users/gustavz/following{/other_user}","gists_url":"https://api.github.com/users/gustavz/gists{/gist_id}","starred_url":"https://api.github.com/users/gustavz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gustavz/subscriptions","organizations_url":"https://api.github.com/users/gustavz/orgs","repos_url":"https://api.github.com/users/gustavz/repos","events_url":"https://api.github.com/users/gustavz/events{/privacy}","received_events_url":"https://api.github.com/users/gustavz/received_events","type":"User","site_admin":false},"created_at":"2019-03-11T08:25:32Z","updated_at":"2019-03-11T08:27:47Z","author_association":"NONE","body":"I will write in in pseudo code because I implemented it in java and mapping it to your python implementation is too much work for now.\r\nI have a pose class, containing an array of keypoints with x and y coordinates. Each pose has a score aswell as each keypoint, similar to the original implementation and should work aswell with your separate lists implementation.\r\n\r\n```\r\nfor pose in poses:\r\n  if pose.score > MIN_POSE_SCORE\r\n    continue\r\n  for id in FACE_IDS\r\n    if pose.keypoint[id].score < MIN_PART_SCORE\r\n      continue\r\n    drawPoint(pose.keypoint[id].x, pose.keypoint[id].y)\r\n  for parent,child in CONNECTED_PART_IDS\r\n    if pose.keypoint[parent].score < MIN_PART_SCORE or pose.keypoint[child].score < MIN_PART_SCORE\r\n      continue\r\n    drawLine(pose.keypoint[parent].x, pose.keypoint[parent].y,pose.keypoint[child].x, pose.keypoint[child].y)\r\n```\r\n\r\nFor my understanding this should work, without creating adjacent keypoint lists or anything, just reading out what's already in the detections.\r\nThis is of course not much faster but I always try to minimize code and functions overhead for readability.","reactions":{"url":"https://api.github.com/repos/rwightman/posenet-python/issues/comments/471445839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gustavz","id":29252883,"node_id":"MDQ6VXNlcjI5MjUyODgz","avatar_url":"https://avatars.githubusercontent.com/u/29252883?v=4","gravatar_id":"","url":"https://api.github.com/users/gustavz","html_url":"https://github.com/gustavz","followers_url":"https://api.github.com/users/gustavz/followers","following_url":"https://api.github.com/users/gustavz/following{/other_user}","gists_url":"https://api.github.com/users/gustavz/gists{/gist_id}","starred_url":"https://api.github.com/users/gustavz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gustavz/subscriptions","organizations_url":"https://api.github.com/users/gustavz/orgs","repos_url":"https://api.github.com/users/gustavz/repos","events_url":"https://api.github.com/users/gustavz/events{/privacy}","received_events_url":"https://api.github.com/users/gustavz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/rwightman/posenet-python/issues/comments/471858651","html_url":"https://github.com/rwightman/posenet-python/issues/7#issuecomment-471858651","issue_url":"https://api.github.com/repos/rwightman/posenet-python/issues/7","id":471858651,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTg1ODY1MQ==","user":{"login":"rwightman","id":5702664,"node_id":"MDQ6VXNlcjU3MDI2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5702664?v=4","gravatar_id":"","url":"https://api.github.com/users/rwightman","html_url":"https://github.com/rwightman","followers_url":"https://api.github.com/users/rwightman/followers","following_url":"https://api.github.com/users/rwightman/following{/other_user}","gists_url":"https://api.github.com/users/rwightman/gists{/gist_id}","starred_url":"https://api.github.com/users/rwightman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwightman/subscriptions","organizations_url":"https://api.github.com/users/rwightman/orgs","repos_url":"https://api.github.com/users/rwightman/repos","events_url":"https://api.github.com/users/rwightman/events{/privacy}","received_events_url":"https://api.github.com/users/rwightman/received_events","type":"User","site_admin":false},"created_at":"2019-03-12T05:05:26Z","updated_at":"2019-03-12T05:05:26Z","author_association":"OWNER","body":"Yeah, looks fine aside from the '>' :) In Python I also wanted to draw the points for the non-face keypoints without making custom draw routines. Also, calling polylines once and drawKeypoints once as I did will likely save more than avoiding the extra work in get_adjacent_keypoints, but I haven't tested that theory.","reactions":{"url":"https://api.github.com/repos/rwightman/posenet-python/issues/comments/471858651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rwightman","id":5702664,"node_id":"MDQ6VXNlcjU3MDI2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5702664?v=4","gravatar_id":"","url":"https://api.github.com/users/rwightman","html_url":"https://github.com/rwightman","followers_url":"https://api.github.com/users/rwightman/followers","following_url":"https://api.github.com/users/rwightman/following{/other_user}","gists_url":"https://api.github.com/users/rwightman/gists{/gist_id}","starred_url":"https://api.github.com/users/rwightman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwightman/subscriptions","organizations_url":"https://api.github.com/users/rwightman/orgs","repos_url":"https://api.github.com/users/rwightman/repos","events_url":"https://api.github.com/users/rwightman/events{/privacy}","received_events_url":"https://api.github.com/users/rwightman/received_events","type":"User","site_admin":false}},{"id":2209624822,"node_id":"MDExOkNsb3NlZEV2ZW50MjIwOTYyNDgyMg==","url":"https://api.github.com/repos/rwightman/posenet-python/issues/events/2209624822","actor":{"login":"gustavz","id":29252883,"node_id":"MDQ6VXNlcjI5MjUyODgz","avatar_url":"https://avatars.githubusercontent.com/u/29252883?v=4","gravatar_id":"","url":"https://api.github.com/users/gustavz","html_url":"https://github.com/gustavz","followers_url":"https://api.github.com/users/gustavz/followers","following_url":"https://api.github.com/users/gustavz/following{/other_user}","gists_url":"https://api.github.com/users/gustavz/gists{/gist_id}","starred_url":"https://api.github.com/users/gustavz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gustavz/subscriptions","organizations_url":"https://api.github.com/users/gustavz/orgs","repos_url":"https://api.github.com/users/gustavz/repos","events_url":"https://api.github.com/users/gustavz/events{/privacy}","received_events_url":"https://api.github.com/users/gustavz/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-18T08:48:12Z","state_reason":null,"performed_via_github_app":null}]