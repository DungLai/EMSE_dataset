[{"id":2301603390,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzMDE2MDMzOTA=","url":"https://api.github.com/repos/nubank/fklearn/issues/events/2301603390","actor":{"login":"prcastro","id":1280742,"node_id":"MDQ6VXNlcjEyODA3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1280742?v=4","gravatar_id":"","url":"https://api.github.com/users/prcastro","html_url":"https://github.com/prcastro","followers_url":"https://api.github.com/users/prcastro/followers","following_url":"https://api.github.com/users/prcastro/following{/other_user}","gists_url":"https://api.github.com/users/prcastro/gists{/gist_id}","starred_url":"https://api.github.com/users/prcastro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prcastro/subscriptions","organizations_url":"https://api.github.com/users/prcastro/orgs","repos_url":"https://api.github.com/users/prcastro/repos","events_url":"https://api.github.com/users/prcastro/events{/privacy}","received_events_url":"https://api.github.com/users/prcastro/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-04-25T22:07:33Z","label":{"name":"documentation","color":"b342f4"},"performed_via_github_app":null},{"id":2301603653,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjMwMTYwMzY1Mw==","url":"https://api.github.com/repos/nubank/fklearn/issues/events/2301603653","actor":{"login":"prcastro","id":1280742,"node_id":"MDQ6VXNlcjEyODA3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1280742?v=4","gravatar_id":"","url":"https://api.github.com/users/prcastro","html_url":"https://github.com/prcastro","followers_url":"https://api.github.com/users/prcastro/followers","following_url":"https://api.github.com/users/prcastro/following{/other_user}","gists_url":"https://api.github.com/users/prcastro/gists{/gist_id}","starred_url":"https://api.github.com/users/prcastro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prcastro/subscriptions","organizations_url":"https://api.github.com/users/prcastro/orgs","repos_url":"https://api.github.com/users/prcastro/repos","events_url":"https://api.github.com/users/prcastro/events{/privacy}","received_events_url":"https://api.github.com/users/prcastro/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-04-25T22:07:41Z","rename":{"from":"An example of using categorical features","to":"An example with categorical features"},"performed_via_github_app":null},{"id":2301866289,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzMDE4NjYyODk=","url":"https://api.github.com/repos/nubank/fklearn/issues/events/2301866289","actor":{"login":"caique-lima","id":8700954,"node_id":"MDQ6VXNlcjg3MDA5NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8700954?v=4","gravatar_id":"","url":"https://api.github.com/users/caique-lima","html_url":"https://github.com/caique-lima","followers_url":"https://api.github.com/users/caique-lima/followers","following_url":"https://api.github.com/users/caique-lima/following{/other_user}","gists_url":"https://api.github.com/users/caique-lima/gists{/gist_id}","starred_url":"https://api.github.com/users/caique-lima/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caique-lima/subscriptions","organizations_url":"https://api.github.com/users/caique-lima/orgs","repos_url":"https://api.github.com/users/caique-lima/repos","events_url":"https://api.github.com/users/caique-lima/events{/privacy}","received_events_url":"https://api.github.com/users/caique-lima/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-04-26T01:44:15Z","label":{"name":"good first issue","color":"7057ff"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/nubank/fklearn/issues/comments/486931863","html_url":"https://github.com/nubank/fklearn/issues/51#issuecomment-486931863","issue_url":"https://api.github.com/repos/nubank/fklearn/issues/51","id":486931863,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjkzMTg2Mw==","user":{"login":"victor-ab","id":26576394,"node_id":"MDQ6VXNlcjI2NTc2Mzk0","avatar_url":"https://avatars.githubusercontent.com/u/26576394?v=4","gravatar_id":"","url":"https://api.github.com/users/victor-ab","html_url":"https://github.com/victor-ab","followers_url":"https://api.github.com/users/victor-ab/followers","following_url":"https://api.github.com/users/victor-ab/following{/other_user}","gists_url":"https://api.github.com/users/victor-ab/gists{/gist_id}","starred_url":"https://api.github.com/users/victor-ab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victor-ab/subscriptions","organizations_url":"https://api.github.com/users/victor-ab/orgs","repos_url":"https://api.github.com/users/victor-ab/repos","events_url":"https://api.github.com/users/victor-ab/events{/privacy}","received_events_url":"https://api.github.com/users/victor-ab/received_events","type":"User","site_admin":false},"created_at":"2019-04-26T05:35:05Z","updated_at":"2019-04-26T05:35:05Z","author_association":"CONTRIBUTOR","body":"@prcastro, is there a way to include a transformation tool like the `onehot_categorizer` inside a pipeline?\r\nBecause it will generate new columns and break the pipeline.","reactions":{"url":"https://api.github.com/repos/nubank/fklearn/issues/comments/486931863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"victor-ab","id":26576394,"node_id":"MDQ6VXNlcjI2NTc2Mzk0","avatar_url":"https://avatars.githubusercontent.com/u/26576394?v=4","gravatar_id":"","url":"https://api.github.com/users/victor-ab","html_url":"https://github.com/victor-ab","followers_url":"https://api.github.com/users/victor-ab/followers","following_url":"https://api.github.com/users/victor-ab/following{/other_user}","gists_url":"https://api.github.com/users/victor-ab/gists{/gist_id}","starred_url":"https://api.github.com/users/victor-ab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victor-ab/subscriptions","organizations_url":"https://api.github.com/users/victor-ab/orgs","repos_url":"https://api.github.com/users/victor-ab/repos","events_url":"https://api.github.com/users/victor-ab/events{/privacy}","received_events_url":"https://api.github.com/users/victor-ab/received_events","type":"User","site_admin":false}},{"id":2302106304,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMwMjEwNjMwNA==","url":"https://api.github.com/repos/nubank/fklearn/issues/events/2302106304","actor":{"login":"prcastro","id":1280742,"node_id":"MDQ6VXNlcjEyODA3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1280742?v=4","gravatar_id":"","url":"https://api.github.com/users/prcastro","html_url":"https://github.com/prcastro","followers_url":"https://api.github.com/users/prcastro/followers","following_url":"https://api.github.com/users/prcastro/following{/other_user}","gists_url":"https://api.github.com/users/prcastro/gists{/gist_id}","starred_url":"https://api.github.com/users/prcastro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prcastro/subscriptions","organizations_url":"https://api.github.com/users/prcastro/orgs","repos_url":"https://api.github.com/users/prcastro/repos","events_url":"https://api.github.com/users/prcastro/events{/privacy}","received_events_url":"https://api.github.com/users/prcastro/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-26T05:35:05Z","performed_via_github_app":null},{"id":2302106305,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMDIxMDYzMDU=","url":"https://api.github.com/repos/nubank/fklearn/issues/events/2302106305","actor":{"login":"prcastro","id":1280742,"node_id":"MDQ6VXNlcjEyODA3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1280742?v=4","gravatar_id":"","url":"https://api.github.com/users/prcastro","html_url":"https://github.com/prcastro","followers_url":"https://api.github.com/users/prcastro/followers","following_url":"https://api.github.com/users/prcastro/following{/other_user}","gists_url":"https://api.github.com/users/prcastro/gists{/gist_id}","starred_url":"https://api.github.com/users/prcastro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prcastro/subscriptions","organizations_url":"https://api.github.com/users/prcastro/orgs","repos_url":"https://api.github.com/users/prcastro/repos","events_url":"https://api.github.com/users/prcastro/events{/privacy}","received_events_url":"https://api.github.com/users/prcastro/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-26T05:35:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/nubank/fklearn/issues/comments/495003415","html_url":"https://github.com/nubank/fklearn/issues/51#issuecomment-495003415","issue_url":"https://api.github.com/repos/nubank/fklearn/issues/51","id":495003415,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAwMzQxNQ==","user":{"login":"vultor33","id":16596383,"node_id":"MDQ6VXNlcjE2NTk2Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/16596383?v=4","gravatar_id":"","url":"https://api.github.com/users/vultor33","html_url":"https://github.com/vultor33","followers_url":"https://api.github.com/users/vultor33/followers","following_url":"https://api.github.com/users/vultor33/following{/other_user}","gists_url":"https://api.github.com/users/vultor33/gists{/gist_id}","starred_url":"https://api.github.com/users/vultor33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vultor33/subscriptions","organizations_url":"https://api.github.com/users/vultor33/orgs","repos_url":"https://api.github.com/users/vultor33/repos","events_url":"https://api.github.com/users/vultor33/events{/privacy}","received_events_url":"https://api.github.com/users/vultor33/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T22:51:37Z","updated_at":"2019-05-23T12:17:13Z","author_association":"CONTRIBUTOR","body":"I am not from Nubank, I just did this example for myself and shared it here.\r\n```\r\n# This is not an official example, it has no warranty of any kind.\r\n\r\nimport pandas as pd\r\n# DATA WAS OBTAINED AT: https://www.kaggle.com/c/titanic/data\r\n# IT WAS ALSO ADDED TO THE COMMENT IN FKLEARN ISSUE #51\r\nDATA_FILE = 'titanic-train.txt'\r\ndata = pd.read_csv(DATA_FILE,delimiter=',',dtype=str)\r\ndata.loc[:,'Age'] = data.loc[:,'Age'].astype(float)\r\ndata.loc[:,'Fare'] = data.loc[:,'Fare'].astype(float)\r\ndata.loc[:,'Parch'] = data.loc[:,'Parch'].astype(int)\r\ndata.loc[:,'Pclass'] = data.loc[:,'Pclass'].astype(int)\r\ndata.loc[:,'SibSp'] = data.loc[:,'SibSp'].astype(int)\r\nAUXILIARY = ['PassengerId','Name','Cabin', 'Ticket']\r\nTARGET = ['Survived']\r\nFEATURES = set(data.columns) - set(AUXILIARY) - set(TARGET)\r\n\r\n\r\nfrom fklearn.training.transformation import onehot_categorizer\r\n# ONE HOT ENCODER DEFINITION\r\nmy_onehotencoder = onehot_categorizer(columns_to_categorize = ['Embarked','Sex'])\r\n# FEATURE NAMES ARE NEEDED (SEE ISSUE #68 FOR MORE)\r\n_, data_after_enconding, _ = my_onehotencoder(data)  # applying encoder to training dataset\r\nNEW_FEATURES = ['Pclass', \r\n            'Age', \r\n            'SibSp', \r\n            'Parch', \r\n            'Fare', \r\n            'Embarked==C', \r\n            'Embarked==Q', \r\n            'Embarked==S',\r\n            'Sex==female', \r\n            'Sex==male'] # This names are in \"data_after_enconding\", I had just typed them here.\r\n\r\n\r\nfrom fklearn.training.imputation import imputer\r\nfrom fklearn.training.transformation import onehot_categorizer\r\nfrom fklearn.training.transformation import standard_scaler\r\nfrom fklearn.training.classification import xgb_classification_learner\r\n# SOME OTHER TRANSFORMATIONS\r\nmy_imputer = imputer(columns_to_impute=NEW_FEATURES, impute_strategy='median')\r\nmy_scaler = standard_scaler(columns_to_scale=NEW_FEATURES)\r\n# MODEL DEFINITION\r\nmy_model = xgb_classification_learner(features = NEW_FEATURES,\r\n                                      target = TARGET[0])    \r\n\r\n\r\n\r\nfrom fklearn.training.pipeline import build_pipeline\r\n# PIPELINE DEFINITON\r\nmy_learner = build_pipeline(my_onehotencoder, my_imputer, my_scaler, my_model)\r\n# TRAINING\r\n(prediction_function, data_trained, logs) = my_learner(data)\r\n\r\n\r\n\r\n# EVALUATION\r\nfrom sklearn.metrics import accuracy_score\r\nSurvived_prediction = []\r\nfor i in data_trained.index:\r\n    if data_trained.prediction[i] > 0.5:\r\n        Survived_prediction.append('1')\r\n    else:\r\n        Survived_prediction.append('0')\r\nprint('Train accuracy:  ', accuracy_score(Survived_prediction,data_trained.Survived))\r\n```\r\n\r\n### DATASET\r\n[titanic-train.txt](https://github.com/nubank/fklearn/files/3209605/titanic-train.txt)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/nubank/fklearn/issues/comments/495003415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vultor33","id":16596383,"node_id":"MDQ6VXNlcjE2NTk2Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/16596383?v=4","gravatar_id":"","url":"https://api.github.com/users/vultor33","html_url":"https://github.com/vultor33","followers_url":"https://api.github.com/users/vultor33/followers","following_url":"https://api.github.com/users/vultor33/following{/other_user}","gists_url":"https://api.github.com/users/vultor33/gists{/gist_id}","starred_url":"https://api.github.com/users/vultor33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vultor33/subscriptions","organizations_url":"https://api.github.com/users/vultor33/orgs","repos_url":"https://api.github.com/users/vultor33/repos","events_url":"https://api.github.com/users/vultor33/events{/privacy}","received_events_url":"https://api.github.com/users/vultor33/received_events","type":"User","site_admin":false}}]