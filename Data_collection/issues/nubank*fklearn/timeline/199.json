[{"id":6774024693,"node_id":"LE_lADOCk64ls5LbYynzwAAAAGTw2n1","url":"https://api.github.com/repos/nubank/fklearn/issues/events/6774024693","actor":{"login":"peguerosdc","id":7889726,"node_id":"MDQ6VXNlcjc4ODk3MjY=","avatar_url":"https://avatars.githubusercontent.com/u/7889726?v=4","gravatar_id":"","url":"https://api.github.com/users/peguerosdc","html_url":"https://github.com/peguerosdc","followers_url":"https://api.github.com/users/peguerosdc/followers","following_url":"https://api.github.com/users/peguerosdc/following{/other_user}","gists_url":"https://api.github.com/users/peguerosdc/gists{/gist_id}","starred_url":"https://api.github.com/users/peguerosdc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peguerosdc/subscriptions","organizations_url":"https://api.github.com/users/peguerosdc/orgs","repos_url":"https://api.github.com/users/peguerosdc/repos","events_url":"https://api.github.com/users/peguerosdc/events{/privacy}","received_events_url":"https://api.github.com/users/peguerosdc/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-09T01:11:26Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/nubank/fklearn/issues/comments/1179194760","html_url":"https://github.com/nubank/fklearn/issues/199#issuecomment-1179194760","issue_url":"https://api.github.com/repos/nubank/fklearn/issues/199","id":1179194760,"node_id":"IC_kwDOCk64ls5GSRWI","user":{"login":"jmoralez","id":8473587,"node_id":"MDQ6VXNlcjg0NzM1ODc=","avatar_url":"https://avatars.githubusercontent.com/u/8473587?v=4","gravatar_id":"","url":"https://api.github.com/users/jmoralez","html_url":"https://github.com/jmoralez","followers_url":"https://api.github.com/users/jmoralez/followers","following_url":"https://api.github.com/users/jmoralez/following{/other_user}","gists_url":"https://api.github.com/users/jmoralez/gists{/gist_id}","starred_url":"https://api.github.com/users/jmoralez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmoralez/subscriptions","organizations_url":"https://api.github.com/users/jmoralez/orgs","repos_url":"https://api.github.com/users/jmoralez/repos","events_url":"https://api.github.com/users/jmoralez/events{/privacy}","received_events_url":"https://api.github.com/users/jmoralez/received_events","type":"User","site_admin":false},"created_at":"2022-07-08T16:59:26Z","updated_at":"2022-07-08T16:59:26Z","author_association":"MEMBER","body":"Hi. I think this would be useful as well when you want to split data-preprocessing from the model. From what I understand the problem is that the predict_fn of the pipeline takes kwargs, determines where that kwarg belongs and assigns it to the corresponding function. So if you have two pipelines I think it gets hard to determine which pipeline the kwarg belongs to.\r\n\r\nOne possible solution I see to this is taking the approach that sklearn takes when passing parameters to the estimators in a pipeline:\r\n\r\n> Parameters passed to the fit method of each step, where each parameter name is prefixed such that parameter p for step s has key s__p. [source](https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline.fit)\r\n\r\nSo I think it would be possible to have nested pipelines and then calling the predict_fn with kwargs using this kind of prefixing, i.e. if we have the following:\r\n```python\r\npipe1 = build_pipeline([f(a=1), g(a=2)])\r\npipe2 = build_pipeline([f(a=2), g(a=3)])\r\npipe3 = build_pipeline([pipe1, pipe2])\r\npredict_fn, data, logs = pipe3(df)\r\n# the following would set the argument a to 3 in the f function of the first pipeline\r\npredict_fn(df2, pipeline0__f__a=3)\r\n# the following would set the argument a to 2 in the g function of the second pipeline\r\npredict_fn(df2, pipeline1__g__a=2)\r\n```\r\nWe would of course have the possibility of setting custom names to each pipeline and function so the argument could be like `preprocessing__scaler__column='something'`\r\n\r\nWDYT?","reactions":{"url":"https://api.github.com/repos/nubank/fklearn/issues/comments/1179194760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jmoralez","id":8473587,"node_id":"MDQ6VXNlcjg0NzM1ODc=","avatar_url":"https://avatars.githubusercontent.com/u/8473587?v=4","gravatar_id":"","url":"https://api.github.com/users/jmoralez","html_url":"https://github.com/jmoralez","followers_url":"https://api.github.com/users/jmoralez/followers","following_url":"https://api.github.com/users/jmoralez/following{/other_user}","gists_url":"https://api.github.com/users/jmoralez/gists{/gist_id}","starred_url":"https://api.github.com/users/jmoralez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmoralez/subscriptions","organizations_url":"https://api.github.com/users/jmoralez/orgs","repos_url":"https://api.github.com/users/jmoralez/repos","events_url":"https://api.github.com/users/jmoralez/events{/privacy}","received_events_url":"https://api.github.com/users/jmoralez/received_events","type":"User","site_admin":false}}]