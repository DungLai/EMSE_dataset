[{"id":2678185962,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjY3ODE4NTk2Mg==","url":"https://api.github.com/repos/regel/loudml/issues/events/2678185962","actor":{"login":"robcowart","id":10326954,"node_id":"MDQ6VXNlcjEwMzI2OTU0","avatar_url":"https://avatars.githubusercontent.com/u/10326954?v=4","gravatar_id":"","url":"https://api.github.com/users/robcowart","html_url":"https://github.com/robcowart","followers_url":"https://api.github.com/users/robcowart/followers","following_url":"https://api.github.com/users/robcowart/following{/other_user}","gists_url":"https://api.github.com/users/robcowart/gists{/gist_id}","starred_url":"https://api.github.com/users/robcowart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robcowart/subscriptions","organizations_url":"https://api.github.com/users/robcowart/orgs","repos_url":"https://api.github.com/users/robcowart/repos","events_url":"https://api.github.com/users/robcowart/events{/privacy}","received_events_url":"https://api.github.com/users/robcowart/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-10-01T19:00:43Z","rename":{"from":"Errors starting `latest-devel-gpu` container","to":"Errors starting latest-devel-gpu container"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/regel/loudml/issues/comments/537345015","html_url":"https://github.com/regel/loudml/issues/147#issuecomment-537345015","issue_url":"https://api.github.com/repos/regel/loudml/issues/147","id":537345015,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzM0NTAxNQ==","user":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"created_at":"2019-10-02T05:43:45Z","updated_at":"2019-10-02T05:43:45Z","author_association":"OWNER","body":"Thanks Rob. Iâ€™ll have a look and add this test to the CI config.\r\n\r\nAre you using GKE with the NVIDIA gpus? What is your kubectl config?","reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/comments/537345015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/regel/loudml/issues/comments/537357738","html_url":"https://github.com/regel/loudml/issues/147#issuecomment-537357738","issue_url":"https://api.github.com/repos/regel/loudml/issues/147","id":537357738,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzM1NzczOA==","user":{"login":"robcowart","id":10326954,"node_id":"MDQ6VXNlcjEwMzI2OTU0","avatar_url":"https://avatars.githubusercontent.com/u/10326954?v=4","gravatar_id":"","url":"https://api.github.com/users/robcowart","html_url":"https://github.com/robcowart","followers_url":"https://api.github.com/users/robcowart/followers","following_url":"https://api.github.com/users/robcowart/following{/other_user}","gists_url":"https://api.github.com/users/robcowart/gists{/gist_id}","starred_url":"https://api.github.com/users/robcowart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robcowart/subscriptions","organizations_url":"https://api.github.com/users/robcowart/orgs","repos_url":"https://api.github.com/users/robcowart/repos","events_url":"https://api.github.com/users/robcowart/events{/privacy}","received_events_url":"https://api.github.com/users/robcowart/received_events","type":"User","site_admin":false},"created_at":"2019-10-02T06:37:20Z","updated_at":"2019-10-02T07:12:59Z","author_association":"NONE","body":"Not on K8s at the moment, just two local machines. I first started with `docker-compose`, and then just used the `docker` command with the arguments seen above.\r\n\r\n`docker-compose.yml`:\r\n\r\n```\r\nversion: '3'\r\nservices:\r\n  loudml-gpu:\r\n    image: loudml/loudml:latest-devel-gpu\r\n    container_name: loudml-gpu\r\n    restart: unless-stopped\r\n    network_mode: bridge\r\n    ports:\r\n      - 8077:8077/tcp\r\n    volumes:\r\n      - /var/lib/loudml-gpu:/var/lib/loudml:rw\r\n      - /etc/loudml/config.yml:/etc/loudml/config.yml:ro\r\n```\r\n\r\n`docker` command:\r\n\r\n```\r\ndocker run -it -p 8077:8077 -v /etc/loudml-gpu/config.yml:/etc/loudml/config.yml:ro  -v /var/lib/loudml:/var/lib/loudml:rw loudml/loudml:latest-devel-gpu\r\n```\r\n\r\nOutput of `nvidia-smi` as run from with a container using `docker run --gpus all nvidia/cuda:9.0-base nvidia-smi`:\r\n\r\n```\r\nWed Oct  2 06:33:40 2019\r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 418.87.00    Driver Version: 418.87.00    CUDA Version: 10.1     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce RTX 2070    On   | 00000000:01:00.0 Off |                  N/A |\r\n| 36%   27C    P8     9W / 175W |      0MiB /  7952MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n\r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n+-----------------------------------------------------------------------------+\r\n```","reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/comments/537357738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robcowart","id":10326954,"node_id":"MDQ6VXNlcjEwMzI2OTU0","avatar_url":"https://avatars.githubusercontent.com/u/10326954?v=4","gravatar_id":"","url":"https://api.github.com/users/robcowart","html_url":"https://github.com/robcowart","followers_url":"https://api.github.com/users/robcowart/followers","following_url":"https://api.github.com/users/robcowart/following{/other_user}","gists_url":"https://api.github.com/users/robcowart/gists{/gist_id}","starred_url":"https://api.github.com/users/robcowart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robcowart/subscriptions","organizations_url":"https://api.github.com/users/robcowart/orgs","repos_url":"https://api.github.com/users/robcowart/repos","events_url":"https://api.github.com/users/robcowart/events{/privacy}","received_events_url":"https://api.github.com/users/robcowart/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/regel/loudml/issues/comments/538725567","html_url":"https://github.com/regel/loudml/issues/147#issuecomment-538725567","issue_url":"https://api.github.com/repos/regel/loudml/issues/147","id":538725567,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODcyNTU2Nw==","user":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"created_at":"2019-10-06T08:59:08Z","updated_at":"2019-10-06T08:59:08Z","author_association":"OWNER","body":"\r\nReproduced; ok so this is a namespace conflict. The loudml-python client should be in a loudml-python namespace to avoid the conflict. I will release a new version on PyPI.\r\n\r\ntest:\r\n\r\n```\r\nroot@loudml:/# mv /usr/local/lib/python3.6/dist-packages/loudml /usr/local/lib/python3.6/dist-packages/loudml_python\r\nroot@loudml:/# \r\n\r\nroot@loudml:/# loudmld\r\nINFO:root:starting Loud ML server on 0.0.0.0:8077\r\n^CKeyboardInterrupt\r\n2019-10-06T08:56:22Z\r\nINFO:root:stopping\r\n```","reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/comments/538725567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false}},{"id":2689770996,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyNjg5NzcwOTk2","url":"https://api.github.com/repos/regel/loudml/issues/events/2689770996","actor":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-10-06T08:59:16Z","assignee":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/regel/loudml/issues/comments/539151981","html_url":"https://github.com/regel/loudml/issues/147#issuecomment-539151981","issue_url":"https://api.github.com/repos/regel/loudml/issues/147","id":539151981,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTE1MTk4MQ==","user":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"created_at":"2019-10-07T18:48:18Z","updated_at":"2019-10-07T18:48:18Z","author_association":"OWNER","body":"Solved in the latest image.\r\n\r\nVerified using the following pod config on GKE, `imagePullPolicy: Always` is used to ensure the latest tag is pulled.\r\n\r\n```\r\napiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  name: loudml\r\n  labels:\r\n    app.kubernetes.io/name: loudml\r\n    app.kubernetes.io/version: \"latest-devel\"\r\nspec:\r\n  restartPolicy: Never\r\n  containers:\r\n  - name: loudml\r\n    image: registry.hub.docker.com/loudml/loudml:latest-devel-gpu\r\n    imagePullPolicy: Always\r\n    resources:\r\n      limits:\r\n        nvidia.com/gpu: \"1\"\r\n      requests:\r\n        cpu: 100m\r\n        nvidia.com/gpu: \"1\"\r\n```","reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/comments/539151981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/regel/loudml/issues/comments/539157392","html_url":"https://github.com/regel/loudml/issues/147#issuecomment-539157392","issue_url":"https://api.github.com/repos/regel/loudml/issues/147","id":539157392,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTE1NzM5Mg==","user":{"login":"robcowart","id":10326954,"node_id":"MDQ6VXNlcjEwMzI2OTU0","avatar_url":"https://avatars.githubusercontent.com/u/10326954?v=4","gravatar_id":"","url":"https://api.github.com/users/robcowart","html_url":"https://github.com/robcowart","followers_url":"https://api.github.com/users/robcowart/followers","following_url":"https://api.github.com/users/robcowart/following{/other_user}","gists_url":"https://api.github.com/users/robcowart/gists{/gist_id}","starred_url":"https://api.github.com/users/robcowart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robcowart/subscriptions","organizations_url":"https://api.github.com/users/robcowart/orgs","repos_url":"https://api.github.com/users/robcowart/repos","events_url":"https://api.github.com/users/robcowart/events{/privacy}","received_events_url":"https://api.github.com/users/robcowart/received_events","type":"User","site_admin":false},"created_at":"2019-10-07T19:02:01Z","updated_at":"2019-10-07T19:02:01Z","author_association":"NONE","body":"Just tested it quickly... looks good now. Thanks!","reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/comments/539157392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robcowart","id":10326954,"node_id":"MDQ6VXNlcjEwMzI2OTU0","avatar_url":"https://avatars.githubusercontent.com/u/10326954?v=4","gravatar_id":"","url":"https://api.github.com/users/robcowart","html_url":"https://github.com/robcowart","followers_url":"https://api.github.com/users/robcowart/followers","following_url":"https://api.github.com/users/robcowart/following{/other_user}","gists_url":"https://api.github.com/users/robcowart/gists{/gist_id}","starred_url":"https://api.github.com/users/robcowart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robcowart/subscriptions","organizations_url":"https://api.github.com/users/robcowart/orgs","repos_url":"https://api.github.com/users/robcowart/repos","events_url":"https://api.github.com/users/robcowart/events{/privacy}","received_events_url":"https://api.github.com/users/robcowart/received_events","type":"User","site_admin":false}},{"id":2692959340,"node_id":"MDExOkNsb3NlZEV2ZW50MjY5Mjk1OTM0MA==","url":"https://api.github.com/repos/regel/loudml/issues/events/2692959340","actor":{"login":"robcowart","id":10326954,"node_id":"MDQ6VXNlcjEwMzI2OTU0","avatar_url":"https://avatars.githubusercontent.com/u/10326954?v=4","gravatar_id":"","url":"https://api.github.com/users/robcowart","html_url":"https://github.com/robcowart","followers_url":"https://api.github.com/users/robcowart/followers","following_url":"https://api.github.com/users/robcowart/following{/other_user}","gists_url":"https://api.github.com/users/robcowart/gists{/gist_id}","starred_url":"https://api.github.com/users/robcowart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robcowart/subscriptions","organizations_url":"https://api.github.com/users/robcowart/orgs","repos_url":"https://api.github.com/users/robcowart/repos","events_url":"https://api.github.com/users/robcowart/events{/privacy}","received_events_url":"https://api.github.com/users/robcowart/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-07T19:02:02Z","state_reason":null,"performed_via_github_app":null}]