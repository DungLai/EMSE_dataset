[{"id":3600641814,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYwMDY0MTgxNA==","url":"https://api.github.com/repos/regel/loudml/issues/events/3600641814","actor":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-29T20:07:24Z","performed_via_github_app":null},{"id":3600641819,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MDA2NDE4MTk=","url":"https://api.github.com/repos/regel/loudml/issues/events/3600641819","actor":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-29T20:07:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/regel/loudml/issues/comments/667365094","html_url":"https://github.com/regel/loudml/issues/374#issuecomment-667365094","issue_url":"https://api.github.com/repos/regel/loudml/issues/374","id":667365094,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzM2NTA5NA==","user":{"login":"toni-moreno","id":5883405,"node_id":"MDQ6VXNlcjU4ODM0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5883405?v=4","gravatar_id":"","url":"https://api.github.com/users/toni-moreno","html_url":"https://github.com/toni-moreno","followers_url":"https://api.github.com/users/toni-moreno/followers","following_url":"https://api.github.com/users/toni-moreno/following{/other_user}","gists_url":"https://api.github.com/users/toni-moreno/gists{/gist_id}","starred_url":"https://api.github.com/users/toni-moreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toni-moreno/subscriptions","organizations_url":"https://api.github.com/users/toni-moreno/orgs","repos_url":"https://api.github.com/users/toni-moreno/repos","events_url":"https://api.github.com/users/toni-moreno/events{/privacy}","received_events_url":"https://api.github.com/users/toni-moreno/received_events","type":"User","site_admin":false},"created_at":"2020-07-31T21:23:43Z","updated_at":"2020-07-31T21:23:43Z","author_association":"NONE","body":"I've configured again the annotation hook, setting id with the model name and the bucket as the output bucket\r\n\r\n```\r\ncurl http://localhost:8077/models/swarm@cpu@mean@usage_active@host@worker2@time@1m/hooks/add_annotation\r\n{\r\n  \"config\": {\r\n    \"bucket\": \"test-loudml\",\r\n    \"id\": \"swarm@cpu@mean@usage_active@host@worker2@time@1m\",\r\n    \"type\": \"loudml\"\r\n  },\r\n  \"type\": \"annotations\"\r\n}\r\n```\r\n\r\nbut still writting to the input bucket and with something unknown as Id\r\n\r\n\r\n```\r\n> select * from annotations where time > now() - 5m\r\nname: annotations\r\ntime                deleted id                                   modified_time_ns    start_time          text                                                                 type\r\n----                ------- --                                   ----------------    ----------          ----                                                                 ----\r\n1596220320000000000 false   e190674a-f6a5-4f98-8d9e-75abc4868644 1596220260000000000 1596220260000000000 feature 'mean_usage_active[host:worker2]' is too low (score = 100.0) loudml\r\n1596220380000000000 false   a14a8560-6368-47ef-a656-b73cf4c5744c 1596220380000000000 1596220380000000000 feature 'mean_usage_active[host:worker2]' is too low (score = 100.0) loudml\r\n1596220440000000000 false   c7a07bb8-0c3b-4eda-b228-b6bc46975127 1596220440000000000 1596220440000000000 feature 'mean_usage_active[host:worker2]' is too low (score = 100.0) loudml\r\n```","reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/comments/667365094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"toni-moreno","id":5883405,"node_id":"MDQ6VXNlcjU4ODM0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5883405?v=4","gravatar_id":"","url":"https://api.github.com/users/toni-moreno","html_url":"https://github.com/toni-moreno","followers_url":"https://api.github.com/users/toni-moreno/followers","following_url":"https://api.github.com/users/toni-moreno/following{/other_user}","gists_url":"https://api.github.com/users/toni-moreno/gists{/gist_id}","starred_url":"https://api.github.com/users/toni-moreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toni-moreno/subscriptions","organizations_url":"https://api.github.com/users/toni-moreno/orgs","repos_url":"https://api.github.com/users/toni-moreno/repos","events_url":"https://api.github.com/users/toni-moreno/events{/privacy}","received_events_url":"https://api.github.com/users/toni-moreno/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/regel/loudml/issues/comments/669756189","html_url":"https://github.com/regel/loudml/issues/374#issuecomment-669756189","issue_url":"https://api.github.com/repos/regel/loudml/issues/374","id":669756189,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTc1NjE4OQ==","user":{"login":"toni-moreno","id":5883405,"node_id":"MDQ6VXNlcjU4ODM0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5883405?v=4","gravatar_id":"","url":"https://api.github.com/users/toni-moreno","html_url":"https://github.com/toni-moreno","followers_url":"https://api.github.com/users/toni-moreno/followers","following_url":"https://api.github.com/users/toni-moreno/following{/other_user}","gists_url":"https://api.github.com/users/toni-moreno/gists{/gist_id}","starred_url":"https://api.github.com/users/toni-moreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toni-moreno/subscriptions","organizations_url":"https://api.github.com/users/toni-moreno/orgs","repos_url":"https://api.github.com/users/toni-moreno/repos","events_url":"https://api.github.com/users/toni-moreno/events{/privacy}","received_events_url":"https://api.github.com/users/toni-moreno/received_events","type":"User","site_admin":false},"created_at":"2020-08-06T07:23:24Z","updated_at":"2020-08-06T07:23:24Z","author_association":"NONE","body":"I've changed the the annotation config using type as parameter to add the model name , and now it seems to be saving the model name in the database. Anyway IMHO the model name perhaps should be stored with the \"id\" tag name\r\n\r\nNow fixed with this config\r\n```\r\n$ curl http://localhost:8077/models/swarm@cpu@10percentile@usage_active@host_worker2_cpu_cpu-total@time@5m/hooks/add_annotation\r\n{\r\n  \"config\": {\r\n    \"bucket\": \"test-loudml\",\r\n    \"type\": \"swarm@cpu@10percentile@usage_active@host_worker2_cpu_cpu-total@time@5m\"\r\n  },\r\n  \"type\": \"annotations\"\r\n}\r\n```\r\n\r\n```\r\n> select text,type,id from annotations where time > now() - 5m\r\nname: annotations\r\ntime                text                                                                                       type                                                                   id\r\n----                ----                                                                                       ----                                                                   --\r\n1596698340000000000 feature 'mean_usage_active[host:worker2,cpu:cpu-total]' is too low (score = 99.6)          swarm@cpu@mean@usage_active@host_worker2_cpu_cpu-total@time@1m         9f5cb367-9a5a-4f15-8168-36c2455ecb1b\r\n1596698400000000000 feature '95percentile_usage_active[host:worker2,cpu:cpu-total]' is too low (score = 100.0) swarm@cpu@95percentile@usage_active@host_worker2_cpu_cpu-total@time@5m 15ad0721-4482-414f-bbe3-9d940bb8a98d\r\n1596698400000000000 feature 'mean_usage_active[host:worker2,cpu:cpu-total]' is too low (score = 100.0)         swarm@cpu@mean@usage_active@host_worker2_cpu_cpu-total@time@5m         355aa832-a5b8-435d-89c7-0f007585c141\r\n1596698400000000000 feature '10percentile_usage_active[host:worker2,cpu:cpu-total]' is too low (score = 100.0) swarm@cpu@10percentile@usage_active@host_worker2_cpu_cpu-total@time@5m 766b1f0e-e446-471a-88a5-57e367693153\r\n1596698400000000000 feature '90percentile_usage_active[host:worker2,cpu:cpu-total]' is too low (score = 100.0) swarm@cpu@90percentile@usage_active@host_worker2_cpu_cpu-total@time@5m 9635a563-ef2b-4ab3-837e-b3b7d5772607\r\n1596698400000000000 feature 'mean_usage_active[host:worker2,cpu:cpu-total]' is too low (score = 100.0)         swarm@cpu@mean@usage_active@host_worker2_cpu_cpu-total@time@10m        b2c26870-a9cd-4d43-88df-49e9874de6d5\r\n1596698400000000000 feature 'mean_usage_active[host:worker2,cpu:cpu-total]' is too low (score = 97.1)          swarm@cpu@mean@usage_active@host_worker2_cpu_cpu-total@time@1m         e0a39b36-e276-4764-82fa-c0a6adf5760b\r\n```\r\n\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/comments/669756189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"toni-moreno","id":5883405,"node_id":"MDQ6VXNlcjU4ODM0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5883405?v=4","gravatar_id":"","url":"https://api.github.com/users/toni-moreno","html_url":"https://github.com/toni-moreno","followers_url":"https://api.github.com/users/toni-moreno/followers","following_url":"https://api.github.com/users/toni-moreno/following{/other_user}","gists_url":"https://api.github.com/users/toni-moreno/gists{/gist_id}","starred_url":"https://api.github.com/users/toni-moreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toni-moreno/subscriptions","organizations_url":"https://api.github.com/users/toni-moreno/orgs","repos_url":"https://api.github.com/users/toni-moreno/repos","events_url":"https://api.github.com/users/toni-moreno/events{/privacy}","received_events_url":"https://api.github.com/users/toni-moreno/received_events","type":"User","site_admin":false}},{"id":3627741913,"node_id":"MDExOkNsb3NlZEV2ZW50MzYyNzc0MTkxMw==","url":"https://api.github.com/repos/regel/loudml/issues/events/3627741913","actor":{"login":"toni-moreno","id":5883405,"node_id":"MDQ6VXNlcjU4ODM0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5883405?v=4","gravatar_id":"","url":"https://api.github.com/users/toni-moreno","html_url":"https://github.com/toni-moreno","followers_url":"https://api.github.com/users/toni-moreno/followers","following_url":"https://api.github.com/users/toni-moreno/following{/other_user}","gists_url":"https://api.github.com/users/toni-moreno/gists{/gist_id}","starred_url":"https://api.github.com/users/toni-moreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toni-moreno/subscriptions","organizations_url":"https://api.github.com/users/toni-moreno/orgs","repos_url":"https://api.github.com/users/toni-moreno/repos","events_url":"https://api.github.com/users/toni-moreno/events{/privacy}","received_events_url":"https://api.github.com/users/toni-moreno/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-08-06T07:23:24Z","state_reason":null,"performed_via_github_app":null}]