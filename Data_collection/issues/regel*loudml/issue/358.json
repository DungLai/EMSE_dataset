{"url":"https://api.github.com/repos/regel/loudml/issues/358","repository_url":"https://api.github.com/repos/regel/loudml","labels_url":"https://api.github.com/repos/regel/loudml/issues/358/labels{/name}","comments_url":"https://api.github.com/repos/regel/loudml/issues/358/comments","events_url":"https://api.github.com/repos/regel/loudml/issues/358/events","html_url":"https://github.com/regel/loudml/issues/358","id":653956137,"node_id":"MDU6SXNzdWU2NTM5NTYxMzc=","number":358,"title":"ERROR:root:400: Client sent an HTTP request to an HTTPS server. (influxdb)","user":{"login":"tubemeister","id":91840,"node_id":"MDQ6VXNlcjkxODQw","avatar_url":"https://avatars.githubusercontent.com/u/91840?v=4","gravatar_id":"","url":"https://api.github.com/users/tubemeister","html_url":"https://github.com/tubemeister","followers_url":"https://api.github.com/users/tubemeister/followers","following_url":"https://api.github.com/users/tubemeister/following{/other_user}","gists_url":"https://api.github.com/users/tubemeister/gists{/gist_id}","starred_url":"https://api.github.com/users/tubemeister/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tubemeister/subscriptions","organizations_url":"https://api.github.com/users/tubemeister/orgs","repos_url":"https://api.github.com/users/tubemeister/repos","events_url":"https://api.github.com/users/tubemeister/events{/privacy}","received_events_url":"https://api.github.com/users/tubemeister/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-07-09T10:36:20Z","updated_at":"2021-07-20T08:00:14Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The loudml docker container seems to connect to influxdb using the settings of the chronograf container, not the ones configured in etc/loudml.yml, and reverting to HTTP in the process.\r\n\r\nAfter getting the error message in the title and double checking that my config files all have HTTPS for my influxdb server, I created a couple of CNAMEs and it turns out loudml is trying to connect (with HTTP) to the domain name configured (with HTTPS) in my chronograf environment. \r\n\r\nIt's also connecting to the \"chronograf\" database, which seems to be a default.\r\n\r\nConfigs:\r\n[loudml.yml.txt](https://github.com/regel/loudml/files/4895779/loudml.yml.txt)\r\n[docker-compose.yml.txt](https://github.com/regel/loudml/files/4895781/docker-compose.yml.txt)\r\n\r\nDocker-compose log:\r\n[docker.log](https://github.com/regel/loudml/files/4895784/docker.log)\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/regel/loudml/issues/358/timeline","performed_via_github_app":null,"state_reason":null}