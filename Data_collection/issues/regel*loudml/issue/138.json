{"url":"https://api.github.com/repos/regel/loudml/issues/138","repository_url":"https://api.github.com/repos/regel/loudml","labels_url":"https://api.github.com/repos/regel/loudml/issues/138/labels{/name}","comments_url":"https://api.github.com/repos/regel/loudml/issues/138/comments","events_url":"https://api.github.com/repos/regel/loudml/issues/138/events","html_url":"https://github.com/regel/loudml/issues/138","id":488869880,"node_id":"MDU6SXNzdWU0ODg4Njk4ODA=","number":138,"title":"Training fails with \"failed: Abnormal termination\"","user":{"login":"joshkentYT","id":32724595,"node_id":"MDQ6VXNlcjMyNzI0NTk1","avatar_url":"https://avatars.githubusercontent.com/u/32724595?v=4","gravatar_id":"","url":"https://api.github.com/users/joshkentYT","html_url":"https://github.com/joshkentYT","followers_url":"https://api.github.com/users/joshkentYT/followers","following_url":"https://api.github.com/users/joshkentYT/following{/other_user}","gists_url":"https://api.github.com/users/joshkentYT/gists{/gist_id}","starred_url":"https://api.github.com/users/joshkentYT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshkentYT/subscriptions","organizations_url":"https://api.github.com/users/joshkentYT/orgs","repos_url":"https://api.github.com/users/joshkentYT/repos","events_url":"https://api.github.com/users/joshkentYT/events{/privacy}","received_events_url":"https://api.github.com/users/joshkentYT/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-09-03T23:33:15Z","updated_at":"2019-11-11T23:15:40Z","closed_at":"2019-11-11T23:15:40Z","author_association":"NONE","active_lock_reason":null,"body":"Hello, \r\n\r\nI'm trying to set up my model and am running into the follow error: \r\n\r\n> [2019-09-03 23:30:26] \"POST /models/deny-model/_train?from=now-1h HTTP/1.1\" 200 147 0.002047       │\r\n│ ERROR:root:job[a4e3ff70-975f-4ad3-9b6f-c0e6a772ff53] failed: Abnormal termination\r\n\r\nNote: the time frame is so short because this is a new index and I'm just testing that I can get it to work at all at the moment. \r\n\r\nHere is the json I used to create the model: \r\n> {\r\n  \"timestamp_field\": \"@timestamp\",\r\n  \"bucket_interval\": \"1m\",\r\n  \"default_datasource\": \"elasticsearch\",\r\n  \"features\": [\r\n    {\r\n      \"default\": 0,\r\n      \"field\": \"Deny_count\",\r\n      \"metric\": \"sum\",\r\n      \"name\": \"deny-count\"\r\n    }\r\n  ],\r\n  \"interval\": 60,\r\n  \"max_evals\": 10,\r\n  \"name\": \"deny-model\",\r\n  \"offset\": 30,\r\n  \"span\": 5,\r\n  \"max_threshold\": 0,\r\n  \"min_threshold\": 0,\r\n  \"type\": \"donut\"\r\n}\r\n\r\nI made this index just for testing. I had initially wanted to do a count of deny's directly from our firewall index, but received an error indicating it had to be a numeric field. \r\n\r\nTo work around this, I used Fluentd to output a new index with the doc counts of different fields at 10s intervals. \r\n\r\nAt this point, I've sorted out the various network policy and permissions issues and am able to communicate with Elasticsearch successfully. Unsure what to make of this error as it isn't all that descriptive.\r\n\r\nNot sure if it would make a difference, but we are running this in a Kubernetes pod in the same cluster as our Elasticsearch instance. ","closed_by":{"login":"joshkentYT","id":32724595,"node_id":"MDQ6VXNlcjMyNzI0NTk1","avatar_url":"https://avatars.githubusercontent.com/u/32724595?v=4","gravatar_id":"","url":"https://api.github.com/users/joshkentYT","html_url":"https://github.com/joshkentYT","followers_url":"https://api.github.com/users/joshkentYT/followers","following_url":"https://api.github.com/users/joshkentYT/following{/other_user}","gists_url":"https://api.github.com/users/joshkentYT/gists{/gist_id}","starred_url":"https://api.github.com/users/joshkentYT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshkentYT/subscriptions","organizations_url":"https://api.github.com/users/joshkentYT/orgs","repos_url":"https://api.github.com/users/joshkentYT/repos","events_url":"https://api.github.com/users/joshkentYT/events{/privacy}","received_events_url":"https://api.github.com/users/joshkentYT/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/regel/loudml/issues/138/timeline","performed_via_github_app":null,"state_reason":"completed"}