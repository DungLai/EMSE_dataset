{"url":"https://api.github.com/repos/regel/loudml/issues/391","repository_url":"https://api.github.com/repos/regel/loudml","labels_url":"https://api.github.com/repos/regel/loudml/issues/391/labels{/name}","comments_url":"https://api.github.com/repos/regel/loudml/issues/391/comments","events_url":"https://api.github.com/repos/regel/loudml/issues/391/events","html_url":"https://github.com/regel/loudml/issues/391","id":674298773,"node_id":"MDU6SXNzdWU2NzQyOTg3NzM=","number":391,"title":"[Trainning Failed] hyperopt.exceptions.AllTrialsFailed ","user":{"login":"toni-moreno","id":5883405,"node_id":"MDQ6VXNlcjU4ODM0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5883405?v=4","gravatar_id":"","url":"https://api.github.com/users/toni-moreno","html_url":"https://github.com/toni-moreno","followers_url":"https://api.github.com/users/toni-moreno/followers","following_url":"https://api.github.com/users/toni-moreno/following{/other_user}","gists_url":"https://api.github.com/users/toni-moreno/gists{/gist_id}","starred_url":"https://api.github.com/users/toni-moreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toni-moreno/subscriptions","organizations_url":"https://api.github.com/users/toni-moreno/orgs","repos_url":"https://api.github.com/users/toni-moreno/repos","events_url":"https://api.github.com/users/toni-moreno/events{/privacy}","received_events_url":"https://api.github.com/users/toni-moreno/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-06T13:05:47Z","updated_at":"2020-08-07T07:25:36Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello again , and sorry for the inconvenience\r\nWhen trying to re-train one of my models, sometimes they are failing with this message, and I can not understand what exact it means.\r\n\r\nAny idea? thank you in advance!\r\n\r\n```\r\nINFO:root:job[c7aea5d6-7d13-4f99-af9f-3034517f592f] starting, nice=5\r\nINFO:root:connecting to influxdb on influxdb:8086, using database 'loudml'\r\nINFO:root:train(swarm@cpu@mean@usage_active@host_worker2_cpu_cpu-total@time@5m) range=2020-08-05T12:50:00.000Z-2020-08-06T12:55:00.000Z train_size=0.670000 batch_size=64 epochs=100)\r\nINFO:root:connecting to influxdb on influxdb:8086, using database 'swarm'\r\nINFO:root:missing data: field 'usage_active', metric 'mean', bucket: 2020-08-05T19:15:00Z\r\nINFO:root:found 289 time periods\r\n100%|██████████| 10/10 [00:00<00:00, 66.66it/s, best loss: ?]\r\nINFO:hyperopt.tpe:tpe_transform took 0.003570 seconds\r\nINFO:hyperopt.tpe:TPE using 0 trials\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.003187 seconds\r\nINFO:hyperopt.tpe:TPE using 1/1 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.002791 seconds\r\nINFO:hyperopt.tpe:TPE using 2/2 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.006578 seconds\r\nINFO:hyperopt.tpe:TPE using 3/3 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.003134 seconds\r\nINFO:hyperopt.tpe:TPE using 4/4 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.002731 seconds\r\nINFO:hyperopt.tpe:TPE using 5/5 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.002899 seconds\r\nINFO:hyperopt.tpe:TPE using 6/6 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.016221 seconds\r\nINFO:hyperopt.tpe:TPE using 7/7 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.002902 seconds\r\nINFO:hyperopt.tpe:TPE using 8/8 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nINFO:hyperopt.tpe:tpe_transform took 0.002827 seconds\r\nINFO:hyperopt.tpe:TPE using 9/9 trials with best loss inf\r\nWARNING:root:iteration failed: insufficient validation data\r\nERROR:root:\r\nTraceback (most recent call last):\r\n  File \"/opt/venv/lib/python3.7/site-packages/loudml/worker.py\", line 53, in run\r\n    res = getattr(self, func_name)(*args, **kwargs)\r\n  File \"/opt/venv/lib/python3.7/site-packages/loudml/worker.py\", line 101, in train\r\n    **kwargs\r\n  File \"/opt/venv/lib/python3.7/site-packages/loudml/donut.py\", line 1091, in train\r\n    abnormal=abnormal,\r\n  File \"/opt/venv/lib/python3.7/site-packages/loudml/donut.py\", line 843, in _train_on_dataset\r\n    rstate=fmin_state,\r\n  File \"/opt/venv/lib/python3.7/site-packages/hyperopt/fmin.py\", line 403, in fmin\r\n    show_progressbar=show_progressbar,\r\n  File \"/opt/venv/lib/python3.7/site-packages/hyperopt/base.py\", line 651, in fmin\r\n    show_progressbar=show_progressbar)\r\n  File \"/opt/venv/lib/python3.7/site-packages/hyperopt/fmin.py\", line 426, in fmin\r\n    return trials.argmin\r\n  File \"/opt/venv/lib/python3.7/site-packages/hyperopt/base.py\", line 600, in argmin\r\n    best_trial = self.best_trial\r\n  File \"/opt/venv/lib/python3.7/site-packages/hyperopt/base.py\", line 591, in best_trial\r\n    raise AllTrialsFailed\r\nhyperopt.exceptions.AllTrialsFailed\r\n10.0.0.7 - - [2020-08-06 14:53:12] \"GET /models/swarm@cpu@mean@usage_active@host_worker2_cpu_cpu-total@time@5m HTTP/1.1\" 200 878 0.014592\r\n10.0.0.7 - - [2020-08-06 14:53:13] \"POST /models/swarm@cpu@mean@usage_active@host_worker2_cpu_cpu-total@time@5m/_train?flag_abnormal_data=true&from=now-1d&output_bucket=test-loudml&save_output_data=true&to=now HTTP/1.1\" 202 153 0.012024\r\nERROR:root:job[c7aea5d6-7d13-4f99-af9f-3034517f592f] failed: \r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/regel/loudml/issues/391/timeline","performed_via_github_app":null,"state_reason":null}