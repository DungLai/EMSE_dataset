{"url":"https://api.github.com/repos/regel/loudml/issues/61","repository_url":"https://api.github.com/repos/regel/loudml","labels_url":"https://api.github.com/repos/regel/loudml/issues/61/labels{/name}","comments_url":"https://api.github.com/repos/regel/loudml/issues/61/comments","events_url":"https://api.github.com/repos/regel/loudml/issues/61/events","html_url":"https://github.com/regel/loudml/issues/61","id":372815932,"node_id":"MDU6SXNzdWUzNzI4MTU5MzI=","number":61,"title":"LoudML crash","user":{"login":"Milan-Faizal","id":22698793,"node_id":"MDQ6VXNlcjIyNjk4Nzkz","avatar_url":"https://avatars.githubusercontent.com/u/22698793?v=4","gravatar_id":"","url":"https://api.github.com/users/Milan-Faizal","html_url":"https://github.com/Milan-Faizal","followers_url":"https://api.github.com/users/Milan-Faizal/followers","following_url":"https://api.github.com/users/Milan-Faizal/following{/other_user}","gists_url":"https://api.github.com/users/Milan-Faizal/gists{/gist_id}","starred_url":"https://api.github.com/users/Milan-Faizal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Milan-Faizal/subscriptions","organizations_url":"https://api.github.com/users/Milan-Faizal/orgs","repos_url":"https://api.github.com/users/Milan-Faizal/repos","events_url":"https://api.github.com/users/Milan-Faizal/events{/privacy}","received_events_url":"https://api.github.com/users/Milan-Faizal/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-10-23T05:37:29Z","updated_at":"2018-10-23T08:35:08Z","closed_at":"2018-10-23T08:33:32Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n\r\nHi, I'm using docker-compose to run TICK stack and loudml. Every other service except loudml is starting successfully. The logs are given below:\r\n\r\nloudml_1      | Traceback (most recent call last):\r\nloudml_1      |   File \"/usr/bin/loudmld\", line 11, in <module>\r\nloudml_1      |   load_entry_point('loudml==1.4', 'console_scripts', 'loudmld')()\r\nloudml_1      |   File \"/usr/lib/python3.5/dist-packages/loudml/server.py\", line 999, in main\r\nloudml_1      |   File \"/usr/lib/python3.5/dist-packages/loudml/config.py\", line 124, in load_config\r\nloudml_1      |   File \"/usr/lib/python3.5/dist-packages/loudml/config.py\", line 50, in __init__\r\nloudml_1      | TypeError: argument of type 'NoneType' is not iterable\r\ndefault_loudml_1 exited with code 1\r\n\r\nI'm assuming that docker is using python2 by default instead of python3. The files shown in the log (except \"/usr/bin/loudmld\" ) are not present in the host directory so I cannot check the files for errors. I'm new to docker and loudml so I don't know where to look for a solution.Why is loudml crashing?Is it because docker is using python2 by default?If so, How to change it?\r\nPS: I'm not using any Dockerfile\r\n\r\nOS : ubuntu 18.04\r\n\r\n\r\nconfig.yml\r\n---------------\r\n\r\n```\r\n---\r\n\r\ndatasources:\r\n  - name: influx\r\n    type: influxdb\r\n    addr: influxdb:8086\r\n    database: telegraf\r\n  - name: kapacitor\r\n    type: influxdb\r\n    addr: kapacitor:9092\r\n    database: from_loudml\r\n\r\nstorage:\r\n  path: /var/lib/loudml\r\n\r\nserver:\r\nlisten: 0.0.0.0:8077 \r\n\r\n\r\n```\r\n\r\n----------------------------------\r\n\r\ndocker-compose.yml\r\n---------------------------\r\n```\r\n# This is a Docker Compose file to work with Loud ML and an InfluxDB stack.\r\n\r\nversion: \"2\"\r\n\r\nservices:\r\n  loudml:\r\n    image: loudml/community\r\n    volumes:\r\n      - ./etc/loudml/config.yml:/etc/loudml/config.yml:ro\r\n      - ./var/loudml:/var/lib/loudml\r\n    ports:\r\n      - \"8077:8077\"\r\n    depends_on:\r\n      - influxdb\r\n\r\n  influxdb:\r\n    image: influxdb:latest\r\n    ports:\r\n      - \"8086:8086\"\r\n    volumes:\r\n      - ./var/influxdb:/var/lib/influxdb\r\n\r\n  chronograf:\r\n    image: loudml/chronograf\r\n    depends_on:\r\n      - influxdb\r\n      - loudml\r\n      - kapacitor\r\n    ports:\r\n      - \"8888:8888\"\r\n    volumes:\r\n      - ./var/chronograf:/var/lib/chronograf\r\n    environment:\r\n      INFLUXDB_URL: http://influxdb:8086\r\n      LOUDML_URL: http://loudml:8077\r\n      KAPACITOR_URL: http://kapacitor:9092\r\n\r\n  kapacitor:\r\n    image: kapacitor:latest\r\n    depends_on:\r\n      - influxdb\r\n    volumes:\r\n      - ./var/kapacitor:/var/lib/kapacitor\r\n    environment:\r\n      KAPACITOR_INFLUXDB_0_URLS_0: http://influxdb:8086\r\n\r\n  telegraf:\r\n    image: telegraf:latest\r\n    volumes:\r\n      - ./etc/telegraf/telegraf.conf:/etc/telegraf/telegraf.conf:ro\r\n    depends_on:\r\n      - influxdb\r\n    environment:\r\n       INFLUXDB_URL: http://influxdb:8086\r\n\r\n> ### ### **`----------------------------------------------------------```**\r\n```","closed_by":{"login":"Milan-Faizal","id":22698793,"node_id":"MDQ6VXNlcjIyNjk4Nzkz","avatar_url":"https://avatars.githubusercontent.com/u/22698793?v=4","gravatar_id":"","url":"https://api.github.com/users/Milan-Faizal","html_url":"https://github.com/Milan-Faizal","followers_url":"https://api.github.com/users/Milan-Faizal/followers","following_url":"https://api.github.com/users/Milan-Faizal/following{/other_user}","gists_url":"https://api.github.com/users/Milan-Faizal/gists{/gist_id}","starred_url":"https://api.github.com/users/Milan-Faizal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Milan-Faizal/subscriptions","organizations_url":"https://api.github.com/users/Milan-Faizal/orgs","repos_url":"https://api.github.com/users/Milan-Faizal/repos","events_url":"https://api.github.com/users/Milan-Faizal/events{/privacy}","received_events_url":"https://api.github.com/users/Milan-Faizal/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/61/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/regel/loudml/issues/61/timeline","performed_via_github_app":null,"state_reason":"completed"}