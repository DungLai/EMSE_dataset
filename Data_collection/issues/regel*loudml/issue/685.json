{"url":"https://api.github.com/repos/regel/loudml/issues/685","repository_url":"https://api.github.com/repos/regel/loudml","labels_url":"https://api.github.com/repos/regel/loudml/issues/685/labels{/name}","comments_url":"https://api.github.com/repos/regel/loudml/issues/685/comments","events_url":"https://api.github.com/repos/regel/loudml/issues/685/events","html_url":"https://github.com/regel/loudml/issues/685","id":978905099,"node_id":"MDU6SXNzdWU5Nzg5MDUwOTk=","number":685,"title":"Predictions are not saved to the output bucket","user":{"login":"dgdevops","id":61938162,"node_id":"MDQ6VXNlcjYxOTM4MTYy","avatar_url":"https://avatars.githubusercontent.com/u/61938162?v=4","gravatar_id":"","url":"https://api.github.com/users/dgdevops","html_url":"https://github.com/dgdevops","followers_url":"https://api.github.com/users/dgdevops/followers","following_url":"https://api.github.com/users/dgdevops/following{/other_user}","gists_url":"https://api.github.com/users/dgdevops/gists{/gist_id}","starred_url":"https://api.github.com/users/dgdevops/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgdevops/subscriptions","organizations_url":"https://api.github.com/users/dgdevops/orgs","repos_url":"https://api.github.com/users/dgdevops/repos","events_url":"https://api.github.com/users/dgdevops/events{/privacy}","received_events_url":"https://api.github.com/users/dgdevops/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-08-25T09:09:15Z","updated_at":"2022-05-11T08:22:41Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello Everyone,\r\n\r\nRecently I have been experimenting with LoudML & Chronograf to take advantage of the Machine Learning capabilities.\r\nI read in the official documentation that there is a way to use a bucket as an output for the predictions so I created & mounted the following LoudML configuration:\r\n\r\n```\r\nbuckets:\r\n  - name: telegraf\r\n    type: influxdb\r\n    addr: [redacted]:8086\r\n    database: metrics\r\n   - name: output\r\n    type: influxdb\r\n    addr: [redacted]:8086\r\n    database: loudml\r\n    create_database: true\r\nserver:\r\n  listen: 0.0.0.0:8077\r\n```\r\nAfter the LoudML pod (using loudml/loudml:latest image) comes up I start the Chronograf pod (using loudml/chronograf:latest image) as well with the `INFLUXDB_URL` & `LOUDML_URL` specified. Once Chronograf is up I specify the query in the Data Explorer and I create a ML task for it using the \"Create baseline\" button. The task gets created successfully and the training also finishes flawlessly. The next step would be to \"Run\" the predictions and view them live, after clicking the \"Run\" button the predictions are showing \"Running\" status but when I open the dashboard I can see no data. Based on the dashboard panel's configuration the data is supposed to be read from the loudml database however it is not even created.\r\n\r\nWhen I check the LoudML pod's logs I can see the following POST request: `POST /models/demo/_start?output_bucket=loudml&save_output_data=true&flag_abnormal_data=true HTTP/1.1\"`\r\nBased on that the loudml output_bucket is chosen as output, however I don't have a bucket with that name configured so I renamed the \"output\" bucket to \"loudml\" to match the name in the POST request and started the process all over again however the loudml database is neither created nor contains any data. In the hope to have this fixed I created the loudml database but the data predictions are not saved to that database and the dashboard is till showing no data.\r\n\r\nCould someone please guide me on how the predictions can be saved either to a new database (such as loudml) or in the source database but with _predictions annotations?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/regel/loudml/issues/685/timeline","performed_via_github_app":null,"state_reason":null}