{"url":"https://api.github.com/repos/regel/loudml/issues/72","repository_url":"https://api.github.com/repos/regel/loudml","labels_url":"https://api.github.com/repos/regel/loudml/issues/72/labels{/name}","comments_url":"https://api.github.com/repos/regel/loudml/issues/72/comments","events_url":"https://api.github.com/repos/regel/loudml/issues/72/events","html_url":"https://github.com/regel/loudml/issues/72","id":378243135,"node_id":"MDU6SXNzdWUzNzgyNDMxMzU=","number":72,"title":"Error when training range is too small","user":{"login":"daradermody","id":7104356,"node_id":"MDQ6VXNlcjcxMDQzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7104356?v=4","gravatar_id":"","url":"https://api.github.com/users/daradermody","html_url":"https://github.com/daradermody","followers_url":"https://api.github.com/users/daradermody/followers","following_url":"https://api.github.com/users/daradermody/following{/other_user}","gists_url":"https://api.github.com/users/daradermody/gists{/gist_id}","starred_url":"https://api.github.com/users/daradermody/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daradermody/subscriptions","organizations_url":"https://api.github.com/users/daradermody/orgs","repos_url":"https://api.github.com/users/daradermody/repos","events_url":"https://api.github.com/users/daradermody/events{/privacy}","received_events_url":"https://api.github.com/users/daradermody/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/regel/loudml/milestones/11","html_url":"https://github.com/regel/loudml/milestone/11","labels_url":"https://api.github.com/repos/regel/loudml/milestones/11/labels","id":3827676,"node_id":"MDk6TWlsZXN0b25lMzgyNzY3Ng==","number":11,"title":"1.4.4","description":null,"creator":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":4,"state":"open","created_at":"2018-11-16T20:42:04Z","updated_at":"2019-09-25T09:55:20Z","due_on":null,"closed_at":null},"comments":2,"created_at":"2018-11-07T11:10:43Z","updated_at":"2019-02-25T07:52:09Z","closed_at":"2019-02-25T07:52:09Z","author_association":"NONE","active_lock_reason":null,"body":"When a small enough range is used, the following error occurs:\r\n```\r\nINFO:hyperopt.tpe:tpe_transform took 0.002254 seconds\r\nINFO:hyperopt.tpe:TPE using 49/49 trials with best loss inf\r\nWARNING:root:iteration failed: Error when checking input: expected lstm_1_input to have 3 dimensions, but got array with shape (0, 1)\r\nERROR:root:attempt to get argmin of an empty sequence\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/loudml/vendor/numpy/core/fromnumeric.py\", line 51, in _wrapfunc\r\n    return getattr(obj, method)(*args, **kwds)\r\nAttributeError: 'list' object has no attribute 'argmin'\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/dist-packages/loudml/worker.py\", line 53, in run\r\n  File \"/usr/lib/python3.6/dist-packages/loudml/worker.py\", line 89, in train\r\n  File \"/usr/lib/python3.6/dist-packages/loudml/timeseries.py\", line 955, in train\r\n  File \"/usr/lib/python3.6/dist-packages/loudml/timeseries.py\", line 807, in _train_on_dataset\r\n  File \"/usr/lib/loudml/vendor/hyperopt/fmin.py\", line 307, in fmin\r\n    return_argmin=return_argmin,\r\n  File \"/usr/lib/loudml/vendor/hyperopt/base.py\", line 635, in fmin\r\n    return_argmin=return_argmin)\r\n  File \"/usr/lib/loudml/vendor/hyperopt/fmin.py\", line 322, in fmin\r\n    return trials.argmin\r\n  File \"/usr/lib/loudml/vendor/hyperopt/base.py\", line 590, in argmin\r\n    best_trial = self.best_trial\r\n  File \"/usr/lib/loudml/vendor/hyperopt/base.py\", line 585, in best_trial\r\n    best = np.argmin(losses)\r\n  File \"/usr/lib/loudml/vendor/numpy/core/fromnumeric.py\", line 1101, in argmin\r\n    return _wrapfunc(a, 'argmin', axis=axis, out=out)\r\n  File \"/usr/lib/loudml/vendor/numpy/core/fromnumeric.py\", line 61, in _wrapfunc\r\n    return _wrapit(obj, method, *args, **kwds)\r\n  File \"/usr/lib/loudml/vendor/numpy/core/fromnumeric.py\", line 41, in _wrapit\r\n    result = getattr(asarray(obj), method)(*args, **kwds)\r\nValueError: attempt to get argmin of an empty sequence\r\n127.0.0.1 - - [2018-11-07 10:45:32] \"POST /models/ml-month/_train?from=2009-04-15T09%3A27%3A16.363Z&to=2015-03-09T04%3A21%3A49.090Z HTTP/1.1\" 200 147 0.003137\r\nERROR:root:job[7a96561f-d8bb-40a2-9ad8-ecc2ea9bc28c] failed: attempt to get argmin of an empty sequence\r\n```\r\n\r\nI get the above when I create a model with less than around 100 buckets.\r\n\r\nShould there be a more appropriate error (like \"not enough data\") and is there any way to determine how much data is needed by Loud ML for some metric (maybe it's a specific minimum number of agg buckets)?","closed_by":{"login":"regel","id":355557,"node_id":"MDQ6VXNlcjM1NTU1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/355557?v=4","gravatar_id":"","url":"https://api.github.com/users/regel","html_url":"https://github.com/regel","followers_url":"https://api.github.com/users/regel/followers","following_url":"https://api.github.com/users/regel/following{/other_user}","gists_url":"https://api.github.com/users/regel/gists{/gist_id}","starred_url":"https://api.github.com/users/regel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regel/subscriptions","organizations_url":"https://api.github.com/users/regel/orgs","repos_url":"https://api.github.com/users/regel/repos","events_url":"https://api.github.com/users/regel/events{/privacy}","received_events_url":"https://api.github.com/users/regel/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/regel/loudml/issues/72/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/regel/loudml/issues/72/timeline","performed_via_github_app":null,"state_reason":"completed"}