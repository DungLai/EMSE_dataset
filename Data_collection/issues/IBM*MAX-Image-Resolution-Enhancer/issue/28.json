{"url":"https://api.github.com/repos/IBM/MAX-Image-Resolution-Enhancer/issues/28","repository_url":"https://api.github.com/repos/IBM/MAX-Image-Resolution-Enhancer","labels_url":"https://api.github.com/repos/IBM/MAX-Image-Resolution-Enhancer/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/IBM/MAX-Image-Resolution-Enhancer/issues/28/comments","events_url":"https://api.github.com/repos/IBM/MAX-Image-Resolution-Enhancer/issues/28/events","html_url":"https://github.com/IBM/MAX-Image-Resolution-Enhancer/issues/28","id":604634842,"node_id":"MDU6SXNzdWU2MDQ2MzQ4NDI=","number":28,"title":"Terminate called after throwing an instance of 'std::bad_alloc'","user":{"login":"nghiaht","id":2926711,"node_id":"MDQ6VXNlcjI5MjY3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2926711?v=4","gravatar_id":"","url":"https://api.github.com/users/nghiaht","html_url":"https://github.com/nghiaht","followers_url":"https://api.github.com/users/nghiaht/followers","following_url":"https://api.github.com/users/nghiaht/following{/other_user}","gists_url":"https://api.github.com/users/nghiaht/gists{/gist_id}","starred_url":"https://api.github.com/users/nghiaht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nghiaht/subscriptions","organizations_url":"https://api.github.com/users/nghiaht/orgs","repos_url":"https://api.github.com/users/nghiaht/repos","events_url":"https://api.github.com/users/nghiaht/events{/privacy}","received_events_url":"https://api.github.com/users/nghiaht/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-04-22T10:16:03Z","updated_at":"2020-04-24T15:36:46Z","closed_at":"2020-04-24T04:57:22Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, I'm using Docker to build the repo and expose via port 5000.\r\nI used the ```samples/test_examples/low_resolution/astronaut.png``` as a test image, POST to ```/model/predict```.\r\n\r\nThen the Docker container is stopped, showing following logs:\r\n```\r\n2020-04-22 10:10:28.347782: W tensorflow/core/framework/cpu_allocator_impl.cc:81] Allocation of 450785280 exceeds 10% of system memory.\r\n2020-04-22 10:10:30.802358: W tensorflow/core/framework/cpu_allocator_impl.cc:81] Allocation of 450785280 exceeds 10% of system memory.\r\n2020-04-22 10:10:31.210874: W tensorflow/core/framework/cpu_allocator_impl.cc:81] Allocation of 450785280 exceeds 10% of system memory.\r\n2020-04-22 10:10:31.210834: W tensorflow/core/framework/cpu_allocator_impl.cc:81] Allocation of 450785280 exceeds 10% of system memory.\r\nterminate called after throwing an instance of 'std::bad_alloc'\r\n  what():  std::bad_alloc\r\nAborted (core dumped)\r\n```\r\n\r\nMy memory info\r\n```\r\nfree -m\r\n              total        used        free      shared  buff/cache   available\r\nMem:           2000         301        1228           0         470        1533\r\nSwap:          1952         165        1787\r\n```\r\n\r\nI researched on Google about setting Tensorflow logging level which I have tried and get no better results, or adjusting the batch size (but I don't know if we can adjust it in the max-image-resolution-enhancer).\r\n\r\nPlease give me suggestions.\r\nThank for your help!","closed_by":{"login":"nghiaht","id":2926711,"node_id":"MDQ6VXNlcjI5MjY3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2926711?v=4","gravatar_id":"","url":"https://api.github.com/users/nghiaht","html_url":"https://github.com/nghiaht","followers_url":"https://api.github.com/users/nghiaht/followers","following_url":"https://api.github.com/users/nghiaht/following{/other_user}","gists_url":"https://api.github.com/users/nghiaht/gists{/gist_id}","starred_url":"https://api.github.com/users/nghiaht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nghiaht/subscriptions","organizations_url":"https://api.github.com/users/nghiaht/orgs","repos_url":"https://api.github.com/users/nghiaht/repos","events_url":"https://api.github.com/users/nghiaht/events{/privacy}","received_events_url":"https://api.github.com/users/nghiaht/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/IBM/MAX-Image-Resolution-Enhancer/issues/28/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/IBM/MAX-Image-Resolution-Enhancer/issues/28/timeline","performed_via_github_app":null,"state_reason":"completed"}