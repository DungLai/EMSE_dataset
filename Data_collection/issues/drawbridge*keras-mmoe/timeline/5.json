[{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566213408","html_url":"https://github.com/drawbridge/keras-mmoe/issues/5#issuecomment-566213408","issue_url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/5","id":566213408,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjIxMzQwOA==","user":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T19:45:22Z","updated_at":"2019-12-16T19:45:22Z","author_association":"COLLABORATOR","body":"Hi! I'm not entirely sure if this is a bug in the code but rather a bug in TF. Have you tried different versions of Keras and Tensorflow?","reactions":{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566213408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566214581","html_url":"https://github.com/drawbridge/keras-mmoe/issues/5#issuecomment-566214581","issue_url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/5","id":566214581,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjIxNDU4MQ==","user":{"login":"hazhangwish","id":38861553,"node_id":"MDQ6VXNlcjM4ODYxNTUz","avatar_url":"https://avatars.githubusercontent.com/u/38861553?v=4","gravatar_id":"","url":"https://api.github.com/users/hazhangwish","html_url":"https://github.com/hazhangwish","followers_url":"https://api.github.com/users/hazhangwish/followers","following_url":"https://api.github.com/users/hazhangwish/following{/other_user}","gists_url":"https://api.github.com/users/hazhangwish/gists{/gist_id}","starred_url":"https://api.github.com/users/hazhangwish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazhangwish/subscriptions","organizations_url":"https://api.github.com/users/hazhangwish/orgs","repos_url":"https://api.github.com/users/hazhangwish/repos","events_url":"https://api.github.com/users/hazhangwish/events{/privacy}","received_events_url":"https://api.github.com/users/hazhangwish/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T19:48:26Z","updated_at":"2019-12-16T19:48:26Z","author_association":"NONE","body":"I tried keras 2.2.4/2.2.5 and TF 1.13 and 1.14. Both have this issue. Refer to this: https://github.com/tensorflow/tensorflow/issues/24816\r\n\r\n@alvin319 When you train the model, do you also have this warning?","reactions":{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566214581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hazhangwish","id":38861553,"node_id":"MDQ6VXNlcjM4ODYxNTUz","avatar_url":"https://avatars.githubusercontent.com/u/38861553?v=4","gravatar_id":"","url":"https://api.github.com/users/hazhangwish","html_url":"https://github.com/hazhangwish","followers_url":"https://api.github.com/users/hazhangwish/followers","following_url":"https://api.github.com/users/hazhangwish/following{/other_user}","gists_url":"https://api.github.com/users/hazhangwish/gists{/gist_id}","starred_url":"https://api.github.com/users/hazhangwish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazhangwish/subscriptions","organizations_url":"https://api.github.com/users/hazhangwish/orgs","repos_url":"https://api.github.com/users/hazhangwish/repos","events_url":"https://api.github.com/users/hazhangwish/events{/privacy}","received_events_url":"https://api.github.com/users/hazhangwish/received_events","type":"User","site_admin":false}},{"id":2887254635,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg4NzI1NDYzNQ==","url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/events/2887254635","actor":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-16T19:48:26Z","performed_via_github_app":null},{"id":2887254637,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4ODcyNTQ2Mzc=","url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/events/2887254637","actor":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-16T19:48:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566323417","html_url":"https://github.com/drawbridge/keras-mmoe/issues/5#issuecomment-566323417","issue_url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/5","id":566323417,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjMyMzQxNw==","user":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T01:05:39Z","updated_at":"2019-12-17T01:05:39Z","author_association":"COLLABORATOR","body":"I just tested the code and I am encountering the same warning, but I didn't have any issues during the model inference. Can you share some error logs?","reactions":{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566323417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566355963","html_url":"https://github.com/drawbridge/keras-mmoe/issues/5#issuecomment-566355963","issue_url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/5","id":566355963,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjM1NTk2Mw==","user":{"login":"hazhangwish","id":38861553,"node_id":"MDQ6VXNlcjM4ODYxNTUz","avatar_url":"https://avatars.githubusercontent.com/u/38861553?v=4","gravatar_id":"","url":"https://api.github.com/users/hazhangwish","html_url":"https://github.com/hazhangwish","followers_url":"https://api.github.com/users/hazhangwish/followers","following_url":"https://api.github.com/users/hazhangwish/following{/other_user}","gists_url":"https://api.github.com/users/hazhangwish/gists{/gist_id}","starred_url":"https://api.github.com/users/hazhangwish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazhangwish/subscriptions","organizations_url":"https://api.github.com/users/hazhangwish/orgs","repos_url":"https://api.github.com/users/hazhangwish/repos","events_url":"https://api.github.com/users/hazhangwish/events{/privacy}","received_events_url":"https://api.github.com/users/hazhangwish/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T02:49:43Z","updated_at":"2019-12-17T02:49:52Z","author_association":"NONE","body":"I froze the session and export the model to Tensorflow *.pb model format. Then load it into Tensorflow. Inference from TF will show the above warning. The inference results are also different.","reactions":{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566355963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hazhangwish","id":38861553,"node_id":"MDQ6VXNlcjM4ODYxNTUz","avatar_url":"https://avatars.githubusercontent.com/u/38861553?v=4","gravatar_id":"","url":"https://api.github.com/users/hazhangwish","html_url":"https://github.com/hazhangwish","followers_url":"https://api.github.com/users/hazhangwish/followers","following_url":"https://api.github.com/users/hazhangwish/following{/other_user}","gists_url":"https://api.github.com/users/hazhangwish/gists{/gist_id}","starred_url":"https://api.github.com/users/hazhangwish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazhangwish/subscriptions","organizations_url":"https://api.github.com/users/hazhangwish/orgs","repos_url":"https://api.github.com/users/hazhangwish/repos","events_url":"https://api.github.com/users/hazhangwish/events{/privacy}","received_events_url":"https://api.github.com/users/hazhangwish/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566358536","html_url":"https://github.com/drawbridge/keras-mmoe/issues/5#issuecomment-566358536","issue_url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/5","id":566358536,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjM1ODUzNg==","user":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T03:02:00Z","updated_at":"2019-12-17T03:02:00Z","author_association":"COLLABORATOR","body":"I haven't experimented with that yet and unfortunately, this might be a TensorFlow issue. From the issue you've linked, I suspect the culprit might be https://github.com/drawbridge/keras-mmoe/blob/master/mmoe.py#L190. I don't have much time to work on this right now and if you want to dig into this issue and submit a PR, please feel free!","reactions":{"url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/comments/566358536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false}},{"id":3011955337,"node_id":"MDExOkNsb3NlZEV2ZW50MzAxMTk1NTMzNw==","url":"https://api.github.com/repos/drawbridge/keras-mmoe/issues/events/3011955337","actor":{"login":"alvin319","id":909071,"node_id":"MDQ6VXNlcjkwOTA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/909071?v=4","gravatar_id":"","url":"https://api.github.com/users/alvin319","html_url":"https://github.com/alvin319","followers_url":"https://api.github.com/users/alvin319/followers","following_url":"https://api.github.com/users/alvin319/following{/other_user}","gists_url":"https://api.github.com/users/alvin319/gists{/gist_id}","starred_url":"https://api.github.com/users/alvin319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvin319/subscriptions","organizations_url":"https://api.github.com/users/alvin319/orgs","repos_url":"https://api.github.com/users/alvin319/repos","events_url":"https://api.github.com/users/alvin319/events{/privacy}","received_events_url":"https://api.github.com/users/alvin319/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-02-05T23:18:40Z","state_reason":null,"performed_via_github_app":null}]