[{"url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/comments/852613204","html_url":"https://github.com/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/17#issuecomment-852613204","issue_url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/17","id":852613204,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjYxMzIwNA==","user":{"login":"roatienza","id":8848769,"node_id":"MDQ6VXNlcjg4NDg3Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8848769?v=4","gravatar_id":"","url":"https://api.github.com/users/roatienza","html_url":"https://github.com/roatienza","followers_url":"https://api.github.com/users/roatienza/followers","following_url":"https://api.github.com/users/roatienza/following{/other_user}","gists_url":"https://api.github.com/users/roatienza/gists{/gist_id}","starred_url":"https://api.github.com/users/roatienza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roatienza/subscriptions","organizations_url":"https://api.github.com/users/roatienza/orgs","repos_url":"https://api.github.com/users/roatienza/repos","events_url":"https://api.github.com/users/roatienza/events{/privacy}","received_events_url":"https://api.github.com/users/roatienza/received_events","type":"User","site_admin":false},"created_at":"2021-06-02T00:46:27Z","updated_at":"2021-06-02T00:46:27Z","author_association":"COLLABORATOR","body":"Hi. For the test set, when data is encoded, the `z_mean` is generated by the encoder. \r\n\r\nhttps://github.com/PacktPublishing/Advanced-Deep-Learning-with-Keras/blob/5d97af8ef5d8b32bda38bdaeb9137fb4f49674a1/chapter8-vae/cvae-cnn-mnist-8.2.1.py#L83\r\n\r\nFor CVAE, this is expected to be almost evenly distributed within a circle (2d `z_mean`).  `z_mean` changes depending on the input test data.","reactions":{"url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/comments/852613204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roatienza","id":8848769,"node_id":"MDQ6VXNlcjg4NDg3Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8848769?v=4","gravatar_id":"","url":"https://api.github.com/users/roatienza","html_url":"https://github.com/roatienza","followers_url":"https://api.github.com/users/roatienza/followers","following_url":"https://api.github.com/users/roatienza/following{/other_user}","gists_url":"https://api.github.com/users/roatienza/gists{/gist_id}","starred_url":"https://api.github.com/users/roatienza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roatienza/subscriptions","organizations_url":"https://api.github.com/users/roatienza/orgs","repos_url":"https://api.github.com/users/roatienza/repos","events_url":"https://api.github.com/users/roatienza/events{/privacy}","received_events_url":"https://api.github.com/users/roatienza/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/comments/852632518","html_url":"https://github.com/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/17#issuecomment-852632518","issue_url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/17","id":852632518,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjYzMjUxOA==","user":{"login":"tuthang102","id":29415740,"node_id":"MDQ6VXNlcjI5NDE1NzQw","avatar_url":"https://avatars.githubusercontent.com/u/29415740?v=4","gravatar_id":"","url":"https://api.github.com/users/tuthang102","html_url":"https://github.com/tuthang102","followers_url":"https://api.github.com/users/tuthang102/followers","following_url":"https://api.github.com/users/tuthang102/following{/other_user}","gists_url":"https://api.github.com/users/tuthang102/gists{/gist_id}","starred_url":"https://api.github.com/users/tuthang102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuthang102/subscriptions","organizations_url":"https://api.github.com/users/tuthang102/orgs","repos_url":"https://api.github.com/users/tuthang102/repos","events_url":"https://api.github.com/users/tuthang102/events{/privacy}","received_events_url":"https://api.github.com/users/tuthang102/received_events","type":"User","site_admin":false},"created_at":"2021-06-02T01:10:54Z","updated_at":"2021-06-02T01:10:54Z","author_association":"NONE","body":"encoder = Model([inputs, y_labels],\r\n                [z_mean, z_log_var, z], \r\n                name='encoder')\r\n\r\nThe output of the encoder is z_mean, z_log_var, z. I understand the z_mean is generated by the encoder, the problem I'm having is the values for z_mean are all the same for all the input test data. in CVAE. This is not the case when working with regular VAE. ","reactions":{"url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/comments/852632518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tuthang102","id":29415740,"node_id":"MDQ6VXNlcjI5NDE1NzQw","avatar_url":"https://avatars.githubusercontent.com/u/29415740?v=4","gravatar_id":"","url":"https://api.github.com/users/tuthang102","html_url":"https://github.com/tuthang102","followers_url":"https://api.github.com/users/tuthang102/followers","following_url":"https://api.github.com/users/tuthang102/following{/other_user}","gists_url":"https://api.github.com/users/tuthang102/gists{/gist_id}","starred_url":"https://api.github.com/users/tuthang102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuthang102/subscriptions","organizations_url":"https://api.github.com/users/tuthang102/orgs","repos_url":"https://api.github.com/users/tuthang102/repos","events_url":"https://api.github.com/users/tuthang102/events{/privacy}","received_events_url":"https://api.github.com/users/tuthang102/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/comments/852682842","html_url":"https://github.com/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/17#issuecomment-852682842","issue_url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/17","id":852682842,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjY4Mjg0Mg==","user":{"login":"roatienza","id":8848769,"node_id":"MDQ6VXNlcjg4NDg3Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8848769?v=4","gravatar_id":"","url":"https://api.github.com/users/roatienza","html_url":"https://github.com/roatienza","followers_url":"https://api.github.com/users/roatienza/followers","following_url":"https://api.github.com/users/roatienza/following{/other_user}","gists_url":"https://api.github.com/users/roatienza/gists{/gist_id}","starred_url":"https://api.github.com/users/roatienza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roatienza/subscriptions","organizations_url":"https://api.github.com/users/roatienza/orgs","repos_url":"https://api.github.com/users/roatienza/repos","events_url":"https://api.github.com/users/roatienza/events{/privacy}","received_events_url":"https://api.github.com/users/roatienza/received_events","type":"User","site_admin":false},"created_at":"2021-06-02T03:15:53Z","updated_at":"2021-06-02T03:15:53Z","author_association":"COLLABORATOR","body":"CVAE (and VAE) encoder `z_mean`  distribution has an objective function to approximate a Gaussian with zero mean and std=1.  On the test set, this can be verified by inserting this code: \r\n\r\n    z, _, _ = encoder.predict([x_test, to_categorical(y_test)],\r\n                              batch_size=batch_size)\r\n    print(\"shape:\", z.shape)\r\n    print(\"mean:\", np.mean(z, axis=0))\r\n    print(\"std:\", np.std(z, axis=0))\r\n    return\r\n\r\n\r\nThen, it prints (verifying it is not constant but a distribution):\r\n\r\nshape: (10000, 2)\r\nmean: [ 0.07939055  0.02497174]\r\nstd: [ 0.91762519  0.92036796]","reactions":{"url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/comments/852682842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roatienza","id":8848769,"node_id":"MDQ6VXNlcjg4NDg3Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8848769?v=4","gravatar_id":"","url":"https://api.github.com/users/roatienza","html_url":"https://github.com/roatienza","followers_url":"https://api.github.com/users/roatienza/followers","following_url":"https://api.github.com/users/roatienza/following{/other_user}","gists_url":"https://api.github.com/users/roatienza/gists{/gist_id}","starred_url":"https://api.github.com/users/roatienza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roatienza/subscriptions","organizations_url":"https://api.github.com/users/roatienza/orgs","repos_url":"https://api.github.com/users/roatienza/repos","events_url":"https://api.github.com/users/roatienza/events{/privacy}","received_events_url":"https://api.github.com/users/roatienza/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/comments/853363583","html_url":"https://github.com/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/17#issuecomment-853363583","issue_url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/17","id":853363583,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzM2MzU4Mw==","user":{"login":"tuthang102","id":29415740,"node_id":"MDQ6VXNlcjI5NDE1NzQw","avatar_url":"https://avatars.githubusercontent.com/u/29415740?v=4","gravatar_id":"","url":"https://api.github.com/users/tuthang102","html_url":"https://github.com/tuthang102","followers_url":"https://api.github.com/users/tuthang102/followers","following_url":"https://api.github.com/users/tuthang102/following{/other_user}","gists_url":"https://api.github.com/users/tuthang102/gists{/gist_id}","starred_url":"https://api.github.com/users/tuthang102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuthang102/subscriptions","organizations_url":"https://api.github.com/users/tuthang102/orgs","repos_url":"https://api.github.com/users/tuthang102/repos","events_url":"https://api.github.com/users/tuthang102/events{/privacy}","received_events_url":"https://api.github.com/users/tuthang102/received_events","type":"User","site_admin":false},"created_at":"2021-06-02T20:32:37Z","updated_at":"2021-06-02T20:39:00Z","author_association":"NONE","body":"When I plot the 10000 values, it does not resemble a normal distribution.  All 10000 values are the same. This is for CVAE model only, the VAE model does produce a latent vector z with a normal distribution. ","reactions":{"url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/comments/853363583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tuthang102","id":29415740,"node_id":"MDQ6VXNlcjI5NDE1NzQw","avatar_url":"https://avatars.githubusercontent.com/u/29415740?v=4","gravatar_id":"","url":"https://api.github.com/users/tuthang102","html_url":"https://github.com/tuthang102","followers_url":"https://api.github.com/users/tuthang102/followers","following_url":"https://api.github.com/users/tuthang102/following{/other_user}","gists_url":"https://api.github.com/users/tuthang102/gists{/gist_id}","starred_url":"https://api.github.com/users/tuthang102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuthang102/subscriptions","organizations_url":"https://api.github.com/users/tuthang102/orgs","repos_url":"https://api.github.com/users/tuthang102/repos","events_url":"https://api.github.com/users/tuthang102/events{/privacy}","received_events_url":"https://api.github.com/users/tuthang102/received_events","type":"User","site_admin":false}},{"id":4834611666,"node_id":"MDExOkNsb3NlZEV2ZW50NDgzNDYxMTY2Ng==","url":"https://api.github.com/repos/PacktPublishing/Advanced-Deep-Learning-with-Keras/issues/events/4834611666","actor":{"login":"tuthang102","id":29415740,"node_id":"MDQ6VXNlcjI5NDE1NzQw","avatar_url":"https://avatars.githubusercontent.com/u/29415740?v=4","gravatar_id":"","url":"https://api.github.com/users/tuthang102","html_url":"https://github.com/tuthang102","followers_url":"https://api.github.com/users/tuthang102/followers","following_url":"https://api.github.com/users/tuthang102/following{/other_user}","gists_url":"https://api.github.com/users/tuthang102/gists{/gist_id}","starred_url":"https://api.github.com/users/tuthang102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuthang102/subscriptions","organizations_url":"https://api.github.com/users/tuthang102/orgs","repos_url":"https://api.github.com/users/tuthang102/repos","events_url":"https://api.github.com/users/tuthang102/events{/privacy}","received_events_url":"https://api.github.com/users/tuthang102/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-06-03T00:03:25Z","state_reason":null,"performed_via_github_app":null}]