[{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/509178259","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-509178259","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":509178259,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTE3ODI1OQ==","user":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false},"created_at":"2019-07-08T10:53:14Z","updated_at":"2019-07-08T10:53:14Z","author_association":"NONE","body":"`SafeDataset.__getitem__` memoizes the dataset items, with no parameter to change this.\r\n\r\nThis makes the assumption that the dataset will always fit in the memory.\r\nRemove the `@memoize` line, and the leak is gone.","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/509178259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/513324175","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-513324175","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":513324175,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzMyNDE3NQ==","user":{"login":"msamogh","id":1230386,"node_id":"MDQ6VXNlcjEyMzAzODY=","avatar_url":"https://avatars.githubusercontent.com/u/1230386?v=4","gravatar_id":"","url":"https://api.github.com/users/msamogh","html_url":"https://github.com/msamogh","followers_url":"https://api.github.com/users/msamogh/followers","following_url":"https://api.github.com/users/msamogh/following{/other_user}","gists_url":"https://api.github.com/users/msamogh/gists{/gist_id}","starred_url":"https://api.github.com/users/msamogh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msamogh/subscriptions","organizations_url":"https://api.github.com/users/msamogh/orgs","repos_url":"https://api.github.com/users/msamogh/repos","events_url":"https://api.github.com/users/msamogh/events{/privacy}","received_events_url":"https://api.github.com/users/msamogh/received_events","type":"User","site_admin":false},"created_at":"2019-07-19T18:08:23Z","updated_at":"2019-07-19T18:08:23Z","author_association":"OWNER","body":"Thanks for raising the issue, @shrubb!\r\n\r\nYeah, @aronhoff is spot on. I hadn't really thought about this use-case. Parameterising the memoization seems like a good idea! Would you be want to raise a PR for that, @aronhoff? ","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/513324175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"msamogh","id":1230386,"node_id":"MDQ6VXNlcjEyMzAzODY=","avatar_url":"https://avatars.githubusercontent.com/u/1230386?v=4","gravatar_id":"","url":"https://api.github.com/users/msamogh","html_url":"https://github.com/msamogh","followers_url":"https://api.github.com/users/msamogh/followers","following_url":"https://api.github.com/users/msamogh/following{/other_user}","gists_url":"https://api.github.com/users/msamogh/gists{/gist_id}","starred_url":"https://api.github.com/users/msamogh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msamogh/subscriptions","organizations_url":"https://api.github.com/users/msamogh/orgs","repos_url":"https://api.github.com/users/msamogh/repos","events_url":"https://api.github.com/users/msamogh/events{/privacy}","received_events_url":"https://api.github.com/users/msamogh/received_events","type":"User","site_admin":false}},{"id":2496598759,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ5NjU5ODc1OQ==","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/2496598759","actor":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-19T18:08:23Z","performed_via_github_app":null},{"id":2496598760,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0OTY1OTg3NjA=","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/2496598760","actor":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-19T18:08:23Z","performed_via_github_app":null},{"id":2496598762,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ5NjU5ODc2Mg==","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/2496598762","actor":{"login":"shrubb","id":9570420,"node_id":"MDQ6VXNlcjk1NzA0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9570420?v=4","gravatar_id":"","url":"https://api.github.com/users/shrubb","html_url":"https://github.com/shrubb","followers_url":"https://api.github.com/users/shrubb/followers","following_url":"https://api.github.com/users/shrubb/following{/other_user}","gists_url":"https://api.github.com/users/shrubb/gists{/gist_id}","starred_url":"https://api.github.com/users/shrubb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shrubb/subscriptions","organizations_url":"https://api.github.com/users/shrubb/orgs","repos_url":"https://api.github.com/users/shrubb/repos","events_url":"https://api.github.com/users/shrubb/events{/privacy}","received_events_url":"https://api.github.com/users/shrubb/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-19T18:08:23Z","performed_via_github_app":null},{"id":2496598763,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0OTY1OTg3NjM=","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/2496598763","actor":{"login":"shrubb","id":9570420,"node_id":"MDQ6VXNlcjk1NzA0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9570420?v=4","gravatar_id":"","url":"https://api.github.com/users/shrubb","html_url":"https://github.com/shrubb","followers_url":"https://api.github.com/users/shrubb/followers","following_url":"https://api.github.com/users/shrubb/following{/other_user}","gists_url":"https://api.github.com/users/shrubb/gists{/gist_id}","starred_url":"https://api.github.com/users/shrubb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shrubb/subscriptions","organizations_url":"https://api.github.com/users/shrubb/orgs","repos_url":"https://api.github.com/users/shrubb/repos","events_url":"https://api.github.com/users/shrubb/events{/privacy}","received_events_url":"https://api.github.com/users/shrubb/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-19T18:08:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/513423363","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-513423363","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":513423363,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQyMzM2Mw==","user":{"login":"taehyunoh","id":52436454,"node_id":"MDQ6VXNlcjUyNDM2NDU0","avatar_url":"https://avatars.githubusercontent.com/u/52436454?v=4","gravatar_id":"","url":"https://api.github.com/users/taehyunoh","html_url":"https://github.com/taehyunoh","followers_url":"https://api.github.com/users/taehyunoh/followers","following_url":"https://api.github.com/users/taehyunoh/following{/other_user}","gists_url":"https://api.github.com/users/taehyunoh/gists{/gist_id}","starred_url":"https://api.github.com/users/taehyunoh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/taehyunoh/subscriptions","organizations_url":"https://api.github.com/users/taehyunoh/orgs","repos_url":"https://api.github.com/users/taehyunoh/repos","events_url":"https://api.github.com/users/taehyunoh/events{/privacy}","received_events_url":"https://api.github.com/users/taehyunoh/received_events","type":"User","site_admin":false},"created_at":"2019-07-20T01:23:31Z","updated_at":"2019-07-20T01:23:31Z","author_association":"NONE","body":"@aronhoff 's solution works like a charm! I had been struggled by this.\r\nIf possible, please update pip repository as well. I'd appreciate it!\r\nThanks","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/513423363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"taehyunoh","id":52436454,"node_id":"MDQ6VXNlcjUyNDM2NDU0","avatar_url":"https://avatars.githubusercontent.com/u/52436454?v=4","gravatar_id":"","url":"https://api.github.com/users/taehyunoh","html_url":"https://github.com/taehyunoh","followers_url":"https://api.github.com/users/taehyunoh/followers","following_url":"https://api.github.com/users/taehyunoh/following{/other_user}","gists_url":"https://api.github.com/users/taehyunoh/gists{/gist_id}","starred_url":"https://api.github.com/users/taehyunoh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/taehyunoh/subscriptions","organizations_url":"https://api.github.com/users/taehyunoh/orgs","repos_url":"https://api.github.com/users/taehyunoh/repos","events_url":"https://api.github.com/users/taehyunoh/events{/privacy}","received_events_url":"https://api.github.com/users/taehyunoh/received_events","type":"User","site_admin":false}},{"id":2497300793,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ5NzMwMDc5Mw==","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/2497300793","actor":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-20T01:23:31Z","performed_via_github_app":null},{"id":2497300794,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0OTczMDA3OTQ=","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/2497300794","actor":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-20T01:23:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/513441336","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-513441336","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":513441336,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQ0MTMzNg==","user":{"login":"msamogh","id":1230386,"node_id":"MDQ6VXNlcjEyMzAzODY=","avatar_url":"https://avatars.githubusercontent.com/u/1230386?v=4","gravatar_id":"","url":"https://api.github.com/users/msamogh","html_url":"https://github.com/msamogh","followers_url":"https://api.github.com/users/msamogh/followers","following_url":"https://api.github.com/users/msamogh/following{/other_user}","gists_url":"https://api.github.com/users/msamogh/gists{/gist_id}","starred_url":"https://api.github.com/users/msamogh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msamogh/subscriptions","organizations_url":"https://api.github.com/users/msamogh/orgs","repos_url":"https://api.github.com/users/msamogh/repos","events_url":"https://api.github.com/users/msamogh/events{/privacy}","received_events_url":"https://api.github.com/users/msamogh/received_events","type":"User","site_admin":false},"created_at":"2019-07-20T06:25:14Z","updated_at":"2019-07-20T06:25:14Z","author_association":"OWNER","body":"Well, I've put it there for a reason, and it still ensures that you don't iterate through the entire dataset every time for most cases where the dataset isn't larger than the memory.\n\nI think parameterising is the best solution for now. ","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/513441336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"msamogh","id":1230386,"node_id":"MDQ6VXNlcjEyMzAzODY=","avatar_url":"https://avatars.githubusercontent.com/u/1230386?v=4","gravatar_id":"","url":"https://api.github.com/users/msamogh","html_url":"https://github.com/msamogh","followers_url":"https://api.github.com/users/msamogh/followers","following_url":"https://api.github.com/users/msamogh/following{/other_user}","gists_url":"https://api.github.com/users/msamogh/gists{/gist_id}","starred_url":"https://api.github.com/users/msamogh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msamogh/subscriptions","organizations_url":"https://api.github.com/users/msamogh/orgs","repos_url":"https://api.github.com/users/msamogh/repos","events_url":"https://api.github.com/users/msamogh/events{/privacy}","received_events_url":"https://api.github.com/users/msamogh/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/513491158","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-513491158","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":513491158,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQ5MTE1OA==","user":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false},"created_at":"2019-07-20T18:57:33Z","updated_at":"2019-07-20T20:19:10Z","author_association":"NONE","body":"I tried adding a bool attribute to the `memoize` class, that would make its `__call__` skip the lookup. The idea is that you could use it as a property of the method, e.g. ```self.__getitem__.memoize = False```. (c57e70ce20668415af77ce8eb5120ab35e6fb840)\r\n\r\nUnfortunately this does not work with multiprocessing. `__getitem__` is not in the `__dict__` of an object, so pickling does not save or restore it and its attributes. Putting it into `__dict__` does not solve this.\r\n\r\nI do not currently have more time to find a way. Solution could be in having a custom `__setstate__` in `SafeDataset`, or perhaps using a custom metaclass for it. Or do it in the `__getitem__` function directly. Either way, it seems to need more entanglement between `memoize` and the owner object.\r\n\r\nPerhaps concerns should be separated completely. You could have a `MemoizedDataset` that passes through the values from another dataset which is potentially a `SafeDataset`, while memoizing them. \r\n\r\nKeep in mind that the cache `dict`s are going to be different instances accross processes, so you would be replicating your dataset for each subprocess. This may not be what you want, but for small datasets, it could be not worth the effort of dealing with read-write shared memory.\r\n\r\nAnd with regards to the dataset, ImageNet would optimistically take around 200 GB :)","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/513491158/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/514514456","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-514514456","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":514514456,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDUxNDQ1Ng==","user":{"login":"msamogh","id":1230386,"node_id":"MDQ6VXNlcjEyMzAzODY=","avatar_url":"https://avatars.githubusercontent.com/u/1230386?v=4","gravatar_id":"","url":"https://api.github.com/users/msamogh","html_url":"https://github.com/msamogh","followers_url":"https://api.github.com/users/msamogh/followers","following_url":"https://api.github.com/users/msamogh/following{/other_user}","gists_url":"https://api.github.com/users/msamogh/gists{/gist_id}","starred_url":"https://api.github.com/users/msamogh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msamogh/subscriptions","organizations_url":"https://api.github.com/users/msamogh/orgs","repos_url":"https://api.github.com/users/msamogh/repos","events_url":"https://api.github.com/users/msamogh/events{/privacy}","received_events_url":"https://api.github.com/users/msamogh/received_events","type":"User","site_admin":false},"created_at":"2019-07-24T07:28:06Z","updated_at":"2019-07-24T07:28:06Z","author_association":"OWNER","body":"Thanks for the PR, @shrubb! I have been quite busy, and haven't gotten time to look at it. I'll take a look soon and get back to you.","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/514514456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"msamogh","id":1230386,"node_id":"MDQ6VXNlcjEyMzAzODY=","avatar_url":"https://avatars.githubusercontent.com/u/1230386?v=4","gravatar_id":"","url":"https://api.github.com/users/msamogh","html_url":"https://github.com/msamogh","followers_url":"https://api.github.com/users/msamogh/followers","following_url":"https://api.github.com/users/msamogh/following{/other_user}","gists_url":"https://api.github.com/users/msamogh/gists{/gist_id}","starred_url":"https://api.github.com/users/msamogh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msamogh/subscriptions","organizations_url":"https://api.github.com/users/msamogh/orgs","repos_url":"https://api.github.com/users/msamogh/repos","events_url":"https://api.github.com/users/msamogh/events{/privacy}","received_events_url":"https://api.github.com/users/msamogh/received_events","type":"User","site_admin":false}},{"id":2505354276,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjUwNTM1NDI3Ng==","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/2505354276","actor":{"login":"shrubb","id":9570420,"node_id":"MDQ6VXNlcjk1NzA0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9570420?v=4","gravatar_id":"","url":"https://api.github.com/users/shrubb","html_url":"https://github.com/shrubb","followers_url":"https://api.github.com/users/shrubb/followers","following_url":"https://api.github.com/users/shrubb/following{/other_user}","gists_url":"https://api.github.com/users/shrubb/gists{/gist_id}","starred_url":"https://api.github.com/users/shrubb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shrubb/subscriptions","organizations_url":"https://api.github.com/users/shrubb/orgs","repos_url":"https://api.github.com/users/shrubb/repos","events_url":"https://api.github.com/users/shrubb/events{/privacy}","received_events_url":"https://api.github.com/users/shrubb/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-24T07:28:06Z","performed_via_github_app":null},{"id":2505354278,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1MDUzNTQyNzg=","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/2505354278","actor":{"login":"shrubb","id":9570420,"node_id":"MDQ6VXNlcjk1NzA0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9570420?v=4","gravatar_id":"","url":"https://api.github.com/users/shrubb","html_url":"https://github.com/shrubb","followers_url":"https://api.github.com/users/shrubb/followers","following_url":"https://api.github.com/users/shrubb/following{/other_user}","gists_url":"https://api.github.com/users/shrubb/gists{/gist_id}","starred_url":"https://api.github.com/users/shrubb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shrubb/subscriptions","organizations_url":"https://api.github.com/users/shrubb/orgs","repos_url":"https://api.github.com/users/shrubb/repos","events_url":"https://api.github.com/users/shrubb/events{/privacy}","received_events_url":"https://api.github.com/users/shrubb/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-24T07:28:06Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/530365489","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-530365489","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":530365489,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDM2NTQ4OQ==","user":{"login":"timonbimon","id":14793026,"node_id":"MDQ6VXNlcjE0NzkzMDI2","avatar_url":"https://avatars.githubusercontent.com/u/14793026?v=4","gravatar_id":"","url":"https://api.github.com/users/timonbimon","html_url":"https://github.com/timonbimon","followers_url":"https://api.github.com/users/timonbimon/followers","following_url":"https://api.github.com/users/timonbimon/following{/other_user}","gists_url":"https://api.github.com/users/timonbimon/gists{/gist_id}","starred_url":"https://api.github.com/users/timonbimon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timonbimon/subscriptions","organizations_url":"https://api.github.com/users/timonbimon/orgs","repos_url":"https://api.github.com/users/timonbimon/repos","events_url":"https://api.github.com/users/timonbimon/events{/privacy}","received_events_url":"https://api.github.com/users/timonbimon/received_events","type":"User","site_admin":false},"created_at":"2019-09-11T12:50:48Z","updated_at":"2019-09-11T12:50:48Z","author_association":"NONE","body":"Has this been resolved? :)\r\nNonechucks looks pretty useful, but it's very normal for us to have datasets that are much largern than the RAM, so with the memory leak this would be a no-go.","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/530365489/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"timonbimon","id":14793026,"node_id":"MDQ6VXNlcjE0NzkzMDI2","avatar_url":"https://avatars.githubusercontent.com/u/14793026?v=4","gravatar_id":"","url":"https://api.github.com/users/timonbimon","html_url":"https://github.com/timonbimon","followers_url":"https://api.github.com/users/timonbimon/followers","following_url":"https://api.github.com/users/timonbimon/following{/other_user}","gists_url":"https://api.github.com/users/timonbimon/gists{/gist_id}","starred_url":"https://api.github.com/users/timonbimon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timonbimon/subscriptions","organizations_url":"https://api.github.com/users/timonbimon/orgs","repos_url":"https://api.github.com/users/timonbimon/repos","events_url":"https://api.github.com/users/timonbimon/events{/privacy}","received_events_url":"https://api.github.com/users/timonbimon/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/923360250","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-923360250","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":923360250,"node_id":"IC_kwDOCQqrZ843CVv6","user":{"login":"aksg87","id":19271735,"node_id":"MDQ6VXNlcjE5MjcxNzM1","avatar_url":"https://avatars.githubusercontent.com/u/19271735?v=4","gravatar_id":"","url":"https://api.github.com/users/aksg87","html_url":"https://github.com/aksg87","followers_url":"https://api.github.com/users/aksg87/followers","following_url":"https://api.github.com/users/aksg87/following{/other_user}","gists_url":"https://api.github.com/users/aksg87/gists{/gist_id}","starred_url":"https://api.github.com/users/aksg87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aksg87/subscriptions","organizations_url":"https://api.github.com/users/aksg87/orgs","repos_url":"https://api.github.com/users/aksg87/repos","events_url":"https://api.github.com/users/aksg87/events{/privacy}","received_events_url":"https://api.github.com/users/aksg87/received_events","type":"User","site_admin":false},"created_at":"2021-09-20T21:59:45Z","updated_at":"2021-09-20T21:59:45Z","author_association":"NONE","body":"@timonbimon @aronhoff \r\n\r\nAny solution? I just faced a memory leak with this as well!\r\n","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/923360250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aksg87","id":19271735,"node_id":"MDQ6VXNlcjE5MjcxNzM1","avatar_url":"https://avatars.githubusercontent.com/u/19271735?v=4","gravatar_id":"","url":"https://api.github.com/users/aksg87","html_url":"https://github.com/aksg87","followers_url":"https://api.github.com/users/aksg87/followers","following_url":"https://api.github.com/users/aksg87/following{/other_user}","gists_url":"https://api.github.com/users/aksg87/gists{/gist_id}","starred_url":"https://api.github.com/users/aksg87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aksg87/subscriptions","organizations_url":"https://api.github.com/users/aksg87/orgs","repos_url":"https://api.github.com/users/aksg87/repos","events_url":"https://api.github.com/users/aksg87/events{/privacy}","received_events_url":"https://api.github.com/users/aksg87/received_events","type":"User","site_admin":false}},{"id":5331282216,"node_id":"MEE_lADOCQqrZ84bCAZpzwAAAAE9xOko","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/5331282216","actor":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-09-20T21:59:46Z","performed_via_github_app":null},{"id":5331282219,"node_id":"SE_lADOCQqrZ84bCAZpzwAAAAE9xOkr","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/5331282219","actor":{"login":"aronhoff","id":922684,"node_id":"MDQ6VXNlcjkyMjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/922684?v=4","gravatar_id":"","url":"https://api.github.com/users/aronhoff","html_url":"https://github.com/aronhoff","followers_url":"https://api.github.com/users/aronhoff/followers","following_url":"https://api.github.com/users/aronhoff/following{/other_user}","gists_url":"https://api.github.com/users/aronhoff/gists{/gist_id}","starred_url":"https://api.github.com/users/aronhoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aronhoff/subscriptions","organizations_url":"https://api.github.com/users/aronhoff/orgs","repos_url":"https://api.github.com/users/aronhoff/repos","events_url":"https://api.github.com/users/aronhoff/events{/privacy}","received_events_url":"https://api.github.com/users/aronhoff/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-09-20T21:59:46Z","performed_via_github_app":null},{"id":5331282227,"node_id":"MEE_lADOCQqrZ84bCAZpzwAAAAE9xOkz","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/5331282227","actor":{"login":"timonbimon","id":14793026,"node_id":"MDQ6VXNlcjE0NzkzMDI2","avatar_url":"https://avatars.githubusercontent.com/u/14793026?v=4","gravatar_id":"","url":"https://api.github.com/users/timonbimon","html_url":"https://github.com/timonbimon","followers_url":"https://api.github.com/users/timonbimon/followers","following_url":"https://api.github.com/users/timonbimon/following{/other_user}","gists_url":"https://api.github.com/users/timonbimon/gists{/gist_id}","starred_url":"https://api.github.com/users/timonbimon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timonbimon/subscriptions","organizations_url":"https://api.github.com/users/timonbimon/orgs","repos_url":"https://api.github.com/users/timonbimon/repos","events_url":"https://api.github.com/users/timonbimon/events{/privacy}","received_events_url":"https://api.github.com/users/timonbimon/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-09-20T21:59:46Z","performed_via_github_app":null},{"id":5331282231,"node_id":"SE_lADOCQqrZ84bCAZpzwAAAAE9xOk3","url":"https://api.github.com/repos/msamogh/nonechucks/issues/events/5331282231","actor":{"login":"timonbimon","id":14793026,"node_id":"MDQ6VXNlcjE0NzkzMDI2","avatar_url":"https://avatars.githubusercontent.com/u/14793026?v=4","gravatar_id":"","url":"https://api.github.com/users/timonbimon","html_url":"https://github.com/timonbimon","followers_url":"https://api.github.com/users/timonbimon/followers","following_url":"https://api.github.com/users/timonbimon/following{/other_user}","gists_url":"https://api.github.com/users/timonbimon/gists{/gist_id}","starred_url":"https://api.github.com/users/timonbimon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timonbimon/subscriptions","organizations_url":"https://api.github.com/users/timonbimon/orgs","repos_url":"https://api.github.com/users/timonbimon/repos","events_url":"https://api.github.com/users/timonbimon/events{/privacy}","received_events_url":"https://api.github.com/users/timonbimon/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-09-20T21:59:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/1073293888","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-1073293888","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":1073293888,"node_id":"IC_kwDOCQqrZ84_-SpA","user":{"login":"Erotemic","id":3186211,"node_id":"MDQ6VXNlcjMxODYyMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3186211?v=4","gravatar_id":"","url":"https://api.github.com/users/Erotemic","html_url":"https://github.com/Erotemic","followers_url":"https://api.github.com/users/Erotemic/followers","following_url":"https://api.github.com/users/Erotemic/following{/other_user}","gists_url":"https://api.github.com/users/Erotemic/gists{/gist_id}","starred_url":"https://api.github.com/users/Erotemic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Erotemic/subscriptions","organizations_url":"https://api.github.com/users/Erotemic/orgs","repos_url":"https://api.github.com/users/Erotemic/repos","events_url":"https://api.github.com/users/Erotemic/events{/privacy}","received_events_url":"https://api.github.com/users/Erotemic/received_events","type":"User","site_admin":false},"created_at":"2022-03-20T17:11:48Z","updated_at":"2022-03-20T17:11:48Z","author_association":"NONE","body":"Another issue with memoizing the `__getitem__` is that you assume asking for the same index will always result in the same value.\r\n\r\nFor complicated training cases, executing `__getitem__` twice might return wildly different batch items. It is not safe to assume that an index corresponds 1:1 with a specific item. For instance, in one of my more involved datasets all even indexes correspond to positive examples and odd indexes are for negative examples, but where those examples are somewhat random because an index actually chooses from a pool of examples associated with that index. This allows me to balance my positive / negative training cases, but it very much breaks assumptions made in this library.","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/1073293888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Erotemic","id":3186211,"node_id":"MDQ6VXNlcjMxODYyMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3186211?v=4","gravatar_id":"","url":"https://api.github.com/users/Erotemic","html_url":"https://github.com/Erotemic","followers_url":"https://api.github.com/users/Erotemic/followers","following_url":"https://api.github.com/users/Erotemic/following{/other_user}","gists_url":"https://api.github.com/users/Erotemic/gists{/gist_id}","starred_url":"https://api.github.com/users/Erotemic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Erotemic/subscriptions","organizations_url":"https://api.github.com/users/Erotemic/orgs","repos_url":"https://api.github.com/users/Erotemic/repos","events_url":"https://api.github.com/users/Erotemic/events{/privacy}","received_events_url":"https://api.github.com/users/Erotemic/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/1164195904","html_url":"https://github.com/msamogh/nonechucks/issues/13#issuecomment-1164195904","issue_url":"https://api.github.com/repos/msamogh/nonechucks/issues/13","id":1164195904,"node_id":"IC_kwDOCQqrZ85FZDhA","user":{"login":"enric1994","id":17545224,"node_id":"MDQ6VXNlcjE3NTQ1MjI0","avatar_url":"https://avatars.githubusercontent.com/u/17545224?v=4","gravatar_id":"","url":"https://api.github.com/users/enric1994","html_url":"https://github.com/enric1994","followers_url":"https://api.github.com/users/enric1994/followers","following_url":"https://api.github.com/users/enric1994/following{/other_user}","gists_url":"https://api.github.com/users/enric1994/gists{/gist_id}","starred_url":"https://api.github.com/users/enric1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enric1994/subscriptions","organizations_url":"https://api.github.com/users/enric1994/orgs","repos_url":"https://api.github.com/users/enric1994/repos","events_url":"https://api.github.com/users/enric1994/events{/privacy}","received_events_url":"https://api.github.com/users/enric1994/received_events","type":"User","site_admin":false},"created_at":"2022-06-23T09:50:27Z","updated_at":"2022-06-23T09:50:27Z","author_association":"NONE","body":"Face the same issue. Any workarounds?","reactions":{"url":"https://api.github.com/repos/msamogh/nonechucks/issues/comments/1164195904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enric1994","id":17545224,"node_id":"MDQ6VXNlcjE3NTQ1MjI0","avatar_url":"https://avatars.githubusercontent.com/u/17545224?v=4","gravatar_id":"","url":"https://api.github.com/users/enric1994","html_url":"https://github.com/enric1994","followers_url":"https://api.github.com/users/enric1994/followers","following_url":"https://api.github.com/users/enric1994/following{/other_user}","gists_url":"https://api.github.com/users/enric1994/gists{/gist_id}","starred_url":"https://api.github.com/users/enric1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enric1994/subscriptions","organizations_url":"https://api.github.com/users/enric1994/orgs","repos_url":"https://api.github.com/users/enric1994/repos","events_url":"https://api.github.com/users/enric1994/events{/privacy}","received_events_url":"https://api.github.com/users/enric1994/received_events","type":"User","site_admin":false}}]