{"url":"https://api.github.com/repos/MillionIntegrals/vel/issues/45","repository_url":"https://api.github.com/repos/MillionIntegrals/vel","labels_url":"https://api.github.com/repos/MillionIntegrals/vel/issues/45/labels{/name}","comments_url":"https://api.github.com/repos/MillionIntegrals/vel/issues/45/comments","events_url":"https://api.github.com/repos/MillionIntegrals/vel/issues/45/events","html_url":"https://github.com/MillionIntegrals/vel/issues/45","id":436208481,"node_id":"MDU6SXNzdWU0MzYyMDg0ODE=","number":45,"title":"Compatibility of DQN and parallel environments","user":{"login":"maxwab","id":9530743,"node_id":"MDQ6VXNlcjk1MzA3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/9530743?v=4","gravatar_id":"","url":"https://api.github.com/users/maxwab","html_url":"https://github.com/maxwab","followers_url":"https://api.github.com/users/maxwab/followers","following_url":"https://api.github.com/users/maxwab/following{/other_user}","gists_url":"https://api.github.com/users/maxwab/gists{/gist_id}","starred_url":"https://api.github.com/users/maxwab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxwab/subscriptions","organizations_url":"https://api.github.com/users/maxwab/orgs","repos_url":"https://api.github.com/users/maxwab/repos","events_url":"https://api.github.com/users/maxwab/events{/privacy}","received_events_url":"https://api.github.com/users/maxwab/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"MillionIntegrals","id":2262651,"node_id":"MDQ6VXNlcjIyNjI2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/2262651?v=4","gravatar_id":"","url":"https://api.github.com/users/MillionIntegrals","html_url":"https://github.com/MillionIntegrals","followers_url":"https://api.github.com/users/MillionIntegrals/followers","following_url":"https://api.github.com/users/MillionIntegrals/following{/other_user}","gists_url":"https://api.github.com/users/MillionIntegrals/gists{/gist_id}","starred_url":"https://api.github.com/users/MillionIntegrals/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MillionIntegrals/subscriptions","organizations_url":"https://api.github.com/users/MillionIntegrals/orgs","repos_url":"https://api.github.com/users/MillionIntegrals/repos","events_url":"https://api.github.com/users/MillionIntegrals/events{/privacy}","received_events_url":"https://api.github.com/users/MillionIntegrals/received_events","type":"User","site_admin":false},"assignees":[{"login":"MillionIntegrals","id":2262651,"node_id":"MDQ6VXNlcjIyNjI2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/2262651?v=4","gravatar_id":"","url":"https://api.github.com/users/MillionIntegrals","html_url":"https://github.com/MillionIntegrals","followers_url":"https://api.github.com/users/MillionIntegrals/followers","following_url":"https://api.github.com/users/MillionIntegrals/following{/other_user}","gists_url":"https://api.github.com/users/MillionIntegrals/gists{/gist_id}","starred_url":"https://api.github.com/users/MillionIntegrals/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MillionIntegrals/subscriptions","organizations_url":"https://api.github.com/users/MillionIntegrals/orgs","repos_url":"https://api.github.com/users/MillionIntegrals/repos","events_url":"https://api.github.com/users/MillionIntegrals/events{/privacy}","received_events_url":"https://api.github.com/users/MillionIntegrals/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2019-04-23T14:07:32Z","updated_at":"2019-09-25T22:01:14Z","closed_at":"2019-09-25T22:01:14Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nI have been trying to train a DQN on breakout using the example config proposed, but by using several environments instead of just 1 to speed up training (which I understood is possible since version 0.3, according to comments in issue #28 ).\r\nI modified the `breakout_ddqn.yaml` configuration file by using the `vel.rl.vecenv.shared_mem` vec_env and set the parameter `parallel_envs`  of reinforcer to 4, 8 and 12 (file attached).\r\n\r\n[breakout_ddqn_parallel.yaml.txt](https://github.com/MillionIntegrals/vel/files/3107903/breakout_ddqn_parallel.yaml.txt)\r\n\r\nOnce launched, the code indeed seems to create several environments (according to the processes created in htop).\r\nMoreover, the number of frames at each epoch grows linearly with the number of parallel envs, as expected.\r\nHowever, the DQN does not train faster: for instance, with the 12 parallel envs, the DQN has an average episode reward of ~1-2 after\r\n ~9M frames.\r\n\r\nThis makes me think that the number of frames displayed does not correspond to the number of frames actually seen.\r\n\r\nI might have been doing something wrong, in that case I would be very grateful for any advice!\r\n\r\nApart from that, thanks a lot for making this very nice repository public, I look forward to see its further developments.\r\n\r\nThanks in advance for your help!\r\n\r\nMaxime","closed_by":{"login":"MillionIntegrals","id":2262651,"node_id":"MDQ6VXNlcjIyNjI2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/2262651?v=4","gravatar_id":"","url":"https://api.github.com/users/MillionIntegrals","html_url":"https://github.com/MillionIntegrals","followers_url":"https://api.github.com/users/MillionIntegrals/followers","following_url":"https://api.github.com/users/MillionIntegrals/following{/other_user}","gists_url":"https://api.github.com/users/MillionIntegrals/gists{/gist_id}","starred_url":"https://api.github.com/users/MillionIntegrals/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MillionIntegrals/subscriptions","organizations_url":"https://api.github.com/users/MillionIntegrals/orgs","repos_url":"https://api.github.com/users/MillionIntegrals/repos","events_url":"https://api.github.com/users/MillionIntegrals/events{/privacy}","received_events_url":"https://api.github.com/users/MillionIntegrals/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/MillionIntegrals/vel/issues/45/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/MillionIntegrals/vel/issues/45/timeline","performed_via_github_app":null,"state_reason":"completed"}