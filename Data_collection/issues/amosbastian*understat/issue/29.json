{"url":"https://api.github.com/repos/amosbastian/understat/issues/29","repository_url":"https://api.github.com/repos/amosbastian/understat","labels_url":"https://api.github.com/repos/amosbastian/understat/issues/29/labels{/name}","comments_url":"https://api.github.com/repos/amosbastian/understat/issues/29/comments","events_url":"https://api.github.com/repos/amosbastian/understat/issues/29/events","html_url":"https://github.com/amosbastian/understat/issues/29","id":1520680542,"node_id":"I_kwDOCmGvuc5ao75e","number":29,"title":"'NoneType' object has no attribute 'group'","user":{"login":"BeatTheBookie","id":29930054,"node_id":"MDQ6VXNlcjI5OTMwMDU0","avatar_url":"https://avatars.githubusercontent.com/u/29930054?v=4","gravatar_id":"","url":"https://api.github.com/users/BeatTheBookie","html_url":"https://github.com/BeatTheBookie","followers_url":"https://api.github.com/users/BeatTheBookie/followers","following_url":"https://api.github.com/users/BeatTheBookie/following{/other_user}","gists_url":"https://api.github.com/users/BeatTheBookie/gists{/gist_id}","starred_url":"https://api.github.com/users/BeatTheBookie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BeatTheBookie/subscriptions","organizations_url":"https://api.github.com/users/BeatTheBookie/orgs","repos_url":"https://api.github.com/users/BeatTheBookie/repos","events_url":"https://api.github.com/users/BeatTheBookie/events{/privacy}","received_events_url":"https://api.github.com/users/BeatTheBookie/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-01-05T12:37:32Z","updated_at":"2023-01-06T07:46:11Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Since today or yesterday it's no longer possible to get data from understat.com.\r\nThe package throws NoneType errors. For me it looks like the website changed the structure a bit and\r\nthe scraping is no longer working.\r\n\r\nHere's the code example I used with Juypter notebooks:\r\n\r\n\r\nimport asyncio\r\nimport json\r\nimport pandas as pd\r\nimport aiohttp\r\n\r\nfrom understat import Understat\r\n \r\nlst_leagues = [\r\n                \"bundesliga\"\r\n                ,\"la_liga\"\r\n                ,\"serie_a\"\r\n                ,\"ligue_1\"\r\n                ,\"rfpl\"\r\n                ,\"EPL\"\r\n                ]\r\n\r\n\r\nlst_seasons = [\r\n            {\"param_season\" : \"2020\", \"directory_season\" : \"2020_21\"}\r\n            ]\r\n\r\n\r\nasync def load_fixtures(league, season):\r\n    async with aiohttp.ClientSession() as session:\r\n        \r\n        understat = Understat(session)\r\n\r\n        fixtures = await understat.get_league_results(\r\n                    league,\r\n                    season[\"param_season\"]\r\n                )\r\n        \r\n        df_fixtures = pd.DataFrame(fixtures)\r\n        \r\n        await session.close()\r\n        \r\n        return df_fixtures\r\n        \r\n\r\nfor league in lst_leagues:\r\n    \r\n    for season in lst_seasons:\r\n        \r\n        df_fixtures = await load_fixtures(league, season)\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/amosbastian/understat/issues/29/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/amosbastian/understat/issues/29/timeline","performed_via_github_app":null,"state_reason":null}