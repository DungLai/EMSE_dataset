{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/23","repository_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint","labels_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/23/labels{/name}","comments_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/23/comments","events_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/23/events","html_url":"https://github.com/megvii-research/ICCV2019-LearningToPaint/issues/23","id":494947038,"node_id":"MDU6SXNzdWU0OTQ5NDcwMzg=","number":23,"title":"Run out of memory","user":{"login":"tjhd408","id":9100374,"node_id":"MDQ6VXNlcjkxMDAzNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9100374?v=4","gravatar_id":"","url":"https://api.github.com/users/tjhd408","html_url":"https://github.com/tjhd408","followers_url":"https://api.github.com/users/tjhd408/followers","following_url":"https://api.github.com/users/tjhd408/following{/other_user}","gists_url":"https://api.github.com/users/tjhd408/gists{/gist_id}","starred_url":"https://api.github.com/users/tjhd408/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tjhd408/subscriptions","organizations_url":"https://api.github.com/users/tjhd408/orgs","repos_url":"https://api.github.com/users/tjhd408/repos","events_url":"https://api.github.com/users/tjhd408/events{/privacy}","received_events_url":"https://api.github.com/users/tjhd408/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-09-18T02:15:55Z","updated_at":"2019-09-26T06:20:07Z","closed_at":"2019-09-26T06:20:07Z","author_association":"NONE","active_lock_reason":null,"body":"When I ran train. py with a GPU. It seems that  RAM has run out. My computer has 46G of RAM, including 30G virtual memory.\r\n```\r\n$ python3 baseline/train.py --max_step=200 --debug --batch_size=96\r\nmkdir: cannot create directory â€˜./modelâ€™: File exists\r\nloaded 10000 images\r\nloaded 20000 images\r\nloaded 30000 images\r\nloaded 40000 images\r\nloaded 50000 images\r\nloaded 60000 images\r\nloaded 70000 images\r\nloaded 80000 images\r\nloaded 90000 images\r\nloaded 100000 images\r\nloaded 110000 images\r\nloaded 120000 images\r\nloaded 130000 images\r\nloaded 140000 images\r\nloaded 150000 images\r\nloaded 160000 images\r\nloaded 170000 images\r\nloaded 180000 images\r\nloaded 190000 images\r\nloaded 200000 images\r\nfinish loading data, 197999 training images, 2001 testing images\r\nobservation_space (96, 128, 128, 7) action_space 13\r\n/home/rody/xu/npaint/LearningToPaint/baseline/DRL/ddpg.py:157: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).\r\n  s0 =torch.tensor(self.state, device='cpu')\r\n/home/rody/xu/npaint/LearningToPaint/baseline/DRL/ddpg.py:163: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).\r\n  s1 =torch.tensor(state, device='cpu')\r\n #0: steps:200 interval_time:9.08 train_time:0.00\r\n #1: steps:400 interval_time:22.40 train_time:0.00\r\n #2: steps:600 interval_time:19.66 train_time:6.90\r\n #3: steps:800 interval_time:20.01 train_time:5.28\r\n #4: steps:1000 interval_time:20.89 train_time:6.01\r\n #5: steps:1200 interval_time:20.52 train_time:6.34\r\n #6: steps:1400 interval_time:18.20 train_time:7.01\r\nKilled\r\n```\r\nHere's the memory footprint\r\n```\r\n              total        used        free      shared  buff/cache   available\r\nMem:          15892       15627         139          11         125          81\r\nSwap:         30273       30273           0\r\n```\r\n","closed_by":{"login":"hzwer","id":10103856,"node_id":"MDQ6VXNlcjEwMTAzODU2","avatar_url":"https://avatars.githubusercontent.com/u/10103856?v=4","gravatar_id":"","url":"https://api.github.com/users/hzwer","html_url":"https://github.com/hzwer","followers_url":"https://api.github.com/users/hzwer/followers","following_url":"https://api.github.com/users/hzwer/following{/other_user}","gists_url":"https://api.github.com/users/hzwer/gists{/gist_id}","starred_url":"https://api.github.com/users/hzwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzwer/subscriptions","organizations_url":"https://api.github.com/users/hzwer/orgs","repos_url":"https://api.github.com/users/hzwer/repos","events_url":"https://api.github.com/users/hzwer/events{/privacy}","received_events_url":"https://api.github.com/users/hzwer/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/23/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/23/timeline","performed_via_github_app":null,"state_reason":"completed"}