[{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802529435","html_url":"https://github.com/megvii-research/ICCV2019-LearningToPaint/issues/49#issuecomment-802529435","issue_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/49","id":802529435,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjUyOTQzNQ==","user":{"login":"hzwer","id":10103856,"node_id":"MDQ6VXNlcjEwMTAzODU2","avatar_url":"https://avatars.githubusercontent.com/u/10103856?v=4","gravatar_id":"","url":"https://api.github.com/users/hzwer","html_url":"https://github.com/hzwer","followers_url":"https://api.github.com/users/hzwer/followers","following_url":"https://api.github.com/users/hzwer/following{/other_user}","gists_url":"https://api.github.com/users/hzwer/gists{/gist_id}","starred_url":"https://api.github.com/users/hzwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzwer/subscriptions","organizations_url":"https://api.github.com/users/hzwer/orgs","repos_url":"https://api.github.com/users/hzwer/repos","events_url":"https://api.github.com/users/hzwer/events{/privacy}","received_events_url":"https://api.github.com/users/hzwer/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T03:48:32Z","updated_at":"2021-03-19T03:48:32Z","author_association":"COLLABORATOR","body":"你给的第二个式子是对的\r\n在我的实现中，target_q 先乘的 discount，再加上 step_reward，和那个式子是一致的\r\n你可以仔细看看 133 行到 136 行的顺序","reactions":{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802529435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hzwer","id":10103856,"node_id":"MDQ6VXNlcjEwMTAzODU2","avatar_url":"https://avatars.githubusercontent.com/u/10103856?v=4","gravatar_id":"","url":"https://api.github.com/users/hzwer","html_url":"https://github.com/hzwer","followers_url":"https://api.github.com/users/hzwer/followers","following_url":"https://api.github.com/users/hzwer/following{/other_user}","gists_url":"https://api.github.com/users/hzwer/gists{/gist_id}","starred_url":"https://api.github.com/users/hzwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzwer/subscriptions","organizations_url":"https://api.github.com/users/hzwer/orgs","repos_url":"https://api.github.com/users/hzwer/repos","events_url":"https://api.github.com/users/hzwer/events{/privacy}","received_events_url":"https://api.github.com/users/hzwer/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802551823","html_url":"https://github.com/megvii-research/ICCV2019-LearningToPaint/issues/49#issuecomment-802551823","issue_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/49","id":802551823,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjU1MTgyMw==","user":{"login":"fuyunfei","id":9105298,"node_id":"MDQ6VXNlcjkxMDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9105298?v=4","gravatar_id":"","url":"https://api.github.com/users/fuyunfei","html_url":"https://github.com/fuyunfei","followers_url":"https://api.github.com/users/fuyunfei/followers","following_url":"https://api.github.com/users/fuyunfei/following{/other_user}","gists_url":"https://api.github.com/users/fuyunfei/gists{/gist_id}","starred_url":"https://api.github.com/users/fuyunfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuyunfei/subscriptions","organizations_url":"https://api.github.com/users/fuyunfei/orgs","repos_url":"https://api.github.com/users/fuyunfei/repos","events_url":"https://api.github.com/users/fuyunfei/events{/privacy}","received_events_url":"https://api.github.com/users/fuyunfei/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T04:43:36Z","updated_at":"2021-03-19T04:43:36Z","author_association":"NONE","body":"\r\n非常谢谢你的回答，可是这里的target_q  =  (Q + gan_reward) ,  即  \r\n\r\n133行：  target_q =  (self.critic(St+1) + reward(St+1) ) * discount, \r\n135行： cur_q = self.critic(St) + reward(St)\r\n136行：  target_q=  (self.critic(St+1) + reward(St+1) ) * discount  + reward(St),\r\n\r\n所以：  V_loss =  target_q - cur_q =    (self.critic(St+1) + reward(St+1) ) * discount  - self.critic(St) .  \r\n\r\n好像不一致唉，是我哪里理解错了吗 ？  \r\n谢谢~   \r\n\r\n","reactions":{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802551823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fuyunfei","id":9105298,"node_id":"MDQ6VXNlcjkxMDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9105298?v=4","gravatar_id":"","url":"https://api.github.com/users/fuyunfei","html_url":"https://github.com/fuyunfei","followers_url":"https://api.github.com/users/fuyunfei/followers","following_url":"https://api.github.com/users/fuyunfei/following{/other_user}","gists_url":"https://api.github.com/users/fuyunfei/gists{/gist_id}","starred_url":"https://api.github.com/users/fuyunfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuyunfei/subscriptions","organizations_url":"https://api.github.com/users/fuyunfei/orgs","repos_url":"https://api.github.com/users/fuyunfei/repos","events_url":"https://api.github.com/users/fuyunfei/events{/privacy}","received_events_url":"https://api.github.com/users/fuyunfei/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802558284","html_url":"https://github.com/megvii-research/ICCV2019-LearningToPaint/issues/49#issuecomment-802558284","issue_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/49","id":802558284,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjU1ODI4NA==","user":{"login":"hzwer","id":10103856,"node_id":"MDQ6VXNlcjEwMTAzODU2","avatar_url":"https://avatars.githubusercontent.com/u/10103856?v=4","gravatar_id":"","url":"https://api.github.com/users/hzwer","html_url":"https://github.com/hzwer","followers_url":"https://api.github.com/users/hzwer/followers","following_url":"https://api.github.com/users/hzwer/following{/other_user}","gists_url":"https://api.github.com/users/hzwer/gists{/gist_id}","starred_url":"https://api.github.com/users/hzwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzwer/subscriptions","organizations_url":"https://api.github.com/users/hzwer/orgs","repos_url":"https://api.github.com/users/hzwer/repos","events_url":"https://api.github.com/users/hzwer/events{/privacy}","received_events_url":"https://api.github.com/users/hzwer/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T04:59:43Z","updated_at":"2021-03-19T05:06:28Z","author_association":"COLLABORATOR","body":"这个公式是对的，V_loss ～ target_q - cur_q ～ (self.critic(St+1) + reward(St+1) ) * discount - self.critic(St) .\r\n可能是因为我 evaluate 算 Q 函数的时候，把单前步的 reward 分出来了，所以形式上有点奇怪\r\n如果严格按强化学习的公式，gan_reward + critic 应该整体看作一个 Q","reactions":{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802558284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hzwer","id":10103856,"node_id":"MDQ6VXNlcjEwMTAzODU2","avatar_url":"https://avatars.githubusercontent.com/u/10103856?v=4","gravatar_id":"","url":"https://api.github.com/users/hzwer","html_url":"https://github.com/hzwer","followers_url":"https://api.github.com/users/hzwer/followers","following_url":"https://api.github.com/users/hzwer/following{/other_user}","gists_url":"https://api.github.com/users/hzwer/gists{/gist_id}","starred_url":"https://api.github.com/users/hzwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzwer/subscriptions","organizations_url":"https://api.github.com/users/hzwer/orgs","repos_url":"https://api.github.com/users/hzwer/repos","events_url":"https://api.github.com/users/hzwer/events{/privacy}","received_events_url":"https://api.github.com/users/hzwer/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802580670","html_url":"https://github.com/megvii-research/ICCV2019-LearningToPaint/issues/49#issuecomment-802580670","issue_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/49","id":802580670,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjU4MDY3MA==","user":{"login":"hzwer","id":10103856,"node_id":"MDQ6VXNlcjEwMTAzODU2","avatar_url":"https://avatars.githubusercontent.com/u/10103856?v=4","gravatar_id":"","url":"https://api.github.com/users/hzwer","html_url":"https://github.com/hzwer","followers_url":"https://api.github.com/users/hzwer/followers","following_url":"https://api.github.com/users/hzwer/following{/other_user}","gists_url":"https://api.github.com/users/hzwer/gists{/gist_id}","starred_url":"https://api.github.com/users/hzwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzwer/subscriptions","organizations_url":"https://api.github.com/users/hzwer/orgs","repos_url":"https://api.github.com/users/hzwer/repos","events_url":"https://api.github.com/users/hzwer/events{/privacy}","received_events_url":"https://api.github.com/users/hzwer/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T06:02:21Z","updated_at":"2021-03-19T06:02:21Z","author_association":"COLLABORATOR","body":"self.critic(St+1) * discount + reward(St) - self.critic(St)\r\n和 (self.critic(St+1) + reward(St+1) ) * discount - self.critic(St)\r\n在本质上没有任何区别呀 :)\r\ndiscount 加不加在第一个 reward 上，相当于折扣回报系数标号变一下而已","reactions":{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802580670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hzwer","id":10103856,"node_id":"MDQ6VXNlcjEwMTAzODU2","avatar_url":"https://avatars.githubusercontent.com/u/10103856?v=4","gravatar_id":"","url":"https://api.github.com/users/hzwer","html_url":"https://github.com/hzwer","followers_url":"https://api.github.com/users/hzwer/followers","following_url":"https://api.github.com/users/hzwer/following{/other_user}","gists_url":"https://api.github.com/users/hzwer/gists{/gist_id}","starred_url":"https://api.github.com/users/hzwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzwer/subscriptions","organizations_url":"https://api.github.com/users/hzwer/orgs","repos_url":"https://api.github.com/users/hzwer/repos","events_url":"https://api.github.com/users/hzwer/events{/privacy}","received_events_url":"https://api.github.com/users/hzwer/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802612234","html_url":"https://github.com/megvii-research/ICCV2019-LearningToPaint/issues/49#issuecomment-802612234","issue_url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/49","id":802612234,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjYxMjIzNA==","user":{"login":"fuyunfei","id":9105298,"node_id":"MDQ6VXNlcjkxMDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9105298?v=4","gravatar_id":"","url":"https://api.github.com/users/fuyunfei","html_url":"https://github.com/fuyunfei","followers_url":"https://api.github.com/users/fuyunfei/followers","following_url":"https://api.github.com/users/fuyunfei/following{/other_user}","gists_url":"https://api.github.com/users/fuyunfei/gists{/gist_id}","starred_url":"https://api.github.com/users/fuyunfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuyunfei/subscriptions","organizations_url":"https://api.github.com/users/fuyunfei/orgs","repos_url":"https://api.github.com/users/fuyunfei/repos","events_url":"https://api.github.com/users/fuyunfei/events{/privacy}","received_events_url":"https://api.github.com/users/fuyunfei/received_events","type":"User","site_admin":false},"created_at":"2021-03-19T07:19:15Z","updated_at":"2021-03-19T07:19:15Z","author_association":"NONE","body":"got it , 非常感谢！ ","reactions":{"url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/comments/802612234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fuyunfei","id":9105298,"node_id":"MDQ6VXNlcjkxMDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9105298?v=4","gravatar_id":"","url":"https://api.github.com/users/fuyunfei","html_url":"https://github.com/fuyunfei","followers_url":"https://api.github.com/users/fuyunfei/followers","following_url":"https://api.github.com/users/fuyunfei/following{/other_user}","gists_url":"https://api.github.com/users/fuyunfei/gists{/gist_id}","starred_url":"https://api.github.com/users/fuyunfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuyunfei/subscriptions","organizations_url":"https://api.github.com/users/fuyunfei/orgs","repos_url":"https://api.github.com/users/fuyunfei/repos","events_url":"https://api.github.com/users/fuyunfei/events{/privacy}","received_events_url":"https://api.github.com/users/fuyunfei/received_events","type":"User","site_admin":false}},{"id":4480485421,"node_id":"MDExOkNsb3NlZEV2ZW50NDQ4MDQ4NTQyMQ==","url":"https://api.github.com/repos/megvii-research/ICCV2019-LearningToPaint/issues/events/4480485421","actor":{"login":"fuyunfei","id":9105298,"node_id":"MDQ6VXNlcjkxMDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9105298?v=4","gravatar_id":"","url":"https://api.github.com/users/fuyunfei","html_url":"https://github.com/fuyunfei","followers_url":"https://api.github.com/users/fuyunfei/followers","following_url":"https://api.github.com/users/fuyunfei/following{/other_user}","gists_url":"https://api.github.com/users/fuyunfei/gists{/gist_id}","starred_url":"https://api.github.com/users/fuyunfei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuyunfei/subscriptions","organizations_url":"https://api.github.com/users/fuyunfei/orgs","repos_url":"https://api.github.com/users/fuyunfei/repos","events_url":"https://api.github.com/users/fuyunfei/events{/privacy}","received_events_url":"https://api.github.com/users/fuyunfei/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-03-19T07:19:19Z","state_reason":null,"performed_via_github_app":null}]