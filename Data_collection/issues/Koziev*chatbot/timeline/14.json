[{"id":2335236346,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIzMzUyMzYzNDY=","url":"https://api.github.com/repos/Koziev/chatbot/issues/events/2335236346","actor":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"86af4bf0f4e21a8c75eff5473c227a72590204f6","commit_url":"https://api.github.com/repos/Koziev/chatbot/commits/86af4bf0f4e21a8c75eff5473c227a72590204f6","created_at":"2019-05-12T12:46:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491592812","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-491592812","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":491592812,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU5MjgxMg==","user":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false},"created_at":"2019-05-12T12:48:41Z","updated_at":"2019-05-12T12:48:41Z","author_association":"OWNER","body":"Спасибо за замечание, поправил исходник flask_service_bot.py\r\nК сожалению, у меня flask-сервис нормально не хочет работает, падает при использовании нейросетевых моделей со странными ошибками в tensorflow, поэтому более тщательно работоспособность проверить не могу.","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491592812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491593522","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-491593522","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":491593522,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU5MzUyMg==","user":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"created_at":"2019-05-12T12:58:23Z","updated_at":"2019-05-12T12:58:23Z","author_association":"NONE","body":"Ошибки как у меня или другие?","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491593522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491593930","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-491593930","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":491593930,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU5MzkzMA==","user":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false},"created_at":"2019-05-12T13:02:52Z","updated_at":"2019-05-12T13:02:52Z","author_association":"OWNER","body":"> Ошибки как у меня или другие?\r\nДругая ошибка, в одной из нейросетевых моделей:\r\n\r\n`ValueError: Tensor Tensor(\"output_2/Sigmoid:0\", shape=(?, 1), dtype=float32) is not an element of this graph.\r\n`\r\nПричем эта же модель в этом же коде в консольной сервии бота работает без ошибок. Пока даже не знаю, куда копнуть.","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491593930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491600741","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-491600741","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":491600741,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTYwMDc0MQ==","user":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"created_at":"2019-05-12T14:30:11Z","updated_at":"2019-05-12T14:30:11Z","author_association":"NONE","body":"Другая, но похожая ошибка\r\nвот 2 решения:\r\nhttps://kobkrit.com/tensor-something-is-not-an-element-of-this-graph-error-in-keras-on-flask-web-server-4173a8fe15e1\r\nhttps://github.com/tensorflow/tensorflow/issues/14356\r\nу меня оба не срабатывает, наверное не туда код добавляю\r\nПробовал:\r\n```\r\n\r\n        with graph.as_default():\r\n            machine.load_models(data_folder, models_folder, w2v_folder)\r\n```\r\n\r\nи перед init_chatbot() пробовал\r\n\r\nПохоже нужно прямо перед предсказанием вставлять","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491600741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false}},{"id":2336093026,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIzMzYwOTMwMjY=","url":"https://api.github.com/repos/Koziev/chatbot/issues/events/2336093026","actor":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"e602982f7da2bc9447c4d8869a03ff8f1666b5c7","commit_url":"https://api.github.com/repos/Koziev/chatbot/commits/e602982f7da2bc9447c4d8869a03ff8f1666b5c7","created_at":"2019-05-13T08:08:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491720532","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-491720532","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":491720532,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTcyMDUzMg==","user":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T08:11:06Z","updated_at":"2019-05-13T08:11:06Z","author_association":"OWNER","body":"> Похоже нужно прямо перед предсказанием вставлять\r\nАга, спасибо за рецепт, помогло. Я добавил перед вызовом predict для трех моделей - заработало! Костыль, конечно, код чатбота теперь прибит гвоздиками к tf бэкенду.\r\n\r\n![Снимок экрана от 2019-05-13 11-03-38](https://user-images.githubusercontent.com/5499222/57605551-97cb1800-756f-11e9-9297-02fb81e5df01.png)\r\n\r\nИзменения в трех исходниках закомитил.\r\n","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491720532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491782597","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-491782597","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":491782597,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTc4MjU5Nw==","user":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T11:21:46Z","updated_at":"2019-05-13T11:21:46Z","author_association":"NONE","body":"Еще ошибка: https://github.com/Koziev/chatbot/blob/master/PyModels/bot_service/routes.py\r\n`from bot_service.dialog_phrase import DialogPhrase`","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491782597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491783332","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-491783332","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":491783332,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTc4MzMzMg==","user":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T11:24:26Z","updated_at":"2019-05-13T11:24:26Z","author_association":"NONE","body":"Есть еще вопрос, а как реализуется сессионность? Ведь регистрации юзера нет, куки не отправляются, откуда модель знает, какой юзер с ней разговаривает? При том, что есть запоминание ответа юзера, как происходит выбор какому юзеру будет ответ из базы, по IP?\r\n\r\nУспешно ли работает бот на Gunicorn?","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/491783332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/492263332","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-492263332","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":492263332,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjI2MzMzMg==","user":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false},"created_at":"2019-05-14T14:32:59Z","updated_at":"2019-05-14T14:32:59Z","author_association":"NONE","body":"У меня еще ошибка при работе именно через Flask, в консоли бот работает.\r\n\r\n`tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR`\r\n\r\nОшибка эта после гугления привела к https://github.com/tensorflow/tensorflow/issues/24828 , где большое обсуждение и есть несколько решений. \r\nВ частности, предлагают такое: https://github.com/tensorflow/tensorflow/issues/24828#issuecomment-464960819\r\n\r\n```\r\nconfig = tf.ConfigProto()\r\nconfig.gpu_options.allow_growth = True\r\nsess = tf.Session(config=config)\r\n```\r\nНо не очень понятно, как это применить к вашему коду?\r\n\r\nПолный трейс ошибки:\r\n\r\n`2019-05-14 17:18:51,936 Loading greetings from ../data/smalltalk_opening.txt\r\n2019-05-14 17:18:51,947 127.0.0.1 - - [14/May/2019 17:18:51] \"GET /index HTTP/1.1\" 200 -\r\n2019-05-14 17:18:52,074 127.0.0.1 - - [14/May/2019 17:18:52] \"GET /static/img/bot.png HTTP/1.1\" 200 -\r\n2019-05-14 17:18:56,078 BotScripting::start_conversation\r\n2019-05-14 17:18:56,078 Loading greetings from ../data/smalltalk_opening.txt\r\n2019-05-14 17:18:56,079 127.0.0.1 - - [14/May/2019 17:18:56] \"GET /index HTTP/1.1\" 200 -\r\n2019-05-14 17:19:01.124269: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.126152: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.128045: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.129727: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.130586: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.131384: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.132288: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.133141: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.134008: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.134842: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.135697: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.136507: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.137421: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.138223: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.139055: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.139854: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.140687: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.141516: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.142401: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.143199: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.144030: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.144827: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.145656: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01.146457: E tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2019-05-14 17:19:01,230 127.0.0.1 - - [14/May/2019 17:19:01] \"POST /index HTTP/1.1\" 500 -\r\nTraceback (most recent call last):\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 2309, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 2295, in wsgi_app\r\n    response = self.handle_exception(e)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1741, in handle_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/_compat.py\", line 35, in reraise\r\n    raise value\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 2292, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1815, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1718, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/_compat.py\", line 35, in reraise\r\n    raise value\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1813, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1799, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot_service/routes.py\", line 60, in index\r\n    bot.push_phrase(user_id, utterance)\r\n  File \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/bot_personality.py\", line 42, in push_phrase\r\n    self.engine.push_phrase(self, user_id, question)\r\n  File \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/simple_answering_machine.py\", line 417, in push_phrase\r\n    answers = self.build_answers(bot, interlocutor, interpreted_phrase)\r\n  File \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/simple_answering_machine.py\", line 538, in build_answers\r\n    answers, answer_confidenses = self.build_answers0(bot, interlocutor, interpreted_phrase)\r\n  File \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/simple_answering_machine.py\", line 464, in build_answers0\r\n    word_embeddings=self.word_embeddings)\r\n  File \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/nn_enough_premises_model.py\", line 91, in is_enough\r\n    y = self.model.predict(x=self.inputs)[0]\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/keras/engine/training.py\", line 1169, in predict\r\n    steps=steps)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/keras/engine/training_arrays.py\", line 294, in predict_loop\r\n    batch_outs = f(ins_batch)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 2715, in __call__\r\n    return self._call(inputs)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 2675, in _call\r\n    fetched = self._callable_fn(*array_vals)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1439, in __call__\r\n    run_metadata_ptr)\r\n  File \"/home/joo/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 528, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.UnknownError: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above.\r\n\t [[{{node shared_conv_1_4/convolution/Conv2D}} = Conv2D[T=DT_FLOAT, data_format=\"NCHW\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](shared_conv_1_4/convolution/Conv2D-0-TransposeNHWCToNCHW-LayoutOptimizer, shared_conv_1_4/convolution/ExpandDims_1)]]\r\n\t [[{{node output_2/Sigmoid/_759}} = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_2481_output_2/Sigmoid\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\n2019-05-14 17:19:01,331 127.0.0.1 - - [14/May/2019 17:19:01] \"GET /index?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\" 200 -\r\n`","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/492263332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GraphGrailAi","id":4690353,"node_id":"MDQ6VXNlcjQ2OTAzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/4690353?v=4","gravatar_id":"","url":"https://api.github.com/users/GraphGrailAi","html_url":"https://github.com/GraphGrailAi","followers_url":"https://api.github.com/users/GraphGrailAi/followers","following_url":"https://api.github.com/users/GraphGrailAi/following{/other_user}","gists_url":"https://api.github.com/users/GraphGrailAi/gists{/gist_id}","starred_url":"https://api.github.com/users/GraphGrailAi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GraphGrailAi/subscriptions","organizations_url":"https://api.github.com/users/GraphGrailAi/orgs","repos_url":"https://api.github.com/users/GraphGrailAi/repos","events_url":"https://api.github.com/users/GraphGrailAi/events{/privacy}","received_events_url":"https://api.github.com/users/GraphGrailAi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/492506781","html_url":"https://github.com/Koziev/chatbot/issues/14#issuecomment-492506781","issue_url":"https://api.github.com/repos/Koziev/chatbot/issues/14","id":492506781,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjUwNjc4MQ==","user":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false},"created_at":"2019-05-15T05:16:40Z","updated_at":"2019-05-15T05:16:40Z","author_association":"OWNER","body":">\n> У меня еще ошибка при работе именно через Flask, в консоли бот работает.\n>\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR\n>\n>\n> Похоже что flask+tensorflow перестало быть простым способом :( Тоже сейчас\nне знаю, как заюзать workaround, тем более что у меня такого еще не было.\n\nЕсть еще вопрос, а как реализуется сессионность? Ведь регистрации юзера\n> нет, куки не отправляются, откуда модель знает, какой юзер с ней\n> разговаривает? При том, что есть запоминание ответа юзера, как происходит\n> выбор какому юзеру будет ответ из базы, по IP?\n>\nЧестно говоря, никак не реализовано. То, что есть в\nhttps://github.com/Koziev/chatbot/blob/master/PyModels/flask_service_bot.py,\nэто просто черновик. id юзера хардкодом вбито в строке 18 в\nhttps://github.com/Koziev/chatbot/blob/master/PyModels/bot_service/routes.py.\nЯ планировал вообще сделать нормальный фронт на ангуляре, с регистрацией и\nхранением истории сессий в sqlite или postgre, но пока руки не дошли.\n\nУспешно ли работает бот на Gunicorn?\n>\nНе помню, запускал ли сервис под gunicorn, но в коде оставил кусочек на\nэтот случай. Хотя в свете последней серии ошибок с tf как-то мутно выглядит\nперспектива сервиса бота на flask.\n\n\n\nOn Tue, May 14, 2019 at 5:33 PM BitcoinKing <notifications@github.com>\nwrote:\n\n> У меня еще ошибка при работе именно через Flask, в консоли бот работает.\n>\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR\n>\n> Ошибка эта после гугления привела к tensorflow/tensorflow#24828\n> <https://github.com/tensorflow/tensorflow/issues/24828> , где большое\n> обсуждение и есть несколько решений.\n> В частности, предлагают такое: tensorflow/tensorflow#24828 (comment)\n> <https://github.com/tensorflow/tensorflow/issues/24828#issuecomment-464960819>\n>\n> config = tf.ConfigProto()\n>\n> config.gpu_options.allow_growth = True\n>\n> sess = tf.Session(config=config)\n>\n>\n> Но не очень понятно, как это применить к вашему коду?\n>\n> Полный трейс ошибки:\n>\n> 2019-05-14 17:18:51,936 Loading greetings from\n> ../data/smalltalk_opening.txt 2019-05-14 17:18:51,947 127.0.0.1 - -\n> [14/May/2019 17:18:51] \"GET /index HTTP/1.1\" 200 - 2019-05-14 17:18:52,074\n> 127.0.0.1 - - [14/May/2019 17:18:52] \"GET /static/img/bot.png HTTP/1.1\" 200\n> - 2019-05-14 17:18:56,078 BotScripting::start_conversation 2019-05-14\n> 17:18:56,078 Loading greetings from ../data/smalltalk_opening.txt\n> 2019-05-14 17:18:56,079 127.0.0.1 - - [14/May/2019 17:18:56] \"GET /index\n> HTTP/1.1\" 200 - 2019-05-14 17:19:01.124269: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.126152: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.128045: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.129727: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.130586: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.131384: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.132288: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.133141: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.134008: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.134842: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.135697: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.136507: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.137421: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.138223: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.139055: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.139854: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.140687: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.141516: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.142401: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.143199: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.144030: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.144827: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.145656: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01.146457: E\n> tensorflow/stream_executor/cuda/cuda_dnn.cc:373] Could not create cudnn\n> handle: CUDNN_STATUS_INTERNAL_ERROR 2019-05-14 17:19:01,230 127.0.0.1 - -\n> [14/May/2019 17:19:01] \"POST /index HTTP/1.1\" 500 - Traceback (most recent\n> call last): File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 2309,\n> in __call__ return self.wsgi_app(environ, start_response) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 2295,\n> in wsgi_app response = self.handle_exception(e) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1741,\n> in handle_exception reraise(exc_type, exc_value, tb) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/_compat.py\", line\n> 35, in reraise raise value File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 2292,\n> in wsgi_app response = self.full_dispatch_request() File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1815,\n> in full_dispatch_request rv = self.handle_user_exception(e) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1718,\n> in handle_user_exception reraise(exc_type, exc_value, tb) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/_compat.py\", line\n> 35, in reraise raise value File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1813,\n> in full_dispatch_request rv = self.dispatch_request() File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/flask/app.py\", line 1799,\n> in dispatch_request return\n> self.view_functions[rule.endpoint](**req.view_args) File\n> \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot_service/routes.py\",\n> line 60, in index bot.push_phrase(user_id, utterance) File\n> \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/bot_personality.py\",\n> line 42, in push_phrase self.engine.push_phrase(self, user_id, question)\n> File\n> \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/simple_answering_machine.py\",\n> line 417, in push_phrase answers = self.build_answers(bot, interlocutor,\n> interpreted_phrase) File\n> \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/simple_answering_machine.py\",\n> line 538, in build_answers answers, answer_confidenses =\n> self.build_answers0(bot, interlocutor, interpreted_phrase) File\n> \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/simple_answering_machine.py\",\n> line 464, in build_answers0 word_embeddings=self.word_embeddings) File\n> \"/home/joo/Документы/LocalRepository/chatbot-koziev-master/PyModels/bot/nn_enough_premises_model.py\",\n> line 91, in is_enough y = self.model.predict(x=self.inputs)[0] File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/keras/engine/training.py\",\n> line 1169, in predict steps=steps) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/keras/engine/training_arrays.py\",\n> line 294, in predict_loop batch_outs = f(ins_batch) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\",\n> line 2715, in __call__ return self._call(inputs) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\",\n> line 2675, in _call fetched = self._callable_fn(*array_vals) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\",\n> line 1439, in __call__ run_metadata_ptr) File\n> \"/home/joo/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\",\n> line 528, in __exit__ c_api.TF_GetCode(self.status.status))\n> tensorflow.python.framework.errors_impl.UnknownError: Failed to get\n> convolution algorithm. This is probably because cuDNN failed to initialize,\n> so try looking to see if a warning log message was printed above. [[{{node\n> shared_conv_1_4/convolution/Conv2D}} = Conv2D[T=DT_FLOAT,\n> data_format=\"NCHW\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 1,\n> 1, 1], use_cudnn_on_gpu=true,\n> _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](shared_conv_1_4/convolution/Conv2D-0-TransposeNHWCToNCHW-LayoutOptimizer,\n> shared_conv_1_4/convolution/ExpandDims_1)]] [[{{node\n> output_2/Sigmoid/_759}} = _Recv[client_terminated=false,\n> recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\",\n> send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\",\n> send_device_incarnation=1, tensor_name=\"edge_2481_output_2/Sigmoid\",\n> tensor_type=DT_FLOAT,\n> _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]] 2019-05-14\n> 17:19:01,331 127.0.0.1 - - [14/May/2019 17:19:01] \"GET\n> /index?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\" 200 -\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/Koziev/chatbot/issues/14?email_source=notifications&email_token=ABJ6SVWGDZVUL252422E7RLPVLERXA5CNFSM4HMGHUDKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODVLVPJA#issuecomment-492263332>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABJ6SVUAUKYLUCGYL4XWYZLPVLERXANCNFSM4HMGHUDA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/Koziev/chatbot/issues/comments/492506781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Koziev","id":5499222,"node_id":"MDQ6VXNlcjU0OTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/5499222?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziev","html_url":"https://github.com/Koziev","followers_url":"https://api.github.com/users/Koziev/followers","following_url":"https://api.github.com/users/Koziev/following{/other_user}","gists_url":"https://api.github.com/users/Koziev/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziev/subscriptions","organizations_url":"https://api.github.com/users/Koziev/orgs","repos_url":"https://api.github.com/users/Koziev/repos","events_url":"https://api.github.com/users/Koziev/events{/privacy}","received_events_url":"https://api.github.com/users/Koziev/received_events","type":"User","site_admin":false}}]