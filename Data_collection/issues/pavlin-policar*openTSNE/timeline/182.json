[{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/835831590","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-835831590","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":835831590,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNTgzMTU5MA==","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2021-05-09T15:45:29Z","updated_at":"2021-05-09T15:45:29Z","author_association":"OWNER","body":"Thanks for reporting the issue. I think this is definitely something that should work, although technically, it's currently unsupported. Perhaps the latest release broke this behaviour.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/835831590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"id":4711179271,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ3MTExNzkyNzE=","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4711179271","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-05-09T15:45:34Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838079454","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-838079454","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":838079454,"node_id":"MDEyOklzc3VlQ29tbWVudDgzODA3OTQ1NA==","user":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"created_at":"2021-05-11T08:37:48Z","updated_at":"2021-05-11T10:39:39Z","author_association":"NONE","body":"Hi Pavlin,\r\n\r\nThanks, with the newest version 0.6.0 the above example works now. What do you think caused the behaviour?\r\n\r\nUPDATE: The bug is not fixed. I just forgot the comment out the line  \"df  = df.to_numpy()\"...","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838079454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838170235","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-838170235","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":838170235,"node_id":"MDEyOklzc3VlQ29tbWVudDgzODE3MDIzNQ==","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2021-05-11T09:42:41Z","updated_at":"2021-05-11T09:42:41Z","author_association":"OWNER","body":"Oh, so, in the newest release, this works? And it didn't work in earlier versions? If that's the case, we can close this issue, since we (inadvertently) fixed this. I have no idea what caused this issue, but then again, I don't think I've ever used openTSNE with pandas directly. It would be a good idea to add a test for this actually.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838170235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838211376","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-838211376","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":838211376,"node_id":"MDEyOklzc3VlQ29tbWVudDgzODIxMTM3Ng==","user":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"created_at":"2021-05-11T10:13:04Z","updated_at":"2021-05-11T10:13:04Z","author_association":"CONTRIBUTOR","body":"@fsvbach Can you maybe post the exact error you received before? You should see a specific line that used to trigger the error.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838211376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false}},{"id":4725771102,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDcyNTc3MTEwMg==","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4725771102","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-11T10:13:04Z","performed_via_github_app":null},{"id":4725771110,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3MjU3NzExMTA=","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4725771110","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-11T10:13:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838244382","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-838244382","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":838244382,"node_id":"MDEyOklzc3VlQ29tbWVudDgzODI0NDM4Mg==","user":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"created_at":"2021-05-11T10:37:43Z","updated_at":"2021-05-11T10:37:43Z","author_association":"NONE","body":"This is the error message I get:\r\n\r\n>   Traceback (most recent call last):\r\n>   File \"/home/fsvbach/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py\", line 3080, in get_loc\r\n>     return self._engine.get_loc(casted_key)\r\n> \r\n>   File \"pandas/_libs/index.pyx\", line 70, in pandas._libs.index.IndexEngine.get_loc\r\n> \r\n>   File \"pandas/_libs/index.pyx\", line 101, in pandas._libs.index.IndexEngine.get_loc\r\n> \r\n>   File \"pandas/_libs/hashtable_class_helper.pxi\", line 4554, in pandas._libs.hashtable.PyObjectHashTable.get_item\r\n> \r\n>   File \"pandas/_libs/hashtable_class_helper.pxi\", line 4562, in pandas._libs.hashtable.PyObjectHashTable.get_item\r\n> \r\n> KeyError: 0\r\n> \r\n> \r\n> The above exception was the direct cause of the following exception:\r\n> \r\n> Traceback (most recent call last):\r\n> \r\n>   File \"/home/fsvbach/ML MSc/MISC/#Issue 182/minimalexample.py\", line 32, in <module>\r\n>     tsne.fit(df)\r\n> \r\n>   File \"/home/fsvbach/miniconda3/lib/python3.8/site-packages/openTSNE/tsne.py\", line 1219, in fit\r\n>     embedding = self.prepare_initial(X, affinities, initialization)\r\n> \r\n>   File \"/home/fsvbach/miniconda3/lib/python3.8/site-packages/openTSNE/tsne.py\", line 1295, in prepare_initial\r\n>     affinities = PerplexityBasedNN(\r\n> \r\n>   File \"/home/fsvbach/miniconda3/lib/python3.8/site-packages/openTSNE/affinity.py\", line 187, in __init__\r\n>     self.__neighbors, self.__distances = self.knn_index.build()\r\n> \r\n>   File \"/home/fsvbach/miniconda3/lib/python3.8/site-packages/openTSNE/nearest_neighbors.py\", line 279, in build\r\n>     self.index.add_item(i, data[i])\r\n> \r\n>   File \"/home/fsvbach/miniconda3/lib/python3.8/site-packages/pandas/core/frame.py\", line 3024, in __getitem__\r\n>     indexer = self.columns.get_loc(key)\r\n> \r\n>   File \"/home/fsvbach/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py\", line 3082, in get_loc\r\n>     raise KeyError(key) from err\r\n> \r\n> KeyError: 0 ","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838244382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838618604","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-838618604","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":838618604,"node_id":"MDEyOklzc3VlQ29tbWVudDgzODYxODYwNA==","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2021-05-11T14:53:30Z","updated_at":"2021-05-11T14:53:30Z","author_association":"OWNER","body":"Wait, so this works now? I don't think this should be working. I don't remember touching that particular part of the code. It makes sense that it fails, since indexing a pandas dataframe like that will select the column with name 0. A fix would also be fairly trivial -- just use `df.values` instead of `df`.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838618604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838710654","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-838710654","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":838710654,"node_id":"MDEyOklzc3VlQ29tbWVudDgzODcxMDY1NA==","user":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"created_at":"2021-05-11T15:42:11Z","updated_at":"2021-05-11T15:42:11Z","author_association":"NONE","body":"Well, it is not fixed, as I updated in the post above (I had forgotten to comment out df = df.to_numpy() in which case it always had been working).\r\n\r\nWith your proposal df.values() it works as well. But why does it sometimes also work (for small dataframes) _without_ df.values() or df.to_numpy()? \r\n\r\nAnyways, there is no a bug (and wasn't) as long as the column names are integers.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/838710654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/839083019","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-839083019","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":839083019,"node_id":"MDEyOklzc3VlQ29tbWVudDgzOTA4MzAxOQ==","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2021-05-11T19:58:48Z","updated_at":"2021-05-11T19:58:48Z","author_association":"OWNER","body":"> But why does it sometimes also work (for small dataframes) without df.values() or df.to_numpy()?\r\n\r\nBecause for small enough datasets, we use scikit-learn to compute nearest neighbors. Apparently, scikit-learn handles pandas dataframes without problem. For larger data sets, we use Annoy, which doesn't handle pandas.\r\n\r\n> Anyways, there is no a bug (and wasn't) as long as the column names are integers.\r\n\r\nActually, I think this should work incorrectly then. It doesn't crash, but it might be a silent bug. Because if we index a dataframe by columns, that's different from indexing a numpy array by rows. Could you check that the results are actually the same as when calling it with `df.values`?","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/839083019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/1273195229","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-1273195229","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":1273195229,"node_id":"IC_kwDOCCUuTM5L42rd","user":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"created_at":"2022-10-10T11:47:33Z","updated_at":"2022-10-10T11:47:33Z","author_association":"CONTRIBUTOR","body":"@pavlin-policar Based on the discussion above, this is not a bug. Rather, it's a feature request to add Pandas support to openTSNE. I guess this could be done along the lines of \r\n\r\n```\r\nif isinstance(X, pd.DataFrame):\r\n   X = X.values\r\n```\r\n\r\nhowever this will make openTSNE depend on Pandas, which I am not sure you want?\r\n\r\nCan we use a hack like \r\n```\r\nif not isinstance(X, np.ndarray):\r\n   X = X.values\r\n```\r\n\r\ninstead? Not sure what is the best practice.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/1273195229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false}},{"id":7553354148,"node_id":"MEE_lADOCCUuTM40TUkFzwAAAAHCNwmk","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/7553354148","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-10-10T11:47:34Z","performed_via_github_app":null},{"id":7553354156,"node_id":"SE_lADOCCUuTM40TUkFzwAAAAHCNwms","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/7553354156","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-10-10T11:47:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/1303320066","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-1303320066","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":1303320066,"node_id":"IC_kwDOCCUuTM5NrxYC","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2022-11-04T11:52:05Z","updated_at":"2022-11-04T11:52:05Z","author_association":"OWNER","body":"Yes, I don't want to drag pandas into the requirements. After letting this sit for a long time, I don't see a clear solution here. The hack seems brittle, and would fail with a weird error message if I were to pass in a list, for instance. Perhaps the best course of action here would be to add a type check throughout the code to make sure the input is always a type we know how to work with, i.e., a numpy array or a scipy sparse matrix.\r\n\r\nBut adding type checks might be tedious, so I might even be okay leaving things as they are. It's pretty clear from the docstrings and documentation what types of objects we expect, so I think leaving it up to the user to pass in the correct type may be completely fine here as well. I don't feel strongly about this either way.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/1303320066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/1307548483","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-1307548483","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":1307548483,"node_id":"IC_kwDOCCUuTM5N75tD","user":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"created_at":"2022-11-08T17:08:59Z","updated_at":"2022-11-08T17:08:59Z","author_association":"CONTRIBUTOR","body":"I agree -- I am fine with closing this issue.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/1307548483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/1308666309","html_url":"https://github.com/pavlin-policar/openTSNE/issues/182#issuecomment-1308666309","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/182","id":1308666309,"node_id":"IC_kwDOCCUuTM5OAKnF","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2022-11-09T12:16:47Z","updated_at":"2022-11-09T12:16:47Z","author_association":"OWNER","body":"I'm going to close this. I don't think this is an issue that pops up all that often, and since the end-users are, presumably, at least somewhat familiar with Python, I think the docstrings should provide sufficient information on the usage. If this ends up being a problem, we'll add type-checks everywhere.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/1308666309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"id":7772904134,"node_id":"CE_lADOCCUuTM40TUkFzwAAAAHPTRrG","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/7772904134","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-11-09T12:16:47Z","state_reason":null,"performed_via_github_app":null}]