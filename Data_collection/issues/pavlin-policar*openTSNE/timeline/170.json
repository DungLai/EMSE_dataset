[{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820364489","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-820364489","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":820364489,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDM2NDQ4OQ==","user":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"created_at":"2021-04-15T11:54:05Z","updated_at":"2021-04-15T11:54:05Z","author_association":"CONTRIBUTOR","body":"Actually -- it might already work with `metric='precomputed', neighbors='exact'` using sklearn implementation. Have you tried?","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820364489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820374347","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-820374347","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":820374347,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDM3NDM0Nw==","user":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"created_at":"2021-04-15T12:11:43Z","updated_at":"2021-04-15T12:11:43Z","author_association":"NONE","body":"I get the ValueError: `Sklearn` does not support the `precomputed` metric. Please choose one of the supported metrics: braycurtis, canberra, chebyshev, cityblock, dice, euclidean etc.\r\n\r\nif I run\r\n\r\nfrom openTSNE.sklearn import TSNE\r\ntsne=TSNE(metric='precomputed', neighbors='exact')\r\ntsne.fit(M)\r\n\r\nM being a distance matrix.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820374347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820387917","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-820387917","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":820387917,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDM4NzkxNw==","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2021-04-15T12:35:33Z","updated_at":"2021-04-15T12:35:33Z","author_association":"OWNER","body":"Thanks for bringing this up. This feature has been requested multiple times, and I do think it would be nice to have. So, I'll try to implement this soon and get it in the next release.\r\n\r\nI've been thinking about how to structure the API for this. To implement this, we'll have make another affinity class which we'll be able to pass to in the precomputed distances. This is easy. However, I do not like the API we currently have, where we pass in affinity objects to the TSNE constructor. So, what we currently do is\r\n```python\r\naff = Affinity(...)\r\nembedding = TSNE(affinity=aff, ...).fit(x)\r\n```\r\nThe `.fit(x)` bothers me. Currently, we need it because we use it to calculate initialization. But even if we specify the initalization in the constructor, we still need to pass something there. E.g. for a graph with no features, we'd need to do something like\r\n```python\r\naff = Affinity(...)\r\ninit = np.random.random((N, 2))\r\nembedding = TSNE(affinity=aff, init=init, ...).fit(np.ones(N))\r\n```\r\nI do not like this at all, and would like to change it to something like\r\n```python\r\nembedding = TSNE().fit(affinity=aff, init=init)\r\n```\r\nThis would be much cleaner IMO. So `.fit(x)` would change to `.fit(x=None, affinity=None, init=None)`.\r\nThen, the standard t-SNE calls don't change at all. If we want a custom affinity model using PCA init, we could call\r\n```python\r\nembedding = TSNE(init=\"pca\").fit(x=x, affinity=aff)\r\n```\r\nAnd for any arbitrary graphs with no features, we could either 1) specify the `.fit(init=...)` parameter, or 2) calculate the spectral initalization e.g.\r\n```python\r\nembedding = TSNE(init=\"pca\").fit(affinity=aff)\r\n# raises warning \"pca needs `x` to be specified, falling back to spectral init\r\n```\r\n\r\n@dkobak Do you have any thoughts on this?","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820387917/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"id":4599052857,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDU5OTA1Mjg1Nw==","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4599052857","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-15T12:35:33Z","performed_via_github_app":null},{"id":4599052860,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1OTkwNTI4NjA=","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4599052860","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-15T12:35:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820412488","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-820412488","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":820412488,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDQxMjQ4OA==","user":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"created_at":"2021-04-15T13:13:46Z","updated_at":"2021-04-15T13:13:46Z","author_association":"CONTRIBUTOR","body":">  ValueError: Sklearn does not support the precomputed metric.\r\n\r\nBut that's weird -- sklearn does support `precomputed` metric: https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.NearestNeighbors.html#sklearn.neighbors.NearestNeighbors","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820412488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820414985","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-820414985","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":820414985,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDQxNDk4NQ==","user":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"created_at":"2021-04-15T13:17:36Z","updated_at":"2021-04-15T13:17:36Z","author_association":"CONTRIBUTOR","body":">  To implement this, we'll have make another affinity class which we'll be able to pass to in the precomputed distances.\r\n\r\nCan't we keep the affinity classes as they are and let Sklearn find exact NNs using `metric='precomputed'` if affinity object is called with `metric='precomputed'`?\r\n\r\n> However, I do not like the API we currently have, where we pass in affinity objects to the TSNE constructor.\r\n\r\nI think this is unrelated, isn't it? :-) But I fully agree with everything you wrote there, I think your suggested API is better.\r\n","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820414985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820475725","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-820475725","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":820475725,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDQ3NTcyNQ==","user":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"created_at":"2021-04-15T14:36:24Z","updated_at":"2021-04-15T14:36:24Z","author_association":"CONTRIBUTOR","body":"Oh I see that `precomputed` is not listed in the available sklearn metrics here: https://github.com/pavlin-policar/openTSNE/blob/master/openTSNE/nearest_neighbors.py#L96 -- hence the ValueError. What happens if we add it there?","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/820475725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/821031128","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-821031128","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":821031128,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTAzMTEyOA==","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2021-04-16T08:59:39Z","updated_at":"2021-04-16T08:59:39Z","author_association":"OWNER","body":"> Can't we keep the affinity classes as they are and let Sklearn find exact NNs using metric='precomputed' if affinity object is called with metric='precomputed'?\r\n\r\nHmm, theoretically, we could do that, but that would make this usage really convoluted. And then the PCA initialization might be calcualted by doing PCA on the distance matrix, which probably doesn't make much sense. I would prefer that there is one, clear way to do this.\r\n\r\n> I think this is unrelated, isn't it?\r\n\r\nYeah, kind of. But this is the way I propose we implement this, so maybe it's not that unrelated :)","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/821031128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/821037554","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-821037554","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":821037554,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTAzNzU1NA==","user":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false},"created_at":"2021-04-16T09:10:33Z","updated_at":"2021-04-16T09:17:51Z","author_association":"CONTRIBUTOR","body":"> Hmm, theoretically, we could do that, but that would make this usage really convoluted. And then the PCA initialization might be calcualted by doing PCA on the distance matrix, which probably doesn't make much sense. I would prefer that there is one, clear way to do this.\r\n\r\nNot sure I understand. What is convoluted about this?\r\n\r\n```\r\n# D is the NxN distance matrix\r\nembedding = TSNE(metric='precomputed', init='spectal').fit(D)\r\n```\r\n\r\nPCA initialization definitely does not make sense here, so when `metric='precomputed'`, there should be a warning if `init='pca'` and it should fall back to random or spectal.\r\n\r\nUpdate: Actually PCA initialization *could* make sense because one can compute what is called \"PCoA\" -- eigenvectors after double-centering the distance matrix; but it's also fine to fall back to random or spectral, imho.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/821037554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dkobak","id":8970231,"node_id":"MDQ6VXNlcjg5NzAyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8970231?v=4","gravatar_id":"","url":"https://api.github.com/users/dkobak","html_url":"https://github.com/dkobak","followers_url":"https://api.github.com/users/dkobak/followers","following_url":"https://api.github.com/users/dkobak/following{/other_user}","gists_url":"https://api.github.com/users/dkobak/gists{/gist_id}","starred_url":"https://api.github.com/users/dkobak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkobak/subscriptions","organizations_url":"https://api.github.com/users/dkobak/orgs","repos_url":"https://api.github.com/users/dkobak/repos","events_url":"https://api.github.com/users/dkobak/events{/privacy}","received_events_url":"https://api.github.com/users/dkobak/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/821122632","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-821122632","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":821122632,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTEyMjYzMg==","user":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"created_at":"2021-04-16T11:55:10Z","updated_at":"2021-04-16T11:55:10Z","author_association":"OWNER","body":"> Not sure I understand. What is convoluted about this?\r\n\r\nNothing. That's exactly the interface I implemented in #173. But in the code, it's routed to a special `PrecomputedDistanceMatrix` class, so that we can properly error if somebody later tries to call `.transform`. I don't know what would happen in that case if we went through the existing `Sklearn` neighbors class.\r\n\r\nAnyhow, I'll merge #173 when the tests pass (unless either of you have anything against it). Then I would ask @fsvbach to pull the latest master and test if it works as you expected.","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/821122632/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false}},{"id":4604441609,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDYwNDQ0MTYwOQ==","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4604441609","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-16T11:55:10Z","performed_via_github_app":null},{"id":4604441613,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2MDQ0NDE2MTM=","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4604441613","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-16T11:55:10Z","performed_via_github_app":null},{"id":4604911408,"node_id":"MDExOkNsb3NlZEV2ZW50NDYwNDkxMTQwOA==","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4604911408","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-04-16T13:38:59Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/821967231","html_url":"https://github.com/pavlin-policar/openTSNE/issues/170#issuecomment-821967231","issue_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/170","id":821967231,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTk2NzIzMQ==","user":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false},"created_at":"2021-04-18T10:07:06Z","updated_at":"2021-04-18T10:07:06Z","author_association":"NONE","body":"Yes, thank you very much @pavlin-policar . When I install the latest master it accepts precomputed matrices! ","reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/comments/821967231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fsvbach","id":64090304,"node_id":"MDQ6VXNlcjY0MDkwMzA0","avatar_url":"https://avatars.githubusercontent.com/u/64090304?v=4","gravatar_id":"","url":"https://api.github.com/users/fsvbach","html_url":"https://github.com/fsvbach","followers_url":"https://api.github.com/users/fsvbach/followers","following_url":"https://api.github.com/users/fsvbach/following{/other_user}","gists_url":"https://api.github.com/users/fsvbach/gists{/gist_id}","starred_url":"https://api.github.com/users/fsvbach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsvbach/subscriptions","organizations_url":"https://api.github.com/users/fsvbach/orgs","repos_url":"https://api.github.com/users/fsvbach/repos","events_url":"https://api.github.com/users/fsvbach/events{/privacy}","received_events_url":"https://api.github.com/users/fsvbach/received_events","type":"User","site_admin":false}},{"id":4608890232,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDYwODg5MDIzMg==","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4608890232","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-18T10:07:06Z","performed_via_github_app":null},{"id":4608890233,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2MDg4OTAyMzM=","url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/events/4608890233","actor":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-18T10:07:06Z","performed_via_github_app":null}]