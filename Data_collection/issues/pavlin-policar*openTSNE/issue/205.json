{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/205","repository_url":"https://api.github.com/repos/pavlin-policar/openTSNE","labels_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/205/labels{/name}","comments_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/205/comments","events_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/205/events","html_url":"https://github.com/pavlin-policar/openTSNE/issues/205","id":1124378489,"node_id":"I_kwDOCCUuTM5DBKd5","number":205,"title":"Compilation fails on Python 3.10","user":{"login":"bnavigator","id":4623504,"node_id":"MDQ6VXNlcjQ2MjM1MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4623504?v=4","gravatar_id":"","url":"https://api.github.com/users/bnavigator","html_url":"https://github.com/bnavigator","followers_url":"https://api.github.com/users/bnavigator/followers","following_url":"https://api.github.com/users/bnavigator/following{/other_user}","gists_url":"https://api.github.com/users/bnavigator/gists{/gist_id}","starred_url":"https://api.github.com/users/bnavigator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnavigator/subscriptions","organizations_url":"https://api.github.com/users/bnavigator/orgs","repos_url":"https://api.github.com/users/bnavigator/repos","events_url":"https://api.github.com/users/bnavigator/events{/privacy}","received_events_url":"https://api.github.com/users/bnavigator/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-04T16:18:58Z","updated_at":"2022-03-17T12:19:24Z","closed_at":"2022-03-17T12:19:24Z","author_association":"NONE","active_lock_reason":null,"body":"Compilation fails on Python 3.10:\r\n\r\n<details>\r\n\r\n```\r\n[   16s] + /usr/bin/python3.10 setup.py build '--executable=/usr/bin/python3.10 -s'\r\n[   16s] /home/abuild/rpmbuild/BUILD/openTSNE-0.6.1/setup.py:1: DeprecationWarning: The distutils package is deprecated and slated for removal in Python 3.12. Use setuptools or check PEP 632 for potential alternatives\r\n[   16s]   import distutils\r\n[   16s] ./tmpk2o7hh13/fftw3.c:1:10: fatal error: fftw3.h: No such file or directory\r\n[   16s]     1 | #include <fftw3.h>\r\n[   16s]       |          ^~~~~~~~~\r\n[   16s] compilation terminated.\r\n[   16s] FFTW3 header files not found. Using numpy implementation of FFT.\r\n[   16s] running build\r\n[   16s] running build_py\r\n[   16s] creating build\r\n[   16s] creating build/lib.linux-x86_64-3.10\r\n[   16s] creating build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/__init__.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/affinity.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/callbacks.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/initialization.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/metrics.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/nearest_neighbors.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/sklearn.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/tsne.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/utils.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] copying openTSNE/version.py -> build/lib.linux-x86_64-3.10/openTSNE\r\n[   16s] creating build/lib.linux-x86_64-3.10/openTSNE/_matrix_mul\r\n[   16s] copying openTSNE/_matrix_mul/__init__.py -> build/lib.linux-x86_64-3.10/openTSNE/_matrix_mul\r\n[   16s] creating build/lib.linux-x86_64-3.10/openTSNE/dependencies\r\n[   16s] copying openTSNE/dependencies/__init__.py -> build/lib.linux-x86_64-3.10/openTSNE/dependencies\r\n[   16s] creating build/lib.linux-x86_64-3.10/openTSNE/dependencies/annoy\r\n[   16s] copying openTSNE/dependencies/annoy/__init__.py -> build/lib.linux-x86_64-3.10/openTSNE/dependencies/annoy\r\n[   16s] running build_ext\r\n[   16s] gcc -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -Werror=return-type -g -DOPENSSL_LOAD_CONF -fwrapv -fno-semantic-interposition -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -Werror=return-type -g -IVendor/ -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -Werror=return-type -g -IVendor/ -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -Werror=return-type -flto=auto -g -fPIC -I/usr/include -I/usr/Library/include -c ./tmpu1966v53/omp.c -o ./tmpu1966v53/omp.o\r\n[   16s] Found openmp. Compiling with openmp flags...\r\n[   16s] building 'openTSNE.quad_tree' extension\r\n[   16s] creating build/temp.linux-x86_64-3.10\r\n[   16s] creating build/temp.linux-x86_64-3.10/openTSNE\r\n[   16s] gcc -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -Werror=return-type -g -DOPENSSL_LOAD_CONF -fwrapv -fno-semantic-interposition -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -Werror=return-type -g -IVendor/ -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -Werror=return-type -g -IVendor/ -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -Werror=return-type -flto=auto -g -fPIC -I/usr/include -I/usr/Library/include -I/usr/lib64/python3.10/site-packages/numpy/core/include -I/usr/include/python3.10 -c openTSNE/quad_tree.cpp -o build/temp.linux-x86_64-3.10/openTSNE/quad_tree.o -O3 -march=corei7 -fopenmp\r\n[   16s] In file included from /usr/include/python3.10/Python.h:74,\r\n[   16s]                  from openTSNE/quad_tree.cpp:18:\r\n[   16s] openTSNE/quad_tree.cpp: In function ‘void __pyx_tp_dealloc_8openTSNE_9quad_tree_QuadTree(PyObject*)’:\r\n[   16s] /usr/include/python3.10/object.h:133:33: error: lvalue required as increment operand\r\n[   16s]   133 | #define Py_REFCNT(ob) _Py_REFCNT(_PyObject_CAST_CONST(ob))\r\n[   16s]       |                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:16613:7: note: in expansion of macro ‘Py_REFCNT’\r\n[   16s] 16613 |     ++Py_REFCNT(o);\r\n[   16s]       |       ^~~~~~~~~\r\n[   16s] /usr/include/python3.10/object.h:133:33: error: lvalue required as decrement operand\r\n[   16s]   133 | #define Py_REFCNT(ob) _Py_REFCNT(_PyObject_CAST_CONST(ob))\r\n[   16s]       |                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:16615:7: note: in expansion of macro ‘Py_REFCNT’\r\n[   16s] 16615 |     --Py_REFCNT(o);\r\n[   16s]       |       ^~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp: In function ‘void __pyx_tp_dealloc_array(PyObject*)’:\r\n[   16s] /usr/include/python3.10/object.h:133:33: error: lvalue required as increment operand\r\n[   16s]   133 | #define Py_REFCNT(ob) _Py_REFCNT(_PyObject_CAST_CONST(ob))\r\n[   16s]       |                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:16729:7: note: in expansion of macro ‘Py_REFCNT’\r\n[   16s] 16729 |     ++Py_REFCNT(o);\r\n[   16s]       |       ^~~~~~~~~\r\n[   16s] /usr/include/python3.10/object.h:133:33: error: lvalue required as decrement operand\r\n[   16s]   133 | #define Py_REFCNT(ob) _Py_REFCNT(_PyObject_CAST_CONST(ob))\r\n[   16s]       |                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:16731:7: note: in expansion of macro ‘Py_REFCNT’\r\n[   16s] 16731 |     --Py_REFCNT(o);\r\n[   16s]       |       ^~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp: In function ‘void __pyx_tp_dealloc_memoryview(PyObject*)’:\r\n[   16s] /usr/include/python3.10/object.h:133:33: error: lvalue required as increment operand\r\n[   16s]   133 | #define Py_REFCNT(ob) _Py_REFCNT(_PyObject_CAST_CONST(ob))\r\n[   16s]       |                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:17040:7: note: in expansion of macro ‘Py_REFCNT’\r\n[   16s] 17040 |     ++Py_REFCNT(o);\r\n[   16s]       |       ^~~~~~~~~\r\n[   16s] /usr/include/python3.10/object.h:133:33: error: lvalue required as decrement operand\r\n[   16s]   133 | #define Py_REFCNT(ob) _Py_REFCNT(_PyObject_CAST_CONST(ob))\r\n[   16s]       |                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:17042:7: note: in expansion of macro ‘Py_REFCNT’\r\n[   16s] 17042 |     --Py_REFCNT(o);\r\n[   16s]       |       ^~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp: In function ‘void __pyx_tp_dealloc__memoryviewslice(PyObject*)’:\r\n[   16s] /usr/include/python3.10/object.h:133:33: error: lvalue required as increment operand\r\n[   16s]   133 | #define Py_REFCNT(ob) _Py_REFCNT(_PyObject_CAST_CONST(ob))\r\n[   16s]       |                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:17290:7: note: in expansion of macro ‘Py_REFCNT’\r\n[   16s] 17290 |     ++Py_REFCNT(o);\r\n[   16s]       |       ^~~~~~~~~\r\n[   16s] /usr/include/python3.10/object.h:133:33: error: lvalue required as decrement operand\r\n[   16s]   133 | #define Py_REFCNT(ob) _Py_REFCNT(_PyObject_CAST_CONST(ob))\r\n[   16s]       |                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:17292:7: note: in expansion of macro ‘Py_REFCNT’\r\n[   16s] 17292 |     --Py_REFCNT(o);\r\n[   16s]       |       ^~~~~~~~~\r\n[   16s] In file included from /usr/include/python3.10/unicodeobject.h:1046,\r\n[   16s]                  from /usr/include/python3.10/Python.h:83,\r\n[   16s]                  from openTSNE/quad_tree.cpp:18:\r\n[   16s] openTSNE/quad_tree.cpp: In function ‘int __Pyx_ParseOptionalKeywords(PyObject*, PyObject***, PyObject*, PyObject**, Py_ssize_t, const char*)’:\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:451:61: warning: ‘Py_ssize_t _PyUnicode_get_wstr_length(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   451 | #define PyUnicode_WSTR_LENGTH(op) _PyUnicode_get_wstr_length((PyObject*)op)\r\n[   16s]       |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:261:7: note: in expansion of macro ‘PyUnicode_WSTR_LENGTH’\r\n[   16s]   261 |       PyUnicode_WSTR_LENGTH(op) :                    \\\r\n[   16s]       |       ^~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18588:22: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18588 |                     (PyUnicode_GET_SIZE(**name) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                      ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:446:26: note: declared here\r\n[   16s]   446 | static inline Py_ssize_t _PyUnicode_get_wstr_length(PyObject *op) {\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:262:33: warning: ‘Py_UNICODE* PyUnicode_AsUnicode(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   262 |       ((void)PyUnicode_AsUnicode(_PyObject_CAST(op)),\\\r\n[   16s]       |              ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18588:22: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18588 |                     (PyUnicode_GET_SIZE(**name) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                      ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:580:45: note: declared here\r\n[   16s]   580 | Py_DEPRECATED(3.3) PyAPI_FUNC(Py_UNICODE *) PyUnicode_AsUnicode(\r\n[   16s]       |                                             ^~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:451:61: warning: ‘Py_ssize_t _PyUnicode_get_wstr_length(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   451 | #define PyUnicode_WSTR_LENGTH(op) _PyUnicode_get_wstr_length((PyObject*)op)\r\n[   16s]       |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:264:8: note: in expansion of macro ‘PyUnicode_WSTR_LENGTH’\r\n[   16s]   264 |        PyUnicode_WSTR_LENGTH(op)))\r\n[   16s]       |        ^~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18588:22: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18588 |                     (PyUnicode_GET_SIZE(**name) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                      ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:446:26: note: declared here\r\n[   16s]   446 | static inline Py_ssize_t _PyUnicode_get_wstr_length(PyObject *op) {\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:451:61: warning: ‘Py_ssize_t _PyUnicode_get_wstr_length(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   451 | #define PyUnicode_WSTR_LENGTH(op) _PyUnicode_get_wstr_length((PyObject*)op)\r\n[   16s]       |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:261:7: note: in expansion of macro ‘PyUnicode_WSTR_LENGTH’\r\n[   16s]   261 |       PyUnicode_WSTR_LENGTH(op) :                    \\\r\n[   16s]       |       ^~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18588:52: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18588 |                     (PyUnicode_GET_SIZE(**name) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                                                    ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:446:26: note: declared here\r\n[   16s]   446 | static inline Py_ssize_t _PyUnicode_get_wstr_length(PyObject *op) {\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:262:33: warning: ‘Py_UNICODE* PyUnicode_AsUnicode(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   262 |       ((void)PyUnicode_AsUnicode(_PyObject_CAST(op)),\\\r\n[   16s]       |              ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18588:52: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18588 |                     (PyUnicode_GET_SIZE(**name) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                                                    ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:580:45: note: declared here\r\n[   16s]   580 | Py_DEPRECATED(3.3) PyAPI_FUNC(Py_UNICODE *) PyUnicode_AsUnicode(\r\n[   16s]       |                                             ^~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:451:61: warning: ‘Py_ssize_t _PyUnicode_get_wstr_length(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   451 | #define PyUnicode_WSTR_LENGTH(op) _PyUnicode_get_wstr_length((PyObject*)op)\r\n[   16s]       |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:264:8: note: in expansion of macro ‘PyUnicode_WSTR_LENGTH’\r\n[   16s]   264 |        PyUnicode_WSTR_LENGTH(op)))\r\n[   16s]       |        ^~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18588:52: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18588 |                     (PyUnicode_GET_SIZE(**name) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                                                    ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:446:26: note: declared here\r\n[   16s]   446 | static inline Py_ssize_t _PyUnicode_get_wstr_length(PyObject *op) {\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:451:61: warning: ‘Py_ssize_t _PyUnicode_get_wstr_length(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   451 | #define PyUnicode_WSTR_LENGTH(op) _PyUnicode_get_wstr_length((PyObject*)op)\r\n[   16s]       |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:261:7: note: in expansion of macro ‘PyUnicode_WSTR_LENGTH’\r\n[   16s]   261 |       PyUnicode_WSTR_LENGTH(op) :                    \\\r\n[   16s]       |       ^~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18604:26: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18604 |                         (PyUnicode_GET_SIZE(**argname) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:446:26: note: declared here\r\n[   16s]   446 | static inline Py_ssize_t _PyUnicode_get_wstr_length(PyObject *op) {\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:262:33: warning: ‘Py_UNICODE* PyUnicode_AsUnicode(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   262 |       ((void)PyUnicode_AsUnicode(_PyObject_CAST(op)),\\\r\n[   16s]       |              ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18604:26: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18604 |                         (PyUnicode_GET_SIZE(**argname) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:580:45: note: declared here\r\n[   16s]   580 | Py_DEPRECATED(3.3) PyAPI_FUNC(Py_UNICODE *) PyUnicode_AsUnicode(\r\n[   16s]       |                                             ^~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:451:61: warning: ‘Py_ssize_t _PyUnicode_get_wstr_length(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   451 | #define PyUnicode_WSTR_LENGTH(op) _PyUnicode_get_wstr_length((PyObject*)op)\r\n[   16s]       |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:264:8: note: in expansion of macro ‘PyUnicode_WSTR_LENGTH’\r\n[   16s]   264 |        PyUnicode_WSTR_LENGTH(op)))\r\n[   16s]       |        ^~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18604:26: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18604 |                         (PyUnicode_GET_SIZE(**argname) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:446:26: note: declared here\r\n[   16s]   446 | static inline Py_ssize_t _PyUnicode_get_wstr_length(PyObject *op) {\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:451:61: warning: ‘Py_ssize_t _PyUnicode_get_wstr_length(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   451 | #define PyUnicode_WSTR_LENGTH(op) _PyUnicode_get_wstr_length((PyObject*)op)\r\n[   16s]       |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:261:7: note: in expansion of macro ‘PyUnicode_WSTR_LENGTH’\r\n[   16s]   261 |       PyUnicode_WSTR_LENGTH(op) :                    \\\r\n[   16s]       |       ^~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18604:59: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18604 |                         (PyUnicode_GET_SIZE(**argname) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                                                           ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:446:26: note: declared here\r\n[   16s]   446 | static inline Py_ssize_t _PyUnicode_get_wstr_length(PyObject *op) {\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:262:33: warning: ‘Py_UNICODE* PyUnicode_AsUnicode(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   262 |       ((void)PyUnicode_AsUnicode(_PyObject_CAST(op)),\\\r\n[   16s]       |              ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18604:59: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18604 |                         (PyUnicode_GET_SIZE(**argname) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                                                           ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:580:45: note: declared here\r\n[   16s]   580 | Py_DEPRECATED(3.3) PyAPI_FUNC(Py_UNICODE *) PyUnicode_AsUnicode(\r\n[   16s]       |                                             ^~~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:451:61: warning: ‘Py_ssize_t _PyUnicode_get_wstr_length(PyObject*)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s]   451 | #define PyUnicode_WSTR_LENGTH(op) _PyUnicode_get_wstr_length((PyObject*)op)\r\n[   16s]       |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:264:8: note: in expansion of macro ‘PyUnicode_WSTR_LENGTH’\r\n[   16s]   264 |        PyUnicode_WSTR_LENGTH(op)))\r\n[   16s]       |        ^~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp:18604:59: note: in expansion of macro ‘PyUnicode_GET_SIZE’\r\n[   16s] 18604 |                         (PyUnicode_GET_SIZE(**argname) != PyUnicode_GET_SIZE(key)) ? 1 :\r\n[   16s]       |                                                           ^~~~~~~~~~~~~~~~~~\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:446:26: note: declared here\r\n[   16s]   446 | static inline Py_ssize_t _PyUnicode_get_wstr_length(PyObject *op) {\r\n[   16s]       |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[   16s] openTSNE/quad_tree.cpp: In function ‘PyObject* __Pyx_decode_c_string(const char*, Py_ssize_t, Py_ssize_t, const char*, const char*, PyObject* (*)(const char*, Py_ssize_t, const char*))’:\r\n[   16s] openTSNE/quad_tree.cpp:19600:37: warning: ‘PyObject* PyUnicode_FromUnicode(const Py_UNICODE*, Py_ssize_t)’ is deprecated [-Wdeprecated-declarations]\r\n[   16s] 19600 |         return PyUnicode_FromUnicode(NULL, 0);\r\n[   16s]       |                ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~\r\n[   16s] In file included from /usr/include/python3.10/unicodeobject.h:1046,\r\n[   16s]                  from /usr/include/python3.10/Python.h:83,\r\n[   16s]                  from openTSNE/quad_tree.cpp:18:\r\n[   16s] /usr/include/python3.10/cpython/unicodeobject.h:551:42: note: declared here\r\n[   16s]   551 | Py_DEPRECATED(3.3) PyAPI_FUNC(PyObject*) PyUnicode_FromUnicode(\r\n[   16s]       |                                          ^~~~~~~~~~~~~~~~~~~~~\r\n[   17s] error: command '/usr/bin/gcc' failed with exit code 1\r\n[   17s] error: Bad exit status from /var/tmp/rpm-tmp.mw7otq (%build)\r\n```\r\n\r\n</details>","closed_by":{"login":"pavlin-policar","id":5758119,"node_id":"MDQ6VXNlcjU3NTgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5758119?v=4","gravatar_id":"","url":"https://api.github.com/users/pavlin-policar","html_url":"https://github.com/pavlin-policar","followers_url":"https://api.github.com/users/pavlin-policar/followers","following_url":"https://api.github.com/users/pavlin-policar/following{/other_user}","gists_url":"https://api.github.com/users/pavlin-policar/gists{/gist_id}","starred_url":"https://api.github.com/users/pavlin-policar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavlin-policar/subscriptions","organizations_url":"https://api.github.com/users/pavlin-policar/orgs","repos_url":"https://api.github.com/users/pavlin-policar/repos","events_url":"https://api.github.com/users/pavlin-policar/events{/privacy}","received_events_url":"https://api.github.com/users/pavlin-policar/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pavlin-policar/openTSNE/issues/205/timeline","performed_via_github_app":null,"state_reason":"completed"}