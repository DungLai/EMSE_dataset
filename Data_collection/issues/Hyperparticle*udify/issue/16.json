{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","repository_url":"https://api.github.com/repos/Hyperparticle/udify","labels_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16/labels{/name}","comments_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16/comments","events_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16/events","html_url":"https://github.com/Hyperparticle/udify/issues/16","id":636529450,"node_id":"MDU6SXNzdWU2MzY1Mjk0NTA=","number":16,"title":"\"nan\" loss on training","user":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2020-06-10T20:33:28Z","updated_at":"2021-02-18T16:08:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi!\r\n\r\nThanks for releasing the library. I'm encountering \"nan\" loss on training with the following commit, which I think is the most recent version: `60f35edc52862109555f4acf66236becc29705ad`\r\n\r\nHere are instructions to reproduce:\r\n\r\n    pip install -r ./requirements.txt\r\n    bash ./scripts/download_ud_data.sh\r\n    python train.py --config config/ud/en/udify_bert_train_en_ewt.json --name en_ewt --dataset_dir data/ud-treebanks-v2.3/\r\n\r\nThe end of the training is this:\r\n\r\n    2020-06-10 16:23:38,177 - INFO - allennlp.training.trainer - Training\r\n      0%|          | 0/392 [00:00<?, ?it/s]Traceback (most recent call last):\r\n      File \"train.py\", line 110, in <module>\r\n        train_model(train_params, serialization_dir, recover=bool(args.resume))\r\n      File \"/home/gneubig/anaconda3/envs/python3/lib/python3.7/site-packages/allennlp/commands/train.py\", line 252, in train_model\r\n        metrics = trainer.train()\r\n      File \"/home/gneubig/anaconda3/envs/python3/lib/python3.7/site-packages/allennlp/training/trainer.py\", line 478, in train\r\n        train_metrics = self._train_epoch(epoch)\r\n      File \"/home/gneubig/anaconda3/envs/python3/lib/python3.7/site-packages/allennlp/training/trainer.py\", line 323, in _train_epoch\r\n        raise ValueError(\"nan loss encountered\")\r\n    ValueError: nan loss encountered\r\n\r\nI've attached the full log below as well:\r\n[udify-log.txt](https://github.com/Hyperparticle/udify/files/4761040/udify-log.txt)\r\n\r\nMy pip environment is also here:\r\n[pip-list.txt](https://github.com/Hyperparticle/udify/files/4761051/pip-list.txt)\r\n\r\nDo you have an idea what the issue is? I'd be happy to help debug further (cc: @antonisa and @LeYonan)\r\n\r\n","closed_by":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/16/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16/timeline","performed_via_github_app":null,"state_reason":null}