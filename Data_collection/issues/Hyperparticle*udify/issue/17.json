{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/17","repository_url":"https://api.github.com/repos/Hyperparticle/udify","labels_url":"https://api.github.com/repos/Hyperparticle/udify/issues/17/labels{/name}","comments_url":"https://api.github.com/repos/Hyperparticle/udify/issues/17/comments","events_url":"https://api.github.com/repos/Hyperparticle/udify/issues/17/events","html_url":"https://github.com/Hyperparticle/udify/issues/17","id":637764811,"node_id":"MDU6SXNzdWU2Mzc3NjQ4MTE=","number":17,"title":"Out-of-directory calls","user":{"login":"AngelAquino","id":34654315,"node_id":"MDQ6VXNlcjM0NjU0MzE1","avatar_url":"https://avatars.githubusercontent.com/u/34654315?v=4","gravatar_id":"","url":"https://api.github.com/users/AngelAquino","html_url":"https://github.com/AngelAquino","followers_url":"https://api.github.com/users/AngelAquino/followers","following_url":"https://api.github.com/users/AngelAquino/following{/other_user}","gists_url":"https://api.github.com/users/AngelAquino/gists{/gist_id}","starred_url":"https://api.github.com/users/AngelAquino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AngelAquino/subscriptions","organizations_url":"https://api.github.com/users/AngelAquino/orgs","repos_url":"https://api.github.com/users/AngelAquino/repos","events_url":"https://api.github.com/users/AngelAquino/events{/privacy}","received_events_url":"https://api.github.com/users/AngelAquino/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-12T13:51:25Z","updated_at":"2020-06-13T19:50:48Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello, and thanks for making this parser available!\r\n\r\nI wrote a shell script which calls `predict.py` from an external directory, but I encounter the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"../udify/predict.py\", line 57, in <module>\r\n    batch_size=args.batch_size)\r\n  File \"/media/sf_thesis/udify/udify/util.py\", line 143, in predict_model_with_archive\r\n    cuda_device=cuda_device)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/models/archival.py\", line 230, in load_archive\r\n    cuda_device=cuda_device)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/models/model.py\", line 327, in load\r\n    return cls.by_name(model_type)._load(config, serialization_dir, weights_file, cuda_device)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/models/model.py\", line 265, in _load\r\n    model = Model.from_params(vocab=vocab, params=model_params)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/common/from_params.py\", line 365, in from_params\r\n    return subclass.from_params(params=params, **extras)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/common/from_params.py\", line 386, in from_params\r\n    kwargs = create_kwargs(cls, params, **extras)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/common/from_params.py\", line 133, in create_kwargs\r\n    kwargs[name] = construct_arg(cls, name, annotation, param.default, params, **extras)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/common/from_params.py\", line 229, in construct_arg\r\n    return annotation.from_params(params=subparams, **subextras)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/common/from_params.py\", line 365, in from_params\r\n    return subclass.from_params(params=params, **extras)\r\n  File \"/media/sf_thesis/udify/udify/modules/text_field_embedder.py\", line 163, in from_params\r\n    for name, subparams in token_embedder_params.items()\r\n  File \"/media/sf_thesis/udify/udify/modules/text_field_embedder.py\", line 163, in <dictcomp>\r\n    for name, subparams in token_embedder_params.items()\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/common/from_params.py\", line 365, in from_params\r\n    return subclass.from_params(params=params, **extras)\r\n  File \"/usr/local/lib/python3.6/dist-packages/allennlp/common/from_params.py\", line 388, in from_params\r\n    return cls(**kwargs)  # type: ignore\r\n  File \"/media/sf_thesis/udify/udify/modules/bert_pretrained.py\", line 589, in __init__\r\n    model = BertModel(BertConfig.from_json_file(bert_config))\r\n  File \"/usr/local/lib/python3.6/dist-packages/pytorch_pretrained_bert/modeling.py\", line 206, in from_json_file\r\n    with open(json_file, \"r\", encoding='utf-8') as reader:\r\nFileNotFoundError: [Errno 2] No such file or directory: 'config/archive/bert-base-multilingual-cased/bert_config.json'\r\n```\r\n\r\nThe program works fine when called from within the `udify` directory itself, though. Would it be possible to modify the addresses in the source code to work for external calls as well? I'd be willing to help sift through the source files for this if needed.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/17/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Hyperparticle/udify/issues/17/timeline","performed_via_github_app":null,"state_reason":null}