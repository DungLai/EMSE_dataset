[{"id":3431355603,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQzMTM1NTYwMw==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3431355603","actor":{"login":"antonisa","id":8189576,"node_id":"MDQ6VXNlcjgxODk1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/8189576?v=4","gravatar_id":"","url":"https://api.github.com/users/antonisa","html_url":"https://github.com/antonisa","followers_url":"https://api.github.com/users/antonisa/followers","following_url":"https://api.github.com/users/antonisa/following{/other_user}","gists_url":"https://api.github.com/users/antonisa/gists{/gist_id}","starred_url":"https://api.github.com/users/antonisa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antonisa/subscriptions","organizations_url":"https://api.github.com/users/antonisa/orgs","repos_url":"https://api.github.com/users/antonisa/repos","events_url":"https://api.github.com/users/antonisa/events{/privacy}","received_events_url":"https://api.github.com/users/antonisa/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-10T20:33:28Z","performed_via_github_app":null},{"id":3431355608,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MzEzNTU2MDg=","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3431355608","actor":{"login":"antonisa","id":8189576,"node_id":"MDQ6VXNlcjgxODk1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/8189576?v=4","gravatar_id":"","url":"https://api.github.com/users/antonisa","html_url":"https://github.com/antonisa","followers_url":"https://api.github.com/users/antonisa/followers","following_url":"https://api.github.com/users/antonisa/following{/other_user}","gists_url":"https://api.github.com/users/antonisa/gists{/gist_id}","starred_url":"https://api.github.com/users/antonisa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antonisa/subscriptions","organizations_url":"https://api.github.com/users/antonisa/orgs","repos_url":"https://api.github.com/users/antonisa/repos","events_url":"https://api.github.com/users/antonisa/events{/privacy}","received_events_url":"https://api.github.com/users/antonisa/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-10T20:33:28Z","performed_via_github_app":null},{"id":3431355615,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQzMTM1NTYxNQ==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3431355615","actor":{"login":"LeYonan","id":9058140,"node_id":"MDQ6VXNlcjkwNTgxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/9058140?v=4","gravatar_id":"","url":"https://api.github.com/users/LeYonan","html_url":"https://github.com/LeYonan","followers_url":"https://api.github.com/users/LeYonan/followers","following_url":"https://api.github.com/users/LeYonan/following{/other_user}","gists_url":"https://api.github.com/users/LeYonan/gists{/gist_id}","starred_url":"https://api.github.com/users/LeYonan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeYonan/subscriptions","organizations_url":"https://api.github.com/users/LeYonan/orgs","repos_url":"https://api.github.com/users/LeYonan/repos","events_url":"https://api.github.com/users/LeYonan/events{/privacy}","received_events_url":"https://api.github.com/users/LeYonan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-10T20:33:28Z","performed_via_github_app":null},{"id":3431355617,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MzEzNTU2MTc=","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3431355617","actor":{"login":"LeYonan","id":9058140,"node_id":"MDQ6VXNlcjkwNTgxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/9058140?v=4","gravatar_id":"","url":"https://api.github.com/users/LeYonan","html_url":"https://github.com/LeYonan","followers_url":"https://api.github.com/users/LeYonan/followers","following_url":"https://api.github.com/users/LeYonan/following{/other_user}","gists_url":"https://api.github.com/users/LeYonan/gists{/gist_id}","starred_url":"https://api.github.com/users/LeYonan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeYonan/subscriptions","organizations_url":"https://api.github.com/users/LeYonan/orgs","repos_url":"https://api.github.com/users/LeYonan/repos","events_url":"https://api.github.com/users/LeYonan/events{/privacy}","received_events_url":"https://api.github.com/users/LeYonan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-10T20:33:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/642337173","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-642337173","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":642337173,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjMzNzE3Mw==","user":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T00:34:52Z","updated_at":"2020-06-11T00:34:52Z","author_association":"OWNER","body":"I've seen NaN loss with this code before, but there are a lot of things that can cause it to happen. Sometimes it's an uninitialized variable that is set to `None`. Can you try the previous commit `afe5d4734e179155852ea3a2f80c353f58c8b6ec` to see if that changes anything? ","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/642337173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/642680777","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-642680777","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":642680777,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjY4MDc3Nw==","user":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T14:09:50Z","updated_at":"2020-06-11T14:09:50Z","author_association":"NONE","body":"Thanks for the quick reply. `afe5d4734e179155852ea3a2f80c353f58c8b6ec` still encountered the same problem.\r\n\r\nAlso, to make sure it wasn't the machine(s) that we were using, I also started an Amazon instance (p2.xlarge, deep learning AMI) and ran from scratch. I still encountered the same error:\r\n\r\n    conda create --name=python3 python=3\r\n    conda init bash\r\n    source ~/.bashrc \r\n    conda activate python3\r\n    git clone https://github.com/Hyperparticle/udify.git\r\n    cd udify/\r\n    pip install -r ./requirements.txt\r\n    bash ./scripts/download_ud_data.sh\r\n    python train.py --config config/ud/en/udify_bert_finetune_en_ewt.json --name en_ewt --dataset_dir data/ud-treebanks-v2.3/","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/642680777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/643664398","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-643664398","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":643664398,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzY2NDM5OA==","user":{"login":"jbrry","id":22963704,"node_id":"MDQ6VXNlcjIyOTYzNzA0","avatar_url":"https://avatars.githubusercontent.com/u/22963704?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrry","html_url":"https://github.com/jbrry","followers_url":"https://api.github.com/users/jbrry/followers","following_url":"https://api.github.com/users/jbrry/following{/other_user}","gists_url":"https://api.github.com/users/jbrry/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrry/subscriptions","organizations_url":"https://api.github.com/users/jbrry/orgs","repos_url":"https://api.github.com/users/jbrry/repos","events_url":"https://api.github.com/users/jbrry/events{/privacy}","received_events_url":"https://api.github.com/users/jbrry/received_events","type":"User","site_admin":false},"created_at":"2020-06-13T19:02:45Z","updated_at":"2020-06-13T19:02:45Z","author_association":"CONTRIBUTOR","body":"Hi @neubig, @Hyperparticle,\r\n\r\nI thought this might have something to do with some unexpected behaviour since the recent PR #13 but I cloned a version of udify c277adea9295b05772e3b508d05ce13aea8bde03 before this PR was merged and I still get a nan loss almost immediately after commencing training.\r\n\r\nIt is just a hunch but when `allennlp==0.9.0` is installed it looks for torch >=1.2.0, which installs version 1.5.0 which might be too recent a version. \r\n```\r\nCollecting torch>=1.2.0\r\n  Using cached torch-1.5.0-cp37-cp37m-manylinux1_x86_64.whl (752.0 MB)\r\n```\r\n\r\nI have some local environments where udify can train successfully and I am able to train in a fresh environment if I install those requirements instead:\r\n\r\n```\r\n# put versions of libraries from a working environment into `reqs.txt`\r\npip freeze > reqs.txt\r\n\r\nconda create -n udify_alternative_reqs python=3.7\r\nconda activate udify_alternative_reqs\r\npip install -r reqs.txt\r\n\r\npython train.py --config config/ud/en/udify_bert_finetune_en_ewt.json --name en_ewt --dataset_dir data/ud-treebanks-v2.3/\r\n```\r\nThis is now not producing nan losses for me so it might be something to do with the versions of the software which are installed in requirements.txt. Oddly enough, I found installing [these requirements](https://github.com/coastalcph/koepsala-parser/blob/master/requirements.txt) to work too.\r\n\r\nThe requirements I used are here:\r\n[reqs.txt](https://github.com/Hyperparticle/udify/files/4775251/reqs.txt)","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/643664398/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jbrry","id":22963704,"node_id":"MDQ6VXNlcjIyOTYzNzA0","avatar_url":"https://avatars.githubusercontent.com/u/22963704?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrry","html_url":"https://github.com/jbrry","followers_url":"https://api.github.com/users/jbrry/followers","following_url":"https://api.github.com/users/jbrry/following{/other_user}","gists_url":"https://api.github.com/users/jbrry/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrry/subscriptions","organizations_url":"https://api.github.com/users/jbrry/orgs","repos_url":"https://api.github.com/users/jbrry/repos","events_url":"https://api.github.com/users/jbrry/events{/privacy}","received_events_url":"https://api.github.com/users/jbrry/received_events","type":"User","site_admin":false}},{"id":3441055971,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQ0MTA1NTk3MQ==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3441055971","actor":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-13T19:02:45Z","performed_via_github_app":null},{"id":3441055973,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0NDEwNTU5NzM=","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3441055973","actor":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-13T19:02:46Z","performed_via_github_app":null},{"id":3441055976,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQ0MTA1NTk3Ng==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3441055976","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-13T19:02:46Z","performed_via_github_app":null},{"id":3441055979,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0NDEwNTU5Nzk=","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3441055979","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-13T19:02:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/643668837","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-643668837","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":643668837,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzY2ODgzNw==","user":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"created_at":"2020-06-13T19:41:55Z","updated_at":"2020-06-13T19:41:55Z","author_association":"OWNER","body":"@jbrry Thanks for looking into it. So it appears to be due to a recent PyTorch update. I updated the `requirements.txt` to explicitly use `1.4.0`. Hope that fixes it for everyone.","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/643668837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false}},{"id":3441085230,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQ0MTA4NTIzMA==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3441085230","actor":{"login":"jbrry","id":22963704,"node_id":"MDQ6VXNlcjIyOTYzNzA0","avatar_url":"https://avatars.githubusercontent.com/u/22963704?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrry","html_url":"https://github.com/jbrry","followers_url":"https://api.github.com/users/jbrry/followers","following_url":"https://api.github.com/users/jbrry/following{/other_user}","gists_url":"https://api.github.com/users/jbrry/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrry/subscriptions","organizations_url":"https://api.github.com/users/jbrry/orgs","repos_url":"https://api.github.com/users/jbrry/repos","events_url":"https://api.github.com/users/jbrry/events{/privacy}","received_events_url":"https://api.github.com/users/jbrry/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-13T19:41:55Z","performed_via_github_app":null},{"id":3441085231,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0NDEwODUyMzE=","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3441085231","actor":{"login":"jbrry","id":22963704,"node_id":"MDQ6VXNlcjIyOTYzNzA0","avatar_url":"https://avatars.githubusercontent.com/u/22963704?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrry","html_url":"https://github.com/jbrry","followers_url":"https://api.github.com/users/jbrry/followers","following_url":"https://api.github.com/users/jbrry/following{/other_user}","gists_url":"https://api.github.com/users/jbrry/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrry/subscriptions","organizations_url":"https://api.github.com/users/jbrry/orgs","repos_url":"https://api.github.com/users/jbrry/repos","events_url":"https://api.github.com/users/jbrry/events{/privacy}","received_events_url":"https://api.github.com/users/jbrry/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-13T19:41:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/643760580","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-643760580","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":643760580,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mzc2MDU4MA==","user":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"created_at":"2020-06-14T12:32:58Z","updated_at":"2020-06-14T12:32:58Z","author_association":"NONE","body":"Our preliminary tests indicate that this did indeed fix the nan errors. I'll re-open this if we encounter it during a full training run, but I think this is likely fixed so thanks a bunch!","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/643760580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false}},{"id":3441651292,"node_id":"MDExOkNsb3NlZEV2ZW50MzQ0MTY1MTI5Mg==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3441651292","actor":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-06-14T12:32:58Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/650744231","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-650744231","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":650744231,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc0NDIzMQ==","user":{"login":"Genius1237","id":15867363,"node_id":"MDQ6VXNlcjE1ODY3MzYz","avatar_url":"https://avatars.githubusercontent.com/u/15867363?v=4","gravatar_id":"","url":"https://api.github.com/users/Genius1237","html_url":"https://github.com/Genius1237","followers_url":"https://api.github.com/users/Genius1237/followers","following_url":"https://api.github.com/users/Genius1237/following{/other_user}","gists_url":"https://api.github.com/users/Genius1237/gists{/gist_id}","starred_url":"https://api.github.com/users/Genius1237/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Genius1237/subscriptions","organizations_url":"https://api.github.com/users/Genius1237/orgs","repos_url":"https://api.github.com/users/Genius1237/repos","events_url":"https://api.github.com/users/Genius1237/events{/privacy}","received_events_url":"https://api.github.com/users/Genius1237/received_events","type":"User","site_admin":false},"created_at":"2020-06-28T12:17:12Z","updated_at":"2020-06-28T12:17:12Z","author_association":"NONE","body":"I have `torch==1.4.0` and `allennlp==0.9.0` installed and I am still getting this error. My guess is that the error is somewhere else.\r\n\r\nI took the reqs.txt file given by @jbrry and  did a `pip install --no-warn-conflicts -r reqs.txt` (had to remove `cerifi` from it). Was able to get everything working then.","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/650744231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Genius1237","id":15867363,"node_id":"MDQ6VXNlcjE1ODY3MzYz","avatar_url":"https://avatars.githubusercontent.com/u/15867363?v=4","gravatar_id":"","url":"https://api.github.com/users/Genius1237","html_url":"https://github.com/Genius1237","followers_url":"https://api.github.com/users/Genius1237/followers","following_url":"https://api.github.com/users/Genius1237/following{/other_user}","gists_url":"https://api.github.com/users/Genius1237/gists{/gist_id}","starred_url":"https://api.github.com/users/Genius1237/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Genius1237/subscriptions","organizations_url":"https://api.github.com/users/Genius1237/orgs","repos_url":"https://api.github.com/users/Genius1237/repos","events_url":"https://api.github.com/users/Genius1237/events{/privacy}","received_events_url":"https://api.github.com/users/Genius1237/received_events","type":"User","site_admin":false}},{"id":3490177215,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQ5MDE3NzIxNQ==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3490177215","actor":{"login":"jbrry","id":22963704,"node_id":"MDQ6VXNlcjIyOTYzNzA0","avatar_url":"https://avatars.githubusercontent.com/u/22963704?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrry","html_url":"https://github.com/jbrry","followers_url":"https://api.github.com/users/jbrry/followers","following_url":"https://api.github.com/users/jbrry/following{/other_user}","gists_url":"https://api.github.com/users/jbrry/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrry/subscriptions","organizations_url":"https://api.github.com/users/jbrry/orgs","repos_url":"https://api.github.com/users/jbrry/repos","events_url":"https://api.github.com/users/jbrry/events{/privacy}","received_events_url":"https://api.github.com/users/jbrry/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-28T12:17:13Z","performed_via_github_app":null},{"id":3490177216,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0OTAxNzcyMTY=","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3490177216","actor":{"login":"jbrry","id":22963704,"node_id":"MDQ6VXNlcjIyOTYzNzA0","avatar_url":"https://avatars.githubusercontent.com/u/22963704?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrry","html_url":"https://github.com/jbrry","followers_url":"https://api.github.com/users/jbrry/followers","following_url":"https://api.github.com/users/jbrry/following{/other_user}","gists_url":"https://api.github.com/users/jbrry/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrry/subscriptions","organizations_url":"https://api.github.com/users/jbrry/orgs","repos_url":"https://api.github.com/users/jbrry/repos","events_url":"https://api.github.com/users/jbrry/events{/privacy}","received_events_url":"https://api.github.com/users/jbrry/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-28T12:17:13Z","performed_via_github_app":null},{"id":3493665477,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQzNDkzNjY1NDc3","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/3493665477","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2020-06-29T16:57:58Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/651243771","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-651243771","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":651243771,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTI0Mzc3MQ==","user":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"created_at":"2020-06-29T16:59:41Z","updated_at":"2020-06-29T16:59:41Z","author_association":"OWNER","body":"It looks like the `reqs.txt` you used has an earlier version of torch (1.3.1). Would it work if you change the `requirements.txt` to `torch==1.3.1`?","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/651243771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/651255044","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-651255044","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":651255044,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTI1NTA0NA==","user":{"login":"Genius1237","id":15867363,"node_id":"MDQ6VXNlcjE1ODY3MzYz","avatar_url":"https://avatars.githubusercontent.com/u/15867363?v=4","gravatar_id":"","url":"https://api.github.com/users/Genius1237","html_url":"https://github.com/Genius1237","followers_url":"https://api.github.com/users/Genius1237/followers","following_url":"https://api.github.com/users/Genius1237/following{/other_user}","gists_url":"https://api.github.com/users/Genius1237/gists{/gist_id}","starred_url":"https://api.github.com/users/Genius1237/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Genius1237/subscriptions","organizations_url":"https://api.github.com/users/Genius1237/orgs","repos_url":"https://api.github.com/users/Genius1237/repos","events_url":"https://api.github.com/users/Genius1237/events{/privacy}","received_events_url":"https://api.github.com/users/Genius1237/received_events","type":"User","site_admin":false},"created_at":"2020-06-29T17:22:41Z","updated_at":"2020-06-29T17:26:08Z","author_association":"NONE","body":"Oh, I forgot to mention, but that didn't work either. It's something else that's the issue. Since I got it working with that file, I didn't investigate further.\r\n\r\nYou could consider distributing a docker image or a Dockerfile with all the dependencies in it. A lot of people run training in a container anyway, so it would be helpful for them and less of a hassle for you to deal with issues with dependencies.\r\n","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/651255044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Genius1237","id":15867363,"node_id":"MDQ6VXNlcjE1ODY3MzYz","avatar_url":"https://avatars.githubusercontent.com/u/15867363?v=4","gravatar_id":"","url":"https://api.github.com/users/Genius1237","html_url":"https://github.com/Genius1237","followers_url":"https://api.github.com/users/Genius1237/followers","following_url":"https://api.github.com/users/Genius1237/following{/other_user}","gists_url":"https://api.github.com/users/Genius1237/gists{/gist_id}","starred_url":"https://api.github.com/users/Genius1237/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Genius1237/subscriptions","organizations_url":"https://api.github.com/users/Genius1237/orgs","repos_url":"https://api.github.com/users/Genius1237/repos","events_url":"https://api.github.com/users/Genius1237/events{/privacy}","received_events_url":"https://api.github.com/users/Genius1237/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/781374459","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-781374459","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":781374459,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTM3NDQ1OQ==","user":{"login":"dfvalio","id":50867299,"node_id":"MDQ6VXNlcjUwODY3Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/50867299?v=4","gravatar_id":"","url":"https://api.github.com/users/dfvalio","html_url":"https://github.com/dfvalio","followers_url":"https://api.github.com/users/dfvalio/followers","following_url":"https://api.github.com/users/dfvalio/following{/other_user}","gists_url":"https://api.github.com/users/dfvalio/gists{/gist_id}","starred_url":"https://api.github.com/users/dfvalio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfvalio/subscriptions","organizations_url":"https://api.github.com/users/dfvalio/orgs","repos_url":"https://api.github.com/users/dfvalio/repos","events_url":"https://api.github.com/users/dfvalio/events{/privacy}","received_events_url":"https://api.github.com/users/dfvalio/received_events","type":"User","site_admin":false},"created_at":"2021-02-18T14:17:29Z","updated_at":"2021-02-18T14:18:17Z","author_association":"NONE","body":"\r\nI am getting the _nan_ error with PyTorch 1.4.0 and allennlp==0.9.0, any fix for this?","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/781374459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfvalio","id":50867299,"node_id":"MDQ6VXNlcjUwODY3Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/50867299?v=4","gravatar_id":"","url":"https://api.github.com/users/dfvalio","html_url":"https://github.com/dfvalio","followers_url":"https://api.github.com/users/dfvalio/followers","following_url":"https://api.github.com/users/dfvalio/following{/other_user}","gists_url":"https://api.github.com/users/dfvalio/gists{/gist_id}","starred_url":"https://api.github.com/users/dfvalio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfvalio/subscriptions","organizations_url":"https://api.github.com/users/dfvalio/orgs","repos_url":"https://api.github.com/users/dfvalio/repos","events_url":"https://api.github.com/users/dfvalio/events{/privacy}","received_events_url":"https://api.github.com/users/dfvalio/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/781379133","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-781379133","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":781379133,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTM3OTEzMw==","user":{"login":"dfvalio","id":50867299,"node_id":"MDQ6VXNlcjUwODY3Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/50867299?v=4","gravatar_id":"","url":"https://api.github.com/users/dfvalio","html_url":"https://github.com/dfvalio","followers_url":"https://api.github.com/users/dfvalio/followers","following_url":"https://api.github.com/users/dfvalio/following{/other_user}","gists_url":"https://api.github.com/users/dfvalio/gists{/gist_id}","starred_url":"https://api.github.com/users/dfvalio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfvalio/subscriptions","organizations_url":"https://api.github.com/users/dfvalio/orgs","repos_url":"https://api.github.com/users/dfvalio/repos","events_url":"https://api.github.com/users/dfvalio/events{/privacy}","received_events_url":"https://api.github.com/users/dfvalio/received_events","type":"User","site_admin":false},"created_at":"2021-02-18T14:24:15Z","updated_at":"2021-02-18T14:24:15Z","author_association":"NONE","body":"> Hi @neubig, @Hyperparticle,\r\n> \r\n> I thought this might have something to do with some unexpected behaviour since the recent PR #13 but I cloned a version of udify [c277ade](https://github.com/Hyperparticle/udify/commit/c277adea9295b05772e3b508d05ce13aea8bde03) before this PR was merged and I still get a nan loss almost immediately after commencing training.\r\n> \r\n> It is just a hunch but when `allennlp==0.9.0` is installed it looks for torch >=1.2.0, which installs version 1.5.0 which might be too recent a version.\r\n> \r\n> ```\r\n> Collecting torch>=1.2.0\r\n>   Using cached torch-1.5.0-cp37-cp37m-manylinux1_x86_64.whl (752.0 MB)\r\n> ```\r\n> \r\n> I have some local environments where udify can train successfully and I am able to train in a fresh environment if I install those requirements instead:\r\n> \r\n> ```\r\n> # put versions of libraries from a working environment into `reqs.txt`\r\n> pip freeze > reqs.txt\r\n> \r\n> conda create -n udify_alternative_reqs python=3.7\r\n> conda activate udify_alternative_reqs\r\n> pip install -r reqs.txt\r\n> \r\n> python train.py --config config/ud/en/udify_bert_finetune_en_ewt.json --name en_ewt --dataset_dir data/ud-treebanks-v2.3/\r\n> ```\r\n> \r\n> This is now not producing nan losses for me so it might be something to do with the versions of the software which are installed in requirements.txt. Oddly enough, I found installing [these requirements](https://github.com/coastalcph/koepsala-parser/blob/master/requirements.txt) to work too.\r\n> \r\n> The requirements I used are here:\r\n> [reqs.txt](https://github.com/Hyperparticle/udify/files/4775251/reqs.txt)\r\n\r\nFixed my problem with the requirement specified by you. CONLLU must remain at 1.3.1","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/781379133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfvalio","id":50867299,"node_id":"MDQ6VXNlcjUwODY3Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/50867299?v=4","gravatar_id":"","url":"https://api.github.com/users/dfvalio","html_url":"https://github.com/dfvalio","followers_url":"https://api.github.com/users/dfvalio/followers","following_url":"https://api.github.com/users/dfvalio/following{/other_user}","gists_url":"https://api.github.com/users/dfvalio/gists{/gist_id}","starred_url":"https://api.github.com/users/dfvalio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfvalio/subscriptions","organizations_url":"https://api.github.com/users/dfvalio/orgs","repos_url":"https://api.github.com/users/dfvalio/repos","events_url":"https://api.github.com/users/dfvalio/events{/privacy}","received_events_url":"https://api.github.com/users/dfvalio/received_events","type":"User","site_admin":false}},{"id":4347031221,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDM0NzAzMTIyMQ==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/4347031221","actor":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-02-18T14:24:15Z","performed_via_github_app":null},{"id":4347031229,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQzNDcwMzEyMjk=","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/4347031229","actor":{"login":"neubig","id":398875,"node_id":"MDQ6VXNlcjM5ODg3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/398875?v=4","gravatar_id":"","url":"https://api.github.com/users/neubig","html_url":"https://github.com/neubig","followers_url":"https://api.github.com/users/neubig/followers","following_url":"https://api.github.com/users/neubig/following{/other_user}","gists_url":"https://api.github.com/users/neubig/gists{/gist_id}","starred_url":"https://api.github.com/users/neubig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neubig/subscriptions","organizations_url":"https://api.github.com/users/neubig/orgs","repos_url":"https://api.github.com/users/neubig/repos","events_url":"https://api.github.com/users/neubig/events{/privacy}","received_events_url":"https://api.github.com/users/neubig/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-02-18T14:24:15Z","performed_via_github_app":null},{"id":4347031234,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDM0NzAzMTIzNA==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/4347031234","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-02-18T14:24:15Z","performed_via_github_app":null},{"id":4347031242,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQzNDcwMzEyNDI=","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/4347031242","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-02-18T14:24:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/781453296","html_url":"https://github.com/Hyperparticle/udify/issues/16#issuecomment-781453296","issue_url":"https://api.github.com/repos/Hyperparticle/udify/issues/16","id":781453296,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTQ1MzI5Ng==","user":{"login":"jbrry","id":22963704,"node_id":"MDQ6VXNlcjIyOTYzNzA0","avatar_url":"https://avatars.githubusercontent.com/u/22963704?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrry","html_url":"https://github.com/jbrry","followers_url":"https://api.github.com/users/jbrry/followers","following_url":"https://api.github.com/users/jbrry/following{/other_user}","gists_url":"https://api.github.com/users/jbrry/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrry/subscriptions","organizations_url":"https://api.github.com/users/jbrry/orgs","repos_url":"https://api.github.com/users/jbrry/repos","events_url":"https://api.github.com/users/jbrry/events{/privacy}","received_events_url":"https://api.github.com/users/jbrry/received_events","type":"User","site_admin":false},"created_at":"2021-02-18T16:08:44Z","updated_at":"2021-02-18T16:08:44Z","author_association":"CONTRIBUTOR","body":"Thanks for looking into it @dfvalio. \r\n\r\n> Fixed my problem with the requirement specified by you. CONLLU must remain at 1.3.1\r\n\r\nI tried with the `conllu` version that gets installed with allennlp `0.9.0`: `conllu==1.3.1` and also `conllu==2.3.2` and even the current version `conllu==4.4` and training runs with all three versions for me.\r\n\r\nI ran a diff on the packages which are installed by `requirements.txt` and a working environment I had and I started changing packages to those in my working environment until I could launch the training command. The first time it worked was when I changed the `gevent` package:\r\n\r\n```\r\npip install gevent==1.4.0\r\n```\r\n\r\nAfter changing this package version the training script runs fine. Can you confirm this works for you as well @Hyperparticle @dfvalio? To reproduce:\r\n\r\n```\r\nconda create -n udify_install python=3.7\r\nconda activate udify_install\r\npip install -r requirements.txt \r\n\r\n# BREAKS\r\npython train.py --config config/ud/en/udify_bert_finetune_en_ewt.json --name en_ewt --dataset_dir data/ud-treebanks-v2.3/ # doesn't work\r\n\r\npip install gevent==1.4.0\r\n\r\n# WORKS\r\npython train.py --config config/ud/en/udify_bert_finetune_en_ewt.json --name en_ewt --dataset_dir data/ud-treebanks-v2.3/\r\n```\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/Hyperparticle/udify/issues/comments/781453296/reactions","total_count":4,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jbrry","id":22963704,"node_id":"MDQ6VXNlcjIyOTYzNzA0","avatar_url":"https://avatars.githubusercontent.com/u/22963704?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrry","html_url":"https://github.com/jbrry","followers_url":"https://api.github.com/users/jbrry/followers","following_url":"https://api.github.com/users/jbrry/following{/other_user}","gists_url":"https://api.github.com/users/jbrry/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrry/subscriptions","organizations_url":"https://api.github.com/users/jbrry/orgs","repos_url":"https://api.github.com/users/jbrry/repos","events_url":"https://api.github.com/users/jbrry/events{/privacy}","received_events_url":"https://api.github.com/users/jbrry/received_events","type":"User","site_admin":false}},{"id":4347620254,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDM0NzYyMDI1NA==","url":"https://api.github.com/repos/Hyperparticle/udify/issues/events/4347620254","actor":{"login":"Hyperparticle","id":8497170,"node_id":"MDQ6VXNlcjg0OTcxNzA=","avatar_url":"https://avatars.githubusercontent.com/u/8497170?v=4","gravatar_id":"","url":"https://api.github.com/users/Hyperparticle","html_url":"https://github.com/Hyperparticle","followers_url":"https://api.github.com/users/Hyperparticle/followers","following_url":"https://api.github.com/users/Hyperparticle/following{/other_user}","gists_url":"https://api.github.com/users/Hyperparticle/gists{/gist_id}","starred_url":"https://api.github.com/users/Hyperparticle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hyperparticle/subscriptions","organizations_url":"https://api.github.com/users/Hyperparticle/orgs","repos_url":"https://api.github.com/users/Hyperparticle/repos","events_url":"https://api.github.com/users/Hyperparticle/events{/privacy}","received_events_url":"https://api.github.com/users/Hyperparticle/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-02-18T16:08:44Z","performed_via_github_app":null}]