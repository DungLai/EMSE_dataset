{"url":"https://api.github.com/repos/cair/TsetlinMachine/issues/1","repository_url":"https://api.github.com/repos/cair/TsetlinMachine","labels_url":"https://api.github.com/repos/cair/TsetlinMachine/issues/1/labels{/name}","comments_url":"https://api.github.com/repos/cair/TsetlinMachine/issues/1/comments","events_url":"https://api.github.com/repos/cair/TsetlinMachine/issues/1/events","html_url":"https://github.com/cair/TsetlinMachine/issues/1","id":312809129,"node_id":"MDU6SXNzdWUzMTI4MDkxMjk=","number":1,"title":"How to compile/run: numpy/arrayobject.h' file not found","user":{"login":"loretoparisi","id":163333,"node_id":"MDQ6VXNlcjE2MzMzMw==","avatar_url":"https://avatars.githubusercontent.com/u/163333?v=4","gravatar_id":"","url":"https://api.github.com/users/loretoparisi","html_url":"https://github.com/loretoparisi","followers_url":"https://api.github.com/users/loretoparisi/followers","following_url":"https://api.github.com/users/loretoparisi/following{/other_user}","gists_url":"https://api.github.com/users/loretoparisi/gists{/gist_id}","starred_url":"https://api.github.com/users/loretoparisi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loretoparisi/subscriptions","organizations_url":"https://api.github.com/users/loretoparisi/orgs","repos_url":"https://api.github.com/users/loretoparisi/repos","events_url":"https://api.github.com/users/loretoparisi/events{/privacy}","received_events_url":"https://api.github.com/users/loretoparisi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-10T07:49:32Z","updated_at":"2018-04-17T08:10:38Z","closed_at":"2018-04-16T19:36:50Z","author_association":"NONE","active_lock_reason":null,"body":"It seems that the project it is missing the cython `setup.py` to compile cython classes. Could you please provide it in order to properly compile & run? I'm not sure if it was run inline with cython, since trying as it is I get an error\r\n\r\n```\r\n(.env) ip-192-168-22-127:TsetlinMachine loretoparisi$ python NoisyXORDemo.py \r\n/Users/loretoparisi/.pyxbld/temp.macosx-10.13-intel-2.7/pyrex/MultiClassTsetlinMachine.c:566:10: fatal error: 'numpy/arrayobject.h' file not found\r\n```\r\n\r\nI have added both `numy` and `cython` dependencies in my `virtualenv`.\r\n\r\nI was trying this way\r\n\r\n```python\r\nfrom distutils.core import setup\r\nfrom distutils.extension import Extension\r\nfrom Cython.Distutils import build_ext\r\nimport numpy\r\n\r\next_modules = [Extension('func1', ['MultiClassTsetlinMachine.pyx', 'TsetlinMachine.pyx'],\r\n    include_dirs=[numpy.get_include()])]\r\nsetup(\r\n    name=\"TsetlinMachine\",\r\n    cmdclass={'build_ext': build_ext},\r\n    ext_modules=ext_modules\r\n)\r\n```\r\nto address the error `'numpy/arrayobject.h' file not found`, but it still outputs errors:\r\n\r\n```\r\ncc -bundle -undefined dynamic_lookup -arch x86_64 -arch i386 -Wl,-F. build/temp.macosx-10.13-intel-2.7/MultiClassTsetlinMachine.o build/temp.macosx-10.13-intel-2.7/TsetlinMachine.o -o /Users/loretoparisi/Documents/Projects/AI/TsetlinMachine/func1.so\r\nduplicate symbol _initfunc1 in:\r\n    build/temp.macosx-10.13-intel-2.7/MultiClassTsetlinMachine.o\r\n    build/temp.macosx-10.13-intel-2.7/TsetlinMachine.o\r\nduplicate symbol ___pyx_module_is_main_func1 in:\r\n    build/temp.macosx-10.13-intel-2.7/MultiClassTsetlinMachine.o\r\n    build/temp.macosx-10.13-intel-2.7/TsetlinMachine.o\r\nld: 2 duplicate symbols for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nerror: command 'cc' failed with exit status 1\r\n```\r\n\r\nThe second attempt was\r\n\r\n```python\r\nfrom distutils.core import setup\r\nfrom Cython.Build import cythonize\r\nimport numpy\r\n\r\nsetup(\r\n    name = \"TsetlinMachine\",\r\n    ext_modules = cythonize(\"*.pyx\"),\r\n    include_dirs=[numpy.get_include()]\r\n)\r\n```\r\n\r\nthis time it compiles ok, but I get an error when running:\r\n\r\n```\r\nImportError: Building module MultiClassTsetlinMachine failed: ['RuntimeError: maximum recursion depth exceeded while calling a Python object\\n']\r\n```","closed_by":{"login":"olegranmo","id":4214416,"node_id":"MDQ6VXNlcjQyMTQ0MTY=","avatar_url":"https://avatars.githubusercontent.com/u/4214416?v=4","gravatar_id":"","url":"https://api.github.com/users/olegranmo","html_url":"https://github.com/olegranmo","followers_url":"https://api.github.com/users/olegranmo/followers","following_url":"https://api.github.com/users/olegranmo/following{/other_user}","gists_url":"https://api.github.com/users/olegranmo/gists{/gist_id}","starred_url":"https://api.github.com/users/olegranmo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olegranmo/subscriptions","organizations_url":"https://api.github.com/users/olegranmo/orgs","repos_url":"https://api.github.com/users/olegranmo/repos","events_url":"https://api.github.com/users/olegranmo/events{/privacy}","received_events_url":"https://api.github.com/users/olegranmo/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cair/TsetlinMachine/issues/1/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cair/TsetlinMachine/issues/1/timeline","performed_via_github_app":null,"state_reason":"completed"}