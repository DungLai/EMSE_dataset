{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1","repository_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt","labels_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1/labels{/name}","comments_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1/comments","events_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1/events","html_url":"https://github.com/ProGamerGov/neural-style-pt/issues/1","id":345233151,"node_id":"MDU6SXNzdWUzNDUyMzMxNTE=","number":1,"title":"Running on older GPU","user":{"login":"bmaltais","id":7474674,"node_id":"MDQ6VXNlcjc0NzQ2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7474674?v=4","gravatar_id":"","url":"https://api.github.com/users/bmaltais","html_url":"https://github.com/bmaltais","followers_url":"https://api.github.com/users/bmaltais/followers","following_url":"https://api.github.com/users/bmaltais/following{/other_user}","gists_url":"https://api.github.com/users/bmaltais/gists{/gist_id}","starred_url":"https://api.github.com/users/bmaltais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmaltais/subscriptions","organizations_url":"https://api.github.com/users/bmaltais/orgs","repos_url":"https://api.github.com/users/bmaltais/repos","events_url":"https://api.github.com/users/bmaltais/events{/privacy}","received_events_url":"https://api.github.com/users/bmaltais/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-07-27T13:48:44Z","updated_at":"2018-08-27T18:28:06Z","closed_at":"2018-08-27T18:28:06Z","author_association":"NONE","active_lock_reason":null,"body":"Great work! I am trying to install the application and I have been running into issue because my GPU is too old for the latest putorch version.\r\n\r\nWhat version of python and pytorch are you using?\r\n\r\nI am starting from this docker image built with the Dockerfile containing:\r\n\r\n```\r\nFROM nvidia/cuda:8.0-cudnn5-devel-ubuntu14.04\r\nENV MINICONDA /opt/miniconda\r\nENV PATH ${MINICONDA}/bin:$PATH\r\nRUN apt-get update && apt-get install -y wget git\r\nRUN wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -P /tmp\r\nRUN bash /tmp/Miniconda3-latest-Linux-x86_64.sh -b -p $MINICONDA\r\nRUN rm /tmp/Miniconda3-latest-Linux-x86_64.sh\r\nRUN conda install -y pytorch=0.3.0.0 torchvision -c pytorch\r\nRUN mkdir /app \r\nWORKDIR /app\r\nRUN git clone https://github.com/ProGamerGov/neural-style-pt.git \r\nWORKDIR /app/neural-style-pt\r\nRUN python models/download_models.py\r\n```\r\n\r\nbut I get this error when I run : python neural_style.py -gpu 0 -backend cudnn -print_iter 1\r\n\r\n```\r\nVGG-19 Architecture Detected\r\nSuccessfully loaded models/vgg19-d01eb7cb.pth\r\nconv1_1: 64 3 3 3\r\nconv1_2: 64 64 3 3\r\nconv2_1: 128 64 3 3\r\nconv2_2: 128 128 3 3\r\nconv3_1: 256 128 3 3\r\nconv3_2: 256 256 3 3\r\nconv3_3: 256 256 3 3\r\nconv3_4: 256 256 3 3\r\nconv4_1: 512 256 3 3\r\nconv4_2: 512 512 3 3\r\nconv4_3: 512 512 3 3\r\nconv4_4: 512 512 3 3\r\nconv5_1: 512 512 3 3\r\nconv5_2: 512 512 3 3\r\nconv5_3: 512 512 3 3\r\nconv5_4: 512 512 3 3\r\nSetting up style layer 2: relu1_1\r\nSetting up style layer 7: relu2_1\r\nSetting up style layer 12: relu3_1\r\nSetting up style layer 21: relu4_1\r\nSetting up content layer 23: relu4_2\r\nSetting up style layer 30: relu5_1\r\nCapturing content targets\r\nnn.Sequential (\r\n  [input -> (1) -> (2) -> (3) -> (4) -> (5) -> (6) -> (7) -> (8) -> (9) -> (10) -> (11) -> (12) -> (13) -> (14) -> (15) -> (16) -> (17) -> (18) -> (19) -> (20) -> (21) -> (22) -> (23) -> (24) -> (25) -> (26) -> (27) -> (28) -> (29) -> (30) -> (31) -> (32) -> (33) -> (34) -> (35) -> (36) -> (37) -> output]\r\n  (1): nn.TVLoss\r\n  (2): nn.Conv2d (3 -> 64, 3x3, 1,1, 1,1)\r\n  (3): nn.ReLU\r\n  (4): nn.StyleLoss\r\n  (5): nn.Conv2d (64 -> 64, 3x3, 1,1, 1,1)\r\n  (6): nn.ReLU\r\n  (7): nn.MaxPool2d(2x2, 2,2)\r\n  (8): nn.Conv2d (64 -> 128, 3x3, 1,1, 1,1)\r\n  (9): nn.ReLU\r\n  (10): nn.StyleLoss\r\n  (11): nn.Conv2d (128 -> 128, 3x3, 1,1, 1,1)\r\n  (12): nn.ReLU\r\n  (13): nn.MaxPool2d(2x2, 2,2)\r\n  (14): nn.Conv2d (128 -> 256, 3x3, 1,1, 1,1)\r\n  (15): nn.ReLU\r\n  (16): nn.StyleLoss\r\n  (17): nn.Conv2d (256 -> 256, 3x3, 1,1, 1,1)\r\n  (18): nn.ReLU\r\n  (19): nn.Conv2d (256 -> 256, 3x3, 1,1, 1,1)\r\n  (20): nn.ReLU\r\n  (21): nn.Conv2d (256 -> 256, 3x3, 1,1, 1,1)\r\n  (22): nn.ReLU\r\n  (23): nn.MaxPool2d(2x2, 2,2)\r\n  (24): nn.Conv2d (256 -> 512, 3x3, 1,1, 1,1)\r\n  (25): nn.ReLU\r\n  (26): nn.StyleLoss\r\n  (27): nn.Conv2d (512 -> 512, 3x3, 1,1, 1,1)\r\n  (28): nn.ReLU\r\n  (29): nn.ContentLoss\r\n  (30): nn.Conv2d (512 -> 512, 3x3, 1,1, 1,1)\r\n  (31): nn.ReLU\r\n  (32): nn.Conv2d (512 -> 512, 3x3, 1,1, 1,1)\r\n  (33): nn.ReLU\r\n  (34): nn.MaxPool2d(2x2, 2,2)\r\n  (35): nn.Conv2d (512 -> 512, 3x3, 1,1, 1,1)\r\n  (36): nn.ReLU\r\n  (37): nn.StyleLoss\r\n)\r\nTraceback (most recent call last):\r\n  File \"neural_style.py\", line 409, in <module>\r\n    main()\r\n  File \"neural_style.py\", line 149, in main\r\n    net(content_image)\r\n  File \"/opt/miniconda/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 325, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/miniconda/lib/python3.6/site-packages/torch/nn/modules/container.py\", line 67, in forward\r\n    input = module(input)\r\n  File \"/opt/miniconda/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 325, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/miniconda/lib/python3.6/site-packages/torch/nn/modules/conv.py\", line 277, in forward\r\n    self.padding, self.dilation, self.groups)\r\n  File \"/opt/miniconda/lib/python3.6/site-packages/torch/nn/functional.py\", line 90, in conv2d\r\n    return f(input, weight, bias)\r\nTypeError: argument 0 is not a Variable\r\n\r\n```\r\n\r\nAny idea? Is there a hard dependency on cuda 9.1 cudnn 7.1?","closed_by":{"login":"ProGamerGov","id":10626398,"node_id":"MDQ6VXNlcjEwNjI2Mzk4","avatar_url":"https://avatars.githubusercontent.com/u/10626398?v=4","gravatar_id":"","url":"https://api.github.com/users/ProGamerGov","html_url":"https://github.com/ProGamerGov","followers_url":"https://api.github.com/users/ProGamerGov/followers","following_url":"https://api.github.com/users/ProGamerGov/following{/other_user}","gists_url":"https://api.github.com/users/ProGamerGov/gists{/gist_id}","starred_url":"https://api.github.com/users/ProGamerGov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ProGamerGov/subscriptions","organizations_url":"https://api.github.com/users/ProGamerGov/orgs","repos_url":"https://api.github.com/users/ProGamerGov/repos","events_url":"https://api.github.com/users/ProGamerGov/events{/privacy}","received_events_url":"https://api.github.com/users/ProGamerGov/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1/timeline","performed_via_github_app":null,"state_reason":"completed"}