[{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/408428531","html_url":"https://github.com/ProGamerGov/neural-style-pt/issues/1#issuecomment-408428531","issue_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1","id":408428531,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODQyODUzMQ==","user":{"login":"bmaltais","id":7474674,"node_id":"MDQ6VXNlcjc0NzQ2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7474674?v=4","gravatar_id":"","url":"https://api.github.com/users/bmaltais","html_url":"https://github.com/bmaltais","followers_url":"https://api.github.com/users/bmaltais/followers","following_url":"https://api.github.com/users/bmaltais/following{/other_user}","gists_url":"https://api.github.com/users/bmaltais/gists{/gist_id}","starred_url":"https://api.github.com/users/bmaltais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmaltais/subscriptions","organizations_url":"https://api.github.com/users/bmaltais/orgs","repos_url":"https://api.github.com/users/bmaltais/repos","events_url":"https://api.github.com/users/bmaltais/events{/privacy}","received_events_url":"https://api.github.com/users/bmaltais/received_events","type":"User","site_admin":false},"created_at":"2018-07-27T14:04:39Z","updated_at":"2018-07-27T14:04:39Z","author_association":"NONE","body":"Trying to build a docker container. If I get it working I will share for others so they don't have to go through the pain of the manual setup ;-)\r\n","reactions":{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/408428531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bmaltais","id":7474674,"node_id":"MDQ6VXNlcjc0NzQ2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7474674?v=4","gravatar_id":"","url":"https://api.github.com/users/bmaltais","html_url":"https://github.com/bmaltais","followers_url":"https://api.github.com/users/bmaltais/followers","following_url":"https://api.github.com/users/bmaltais/following{/other_user}","gists_url":"https://api.github.com/users/bmaltais/gists{/gist_id}","starred_url":"https://api.github.com/users/bmaltais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmaltais/subscriptions","organizations_url":"https://api.github.com/users/bmaltais/orgs","repos_url":"https://api.github.com/users/bmaltais/repos","events_url":"https://api.github.com/users/bmaltais/events{/privacy}","received_events_url":"https://api.github.com/users/bmaltais/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/408515663","html_url":"https://github.com/ProGamerGov/neural-style-pt/issues/1#issuecomment-408515663","issue_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1","id":408515663,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODUxNTY2Mw==","user":{"login":"ProGamerGov","id":10626398,"node_id":"MDQ6VXNlcjEwNjI2Mzk4","avatar_url":"https://avatars.githubusercontent.com/u/10626398?v=4","gravatar_id":"","url":"https://api.github.com/users/ProGamerGov","html_url":"https://github.com/ProGamerGov","followers_url":"https://api.github.com/users/ProGamerGov/followers","following_url":"https://api.github.com/users/ProGamerGov/following{/other_user}","gists_url":"https://api.github.com/users/ProGamerGov/gists{/gist_id}","starred_url":"https://api.github.com/users/ProGamerGov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ProGamerGov/subscriptions","organizations_url":"https://api.github.com/users/ProGamerGov/orgs","repos_url":"https://api.github.com/users/ProGamerGov/repos","events_url":"https://api.github.com/users/ProGamerGov/events{/privacy}","received_events_url":"https://api.github.com/users/ProGamerGov/received_events","type":"User","site_admin":false},"created_at":"2018-07-27T19:22:35Z","updated_at":"2018-07-27T20:13:49Z","author_association":"OWNER","body":"> Great work! I am trying to install the application and I have been running into issue\r\n\r\n> `TypeError: argument 0 is not a Variable`\r\n\r\n\r\n@bmaltais  Thanks! I think the issue is that you are using an outdated version of PyTorch, v0.3. In version 0.4, the [Tensor and Variable classes were merged together](https://pytorch.org/2018/04/22/0_4_0-migration-guide.html), and that's what the code was tested with. When 0.4 was released, I removed references to `Variable`, and started using `.item()`, which \r\n\r\n> Any idea? Is there a hard dependency on cuda 9.1 cudnn 7.1?\r\n\r\nAny CUDA or cuDNN version that PyTorch supports, should work. \r\n\r\nAs for Python, I have tested and made sure that all the Python scripts can run with both Python 2 and 3. \r\n\r\n>  I have been running into issue because my GPU is too old for the latest pytorch version.\r\n\r\nAs per the [installation guide](https://github.com/ProGamerGov/neural-style-pt/blob/master/INSTALL.md), you will likely need to install from source in order to use your GPU: \r\n\r\n> Note that in order to reduce their size, the pre-packaged binary releases (pip, Conda, etc...) have removed support for some older GPUs, and thus you will have to install from source in order to use these GPUs.\r\n\r\nOnce you you have installed from source, I have found that you can run `python setup.py install` (or possibly with python3) if the GPU has changed, and the installation will occur a lot more quickly. This will also make sure that the appropriate GPU binaries are used. Though I have only tested this with different AWS instances. \r\n\r\nAlso, you don't have to install the Torchvision package from source. You can likely just use pip or Conda. ","reactions":{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/408515663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ProGamerGov","id":10626398,"node_id":"MDQ6VXNlcjEwNjI2Mzk4","avatar_url":"https://avatars.githubusercontent.com/u/10626398?v=4","gravatar_id":"","url":"https://api.github.com/users/ProGamerGov","html_url":"https://github.com/ProGamerGov","followers_url":"https://api.github.com/users/ProGamerGov/followers","following_url":"https://api.github.com/users/ProGamerGov/following{/other_user}","gists_url":"https://api.github.com/users/ProGamerGov/gists{/gist_id}","starred_url":"https://api.github.com/users/ProGamerGov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ProGamerGov/subscriptions","organizations_url":"https://api.github.com/users/ProGamerGov/orgs","repos_url":"https://api.github.com/users/ProGamerGov/repos","events_url":"https://api.github.com/users/ProGamerGov/events{/privacy}","received_events_url":"https://api.github.com/users/ProGamerGov/received_events","type":"User","site_admin":false}},{"id":1757976390,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc1Nzk3NjM5MA==","url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/events/1757976390","actor":{"login":"bmaltais","id":7474674,"node_id":"MDQ6VXNlcjc0NzQ2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7474674?v=4","gravatar_id":"","url":"https://api.github.com/users/bmaltais","html_url":"https://github.com/bmaltais","followers_url":"https://api.github.com/users/bmaltais/followers","following_url":"https://api.github.com/users/bmaltais/following{/other_user}","gists_url":"https://api.github.com/users/bmaltais/gists{/gist_id}","starred_url":"https://api.github.com/users/bmaltais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmaltais/subscriptions","organizations_url":"https://api.github.com/users/bmaltais/orgs","repos_url":"https://api.github.com/users/bmaltais/repos","events_url":"https://api.github.com/users/bmaltais/events{/privacy}","received_events_url":"https://api.github.com/users/bmaltais/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-27T19:22:35Z","performed_via_github_app":null},{"id":1757976391,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3NTc5NzYzOTE=","url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/events/1757976391","actor":{"login":"bmaltais","id":7474674,"node_id":"MDQ6VXNlcjc0NzQ2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7474674?v=4","gravatar_id":"","url":"https://api.github.com/users/bmaltais","html_url":"https://github.com/bmaltais","followers_url":"https://api.github.com/users/bmaltais/followers","following_url":"https://api.github.com/users/bmaltais/following{/other_user}","gists_url":"https://api.github.com/users/bmaltais/gists{/gist_id}","starred_url":"https://api.github.com/users/bmaltais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmaltais/subscriptions","organizations_url":"https://api.github.com/users/bmaltais/orgs","repos_url":"https://api.github.com/users/bmaltais/repos","events_url":"https://api.github.com/users/bmaltais/events{/privacy}","received_events_url":"https://api.github.com/users/bmaltais/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-27T19:22:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/408614251","html_url":"https://github.com/ProGamerGov/neural-style-pt/issues/1#issuecomment-408614251","issue_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/1","id":408614251,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODYxNDI1MQ==","user":{"login":"bmaltais","id":7474674,"node_id":"MDQ6VXNlcjc0NzQ2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7474674?v=4","gravatar_id":"","url":"https://api.github.com/users/bmaltais","html_url":"https://github.com/bmaltais","followers_url":"https://api.github.com/users/bmaltais/followers","following_url":"https://api.github.com/users/bmaltais/following{/other_user}","gists_url":"https://api.github.com/users/bmaltais/gists{/gist_id}","starred_url":"https://api.github.com/users/bmaltais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmaltais/subscriptions","organizations_url":"https://api.github.com/users/bmaltais/orgs","repos_url":"https://api.github.com/users/bmaltais/repos","events_url":"https://api.github.com/users/bmaltais/events{/privacy}","received_events_url":"https://api.github.com/users/bmaltais/received_events","type":"User","site_admin":false},"created_at":"2018-07-28T15:11:28Z","updated_at":"2018-07-28T16:17:44Z","author_association":"NONE","body":"It worked from source. In case others are interested to build a container that is ready to run neural-style-pt on a system with an older NVIDIA GPU you can use this dockerfile to build it:\r\n\r\n```\r\nFROM nvidia/cuda:8.0-cudnn7-devel-ubuntu16.04\r\nENV ANACONDA /opt/anaconda2\r\nENV CUDA_PATH /usr/local/cuda\r\nENV PATH ${ANACONDA}/bin:${CUDA_PATH}/bin:$PATH\r\nENV LD_LIBRARY_PATH ${ANACONDA}/lib:${CUDA_PATH}/bin64:$LD_LIBRARY_PATH\r\nENV C_INCLUDE_PATH ${CUDA_PATH}/include\r\nENV CMAKE_PREFIX_PATH ${ANACONDA}/\r\n\r\nRUN apt-get update && \\\r\n    apt-get install -y wget build-essential git && \\\r\n    apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\r\n\r\nRUN wget https://repo.continuum.io/archive/Anaconda3-5.2.0-Linux-x86_64.sh -P /tmp && \\\r\n    bash /tmp/Anaconda3-5.2.0-Linux-x86_64.sh -b -p $ANACONDA && \\\r\n    rm /tmp/Anaconda3-5.2.0-Linux-x86_64.sh -rf\r\n\r\n# Install basic dependencies\r\nRUN conda install -y numpy pyyaml mkl mkl-include setuptools cmake cffi typing && \\\r\n    conda install -y -c mingfeima mkldnn && \\\r\n    conda install -y -c pytorch magma-cuda80 \\\r\n    && conda clean -ya\r\n\r\n# Build pytorch and vision from code\r\nRUN mkdir /app && \\\r\n    cd /app && \\\r\n    git clone --recursive https://github.com/pytorch/pytorch && \\\r\n    cd /app/pytorch && \\\r\n    python setup.py install && \\\r\n    cd /app && \\\r\n    git clone --recursive https://github.com/pytorch/vision && \\\r\n    cd /app/vision && \\\r\n    python setup.py install\r\n```\r\nbuild the docker container with:\r\n\r\n`docker build -t pytprch-cuda8.0-cudnn7-devel-ubuntu16.04 .`\r\n\r\nIt will take about an hour to put everything together if you have a fast internet connection.\r\n\r\nHere is the next Dockerfile to actually install neural-style-pt:\r\n\r\n```\r\nFROM pytprch-cuda8.0-cudnn7-devel-ubuntu16.04\r\n    \r\nRUN cd /app && \\\r\n    git clone https://github.com/ProGamerGov/neural-style-pt.git && \\\r\n    cd /app/neural-style-pt && \\\r\n    python models/download_models.py\r\n\r\nWORKDIR /app/neural-style-pt\r\n```\r\n\r\nbuild the docker container with:\r\n\r\n`docker build -t neural-style-pt .`\r\n\r\nThen run the code with:\r\n\r\n`nvidia-docker run -it neural-style-pt`","reactions":{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/408614251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bmaltais","id":7474674,"node_id":"MDQ6VXNlcjc0NzQ2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7474674?v=4","gravatar_id":"","url":"https://api.github.com/users/bmaltais","html_url":"https://github.com/bmaltais","followers_url":"https://api.github.com/users/bmaltais/followers","following_url":"https://api.github.com/users/bmaltais/following{/other_user}","gists_url":"https://api.github.com/users/bmaltais/gists{/gist_id}","starred_url":"https://api.github.com/users/bmaltais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmaltais/subscriptions","organizations_url":"https://api.github.com/users/bmaltais/orgs","repos_url":"https://api.github.com/users/bmaltais/repos","events_url":"https://api.github.com/users/bmaltais/events{/privacy}","received_events_url":"https://api.github.com/users/bmaltais/received_events","type":"User","site_admin":false}},{"id":1811272525,"node_id":"MDExOkNsb3NlZEV2ZW50MTgxMTI3MjUyNQ==","url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/events/1811272525","actor":{"login":"ProGamerGov","id":10626398,"node_id":"MDQ6VXNlcjEwNjI2Mzk4","avatar_url":"https://avatars.githubusercontent.com/u/10626398?v=4","gravatar_id":"","url":"https://api.github.com/users/ProGamerGov","html_url":"https://github.com/ProGamerGov","followers_url":"https://api.github.com/users/ProGamerGov/followers","following_url":"https://api.github.com/users/ProGamerGov/following{/other_user}","gists_url":"https://api.github.com/users/ProGamerGov/gists{/gist_id}","starred_url":"https://api.github.com/users/ProGamerGov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ProGamerGov/subscriptions","organizations_url":"https://api.github.com/users/ProGamerGov/orgs","repos_url":"https://api.github.com/users/ProGamerGov/repos","events_url":"https://api.github.com/users/ProGamerGov/events{/privacy}","received_events_url":"https://api.github.com/users/ProGamerGov/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-08-27T18:28:06Z","state_reason":null,"performed_via_github_app":null}]