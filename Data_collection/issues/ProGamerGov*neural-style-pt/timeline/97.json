[{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/1354291344","html_url":"https://github.com/ProGamerGov/neural-style-pt/issues/97#issuecomment-1354291344","issue_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/97","id":1354291344,"node_id":"IC_kwDOCHwEic5QuNiQ","user":{"login":"ziye3001","id":42295392,"node_id":"MDQ6VXNlcjQyMjk1Mzky","avatar_url":"https://avatars.githubusercontent.com/u/42295392?v=4","gravatar_id":"","url":"https://api.github.com/users/ziye3001","html_url":"https://github.com/ziye3001","followers_url":"https://api.github.com/users/ziye3001/followers","following_url":"https://api.github.com/users/ziye3001/following{/other_user}","gists_url":"https://api.github.com/users/ziye3001/gists{/gist_id}","starred_url":"https://api.github.com/users/ziye3001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ziye3001/subscriptions","organizations_url":"https://api.github.com/users/ziye3001/orgs","repos_url":"https://api.github.com/users/ziye3001/repos","events_url":"https://api.github.com/users/ziye3001/events{/privacy}","received_events_url":"https://api.github.com/users/ziye3001/received_events","type":"User","site_admin":false},"created_at":"2022-12-16T06:44:00Z","updated_at":"2022-12-16T06:44:00Z","author_association":"NONE","body":"well, I guess something exceeds the maximal value of float16, which is a fairly small number 65500. For example, the Gram Matrix is approximately the sum of the feature^2, which easily gets very large. The MSE loss of two Gram Matrices could have even larger magnitude. A possible solution could be some alternative losses, e.g. BN loss, in MMD paper. But you have to adjust the style weight to get similar results with the ones with Gram Matrices.","reactions":{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/1354291344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ziye3001","id":42295392,"node_id":"MDQ6VXNlcjQyMjk1Mzky","avatar_url":"https://avatars.githubusercontent.com/u/42295392?v=4","gravatar_id":"","url":"https://api.github.com/users/ziye3001","html_url":"https://github.com/ziye3001","followers_url":"https://api.github.com/users/ziye3001/followers","following_url":"https://api.github.com/users/ziye3001/following{/other_user}","gists_url":"https://api.github.com/users/ziye3001/gists{/gist_id}","starred_url":"https://api.github.com/users/ziye3001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ziye3001/subscriptions","organizations_url":"https://api.github.com/users/ziye3001/orgs","repos_url":"https://api.github.com/users/ziye3001/repos","events_url":"https://api.github.com/users/ziye3001/events{/privacy}","received_events_url":"https://api.github.com/users/ziye3001/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/1356150149","html_url":"https://github.com/ProGamerGov/neural-style-pt/issues/97#issuecomment-1356150149","issue_url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/97","id":1356150149,"node_id":"IC_kwDOCHwEic5Q1TWF","user":{"login":"JCBrouwer","id":15871226,"node_id":"MDQ6VXNlcjE1ODcxMjI2","avatar_url":"https://avatars.githubusercontent.com/u/15871226?v=4","gravatar_id":"","url":"https://api.github.com/users/JCBrouwer","html_url":"https://github.com/JCBrouwer","followers_url":"https://api.github.com/users/JCBrouwer/followers","following_url":"https://api.github.com/users/JCBrouwer/following{/other_user}","gists_url":"https://api.github.com/users/JCBrouwer/gists{/gist_id}","starred_url":"https://api.github.com/users/JCBrouwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JCBrouwer/subscriptions","organizations_url":"https://api.github.com/users/JCBrouwer/orgs","repos_url":"https://api.github.com/users/JCBrouwer/repos","events_url":"https://api.github.com/users/JCBrouwer/events{/privacy}","received_events_url":"https://api.github.com/users/JCBrouwer/received_events","type":"User","site_admin":false},"created_at":"2022-12-17T10:02:05Z","updated_at":"2022-12-17T10:02:05Z","author_association":"NONE","body":"Another option would be to find out what the max feature values are on average and then add a fixed scaling before calculating the gram matrix.\r\n\r\nThis way the magnitude of the squaring operation is essentially limited to 1. You'd have to make sure that the loss weights are also adjusted accordingly though.","reactions":{"url":"https://api.github.com/repos/ProGamerGov/neural-style-pt/issues/comments/1356150149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JCBrouwer","id":15871226,"node_id":"MDQ6VXNlcjE1ODcxMjI2","avatar_url":"https://avatars.githubusercontent.com/u/15871226?v=4","gravatar_id":"","url":"https://api.github.com/users/JCBrouwer","html_url":"https://github.com/JCBrouwer","followers_url":"https://api.github.com/users/JCBrouwer/followers","following_url":"https://api.github.com/users/JCBrouwer/following{/other_user}","gists_url":"https://api.github.com/users/JCBrouwer/gists{/gist_id}","starred_url":"https://api.github.com/users/JCBrouwer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JCBrouwer/subscriptions","organizations_url":"https://api.github.com/users/JCBrouwer/orgs","repos_url":"https://api.github.com/users/JCBrouwer/repos","events_url":"https://api.github.com/users/JCBrouwer/events{/privacy}","received_events_url":"https://api.github.com/users/JCBrouwer/received_events","type":"User","site_admin":false}}]