{"url":"https://api.github.com/repos/microsoft/graspologic/issues/952","repository_url":"https://api.github.com/repos/microsoft/graspologic","labels_url":"https://api.github.com/repos/microsoft/graspologic/issues/952/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/graspologic/issues/952/comments","events_url":"https://api.github.com/repos/microsoft/graspologic/issues/952/events","html_url":"https://github.com/microsoft/graspologic/issues/952","id":1266140045,"node_id":"I_kwDOCM7Erc5Ld8ON","number":952,"title":"[BUG] Node2Vec fitting fails on graph with isolated nodes","user":{"login":"dokato","id":4547289,"node_id":"MDQ6VXNlcjQ1NDcyODk=","avatar_url":"https://avatars.githubusercontent.com/u/4547289?v=4","gravatar_id":"","url":"https://api.github.com/users/dokato","html_url":"https://github.com/dokato","followers_url":"https://api.github.com/users/dokato/followers","following_url":"https://api.github.com/users/dokato/following{/other_user}","gists_url":"https://api.github.com/users/dokato/gists{/gist_id}","starred_url":"https://api.github.com/users/dokato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dokato/subscriptions","organizations_url":"https://api.github.com/users/dokato/orgs","repos_url":"https://api.github.com/users/dokato/repos","events_url":"https://api.github.com/users/dokato/events{/privacy}","received_events_url":"https://api.github.com/users/dokato/received_events","type":"User","site_admin":false},"labels":[{"id":1048646805,"node_id":"MDU6TGFiZWwxMDQ4NjQ2ODA1","url":"https://api.github.com/repos/microsoft/graspologic/labels/bug","name":"bug","color":"cded2d","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-06-09T13:33:12Z","updated_at":"2022-07-08T09:12:24Z","closed_at":"2022-07-08T09:12:24Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"## Expected Behavior\r\n\r\nIt checks that graph has isolated nodes and stops at the beginning before running costly `_learn_embeddings` or filters them out.\r\n\r\n## Actual Behavior\r\n\r\nIt doesn't find a key in  the `remapped_labels`\r\n\r\n## Example Code\r\n\r\n```python\r\nadj2 = np.array([\r\n    [0,0, 0, 0, 0],\r\n    [0, 1, 1, 0, 1],\r\n    [0, 0, 1, 1, 1],\r\n    [0, 1, 1, 0, 1],\r\n    [0, 1, 1, 1, 0]\r\n])\r\nXhat, _ = node2vec(nx.from_numpy_matrix(adj2), iterations=100)\r\n```\r\n\r\n## Full Traceback\r\n```pytb\r\nKeyError                                  Traceback (most recent call last)\r\n/var/folders/zt/s4rb4_kj4pnbmcqw7xyw52hw0000gn/T/ipykernel_65152/1282715379.py in <module>\r\n----> 1 Xhat, _ = node2vec(nx.from_numpy_matrix(adj2),\r\n      2                      iterations=100)\r\n\r\n~/miniforge3/envs/grasp/lib/python3.9/site-packages/graspologic/embed/n2v.py in node2vec_embed(graph, num_walks, walk_length, return_hyperparameter, inout_hyperparameter, dimensions, window_size, workers, iterations, interpolate_walk_lengths_by_node_degree, random_seed)\r\n    150 \r\n    151     return (\r\n--> 152         np.array([model.wv.get_vector(remapped_labels[node]) for node in labels]),\r\n    153         labels,\r\n    154     )\r\n\r\n~/miniforge3/envs/grasp/lib/python3.9/site-packages/graspologic/embed/n2v.py in <listcomp>(.0)\r\n    150 \r\n    151     return (\r\n--> 152         np.array([model.wv.get_vector(remapped_labels[node]) for node in labels]),\r\n    153         labels,\r\n    154     )\r\n\r\nKeyError: 0\r\n```\r\n\r\n## Your Environment\r\n* Python version:  3.9.7\r\n* graspologic version: 1.0.0\r\n\r\n","closed_by":{"login":"dokato","id":4547289,"node_id":"MDQ6VXNlcjQ1NDcyODk=","avatar_url":"https://avatars.githubusercontent.com/u/4547289?v=4","gravatar_id":"","url":"https://api.github.com/users/dokato","html_url":"https://github.com/dokato","followers_url":"https://api.github.com/users/dokato/followers","following_url":"https://api.github.com/users/dokato/following{/other_user}","gists_url":"https://api.github.com/users/dokato/gists{/gist_id}","starred_url":"https://api.github.com/users/dokato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dokato/subscriptions","organizations_url":"https://api.github.com/users/dokato/orgs","repos_url":"https://api.github.com/users/dokato/repos","events_url":"https://api.github.com/users/dokato/events{/privacy}","received_events_url":"https://api.github.com/users/dokato/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/graspologic/issues/952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/graspologic/issues/952/timeline","performed_via_github_app":null,"state_reason":"completed"}