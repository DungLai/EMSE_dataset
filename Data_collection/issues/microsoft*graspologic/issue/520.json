{"url":"https://api.github.com/repos/microsoft/graspologic/issues/520","repository_url":"https://api.github.com/repos/microsoft/graspologic","labels_url":"https://api.github.com/repos/microsoft/graspologic/issues/520/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/graspologic/issues/520/comments","events_url":"https://api.github.com/repos/microsoft/graspologic/issues/520/events","html_url":"https://github.com/microsoft/graspologic/issues/520","id":716511398,"node_id":"MDU6SXNzdWU3MTY1MTEzOTg=","number":520,"title":"Consider parallelizing sampling inside of the LatentDistributionTest","user":{"login":"alyakin314","id":25692376,"node_id":"MDQ6VXNlcjI1NjkyMzc2","avatar_url":"https://avatars.githubusercontent.com/u/25692376?v=4","gravatar_id":"","url":"https://api.github.com/users/alyakin314","html_url":"https://github.com/alyakin314","followers_url":"https://api.github.com/users/alyakin314/followers","following_url":"https://api.github.com/users/alyakin314/following{/other_user}","gists_url":"https://api.github.com/users/alyakin314/gists{/gist_id}","starred_url":"https://api.github.com/users/alyakin314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alyakin314/subscriptions","organizations_url":"https://api.github.com/users/alyakin314/orgs","repos_url":"https://api.github.com/users/alyakin314/repos","events_url":"https://api.github.com/users/alyakin314/events{/privacy}","received_events_url":"https://api.github.com/users/alyakin314/received_events","type":"User","site_admin":false},"labels":[{"id":1048646807,"node_id":"MDU6TGFiZWwxMDQ4NjQ2ODA3","url":"https://api.github.com/repos/microsoft/graspologic/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":2259008500,"node_id":"MDU6TGFiZWwyMjU5MDA4NTAw","url":"https://api.github.com/repos/microsoft/graspologic/labels/low%20priority","name":"low priority","color":"d8cf1a","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-10-07T13:03:23Z","updated_at":"2021-05-20T17:02:32Z","closed_at":"2021-05-20T17:02:32Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"## Expected Behavior\r\nLDT that uses size correction is a little slower than uncorrected one. This is expected since it has an extra step, but it may be made faster. In particular, it may be that sampling from multivariate gaussians (which is probably done via rejection sampling or some kind of transformation and is likely not very fast) can be sped up by parallelizing here: https://github.com/microsoft/graspologic/blob/bbbc68a24ca9e2097575e7f92f809916ea3eeb46/graspologic/inference/latent_distribution_test.py#L346-L350\r\nHowever, there are two caveats:\r\n1. The results of each iteration of this loop are random, and parallelization+randomness should be treated with caution. If using Joblib, consider this resourse: https://bdpedigo.github.io/posts/2020/02/demo-parallel/ :) \r\n2. Each separate iteration by itself might be quite fast, so it is not clear whether parallelizing, either via joblib, or multiprocessing will even speed up or slow down the overall test. Thus it is imperative to run an experiment ensuring that parallelizing yields a better performance than not parallelizing. It is also important to ensure that this holds both when running only a single LDT _and_ when running a simulation that requires repeated use of the LDT (because joblib has interesting performance differences when you call it only once or multiple times).\r\n\r\nOf course, this would use the same workers as the current kwarg to LDT.\r\n\r\n## Actual Behavior\r\nSampling is not parallelized. :( \r\n","closed_by":{"login":"bdpedigo","id":25714207,"node_id":"MDQ6VXNlcjI1NzE0MjA3","avatar_url":"https://avatars.githubusercontent.com/u/25714207?v=4","gravatar_id":"","url":"https://api.github.com/users/bdpedigo","html_url":"https://github.com/bdpedigo","followers_url":"https://api.github.com/users/bdpedigo/followers","following_url":"https://api.github.com/users/bdpedigo/following{/other_user}","gists_url":"https://api.github.com/users/bdpedigo/gists{/gist_id}","starred_url":"https://api.github.com/users/bdpedigo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdpedigo/subscriptions","organizations_url":"https://api.github.com/users/bdpedigo/orgs","repos_url":"https://api.github.com/users/bdpedigo/repos","events_url":"https://api.github.com/users/bdpedigo/events{/privacy}","received_events_url":"https://api.github.com/users/bdpedigo/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/graspologic/issues/520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/graspologic/issues/520/timeline","performed_via_github_app":null,"state_reason":"completed"}