{"url":"https://api.github.com/repos/microsoft/graspologic/issues/931","repository_url":"https://api.github.com/repos/microsoft/graspologic","labels_url":"https://api.github.com/repos/microsoft/graspologic/issues/931/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/graspologic/issues/931/comments","events_url":"https://api.github.com/repos/microsoft/graspologic/issues/931/events","html_url":"https://github.com/microsoft/graspologic/issues/931","id":1166120834,"node_id":"I_kwDOCM7Erc5FgZeC","number":931,"title":"[BUG] Wonky bug with layouts module","user":{"login":"ebridge2","id":8883547,"node_id":"MDQ6VXNlcjg4ODM1NDc=","avatar_url":"https://avatars.githubusercontent.com/u/8883547?v=4","gravatar_id":"","url":"https://api.github.com/users/ebridge2","html_url":"https://github.com/ebridge2","followers_url":"https://api.github.com/users/ebridge2/followers","following_url":"https://api.github.com/users/ebridge2/following{/other_user}","gists_url":"https://api.github.com/users/ebridge2/gists{/gist_id}","starred_url":"https://api.github.com/users/ebridge2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ebridge2/subscriptions","organizations_url":"https://api.github.com/users/ebridge2/orgs","repos_url":"https://api.github.com/users/ebridge2/repos","events_url":"https://api.github.com/users/ebridge2/events{/privacy}","received_events_url":"https://api.github.com/users/ebridge2/received_events","type":"User","site_admin":false},"labels":[{"id":1048646805,"node_id":"MDU6TGFiZWwxMDQ4NjQ2ODA1","url":"https://api.github.com/repos/microsoft/graspologic/labels/bug","name":"bug","color":"cded2d","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":{"login":"daxpryce","id":899411,"node_id":"MDQ6VXNlcjg5OTQxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/899411?v=4","gravatar_id":"","url":"https://api.github.com/users/daxpryce","html_url":"https://github.com/daxpryce","followers_url":"https://api.github.com/users/daxpryce/followers","following_url":"https://api.github.com/users/daxpryce/following{/other_user}","gists_url":"https://api.github.com/users/daxpryce/gists{/gist_id}","starred_url":"https://api.github.com/users/daxpryce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daxpryce/subscriptions","organizations_url":"https://api.github.com/users/daxpryce/orgs","repos_url":"https://api.github.com/users/daxpryce/repos","events_url":"https://api.github.com/users/daxpryce/events{/privacy}","received_events_url":"https://api.github.com/users/daxpryce/received_events","type":"User","site_admin":false},"assignees":[{"login":"daxpryce","id":899411,"node_id":"MDQ6VXNlcjg5OTQxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/899411?v=4","gravatar_id":"","url":"https://api.github.com/users/daxpryce","html_url":"https://github.com/daxpryce","followers_url":"https://api.github.com/users/daxpryce/followers","following_url":"https://api.github.com/users/daxpryce/following{/other_user}","gists_url":"https://api.github.com/users/daxpryce/gists{/gist_id}","starred_url":"https://api.github.com/users/daxpryce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daxpryce/subscriptions","organizations_url":"https://api.github.com/users/daxpryce/orgs","repos_url":"https://api.github.com/users/daxpryce/repos","events_url":"https://api.github.com/users/daxpryce/events{/privacy}","received_events_url":"https://api.github.com/users/daxpryce/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2022-03-11T08:07:16Z","updated_at":"2022-03-25T12:18:50Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"body":"## Expected Behavior\r\n\r\n```\r\nimport graspologic\r\n```\r\nworks successfully in a jupyter notebook, after setting up from either github or the setup.py file manually (e.g., cloning package).\r\n\r\n## Actual Behavior\r\n\r\n```\r\nimport graspologic\r\n```\r\n\r\nproduces the following error from a jupyter notebook:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\nFile ~/.virtualenvs/graspy-fix/lib/python3.8/site-packages/pkg_resources/__init__.py:355, in get_provider(moduleOrReq)\r\n    354 try:\r\n--> 355     module = sys.modules[moduleOrReq]\r\n    356 except KeyError:\r\n\r\nKeyError: None\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTypeError                                 Traceback (most recent call last)\r\nInput In [1], in <cell line: 1>()\r\n----> 1 import graspologic\r\n      2 print(graspologic.__file__)\r\n\r\nFile <frozen importlib._bootstrap>:991, in _find_and_load(name, import_)\r\n\r\nFile <frozen importlib._bootstrap>:975, in _find_and_load_unlocked(name, import_)\r\n\r\nFile <frozen importlib._bootstrap>:655, in _load_unlocked(spec)\r\n\r\nFile <frozen importlib._bootstrap>:618, in _load_backward_compatible(spec)\r\n\r\nFile <frozen zipimport>:259, in load_module(self, fullname)\r\n\r\nFile ~/.virtualenvs/graspy-fix/lib/python3.8/site-packages/graspologic-1.0.1-py3.8.egg/graspologic/__init__.py:9, in <module>\r\n      7 import graspologic.embed\r\n      8 import graspologic.inference\r\n----> 9 import graspologic.layouts\r\n     10 import graspologic.models\r\n     11 import graspologic.nominate\r\n\r\nFile <frozen importlib._bootstrap>:991, in _find_and_load(name, import_)\r\n\r\nFile <frozen importlib._bootstrap>:975, in _find_and_load_unlocked(name, import_)\r\n\r\nFile <frozen importlib._bootstrap>:655, in _load_unlocked(spec)\r\n\r\nFile <frozen importlib._bootstrap>:618, in _load_backward_compatible(spec)\r\n\r\nFile <frozen zipimport>:259, in load_module(self, fullname)\r\n\r\nFile ~/.virtualenvs/graspy-fix/lib/python3.8/site-packages/graspologic-1.0.1-py3.8.egg/graspologic/layouts/__init__.py:6, in <module>\r\n      1 # Copyright (c) Microsoft Corporation.\r\n      2 # Licensed under the MIT license.\r\n      5 from .classes import NodePosition\r\n----> 6 from .colors import categorical_colors, sequential_colors\r\n      7 from .render import save_graph, show_graph\r\n      9 from .auto import layout_tsne, layout_umap  # isort:skip\r\n\r\nFile <frozen importlib._bootstrap>:991, in _find_and_load(name, import_)\r\n\r\nFile <frozen importlib._bootstrap>:975, in _find_and_load_unlocked(name, import_)\r\n\r\nFile <frozen importlib._bootstrap>:655, in _load_unlocked(spec)\r\n\r\nFile <frozen importlib._bootstrap>:618, in _load_backward_compatible(spec)\r\n\r\nFile <frozen zipimport>:259, in load_module(self, fullname)\r\n\r\nFile ~/.virtualenvs/graspy-fix/lib/python3.8/site-packages/graspologic-1.0.1-py3.8.egg/graspologic/layouts/colors.py:36, in <module>\r\n     32     dark: Dict[Any, Any] = thematic_json[\"dark\"]\r\n     33     return light, dark\r\n---> 36 _CACHED_LIGHT, _CACHED_DARK = _load_thematic_json(None)\r\n     39 def _get_colors(light_background: bool, theme_path: Optional[str]) -> Dict[Any, Any]:\r\n     40     light = _CACHED_LIGHT\r\n\r\nFile ~/.virtualenvs/graspy-fix/lib/python3.8/site-packages/graspologic-1.0.1-py3.8.egg/graspologic/layouts/colors.py:26, in _load_thematic_json(path)\r\n     24 else:\r\n     25     atexit.register(pkg_resources.cleanup_resources)\r\n---> 26     include_path = pkg_resources.resource_filename(__package__, \"include\")\r\n     27     colors_path = os.path.join(include_path, \"colors-100.json\")\r\n     29 with open(colors_path) as thematic_json_io:\r\n\r\nFile ~/.virtualenvs/graspy-fix/lib/python3.8/site-packages/pkg_resources/__init__.py:1141, in ResourceManager.resource_filename(self, package_or_requirement, resource_name)\r\n   1139 def resource_filename(self, package_or_requirement, resource_name):\r\n   1140     \"\"\"Return a true filesystem path for specified resource\"\"\"\r\n-> 1141     return get_provider(package_or_requirement).get_resource_filename(\r\n   1142         self, resource_name\r\n   1143     )\r\n\r\nFile ~/.virtualenvs/graspy-fix/lib/python3.8/site-packages/pkg_resources/__init__.py:357, in get_provider(moduleOrReq)\r\n    355     module = sys.modules[moduleOrReq]\r\n    356 except KeyError:\r\n--> 357     __import__(moduleOrReq)\r\n    358     module = sys.modules[moduleOrReq]\r\n    359 loader = getattr(module, '__loader__', None)\r\n\r\nTypeError: __import__() argument 1 must be str, not None\r\n```\r\n\r\n\r\n## Your Environment\r\n* Python version: 3.8.2\r\n* graspologic version: 1.0.1 (`dev` branch)\r\n\r\n## Additional Details\r\n\r\nThe package builds/works successfully from a terminal session, so obviously my first thought was that I had mis-configured/not appropriately configured my jupyter kernel for the notebook. However, I verified manually that `graspologic.__file__` pointed to the same thing in both places, which it did. Further verified that my jupyter kernel was the right version of python, which it was. Not really sure what to do from there. Not sure whether this is a jupyter issue, OS issue (mac), or a python issue relating to something else.\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/microsoft/graspologic/issues/931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/graspologic/issues/931/timeline","performed_via_github_app":null,"state_reason":null}