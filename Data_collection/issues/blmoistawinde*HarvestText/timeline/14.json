[{"url":"https://api.github.com/repos/blmoistawinde/HarvestText/issues/comments/576081430","html_url":"https://github.com/blmoistawinde/HarvestText/issues/14#issuecomment-576081430","issue_url":"https://api.github.com/repos/blmoistawinde/HarvestText/issues/14","id":576081430,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjA4MTQzMA==","user":{"login":"blmoistawinde","id":32953014,"node_id":"MDQ6VXNlcjMyOTUzMDE0","avatar_url":"https://avatars.githubusercontent.com/u/32953014?v=4","gravatar_id":"","url":"https://api.github.com/users/blmoistawinde","html_url":"https://github.com/blmoistawinde","followers_url":"https://api.github.com/users/blmoistawinde/followers","following_url":"https://api.github.com/users/blmoistawinde/following{/other_user}","gists_url":"https://api.github.com/users/blmoistawinde/gists{/gist_id}","starred_url":"https://api.github.com/users/blmoistawinde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blmoistawinde/subscriptions","organizations_url":"https://api.github.com/users/blmoistawinde/orgs","repos_url":"https://api.github.com/users/blmoistawinde/repos","events_url":"https://api.github.com/users/blmoistawinde/events{/privacy}","received_events_url":"https://api.github.com/users/blmoistawinde/received_events","type":"User","site_admin":false},"created_at":"2020-01-20T02:28:11Z","updated_at":"2020-01-20T02:28:11Z","author_association":"OWNER","body":"分别回答两个问题：\r\n\r\n1. 速度慢的问题\r\n\r\n算法基本是固定的，没有太多优化空间。可能的话，建议从数据层面优化速度，比如把这些语料按照行业/公司/岗位先分类，然后分别执行新词发现。因为算法的时间复杂度大约是平方级别的，分而治之可以提升效率，还可能为不同的维度提供不同的发现。\r\n\r\n2. 指标排序问题\r\n\r\n目前没有默认进行排序，不过这里为发现的新词提供了多个指标，可以按照需要选择合适的指标排序。\r\n\r\n对于`new_words_info = ht.word_discover(para)`得到的new_words_info，它是一个这样的dataframe:\r\n\r\n```\r\n          freq  left_ent  right_ent         agg     score\r\ntext                                                     \r\n父亲    0.008442  1.033562   2.397895  118.454545  0.060068\r\n看见    0.005372  1.747868   1.549826   69.098485  0.032588\r\n我的    0.003837  1.332179   1.609438    4.431973  0.007299\r\n了一    0.003070  1.039721   1.039721   14.849003  0.007480\r\n他们    0.003070  1.039721   1.039721   21.186992  0.008465\r\n桔子    0.003070  1.039721   1.386294  100.230769  0.014902\r\n自己    0.003070  1.386294   1.386294  162.875000  0.018826\r\n茶房    0.003070  1.386294   1.386294  325.750000  0.021388\r\n不能    0.002302  1.098612   1.098612   34.901786  0.007805\r\n北京    0.002302  1.098612   1.098612  156.360000  0.011100\r\n走到    0.002302  1.098612   1.098612   29.613636  0.007444\r\n送我    0.002302  1.098612   1.098612   26.591837  0.007208\r\n```\r\n\r\n其中第一列是词频，二三列是词语与上下文区别度的左右交叉熵，第四列是词语内部的聚合度，而第五列是上面几项指标的一个综合评分。\r\n\r\n如要按照词频排序，则可以用`new_words_info = new_words_info.sort_values(by='freq', ascending=False)`，再得到具体词语就是`new_words = new_words_info.index.tolist()`\r\n\r\n不过，也许设置一个默认的排序标准确实会更易于使用，我会考虑在后面更新一个默认排序标准上去。\r\n","reactions":{"url":"https://api.github.com/repos/blmoistawinde/HarvestText/issues/comments/576081430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"blmoistawinde","id":32953014,"node_id":"MDQ6VXNlcjMyOTUzMDE0","avatar_url":"https://avatars.githubusercontent.com/u/32953014?v=4","gravatar_id":"","url":"https://api.github.com/users/blmoistawinde","html_url":"https://github.com/blmoistawinde","followers_url":"https://api.github.com/users/blmoistawinde/followers","following_url":"https://api.github.com/users/blmoistawinde/following{/other_user}","gists_url":"https://api.github.com/users/blmoistawinde/gists{/gist_id}","starred_url":"https://api.github.com/users/blmoistawinde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blmoistawinde/subscriptions","organizations_url":"https://api.github.com/users/blmoistawinde/orgs","repos_url":"https://api.github.com/users/blmoistawinde/repos","events_url":"https://api.github.com/users/blmoistawinde/events{/privacy}","received_events_url":"https://api.github.com/users/blmoistawinde/received_events","type":"User","site_admin":false}},{"id":2961745462,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI5NjE3NDU0NjI=","url":"https://api.github.com/repos/blmoistawinde/HarvestText/issues/events/2961745462","actor":{"login":"blmoistawinde","id":32953014,"node_id":"MDQ6VXNlcjMyOTUzMDE0","avatar_url":"https://avatars.githubusercontent.com/u/32953014?v=4","gravatar_id":"","url":"https://api.github.com/users/blmoistawinde","html_url":"https://github.com/blmoistawinde","followers_url":"https://api.github.com/users/blmoistawinde/followers","following_url":"https://api.github.com/users/blmoistawinde/following{/other_user}","gists_url":"https://api.github.com/users/blmoistawinde/gists{/gist_id}","starred_url":"https://api.github.com/users/blmoistawinde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blmoistawinde/subscriptions","organizations_url":"https://api.github.com/users/blmoistawinde/orgs","repos_url":"https://api.github.com/users/blmoistawinde/repos","events_url":"https://api.github.com/users/blmoistawinde/events{/privacy}","received_events_url":"https://api.github.com/users/blmoistawinde/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"1ea98d3b732254d5ca6ab8b99f0464f1a607716b","commit_url":"https://api.github.com/repos/blmoistawinde/HarvestText/commits/1ea98d3b732254d5ca6ab8b99f0464f1a607716b","created_at":"2020-01-20T06:44:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/blmoistawinde/HarvestText/issues/comments/603795416","html_url":"https://github.com/blmoistawinde/HarvestText/issues/14#issuecomment-603795416","issue_url":"https://api.github.com/repos/blmoistawinde/HarvestText/issues/14","id":603795416,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzc5NTQxNg==","user":{"login":"EmbolismSoil","id":9148286,"node_id":"MDQ6VXNlcjkxNDgyODY=","avatar_url":"https://avatars.githubusercontent.com/u/9148286?v=4","gravatar_id":"","url":"https://api.github.com/users/EmbolismSoil","html_url":"https://github.com/EmbolismSoil","followers_url":"https://api.github.com/users/EmbolismSoil/followers","following_url":"https://api.github.com/users/EmbolismSoil/following{/other_user}","gists_url":"https://api.github.com/users/EmbolismSoil/gists{/gist_id}","starred_url":"https://api.github.com/users/EmbolismSoil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmbolismSoil/subscriptions","organizations_url":"https://api.github.com/users/EmbolismSoil/orgs","repos_url":"https://api.github.com/users/EmbolismSoil/repos","events_url":"https://api.github.com/users/EmbolismSoil/events{/privacy}","received_events_url":"https://api.github.com/users/EmbolismSoil/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T11:46:30Z","updated_at":"2020-03-25T11:46:30Z","author_association":"NONE","body":"我看了一下，跑起来是单进程的，可以考虑多进程+共享内存或者用C++多线程重写一下？","reactions":{"url":"https://api.github.com/repos/blmoistawinde/HarvestText/issues/comments/603795416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"EmbolismSoil","id":9148286,"node_id":"MDQ6VXNlcjkxNDgyODY=","avatar_url":"https://avatars.githubusercontent.com/u/9148286?v=4","gravatar_id":"","url":"https://api.github.com/users/EmbolismSoil","html_url":"https://github.com/EmbolismSoil","followers_url":"https://api.github.com/users/EmbolismSoil/followers","following_url":"https://api.github.com/users/EmbolismSoil/following{/other_user}","gists_url":"https://api.github.com/users/EmbolismSoil/gists{/gist_id}","starred_url":"https://api.github.com/users/EmbolismSoil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmbolismSoil/subscriptions","organizations_url":"https://api.github.com/users/EmbolismSoil/orgs","repos_url":"https://api.github.com/users/EmbolismSoil/repos","events_url":"https://api.github.com/users/EmbolismSoil/events{/privacy}","received_events_url":"https://api.github.com/users/EmbolismSoil/received_events","type":"User","site_admin":false}}]