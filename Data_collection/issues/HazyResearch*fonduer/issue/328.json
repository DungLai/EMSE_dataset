{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/328","repository_url":"https://api.github.com/repos/HazyResearch/fonduer","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/328/labels{/name}","comments_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/328/comments","events_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/328/events","html_url":"https://github.com/HazyResearch/fonduer/issues/328","id":505619196,"node_id":"MDU6SXNzdWU1MDU2MTkxOTY=","number":328,"title":"deadlock detected","user":{"login":"yzj19870824","id":3381466,"node_id":"MDQ6VXNlcjMzODE0NjY=","avatar_url":"https://avatars.githubusercontent.com/u/3381466?v=4","gravatar_id":"","url":"https://api.github.com/users/yzj19870824","html_url":"https://github.com/yzj19870824","followers_url":"https://api.github.com/users/yzj19870824/followers","following_url":"https://api.github.com/users/yzj19870824/following{/other_user}","gists_url":"https://api.github.com/users/yzj19870824/gists{/gist_id}","starred_url":"https://api.github.com/users/yzj19870824/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yzj19870824/subscriptions","organizations_url":"https://api.github.com/users/yzj19870824/orgs","repos_url":"https://api.github.com/users/yzj19870824/repos","events_url":"https://api.github.com/users/yzj19870824/events{/privacy}","received_events_url":"https://api.github.com/users/yzj19870824/received_events","type":"User","site_admin":false},"labels":[{"id":825323858,"node_id":"MDU6TGFiZWw4MjUzMjM4NTg=","url":"https://api.github.com/repos/HazyResearch/fonduer/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"assignees":[{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-10-11T03:40:25Z","updated_at":"2019-10-18T04:01:52Z","closed_at":"2019-10-18T04:01:52Z","author_association":"NONE","active_lock_reason":null,"body":"I'm using Fonduer to construct knowledge base from Chinese corpus, \r\n\r\nSpacy doesn't support Chinese, So I train a Chinese model by myself , instead of downloading model from Spacy. And my Chinses model cannot split sentences, so the files in the directory which is assigned in TextDocProcess are already splitted by my script.\r\n\r\nBut when I  run featurizer or labeler applys, it's too slow to bear,\r\nSomething wrong is recorded in logfile of PostgreSQL:\r\n  \r\nNot only applying Labeler, but also applying featurizer, deadlock is detected\r\n```\r\nERROR: deadlock detected\r\nDETAIL: Process 31694 waits for Sharelock on transaction 71392072; blocked by process 31697.\r\n        Process 31697 waits for Sharelock on transaction 71392071; blocked by process 31694.\r\n        Process 31694: INSERT INTO Label_key(name, candidate_classes) VALUES('subAction_5', ARRAY['sub_action']) ON CONFLICT(name) DO UPDATE SET name=exclued.name, candidate_classes=exclued.candidate_classes;INSERT INTO Label_key(name, candidate_classes) VALUES('subAction_2', ARRAY['sub_action']) ON CONFLICT(name) DO UPDATE SET name=exclued.name, candidate_classes=exclued.candidate_classes;INSERT INTO Label_key(name, candidate_classes) VALUES('subAction_3', ARRAY['sub_action']) ON CONFLICT(name) DO UPDATE SET name=exclued.name, candidate_classes=exclued.candidate_classes;\r\n        Process 31697: INSERT INTO Label_key(name, candidate_classes) VALUES('subAction_5', ARRAY['sub_action']) ON CONFLICT(name) DO UPDATE SET name=exclued.name, candidate_classes=exclued.candidate_classes;INSERT INTO Label_key(name, candidate_classes) VALUES('subAction_2', ARRAY['sub_action']) ON CONFLICT(name) DO UPDATE SET name=exclued.name, candidate_classes=exclued.candidate_classes\r\n\r\nHINT: see server log for query details\r\nCONTEXT: while inserting index tuple(1,66) in relation \"label_key\"\r\nSTATEMENT:INSERT INTO Label_key(name, candidate_classes) VALUES('subAction_5', ARRAY['sub_action']) ON CONFLICT(name) DO UPDATE SET name=exclued.name, candidate_classes=exclued.candidate_classes;INSERT INTO Label_key(name, candidate_classes) VALUES('subAction_2', ARRAY['sub_action']) ON CONFLICT(name) DO UPDATE SET name=exclued.name, candidate_classes=exclued.candidate_classes;INSERT INTO Label_key(name, candidate_classes) VALUES('subAction_3', ARRAY['sub_action']) ON CONFLICT(name) DO UPDATE SET name=exclued.name, candidate_classes=exclued.candidate_classes;\r\n```\r\nI don't know why that happen.","closed_by":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/328/timeline","performed_via_github_app":null,"state_reason":"completed"}