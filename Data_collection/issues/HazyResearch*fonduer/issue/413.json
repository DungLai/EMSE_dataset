{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/413","repository_url":"https://api.github.com/repos/HazyResearch/fonduer","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/413/labels{/name}","comments_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/413/comments","events_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/413/events","html_url":"https://github.com/HazyResearch/fonduer/issues/413","id":615998189,"node_id":"MDU6SXNzdWU2MTU5OTgxODk=","number":413,"title":"get_neighbor_cell_ngrams with \"absolute\" parameter","user":{"login":"kaikun213","id":18282228,"node_id":"MDQ6VXNlcjE4MjgyMjI4","avatar_url":"https://avatars.githubusercontent.com/u/18282228?v=4","gravatar_id":"","url":"https://api.github.com/users/kaikun213","html_url":"https://github.com/kaikun213","followers_url":"https://api.github.com/users/kaikun213/followers","following_url":"https://api.github.com/users/kaikun213/following{/other_user}","gists_url":"https://api.github.com/users/kaikun213/gists{/gist_id}","starred_url":"https://api.github.com/users/kaikun213/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaikun213/subscriptions","organizations_url":"https://api.github.com/users/kaikun213/orgs","repos_url":"https://api.github.com/users/kaikun213/repos","events_url":"https://api.github.com/users/kaikun213/events{/privacy}","received_events_url":"https://api.github.com/users/kaikun213/received_events","type":"User","site_admin":false},"labels":[{"id":825323860,"node_id":"MDU6TGFiZWw4MjUzMjM4NjA=","url":"https://api.github.com/repos/HazyResearch/fonduer/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-05-11T16:01:56Z","updated_at":"2020-05-20T23:09:25Z","closed_at":"2020-05-20T23:09:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Is your feature request related to a problem? Please describe.**\r\nIt is hard to access a heading of a sub-table in a HTML where all sub-tables are in one `<table>` tag via a labeling function. `get_col_ngrams` can return the correct ngrams but without directions or distance. `get_neighbor_cell_ngrams` can return the direction, but does not consider columns which span multiple such as a heading to be neighboring.\r\n\r\n**Describe the solution you'd like**\r\nI checked the code and adding an `absolute` flag to the `get_neighbor_cell_ngrams` function which is then passed to the function calls for row/col difference\r\n```\r\nrow_diff = min_row_diff(sentence, root_cell, absolute=absolute)\r\ncol_diff = min_col_diff(sentence, root_cell, absolute=absolute)\r\n```\r\ncould solve that problem. Instead of the `False` boolean default as it is currently.\r\n\r\n**Describe alternatives you've considered**\r\nAlternatively, I am quite often in need to access the table information of an ngram (e.g. which row/col is the sentence). The functions could provide an option to return the sentences instead of the ngrams. As far as I know I have not seen a way to get from the ngram back to the sentence(?).\r\n\r\n**Additional context**\r\nThe example HTML in case needed for reproduction: \r\n[1_DJ Index 4-1 Peak.zip](https://github.com/HazyResearch/fonduer/files/4610678/1_DJ.Index.4-1.Peak.zip)\r\n\r\nExample with an image: Access the heading \"MID COLUMBIA\" from the cell with the value `$235.33`. This is needed to know in which table the value is, as all this \"sub-tables\" are in one HTML table.\r\n![Screenshot from 2020-05-11 17-57-24](https://user-images.githubusercontent.com/18282228/81582932-ec86b600-93b0-11ea-85bb-231edfcf5234.png)\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/413/timeline","performed_via_github_app":null,"state_reason":"completed"}