[{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/677904690","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-677904690","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":677904690,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzkwNDY5MA==","user":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"created_at":"2020-08-20T21:06:11Z","updated_at":"2020-08-20T21:06:11Z","author_association":"CONTRIBUTOR","body":"I found it stuck at `self.session.commit()` in `UDFRunner._apply`.\r\n\r\nhttps://github.com/HazyResearch/fonduer/blob/01e0d9319b523aff7aa7f5c583a9f330b0705ecc/src/fonduer/utils/udf.py#L168","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/677904690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/677967892","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-677967892","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":677967892,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk2Nzg5Mg==","user":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T00:14:28Z","updated_at":"2020-08-21T00:14:28Z","author_association":"CONTRIBUTOR","body":"I think this is a regression from 807a4b8a5960ef8cd11df892f98bee60ecf9a804 (#490).\r\nBy this commit, all the changes during `parser.apply` are held in memory until they are flushed out to the database, which could easily overflow the RAM size when many documents are processed.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/677967892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/677980250","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-677980250","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":677980250,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk4MDI1MA==","user":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T01:01:22Z","updated_at":"2020-08-21T01:01:22Z","author_association":"CONTRIBUTOR","body":"> I think the idea of processing the rows in chunks is to limit the\r\nmemory usage of the Python process. Until you call session.flush(),\r\nall your modifications are held in memory. For small numbers of rows\r\nthis isn't a problem, but for huge numbers, it might be.\r\n\r\nhttps://groups.google.com/g/sqlalchemy/c/hK4vIziMWOQ/m/98O5d2dqCgAJ","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/677980250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false}},{"actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T01:07:36Z","updated_at":"2020-08-21T01:07:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/495","repository_url":"https://api.github.com/repos/HazyResearch/fonduer","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/495/labels{/name}","comments_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/495/comments","events_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/495/events","html_url":"https://github.com/HazyResearch/fonduer/pull/495","id":683186706,"node_id":"MDExOlB1bGxSZXF1ZXN0NDcxMzE3MDMy","number":495,"title":"Commit Document and related objects every doc iteration","user":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-21T01:07:35Z","updated_at":"2020-08-21T17:01:01Z","closed_at":"2020-08-21T17:01:01Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":true,"repository":{"id":120036188,"node_id":"MDEwOlJlcG9zaXRvcnkxMjAwMzYxODg=","name":"fonduer","full_name":"HazyResearch/fonduer","private":false,"owner":{"login":"HazyResearch","id":2165246,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxNjUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2165246?v=4","gravatar_id":"","url":"https://api.github.com/users/HazyResearch","html_url":"https://github.com/HazyResearch","followers_url":"https://api.github.com/users/HazyResearch/followers","following_url":"https://api.github.com/users/HazyResearch/following{/other_user}","gists_url":"https://api.github.com/users/HazyResearch/gists{/gist_id}","starred_url":"https://api.github.com/users/HazyResearch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HazyResearch/subscriptions","organizations_url":"https://api.github.com/users/HazyResearch/orgs","repos_url":"https://api.github.com/users/HazyResearch/repos","events_url":"https://api.github.com/users/HazyResearch/events{/privacy}","received_events_url":"https://api.github.com/users/HazyResearch/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/HazyResearch/fonduer","description":"A knowledge base construction engine for richly formatted data","fork":false,"url":"https://api.github.com/repos/HazyResearch/fonduer","forks_url":"https://api.github.com/repos/HazyResearch/fonduer/forks","keys_url":"https://api.github.com/repos/HazyResearch/fonduer/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HazyResearch/fonduer/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HazyResearch/fonduer/teams","hooks_url":"https://api.github.com/repos/HazyResearch/fonduer/hooks","issue_events_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events{/number}","events_url":"https://api.github.com/repos/HazyResearch/fonduer/events","assignees_url":"https://api.github.com/repos/HazyResearch/fonduer/assignees{/user}","branches_url":"https://api.github.com/repos/HazyResearch/fonduer/branches{/branch}","tags_url":"https://api.github.com/repos/HazyResearch/fonduer/tags","blobs_url":"https://api.github.com/repos/HazyResearch/fonduer/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HazyResearch/fonduer/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HazyResearch/fonduer/git/refs{/sha}","trees_url":"https://api.github.com/repos/HazyResearch/fonduer/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HazyResearch/fonduer/statuses/{sha}","languages_url":"https://api.github.com/repos/HazyResearch/fonduer/languages","stargazers_url":"https://api.github.com/repos/HazyResearch/fonduer/stargazers","contributors_url":"https://api.github.com/repos/HazyResearch/fonduer/contributors","subscribers_url":"https://api.github.com/repos/HazyResearch/fonduer/subscribers","subscription_url":"https://api.github.com/repos/HazyResearch/fonduer/subscription","commits_url":"https://api.github.com/repos/HazyResearch/fonduer/commits{/sha}","git_commits_url":"https://api.github.com/repos/HazyResearch/fonduer/git/commits{/sha}","comments_url":"https://api.github.com/repos/HazyResearch/fonduer/comments{/number}","issue_comment_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments{/number}","contents_url":"https://api.github.com/repos/HazyResearch/fonduer/contents/{+path}","compare_url":"https://api.github.com/repos/HazyResearch/fonduer/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HazyResearch/fonduer/merges","archive_url":"https://api.github.com/repos/HazyResearch/fonduer/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HazyResearch/fonduer/downloads","issues_url":"https://api.github.com/repos/HazyResearch/fonduer/issues{/number}","pulls_url":"https://api.github.com/repos/HazyResearch/fonduer/pulls{/number}","milestones_url":"https://api.github.com/repos/HazyResearch/fonduer/milestones{/number}","notifications_url":"https://api.github.com/repos/HazyResearch/fonduer/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/labels{/name}","releases_url":"https://api.github.com/repos/HazyResearch/fonduer/releases{/id}","deployments_url":"https://api.github.com/repos/HazyResearch/fonduer/deployments","created_at":"2018-02-02T22:03:13Z","updated_at":"2023-01-10T09:58:45Z","pushed_at":"2021-06-23T01:24:52Z","git_url":"git://github.com/HazyResearch/fonduer.git","ssh_url":"git@github.com:HazyResearch/fonduer.git","clone_url":"https://github.com/HazyResearch/fonduer.git","svn_url":"https://github.com/HazyResearch/fonduer","homepage":"https://fonduer.readthedocs.io/","size":12036,"stargazers_count":387,"watchers_count":387,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":79,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":16,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["knowledge-base-construction","machine-learning","multimodality"],"visibility":"public","forks":79,"open_issues":16,"watchers":387,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/HazyResearch/fonduer/pulls/495","html_url":"https://github.com/HazyResearch/fonduer/pull/495","diff_url":"https://github.com/HazyResearch/fonduer/pull/495.diff","patch_url":"https://github.com/HazyResearch/fonduer/pull/495.patch","merged_at":null},"body":"## Description of the problems or issues\r\n\r\n**Is your pull request related to a problem? Please describe.**\r\n\r\nSee #494.\r\n\r\n**Does your pull request fix any issue.**\r\n\r\nFix #494.\r\n\r\n## Description of the proposed changes\r\nA clear and concise description of what you propose.\r\n\r\n## Test plan\r\nA clear and concise description of how you test the new changes.\r\n\r\n## Checklist\r\n\r\n* [ ] I have updated the documentation accordingly.\r\n* [ ] I have added tests to cover my changes.\r\n* [ ] All new and existing tests passed.\r\n* [ ] I have updated the CHANGELOG.rst accordingly.\r\n","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/495/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/678380271","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-678380271","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":678380271,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODM4MDI3MQ==","user":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T16:31:35Z","updated_at":"2020-08-21T16:31:35Z","author_association":"CONTRIBUTOR","body":"> By this commit, all the changes during `parser.apply` are held in memory until they are flushed out to the database, which could easily overflow the RAM size when many documents are processed.\r\n\r\nTurns out this is not true.\r\nFonduer creates a `Session` by `sqlalchemy.orm.sessionmaker`, which uses `autoflush=True` by default.\r\nhttps://docs.sqlalchemy.org/en/13/orm/session_api.html#session-and-sessionmaker\r\n\r\nThe changes are flushed out to the database. It's just they are not committed until all the docs are parsed.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/678380271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/678392153","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-678392153","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":678392153,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODM5MjE1Mw==","user":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T17:00:25Z","updated_at":"2020-08-21T17:00:25Z","author_association":"CONTRIBUTOR","body":"Close for now as it turns out not to be easily reproducible.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/678392153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false}},{"id":3680411684,"node_id":"MDExOkNsb3NlZEV2ZW50MzY4MDQxMTY4NA==","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/3680411684","actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-08-21T17:00:25Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/767179593","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-767179593","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":767179593,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NzE3OTU5Mw==","user":{"login":"robbieculkin","id":20375994,"node_id":"MDQ6VXNlcjIwMzc1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/20375994?v=4","gravatar_id":"","url":"https://api.github.com/users/robbieculkin","html_url":"https://github.com/robbieculkin","followers_url":"https://api.github.com/users/robbieculkin/followers","following_url":"https://api.github.com/users/robbieculkin/following{/other_user}","gists_url":"https://api.github.com/users/robbieculkin/gists{/gist_id}","starred_url":"https://api.github.com/users/robbieculkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robbieculkin/subscriptions","organizations_url":"https://api.github.com/users/robbieculkin/orgs","repos_url":"https://api.github.com/users/robbieculkin/repos","events_url":"https://api.github.com/users/robbieculkin/events{/privacy}","received_events_url":"https://api.github.com/users/robbieculkin/received_events","type":"User","site_admin":false},"created_at":"2021-01-25T23:30:31Z","updated_at":"2021-01-25T23:31:32Z","author_association":"NONE","body":"Hi, I'm seeing this bug in the max_storage_temp_tutorial.\r\n![Screen Shot 2021-01-25 at 3 29 39 PM](https://user-images.githubusercontent.com/20375994/105778943-3a812100-5f22-11eb-9a8e-3d56579919c6.png)\r\nIt hangs here forever when I use the default 100 doc max. If I lower the max (e.g. 10), no issues.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/767179593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robbieculkin","id":20375994,"node_id":"MDQ6VXNlcjIwMzc1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/20375994?v=4","gravatar_id":"","url":"https://api.github.com/users/robbieculkin","html_url":"https://github.com/robbieculkin","followers_url":"https://api.github.com/users/robbieculkin/followers","following_url":"https://api.github.com/users/robbieculkin/following{/other_user}","gists_url":"https://api.github.com/users/robbieculkin/gists{/gist_id}","starred_url":"https://api.github.com/users/robbieculkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robbieculkin/subscriptions","organizations_url":"https://api.github.com/users/robbieculkin/orgs","repos_url":"https://api.github.com/users/robbieculkin/repos","events_url":"https://api.github.com/users/robbieculkin/events{/privacy}","received_events_url":"https://api.github.com/users/robbieculkin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/810632598","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-810632598","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":810632598,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDYzMjU5OA==","user":{"login":"robbieculkin","id":20375994,"node_id":"MDQ6VXNlcjIwMzc1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/20375994?v=4","gravatar_id":"","url":"https://api.github.com/users/robbieculkin","html_url":"https://github.com/robbieculkin","followers_url":"https://api.github.com/users/robbieculkin/followers","following_url":"https://api.github.com/users/robbieculkin/following{/other_user}","gists_url":"https://api.github.com/users/robbieculkin/gists{/gist_id}","starred_url":"https://api.github.com/users/robbieculkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robbieculkin/subscriptions","organizations_url":"https://api.github.com/users/robbieculkin/orgs","repos_url":"https://api.github.com/users/robbieculkin/repos","events_url":"https://api.github.com/users/robbieculkin/events{/privacy}","received_events_url":"https://api.github.com/users/robbieculkin/received_events","type":"User","site_admin":false},"created_at":"2021-03-30T22:58:40Z","updated_at":"2021-03-30T22:58:40Z","author_association":"NONE","body":"I'm still seeing this issue. It looks like all processes' data are held in memory, then written to the DB using a single process. I'm debugging via `top`, where I see \r\n1. memory usage is split across parallel processes\r\n2. next, all memory stacks up in a single process\r\n3. lastly, my machine kills the process due to OOM error\r\n\r\nI can workaround this via a for loop wrapper but this doesn't seem like the optimal way to use `.apply`. \r\n\r\nIt seems @HiromuHota may have moved on to other projects; @SenWu, do you have time to look at this issue?","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/810632598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robbieculkin","id":20375994,"node_id":"MDQ6VXNlcjIwMzc1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/20375994?v=4","gravatar_id":"","url":"https://api.github.com/users/robbieculkin","html_url":"https://github.com/robbieculkin","followers_url":"https://api.github.com/users/robbieculkin/followers","following_url":"https://api.github.com/users/robbieculkin/following{/other_user}","gists_url":"https://api.github.com/users/robbieculkin/gists{/gist_id}","starred_url":"https://api.github.com/users/robbieculkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robbieculkin/subscriptions","organizations_url":"https://api.github.com/users/robbieculkin/orgs","repos_url":"https://api.github.com/users/robbieculkin/repos","events_url":"https://api.github.com/users/robbieculkin/events{/privacy}","received_events_url":"https://api.github.com/users/robbieculkin/received_events","type":"User","site_admin":false}},{"id":4530847514,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDUzMDg0NzUxNA==","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4530847514","actor":{"login":"senwu","id":5580008,"node_id":"MDQ6VXNlcjU1ODAwMDg=","avatar_url":"https://avatars.githubusercontent.com/u/5580008?v=4","gravatar_id":"","url":"https://api.github.com/users/senwu","html_url":"https://github.com/senwu","followers_url":"https://api.github.com/users/senwu/followers","following_url":"https://api.github.com/users/senwu/following{/other_user}","gists_url":"https://api.github.com/users/senwu/gists{/gist_id}","starred_url":"https://api.github.com/users/senwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/senwu/subscriptions","organizations_url":"https://api.github.com/users/senwu/orgs","repos_url":"https://api.github.com/users/senwu/repos","events_url":"https://api.github.com/users/senwu/events{/privacy}","received_events_url":"https://api.github.com/users/senwu/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-30T22:58:41Z","performed_via_github_app":null},{"id":4530847516,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1MzA4NDc1MTY=","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4530847516","actor":{"login":"senwu","id":5580008,"node_id":"MDQ6VXNlcjU1ODAwMDg=","avatar_url":"https://avatars.githubusercontent.com/u/5580008?v=4","gravatar_id":"","url":"https://api.github.com/users/senwu","html_url":"https://github.com/senwu","followers_url":"https://api.github.com/users/senwu/followers","following_url":"https://api.github.com/users/senwu/following{/other_user}","gists_url":"https://api.github.com/users/senwu/gists{/gist_id}","starred_url":"https://api.github.com/users/senwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/senwu/subscriptions","organizations_url":"https://api.github.com/users/senwu/orgs","repos_url":"https://api.github.com/users/senwu/repos","events_url":"https://api.github.com/users/senwu/events{/privacy}","received_events_url":"https://api.github.com/users/senwu/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-30T22:58:41Z","performed_via_github_app":null},{"id":4530847520,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDUzMDg0NzUyMA==","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4530847520","actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-30T22:58:41Z","performed_via_github_app":null},{"id":4530847523,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1MzA4NDc1MjM=","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4530847523","actor":{"login":"HiromuHota","id":20668349,"node_id":"MDQ6VXNlcjIwNjY4MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/20668349?v=4","gravatar_id":"","url":"https://api.github.com/users/HiromuHota","html_url":"https://github.com/HiromuHota","followers_url":"https://api.github.com/users/HiromuHota/followers","following_url":"https://api.github.com/users/HiromuHota/following{/other_user}","gists_url":"https://api.github.com/users/HiromuHota/gists{/gist_id}","starred_url":"https://api.github.com/users/HiromuHota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HiromuHota/subscriptions","organizations_url":"https://api.github.com/users/HiromuHota/orgs","repos_url":"https://api.github.com/users/HiromuHota/repos","events_url":"https://api.github.com/users/HiromuHota/events{/privacy}","received_events_url":"https://api.github.com/users/HiromuHota/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-30T22:58:41Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/810828761","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-810828761","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":810828761,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDgyODc2MQ==","user":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"created_at":"2021-03-31T07:06:15Z","updated_at":"2022-01-29T22:19:20Z","author_association":"CONTRIBUTOR","body":"Your description sounds correct to me, and this is definitely a real bottleneck several have run into. We would love to try and resolve this, but I suspect it wouldn't be a quick fix. \r\n\r\nI'm going to reopen this issue.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/810828761/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false}},{"id":4532538280,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQ0NTMyNTM4Mjgw","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4532538280","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2021-03-31T07:06:35Z","state_reason":null,"performed_via_github_app":null},{"id":4532541007,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ1MzI1NDEwMDc=","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4532541007","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-03-31T07:07:06Z","milestone":{"title":"v0.8.4"},"performed_via_github_app":null},{"id":4532541271,"node_id":"MDExOkNsb3NlZEV2ZW50NDUzMjU0MTI3MQ==","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4532541271","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-03-31T07:07:10Z","state_reason":null,"performed_via_github_app":null},{"id":4532541399,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQ0NTMyNTQxMzk5","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4532541399","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2021-03-31T07:07:12Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false},"created_at":"2021-05-07T00:58:17Z","updated_at":"2021-05-07T00:58:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/541","repository_url":"https://api.github.com/repos/HazyResearch/fonduer","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/541/labels{/name}","comments_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/541/comments","events_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/541/events","html_url":"https://github.com/HazyResearch/fonduer/pull/541","id":878264840,"node_id":"MDExOlB1bGxSZXF1ZXN0NjMyMTE0NjQ3","number":541,"title":"Resolve memory leaks caused by adding and commiting to postgres (related to #494)","user":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-05-07T00:58:16Z","updated_at":"2021-05-12T07:11:58Z","closed_at":"2021-05-12T07:11:58Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":120036188,"node_id":"MDEwOlJlcG9zaXRvcnkxMjAwMzYxODg=","name":"fonduer","full_name":"HazyResearch/fonduer","private":false,"owner":{"login":"HazyResearch","id":2165246,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxNjUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2165246?v=4","gravatar_id":"","url":"https://api.github.com/users/HazyResearch","html_url":"https://github.com/HazyResearch","followers_url":"https://api.github.com/users/HazyResearch/followers","following_url":"https://api.github.com/users/HazyResearch/following{/other_user}","gists_url":"https://api.github.com/users/HazyResearch/gists{/gist_id}","starred_url":"https://api.github.com/users/HazyResearch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HazyResearch/subscriptions","organizations_url":"https://api.github.com/users/HazyResearch/orgs","repos_url":"https://api.github.com/users/HazyResearch/repos","events_url":"https://api.github.com/users/HazyResearch/events{/privacy}","received_events_url":"https://api.github.com/users/HazyResearch/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/HazyResearch/fonduer","description":"A knowledge base construction engine for richly formatted data","fork":false,"url":"https://api.github.com/repos/HazyResearch/fonduer","forks_url":"https://api.github.com/repos/HazyResearch/fonduer/forks","keys_url":"https://api.github.com/repos/HazyResearch/fonduer/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HazyResearch/fonduer/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HazyResearch/fonduer/teams","hooks_url":"https://api.github.com/repos/HazyResearch/fonduer/hooks","issue_events_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events{/number}","events_url":"https://api.github.com/repos/HazyResearch/fonduer/events","assignees_url":"https://api.github.com/repos/HazyResearch/fonduer/assignees{/user}","branches_url":"https://api.github.com/repos/HazyResearch/fonduer/branches{/branch}","tags_url":"https://api.github.com/repos/HazyResearch/fonduer/tags","blobs_url":"https://api.github.com/repos/HazyResearch/fonduer/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HazyResearch/fonduer/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HazyResearch/fonduer/git/refs{/sha}","trees_url":"https://api.github.com/repos/HazyResearch/fonduer/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HazyResearch/fonduer/statuses/{sha}","languages_url":"https://api.github.com/repos/HazyResearch/fonduer/languages","stargazers_url":"https://api.github.com/repos/HazyResearch/fonduer/stargazers","contributors_url":"https://api.github.com/repos/HazyResearch/fonduer/contributors","subscribers_url":"https://api.github.com/repos/HazyResearch/fonduer/subscribers","subscription_url":"https://api.github.com/repos/HazyResearch/fonduer/subscription","commits_url":"https://api.github.com/repos/HazyResearch/fonduer/commits{/sha}","git_commits_url":"https://api.github.com/repos/HazyResearch/fonduer/git/commits{/sha}","comments_url":"https://api.github.com/repos/HazyResearch/fonduer/comments{/number}","issue_comment_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments{/number}","contents_url":"https://api.github.com/repos/HazyResearch/fonduer/contents/{+path}","compare_url":"https://api.github.com/repos/HazyResearch/fonduer/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HazyResearch/fonduer/merges","archive_url":"https://api.github.com/repos/HazyResearch/fonduer/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HazyResearch/fonduer/downloads","issues_url":"https://api.github.com/repos/HazyResearch/fonduer/issues{/number}","pulls_url":"https://api.github.com/repos/HazyResearch/fonduer/pulls{/number}","milestones_url":"https://api.github.com/repos/HazyResearch/fonduer/milestones{/number}","notifications_url":"https://api.github.com/repos/HazyResearch/fonduer/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/labels{/name}","releases_url":"https://api.github.com/repos/HazyResearch/fonduer/releases{/id}","deployments_url":"https://api.github.com/repos/HazyResearch/fonduer/deployments","created_at":"2018-02-02T22:03:13Z","updated_at":"2023-01-10T09:58:45Z","pushed_at":"2021-06-23T01:24:52Z","git_url":"git://github.com/HazyResearch/fonduer.git","ssh_url":"git@github.com:HazyResearch/fonduer.git","clone_url":"https://github.com/HazyResearch/fonduer.git","svn_url":"https://github.com/HazyResearch/fonduer","homepage":"https://fonduer.readthedocs.io/","size":12036,"stargazers_count":387,"watchers_count":387,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":79,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":16,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["knowledge-base-construction","machine-learning","multimodality"],"visibility":"public","forks":79,"open_issues":16,"watchers":387,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/HazyResearch/fonduer/pulls/541","html_url":"https://github.com/HazyResearch/fonduer/pull/541","diff_url":"https://github.com/HazyResearch/fonduer/pull/541.diff","patch_url":"https://github.com/HazyResearch/fonduer/pull/541.patch","merged_at":null},"body":"## Description of the problems or issues\r\n\r\n**Is your pull request related to a problem? Please describe.**\r\nMemory leaks happen when Fonduer adds and commits data to postgres after parsing many documents.\r\nThis causes `OOM killer` of Ubuntu and hangup Fonduer process. Please refer to #494.\r\n\r\n**Does your pull request fix any issue.**\r\nOne of the memory leak problems is because sqlalchemy keeps all data, which are parsed from documents, on memory untill `commit` from `add`.\r\n\r\n## Description of the proposed changes\r\nAdd `commit` to immediately after `add` to free memory (L136 of `src/fonduer/parser/parser.py`).\r\nIm definitely sure that no side effect happens because no processes exist with the data on the memory after `add` and `commit`.\r\nBy the way, there are two cases doing `commit` after multiple `add`; one is preparing a rollback of inserting data to postgres, and the other is accelerating insert processes for many small data. In contrast, document data in Fonduer are a few large data.\r\n\r\n## Test plan\r\nRun an existing tests (No additional tests).\r\n\r\n## Checklist\r\n\r\n* [x] I have updated the documentation accordingly.\r\n* [x] I have added tests to cover my changes.\r\n* [x] All new and existing tests passed.\r\n* [x] I have updated the CHANGELOG.rst accordingly.\r\n","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/541/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/833988524","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-833988524","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":833988524,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzk4ODUyNA==","user":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false},"created_at":"2021-05-07T01:18:03Z","updated_at":"2021-05-07T01:18:03Z","author_association":"CONTRIBUTOR","body":"I proposed a pull request related to this issue (#494) by #541.\r\nOOM error seems to happen in the case that sqlalchemy keeps large document data on memory untill `commit` from `add`.\r\nThe proposal (#541) is doing `commit` immediately after `add` to free memory.\r\nhttps://github.com/HazyResearch/fonduer/blob/5ab8e9c7bad34ad86800b7b077aa8342f590ec27/src/fonduer/parser/parser.py#L135","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/833988524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/833992548","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-833992548","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":833992548,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzk5MjU0OA==","user":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false},"created_at":"2021-05-07T01:30:21Z","updated_at":"2021-05-07T01:30:21Z","author_association":"CONTRIBUTOR","body":"In addition, I got test results; python memory usage (max about 3GB -> 500MB) and processing time (339 sec -> 268 sec).\r\nThis test is parsing all html files from [tests/download_data.sh](https://github.com/HazyResearch/fonduer/blob/5ab8e9c7bad34ad86800b7b077aa8342f590ec27/tests/download_data.sh) and saving them to postgres.\r\n","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/833992548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/836901713","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-836901713","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":836901713,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNjkwMTcxMw==","user":{"login":"robbieculkin","id":20375994,"node_id":"MDQ6VXNlcjIwMzc1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/20375994?v=4","gravatar_id":"","url":"https://api.github.com/users/robbieculkin","html_url":"https://github.com/robbieculkin","followers_url":"https://api.github.com/users/robbieculkin/followers","following_url":"https://api.github.com/users/robbieculkin/following{/other_user}","gists_url":"https://api.github.com/users/robbieculkin/gists{/gist_id}","starred_url":"https://api.github.com/users/robbieculkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robbieculkin/subscriptions","organizations_url":"https://api.github.com/users/robbieculkin/orgs","repos_url":"https://api.github.com/users/robbieculkin/repos","events_url":"https://api.github.com/users/robbieculkin/events{/privacy}","received_events_url":"https://api.github.com/users/robbieculkin/received_events","type":"User","site_admin":false},"created_at":"2021-05-10T16:12:48Z","updated_at":"2021-05-10T16:12:48Z","author_association":"NONE","body":"Thanks for your work on this. This will be a major reliability improvement for my use case and will eliminate several workarounds.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/836901713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robbieculkin","id":20375994,"node_id":"MDQ6VXNlcjIwMzc1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/20375994?v=4","gravatar_id":"","url":"https://api.github.com/users/robbieculkin","html_url":"https://github.com/robbieculkin","followers_url":"https://api.github.com/users/robbieculkin/followers","following_url":"https://api.github.com/users/robbieculkin/following{/other_user}","gists_url":"https://api.github.com/users/robbieculkin/gists{/gist_id}","starred_url":"https://api.github.com/users/robbieculkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robbieculkin/subscriptions","organizations_url":"https://api.github.com/users/robbieculkin/orgs","repos_url":"https://api.github.com/users/robbieculkin/repos","events_url":"https://api.github.com/users/robbieculkin/events{/privacy}","received_events_url":"https://api.github.com/users/robbieculkin/received_events","type":"User","site_admin":false}},{"id":4734415534,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ3MzQ0MTU1MzQ=","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4734415534","actor":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"0b9c5ff6a39a3fa14457ad96ff321d239787460e","commit_url":"https://api.github.com/repos/YasushiMiyata/fonduer/commits/0b9c5ff6a39a3fa14457ad96ff321d239787460e","created_at":"2021-05-12T07:25:20Z","performed_via_github_app":null},{"actor":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false},"created_at":"2021-05-12T07:43:02Z","updated_at":"2021-05-12T07:43:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/544","repository_url":"https://api.github.com/repos/HazyResearch/fonduer","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/544/labels{/name}","comments_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/544/comments","events_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/544/events","html_url":"https://github.com/HazyResearch/fonduer/pull/544","id":889779533,"node_id":"MDExOlB1bGxSZXF1ZXN0NjQyOTAyODU1","number":544,"title":"Resolve memory leaks caused by add and commit to postgres (related to #494, redo #541)","user":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false},"labels":[{"id":825323860,"node_id":"MDU6TGFiZWw4MjUzMjM4NjA=","url":"https://api.github.com/repos/HazyResearch/fonduer/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/HazyResearch/fonduer/milestones/25","html_url":"https://github.com/HazyResearch/fonduer/milestone/25","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/milestones/25/labels","id":5868882,"node_id":"MDk6TWlsZXN0b25lNTg2ODg4Mg==","number":25,"title":"v0.9.0","description":"","creator":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":8,"state":"open","created_at":"2020-09-11T20:27:39Z","updated_at":"2021-05-12T20:57:57Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2021-05-12T07:43:01Z","updated_at":"2021-05-12T21:33:11Z","closed_at":"2021-05-12T18:03:14Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":120036188,"node_id":"MDEwOlJlcG9zaXRvcnkxMjAwMzYxODg=","name":"fonduer","full_name":"HazyResearch/fonduer","private":false,"owner":{"login":"HazyResearch","id":2165246,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxNjUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2165246?v=4","gravatar_id":"","url":"https://api.github.com/users/HazyResearch","html_url":"https://github.com/HazyResearch","followers_url":"https://api.github.com/users/HazyResearch/followers","following_url":"https://api.github.com/users/HazyResearch/following{/other_user}","gists_url":"https://api.github.com/users/HazyResearch/gists{/gist_id}","starred_url":"https://api.github.com/users/HazyResearch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HazyResearch/subscriptions","organizations_url":"https://api.github.com/users/HazyResearch/orgs","repos_url":"https://api.github.com/users/HazyResearch/repos","events_url":"https://api.github.com/users/HazyResearch/events{/privacy}","received_events_url":"https://api.github.com/users/HazyResearch/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/HazyResearch/fonduer","description":"A knowledge base construction engine for richly formatted data","fork":false,"url":"https://api.github.com/repos/HazyResearch/fonduer","forks_url":"https://api.github.com/repos/HazyResearch/fonduer/forks","keys_url":"https://api.github.com/repos/HazyResearch/fonduer/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HazyResearch/fonduer/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HazyResearch/fonduer/teams","hooks_url":"https://api.github.com/repos/HazyResearch/fonduer/hooks","issue_events_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events{/number}","events_url":"https://api.github.com/repos/HazyResearch/fonduer/events","assignees_url":"https://api.github.com/repos/HazyResearch/fonduer/assignees{/user}","branches_url":"https://api.github.com/repos/HazyResearch/fonduer/branches{/branch}","tags_url":"https://api.github.com/repos/HazyResearch/fonduer/tags","blobs_url":"https://api.github.com/repos/HazyResearch/fonduer/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HazyResearch/fonduer/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HazyResearch/fonduer/git/refs{/sha}","trees_url":"https://api.github.com/repos/HazyResearch/fonduer/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HazyResearch/fonduer/statuses/{sha}","languages_url":"https://api.github.com/repos/HazyResearch/fonduer/languages","stargazers_url":"https://api.github.com/repos/HazyResearch/fonduer/stargazers","contributors_url":"https://api.github.com/repos/HazyResearch/fonduer/contributors","subscribers_url":"https://api.github.com/repos/HazyResearch/fonduer/subscribers","subscription_url":"https://api.github.com/repos/HazyResearch/fonduer/subscription","commits_url":"https://api.github.com/repos/HazyResearch/fonduer/commits{/sha}","git_commits_url":"https://api.github.com/repos/HazyResearch/fonduer/git/commits{/sha}","comments_url":"https://api.github.com/repos/HazyResearch/fonduer/comments{/number}","issue_comment_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments{/number}","contents_url":"https://api.github.com/repos/HazyResearch/fonduer/contents/{+path}","compare_url":"https://api.github.com/repos/HazyResearch/fonduer/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HazyResearch/fonduer/merges","archive_url":"https://api.github.com/repos/HazyResearch/fonduer/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HazyResearch/fonduer/downloads","issues_url":"https://api.github.com/repos/HazyResearch/fonduer/issues{/number}","pulls_url":"https://api.github.com/repos/HazyResearch/fonduer/pulls{/number}","milestones_url":"https://api.github.com/repos/HazyResearch/fonduer/milestones{/number}","notifications_url":"https://api.github.com/repos/HazyResearch/fonduer/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HazyResearch/fonduer/labels{/name}","releases_url":"https://api.github.com/repos/HazyResearch/fonduer/releases{/id}","deployments_url":"https://api.github.com/repos/HazyResearch/fonduer/deployments","created_at":"2018-02-02T22:03:13Z","updated_at":"2023-01-10T09:58:45Z","pushed_at":"2021-06-23T01:24:52Z","git_url":"git://github.com/HazyResearch/fonduer.git","ssh_url":"git@github.com:HazyResearch/fonduer.git","clone_url":"https://github.com/HazyResearch/fonduer.git","svn_url":"https://github.com/HazyResearch/fonduer","homepage":"https://fonduer.readthedocs.io/","size":12036,"stargazers_count":387,"watchers_count":387,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":79,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":16,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["knowledge-base-construction","machine-learning","multimodality"],"visibility":"public","forks":79,"open_issues":16,"watchers":387,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/HazyResearch/fonduer/pulls/544","html_url":"https://github.com/HazyResearch/fonduer/pull/544","diff_url":"https://github.com/HazyResearch/fonduer/pull/544.diff","patch_url":"https://github.com/HazyResearch/fonduer/pull/544.patch","merged_at":"2021-05-12T18:03:14Z"},"body":"## Description of the problems or issues\r\n\r\n**Is your pull request related to a problem? Please describe.**\r\nMemory leaks happen when Fonduer adds and commits data to postgres after parsing many documents.\r\nThis causes OOM killer of Ubuntu and hangup Fonduer process. Please refer to #494.\r\n(This PR is redo of #541)\r\n\r\n**Does your pull request fix any issue.**\r\nOne of the memory leak problems is because sqlalchemy keeps all data, which are parsed from documents, on memory untill `commit` from `add`.\r\n\r\n## Description of the proposed changes\r\nAdd `commit` immediately after `add` to free memory.\r\nhttps://github.com/HazyResearch/fonduer/blob/b0154c36b4feeda2e81ad7dd9af7062762dad3bf/src/fonduer/parser/parser.py#L135\r\nIm definitely sure that no side effect happens because no processes exist with the data on the memory after `add` and `commit`.\r\nBy the way, there are two cases doing `commit` after multiple `add`; one is preparing a rollback of inserting data to postgres, and the other is accelerating insert processes for many small data. In contrast, document data in Fonduer are a few large data.\r\n\r\n## Test plan\r\nRun an existing tests (No additional tests).\r\n\r\n## Checklist\r\n\r\n* [x] I have updated the documentation accordingly.\r\n* [x] I have added tests to cover my changes.\r\n* [x] All new and existing tests passed.\r\n* [x] I have updated the CHANGELOG.rst accordingly.\r\n","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/544/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/839559695","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-839559695","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":839559695,"node_id":"MDEyOklzc3VlQ29tbWVudDgzOTU1OTY5NQ==","user":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false},"created_at":"2021-05-12T08:07:59Z","updated_at":"2021-05-12T08:07:59Z","author_association":"CONTRIBUTOR","body":"I renew PR #544 from #541 because #541 fails rebase by my wrong merge order.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/839559695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"YasushiMiyata","id":67612201,"node_id":"MDQ6VXNlcjY3NjEyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/67612201?v=4","gravatar_id":"","url":"https://api.github.com/users/YasushiMiyata","html_url":"https://github.com/YasushiMiyata","followers_url":"https://api.github.com/users/YasushiMiyata/followers","following_url":"https://api.github.com/users/YasushiMiyata/following{/other_user}","gists_url":"https://api.github.com/users/YasushiMiyata/gists{/gist_id}","starred_url":"https://api.github.com/users/YasushiMiyata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YasushiMiyata/subscriptions","organizations_url":"https://api.github.com/users/YasushiMiyata/orgs","repos_url":"https://api.github.com/users/YasushiMiyata/repos","events_url":"https://api.github.com/users/YasushiMiyata/events{/privacy}","received_events_url":"https://api.github.com/users/YasushiMiyata/received_events","type":"User","site_admin":false}},{"id":4737950559,"node_id":"MDExOkNsb3NlZEV2ZW50NDczNzk1MDU1OQ==","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4737950559","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"event":"closed","commit_id":"c1c5f2dd1534c2fe3c80020c0825ef2c3f5798af","commit_url":"https://api.github.com/repos/HazyResearch/fonduer/commits/c1c5f2dd1534c2fe3c80020c0825ef2c3f5798af","created_at":"2021-05-12T18:03:15Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/839985596","html_url":"https://github.com/HazyResearch/fonduer/issues/494#issuecomment-839985596","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/494","id":839985596,"node_id":"MDEyOklzc3VlQ29tbWVudDgzOTk4NTU5Ng==","user":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"created_at":"2021-05-12T18:04:24Z","updated_at":"2021-05-12T18:04:24Z","author_association":"CONTRIBUTOR","body":"The proposed PR has been merged. @robbieculkin, if you happen to have time to test the current `master` branch to verify that this is working for you, that would be great.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/839985596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false}},{"id":4737955639,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDczNzk1NTYzOQ==","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4737955639","actor":{"login":"robbieculkin","id":20375994,"node_id":"MDQ6VXNlcjIwMzc1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/20375994?v=4","gravatar_id":"","url":"https://api.github.com/users/robbieculkin","html_url":"https://github.com/robbieculkin","followers_url":"https://api.github.com/users/robbieculkin/followers","following_url":"https://api.github.com/users/robbieculkin/following{/other_user}","gists_url":"https://api.github.com/users/robbieculkin/gists{/gist_id}","starred_url":"https://api.github.com/users/robbieculkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robbieculkin/subscriptions","organizations_url":"https://api.github.com/users/robbieculkin/orgs","repos_url":"https://api.github.com/users/robbieculkin/repos","events_url":"https://api.github.com/users/robbieculkin/events{/privacy}","received_events_url":"https://api.github.com/users/robbieculkin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-12T18:04:24Z","performed_via_github_app":null},{"id":4737955643,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3Mzc5NTU2NDM=","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4737955643","actor":{"login":"robbieculkin","id":20375994,"node_id":"MDQ6VXNlcjIwMzc1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/20375994?v=4","gravatar_id":"","url":"https://api.github.com/users/robbieculkin","html_url":"https://github.com/robbieculkin","followers_url":"https://api.github.com/users/robbieculkin/followers","following_url":"https://api.github.com/users/robbieculkin/following{/other_user}","gists_url":"https://api.github.com/users/robbieculkin/gists{/gist_id}","starred_url":"https://api.github.com/users/robbieculkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robbieculkin/subscriptions","organizations_url":"https://api.github.com/users/robbieculkin/orgs","repos_url":"https://api.github.com/users/robbieculkin/repos","events_url":"https://api.github.com/users/robbieculkin/events{/privacy}","received_events_url":"https://api.github.com/users/robbieculkin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-12T18:04:24Z","performed_via_github_app":null},{"id":4737956129,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ3Mzc5NTYxMjk=","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/4737956129","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-05-12T18:04:31Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null}]