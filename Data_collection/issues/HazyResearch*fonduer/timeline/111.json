[{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/414682635","html_url":"https://github.com/HazyResearch/fonduer/issues/111#issuecomment-414682635","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/111","id":414682635,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDY4MjYzNQ==","user":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"created_at":"2018-08-21T13:55:47Z","updated_at":"2018-08-21T13:57:31Z","author_association":"NONE","body":"related to this https://github.com/HazyResearch/pdftotree/issues/27#issuecomment-414673633 ? \r\n\r\nWhen trying to use [pdftotree](https://github.com/HazyResearch/pdftotree) I get the same error as reported in that issue when converting the pdf linked to above.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/414682635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/414755824","html_url":"https://github.com/HazyResearch/fonduer/issues/111#issuecomment-414755824","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/111","id":414755824,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDc1NTgyNA==","user":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"created_at":"2018-08-21T17:28:04Z","updated_at":"2018-08-21T17:28:04Z","author_association":"CONTRIBUTOR","body":"@clayms can you try converting the PDF to HTML using Adobe Acrobat to see if that is successful?","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/414755824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false}},{"id":1800752057,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgwMDc1MjA1Nw==","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/1800752057","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-08-21T17:28:04Z","performed_via_github_app":null},{"id":1800752059,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4MDA3NTIwNTk=","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/1800752059","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-08-21T17:28:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/414774547","html_url":"https://github.com/HazyResearch/fonduer/issues/111#issuecomment-414774547","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/111","id":414774547,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDc3NDU0Nw==","user":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"created_at":"2018-08-21T18:25:05Z","updated_at":"2018-08-21T18:25:05Z","author_association":"NONE","body":"I don't have access to Acrobat, only the reader which only appears to convert to [.docx, .doc, .rtf, .xlsx, or .pptx]\r\n\r\nAs suggested in https://github.com/HazyResearch/pdftotree/issues/38#issue-321010016, I will convert to html through MS Word.  I will let you know the results.\r\n","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/414774547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/415030644","html_url":"https://github.com/HazyResearch/fonduer/issues/111#issuecomment-415030644","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/111","id":415030644,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTAzMDY0NA==","user":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"created_at":"2018-08-22T13:25:34Z","updated_at":"2018-08-22T13:25:34Z","author_association":"NONE","body":"Using MS Word to convert leads to this error:\r\n```\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x95 in position 240614: invalid start byte\r\n```\r\n\r\nI replaced the MS Word generated html file with the Poppler pdftohtml file and ran the same code again, and it worked, but only output 19 sentences from the first page again.","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/415030644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/415043789","html_url":"https://github.com/HazyResearch/fonduer/issues/111#issuecomment-415043789","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/111","id":415043789,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTA0Mzc4OQ==","user":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"created_at":"2018-08-22T14:05:48Z","updated_at":"2018-08-22T14:05:48Z","author_association":"NONE","body":"possible alternative?\r\n\r\nhttps://github.com/coolwanglu/pdf2htmlEX","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/415043789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/415046545","html_url":"https://github.com/HazyResearch/fonduer/issues/111#issuecomment-415046545","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/111","id":415046545,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTA0NjU0NQ==","user":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"created_at":"2018-08-22T14:14:04Z","updated_at":"2018-08-22T14:14:04Z","author_association":"NONE","body":"this looks promising \r\n\r\nhttps://mupdf.com/docs/manual-mutool-draw.html","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/415046545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/415070970","html_url":"https://github.com/HazyResearch/fonduer/issues/111#issuecomment-415070970","issue_url":"https://api.github.com/repos/HazyResearch/fonduer/issues/111","id":415070970,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTA3MDk3MA==","user":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"created_at":"2018-08-22T15:20:57Z","updated_at":"2018-08-22T15:24:15Z","author_association":"NONE","body":"ok!  The following works\r\n\r\nfirst (assuming you have mutool installed):\r\n```python\r\nimport subprocess\r\nsubprocess.Popen('mutool draw -o \"ICUS_Rules_Clean_up.html\" \"ICUS_Rules_Clean_up.pdf\"', shell=True) \r\n```\r\n\r\nthen\r\n```python\r\ncorpus_parser = Parser(structural=True, lingual=True, visual=True, pdf_path=pdf_path)\r\n%time corpus_parser.apply(doc_preprocessor, parallelism=PARALLEL)\r\n```\r\nvery slow for one document though\r\n```\r\n[INFO] fonduer.utils.udf - Clearing existing...\r\n[INFO] fonduer.utils.udf - Running UDF...\r\nCPU times: user 1.16 s, sys: 484 ms, total: 1.64 s\r\nWall time: 4min 44s\r\n```\r\n\r\nthen\r\n```python\r\nfrom fonduer import Document, Sentence\r\nprint(\"Documents:\", session.query(Document).count())\r\nprint(\"Sentences:\", session.query(Sentence).count())\r\n```\r\n \r\n```\r\nDocuments: 1\r\nSentences: 6858\r\n```\r\n\r\nmutool is open source so it seems you should be recommending this as the conversion tool.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/HazyResearch/fonduer/issues/comments/415070970/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false}},{"id":1802954422,"node_id":"MDExOkNsb3NlZEV2ZW50MTgwMjk1NDQyMg==","url":"https://api.github.com/repos/HazyResearch/fonduer/issues/events/1802954422","actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-08-22T15:20:58Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"created_at":"2018-08-22T15:30:26Z","updated_at":"2018-08-22T15:30:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/41","repository_url":"https://api.github.com/repos/HazyResearch/pdftotree","labels_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/41/labels{/name}","comments_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/41/comments","events_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/41/events","html_url":"https://github.com/HazyResearch/pdftotree/issues/41","id":352565222,"node_id":"MDU6SXNzdWUzNTI1NjUyMjI=","number":41,"title":"Enhancement using pdf-to-svg to get underlined and struck-out text formatting","user":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-08-21T14:24:41Z","updated_at":"2019-08-29T23:38:20Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"repository":{"id":114930836,"node_id":"MDEwOlJlcG9zaXRvcnkxMTQ5MzA4MzY=","name":"pdftotree","full_name":"HazyResearch/pdftotree","private":false,"owner":{"login":"HazyResearch","id":2165246,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxNjUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2165246?v=4","gravatar_id":"","url":"https://api.github.com/users/HazyResearch","html_url":"https://github.com/HazyResearch","followers_url":"https://api.github.com/users/HazyResearch/followers","following_url":"https://api.github.com/users/HazyResearch/following{/other_user}","gists_url":"https://api.github.com/users/HazyResearch/gists{/gist_id}","starred_url":"https://api.github.com/users/HazyResearch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HazyResearch/subscriptions","organizations_url":"https://api.github.com/users/HazyResearch/orgs","repos_url":"https://api.github.com/users/HazyResearch/repos","events_url":"https://api.github.com/users/HazyResearch/events{/privacy}","received_events_url":"https://api.github.com/users/HazyResearch/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/HazyResearch/pdftotree","description":":evergreen_tree: A tool for converting PDF into hOCR with text, tables, and figures being recognized and preserved.","fork":false,"url":"https://api.github.com/repos/HazyResearch/pdftotree","forks_url":"https://api.github.com/repos/HazyResearch/pdftotree/forks","keys_url":"https://api.github.com/repos/HazyResearch/pdftotree/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HazyResearch/pdftotree/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HazyResearch/pdftotree/teams","hooks_url":"https://api.github.com/repos/HazyResearch/pdftotree/hooks","issue_events_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/events{/number}","events_url":"https://api.github.com/repos/HazyResearch/pdftotree/events","assignees_url":"https://api.github.com/repos/HazyResearch/pdftotree/assignees{/user}","branches_url":"https://api.github.com/repos/HazyResearch/pdftotree/branches{/branch}","tags_url":"https://api.github.com/repos/HazyResearch/pdftotree/tags","blobs_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/refs{/sha}","trees_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HazyResearch/pdftotree/statuses/{sha}","languages_url":"https://api.github.com/repos/HazyResearch/pdftotree/languages","stargazers_url":"https://api.github.com/repos/HazyResearch/pdftotree/stargazers","contributors_url":"https://api.github.com/repos/HazyResearch/pdftotree/contributors","subscribers_url":"https://api.github.com/repos/HazyResearch/pdftotree/subscribers","subscription_url":"https://api.github.com/repos/HazyResearch/pdftotree/subscription","commits_url":"https://api.github.com/repos/HazyResearch/pdftotree/commits{/sha}","git_commits_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/commits{/sha}","comments_url":"https://api.github.com/repos/HazyResearch/pdftotree/comments{/number}","issue_comment_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/comments{/number}","contents_url":"https://api.github.com/repos/HazyResearch/pdftotree/contents/{+path}","compare_url":"https://api.github.com/repos/HazyResearch/pdftotree/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HazyResearch/pdftotree/merges","archive_url":"https://api.github.com/repos/HazyResearch/pdftotree/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HazyResearch/pdftotree/downloads","issues_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues{/number}","pulls_url":"https://api.github.com/repos/HazyResearch/pdftotree/pulls{/number}","milestones_url":"https://api.github.com/repos/HazyResearch/pdftotree/milestones{/number}","notifications_url":"https://api.github.com/repos/HazyResearch/pdftotree/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HazyResearch/pdftotree/labels{/name}","releases_url":"https://api.github.com/repos/HazyResearch/pdftotree/releases{/id}","deployments_url":"https://api.github.com/repos/HazyResearch/pdftotree/deployments","created_at":"2017-12-20T21:02:01Z","updated_at":"2023-01-19T14:47:15Z","pushed_at":"2022-06-28T00:09:20Z","git_url":"git://github.com/HazyResearch/pdftotree.git","ssh_url":"git@github.com:HazyResearch/pdftotree.git","clone_url":"https://github.com/HazyResearch/pdftotree.git","svn_url":"https://github.com/HazyResearch/pdftotree","homepage":"","size":14472,"stargazers_count":346,"watchers_count":346,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":64,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":19,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":64,"open_issues":19,"watchers":346,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I have had good results by converting a pdf to a series of svg (scalable vector graphics; an xml format) files with the open source tool [mupdf](https://mupdf.com/).  I then use an an xml parser (e.g. Beautiful Soup) to combine all of the text, text formatting, text position, page metadata, and document metadata into a pandas DataFrame.  \r\n\r\nI can create an additional pandas DataFrame with all of the page coordinates of each  `<path>`  from the svg file and combine with the text DataFrame in such a way that I can identify and tag the specific text that was either struck-out or underlined - a critical feature in my use case. \r\n\r\nUsing numpy to optimize much of these operations, I can generate the final DataFrame for a 150 page all-text pdf with abundant text underlines and strike-outs in about one second on a consumer laptop.\r\n\r\nAlso it can then be relatively straight forward to construct text formatting features to then base a document hierarchy on those features.  \r\n\r\nCombinations of the following text-formatting features can be used deduce document hierarchy: \r\n+ **Case:** \t\tUPPER > Title Case > Sentence > lower\r\n+ **Font Size:** \tLarge > Small\r\n+ **Font Weight:** \tBold > Italic > Normal \r\n+ **Underline:** \tUnderline > No Underline\r\n+ **Line Spacing:** Large > Small\r\n+ **Alignment:** \tCentered > Left\r\n+ **Indentation:** \tNo Indent > Indent\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/41/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/41/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"clayms","id":12793783,"node_id":"MDQ6VXNlcjEyNzkzNzgz","avatar_url":"https://avatars.githubusercontent.com/u/12793783?v=4","gravatar_id":"","url":"https://api.github.com/users/clayms","html_url":"https://github.com/clayms","followers_url":"https://api.github.com/users/clayms/followers","following_url":"https://api.github.com/users/clayms/following{/other_user}","gists_url":"https://api.github.com/users/clayms/gists{/gist_id}","starred_url":"https://api.github.com/users/clayms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clayms/subscriptions","organizations_url":"https://api.github.com/users/clayms/orgs","repos_url":"https://api.github.com/users/clayms/repos","events_url":"https://api.github.com/users/clayms/events{/privacy}","received_events_url":"https://api.github.com/users/clayms/received_events","type":"User","site_admin":false},"created_at":"2018-09-24T20:22:31Z","updated_at":"2018-09-24T20:22:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/27","repository_url":"https://api.github.com/repos/HazyResearch/pdftotree","labels_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/27/labels{/name}","comments_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/27/comments","events_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/27/events","html_url":"https://github.com/HazyResearch/pdftotree/issues/27","id":305399333,"node_id":"MDU6SXNzdWUzMDUzOTkzMzM=","number":27,"title":"Native-digital PDFs reported as scanned","user":{"login":"lukehsiao","id":7573542,"node_id":"MDQ6VXNlcjc1NzM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7573542?v=4","gravatar_id":"","url":"https://api.github.com/users/lukehsiao","html_url":"https://github.com/lukehsiao","followers_url":"https://api.github.com/users/lukehsiao/followers","following_url":"https://api.github.com/users/lukehsiao/following{/other_user}","gists_url":"https://api.github.com/users/lukehsiao/gists{/gist_id}","starred_url":"https://api.github.com/users/lukehsiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukehsiao/subscriptions","organizations_url":"https://api.github.com/users/lukehsiao/orgs","repos_url":"https://api.github.com/users/lukehsiao/repos","events_url":"https://api.github.com/users/lukehsiao/events{/privacy}","received_events_url":"https://api.github.com/users/lukehsiao/received_events","type":"User","site_admin":false},"labels":[{"id":784224724,"node_id":"MDU6TGFiZWw3ODQyMjQ3MjQ=","url":"https://api.github.com/repos/HazyResearch/pdftotree/labels/bug","name":"bug","color":"ee0701","default":true,"description":null},{"id":784224730,"node_id":"MDU6TGFiZWw3ODQyMjQ3MzA=","url":"https://api.github.com/repos/HazyResearch/pdftotree/labels/help%20wanted","name":"help wanted","color":"33aa3f","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-15T03:02:10Z","updated_at":"2020-10-02T19:50:19Z","closed_at":"2020-10-02T19:50:19Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"repository":{"id":114930836,"node_id":"MDEwOlJlcG9zaXRvcnkxMTQ5MzA4MzY=","name":"pdftotree","full_name":"HazyResearch/pdftotree","private":false,"owner":{"login":"HazyResearch","id":2165246,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxNjUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2165246?v=4","gravatar_id":"","url":"https://api.github.com/users/HazyResearch","html_url":"https://github.com/HazyResearch","followers_url":"https://api.github.com/users/HazyResearch/followers","following_url":"https://api.github.com/users/HazyResearch/following{/other_user}","gists_url":"https://api.github.com/users/HazyResearch/gists{/gist_id}","starred_url":"https://api.github.com/users/HazyResearch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HazyResearch/subscriptions","organizations_url":"https://api.github.com/users/HazyResearch/orgs","repos_url":"https://api.github.com/users/HazyResearch/repos","events_url":"https://api.github.com/users/HazyResearch/events{/privacy}","received_events_url":"https://api.github.com/users/HazyResearch/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/HazyResearch/pdftotree","description":":evergreen_tree: A tool for converting PDF into hOCR with text, tables, and figures being recognized and preserved.","fork":false,"url":"https://api.github.com/repos/HazyResearch/pdftotree","forks_url":"https://api.github.com/repos/HazyResearch/pdftotree/forks","keys_url":"https://api.github.com/repos/HazyResearch/pdftotree/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HazyResearch/pdftotree/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HazyResearch/pdftotree/teams","hooks_url":"https://api.github.com/repos/HazyResearch/pdftotree/hooks","issue_events_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/events{/number}","events_url":"https://api.github.com/repos/HazyResearch/pdftotree/events","assignees_url":"https://api.github.com/repos/HazyResearch/pdftotree/assignees{/user}","branches_url":"https://api.github.com/repos/HazyResearch/pdftotree/branches{/branch}","tags_url":"https://api.github.com/repos/HazyResearch/pdftotree/tags","blobs_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/refs{/sha}","trees_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HazyResearch/pdftotree/statuses/{sha}","languages_url":"https://api.github.com/repos/HazyResearch/pdftotree/languages","stargazers_url":"https://api.github.com/repos/HazyResearch/pdftotree/stargazers","contributors_url":"https://api.github.com/repos/HazyResearch/pdftotree/contributors","subscribers_url":"https://api.github.com/repos/HazyResearch/pdftotree/subscribers","subscription_url":"https://api.github.com/repos/HazyResearch/pdftotree/subscription","commits_url":"https://api.github.com/repos/HazyResearch/pdftotree/commits{/sha}","git_commits_url":"https://api.github.com/repos/HazyResearch/pdftotree/git/commits{/sha}","comments_url":"https://api.github.com/repos/HazyResearch/pdftotree/comments{/number}","issue_comment_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/comments{/number}","contents_url":"https://api.github.com/repos/HazyResearch/pdftotree/contents/{+path}","compare_url":"https://api.github.com/repos/HazyResearch/pdftotree/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HazyResearch/pdftotree/merges","archive_url":"https://api.github.com/repos/HazyResearch/pdftotree/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HazyResearch/pdftotree/downloads","issues_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues{/number}","pulls_url":"https://api.github.com/repos/HazyResearch/pdftotree/pulls{/number}","milestones_url":"https://api.github.com/repos/HazyResearch/pdftotree/milestones{/number}","notifications_url":"https://api.github.com/repos/HazyResearch/pdftotree/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HazyResearch/pdftotree/labels{/name}","releases_url":"https://api.github.com/repos/HazyResearch/pdftotree/releases{/id}","deployments_url":"https://api.github.com/repos/HazyResearch/pdftotree/deployments","created_at":"2017-12-20T21:02:01Z","updated_at":"2023-01-19T14:47:15Z","pushed_at":"2022-06-28T00:09:20Z","git_url":"git://github.com/HazyResearch/pdftotree.git","ssh_url":"git@github.com:HazyResearch/pdftotree.git","clone_url":"https://github.com/HazyResearch/pdftotree.git","svn_url":"https://github.com/HazyResearch/pdftotree","homepage":"","size":14472,"stargazers_count":346,"watchers_count":346,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":64,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":19,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":64,"open_issues":19,"watchers":346,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This document is native-digital and should be able to be converted.\r\n```\r\n$ pdftotree -vv CentralSemiconductorCorp_2N4013.pdf \r\n[ERROR] pdftotree.core - Document is scanned, cannot build tree structure\r\nHTML output to None\r\n```","reactions":{"url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/27/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HazyResearch/pdftotree/issues/27/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]