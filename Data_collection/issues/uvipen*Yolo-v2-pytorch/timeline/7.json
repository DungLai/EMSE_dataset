[{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489352990","html_url":"https://github.com/uvipen/Yolo-v2-pytorch/issues/7#issuecomment-489352990","issue_url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/7","id":489352990,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTM1Mjk5MA==","user":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"created_at":"2019-05-04T18:33:02Z","updated_at":"2019-05-04T18:34:01Z","author_association":"NONE","body":"@ruinianxu - It's pretty confusing, but I believe he changes to x_center, y_center, w, h format in one of the transforms that are applied to the dataset. It is not a great way to structure the code and makes it pretty confusing to have it hidden away there, but that is how it is. In general, the model requires/assumes that the final targets it receives should be in x_center, y_center, width, height since that is roughly what each anchor in a grid is ultimately trying to predict.","reactions":{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489352990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false}},{"id":2319182268,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMxOTE4MjI2OA==","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319182268","actor":{"login":"ruinianxu","id":27162640,"node_id":"MDQ6VXNlcjI3MTYyNjQw","avatar_url":"https://avatars.githubusercontent.com/u/27162640?v=4","gravatar_id":"","url":"https://api.github.com/users/ruinianxu","html_url":"https://github.com/ruinianxu","followers_url":"https://api.github.com/users/ruinianxu/followers","following_url":"https://api.github.com/users/ruinianxu/following{/other_user}","gists_url":"https://api.github.com/users/ruinianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/ruinianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruinianxu/subscriptions","organizations_url":"https://api.github.com/users/ruinianxu/orgs","repos_url":"https://api.github.com/users/ruinianxu/repos","events_url":"https://api.github.com/users/ruinianxu/events{/privacy}","received_events_url":"https://api.github.com/users/ruinianxu/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-04T18:33:02Z","performed_via_github_app":null},{"id":2319182269,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMTkxODIyNjk=","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319182269","actor":{"login":"ruinianxu","id":27162640,"node_id":"MDQ6VXNlcjI3MTYyNjQw","avatar_url":"https://avatars.githubusercontent.com/u/27162640?v=4","gravatar_id":"","url":"https://api.github.com/users/ruinianxu","html_url":"https://github.com/ruinianxu","followers_url":"https://api.github.com/users/ruinianxu/followers","following_url":"https://api.github.com/users/ruinianxu/following{/other_user}","gists_url":"https://api.github.com/users/ruinianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/ruinianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruinianxu/subscriptions","organizations_url":"https://api.github.com/users/ruinianxu/orgs","repos_url":"https://api.github.com/users/ruinianxu/repos","events_url":"https://api.github.com/users/ruinianxu/events{/privacy}","received_events_url":"https://api.github.com/users/ruinianxu/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-04T18:33:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489361033","html_url":"https://github.com/uvipen/Yolo-v2-pytorch/issues/7#issuecomment-489361033","issue_url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/7","id":489361033,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTM2MTAzMw==","user":{"login":"ruinianxu","id":27162640,"node_id":"MDQ6VXNlcjI3MTYyNjQw","avatar_url":"https://avatars.githubusercontent.com/u/27162640?v=4","gravatar_id":"","url":"https://api.github.com/users/ruinianxu","html_url":"https://github.com/ruinianxu","followers_url":"https://api.github.com/users/ruinianxu/followers","following_url":"https://api.github.com/users/ruinianxu/following{/other_user}","gists_url":"https://api.github.com/users/ruinianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/ruinianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruinianxu/subscriptions","organizations_url":"https://api.github.com/users/ruinianxu/orgs","repos_url":"https://api.github.com/users/ruinianxu/repos","events_url":"https://api.github.com/users/ruinianxu/events{/privacy}","received_events_url":"https://api.github.com/users/ruinianxu/received_events","type":"User","site_admin":false},"created_at":"2019-05-04T20:01:45Z","updated_at":"2019-05-04T20:01:45Z","author_association":"NONE","body":"@HamsterHuey Thanks so much for your reply. I am also confused by scaling groundtruth bbox by reduction factor which is 32. I didn't find this usage in other implementation. Is this in the original work? ","reactions":{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489361033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ruinianxu","id":27162640,"node_id":"MDQ6VXNlcjI3MTYyNjQw","avatar_url":"https://avatars.githubusercontent.com/u/27162640?v=4","gravatar_id":"","url":"https://api.github.com/users/ruinianxu","html_url":"https://github.com/ruinianxu","followers_url":"https://api.github.com/users/ruinianxu/followers","following_url":"https://api.github.com/users/ruinianxu/following{/other_user}","gists_url":"https://api.github.com/users/ruinianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/ruinianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruinianxu/subscriptions","organizations_url":"https://api.github.com/users/ruinianxu/orgs","repos_url":"https://api.github.com/users/ruinianxu/repos","events_url":"https://api.github.com/users/ruinianxu/events{/privacy}","received_events_url":"https://api.github.com/users/ruinianxu/received_events","type":"User","site_admin":false}},{"id":2319221855,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMxOTIyMTg1NQ==","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319221855","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-04T20:01:45Z","performed_via_github_app":null},{"id":2319221857,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMTkyMjE4NTc=","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319221857","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-04T20:01:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489373728","html_url":"https://github.com/uvipen/Yolo-v2-pytorch/issues/7#issuecomment-489373728","issue_url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/7","id":489373728,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTM3MzcyOA==","user":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"created_at":"2019-05-04T23:39:11Z","updated_at":"2019-05-04T23:42:26Z","author_association":"NONE","body":"Yes. The network reduces input pixel dimension by a factor of 32, so a 416x416 input image ends up at the final layer as a 13 x 13 grid. The network then tries to predict the co-ordinates of the box within each grid box, but the overall co-ordinates for the box are defined on this 13 x 13 grid, and that is what the co-ordinate loss is calculated on as well I believe.\r\n\r\nSo it is a function of the way YOLO is implemented.\r\n","reactions":{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489373728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false}},{"id":2319295589,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMxOTI5NTU4OQ==","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319295589","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-04T23:39:12Z","performed_via_github_app":null},{"id":2319295590,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMTkyOTU1OTA=","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319295590","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-04T23:39:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489374144","html_url":"https://github.com/uvipen/Yolo-v2-pytorch/issues/7#issuecomment-489374144","issue_url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/7","id":489374144,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTM3NDE0NA==","user":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"created_at":"2019-05-04T23:48:47Z","updated_at":"2019-05-04T23:48:47Z","author_association":"NONE","body":"As an addition, see this figure in the YOLO v2 paper:\r\n![image](https://user-images.githubusercontent.com/3207370/57186005-54a0e300-6ea5-11e9-9219-7ea8b0d80b50.png)\r\n\r\nIt isn't completely clear here, but the co-ordinate system is such that each grid has unit length. This is why the offset of the box center within a box is bound by a sigmoid, so it spans 0 - 1, which lets it span any point within a grid-cell. `c_x` and `c_y` are actually integers, and in the picture as shown, if the top-left corner is 0,0 - `c_x` and `c_y` should both be 1.","reactions":{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489374144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489374726","html_url":"https://github.com/uvipen/Yolo-v2-pytorch/issues/7#issuecomment-489374726","issue_url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/7","id":489374726,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTM3NDcyNg==","user":{"login":"ruinianxu","id":27162640,"node_id":"MDQ6VXNlcjI3MTYyNjQw","avatar_url":"https://avatars.githubusercontent.com/u/27162640?v=4","gravatar_id":"","url":"https://api.github.com/users/ruinianxu","html_url":"https://github.com/ruinianxu","followers_url":"https://api.github.com/users/ruinianxu/followers","following_url":"https://api.github.com/users/ruinianxu/following{/other_user}","gists_url":"https://api.github.com/users/ruinianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/ruinianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruinianxu/subscriptions","organizations_url":"https://api.github.com/users/ruinianxu/orgs","repos_url":"https://api.github.com/users/ruinianxu/repos","events_url":"https://api.github.com/users/ruinianxu/events{/privacy}","received_events_url":"https://api.github.com/users/ruinianxu/received_events","type":"User","site_admin":false},"created_at":"2019-05-05T00:01:49Z","updated_at":"2019-05-05T00:01:49Z","author_association":"NONE","body":"@HamsterHuey Thank you so much for your reply! I previously considered reduction as another parameter \r\n which defines max_bbox_per_image hence I thought it is wired. ","reactions":{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/489374726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ruinianxu","id":27162640,"node_id":"MDQ6VXNlcjI3MTYyNjQw","avatar_url":"https://avatars.githubusercontent.com/u/27162640?v=4","gravatar_id":"","url":"https://api.github.com/users/ruinianxu","html_url":"https://github.com/ruinianxu","followers_url":"https://api.github.com/users/ruinianxu/followers","following_url":"https://api.github.com/users/ruinianxu/following{/other_user}","gists_url":"https://api.github.com/users/ruinianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/ruinianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruinianxu/subscriptions","organizations_url":"https://api.github.com/users/ruinianxu/orgs","repos_url":"https://api.github.com/users/ruinianxu/repos","events_url":"https://api.github.com/users/ruinianxu/events{/privacy}","received_events_url":"https://api.github.com/users/ruinianxu/received_events","type":"User","site_admin":false}},{"id":2319301550,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMxOTMwMTU1MA==","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319301550","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-05T00:01:49Z","performed_via_github_app":null},{"id":2319301551,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMTkzMDE1NTE=","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319301551","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-05T00:01:49Z","performed_via_github_app":null},{"id":2319301583,"node_id":"MDExOkNsb3NlZEV2ZW50MjMxOTMwMTU4Mw==","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/2319301583","actor":{"login":"ruinianxu","id":27162640,"node_id":"MDQ6VXNlcjI3MTYyNjQw","avatar_url":"https://avatars.githubusercontent.com/u/27162640?v=4","gravatar_id":"","url":"https://api.github.com/users/ruinianxu","html_url":"https://github.com/ruinianxu","followers_url":"https://api.github.com/users/ruinianxu/followers","following_url":"https://api.github.com/users/ruinianxu/following{/other_user}","gists_url":"https://api.github.com/users/ruinianxu/gists{/gist_id}","starred_url":"https://api.github.com/users/ruinianxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruinianxu/subscriptions","organizations_url":"https://api.github.com/users/ruinianxu/orgs","repos_url":"https://api.github.com/users/ruinianxu/repos","events_url":"https://api.github.com/users/ruinianxu/events{/privacy}","received_events_url":"https://api.github.com/users/ruinianxu/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-05T00:01:54Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/659109713","html_url":"https://github.com/uvipen/Yolo-v2-pytorch/issues/7#issuecomment-659109713","issue_url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/7","id":659109713,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTEwOTcxMw==","user":{"login":"relotonp","id":38588856,"node_id":"MDQ6VXNlcjM4NTg4ODU2","avatar_url":"https://avatars.githubusercontent.com/u/38588856?v=4","gravatar_id":"","url":"https://api.github.com/users/relotonp","html_url":"https://github.com/relotonp","followers_url":"https://api.github.com/users/relotonp/followers","following_url":"https://api.github.com/users/relotonp/following{/other_user}","gists_url":"https://api.github.com/users/relotonp/gists{/gist_id}","starred_url":"https://api.github.com/users/relotonp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relotonp/subscriptions","organizations_url":"https://api.github.com/users/relotonp/orgs","repos_url":"https://api.github.com/users/relotonp/repos","events_url":"https://api.github.com/users/relotonp/events{/privacy}","received_events_url":"https://api.github.com/users/relotonp/received_events","type":"User","site_admin":false},"created_at":"2020-07-16T01:55:25Z","updated_at":"2020-07-16T02:09:03Z","author_association":"NONE","body":"@HamsterHuey @uvipen where exactly is the conversion from [xmin,ymin,xmax,ymax] to [xmin, ymin, width, height] ?\r\n\r\nYou said that it's at a transformation on the dataset but I can't find it.\r\n\r\nThe bbox is read out from voc annotation data as [xmin,ymin,xmax,ymax, class_name] [here ](https://github.com/uvipen/Yolo-v2-pytorch/blob/master/src/voc_dataset.py#L41)\r\n\r\nThen in line 42/43 multiple transformations are used, but they don't change the format\r\nIn [resize ](https://github.com/uvipen/Yolo-v2-pytorch/blob/master/src/data_augmentation.py#L125) it still returns [resized_xmin, resized_ymin, resize_width, resize_height, class_name]\r\n\r\nAfter that we don't use any transformations anymore and in [train_voc ](https://github.com/uvipen/Yolo-v2-pytorch/blob/master/train_voc.py#L109) we get the picture and this annotation as label. Then we [feed ](https://github.com/uvipen/Yolo-v2-pytorch/blob/master/train_voc.py#L116) this label into our loss.\r\n\r\nSo we have still the format [xmin, ymin, xmax, ymax]\r\nThe label(now under the name target) is fed unchanged into [build_target](https://github.com/uvipen/Yolo-v2-pytorch/blob/master/src/loss.py#L63)\r\n\r\nIt is now called ground_truth. \r\n\r\n    for i, anno in enumerate(ground_truth[b]):\r\n                gt[i, 0] = (anno[0] + anno[2] / 2) / self.reduction\r\n                gt[i, 1] = (anno[1] + anno[3] / 2) / self.reduction\r\n                gt[i, 2] = anno[2] / self.reduction\r\n                gt[i, 3] = anno[3] / self.reduction\r\n\r\nIf ground truth is in format [xmin, ymin, xmax. ymax]\r\nanno[2] cannot be width and anno[3] cannot be heigth.\r\n\r\nI know that he wants to make gt[i,0] to x_middle and gt[i,1] to y_middle but this calculation is wrong if anno[2] is xmax and not width.\r\n\r\nIt would be correct if anno[0] is xmin and anno[2] is width so\r\n \r\n     x_middle = xmin+(width/2) # and then add the reduction\r\n\r\nSo where did I miss the conversion where he changed the annotation to [xmin,ymin,width,height]?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/659109713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"relotonp","id":38588856,"node_id":"MDQ6VXNlcjM4NTg4ODU2","avatar_url":"https://avatars.githubusercontent.com/u/38588856?v=4","gravatar_id":"","url":"https://api.github.com/users/relotonp","html_url":"https://github.com/relotonp","followers_url":"https://api.github.com/users/relotonp/followers","following_url":"https://api.github.com/users/relotonp/following{/other_user}","gists_url":"https://api.github.com/users/relotonp/gists{/gist_id}","starred_url":"https://api.github.com/users/relotonp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relotonp/subscriptions","organizations_url":"https://api.github.com/users/relotonp/orgs","repos_url":"https://api.github.com/users/relotonp/repos","events_url":"https://api.github.com/users/relotonp/events{/privacy}","received_events_url":"https://api.github.com/users/relotonp/received_events","type":"User","site_admin":false}},{"id":3551014516,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU1MTAxNDUxNg==","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/3551014516","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-16T01:55:25Z","performed_via_github_app":null},{"id":3551014519,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NTEwMTQ1MTk=","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/3551014519","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-16T01:55:25Z","performed_via_github_app":null},{"id":3551021661,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU1MTAyMTY2MQ==","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/3551021661","actor":{"login":"uvipen","id":47221207,"node_id":"MDQ6VXNlcjQ3MjIxMjA3","avatar_url":"https://avatars.githubusercontent.com/u/47221207?v=4","gravatar_id":"","url":"https://api.github.com/users/uvipen","html_url":"https://github.com/uvipen","followers_url":"https://api.github.com/users/uvipen/followers","following_url":"https://api.github.com/users/uvipen/following{/other_user}","gists_url":"https://api.github.com/users/uvipen/gists{/gist_id}","starred_url":"https://api.github.com/users/uvipen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uvipen/subscriptions","organizations_url":"https://api.github.com/users/uvipen/orgs","repos_url":"https://api.github.com/users/uvipen/repos","events_url":"https://api.github.com/users/uvipen/events{/privacy}","received_events_url":"https://api.github.com/users/uvipen/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-16T01:59:17Z","performed_via_github_app":null},{"id":3551021664,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NTEwMjE2NjQ=","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/3551021664","actor":{"login":"uvipen","id":47221207,"node_id":"MDQ6VXNlcjQ3MjIxMjA3","avatar_url":"https://avatars.githubusercontent.com/u/47221207?v=4","gravatar_id":"","url":"https://api.github.com/users/uvipen","html_url":"https://github.com/uvipen","followers_url":"https://api.github.com/users/uvipen/followers","following_url":"https://api.github.com/users/uvipen/following{/other_user}","gists_url":"https://api.github.com/users/uvipen/gists{/gist_id}","starred_url":"https://api.github.com/users/uvipen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uvipen/subscriptions","organizations_url":"https://api.github.com/users/uvipen/orgs","repos_url":"https://api.github.com/users/uvipen/repos","events_url":"https://api.github.com/users/uvipen/events{/privacy}","received_events_url":"https://api.github.com/users/uvipen/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-16T01:59:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/659129690","html_url":"https://github.com/uvipen/Yolo-v2-pytorch/issues/7#issuecomment-659129690","issue_url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/7","id":659129690,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTEyOTY5MA==","user":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false},"created_at":"2020-07-16T03:06:20Z","updated_at":"2020-07-16T03:06:20Z","author_association":"NONE","body":"@relotonp - I believe it happens in the `Resize` transform here: https://github.com/uvipen/Yolo-v2-pytorch/blob/master/src/data_augmentation.py#L125\r\n\r\nIn general, your best bet would be to switch to looking at the Ultralytics Yolo V3 repo for a decent implementation that has been tested to train to a good mAP value from scratch on COCO. This repo has a lot of bugs, and Yolo in general is a pretty finicky model with lots of crazy implementation details that are easy to get wrong.","reactions":{"url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/comments/659129690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HamsterHuey","id":3207370,"node_id":"MDQ6VXNlcjMyMDczNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3207370?v=4","gravatar_id":"","url":"https://api.github.com/users/HamsterHuey","html_url":"https://github.com/HamsterHuey","followers_url":"https://api.github.com/users/HamsterHuey/followers","following_url":"https://api.github.com/users/HamsterHuey/following{/other_user}","gists_url":"https://api.github.com/users/HamsterHuey/gists{/gist_id}","starred_url":"https://api.github.com/users/HamsterHuey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HamsterHuey/subscriptions","organizations_url":"https://api.github.com/users/HamsterHuey/orgs","repos_url":"https://api.github.com/users/HamsterHuey/repos","events_url":"https://api.github.com/users/HamsterHuey/events{/privacy}","received_events_url":"https://api.github.com/users/HamsterHuey/received_events","type":"User","site_admin":false}},{"id":3551151812,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU1MTE1MTgxMg==","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/3551151812","actor":{"login":"relotonp","id":38588856,"node_id":"MDQ6VXNlcjM4NTg4ODU2","avatar_url":"https://avatars.githubusercontent.com/u/38588856?v=4","gravatar_id":"","url":"https://api.github.com/users/relotonp","html_url":"https://github.com/relotonp","followers_url":"https://api.github.com/users/relotonp/followers","following_url":"https://api.github.com/users/relotonp/following{/other_user}","gists_url":"https://api.github.com/users/relotonp/gists{/gist_id}","starred_url":"https://api.github.com/users/relotonp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relotonp/subscriptions","organizations_url":"https://api.github.com/users/relotonp/orgs","repos_url":"https://api.github.com/users/relotonp/repos","events_url":"https://api.github.com/users/relotonp/events{/privacy}","received_events_url":"https://api.github.com/users/relotonp/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-16T03:06:20Z","performed_via_github_app":null},{"id":3551151815,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NTExNTE4MTU=","url":"https://api.github.com/repos/uvipen/Yolo-v2-pytorch/issues/events/3551151815","actor":{"login":"relotonp","id":38588856,"node_id":"MDQ6VXNlcjM4NTg4ODU2","avatar_url":"https://avatars.githubusercontent.com/u/38588856?v=4","gravatar_id":"","url":"https://api.github.com/users/relotonp","html_url":"https://github.com/relotonp","followers_url":"https://api.github.com/users/relotonp/followers","following_url":"https://api.github.com/users/relotonp/following{/other_user}","gists_url":"https://api.github.com/users/relotonp/gists{/gist_id}","starred_url":"https://api.github.com/users/relotonp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relotonp/subscriptions","organizations_url":"https://api.github.com/users/relotonp/orgs","repos_url":"https://api.github.com/users/relotonp/repos","events_url":"https://api.github.com/users/relotonp/events{/privacy}","received_events_url":"https://api.github.com/users/relotonp/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-16T03:06:20Z","performed_via_github_app":null}]