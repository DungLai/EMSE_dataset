{"url":"https://api.github.com/repos/qubvel/efficientnet/issues/113","repository_url":"https://api.github.com/repos/qubvel/efficientnet","labels_url":"https://api.github.com/repos/qubvel/efficientnet/issues/113/labels{/name}","comments_url":"https://api.github.com/repos/qubvel/efficientnet/issues/113/comments","events_url":"https://api.github.com/repos/qubvel/efficientnet/issues/113/events","html_url":"https://github.com/qubvel/efficientnet/issues/113","id":600972186,"node_id":"MDU6SXNzdWU2MDA5NzIxODY=","number":113,"title":"unable to load model -Unknown initializer: EfficientConv2DKernelInitializer","user":{"login":"emoen","id":1202040,"node_id":"MDQ6VXNlcjEyMDIwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1202040?v=4","gravatar_id":"","url":"https://api.github.com/users/emoen","html_url":"https://github.com/emoen","followers_url":"https://api.github.com/users/emoen/followers","following_url":"https://api.github.com/users/emoen/following{/other_user}","gists_url":"https://api.github.com/users/emoen/gists{/gist_id}","starred_url":"https://api.github.com/users/emoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emoen/subscriptions","organizations_url":"https://api.github.com/users/emoen/orgs","repos_url":"https://api.github.com/users/emoen/repos","events_url":"https://api.github.com/users/emoen/events{/privacy}","received_events_url":"https://api.github.com/users/emoen/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-16T11:35:00Z","updated_at":"2022-02-15T12:31:45Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I try to load a model I created about in june 2019, but it doesnt load. I suspect it has something to do with the refactoring done on efficientnet. \r\n\r\nWhen creating the model i used:\r\nfrom efficientnet import EfficientNetB4\r\n\r\nwhile in later work I have used:\r\nimport efficientnet.keras as efn\r\n\r\nso I guess there has been a refactoring inbetween. How do I load the old model?\r\n\r\nThe error message Im getting is:\r\n>>> sea_age_model = load_model('salmon_scale_efficientnetB4.046-0.29.hdf5')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/engine/saving.py\", line 492, in load_wrapper\r\n    return load_function(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/engine/saving.py\", line 584, in load_model\r\n    model = _deserialize_model(h5dict, custom_objects, compile)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/engine/saving.py\", line 274, in _deserialize_model\r\n    model = model_from_config(model_config, custom_objects=custom_objects)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/engine/saving.py\", line 627, in model_from_config\r\n    return deserialize(config, custom_objects=custom_objects)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/layers/__init__.py\", line 168, in deserialize\r\n    printable_module_name='layer')\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/utils/generic_utils.py\", line 147, in deserialize_keras_object\r\n    list(custom_objects.items())))\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/engine/network.py\", line 1056, in from_config\r\n    process_layer(layer_data)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/engine/network.py\", line 1042, in process_layer\r\n    custom_objects=custom_objects)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/layers/__init__.py\", line 168, in deserialize\r\n    printable_module_name='layer')\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/utils/generic_utils.py\", line 149, in deserialize_keras_object\r\n    return cls.from_config(config['config'])\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/engine/base_layer.py\", line 1179, in from_config\r\n    return cls(**config)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/legacy/interfaces.py\", line 91, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/layers/convolutional.py\", line 484, in __init__\r\n    **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/layers/convolutional.py\", line 117, in __init__\r\n    self.kernel_initializer = initializers.get(kernel_initializer)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/initializers.py\", line 515, in get\r\n    return deserialize(identifier)\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/initializers.py\", line 510, in deserialize\r\n    printable_module_name='initializer')\r\n  File \"/usr/local/lib/python3.6/dist-packages/keras/utils/generic_utils.py\", line 140, in deserialize_keras_object\r\n    ': ' + class_name)\r\nValueError: Unknown initializer: EfficientConv2DKernelInitializer\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/qubvel/efficientnet/issues/113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/qubvel/efficientnet/issues/113/timeline","performed_via_github_app":null,"state_reason":null}