{"url":"https://api.github.com/repos/gsurma/cartpole/issues/4","repository_url":"https://api.github.com/repos/gsurma/cartpole","labels_url":"https://api.github.com/repos/gsurma/cartpole/issues/4/labels{/name}","comments_url":"https://api.github.com/repos/gsurma/cartpole/issues/4/comments","events_url":"https://api.github.com/repos/gsurma/cartpole/issues/4/events","html_url":"https://github.com/gsurma/cartpole/issues/4","id":544180824,"node_id":"MDU6SXNzdWU1NDQxODA4MjQ=","number":4,"title":"reward is strange","user":{"login":"birdmw","id":2925772,"node_id":"MDQ6VXNlcjI5MjU3NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2925772?v=4","gravatar_id":"","url":"https://api.github.com/users/birdmw","html_url":"https://github.com/birdmw","followers_url":"https://api.github.com/users/birdmw/followers","following_url":"https://api.github.com/users/birdmw/following{/other_user}","gists_url":"https://api.github.com/users/birdmw/gists{/gist_id}","starred_url":"https://api.github.com/users/birdmw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/birdmw/subscriptions","organizations_url":"https://api.github.com/users/birdmw/orgs","repos_url":"https://api.github.com/users/birdmw/repos","events_url":"https://api.github.com/users/birdmw/events{/privacy}","received_events_url":"https://api.github.com/users/birdmw/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-12-31T12:43:30Z","updated_at":"2019-12-31T12:43:30Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"This line\r\n`q_update = (reward + GAMMA * np.amax(self.model.predict(state_next)[0]))`\r\n\r\nyou are taking a prediction upon your next state, and then updating your current predictions with a reward over that (next) state.\r\n\r\n```\r\nq_values = self.model.predict(state)\r\nq_values[0][action] = q_update\r\n```\r\n\r\nSo you are essentially rewarding your model for the next action it takes. The reason this works is that rewards in future states are dependent upon current actions. So your model trains, but it's doing so in a strange way.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/gsurma/cartpole/issues/4/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gsurma/cartpole/issues/4/timeline","performed_via_github_app":null,"state_reason":null}