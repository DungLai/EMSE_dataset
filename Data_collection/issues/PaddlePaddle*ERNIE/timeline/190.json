[{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/508380372","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/190#issuecomment-508380372","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/190","id":508380372,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODM4MDM3Mg==","user":{"login":"zhanghan1992","id":40751364,"node_id":"MDQ6VXNlcjQwNzUxMzY0","avatar_url":"https://avatars.githubusercontent.com/u/40751364?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghan1992","html_url":"https://github.com/zhanghan1992","followers_url":"https://api.github.com/users/zhanghan1992/followers","following_url":"https://api.github.com/users/zhanghan1992/following{/other_user}","gists_url":"https://api.github.com/users/zhanghan1992/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghan1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghan1992/subscriptions","organizations_url":"https://api.github.com/users/zhanghan1992/orgs","repos_url":"https://api.github.com/users/zhanghan1992/repos","events_url":"https://api.github.com/users/zhanghan1992/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghan1992/received_events","type":"User","site_admin":false},"created_at":"2019-07-04T07:54:07Z","updated_at":"2019-07-04T07:54:07Z","author_association":"COLLABORATOR","body":"只根据首字的prob是否大于0.15决定该词是否mask；因此如果mask，相当于已知首字的porb < 0.15了，所以在首字上按0.15的80%, 10%, 10%决定替换的token。首字和非首字的处理是一样的。","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/508380372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zhanghan1992","id":40751364,"node_id":"MDQ6VXNlcjQwNzUxMzY0","avatar_url":"https://avatars.githubusercontent.com/u/40751364?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghan1992","html_url":"https://github.com/zhanghan1992","followers_url":"https://api.github.com/users/zhanghan1992/followers","following_url":"https://api.github.com/users/zhanghan1992/following{/other_user}","gists_url":"https://api.github.com/users/zhanghan1992/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghan1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghan1992/subscriptions","organizations_url":"https://api.github.com/users/zhanghan1992/orgs","repos_url":"https://api.github.com/users/zhanghan1992/repos","events_url":"https://api.github.com/users/zhanghan1992/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghan1992/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/508396687","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/190#issuecomment-508396687","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/190","id":508396687,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODM5NjY4Nw==","user":{"login":"zhanghan1992","id":40751364,"node_id":"MDQ6VXNlcjQwNzUxMzY0","avatar_url":"https://avatars.githubusercontent.com/u/40751364?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghan1992","html_url":"https://github.com/zhanghan1992","followers_url":"https://api.github.com/users/zhanghan1992/followers","following_url":"https://api.github.com/users/zhanghan1992/following{/other_user}","gists_url":"https://api.github.com/users/zhanghan1992/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghan1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghan1992/subscriptions","organizations_url":"https://api.github.com/users/zhanghan1992/orgs","repos_url":"https://api.github.com/users/zhanghan1992/repos","events_url":"https://api.github.com/users/zhanghan1992/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghan1992/received_events","type":"User","site_admin":false},"created_at":"2019-07-04T08:43:41Z","updated_at":"2019-07-04T08:43:41Z","author_association":"COLLABORATOR","body":"参考https://github.com/PaddlePaddle/LARK/issues/33","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/508396687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zhanghan1992","id":40751364,"node_id":"MDQ6VXNlcjQwNzUxMzY0","avatar_url":"https://avatars.githubusercontent.com/u/40751364?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghan1992","html_url":"https://github.com/zhanghan1992","followers_url":"https://api.github.com/users/zhanghan1992/followers","following_url":"https://api.github.com/users/zhanghan1992/following{/other_user}","gists_url":"https://api.github.com/users/zhanghan1992/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghan1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghan1992/subscriptions","organizations_url":"https://api.github.com/users/zhanghan1992/orgs","repos_url":"https://api.github.com/users/zhanghan1992/repos","events_url":"https://api.github.com/users/zhanghan1992/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghan1992/received_events","type":"User","site_admin":false}},{"id":2459878787,"node_id":"MDExOkNsb3NlZEV2ZW50MjQ1OTg3ODc4Nw==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/2459878787","actor":{"login":"zhanghan1992","id":40751364,"node_id":"MDQ6VXNlcjQwNzUxMzY0","avatar_url":"https://avatars.githubusercontent.com/u/40751364?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghan1992","html_url":"https://github.com/zhanghan1992","followers_url":"https://api.github.com/users/zhanghan1992/followers","following_url":"https://api.github.com/users/zhanghan1992/following{/other_user}","gists_url":"https://api.github.com/users/zhanghan1992/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghan1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghan1992/subscriptions","organizations_url":"https://api.github.com/users/zhanghan1992/orgs","repos_url":"https://api.github.com/users/zhanghan1992/repos","events_url":"https://api.github.com/users/zhanghan1992/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghan1992/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-07-04T08:45:42Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/509895339","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/190#issuecomment-509895339","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/190","id":509895339,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTg5NTMzOQ==","user":{"login":"lexmen318","id":43975514,"node_id":"MDQ6VXNlcjQzOTc1NTE0","avatar_url":"https://avatars.githubusercontent.com/u/43975514?v=4","gravatar_id":"","url":"https://api.github.com/users/lexmen318","html_url":"https://github.com/lexmen318","followers_url":"https://api.github.com/users/lexmen318/followers","following_url":"https://api.github.com/users/lexmen318/following{/other_user}","gists_url":"https://api.github.com/users/lexmen318/gists{/gist_id}","starred_url":"https://api.github.com/users/lexmen318/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexmen318/subscriptions","organizations_url":"https://api.github.com/users/lexmen318/orgs","repos_url":"https://api.github.com/users/lexmen318/repos","events_url":"https://api.github.com/users/lexmen318/events{/privacy}","received_events_url":"https://api.github.com/users/lexmen318/received_events","type":"User","site_admin":false},"created_at":"2019-07-10T03:43:28Z","updated_at":"2019-07-10T03:43:28Z","author_association":"NONE","body":"仔细看了一下代码，确实都是一样的概率，关键点就在于非词首本身是在  if prob > 0.15的else分支里面了，因此已经是依赖于词首的15%概率了，所以prob必须以1.0为起点。\r\n\r\n而词首本身前后两次取的prob_mask概率是一样的，所以必须以0.15为起点。","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/509895339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lexmen318","id":43975514,"node_id":"MDQ6VXNlcjQzOTc1NTE0","avatar_url":"https://avatars.githubusercontent.com/u/43975514?v=4","gravatar_id":"","url":"https://api.github.com/users/lexmen318","html_url":"https://github.com/lexmen318","followers_url":"https://api.github.com/users/lexmen318/followers","following_url":"https://api.github.com/users/lexmen318/following{/other_user}","gists_url":"https://api.github.com/users/lexmen318/gists{/gist_id}","starred_url":"https://api.github.com/users/lexmen318/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexmen318/subscriptions","organizations_url":"https://api.github.com/users/lexmen318/orgs","repos_url":"https://api.github.com/users/lexmen318/repos","events_url":"https://api.github.com/users/lexmen318/events{/privacy}","received_events_url":"https://api.github.com/users/lexmen318/received_events","type":"User","site_admin":false}}]