[{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/665002019","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/529#issuecomment-665002019","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/529","id":665002019,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTAwMjAxOQ==","user":{"login":"Meiyim","id":10281949,"node_id":"MDQ6VXNlcjEwMjgxOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10281949?v=4","gravatar_id":"","url":"https://api.github.com/users/Meiyim","html_url":"https://github.com/Meiyim","followers_url":"https://api.github.com/users/Meiyim/followers","following_url":"https://api.github.com/users/Meiyim/following{/other_user}","gists_url":"https://api.github.com/users/Meiyim/gists{/gist_id}","starred_url":"https://api.github.com/users/Meiyim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meiyim/subscriptions","organizations_url":"https://api.github.com/users/Meiyim/orgs","repos_url":"https://api.github.com/users/Meiyim/repos","events_url":"https://api.github.com/users/Meiyim/events{/privacy}","received_events_url":"https://api.github.com/users/Meiyim/received_events","type":"User","site_admin":false},"created_at":"2020-07-28T12:08:49Z","updated_at":"2020-07-28T12:08:49Z","author_association":"COLLABORATOR","body":"can you provide full log please? \r\nif you start trainging via `launch.py`, the actual log will be redirectd to `./log` dir.","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/665002019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Meiyim","id":10281949,"node_id":"MDQ6VXNlcjEwMjgxOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10281949?v=4","gravatar_id":"","url":"https://api.github.com/users/Meiyim","html_url":"https://github.com/Meiyim","followers_url":"https://api.github.com/users/Meiyim/followers","following_url":"https://api.github.com/users/Meiyim/following{/other_user}","gists_url":"https://api.github.com/users/Meiyim/gists{/gist_id}","starred_url":"https://api.github.com/users/Meiyim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meiyim/subscriptions","organizations_url":"https://api.github.com/users/Meiyim/orgs","repos_url":"https://api.github.com/users/Meiyim/repos","events_url":"https://api.github.com/users/Meiyim/events{/privacy}","received_events_url":"https://api.github.com/users/Meiyim/received_events","type":"User","site_admin":false}},{"id":3594048805,"node_id":"MDEyOkxhYmVsZWRFdmVudDM1OTQwNDg4MDU=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3594048805","actor":{"login":"Meiyim","id":10281949,"node_id":"MDQ6VXNlcjEwMjgxOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10281949?v=4","gravatar_id":"","url":"https://api.github.com/users/Meiyim","html_url":"https://github.com/Meiyim","followers_url":"https://api.github.com/users/Meiyim/followers","following_url":"https://api.github.com/users/Meiyim/following{/other_user}","gists_url":"https://api.github.com/users/Meiyim/gists{/gist_id}","starred_url":"https://api.github.com/users/Meiyim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meiyim/subscriptions","organizations_url":"https://api.github.com/users/Meiyim/orgs","repos_url":"https://api.github.com/users/Meiyim/repos","events_url":"https://api.github.com/users/Meiyim/events{/privacy}","received_events_url":"https://api.github.com/users/Meiyim/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-07-28T12:11:49Z","label":{"name":"repro","color":"ce652d"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/665388158","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/529#issuecomment-665388158","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/529","id":665388158,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTM4ODE1OA==","user":{"login":"alibi123","id":51895254,"node_id":"MDQ6VXNlcjUxODk1MjU0","avatar_url":"https://avatars.githubusercontent.com/u/51895254?v=4","gravatar_id":"","url":"https://api.github.com/users/alibi123","html_url":"https://github.com/alibi123","followers_url":"https://api.github.com/users/alibi123/followers","following_url":"https://api.github.com/users/alibi123/following{/other_user}","gists_url":"https://api.github.com/users/alibi123/gists{/gist_id}","starred_url":"https://api.github.com/users/alibi123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alibi123/subscriptions","organizations_url":"https://api.github.com/users/alibi123/orgs","repos_url":"https://api.github.com/users/alibi123/repos","events_url":"https://api.github.com/users/alibi123/events{/privacy}","received_events_url":"https://api.github.com/users/alibi123/received_events","type":"User","site_admin":false},"created_at":"2020-07-29T02:07:17Z","updated_at":"2020-07-29T02:07:17Z","author_association":"NONE","body":"> can you provide full log please?\r\n> if you start trainging via `launch.py`, the actual log will be redirectd to `./log` dir.\r\n\r\n@Meiyim \r\nI've started the training with `run_seq2seq.sh` and here are the full logs:\r\n`./log/lanch.log`:\r\n```\r\n-----------  Configuration Arguments -----------\r\ncurrent_node_ip: 172.20.0.2\r\nlog_prefix:\r\nnode_id: 0\r\nnode_ips: 172.20.0.2\r\nprint_config: True\r\nsplit_log_path: log\r\ntraining_script: ./run_seq2seq.py\r\ntraining_script_args: ['--use_cuda', 'true', '--do_train', 'true', '--do_val', 'true', '--do_test', 'false', '--do_pred', 'false', '--train_set', './datasets/korquad/train.tsv', '--dev_set', './datasets/korquad/dev.tsv', '--test_set', './datasets/korquad/test.tsv', '--pred_set', './datasets/korquad/', '--epoch', '10', '--tokenizer', 'FullTokenizer', '--tokenized_input', 'true', '--task_type', 'normal', '--role_type_size', '0', '--turn_type_size', '0', '--max_src_len', '512', '--max_tgt_len', '96', '--max_dec_len', '48', '--hidden_dropout_prob', '0.2', '--attention_probs_dropout_prob', '-1', '--random_noise', 'true', '--noise_prob', '0.7', '--continuous_position', 'true', '--tgt_type_id', '3', '--batch_size', '4', '--learning_rate', '1e-5', '--lr_scheduler', 'linear_warmup_decay', '--warmup_proportion', '0.1', '--weight_decay', '0.01', '--weight_sharing', 'True', '--label_smooth', '0.1', '--do_decode', 'true', '--beam_size', '5', '--length_penalty', '1.0', '--init_pretraining_params', 'ernie_gen_large/params', '--vocab_path', 'ernie_gen_large/vocab.txt', '--ernie_config_path', 'ernie_gen_large/ernie_config.json', '--checkpoints', './checkpoints', '--save_and_valid_by_epoch', 'true', '--eval_script', 'sh', './eval/tasks/squad_qg/eval.sh', '--eval_mertrics', 'Bleu_4,METEOR,ROUGE_L', '--random_seed', '728']\r\n------------------------------------------------\r\nall_trainer_endpoints:  172.20.0.2:6170 , node_id:  0 , current_ip:  172.20.0.2 , num_nodes:  1 , node_ips:  ['172.20.0.2'] , gpus_per_proc:  1 , selected_gpus_per_proc:  [[0]] , nranks:  1\r\n```\r\n\r\n./log/job.log.0:\r\n```\r\n-----------  Configuration Arguments -----------\r\nattention_probs_dropout_prob: -1.0\r\nbatch_size: 4\r\nbeam_size: 5\r\ncheckpoints: ./checkpoints\r\ncontinuous_position: True\r\ndecr_every_n_nan_or_inf: 2\r\ndecr_ratio: 0.8\r\ndev_set: ./datasets/korquad/dev.tsv\r\ndo_decode: True\r\ndo_lower_case: True\r\ndo_pred: False\r\ndo_test: False\r\ndo_train: True\r\ndo_val: True\r\nepoch: 10\r\nernie_config_path: ernie_gen_large/ernie_config.json\r\neval_mertrics: Bleu_4,METEOR,ROUGE_L\r\neval_script: sh ./eval/tasks/squad_qg/eval.sh\r\nhidden_dropout_prob: 0.2\r\nin_tokens: False\r\nincr_every_n_steps: 100\r\nincr_ratio: 2.0\r\ninit_checkpoint: None\r\ninit_loss_scaling: 128.0\r\ninit_pretraining_params: ernie_gen_large/params\r\nis_distributed: True\r\nlabel_smooth: 0.1\r\nlearning_rate: 1e-05\r\nlength_penalty: 1.0\r\nlr_scheduler: linear_warmup_decay\r\nmax_dec_len: 48\r\nmax_seq_len: 512\r\nmax_src_len: 512\r\nmax_tgt_len: 96\r\nnoise_prob: 0.7\r\nnum_iteration_per_drop_scope: 1\r\npred_batch_size: 0\r\npred_set: ./datasets/korquad/\r\nrandom_noise: True\r\nrandom_seed: 728\r\nrole_type_size: 0\r\nsave_and_valid_by_epoch: True\r\nsave_steps: 10000\r\nskip_steps: 10\r\nsrc_do_lower_case: True\r\nsrc_tokenizer: FullTokenizer\r\nsrc_vocab_path: None\r\nstream_job: None\r\ntask_type: normal\r\ntest_set: ./datasets/korquad/test.tsv\r\ntgt_type_id: 3\r\ntokenized_input: True\r\ntokenizer: FullTokenizer\r\ntrain_set: ./datasets/korquad/train.tsv\r\nturn_type_size: 0\r\nuse_cuda: True\r\nuse_dynamic_loss_scaling: False\r\nuse_fast_executor: True\r\nuse_fp16: False\r\nuse_multi_gpu_test: True\r\nvalidation_steps: 1000\r\nverbose: True\r\nvocab_path: ernie_gen_large/vocab.txt\r\nwarmup_proportion: 0.1\r\nweight_decay: 0.01\r\nweight_sharing: True\r\n------------------------------------------------\r\nattention_probs_dropout_prob: 0.1\r\nhidden_act: gelu\r\nhidden_dropout_prob: 0.2\r\nhidden_size: 1024\r\ninitializer_range: 0.02\r\nintermediate_size: 4096\r\nmax_position_embeddings: 1024\r\nnum_attention_heads: 16\r\nnum_hidden_layers: 24\r\ntype_vocab_size: 4\r\nvocab_size: 30522\r\n------------------------------------------------\r\nDevice count: 1, gpu_id: 0\r\nNum train examples: 60407\r\nMax train steps: 151017\r\nNum warmup steps: 15101\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/665388158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alibi123","id":51895254,"node_id":"MDQ6VXNlcjUxODk1MjU0","avatar_url":"https://avatars.githubusercontent.com/u/51895254?v=4","gravatar_id":"","url":"https://api.github.com/users/alibi123","html_url":"https://github.com/alibi123","followers_url":"https://api.github.com/users/alibi123/followers","following_url":"https://api.github.com/users/alibi123/following{/other_user}","gists_url":"https://api.github.com/users/alibi123/gists{/gist_id}","starred_url":"https://api.github.com/users/alibi123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alibi123/subscriptions","organizations_url":"https://api.github.com/users/alibi123/orgs","repos_url":"https://api.github.com/users/alibi123/repos","events_url":"https://api.github.com/users/alibi123/events{/privacy}","received_events_url":"https://api.github.com/users/alibi123/received_events","type":"User","site_admin":false}},{"id":3596949619,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU5Njk0OTYxOQ==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3596949619","actor":{"login":"Meiyim","id":10281949,"node_id":"MDQ6VXNlcjEwMjgxOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10281949?v=4","gravatar_id":"","url":"https://api.github.com/users/Meiyim","html_url":"https://github.com/Meiyim","followers_url":"https://api.github.com/users/Meiyim/followers","following_url":"https://api.github.com/users/Meiyim/following{/other_user}","gists_url":"https://api.github.com/users/Meiyim/gists{/gist_id}","starred_url":"https://api.github.com/users/Meiyim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meiyim/subscriptions","organizations_url":"https://api.github.com/users/Meiyim/orgs","repos_url":"https://api.github.com/users/Meiyim/repos","events_url":"https://api.github.com/users/Meiyim/events{/privacy}","received_events_url":"https://api.github.com/users/Meiyim/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-29T02:07:17Z","performed_via_github_app":null},{"id":3596949624,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1OTY5NDk2MjQ=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3596949624","actor":{"login":"Meiyim","id":10281949,"node_id":"MDQ6VXNlcjEwMjgxOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10281949?v=4","gravatar_id":"","url":"https://api.github.com/users/Meiyim","html_url":"https://github.com/Meiyim","followers_url":"https://api.github.com/users/Meiyim/followers","following_url":"https://api.github.com/users/Meiyim/following{/other_user}","gists_url":"https://api.github.com/users/Meiyim/gists{/gist_id}","starred_url":"https://api.github.com/users/Meiyim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meiyim/subscriptions","organizations_url":"https://api.github.com/users/Meiyim/orgs","repos_url":"https://api.github.com/users/Meiyim/repos","events_url":"https://api.github.com/users/Meiyim/events{/privacy}","received_events_url":"https://api.github.com/users/Meiyim/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-29T02:07:17Z","performed_via_github_app":null},{"id":3597177649,"node_id":"MDExOkNsb3NlZEV2ZW50MzU5NzE3NzY0OQ==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3597177649","actor":{"login":"alibi123","id":51895254,"node_id":"MDQ6VXNlcjUxODk1MjU0","avatar_url":"https://avatars.githubusercontent.com/u/51895254?v=4","gravatar_id":"","url":"https://api.github.com/users/alibi123","html_url":"https://github.com/alibi123","followers_url":"https://api.github.com/users/alibi123/followers","following_url":"https://api.github.com/users/alibi123/following{/other_user}","gists_url":"https://api.github.com/users/alibi123/gists{/gist_id}","starred_url":"https://api.github.com/users/alibi123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alibi123/subscriptions","organizations_url":"https://api.github.com/users/alibi123/orgs","repos_url":"https://api.github.com/users/alibi123/repos","events_url":"https://api.github.com/users/alibi123/events{/privacy}","received_events_url":"https://api.github.com/users/alibi123/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-07-29T04:13:40Z","state_reason":null,"performed_via_github_app":null}]