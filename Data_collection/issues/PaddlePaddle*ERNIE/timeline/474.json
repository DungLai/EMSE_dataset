[{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/635857688","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/474#issuecomment-635857688","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/474","id":635857688,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTg1NzY4OA==","user":{"login":"Meiyim","id":10281949,"node_id":"MDQ6VXNlcjEwMjgxOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10281949?v=4","gravatar_id":"","url":"https://api.github.com/users/Meiyim","html_url":"https://github.com/Meiyim","followers_url":"https://api.github.com/users/Meiyim/followers","following_url":"https://api.github.com/users/Meiyim/following{/other_user}","gists_url":"https://api.github.com/users/Meiyim/gists{/gist_id}","starred_url":"https://api.github.com/users/Meiyim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meiyim/subscriptions","organizations_url":"https://api.github.com/users/Meiyim/orgs","repos_url":"https://api.github.com/users/Meiyim/repos","events_url":"https://api.github.com/users/Meiyim/events{/privacy}","received_events_url":"https://api.github.com/users/Meiyim/received_events","type":"User","site_admin":false},"created_at":"2020-05-29T08:54:57Z","updated_at":"2020-05-29T08:54:57Z","author_association":"COLLABORATOR","body":"> 每次计算出来的值也不完全相同，有小的波动\r\n\r\n这问题是由于没有将model设置为`eval`模式，因此开启`dropout`功能；\r\n这块教程需要修改；同时`from_pretrained`方法应该默认就返回`eval`模式下的model; 你要是有兴趣的话也可发个PR帮我们完善一下；\r\n\r\n至于词向量cos不准确的问题；在此之前也有在一些issue讨论过了(see #403, #408)；\r\n简单来说因为transformer输出值的\"极端性\"；因此像word2vec一样直接计算cos相似度是不太合适的；\r\nERNIE系列基于Transformer结构的预训练语言模型；最好是进行在下游任务进行finetune使用；\r\n或者至少进行Feature-based的进一步训练。并且在足够大的测试集上评估效果；单看一两条case可能说服力不足。\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/635857688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Meiyim","id":10281949,"node_id":"MDQ6VXNlcjEwMjgxOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10281949?v=4","gravatar_id":"","url":"https://api.github.com/users/Meiyim","html_url":"https://github.com/Meiyim","followers_url":"https://api.github.com/users/Meiyim/followers","following_url":"https://api.github.com/users/Meiyim/following{/other_user}","gists_url":"https://api.github.com/users/Meiyim/gists{/gist_id}","starred_url":"https://api.github.com/users/Meiyim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meiyim/subscriptions","organizations_url":"https://api.github.com/users/Meiyim/orgs","repos_url":"https://api.github.com/users/Meiyim/repos","events_url":"https://api.github.com/users/Meiyim/events{/privacy}","received_events_url":"https://api.github.com/users/Meiyim/received_events","type":"User","site_admin":false}},{"id":3389736213,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzODk3MzYyMTM=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3389736213","actor":{"login":"Meiyim","id":10281949,"node_id":"MDQ6VXNlcjEwMjgxOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/10281949?v=4","gravatar_id":"","url":"https://api.github.com/users/Meiyim","html_url":"https://github.com/Meiyim","followers_url":"https://api.github.com/users/Meiyim/followers","following_url":"https://api.github.com/users/Meiyim/following{/other_user}","gists_url":"https://api.github.com/users/Meiyim/gists{/gist_id}","starred_url":"https://api.github.com/users/Meiyim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meiyim/subscriptions","organizations_url":"https://api.github.com/users/Meiyim/orgs","repos_url":"https://api.github.com/users/Meiyim/repos","events_url":"https://api.github.com/users/Meiyim/events{/privacy}","received_events_url":"https://api.github.com/users/Meiyim/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-30T13:33:22Z","label":{"name":"update readme","color":"5262d8"},"performed_via_github_app":null},{"id":3391339414,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMzOTEzMzk0MTQ=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3391339414","actor":{"login":"CUITCHE","id":6554707,"node_id":"MDQ6VXNlcjY1NTQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/6554707?v=4","gravatar_id":"","url":"https://api.github.com/users/CUITCHE","html_url":"https://github.com/CUITCHE","followers_url":"https://api.github.com/users/CUITCHE/followers","following_url":"https://api.github.com/users/CUITCHE/following{/other_user}","gists_url":"https://api.github.com/users/CUITCHE/gists{/gist_id}","starred_url":"https://api.github.com/users/CUITCHE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CUITCHE/subscriptions","organizations_url":"https://api.github.com/users/CUITCHE/orgs","repos_url":"https://api.github.com/users/CUITCHE/repos","events_url":"https://api.github.com/users/CUITCHE/events{/privacy}","received_events_url":"https://api.github.com/users/CUITCHE/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"3f8f5ea7bde27434cac0a58dc4218e2d4507ebc4","commit_url":"https://api.github.com/repos/CUITCHE/ERNIE/commits/3f8f5ea7bde27434cac0a58dc4218e2d4507ebc4","created_at":"2020-06-01T02:57:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/636588015","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/474#issuecomment-636588015","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/474","id":636588015,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjU4ODAxNQ==","user":{"login":"CUITCHE","id":6554707,"node_id":"MDQ6VXNlcjY1NTQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/6554707?v=4","gravatar_id":"","url":"https://api.github.com/users/CUITCHE","html_url":"https://github.com/CUITCHE","followers_url":"https://api.github.com/users/CUITCHE/followers","following_url":"https://api.github.com/users/CUITCHE/following{/other_user}","gists_url":"https://api.github.com/users/CUITCHE/gists{/gist_id}","starred_url":"https://api.github.com/users/CUITCHE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CUITCHE/subscriptions","organizations_url":"https://api.github.com/users/CUITCHE/orgs","repos_url":"https://api.github.com/users/CUITCHE/repos","events_url":"https://api.github.com/users/CUITCHE/events{/privacy}","received_events_url":"https://api.github.com/users/CUITCHE/received_events","type":"User","site_admin":false},"created_at":"2020-06-01T03:03:08Z","updated_at":"2020-06-01T03:03:08Z","author_association":"NONE","body":"感谢您的回复，已提交PR将from_pretrained返回的model改为eval模式且可配置。\r\n至于cos相似度，已决定基于Ernie训练符合我们业务场景的模型。\r\n谢谢！","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/636588015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"CUITCHE","id":6554707,"node_id":"MDQ6VXNlcjY1NTQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/6554707?v=4","gravatar_id":"","url":"https://api.github.com/users/CUITCHE","html_url":"https://github.com/CUITCHE","followers_url":"https://api.github.com/users/CUITCHE/followers","following_url":"https://api.github.com/users/CUITCHE/following{/other_user}","gists_url":"https://api.github.com/users/CUITCHE/gists{/gist_id}","starred_url":"https://api.github.com/users/CUITCHE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CUITCHE/subscriptions","organizations_url":"https://api.github.com/users/CUITCHE/orgs","repos_url":"https://api.github.com/users/CUITCHE/repos","events_url":"https://api.github.com/users/CUITCHE/events{/privacy}","received_events_url":"https://api.github.com/users/CUITCHE/received_events","type":"User","site_admin":false}},{"id":3417723270,"node_id":"MDExOkNsb3NlZEV2ZW50MzQxNzcyMzI3MA==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3417723270","actor":{"login":"CUITCHE","id":6554707,"node_id":"MDQ6VXNlcjY1NTQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/6554707?v=4","gravatar_id":"","url":"https://api.github.com/users/CUITCHE","html_url":"https://github.com/CUITCHE","followers_url":"https://api.github.com/users/CUITCHE/followers","following_url":"https://api.github.com/users/CUITCHE/following{/other_user}","gists_url":"https://api.github.com/users/CUITCHE/gists{/gist_id}","starred_url":"https://api.github.com/users/CUITCHE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CUITCHE/subscriptions","organizations_url":"https://api.github.com/users/CUITCHE/orgs","repos_url":"https://api.github.com/users/CUITCHE/repos","events_url":"https://api.github.com/users/CUITCHE/events{/privacy}","received_events_url":"https://api.github.com/users/CUITCHE/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-06-08T02:29:09Z","state_reason":null,"performed_via_github_app":null}]