[{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666160649","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/532#issuecomment-666160649","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/532","id":666160649,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjE2MDY0OQ==","user":{"login":"kirayummy","id":29534444,"node_id":"MDQ6VXNlcjI5NTM0NDQ0","avatar_url":"https://avatars.githubusercontent.com/u/29534444?v=4","gravatar_id":"","url":"https://api.github.com/users/kirayummy","html_url":"https://github.com/kirayummy","followers_url":"https://api.github.com/users/kirayummy/followers","following_url":"https://api.github.com/users/kirayummy/following{/other_user}","gists_url":"https://api.github.com/users/kirayummy/gists{/gist_id}","starred_url":"https://api.github.com/users/kirayummy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirayummy/subscriptions","organizations_url":"https://api.github.com/users/kirayummy/orgs","repos_url":"https://api.github.com/users/kirayummy/repos","events_url":"https://api.github.com/users/kirayummy/events{/privacy}","received_events_url":"https://api.github.com/users/kirayummy/received_events","type":"User","site_admin":false},"created_at":"2020-07-30T06:43:22Z","updated_at":"2020-07-30T06:43:22Z","author_association":"COLLABORATOR","body":"save_inference_model需要使用inference代码执行，这个项目可采用dygraph的save接口保存模型文件，见\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/api_cn/dygraph_cn/save_dygraph_cn.html","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666160649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kirayummy","id":29534444,"node_id":"MDQ6VXNlcjI5NTM0NDQ0","avatar_url":"https://avatars.githubusercontent.com/u/29534444?v=4","gravatar_id":"","url":"https://api.github.com/users/kirayummy","html_url":"https://github.com/kirayummy","followers_url":"https://api.github.com/users/kirayummy/followers","following_url":"https://api.github.com/users/kirayummy/following{/other_user}","gists_url":"https://api.github.com/users/kirayummy/gists{/gist_id}","starred_url":"https://api.github.com/users/kirayummy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirayummy/subscriptions","organizations_url":"https://api.github.com/users/kirayummy/orgs","repos_url":"https://api.github.com/users/kirayummy/repos","events_url":"https://api.github.com/users/kirayummy/events{/privacy}","received_events_url":"https://api.github.com/users/kirayummy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666311580","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/532#issuecomment-666311580","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/532","id":666311580,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjMxMTU4MA==","user":{"login":"hello-web","id":4251586,"node_id":"MDQ6VXNlcjQyNTE1ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4251586?v=4","gravatar_id":"","url":"https://api.github.com/users/hello-web","html_url":"https://github.com/hello-web","followers_url":"https://api.github.com/users/hello-web/followers","following_url":"https://api.github.com/users/hello-web/following{/other_user}","gists_url":"https://api.github.com/users/hello-web/gists{/gist_id}","starred_url":"https://api.github.com/users/hello-web/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hello-web/subscriptions","organizations_url":"https://api.github.com/users/hello-web/orgs","repos_url":"https://api.github.com/users/hello-web/repos","events_url":"https://api.github.com/users/hello-web/events{/privacy}","received_events_url":"https://api.github.com/users/hello-web/received_events","type":"User","site_admin":false},"created_at":"2020-07-30T11:32:42Z","updated_at":"2020-07-30T11:32:42Z","author_association":"NONE","body":"> save_inference_model需要使用推理代码执行，这个项目可采用dygraph的保存接口保存模型文件，见\r\n> https://www.paddlepaddle.org.cn/documentation/docs/zh/api_cn/dygraph_cn/save_dygraph_cn.html\r\n\r\n参考 demo 里的 finetune_classifier_dygraph.py 推理保存接口 save_inference_model 完成上面的推理模型导出实现不了。原始 demo 可以在不训练、不预测的情况下加载预训练模型后正常导出。\r\n\r\nhttps://github.com/PaddlePaddle/ERNIE/blob/4eb65ce4ff79028c44f6441ad19ea9aab664b434/demo/finetune_classifier_dygraph.py#L152","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666311580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hello-web","id":4251586,"node_id":"MDQ6VXNlcjQyNTE1ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4251586?v=4","gravatar_id":"","url":"https://api.github.com/users/hello-web","html_url":"https://github.com/hello-web","followers_url":"https://api.github.com/users/hello-web/followers","following_url":"https://api.github.com/users/hello-web/following{/other_user}","gists_url":"https://api.github.com/users/hello-web/gists{/gist_id}","starred_url":"https://api.github.com/users/hello-web/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hello-web/subscriptions","organizations_url":"https://api.github.com/users/hello-web/orgs","repos_url":"https://api.github.com/users/hello-web/repos","events_url":"https://api.github.com/users/hello-web/events{/privacy}","received_events_url":"https://api.github.com/users/hello-web/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666865101","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/532#issuecomment-666865101","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/532","id":666865101,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njg2NTEwMQ==","user":{"login":"kirayummy","id":29534444,"node_id":"MDQ6VXNlcjI5NTM0NDQ0","avatar_url":"https://avatars.githubusercontent.com/u/29534444?v=4","gravatar_id":"","url":"https://api.github.com/users/kirayummy","html_url":"https://github.com/kirayummy","followers_url":"https://api.github.com/users/kirayummy/followers","following_url":"https://api.github.com/users/kirayummy/following{/other_user}","gists_url":"https://api.github.com/users/kirayummy/gists{/gist_id}","starred_url":"https://api.github.com/users/kirayummy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirayummy/subscriptions","organizations_url":"https://api.github.com/users/kirayummy/orgs","repos_url":"https://api.github.com/users/kirayummy/repos","events_url":"https://api.github.com/users/kirayummy/events{/privacy}","received_events_url":"https://api.github.com/users/kirayummy/received_events","type":"User","site_admin":false},"created_at":"2020-07-31T01:45:05Z","updated_at":"2020-07-31T02:18:08Z","author_association":"COLLABORATOR","body":"替换保存接口试试\r\n```\r\n# save\r\nFD.save_dygraph(model.state_dict(), args.inference_model_dir)\r\n\r\n# load\r\nm, _ = FD.load_dygraph(args.inference_model_dir)\r\nmodel.set_dict(m)\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666865101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kirayummy","id":29534444,"node_id":"MDQ6VXNlcjI5NTM0NDQ0","avatar_url":"https://avatars.githubusercontent.com/u/29534444?v=4","gravatar_id":"","url":"https://api.github.com/users/kirayummy","html_url":"https://github.com/kirayummy","followers_url":"https://api.github.com/users/kirayummy/followers","following_url":"https://api.github.com/users/kirayummy/following{/other_user}","gists_url":"https://api.github.com/users/kirayummy/gists{/gist_id}","starred_url":"https://api.github.com/users/kirayummy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirayummy/subscriptions","organizations_url":"https://api.github.com/users/kirayummy/orgs","repos_url":"https://api.github.com/users/kirayummy/repos","events_url":"https://api.github.com/users/kirayummy/events{/privacy}","received_events_url":"https://api.github.com/users/kirayummy/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666910571","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/532#issuecomment-666910571","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/532","id":666910571,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjkxMDU3MQ==","user":{"login":"hello-web","id":4251586,"node_id":"MDQ6VXNlcjQyNTE1ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4251586?v=4","gravatar_id":"","url":"https://api.github.com/users/hello-web","html_url":"https://github.com/hello-web","followers_url":"https://api.github.com/users/hello-web/followers","following_url":"https://api.github.com/users/hello-web/following{/other_user}","gists_url":"https://api.github.com/users/hello-web/gists{/gist_id}","starred_url":"https://api.github.com/users/hello-web/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hello-web/subscriptions","organizations_url":"https://api.github.com/users/hello-web/orgs","repos_url":"https://api.github.com/users/hello-web/repos","events_url":"https://api.github.com/users/hello-web/events{/privacy}","received_events_url":"https://api.github.com/users/hello-web/received_events","type":"User","site_admin":false},"created_at":"2020-07-31T04:25:42Z","updated_at":"2020-07-31T04:25:42Z","author_association":"NONE","body":"替换保存接口和目标不一样\r\n替换保存接口后保存的是动态图检测点，和保存推理模型的目标不一致。\r\n\r\n初步判断是生成策略问题：\r\nwindows 下复现应该是 ngraph_subgraph_pass 的问题。\r\nlinux 下，在 AI Studio 中复现，应该是 fusion_group_pass 的问题。","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666910571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hello-web","id":4251586,"node_id":"MDQ6VXNlcjQyNTE1ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4251586?v=4","gravatar_id":"","url":"https://api.github.com/users/hello-web","html_url":"https://github.com/hello-web","followers_url":"https://api.github.com/users/hello-web/followers","following_url":"https://api.github.com/users/hello-web/following{/other_user}","gists_url":"https://api.github.com/users/hello-web/gists{/gist_id}","starred_url":"https://api.github.com/users/hello-web/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hello-web/subscriptions","organizations_url":"https://api.github.com/users/hello-web/orgs","repos_url":"https://api.github.com/users/hello-web/repos","events_url":"https://api.github.com/users/hello-web/events{/privacy}","received_events_url":"https://api.github.com/users/hello-web/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666913130","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/532#issuecomment-666913130","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/532","id":666913130,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjkxMzEzMA==","user":{"login":"hello-web","id":4251586,"node_id":"MDQ6VXNlcjQyNTE1ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4251586?v=4","gravatar_id":"","url":"https://api.github.com/users/hello-web","html_url":"https://github.com/hello-web","followers_url":"https://api.github.com/users/hello-web/followers","following_url":"https://api.github.com/users/hello-web/following{/other_user}","gists_url":"https://api.github.com/users/hello-web/gists{/gist_id}","starred_url":"https://api.github.com/users/hello-web/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hello-web/subscriptions","organizations_url":"https://api.github.com/users/hello-web/orgs","repos_url":"https://api.github.com/users/hello-web/repos","events_url":"https://api.github.com/users/hello-web/events{/privacy}","received_events_url":"https://api.github.com/users/hello-web/received_events","type":"User","site_admin":false},"created_at":"2020-07-31T04:34:10Z","updated_at":"2020-07-31T04:34:10Z","author_association":"NONE","body":"AI Studio 中复现\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/671497\r\n生成的错误推理模型在 ./data/out 目录\r\n","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/666913130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hello-web","id":4251586,"node_id":"MDQ6VXNlcjQyNTE1ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4251586?v=4","gravatar_id":"","url":"https://api.github.com/users/hello-web","html_url":"https://github.com/hello-web","followers_url":"https://api.github.com/users/hello-web/followers","following_url":"https://api.github.com/users/hello-web/following{/other_user}","gists_url":"https://api.github.com/users/hello-web/gists{/gist_id}","starred_url":"https://api.github.com/users/hello-web/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hello-web/subscriptions","organizations_url":"https://api.github.com/users/hello-web/orgs","repos_url":"https://api.github.com/users/hello-web/repos","events_url":"https://api.github.com/users/hello-web/events{/privacy}","received_events_url":"https://api.github.com/users/hello-web/received_events","type":"User","site_admin":false}},{"id":3611490798,"node_id":"MDExOkNsb3NlZEV2ZW50MzYxMTQ5MDc5OA==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3611490798","actor":{"login":"hello-web","id":4251586,"node_id":"MDQ6VXNlcjQyNTE1ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4251586?v=4","gravatar_id":"","url":"https://api.github.com/users/hello-web","html_url":"https://github.com/hello-web","followers_url":"https://api.github.com/users/hello-web/followers","following_url":"https://api.github.com/users/hello-web/following{/other_user}","gists_url":"https://api.github.com/users/hello-web/gists{/gist_id}","starred_url":"https://api.github.com/users/hello-web/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hello-web/subscriptions","organizations_url":"https://api.github.com/users/hello-web/orgs","repos_url":"https://api.github.com/users/hello-web/repos","events_url":"https://api.github.com/users/hello-web/events{/privacy}","received_events_url":"https://api.github.com/users/hello-web/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-08-01T08:40:25Z","state_reason":null,"performed_via_github_app":null}]