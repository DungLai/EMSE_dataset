[{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/474360595","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/27#issuecomment-474360595","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/27","id":474360595,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDM2MDU5NQ==","user":{"login":"tianxin1860","id":6829601,"node_id":"MDQ6VXNlcjY4Mjk2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6829601?v=4","gravatar_id":"","url":"https://api.github.com/users/tianxin1860","html_url":"https://github.com/tianxin1860","followers_url":"https://api.github.com/users/tianxin1860/followers","following_url":"https://api.github.com/users/tianxin1860/following{/other_user}","gists_url":"https://api.github.com/users/tianxin1860/gists{/gist_id}","starred_url":"https://api.github.com/users/tianxin1860/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianxin1860/subscriptions","organizations_url":"https://api.github.com/users/tianxin1860/orgs","repos_url":"https://api.github.com/users/tianxin1860/repos","events_url":"https://api.github.com/users/tianxin1860/events{/privacy}","received_events_url":"https://api.github.com/users/tianxin1860/received_events","type":"User","site_admin":false},"created_at":"2019-03-19T13:13:43Z","updated_at":"2019-03-20T02:55:56Z","author_association":"COLLABORATOR","body":"@wqw123 \r\n我们会在近期发布预测接口","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/474360595/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tianxin1860","id":6829601,"node_id":"MDQ6VXNlcjY4Mjk2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6829601?v=4","gravatar_id":"","url":"https://api.github.com/users/tianxin1860","html_url":"https://github.com/tianxin1860","followers_url":"https://api.github.com/users/tianxin1860/followers","following_url":"https://api.github.com/users/tianxin1860/following{/other_user}","gists_url":"https://api.github.com/users/tianxin1860/gists{/gist_id}","starred_url":"https://api.github.com/users/tianxin1860/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianxin1860/subscriptions","organizations_url":"https://api.github.com/users/tianxin1860/orgs","repos_url":"https://api.github.com/users/tianxin1860/repos","events_url":"https://api.github.com/users/tianxin1860/events{/privacy}","received_events_url":"https://api.github.com/users/tianxin1860/received_events","type":"User","site_admin":false}},{"id":2213527762,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIxMzUyNzc2Mg==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/2213527762","actor":{"login":"wqw123","id":27116699,"node_id":"MDQ6VXNlcjI3MTE2Njk5","avatar_url":"https://avatars.githubusercontent.com/u/27116699?v=4","gravatar_id":"","url":"https://api.github.com/users/wqw123","html_url":"https://github.com/wqw123","followers_url":"https://api.github.com/users/wqw123/followers","following_url":"https://api.github.com/users/wqw123/following{/other_user}","gists_url":"https://api.github.com/users/wqw123/gists{/gist_id}","starred_url":"https://api.github.com/users/wqw123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wqw123/subscriptions","organizations_url":"https://api.github.com/users/wqw123/orgs","repos_url":"https://api.github.com/users/wqw123/repos","events_url":"https://api.github.com/users/wqw123/events{/privacy}","received_events_url":"https://api.github.com/users/wqw123/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-19T13:13:43Z","performed_via_github_app":null},{"id":2213527764,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMTM1Mjc3NjQ=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/2213527764","actor":{"login":"wqw123","id":27116699,"node_id":"MDQ6VXNlcjI3MTE2Njk5","avatar_url":"https://avatars.githubusercontent.com/u/27116699?v=4","gravatar_id":"","url":"https://api.github.com/users/wqw123","html_url":"https://github.com/wqw123","followers_url":"https://api.github.com/users/wqw123/followers","following_url":"https://api.github.com/users/wqw123/following{/other_user}","gists_url":"https://api.github.com/users/wqw123/gists{/gist_id}","starred_url":"https://api.github.com/users/wqw123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wqw123/subscriptions","organizations_url":"https://api.github.com/users/wqw123/orgs","repos_url":"https://api.github.com/users/wqw123/repos","events_url":"https://api.github.com/users/wqw123/events{/privacy}","received_events_url":"https://api.github.com/users/wqw123/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-19T13:13:43Z","performed_via_github_app":null},{"id":2213741857,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyMTM3NDE4NTc=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/2213741857","actor":{"login":"tianxin1860","id":6829601,"node_id":"MDQ6VXNlcjY4Mjk2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6829601?v=4","gravatar_id":"","url":"https://api.github.com/users/tianxin1860","html_url":"https://github.com/tianxin1860","followers_url":"https://api.github.com/users/tianxin1860/followers","following_url":"https://api.github.com/users/tianxin1860/following{/other_user}","gists_url":"https://api.github.com/users/tianxin1860/gists{/gist_id}","starred_url":"https://api.github.com/users/tianxin1860/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianxin1860/subscriptions","organizations_url":"https://api.github.com/users/tianxin1860/orgs","repos_url":"https://api.github.com/users/tianxin1860/repos","events_url":"https://api.github.com/users/tianxin1860/events{/privacy}","received_events_url":"https://api.github.com/users/tianxin1860/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-03-19T14:17:47Z","label":{"name":"enhancement","color":"a2eeef"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/474760891","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/27#issuecomment-474760891","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/27","id":474760891,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDc2MDg5MQ==","user":{"login":"djh123","id":13375703,"node_id":"MDQ6VXNlcjEzMzc1NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13375703?v=4","gravatar_id":"","url":"https://api.github.com/users/djh123","html_url":"https://github.com/djh123","followers_url":"https://api.github.com/users/djh123/followers","following_url":"https://api.github.com/users/djh123/following{/other_user}","gists_url":"https://api.github.com/users/djh123/gists{/gist_id}","starred_url":"https://api.github.com/users/djh123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djh123/subscriptions","organizations_url":"https://api.github.com/users/djh123/orgs","repos_url":"https://api.github.com/users/djh123/repos","events_url":"https://api.github.com/users/djh123/events{/privacy}","received_events_url":"https://api.github.com/users/djh123/received_events","type":"User","site_admin":false},"created_at":"2019-03-20T09:54:41Z","updated_at":"2019-03-20T09:54:41Z","author_association":"NONE","body":"什么时候给个预测的接口","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/474760891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"djh123","id":13375703,"node_id":"MDQ6VXNlcjEzMzc1NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13375703?v=4","gravatar_id":"","url":"https://api.github.com/users/djh123","html_url":"https://github.com/djh123","followers_url":"https://api.github.com/users/djh123/followers","following_url":"https://api.github.com/users/djh123/following{/other_user}","gists_url":"https://api.github.com/users/djh123/gists{/gist_id}","starred_url":"https://api.github.com/users/djh123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djh123/subscriptions","organizations_url":"https://api.github.com/users/djh123/orgs","repos_url":"https://api.github.com/users/djh123/repos","events_url":"https://api.github.com/users/djh123/events{/privacy}","received_events_url":"https://api.github.com/users/djh123/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/480699163","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/27#issuecomment-480699163","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/27","id":480699163,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDY5OTE2Mw==","user":{"login":"SunnyGJing","id":11871282,"node_id":"MDQ6VXNlcjExODcxMjgy","avatar_url":"https://avatars.githubusercontent.com/u/11871282?v=4","gravatar_id":"","url":"https://api.github.com/users/SunnyGJing","html_url":"https://github.com/SunnyGJing","followers_url":"https://api.github.com/users/SunnyGJing/followers","following_url":"https://api.github.com/users/SunnyGJing/following{/other_user}","gists_url":"https://api.github.com/users/SunnyGJing/gists{/gist_id}","starred_url":"https://api.github.com/users/SunnyGJing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SunnyGJing/subscriptions","organizations_url":"https://api.github.com/users/SunnyGJing/orgs","repos_url":"https://api.github.com/users/SunnyGJing/repos","events_url":"https://api.github.com/users/SunnyGJing/events{/privacy}","received_events_url":"https://api.github.com/users/SunnyGJing/received_events","type":"User","site_admin":false},"created_at":"2019-04-08T06:21:57Z","updated_at":"2019-04-08T06:21:57Z","author_association":"NONE","body":"在测试集上表现很棒，感谢！ 期待预测接口的发布 ~~","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/480699163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SunnyGJing","id":11871282,"node_id":"MDQ6VXNlcjExODcxMjgy","avatar_url":"https://avatars.githubusercontent.com/u/11871282?v=4","gravatar_id":"","url":"https://api.github.com/users/SunnyGJing","html_url":"https://github.com/SunnyGJing","followers_url":"https://api.github.com/users/SunnyGJing/followers","following_url":"https://api.github.com/users/SunnyGJing/following{/other_user}","gists_url":"https://api.github.com/users/SunnyGJing/gists{/gist_id}","starred_url":"https://api.github.com/users/SunnyGJing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SunnyGJing/subscriptions","organizations_url":"https://api.github.com/users/SunnyGJing/orgs","repos_url":"https://api.github.com/users/SunnyGJing/repos","events_url":"https://api.github.com/users/SunnyGJing/events{/privacy}","received_events_url":"https://api.github.com/users/SunnyGJing/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/482909436","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/27#issuecomment-482909436","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/27","id":482909436,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjkwOTQzNg==","user":{"login":"Walleclipse","id":37198574,"node_id":"MDQ6VXNlcjM3MTk4NTc0","avatar_url":"https://avatars.githubusercontent.com/u/37198574?v=4","gravatar_id":"","url":"https://api.github.com/users/Walleclipse","html_url":"https://github.com/Walleclipse","followers_url":"https://api.github.com/users/Walleclipse/followers","following_url":"https://api.github.com/users/Walleclipse/following{/other_user}","gists_url":"https://api.github.com/users/Walleclipse/gists{/gist_id}","starred_url":"https://api.github.com/users/Walleclipse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Walleclipse/subscriptions","organizations_url":"https://api.github.com/users/Walleclipse/orgs","repos_url":"https://api.github.com/users/Walleclipse/repos","events_url":"https://api.github.com/users/Walleclipse/events{/privacy}","received_events_url":"https://api.github.com/users/Walleclipse/received_events","type":"User","site_admin":false},"created_at":"2019-04-14T01:15:46Z","updated_at":"2019-04-14T01:15:46Z","author_association":"NONE","body":"你好，有快速推理接口了么？\r\n我想在 `run_classifier.py `上增加推理的部分，我需要把infer pyreader 的` create_model `设置成 `is_prediction=True` 么？ 然后还需要改哪些？","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/482909436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Walleclipse","id":37198574,"node_id":"MDQ6VXNlcjM3MTk4NTc0","avatar_url":"https://avatars.githubusercontent.com/u/37198574?v=4","gravatar_id":"","url":"https://api.github.com/users/Walleclipse","html_url":"https://github.com/Walleclipse","followers_url":"https://api.github.com/users/Walleclipse/followers","following_url":"https://api.github.com/users/Walleclipse/following{/other_user}","gists_url":"https://api.github.com/users/Walleclipse/gists{/gist_id}","starred_url":"https://api.github.com/users/Walleclipse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Walleclipse/subscriptions","organizations_url":"https://api.github.com/users/Walleclipse/orgs","repos_url":"https://api.github.com/users/Walleclipse/repos","events_url":"https://api.github.com/users/Walleclipse/events{/privacy}","received_events_url":"https://api.github.com/users/Walleclipse/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/497656828","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/27#issuecomment-497656828","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/27","id":497656828,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzY1NjgyOA==","user":{"login":"ccluqh","id":23624113,"node_id":"MDQ6VXNlcjIzNjI0MTEz","avatar_url":"https://avatars.githubusercontent.com/u/23624113?v=4","gravatar_id":"","url":"https://api.github.com/users/ccluqh","html_url":"https://github.com/ccluqh","followers_url":"https://api.github.com/users/ccluqh/followers","following_url":"https://api.github.com/users/ccluqh/following{/other_user}","gists_url":"https://api.github.com/users/ccluqh/gists{/gist_id}","starred_url":"https://api.github.com/users/ccluqh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccluqh/subscriptions","organizations_url":"https://api.github.com/users/ccluqh/orgs","repos_url":"https://api.github.com/users/ccluqh/repos","events_url":"https://api.github.com/users/ccluqh/events{/privacy}","received_events_url":"https://api.github.com/users/ccluqh/received_events","type":"User","site_admin":false},"created_at":"2019-05-31T10:12:30Z","updated_at":"2019-05-31T10:12:30Z","author_association":"NONE","body":"> 你好，有快速推理接口了么？\r\n> 我想在 `run_classifier.py `上增加推理的部分，我需要把infer pyreader 的`create_model`设置成 `is_prediction=True` 么？ 然后还需要改哪些？\r\n\r\n请问你解决了吗？\r\n","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/497656828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ccluqh","id":23624113,"node_id":"MDQ6VXNlcjIzNjI0MTEz","avatar_url":"https://avatars.githubusercontent.com/u/23624113?v=4","gravatar_id":"","url":"https://api.github.com/users/ccluqh","html_url":"https://github.com/ccluqh","followers_url":"https://api.github.com/users/ccluqh/followers","following_url":"https://api.github.com/users/ccluqh/following{/other_user}","gists_url":"https://api.github.com/users/ccluqh/gists{/gist_id}","starred_url":"https://api.github.com/users/ccluqh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccluqh/subscriptions","organizations_url":"https://api.github.com/users/ccluqh/orgs","repos_url":"https://api.github.com/users/ccluqh/repos","events_url":"https://api.github.com/users/ccluqh/events{/privacy}","received_events_url":"https://api.github.com/users/ccluqh/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/501103830","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/27#issuecomment-501103830","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/27","id":501103830,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTEwMzgzMA==","user":{"login":"huyanggithub","id":37499146,"node_id":"MDQ6VXNlcjM3NDk5MTQ2","avatar_url":"https://avatars.githubusercontent.com/u/37499146?v=4","gravatar_id":"","url":"https://api.github.com/users/huyanggithub","html_url":"https://github.com/huyanggithub","followers_url":"https://api.github.com/users/huyanggithub/followers","following_url":"https://api.github.com/users/huyanggithub/following{/other_user}","gists_url":"https://api.github.com/users/huyanggithub/gists{/gist_id}","starred_url":"https://api.github.com/users/huyanggithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huyanggithub/subscriptions","organizations_url":"https://api.github.com/users/huyanggithub/orgs","repos_url":"https://api.github.com/users/huyanggithub/repos","events_url":"https://api.github.com/users/huyanggithub/events{/privacy}","received_events_url":"https://api.github.com/users/huyanggithub/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T03:12:16Z","updated_at":"2019-06-12T03:12:16Z","author_association":"NONE","body":"> > 你好，有快速推理接口了么？\r\n> > 我想在 `run_classifier.py `上增加推理的部分，我需要把infer pyreader 的`create_model`设置成 `is_prediction=True` 么？ 然后还需要改哪些？\r\n> \r\n> 请问你解决\r\n好像不是is_prediction的问题","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/501103830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"huyanggithub","id":37499146,"node_id":"MDQ6VXNlcjM3NDk5MTQ2","avatar_url":"https://avatars.githubusercontent.com/u/37499146?v=4","gravatar_id":"","url":"https://api.github.com/users/huyanggithub","html_url":"https://github.com/huyanggithub","followers_url":"https://api.github.com/users/huyanggithub/followers","following_url":"https://api.github.com/users/huyanggithub/following{/other_user}","gists_url":"https://api.github.com/users/huyanggithub/gists{/gist_id}","starred_url":"https://api.github.com/users/huyanggithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huyanggithub/subscriptions","organizations_url":"https://api.github.com/users/huyanggithub/orgs","repos_url":"https://api.github.com/users/huyanggithub/repos","events_url":"https://api.github.com/users/huyanggithub/events{/privacy}","received_events_url":"https://api.github.com/users/huyanggithub/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/501127526","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/27#issuecomment-501127526","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/27","id":501127526,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTEyNzUyNg==","user":{"login":"Walleclipse","id":37198574,"node_id":"MDQ6VXNlcjM3MTk4NTc0","avatar_url":"https://avatars.githubusercontent.com/u/37198574?v=4","gravatar_id":"","url":"https://api.github.com/users/Walleclipse","html_url":"https://github.com/Walleclipse","followers_url":"https://api.github.com/users/Walleclipse/followers","following_url":"https://api.github.com/users/Walleclipse/following{/other_user}","gists_url":"https://api.github.com/users/Walleclipse/gists{/gist_id}","starred_url":"https://api.github.com/users/Walleclipse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Walleclipse/subscriptions","organizations_url":"https://api.github.com/users/Walleclipse/orgs","repos_url":"https://api.github.com/users/Walleclipse/repos","events_url":"https://api.github.com/users/Walleclipse/events{/privacy}","received_events_url":"https://api.github.com/users/Walleclipse/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T05:36:10Z","updated_at":"2019-06-14T16:14:55Z","author_association":"NONE","body":"@huyanggithub @ccluqh \r\n你好，我是按照如下的流程来改了infer接口并且用了一下，但不保证完全正确。\r\n1. 首先 设置 args.do_test =True\r\n2. 随后 在 `run_classifier.py` 中 把137~134行改成\r\n```\r\n\tif args.do_val:\r\n\t\ttest_prog = fluid.Program()\r\n\t\twith fluid.program_guard(test_prog, startup_prog):\r\n\t\t\twith fluid.unique_name.guard():\r\n\t\t\t\ttest_pyreader, graph_vars = create_model(\r\n\t\t\t\t\targs,\r\n\t\t\t\t\tpyreader_name='test_reader',\r\n\t\t\t\t\ternie_config=ernie_config)\r\n\t\ttest_prog = test_prog.clone(for_test=True)\r\n\tif args.do_test:\r\n\t\tinfer_prog = fluid.Program()\r\n\t\twith fluid.program_guard(infer_prog, startup_prog):\r\n\t\t\twith fluid.unique_name.guard():\r\n\t\t\t\tinfer_pyreader,infer_graph_vars = create_model(\r\n\t\t\t\t\targs,\r\n\t\t\t\t\tpyreader_name='infer_reader',\r\n\t\t\t\t\ternie_config=ernie_config,\r\n\t\t\t\t\tis_prediction=True)\r\n\r\n\t\tinfer_prog = infer_prog.clone(for_test=True)\r\n```\r\n3. 随后把 `run_classifier.py`  中的235~243行改成如下了\r\n```\r\n\t\t\t\t\tif args.do_test:\r\n\t\t\t\t\t\tinfer_pyreader.decorate_tensor_provider(\r\n\t\t\t\t\t\t\treader.data_generator(\r\n\t\t\t\t\t\t\t\targs.test_set,\r\n\t\t\t\t\t\t\t\tbatch_size=args.batch_size,\r\n\t\t\t\t\t\t\t\tepoch=1,\r\n\t\t\t\t\t\t\t\tshuffle=False))\r\n\t\t\t\t\t\tinfer_pyreader.start()\r\n\t\t\t\t\t\tall_preds = []\r\n\t\t\t\t\t\tall_qid = []\r\n\t\t\t\t\t\tinfer_fetch_list=[infer_graph_vars[\"probs\"].name, infer_graph_vars[\"qids\"].name]\r\n\t\t\t\t\t\twhile True:\r\n\t\t\t\t\t\t\ttry:\r\n\t\t\t\t\t\t\t\tnp_probs, np_qids = exe.run(\r\n\t\t\t\t\t\t\t\t\tprogram=infer_prog,\r\n\t\t\t\t\t\t\t\t\tfetch_list=infer_fetch_list)\r\n\t\t\t\t\t\t\t\tall_preds.extend(np_probs[:, 1].reshape(-1).tolist())\r\n\t\t\t\t\t\t\t\tall_qid.extend(np_qids.reshape(-1).tolist())\r\n\r\n\t\t\t\t\t\t\texcept fluid.core.EOFException:\r\n\t\t\t\t\t\t\t\tinfer_pyreader.reset()\r\n\t\t\t\t\t\t\t\tbreak\r\n```\r\n4. 为了方便我把 `classifier.py` 中的 65~70行改成了如下：\r\n```\r\n\tif is_prediction:\r\n\t\tprobs = fluid.layers.softmax(logits)\r\n\t\tfeed_targets_name = [\r\n\t\t\tsrc_ids.name, pos_ids.name, sent_ids.name, input_mask.name\r\n\t\t]\r\n\t\tpred_graph_vars = {\r\n\t\t\t\"probs\": probs,\r\n\t\t\t\"labels\": labels,\r\n\t\t\t\"qids\": qids\r\n\t\t}\r\n\t\treturn pyreader, pred_graph_vars\r\n```\r\n\r\n主要修改后的文件如下，供参考：\r\n\r\n[modified_code.zip](https://github.com/PaddlePaddle/LARK/files/3279704/modified_code.zip)\r\n","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/501127526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Walleclipse","id":37198574,"node_id":"MDQ6VXNlcjM3MTk4NTc0","avatar_url":"https://avatars.githubusercontent.com/u/37198574?v=4","gravatar_id":"","url":"https://api.github.com/users/Walleclipse","html_url":"https://github.com/Walleclipse","followers_url":"https://api.github.com/users/Walleclipse/followers","following_url":"https://api.github.com/users/Walleclipse/following{/other_user}","gists_url":"https://api.github.com/users/Walleclipse/gists{/gist_id}","starred_url":"https://api.github.com/users/Walleclipse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Walleclipse/subscriptions","organizations_url":"https://api.github.com/users/Walleclipse/orgs","repos_url":"https://api.github.com/users/Walleclipse/repos","events_url":"https://api.github.com/users/Walleclipse/events{/privacy}","received_events_url":"https://api.github.com/users/Walleclipse/received_events","type":"User","site_admin":false}},{"id":2414170399,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQxNDE3MDM5OQ==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/2414170399","actor":{"login":"huyanggithub","id":37499146,"node_id":"MDQ6VXNlcjM3NDk5MTQ2","avatar_url":"https://avatars.githubusercontent.com/u/37499146?v=4","gravatar_id":"","url":"https://api.github.com/users/huyanggithub","html_url":"https://github.com/huyanggithub","followers_url":"https://api.github.com/users/huyanggithub/followers","following_url":"https://api.github.com/users/huyanggithub/following{/other_user}","gists_url":"https://api.github.com/users/huyanggithub/gists{/gist_id}","starred_url":"https://api.github.com/users/huyanggithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huyanggithub/subscriptions","organizations_url":"https://api.github.com/users/huyanggithub/orgs","repos_url":"https://api.github.com/users/huyanggithub/repos","events_url":"https://api.github.com/users/huyanggithub/events{/privacy}","received_events_url":"https://api.github.com/users/huyanggithub/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-14T16:14:55Z","performed_via_github_app":null},{"id":2414170401,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0MTQxNzA0MDE=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/2414170401","actor":{"login":"huyanggithub","id":37499146,"node_id":"MDQ6VXNlcjM3NDk5MTQ2","avatar_url":"https://avatars.githubusercontent.com/u/37499146?v=4","gravatar_id":"","url":"https://api.github.com/users/huyanggithub","html_url":"https://github.com/huyanggithub","followers_url":"https://api.github.com/users/huyanggithub/followers","following_url":"https://api.github.com/users/huyanggithub/following{/other_user}","gists_url":"https://api.github.com/users/huyanggithub/gists{/gist_id}","starred_url":"https://api.github.com/users/huyanggithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huyanggithub/subscriptions","organizations_url":"https://api.github.com/users/huyanggithub/orgs","repos_url":"https://api.github.com/users/huyanggithub/repos","events_url":"https://api.github.com/users/huyanggithub/events{/privacy}","received_events_url":"https://api.github.com/users/huyanggithub/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-14T16:14:55Z","performed_via_github_app":null},{"id":2414170402,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQxNDE3MDQwMg==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/2414170402","actor":{"login":"ccluqh","id":23624113,"node_id":"MDQ6VXNlcjIzNjI0MTEz","avatar_url":"https://avatars.githubusercontent.com/u/23624113?v=4","gravatar_id":"","url":"https://api.github.com/users/ccluqh","html_url":"https://github.com/ccluqh","followers_url":"https://api.github.com/users/ccluqh/followers","following_url":"https://api.github.com/users/ccluqh/following{/other_user}","gists_url":"https://api.github.com/users/ccluqh/gists{/gist_id}","starred_url":"https://api.github.com/users/ccluqh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccluqh/subscriptions","organizations_url":"https://api.github.com/users/ccluqh/orgs","repos_url":"https://api.github.com/users/ccluqh/repos","events_url":"https://api.github.com/users/ccluqh/events{/privacy}","received_events_url":"https://api.github.com/users/ccluqh/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-14T16:14:55Z","performed_via_github_app":null},{"id":2414170406,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0MTQxNzA0MDY=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/2414170406","actor":{"login":"ccluqh","id":23624113,"node_id":"MDQ6VXNlcjIzNjI0MTEz","avatar_url":"https://avatars.githubusercontent.com/u/23624113?v=4","gravatar_id":"","url":"https://api.github.com/users/ccluqh","html_url":"https://github.com/ccluqh","followers_url":"https://api.github.com/users/ccluqh/followers","following_url":"https://api.github.com/users/ccluqh/following{/other_user}","gists_url":"https://api.github.com/users/ccluqh/gists{/gist_id}","starred_url":"https://api.github.com/users/ccluqh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccluqh/subscriptions","organizations_url":"https://api.github.com/users/ccluqh/orgs","repos_url":"https://api.github.com/users/ccluqh/repos","events_url":"https://api.github.com/users/ccluqh/events{/privacy}","received_events_url":"https://api.github.com/users/ccluqh/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-14T16:14:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/632055666","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/27#issuecomment-632055666","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/27","id":632055666,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjA1NTY2Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"created_at":"2020-05-21T12:20:56Z","updated_at":"2020-05-21T12:20:56Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Feel free to reopen it. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/632055666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false}},{"id":3360457965,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzNjA0NTc5NjU=","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3360457965","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-21T12:21:26Z","label":{"name":"wontfix","color":"ffffff"},"performed_via_github_app":null},{"id":3382636222,"node_id":"MDExOkNsb3NlZEV2ZW50MzM4MjYzNjIyMg==","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/3382636222","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-05-28T12:52:42Z","state_reason":null,"performed_via_github_app":null}]