[{"id":4974699054,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ0OTc0Njk5MDU0","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/4974699054","actor":{"login":"nbcc","id":864331,"node_id":"MDQ6VXNlcjg2NDMzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/864331?v=4","gravatar_id":"","url":"https://api.github.com/users/nbcc","html_url":"https://github.com/nbcc","followers_url":"https://api.github.com/users/nbcc/followers","following_url":"https://api.github.com/users/nbcc/following{/other_user}","gists_url":"https://api.github.com/users/nbcc/gists{/gist_id}","starred_url":"https://api.github.com/users/nbcc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbcc/subscriptions","organizations_url":"https://api.github.com/users/nbcc/orgs","repos_url":"https://api.github.com/users/nbcc/repos","events_url":"https://api.github.com/users/nbcc/events{/privacy}","received_events_url":"https://api.github.com/users/nbcc/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2021-07-04T02:50:21Z","assignee":{"login":"dingsiyu","id":21340925,"node_id":"MDQ6VXNlcjIxMzQwOTI1","avatar_url":"https://avatars.githubusercontent.com/u/21340925?v=4","gravatar_id":"","url":"https://api.github.com/users/dingsiyu","html_url":"https://github.com/dingsiyu","followers_url":"https://api.github.com/users/dingsiyu/followers","following_url":"https://api.github.com/users/dingsiyu/following{/other_user}","gists_url":"https://api.github.com/users/dingsiyu/gists{/gist_id}","starred_url":"https://api.github.com/users/dingsiyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dingsiyu/subscriptions","organizations_url":"https://api.github.com/users/dingsiyu/orgs","repos_url":"https://api.github.com/users/dingsiyu/repos","events_url":"https://api.github.com/users/dingsiyu/events{/privacy}","received_events_url":"https://api.github.com/users/dingsiyu/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/893134465","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/703#issuecomment-893134465","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/703","id":893134465,"node_id":"IC_kwDOClgT-M41PCaB","user":{"login":"sjy1203","id":6142174,"node_id":"MDQ6VXNlcjYxNDIxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6142174?v=4","gravatar_id":"","url":"https://api.github.com/users/sjy1203","html_url":"https://github.com/sjy1203","followers_url":"https://api.github.com/users/sjy1203/followers","following_url":"https://api.github.com/users/sjy1203/following{/other_user}","gists_url":"https://api.github.com/users/sjy1203/gists{/gist_id}","starred_url":"https://api.github.com/users/sjy1203/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sjy1203/subscriptions","organizations_url":"https://api.github.com/users/sjy1203/orgs","repos_url":"https://api.github.com/users/sjy1203/repos","events_url":"https://api.github.com/users/sjy1203/events{/privacy}","received_events_url":"https://api.github.com/users/sjy1203/received_events","type":"User","site_admin":false},"created_at":"2021-08-05T03:26:01Z","updated_at":"2021-08-05T03:26:01Z","author_association":"NONE","body":"1. repeat_input 控制了是否读取两遍，具体实现在这一行：https://github.com/PaddlePaddle/ERNIE/blob/2641a12a472a94f5b719dc59fb7c6f231ac93d42/ernie-doc/reader/task_reader.py#L578\r\n2. 对于mrc任务，因为考虑到query比较短，而且任务信息比较丰富，所以会把query与每一个segment都会进行拼接，而只有doc会进行滑动切分，","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/893134465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sjy1203","id":6142174,"node_id":"MDQ6VXNlcjYxNDIxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6142174?v=4","gravatar_id":"","url":"https://api.github.com/users/sjy1203","html_url":"https://github.com/sjy1203","followers_url":"https://api.github.com/users/sjy1203/followers","following_url":"https://api.github.com/users/sjy1203/following{/other_user}","gists_url":"https://api.github.com/users/sjy1203/gists{/gist_id}","starred_url":"https://api.github.com/users/sjy1203/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sjy1203/subscriptions","organizations_url":"https://api.github.com/users/sjy1203/orgs","repos_url":"https://api.github.com/users/sjy1203/repos","events_url":"https://api.github.com/users/sjy1203/events{/privacy}","received_events_url":"https://api.github.com/users/sjy1203/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/895174959","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/703#issuecomment-895174959","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/703","id":895174959,"node_id":"IC_kwDOClgT-M41W0kv","user":{"login":"lxww302","id":68112258,"node_id":"MDQ6VXNlcjY4MTEyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/68112258?v=4","gravatar_id":"","url":"https://api.github.com/users/lxww302","html_url":"https://github.com/lxww302","followers_url":"https://api.github.com/users/lxww302/followers","following_url":"https://api.github.com/users/lxww302/following{/other_user}","gists_url":"https://api.github.com/users/lxww302/gists{/gist_id}","starred_url":"https://api.github.com/users/lxww302/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxww302/subscriptions","organizations_url":"https://api.github.com/users/lxww302/orgs","repos_url":"https://api.github.com/users/lxww302/repos","events_url":"https://api.github.com/users/lxww302/events{/privacy}","received_events_url":"https://api.github.com/users/lxww302/received_events","type":"User","site_admin":false},"created_at":"2021-08-09T12:16:53Z","updated_at":"2021-08-09T12:16:53Z","author_association":"NONE","body":"> 1. repeat_input 控制了是否读取两遍，具体实现在这一行：https://github.com/PaddlePaddle/ERNIE/blob/2641a12a472a94f5b719dc59fb7c6f231ac93d42/ernie-doc/reader/task_reader.py#L578\r\n> 2. 对于mrc任务，因为考虑到query比较短，而且任务信息比较丰富，所以会把query与每一个segment都会进行拼接，而只有doc会进行滑动切分，\r\n\r\n1. repeat_input 参数看到了，但是看finetune脚本似乎并没有开启，我尝试开启发现效果变差了。\r\n2. 我想问的是memory的传递问题，一条case如果document过长，ernie-doc会把这条case切成多个segment，这些segment放在相邻的batch里，通过memory传递给下个batch。我理解一个batch有的case在下个batch有segment需要传递，有的case就这一个segment，它的memory就不需要传给下个batch了；但看代码似乎是一个batch里的所有case产生的memory都会传给下个batch，感觉有点奇怪","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/895174959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lxww302","id":68112258,"node_id":"MDQ6VXNlcjY4MTEyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/68112258?v=4","gravatar_id":"","url":"https://api.github.com/users/lxww302","html_url":"https://github.com/lxww302","followers_url":"https://api.github.com/users/lxww302/followers","following_url":"https://api.github.com/users/lxww302/following{/other_user}","gists_url":"https://api.github.com/users/lxww302/gists{/gist_id}","starred_url":"https://api.github.com/users/lxww302/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxww302/subscriptions","organizations_url":"https://api.github.com/users/lxww302/orgs","repos_url":"https://api.github.com/users/lxww302/repos","events_url":"https://api.github.com/users/lxww302/events{/privacy}","received_events_url":"https://api.github.com/users/lxww302/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/925059460","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/703#issuecomment-925059460","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/703","id":925059460,"node_id":"IC_kwDOClgT-M43I0mE","user":{"login":"jc-ryan","id":33245553,"node_id":"MDQ6VXNlcjMzMjQ1NTUz","avatar_url":"https://avatars.githubusercontent.com/u/33245553?v=4","gravatar_id":"","url":"https://api.github.com/users/jc-ryan","html_url":"https://github.com/jc-ryan","followers_url":"https://api.github.com/users/jc-ryan/followers","following_url":"https://api.github.com/users/jc-ryan/following{/other_user}","gists_url":"https://api.github.com/users/jc-ryan/gists{/gist_id}","starred_url":"https://api.github.com/users/jc-ryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc-ryan/subscriptions","organizations_url":"https://api.github.com/users/jc-ryan/orgs","repos_url":"https://api.github.com/users/jc-ryan/repos","events_url":"https://api.github.com/users/jc-ryan/events{/privacy}","received_events_url":"https://api.github.com/users/jc-ryan/received_events","type":"User","site_admin":false},"created_at":"2021-09-22T15:52:52Z","updated_at":"2021-09-22T15:52:52Z","author_association":"NONE","body":"> > 1. repeat_input 控制了是否读取两遍，具体实现在这一行：https://github.com/PaddlePaddle/ERNIE/blob/2641a12a472a94f5b719dc59fb7c6f231ac93d42/ernie-doc/reader/task_reader.py#L578\r\n> > 2. 对于mrc任务，因为考虑到query比较短，而且任务信息比较丰富，所以会把query与每一个segment都会进行拼接，而只有doc会进行滑动切分，\r\n> \r\n> 1. repeat_input 参数看到了，但是看finetune脚本似乎并没有开启，我尝试开启发现效果变差了。\r\n> 2. 我想问的是memory的传递问题，一条case如果document过长，ernie-doc会把这条case切成多个segment，这些segment放在相邻的batch里，通过memory传递给下个batch。我理解一个batch有的case在下个batch有segment需要传递，有的case就这一个segment，它的memory就不需要传给下个batch了；但看代码似乎是一个batch里的所有case产生的memory都会传给下个batch，感觉有点奇怪\r\n\r\n我也注意到了这个问题，相邻batch之间如果同属一个长篇章是没有问题，但属于不同的篇章的batch也进行了memory的传递；并且repeat_input并未开启，那何来的retrospect阶段呢","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/925059460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jc-ryan","id":33245553,"node_id":"MDQ6VXNlcjMzMjQ1NTUz","avatar_url":"https://avatars.githubusercontent.com/u/33245553?v=4","gravatar_id":"","url":"https://api.github.com/users/jc-ryan","html_url":"https://github.com/jc-ryan","followers_url":"https://api.github.com/users/jc-ryan/followers","following_url":"https://api.github.com/users/jc-ryan/following{/other_user}","gists_url":"https://api.github.com/users/jc-ryan/gists{/gist_id}","starred_url":"https://api.github.com/users/jc-ryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc-ryan/subscriptions","organizations_url":"https://api.github.com/users/jc-ryan/orgs","repos_url":"https://api.github.com/users/jc-ryan/repos","events_url":"https://api.github.com/users/jc-ryan/events{/privacy}","received_events_url":"https://api.github.com/users/jc-ryan/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/975178830","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/703#issuecomment-975178830","issue_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/703","id":975178830,"node_id":"IC_kwDOClgT-M46IAxO","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"created_at":"2021-11-22T06:45:47Z","updated_at":"2021-11-22T06:45:47Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Feel free to reopen it. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/comments/975178830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false}},{"id":5651724833,"node_id":"LE_lADOClgT-M43Q_7dzwAAAAFQ3noh","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/5651724833","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-11-22T06:45:48Z","label":{"name":"wontfix","color":"ffffff"},"performed_via_github_app":null},{"id":5688581674,"node_id":"CE_lADOClgT-M43Q_7dzwAAAAFTEN4q","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/events/5688581674","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-11-30T00:45:17Z","state_reason":null,"performed_via_github_app":null}]