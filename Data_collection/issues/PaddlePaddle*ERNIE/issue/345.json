{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/345","repository_url":"https://api.github.com/repos/PaddlePaddle/ERNIE","labels_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/345/labels{/name}","comments_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/345/comments","events_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/345/events","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/345","id":509032736,"node_id":"MDU6SXNzdWU1MDkwMzI3MzY=","number":345,"title":"单机多卡预训练ernie1.0出现 SendRPC name:[NCCLID], ep:[10.12.35.45:6171], status:[-1] meets grpc error, error_code:4 error_message:Deadline Exceeded error_details:","user":{"login":"zuole","id":26682885,"node_id":"MDQ6VXNlcjI2NjgyODg1","avatar_url":"https://avatars.githubusercontent.com/u/26682885?v=4","gravatar_id":"","url":"https://api.github.com/users/zuole","html_url":"https://github.com/zuole","followers_url":"https://api.github.com/users/zuole/followers","following_url":"https://api.github.com/users/zuole/following{/other_user}","gists_url":"https://api.github.com/users/zuole/gists{/gist_id}","starred_url":"https://api.github.com/users/zuole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuole/subscriptions","organizations_url":"https://api.github.com/users/zuole/orgs","repos_url":"https://api.github.com/users/zuole/repos","events_url":"https://api.github.com/users/zuole/events{/privacy}","received_events_url":"https://api.github.com/users/zuole/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-10-18T11:53:56Z","updated_at":"2019-10-21T09:11:34Z","closed_at":"2019-10-21T09:11:34Z","author_association":"NONE","active_lock_reason":null,"body":"版本、环境信息：\r\n   1）PaddlePaddle版本：1.5.1\r\n   3）GPU： Tesla V100\r\n   4）系统环境：Linux，Python2.7版本\r\n\r\n训练信息\r\n   1）单机，多卡\r\n   2）显存信息 16160MiB\r\n   3）Operator信息 Linux\r\n\r\n问题描述：请详细描述您的问题，同步贴出报错信息、日志、可复现的代码片段\r\n\r\n[INFO] 2019-10-18 19:25:08,789 [ train.py: 210]: Device count 2\r\n[INFO] 2019-10-18 19:25:08,789 [ train.py: 211]: theoretical memory usage:\r\n[INFO] 2019-10-18 19:25:08,833 [ train.py: 213]: (9526.169296073915, 9979.796405410767, 'MB')\r\n[INFO] 2019-10-18 19:25:08,833 [ train.py: 217]: args.is_distributed: True\r\n[INFO] 2019-10-18 19:25:08,834 [ train.py: 225]: train_id == 0, sleep 60s\r\n[INFO] 2019-10-18 19:26:08,894 [ train.py: 229]: worker_endpoints:[u'10.12.35.45:6170', u'10.12.35.45:6171'] trainers_num:2 current_endpoint:10.12.35.45:6170 trainer_id:0\r\nW1018 19:26:10.103168 119202 device_context.cc:259] Please NOTE: device: 0, CUDA Capability: 70, Driver API Version: 9.2, Runtime API Version: 9.0\r\nW1018 19:26:10.106727 119202 device_context.cc:267] device: 0, cuDNN Version: 7.0.\r\nW1018 19:26:10.106756 119202 device_context.cc:293] WARNING: device: 0. The installed Paddle is compiled with CUDNN 7.3, but CUDNN version in your machine is 7.0, which may cause serious incompatible bug. Please recompile or reinstall Paddle with compatible CUDNN version.\r\nI1018 19:26:10.428246 119202 rpc_client.h:101] init rpc client with trainer_id 0\r\nF1018 19:29:10.429860 119306 grpc_client.cc:414] SendRPC name:[NCCLID], ep:[10.12.35.45:6171], status:[-1] meets grpc error, error_code:4 error_message:Deadline Exceeded error_details:\r\n*** Check failure stack trace: ***\r\n@ 0x7f515d89127d google::LogMessage::Fail()\r\n@ 0x7f515d894d2c google::LogMessage::SendToLog()\r\n@ 0x7f515d890da3 google::LogMessage::Flush()\r\n@ 0x7f515d89623e google::LogMessageFatal::~LogMessageFatal()\r\n@ 0x7f515f1620da paddle::operators::distributed::GRPCClient::Proceed()\r\n@ 0x7f5182a6b8a0 execute_native_thread_routine\r\n@ 0x7f519367b1c3 start_thread\r\n@ 0x7f5192ca312d __clone\r\n@ (nil) (unknown)","closed_by":{"login":"zuole","id":26682885,"node_id":"MDQ6VXNlcjI2NjgyODg1","avatar_url":"https://avatars.githubusercontent.com/u/26682885?v=4","gravatar_id":"","url":"https://api.github.com/users/zuole","html_url":"https://github.com/zuole","followers_url":"https://api.github.com/users/zuole/followers","following_url":"https://api.github.com/users/zuole/following{/other_user}","gists_url":"https://api.github.com/users/zuole/gists{/gist_id}","starred_url":"https://api.github.com/users/zuole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuole/subscriptions","organizations_url":"https://api.github.com/users/zuole/orgs","repos_url":"https://api.github.com/users/zuole/repos","events_url":"https://api.github.com/users/zuole/events{/privacy}","received_events_url":"https://api.github.com/users/zuole/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/345/timeline","performed_via_github_app":null,"state_reason":"completed"}