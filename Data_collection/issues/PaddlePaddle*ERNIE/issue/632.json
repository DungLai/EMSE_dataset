{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/632","repository_url":"https://api.github.com/repos/PaddlePaddle/ERNIE","labels_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/632/labels{/name}","comments_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/632/comments","events_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/632/events","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/632","id":810414237,"node_id":"MDU6SXNzdWU4MTA0MTQyMzc=","number":632,"title":"subprocess.CalledProcessError returned non-zero exit status 1 in ernie-gen/utils/finetune_launch.py","user":{"login":"darshan22","id":31519169,"node_id":"MDQ6VXNlcjMxNTE5MTY5","avatar_url":"https://avatars.githubusercontent.com/u/31519169?v=4","gravatar_id":"","url":"https://api.github.com/users/darshan22","html_url":"https://github.com/darshan22","followers_url":"https://api.github.com/users/darshan22/followers","following_url":"https://api.github.com/users/darshan22/following{/other_user}","gists_url":"https://api.github.com/users/darshan22/gists{/gist_id}","starred_url":"https://api.github.com/users/darshan22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darshan22/subscriptions","organizations_url":"https://api.github.com/users/darshan22/orgs","repos_url":"https://api.github.com/users/darshan22/repos","events_url":"https://api.github.com/users/darshan22/events{/privacy}","received_events_url":"https://api.github.com/users/darshan22/received_events","type":"User","site_admin":false},"labels":[{"id":1256169225,"node_id":"MDU6TGFiZWwxMjU2MTY5MjI1","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-02-17T18:05:09Z","updated_at":"2021-04-27T23:27:03Z","closed_at":"2021-04-27T23:27:03Z","author_association":"NONE","active_lock_reason":null,"body":"I am trying to fine-tune the ernie-gen base model for squad-qg task, but I get the following error.\r\n\r\n-----------  Configuration Arguments -----------\r\ncurrent_node_ip: 11.111.0.8\r\nlog_prefix:\r\nnode_id: 0\r\nnode_ips: 11.111.0.8\r\nprint_config: True\r\nsplit_log_path: log\r\ntraining_script: ./run_seq2seq.py\r\ntraining_script_args: ['--use_cuda', 'true', '--do_train', 'true', '--do_val', 'true', '--do_test', 'true', '--do_pred', 'false', '--train_set', './Data/datasets/squad_qg//train.tsv', '--dev_set', './Data/datasets/squad_qg//dev.tsv', '--test_set', './Data/datasets/squad_qg//test.tsv', '--pred_set', './Data/datasets/squad_qg//', '--epoch', '10', '--tokenizer', 'FullTokenizer', '--tokenized_input', 'true', '--task_type', 'normal', '--role_type_size', '0', '--turn_type_size', '0', '--max_src_len', '512', '--max_tgt_len', '96', '--max_dec_len', '48', '--hidden_dropout_prob', '0.1', '--attention_probs_dropout_prob', '-1', '--random_noise', 'true', '--noise_prob', '0.7', '--continuous_position', 'true', '--tgt_type_id', '3', '--batch_size', '4', '--learning_rate', '2.5e-5', '--lr_scheduler', 'linear_warmup_decay', '--warmup_proportion', '0.1', '--weight_decay', '0.01', '--weight_sharing', 'True', '--label_smooth', '0.1', '--do_decode', 'true', '--beam_size', '5', '--length_penalty', '1.0', '--init_pretraining_params', 'ernie_gen_base/params', '--vocab_path', 'ernie_gen_base/vocab.txt', '--ernie_config_path', 'ernie_gen_base/ernie_config.json', '--checkpoints', './checkpoints', '--save_and_valid_by_epoch', 'true', '--eval_script', 'sh', './eval/tasks/squad_qg/eval.sh', '--eval_mertrics', 'Bleu_4,METEOR,ROUGE_L', '--random_seed', '83513']\r\n------------------------------------------------\r\nall_trainer_endpoints:  11.111.0.8:6170,11.111.0.8:6171,11.111.0.8:6172,11.111.0.8:6173 , node_id:  0 , current_ip:  11.111.0.8 , num_nodes:  1 , node_ips:  ['11.111.0.8'] , gpus_per_proc:  1 , selected_gpus_per_proc:  [[0], [1], [2], [3]] , nranks:  4\r\nTraceback (most recent call last):\r\n  File \"./utils/finetune_launch.py\", line 175, in <module>\r\n    main(lanch_args)\r\n  File \"./utils/finetune_launch.py\", line 166, in main\r\n    start_procs(args)\r\n  File \"./utils/finetune_launch.py\", line 136, in start_procs\r\n    raise subprocess.CalledProcessError(returncode=procs[i].returncode,\r\nsubprocess.CalledProcessError: Command '['/usr/bin/python3', '-u', './run_seq2seq.py', '--use_cuda', 'true', '--do_train', 'true', '--do_val', 'true', '--do_test', 'true', '--do_pred', 'false', '--train_set', './Data/datasets/squad_qg//train.tsv', '--dev_set', './Data/datasets/squad_qg//dev.tsv', '--test_set', './Data/datasets/squad_qg//test.tsv', '--pred_set', './Data/datasets/squad_qg//', '--epoch', '10', '--tokenizer', 'FullTokenizer', '--tokenized_input', 'true', '--task_type', 'normal', '--role_type_size', '0', '--turn_type_size', '0', '--max_src_len', '512', '--max_tgt_len', '96', '--max_dec_len', '48', '--hidden_dropout_prob', '0.1', '--attention_probs_dropout_prob', '-1', '--random_noise', 'true', '--noise_prob', '0.7', '--continuous_position', 'true', '--tgt_type_id', '3', '--batch_size', '4', '--learning_rate', '2.5e-5', '--lr_scheduler', 'linear_warmup_decay', '--warmup_proportion', '0.1', '--weight_decay', '0.01', '--weight_sharing', 'True', '--label_smooth', '0.1', '--do_decode', 'true', '--beam_size', '5', '--length_penalty', '1.0', '--init_pretraining_params', 'ernie_gen_base/params', '--vocab_path', 'ernie_gen_base/vocab.txt', '--ernie_config_path', 'ernie_gen_base/ernie_config.json', '--checkpoints', './checkpoints', '--save_and_valid_by_epoch', 'true', '--eval_script', 'sh', './eval/tasks/squad_qg/eval.sh', '--eval_mertrics', 'Bleu_4,METEOR,ROUGE_L', '--random_seed', '83513']' returned non-zero exit status 1.","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/632/timeline","performed_via_github_app":null,"state_reason":"completed"}