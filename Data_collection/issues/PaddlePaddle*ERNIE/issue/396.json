{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/396","repository_url":"https://api.github.com/repos/PaddlePaddle/ERNIE","labels_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/396/labels{/name}","comments_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/396/comments","events_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/396/events","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/396","id":546214165,"node_id":"MDU6SXNzdWU1NDYyMTQxNjU=","number":396,"title":"Segmentation fault (core dumped) in sh script/zh_task/ernie_base/run_msra_ner.sh on CONLL 2003","user":{"login":"petrLorenc","id":7677243,"node_id":"MDQ6VXNlcjc2NzcyNDM=","avatar_url":"https://avatars.githubusercontent.com/u/7677243?v=4","gravatar_id":"","url":"https://api.github.com/users/petrLorenc","html_url":"https://github.com/petrLorenc","followers_url":"https://api.github.com/users/petrLorenc/followers","following_url":"https://api.github.com/users/petrLorenc/following{/other_user}","gists_url":"https://api.github.com/users/petrLorenc/gists{/gist_id}","starred_url":"https://api.github.com/users/petrLorenc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/petrLorenc/subscriptions","organizations_url":"https://api.github.com/users/petrLorenc/orgs","repos_url":"https://api.github.com/users/petrLorenc/repos","events_url":"https://api.github.com/users/petrLorenc/events{/privacy}","received_events_url":"https://api.github.com/users/petrLorenc/received_events","type":"User","site_admin":false},"labels":[{"id":1256169225,"node_id":"MDU6TGFiZWwxMjU2MTY5MjI1","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-01-07T10:48:21Z","updated_at":"2020-05-28T09:52:50Z","closed_at":"2020-05-28T09:52:50Z","author_association":"NONE","active_lock_reason":null,"body":"I run the  `sh script/zh_task/ernie_base/run_msra_ner.sh` which is changed a little bit (only the paths to files and false for using CUDA)\r\n```\r\n+ export FLAGS_eager_delete_tensor_gb=0\r\n+ export FLAGS_sync_nccl_allreduce=1\r\n+ export CUDA_VISIBLE_DEVICES=0\r\n+ export PYTHONPATH=./ernie:\r\n+ python -u ./ernie/run_sequence_labeling.py --use_cuda false --do_train true --do_val true --do_test true --batch_size 16 --init_pretraining_params /mnt/d/Programming/Code/Playground/ERNIE-develop/model/params --num_labels 50 --chunk_scheme IOB --label_map_config /mnt/d/Programming/Code/Playground/ERNIE-develop/data/label_map.json --train_set /mnt/d/Programming/Code/Playground/ERNIE-develop/data/eng.train.ernie.tsv --dev_set /mnt/d/Programming/Code/Playground/ERNIE-develop/data/eng.testa.ernie.tsv --test_set /mnt/d/Programming/Code/Playground/ERNIE-develop/data/eng.testb.ernie.tsv --vocab_path /mnt/d/Programming/Code/Playground/ERNIE-develop/model/vocab.txt --ernie_config_path /mnt/d/Programming/Code/Playground/ERNIE-develop/model/ernie_config.json --checkpoints ./checkpoints --save_steps 100000 --weight_decay 0.01 --warmup_proportion 0.0 --validation_steps 100 --use_fp16 false --epoch 6 --max_seq_len 256 --learning_rate 5e-5 --skip_steps 10 --num_iteration_per_drop_scope 1 --random_seed 1\r\nSegmentation fault (core dumped)\r\n```\r\ndata looks according to your format\r\n```\r\nCRICKET - LEICESTERSHIRE TAKE OVER AT TOP AFTER INNINGS VICTORY .\t O O I-ORG O O O O O O O O\r\n LONDON 1996-08-30\t I-LOC O\r\n West Indian all-rounder Phil Simmons took four for 38 on Friday as Leicestershire beat Somerset by an innings and 39 runs in two days to take over at the head of the county championship .\t I-MISC I-MISC O I-PER I-PER O O O O O O O I-ORG O I-ORG O O O O O O O O O O O O O O O O O O O O\r\n Their stay on top , though , may be short-lived as title rivals Essex , Derbyshire and Surrey all closed in on victory while Kent made up for lost time in their rain-affected match against Nottinghamshire .\t O O O O O O O O O O O O O I-ORG O I-ORG O I-ORG O O O O O O I-ORG O O O O O O O O O O I-ORG O\r\n After bowling Somerset out for 83 on the opening morning at Grace Road , Leicestershire extended their first innings by 94 runs before being bowled out for 296 with England discard Andy Caddick taking three for 83 .\t O O I-ORG O O O O O O O O I-LOC I-LOC O I-ORG O O O O O O O O O O O O O O I-LOC O I-PER I-PER O O O O O\r\n```\r\nand mapping file label_map.json have this format\r\n```\r\n{\r\n\t\"B-LOC\" : 0,\r\n\t\"I-LOC\" : 1,\r\n\r\n\t\"B-ORG\" : 2,\r\n\t\"I-ORG\" : 3,\r\n\r\n\t\"B-MISC\" : 4,\r\n\t\"I-MISC\" : 5,\r\n\r\n\t\"B-PER\" : 6,\r\n\t\"I-PER\" : 7,\r\n\r\n\t\"O\" : 8,\r\n\t\"UNK\" : 9\r\n}\r\n```\r\nDo you know where can be a problem or how to solve it","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/396/timeline","performed_via_github_app":null,"state_reason":"completed"}