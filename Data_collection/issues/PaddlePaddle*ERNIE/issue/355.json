{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/355","repository_url":"https://api.github.com/repos/PaddlePaddle/ERNIE","labels_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/355/labels{/name}","comments_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/355/comments","events_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/355/events","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/355","id":513288525,"node_id":"MDU6SXNzdWU1MTMyODg1MjU=","number":355,"title":"预测时出现addle.fluid.core_avx.EnforceNotMet: cudaGetDeviceCount failed in paddle::platform::GetCUDADeviceCount","user":{"login":"littlepan0413","id":6512760,"node_id":"MDQ6VXNlcjY1MTI3NjA=","avatar_url":"https://avatars.githubusercontent.com/u/6512760?v=4","gravatar_id":"","url":"https://api.github.com/users/littlepan0413","html_url":"https://github.com/littlepan0413","followers_url":"https://api.github.com/users/littlepan0413/followers","following_url":"https://api.github.com/users/littlepan0413/following{/other_user}","gists_url":"https://api.github.com/users/littlepan0413/gists{/gist_id}","starred_url":"https://api.github.com/users/littlepan0413/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/littlepan0413/subscriptions","organizations_url":"https://api.github.com/users/littlepan0413/orgs","repos_url":"https://api.github.com/users/littlepan0413/repos","events_url":"https://api.github.com/users/littlepan0413/events{/privacy}","received_events_url":"https://api.github.com/users/littlepan0413/received_events","type":"User","site_admin":false},"labels":[{"id":1256169225,"node_id":"MDU6TGFiZWwxMjU2MTY5MjI1","url":"https://api.github.com/repos/PaddlePaddle/ERNIE/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-10-28T13:00:17Z","updated_at":"2020-05-28T10:52:57Z","closed_at":"2020-05-28T10:52:57Z","author_association":"NONE","active_lock_reason":null,"body":"在单卡单机上出现问题，无法运行\r\npaddle.fluid.core_avx.EnforceNotMet: cudaGetDeviceCount failed in paddle::platform::GetCUDADeviceCount: unknown error at [/paddle/paddle/fluid/platform/gpu_info.cc:97]\r\n\r\n\r\n详细错误信息\r\n  File \"/home/work/src/event_relation_mt_models.py\", line 39, in <module>\r\n    max_seq_len=max_seq_len, batch_size=batch_size)\r\n  File \"/home/work/paddle_gpu_env/python/lib/python2.7/site-packages/baidu/kgx/models/mt_ernie_classifier.py\", line 89, in __init__\r\n    self.__start_model()\r\n  File \"/home/work/paddle_gpu_env/python/lib/python2.7/site-packages/baidu/kgx/models/mt_ernie_classifier.py\", line 93, in __start_model\r\n    dev_list = fluid.cuda_places()\r\n  File \"/home/work/paddle_gpu_env/python/lib/python2.7/site-packages/paddle/fluid/framework.py\", line 136, in cuda_places\r\n    device_ids = _cuda_ids()\r\n  File \"/home/work/paddle_gpu_env/python/lib/python2.7/site-packages/paddle/fluid/framework.py\", line 101, in _cuda_ids\r\n    device_ids = six.moves.range(core.get_cuda_device_count())\r\npaddle.fluid.core_avx.EnforceNotMet: cudaGetDeviceCount failed in paddle::platform::GetCUDADeviceCount: unknown error at [/paddle/paddle/fluid/platform/gpu_info.cc:97]\r\nPaddlePaddle Call Stacks:\r\n0       0x7f71aba8de10p void paddle::platform::EnforceNotMet::Init<char const*>(char const*, char const*, int) + 352\r\n1       0x7f71aba8e189p paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int) + 137\r\n2       0x7f71adbf70bcp paddle::platform::GetCUDADeviceCount() + 1036\r\n3       0x7f71aba89abap\r\n4       0x7f71abac0d36p\r\n5       0x7f72fa472989p PyEval_EvalFrameEx + 28553\r\n6       0x7f72fa4750bdp PyEval_EvalCodeEx + 2061\r\n7       0x7f72fa472345p PyEval_EvalFrameEx + 26949\r\n8       0x7f72fa4750bdp PyEval_EvalCodeEx + 2061\r\n9       0x7f72fa472345p PyEval_EvalFrameEx + 26949\r\n10      0x7f72fa4750bdp PyEval_EvalCodeEx + 2061\r\n11      0x7f72fa472345p PyEval_EvalFrameEx + 26949\r\n12      0x7f72fa4750bdp PyEval_EvalCodeEx + 2061\r\n13      0x7f72fa3ebf85p\r\n14      0x7f72fa3b9df3p PyObject_Call + 67\r\n15      0x7f72fa3c89cdp\r\n16      0x7f72fa3b9df3p PyObject_Call + 67\r\n17      0x7f72fa427bafp\r\n18      0x7f72fa42446fp\r\n19      0x7f72fa3b9df3p PyObject_Call + 67\r\n20      0x7f72fa46f4a6p PyEval_EvalFrameEx + 15014\r\n21      0x7f72fa4750bdp PyEval_EvalCodeEx + 2061\r\n22      0x7f72fa4751f2p PyEval_EvalCode + 50\r\n23      0x7f72fa489e7cp PyImport_ExecCodeModuleEx + 140\r\n24      0x7f72fa48a1dep\r\n25      0x7f72fa48b0d9p\r\n26      0x7f72fa48bd37p PyImport_ImportModuleLevel + 471\r\n27      0x7f72fa4699ffp\r\n28      0x7f72fa3b9df3p PyObject_Call + 67\r\n29      0x7f72fa46b417p PyEval_CallObjectWithKeywords + 71\r\n30      0x7f72fa46f8c7p PyEval_EvalFrameEx + 16071\r\n31      0x7f72fa4750bdp PyEval_EvalCodeEx + 2061\r\n32      0x7f72fa4751f2p PyEval_EvalCode + 50\r\n33      0x7f72fa49df42p PyRun_FileExFlags + 146\r\n34      0x7f72fa49f2d9p PyRun_SimpleFileExFlags + 217\r\n35      0x7f72fa4b500dp Py_Main + 3149\r\n36      0x7f72f96b2bd5p __libc_start_main + 245\r\n37            0x4007a1p\r\n\r\ngpu信息\r\n![image](https://user-images.githubusercontent.com/6512760/67680180-b01bdb80-f9c5-11e9-87ac-c9bd5822d6f9.png)\r\n","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/355/timeline","performed_via_github_app":null,"state_reason":"completed"}