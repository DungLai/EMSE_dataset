{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/862","repository_url":"https://api.github.com/repos/PaddlePaddle/ERNIE","labels_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/862/labels{/name}","comments_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/862/comments","events_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/862/events","html_url":"https://github.com/PaddlePaddle/ERNIE/issues/862","id":1388805031,"node_id":"I_kwDOClgT-M5Sx3un","number":862,"title":"ERNIE3.0完形填空","user":{"login":"lucky-dreamer-nn","id":43629566,"node_id":"MDQ6VXNlcjQzNjI5NTY2","avatar_url":"https://avatars.githubusercontent.com/u/43629566?v=4","gravatar_id":"","url":"https://api.github.com/users/lucky-dreamer-nn","html_url":"https://github.com/lucky-dreamer-nn","followers_url":"https://api.github.com/users/lucky-dreamer-nn/followers","following_url":"https://api.github.com/users/lucky-dreamer-nn/following{/other_user}","gists_url":"https://api.github.com/users/lucky-dreamer-nn/gists{/gist_id}","starred_url":"https://api.github.com/users/lucky-dreamer-nn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucky-dreamer-nn/subscriptions","organizations_url":"https://api.github.com/users/lucky-dreamer-nn/orgs","repos_url":"https://api.github.com/users/lucky-dreamer-nn/repos","events_url":"https://api.github.com/users/lucky-dreamer-nn/events{/privacy}","received_events_url":"https://api.github.com/users/lucky-dreamer-nn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-09-28T06:30:05Z","updated_at":"2022-09-28T09:03:30Z","closed_at":"2022-09-28T09:03:30Z","author_association":"NONE","active_lock_reason":null,"body":"`from ernie.modeling_ernie import ErnieModelForPretraining, ErnieModel\r\nfrom ernie.tokenizing_ernie import ErnieTokenizer\r\nimport paddle.fluid.layers as L\r\nimport paddle.fluid.dygraph as D\r\n\r\nclass ErnieCloset(ErnieModelForPretraining):\r\n    def __init__(self, *args, **kwargs):\r\n        super(ErnieCloset, self).__init__(*args, **kwargs)\r\n        del self.pooler_heads\r\n    def forward(self, src_ids, *args, **kwargs):\r\n        pooled, encoded = ErnieModel.forward(self, src_ids, *args, **kwargs)\r\n        encoded_2d = L.gather_nd(encoded, L.where(src_ids == mask_id))\r\n        encoded_2d = self.mlm(encoded_2d)\r\n        encoded_2d = self.mlm_ln(encoded_2d)\r\n        # 转换为token预测结果\r\n        logits_2d = L.matmul(encoded_2d, self.word_emb.weight, transpose_y=True) + self.mlm_bias\r\n        return logits_2d\r\n`\r\n\r\n利用如上ErnieModelForPretraining这种方法来进行中文完形填空任务时，只能加载如下预训练模型optional: dict_keys(['ernie-1.0', 'ernie-2.0-en', 'ernie-2.0-large-en', 'ernie-tiny', 'ernie-gen-base-en', 'ernie-gen-large-en', 'ernie-gram-zh', 'ernie-gram-en'])，请问ernie 3.0做中文完形填空有什么方法或者建议吗？\r\n\r\n","closed_by":{"login":"lucky-dreamer-nn","id":43629566,"node_id":"MDQ6VXNlcjQzNjI5NTY2","avatar_url":"https://avatars.githubusercontent.com/u/43629566?v=4","gravatar_id":"","url":"https://api.github.com/users/lucky-dreamer-nn","html_url":"https://github.com/lucky-dreamer-nn","followers_url":"https://api.github.com/users/lucky-dreamer-nn/followers","following_url":"https://api.github.com/users/lucky-dreamer-nn/following{/other_user}","gists_url":"https://api.github.com/users/lucky-dreamer-nn/gists{/gist_id}","starred_url":"https://api.github.com/users/lucky-dreamer-nn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucky-dreamer-nn/subscriptions","organizations_url":"https://api.github.com/users/lucky-dreamer-nn/orgs","repos_url":"https://api.github.com/users/lucky-dreamer-nn/repos","events_url":"https://api.github.com/users/lucky-dreamer-nn/events{/privacy}","received_events_url":"https://api.github.com/users/lucky-dreamer-nn/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PaddlePaddle/ERNIE/issues/862/timeline","performed_via_github_app":null,"state_reason":"completed"}