{"url":"https://api.github.com/repos/Stick-To/Object-Detection-Tensorflow/issues/32","repository_url":"https://api.github.com/repos/Stick-To/Object-Detection-Tensorflow","labels_url":"https://api.github.com/repos/Stick-To/Object-Detection-Tensorflow/issues/32/labels{/name}","comments_url":"https://api.github.com/repos/Stick-To/Object-Detection-Tensorflow/issues/32/comments","events_url":"https://api.github.com/repos/Stick-To/Object-Detection-Tensorflow/issues/32/events","html_url":"https://github.com/Stick-To/Object-Detection-Tensorflow/issues/32","id":495189690,"node_id":"MDU6SXNzdWU0OTUxODk2OTA=","number":32,"title":"custom dataset image size problem","user":{"login":"QianSunCN","id":39403847,"node_id":"MDQ6VXNlcjM5NDAzODQ3","avatar_url":"https://avatars.githubusercontent.com/u/39403847?v=4","gravatar_id":"","url":"https://api.github.com/users/QianSunCN","html_url":"https://github.com/QianSunCN","followers_url":"https://api.github.com/users/QianSunCN/followers","following_url":"https://api.github.com/users/QianSunCN/following{/other_user}","gists_url":"https://api.github.com/users/QianSunCN/gists{/gist_id}","starred_url":"https://api.github.com/users/QianSunCN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QianSunCN/subscriptions","organizations_url":"https://api.github.com/users/QianSunCN/orgs","repos_url":"https://api.github.com/users/QianSunCN/repos","events_url":"https://api.github.com/users/QianSunCN/events{/privacy}","received_events_url":"https://api.github.com/users/QianSunCN/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-09-18T12:19:31Z","updated_at":"2019-09-19T10:24:48Z","closed_at":"2019-09-19T10:24:48Z","author_association":"NONE","active_lock_reason":null,"body":"Hello,Thank you for your code.  \r\nWhen I run this code, it works on VOC dataset. When I usu my own custom dataset with only one class, these image are 1000x1400 sizeï¼Œsome errors have occurred...\r\n------------------------- epoch 0 -------------------------\r\nTraceback (most recent call last):\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1334, in _do_call\r\n    return fn(*args)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1319, in _run_fn\r\n    options, feed_dict, fetch_list, target_list, run_metadata)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1407, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Input to reshape is a tensor with 4200000 values, but the requested shape has 1400000\r\n\t [[{{node Reshape_2}}]]\r\n\t [[{{node IteratorGetNext}}]]\r\n\t [[{{node SparseToDense_15}}]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"H:/deeplearning/Object-Detection-API-Tensorflow-master/testYOLOv3.py\", line 77, in <module>\r\n    mean_loss = testnet.train_one_epoch(lr)\r\n  File \"H:\\deeplearning\\Object-Detection-API-Tensorflow-master\\YOLOv3.py\", line 451, in train_one_epoch\r\n    feed_dict={self.lr: lr})\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 929, in run\r\n    run_metadata_ptr)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1152, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1328, in _do_run\r\n    run_metadata)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1348, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Input to reshape is a tensor with 4200000 values, but the requested shape has 1400000\r\n\t [[node Reshape_2 (defined at H:\\deeplearning\\Object-Detection-API-Tensorflow-master\\YOLOv3.py:41) ]]\r\n\t [[node IteratorGetNext (defined at H:\\deeplearning\\Object-Detection-API-Tensorflow-master\\YOLOv3.py:72) ]]\r\n\t [[node SparseToDense_15 (defined at H:\\deeplearning\\Object-Detection-API-Tensorflow-master\\YOLOv3.py:127) ]]\r\n\r\nCaused by op 'Reshape_2', defined at:\r\n  File \"H:/deeplearning/Object-Detection-API-Tensorflow-master/testYOLOv3.py\", line 70, in <module>\r\n    testnet = yolov3.YOLOv3(config, trainset_provider)\r\n  File \"H:\\deeplearning\\Object-Detection-API-Tensorflow-master\\YOLOv3.py\", line 41, in __init__\r\n    self.priors.append(tf.reshape(tf.constant(priors[i], dtype=tf.float32)/self.stride[i], [1, 1, -1, 2]))\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_array_ops.py\", line 8462, in reshape\r\n    \"Reshape\", tensor=tensor, shape=shape, name=name)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 788, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 3300, in create_op\r\n    op_def=op_def)\r\n  File \"D:\\Software\\python\\anaconda\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1801, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): Input to reshape is a tensor with 4200000 values, but the requested shape has 1400000\r\n","closed_by":{"login":"QianSunCN","id":39403847,"node_id":"MDQ6VXNlcjM5NDAzODQ3","avatar_url":"https://avatars.githubusercontent.com/u/39403847?v=4","gravatar_id":"","url":"https://api.github.com/users/QianSunCN","html_url":"https://github.com/QianSunCN","followers_url":"https://api.github.com/users/QianSunCN/followers","following_url":"https://api.github.com/users/QianSunCN/following{/other_user}","gists_url":"https://api.github.com/users/QianSunCN/gists{/gist_id}","starred_url":"https://api.github.com/users/QianSunCN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QianSunCN/subscriptions","organizations_url":"https://api.github.com/users/QianSunCN/orgs","repos_url":"https://api.github.com/users/QianSunCN/repos","events_url":"https://api.github.com/users/QianSunCN/events{/privacy}","received_events_url":"https://api.github.com/users/QianSunCN/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Stick-To/Object-Detection-Tensorflow/issues/32/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Stick-To/Object-Detection-Tensorflow/issues/32/timeline","performed_via_github_app":null,"state_reason":"completed"}