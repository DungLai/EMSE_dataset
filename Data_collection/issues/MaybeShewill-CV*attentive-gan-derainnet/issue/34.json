{"url":"https://api.github.com/repos/MaybeShewill-CV/attentive-gan-derainnet/issues/34","repository_url":"https://api.github.com/repos/MaybeShewill-CV/attentive-gan-derainnet","labels_url":"https://api.github.com/repos/MaybeShewill-CV/attentive-gan-derainnet/issues/34/labels{/name}","comments_url":"https://api.github.com/repos/MaybeShewill-CV/attentive-gan-derainnet/issues/34/comments","events_url":"https://api.github.com/repos/MaybeShewill-CV/attentive-gan-derainnet/issues/34/events","html_url":"https://github.com/MaybeShewill-CV/attentive-gan-derainnet/issues/34","id":422062895,"node_id":"MDU6SXNzdWU0MjIwNjI4OTU=","number":34,"title":"got error when run train_model.py","user":{"login":"jifenghu","id":33339682,"node_id":"MDQ6VXNlcjMzMzM5Njgy","avatar_url":"https://avatars.githubusercontent.com/u/33339682?v=4","gravatar_id":"","url":"https://api.github.com/users/jifenghu","html_url":"https://github.com/jifenghu","followers_url":"https://api.github.com/users/jifenghu/followers","following_url":"https://api.github.com/users/jifenghu/following{/other_user}","gists_url":"https://api.github.com/users/jifenghu/gists{/gist_id}","starred_url":"https://api.github.com/users/jifenghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jifenghu/subscriptions","organizations_url":"https://api.github.com/users/jifenghu/orgs","repos_url":"https://api.github.com/users/jifenghu/repos","events_url":"https://api.github.com/users/jifenghu/events{/privacy}","received_events_url":"https://api.github.com/users/jifenghu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2019-03-18T06:52:43Z","updated_at":"2019-04-12T16:12:03Z","closed_at":"2019-04-12T16:12:03Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, \r\nFirst, I want to say thank you for share this model, and here is the issue I met.\r\nmy device is an i7-7700HQ CPU and a 1050ti GPU, and I use the data sample you prepared to run the train_model .\r\n\r\nAnd the error is like:\r\n\r\n(tensorflow) D:\\attentive-gan-derainnet-master>python tools/train_model.py --dataset_dir D:\\attentive-gan-derainnet-master\\data_provider\r\nD:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\h5py\\__init__.py:34: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\nVGG16 Network init complete\r\n2019-03-18 14:34:37.549633: I T:\\src\\github\\tensorflow\\tensorflow\\core\\platform\\cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\r\nI0318 14:34:38.240563 309452 train_model.py:255] Global configuration is as follows:\r\nI0318 14:34:38.402141 309452 train_model.py:256] {'TEST': {'IMG_HEIGHT': 240, 'GPU_MEMORY_FRACTION': 0.8, 'IMG_WIDTH': 360, 'BATCH_SIZE': 1, 'TF_ALLOW_GROWTH': False}, 'TRAIN': {'CROP_IMG_HEIGHT': 240, 'GPU_MEMORY_FRACTION': 0.95, 'IMG_WIDTH': 376, 'IMG_HEIGHT': 256, 'LEARNING_RATE': 0.0002, 'GPU_NUM': 1, 'BATCH_SIZE': 1, 'CPU_MULTI_PROCESS_NUMS': 6, 'CROP_IMG_WIDTH': 360, 'TF_ALLOW_GROWTH': True, 'EPOCHS': 100010}}\r\nI0318 14:34:40.289161 309452 train_model.py:264] Training from scratch\r\nTraceback (most recent call last):\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1278, in _do_call\r\n    return fn(*args)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1263, in _run_fn\r\n    options, feed_dict, fetch_list, target_list, run_metadata)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1350, in _call_tf_sessionrun\r\n    run_metadata)\r\n**tensorflow.python.framework.errors_impl.OutOfRangeError: End of sequence\r\n         [[Node: val_IteratorGetNext = IteratorGetNext[output_shapes=[[1,240,360,3], [1,240,360,3], [1,240,360,1]], output_types=[DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](input_tensor_1/OneShotIterator)]]\r\n\r\nDuring handling of the above exception, another exception occurred:**\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/train_model.py\", line 341, in <module>\r\n    train_model(args.dataset_dir, weights_path=args.weights_path)\r\n  File \"tools/train_model.py\", line 294, in train_model\r\n    train_psnr, train_summary_op, val_summary_op]\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 877, in run\r\n    run_metadata_ptr)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1100, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1272, in _do_run\r\n    run_metadata)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1291, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.OutOfRangeError: End of sequence\r\n         [[Node: val_IteratorGetNext = IteratorGetNext[output_shapes=[[1,240,360,3], [1,240,360,3], [1,240,360,1]], output_types=[DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](input_tensor_1/OneShotIterator)]]\r\n\r\nCaused by op 'val_IteratorGetNext', defined at:\r\n  File \"tools/train_model.py\", line 341, in <module>\r\n    train_model(args.dataset_dir, weights_path=args.weights_path)\r\n  File \"tools/train_model.py\", line 117, in train_model\r\n    val_input_tensor, val_label_tensor, val_mask_tensor = val_dataset.inputs(CFG.TRAIN.BATCH_SIZE, 1)\r\n  File \"D:\\attentive-gan-derainnet-master\\data_provider\\data_feed_pipline.py\", line 296, in inputs\r\n    return iterator.get_next(name='{:s}_IteratorGetNext'.format(self._dataset_flags))\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py\", line 410, in get_next\r\n    name=name)), self._output_types,\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py\", line 2107, in iterator_get_next\r\n    output_shapes=output_shapes, name=name)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 454, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 3155, in create_op\r\n    op_def=op_def)\r\n  File \"D:\\software\\Anaconda\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1717, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n\r\n**OutOfRangeError (see above for traceback): End of sequence\r\n         [[Node: val_IteratorGetNext = IteratorGetNext[output_shapes=[[1,240,360,3], [1,240,360,3], [1,240,360,1]], output_types=[DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](input_tensor_1/OneShotIterator)]]**\r\n\r\nwhich I don't know how to figure it out, please help if you see that~ thank you very much~","closed_by":{"login":"MaybeShewill-CV","id":15725187,"node_id":"MDQ6VXNlcjE1NzI1MTg3","avatar_url":"https://avatars.githubusercontent.com/u/15725187?v=4","gravatar_id":"","url":"https://api.github.com/users/MaybeShewill-CV","html_url":"https://github.com/MaybeShewill-CV","followers_url":"https://api.github.com/users/MaybeShewill-CV/followers","following_url":"https://api.github.com/users/MaybeShewill-CV/following{/other_user}","gists_url":"https://api.github.com/users/MaybeShewill-CV/gists{/gist_id}","starred_url":"https://api.github.com/users/MaybeShewill-CV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaybeShewill-CV/subscriptions","organizations_url":"https://api.github.com/users/MaybeShewill-CV/orgs","repos_url":"https://api.github.com/users/MaybeShewill-CV/repos","events_url":"https://api.github.com/users/MaybeShewill-CV/events{/privacy}","received_events_url":"https://api.github.com/users/MaybeShewill-CV/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/MaybeShewill-CV/attentive-gan-derainnet/issues/34/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/MaybeShewill-CV/attentive-gan-derainnet/issues/34/timeline","performed_via_github_app":null,"state_reason":"completed"}