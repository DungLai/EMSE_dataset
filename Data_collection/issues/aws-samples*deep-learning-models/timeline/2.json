[{"url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/comments/430070236","html_url":"https://github.com/aws-samples/deep-learning-models/issues/2#issuecomment-430070236","issue_url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/2","id":430070236,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDA3MDIzNg==","user":{"login":"rahul003","id":3457240,"node_id":"MDQ6VXNlcjM0NTcyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3457240?v=4","gravatar_id":"","url":"https://api.github.com/users/rahul003","html_url":"https://github.com/rahul003","followers_url":"https://api.github.com/users/rahul003/followers","following_url":"https://api.github.com/users/rahul003/following{/other_user}","gists_url":"https://api.github.com/users/rahul003/gists{/gist_id}","starred_url":"https://api.github.com/users/rahul003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahul003/subscriptions","organizations_url":"https://api.github.com/users/rahul003/orgs","repos_url":"https://api.github.com/users/rahul003/repos","events_url":"https://api.github.com/users/rahul003/events{/privacy}","received_events_url":"https://api.github.com/users/rahul003/received_events","type":"User","site_admin":false},"created_at":"2018-10-16T01:35:01Z","updated_at":"2018-10-16T01:36:16Z","author_association":"COLLABORATOR","body":"We found that using Cuda 9.2 is what gave the results a significant boost. Since the official binaries of TF do not use Cuda 9.2, we let the DLAMI remain at cuda9.0 till the official binaries get updated. \r\n\r\nFor now to get the latest speeds on DLAMI, we encourage you to use these additional flags to make use of some improvements we made to Horovod (. `-x HOROVOD_HIERARCHICAL_ALLREDUCE=1 -x HOROVOD_FUSION_THRESHOLD=16777216` . \r\nThe first flag uses NCCL for reduction within a node, and MPI for the reduction across nodes instead of NCCL everywhere. We recommend using HOROVOD_HIERARCHICAL_ALLREDUCE for all models.  Requires Horovod>=0.14.1 which is available in the newer versions of DLAMI.\r\nThe second flag adjusts the fusion threshold to 16MB for ResNet50. This might need to be tuned for a given model. ","reactions":{"url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/comments/430070236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rahul003","id":3457240,"node_id":"MDQ6VXNlcjM0NTcyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/3457240?v=4","gravatar_id":"","url":"https://api.github.com/users/rahul003","html_url":"https://github.com/rahul003","followers_url":"https://api.github.com/users/rahul003/followers","following_url":"https://api.github.com/users/rahul003/following{/other_user}","gists_url":"https://api.github.com/users/rahul003/gists{/gist_id}","starred_url":"https://api.github.com/users/rahul003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahul003/subscriptions","organizations_url":"https://api.github.com/users/rahul003/orgs","repos_url":"https://api.github.com/users/rahul003/repos","events_url":"https://api.github.com/users/rahul003/events{/privacy}","received_events_url":"https://api.github.com/users/rahul003/received_events","type":"User","site_admin":false}},{"id":4142165223,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQxNDIxNjUyMjM=","url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/events/4142165223","actor":{"login":"piyushghai","id":7931019,"node_id":"MDQ6VXNlcjc5MzEwMTk=","avatar_url":"https://avatars.githubusercontent.com/u/7931019?v=4","gravatar_id":"","url":"https://api.github.com/users/piyushghai","html_url":"https://github.com/piyushghai","followers_url":"https://api.github.com/users/piyushghai/followers","following_url":"https://api.github.com/users/piyushghai/following{/other_user}","gists_url":"https://api.github.com/users/piyushghai/gists{/gist_id}","starred_url":"https://api.github.com/users/piyushghai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piyushghai/subscriptions","organizations_url":"https://api.github.com/users/piyushghai/orgs","repos_url":"https://api.github.com/users/piyushghai/repos","events_url":"https://api.github.com/users/piyushghai/events{/privacy}","received_events_url":"https://api.github.com/users/piyushghai/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"188e14cb216ec7e3dd8559c20c3725b08530fd54","commit_url":"https://api.github.com/repos/piyushghai/deep-learning-models/commits/188e14cb216ec7e3dd8559c20c3725b08530fd54","created_at":"2020-12-23T00:02:52Z","performed_via_github_app":null}]