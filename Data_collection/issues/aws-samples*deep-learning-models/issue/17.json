{"url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/17","repository_url":"https://api.github.com/repos/aws-samples/deep-learning-models","labels_url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/17/labels{/name}","comments_url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/17/comments","events_url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/17/events","html_url":"https://github.com/aws-samples/deep-learning-models/issues/17","id":626539305,"node_id":"MDU6SXNzdWU2MjY1MzkzMDU=","number":17,"title":"small batch size","user":{"login":"008karan","id":18630864,"node_id":"MDQ6VXNlcjE4NjMwODY0","avatar_url":"https://avatars.githubusercontent.com/u/18630864?v=4","gravatar_id":"","url":"https://api.github.com/users/008karan","html_url":"https://github.com/008karan","followers_url":"https://api.github.com/users/008karan/followers","following_url":"https://api.github.com/users/008karan/following{/other_user}","gists_url":"https://api.github.com/users/008karan/gists{/gist_id}","starred_url":"https://api.github.com/users/008karan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/008karan/subscriptions","organizations_url":"https://api.github.com/users/008karan/orgs","repos_url":"https://api.github.com/users/008karan/repos","events_url":"https://api.github.com/users/008karan/events{/privacy}","received_events_url":"https://api.github.com/users/008karan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-05-28T14:09:13Z","updated_at":"2020-10-26T21:11:19Z","closed_at":"2020-10-26T21:11:19Z","author_association":"NONE","active_lock_reason":null,"body":"as mentioned in the script that batch size for Albert base you got is 64. But for good results isn't this very small?  Also with p3dn was expecting larger batch size than this. \r\n\r\nI am using hugginface for training albert but getting max bs 85 and its not able utilize complete gpu ram.\r\n\r\n```\r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 440.33.01    Driver Version: 440.33.01    CUDA Version: 10.2     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  Tesla V100-SXM2...  On   | 00000000:00:16.0 Off |                    0 |\r\n| N/A   77C    P0   291W / 300W |  30931MiB / 32510MiB |    100%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  Tesla V100-SXM2...  On   | 00000000:00:17.0 Off |                    0 |\r\n| N/A   71C    P0   255W / 300W |  18963MiB / 32510MiB |    100%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   2  Tesla V100-SXM2...  On   | 00000000:00:18.0 Off |                    0 |\r\n| N/A   71C    P0    95W / 300W |  18963MiB / 32510MiB |     98%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   3  Tesla V100-SXM2...  On   | 00000000:00:19.0 Off |                    0 |\r\n| N/A   68C    P0    89W / 300W |  18963MiB / 32510MiB |     72%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   4  Tesla V100-SXM2...  On   | 00000000:00:1A.0 Off |                    0 |\r\n| N/A   68C    P0    78W / 300W |  18963MiB / 32510MiB |    100%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   5  Tesla V100-SXM2...  On   | 00000000:00:1B.0 Off |                    0 |\r\n| N/A   69C    P0    96W / 300W |  18963MiB / 32510MiB |     65%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   6  Tesla V100-SXM2...  On   | 00000000:00:1C.0 Off |                    0 |\r\n| N/A   69C    P0    79W / 300W |  18963MiB / 32510MiB |     95%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   7  Tesla V100-SXM2...  On   | 00000000:00:1D.0 Off |                    0 |\r\n| N/A   74C    P0    80W / 300W |  18963MiB / 32510MiB |     12%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n```","closed_by":{"login":"jarednielsen","id":4564897,"node_id":"MDQ6VXNlcjQ1NjQ4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4564897?v=4","gravatar_id":"","url":"https://api.github.com/users/jarednielsen","html_url":"https://github.com/jarednielsen","followers_url":"https://api.github.com/users/jarednielsen/followers","following_url":"https://api.github.com/users/jarednielsen/following{/other_user}","gists_url":"https://api.github.com/users/jarednielsen/gists{/gist_id}","starred_url":"https://api.github.com/users/jarednielsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jarednielsen/subscriptions","organizations_url":"https://api.github.com/users/jarednielsen/orgs","repos_url":"https://api.github.com/users/jarednielsen/repos","events_url":"https://api.github.com/users/jarednielsen/events{/privacy}","received_events_url":"https://api.github.com/users/jarednielsen/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/17/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/aws-samples/deep-learning-models/issues/17/timeline","performed_via_github_app":null,"state_reason":"completed"}