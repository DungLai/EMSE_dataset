{"url":"https://api.github.com/repos/dougsm/mvp_grasp/issues/14","repository_url":"https://api.github.com/repos/dougsm/mvp_grasp","labels_url":"https://api.github.com/repos/dougsm/mvp_grasp/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/dougsm/mvp_grasp/issues/14/comments","events_url":"https://api.github.com/repos/dougsm/mvp_grasp/issues/14/events","html_url":"https://github.com/dougsm/mvp_grasp/issues/14","id":564682775,"node_id":"MDU6SXNzdWU1NjQ2ODI3NzU=","number":14,"title":"tf variable does not exist e.g. sin_out/BiasAdd/_39","user":{"login":"seivazi","id":4396080,"node_id":"MDQ6VXNlcjQzOTYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/4396080?v=4","gravatar_id":"","url":"https://api.github.com/users/seivazi","html_url":"https://github.com/seivazi","followers_url":"https://api.github.com/users/seivazi/followers","following_url":"https://api.github.com/users/seivazi/following{/other_user}","gists_url":"https://api.github.com/users/seivazi/gists{/gist_id}","starred_url":"https://api.github.com/users/seivazi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seivazi/subscriptions","organizations_url":"https://api.github.com/users/seivazi/orgs","repos_url":"https://api.github.com/users/seivazi/repos","events_url":"https://api.github.com/users/seivazi/events{/privacy}","received_events_url":"https://api.github.com/users/seivazi/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-13T13:28:51Z","updated_at":"2020-02-19T01:54:32Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Running roslaunch mvp_grasping grasp_entropy_service.launch throw a tf error:\r\n\r\n\r\n[ERROR] [1581599830.446864]: Error processing request: 2 root error(s) found.\r\n  (0) Failed precondition: Error while reading resource variable pos_out/bias from Container: localhost. This could mean that the variable was uninitialized. Not found: Resource localhost/pos_out/bias/N10tensorflow3VarE does not exist.\r\n\t [[{{node pos_out/BiasAdd/ReadVariableOp}}]]\r\n\t [[sin_out/BiasAdd/_39]]\r\n  (1) Failed precondition: Error while reading resource variable pos_out/bias from Container: localhost. This could mean that the variable was uninitialized. Not found: Resource localhost/pos_out/bias/N10tensorflow3VarE does not exist.\r\n\t [[{{node pos_out/BiasAdd/ReadVariableOp}}]]\r\n0 successful operations.\r\n0 derived errors ignored.\r\n['Traceback (most recent call last):\\n', '  File \"/opt/ros/melodic/lib/python2.7/dist-packages/rospy/impl/tcpros_service.py\", line 629, in _handle_request\\n    response = convert_return_to_response(self.handler(request), self.response_class)\\n', '  File \"/home/seivazi/catkin_ws/src/mvp_grasp/mvp_grasping/ros_nodes/grasp_entropy_node.py\", line 128, in update_service_handler\\n    points, angle, width_img, _ = predict(depth_crop, process_depth=False, depth_nan_mask=depth_nan_mask)\\n', '  File \"/home/seivazi/catkin_ws/src/mvp_grasp/ggcnn/src/ggcnn/ggcnn.py\", line 87, in predict\\n    pred_out = model.predict(depth.reshape((1, 300, 300, 1)))\\n', '  File \"/home/seivazi/.local/lib/python2.7/site-packages/tensorflow/python/keras/engine/training.py\", line 1078, in predict\\n    callbacks=callbacks)\\n', '  File \"/home/seivazi/.local/lib/python2.7/site-packages/tensorflow/python/keras/engine/training_arrays.py\", line 363, in model_iteration\\n    batch_outs = f(ins_batch)\\n', '  File \"/home/seivazi/.local/lib/python2.7/site-packages/tensorflow/python/keras/backend.py\", line 3292, in __call__\\n    run_metadata=self.run_metadata)\\n', '  File \"/home/seivazi/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1458, in __call__\\n    run_metadata_ptr)\\n', 'FailedPreconditionError: 2 root error(s) found.\\n  (0) Failed precondition: Error while reading resource variable pos_out/bias from Container: localhost. This could mean that the variable was uninitialized. Not found: Resource localhost/pos_out/bias/N10tensorflow3VarE does not exist.\\n\\t [[{{node pos_out/BiasAdd/ReadVariableOp}}]]\\n\\t [[sin_out/BiasAdd/_39]]\\n  (1) Failed precondition: Error while reading resource variable pos_out/bias from Container: localhost. This could mean that the variable was uninitialized. Not found: Resource localhost/pos_out/bias/N10tensorflow3VarE does not exist.\\n\\t [[{{node pos_out/BiasAdd/ReadVariableOp}}]]\\n0 successful operations.\\n0 derived errors ignored.\\n']\r\n\r\nI printed the tf variables and for some reason node pos_out/BiasAdd/ReadVariableOp, sin_out/BiasAdd/_39 is missing. See below:\r\n\r\n<tf.Variable 'conv2d_1/kernel:0' shape=(9, 9, 1, 32) dtype=float32>\r\n<tf.Variable 'conv2d_1/bias:0' shape=(32,) dtype=float32>\r\n<tf.Variable 'conv2d_2/kernel:0' shape=(5, 5, 32, 16) dtype=float32>\r\n<tf.Variable 'conv2d_2/bias:0' shape=(16,) dtype=float32>\r\n<tf.Variable 'conv2d_3/kernel:0' shape=(3, 3, 16, 8) dtype=float32>\r\n<tf.Variable 'conv2d_3/bias:0' shape=(8,) dtype=float32>\r\n<tf.Variable 'conv2d_transpose_1/kernel:0' shape=(3, 3, 8, 8) dtype=float32>\r\n<tf.Variable 'conv2d_transpose_1/bias:0' shape=(8,) dtype=float32>\r\n<tf.Variable 'conv2d_transpose_2/kernel:0' shape=(5, 5, 16, 8) dtype=float32>\r\n<tf.Variable 'conv2d_transpose_2/bias:0' shape=(16,) dtype=float32>\r\n<tf.Variable 'conv2d_transpose_3/kernel:0' shape=(9, 9, 32, 16) dtype=float32>\r\n<tf.Variable 'conv2d_transpose_3/bias:0' shape=(32,) dtype=float32>\r\n<tf.Variable 'pos_out/kernel:0' shape=(2, 2, 32, 1) dtype=float32>\r\n<tf.Variable 'pos_out/bias:0' shape=(1,) dtype=float32>\r\n<tf.Variable 'cos_out/kernel:0' shape=(2, 2, 32, 1) dtype=float32>\r\n<tf.Variable 'cos_out/bias:0' shape=(1,) dtype=float32>\r\n<tf.Variable 'sin_out/kernel:0' shape=(2, 2, 32, 1) dtype=float32>\r\n<tf.Variable 'sin_out/bias:0' shape=(1,) dtype=float32>\r\n<tf.Variable 'width_out/kernel:0' shape=(2, 2, 32, 1) dtype=float32>\r\n<tf.Variable 'width_out/bias:0' shape=(1,) dtype=float32>\r\n<tf.Variable 'RMSprop/iter:0' shape=() dtype=int64>\r\n<tf.Variable 'RMSprop/decay:0' shape=() dtype=float32>\r\n<tf.Variable 'RMSprop/learning_rate:0' shape=() dtype=float32>\r\n<tf.Variable 'RMSprop/momentum:0' shape=() dtype=float32>\r\n<tf.Variable 'RMSprop/rho:0' shape=() dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_1/kernel/rms:0' shape=(9, 9, 1, 32) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_1/bias/rms:0' shape=(32,) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_2/kernel/rms:0' shape=(5, 5, 32, 16) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_2/bias/rms:0' shape=(16,) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_3/kernel/rms:0' shape=(3, 3, 16, 8) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_3/bias/rms:0' shape=(8,) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_transpose_1/kernel/rms:0' shape=(3, 3, 8, 8) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_transpose_1/bias/rms:0' shape=(8,) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_transpose_2/kernel/rms:0' shape=(5, 5, 16, 8) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_transpose_2/bias/rms:0' shape=(16,) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_transpose_3/kernel/rms:0' shape=(9, 9, 32, 16) dtype=float32>\r\n<tf.Variable 'RMSprop/conv2d_transpose_3/bias/rms:0' shape=(32,) dtype=float32>\r\n<tf.Variable 'RMSprop/pos_out/kernel/rms:0' shape=(2, 2, 32, 1) dtype=float32>\r\n<tf.Variable 'RMSprop/pos_out/bias/rms:0' shape=(1,) dtype=float32>\r\n<tf.Variable 'RMSprop/cos_out/kernel/rms:0' shape=(2, 2, 32, 1) dtype=float32>\r\n<tf.Variable 'RMSprop/cos_out/bias/rms:0' shape=(1,) dtype=float32>\r\n<tf.Variable 'RMSprop/sin_out/kernel/rms:0' shape=(2, 2, 32, 1) dtype=float32>\r\n<tf.Variable 'RMSprop/sin_out/bias/rms:0' shape=(1,) dtype=float32>\r\n<tf.Variable 'RMSprop/width_out/kernel/rms:0' shape=(2, 2, 32, 1) dtype=float32>\r\n<tf.Variable 'RMSprop/width_out/bias/rms:0' shape=(1,) dtype=float32>\r\n\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/dougsm/mvp_grasp/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dougsm/mvp_grasp/issues/14/timeline","performed_via_github_app":null,"state_reason":null}