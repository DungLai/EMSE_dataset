{"url":"https://api.github.com/repos/sktime/sktime/issues/1374","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/1374/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/1374/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/1374/events","html_url":"https://github.com/sktime/sktime/issues/1374","id":986887017,"node_id":"MDU6SXNzdWU5ODY4ODcwMTc=","number":1374,"title":"[ENH] Prophet wrapper can't add multiple custom seasonalities","user":{"login":"IlyasMoutawwakil","id":57442720,"node_id":"MDQ6VXNlcjU3NDQyNzIw","avatar_url":"https://avatars.githubusercontent.com/u/57442720?v=4","gravatar_id":"","url":"https://api.github.com/users/IlyasMoutawwakil","html_url":"https://github.com/IlyasMoutawwakil","followers_url":"https://api.github.com/users/IlyasMoutawwakil/followers","following_url":"https://api.github.com/users/IlyasMoutawwakil/following{/other_user}","gists_url":"https://api.github.com/users/IlyasMoutawwakil/gists{/gist_id}","starred_url":"https://api.github.com/users/IlyasMoutawwakil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IlyasMoutawwakil/subscriptions","organizations_url":"https://api.github.com/users/IlyasMoutawwakil/orgs","repos_url":"https://api.github.com/users/IlyasMoutawwakil/repos","events_url":"https://api.github.com/users/IlyasMoutawwakil/events{/privacy}","received_events_url":"https://api.github.com/users/IlyasMoutawwakil/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-09-02T15:35:29Z","updated_at":"2021-09-17T18:10:37Z","closed_at":"2021-09-17T18:10:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"> **Is your feature request related to a problem? Please describe.**\r\n\r\nThe problem is in the sktime wrapped version of prophet. In Native Prophet you can add multiple seasonalities but in the sktime version you can only add one (other than the default seasonalities). \r\nI tried going around this without changing source code by calling model._forecaster (the prophet model instance) but it doesn't work since the instanciation is created during the fit and after the fit you can't do that as well.\r\n\r\n> **Describe the solution you'd like**\r\n\r\nA solution would be (what I did) to change the add_seasonality parameter from being a dictionary to a list of dictionaries (or maybe allow both and check for parameter type). The list should contain each seasonality's parameters to be added to the model.\r\n\r\nI changed the lines from 47 to 50 in the file `sktime\\forecasting\\base\\adapters\\_fbprophet.py` :\r\n\r\n```\r\n# Add seasonality\r\nif self.add_seasonality:\r\n    for seasonality in self.add_seasonality:\r\n        self._forecaster.add_seasonality(**seasonality)\r\n```\r\n\r\n> **Additional context**\r\n\r\nI guess this is important because one of the things everyone loves about prophet is its agility and how you can use multiple seasonalities with different scale and Fourrier orders (the default seasonalities are fine but not good enough).\r\nI actually was using native prophet with seasonalities that I added. To use your ensemble forecaster, I have to use the sktime version so that's when I had a problem.","closed_by":{"login":"aiwalter","id":29627036,"node_id":"MDQ6VXNlcjI5NjI3MDM2","avatar_url":"https://avatars.githubusercontent.com/u/29627036?v=4","gravatar_id":"","url":"https://api.github.com/users/aiwalter","html_url":"https://github.com/aiwalter","followers_url":"https://api.github.com/users/aiwalter/followers","following_url":"https://api.github.com/users/aiwalter/following{/other_user}","gists_url":"https://api.github.com/users/aiwalter/gists{/gist_id}","starred_url":"https://api.github.com/users/aiwalter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aiwalter/subscriptions","organizations_url":"https://api.github.com/users/aiwalter/orgs","repos_url":"https://api.github.com/users/aiwalter/repos","events_url":"https://api.github.com/users/aiwalter/events{/privacy}","received_events_url":"https://api.github.com/users/aiwalter/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/1374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/1374/timeline","performed_via_github_app":null,"state_reason":"completed"}