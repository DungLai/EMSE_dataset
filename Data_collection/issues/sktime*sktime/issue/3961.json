{"url":"https://api.github.com/repos/sktime/sktime/issues/3961","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3961/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3961/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3961/events","html_url":"https://github.com/sktime/sktime/issues/3961","id":1504463167,"node_id":"I_kwDOCVKAsc5ZrEk_","number":3961,"title":"[BUG] EnsembleForecaster fails to fit with exogenous data on hierarchical data","user":{"login":"shagn","id":16029092,"node_id":"MDQ6VXNlcjE2MDI5MDky","avatar_url":"https://avatars.githubusercontent.com/u/16029092?v=4","gravatar_id":"","url":"https://api.github.com/users/shagn","html_url":"https://github.com/shagn","followers_url":"https://api.github.com/users/shagn/followers","following_url":"https://api.github.com/users/shagn/following{/other_user}","gists_url":"https://api.github.com/users/shagn/gists{/gist_id}","starred_url":"https://api.github.com/users/shagn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shagn/subscriptions","organizations_url":"https://api.github.com/users/shagn/orgs","repos_url":"https://api.github.com/users/shagn/repos","events_url":"https://api.github.com/users/shagn/events{/privacy}","received_events_url":"https://api.github.com/users/shagn/received_events","type":"User","site_admin":false},"labels":[{"id":1118163262,"node_id":"MDU6TGFiZWwxMTE4MTYzMjYy","url":"https://api.github.com/repos/sktime/sktime/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3105906374,"node_id":"MDU6TGFiZWwzMTA1OTA2Mzc0","url":"https://api.github.com/repos/sktime/sktime/labels/module:forecasting","name":"module:forecasting","color":"35FCCE","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-12-20T12:10:53Z","updated_at":"2022-12-20T19:51:05Z","closed_at":"2022-12-20T19:51:05Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nAfter upgrading sktime from version 0.12 to 0.14 the fitting of an EnsembleForecaster on a hierarchical dataset fails when receiving exogenous data. \r\nWithout exogeneous data the fitting works without problems. \r\nIt fails with exogeneous data if the models are using the exogeneous data or not. \r\n\r\n**To Reproduce**\r\n```python\r\nimport pandas as pd\r\n\r\nfrom sktime.utils._testing.hierarchical import _make_hierarchical\r\nfrom sktime.forecasting.compose import EnsembleForecaster\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.trend import PolynomialTrendForecaster\r\n\r\ndata = _make_hierarchical(\r\n    hierarchy_levels = (2, 4),\r\n    n_columns = 2,\r\n    min_timepoints = 38,\r\n    max_timepoints = 38, \r\n    index_type = \"period\",\r\n)\r\n\r\ntarget_col = \"c0\"\r\ny_train = data.loc[:, [target_col]]\r\nX_train =  data.drop(columns=[target_col])\r\n\r\nforecasters = [    \r\n    (\"trend\", PolynomialTrendForecaster()),\r\n    (\"naive\", NaiveForecaster(strategy=\"last\", sp=12)),\r\n]\r\nforecaster = EnsembleForecaster(forecasters=forecasters)\r\n\r\nforecaster.fit(y=y_train, X=X_train)\r\n```\r\n![image](https://user-images.githubusercontent.com/16029092/208664020-95342334-997a-4993-9bb9-cf639dce546f.png)\r\n\r\n**Expected behavior**\r\nThe EnsembleForecaster works also with exogenous data. \r\n\r\n**Additional context**\r\nNone\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 11:38:47)  [GCC 7.5.0]\r\nexecutable: /anaconda/envs/.../bin/python\r\n   machine: Linux-5.15.0-1022-azure-x86_64-with-glibc2.17\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 65.5.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.14.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.4.4\r\n   matplotlib: 3.6.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.4\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n","closed_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3961/timeline","performed_via_github_app":null,"state_reason":"completed"}