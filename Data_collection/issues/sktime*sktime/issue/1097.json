{"url":"https://api.github.com/repos/sktime/sktime/issues/1097","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/1097/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/1097/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/1097/events","html_url":"https://github.com/sktime/sktime/issues/1097","id":936221435,"node_id":"MDU6SXNzdWU5MzYyMjE0MzU=","number":1097,"title":"tests refactor: scitype abstraction and dispatch","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"labels":[{"id":1118163264,"node_id":"MDU6TGFiZWwxMTE4MTYzMjY0","url":"https://api.github.com/repos/sktime/sktime/labels/feature%20request","name":"feature request","color":"38d191","default":false,"description":"New feature or request"},{"id":3137622230,"node_id":"MDU6TGFiZWwzMTM3NjIyMjMw","url":"https://api.github.com/repos/sktime/sktime/labels/module:tests","name":"module:tests","color":"43421D","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-07-03T10:06:20Z","updated_at":"2021-10-16T22:57:06Z","closed_at":"2021-10-16T22:54:24Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"Reviewing the test suite, I am noticing that the addition of every base class requires addition of another \"if/else\" statement in a number of places, e.g., `estimator_check._make_args`.\r\n\r\nThere is dispatching on two things:\r\n\r\n* base classes or scientific types\r\n* class methods\r\n\r\nThis should be refactored to be more extensible, possibly by abstracting around scientific types.\r\n\r\nWhat I would do is implement dispatch mechanisms, based on scitype. Potentially using the registry to implement checks \"is this of scitype xyz\" where dispatch is on the shorthand string rather than an `isinstance` call.\r\n\r\nAs a poor man's dispatch mechanism, we can use the dict tuple lookup from, see, e.g., #1061.","closed_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/1097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/1097/timeline","performed_via_github_app":null,"state_reason":"completed"}