{"url":"https://api.github.com/repos/sktime/sktime/issues/2290","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/2290/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/2290/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/2290/events","html_url":"https://github.com/sktime/sktime/issues/2290","id":1178629954,"node_id":"I_kwDOCVKAsc5GQHdC","number":2290,"title":"[ENH] `WindowSummarizer` inputs for `lag_config`","user":{"login":"ngupta23","id":33585645,"node_id":"MDQ6VXNlcjMzNTg1NjQ1","avatar_url":"https://avatars.githubusercontent.com/u/33585645?v=4","gravatar_id":"","url":"https://api.github.com/users/ngupta23","html_url":"https://github.com/ngupta23","followers_url":"https://api.github.com/users/ngupta23/followers","following_url":"https://api.github.com/users/ngupta23/following{/other_user}","gists_url":"https://api.github.com/users/ngupta23/gists{/gist_id}","starred_url":"https://api.github.com/users/ngupta23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ngupta23/subscriptions","organizations_url":"https://api.github.com/users/ngupta23/orgs","repos_url":"https://api.github.com/users/ngupta23/repos","events_url":"https://api.github.com/users/ngupta23/events{/privacy}","received_events_url":"https://api.github.com/users/ngupta23/received_events","type":"User","site_admin":false},"labels":[{"id":3796180314,"node_id":"LA_kwDOCVKAsc7iRR1a","url":"https://api.github.com/repos/sktime/sktime/labels/enhancement","name":"enhancement","color":"fef2c0","default":true,"description":"Adding new functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2022-03-23T20:30:50Z","updated_at":"2022-04-02T23:15:21Z","closed_at":"2022-04-02T23:15:20Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Is your feature request related to a problem? Please describe.**\r\nI am sorry, I am not able to find where this was discussed earlier, but I finally got to test this out in 0.10.1. I have some observations and feedback. Please feel free to chime in.\r\n\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.transformations.series.window_summarizer import WindowSummarizer\r\nfrom sktime.datasets import load_airline\r\n\r\ny = load_airline()\r\nkwargs = {\r\n    \"lag_config\": {\r\n        \"lag\": [\"lag\", [[1, 0], [5, 0]]],\r\n        \"mean\": [\"mean\", [[3, 0], [3, -1], [12, 0]]],\r\n        \"std\": [\"std\", [[4, 0]]],\r\n    }\r\n}\r\ntransformer = WindowSummarizer(**kwargs)\r\ny_transformed = transformer.fit_transform(y)\r\npd.concat([y, y_transformed], axis=1)[:20]\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159787854-6855a567-adbb-45f2-9ea9-5aed51d7bb1a.png)\r\n\r\n## Describe the solution you'd like\r\n\r\n### Observation 1:\r\n\r\nIt seems that the window starting is not referenced to the current data point but rather the 1 period prior. So if I want to get the mean of last 3 values (including current value), I need to specify [3, -1]. This seems quite odd. I would have thought [3, 0] would have made more sense, i.e. window size of 3 starting at the current value (0).\r\n\r\nIf I wanted the window size of 3 starting at prior value, I would specify [3, 1] in that case which again is more intuitive to me.\r\n\r\nSo in this case, the interpretation would be `[window_length, starting_at (w.r.t **current** data point)]` vs. the way it is implemented which is `[window_length, starting_at (w.r.t **prior** data point)]`.\r\n\r\n### Observation 2:\r\n\r\nFor \"lag\" feature, the `window length` currently does not have any significance, i.e. `[1, 0]` gives the same results as `[5, 0]`. So instead of `[window_length, starting_at]`, maybe this should be interpreted as `[lag, starting_at]`. With this,\r\n\r\n`[1, 0]` would mean the 1st observation prior to current (lag 1 in the true sense of it)\r\n`[5, 0]` would mean the 5th observation prior to the current (lag 5 in the true sense of it)\r\n`[1, 2]` = `[3, 0]` would mean the 1st observation prior to the 2nd observation prior to the current observation (lag 3 in the true sense of it).\r\n\r\nI feel this nomenclature is more intuitive, but that is just my opinion. Feel free to chime in if this would be feasible and easier to understand.","closed_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/2290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/2290/timeline","performed_via_github_app":null,"state_reason":"completed"}