{"url":"https://api.github.com/repos/sktime/sktime/issues/1893","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/1893/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/1893/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/1893/events","html_url":"https://github.com/sktime/sktime/issues/1893","id":1108293942,"node_id":"I_kwDOCVKAsc5CDzk2","number":1893,"title":"[ENH] data type conventions - should time index be unique?","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"labels":[{"id":1180363817,"node_id":"MDU6TGFiZWwxMTgwMzYzODE3","url":"https://api.github.com/repos/sktime/sktime/labels/API%20design","name":"API design","color":"874db7","default":false,"description":"API design & software architecture"},{"id":3745673790,"node_id":"LA_kwDOCVKAsc7fQnI-","url":"https://api.github.com/repos/sktime/sktime/labels/module:datatypes","name":"module:datatypes","color":"bfdadc","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-01-19T16:15:14Z","updated_at":"2022-07-16T13:48:28Z","closed_at":"2022-07-16T13:48:28Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"Should all data type conventions adopt the strict requirement that time indices be unique?\r\n\r\nFor instance, should the `pd.DataFrame` format specification ensure that the `DataFrame.index` has no duplicates?\r\nCurrently, the checks allow it, but if there are duplicates, there are errors in various places, for instance in the conversions.\r\n\r\nThe \"safe\" fix seems to be to add checks to require the assumption for which our codebase is robust; the \"soft\" fix is to add tests which check correctness on fixtures where there are repeated indices for compliance.\r\n\r\nAn example \"bug\" (bug depending on this assumption) is in the `AA_datatypes` notebook as of current `main`. Since `load_arrow_head` has a (potential) bug that loads a data frame with repeated indices, the subsequent call to `convert_to` results in a data frame that is still nested and does not comply with the `df-multiindex` specification.","closed_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/1893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/1893/timeline","performed_via_github_app":null,"state_reason":"completed"}