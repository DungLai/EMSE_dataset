{"url":"https://api.github.com/repos/sktime/sktime/issues/2978","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/2978/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/2978/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/2978/events","html_url":"https://github.com/sktime/sktime/issues/2978","id":1300491055,"node_id":"I_kwDOCVKAsc5Ng-sv","number":2978,"title":"[ENH] Relax numpy dependency to allow numpy 1.22","user":{"login":"jlopezpena","id":3518950,"node_id":"MDQ6VXNlcjM1MTg5NTA=","avatar_url":"https://avatars.githubusercontent.com/u/3518950?v=4","gravatar_id":"","url":"https://api.github.com/users/jlopezpena","html_url":"https://github.com/jlopezpena","followers_url":"https://api.github.com/users/jlopezpena/followers","following_url":"https://api.github.com/users/jlopezpena/following{/other_user}","gists_url":"https://api.github.com/users/jlopezpena/gists{/gist_id}","starred_url":"https://api.github.com/users/jlopezpena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlopezpena/subscriptions","organizations_url":"https://api.github.com/users/jlopezpena/orgs","repos_url":"https://api.github.com/users/jlopezpena/repos","events_url":"https://api.github.com/users/jlopezpena/events{/privacy}","received_events_url":"https://api.github.com/users/jlopezpena/received_events","type":"User","site_admin":false},"labels":[{"id":3796180314,"node_id":"LA_kwDOCVKAsc7iRR1a","url":"https://api.github.com/repos/sktime/sktime/labels/enhancement","name":"enhancement","color":"fef2c0","default":true,"description":"Adding new functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-07-11T10:08:46Z","updated_at":"2022-07-12T05:17:36Z","closed_at":"2022-07-12T05:17:36Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"`numpy` 1.23 is already released, and pretty much all the `numpy` related tooling (specifically `numba`) already support `numpy` 1.22, so it should be possible to relax the `sktime` dependency to `numpy < 1.23`.\r\n\r\nGetting this change on would be useful because `numpy` 1.22 introduced a forward-incompatible ABI change, and `pip` sometimes does not do the right thing when it comes to building/linking C extensions. If a dependecy-of-a-dependency relies on `numpy` but hasn't specified it as a _build time_ dependency the building step links against the latest available `numpy`, which results in a run-time error when trying to load a 1.22-linked extension from 1.21 sue to different header sizes.\r\n\r\nThese errors typically look like this:\r\n```\r\nValueError: numpy.ndarray size changed, may indicate binary incompatibility. Expected 96 from C header, got 88 from PyObject\r\n```\r\n\r\nI tested locally and it \"just worked\". I can make a PR if deemed appropriate (it is literally just a 1-byte change!) but wanted to open this issue in order to have some discussion on whether it is appropriate to do so. \r\n","closed_by":{"login":"aiwalter","id":29627036,"node_id":"MDQ6VXNlcjI5NjI3MDM2","avatar_url":"https://avatars.githubusercontent.com/u/29627036?v=4","gravatar_id":"","url":"https://api.github.com/users/aiwalter","html_url":"https://github.com/aiwalter","followers_url":"https://api.github.com/users/aiwalter/followers","following_url":"https://api.github.com/users/aiwalter/following{/other_user}","gists_url":"https://api.github.com/users/aiwalter/gists{/gist_id}","starred_url":"https://api.github.com/users/aiwalter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aiwalter/subscriptions","organizations_url":"https://api.github.com/users/aiwalter/orgs","repos_url":"https://api.github.com/users/aiwalter/repos","events_url":"https://api.github.com/users/aiwalter/events{/privacy}","received_events_url":"https://api.github.com/users/aiwalter/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/2978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/2978/timeline","performed_via_github_app":null,"state_reason":"completed"}