{"url":"https://api.github.com/repos/sktime/sktime/issues/3880","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3880/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3880/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3880/events","html_url":"https://github.com/sktime/sktime/issues/3880","id":1474158394,"node_id":"I_kwDOCVKAsc5X3d86","number":3880,"title":"[BUG] DrCIF crashes when multithreaded","user":{"login":"TonyBagnall","id":9594042,"node_id":"MDQ6VXNlcjk1OTQwNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9594042?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyBagnall","html_url":"https://github.com/TonyBagnall","followers_url":"https://api.github.com/users/TonyBagnall/followers","following_url":"https://api.github.com/users/TonyBagnall/following{/other_user}","gists_url":"https://api.github.com/users/TonyBagnall/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyBagnall/subscriptions","organizations_url":"https://api.github.com/users/TonyBagnall/orgs","repos_url":"https://api.github.com/users/TonyBagnall/repos","events_url":"https://api.github.com/users/TonyBagnall/events{/privacy}","received_events_url":"https://api.github.com/users/TonyBagnall/received_events","type":"User","site_admin":false},"labels":[{"id":1118163262,"node_id":"MDU6TGFiZWwxMTE4MTYzMjYy","url":"https://api.github.com/repos/sktime/sktime/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3102418261,"node_id":"MDU6TGFiZWwzMTAyNDE4MjYx","url":"https://api.github.com/repos/sktime/sktime/labels/module:classification","name":"module:classification","color":"BEB114","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-12-03T17:09:29Z","updated_at":"2022-12-04T12:55:02Z","closed_at":"2022-12-04T12:55:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"running DrCIF on Tiselac data with 90 threads causes an error to be thrown. \r\n\r\n```\r\n        from sktime.benchmarking.experiments import load_and_run_classification_experiment\r\n        from sktime.classification.interval_based import DrCIF\r\n        data_dir = \"/WhereDataIs/\"\r\n        results_dir = \"WhereToWriteData/\"\r\n        cls_name = \"DrCIF\"\r\n        n_jobs = 90\r\n        contract_mins = 0\r\n        dataset = \"Tiselac\"\r\n        print(f\" Local Run of {cls_name} on dataset {dataset} with threading jobs \"\r\n              f\"={ n_jobs} and \"\r\n              f\"contract time ={contract_mins}\")\r\n        classifier = DrCIF(n_jobs=n_jobs)\r\n        resample = 0\r\n        train_fold = True\r\n        predefined_resample = False\r\n        print(f\"Local Run of {classifier.__class__.__name__} with {classifier.n_jobs} jobs\")\r\n\r\n        load_and_run_classification_experiment(\r\n            overwrite=False,\r\n            problem_path=data_dir,\r\n            results_path=results_dir,\r\n            cls_name=cls_name,\r\n            classifier=classifier,\r\n            dataset=dataset,\r\n            resample_id=resample,\r\n            build_train=train_fold,\r\n            predefined_resample=predefined_resample,\r\n        )\r\n```\r\n\r\nFrom previous experience with Parallel we suspect it is to do with the Parallel backend, which should be set to threads, hence PR #3879\r\n\r\n![image](https://user-images.githubusercontent.com/9594042/205452827-0040707c-61b9-4dbc-9b61-ef2e61944399.png)\r\n","closed_by":{"login":"TonyBagnall","id":9594042,"node_id":"MDQ6VXNlcjk1OTQwNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9594042?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyBagnall","html_url":"https://github.com/TonyBagnall","followers_url":"https://api.github.com/users/TonyBagnall/followers","following_url":"https://api.github.com/users/TonyBagnall/following{/other_user}","gists_url":"https://api.github.com/users/TonyBagnall/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyBagnall/subscriptions","organizations_url":"https://api.github.com/users/TonyBagnall/orgs","repos_url":"https://api.github.com/users/TonyBagnall/repos","events_url":"https://api.github.com/users/TonyBagnall/events{/privacy}","received_events_url":"https://api.github.com/users/TonyBagnall/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3880/timeline","performed_via_github_app":null,"state_reason":"completed"}