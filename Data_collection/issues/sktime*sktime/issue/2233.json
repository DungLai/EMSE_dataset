{"url":"https://api.github.com/repos/sktime/sktime/issues/2233","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/2233/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/2233/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/2233/events","html_url":"https://github.com/sktime/sktime/issues/2233","id":1170815068,"node_id":"I_kwDOCVKAsc5FyThc","number":2233,"title":"[ENH] Probabilistic metric grid search integration","user":{"login":"eenticott-shell","id":93924843,"node_id":"U_kgDOBZkt6w","avatar_url":"https://avatars.githubusercontent.com/u/93924843?v=4","gravatar_id":"","url":"https://api.github.com/users/eenticott-shell","html_url":"https://github.com/eenticott-shell","followers_url":"https://api.github.com/users/eenticott-shell/followers","following_url":"https://api.github.com/users/eenticott-shell/following{/other_user}","gists_url":"https://api.github.com/users/eenticott-shell/gists{/gist_id}","starred_url":"https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eenticott-shell/subscriptions","organizations_url":"https://api.github.com/users/eenticott-shell/orgs","repos_url":"https://api.github.com/users/eenticott-shell/repos","events_url":"https://api.github.com/users/eenticott-shell/events{/privacy}","received_events_url":"https://api.github.com/users/eenticott-shell/received_events","type":"User","site_admin":false},"labels":[{"id":3796180314,"node_id":"LA_kwDOCVKAsc7iRR1a","url":"https://api.github.com/repos/sktime/sktime/labels/enhancement","name":"enhancement","color":"fef2c0","default":true,"description":"Adding new functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-03-16T10:20:59Z","updated_at":"2022-05-25T13:58:24Z","closed_at":"2022-05-25T13:58:24Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"After developing probabilistic metrics in #2232 need to ensure they are compatible with useful features such as grid search for model parameters. There are two key problems that need to be solved for this:\r\n\r\n1. proba metrics take in the output of `predict_quantile` or `predict_interval` (or `predict_proba`) where normal metrics just take predict. This means we need to change what predictions are used inside the grid search.\r\n\r\n2. Some probabilistic metrics have their own hyperparameters. For example the quantile used in a pinball loss. Currently this is inferred from the data inputted, however for a grid search we will need to somehow tell it what quantile to produce. \r\n\r\nTo solve 1. could either create some `set_default` function which determines what the forecaster implements for predict (_predict, _predict_quantile or _predict_interval) or use tags inside the grid search evaluation that retrieves the type of metric being used and calls the corresponding predict function.\r\n\r\nTo solve 2. we could do a small refactor to the probabilistic metrics, where we specify the hyperprameter(s) we want and it retrieves the correct data from the input (and raises an error if it isn't there). This will allow it to require a specific quantile but reduces flexibility as a user will have to instantiate a new metric class for each different set of quantiles they want to evaluate.","closed_by":{"login":"eenticott-shell","id":93924843,"node_id":"U_kgDOBZkt6w","avatar_url":"https://avatars.githubusercontent.com/u/93924843?v=4","gravatar_id":"","url":"https://api.github.com/users/eenticott-shell","html_url":"https://github.com/eenticott-shell","followers_url":"https://api.github.com/users/eenticott-shell/followers","following_url":"https://api.github.com/users/eenticott-shell/following{/other_user}","gists_url":"https://api.github.com/users/eenticott-shell/gists{/gist_id}","starred_url":"https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eenticott-shell/subscriptions","organizations_url":"https://api.github.com/users/eenticott-shell/orgs","repos_url":"https://api.github.com/users/eenticott-shell/repos","events_url":"https://api.github.com/users/eenticott-shell/events{/privacy}","received_events_url":"https://api.github.com/users/eenticott-shell/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/2233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/2233/timeline","performed_via_github_app":null,"state_reason":"completed"}