{"url":"https://api.github.com/repos/sktime/sktime/issues/3159","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3159/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3159/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3159/events","html_url":"https://github.com/sktime/sktime/issues/3159","id":1325564540,"node_id":"I_kwDOCVKAsc5PAoJ8","number":3159,"title":"[BUG] ARIMA.fit with numpy arrays not working correctly","user":{"login":"benHeid","id":9725296,"node_id":"MDQ6VXNlcjk3MjUyOTY=","avatar_url":"https://avatars.githubusercontent.com/u/9725296?v=4","gravatar_id":"","url":"https://api.github.com/users/benHeid","html_url":"https://github.com/benHeid","followers_url":"https://api.github.com/users/benHeid/followers","following_url":"https://api.github.com/users/benHeid/following{/other_user}","gists_url":"https://api.github.com/users/benHeid/gists{/gist_id}","starred_url":"https://api.github.com/users/benHeid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benHeid/subscriptions","organizations_url":"https://api.github.com/users/benHeid/orgs","repos_url":"https://api.github.com/users/benHeid/repos","events_url":"https://api.github.com/users/benHeid/events{/privacy}","received_events_url":"https://api.github.com/users/benHeid/received_events","type":"User","site_admin":false},"labels":[{"id":1118163262,"node_id":"MDU6TGFiZWwxMTE4MTYzMjYy","url":"https://api.github.com/repos/sktime/sktime/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3105906374,"node_id":"MDU6TGFiZWwzMTA1OTA2Mzc0","url":"https://api.github.com/repos/sktime/sktime/labels/module:forecasting","name":"module:forecasting","color":"35FCCE","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-08-02T09:23:29Z","updated_at":"2022-08-05T08:29:51Z","closed_at":"2022-08-05T08:29:51Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nIf I execute ARIMA().fit with numpy arrays, it will fails with a strange error message. It says that the indexes of the input Time Series does not fit to the exogenous variables Time Series. And prints the input time series values as missing index values for the exogenous variables time series.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nrand = np.random.random(1000)\r\nrand_x = np.random.random(1000)\r\nar = ARIMA()\r\nassert rand.shape == rand_x.shape\r\nar.fit(rand, X=rand_x)\r\n```\r\n\r\n**Expected behavior**\r\nARIMA should be fitted without an error.\r\n\r\n**Additional context**\r\nI suppose the problem is line 269ff in series.py. The supposed index are the values of y. I would expect that the index is something like `np.arange(0, len(y)`. I can implement this fix, but I assume that this would have effects on lots of other transformers too.\r\n\r\n```python\r\n        if isinstance(y, np.ndarray):\r\n            y_index = pd.Index(y)\r\n        else:\r\n            y_index = y.index\r\n```\r\n\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n   machine: Windows-10-10.0.18362-SP0\r\nPython dependencies:\r\n          pip: 22.0.3\r\n   setuptools: 60.8.2\r\n      sklearn: 1.0.2\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.7.3\r\n       pandas: 1.4.1\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n","closed_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3159/timeline","performed_via_github_app":null,"state_reason":"completed"}