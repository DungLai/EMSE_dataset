{"url":"https://api.github.com/repos/sktime/sktime/issues/1020","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/1020/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/1020/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/1020/events","html_url":"https://github.com/sktime/sktime/issues/1020","id":927501807,"node_id":"MDU6SXNzdWU5Mjc1MDE4MDc=","number":1020,"title":"Questions and comments on forecasting base classes and refactoring","user":{"login":"Lovkush-A","id":25344832,"node_id":"MDQ6VXNlcjI1MzQ0ODMy","avatar_url":"https://avatars.githubusercontent.com/u/25344832?v=4","gravatar_id":"","url":"https://api.github.com/users/Lovkush-A","html_url":"https://github.com/Lovkush-A","followers_url":"https://api.github.com/users/Lovkush-A/followers","following_url":"https://api.github.com/users/Lovkush-A/following{/other_user}","gists_url":"https://api.github.com/users/Lovkush-A/gists{/gist_id}","starred_url":"https://api.github.com/users/Lovkush-A/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lovkush-A/subscriptions","organizations_url":"https://api.github.com/users/Lovkush-A/orgs","repos_url":"https://api.github.com/users/Lovkush-A/repos","events_url":"https://api.github.com/users/Lovkush-A/events{/privacy}","received_events_url":"https://api.github.com/users/Lovkush-A/received_events","type":"User","site_admin":false},"labels":[{"id":1180363817,"node_id":"MDU6TGFiZWwxMTgwMzYzODE3","url":"https://api.github.com/repos/sktime/sktime/labels/API%20design","name":"API design","color":"874db7","default":false,"description":"API design & software architecture"},{"id":3105906374,"node_id":"MDU6TGFiZWwzMTA1OTA2Mzc0","url":"https://api.github.com/repos/sktime/sktime/labels/module:forecasting","name":"module:forecasting","color":"35FCCE","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-06-22T18:05:18Z","updated_at":"2021-09-19T22:36:47Z","closed_at":"2021-09-19T22:36:47Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"I am trying to understand as much as possible before doing any actual refactoring.  Here are several comments/questions/suggestions. High chance I am mistaken or missing the point - if so, just say so!\r\n\r\n1.  _base.py. the docstrings that an end-user will see are the docstrings in the BaseForecaster. E.g. for `fit`, they will see docstring containing `The base forecaster specifies the methods and method signatures that all forecasters have to implement.`\r\n2. _base.py. `update_predict`\r\n    1. What *is* `update_predict`? My guess is that it would be shorthand for `update` and then `predict` (similar to `fit_transform`). But this does not seem to be what is going on. Maybe it needs to be renamed.\r\n    2. I think `cv` needs to be renamed. `cv` stands for cross validation, but I do not think there is any cross validation happening here.\r\n    3. You raise a `NotImplementedError` if `return_pred_int`. I do not think we should have `NotImplementedError` in functions that will not be overwritten in children classes. In my head there are two options: have NotImplementedError in appropriate place in the children or simply not have `return_pred_int` as a parameter\r\n    4. Currently, `update_predict` does input checks and then calls` _predict_moving_cutoff`. This is confusing; it does not look like any updating happens. Furthermore, it is different convention to other functions: `fit` calls `_fit`, `predict` calls `_predict`. Note that my confusion here is related to point 2.i about not knowing what update_predict is intended to do.\r\n3. `score`. minor points only:\r\n    1. change 'MAPE' to 'sMAPE' in first line of docstring\r\n    2. maybe rename 'score' to 'sMAPE_score' or 'sMAPE'??\r\n    3. where is this `score` method used?\r\n4. `_get_y_pred` and `_get_pred_int`.\r\n    1. using the name `get` makes it sound like the method is a getter method (as in setters and getters), but I don't think these are getter methods. I suggest renaming these\r\n    2. the functions are hard to read. need to add some whitespace at least\r\n    3. `_get_pred_int` is used in only place (according to my vscode search), namely _tbats. seems unusual that a helper function defined in base is used in only one place, but maybe there is intentions to use it more.\r\n5. `_set_fh`. The very first if condition and error message seems incorrect to me. We have `if not requires_fh` in if condition and the error message says 'fh must be passed'. Presumably the rest of the if loops need to be checked; I have not checked them.","closed_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/1020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/1020/timeline","performed_via_github_app":null,"state_reason":"completed"}