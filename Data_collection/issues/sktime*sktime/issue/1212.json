{"url":"https://api.github.com/repos/sktime/sktime/issues/1212","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/1212/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/1212/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/1212/events","html_url":"https://github.com/sktime/sktime/issues/1212","id":952950029,"node_id":"MDU6SXNzdWU5NTI5NTAwMjk=","number":1212,"title":"[DOC] sktime forecasting 01 example","user":{"login":"Data-drone","id":4410493,"node_id":"MDQ6VXNlcjQ0MTA0OTM=","avatar_url":"https://avatars.githubusercontent.com/u/4410493?v=4","gravatar_id":"","url":"https://api.github.com/users/Data-drone","html_url":"https://github.com/Data-drone","followers_url":"https://api.github.com/users/Data-drone/followers","following_url":"https://api.github.com/users/Data-drone/following{/other_user}","gists_url":"https://api.github.com/users/Data-drone/gists{/gist_id}","starred_url":"https://api.github.com/users/Data-drone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Data-drone/subscriptions","organizations_url":"https://api.github.com/users/Data-drone/orgs","repos_url":"https://api.github.com/users/Data-drone/repos","events_url":"https://api.github.com/users/Data-drone/events{/privacy}","received_events_url":"https://api.github.com/users/Data-drone/received_events","type":"User","site_admin":false},"labels":[{"id":1203928605,"node_id":"MDU6TGFiZWwxMjAzOTI4NjA1","url":"https://api.github.com/repos/sktime/sktime/labels/documentation","name":"documentation","color":"f4bdf9","default":true,"description":"Documentation & tutorials"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2021-07-26T14:12:19Z","updated_at":"2021-07-29T11:43:41Z","closed_at":"2021-07-29T11:43:41Z","author_association":"NONE","active_lock_reason":null,"body":"I am trying to follow the first example notebook but with my own dataset:\r\n\r\nhttps://github.com/alan-turing-institute/sktime/blob/main/examples/01_forecasting.ipynb\r\n\r\nI have two pandas series, train and test that have the schema:\r\n\r\nindex of type: `pandas.core.indexes.datetimes.DatetimeIndex`\r\nseries of type: `int64`\r\n\r\nThe series in train covers `2013-08-01` daily through to `2014-06-30`\r\nThe series in test covers `2014-07-01` daily through to `2016-06-30`\r\n\r\nIn order to generate predictions, I see that I need to create a _ForecastingHorizon_\r\n\r\nso I create one as follows:\r\n\r\n```\r\nfh = ForecastingHorizon(\r\n    pd.PeriodIndex(pd.date_range(test.index[0], \r\n                                 periods=len(ttest.index), \r\n                                 freq=\"D\")), is_relative=False\r\n)\r\n\r\n```\r\n\r\nas it seems like I can't just enter in the index of the testset.\r\n\r\nI setup a _NaiveForecaster_ as described:\r\n\r\n\r\n```\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\n\r\nbasic_forecaster =  NaiveForecaster(strategy=\"last\")\r\nforecaster = NaiveForecaster(strategy=\"last\")\r\nforecaster.fit(train)\r\n```\r\n\r\nbut when I enter in the forecasting horizon to produce my predictions:\r\n`forecaster.predict(fh)`\r\n\r\n\r\nI get:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nAssertionError                            Traceback (most recent call last)\r\n<ipython-input-80-c84472c9f3f0> in <module>\r\n----> 1 forecaster.predict(fh)\r\n\r\n~/.local/lib/python3.8/site-packages/sktime/forecasting/base/_base.py in predict(self, fh, X, return_pred_int, alpha)\r\n    156         # alpha = check_alpha(alpha)\r\n    157 \r\n--> 158         return self._predict(self.fh, X, return_pred_int=return_pred_int, alpha=alpha)\r\n    159 \r\n    160     def fit_predict(\r\n\r\n~/.local/lib/python3.8/site-packages/sktime/forecasting/base/_sktime.py in _predict(self, fh, X, return_pred_int, alpha)\r\n     77 \r\n     78         # all values are out-of-sample\r\n---> 79         if fh.is_all_out_of_sample(self.cutoff):\r\n     80             return self._predict_fixed_cutoff(\r\n     81                 fh.to_out_of_sample(self.cutoff), **kwargs\r\n\r\n~/.local/lib/python3.8/site-packages/sktime/forecasting/base/_fh.py in is_all_out_of_sample(self, cutoff)\r\n    403             cutoff.\r\n    404         \"\"\"\r\n--> 405         return sum(self._is_out_of_sample(cutoff)) == len(self)\r\n    406 \r\n    407     def to_indexer(self, cutoff=None, from_cutoff=True):\r\n\r\n~/.local/lib/python3.8/site-packages/sktime/forecasting/base/_fh.py in _is_out_of_sample(self, cutoff)\r\n    385         \"\"\"Get index location of out-of-sample values\"\"\"\r\n    386         # return ~self._in_sample_idx(cutoff)\r\n--> 387         return self.to_relative(cutoff).to_pandas() > 0\r\n    388 \r\n    389     def is_all_out_of_sample(self, cutoff=None):\r\n\r\n~/.local/lib/python3.8/site-packages/sktime/forecasting/base/_fh.py in to_relative(self, cutoff)\r\n    236         else:\r\n    237             absolute = self.to_pandas()\r\n--> 238             _check_cutoff(cutoff, absolute)\r\n    239 \r\n    240             if isinstance(absolute, pd.DatetimeIndex):\r\n\r\n~/.local/lib/python3.8/site-packages/sktime/forecasting/base/_fh.py in _check_cutoff(cutoff, index)\r\n    443 \r\n    444     if isinstance(index, pd.PeriodIndex):\r\n--> 445         assert isinstance(cutoff, pd.Period)\r\n    446         assert index.freqstr == cutoff.freqstr\r\n    447 \r\n\r\nAssertionError: \r\n```\r\nThe forecasting horizon object seems to be valid? And since I have set an exact range I have set `is_relative` to false","closed_by":{"login":"Data-drone","id":4410493,"node_id":"MDQ6VXNlcjQ0MTA0OTM=","avatar_url":"https://avatars.githubusercontent.com/u/4410493?v=4","gravatar_id":"","url":"https://api.github.com/users/Data-drone","html_url":"https://github.com/Data-drone","followers_url":"https://api.github.com/users/Data-drone/followers","following_url":"https://api.github.com/users/Data-drone/following{/other_user}","gists_url":"https://api.github.com/users/Data-drone/gists{/gist_id}","starred_url":"https://api.github.com/users/Data-drone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Data-drone/subscriptions","organizations_url":"https://api.github.com/users/Data-drone/orgs","repos_url":"https://api.github.com/users/Data-drone/repos","events_url":"https://api.github.com/users/Data-drone/events{/privacy}","received_events_url":"https://api.github.com/users/Data-drone/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/1212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/1212/timeline","performed_via_github_app":null,"state_reason":"completed"}