{"url":"https://api.github.com/repos/sktime/sktime/issues/3507","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3507/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3507/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3507/events","html_url":"https://github.com/sktime/sktime/issues/3507","id":1390643807,"node_id":"I_kwDOCVKAsc5S44pf","number":3507,"title":"[BUG] Handling of numpy2d in transformer Interface differs significantly from time series classification/clustering/regression user expectations","user":{"login":"haskarb","id":20501023,"node_id":"MDQ6VXNlcjIwNTAxMDIz","avatar_url":"https://avatars.githubusercontent.com/u/20501023?v=4","gravatar_id":"","url":"https://api.github.com/users/haskarb","html_url":"https://github.com/haskarb","followers_url":"https://api.github.com/users/haskarb/followers","following_url":"https://api.github.com/users/haskarb/following{/other_user}","gists_url":"https://api.github.com/users/haskarb/gists{/gist_id}","starred_url":"https://api.github.com/users/haskarb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haskarb/subscriptions","organizations_url":"https://api.github.com/users/haskarb/orgs","repos_url":"https://api.github.com/users/haskarb/repos","events_url":"https://api.github.com/users/haskarb/events{/privacy}","received_events_url":"https://api.github.com/users/haskarb/received_events","type":"User","site_admin":false},"labels":[{"id":1180363817,"node_id":"MDU6TGFiZWwxMTgwMzYzODE3","url":"https://api.github.com/repos/sktime/sktime/labels/API%20design","name":"API design","color":"874db7","default":false,"description":"API design & software architecture"},{"id":3105907331,"node_id":"MDU6TGFiZWwzMTA1OTA3MzMx","url":"https://api.github.com/repos/sktime/sktime/labels/module:transformations","name":"module:transformations","color":"0865AF","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":33,"created_at":"2022-09-29T10:35:13Z","updated_at":"2022-10-19T06:42:05Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"update (@fkiraly's summary of discussion, point 14-10-2022):\r\n\r\nsee discussion below. The reported behaviour is not a bug, but a frustrated user expectation.\r\n\r\nThis stems from how 2D numpy arrays are interpreted in `sktime` transformers and forecasters, an (m, n) array is interpreted as a single time series with m time points and n variables - let's call this convention A.\r\n\r\n@patrickzib and @TonyBagnall think this is an unnatural way to interpret 2D numpy arrays, and would rather like an (m, n) array to be interpreted as m univariate time series of equal length (number time stamps) n - let's call this convention B.\r\n\r\nThis opinion agrees with the way in which @haskarb's user expectation was frustrated.\r\n\r\nRelated issue: https://github.com/sktime/sktime/issues/2640\r\nrelation is: classifier interpret 2D numpy arrays as per convention B. Everywhere else, convention A is applied.\r\nIssue #2640 is about the convention clash between classifiers and everywhere else.\r\n\r\n---\r\n\r\n**Describe the bug**\r\nI'm performing MiniRocket tranformation on a small dataset. However there seems to be big difference in runtime.\r\nOriginal repo [here](https://github.com/angus924/minirocket).\r\n\r\n\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n![Screenshot 2022-09-29 at 12 29 22](https://user-images.githubusercontent.com/20501023/193008290-660fd8e5-b475-40cc-92a4-eb42654e8cbc.png)\r\n\r\nFrom Sktime\r\n![Screenshot 2022-09-29 at 12 29 54](https://user-images.githubusercontent.com/20501023/193008378-e6562735-5b34-4b31-abff-5971dfb23358.png)\r\n\r\n\r\n**To Reproduce**\r\n\r\n\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n%%time\r\n#original code from Angus's repo\r\ntrain = np.random.rand(100,2000).astype('float32')\r\n\r\nparameters = minirocket.fit(train)\r\nX_training_transform = minirocket.transform(train, parameters)\r\n```\r\n```python\r\n%%time\r\n#MiniRocket from sktime\r\nminirocket = MiniRocket()\r\nparameters = minirocket.fit(train)\r\n\r\nts_transform = minirocket.transform(train)\r\n\r\n```\r\n\r\n**Expected behavior**\r\nThere shouldn't be so much difference in runtime. As I scale up the number of time-series, and length, this difference will become huge.\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n","closed_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3507/timeline","performed_via_github_app":null,"state_reason":"reopened"}