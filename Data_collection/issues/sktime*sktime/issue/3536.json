{"url":"https://api.github.com/repos/sktime/sktime/issues/3536","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3536/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3536/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3536/events","html_url":"https://github.com/sktime/sktime/issues/3536","id":1400433308,"node_id":"I_kwDOCVKAsc5TeOqc","number":3536,"title":"[BUG] Conversion from_multi_index_to_3d_numpy(X=obj)","user":{"login":"seanbyrne226","id":50303858,"node_id":"MDQ6VXNlcjUwMzAzODU4","avatar_url":"https://avatars.githubusercontent.com/u/50303858?v=4","gravatar_id":"","url":"https://api.github.com/users/seanbyrne226","html_url":"https://github.com/seanbyrne226","followers_url":"https://api.github.com/users/seanbyrne226/followers","following_url":"https://api.github.com/users/seanbyrne226/following{/other_user}","gists_url":"https://api.github.com/users/seanbyrne226/gists{/gist_id}","starred_url":"https://api.github.com/users/seanbyrne226/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanbyrne226/subscriptions","organizations_url":"https://api.github.com/users/seanbyrne226/orgs","repos_url":"https://api.github.com/users/seanbyrne226/repos","events_url":"https://api.github.com/users/seanbyrne226/events{/privacy}","received_events_url":"https://api.github.com/users/seanbyrne226/received_events","type":"User","site_admin":false},"labels":[{"id":1118163262,"node_id":"MDU6TGFiZWwxMTE4MTYzMjYy","url":"https://api.github.com/repos/sktime/sktime/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3745673790,"node_id":"LA_kwDOCVKAsc7fQnI-","url":"https://api.github.com/repos/sktime/sktime/labels/module:datatypes","name":"module:datatypes","color":"bfdadc","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2022-10-06T23:54:18Z","updated_at":"2022-10-14T10:43:47Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\nI'd like to start out by saying this is probably an issue with my code, however, whenever I am running basic models from the examples I keep coming into a reshape error. \r\n\r\nfor instance I first run my data through check_raise(X_train,mtype=\"pd-multiindex\") and it returns true. \r\nFor this example I made a time series with 38 instances (subjects) with 1 time point each and 2 columns. Note the math is the same with real data.\r\n\r\n**To Reproduce**\r\n\r\nI run the code:\r\n` from sktime.classification.distance_based import KNeighborsTimeSeriesClassifier\r\nclassifier = KNeighborsTimeSeriesClassifier(distance=\"euclidean\" , n_jobs=-1)\r\npipe = make_pipeline(classifier)\r\npipe.fit(X_train, y_train)\r\ny_pred = pipe.predict(X_test)\r\naccuracy_score(y_test, y_pred) `\r\n\r\nand it  returns:\r\nValueError: cannot reshape array of size 76 into shape (38,38,2)\r\n\r\nI also took another example this time using:\r\n`clf = ColumnEnsembleClassifier(\r\n    estimators=[\r\n        (\"TSF0\", TimeSeriesForestClassifier(n_estimators=100), [0])\r\n    ]\r\n)\r\npipe = make_pipeline(clf)\r\npipe.fit(X_train, y_train)\r\ny_pred = pipe.predict(X_test)\r\naccuracy_score(y_test, y_pred)`\r\n\r\nand it  returns:\r\nValueError: cannot reshape array of size 38 into shape (38,38,1)\r\n\r\n\r\n\r\n\r\n**Expected behavior**\r\n\r\nI thought it would run as it passed the check.\r\n\r\n**Additional context**\r\n\r\nWhen I add in default padding `pad = PaddingTransformer(pad_length=None, fill_value=0)`\r\nboth models works which is strange as I am unsure what they are padding if all of my sequences are truncated to 1 timepoint each \r\n\r\n\r\n**Versions**\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n\r\nSystem:\r\n    python: 3.10.7 (v3.10.7:6cc6b13308, Sep  5 2022, 14:02:52) [Clang 13.0.0 (clang-1300.0.29.30)]\r\nexecutable: /Library/Frameworks/Python.framework/Versions/3.10/bin/python3.10\r\n   machine: macOS-12.0.1-arm64-arm-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.2.2\r\n   setuptools: 59.8.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.4\r\n   matplotlib: 3.6.0\r\n       joblib: 1.2.0\r\n        numba: 0.56.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3536/timeline","performed_via_github_app":null,"state_reason":null}