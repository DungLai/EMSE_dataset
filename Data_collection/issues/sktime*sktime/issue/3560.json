{"url":"https://api.github.com/repos/sktime/sktime/issues/3560","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3560/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3560/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3560/events","html_url":"https://github.com/sktime/sktime/issues/3560","id":1402589524,"node_id":"I_kwDOCVKAsc5TmdFU","number":3560,"title":"[BUG] AutoARIMA failing due to failed due to NP_LT_123","user":{"login":"BrandonKMLee","id":58927531,"node_id":"MDQ6VXNlcjU4OTI3NTMx","avatar_url":"https://avatars.githubusercontent.com/u/58927531?v=4","gravatar_id":"","url":"https://api.github.com/users/BrandonKMLee","html_url":"https://github.com/BrandonKMLee","followers_url":"https://api.github.com/users/BrandonKMLee/followers","following_url":"https://api.github.com/users/BrandonKMLee/following{/other_user}","gists_url":"https://api.github.com/users/BrandonKMLee/gists{/gist_id}","starred_url":"https://api.github.com/users/BrandonKMLee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrandonKMLee/subscriptions","organizations_url":"https://api.github.com/users/BrandonKMLee/orgs","repos_url":"https://api.github.com/users/BrandonKMLee/repos","events_url":"https://api.github.com/users/BrandonKMLee/events{/privacy}","received_events_url":"https://api.github.com/users/BrandonKMLee/received_events","type":"User","site_admin":false},"labels":[{"id":1118163262,"node_id":"MDU6TGFiZWwxMTE4MTYzMjYy","url":"https://api.github.com/repos/sktime/sktime/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3105906374,"node_id":"MDU6TGFiZWwzMTA1OTA2Mzc0","url":"https://api.github.com/repos/sktime/sktime/labels/module:forecasting","name":"module:forecasting","color":"35FCCE","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-10-10T04:44:06Z","updated_at":"2022-10-10T10:24:23Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\n`ImportError: cannot import name 'NP_LT_123' from 'statsmodels.compat.numpy' (/usr/local/lib/python3.7/dist-packages/statsmodels/compat/numpy.py)`\r\n\r\nLooks like failure stemming from https://github.com/statsmodels/statsmodels/blob/main/statsmodels/compat/numpy.py#L54\r\n\r\n**To Reproduce**\r\n1. Using Google Colab\r\n2. `!pip install yfinance sktime pmdarima statsmodels numpy -U`\r\n3.  importing using `from sktime.forecasting.arima import AutoARIMA`\r\n4. The bug starts at initializing `AutoARIMA()`\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions** Base Command (`pmdarima` not recognized?)\r\n\r\n<details>\r\nERROR:numba.cuda.cudadrv.driver:Call to cuInit results in CUDA_ERROR_NO_DEVICE\r\n\r\nSystem:\r\n    python: 3.7.14 (default, Sep  8 2022, 00:06:44)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.10.133+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.12.2\r\n        numpy: 1.21.6\r\n        scipy: 1.7.3\r\n       pandas: 1.3.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.2.0\r\n        numba: 0.56.2\r\n     pmdarima: None\r\n      tsfresh: unknown\r\n</details>\r\n\r\nImport Checks\r\n\r\n<details>\r\nRequirement already satisfied: yfinance in /usr/local/lib/python3.7/dist-packages (0.1.77)\r\nRequirement already satisfied: sktime in /usr/local/lib/python3.7/dist-packages (0.13.4)\r\nRequirement already satisfied: statsmodels in /usr/local/lib/python3.7/dist-packages (0.13.2)\r\nRequirement already satisfied: numpy in /usr/local/lib/python3.7/dist-packages (1.21.6)\r\nRequirement already satisfied: lxml>=4.5.1 in /usr/local/lib/python3.7/dist-packages (from yfinance) (4.9.1)\r\nRequirement already satisfied: requests>=2.26 in /usr/local/lib/python3.7/dist-packages (from yfinance) (2.28.1)\r\nRequirement already satisfied: appdirs>=1.4.4 in /usr/local/lib/python3.7/dist-packages (from yfinance) (1.4.4)\r\nRequirement already satisfied: pandas>=0.24.0 in /usr/local/lib/python3.7/dist-packages (from yfinance) (1.3.5)\r\nRequirement already satisfied: multitasking>=0.0.7 in /usr/local/lib/python3.7/dist-packages (from yfinance) (0.0.11)\r\nRequirement already satisfied: python-dateutil>=2.7.3 in /usr/local/lib/python3.7/dist-packages (from pandas>=0.24.0->yfinance) (2.8.2)\r\nRequirement already satisfied: pytz>=2017.3 in /usr/local/lib/python3.7/dist-packages (from pandas>=0.24.0->yfinance) (2022.4)\r\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.7/dist-packages (from python-dateutil>=2.7.3->pandas>=0.24.0->yfinance) (1.15.0)\r\nRequirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.7/dist-packages (from requests>=2.26->yfinance) (2022.9.24)\r\nRequirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.7/dist-packages (from requests>=2.26->yfinance) (2.10)\r\nRequirement already satisfied: charset-normalizer<3,>=2 in /usr/local/lib/python3.7/dist-packages (from requests>=2.26->yfinance) (2.1.1)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.7/dist-packages (from requests>=2.26->yfinance) (1.24.3)\r\nRequirement already satisfied: deprecated>=1.2.13 in /usr/local/lib/python3.7/dist-packages (from sktime) (1.2.13)\r\nRequirement already satisfied: scikit-learn<1.2.0,>=0.24.0 in /usr/local/lib/python3.7/dist-packages (from sktime) (1.0.2)\r\nRequirement already satisfied: numba>=0.53 in /usr/local/lib/python3.7/dist-packages (from sktime) (0.56.2)\r\nRequirement already satisfied: scipy<1.9.0 in /usr/local/lib/python3.7/dist-packages (from sktime) (1.7.3)\r\nRequirement already satisfied: patsy>=0.5.2 in /usr/local/lib/python3.7/dist-packages (from statsmodels) (0.5.2)\r\nRequirement already satisfied: packaging>=21.3 in /usr/local/lib/python3.7/dist-packages (from statsmodels) (21.3)\r\nRequirement already satisfied: wrapt<2,>=1.10 in /usr/local/lib/python3.7/dist-packages (from deprecated>=1.2.13->sktime) (1.14.1)\r\nRequirement already satisfied: setuptools<60 in /usr/local/lib/python3.7/dist-packages (from numba>=0.53->sktime) (57.4.0)\r\nRequirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from numba>=0.53->sktime) (5.0.0)\r\nRequirement already satisfied: llvmlite<0.40,>=0.39.0dev0 in /usr/local/lib/python3.7/dist-packages (from numba>=0.53->sktime) (0.39.1)\r\nRequirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in /usr/local/lib/python3.7/dist-packages (from packaging>=21.3->statsmodels) (3.0.9)\r\nRequirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.7/dist-packages (from scikit-learn<1.2.0,>=0.24.0->sktime) (3.1.0)\r\nRequirement already satisfied: joblib>=0.11 in /usr/local/lib/python3.7/dist-packages (from scikit-learn<1.2.0,>=0.24.0->sktime) (1.2.0)\r\nRequirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->numba>=0.53->sktime) (3.8.1)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->numba>=0.53->sktime) (4.1.1)\r\n</details>\r\n\r\n**Full Error**\r\n<details>\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n[<ipython-input-17-f5e780cb9cca>](https://localhost:8080/#) in <module>\r\n     13 \r\n     14 forecaster_ets = AutoETS()\r\n---> 15 forecaster_arima = AutoARIMA()\r\n     16 \r\n     17 y_train, y_test = temporal_train_test_split(hist)\r\n\r\n17 frames\r\n[/usr/local/lib/python3.7/dist-packages/sktime/forecasting/arima.py](https://localhost:8080/#) in __init__(self, start_p, d, start_q, max_p, max_d, max_q, start_P, D, start_Q, max_P, max_D, max_Q, max_order, sp, seasonal, stationary, information_criterion, alpha, test, seasonal_test, stepwise, n_jobs, start_params, trend, method, maxiter, offset_test_args, seasonal_test_args, suppress_warnings, error_action, trace, random, random_state, n_fits, out_of_sample_size, scoring, scoring_args, with_intercept, update_pdq, time_varying_regression, enforce_stationarity, enforce_invertibility, simple_differencing, measurement_error, mle_regression, hamilton_representation, concentrate_scale)\r\n    375             setattr(self, key, eval(key))\r\n    376 \r\n--> 377         super(AutoARIMA, self).__init__()\r\n    378 \r\n    379         self._sp = sp if sp else 1\r\n\r\n[/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/adapters/_pmdarima.py](https://localhost:8080/#) in __init__(self)\r\n     26     def __init__(self):\r\n     27         self._forecaster = None\r\n---> 28         super(_PmdArimaAdapter, self).__init__()\r\n     29 \r\n     30     def _instantiate_model(self):\r\n\r\n[/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/_base.py](https://localhost:8080/#) in __init__(self)\r\n    116 \r\n    117         super(BaseForecaster, self).__init__()\r\n--> 118         _check_estimator_deps(self)\r\n    119 \r\n    120     def __mul__(self, other):\r\n\r\n[/usr/local/lib/python3.7/dist-packages/sktime/utils/validation/_dependencies.py](https://localhost:8080/#) in _check_estimator_deps(obj, msg, severity)\r\n    290         pkg_deps = [pkg_deps]\r\n    291     if pkg_deps is not None:\r\n--> 292         pkg_deps_ok = _check_soft_dependencies(*pkg_deps, severity=severity, obj=obj)\r\n    293         compatible = compatible and pkg_deps_ok\r\n    294 \r\n\r\n[/usr/local/lib/python3.7/dist-packages/sktime/utils/validation/_dependencies.py](https://localhost:8080/#) in _check_soft_dependencies(package_import_alias, severity, obj, suppress_import_stdout, *packages)\r\n     82                 sys.stdout = sys.__stdout__\r\n     83             else:\r\n---> 84                 import_module(package_import_name)\r\n     85             return True\r\n     86         # if package cannot be imported, make the user aware of installation requirement\r\n\r\n[/usr/lib/python3.7/importlib/__init__.py](https://localhost:8080/#) in import_module(name, package)\r\n    125                 break\r\n    126             level += 1\r\n--> 127     return _bootstrap._gcd_import(name[level:], package, level)\r\n    128 \r\n    129 \r\n\r\n/usr/lib/python3.7/importlib/_bootstrap.py in _gcd_import(name, package, level)\r\n\r\n/usr/lib/python3.7/importlib/_bootstrap.py in _find_and_load(name, import_)\r\n\r\n/usr/lib/python3.7/importlib/_bootstrap.py in _find_and_load_unlocked(name, import_)\r\n\r\n/usr/lib/python3.7/importlib/_bootstrap.py in _load_unlocked(spec)\r\n\r\n/usr/lib/python3.7/importlib/_bootstrap_external.py in exec_module(self, module)\r\n\r\n/usr/lib/python3.7/importlib/_bootstrap.py in _call_with_frames_removed(f, *args, **kwds)\r\n\r\n[/usr/local/lib/python3.7/dist-packages/pmdarima/__init__.py](https://localhost:8080/#) in <module>\r\n     50 \r\n     51     # Stuff we want at top-level\r\n---> 52     from .arima import auto_arima, ARIMA, AutoARIMA, StepwiseContext, decompose\r\n     53     from .utils import acf, autocorr_plot, c, pacf, plot_acf, plot_pacf, \\\r\n     54         tsdisplay\r\n\r\n[/usr/local/lib/python3.7/dist-packages/pmdarima/arima/__init__.py](https://localhost:8080/#) in <module>\r\n      4 \r\n      5 from .approx import *\r\n----> 6 from .arima import *\r\n      7 from .auto import *\r\n      8 from .utils import *\r\n\r\n[/usr/local/lib/python3.7/dist-packages/pmdarima/arima/arima.py](https://localhost:8080/#) in <module>\r\n     14 from scipy.stats import gaussian_kde, norm\r\n     15 from sklearn.utils.validation import check_array\r\n---> 16 from statsmodels import api as sm\r\n     17 \r\n     18 from . import _validation as val\r\n\r\n[/usr/local/lib/python3.7/dist-packages/statsmodels/api.py](https://localhost:8080/#) in <module>\r\n    103     families,\r\n    104 )\r\n--> 105 from .graphics import api as graphics\r\n    106 from .graphics.gofplots import ProbPlot, qqline, qqplot, qqplot_2samples\r\n    107 from .imputation.bayes_mi import MI, BayesGaussMI\r\n\r\n[/usr/local/lib/python3.7/dist-packages/statsmodels/graphics/api.py](https://localhost:8080/#) in <module>\r\n      4 from .correlation import plot_corr, plot_corr_grid\r\n      5 from .factorplots import interaction_plot\r\n----> 6 from .functional import fboxplot, hdrboxplot, rainbowplot\r\n      7 from .gofplots import qqplot\r\n      8 from .plottools import rainbow\r\n\r\n[/usr/local/lib/python3.7/dist-packages/statsmodels/graphics/functional.py](https://localhost:8080/#) in <module>\r\n      1 \"\"\"Module for functional boxplots.\"\"\"\r\n----> 2 from statsmodels.compat.numpy import NP_LT_123\r\n      3 \r\n      4 import numpy as np\r\n      5 from scipy.special import comb\r\n</details>","closed_by":null,"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3560/timeline","performed_via_github_app":null,"state_reason":null}