{"url":"https://api.github.com/repos/sktime/sktime/issues/521","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/521/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/521/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/521/events","html_url":"https://github.com/sktime/sktime/issues/521","id":755225717,"node_id":"MDU6SXNzdWU3NTUyMjU3MTc=","number":521,"title":"[DOC] ForecastingGridSearchCV clarity needed ","user":{"login":"ngupta23","id":33585645,"node_id":"MDQ6VXNlcjMzNTg1NjQ1","avatar_url":"https://avatars.githubusercontent.com/u/33585645?v=4","gravatar_id":"","url":"https://api.github.com/users/ngupta23","html_url":"https://github.com/ngupta23","followers_url":"https://api.github.com/users/ngupta23/followers","following_url":"https://api.github.com/users/ngupta23/following{/other_user}","gists_url":"https://api.github.com/users/ngupta23/gists{/gist_id}","starred_url":"https://api.github.com/users/ngupta23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ngupta23/subscriptions","organizations_url":"https://api.github.com/users/ngupta23/orgs","repos_url":"https://api.github.com/users/ngupta23/repos","events_url":"https://api.github.com/users/ngupta23/events{/privacy}","received_events_url":"https://api.github.com/users/ngupta23/received_events","type":"User","site_admin":false},"labels":[{"id":1203928605,"node_id":"MDU6TGFiZWwxMjAzOTI4NjA1","url":"https://api.github.com/repos/sktime/sktime/labels/documentation","name":"documentation","color":"f4bdf9","default":true,"description":"Documentation & tutorials"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-12-02T12:20:17Z","updated_at":"2021-03-23T09:37:43Z","closed_at":"2021-03-23T09:37:43Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"#### Describe the issue linked to the documentation\r\n\r\nWhen using ForecastingGridSearchCV with SlidingWindowSplitter and Initial Window, need some clarity on what happens during initial split training and what happens in the temporal cross validation step.\r\n\r\nThe documentation states:\r\n\r\n> Performs grid-search cross-validation to find optimal model parameters. The forecaster is fit on the initial window and then temporal cross-validation is used to find the optimal parameter\r\n\r\nFor the example below, what is the sequence of event?\r\n\r\n```python\r\nfrom sklearn.model_selection import GridSearchCV\r\nfrom sklearn.ensemble import RandomForestRegressor\r\n\r\n# tuning the 'n_estimator' hyperparameter of RandomForestRegressor from scikit-learn\r\nregressor_param_grid = {\"n_estimators\": [100, 200, 300]}\r\nforecaster_param_grid = {\"window_length\": [5,10,15,20,25]}\r\n\r\n# create a tunnable regressor with GridSearchCV\r\nregressor = GridSearchCV(RandomForestRegressor(), param_grid=regressor_param_grid)\r\nforecaster = ReducedRegressionForecaster(regressor, window_length=15, strategy=\"recursive\")\r\n\r\ncv = SlidingWindowSplitter(initial_window=int(len(y_train) * 0.5))\r\ngscv = ForecastingGridSearchCV(forecaster, cv=cv, param_grid=forecaster_param_grid)\r\n\r\ngscv.fit(y_train)\r\ny_pred = gscv.predict(fh)\r\n```\r\n\r\n### Initial Window\r\n\r\n> forecaster is fit on the initial window\r\n\r\nWhat is its purpose? Is it to get the remaining parameters of the regressor (which are not specified in the `regressor_param_grid` such as `max_depth`, `min_samples_split`, etc)?\r\n\r\n### Temporal Cross Validation\r\n\r\n> then temporal cross-validation is used to find the optimal parameter\r\n\r\n* Is temporal cross validation performed with the non-specified hyperparameters (`max_depth`, `min_samples_split`, etc) that are found above in the initial window?\r\n* Do these non-specified hyperparameters (`max_depth`, `min_samples_split`, etc) remain fixed to the value found in the initial window at each of the fold evaluations or is the model retrained at each fold to compute these non-specified hyperparameters again? If it is the latter, what is the purpose of the initial window in that case?\r\n\r\nThank you for any additional clarity you can shed on this.\r\n","closed_by":{"login":"mloning","id":21020482,"node_id":"MDQ6VXNlcjIxMDIwNDgy","avatar_url":"https://avatars.githubusercontent.com/u/21020482?v=4","gravatar_id":"","url":"https://api.github.com/users/mloning","html_url":"https://github.com/mloning","followers_url":"https://api.github.com/users/mloning/followers","following_url":"https://api.github.com/users/mloning/following{/other_user}","gists_url":"https://api.github.com/users/mloning/gists{/gist_id}","starred_url":"https://api.github.com/users/mloning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mloning/subscriptions","organizations_url":"https://api.github.com/users/mloning/orgs","repos_url":"https://api.github.com/users/mloning/repos","events_url":"https://api.github.com/users/mloning/events{/privacy}","received_events_url":"https://api.github.com/users/mloning/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/521/timeline","performed_via_github_app":null,"state_reason":"completed"}