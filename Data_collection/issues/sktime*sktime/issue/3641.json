{"url":"https://api.github.com/repos/sktime/sktime/issues/3641","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3641/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3641/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3641/events","html_url":"https://github.com/sktime/sktime/issues/3641","id":1420645003,"node_id":"I_kwDOCVKAsc5UrVKL","number":3641,"title":"[BUG] forecaster tag `enforce_index_type` does not have any effect","user":{"login":"ltsaprounis","id":64217214,"node_id":"MDQ6VXNlcjY0MjE3MjE0","avatar_url":"https://avatars.githubusercontent.com/u/64217214?v=4","gravatar_id":"","url":"https://api.github.com/users/ltsaprounis","html_url":"https://github.com/ltsaprounis","followers_url":"https://api.github.com/users/ltsaprounis/followers","following_url":"https://api.github.com/users/ltsaprounis/following{/other_user}","gists_url":"https://api.github.com/users/ltsaprounis/gists{/gist_id}","starred_url":"https://api.github.com/users/ltsaprounis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltsaprounis/subscriptions","organizations_url":"https://api.github.com/users/ltsaprounis/orgs","repos_url":"https://api.github.com/users/ltsaprounis/repos","events_url":"https://api.github.com/users/ltsaprounis/events{/privacy}","received_events_url":"https://api.github.com/users/ltsaprounis/received_events","type":"User","site_admin":false},"labels":[{"id":1118163262,"node_id":"MDU6TGFiZWwxMTE4MTYzMjYy","url":"https://api.github.com/repos/sktime/sktime/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3105906374,"node_id":"MDU6TGFiZWwzMTA1OTA2Mzc0","url":"https://api.github.com/repos/sktime/sktime/labels/module:forecasting","name":"module:forecasting","color":"35FCCE","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-10-24T11:01:04Z","updated_at":"2022-11-14T00:17:09Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"body":"**Describe the bug**\r\nThe enforce_index_type tag is currently not working as intended.\r\nThe issue was discovered in #3605. The FourierFeatures transformer should only allow a pandas PeriodIndex.\r\nHowever if a DateTimeIndex is passed the transformer will not raise an exception (expected behaviour based on extension contract), nor it will convert the index to period index in before it reaches _fit (expected behaviour based on my understanding of the tag's name).\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\nsame code as in #3605\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.transformations.series.fourier import FourierFeatures\r\nfrom sktime.utils.plotting import plot_series\r\n\r\ndf = load_airline()\r\ndf.index = df.index.to_timestamp(freq=\"M\")\r\nfrom sktime.transformations.series.fourier import FourierFeatures\r\nF_transform = FourierFeatures(sp_list = [12], fourier_terms_list=[2]) # should be yearly\r\nsp1 = F_transform.fit_transform(df)\r\n\r\n# Convert seasonality to nanoseconds to get correct result\r\nF_transform = FourierFeatures(sp_list = [12*30*24*3600000000000], fourier_terms_list=[2])\r\nsp2 = F_transform.fit_transform(df)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nAn exception should be raised if the tag is not included in the list in the tag.\r\n\r\nI would suggest we also add another tag to convert the index to the specified index, obviously, converting back to the original index type for any public \"facing\" results. This will **really** simplify development in a few cases e.g. LagTransformer.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3641/timeline","performed_via_github_app":null,"state_reason":null}