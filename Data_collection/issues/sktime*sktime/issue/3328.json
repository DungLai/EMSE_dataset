{"url":"https://api.github.com/repos/sktime/sktime/issues/3328","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3328/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3328/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3328/events","html_url":"https://github.com/sktime/sktime/issues/3328","id":1348282072,"node_id":"I_kwDOCVKAsc5QXSbY","number":3328,"title":"[ENH] ensure codecov is correct given partition/matrix design testing","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"labels":[{"id":1118163266,"node_id":"MDU6TGFiZWwxMTE4MTYzMjY2","url":"https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue","name":"good first issue","color":"9eff91","default":true,"description":"Good for newcomers"},{"id":1631667223,"node_id":"MDU6TGFiZWwxNjMxNjY3MjIz","url":"https://api.github.com/repos/sktime/sktime/labels/maintenance","name":"maintenance","color":"ea761e","default":false,"description":"Continuous integration, unit testing & package distribution"},{"id":3796180314,"node_id":"LA_kwDOCVKAsc7iRR1a","url":"https://api.github.com/repos/sktime/sktime/labels/enhancement","name":"enhancement","color":"fef2c0","default":true,"description":"Adding new functionality"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-08-23T17:18:56Z","updated_at":"2022-08-23T17:19:28Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"body":"Since we've introduced partition/matrix design in testing (https://github.com/alan-turing-institute/sktime/pull/3137 - estimators are distributed across os/version so that each os and each version sees each estimator at least once), the good news is that test time is down to 30-50min per CI item, from 1-2 horus.\r\n\r\nThe bad news is that codecov seems to be affected by this, generally reporting a lower percentage than actual, since not all lines are touched in a given CI item, and they seem to overwrite each other's codecov report.\r\n\r\nThere is also a minor effect that some code is run only conditionally, e.g., estimators with a python version bound are run only on compatible python versions.\r\n\r\nWhat one would instead expect to happen is that the final codecov report takes the *union* of lines touched *across all CI items* (at least once), rather than the more or less randomly/arbitrarily picked report of the CI item that runs longest.\r\n\r\nHow to do this, I'm not sure, but perhaps someone with good codecov experience sees an easy way to do this. Possibly only a few lines of code change in the CI, for someone who has the right background...","closed_by":null,"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3328/timeline","performed_via_github_app":null,"state_reason":null}