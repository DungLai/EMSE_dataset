{"url":"https://api.github.com/repos/sktime/sktime/issues/3526","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/3526/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/3526/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/3526/events","html_url":"https://github.com/sktime/sktime/issues/3526","id":1395153256,"node_id":"I_kwDOCVKAsc5TKFlo","number":3526,"title":"[ENH] `tsfresh` transformers - improved signature, custom features, docstring","user":{"login":"juliencarponcy","id":41296546,"node_id":"MDQ6VXNlcjQxMjk2NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/41296546?v=4","gravatar_id":"","url":"https://api.github.com/users/juliencarponcy","html_url":"https://github.com/juliencarponcy","followers_url":"https://api.github.com/users/juliencarponcy/followers","following_url":"https://api.github.com/users/juliencarponcy/following{/other_user}","gists_url":"https://api.github.com/users/juliencarponcy/gists{/gist_id}","starred_url":"https://api.github.com/users/juliencarponcy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juliencarponcy/subscriptions","organizations_url":"https://api.github.com/users/juliencarponcy/orgs","repos_url":"https://api.github.com/users/juliencarponcy/repos","events_url":"https://api.github.com/users/juliencarponcy/events{/privacy}","received_events_url":"https://api.github.com/users/juliencarponcy/received_events","type":"User","site_admin":false},"labels":[{"id":1118163264,"node_id":"MDU6TGFiZWwxMTE4MTYzMjY0","url":"https://api.github.com/repos/sktime/sktime/labels/feature%20request","name":"feature request","color":"38d191","default":false,"description":"New feature or request"},{"id":1118163266,"node_id":"MDU6TGFiZWwxMTE4MTYzMjY2","url":"https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue","name":"good first issue","color":"9eff91","default":true,"description":"Good for newcomers"},{"id":3105907331,"node_id":"MDU6TGFiZWwzMTA1OTA3MzMx","url":"https://api.github.com/repos/sktime/sktime/labels/module:transformations","name":"module:transformations","color":"0865AF","default":false,"description":""},{"id":3796180314,"node_id":"LA_kwDOCVKAsc7iRR1a","url":"https://api.github.com/repos/sktime/sktime/labels/enhancement","name":"enhancement","color":"fef2c0","default":true,"description":"Adding new functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-10-03T18:32:57Z","updated_at":"2022-11-04T09:59:35Z","closed_at":"2022-11-04T09:59:35Z","author_association":"NONE","active_lock_reason":null,"body":"update by @fkiraly:\r\n\r\n`TSFreshFeatureExtractor` is not in a good state, we need:\r\n\r\n* a clean and clear docstring, which also describes parameters, and explains pre-defined and user specified parameter sets.\r\n* a parameter that allows the user to specify the features they would like to extract (this may already exist)\r\n* possibly some changes in what the parameters are to make it more user friendly (may need deprecation)\r\n* `get_test_params` with at least two test cases, one with prespecified parameter set and one with a custom specified parameter set.\r\n\r\n---\r\n\r\n**Is your feature request related to a problem? Please describe.**\r\n\r\nHi, I'm not sure if my issue is related to something not implemented or if I just don't know how to perfom it.\r\nBasically, I would like to use the extract_features() method of tsfresh just to extract a subset of features defined in a dictionary, which would be different than the 'minimal','efficient' or 'comprehensive' option. \r\nIf possible still using default parameters for this subset of features: \r\n\r\n```\r\nfrom sktime.transformations.panel.tsfresh import TSFreshFeatureExtractor\r\n\r\nfeatures_to_calc = [\r\n    'absolute_sum_of_changes',\r\n    'absolute_maximum',\r\n    'agg_linear_trend',\r\n    'large_standard_deviation',\r\n    'longest_strike_above_mean',\r\n    'longest_strike_below_mean',\r\n    'mean_abs_change',\r\n    'mean_change',\r\n    'quantile',\r\n    'variance_larger_than_standard_deviation',\r\n    'variance',\r\n]\r\n\r\nfeatures_dict = dict.fromkeys(features_to_calc, None)\r\n```\r\n\r\nIf I try the following, it extracts every features of the default or other settings (which is obviously very long except for minimal setting), without considering my dictionary (name of features as keys, None as values)\r\n\r\n```\r\nfrom sktime.transformations.panel.tsfresh import TSFreshFeatureExtractor\r\ntsfresh = TSFreshFeatureExtractor(kind_to_fc_parameters=features_dict)\r\n\r\nX_transform = tsfresh.fit_transform(panel_data)\r\n```\r\n\r\nAm I missing something or is it just not implemented yet for consistency with other transformers?\r\n\r\n**Describe the solution you'd like**\r\n\r\nWould it be possible to extend tsfresh extract_features() method to panel dataset in sktime, for instance using the following:\r\n\r\n```\r\nfrom sktime.transformations.panel.tsfresh import TSFreshFeatureExtractor\r\ntsfresh = TSFreshFeatureExtractor(kind_to_fc_parameters=features_dict)\r\n\r\nX_transform = tsfresh.extract_features(panel_data)\r\n```\r\n\r\n**Describe alternatives you've considered**\r\nI referred to  https://github.com/blue-yonder/tsfresh/blob/main/notebooks/examples/03%20Feature%20Extraction%20Settings.ipynb\r\nbut only the not so convenient tsfresh dataformat are supported, so maybe instead I should transform my data to fit in one of the tsfresh format? If this case is the easiest, I could use a few lines to help since it is not clear how could i get there with the page https://www.sktime.org/en/stable/examples/AA_datatypes_and_datasets.html\r\n\r\n**Additional context**\r\nRelative to that alternative solution, completing the datasets types notebook referred previously with a canva, to convert from one or a few tsfresh format to one or a few sktime format would be ideal (only for a few ultivariate options which are more convenient from one package to the other...)\r\n\r\nThanks very much in advance for your help, and for your work,\r\n\r\nJulien","closed_by":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/3526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/3526/timeline","performed_via_github_app":null,"state_reason":"completed"}