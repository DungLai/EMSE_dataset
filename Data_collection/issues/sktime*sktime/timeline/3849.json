[{"id":7909360584,"node_id":"LE_lADOCVKAsc5XeMGazwAAAAHXb0PI","url":"https://api.github.com/repos/sktime/sktime/issues/events/7909360584","actor":{"login":"iki77","id":19308272,"node_id":"MDQ6VXNlcjE5MzA4Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/19308272?v=4","gravatar_id":"","url":"https://api.github.com/users/iki77","html_url":"https://github.com/iki77","followers_url":"https://api.github.com/users/iki77/followers","following_url":"https://api.github.com/users/iki77/following{/other_user}","gists_url":"https://api.github.com/users/iki77/gists{/gist_id}","starred_url":"https://api.github.com/users/iki77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iki77/subscriptions","organizations_url":"https://api.github.com/users/iki77/orgs","repos_url":"https://api.github.com/users/iki77/repos","events_url":"https://api.github.com/users/iki77/events{/privacy}","received_events_url":"https://api.github.com/users/iki77/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-29T06:34:27Z","label":{"name":"enhancement","color":"fef2c0"},"performed_via_github_app":null},{"id":7909657069,"node_id":"LE_lADOCVKAsc5XeMGazwAAAAHXc8nt","url":"https://api.github.com/repos/sktime/sktime/issues/events/7909657069","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-29T07:28:39Z","label":{"name":"feature request","color":"38d191"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1330198272","html_url":"https://github.com/sktime/sktime/issues/3849#issuecomment-1330198272","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3849","id":1330198272,"node_id":"IC_kwDOCVKAsc5PSTcA","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-11-29T07:29:56Z","updated_at":"2022-11-29T07:29:56Z","author_association":"COLLABORATOR","body":"have you tried the `get_fitted_params` method? That should produce feature importances or coefficients for the reduction foreaster.\r\n\r\nIf it does not, code for a call `forecaster.get_fitted_params()` after fitting it on `sktime` dummy data would be appreciated.","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1330198272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1330365910","html_url":"https://github.com/sktime/sktime/issues/3849#issuecomment-1330365910","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3849","id":1330365910,"node_id":"IC_kwDOCVKAsc5PS8XW","user":{"login":"iki77","id":19308272,"node_id":"MDQ6VXNlcjE5MzA4Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/19308272?v=4","gravatar_id":"","url":"https://api.github.com/users/iki77","html_url":"https://github.com/iki77","followers_url":"https://api.github.com/users/iki77/followers","following_url":"https://api.github.com/users/iki77/following{/other_user}","gists_url":"https://api.github.com/users/iki77/gists{/gist_id}","starred_url":"https://api.github.com/users/iki77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iki77/subscriptions","organizations_url":"https://api.github.com/users/iki77/orgs","repos_url":"https://api.github.com/users/iki77/repos","events_url":"https://api.github.com/users/iki77/events{/privacy}","received_events_url":"https://api.github.com/users/iki77/received_events","type":"User","site_admin":false},"created_at":"2022-11-29T09:54:11Z","updated_at":"2022-11-29T09:54:11Z","author_association":"NONE","body":"Thanks, I can get the feature importances but it is not easy for beginner\r\n\r\n- Reduction forecaster with regressor as estimator: \r\n`forecaster.get_fitted_params()[\"estimator\"].feature_importances_ `\r\n- Reduction forecaster with regressor pipeline as estimator: \r\n`forecaster.get_fitted_params()[\"estimator\"].named_steps[\"regressor\"].feature_importances_ `\r\n- Forecasting pipeline with reduction forecaster:\r\n`forecaster_pipe.get_fitted_params()[\"forecaster\"].get_fitted_params()[\"estimator\"].named_steps[\"regressor\"].feature_importances_ `\r\n\r\nIt would be helpful if reduction forecaster and forecasting pipeline to have `feature_importances_` & `coef_` that function as a shortcut","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1330365910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iki77","id":19308272,"node_id":"MDQ6VXNlcjE5MzA4Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/19308272?v=4","gravatar_id":"","url":"https://api.github.com/users/iki77","html_url":"https://github.com/iki77","followers_url":"https://api.github.com/users/iki77/followers","following_url":"https://api.github.com/users/iki77/following{/other_user}","gists_url":"https://api.github.com/users/iki77/gists{/gist_id}","starred_url":"https://api.github.com/users/iki77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iki77/subscriptions","organizations_url":"https://api.github.com/users/iki77/orgs","repos_url":"https://api.github.com/users/iki77/repos","events_url":"https://api.github.com/users/iki77/events{/privacy}","received_events_url":"https://api.github.com/users/iki77/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1330777697","html_url":"https://github.com/sktime/sktime/issues/3849#issuecomment-1330777697","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3849","id":1330777697,"node_id":"IC_kwDOCVKAsc5PUg5h","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-11-29T14:56:58Z","updated_at":"2022-11-29T14:56:58Z","author_association":"COLLABORATOR","body":"ok, does it not show up at the key `\"estimator__feature_importances\"` if you use version 0.14.0?\r\nIn the second step under the key `\"estimator__named_steps__regressor__feature_importances\"`_\r\n\r\nIf not, it is a bug, please report with full code that produces the first example.\r\n\r\nThe second one might not be solvable though as `sklearn` does not have `get_fitted_params` interfaces.","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1330777697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1332180887","html_url":"https://github.com/sktime/sktime/issues/3849#issuecomment-1332180887","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3849","id":1332180887,"node_id":"IC_kwDOCVKAsc5PZ3eX","user":{"login":"iki77","id":19308272,"node_id":"MDQ6VXNlcjE5MzA4Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/19308272?v=4","gravatar_id":"","url":"https://api.github.com/users/iki77","html_url":"https://github.com/iki77","followers_url":"https://api.github.com/users/iki77/followers","following_url":"https://api.github.com/users/iki77/following{/other_user}","gists_url":"https://api.github.com/users/iki77/gists{/gist_id}","starred_url":"https://api.github.com/users/iki77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iki77/subscriptions","organizations_url":"https://api.github.com/users/iki77/orgs","repos_url":"https://api.github.com/users/iki77/repos","events_url":"https://api.github.com/users/iki77/events{/privacy}","received_events_url":"https://api.github.com/users/iki77/received_events","type":"User","site_admin":false},"created_at":"2022-11-30T13:50:49Z","updated_at":"2022-11-30T13:50:49Z","author_association":"NONE","body":"Only case 1 works, here is the code\r\n\r\n```\r\nimport pandas as pd\r\n\r\nfrom sklearn.ensemble import RandomForestRegressor\r\nfrom sklearn.pipeline import Pipeline\r\nfrom sktime.forecasting.compose import make_reduction\r\nfrom sktime.forecasting.compose import ForecastingPipeline\r\nfrom sktime.transformations.series.summarize import WindowSummarizer\r\n\r\ny = _make_hierarchical(n_columns=3, random_state=42)\r\nX = y.iloc[:, :-1]\r\ny = y.iloc[:, -1:]\r\n\r\nregressor = RandomForestRegressor(random_state=42)\r\nregressor_pipe = Pipeline(\r\n    steps=[(\"regressor\", regressor)]\r\n)\r\n\r\n# CASE 1 - WORKS\r\nforecaster_1 = make_reduction(\r\n    regressor,\r\n    scitype=\"tabular-regressor\",\r\n    transformers=[WindowSummarizer(n_jobs=1)],\r\n    window_length=None,\r\n    strategy=\"recursive\",\r\n    pooling=\"global\",\r\n)\r\nforecaster_1.fit(y=y, X=X)\r\nforecaster_1.get_fitted_params()[\"estimator__feature_importances\"] \r\n\r\n# CASE 2 - DOES NOT WORK\r\nforecaster_2 = make_reduction(\r\n    regressor_pipe,\r\n    scitype=\"tabular-regressor\",\r\n    transformers=[WindowSummarizer(n_jobs=1)],\r\n    window_length=None,\r\n    strategy=\"recursive\",\r\n    pooling=\"global\",\r\n)\r\nforecaster_2.fit(y=y, X=X)\r\nforecaster_2.get_fitted_params()[\"estimator__named_steps__regressor__feature_importances\"] # DOES NOT EXIST\r\n\r\n# CASE 3\r\nforecaster_pipe = ForecastingPipeline(\r\n    steps=[\r\n        (\"exog_dynamics\", WindowSummarizer(n_jobs=1, target_cols=X.columns.tolist())),\r\n        (\"forecaster\", forecaster_2),\r\n    ]\r\n)\r\nforecaster_pipe.fit(y=y, X=X)\r\n```","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1332180887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iki77","id":19308272,"node_id":"MDQ6VXNlcjE5MzA4Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/19308272?v=4","gravatar_id":"","url":"https://api.github.com/users/iki77","html_url":"https://github.com/iki77","followers_url":"https://api.github.com/users/iki77/followers","following_url":"https://api.github.com/users/iki77/following{/other_user}","gists_url":"https://api.github.com/users/iki77/gists{/gist_id}","starred_url":"https://api.github.com/users/iki77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iki77/subscriptions","organizations_url":"https://api.github.com/users/iki77/orgs","repos_url":"https://api.github.com/users/iki77/repos","events_url":"https://api.github.com/users/iki77/events{/privacy}","received_events_url":"https://api.github.com/users/iki77/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1334417620","html_url":"https://github.com/sktime/sktime/issues/3849#issuecomment-1334417620","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3849","id":1334417620,"node_id":"IC_kwDOCVKAsc5PiZjU","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-12-01T20:38:31Z","updated_at":"2022-12-01T20:38:31Z","author_association":"COLLABORATOR","body":"Ah!\r\n\r\nThanks for the example.\r\n\r\nI think this is an instance of an incomplete feature, i.e., implementing `get_fitted_params` for the forecasting pipelines here: item 5 on the list in\r\nhttps://github.com/sktime/sktime/issues/1497\r\n\r\nIn general, the special composites with `get_params` overrides also need `get_fitted_params` overrides; ordinary composites should be covered by the base class already.\r\n\r\nI'll have a look at it, should not be too difficult to add given the existing default implementations.","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1334417620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1334496276","html_url":"https://github.com/sktime/sktime/issues/3849#issuecomment-1334496276","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3849","id":1334496276,"node_id":"IC_kwDOCVKAsc5PiswU","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-12-01T21:56:28Z","updated_at":"2022-12-01T21:56:58Z","author_association":"COLLABORATOR","body":"example 3 is addressed by this: https://github.com/sktime/sktime/pull/3863\r\n\r\nexample 2 is more difficult, since the fitted parameters are not passed on within `sklearn`, and the \"underscore at the end\" syntax for fitted parameters is not consistent within sklearn itself - e.g., it's called `named_steps` rather than `named_steps_`.\r\n\r\nTo fix this, one would have to write an estimator crawler specifically for `scikit-learn` - it might be easier to integrate a coherent `get_fitted_params` interface with sktime? Here's the package for it: https://github.com/sktime/skbase ...","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1334496276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}}]