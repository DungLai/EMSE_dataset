[{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792381633","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-792381633","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":792381633,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjM4MTYzMw==","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2021-03-08T00:10:34Z","updated_at":"2021-03-08T00:10:34Z","author_association":"COLLABORATOR","body":"Brilliant, that would be nice!\r\n\r\nBefore you open a PR, there is already one on metrics, #672, and an issue, #671. Your metrics are not included as far as I can tell, but they would be nice additions.\r\n\r\nHowever, since there was a bit of design discussion on the metrics interface (related to metrics that need training data), I would suggest to align with @RNKuhns and the PR to ensure we end up with a single metrics interface.\r\n\r\n\r\nOther notes:\r\n* An interesting (other) discussion would also be whether we should make metrics composable, e.g., take any classification metric, and turn it into an up/down metric, or an up/down/mid metric as yours are. Where the user could select thresholds between up/down/mid.\r\n* should your second metric be the mean/average of logarithmic percentage errors, or the logarithm of mean percentage errors? If it is the first (as it seems), that's the same as the mean absolute error of forecasting the logarithmic series (because a logarithm of a fraction is a difference of logarithms). In that case, would it not be better to first take the logarithms of your series and just use MAE?","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792381633/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"id":4418674701,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQxODY3NDcwMQ==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4418674701","actor":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-08T00:10:34Z","performed_via_github_app":null},{"id":4418674704,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MTg2NzQ3MDQ=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4418674704","actor":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-08T00:10:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792414379","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-792414379","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":792414379,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjQxNDM3OQ==","user":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false},"created_at":"2021-03-08T02:19:08Z","updated_at":"2021-03-08T02:19:08Z","author_association":"COLLABORATOR","body":"@Garve We have been discussing the interface for forecasting metrics in #672 and #712. Both of these could potentially be added since both just depend on the true and predicted data (along with optional weights and multioutput values like the propsed API in #672).\r\n\r\nWe are close to committing #672 and these could probably be added as a pull request on top of that once it is finished. \r\n\r\nOne question I had about the log-quotient metric is the squaring of the quotient. I was scanning through the source paper and missed the squared term there. It seems like this would cause the metric to penalize errors when the prediction is close to zero (so the quotient is close to zero) more rapidly than when the the error is due to the y_pred being > y_true. \r\n\r\n![image](https://user-images.githubusercontent.com/26907244/110265303-43392e00-7f89-11eb-8d12-35baaf4b83c6.png)\r\n\r\n\r\nIn terms of code, at first glance it looks like it matches up pretty much exactly with what I've got in the other (soon to be) new metrics (this makes sense since we are both following the style of scikit-learn's regression metrics). So I think the log-quotient metric can probably be added with minor tweaks to handle cases where the true valeus are zero and also to the docstrings (including some additional information on use case the values the metric can take, etc. ) as long as @fkiraly and @mloning  think it makes sense. \r\n\r\nThe other main thing I'd note on my end, would be in the docstring it would be helpful to have a description of when users would want to use this metrics since other metrics like MASE also make up for some issues with MAPE and SMAPE and also work well for intermittent demand (don't have divide by zero issue when y_true = 0). \r\n\r\nOn the mean directional accuracy, and directional accuracy, @fkiraly makes a good point on potentially generalizing the directional accuracy metric. I think having a mean_directional_accuracy function is useful, but is also a specific case.\r\n\r\n[Pesaran and Timmerman (2009)](http://www.econ.cam.ac.uk/people-files/emeritus/mhp1/pp09/PesaranTimmermannjasa.2009.pdf) discuss directional accuracy as a multicategory generalization of binary directional accuracy. \r\n\r\nThe (Blaskowitz and Herwartz) referenced in wikipedia entry for mean directional accuracy is also a interesting discussion of accounting for economic cost of directional accuracy (not just 1 or 0). \r\n\r\nMaybe we could have a more general function that is used in the calculation of mean_directional_accuracy? That way users could choose different options and create their own scoring functions based on economic cost of incorrect directional accuracy. \r\n\r\nI can post a potential function definition tomorrow. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792414379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false}},{"id":4418884702,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQxODg4NDcwMg==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4418884702","actor":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-08T02:19:09Z","performed_via_github_app":null},{"id":4418884704,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MTg4ODQ3MDQ=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4418884704","actor":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-08T02:19:09Z","performed_via_github_app":null},{"id":4418884706,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQxODg4NDcwNg==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4418884706","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-08T02:19:09Z","performed_via_github_app":null},{"id":4418884709,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MTg4ODQ3MDk=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4418884709","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-08T02:19:09Z","performed_via_github_app":null},{"id":4418884712,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQxODg4NDcxMg==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4418884712","actor":{"login":"mloning","id":21020482,"node_id":"MDQ6VXNlcjIxMDIwNDgy","avatar_url":"https://avatars.githubusercontent.com/u/21020482?v=4","gravatar_id":"","url":"https://api.github.com/users/mloning","html_url":"https://github.com/mloning","followers_url":"https://api.github.com/users/mloning/followers","following_url":"https://api.github.com/users/mloning/following{/other_user}","gists_url":"https://api.github.com/users/mloning/gists{/gist_id}","starred_url":"https://api.github.com/users/mloning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mloning/subscriptions","organizations_url":"https://api.github.com/users/mloning/orgs","repos_url":"https://api.github.com/users/mloning/repos","events_url":"https://api.github.com/users/mloning/events{/privacy}","received_events_url":"https://api.github.com/users/mloning/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-08T02:19:09Z","performed_via_github_app":null},{"id":4418884715,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MTg4ODQ3MTU=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4418884715","actor":{"login":"mloning","id":21020482,"node_id":"MDQ6VXNlcjIxMDIwNDgy","avatar_url":"https://avatars.githubusercontent.com/u/21020482?v=4","gravatar_id":"","url":"https://api.github.com/users/mloning","html_url":"https://github.com/mloning","followers_url":"https://api.github.com/users/mloning/followers","following_url":"https://api.github.com/users/mloning/following{/other_user}","gists_url":"https://api.github.com/users/mloning/gists{/gist_id}","starred_url":"https://api.github.com/users/mloning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mloning/subscriptions","organizations_url":"https://api.github.com/users/mloning/orgs","repos_url":"https://api.github.com/users/mloning/repos","events_url":"https://api.github.com/users/mloning/events{/privacy}","received_events_url":"https://api.github.com/users/mloning/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-08T02:19:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792573364","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-792573364","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":792573364,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjU3MzM2NA==","user":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false},"created_at":"2021-03-08T08:28:28Z","updated_at":"2021-03-08T08:28:28Z","author_association":"NONE","body":"Hi again!\r\n\r\nThanks for the feedback :)\r\n\r\n> Other notes:\r\n> \r\n>     * An interesting (other) discussion would also be whether we should make metrics composable, e.g., take any classification metric, and turn it into an up/down metric, or an up/down/mid metric as yours are. Where the user could select thresholds between up/down/mid.\r\n\r\nThat's indeed interesting! Do you know a good use-case for a \"mean directional f1 score\" for example?\r\n\r\n \r\n>     * should your second metric be the mean/average of logarithmic percentage errors, or the logarithm of mean percentage errors? If it is the first (as it seems), that's the same as the mean absolute error of forecasting the logarithmic series (because a logarithm of a fraction is a difference of logarithms). In that case, would it not be better to first take the logarithms of your series and just use MAE?\r\n\r\nYeah, one could do that. But one could also argue that the MAPE is just the MAE + samples weights np.abs(1/y_true). And still, it is offered as a separate metric. I understand your point, of course :) it's a design choice about how far to go to make something more accessible to people that don't know the mathematical connections. I'm fine with whatever you people say since I'm still very new here.\r\n","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792573364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792609939","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-792609939","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":792609939,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjYwOTkzOQ==","user":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false},"created_at":"2021-03-08T09:19:48Z","updated_at":"2021-03-08T09:19:48Z","author_association":"NONE","body":"Heya!\r\n\r\nThank you too for the feedback :)\r\n\r\n> One question I had about the log-quotient metric is the squaring of the quotient. I was scanning through the source paper and missed the squared term there. It seems like this would cause the metric to penalize errors when the prediction is close to zero (so the quotient is close to zero) more rapidly than when the the error is due to the y_pred being > y_true.\r\n\r\nYeah, this paper is hard to read, format-wise. That happens if you don't TeX! :D On the end of page 6 he writes \r\n>3.1 Least squares models based on Ln Qpredictthe geometric mean \r\n>Consider having multiple (positive) observations of y for a given x. Consider representing these by a single value, or measure of location Y, such that the sum of squares of ln(Qi) is minimized: Min Σ [ln (Y/yi)]² ...\r\n\r\nThe thing theoretical thing about using the square is that the constant prediction that minimizes this loss is the geometric mean (such as the mean minimizes the MSE and the median minimizes the MAE).\r\n\r\n\r\n\r\n\r\n> In terms of code, at first glance it looks like it matches up pretty much exactly with what I've got in the other (soon to be) new metrics (this makes sense since we are both following the style of scikit-learn's regression metrics). So I think the log-quotient metric can probably be added with minor tweaks to handle cases where the true valeus are zero and also to the docstrings (including some additional information on use case the values the metric can take, etc. ) as long as @fkiraly and @mloning think it makes sense.\r\n> \r\n> The other main thing I'd note on my end, would be in the docstring it would be helpful to have a description of when users would want to use this metrics since other metrics like MASE also make up for some issues with MAPE and SMAPE and also work well for intermittent demand (don't have divide by zero issue when y_true = 0).\r\n\r\nGood point!\r\n\r\n> \r\n> On the mean directional accuracy, and directional accuracy, @fkiraly makes a good point on potentially generalizing the directional accuracy metric. I think having a mean_directional_accuracy function is useful, but is also a specific case.\r\n> \r\n> [Pesaran and Timmerman (2009)](http://www.econ.cam.ac.uk/people-files/emeritus/mhp1/pp09/PesaranTimmermannjasa.2009.pdf) discuss directional accuracy as a multicategory generalization of binary directional accuracy.\r\n> \r\n> The (Blaskowitz and Herwartz) referenced in wikipedia entry for mean directional accuracy is also a interesting discussion of accounting for economic cost of directional accuracy (not just 1 or 0).\r\n> \r\n> Maybe we could have a more general function that is used in the calculation of mean_directional_accuracy? That way users could choose different options and create their own scoring functions based on economic cost of incorrect directional accuracy.\r\n> \r\n> I can post a potential function definition tomorrow.\r\n\r\nYes, this sounds good. I also added some sample_weiht parameter to my function, but essentially it's just <some constant> and 0 vs. 1 and 0 in the original definition. It would definitely be cool to have something more general!","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792609939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false}},{"id":4420162602,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQyMDE2MjYwMg==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4420162602","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-08T09:19:48Z","performed_via_github_app":null},{"id":4420162609,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MjAxNjI2MDk=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4420162609","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-08T09:19:48Z","performed_via_github_app":null},{"id":4420162618,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQyMDE2MjYxOA==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4420162618","actor":{"login":"mloning","id":21020482,"node_id":"MDQ6VXNlcjIxMDIwNDgy","avatar_url":"https://avatars.githubusercontent.com/u/21020482?v=4","gravatar_id":"","url":"https://api.github.com/users/mloning","html_url":"https://github.com/mloning","followers_url":"https://api.github.com/users/mloning/followers","following_url":"https://api.github.com/users/mloning/following{/other_user}","gists_url":"https://api.github.com/users/mloning/gists{/gist_id}","starred_url":"https://api.github.com/users/mloning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mloning/subscriptions","organizations_url":"https://api.github.com/users/mloning/orgs","repos_url":"https://api.github.com/users/mloning/repos","events_url":"https://api.github.com/users/mloning/events{/privacy}","received_events_url":"https://api.github.com/users/mloning/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-08T09:19:48Z","performed_via_github_app":null},{"id":4420162623,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MjAxNjI2MjM=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4420162623","actor":{"login":"mloning","id":21020482,"node_id":"MDQ6VXNlcjIxMDIwNDgy","avatar_url":"https://avatars.githubusercontent.com/u/21020482?v=4","gravatar_id":"","url":"https://api.github.com/users/mloning","html_url":"https://github.com/mloning","followers_url":"https://api.github.com/users/mloning/followers","following_url":"https://api.github.com/users/mloning/following{/other_user}","gists_url":"https://api.github.com/users/mloning/gists{/gist_id}","starred_url":"https://api.github.com/users/mloning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mloning/subscriptions","organizations_url":"https://api.github.com/users/mloning/orgs","repos_url":"https://api.github.com/users/mloning/repos","events_url":"https://api.github.com/users/mloning/events{/privacy}","received_events_url":"https://api.github.com/users/mloning/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-08T09:19:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792644286","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-792644286","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":792644286,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjY0NDI4Ng==","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2021-03-08T10:10:35Z","updated_at":"2021-03-08T10:31:50Z","author_association":"COLLABORATOR","body":"@Garve, @RNKuhns, your discussion to me also highlights one additional thing:\r\n\r\nWe (will soon) have a lot of metrics implemented, but it is unlikely to be entirely clear to the typical end user what all of these are. E.g., do you take log or fraction before or after taking the average, which average or of what the average is meant (squared or unsquared), and so on.\r\n\r\nI do think we need a piece of documentation, e.g., markdown with TeX, that for each metric name or acronym fully spells out the definition in formulae, say in a set-up where you have forecasts $\\widehat{y}_1,\\dots, \\widehat{y}_N$ and observations $y_1,\\dots, y_N$.\r\n\r\nOptimally, this comes with:\r\n* a statement what is the best uninformed predictor, i.e., constant prediction, in i.i.d. setting, and/or in the forecasting setting (if applicable, e.g., 1-step), according to the metric - this will be different by metric. Also called the \"elicited statistic\" if the metric is a mean loss.\r\n* a taxonomy of metrics, e.g., separating genuine forecasting metrics from up/down or directional metrics\r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/792644286/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"id":4420419406,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQyMDQxOTQwNg==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4420419406","actor":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-08T10:10:36Z","performed_via_github_app":null},{"id":4420419413,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MjA0MTk0MTM=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4420419413","actor":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-08T10:10:36Z","performed_via_github_app":null},{"id":4420419421,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQyMDQxOTQyMQ==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4420419421","actor":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-08T10:10:36Z","performed_via_github_app":null},{"id":4420419429,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MjA0MTk0Mjk=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4420419429","actor":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-08T10:10:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/795066680","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-795066680","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":795066680,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NTA2NjY4MA==","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2021-03-10T08:17:28Z","updated_at":"2021-03-10T08:17:28Z","author_association":"COLLABORATOR","body":">I do think we need a piece of documentation\r\n\r\nI can also help with this, just let me know","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/795066680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/795383361","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-795383361","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":795383361,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NTM4MzM2MQ==","user":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false},"created_at":"2021-03-10T13:03:51Z","updated_at":"2021-03-10T13:07:55Z","author_association":"COLLABORATOR","body":"@garve and @fkiraly how does something like this work for proceeding on this:\r\n\r\nAssuming we wrap up pull request #672 and issue #712, adding the logarithm of accuracy ratio metric is straight-forward, so I'd lean to it potentially being its own pull request. \r\n\r\nThen break out the discussion of directional accuracy metrics and documentation into seperate issues/pull requests. What are your thoughts? \r\n\r\nTo me it seems like we could add the documentation in the user guide: https://www.sktime.org/en/latest/user_guide/forecasting.html. ","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/795383361/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false}},{"id":4436177984,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQzNjE3Nzk4NA==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4436177984","actor":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-10T13:03:52Z","performed_via_github_app":null},{"id":4436177991,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MzYxNzc5OTE=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4436177991","actor":{"login":"Garve","id":932327,"node_id":"MDQ6VXNlcjkzMjMyNw==","avatar_url":"https://avatars.githubusercontent.com/u/932327?v=4","gravatar_id":"","url":"https://api.github.com/users/Garve","html_url":"https://github.com/Garve","followers_url":"https://api.github.com/users/Garve/followers","following_url":"https://api.github.com/users/Garve/following{/other_user}","gists_url":"https://api.github.com/users/Garve/gists{/gist_id}","starred_url":"https://api.github.com/users/Garve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Garve/subscriptions","organizations_url":"https://api.github.com/users/Garve/orgs","repos_url":"https://api.github.com/users/Garve/repos","events_url":"https://api.github.com/users/Garve/events{/privacy}","received_events_url":"https://api.github.com/users/Garve/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-10T13:03:52Z","performed_via_github_app":null},{"id":4436178002,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQzNjE3ODAwMg==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4436178002","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-10T13:03:52Z","performed_via_github_app":null},{"id":4436178007,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ0MzYxNzgwMDc=","url":"https://api.github.com/repos/sktime/sktime/issues/events/4436178007","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-03-10T13:03:52Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/795401724","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-795401724","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":795401724,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NTQwMTcyNA==","user":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false},"created_at":"2021-03-10T13:17:51Z","updated_at":"2021-03-10T13:17:51Z","author_association":"COLLABORATOR","body":"On the directional accuracy part, I think that mean_directional_accuracy works as a metric (and is used in articles), but has its limitations just like the magnitude based metrics.\r\n\r\nIn our documentation we'd probably want to capture something like the following:\r\n- Directional accuracy is important to consider because a forecast with a low (good) forecasting metric value may not predict directional changes and lead to bad economic decisions (buying or selling stock at in opportune time or making bad inventory decisions based on demand forecasts)\r\n- Simple approach to directional accuracy is mean directional accuracy but this also has limitations. \r\n    - Getting direction correct but having forecasts that are far from the true values can also lead to bad economic decisions (e.g. picking the wrong stock to invest in when basing your decision on forecasts of many stock prices)\r\n\r\nThe (Blaskowitz and Herwartz) paper [https://edoc.hu-berlin.de/bitstream/handle/18452/4869/52.pdf?sequence=1&isAllowed=y] discusses economic value of directional forecasts. I think we could try to accomodate something like that. \r\n\r\nThat paper differentiates between economic value from 4 potential directional accuracy outcomes (i.e.: h_uu where true value went up and prediction went up, h_dd where both went down, h_du where the true value went down and the prediction up, and h_ud where the true value went up and prediction went down).\r\n\r\nCould we have a function that had keyword arguments for `h_uu`, `h_dd`, `h_ud`, `h_du` that accepted numbers or callables (callables would have to take only `y_true`, `y_pred` and `y_train` as arguments. \r\n\r\nNote that I'm passing `y_train` because the Blaskowitz and Herwartz paper shows economic value as function of Y_t (last value of training set) and Y_{t+h}, so we'd probably want the functions to accommodate that.\r\n\r\n```python\r\ndef mean_directional_value(y_true, y_pred, y_train, h_uu = 1, h_dd = 1, h_du = 0, h_ud = 0):\r\n    pass\r\n```\r\n\r\nThis would let `mean_directional_accuracy` be defined as:\r\n\r\n```python\r\ndef mean_directional_accuracy(y_true, y_pred, y_train, h_uu = 1, h_dd = 1, h_du = 0, h_ud = 0):\r\n    return mean_directional_value(y_true, y_pred, y_train)\r\n```","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/795401724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RNKuhns","id":26907244,"node_id":"MDQ6VXNlcjI2OTA3MjQ0","avatar_url":"https://avatars.githubusercontent.com/u/26907244?v=4","gravatar_id":"","url":"https://api.github.com/users/RNKuhns","html_url":"https://github.com/RNKuhns","followers_url":"https://api.github.com/users/RNKuhns/followers","following_url":"https://api.github.com/users/RNKuhns/following{/other_user}","gists_url":"https://api.github.com/users/RNKuhns/gists{/gist_id}","starred_url":"https://api.github.com/users/RNKuhns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNKuhns/subscriptions","organizations_url":"https://api.github.com/users/RNKuhns/orgs","repos_url":"https://api.github.com/users/RNKuhns/repos","events_url":"https://api.github.com/users/RNKuhns/events{/privacy}","received_events_url":"https://api.github.com/users/RNKuhns/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/795523890","html_url":"https://github.com/sktime/sktime/issues/718#issuecomment-795523890","issue_url":"https://api.github.com/repos/sktime/sktime/issues/718","id":795523890,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NTUyMzg5MA==","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2021-03-10T14:43:35Z","updated_at":"2021-03-10T14:43:35Z","author_association":"COLLABORATOR","body":">Then break out the discussion of directional accuracy metrics and documentation into seperate issues/pull requests. What are your thoughts?\r\n\r\nAgreed - I think there should be issues/PR:\r\n* PR with \"standard\" forecasting metrics\r\n* design for directional metrics - maybe a phone call to align (us three + @mloning ?)\r\n* PR for directionam metrics, conditional on design done\r\n* documentation for all metrics; recommend this to be its own page, but tbd","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/795523890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"id":4436868536,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDQzNjg2ODUzNg==","url":"https://api.github.com/repos/sktime/sktime/issues/events/4436868536","actor":{"login":"mloning","id":21020482,"node_id":"MDQ6VXNlcjIxMDIwNDgy","avatar_url":"https://avatars.githubusercontent.com/u/21020482?v=4","gravatar_id":"","url":"https://api.github.com/users/mloning","html_url":"https://github.com/mloning","followers_url":"https://api.github.com/users/mloning/followers","following_url":"https://api.github.com/users/mloning/following{/other_user}","gists_url":"https://api.github.com/users/mloning/gists{/gist_id}","starred_url":"https://api.github.com/users/mloning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mloning/subscriptions","organizations_url":"https://api.github.com/users/mloning/orgs","repos_url":"https://api.github.com/users/mloning/repos","events_url":"https://api.github.com/users/mloning/events{/privacy}","received_events_url":"https://api.github.com/users/mloning/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-03-10T14:43:35Z","performed_via_github_app":null}]