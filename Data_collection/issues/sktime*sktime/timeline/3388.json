[{"id":7327479152,"node_id":"LE_lADOCVKAsc5ROrkMzwAAAAG0wHVw","url":"https://api.github.com/repos/sktime/sktime/issues/events/7327479152","actor":{"login":"KatieBuc","id":34525024,"node_id":"MDQ6VXNlcjM0NTI1MDI0","avatar_url":"https://avatars.githubusercontent.com/u/34525024?v=4","gravatar_id":"","url":"https://api.github.com/users/KatieBuc","html_url":"https://github.com/KatieBuc","followers_url":"https://api.github.com/users/KatieBuc/followers","following_url":"https://api.github.com/users/KatieBuc/following{/other_user}","gists_url":"https://api.github.com/users/KatieBuc/gists{/gist_id}","starred_url":"https://api.github.com/users/KatieBuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatieBuc/subscriptions","organizations_url":"https://api.github.com/users/KatieBuc/orgs","repos_url":"https://api.github.com/users/KatieBuc/repos","events_url":"https://api.github.com/users/KatieBuc/events{/privacy}","received_events_url":"https://api.github.com/users/KatieBuc/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-06T07:03:11Z","label":{"name":"enhancement","color":"fef2c0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1241537433","html_url":"https://github.com/sktime/sktime/issues/3388#issuecomment-1241537433","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3388","id":1241537433,"node_id":"IC_kwDOCVKAsc5KAFuZ","user":{"login":"KatieBuc","id":34525024,"node_id":"MDQ6VXNlcjM0NTI1MDI0","avatar_url":"https://avatars.githubusercontent.com/u/34525024?v=4","gravatar_id":"","url":"https://api.github.com/users/KatieBuc","html_url":"https://github.com/KatieBuc","followers_url":"https://api.github.com/users/KatieBuc/followers","following_url":"https://api.github.com/users/KatieBuc/following{/other_user}","gists_url":"https://api.github.com/users/KatieBuc/gists{/gist_id}","starred_url":"https://api.github.com/users/KatieBuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatieBuc/subscriptions","organizations_url":"https://api.github.com/users/KatieBuc/orgs","repos_url":"https://api.github.com/users/KatieBuc/repos","events_url":"https://api.github.com/users/KatieBuc/events{/privacy}","received_events_url":"https://api.github.com/users/KatieBuc/received_events","type":"User","site_admin":false},"created_at":"2022-09-09T06:08:16Z","updated_at":"2022-09-09T06:08:50Z","author_association":"CONTRIBUTOR","body":"For `evd::fpot()`, Maximum-likelihood fitting for peaks over threshold modelling, the python equivalent imports an R package `POTS`\r\n\r\n```\r\nfrom rpy2.robjects.packages import importr\r\nimport rpy2.robjects.packages as rpackages\r\n\r\nbase = importr('base')\r\nutils = importr('utils')\r\nutils.chooseCRANmirror(ind=1)\r\nutils.install_packages('POT') #installing POT package\r\n```\r\nhttps://cran.r-project.org/web/packages/POT/index.html\r\n\r\nWhere in the `POTS` package, function `gpdmle` is a simplified version of the `evd::fpot()` function\r\n\r\n\"4) Maximum Likelihood Estimator\r\nThis function comes from the evd package. The gpdmle function\r\ncorresponds to the fpot function. Nevertheless, it was sligthly modified\r\nto simplify it. So, this function is a ligther version of fpot.\r\nSo, I'm very gratefull to Alec Stephenson.\"\r\n\r\nHowever, in the `POTS::gpdmle` function,\r\n```\r\nnlpot <- [function](https://rdrr.io/r/base/function.html)([scale](https://rdrr.io/r/base/scale.html), shape) { \r\n    -.[C](https://rdrr.io/r/stats/zC.html)(POT_do_gpdlik, exceed, nat, threshold, [scale](https://rdrr.io/r/base/scale.html),\r\n        shape, dns = [double](https://rdrr.io/r/base/double.html)(1))$dns\r\n  }\r\n```\r\nhttps://rdrr.io/cran/POT/src/R/util-GPD-mle.R\r\n\r\nwhich I think is just:\r\n```\r\nvoid do_gpdlik(double *data, int *n, double *loc, double *scale,\r\n\t    double *shape, double *dns)\r\n{\r\n  int i;\r\n  double *dvec;\r\n  \r\n  dvec = (double *)R_alloc(*n, sizeof(double));\r\n\r\n  if(*scale <= 0) {\r\n     *dns = -1e6;\r\n     return;\r\n  }\r\n\r\n  for(i=0;i<*n;i++)  {\r\n    data[i] = (data[i] - loc[i]) / *scale;\r\n    if (data[i] <= 0) {\r\n      *dns = -1e6;\r\n      return;\r\n    }\r\n    if(fabs(*shape) <= 1e-6){\r\n      *shape = 0;\r\n      dvec[i] = -log(*scale) - data[i];\r\n    }\r\n    else {\r\n      data[i] = 1 + *shape * data[i];\r\n      if(data[i] <= 0) {\r\n\t*dns = -1e6;\r\n\treturn;\r\n      }\r\n      dvec[i] = -log(*scale) - (1 / *shape + 1) * log(data[i]);\r\n    }\r\n  }\r\n  \r\n  for(i=0;i<*n;i++) \r\n    *dns = *dns + dvec[i];\r\n}\r\n```\r\nhttps://github.com/cran/POT/blob/master/src/POT.c\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1241537433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"KatieBuc","id":34525024,"node_id":"MDQ6VXNlcjM0NTI1MDI0","avatar_url":"https://avatars.githubusercontent.com/u/34525024?v=4","gravatar_id":"","url":"https://api.github.com/users/KatieBuc","html_url":"https://github.com/KatieBuc","followers_url":"https://api.github.com/users/KatieBuc/followers","following_url":"https://api.github.com/users/KatieBuc/following{/other_user}","gists_url":"https://api.github.com/users/KatieBuc/gists{/gist_id}","starred_url":"https://api.github.com/users/KatieBuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatieBuc/subscriptions","organizations_url":"https://api.github.com/users/KatieBuc/orgs","repos_url":"https://api.github.com/users/KatieBuc/repos","events_url":"https://api.github.com/users/KatieBuc/events{/privacy}","received_events_url":"https://api.github.com/users/KatieBuc/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1241543192","html_url":"https://github.com/sktime/sktime/issues/3388#issuecomment-1241543192","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3388","id":1241543192,"node_id":"IC_kwDOCVKAsc5KAHIY","user":{"login":"KatieBuc","id":34525024,"node_id":"MDQ6VXNlcjM0NTI1MDI0","avatar_url":"https://avatars.githubusercontent.com/u/34525024?v=4","gravatar_id":"","url":"https://api.github.com/users/KatieBuc","html_url":"https://github.com/KatieBuc","followers_url":"https://api.github.com/users/KatieBuc/followers","following_url":"https://api.github.com/users/KatieBuc/following{/other_user}","gists_url":"https://api.github.com/users/KatieBuc/gists{/gist_id}","starred_url":"https://api.github.com/users/KatieBuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatieBuc/subscriptions","organizations_url":"https://api.github.com/users/KatieBuc/orgs","repos_url":"https://api.github.com/users/KatieBuc/repos","events_url":"https://api.github.com/users/KatieBuc/events{/privacy}","received_events_url":"https://api.github.com/users/KatieBuc/received_events","type":"User","site_admin":false},"created_at":"2022-09-09T06:14:06Z","updated_at":"2022-09-09T06:14:06Z","author_association":"CONTRIBUTOR","body":"In summary, for `evd::fpot()`, this task would involve re-writing:\r\n\r\n[gpdfit](https://github.com/iagolemos1/thresholdmodeling/blob/master/thresholdmodeling/thresh_modeling.py#L138) from Python\r\n[gpdmle](https://rdrr.io/cran/POT/src/R/util-GPD-mle.R) from R\r\n[do_gpdlik](https://github.com/cran/POT/blob/master/src/POT.c#L24) from C\r\n","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1241543192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"KatieBuc","id":34525024,"node_id":"MDQ6VXNlcjM0NTI1MDI0","avatar_url":"https://avatars.githubusercontent.com/u/34525024?v=4","gravatar_id":"","url":"https://api.github.com/users/KatieBuc","html_url":"https://github.com/KatieBuc","followers_url":"https://api.github.com/users/KatieBuc/followers","following_url":"https://api.github.com/users/KatieBuc/following{/other_user}","gists_url":"https://api.github.com/users/KatieBuc/gists{/gist_id}","starred_url":"https://api.github.com/users/KatieBuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatieBuc/subscriptions","organizations_url":"https://api.github.com/users/KatieBuc/orgs","repos_url":"https://api.github.com/users/KatieBuc/repos","events_url":"https://api.github.com/users/KatieBuc/events{/privacy}","received_events_url":"https://api.github.com/users/KatieBuc/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1241545835","html_url":"https://github.com/sktime/sktime/issues/3388#issuecomment-1241545835","issue_url":"https://api.github.com/repos/sktime/sktime/issues/3388","id":1241545835,"node_id":"IC_kwDOCVKAsc5KAHxr","user":{"login":"KatieBuc","id":34525024,"node_id":"MDQ6VXNlcjM0NTI1MDI0","avatar_url":"https://avatars.githubusercontent.com/u/34525024?v=4","gravatar_id":"","url":"https://api.github.com/users/KatieBuc","html_url":"https://github.com/KatieBuc","followers_url":"https://api.github.com/users/KatieBuc/followers","following_url":"https://api.github.com/users/KatieBuc/following{/other_user}","gists_url":"https://api.github.com/users/KatieBuc/gists{/gist_id}","starred_url":"https://api.github.com/users/KatieBuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatieBuc/subscriptions","organizations_url":"https://api.github.com/users/KatieBuc/orgs","repos_url":"https://api.github.com/users/KatieBuc/repos","events_url":"https://api.github.com/users/KatieBuc/events{/privacy}","received_events_url":"https://api.github.com/users/KatieBuc/received_events","type":"User","site_admin":false},"created_at":"2022-09-09T06:17:25Z","updated_at":"2022-09-09T06:17:25Z","author_association":"CONTRIBUTOR","body":"In total, I estimate 2 weeks for a draft PR","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1241545835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"KatieBuc","id":34525024,"node_id":"MDQ6VXNlcjM0NTI1MDI0","avatar_url":"https://avatars.githubusercontent.com/u/34525024?v=4","gravatar_id":"","url":"https://api.github.com/users/KatieBuc","html_url":"https://github.com/KatieBuc","followers_url":"https://api.github.com/users/KatieBuc/followers","following_url":"https://api.github.com/users/KatieBuc/following{/other_user}","gists_url":"https://api.github.com/users/KatieBuc/gists{/gist_id}","starred_url":"https://api.github.com/users/KatieBuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatieBuc/subscriptions","organizations_url":"https://api.github.com/users/KatieBuc/orgs","repos_url":"https://api.github.com/users/KatieBuc/repos","events_url":"https://api.github.com/users/KatieBuc/events{/privacy}","received_events_url":"https://api.github.com/users/KatieBuc/received_events","type":"User","site_admin":false}},{"id":7360813949,"node_id":"ATPE_lADOCVKAsc5ROrkMzwAAAAG2vRt9","url":"https://api.github.com/repos/sktime/sktime/issues/events/7360813949","actor":{"login":"lmmentel","id":8989838,"node_id":"MDQ6VXNlcjg5ODk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8989838?v=4","gravatar_id":"","url":"https://api.github.com/users/lmmentel","html_url":"https://github.com/lmmentel","followers_url":"https://api.github.com/users/lmmentel/followers","following_url":"https://api.github.com/users/lmmentel/following{/other_user}","gists_url":"https://api.github.com/users/lmmentel/gists{/gist_id}","starred_url":"https://api.github.com/users/lmmentel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmmentel/subscriptions","organizations_url":"https://api.github.com/users/lmmentel/orgs","repos_url":"https://api.github.com/users/lmmentel/repos","events_url":"https://api.github.com/users/lmmentel/events{/privacy}","received_events_url":"https://api.github.com/users/lmmentel/received_events","type":"User","site_admin":false},"event":"added_to_project","commit_id":null,"commit_url":null,"created_at":"2022-09-10T11:37:36Z","project_card":{"id":85573011,"url":"https://api.github.com/projects/columns/cards/85573011","project_id":13846435,"project_url":"https://api.github.com/projects/13846435","column_name":"To do"},"performed_via_github_app":null}]