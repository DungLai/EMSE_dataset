[{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098261255","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1098261255","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1098261255,"node_id":"IC_kwDOCVKAsc5BdiMH","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-13T16:36:36Z","updated_at":"2022-04-13T16:36:42Z","author_association":"COLLABORATOR","body":"My suspicion is, it's probably related to this bug/issue here:\r\nhttps://github.com/alan-turing-institute/sktime/issues/2265\r\n\r\nsince the `TransformedTargetForecaster` calls the inverse of `Differencer`.","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098261255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"id":6428850913,"node_id":"LE_lADOCVKAsc5HvIWszwAAAAF_MHrh","url":"https://api.github.com/repos/sktime/sktime/issues/events/6428850913","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-04-13T16:36:45Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":6428851278,"node_id":"ATPE_lADOCVKAsc5HvIWszwAAAAF_MHxO","url":"https://api.github.com/repos/sktime/sktime/issues/events/6428851278","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"added_to_project","commit_id":null,"commit_url":null,"created_at":"2022-04-13T16:36:49Z","project_card":{"id":80605349,"url":"https://api.github.com/projects/columns/cards/80605349","project_id":5198515,"project_url":"https://api.github.com/projects/5198515","column_name":"Needs triage & validation"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098349627","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1098349627","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1098349627,"node_id":"IC_kwDOCVKAsc5Bd3w7","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-13T18:20:14Z","updated_at":"2022-04-13T18:20:14Z","author_association":"COLLABORATOR","body":"@anthonygiorgio97 to help us fix this quicker, would you mind posting full code, incl imports, replacing your data by some example data? You can get example data from `sktime.datatypes.get_examples`, or `utils._testing.series._make_series`.","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098349627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"id":6429460755,"node_id":"MEE_lADOCVKAsc5HvIWszwAAAAF_OckT","url":"https://api.github.com/repos/sktime/sktime/issues/events/6429460755","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-04-13T18:20:14Z","performed_via_github_app":null},{"id":6429460762,"node_id":"SE_lADOCVKAsc5HvIWszwAAAAF_Ocka","url":"https://api.github.com/repos/sktime/sktime/issues/events/6429460762","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-04-13T18:20:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098482079","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1098482079","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1098482079,"node_id":"IC_kwDOCVKAsc5BeYGf","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-13T20:59:17Z","updated_at":"2022-04-13T20:59:36Z","author_association":"COLLABORATOR","body":"Cannot reproduce this with an attempted replication:\r\n\r\n```python\r\nfrom sktime.forecasting.ets import AutoETS\r\nfrom sktime.transformations.series.boxcox import LogTransformer\r\nfrom sktime.transformations.series.compose import OptionalPassthrough\r\nfrom sktime.transformations.series.difference import Differencer\r\nfrom sktime.utils._testing.series import _make_series\r\n\r\ny = _make_series()\r\npipe = ForecastingPipeline(steps=[\r\n        (\"logX\", OptionalPassthrough(LogTransformer())),\r\n        (\"differencerX\", Differencer()),\r\n        (\"prophetforecaster\", TransformedTargetForecaster(steps = [\r\n            (\"log\", OptionalPassthrough(LogTransformer())),\r\n            (\"differencer\", Differencer()),\r\n            (\"prophet\", AutoETS())\r\n        ]))  \r\n])\r\npipe.fit(y, fh=[1, 2, 3]).predict()\r\n```\r\n\r\nThis work on current `main` and my system (windows, python 3.8)","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098482079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098482547","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1098482547","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1098482547,"node_id":"IC_kwDOCVKAsc5BeYNz","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-13T20:59:58Z","updated_at":"2022-04-13T20:59:58Z","author_association":"COLLABORATOR","body":"@anthonygiorgio97, can you please post a self-contained code snippet?","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098482547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"id":6430347196,"node_id":"MEE_lADOCVKAsc5HvIWszwAAAAF_R0-8","url":"https://api.github.com/repos/sktime/sktime/issues/events/6430347196","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-04-13T20:59:59Z","performed_via_github_app":null},{"id":6430347202,"node_id":"SE_lADOCVKAsc5HvIWszwAAAAF_R0_C","url":"https://api.github.com/repos/sktime/sktime/issues/events/6430347202","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-04-13T20:59:59Z","performed_via_github_app":null},{"id":6430347940,"node_id":"MCIPE_lADOCVKAsc5HvIWszwAAAAF_R1Kk","url":"https://api.github.com/repos/sktime/sktime/issues/events/6430347940","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"moved_columns_in_project","commit_id":null,"commit_url":null,"created_at":"2022-04-13T21:00:09Z","project_card":{"id":80605349,"url":"https://api.github.com/projects/columns/cards/80605349","project_id":5198515,"project_url":"https://api.github.com/projects/5198515","column_name":"Reproducing/confirming","previous_column_name":"Needs triage & validation"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098774548","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1098774548","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1098774548,"node_id":"IC_kwDOCVKAsc5BffgU","user":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T07:00:01Z","updated_at":"2022-04-14T11:56:25Z","author_association":"NONE","body":"This is a code example, for version 0.11.0:\r\n\r\n```python\r\nfrom sktime.transformations.series.boxcox import LogTransformer, BoxCoxTransformer\r\nfrom sktime.forecasting.compose import ForecastingPipeline, TransformedTargetForecaster\r\nfrom sktime.transformations.series.compose import OptionalPassthrough\r\nfrom sktime.transformations.series.feature_selection import FeatureSelection\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.transformations.series.difference import Differencer\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter, temporal_train_test_split, ForecastingGridSearchCV\r\nfrom sktime.datasets import load_longley\r\ny, X = load_longley()\r\n\r\n#split train/test both y and X\r\nfh = [1,2,3]\r\ntrain_model, test_model = temporal_train_test_split(y, fh = fh)\r\nX_train = X[X.index.isin(train_model.index)]\r\nX_test = X[X.index.isin(test_model.index)]\r\n\r\n#prophet pipeline\r\npipe_prophet = ForecastingPipeline(steps=[\r\n        (\"boxcoxX\", OptionalPassthrough(BoxCoxTransformer())),\r\n        (\"differencerX\", Differencer(drop_na = True)),\r\n        (\"prophetforecaster\", TransformedTargetForecaster(steps = [\r\n            (\"boxcox\", OptionalPassthrough(BoxCoxTransformer())),\r\n            (\"differencer\", Differencer(drop_na = True)),\r\n            (\"prophet\", Prophet(yearly_seasonality='auto'))\r\n        ]))  \r\n])\r\n\r\n#cv setup\r\nN_cv_fold = 2\r\nstep_cv = 3\r\ncv = ExpandingWindowSplitter(initial_window = len(train_model) - (N_cv_fold - 1) * step_cv - len(fh),\r\n                            start_with_window = True,\r\n                            step_length = step_cv,\r\n                            fh = fh)\r\n\r\nparam_grid = [{\"boxcoxX__passthrough\": [False],\r\n               \"prophetforecaster__boxcox__passthrough\": [False],\r\n               \"prophetforecaster__prophet__seasonality_mode\": ['additive','multiplicative']},\r\n              {\"boxcoxX__passthrough\": [True],\r\n               \"prophetforecaster__boxcox__passthrough\": [True],\r\n               \"prophetforecaster__prophet__seasonality_mode\": ['additive','multiplicative']}\r\n             ]\r\n\r\n#grid search\r\ngscv_prophet = ForecastingGridSearchCV(\r\n            forecaster = pipe_prophet,\r\n            cv=cv,\r\n            param_grid=param_grid,\r\n            verbose = 1\r\n        )\r\n\r\n#fit\r\ngscv_prophet.fit(train_model, X = X_train, fh = [1,2,3])\r\n```\r\n\r\nThis error raise:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<[command-351381282254798]()> in <module>\r\n     51 \r\n     52 #fit\r\n---> 53 gscv_prophet.fit(train_model, X = X_train, fh = [1,2,3])\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/base/_base.py in fit(self, y, X, fh)\r\n    161         # we call the ordinary _fit if no looping/vectorization needed\r\n    162         if not vectorization_needed:\r\n--> 163             self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    164         else:\r\n    165             # otherwise we call the vectorized version of fit\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/model_selection/_tune.py in _fit(self, y, X, fh, **fit_params)\r\n    255 \r\n    256         # Run grid-search cross-validation.\r\n--> 257         results = self._run_search(evaluate_candidates)\r\n    258 \r\n    259         results = pd.DataFrame(results)\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/model_selection/_tune.py in _run_search(self, evaluate_candidates)\r\n    463         \"\"\"Search all candidates in param_grid.\"\"\"\r\n    464         _check_param_grid(self.param_grid)\r\n--> 465         return evaluate_candidates(ParameterGrid(self.param_grid))\r\n    466 \r\n    467     @classmethod\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/model_selection/_tune.py in evaluate_candidates(candidate_params)\r\n    241                 )\r\n    242 \r\n--> 243             out = parallel(\r\n    244                 delayed(_fit_and_score)(params) for params in candidate_params\r\n    245             )\r\n\r\n/databricks/python/lib/python3.8/site-packages/joblib/parallel.py in __call__(self, iterable)\r\n   1039             # remaining jobs.\r\n   1040             self._iterating = False\r\n-> 1041             if self.dispatch_one_batch(iterator):\r\n   1042                 self._iterating = self._original_iterator is not None\r\n   1043 \r\n\r\n/databricks/python/lib/python3.8/site-packages/joblib/parallel.py in dispatch_one_batch(self, iterator)\r\n    857                 return False\r\n    858             else:\r\n--> 859                 self._dispatch(tasks)\r\n    860                 return True\r\n    861 \r\n\r\n/databricks/python/lib/python3.8/site-packages/joblib/parallel.py in _dispatch(self, batch)\r\n    775         with self._lock:\r\n    776             job_idx = len(self._jobs)\r\n--> 777             job = self._backend.apply_async(batch, callback=cb)\r\n    778             # A job can complete so quickly than its callback is\r\n    779             # called before we get here, causing self._jobs to\r\n\r\n/databricks/python/lib/python3.8/site-packages/joblib/_parallel_backends.py in apply_async(self, func, callback)\r\n    206     def apply_async(self, func, callback=None):\r\n    207         \"\"\"Schedule a func to be run\"\"\"\r\n--> 208         result = ImmediateResult(func)\r\n    209         if callback:\r\n    210             callback(result)\r\n\r\n/databricks/python/lib/python3.8/site-packages/joblib/_parallel_backends.py in __init__(self, batch)\r\n    570         # Don't delay the application, to avoid keeping the input\r\n    571         # arguments in memory\r\n--> 572         self.results = batch()\r\n    573 \r\n    574     def get(self):\r\n\r\n/databricks/python/lib/python3.8/site-packages/joblib/parallel.py in __call__(self)\r\n    260         # change the default number of processes to -1\r\n    261         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n--> 262             return [func(*args, **kwargs)\r\n    263                     for func, args, kwargs in self.items]\r\n    264 \r\n\r\n/databricks/python/lib/python3.8/site-packages/joblib/parallel.py in <listcomp>(.0)\r\n    260         # change the default number of processes to -1\r\n    261         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n--> 262             return [func(*args, **kwargs)\r\n    263                     for func, args, kwargs in self.items]\r\n    264 \r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/model_selection/_tune.py in _fit_and_score(params)\r\n    206 \r\n    207             # Evaluate.\r\n--> 208             out = evaluate(\r\n    209                 forecaster,\r\n    210                 cv,\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py in evaluate(forecaster, cv, y, X, strategy, scoring, fit_params, return_data)\r\n    108         if i == 0 or strategy == \"refit\":\r\n    109             forecaster = clone(forecaster)\r\n--> 110             forecaster.fit(y_train, X_train, fh=fh, **fit_params)\r\n    111 \r\n    112         else:  # if strategy == \"update\":\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/base/_base.py in fit(self, y, X, fh)\r\n    161         # we call the ordinary _fit if no looping/vectorization needed\r\n    162         if not vectorization_needed:\r\n--> 163             self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    164         else:\r\n    165             # otherwise we call the vectorized version of fit\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/compose/_pipeline.py in _fit(self, y, X, fh)\r\n    243         name, forecaster = self.steps[-1]\r\n    244         f = clone(forecaster)\r\n--> 245         f.fit(y, X, fh)\r\n    246         self.steps_[-1] = (name, f)\r\n    247 \r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/base/_base.py in fit(self, y, X, fh)\r\n    149 \r\n    150         # check and convert X/y\r\n--> 151         X_inner, y_inner = self._check_X_y(X=X, y=y)\r\n    152 \r\n    153         # set internal X/y to the new X/y\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/base/_base.py in _check_X_y(self, X, y)\r\n    975         if X is not None and y is not None:\r\n    976             if self.get_tag(\"X-y-must-have-same-index\"):\r\n--> 977                 check_equal_time_index(X, y, mode=\"contains\")\r\n    978 \r\n    979             if y_scitype != X_scitype:\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/utils/validation/series.py in check_equal_time_index(mode, *ys)\r\n    272 \r\n    273         if failure_cond:\r\n--> 274             raise ValueError(msg)\r\n    275 \r\n    276 \r\n\r\nValueError: (time) indices of series 0 are not contained in index of series 0, extra indices are: PeriodIndex(['1947'], dtype='period[A-DEC]', freq='A-DEC')\r\n```","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1098774548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099112266","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1099112266","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1099112266,"node_id":"IC_kwDOCVKAsc5Bgx9K","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T12:00:34Z","updated_at":"2022-04-14T12:01:22Z","author_association":"COLLABORATOR","body":"Ok, I can confirm:\r\n\r\n* under 0.11.2, this errors out with the separate bug https://github.com/alan-turing-institute/sktime/pull/2456\r\n* on the fix branch #2456, this gives the same error as reported by @anthonygiorgio97, so: bug confirmed","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099112266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"id":6434041113,"node_id":"MCIPE_lADOCVKAsc5HvIWszwAAAAF_f60Z","url":"https://api.github.com/repos/sktime/sktime/issues/events/6434041113","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"moved_columns_in_project","commit_id":null,"commit_url":null,"created_at":"2022-04-14T12:00:41Z","project_card":{"id":80605349,"url":"https://api.github.com/projects/columns/cards/80605349","project_id":5198515,"project_url":"https://api.github.com/projects/5198515","column_name":"Reproduced/confirmed","previous_column_name":"Reproducing/confirming"},"performed_via_github_app":null},{"id":6434045003,"node_id":"MEE_lADOCVKAsc5HvIWszwAAAAF_f7xL","url":"https://api.github.com/repos/sktime/sktime/issues/events/6434045003","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-04-14T12:01:22Z","performed_via_github_app":null},{"id":6434045016,"node_id":"SE_lADOCVKAsc5HvIWszwAAAAF_f7xY","url":"https://api.github.com/repos/sktime/sktime/issues/events/6434045016","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-04-14T12:01:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099114921","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1099114921","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1099114921,"node_id":"IC_kwDOCVKAsc5Bgymp","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T12:04:08Z","updated_at":"2022-06-13T07:14:37Z","author_association":"COLLABORATOR","body":"reduced minimal example that produces the same error:\r\n\r\n```python\r\nfrom sktime.forecasting.compose import ForecastingPipeline \r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.transformations.series.difference import Differencer\r\nfrom sktime.datasets import load_longley\r\ny, X = load_longley()\r\n\r\n#split train/test both y and X\r\nfh = [1,2,3]\r\ntrain_model, test_model = temporal_train_test_split(y, fh = fh)\r\nX_train = X[X.index.isin(train_model.index)]\r\nX_test = X[X.index.isin(test_model.index)]\r\n\r\n#prophet pipeline\r\npipe_prophet = ForecastingPipeline(steps=[\r\n        (\"differencerX\", Differencer(drop_na = True)),\r\n        (\"prophetforecaster\", Prophet(yearly_seasonality='auto')),\r\n        ]\r\n)\r\n\r\n#fit\r\npipe_prophet.fit(train_model, X = X_train, fh = [1,2,3])\r\n```","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099114921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099115351","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1099115351","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1099115351,"node_id":"IC_kwDOCVKAsc5BgytX","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T12:04:37Z","updated_at":"2022-04-14T12:04:37Z","author_association":"COLLABORATOR","body":"this rules out problems with the inverse, since `ForecastingPipeline` does not call the differencer´s inverse","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099115351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099118477","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1099118477","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1099118477,"node_id":"IC_kwDOCVKAsc5BgzeN","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T12:08:38Z","updated_at":"2022-04-14T12:08:38Z","author_association":"COLLABORATOR","body":"ok, I think this is not a bug, but expected behaviour.\r\n\r\nWhy:\r\n* `Prophet` requires exogeneous data observed at all indices where a fit or forecast is being made\r\n* `Differencer`, when called with the parameter `drop_na=True`, eats away the first index, hence making it unavailable for `Prophet`\r\n* In the pipeline, the differencer eats one of the indices that `Prophet` would need, and the error message tells us that.\r\n\r\nSo, the solution would be to set `drop_na=False`.\r\n\r\nFor me, that leads to a different error, namely `Prophet` complaining about the index type. Which also seems reasonable to me, since the downstream `prophet` (from Facebook) doesn´t like the period index type of the Longley data (it's not an sktime restriction).","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099118477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099118802","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1099118802","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1099118802,"node_id":"IC_kwDOCVKAsc5BgzjS","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T12:09:06Z","updated_at":"2022-04-14T12:09:06Z","author_association":"COLLABORATOR","body":"Thoughts, @anthonygiorgio97?","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099118802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"id":6434090212,"node_id":"MEE_lADOCVKAsc5HvIWszwAAAAF_gGzk","url":"https://api.github.com/repos/sktime/sktime/issues/events/6434090212","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-04-14T12:09:06Z","performed_via_github_app":null},{"id":6434090216,"node_id":"SE_lADOCVKAsc5HvIWszwAAAAF_gGzo","url":"https://api.github.com/repos/sktime/sktime/issues/events/6434090216","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-04-14T12:09:06Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099130679","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1099130679","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1099130679,"node_id":"IC_kwDOCVKAsc5Bg2c3","user":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T12:24:42Z","updated_at":"2022-04-14T12:24:42Z","author_association":"NONE","body":"@fkiraly It's partially true, because I use `Differencer` both for exogenous X and endogenous y data. So the \"double\" `Differencer` operator would eat both the first index of y and the first index of X and both series should start at the second timepoint. Unless this kind of control is under `TransformedTargetForecaster`  and so before the `Differencer` operation on y.\r\n\r\nIf I use `drop_na = False` and I change index to timestamp, the prophet forecaster seems to initialize but then it stops giving me the error \"Found NaN\"\r\n\r\nThere is a way to perform the Differencer on both X and y series in a pipeline?","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099130679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false}},{"id":6434178867,"node_id":"MEE_lADOCVKAsc5HvIWszwAAAAF_gccz","url":"https://api.github.com/repos/sktime/sktime/issues/events/6434178867","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-04-14T12:24:42Z","performed_via_github_app":null},{"id":6434178875,"node_id":"SE_lADOCVKAsc5HvIWszwAAAAF_gcc7","url":"https://api.github.com/repos/sktime/sktime/issues/events/6434178875","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-04-14T12:24:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099333326","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1099333326","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1099333326,"node_id":"IC_kwDOCVKAsc5Bhn7O","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T15:57:14Z","updated_at":"2022-04-14T16:30:15Z","author_association":"COLLABORATOR","body":"argh, ok. Yes, I see why you think the differencer eating both indices should work.\r\n\r\nUnfortunately, it is not as straightforward, because you need to prevent any intermediate situation where an index in `y` is not there in `X` (because all estimators in your pipe require this to not happen). My \"naive\" approach would be reversing the order of the pipeline nesting, i.e., have the `TransformedTargetForecaster` *outside* and the `ForecastingPipeline` *inside*. That would eat away the first `y` index *first* and only *then* the first `X` index.\r\n\r\nMore generally, I feel it would be easier to deal with sth like this if the `Differencer` had a `fill_na` setting... perhaps a good idea for a new issue?\r\n\r\nRegarding the \"found NaN\" problem, this is also coming from a property of `Prophet`, namely that it cannot deal with NaNs, I think? You could solve that by putting an `Imputer` in the pipeline before the NaNs reach `Prophet`.\r\n\r\nAlthough the most elegant solution would be a `fill_na` in `Differencer`, that would allow to side-step both hacks which seem a bit excessive given that we are only dealing with a single nan here.","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1099333326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false}},{"actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-14T15:59:51Z","updated_at":"2022-04-14T15:59:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sktime/sktime/issues/2478","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/2478/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/2478/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/2478/events","html_url":"https://github.com/sktime/sktime/issues/2478","id":1204715096,"node_id":"I_kwDOCVKAsc5Hzn5Y","number":2478,"title":"[ENH] `Differencer` NA handling parameter","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"labels":[{"id":1118163264,"node_id":"MDU6TGFiZWwxMTE4MTYzMjY0","url":"https://api.github.com/repos/sktime/sktime/labels/feature%20request","name":"feature request","color":"38d191","default":false,"description":"New feature or request"},{"id":1118163266,"node_id":"MDU6TGFiZWwxMTE4MTYzMjY2","url":"https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue","name":"good first issue","color":"9eff91","default":true,"description":"Good for newcomers"},{"id":3105906374,"node_id":"MDU6TGFiZWwzMTA1OTA2Mzc0","url":"https://api.github.com/repos/sktime/sktime/labels/module:forecasting","name":"module:forecasting","color":"35FCCE","default":false,"description":""},{"id":3796180314,"node_id":"LA_kwDOCVKAsc7iRR1a","url":"https://api.github.com/repos/sktime/sktime/labels/enhancement","name":"enhancement","color":"fef2c0","default":true,"description":"Adding new functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-04-14T15:59:51Z","updated_at":"2022-06-16T17:13:45Z","closed_at":"2022-06-16T17:13:45Z","author_association":"COLLABORATOR","active_lock_reason":null,"repository":{"id":156401841,"node_id":"MDEwOlJlcG9zaXRvcnkxNTY0MDE4NDE=","name":"sktime","full_name":"sktime/sktime","private":false,"owner":{"login":"sktime","id":56396127,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2Mzk2MTI3","avatar_url":"https://avatars.githubusercontent.com/u/56396127?v=4","gravatar_id":"","url":"https://api.github.com/users/sktime","html_url":"https://github.com/sktime","followers_url":"https://api.github.com/users/sktime/followers","following_url":"https://api.github.com/users/sktime/following{/other_user}","gists_url":"https://api.github.com/users/sktime/gists{/gist_id}","starred_url":"https://api.github.com/users/sktime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sktime/subscriptions","organizations_url":"https://api.github.com/users/sktime/orgs","repos_url":"https://api.github.com/users/sktime/repos","events_url":"https://api.github.com/users/sktime/events{/privacy}","received_events_url":"https://api.github.com/users/sktime/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/sktime/sktime","description":"A unified framework for machine learning with time series","fork":false,"url":"https://api.github.com/repos/sktime/sktime","forks_url":"https://api.github.com/repos/sktime/sktime/forks","keys_url":"https://api.github.com/repos/sktime/sktime/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sktime/sktime/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sktime/sktime/teams","hooks_url":"https://api.github.com/repos/sktime/sktime/hooks","issue_events_url":"https://api.github.com/repos/sktime/sktime/issues/events{/number}","events_url":"https://api.github.com/repos/sktime/sktime/events","assignees_url":"https://api.github.com/repos/sktime/sktime/assignees{/user}","branches_url":"https://api.github.com/repos/sktime/sktime/branches{/branch}","tags_url":"https://api.github.com/repos/sktime/sktime/tags","blobs_url":"https://api.github.com/repos/sktime/sktime/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sktime/sktime/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sktime/sktime/git/refs{/sha}","trees_url":"https://api.github.com/repos/sktime/sktime/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sktime/sktime/statuses/{sha}","languages_url":"https://api.github.com/repos/sktime/sktime/languages","stargazers_url":"https://api.github.com/repos/sktime/sktime/stargazers","contributors_url":"https://api.github.com/repos/sktime/sktime/contributors","subscribers_url":"https://api.github.com/repos/sktime/sktime/subscribers","subscription_url":"https://api.github.com/repos/sktime/sktime/subscription","commits_url":"https://api.github.com/repos/sktime/sktime/commits{/sha}","git_commits_url":"https://api.github.com/repos/sktime/sktime/git/commits{/sha}","comments_url":"https://api.github.com/repos/sktime/sktime/comments{/number}","issue_comment_url":"https://api.github.com/repos/sktime/sktime/issues/comments{/number}","contents_url":"https://api.github.com/repos/sktime/sktime/contents/{+path}","compare_url":"https://api.github.com/repos/sktime/sktime/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sktime/sktime/merges","archive_url":"https://api.github.com/repos/sktime/sktime/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sktime/sktime/downloads","issues_url":"https://api.github.com/repos/sktime/sktime/issues{/number}","pulls_url":"https://api.github.com/repos/sktime/sktime/pulls{/number}","milestones_url":"https://api.github.com/repos/sktime/sktime/milestones{/number}","notifications_url":"https://api.github.com/repos/sktime/sktime/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sktime/sktime/labels{/name}","releases_url":"https://api.github.com/repos/sktime/sktime/releases{/id}","deployments_url":"https://api.github.com/repos/sktime/sktime/deployments","created_at":"2018-11-06T15:08:24Z","updated_at":"2023-01-18T23:14:26Z","pushed_at":"2023-01-19T01:03:12Z","git_url":"git://github.com/sktime/sktime.git","ssh_url":"git@github.com:sktime/sktime.git","clone_url":"https://github.com/sktime/sktime.git","svn_url":"https://github.com/sktime/sktime","homepage":"https://sktime.org","size":56007,"stargazers_count":6043,"watchers_count":6043,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1009,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":649,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["data-mining","data-science","forecasting","machine-learning","scikit-learn","time-series","time-series-analysis","time-series-classification","time-series-regression"],"visibility":"public","forks":1009,"open_issues":649,"watchers":6043,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The first entry is being eaten by the `Differencer` in its current standard setting, which may cause user frustration, especially when combined with a pipeline (which is its \"typical use\"), see e.g., here: https://github.com/alan-turing-institute/sktime/issues/2452\r\n\r\nWe should add an NA handling parameter setting and make the default to fill in sth for the first value, e.g., a difference from an earlier seen training set, or the value 0 or sth.","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/2478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/2478/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"created_at":"2022-04-15T14:52:40Z","updated_at":"2022-04-15T14:52:40Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sktime/sktime/issues/2487","repository_url":"https://api.github.com/repos/sktime/sktime","labels_url":"https://api.github.com/repos/sktime/sktime/issues/2487/labels{/name}","comments_url":"https://api.github.com/repos/sktime/sktime/issues/2487/comments","events_url":"https://api.github.com/repos/sktime/sktime/issues/2487/events","html_url":"https://github.com/sktime/sktime/pull/2487","id":1205638272,"node_id":"PR_kwDOCVKAsc42S0IU","number":2487,"title":"[ENH] Differencer NA handling - \"fill zero\" parameter","user":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"labels":[{"id":1180387595,"node_id":"MDU6TGFiZWwxMTgwMzg3NTk1","url":"https://api.github.com/repos/sktime/sktime/labels/implementing%20algorithms","name":"implementing algorithms","color":"c5c0f7","default":false,"description":"Implementing new algorithms/estimators"},{"id":3105907331,"node_id":"MDU6TGFiZWwzMTA1OTA3MzMx","url":"https://api.github.com/repos/sktime/sktime/labels/module:transformations","name":"module:transformations","color":"0865AF","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-15T14:52:40Z","updated_at":"2022-04-28T19:25:36Z","closed_at":"2022-04-28T19:25:35Z","author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"repository":{"id":156401841,"node_id":"MDEwOlJlcG9zaXRvcnkxNTY0MDE4NDE=","name":"sktime","full_name":"sktime/sktime","private":false,"owner":{"login":"sktime","id":56396127,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2Mzk2MTI3","avatar_url":"https://avatars.githubusercontent.com/u/56396127?v=4","gravatar_id":"","url":"https://api.github.com/users/sktime","html_url":"https://github.com/sktime","followers_url":"https://api.github.com/users/sktime/followers","following_url":"https://api.github.com/users/sktime/following{/other_user}","gists_url":"https://api.github.com/users/sktime/gists{/gist_id}","starred_url":"https://api.github.com/users/sktime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sktime/subscriptions","organizations_url":"https://api.github.com/users/sktime/orgs","repos_url":"https://api.github.com/users/sktime/repos","events_url":"https://api.github.com/users/sktime/events{/privacy}","received_events_url":"https://api.github.com/users/sktime/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/sktime/sktime","description":"A unified framework for machine learning with time series","fork":false,"url":"https://api.github.com/repos/sktime/sktime","forks_url":"https://api.github.com/repos/sktime/sktime/forks","keys_url":"https://api.github.com/repos/sktime/sktime/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sktime/sktime/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sktime/sktime/teams","hooks_url":"https://api.github.com/repos/sktime/sktime/hooks","issue_events_url":"https://api.github.com/repos/sktime/sktime/issues/events{/number}","events_url":"https://api.github.com/repos/sktime/sktime/events","assignees_url":"https://api.github.com/repos/sktime/sktime/assignees{/user}","branches_url":"https://api.github.com/repos/sktime/sktime/branches{/branch}","tags_url":"https://api.github.com/repos/sktime/sktime/tags","blobs_url":"https://api.github.com/repos/sktime/sktime/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sktime/sktime/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sktime/sktime/git/refs{/sha}","trees_url":"https://api.github.com/repos/sktime/sktime/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sktime/sktime/statuses/{sha}","languages_url":"https://api.github.com/repos/sktime/sktime/languages","stargazers_url":"https://api.github.com/repos/sktime/sktime/stargazers","contributors_url":"https://api.github.com/repos/sktime/sktime/contributors","subscribers_url":"https://api.github.com/repos/sktime/sktime/subscribers","subscription_url":"https://api.github.com/repos/sktime/sktime/subscription","commits_url":"https://api.github.com/repos/sktime/sktime/commits{/sha}","git_commits_url":"https://api.github.com/repos/sktime/sktime/git/commits{/sha}","comments_url":"https://api.github.com/repos/sktime/sktime/comments{/number}","issue_comment_url":"https://api.github.com/repos/sktime/sktime/issues/comments{/number}","contents_url":"https://api.github.com/repos/sktime/sktime/contents/{+path}","compare_url":"https://api.github.com/repos/sktime/sktime/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sktime/sktime/merges","archive_url":"https://api.github.com/repos/sktime/sktime/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sktime/sktime/downloads","issues_url":"https://api.github.com/repos/sktime/sktime/issues{/number}","pulls_url":"https://api.github.com/repos/sktime/sktime/pulls{/number}","milestones_url":"https://api.github.com/repos/sktime/sktime/milestones{/number}","notifications_url":"https://api.github.com/repos/sktime/sktime/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sktime/sktime/labels{/name}","releases_url":"https://api.github.com/repos/sktime/sktime/releases{/id}","deployments_url":"https://api.github.com/repos/sktime/sktime/deployments","created_at":"2018-11-06T15:08:24Z","updated_at":"2023-01-18T23:14:26Z","pushed_at":"2023-01-19T01:03:12Z","git_url":"git://github.com/sktime/sktime.git","ssh_url":"git@github.com:sktime/sktime.git","clone_url":"https://github.com/sktime/sktime.git","svn_url":"https://github.com/sktime/sktime","homepage":"https://sktime.org","size":56007,"stargazers_count":6043,"watchers_count":6043,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1009,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":649,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["data-mining","data-science","forecasting","machine-learning","scikit-learn","time-series","time-series-analysis","time-series-classification","time-series-regression"],"visibility":"public","forks":1009,"open_issues":649,"watchers":6043,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sktime/sktime/pulls/2487","html_url":"https://github.com/sktime/sktime/pull/2487","diff_url":"https://github.com/sktime/sktime/pull/2487.diff","patch_url":"https://github.com/sktime/sktime/pull/2487.patch","merged_at":"2022-04-28T19:25:35Z"},"body":"From a pair programming session with @lbventur (at the community meetup).\r\n\r\nThis PR solves #2478, it upgrades `Differencer` with NA handling parameter `na_handling`, which allows, besides the two current behaviours, a third behaviour `fill_zero` that fills zero.\r\n\r\nThis parameter replaces the boolean `drop_na` parameter, and adds deprecation with replacement at 0.13.0, and move to a `fill_zero` default.\r\n\r\nWhy is the `fill_zero` parameter a better default? It results in a \"same index\" and \"no NA\" condition at the end, which is the most compatible out of the alternatives when used in a pipeline. See also discussion (and user frustration) here: https://github.com/alan-turing-institute/sktime/issues/2452 and here: https://github.com/alan-turing-institute/sktime/issues/2451","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/2487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sktime/sktime/issues/2487/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1100713332","html_url":"https://github.com/sktime/sktime/issues/2452#issuecomment-1100713332","issue_url":"https://api.github.com/repos/sktime/sktime/issues/2452","id":1100713332,"node_id":"IC_kwDOCVKAsc5Bm410","user":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false},"created_at":"2022-04-16T17:23:13Z","updated_at":"2022-04-16T18:15:13Z","author_association":"NONE","body":"@fkiraly ok I have tried to reverse pipelines. Now if I use a `make_reduction` model like SVR() as follow, the pipeline work.\r\n\r\n```\r\nfrom sktime.transformations.series.boxcox import LogTransformer\r\nfrom sktime.forecasting.compose import ForecastingPipeline, TransformedTargetForecaster\r\nfrom sktime.transformations.series.compose import OptionalPassthrough\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.transformations.series.difference import Differencer\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter, temporal_train_test_split, ForecastingGridSearchCV\r\nfrom sktime.forecasting.compose import make_reduction\r\nfrom sklearn.svm import SVR\r\nfrom sktime.datasets import load_longley\r\ny, X = load_longley()\r\n\r\n#split train/test both y and X\r\nfh = [1,2]\r\ntrain_model, test_model = temporal_train_test_split(y, fh = fh)\r\nX_train = X[X.index.isin(train_model.index)]\r\nX_test = X[X.index.isin(test_model.index)]\r\n\r\n#pipeline\r\npipe = TransformedTargetForecaster(steps = [\r\n            (\"log\", OptionalPassthrough(LogTransformer())),\r\n            (\"differencer\", Differencer(drop_na = True)),\r\n            (\"myforecasterpipe\", ForecastingPipeline(steps = [\r\n                (\"logX\", OptionalPassthrough(LogTransformer())),\r\n                (\"differencerX\", Differencer(drop_na = True)),\r\n                (\"myforecaster\", make_reduction(SVR(), window_length = 3))\r\n        ]))  \r\n])               \r\n\r\n#cv setup\r\nN_cv_fold = 1\r\nstep_cv = 1\r\ncv = ExpandingWindowSplitter(initial_window = len(train_model) - (N_cv_fold - 1) * step_cv - len(fh),\r\n                            start_with_window = True,\r\n                            step_length = step_cv,\r\n                            fh = fh)\r\n\r\nparam_grid = [{\"log__passthrough\": [False],\r\n               \"myforecasterpipe__logX__passthrough\": [False]\r\n              },\r\n              {\"log__passthrough\": [True],\r\n               \"myforecasterpipe__logX__passthrough\": [True]\r\n              }\r\n             ]\r\n\r\n#grid search\r\ngscv = ForecastingGridSearchCV(\r\n            forecaster = pipe,\r\n            cv=cv,\r\n            param_grid=param_grid,\r\n            verbose = 1\r\n        )\r\n\r\n#fit\r\ngscv.fit(train_model, X = X_train)\r\n```\r\n\r\nHowever if I want to use Prophet now I face up with another error. This is the sample code I'm using:\r\n\r\n```\r\nfrom sktime.transformations.series.boxcox import LogTransformer\r\nfrom sktime.forecasting.compose import ForecastingPipeline, TransformedTargetForecaster\r\nfrom sktime.transformations.series.compose import OptionalPassthrough\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.transformations.series.difference import Differencer\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter, temporal_train_test_split, ForecastingGridSearchCV\r\nfrom sktime.datasets import load_longley\r\ny, X = load_longley()\r\n\r\n#split train/test both y and X\r\nfh = [1,2]\r\ntrain_model, test_model = temporal_train_test_split(y, fh = fh)\r\nX_train = X[X.index.isin(train_model.index)]\r\nX_test = X[X.index.isin(test_model.index)]\r\n\r\ntrain_model.index = train_model.index.to_timestamp(freq='A')\r\nX_train.index = X_train.index.to_timestamp(freq='A')\r\nX_test.index = X_test.index.to_timestamp(freq='A')\r\n\r\n#pipeline\r\npipe = TransformedTargetForecaster(steps = [\r\n            (\"log\", OptionalPassthrough(LogTransformer())),\r\n            (\"differencer\", Differencer(drop_na = True)),\r\n            (\"myforecasterpipe\", ForecastingPipeline(steps = [\r\n                (\"logX\", OptionalPassthrough(LogTransformer())),\r\n                (\"differencerX\", Differencer(drop_na = True)),\r\n                (\"myforecaster\", Prophet())\r\n        ]))  \r\n])               \r\n\r\n#cv setup\r\nN_cv_fold = 1\r\nstep_cv = 1\r\ncv = ExpandingWindowSplitter(initial_window = len(train_model) - (N_cv_fold - 1) * step_cv - len(fh),\r\n                            start_with_window = True,\r\n                            step_length = step_cv,\r\n                            fh = fh)\r\n\r\nparam_grid = [{\"log__passthrough\": [False],\r\n               \"myforecasterpipe__logX__passthrough\": [False]\r\n              },\r\n              {\"log__passthrough\": [True],\r\n               \"myforecasterpipe__logX__passthrough\": [True]\r\n              }\r\n             ]\r\n\r\n#grid search\r\ngscv = ForecastingGridSearchCV(\r\n            forecaster = pipe,\r\n            cv=cv,\r\n            param_grid=param_grid,\r\n            verbose = 1\r\n        )\r\n\r\n#fit\r\ngscv.fit(train_model, X = X_train)\r\n```\r\n\r\nThe error is this:\r\n\r\nValueError: Must supply freq for datetime value\r\n\r\nIt seems strange because freq is set as 'A' before fitting for train_model and X_train","reactions":{"url":"https://api.github.com/repos/sktime/sktime/issues/comments/1100713332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anthonygiorgio97","id":67336832,"node_id":"MDQ6VXNlcjY3MzM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/67336832?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonygiorgio97","html_url":"https://github.com/anthonygiorgio97","followers_url":"https://api.github.com/users/anthonygiorgio97/followers","following_url":"https://api.github.com/users/anthonygiorgio97/following{/other_user}","gists_url":"https://api.github.com/users/anthonygiorgio97/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonygiorgio97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonygiorgio97/subscriptions","organizations_url":"https://api.github.com/users/anthonygiorgio97/orgs","repos_url":"https://api.github.com/users/anthonygiorgio97/repos","events_url":"https://api.github.com/users/anthonygiorgio97/events{/privacy}","received_events_url":"https://api.github.com/users/anthonygiorgio97/received_events","type":"User","site_admin":false}},{"id":6443637871,"node_id":"MEE_lADOCVKAsc5HvIWszwAAAAGAEhxv","url":"https://api.github.com/repos/sktime/sktime/issues/events/6443637871","actor":{"login":"fkiraly","id":7985502,"node_id":"MDQ6VXNlcjc5ODU1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7985502?v=4","gravatar_id":"","url":"https://api.github.com/users/fkiraly","html_url":"https://github.com/fkiraly","followers_url":"https://api.github.com/users/fkiraly/followers","following_url":"https://api.github.com/users/fkiraly/following{/other_user}","gists_url":"https://api.github.com/users/fkiraly/gists{/gist_id}","starred_url":"https://api.github.com/users/fkiraly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkiraly/subscriptions","organizations_url":"https://api.github.com/users/fkiraly/orgs","repos_url":"https://api.github.com/users/fkiraly/repos","events_url":"https://api.github.com/users/fkiraly/events{/privacy}","received_events_url":"https://api.github.com/users/fkiraly/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-04-16T17:23:13Z","performed_via_github_app":null}]