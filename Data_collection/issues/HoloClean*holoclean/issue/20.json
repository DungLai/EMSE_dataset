{"url":"https://api.github.com/repos/HoloClean/holoclean/issues/20","repository_url":"https://api.github.com/repos/HoloClean/holoclean","labels_url":"https://api.github.com/repos/HoloClean/holoclean/issues/20/labels{/name}","comments_url":"https://api.github.com/repos/HoloClean/holoclean/issues/20/comments","events_url":"https://api.github.com/repos/HoloClean/holoclean/issues/20/events","html_url":"https://github.com/HoloClean/holoclean/issues/20","id":381340704,"node_id":"MDU6SXNzdWUzODEzNDA3MDQ=","number":20,"title":"Re-factor use of exception handlers","user":{"login":"richardwu","id":10563314,"node_id":"MDQ6VXNlcjEwNTYzMzE0","avatar_url":"https://avatars.githubusercontent.com/u/10563314?v=4","gravatar_id":"","url":"https://api.github.com/users/richardwu","html_url":"https://github.com/richardwu","followers_url":"https://api.github.com/users/richardwu/followers","following_url":"https://api.github.com/users/richardwu/following{/other_user}","gists_url":"https://api.github.com/users/richardwu/gists{/gist_id}","starred_url":"https://api.github.com/users/richardwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardwu/subscriptions","organizations_url":"https://api.github.com/users/richardwu/orgs","repos_url":"https://api.github.com/users/richardwu/repos","events_url":"https://api.github.com/users/richardwu/events{/privacy}","received_events_url":"https://api.github.com/users/richardwu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-11-15T21:11:07Z","updated_at":"2018-11-20T20:08:09Z","closed_at":"2018-11-20T20:08:09Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"There are two unfortunate use-patterns of exception handlers in the codebase atm:\r\n\r\n### 1. silencing exceptions with status messages\r\n\r\n[Example](https://github.com/HoloClean/holoclean/pull/18/commits/01a3ff005184c9d2f9c036075484fea3fa97b68d#diff-3ec67dd483b0c890fa7fbc6499254b4dL138) and [fix](https://github.com/HoloClean/holoclean/pull/18/commits/01a3ff005184c9d2f9c036075484fea3fa97b68d#diff-3ec67dd483b0c890fa7fbc6499254b4dR174).\r\n\r\nWe catch an exception then only return the error message in the `status` variable. This is bad since it silences programming errors like `OutOfRangeError`s that should be propagated. Note the fix consists of two components:\r\n1. Using `logging.error` to add additional context information\r\n2. **Re-raise** (not raise another exception) via `raise` with **no arguments**. This keeps the stack trace intact for debugging/logs.\r\n\r\n### 2. catching exceptions and raising a wrapped exception\r\n\r\n[Example](https://github.com/HoloClean/holoclean/pull/18/commits/01a3ff005184c9d2f9c036075484fea3fa97b68d#diff-3ec67dd483b0c890fa7fbc6499254b4dL138) and [fix](https://github.com/HoloClean/holoclean/pull/18/commits/01a3ff005184c9d2f9c036075484fea3fa97b68d#diff-3ec67dd483b0c890fa7fbc6499254b4dR160).\r\n\r\nSimilar to 1. above, we should be using `logging.error` and `raise` with no arguments to add context and re-raise the exception.\r\n","closed_by":{"login":"thodrek","id":1043311,"node_id":"MDQ6VXNlcjEwNDMzMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1043311?v=4","gravatar_id":"","url":"https://api.github.com/users/thodrek","html_url":"https://github.com/thodrek","followers_url":"https://api.github.com/users/thodrek/followers","following_url":"https://api.github.com/users/thodrek/following{/other_user}","gists_url":"https://api.github.com/users/thodrek/gists{/gist_id}","starred_url":"https://api.github.com/users/thodrek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thodrek/subscriptions","organizations_url":"https://api.github.com/users/thodrek/orgs","repos_url":"https://api.github.com/users/thodrek/repos","events_url":"https://api.github.com/users/thodrek/events{/privacy}","received_events_url":"https://api.github.com/users/thodrek/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/HoloClean/holoclean/issues/20/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HoloClean/holoclean/issues/20/timeline","performed_via_github_app":null,"state_reason":"completed"}