{"url":"https://api.github.com/repos/HoloClean/holoclean/issues/44","repository_url":"https://api.github.com/repos/HoloClean/holoclean","labels_url":"https://api.github.com/repos/HoloClean/holoclean/issues/44/labels{/name}","comments_url":"https://api.github.com/repos/HoloClean/holoclean/issues/44/comments","events_url":"https://api.github.com/repos/HoloClean/holoclean/issues/44/events","html_url":"https://github.com/HoloClean/holoclean/issues/44","id":395921455,"node_id":"MDU6SXNzdWUzOTU5MjE0NTU=","number":44,"title":"translation of simple DCs with a constant to SQL queries not working","user":{"login":"pmaetzig","id":16361980,"node_id":"MDQ6VXNlcjE2MzYxOTgw","avatar_url":"https://avatars.githubusercontent.com/u/16361980?v=4","gravatar_id":"","url":"https://api.github.com/users/pmaetzig","html_url":"https://github.com/pmaetzig","followers_url":"https://api.github.com/users/pmaetzig/followers","following_url":"https://api.github.com/users/pmaetzig/following{/other_user}","gists_url":"https://api.github.com/users/pmaetzig/gists{/gist_id}","starred_url":"https://api.github.com/users/pmaetzig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmaetzig/subscriptions","organizations_url":"https://api.github.com/users/pmaetzig/orgs","repos_url":"https://api.github.com/users/pmaetzig/repos","events_url":"https://api.github.com/users/pmaetzig/events{/privacy}","received_events_url":"https://api.github.com/users/pmaetzig/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"minafarid","id":9206118,"node_id":"MDQ6VXNlcjkyMDYxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/9206118?v=4","gravatar_id":"","url":"https://api.github.com/users/minafarid","html_url":"https://github.com/minafarid","followers_url":"https://api.github.com/users/minafarid/followers","following_url":"https://api.github.com/users/minafarid/following{/other_user}","gists_url":"https://api.github.com/users/minafarid/gists{/gist_id}","starred_url":"https://api.github.com/users/minafarid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minafarid/subscriptions","organizations_url":"https://api.github.com/users/minafarid/orgs","repos_url":"https://api.github.com/users/minafarid/repos","events_url":"https://api.github.com/users/minafarid/events{/privacy}","received_events_url":"https://api.github.com/users/minafarid/received_events","type":"User","site_admin":false},"assignees":[{"login":"minafarid","id":9206118,"node_id":"MDQ6VXNlcjkyMDYxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/9206118?v=4","gravatar_id":"","url":"https://api.github.com/users/minafarid","html_url":"https://github.com/minafarid","followers_url":"https://api.github.com/users/minafarid/followers","following_url":"https://api.github.com/users/minafarid/following{/other_user}","gists_url":"https://api.github.com/users/minafarid/gists{/gist_id}","starred_url":"https://api.github.com/users/minafarid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minafarid/subscriptions","organizations_url":"https://api.github.com/users/minafarid/orgs","repos_url":"https://api.github.com/users/minafarid/repos","events_url":"https://api.github.com/users/minafarid/events{/privacy}","received_events_url":"https://api.github.com/users/minafarid/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2019-01-04T13:14:42Z","updated_at":"2019-09-21T11:41:59Z","closed_at":"2019-09-21T11:41:59Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nwhen I implement simple DCs that compare the given attribute to a constant, HoloClean does not generate a syntactically correct SQL query from that DC. I reproduced this behaviour on the [iris dataset](https://gist.github.com/curran/a08a1080b88344b0c8a7) as I can't share my data.\r\n\r\n# The data\r\n\r\nThe iris dataset and one single  - semantically nonsensical, but syntactically ok - denial constraint that looks like the following:\r\n\r\n    t1&EQ(t1.sepal_length,\"6.9\")\r\n\r\n# The error\r\n\r\nError detection according to the DC works fine (the constraint detects 4 cells which is expected from the data). \r\n\r\nHowever, during the call of `repair_errors`, the following error occurs:\r\n\r\n    ProgrammingError: syntax error at or near \"AND\"\r\n    LINE 1: ...= t2._tid_ AND t2.attribute = 'sepal_length' AND  AND t2.rv_...\r\n\r\nWhich fails to be executed due to the \"AND AND\". Some digging makes me think that the error occurs during setting up the featurizers, more specifically when the tensor for the dcfeaturizer is created (l.17 in repair/featurize/featurize.py ).\r\n\r\nAny ideas on why that might happen; perhaps a faulty template for the SQL queries?\r\n\r\n\r\n","closed_by":{"login":"thodrek","id":1043311,"node_id":"MDQ6VXNlcjEwNDMzMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1043311?v=4","gravatar_id":"","url":"https://api.github.com/users/thodrek","html_url":"https://github.com/thodrek","followers_url":"https://api.github.com/users/thodrek/followers","following_url":"https://api.github.com/users/thodrek/following{/other_user}","gists_url":"https://api.github.com/users/thodrek/gists{/gist_id}","starred_url":"https://api.github.com/users/thodrek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thodrek/subscriptions","organizations_url":"https://api.github.com/users/thodrek/orgs","repos_url":"https://api.github.com/users/thodrek/repos","events_url":"https://api.github.com/users/thodrek/events{/privacy}","received_events_url":"https://api.github.com/users/thodrek/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/HoloClean/holoclean/issues/44/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HoloClean/holoclean/issues/44/timeline","performed_via_github_app":null,"state_reason":"completed"}