{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37","repository_url":"https://api.github.com/repos/nanoporetech/taiyaki","labels_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37/labels{/name}","comments_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37/comments","events_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37/events","html_url":"https://github.com/nanoporetech/taiyaki/issues/37","id":476735139,"node_id":"MDU6SXNzdWU0NzY3MzUxMzk=","number":37,"title":"RuntimeError: cuDNN error: CUDNN_STATUS_EXECUTION_FAILED","user":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-08-05T08:53:20Z","updated_at":"2019-08-05T12:56:58Z","closed_at":"2019-08-05T12:56:58Z","author_association":"NONE","active_lock_reason":null,"body":"Dear All,\r\nWith several attempts to run taiyaki/bin/train_mod_flipflop.py, I am ending up with an error related to cuDNN. Could you please help me resolve this? The error is as follows-\r\n```\r\n* Taiyaki version 4.1.0\r\n* Command line\r\n/home/gaurav/current_account/soft_scripts/ONT/taiyaki/bin/train_mod_flipflop.py --device 0 --mod_factor 0.01 --outdir training_walk_3 /home/gaurav/current_account/soft_scripts/ONT/taiyaki/models/mGru_cat_mod_flipflop.py intermediate_files/modbase_walk_3.hdf5 --overwrite\r\n* Loading data from intermediate_files/modbase_walk_3.hdf5\r\n* Per read file MD5 243a48f6886023013630f367d73be3eb\r\n* Will train from all strands\r\n* Loaded 5891 reads.\r\n* Using alphabet definition: canonical alphabet ACGT with modified base(s) Y=6mA (alt to A), Z=5mC (alt to C)\r\n* Sampled 1000 chunks: median(mean_dwell)=9.87, mad(mean_dwell)=0.86\r\n* Reading network from /home/gaurav/current_account/soft_scripts/ONT/taiyaki/models/mGru_cat_mod_flipflop.py\r\n1.0.0\r\nTraceback (most recent call last):\r\n  File \"/home/gaurav/current_account/soft_scripts/ONT/taiyaki/bin/train_mod_flipflop.py\", line 358, in <module>\r\n    main()\r\n  File \"/home/gaurav/current_account/soft_scripts/ONT/taiyaki/bin/train_mod_flipflop.py\", line 202, in main\r\n    network = helpers.load_model(args.model, **model_kwargs).to(device)\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/module.py\", line 381, in to\r\n    return self._apply(convert)\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/module.py\", line 187, in _apply\r\n    module._apply(fn)\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/module.py\", line 187, in _apply\r\n    module._apply(fn)\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/module.py\", line 187, in _apply\r\n    module._apply(fn)\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/module.py\", line 187, in _apply\r\n    module._apply(fn)\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/rnn.py\", line 118, in _apply\r\n    self.flatten_parameters()\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/rnn.py\", line 114, in flatten_parameters\r\n    self.batch_first, bool(self.bidirectional))\r\nRuntimeError: cuDNN error: CUDNN_STATUS_EXECUTION_FAILED\r\n\r\nreal\t0m12.389s\r\nuser\t0m16.438s\r\nsys\t0m14.909s\r\n```\r\nAdditional info:\r\nI have installed- CUDA v10.0.13, cuDNN v7.4.1 (compatibile with CUDA v10.0; also tried cuDNN v7.6.2), nvcc and python 2.7 and 3.5 are available system-wide. Graphic card- NVIDIA GEFORCE RTX-2080-Ti along with Nvidia driver v410.48. I have installed Taiyaki in venv as recommended and the 'make install' process successfully installs all the dependencies including pytorch v1.0.0 (which I believe is also associated with the error).  \r\nI also believe that this could be an issue of incompatibilities between different versions of CUDA, cuDNN, Pytorch, Python, Nvidia driver and graphic card. Thus, it would also be helpful if anyone of you running Taiyaki successfully on NVIDIA GEFORCE RTX-2080-Ti graphic card can post versions of different dependencies mentioned above. Many thanks !\r\n\r\nBest,\r\nGaurav ","closed_by":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37/timeline","performed_via_github_app":null,"state_reason":"completed"}