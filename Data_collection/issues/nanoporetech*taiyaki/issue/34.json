{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/34","repository_url":"https://api.github.com/repos/nanoporetech/taiyaki","labels_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/34/labels{/name}","comments_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/34/comments","events_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/34/events","html_url":"https://github.com/nanoporetech/taiyaki/issues/34","id":470935605,"node_id":"MDU6SXNzdWU0NzA5MzU2MDU=","number":34,"title":"OSerror when I tried to use trained model file to predict test data","user":{"login":"weir12","id":37523816,"node_id":"MDQ6VXNlcjM3NTIzODE2","avatar_url":"https://avatars.githubusercontent.com/u/37523816?v=4","gravatar_id":"","url":"https://api.github.com/users/weir12","html_url":"https://github.com/weir12","followers_url":"https://api.github.com/users/weir12/followers","following_url":"https://api.github.com/users/weir12/following{/other_user}","gists_url":"https://api.github.com/users/weir12/gists{/gist_id}","starred_url":"https://api.github.com/users/weir12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weir12/subscriptions","organizations_url":"https://api.github.com/users/weir12/orgs","repos_url":"https://api.github.com/users/weir12/repos","events_url":"https://api.github.com/users/weir12/events{/privacy}","received_events_url":"https://api.github.com/users/weir12/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-07-22T07:25:21Z","updated_at":"2019-10-22T15:49:42Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi:\r\n  I tried to predict the labels of test set by using the following command for evaluate the performance of custom mod-base model.\r\n```\r\n   basecall.py --device 0 --modified_base_output basecalls.hdf5 \"/root/test_data_7.17/fast5/\" \"/root/training_data_7.11/training2/model_final.checkpoint\" > basecalls.fa\r\n```\r\nBut the following errors occurred:\r\n```\r\n* Loading model.\r\n* Initializing reads file search.\r\nTraceback (most recent call last):\r\n  File \"/root/anaconda3/bin/basecall.py\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('taiyaki==4.1.0', 'basecall.py')\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 666, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 1446, in run_script\r\n    exec(code, namespace, namespace)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/taiyaki-4.1.0-py3.7-linux-x86_64.egg/EGG-INFO/scripts/basecall.py\", line 198, in <module>\r\n    main()\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/taiyaki-4.1.0-py3.7-linux-x86_64.egg/EGG-INFO/scripts/basecall.py\", line 142, in main\r\n    recursive=args.recursive))\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/taiyaki-4.1.0-py3.7-linux-x86_64.egg/taiyaki/fast5utils.py\", line 139, in iterate_fast5_reads\r\n    for y in iterate_files_reads_unpaired(filepaths, read_ids, limit, verbose):\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/taiyaki-4.1.0-py3.7-linux-x86_64.egg/taiyaki/fast5utils.py\", line 52, in iterate_files_reads_unpaired\r\n    with ont_fast5_api.fast5_interface.get_fast5_file(filepath, 'r') as f5file:\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/ont_fast5_api/fast5_interface.py\", line 6, in get_fast5_file\r\n    if is_multi_read(filepath):\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/ont_fast5_api/fast5_interface.py\", line 13, in is_multi_read\r\n    with MultiFast5File(filepath, mode='r') as fast5:\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/ont_fast5_api/multi_fast5.py\", line 14, in __init__\r\n    self.handle = h5py.File(self.filename, self.mode)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/h5py/_hl/files.py\", line 394, in __init__\r\n    swmr=swmr)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/h5py/_hl/files.py\", line 170, in make_fid\r\n    fid = h5f.open(name, flags, fapl=fapl)\r\n  File \"h5py/_objects.pyx\", line 54, in h5py._objects.with_phil.wrapper\r\n  File \"h5py/_objects.pyx\", line 55, in h5py._objects.with_phil.wrapper\r\n  File \"h5py/h5f.pyx\", line 85, in h5py.h5f.open\r\nOSError: Unable to open file (truncated file: eof = 32768, sblock->base_addr = 0, stored_eof = 72986)\r\n```\r\nCould you help me to resolve this issue?","closed_by":{"login":"weir12","id":37523816,"node_id":"MDQ6VXNlcjM3NTIzODE2","avatar_url":"https://avatars.githubusercontent.com/u/37523816?v=4","gravatar_id":"","url":"https://api.github.com/users/weir12","html_url":"https://github.com/weir12","followers_url":"https://api.github.com/users/weir12/followers","following_url":"https://api.github.com/users/weir12/following{/other_user}","gists_url":"https://api.github.com/users/weir12/gists{/gist_id}","starred_url":"https://api.github.com/users/weir12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weir12/subscriptions","organizations_url":"https://api.github.com/users/weir12/orgs","repos_url":"https://api.github.com/users/weir12/repos","events_url":"https://api.github.com/users/weir12/events{/privacy}","received_events_url":"https://api.github.com/users/weir12/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/34/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/34/timeline","performed_via_github_app":null,"state_reason":null}