{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/33","repository_url":"https://api.github.com/repos/nanoporetech/taiyaki","labels_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/33/labels{/name}","comments_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/33/comments","events_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/33/events","html_url":"https://github.com/nanoporetech/taiyaki/issues/33","id":468277740,"node_id":"MDU6SXNzdWU0NjgyNzc3NDA=","number":33,"title":"\"ImportError: No module named 'taiyaki'\" while testing workflow on Ubuntu 16.04","user":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-07-15T18:42:49Z","updated_at":"2019-07-16T12:42:21Z","closed_at":"2019-07-16T12:42:21Z","author_association":"NONE","active_lock_reason":null,"body":"Hello Everyone,\r\n\r\nCould you help me to resolve this issue?\r\nI have installed Taiyaki in virtual environment mode. And I wanted to test taiyaki workflow.\r\nThe **command** I used: `sudo make workflow` and I got the **error as follows**:\r\n\r\n```\r\n./workflow/remap_from_samrefs_then_train_test_workflow.sh\r\n+ set -o pipefail\r\n+ echo ''\r\n\r\n+ echo 'Test of extract-ref-from-sam followed by flip-flop remap and basecall network training starting'\r\nTest of extract-ref-from-sam followed by flip-flop remap and basecall network training starting\r\n+ echo ''\r\n\r\n+ READ_DIR=test/data/reads\r\n+ SAM_DIR=test/data/aligner_output\r\n++ xargs\r\n++ ls test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_0.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_1.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_2.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_3.sam\r\n+ SAMFILES='test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_0.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_1.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_2.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_3.sam'\r\n+ REFERENCEFILE=test/data/genomic_reference.fasta\r\n+ echo 'SAMFILES=test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_0.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_1.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_2.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_3.sam'\r\nSAMFILES=test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_0.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_1.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_2.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_3.sam\r\n+ echo REFERENCEFILE=test/data/genomic_reference.fasta\r\nREFERENCEFILE=test/data/genomic_reference.fasta\r\n++ pwd\r\n+ TAIYAKI_DIR=/opt/taiyaki-master_1\r\n+ RESULT_DIR=/opt/taiyaki-master_1/RESULTS/train_remap_samref\r\n+ rm -rf /opt/taiyaki-master_1/RESULTS/train_remap_samref\r\n+ rm -rf /opt/taiyaki-master_1/RESULTS/training_ingredients\r\n+ make -f workflow/Makefile NETWORK_SIZE=96 MAXREADS=10 READDIR=test/data/reads TAIYAKI_ROOT=/opt/taiyaki-master_1 DEVICE=cpu MAX_TRAINING_ITERS=2 'BAMFILE=test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_0.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_1.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_2.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_3.sam' REFERENCEFILE=test/data/genomic_reference.fasta SEED=1 TAIYAKIACTIVATE= train_remap_samref\r\nmake[1]: Entering directory '/opt/taiyaki-master_1'\r\n\r\n------------Setting up directory /opt/taiyaki-master_1/RESULTS/training_ingredients\r\n\r\nmkdir /opt/taiyaki-master_1/RESULTS/training_ingredients\r\n\r\n------------Creating reference file from sam or bam at test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_0.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_1.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_2.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_3.sam\r\n\r\n/opt/taiyaki-master_1/bin/get_refs_from_sam.py test/data/genomic_reference.fasta test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_0.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_1.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_2.sam test/data/aligner_output/fastq_runid_9a076f39fd3254aeacc15a915c736105296275f3_3.sam > /opt/taiyaki-master_1/RESULTS/training_ingredients/per_read_references_from_sam.fa\r\nTraceback (most recent call last):\r\n  File \"/opt/taiyaki-master_1/bin/get_refs_from_sam.py\", line 6, in <module>\r\n    from taiyaki.bio import reverse_complement\r\nImportError: No module named 'taiyaki'\r\nworkflow/Makefile:240: recipe for target '/opt/taiyaki-master_1/RESULTS/training_ingredients/per_read_references_from_sam.fa' failed\r\nmake[1]: *** [/opt/taiyaki-master_1/RESULTS/training_ingredients/per_read_references_from_sam.fa] Error 1\r\nmake[1]: Leaving directory '/opt/taiyaki-master_1'\r\nMakefile:117: recipe for target 'workflow' failed\r\nmake: *** [workflow] Error 2\r\n```\r\n\r\n**Additional info:**\r\n1. In the installation directory (downloaded & unzipped), I used `sudo make deps`\r\n2. `sudo make install`\r\n3. `sudo make workflow` . Learnt from the error that packages like numpy, torch are missing. I had already ran `sudo make deps` command to install dependencies. Still ?\r\n4. Installed all the dependencies listed in the 'requirements.txt' file of installation directory using command format `python3 -m pip install matplotlib`\r\n\r\n**System info**\r\nUbuntu 16.04\r\nPython 2.7 & 3.5 installed\r\npysam==0.15.2, scipy==1.3.0, matplotlib==3.0.3, torch==1.0.1.post2, numpy==1.16.4, biopython==1.73, Cython==0.29.12, h5py==2.9.0\r\n\r\nThanks in advance !\r\n\r\nBest regards, \r\nGaurav","closed_by":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/33/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/33/timeline","performed_via_github_app":null,"state_reason":"completed"}