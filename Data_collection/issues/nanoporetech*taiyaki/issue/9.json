{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/9","repository_url":"https://api.github.com/repos/nanoporetech/taiyaki","labels_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/9/comments","events_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/9/events","html_url":"https://github.com/nanoporetech/taiyaki/issues/9","id":437025415,"node_id":"MDU6SXNzdWU0MzcwMjU0MTU=","number":9,"title":"CUDA out of memory","user":{"login":"callumparr","id":41637575,"node_id":"MDQ6VXNlcjQxNjM3NTc1","avatar_url":"https://avatars.githubusercontent.com/u/41637575?v=4","gravatar_id":"","url":"https://api.github.com/users/callumparr","html_url":"https://github.com/callumparr","followers_url":"https://api.github.com/users/callumparr/followers","following_url":"https://api.github.com/users/callumparr/following{/other_user}","gists_url":"https://api.github.com/users/callumparr/gists{/gist_id}","starred_url":"https://api.github.com/users/callumparr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/callumparr/subscriptions","organizations_url":"https://api.github.com/users/callumparr/orgs","repos_url":"https://api.github.com/users/callumparr/repos","events_url":"https://api.github.com/users/callumparr/events{/privacy}","received_events_url":"https://api.github.com/users/callumparr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-04-25T06:15:26Z","updated_at":"2019-08-15T16:39:10Z","closed_at":"2019-08-15T16:39:10Z","author_association":"NONE","active_lock_reason":null,"body":"I am unsure whether to place here or on some CUDA specific thread. \r\n\r\ngetting to final step of training data on IVT RNA synthesized with modified base. Most reads could not be resquiggled, I guess because of the higher error rate relating to modified base completely replacing U in the T7 pol mix. \r\n\r\nI am running out of room on the GPU but running nvidia-smi seems plenty of space free. \r\n\r\n`/taiyaki/venv/bin/train_flipflop.py --device 0 models/mGru_flipflop.py training mapped_reads.hdf5 --overwrite\r\n* Loading data from mapped_reads.hdf5\r\n* Per read file MD5 5f26a4f43d3e2acd15d8d65f6167136c\r\n* Reads not filtered by id\r\n* Loaded 148 reads.\r\n* Sampled 1000 chunks: median(mean_dwell)=37.97, mad(mean_dwell)=12.13\r\n* Reading network from models/mGru_flipflop.py\r\n* Network has 1989160 parameters.\r\n* Dumping initial model\r\n* Training\r\n....Traceback (most recent call last):\r\n  File \"/taiyaki/venv/bin/train_flipflop.py\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"/taiyaki/bin/train_flipflop.py\", line 251, in <module>\r\n    main()\r\n  File \"/taiyaki/bin/train_flipflop.py\", line 203, in main\r\n    loss.backward()\r\n  File \"/taiyaki/venv/lib/python3.5/site-packages/torch/tensor.py\", line 102, in backward\r\n    torch.autograd.backward(self, gradient, retain_graph, create_graph)\r\n  File \"/taiyaki/venv/lib/python3.5/site-packages/torch/autograd/__init__.py\", line 90, in backward\r\n    allow_unreachable=True)  # allow_unreachable flag\r\nRuntimeError: CUDA out of memory. Tried to allocate 125.38 MiB (GPU 0; 5.93 GiB total capacity; 5.21 GiB already allocated; 119.06 MiB free; 17.47 MiB cached)`\r\n\r\nAnyone have experience with troubleshooting this. The GPU is NVIDIA GeForce GTX 1060. \r\n\r\n","closed_by":{"login":"callumparr","id":41637575,"node_id":"MDQ6VXNlcjQxNjM3NTc1","avatar_url":"https://avatars.githubusercontent.com/u/41637575?v=4","gravatar_id":"","url":"https://api.github.com/users/callumparr","html_url":"https://github.com/callumparr","followers_url":"https://api.github.com/users/callumparr/followers","following_url":"https://api.github.com/users/callumparr/following{/other_user}","gists_url":"https://api.github.com/users/callumparr/gists{/gist_id}","starred_url":"https://api.github.com/users/callumparr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/callumparr/subscriptions","organizations_url":"https://api.github.com/users/callumparr/orgs","repos_url":"https://api.github.com/users/callumparr/repos","events_url":"https://api.github.com/users/callumparr/events{/privacy}","received_events_url":"https://api.github.com/users/callumparr/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/9/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/9/timeline","performed_via_github_app":null,"state_reason":"completed"}