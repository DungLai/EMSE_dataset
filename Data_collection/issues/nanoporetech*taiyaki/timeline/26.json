[{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/500480305","html_url":"https://github.com/nanoporetech/taiyaki/issues/26#issuecomment-500480305","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/26","id":500480305,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDQ4MDMwNQ==","user":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"created_at":"2019-06-10T16:20:03Z","updated_at":"2019-06-10T16:20:03Z","author_association":"CONTRIBUTOR","body":"Remember you reversed the references for training? You might have to reverse the basecalls as well. Guppy has a flag for this and I think the default RNA config file sets this for you (`rna_r9.4.1_70bps_hac.cfg` has a line `reverse_sequence = 1`).\r\n\r\nCurrently `basecall.py` doesn't have a similar option but we should add one ðŸ˜³ ","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/500480305/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/500485598","html_url":"https://github.com/nanoporetech/taiyaki/issues/26#issuecomment-500485598","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/26","id":500485598,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDQ4NTU5OA==","user":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false},"created_at":"2019-06-10T16:35:06Z","updated_at":"2019-06-10T16:35:06Z","author_association":"CONTRIBUTOR","body":"Ok, reversing helps, but still the accuracy is much lower than with guppy3. Also reads are much shorter than from guppy3, which I find a bit odd. \r\nI guess guppy3 uses some parameters that boost the quality of basecalling. Is there any way of improving the accuracy for `basecall.py` (ideally by using guppy3 config file?)? \r\nAre there any plans for enabling guppy3 to report modified bases? \r\n\r\n1. basecall.py from taiyaki v4.1.0 using new model with reversed sequeces\r\n![image](https://user-images.githubusercontent.com/988152/59210440-e17a4300-8bad-11e9-865d-058add6b1bf3.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/500485598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/500504524","html_url":"https://github.com/nanoporetech/taiyaki/issues/26#issuecomment-500504524","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/26","id":500504524,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDUwNDUyNA==","user":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"created_at":"2019-06-10T17:26:23Z","updated_at":"2019-06-10T17:26:23Z","author_association":"CONTRIBUTOR","body":"Mod-base support is planned for a future guppy release (expected this July, see [this plenary talk from London Calling](https://nanoporetech.com/about-us/news/london-calling-clive-brown-and-team-plenary) around the 23 minute mark for the announcement)\r\n\r\nI'm puzzled. `basecall.py` and guppy should produce very similar results (given the same model). I'm not sure what could have gone wrong... Are you you able to share your `model_final.checkpoint` and a few reads to help us investigate what's going on?","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/500504524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/500507965","html_url":"https://github.com/nanoporetech/taiyaki/issues/26#issuecomment-500507965","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/26","id":500507965,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDUwNzk2NQ==","user":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false},"created_at":"2019-06-10T17:36:04Z","updated_at":"2019-06-10T17:36:04Z","author_association":"CONTRIBUTOR","body":"> Mod-base support is planned for a future guppy release (expected this July, see [this plenary talk from London Calling](https://nanoporetech.com/about-us/news/london-calling-clive-brown-and-team-plenary) around the 23 minute mark for the announcement)\r\n\r\nThat awesome news! \r\n\r\n> I'm puzzled. `basecall.py` and guppy should produce very similar results (given the same model). I'm not sure what could have gone wrong... Are you you able to share your `model_final.checkpoint` and a few reads to help us investigate what's going on?\r\n\r\nYes, although I'd prefer to do it privately. Could you please write me: lpryszcz at crg.es. cheers! \r\n","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/500507965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/501291785","html_url":"https://github.com/nanoporetech/taiyaki/issues/26#issuecomment-501291785","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/26","id":501291785,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTI5MTc4NQ==","user":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T14:11:44Z","updated_at":"2019-06-12T14:11:44Z","author_association":"CONTRIBUTOR","body":"Hello.  I suspect that the difference in base call accuracy is due to the different way that the signal is chunked up between Guppy and Taiyaki: Taiyaki is parameterised in terms of input chunk size, whereas Guppy takes the stride of the network into account.  For DNA, where the stride is low (2 or 3), this makes little difference but the stride for RNA is 12.\r\n\r\nThe way to test this would be to add `--chunk_size 12000` to your command line.  If this works, Iâ€™ll push a patch to make Taiyakiâ€™s behaviour more consistent with Guppy.\r\n\r\nNB:  The base caller in Taiyaki exists so we can do basecalling for models that Guppy doesnâ€™t support.  If your model is compatible, base calling with Guppy would always be the preferred option.\r\n","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/501291785/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/501292829","html_url":"https://github.com/nanoporetech/taiyaki/issues/26#issuecomment-501292829","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/26","id":501292829,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTI5MjgyOQ==","user":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T14:14:14Z","updated_at":"2019-06-12T14:14:14Z","author_association":"CONTRIBUTOR","body":"Beautiful plots, BTW.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/501292829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/501310444","html_url":"https://github.com/nanoporetech/taiyaki/issues/26#issuecomment-501310444","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/26","id":501310444,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMxMDQ0NA==","user":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T14:53:28Z","updated_at":"2019-06-12T14:53:28Z","author_association":"CONTRIBUTOR","body":"According to the guppy devs, mod-bases should already be working with guppy 3.1. If you use the `--fast5_out` option, guppy will write modification probabilities back to the fast5s that you basecalled. There aren't any tools yet, so you will have to extract this information yourself using hdf5 or h5py. You are looking for a dataset called `ModBaseProbs`. Please open another issue if you need more help with guppy's mod-bases output.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/501310444/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false}},{"id":2437141657,"node_id":"MDExOkNsb3NlZEV2ZW50MjQzNzE0MTY1Nw==","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2437141657","actor":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-06-25T10:57:59Z","state_reason":null,"performed_via_github_app":null}]