[{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/548309691","html_url":"https://github.com/nanoporetech/taiyaki/issues/58#issuecomment-548309691","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/58","id":548309691,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODMwOTY5MQ==","user":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"created_at":"2019-10-31T10:41:06Z","updated_at":"2019-10-31T10:41:06Z","author_association":"CONTRIBUTOR","body":"Thanks for getting in touch. There are two issues here, so I'll address them separately.\r\n\r\nThe first is the issue with pysam. Apparently, there is a known issue with pysam version 0.15.3 that has resulted in the binaries being removed from pypi ([see here](https://github.com/pysam-developers/pysam/issues/831#issuecomment-516780629)). Pip has therefore tried to install pysam from source, but my guess is that there are some missing dependencies for this. The easiest workaround is to pin the pysam version in the [`requirements.txt`](https://github.com/nanoporetech/taiyaki/blob/master/requirements.txt#L7) file to the previous version, by replacing `pysam >= 0.15.0` with `pysam == 0.15.2`. Thanks for reporting this, we will update the requirements file to avoid this version of pysam in future.\r\n\r\nThe second issue is related to CUDA. Unfortunately, the version of pytorch that taiyaki uses does not support CUDA 10.1, so we can't support it either at present. The log that you attached shows that you ended up with the CPU-only version of pytorch (`torch==1.2.0+cpu`).\r\n\r\nThank you very much for the valuable feedback.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/548309691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/548325362","html_url":"https://github.com/nanoporetech/taiyaki/issues/58#issuecomment-548325362","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/58","id":548325362,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODMyNTM2Mg==","user":{"login":"NickP-at-SBL","id":57215764,"node_id":"MDQ6VXNlcjU3MjE1NzY0","avatar_url":"https://avatars.githubusercontent.com/u/57215764?v=4","gravatar_id":"","url":"https://api.github.com/users/NickP-at-SBL","html_url":"https://github.com/NickP-at-SBL","followers_url":"https://api.github.com/users/NickP-at-SBL/followers","following_url":"https://api.github.com/users/NickP-at-SBL/following{/other_user}","gists_url":"https://api.github.com/users/NickP-at-SBL/gists{/gist_id}","starred_url":"https://api.github.com/users/NickP-at-SBL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickP-at-SBL/subscriptions","organizations_url":"https://api.github.com/users/NickP-at-SBL/orgs","repos_url":"https://api.github.com/users/NickP-at-SBL/repos","events_url":"https://api.github.com/users/NickP-at-SBL/events{/privacy}","received_events_url":"https://api.github.com/users/NickP-at-SBL/received_events","type":"User","site_admin":false},"created_at":"2019-10-31T11:25:35Z","updated_at":"2019-10-31T11:25:35Z","author_association":"NONE","body":"Thanks for the info myrtlecat. That's great stuff and explains the pysam issue. \r\nSo, how easy is it to roll my version of CUDA back to < 10.1 ?. Is that (and the requirements change) all I need to do ?.  ","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/548325362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NickP-at-SBL","id":57215764,"node_id":"MDQ6VXNlcjU3MjE1NzY0","avatar_url":"https://avatars.githubusercontent.com/u/57215764?v=4","gravatar_id":"","url":"https://api.github.com/users/NickP-at-SBL","html_url":"https://github.com/NickP-at-SBL","followers_url":"https://api.github.com/users/NickP-at-SBL/followers","following_url":"https://api.github.com/users/NickP-at-SBL/following{/other_user}","gists_url":"https://api.github.com/users/NickP-at-SBL/gists{/gist_id}","starred_url":"https://api.github.com/users/NickP-at-SBL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickP-at-SBL/subscriptions","organizations_url":"https://api.github.com/users/NickP-at-SBL/orgs","repos_url":"https://api.github.com/users/NickP-at-SBL/repos","events_url":"https://api.github.com/users/NickP-at-SBL/events{/privacy}","received_events_url":"https://api.github.com/users/NickP-at-SBL/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/553831996","html_url":"https://github.com/nanoporetech/taiyaki/issues/58#issuecomment-553831996","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/58","id":553831996,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzgzMTk5Ng==","user":{"login":"NickP-at-SBL","id":57215764,"node_id":"MDQ6VXNlcjU3MjE1NzY0","avatar_url":"https://avatars.githubusercontent.com/u/57215764?v=4","gravatar_id":"","url":"https://api.github.com/users/NickP-at-SBL","html_url":"https://github.com/NickP-at-SBL","followers_url":"https://api.github.com/users/NickP-at-SBL/followers","following_url":"https://api.github.com/users/NickP-at-SBL/following{/other_user}","gists_url":"https://api.github.com/users/NickP-at-SBL/gists{/gist_id}","starred_url":"https://api.github.com/users/NickP-at-SBL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickP-at-SBL/subscriptions","organizations_url":"https://api.github.com/users/NickP-at-SBL/orgs","repos_url":"https://api.github.com/users/NickP-at-SBL/repos","events_url":"https://api.github.com/users/NickP-at-SBL/events{/privacy}","received_events_url":"https://api.github.com/users/NickP-at-SBL/received_events","type":"User","site_admin":false},"created_at":"2019-11-14T10:45:39Z","updated_at":"2019-11-14T10:45:39Z","author_association":"NONE","body":"Hi Joe,\n\n\n\nThanks again for your help. Ive now bought in a new graphics card (GeForce\nRTX 2060) and carried out a completely fresh system install adding in Cuda\n10.0 with the 415 card driver.\n\nAll the Taiyaki make test files now work apart from the MultiGPU. This\nseems to be registering a an issue (terminal output attached) then hanging.\n\nAny ideas ?.\n\n\n\nBest wishes\n\n\n\nNick\n\n\n\n*From:* Joe [mailto:notifications@github.com]\n*Sent:* 31 October 2019 10:41\n*To:* nanoporetech/taiyaki <taiyaki@noreply.github.com>\n*Cc:* NickP-at-SBL <nickp@sbl-uk.org>; Author <author@noreply.github.com>\n*Subject:* Re: [nanoporetech/taiyaki] pysam wheel install issues (#58)\n\n\n\nThanks for getting in touch. There are two issues here, so I'll address\nthem separately.\n\nThe first is the issue with pysam. Apparently, there is a known issue with\npysam version 0.15.3 that has resulted in the binaries being removed from\npypi (see here\n<https://github.com/pysam-developers/pysam/issues/831#issuecomment-516780629>).\nPip has therefore tried to install pysam from source, but my guess is that\nthere are some missing dependencies for this. The easiest workaround is to\npin the pysam version in the requirements.txt\n<https://github.com/nanoporetech/taiyaki/blob/master/requirements.txt#L7>\nfile to the previous version, by replacing pysam >= 0.15.0 with pysam ==\n0.15.2. Thanks for reporting this, we will update the requirements file to\navoid this version of pysam in future.\n\nThe second issue is related to CUDA. Unfortunately, the version of pytorch\nthat taiyaki uses does not support CUDA 10.1, so we can't support it either\nat present. The log that you attached shows that you ended up with the\nCPU-only version of pytorch (torch==1.2.0+cpu).\n\nThank you very much for the valuable feedback.\n\nâ€”\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\n<https://github.com/nanoporetech/taiyaki/issues/58?email_source=notifications&email_token=ANUQWFEK266R2S4KEVX2F33QRKY4PA5CNFSM4JHHCZEKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOECXIVOY#issuecomment-548309691>,\nor unsubscribe\n<https://github.com/notifications/unsubscribe-auth/ANUQWFEGH33QN274ACU6CNDQRKY4PANCNFSM4JHHCZEA>\n.[image: Image removed by sender.]\n\n(taiyaki) equipment@nick:~/taiyaki$ make multiGPU_test\n./workflow/test_multiGPU.sh\n+ set -o pipefail\n+ TAIYAKI=.\n+ echo ''\n\n+ echo 'Test of multi-GPU training with train_flipflop.py'\nTest of multi-GPU training with train_flipflop.py\n+ echo ''\n\n+ OPENBLAS_NUM_THREADS=1\n+ export OPENBLAS_NUM_THREADS\n+ OMP_NUM_THREADS=4\n+ export OMP_NUM_THREADS\n+ NGPU=2\n+ MAPPEDREADFILE=./test/data/mapped_signal_file/mapped_reads_1.hdf5\n+ MODEL=./models/mGru_flipflop.py\n+ RESULT_DIR=./workflow/multiGPU_test_results\n+ LR_MAX=0.003\n+ LR_MIN=0.00015\n+ LR_COSINE_ITERS=20000\n+ ITERATIONS=100\n+ WARMUP=10\n+ python -m torch.distributed.launch --nproc_per_node 2 --master_addr 127.0.0.2 --master_port 29501 ./bin/train_flipflop.py --overwrite --lr_cosine_iters 20000 --min_sub_batch_size 32 --warmup_batches 10 --niteration 100 --lr_max 0.003 --lr_min 0.00015 --outdir ./workflow/multiGPU_test_results ./models/mGru_flipflop.py ./test/data/mapped_signal_file/mapped_reads_1.hdf5\nTHCudaCheck FAIL file=/pytorch/torch/csrc/cuda/Module.cpp line=37 error=10 : invalid device ordinal\n* Taiyaki version 5.0.1\n* Platform is Linux-4.15.0-69-generic-x86_64-with-Ubuntu-16.04-xenial\n* PyTorch version 1.2.0\n* CUDA version 10.0.130 on device GeForce RTX 2060\n* Command line:\n* \"./bin/train_flipflop.py --local_rank=0 --overwrite --lr_cosine_iters 20000 --min_sub_batch_size 32 --warmup_batches 10 --niteration 100 --lr_max 0.003 --lr_min 0.00015 --outdir ./workflow/multiGPU_test_results ./models/mGru_flipflop.py ./test/data/mapped_signal_file/mapped_reads_1.hdf5\n* Started on 2019-11-14 10:37:19.407507\n* Loading data from ./test/data/mapped_signal_file/mapped_reads_1.hdf5\n* Per read file MD5 79552fd2bbd6dffdf14c00ced021058d\n* Reads not filtered by id\nTraceback (most recent call last):\n  File \"./bin/train_flipflop.py\", line 530, in <module>\n    main()\n  File \"./bin/train_flipflop.py\", line 232, in main\n    device = helpers.set_torch_device(args.local_rank)\n  File \"/home/equipment/taiyaki/taiyaki/helpers.py\", line 322, in set_torch_device\n    torch.cuda.set_device(device)\n  File \"/home/equipment/taiyaki/venv/lib/python3.5/site-packages/torch/cuda/__init__.py\", line 281, in set_device\n    torch._C._cuda_setDevice(device)\nRuntimeError: cuda runtime error (10) : invalid device ordinal at /pytorch/torch/csrc/cuda/Module.cpp:37\n* Using alphabet definition: canonical alphabet ACGT and no modified bases\n* Loaded 5 reads.\n* Sampled 1000 chunks: median(mean_dwell)=9.77, mad(mean_dwell)=0.93\n* Reading network from ./models/mGru_flipflop.py\n* Network has 1989160 parameters.\n* Loaded standard (canonical bases-only) model.\n* Dumping initial model\n\n","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/553831996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NickP-at-SBL","id":57215764,"node_id":"MDQ6VXNlcjU3MjE1NzY0","avatar_url":"https://avatars.githubusercontent.com/u/57215764?v=4","gravatar_id":"","url":"https://api.github.com/users/NickP-at-SBL","html_url":"https://github.com/NickP-at-SBL","followers_url":"https://api.github.com/users/NickP-at-SBL/followers","following_url":"https://api.github.com/users/NickP-at-SBL/following{/other_user}","gists_url":"https://api.github.com/users/NickP-at-SBL/gists{/gist_id}","starred_url":"https://api.github.com/users/NickP-at-SBL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickP-at-SBL/subscriptions","organizations_url":"https://api.github.com/users/NickP-at-SBL/orgs","repos_url":"https://api.github.com/users/NickP-at-SBL/repos","events_url":"https://api.github.com/users/NickP-at-SBL/events{/privacy}","received_events_url":"https://api.github.com/users/NickP-at-SBL/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/555478598","html_url":"https://github.com/nanoporetech/taiyaki/issues/58#issuecomment-555478598","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/58","id":555478598,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTQ3ODU5OA==","user":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"created_at":"2019-11-19T12:06:07Z","updated_at":"2019-11-19T12:06:07Z","author_association":"CONTRIBUTOR","body":"The MultiGPU script is not part of the standard tests, so the fact that the rest of the tests pass indicates that your installation is working, and you should be able to train a model by following the steps in the [walkthrough](https://github.com/nanoporetech/taiyaki/blob/master/docs/walkthrough.rst).\r\n\r\nIf you have multiple CUDA-capable GPUs on your system, then the MultiGPU script can be used to train a model using all of them at once (or any subset of them). This will **sometimes** increase the speed of training compared to using a single GPU, but it's more complicated because data must be synchronised between the different devices. It looks like the MultiGPU script failed because it only found one CUDA-capable GPU on your system (by default it tries to use 2). If that seems incorrect (i.e. if you think you have at least 2 CUDA-capable GPUs) then the question is why can't pytorch correctly detect them? If that's the case then I suggest you open a new issue and we can help you to diagnose the problem (although the pytorch forums might be a better place to ask). If you just have one GPU, then the MultiGPU script isn't relevant to you and you can just ignore it.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/555478598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/555947413","html_url":"https://github.com/nanoporetech/taiyaki/issues/58#issuecomment-555947413","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/58","id":555947413,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTk0NzQxMw==","user":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T10:44:25Z","updated_at":"2019-11-20T10:44:25Z","author_association":"CONTRIBUTOR","body":"I'm closing this as the issue with pysam wheels is now resolved. Please open a new issue if the MultiGPU script is still a problem.\r\n\r\nThanks again!","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/555947413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false}},{"id":2814769272,"node_id":"MDExOkNsb3NlZEV2ZW50MjgxNDc2OTI3Mg==","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2814769272","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-11-20T10:44:25Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/556991851","html_url":"https://github.com/nanoporetech/taiyaki/issues/58#issuecomment-556991851","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/58","id":556991851,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk5MTg1MQ==","user":{"login":"NickP-at-SBL","id":57215764,"node_id":"MDQ6VXNlcjU3MjE1NzY0","avatar_url":"https://avatars.githubusercontent.com/u/57215764?v=4","gravatar_id":"","url":"https://api.github.com/users/NickP-at-SBL","html_url":"https://github.com/NickP-at-SBL","followers_url":"https://api.github.com/users/NickP-at-SBL/followers","following_url":"https://api.github.com/users/NickP-at-SBL/following{/other_user}","gists_url":"https://api.github.com/users/NickP-at-SBL/gists{/gist_id}","starred_url":"https://api.github.com/users/NickP-at-SBL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickP-at-SBL/subscriptions","organizations_url":"https://api.github.com/users/NickP-at-SBL/orgs","repos_url":"https://api.github.com/users/NickP-at-SBL/repos","events_url":"https://api.github.com/users/NickP-at-SBL/events{/privacy}","received_events_url":"https://api.github.com/users/NickP-at-SBL/received_events","type":"User","site_admin":false},"created_at":"2019-11-21T09:16:04Z","updated_at":"2019-11-21T09:16:04Z","author_association":"NONE","body":"Thanks Joe. Sorry I didnâ€™t reply earlier â€“ Iâ€™ve been a way for a few days.\n\nYes, please shut this enquiry down. If I understand you correctly this is\nfor testing the implementation Taikayi across multiple graphics cards\nrather than testing multi-threading on a single graphics card with multiple\ncores (which was my mistaken understanding).\n\nThanks for helping..\n\nBest wishes\n\n\n\nNick\n\n\n\n*From:* Joe [mailto:notifications@github.com]\n*Sent:* 19 November 2019 12:06\n*To:* nanoporetech/taiyaki <taiyaki@noreply.github.com>\n*Cc:* NickP-at-SBL <nickp@sbl-uk.org>; Author <author@noreply.github.com>\n*Subject:* Re: [nanoporetech/taiyaki] pysam wheel install issues (#58)\n\n\n\nThe MultiGPU script is not part of the standard tests, so the fact that the\nrest of the tests pass indicates that your installation is working, and you\nshould be able to train a model by following the steps in the walkthrough\n<https://github.com/nanoporetech/taiyaki/blob/master/docs/walkthrough.rst>.\n\nIf you have multiple CUDA-capable GPUs on your system, then the MultiGPU\nscript can be used to train a model using all of them at once (or any\nsubset of them). This will *sometimes* increase the speed of training\ncompared to using a single GPU, but it's more complicated because data must\nbe synchronised between the different devices. It looks like the MultiGPU\nscript failed because it only found one CUDA-capable GPU on your system (by\ndefault it tries to use 2). If that seems incorrect (i.e. if you think you\nhave at least 2 CUDA-capable GPUs) then the question is why can't pytorch\ncorrectly detect them? If that's the case then I suggest you open a new\nissue and we can help you to diagnose the problem (although the pytorch\nforums might be a better place to ask). If you just have one GPU, then the\nMultiGPU script isn't relevant to you and you can just ignore it.\n\nâ€”\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\n<https://github.com/nanoporetech/taiyaki/issues/58?email_source=notifications&email_token=ANUQWFDR7ZQ6ANBL5ZYBI5LQUPJDFA5CNFSM4JHHCZEKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEEN64RQ#issuecomment-555478598>,\nor unsubscribe\n<https://github.com/notifications/unsubscribe-auth/ANUQWFCH7ZOLXD7BVLWPDT3QUPJDFANCNFSM4JHHCZEA>\n.[image: Image removed by sender.]\n","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/556991851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NickP-at-SBL","id":57215764,"node_id":"MDQ6VXNlcjU3MjE1NzY0","avatar_url":"https://avatars.githubusercontent.com/u/57215764?v=4","gravatar_id":"","url":"https://api.github.com/users/NickP-at-SBL","html_url":"https://github.com/NickP-at-SBL","followers_url":"https://api.github.com/users/NickP-at-SBL/followers","following_url":"https://api.github.com/users/NickP-at-SBL/following{/other_user}","gists_url":"https://api.github.com/users/NickP-at-SBL/gists{/gist_id}","starred_url":"https://api.github.com/users/NickP-at-SBL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickP-at-SBL/subscriptions","organizations_url":"https://api.github.com/users/NickP-at-SBL/orgs","repos_url":"https://api.github.com/users/NickP-at-SBL/repos","events_url":"https://api.github.com/users/NickP-at-SBL/events{/privacy}","received_events_url":"https://api.github.com/users/NickP-at-SBL/received_events","type":"User","site_admin":false}}]