[{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/518161313","html_url":"https://github.com/nanoporetech/taiyaki/issues/37#issuecomment-518161313","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37","id":518161313,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODE2MTMxMw==","user":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T09:35:09Z","updated_at":"2019-08-05T09:35:09Z","author_association":"CONTRIBUTOR","body":"Hello.  Your error message suggests that you are not using the version of PyTorch that Taiyaki should have installed in its virtual environment; have you definitely enabled the environment before running?  This is important since the standard version of PyTorch that is installed via `pip install` is not compatible with all versions of CUDA.\r\n\r\nI am aware of two successful cases of Taiyaki running on 2080's\r\n\r\n|  Card     |  Software  |  Version   |\r\n|---------|---------|-----------|\r\n| 2080 Ti | Taiyaki   | 4.1.0       |\r\n|               | Driver    | 418.67    |\r\n|               | CUDA    | 10.0.130 |\r\n|               | PyTorch | 1.0.0       |\r\n|               | (cudnn) | 7401 (*)  |\r\n| Titan RTX | Taiyaki   | 4.1.0       |\r\n|                  | Driver    | 418.39    |\r\n|                  | CUDA    | 10.0.130 |\r\n|                  | PyTorch | 1.0.0       |\r\n|                  | (cudnn) | 7501 (*)  |\r\n\r\n(*) as reported by `torch.backends.cudnn.version()` -- CuDNN was not installed on either machine independently from the PyTorch package.\r\n\r\nThe following commands may be useful to determine what versions PyTorch is actually using\r\n```bash\r\nsource taiyaki/venv/bin/activate\r\npython -c 'import taiyaki; print(taiyaki.__version__)'\r\npython -c 'import torch; print(torch.__version__)'\r\npython -c 'import torch; print(torch.version.cuda)'\r\npython -c 'import torch; print(torch.backends.cudnn.version())'\r\npython -c 'import torch; print(torch.backends.cudnn.enabled)'\r\n```","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/518161313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/518202946","html_url":"https://github.com/nanoporetech/taiyaki/issues/37#issuecomment-518202946","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37","id":518202946,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODIwMjk0Ng==","user":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T11:51:46Z","updated_at":"2019-08-05T11:51:46Z","author_association":"NONE","body":"Dear Tim, thanks for your prompt reply. I confirm that I have enabled the environment before running the command-\r\n`sudo nohup bash -c 'time ~/current_account/soft_scripts/ONT/taiyaki/bin/train_mod_flipflop.py --device 0 --mod_factor 0.01 --outdir training_walk_3 ~/current_account/soft_scripts/ONT/taiyaki/models/mGru_cat_mod_flipflop.py intermediate_files/modbase_walk_3.hdf5 --overwrite' &`\r\n\r\nI agree that the standard version of pytorch installed outside of the environment is v1.1.0. However, the version of pytorch within environment (activated before command) is v1.0.0. I can assure this via three ways- 1) Your suggested commands 2) lookup at taiyaki/venv/lib/python3.5/site-package and 3) lookup at taiyaki/build/wheelhouse/10.0/ folder. The lookups and output of your suggested commands are as follows:  \r\n![image](https://user-images.githubusercontent.com/44394743/62456734-6da58280-b779-11e9-8937-7ecd6b87a04c.png)\r\n\r\nAs the only difference I see as compared to our and your tried & tested version is regarding the Nvidia driver with v418. We could replace our v410 with v418 driver and re-try installing Taiyaki, but I doubt that will resolve. Let me know your thoughts. Thanks. ","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/518202946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/518212033","html_url":"https://github.com/nanoporetech/taiyaki/issues/37#issuecomment-518212033","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37","id":518212033,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODIxMjAzMw==","user":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T12:22:26Z","updated_at":"2019-08-05T12:22:26Z","author_association":"CONTRIBUTOR","body":"Hi. The error you posted clearly shows at the PyTorch installation being used is that in `/usr/local/lib/python3.5/dist-packages/torch`. \r\n\r\nI think the issue here is`sudo` , it starts a new shell to run Taiyaki in and so is no longer in the virtual environment.  Running Taiyaki using `sudo` is not recommended and I strongly council against doing so unless absolutely necessary.  \r\n\r\nIf you must run Taiyaki as root, then the virtual environment needs to be activated after `sudo`, e.g.: `sudo nohup bash -c 'source taiyaki/venv/bin/activate ; time taiyaki/bin/train_mod_flipflop.py --device 0 --mod_factor 0.01 --outdir training_walk_3 taiyaki/models/mGru_cat_mod_flipflop.py intermediate_files/modbase_walk_3.hdf5 --overwrite'`","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/518212033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/518223141","html_url":"https://github.com/nanoporetech/taiyaki/issues/37#issuecomment-518223141","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/37","id":518223141,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODIyMzE0MQ==","user":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T12:56:58Z","updated_at":"2019-08-05T12:56:58Z","author_association":"NONE","body":"Hi Tim, removing the sudo did the trick !\r\nMany thanks for your advices.\r\n\r\nBest, Gaurav\r\n  ","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/518223141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false}},{"id":2533423771,"node_id":"MDExOkNsb3NlZEV2ZW50MjUzMzQyMzc3MQ==","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2533423771","actor":{"login":"gitty-gaurav","id":44394743,"node_id":"MDQ6VXNlcjQ0Mzk0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/44394743?v=4","gravatar_id":"","url":"https://api.github.com/users/gitty-gaurav","html_url":"https://github.com/gitty-gaurav","followers_url":"https://api.github.com/users/gitty-gaurav/followers","following_url":"https://api.github.com/users/gitty-gaurav/following{/other_user}","gists_url":"https://api.github.com/users/gitty-gaurav/gists{/gist_id}","starred_url":"https://api.github.com/users/gitty-gaurav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitty-gaurav/subscriptions","organizations_url":"https://api.github.com/users/gitty-gaurav/orgs","repos_url":"https://api.github.com/users/gitty-gaurav/repos","events_url":"https://api.github.com/users/gitty-gaurav/events{/privacy}","received_events_url":"https://api.github.com/users/gitty-gaurav/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-08-05T12:56:58Z","state_reason":null,"performed_via_github_app":null}]