[{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/494798492","html_url":"https://github.com/nanoporetech/taiyaki/issues/16#issuecomment-494798492","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/16","id":494798492,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDc5ODQ5Mg==","user":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T13:19:08Z","updated_at":"2019-05-22T13:19:08Z","author_association":"CONTRIBUTOR","body":"It seems that your compiler (`gcc`) is producing instructions that your assembler (probably `/usr/bin/as`) does not recognise. Perhaps your assembler is older than the CPU architecture? The instruction causing the error (`shlx`) was introduced in intel chips around 2013 and in AMD chips in 2015, so versions of `as` from before then won't support it.\r\n\r\nTo help us get to the bottom of it, and to help anyone else experiencing similar issues, could you please provide the following information:\r\n\r\n- `gcc` version\r\n- `as` version\r\n- Operation system type and version (Is it CentOS 6 by any chance?!)\r\n- CPU architecture\r\n\r\nThis might be hard for us to reproduce, but some suggestions that hopefully will help:\r\n\r\n- Upgrade `as`\r\n- Downgrade `gcc`\r\n- Modify the flags in setup.py ([here](https://github.com/nanoporetech/taiyaki/blob/c34b83c30182034fe6f598352e184eb94f87a0bf/setup.py#L36) and [here](https://github.com/nanoporetech/taiyaki/blob/c34b83c30182034fe6f598352e184eb94f87a0bf/setup.py#L42)) to avoid using Haswell-specific instructions (try removing `-march=native` perhaps?)","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/494798492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/494861814","html_url":"https://github.com/nanoporetech/taiyaki/issues/16#issuecomment-494861814","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/16","id":494861814,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDg2MTgxNA==","user":{"login":"fneuh","id":39982768,"node_id":"MDQ6VXNlcjM5OTgyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/39982768?v=4","gravatar_id":"","url":"https://api.github.com/users/fneuh","html_url":"https://github.com/fneuh","followers_url":"https://api.github.com/users/fneuh/followers","following_url":"https://api.github.com/users/fneuh/following{/other_user}","gists_url":"https://api.github.com/users/fneuh/gists{/gist_id}","starred_url":"https://api.github.com/users/fneuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fneuh/subscriptions","organizations_url":"https://api.github.com/users/fneuh/orgs","repos_url":"https://api.github.com/users/fneuh/repos","events_url":"https://api.github.com/users/fneuh/events{/privacy}","received_events_url":"https://api.github.com/users/fneuh/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T15:50:31Z","updated_at":"2019-05-22T15:50:31Z","author_association":"NONE","body":"The information you requested:\r\n```\r\n$ as -version\r\nGNU assembler version 2.25.1-22.base.el7\r\nThis assembler was configured for a target of `x86_64-redhat-linux'\r\n```\r\n\r\n```\r\n$ gcc --version\r\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-11)\r\n```\r\n\r\n```\r\n$ cat /etc/os-release\r\nNAME=\"CentOS Linux\"\r\nVERSION=\"7 (Core)\"\r\nID=\"centos\"\r\nID_LIKE=\"rhel fedora\"\r\nVERSION_ID=\"7\"\r\n```\r\nI removed `-march=native` at the two specified sites, 'make install' now finishes without an error, but when I run the workflow test (make workflow), I get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/well/ont/apps/taiyaki_gpu/taiyaki/bin/get_refs_from_sam.py\", line 9, in <module>\r\n    from taiyaki.helpers import fasta_file_to_dict, open_file_or_stdout\r\n  File \"/gpfs1/well/ont/apps/taiyaki_gpu/taiyaki/taiyaki/helpers.py\", line 9, in <module>\r\n    import torch\r\n  File \"/gpfs1/well/ont/apps/taiyaki_gpu/taiyaki/venv/lib/python3.5/site-packages/torch/__init__.py\", line 84, in <module>\r\n    from torch._C import *\r\nImportError: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by /gpfs1/well/ont/apps/taiyaki_gpu/taiyaki/venv/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so)\r\nmake[1]: *** [/well/ont/apps/taiyaki_gpu/taiyaki/RESULTS/training_ingredients/per_read_references_from_sam.fa] Error 1\r\nmake[1]: Leaving directory `/gpfs1/well/ont/apps/taiyaki_gpu/taiyaki'\r\nmake: *** [workflow] Error 2\r\n```\r\nFor up- or downgrading as/ gcc I have to check back to system administration, to see if that is an option.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/494861814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fneuh","id":39982768,"node_id":"MDQ6VXNlcjM5OTgyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/39982768?v=4","gravatar_id":"","url":"https://api.github.com/users/fneuh","html_url":"https://github.com/fneuh","followers_url":"https://api.github.com/users/fneuh/followers","following_url":"https://api.github.com/users/fneuh/following{/other_user}","gists_url":"https://api.github.com/users/fneuh/gists{/gist_id}","starred_url":"https://api.github.com/users/fneuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fneuh/subscriptions","organizations_url":"https://api.github.com/users/fneuh/orgs","repos_url":"https://api.github.com/users/fneuh/repos","events_url":"https://api.github.com/users/fneuh/events{/privacy}","received_events_url":"https://api.github.com/users/fneuh/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/494870420","html_url":"https://github.com/nanoporetech/taiyaki/issues/16#issuecomment-494870420","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/16","id":494870420,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDg3MDQyMA==","user":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T16:11:51Z","updated_at":"2019-05-22T16:11:51Z","author_association":"CONTRIBUTOR","body":"Glad the changes to `setup.py` helped. In that case, I think it's probably best to leave `gcc` and `as` alone as there might be unintended consequences. We will investigate whether we can drop the `-march=native` flag.\r\n\r\nThe new error is originating from pytorch, not from taiyaki, so you are more likely to find the solution by posting on the pytorch forums or github. The problems sounds similar to those reported [here](https://github.com/pytorch/pytorch/issues/6607) and [here](https://github.com/pytorch/pytorch/issues/14274) and your favourite search engine will probably throw up more. I hope one of those links helps.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/494870420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myrtlecat","id":1001949,"node_id":"MDQ6VXNlcjEwMDE5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1001949?v=4","gravatar_id":"","url":"https://api.github.com/users/myrtlecat","html_url":"https://github.com/myrtlecat","followers_url":"https://api.github.com/users/myrtlecat/followers","following_url":"https://api.github.com/users/myrtlecat/following{/other_user}","gists_url":"https://api.github.com/users/myrtlecat/gists{/gist_id}","starred_url":"https://api.github.com/users/myrtlecat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrtlecat/subscriptions","organizations_url":"https://api.github.com/users/myrtlecat/orgs","repos_url":"https://api.github.com/users/myrtlecat/repos","events_url":"https://api.github.com/users/myrtlecat/events{/privacy}","received_events_url":"https://api.github.com/users/myrtlecat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/495664944","html_url":"https://github.com/nanoporetech/taiyaki/issues/16#issuecomment-495664944","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/16","id":495664944,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTY2NDk0NA==","user":{"login":"fneuh","id":39982768,"node_id":"MDQ6VXNlcjM5OTgyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/39982768?v=4","gravatar_id":"","url":"https://api.github.com/users/fneuh","html_url":"https://github.com/fneuh","followers_url":"https://api.github.com/users/fneuh/followers","following_url":"https://api.github.com/users/fneuh/following{/other_user}","gists_url":"https://api.github.com/users/fneuh/gists{/gist_id}","starred_url":"https://api.github.com/users/fneuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fneuh/subscriptions","organizations_url":"https://api.github.com/users/fneuh/orgs","repos_url":"https://api.github.com/users/fneuh/repos","events_url":"https://api.github.com/users/fneuh/events{/privacy}","received_events_url":"https://api.github.com/users/fneuh/received_events","type":"User","site_admin":false},"created_at":"2019-05-24T14:54:41Z","updated_at":"2019-05-24T14:54:41Z","author_association":"NONE","body":"I eventually moved to another GPU node, where the installation worked out fine. So I did not need to solve the issue I was having with pytorch. \r\n\r\nThanks very much for the help!","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/495664944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fneuh","id":39982768,"node_id":"MDQ6VXNlcjM5OTgyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/39982768?v=4","gravatar_id":"","url":"https://api.github.com/users/fneuh","html_url":"https://github.com/fneuh","followers_url":"https://api.github.com/users/fneuh/followers","following_url":"https://api.github.com/users/fneuh/following{/other_user}","gists_url":"https://api.github.com/users/fneuh/gists{/gist_id}","starred_url":"https://api.github.com/users/fneuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fneuh/subscriptions","organizations_url":"https://api.github.com/users/fneuh/orgs","repos_url":"https://api.github.com/users/fneuh/repos","events_url":"https://api.github.com/users/fneuh/events{/privacy}","received_events_url":"https://api.github.com/users/fneuh/received_events","type":"User","site_admin":false}},{"id":2365814647,"node_id":"MDExOkNsb3NlZEV2ZW50MjM2NTgxNDY0Nw==","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2365814647","actor":{"login":"fneuh","id":39982768,"node_id":"MDQ6VXNlcjM5OTgyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/39982768?v=4","gravatar_id":"","url":"https://api.github.com/users/fneuh","html_url":"https://github.com/fneuh","followers_url":"https://api.github.com/users/fneuh/followers","following_url":"https://api.github.com/users/fneuh/following{/other_user}","gists_url":"https://api.github.com/users/fneuh/gists{/gist_id}","starred_url":"https://api.github.com/users/fneuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fneuh/subscriptions","organizations_url":"https://api.github.com/users/fneuh/orgs","repos_url":"https://api.github.com/users/fneuh/repos","events_url":"https://api.github.com/users/fneuh/events{/privacy}","received_events_url":"https://api.github.com/users/fneuh/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-24T14:54:41Z","state_reason":null,"performed_via_github_app":null},{"id":2521647560,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI1MjE2NDc1NjA=","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2521647560","actor":{"login":"rrwick","id":7053555,"node_id":"MDQ6VXNlcjcwNTM1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/7053555?v=4","gravatar_id":"","url":"https://api.github.com/users/rrwick","html_url":"https://github.com/rrwick","followers_url":"https://api.github.com/users/rrwick/followers","following_url":"https://api.github.com/users/rrwick/following{/other_user}","gists_url":"https://api.github.com/users/rrwick/gists{/gist_id}","starred_url":"https://api.github.com/users/rrwick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rrwick/subscriptions","organizations_url":"https://api.github.com/users/rrwick/orgs","repos_url":"https://api.github.com/users/rrwick/repos","events_url":"https://api.github.com/users/rrwick/events{/privacy}","received_events_url":"https://api.github.com/users/rrwick/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"c8fb596908d846cbe88aec8dec810c4ab46b7140","commit_url":"https://api.github.com/repos/rrwick/taiyaki/commits/c8fb596908d846cbe88aec8dec810c4ab46b7140","created_at":"2019-07-31T00:46:26Z","performed_via_github_app":null}]