[{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/678134520","html_url":"https://github.com/nanoporetech/taiyaki/issues/90#issuecomment-678134520","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/90","id":678134520,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODEzNDUyMA==","user":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T09:14:21Z","updated_at":"2020-08-21T09:14:21Z","author_association":"CONTRIBUTOR","body":"You can restart the training from one of the checkpoints written to your output directory, simply replace the python model file with the checkpoint and restart.\r\n\r\nThe issue here is sanity guard in the code being triggered due to a numerical instability and experience suggests that restarting from a recent checkpoint with tend to repeatedly trigger the guard.  This is a known problems and we are actively looking into a solution, but one of the causes of the instability appears to be the deep learning libraries themselves.  The best remedy we have found so far is to restart from the checkpoint but use a lower learning rate, e.g. `--lr_max 2e-4`\r\n\r\nIf you are feeling confident in your model, you could run the training using `python3 -OO bin/train_flipflop.py ...` which will disable the guard that was triggered.\r\n\r\nPS:  the performance you are getting is considerably less than we would expect from using a GPU, we typically see speeds of in excess of 200k samples per second.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/678134520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/680933115","html_url":"https://github.com/nanoporetech/taiyaki/issues/90#issuecomment-680933115","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/90","id":680933115,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDkzMzExNQ==","user":{"login":"techsavy12","id":67298681,"node_id":"MDQ6VXNlcjY3Mjk4Njgx","avatar_url":"https://avatars.githubusercontent.com/u/67298681?v=4","gravatar_id":"","url":"https://api.github.com/users/techsavy12","html_url":"https://github.com/techsavy12","followers_url":"https://api.github.com/users/techsavy12/followers","following_url":"https://api.github.com/users/techsavy12/following{/other_user}","gists_url":"https://api.github.com/users/techsavy12/gists{/gist_id}","starred_url":"https://api.github.com/users/techsavy12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/techsavy12/subscriptions","organizations_url":"https://api.github.com/users/techsavy12/orgs","repos_url":"https://api.github.com/users/techsavy12/repos","events_url":"https://api.github.com/users/techsavy12/events{/privacy}","received_events_url":"https://api.github.com/users/techsavy12/received_events","type":"User","site_admin":false},"created_at":"2020-08-26T14:57:21Z","updated_at":"2020-08-26T14:57:21Z","author_association":"NONE","body":"Thank You for the response. I really appreciate your help. I am using a CPU so it tends to be slower. I tried restarting from the previous checkpoint with lr_max=2e-4 and I get the same error again. I am not confident in my model as I haven't tested it out yet, so I'm unsure whether I should disable the guard. Are there any other suggestions that you might recommend. ","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/680933115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"techsavy12","id":67298681,"node_id":"MDQ6VXNlcjY3Mjk4Njgx","avatar_url":"https://avatars.githubusercontent.com/u/67298681?v=4","gravatar_id":"","url":"https://api.github.com/users/techsavy12","html_url":"https://github.com/techsavy12","followers_url":"https://api.github.com/users/techsavy12/followers","following_url":"https://api.github.com/users/techsavy12/following{/other_user}","gists_url":"https://api.github.com/users/techsavy12/gists{/gist_id}","starred_url":"https://api.github.com/users/techsavy12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/techsavy12/subscriptions","organizations_url":"https://api.github.com/users/techsavy12/orgs","repos_url":"https://api.github.com/users/techsavy12/repos","events_url":"https://api.github.com/users/techsavy12/events{/privacy}","received_events_url":"https://api.github.com/users/techsavy12/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/684834877","html_url":"https://github.com/nanoporetech/taiyaki/issues/90#issuecomment-684834877","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/90","id":684834877,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDgzNDg3Nw==","user":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false},"created_at":"2020-09-01T13:00:55Z","updated_at":"2020-09-01T13:00:55Z","author_association":"CONTRIBUTOR","body":"Try disabling the guard.  Mathematically, all costs should be less than or equal to zero.  The offending value in your screen shot is 1.44e-03; close to zero and so probably rounding error rather than an indication that something is serious wrong -- the guard has been too sensitive.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/684834877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false}},{"id":3920217830,"node_id":"MDExOkNsb3NlZEV2ZW50MzkyMDIxNzgzMA==","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/3920217830","actor":{"login":"tmassingham-ont","id":19410440,"node_id":"MDQ6VXNlcjE5NDEwNDQw","avatar_url":"https://avatars.githubusercontent.com/u/19410440?v=4","gravatar_id":"","url":"https://api.github.com/users/tmassingham-ont","html_url":"https://github.com/tmassingham-ont","followers_url":"https://api.github.com/users/tmassingham-ont/followers","following_url":"https://api.github.com/users/tmassingham-ont/following{/other_user}","gists_url":"https://api.github.com/users/tmassingham-ont/gists{/gist_id}","starred_url":"https://api.github.com/users/tmassingham-ont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmassingham-ont/subscriptions","organizations_url":"https://api.github.com/users/tmassingham-ont/orgs","repos_url":"https://api.github.com/users/tmassingham-ont/repos","events_url":"https://api.github.com/users/tmassingham-ont/events{/privacy}","received_events_url":"https://api.github.com/users/tmassingham-ont/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-10-26T11:27:47Z","state_reason":null,"performed_via_github_app":null}]