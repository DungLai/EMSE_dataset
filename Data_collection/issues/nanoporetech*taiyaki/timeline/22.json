[{"id":2377509745,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyMzc3NTA5NzQ1","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2377509745","actor":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-05-30T08:58:08Z","assignee":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/497261898","html_url":"https://github.com/nanoporetech/taiyaki/issues/22#issuecomment-497261898","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/22","id":497261898,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzI2MTg5OA==","user":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"created_at":"2019-05-30T09:09:20Z","updated_at":"2019-05-30T09:09:20Z","author_association":"CONTRIBUTOR","body":"Hello - yes, this would be a reasonable thing to try.\r\nIt could be that your data just has a wide variation of dwell times.\r\n\r\nIt might also be worth investigating further. There is a script in the misc directory which will plot the mappings in your training data so that you can see (for example) whether reads are being rejected because of a single very long dwell, or because there are lots of long dwells in every read.\r\n\r\nYou can do (for example)\r\n\r\ntaiyaki/misc/plot_mapped_signals.py --output map_plot.png --nreads 100 your_mapped_signal_file.hdf5\r\n\r\nto plot the first 100 mapped reads in your mapped signal file. There are also command-line options for the script which will allow you to zoom in on a particular region.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/497261898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false}},{"id":2377535700,"node_id":"MDExOkNsb3NlZEV2ZW50MjM3NzUzNTcwMA==","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2377535700","actor":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-30T09:09:20Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/497269177","html_url":"https://github.com/nanoporetech/taiyaki/issues/22#issuecomment-497269177","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/22","id":497269177,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzI2OTE3Nw==","user":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false},"created_at":"2019-05-30T09:35:13Z","updated_at":"2019-05-30T09:35:13Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for prompt answer, @aevansNP . \r\nI have two quick questions: \r\n- How many reads do you recommend for training? I see that with 16k reads the training will take ages... Would 4k do the job? \r\n- What would be reasonable ratio of modified to unmodified reads?","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/497269177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false}},{"id":2377595943,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM3NzU5NTk0Mw==","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2377595943","actor":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-30T09:35:13Z","performed_via_github_app":null},{"id":2377595945,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNzc1OTU5NDU=","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2377595945","actor":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-30T09:35:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/497273633","html_url":"https://github.com/nanoporetech/taiyaki/issues/22#issuecomment-497273633","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/22","id":497273633,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzI3MzYzMw==","user":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"created_at":"2019-05-30T09:51:33Z","updated_at":"2019-05-30T09:51:33Z","author_association":"CONTRIBUTOR","body":"---How many reads do you recommend for training?\r\nThe answer to that question depends a lot on the details - but at least  for DNA, we've found that you can train a reasonable model with a few thousand reads. More data does tend to lead to models that generalise better, though.\r\nThe training time shouldn't depend on the number of reads (except for a bit of overhead for reading very large hdf5 files), although the time for remapping will, of course.\r\n\r\n---What would be a reasonable ratio of modified to unmodified reads?\r\nHard to answer this without knowing the details of what you are doing (which we probably don't want to get into). Of course trained models (if everything goes well) will tend to reflect the data that they are trained on, so if the fraction of mods is too small then the model is likely to ignore them.\r\n\r\nWhen training models to call mod bases, we typically use training data where all the reads have some modifications, but in any read the density of modifications is quite low.","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/497273633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/497325541","html_url":"https://github.com/nanoporetech/taiyaki/issues/22#issuecomment-497325541","issue_url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/22","id":497325541,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzMyNTU0MQ==","user":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false},"created_at":"2019-05-30T13:17:17Z","updated_at":"2019-05-30T14:22:23Z","author_association":"CONTRIBUTOR","body":"Thanks, you're being really helpful @aevansNP !  Then I won't downsample my read repository and try to focus on reads having at least one modification present. \r\n\r\nI've set `--filter_max_dwell 15 --filter_mean_dwell 5` and training seems running smooth now. Interestingly, the process is much faster (at least 10x) when most chunks are being included. Any idea why is that? \r\n```\r\n..................................................    60 0.094  97.86s (102.21 ksample/s 3.27 kbase/s) lr=9.92e-04 pass:206397  maxdwell:44893  meandwell:16210  emptysequence:9285  tooshort:6151 \r\n```\r\n\r\nAlso, I got peculiar observation regarding runtime. Training process on my [GTX 1660Ti](https://www.techpowerup.com/gpu-specs/geforce-gtx-1660-ti.c3364) (6GB vRAM --min_batch_size 50: 104.37 ksample/s 3.35 kbase/s) reports theoretically slower learning than in [GTX 1080 Ti](https://www.techpowerup.com/gpu-specs/geforce-gtx-1080-ti.c2877) (11 GB vRAM, --min_batch_size 100: 122.85 ksample/s 3.89 kbase/s) that's installed in the sever on the same data. However 1660Ti went through 60 iterations, while 1080Ti less than 35 in the same time interval. Both machines are not under load and have same libraries (CUDA 10.1, driver v418..67) - it's weird, right? \r\n1660Ti has slightly higher GPU clock (only by the margin) and slightly faster memory (GDDR6 vs GDDR5X), still 1080Ti memory has much higher memory bandwidth, so such big difference in speed doesn't really make sense to me, unless there is some CPU bound component (my local CPU is way faster than the server one)! Am I missing something? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/comments/497325541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lpryszcz","id":988152,"node_id":"MDQ6VXNlcjk4ODE1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/988152?v=4","gravatar_id":"","url":"https://api.github.com/users/lpryszcz","html_url":"https://github.com/lpryszcz","followers_url":"https://api.github.com/users/lpryszcz/followers","following_url":"https://api.github.com/users/lpryszcz/following{/other_user}","gists_url":"https://api.github.com/users/lpryszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpryszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpryszcz/subscriptions","organizations_url":"https://api.github.com/users/lpryszcz/orgs","repos_url":"https://api.github.com/users/lpryszcz/repos","events_url":"https://api.github.com/users/lpryszcz/events{/privacy}","received_events_url":"https://api.github.com/users/lpryszcz/received_events","type":"User","site_admin":false}},{"id":2378072074,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM3ODA3MjA3NA==","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2378072074","actor":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-30T13:17:17Z","performed_via_github_app":null},{"id":2378072076,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNzgwNzIwNzY=","url":"https://api.github.com/repos/nanoporetech/taiyaki/issues/events/2378072076","actor":{"login":"aevansNP","id":45230403,"node_id":"MDQ6VXNlcjQ1MjMwNDAz","avatar_url":"https://avatars.githubusercontent.com/u/45230403?v=4","gravatar_id":"","url":"https://api.github.com/users/aevansNP","html_url":"https://github.com/aevansNP","followers_url":"https://api.github.com/users/aevansNP/followers","following_url":"https://api.github.com/users/aevansNP/following{/other_user}","gists_url":"https://api.github.com/users/aevansNP/gists{/gist_id}","starred_url":"https://api.github.com/users/aevansNP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aevansNP/subscriptions","organizations_url":"https://api.github.com/users/aevansNP/orgs","repos_url":"https://api.github.com/users/aevansNP/repos","events_url":"https://api.github.com/users/aevansNP/events{/privacy}","received_events_url":"https://api.github.com/users/aevansNP/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-30T13:17:17Z","performed_via_github_app":null}]