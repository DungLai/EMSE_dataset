{"url":"https://api.github.com/repos/msracver/Deep-Exemplar-based-Colorization/issues/9","repository_url":"https://api.github.com/repos/msracver/Deep-Exemplar-based-Colorization","labels_url":"https://api.github.com/repos/msracver/Deep-Exemplar-based-Colorization/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/msracver/Deep-Exemplar-based-Colorization/issues/9/comments","events_url":"https://api.github.com/repos/msracver/Deep-Exemplar-based-Colorization/issues/9/events","html_url":"https://github.com/msracver/Deep-Exemplar-based-Colorization/issues/9","id":416558343,"node_id":"MDU6SXNzdWU0MTY1NTgzNDM=","number":9,"title":"Help for the (optional) bidirectional mapping generation","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-03-03T20:12:56Z","updated_at":"2020-04-06T18:16:45Z","closed_at":"2020-04-06T18:16:45Z","author_association":"NONE","active_lock_reason":null,"body":"Hello, \r\n\r\nI'm newbie on deep learning and working with obsolete hardware that today unsupported by main framework. But because I'm really want to use your project, and have no money today to upgrade my hardware, I have hack the caffe version to allow me to build it with CUDA 6.5 and sm_13 (yes sm_13). For that i've just hack the math_functions.xxx files to use cublas v1 (not the current v2).\r\n\r\nMy second problem is the memory. Because my hardware is limited in memory, I've to load the two classifiers models on host/cpu not on gpu (out of memory error) and just add some memory copy to allow me to use the current GPU code of the two projects (norm / blend / patchmatch and others ...). There's no problem for now. \r\n\r\nThe similarity_combo exe build fine, work fine on the example provided, and product correct combo files with the provided bidirectionnal mapping files (flow files in demo directory).\r\n\r\nMy problem comes with the deep_image_similarity exe. And especially on the deconv (gradient descent) part. Because my change, I use the Cuda-L-BFGS in cpu mode and I've just modifiy the custom cost_function to generate diff on cpu, no gpu. But there's a problem because each iteration provide same values. All seem correct for me, but I suspect that the cost function do not update correctly at : \r\n\r\n`m_classifier->net_->BackwardFromTo(m_id1, m_id2 + 1);` in Deconv.cpp\r\n\r\nLet me see you the log in debug mode : [http://s000.tinyupload.com/index.php?file_id=87185167689484967287](http://s000.tinyupload.com/index.php?file_id=87185167689484967287) \r\n\r\nAny idea maybe ? Thank you very much for your time.","closed_by":{"login":"hmmlillian","id":42595731,"node_id":"MDQ6VXNlcjQyNTk1NzMx","avatar_url":"https://avatars.githubusercontent.com/u/42595731?v=4","gravatar_id":"","url":"https://api.github.com/users/hmmlillian","html_url":"https://github.com/hmmlillian","followers_url":"https://api.github.com/users/hmmlillian/followers","following_url":"https://api.github.com/users/hmmlillian/following{/other_user}","gists_url":"https://api.github.com/users/hmmlillian/gists{/gist_id}","starred_url":"https://api.github.com/users/hmmlillian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmmlillian/subscriptions","organizations_url":"https://api.github.com/users/hmmlillian/orgs","repos_url":"https://api.github.com/users/hmmlillian/repos","events_url":"https://api.github.com/users/hmmlillian/events{/privacy}","received_events_url":"https://api.github.com/users/hmmlillian/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/msracver/Deep-Exemplar-based-Colorization/issues/9/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/msracver/Deep-Exemplar-based-Colorization/issues/9/timeline","performed_via_github_app":null,"state_reason":"completed"}