{"url":"https://api.github.com/repos/doccano/doccano/issues/636","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/636/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/636/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/636/events","html_url":"https://github.com/doccano/doccano/issues/636","id":585225444,"node_id":"MDU6SXNzdWU1ODUyMjU0NDQ=","number":636,"title":"[Bug] Release v1.0.2 fails on doccano@1.0.0 build /app nuxt build","user":{"login":"Raimmaster","id":6061123,"node_id":"MDQ6VXNlcjYwNjExMjM=","avatar_url":"https://avatars.githubusercontent.com/u/6061123?v=4","gravatar_id":"","url":"https://api.github.com/users/Raimmaster","html_url":"https://github.com/Raimmaster","followers_url":"https://api.github.com/users/Raimmaster/followers","following_url":"https://api.github.com/users/Raimmaster/following{/other_user}","gists_url":"https://api.github.com/users/Raimmaster/gists{/gist_id}","starred_url":"https://api.github.com/users/Raimmaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Raimmaster/subscriptions","organizations_url":"https://api.github.com/users/Raimmaster/orgs","repos_url":"https://api.github.com/users/Raimmaster/repos","events_url":"https://api.github.com/users/Raimmaster/events{/privacy}","received_events_url":"https://api.github.com/users/Raimmaster/received_events","type":"User","site_admin":false},"labels":[{"id":927327723,"node_id":"MDU6TGFiZWw5MjczMjc3MjM=","url":"https://api.github.com/repos/doccano/doccano/labels/good%20first%20issue","name":"good first issue","color":"7057ff","default":true,"description":"Good for newcomers"},{"id":927327728,"node_id":"MDU6TGFiZWw5MjczMjc3Mjg=","url":"https://api.github.com/repos/doccano/doccano/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-03-20T17:35:55Z","updated_at":"2020-03-31T23:33:06Z","closed_at":"2020-03-31T23:33:06Z","author_association":"NONE","active_lock_reason":null,"body":"How to reproduce the behaviour\r\n---------\r\nWhen running `docker-compose -f docker-compose.prod.yml up` it fails when it reachs the `npm run build`.\r\n\r\nIt starts:\r\n```Step 6/6 : RUN npm run build\r\n---> Running in 9bd02da208cc\r\n\r\n> doccano@1.0.0 build /app\r\n> nuxt build\r\n```\r\nHowever, it fails with:\r\n```ERROR in ./node_modules/vuetify/lib/components/VColorPicker/VColorPickerEdit.js\r\nModule not found: Error: Can't resolve 'core-js/modules/es6.object.to-string' in '/app/node_modules/vuetify/lib/components/VColorPicker'\r\n @ ./node_modules/vuetify/lib/components/VColorPicker/VColorPickerEdit.js 5:0-46\r\n @ ./node_modules/vuetify/lib/components/VColorPicker/VColorPicker.js\r\n @ ./node_modules/vuetify/lib/components/VColorPicker/index.js\r\n @ ./components/containers/labels/LabelList.vue\r\n @ ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vuetify-loader/lib/loader.js??ref--17-0!./node_modules/vue-loader/lib??vue-loader-options!./pagenpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! doccano@1.0.0 build: `nuxt build`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the doccano@1.0.0 build script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2020-03-20T17_26_56_109Z-debug.log\r\nERROR: Service 'frontend' failed to build: The command '/bin/sh -c npm run build' returned a non-zero code: 1\r\n```\r\n\r\nI have also looked into [the following issue](https://github.com/doccano/doccano/pull/539) and updated the frontend node version to 13.2.0 in the frontend Dockerfile; however, the output above is after doing that change.\r\n\r\nHere is the complete error log output:\r\nhttps://hastebin.com/urimuketup.sql\r\n\r\n## Your Environment\r\n---------\r\n<!-- Include details of your environment.-->\r\n*   Operating System: Ubuntu 18.04.3 LTS\r\n*  Docker version 19.03.5, build 633a0ea838\r\n* docker-compose version 1.25.0, build 0a186604\r\n*   When you install doccano: https://github.com/doccano/doccano/releases/tag/v1.0.2\r\n*   How did you install doccano (Heroku button etc): downloaded the release, unzipped, run the docker-compose.prod.yml file.\r\n","closed_by":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/636/timeline","performed_via_github_app":null,"state_reason":"completed"}