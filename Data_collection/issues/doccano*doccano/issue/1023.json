{"url":"https://api.github.com/repos/doccano/doccano/issues/1023","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/1023/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/1023/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/1023/events","html_url":"https://github.com/doccano/doccano/issues/1023","id":725544827,"node_id":"MDU6SXNzdWU3MjU1NDQ4Mjc=","number":1023,"title":"Cannot use doccano after restarting container","user":{"login":"KevinGit-stack","id":73174906,"node_id":"MDQ6VXNlcjczMTc0OTA2","avatar_url":"https://avatars.githubusercontent.com/u/73174906?v=4","gravatar_id":"","url":"https://api.github.com/users/KevinGit-stack","html_url":"https://github.com/KevinGit-stack","followers_url":"https://api.github.com/users/KevinGit-stack/followers","following_url":"https://api.github.com/users/KevinGit-stack/following{/other_user}","gists_url":"https://api.github.com/users/KevinGit-stack/gists{/gist_id}","starred_url":"https://api.github.com/users/KevinGit-stack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KevinGit-stack/subscriptions","organizations_url":"https://api.github.com/users/KevinGit-stack/orgs","repos_url":"https://api.github.com/users/KevinGit-stack/repos","events_url":"https://api.github.com/users/KevinGit-stack/events{/privacy}","received_events_url":"https://api.github.com/users/KevinGit-stack/received_events","type":"User","site_admin":false},"labels":[{"id":927327728,"node_id":"MDU6TGFiZWw5MjczMjc3Mjg=","url":"https://api.github.com/repos/doccano/doccano/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-20T12:40:56Z","updated_at":"2020-10-20T12:48:42Z","closed_at":"2020-10-20T12:48:33Z","author_association":"NONE","active_lock_reason":null,"body":"Your Environment\r\n---------\r\n<!-- Include details of your environment.-->\r\n*   **Operating System:** Windows 10 Home 64 bits\r\n*   **Python Version Used:** 3.6\r\n*   **When you install doccano:** 20.10.2020\r\n*   **How did you install doccano (Heroku button etc):** Docker \r\n\r\n- Create a docker container for doccano:\r\n`docker pull markuspoerschke/doccano:1.0.5`\r\n` docker container create --name doccano -e \"ADMIN_USERNAME=admin\" -e \"ADMIN_EMAIL=admin@example.com\" -e \"ADMIN_PASSWORD=password\" -p 8000:8000 markuspoerschke/doccano:1.0.5`\r\n\r\n- Start doccano using\r\n`docker container start doccano`\r\n\r\n- doccano works and I can annotate data on the following adress: http://127.0.0.1:8000/\r\n\r\n- After restarting the container and trying to start doccano again via `docker container start doccano` I get the following error in the Docker Desktop Logs:\r\n```\r\nOperations to perform:\r\nApply all migrations: admin, api, auth, authtoken, contenttypes, sessions, social_django\r\nRunning migrations:\r\nNo migrations to apply.\r\nYour models have changes that are not yet reflected in a migration, and so won't be applied.\r\nRun 'manage.py makemigrations' to make new migrations, and then re-run 'manage.py migrate' to apply them.\r\nTraceback (most recent call last):\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/backends/utils.py\", line 85, in _execute\r\nreturn self.cursor.execute(sql, params)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/backends/sqlite3/base.py\", line 298, in execute\r\nreturn Database.Cursor.execute(self, query, params)\r\nsqlite3.IntegrityError: UNIQUE constraint failed: auth_user.username\r\nThe above exception was the direct cause of the following exception:\r\nTraceback (most recent call last):\r\nFile \"app/manage.py\", line 15, in <module>\r\nexecute_from_command_line(sys.argv)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/core/management/__init__.py\", line 381, in execute_from_command_line\r\nutility.execute()\r\nFile \"/usr/local/lib/python3.6/site-packages/django/core/management/__init__.py\", line 375, in execute\r\nself.fetch_command(subcommand).run_from_argv(self.argv)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/core/management/base.py\", line 316, in run_from_argv\r\nself.execute(*args, **cmd_options)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/contrib/auth/management/commands/createsuperuser.py\", line 59, in execute\r\nreturn super().execute(*args, **options)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/core/management/base.py\", line 353, in execute\r\noutput = self.handle(*args, **options)\r\nFile \"/doccano/app/server/management/commands/create_admin.py\", line 22, in handle\r\nsuper().handle(*args, **options)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/contrib/auth/management/commands/createsuperuser.py\", line 184, in handle\r\nself.UserModel._default_manager.db_manager(database).create_superuser(**user_data)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/contrib/auth/models.py\", line 161, in create_superuser\r\nreturn self._create_user(username, email, password, **extra_fields)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/contrib/auth/models.py\", line 144, in _create_user\r\nuser.save(using=self._db)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/contrib/auth/base_user.py\", line 73, in save\r\nsuper().save(*args, **kwargs)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/models/base.py\", line 718, in save\r\nforce_update=force_update, update_fields=update_fields)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/models/base.py\", line 748, in save_base\r\nupdated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/models/base.py\", line 831, in _save_table\r\nresult = self._do_insert(cls._base_manager, using, fields, update_pk, raw)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/models/base.py\", line 869, in _do_insert\r\nusing=using, raw=raw)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/models/manager.py\", line 82, in manager_method\r\nreturn getattr(self.get_queryset(), name)(*args, **kwargs)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/models/query.py\", line 1136, in _insert\r\nreturn query.get_compiler(using=using).execute_sql(return_id)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/models/sql/compiler.py\", line 1289, in execute_sql\r\ncursor.execute(sql, params)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/backends/utils.py\", line 100, in execute\r\nreturn super().execute(sql, params)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/backends/utils.py\", line 68, in execute\r\nreturn self._execute_with_wrappers(sql, params, many=False, executor=self._execute)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/backends/utils.py\", line 77, in _execute_with_wrappers\r\nreturn executor(sql, params, many, context)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/backends/utils.py\", line 85, in _execute\r\nreturn self.cursor.execute(sql, params)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/utils.py\", line 89, in __exit__\r\nraise dj_exc_value.with_traceback(traceback) from exc_value\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/backends/utils.py\", line 85, in _execute\r\nreturn self.cursor.execute(sql, params)\r\nFile \"/usr/local/lib/python3.6/site-packages/django/db/backends/sqlite3/base.py\", line 298, in execute\r\nreturn Database.Cursor.execute(self, query, params)\r\ndjango.db.utils.IntegrityError: UNIQUE constraint failed: auth_user.username\r\n```\r\nCan anybody provide a solution to this error? \r\nThanks in advance!\r\n","closed_by":{"login":"icoxfog417","id":544269,"node_id":"MDQ6VXNlcjU0NDI2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/544269?v=4","gravatar_id":"","url":"https://api.github.com/users/icoxfog417","html_url":"https://github.com/icoxfog417","followers_url":"https://api.github.com/users/icoxfog417/followers","following_url":"https://api.github.com/users/icoxfog417/following{/other_user}","gists_url":"https://api.github.com/users/icoxfog417/gists{/gist_id}","starred_url":"https://api.github.com/users/icoxfog417/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icoxfog417/subscriptions","organizations_url":"https://api.github.com/users/icoxfog417/orgs","repos_url":"https://api.github.com/users/icoxfog417/repos","events_url":"https://api.github.com/users/icoxfog417/events{/privacy}","received_events_url":"https://api.github.com/users/icoxfog417/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/1023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/1023/timeline","performed_via_github_app":null,"state_reason":"completed"}