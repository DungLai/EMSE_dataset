{"url":"https://api.github.com/repos/doccano/doccano/issues/890","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/890/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/890/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/890/events","html_url":"https://github.com/doccano/doccano/issues/890","id":655297806,"node_id":"MDU6SXNzdWU2NTUyOTc4MDY=","number":890,"title":"Checkpoint keeps only last project","user":{"login":"lasp73","id":24196899,"node_id":"MDQ6VXNlcjI0MTk2ODk5","avatar_url":"https://avatars.githubusercontent.com/u/24196899?v=4","gravatar_id":"","url":"https://api.github.com/users/lasp73","html_url":"https://github.com/lasp73","followers_url":"https://api.github.com/users/lasp73/followers","following_url":"https://api.github.com/users/lasp73/following{/other_user}","gists_url":"https://api.github.com/users/lasp73/gists{/gist_id}","starred_url":"https://api.github.com/users/lasp73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lasp73/subscriptions","organizations_url":"https://api.github.com/users/lasp73/orgs","repos_url":"https://api.github.com/users/lasp73/repos","events_url":"https://api.github.com/users/lasp73/events{/privacy}","received_events_url":"https://api.github.com/users/lasp73/received_events","type":"User","site_admin":false},"labels":[{"id":927327719,"node_id":"MDU6TGFiZWw5MjczMjc3MTk=","url":"https://api.github.com/repos/doccano/doccano/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-11T23:31:22Z","updated_at":"2020-07-17T00:16:11Z","closed_at":"2020-07-17T00:16:11Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"How to reproduce the behaviour\r\n---------\r\n\r\nIt seems that the checkpoint keeps only the page of the last project visited. I suppose the correct behavior would be keep the information from all projects.\r\n\r\nThe cause must be that sometimes a new checkpoint is created when a page is saved/updated for one project, as you can see the following example (see FilterButtom.vue, DocumentList.vue and pagination.js):\r\n\r\n```\r\nconst checkpoint = {}\r\ncheckpoint[this.$route.params.id] = this.page\r\nlocalStorage.setItem('checkpoint', JSON.stringify(checkpoint))\r\n```\r\n\r\nI suppose the correct process would start reading the current checkpoint from local storage.\r\n\r\nBecause of issue #887, it is hard to show this behavior directly in annotation page.\r\nHowever... you can inspect local storage using your browser as you can see in the following video:\r\n\r\n![checkpoint-issue](https://user-images.githubusercontent.com/24196899/87235717-473e8d00-c3b5-11ea-85e4-51fc9df71816.gif)\r\n\r\nYour Environment\r\n---------\r\n*   Using Docker with docker-compose -f docker-compose.dev.yml up -d\r\n*   Original code from doccano/master on July 10, 2020, commit 690b688\r\n\r\nI will submit a pull request as a proposed solution.\r\n","closed_by":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/890/timeline","performed_via_github_app":null,"state_reason":"completed"}