{"url":"https://api.github.com/repos/doccano/doccano/issues/541","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/541/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/541/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/541/events","html_url":"https://github.com/doccano/doccano/issues/541","id":551372992,"node_id":"MDU6SXNzdWU1NTEzNzI5OTI=","number":541,"title":"docker-compose error - nuxt","user":{"login":"evanmiller29","id":8062590,"node_id":"MDQ6VXNlcjgwNjI1OTA=","avatar_url":"https://avatars.githubusercontent.com/u/8062590?v=4","gravatar_id":"","url":"https://api.github.com/users/evanmiller29","html_url":"https://github.com/evanmiller29","followers_url":"https://api.github.com/users/evanmiller29/followers","following_url":"https://api.github.com/users/evanmiller29/following{/other_user}","gists_url":"https://api.github.com/users/evanmiller29/gists{/gist_id}","starred_url":"https://api.github.com/users/evanmiller29/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evanmiller29/subscriptions","organizations_url":"https://api.github.com/users/evanmiller29/orgs","repos_url":"https://api.github.com/users/evanmiller29/repos","events_url":"https://api.github.com/users/evanmiller29/events{/privacy}","received_events_url":"https://api.github.com/users/evanmiller29/received_events","type":"User","site_admin":false},"labels":[{"id":927327719,"node_id":"MDU6TGFiZWw5MjczMjc3MTk=","url":"https://api.github.com/repos/doccano/doccano/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":927327720,"node_id":"MDU6TGFiZWw5MjczMjc3MjA=","url":"https://api.github.com/repos/doccano/doccano/labels/duplicate","name":"duplicate","color":"cfd3d7","default":true,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-01-17T11:53:16Z","updated_at":"2020-01-17T14:10:17Z","closed_at":"2020-01-17T14:10:17Z","author_association":"NONE","active_lock_reason":null,"body":"If you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug, a feature request, or a significant problem with documentation (for small docs fixes please send a PR instead).\r\n2. The form below must be filled out.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nWindows 10\r\n- **Python version**: \r\n3.7.4\r\n\r\n### Describe the problem\r\nDocker compose doesn't work. It fails on nuxt build. Has anyone else had this issue? \r\nI've tried tweaking my docker configs but no luck.\r\n\r\n- Increased docker memory to 8192\r\n- Increased swap to 2048\r\n\r\n`ERROR in ./.nuxt/client.js\r\nModule build failed (from ./node_modules/babel-loader/lib/index.js):\r\nError: [BABEL] /app/.nuxt/client.js: Package exports for '/app/node_modules/@babel/helper-compilation-targets' do not define a '.' subpath (While processing: \"/app/node_modules/@nuxt/babel-preset-app/src/index.js\")\r\n    at applyExports (internal/modules/cjs/loader.js:485:15)\r\n    at resolveExports (internal/modules/cjs/loader.js:508:12)\r\n    at Function.Module._findPath (internal/modules/cjs/loader.js:577:20)\r\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:879:27)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:785:27)\r\n    at Module.require (internal/modules/cjs/loader.js:956:19)\r\n    at require (internal/modules/cjs/helpers.js:74:18)\r\n    at Object.<anonymous> (/app/node_modules/@babel/preset-env/lib/debug.js:8:33)\r\n    at Module._compile (internal/modules/cjs/loader.js:1063:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1103:10)\r\n    at Module.load (internal/modules/cjs/loader.js:914:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:822:14)\r\n    at Module.require (internal/modules/cjs/loader.js:956:19)\r\n    at require (internal/modules/cjs/helpers.js:74:18)\r\n    at Object.<anonymous> (/app/node_modules/@babel/preset-env/lib/index.js:11:14)\r\n    at Module._compile (internal/modules/cjs/loader.js:1063:30)\r\n @ multi ./.nuxt/client.js app[0]\r\n\r\n FATAL  Nuxt build error\r\n\r\n  at WebpackBundler.webpackCompile (node_modules/@nuxt/webpack/dist/webpack.js:5326:21)\r\n  at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n  at async WebpackBundler.build (node_modules/@nuxt/webpack/dist/webpack.js:5275:5)\r\n  at async Builder.build (node_modules/@nuxt/builder/dist/builder.js:5598:5)\r\n  at async Generator.initiate (node_modules/@nuxt/generator/dist/generator.js:70:7)\r\n  at async Generator.generate (node_modules/@nuxt/generator/dist/generator.js:40:5)\r\n  at async Object.run (node_modules/@nuxt/cli/dist/cli-build.js:96:7)\r\n  at async NuxtCommand.run (node_modules/@nuxt/cli/dist/cli-command.js:2575:7)\r\n\r\n\r\n   ╭─────────────────────────────╮\r\n   │                             │\r\n   │   ✖ Nuxt Fatal Error        │\r\n   │                             │\r\n   │   Error: Nuxt build error   │\r\n   │                             │\r\n   ╰─────────────────────────────╯\r\n\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! doccano@1.0.0 build: `nuxt build`\r\nnpm ERR! Exit status 1\r\nnpm ERR!\r\nnpm ERR! Failed at the doccano@1.0.0 build script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2020-01-17T11_39_50_975Z-debug.log`\r\n\r\n### Source code / logs\r\ngit clone https://github.com/doccano/doccano.git\r\ncd doccano\r\ndocker-compose -f docker-compose.prod.yml up\r\n\r\n","closed_by":{"login":"icoxfog417","id":544269,"node_id":"MDQ6VXNlcjU0NDI2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/544269?v=4","gravatar_id":"","url":"https://api.github.com/users/icoxfog417","html_url":"https://github.com/icoxfog417","followers_url":"https://api.github.com/users/icoxfog417/followers","following_url":"https://api.github.com/users/icoxfog417/following{/other_user}","gists_url":"https://api.github.com/users/icoxfog417/gists{/gist_id}","starred_url":"https://api.github.com/users/icoxfog417/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icoxfog417/subscriptions","organizations_url":"https://api.github.com/users/icoxfog417/orgs","repos_url":"https://api.github.com/users/icoxfog417/repos","events_url":"https://api.github.com/users/icoxfog417/events{/privacy}","received_events_url":"https://api.github.com/users/icoxfog417/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/541/timeline","performed_via_github_app":null,"state_reason":"completed"}