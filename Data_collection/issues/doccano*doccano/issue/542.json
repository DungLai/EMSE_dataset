{"url":"https://api.github.com/repos/doccano/doccano/issues/542","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/542/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/542/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/542/events","html_url":"https://github.com/doccano/doccano/issues/542","id":551554443,"node_id":"MDU6SXNzdWU1NTE1NTQ0NDM=","number":542,"title":"npm install fails on RHEL7 from Squire.git using ssh protocol","user":{"login":"tulleuchen","id":45860725,"node_id":"MDQ6VXNlcjQ1ODYwNzI1","avatar_url":"https://avatars.githubusercontent.com/u/45860725?v=4","gravatar_id":"","url":"https://api.github.com/users/tulleuchen","html_url":"https://github.com/tulleuchen","followers_url":"https://api.github.com/users/tulleuchen/followers","following_url":"https://api.github.com/users/tulleuchen/following{/other_user}","gists_url":"https://api.github.com/users/tulleuchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tulleuchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tulleuchen/subscriptions","organizations_url":"https://api.github.com/users/tulleuchen/orgs","repos_url":"https://api.github.com/users/tulleuchen/repos","events_url":"https://api.github.com/users/tulleuchen/events{/privacy}","received_events_url":"https://api.github.com/users/tulleuchen/received_events","type":"User","site_admin":false},"labels":[{"id":927327728,"node_id":"MDU6TGFiZWw5MjczMjc3Mjg=","url":"https://api.github.com/repos/doccano/doccano/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-01-17T17:59:59Z","updated_at":"2020-01-21T19:55:51Z","closed_at":"2020-01-18T00:11:17Z","author_association":"NONE","active_lock_reason":null,"body":"**Problem**\r\n\r\nFor Installing from Source, I'm getting an error on **npm install**\r\nI've also attached the debug log that was generated by npm install.\r\nI attempted the following work arounds\r\n1) Create SSH pub/priv key pair on github\r\nafter doing so, I can manually run the command that fails in npm with no problem\r\n```bash\r\n/usr/bin/git ls-remote -h -t ssh://git@github.com/seonim-ryu/Squire.git\r\n```\r\n2) try to force git to use https instead of git\r\n```bash\r\ngit config --global url.\"https://github.com/\".insteadOf git@github.com:\r\ngit config --global url.\"https://\".insteadOf git://\r\n```\r\n\r\n**How to reproduce the problem**\r\nI've created a script which executes the following\r\n\r\n```bash\r\nyum install rh-python36* -y\r\nyum install rh-nodejs12* -y\r\nyum install gcc-c++ -y\r\nyum groupinstall \"Development tools\" -y\r\nsource scl_source enable rh-nodejs12 rh-python36\r\n\r\ngit clone https://github.com/chakki-works/doccano.git\r\ncd doccano\r\nvirtualenv venv\r\nsource venv/bin/activate\r\npip install --upgrade pip\r\npip install -r requirements.txt\r\ncd frontend\r\n\r\nnpm install\r\n```\r\n\r\n**Error Message**\r\n```bash\r\n\r\n[root]# npm i\r\nnpm WARN deprecated left-pad@1.3.0: use String.prototype.padStart()\r\nnpm WARN deprecated core-js@2.6.11: core-js@<3 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.\r\nnpm ERR! Error while executing:\r\nnpm ERR! /usr/bin/git ls-remote -h -t ssh://git@github.com/seonim-ryu/Squire.git\r\nnpm ERR!\r\nnpm ERR! fatal: failed to stat '.': Permission denied\r\nnpm ERR!\r\nnpm ERR! exited with error code: 128\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2020-01-17T14_05_41_472Z-debug.log\r\n```\r\n\r\nYour Environment\r\n---------\r\n```bash\r\n[root]# cat /etc/redhat-release\r\nRed Hat Enterprise Linux Server release 7.7 (Maipo)\r\n\r\n[root]# yum list installed | grep rh-python\r\nrh-python36.x86_64             2.0-1.el7            @rhel-server-rhscl-7-rpms\r\n[root]# python --version\r\nPython 3.6.9\r\n\r\n[root]# yum list installed | grep pip\r\nrh-python36-python-pip.noarch  9.0.1-2.el7          @rhel-server-rhscl-7-rpms\r\n[root]# pip --version\r\npip 9.0.1 from /opt/rh/rh-python36/root/usr/lib/python3.6/site-packages (python 3.6)\r\n\r\n[root]# yum list installed | grep -A 2 virtualenv\r\nrh-python36-python-virtualenv.noarch 15.1.0-2.el7         @rhel-server-rhscl-7-rpms\r\n[root]# virtualenv --version\r\n15.1.0\r\n\r\n[root]# yum list installed | grep npm\r\nrh-nodejs12-npm.x86_64         6.10.3-12.10.0.4.el7 @rhel-server-rhscl-7-rpms\r\n[root]# npm --version\r\n6.10.3\r\n\r\n[root]# yum list installed | grep rh-node\r\nrh-nodejs12.x86_64             3.4-1.el7            @rhel-server-rhscl-7-rpms\r\n[root]# node --version\r\nv12.10.0\r\n\r\n[root]# yum list installed | grep git\r\ngit.x86_64                     1.8.3.1-20.el7       @rhel-7-server-rpms\r\n[root]# git --version\r\ngit version 1.8.3.1\r\n\r\n[root]# gcc --version\r\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-39)\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n```\r\nThis failed as recently as a few today.\r\n[2020-01-17T16_49_58_359Z-debug.log](https://github.com/doccano/doccano/files/4078063/2020-01-17T16_49_58_359Z-debug.log)\r\n","closed_by":{"login":"icoxfog417","id":544269,"node_id":"MDQ6VXNlcjU0NDI2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/544269?v=4","gravatar_id":"","url":"https://api.github.com/users/icoxfog417","html_url":"https://github.com/icoxfog417","followers_url":"https://api.github.com/users/icoxfog417/followers","following_url":"https://api.github.com/users/icoxfog417/following{/other_user}","gists_url":"https://api.github.com/users/icoxfog417/gists{/gist_id}","starred_url":"https://api.github.com/users/icoxfog417/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icoxfog417/subscriptions","organizations_url":"https://api.github.com/users/icoxfog417/orgs","repos_url":"https://api.github.com/users/icoxfog417/repos","events_url":"https://api.github.com/users/icoxfog417/events{/privacy}","received_events_url":"https://api.github.com/users/icoxfog417/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/542/timeline","performed_via_github_app":null,"state_reason":"completed"}