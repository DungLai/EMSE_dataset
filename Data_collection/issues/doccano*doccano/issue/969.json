{"url":"https://api.github.com/repos/doccano/doccano/issues/969","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/969/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/969/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/969/events","html_url":"https://github.com/doccano/doccano/issues/969","id":689226356,"node_id":"MDU6SXNzdWU2ODkyMjYzNTY=","number":969,"title":"ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.","user":{"login":"lucie-bau","id":70525376,"node_id":"MDQ6VXNlcjcwNTI1Mzc2","avatar_url":"https://avatars.githubusercontent.com/u/70525376?v=4","gravatar_id":"","url":"https://api.github.com/users/lucie-bau","html_url":"https://github.com/lucie-bau","followers_url":"https://api.github.com/users/lucie-bau/followers","following_url":"https://api.github.com/users/lucie-bau/following{/other_user}","gists_url":"https://api.github.com/users/lucie-bau/gists{/gist_id}","starred_url":"https://api.github.com/users/lucie-bau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucie-bau/subscriptions","organizations_url":"https://api.github.com/users/lucie-bau/orgs","repos_url":"https://api.github.com/users/lucie-bau/repos","events_url":"https://api.github.com/users/lucie-bau/events{/privacy}","received_events_url":"https://api.github.com/users/lucie-bau/received_events","type":"User","site_admin":false},"labels":[{"id":927327719,"node_id":"MDU6TGFiZWw5MjczMjc3MTk=","url":"https://api.github.com/repos/doccano/doccano/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-08-31T13:53:42Z","updated_at":"2021-04-24T11:07:18Z","closed_at":"2020-09-07T03:32:47Z","author_association":"NONE","active_lock_reason":null,"body":"How to reproduce the problem\r\n---------\r\nWhile installing doccano by following the instructions I always get bach the same error, none of the solutions I found helped.\r\n\r\n```bash\r\ndocker-compose -f docker-compose.prod.yml up\r\nBuilding backend\r\nStep 1/7 : FROM alpine:3.9.6\r\n ---> 78a2ce922f86\r\nStep 2/7 : CMD [\"python3\"]\r\n ---> Using cache\r\n ---> 8d798c10a660\r\nStep 3/7 : WORKDIR /app\r\n ---> Using cache\r\n ---> 635331406aa6\r\nStep 4/7 : ENV PYTHONDONTWRITEBYTECODE 1\r\n ---> Using cache\r\n ---> 8e3792bb0141\r\nStep 5/7 : ENV PYTHONUNBUFFERED 1\r\n ---> Using cache\r\n ---> 2db5cdc120a7\r\nStep 6/7 : COPY . /app/\r\n ---> Using cache\r\n ---> e28262603dfe\r\nStep 7/7 : RUN apk add -U --no-cache bash python3 python3-dev libpq postgresql-dev unixodbc-dev musl-dev g++ libffi-dev   && pip3 install --upgrade --no-cache-dir pip setuptools   && pip3 install --no-cache-dir -r requirements.txt   && ln -s /usr/bin/python3 /usr/bin/python   && apk del --no-cache python3-dev postgresql-dev unixodbc-dev musl-dev g++ libffi-dev\r\n ---> Running in 93c7bca07df6\r\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\r\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\r\n(1/38) Installing ncurses-terminfo-base (6.1_p20190105-r0)\r\n(2/38) Installing ncurses-terminfo (6.1_p20190105-r0)\r\n(3/38) Installing ncurses-libs (6.1_p20190105-r0)\r\n(4/38) Installing readline (7.0.003-r1)\r\n(5/38) Installing bash (4.4.19-r1)\r\nExecuting bash-4.4.19-r1.post-install\r\n(6/38) Installing libgcc (8.3.0-r0)\r\n(7/38) Installing libstdc++ (8.3.0-r0)\r\n(8/38) Installing binutils (2.31.1-r2)\r\n(9/38) Installing gmp (6.1.2-r1)\r\n(10/38) Installing isl (0.18-r0)\r\n(11/38) Installing libgomp (8.3.0-r0)\r\n(12/38) Installing libatomic (8.3.0-r0)\r\n(13/38) Installing mpfr3 (3.1.5-r1)\r\n(14/38) Installing mpc1 (1.0.3-r1)\r\n(15/38) Installing gcc (8.3.0-r0)\r\n(16/38) Installing musl-dev (1.1.20-r5)\r\n(17/38) Installing libc-dev (0.7.1-r0)\r\n(18/38) Installing g++ (8.3.0-r0)\r\n(19/38) Installing linux-headers (4.18.13-r1)\r\n(20/38) Installing libffi (3.2.1-r6)\r\n(21/38) Installing pkgconf (1.6.0-r0)\r\n(22/38) Installing libffi-dev (3.2.1-r6)\r\n(23/38) Installing db (5.3.28-r1)\r\n(24/38) Installing libsasl (2.1.27-r2)\r\n(25/38) Installing libldap (2.4.48-r1)\r\n(26/38) Installing libpq (11.7-r0)\r\n(27/38) Installing openssl-dev (1.1.1g-r0)\r\n(28/38) Installing postgresql-libs (11.7-r0)\r\n(29/38) Installing postgresql-dev (11.7-r0)\r\n(30/38) Installing libbz2 (1.0.6-r7)\r\n(31/38) Installing expat (2.2.8-r0)\r\n(32/38) Installing gdbm (1.13-r1)\r\n(33/38) Installing xz-libs (5.2.4-r0)\r\n(34/38) Installing sqlite-libs (3.28.0-r3)\r\n(35/38) Installing python3 (3.6.9-r3)\r\n(36/38) Installing python3-dev (3.6.9-r3)\r\n(37/38) Installing unixodbc (2.3.7-r0)\r\n(38/38) Installing unixodbc-dev (2.3.7-r0)\r\nExecuting busybox-1.29.3-r10.trigger\r\nOK: 296 MiB in 52 packages\r\nCollecting pip\r\n  Downloading https://files.pythonhosted.org/packages/5a/4a/39400ff9b36e719bdf8f31c99fe1fa7842a42fa77432e584f707a5080063/pip-20.2.2-py2.py3-none-any.whl (1.5MB)\r\nCollecting setuptools\r\n  Downloading https://files.pythonhosted.org/packages/b0/8b/379494d7dbd3854aa7b85b216cb0af54edcb7fce7d086ba3e35522a713cf/setuptools-50.0.0-py3-none-any.whl (783kB)\r\nInstalling collected packages: pip, setuptools\r\n  Found existing installation: pip 18.1\r\n    Uninstalling pip-18.1:\r\n      Successfully uninstalled pip-18.1\r\n  Found existing installation: setuptools 40.6.2\r\n    Uninstalling setuptools-40.6.2:\r\n      Successfully uninstalled setuptools-40.6.2\r\nSuccessfully installed pip-20.2.2 setuptools-50.0.0\r\nCollecting apache-libcloud==2.4.0\r\n  Downloading apache_libcloud-2.4.0-py2.py3-none-any.whl (2.9 MB)\r\nCollecting applicationinsights==0.11.7\r\n  Downloading applicationinsights-0.11.7-py2.py3-none-any.whl (56 kB)\r\nCollecting colour==0.1.5\r\n  Downloading colour-0.1.5-py2.py3-none-any.whl (23 kB)\r\nCollecting chardet==3.0.4\r\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\r\nCollecting coverage==4.5.3\r\n  Downloading coverage-4.5.3.tar.gz (384 kB)\r\nCollecting dj-database-url==0.5.0\r\n  Downloading dj_database_url-0.5.0-py2.py3-none-any.whl (5.5 kB)\r\nCollecting Django==2.2.13\r\n  Downloading Django-2.2.13-py3-none-any.whl (7.5 MB)\r\nCollecting django-cloud-browser==0.5.0\r\n  Downloading django-cloud-browser-0.5.0.tar.gz (52 kB)\r\nCollecting django-cors-headers==3.1.1\r\n  Downloading django_cors_headers-3.1.1-py3-none-any.whl (14 kB)\r\nCollecting django-filter==2.0.0\r\n  Downloading django_filter-2.0.0-py3-none-any.whl (69 kB)\r\nCollecting django-heroku==0.3.1\r\n  Downloading django_heroku-0.3.1-py2.py3-none-any.whl (6.2 kB)\r\nCollecting django-mssql-backend==2.8.1\r\n  Downloading django_mssql_backend-2.8.1-py3-none-any.whl (52 kB)\r\nCollecting django-webpack-loader==0.6.0\r\n  Downloading django_webpack_loader-0.6.0-py2.py3-none-any.whl (17 kB)\r\nCollecting django-widget-tweaks==1.4.2\r\n  Downloading django_widget_tweaks-1.4.2-py2.py3-none-any.whl (13 kB)\r\nCollecting django-polymorphic==2.0.3\r\n  Downloading django_polymorphic-2.0.3-py2.py3-none-any.whl (74 kB)\r\nCollecting django-rest-polymorphic==0.1.8\r\n  Downloading django_rest_polymorphic-0.1.8-py2.py3-none-any.whl (5.9 kB)\r\nCollecting djangorestframework==3.10\r\n  Downloading djangorestframework-3.10.0-py3-none-any.whl (908 kB)\r\nCollecting djangorestframework-csv==2.1.0\r\n  Downloading djangorestframework-csv-2.1.0.tar.gz (9.8 kB)\r\nCollecting djangorestframework-filters==0.10.2\r\n  Downloading djangorestframework_filters-0.10.2-py2.py3-none-any.whl (18 kB)\r\nCollecting drf-yasg==1.17.1\r\n  Downloading drf_yasg-1.17.1-py2.py3-none-any.whl (1.1 MB)\r\nCollecting environs==4.1.0\r\n  Downloading environs-4.1.0-py2.py3-none-any.whl (8.7 kB)\r\nCollecting djangorestframework-xml==1.4.0\r\n  Downloading djangorestframework_xml-1.4.0-py2.py3-none-any.whl (4.6 kB)\r\nCollecting Faker==0.9.1\r\n  Downloading Faker-0.9.1-py2.py3-none-any.whl (761 kB)\r\nCollecting flake8==3.6.0\r\n  Downloading flake8-3.6.0-py2.py3-none-any.whl (68 kB)\r\nCollecting furl==2.0.0\r\n  Downloading furl-2.0.0-py2.py3-none-any.whl (19 kB)\r\nCollecting gunicorn==19.9.0\r\n  Downloading gunicorn-19.9.0-py2.py3-none-any.whl (112 kB)\r\nCollecting lockfile==0.12.2\r\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\r\nCollecting model-mommy==1.6.0\r\n  Downloading model_mommy-1.6.0-py2.py3-none-any.whl (17 kB)\r\nCollecting psycopg2-binary==2.7.7\r\n  Downloading psycopg2-binary-2.7.7.tar.gz (428 kB)\r\nCollecting pyexcel==0.5.14\r\n  Downloading pyexcel-0.5.14-py2.py3-none-any.whl (82 kB)\r\nCollecting pyexcel-xlsx==0.5.7\r\n  Downloading pyexcel_xlsx-0.5.7-py2.py3-none-any.whl (9.7 kB)\r\nCollecting python-dateutil==2.7.3\r\n  Downloading python_dateutil-2.7.3-py2.py3-none-any.whl (211 kB)\r\nCollecting pytz==2018.4\r\n  Downloading pytz-2018.4-py2.py3-none-any.whl (510 kB)\r\nCollecting requests==2.21.0\r\n  Downloading requests-2.21.0-py2.py3-none-any.whl (57 kB)\r\nCollecting six==1.11.0\r\n  Downloading six-1.11.0-py2.py3-none-any.whl (10 kB)\r\nCollecting seqeval==0.0.6\r\n  Downloading seqeval-0.0.6-py3-none-any.whl (6.0 kB)\r\nCollecting social-auth-app-django==4.0.0\r\n  Downloading social_auth_app_django-4.0.0-py3-none-any.whl (24 kB)\r\nCollecting social-auth-core[azuread,openidconnect]==3.3.3\r\n  Downloading social_auth_core-3.3.3-py3-none-any.whl (326 kB)\r\nCollecting text-unidecode==1.2\r\n  Downloading text_unidecode-1.2-py2.py3-none-any.whl (77 kB)\r\nCollecting unittest-xml-reporting==2.5.1\r\n  Downloading unittest_xml_reporting-2.5.1-py2.py3-none-any.whl (19 kB)\r\nCollecting vcrpy==2.0.1\r\n  Downloading vcrpy-2.0.1-py2.py3-none-any.whl (33 kB)\r\nCollecting vcrpy-unittest==0.1.7\r\n  Downloading vcrpy_unittest-0.1.7-py2.py3-none-any.whl (6.8 kB)\r\nCollecting whitenoise[brotli]==4.1.2\r\n  Downloading whitenoise-4.1.2-py2.py3-none-any.whl (19 kB)\r\nCollecting conllu==1.3.2\r\n  Downloading conllu-1.3.2-py2.py3-none-any.whl (9.3 kB)\r\nCollecting sqlparse\r\n  Downloading sqlparse-0.3.1-py2.py3-none-any.whl (40 kB)\r\nCollecting psycopg2\r\n  Downloading psycopg2-2.8.5.tar.gz (380 kB)\r\nCollecting pyodbc>=3.0\r\n  Downloading pyodbc-4.0.30.tar.gz (266 kB)\r\nCollecting unicodecsv\r\n  Downloading unicodecsv-0.14.1.tar.gz (10 kB)\r\nCollecting inflection>=0.3.1\r\n  Downloading inflection-0.5.1-py2.py3-none-any.whl (9.5 kB)\r\nCollecting ruamel.yaml>=0.15.34\r\n  Downloading ruamel.yaml-0.16.10-py2.py3-none-any.whl (111 kB)\r\nCollecting coreschema>=0.0.4\r\n  Downloading coreschema-0.0.4.tar.gz (10 kB)\r\nCollecting uritemplate>=3.0.0\r\n  Downloading uritemplate-3.0.1-py2.py3-none-any.whl (15 kB)\r\nCollecting packaging\r\n  Downloading packaging-20.4-py2.py3-none-any.whl (37 kB)\r\nCollecting coreapi>=2.3.3\r\n  Downloading coreapi-2.3.3-py2.py3-none-any.whl (25 kB)\r\nCollecting marshmallow>=2.7.0\r\n  Downloading marshmallow-3.7.1-py2.py3-none-any.whl (45 kB)\r\nCollecting python-dotenv\r\n  Downloading python_dotenv-0.14.0-py2.py3-none-any.whl (17 kB)\r\nCollecting defusedxml>=0.3\r\n  Downloading defusedxml-0.6.0-py2.py3-none-any.whl (23 kB)\r\nRequirement already satisfied: setuptools>=30 in /usr/lib/python3.6/site-packages (from flake8==3.6.0->-r requirements.txt (line 24)) (50.0.0)\r\nCollecting mccabe<0.7.0,>=0.6.0\r\n  Downloading mccabe-0.6.1-py2.py3-none-any.whl (8.6 kB)\r\nCollecting pycodestyle<2.5.0,>=2.4.0\r\n  Downloading pycodestyle-2.4.0-py2.py3-none-any.whl (62 kB)\r\nCollecting pyflakes<2.1.0,>=2.0.0\r\n  Downloading pyflakes-2.0.0-py2.py3-none-any.whl (53 kB)\r\nCollecting orderedmultidict>=1.0\r\n  Downloading orderedmultidict-1.0.1-py2.py3-none-any.whl (11 kB)\r\nCollecting texttable>=0.8.2\r\n  Downloading texttable-1.6.2-py2.py3-none-any.whl (10 kB)\r\nCollecting lml>=0.0.4\r\n  Downloading lml-0.0.9-py2.py3-none-any.whl (9.9 kB)\r\nCollecting pyexcel-io>=0.5.18\r\n  Downloading pyexcel_io-0.5.20-py2.py3-none-any.whl (39 kB)\r\nCollecting openpyxl<2.6.0,>=2.5.0\r\n  Downloading openpyxl-2.5.14.tar.gz (173 kB)\r\nCollecting urllib3<1.25,>=1.21.1\r\n  Downloading urllib3-1.24.3-py2.py3-none-any.whl (118 kB)\r\nCollecting idna<2.9,>=2.5\r\n  Downloading idna-2.8-py2.py3-none-any.whl (58 kB)\r\nCollecting certifi>=2017.4.17\r\n  Downloading certifi-2020.6.20-py2.py3-none-any.whl (156 kB)\r\nCollecting numpy>=1.14.0\r\n  Downloading numpy-1.19.1.zip (7.3 MB)\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n    Preparing wheel metadata: started\r\n    Preparing wheel metadata: finished with status 'done'\r\nCollecting PyJWT>=1.4.0\r\n  Downloading PyJWT-1.7.1-py2.py3-none-any.whl (18 kB)\r\nCollecting python3-openid>=3.0.10; python_version >= \"3.0\"\r\n  Downloading python3_openid-3.2.0-py3-none-any.whl (133 kB)\r\nCollecting oauthlib>=1.0.3\r\n  Downloading oauthlib-3.1.0-py2.py3-none-any.whl (147 kB)\r\nCollecting requests-oauthlib>=0.6.1\r\n  Downloading requests_oauthlib-1.3.0-py2.py3-none-any.whl (23 kB)\r\nCollecting cryptography>=1.4\r\n  Downloading cryptography-3.1.tar.gz (534 kB)\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n    Preparing wheel metadata: started\r\n    Preparing wheel metadata: finished with status 'done'\r\nCollecting python-jose>=3.0.0; extra == \"openidconnect\"\r\n  Downloading python_jose-3.2.0-py2.py3-none-any.whl (26 kB)\r\nCollecting yarl; python_version >= \"3.4\"\r\n  Downloading yarl-1.5.1.tar.gz (173 kB)\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n    Preparing wheel metadata: started\r\n    Preparing wheel metadata: finished with status 'done'\r\nCollecting wrapt\r\n  Downloading wrapt-1.12.1.tar.gz (27 kB)\r\nCollecting PyYAML\r\n  Downloading PyYAML-5.3.1.tar.gz (269 kB)\r\nCollecting Brotli; extra == \"brotli\"\r\n  Downloading Brotli-1.0.9.zip (510 kB)\r\nCollecting ruamel.yaml.clib>=0.1.2; platform_python_implementation == \"CPython\" and python_version < \"3.9\"\r\n  Downloading ruamel.yaml.clib-0.2.0.tar.gz (178 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/bin/python3.6 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-cshu60wo/ruamel-yaml-clib/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-cshu60wo/ruamel-yaml-clib/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-pip-egg-info-ldak77_3\r\n         cwd: /tmp/pip-install-cshu60wo/ruamel-yaml-clib/\r\n    Complete output (21 lines):\r\n    /usr/lib/python3.6/site-packages/_distutils_hack/__init__.py:30: UserWarning: Setuptools is replacing distutils.\r\n      warnings.warn(\"Setuptools is replacing distutils.\")\r\n    sys.argv ['/tmp/pip-install-cshu60wo/ruamel-yaml-clib/setup.py', 'egg_info', '--egg-base', '/tmp/pip-pip-egg-info-ldak77_3']\r\n    test compiling test_ruamel_yaml\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-cshu60wo/ruamel-yaml-clib/setup.py\", line 960, in <module>\r\n        main()\r\n      File \"/tmp/pip-install-cshu60wo/ruamel-yaml-clib/setup.py\", line 957, in main\r\n        setup(**kw)\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/__init__.py\", line 153, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/_distutils/core.py\", line 134, in setup\r\n        ok = dist.parse_command_line()\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/_distutils/dist.py\", line 484, in parse_command_line\r\n        args = self._parse_command_opts(parser, args)\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/dist.py\", line 903, in _parse_command_opts\r\n        nargs = _Distribution._parse_command_opts(self, parser, args)\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/_distutils/dist.py\", line 548, in _parse_command_opts\r\n        \"command class %s must subclass Command\" % cmd_class)\r\n    distutils.errors.DistutilsClassError: command class <class 'setuptools.command.egg_info.egg_info'> must subclass Command\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\nERROR: Service 'backend' failed to build: The command '/bin/sh -c apk add -U --no-cache bash python3 python3-dev libpq postgresql-dev unixodbc-dev musl-dev g++ libffi-dev   && pip3 install --upgrade --no-cache-dir pip setuptools   && pip3 install --no-cache-dir -r requirements.txt   && ln -s /usr/bin/python3 /usr/bin/python   && apk del --no-cache python3-dev postgresql-dev unixodbc-dev musl-dev g++ libffi-dev' returned a non-zero code: 1\r\n```\r\n\r\nYour Environment\r\n---------\r\n*   Operating System: Windows 10\r\n*   Python Version Used: 3.8.2\r\n","closed_by":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/969/timeline","performed_via_github_app":null,"state_reason":"completed"}