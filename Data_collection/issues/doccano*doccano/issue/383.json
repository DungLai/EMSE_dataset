{"url":"https://api.github.com/repos/doccano/doccano/issues/383","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/383/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/383/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/383/events","html_url":"https://github.com/doccano/doccano/issues/383","id":501706229,"node_id":"MDU6SXNzdWU1MDE3MDYyMjk=","number":383,"title":"Huge memory usage and not freed when exporting the annotation","user":{"login":"prokotg","id":19536019,"node_id":"MDQ6VXNlcjE5NTM2MDE5","avatar_url":"https://avatars.githubusercontent.com/u/19536019?v=4","gravatar_id":"","url":"https://api.github.com/users/prokotg","html_url":"https://github.com/prokotg","followers_url":"https://api.github.com/users/prokotg/followers","following_url":"https://api.github.com/users/prokotg/following{/other_user}","gists_url":"https://api.github.com/users/prokotg/gists{/gist_id}","starred_url":"https://api.github.com/users/prokotg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prokotg/subscriptions","organizations_url":"https://api.github.com/users/prokotg/orgs","repos_url":"https://api.github.com/users/prokotg/repos","events_url":"https://api.github.com/users/prokotg/events{/privacy}","received_events_url":"https://api.github.com/users/prokotg/received_events","type":"User","site_admin":false},"labels":[{"id":927327728,"node_id":"MDU6TGFiZWw5MjczMjc3Mjg=","url":"https://api.github.com/repos/doccano/doccano/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-10-02T20:22:20Z","updated_at":"2020-03-03T13:12:10Z","closed_at":"2020-03-03T13:12:10Z","author_association":"NONE","active_lock_reason":null,"body":"**Environment**:\r\n\r\nDocker image running on Ubuntu 18.04, Installed on 9/26/2019\r\n\r\nHello!\r\n------------------------------------------------------------\r\nFirst of all, thank you for developing such brilliant tool :) I'm using it again for yet another project. This time I have a machine that has only 2GB of RAM and I have a dataset that in json has ca. 200 MB. I managed to import it without problems. When I want to export it, however, Memory usage jumps to nearly 1.6 GB and I can download the exported file but **it still occupies the RAM after I download it.** _well, something does_\r\n\r\nHaving 2GB of RAM in total and 1.6GB taken after this operation, the next time I want to export my annotations I have to click on the Download button twice. The first time, my machine is totally blocked being out of resources and at some point ( I guess) because process run out of memory and is killed _(?)_, RAM usage drops to initial 300mb and then I click on the Download button again and I can export my file. RAM is clocked with 1.6 GB again and here come the vicious circle...\r\n\r\n**Question1**: Could you please explain (out of curiosity) why exporting 200MB file requires 5x more RAM?\r\n\r\n**Question2**: Why memory is not freed after the export is finished? \r\n\r\nCheers :)","closed_by":{"login":"icoxfog417","id":544269,"node_id":"MDQ6VXNlcjU0NDI2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/544269?v=4","gravatar_id":"","url":"https://api.github.com/users/icoxfog417","html_url":"https://github.com/icoxfog417","followers_url":"https://api.github.com/users/icoxfog417/followers","following_url":"https://api.github.com/users/icoxfog417/following{/other_user}","gists_url":"https://api.github.com/users/icoxfog417/gists{/gist_id}","starred_url":"https://api.github.com/users/icoxfog417/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icoxfog417/subscriptions","organizations_url":"https://api.github.com/users/icoxfog417/orgs","repos_url":"https://api.github.com/users/icoxfog417/repos","events_url":"https://api.github.com/users/icoxfog417/events{/privacy}","received_events_url":"https://api.github.com/users/icoxfog417/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/383/timeline","performed_via_github_app":null,"state_reason":"completed"}