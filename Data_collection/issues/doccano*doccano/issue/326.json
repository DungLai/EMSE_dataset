{"url":"https://api.github.com/repos/doccano/doccano/issues/326","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/326/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/326/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/326/events","html_url":"https://github.com/doccano/doccano/issues/326","id":477662294,"node_id":"MDU6SXNzdWU0Nzc2NjIyOTQ=","number":326,"title":"A question about the pagination and offset on Nginx/Gunicorn","user":{"login":"jinhojang6","id":41753422,"node_id":"MDQ6VXNlcjQxNzUzNDIy","avatar_url":"https://avatars.githubusercontent.com/u/41753422?v=4","gravatar_id":"","url":"https://api.github.com/users/jinhojang6","html_url":"https://github.com/jinhojang6","followers_url":"https://api.github.com/users/jinhojang6/followers","following_url":"https://api.github.com/users/jinhojang6/following{/other_user}","gists_url":"https://api.github.com/users/jinhojang6/gists{/gist_id}","starred_url":"https://api.github.com/users/jinhojang6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinhojang6/subscriptions","organizations_url":"https://api.github.com/users/jinhojang6/orgs","repos_url":"https://api.github.com/users/jinhojang6/repos","events_url":"https://api.github.com/users/jinhojang6/events{/privacy}","received_events_url":"https://api.github.com/users/jinhojang6/received_events","type":"User","site_admin":false},"labels":[{"id":927327728,"node_id":"MDU6TGFiZWw5MjczMjc3Mjg=","url":"https://api.github.com/repos/doccano/doccano/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-08-07T01:28:51Z","updated_at":"2019-08-07T03:29:32Z","closed_at":"2019-08-07T03:17:38Z","author_association":"NONE","active_lock_reason":null,"body":"I've tried to run doccano on nginx and it works well except for this issue. \r\n\r\nAlthough there is no problem on the overall API calls, there is an error on the pagination as below when I run doccano on Nginx/Gunicorn.\r\n\r\n![ezgif com-video-to-gif](https://user-images.githubusercontent.com/41753422/62588203-de76a700-b8ff-11e9-9dc8-48cb6b06f6e0.gif)\r\n\r\nI have 7 documents in a project and can find 5 documents as you can find on the video clip. However, Chrome(and other browsers) raises some errors when a new pagination with additional 2 documents should be shown.\r\n\r\n![1](https://user-images.githubusercontent.com/41753422/62587219-d1f04f80-b8fb-11e9-926b-5c3bc62f9706.PNG)\r\n\r\n**1) GET http://django/v1/projects/33/docs?limit=5&offset=5&q=&seq_annotations__isnull= net::ERR_NAME_NOT_RESOLVED**\r\n\r\n> changed from `//django /` to `172.30.1.101:8000` which is my test server IP and it seems to work well.\r\n![캡처](https://user-images.githubusercontent.com/41753422/62587319-5347e200-b8fc-11e9-84bd-8f2477e7f08b.PNG)\r\n\r\nI can find the other 2 documents that should have been shown. It is weird because all the other API calls catch the host IP well and there is no problem to use Nginx and gunicorn for others. Only this pagination&offset call does not work well.\r\n\r\n**2) Uncaught (in promise) Error: Network Error\r\n    at e.exports (sequence_labeling.d1aea4e0e7dd.js:1)\r\n    at XMLHttpRequest.d.onerror (sequence_labeling.d1aea4e0e7dd.js:1)**\r\n\r\n\r\nIn addition, my nginx configuration file is \r\n\r\n```\r\nupstream django {\r\n  ip_hash;\r\n  server django:8000; \r\n}\r\n\r\nserver {\r\n  location / {\r\n        proxy_pass http://django/;\r\n    }\r\n  listen 8000;\r\n  server_name localhost;\r\n}\r\n```\r\n\r\nI haven't changed anything on `annotation.pug` or `annotationMixin.js`.\r\n\r\nCould you please give me some advice? :) ","closed_by":{"login":"jinhojang6","id":41753422,"node_id":"MDQ6VXNlcjQxNzUzNDIy","avatar_url":"https://avatars.githubusercontent.com/u/41753422?v=4","gravatar_id":"","url":"https://api.github.com/users/jinhojang6","html_url":"https://github.com/jinhojang6","followers_url":"https://api.github.com/users/jinhojang6/followers","following_url":"https://api.github.com/users/jinhojang6/following{/other_user}","gists_url":"https://api.github.com/users/jinhojang6/gists{/gist_id}","starred_url":"https://api.github.com/users/jinhojang6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinhojang6/subscriptions","organizations_url":"https://api.github.com/users/jinhojang6/orgs","repos_url":"https://api.github.com/users/jinhojang6/repos","events_url":"https://api.github.com/users/jinhojang6/events{/privacy}","received_events_url":"https://api.github.com/users/jinhojang6/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/326/timeline","performed_via_github_app":null,"state_reason":"completed"}