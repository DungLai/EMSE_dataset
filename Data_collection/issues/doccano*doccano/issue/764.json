{"url":"https://api.github.com/repos/doccano/doccano/issues/764","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/764/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/764/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/764/events","html_url":"https://github.com/doccano/doccano/issues/764","id":616469159,"node_id":"MDU6SXNzdWU2MTY0NjkxNTk=","number":764,"title":"CSRF verification failed. Request aborted.","user":{"login":"sharmila-polamuri","id":28034607,"node_id":"MDQ6VXNlcjI4MDM0NjA3","avatar_url":"https://avatars.githubusercontent.com/u/28034607?v=4","gravatar_id":"","url":"https://api.github.com/users/sharmila-polamuri","html_url":"https://github.com/sharmila-polamuri","followers_url":"https://api.github.com/users/sharmila-polamuri/followers","following_url":"https://api.github.com/users/sharmila-polamuri/following{/other_user}","gists_url":"https://api.github.com/users/sharmila-polamuri/gists{/gist_id}","starred_url":"https://api.github.com/users/sharmila-polamuri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sharmila-polamuri/subscriptions","organizations_url":"https://api.github.com/users/sharmila-polamuri/orgs","repos_url":"https://api.github.com/users/sharmila-polamuri/repos","events_url":"https://api.github.com/users/sharmila-polamuri/events{/privacy}","received_events_url":"https://api.github.com/users/sharmila-polamuri/received_events","type":"User","site_admin":false},"labels":[{"id":927327728,"node_id":"MDU6TGFiZWw5MjczMjc3Mjg=","url":"https://api.github.com/repos/doccano/doccano/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-05-12T08:36:10Z","updated_at":"2020-05-13T01:15:06Z","closed_at":"2020-05-13T01:15:06Z","author_association":"NONE","active_lock_reason":null,"body":"How to reproduce the behaviour\r\n---------\r\n<!-- Before submitting an issue, make sure to check the docs and closed issues and FAQ to see if any of the solutions work for you. https://github.com/doccano/doccano/wiki/Frequently-Asked-Questions -->\r\nI created a button to call an external API in the projects page. When i clicking create that button form it is showing \r\n```\r\nForbidden (403)\r\nCSRF verification failed. Request aborted.\r\n```\r\nand in the terminal when doccano server is running it is showing the following\r\n```\r\nForbidden (CSRF token missing or incorrect.): /\r\n[12/May/2020 08:26:52] \"POST / HTTP/1.1\" 403 2513\r\n```\r\nI edited base.html file and the file looks like below\r\n```\r\n<div class=\"modal\" id=\"myModal\" >\r\n        <div class=\"modal-background\"></div>\r\n        <div class=\"modal-card\" style=\"width:800px;\">\r\n            <header class=\"modal-card-head\">\r\n                <p class=\"modal-card-title\">Create Auot-Label Project</p>\r\n                <button type=\"button\" aria-label=\"close\" class=\"delete\" data-dismiss=\"modal\">&times;</button>\r\n            </header>\r\n            <section class=\"modal-card-body\">\r\n                <form  method=\"POST\" id=\"upload\" enctype=\"multipart/form-data\" >\r\n<!--                     {% csrf_token %} -->\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Project Name</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" name=\"project_name\" id=\"project_name\" required=\"required\" placeholder=\"Project name\" class=\"input\">\r\n                    </div>\r\n                    <p class=\"help is-danger\"></p>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Description</label>\r\n                    <div class=\"control\">\r\n                        <textarea name=\"description\" id=\"description\" required=\"required\" placeholder=\"Project description\" class=\"textarea\"></textarea>\r\n                    </div>\r\n                    <p class=\"help is-danger\"></p>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Project Type</label>\r\n                    <div class=\"control\">\r\n                        <select name=\"project_type\" id=\"project_type\" required=\"required\">\r\n                            <option value=\"\" selected=\"selected\">---------</option>\r\n                            <option value=\"DocumentClassification\">document classification</option>\r\n                            <option value=\"SequenceLabeling\">sequence labeling</option>\r\n                            <option value=\"Seq2seq\">sequence to sequence</option>\r\n                        </select>\r\n                    </div>\r\n                    <p class=\"help is-danger\"></p>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Model Type</label>\r\n                    <div class=\"control\">\r\n                        <select name=\"model_name\" id=\"model_type\" required=\"required\">\r\n                            <option value=\"\" selected=\"selected\">---------</option>\r\n                            <option value=\"sn\">Simple NER</option>\r\n                            <option value=\"mn\">Bio-NER</option>\r\n                            <option value=\"sa\">Sentiment Analysis</option>\r\n                        </select>\r\n                    </div>\r\n                    <p class=\"help is-danger\"></p>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Guideline</label>\r\n                    <div class=\"control\">\r\n                        <textarea name=\"guideline\" id=\"guideline\" required=\"required\" placeholder=\"Project guideline\" class=\"textarea\"></textarea>\r\n                    </div>\r\n                    <p class=\"help is-danger\"></p>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Upload File</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"file\" required=\"required\" id=\"file\" name=\"file\" multiple=\"multiple\" /><br><br>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Confirm User Name</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" name=\"username\" id=\"username\" required=\"required\" placeholder=\"User Name\" class=\"input\">\r\n                    </div>\r\n                </div>\r\n                 <div class=\"field\">\r\n                    <label class=\"label\">Confirm Password</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"password\" name=\"password\" id=\"password\" required=\"required\" placeholder=\"Password\" class=\"input\">\r\n                    </div>\r\n                </div>\r\n                    <footer class=\"modal-card-foot pt20 pb20 pr20 pl20 has-background-white-ter\">\r\n                <button class=\"button is-primary\" id=\"createbtn\">Create</button>\r\n                <button class=\"button\" data-dismiss=\"modal\">Cancel</button>\r\n            </footer>\r\n                </form>\r\n            </section>\r\n        </div>\r\n</div>\r\n```\r\n```\r\n   <script>\r\n        \r\n        $('#createbtn').on('click',function(){\r\n            let myform = document.getElementById('upload');\r\n            let form_data = new FormData(myform);\r\n//             form_data.append('CSRF': getCSRFTokenValue());\r\n            console.log(form_data);\r\n            $.ajax({\r\n                url:  my_url(API link), \r\n                type: 'POST',\r\n                data: form_data,\r\n                contentType: 'application/json',\r\n                success: function(data){\r\n                    console.log(\"testing\");\r\n                }\r\n            });\r\n            alert(\"data testing\");\r\n        });\r\n    </script>\r\n```\r\n<!--\r\nInclude a code example or the steps that led to the problem. Please try to be as specific as possible. -->\r\n\r\nYour Environment\r\n---------\r\n<!-- Include details of your environment. -->\r\n\r\n*   Operating System: Ubuntu 18.04\r\n*   Python Version Used: 3.6\r\n*   When you install doccano: Feb 2020\r\n*   How did you install doccano (Heroku button etc): git+clone and installed from source\r\n","closed_by":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/764/timeline","performed_via_github_app":null,"state_reason":"completed"}