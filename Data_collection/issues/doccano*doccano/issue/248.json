{"url":"https://api.github.com/repos/doccano/doccano/issues/248","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/248/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/248/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/248/events","html_url":"https://github.com/doccano/doccano/issues/248","id":457339583,"node_id":"MDU6SXNzdWU0NTczMzk1ODM=","number":248,"title":"Invalid Postgress Host on Azure Deploy","user":{"login":"aribornstein","id":3045407,"node_id":"MDQ6VXNlcjMwNDU0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/3045407?v=4","gravatar_id":"","url":"https://api.github.com/users/aribornstein","html_url":"https://github.com/aribornstein","followers_url":"https://api.github.com/users/aribornstein/followers","following_url":"https://api.github.com/users/aribornstein/following{/other_user}","gists_url":"https://api.github.com/users/aribornstein/gists{/gist_id}","starred_url":"https://api.github.com/users/aribornstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aribornstein/subscriptions","organizations_url":"https://api.github.com/users/aribornstein/orgs","repos_url":"https://api.github.com/users/aribornstein/repos","events_url":"https://api.github.com/users/aribornstein/events{/privacy}","received_events_url":"https://api.github.com/users/aribornstein/received_events","type":"User","site_admin":false},"labels":[{"id":927327728,"node_id":"MDU6TGFiZWw5MjczMjc3Mjg=","url":"https://api.github.com/repos/doccano/doccano/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-06-18T08:46:06Z","updated_at":"2022-08-03T13:32:14Z","closed_at":"2019-06-18T12:37:23Z","author_association":"NONE","active_lock_reason":null,"body":"If you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug, a feature request, or a significant problem with documentation (for small docs fixes please send a PR instead).\r\n2. The form below must be filled out.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Azure\r\n- **Python version**: N/A\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug or a feature request.\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```\r\nself._wrapped = Settings(settings_module)\r\n2019-06-18T08:13:35.564035712Z   File \"/usr/local/lib/python3.6/site-packages/django/conf/__init__.py\", line 107, in __init__\r\n2019-06-18T08:13:35.564040112Z     mod = importlib.import_module(self.SETTINGS_MODULE)\r\n2019-06-18T08:13:35.564044312Z   File \"/usr/local/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n2019-06-18T08:13:35.564048712Z     return _bootstrap._gcd_import(name[level:], package, level)\r\n2019-06-18T08:13:35.564053012Z   File \"\", line 994, in _gcd_import\r\n2019-06-18T08:13:35.564057412Z   File \"\", line 971, in _find_and_load\r\n2019-06-18T08:13:35.564061912Z   File \"\", line 955, in _find_and_load_unlocked\r\n2019-06-18T08:13:35.564066212Z   File \"\", line 665, in _load_unlocked\r\n2019-06-18T08:13:35.564070612Z   File \"\", line 678, in exec_module\r\n2019-06-18T08:13:35.564075012Z   File \"\", line 219, in _call_with_frames_removed\r\n2019-06-18T08:13:35.564080012Z   File \"/doccano/app/app/settings.py\", line 245, in \r\n2019-06-18T08:13:35.564084612Z     ssl_require='sslmode' not in furl(env('DATABASE_URL', '')).args,\r\n2019-06-18T08:13:35.564088912Z   File \"/usr/local/lib/python3.6/site-packages/furl/furl.py\", line 1310, in __init__\r\n2019-06-18T08:13:35.564093212Z     self.load(url)  # Raises ValueError on invalid url.\r\n2019-06-18T08:13:35.564097412Z   File \"/usr/local/lib/python3.6/site-packages/furl/furl.py\", line 1337, in load\r\n2019-06-18T08:13:35.564101712Z     self.netloc = tokens.netloc  # Raises ValueError in Python 2.7+.\r\n2019-06-18T08:13:35.564106012Z   File \"/usr/local/lib/python3.6/site-packages/furl/furl.py\", line 1801, in __setattr__\r\n2019-06-18T08:13:35.564111312Z     object.__setattr__(self, attr, value)\r\n2019-06-18T08:13:35.564115613Z   File \"/usr/local/lib/python3.6/site-packages/furl/furl.py\", line 1464, in netloc\r\n2019-06-18T08:13:35.564125813Z     self.host = host\r\n2019-06-18T08:13:35.564131113Z   File \"/usr/local/lib/python3.6/site-packages/furl/furl.py\", line 1801, in __setattr__\r\n2019-06-18T08:13:35.564135513Z     object.__setattr__(self, attr, value)\r\n2019-06-18T08:13:35.564139613Z   File \"/usr/local/lib/python3.6/site-packages/furl/furl.py\", line 1379, in host\r\n2019-06-18T08:13:35.564144013Z     raise ValueError(errmsg % (host, INVALID_HOST_CHARS))\r\n2019-06-18T08:13:35.564148213Z ValueError: Invalid host 'VguuQ4agh@ari-doccano-state.postgres.database.azure.com'. Host strings must have at least one non-period character, can't contain any of '!@#$%^&'\"*()+=:;/', and can't have adjacent periods.\r\n```\r\n@c-w  I'm seeing the following behavior on deployment how are you generating the host name for postgress? It seems like this is a rare case bus should still be addressed.\r\n","closed_by":{"login":"aribornstein","id":3045407,"node_id":"MDQ6VXNlcjMwNDU0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/3045407?v=4","gravatar_id":"","url":"https://api.github.com/users/aribornstein","html_url":"https://github.com/aribornstein","followers_url":"https://api.github.com/users/aribornstein/followers","following_url":"https://api.github.com/users/aribornstein/following{/other_user}","gists_url":"https://api.github.com/users/aribornstein/gists{/gist_id}","starred_url":"https://api.github.com/users/aribornstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aribornstein/subscriptions","organizations_url":"https://api.github.com/users/aribornstein/orgs","repos_url":"https://api.github.com/users/aribornstein/repos","events_url":"https://api.github.com/users/aribornstein/events{/privacy}","received_events_url":"https://api.github.com/users/aribornstein/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/248/timeline","performed_via_github_app":null,"state_reason":"completed"}