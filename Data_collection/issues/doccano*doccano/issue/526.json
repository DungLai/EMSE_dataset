{"url":"https://api.github.com/repos/doccano/doccano/issues/526","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/526/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/526/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/526/events","html_url":"https://github.com/doccano/doccano/issues/526","id":545884122,"node_id":"MDU6SXNzdWU1NDU4ODQxMjI=","number":526,"title":"Build webpack failed","user":{"login":"mymusise","id":6883957,"node_id":"MDQ6VXNlcjY4ODM5NTc=","avatar_url":"https://avatars.githubusercontent.com/u/6883957?v=4","gravatar_id":"","url":"https://api.github.com/users/mymusise","html_url":"https://github.com/mymusise","followers_url":"https://api.github.com/users/mymusise/followers","following_url":"https://api.github.com/users/mymusise/following{/other_user}","gists_url":"https://api.github.com/users/mymusise/gists{/gist_id}","starred_url":"https://api.github.com/users/mymusise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mymusise/subscriptions","organizations_url":"https://api.github.com/users/mymusise/orgs","repos_url":"https://api.github.com/users/mymusise/repos","events_url":"https://api.github.com/users/mymusise/events{/privacy}","received_events_url":"https://api.github.com/users/mymusise/received_events","type":"User","site_admin":false},"labels":[{"id":927327719,"node_id":"MDU6TGFiZWw5MjczMjc3MTk=","url":"https://api.github.com/repos/doccano/doccano/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2020-01-06T18:58:54Z","updated_at":"2020-01-28T00:48:02Z","closed_at":"2020-01-28T00:48:02Z","author_association":"NONE","active_lock_reason":null,"body":"When I run the command `docker-compose -f docker-compose.prod.yml up`,  it got a error with:\r\n```\r\n....\r\n ---> 2189196836cf\r\nStep 5/6 : RUN npm install\r\n ---> Running in a15f3a271016\r\nnpm WARN deprecated core-js@2.6.11: core-js@<3 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.\r\nnpm WARN deprecated left-pad@1.3.0: use String.prototype.padStart()\r\n\r\n> fibers@4.0.2 install /app/node_modules/fibers\r\n> node build.js || nodejs build.js\r\n\r\ngyp WARN install got an error, rolling back install\r\ngyp ERR! configure error \r\ngyp ERR! stack Error: read ECONNRESET\r\ngyp ERR! stack     at TLSWrap.onStreamRead (internal/stream_base_commons.js:201:27)\r\ngyp ERR! System Linux 5.0.0-37-generic\r\ngyp ERR! command \"/usr/local/bin/node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\" \"--release\"\r\ngyp ERR! cwd /app/node_modules/fibers\r\ngyp ERR! node -v v13.1.0\r\ngyp ERR! node-gyp -v v5.0.5\r\ngyp ERR! not ok \r\nnode-gyp exited with code: 1\r\nPlease make sure you are using a supported platform and node version. If you\r\nwould like to compile fibers on this machine please make sure you have setup your\r\nbuild environment--\r\nWindows + OS X instructions here: https://github.com/nodejs/node-gyp\r\nUbuntu users please run: `sudo apt-get install g++ build-essential`\r\nRHEL users please run: `yum install gcc-c++` and `yum groupinstall 'Development Tools'` \r\nAlpine users please run: `sudo apk add python make g++`\r\ngyp WARN install got an error, rolling back install\r\ngyp ERR! configure error \r\ngyp ERR! stack Error: socket hang up\r\ngyp ERR! stack     at connResetException (internal/errors.js:575:14)\r\ngyp ERR! stack     at TLSSocket.socketOnEnd (_http_client.js:438:23)\r\ngyp ERR! stack     at TLSSocket.emit (events.js:215:7)\r\ngyp ERR! stack     at endReadableNT (_stream_readable.js:1199:12)\r\ngyp ERR! stack     at processTicksAndRejections (internal/process/task_queues.js:80:21)\r\ngyp ERR! System Linux 5.0.0-37-generic\r\ngyp ERR! command \"/usr/local/bin/node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\" \"--release\"\r\ngyp ERR! cwd /app/node_modules/fibers\r\ngyp ERR! node -v v13.1.0\r\ngyp ERR! node-gyp -v v5.0.5\r\ngyp ERR! not ok \r\nnode-gyp exited with code: 1\r\nPlease make sure you are using a supported platform and node version. If you\r\nwould like to compile fibers on this machine please make sure you have setup your\r\nbuild environment--\r\nWindows + OS X instructions here: https://github.com/nodejs/node-gyp\r\nUbuntu users please run: `sudo apt-get install g++ build-essential`\r\nRHEL users please run: `yum install gcc-c++` and `yum groupinstall 'Development Tools'` \r\nAlpine users please run: `sudo apk add python make g++`\r\nnpm WARN sass-loader@8.0.0 requires a peer of node-sass@^4.0.0 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN eslint-config-standard@14.1.0 requires a peer of eslint@>=6.2.2 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN tsutils@3.17.1 requires a peer of typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta but none is installed. You must install peer dependencies yourself.\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.11 (node_modules/watchpack/node_modules/fsevents):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.11: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.11 (node_modules/nodemon/node_modules/fsevents):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.11: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.11 (node_modules/jest-haste-map/node_modules/fsevents):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.11: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\n\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! fibers@4.0.2 install: `node build.js || nodejs build.js`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the fibers@4.0.2 install script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2020-01-06T17_11_56_382Z-debug.log\r\nERROR: Service 'frontend' failed to build: The command '/bin/sh -c npm install' returned a non-zero code: 1\r\n```\r\n\r\nBut it work on `v1.0.2`.\r\n\r\n---------\r\n<!-- Include details of your environment.-->\r\n*   Operating System: Ubuntu 18.04\r\n*   doccano Version: master\r\n*   When you install doccano: 2019/01/06\r\n*   How did you install doccano (Heroku button etc): \r\n","closed_by":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/526/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/526/timeline","performed_via_github_app":null,"state_reason":"completed"}