{"url":"https://api.github.com/repos/doccano/doccano/issues/2107","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/2107/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/2107/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/2107/events","html_url":"https://github.com/doccano/doccano/issues/2107","id":1522313074,"node_id":"I_kwDOB-j9wM5avKdy","number":2107,"title":"rabbitmq connection refused while docker compose installation","user":{"login":"femustafa","id":97318089,"node_id":"U_kgDOBcz0yQ","avatar_url":"https://avatars.githubusercontent.com/u/97318089?v=4","gravatar_id":"","url":"https://api.github.com/users/femustafa","html_url":"https://github.com/femustafa","followers_url":"https://api.github.com/users/femustafa/followers","following_url":"https://api.github.com/users/femustafa/following{/other_user}","gists_url":"https://api.github.com/users/femustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/femustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/femustafa/subscriptions","organizations_url":"https://api.github.com/users/femustafa/orgs","repos_url":"https://api.github.com/users/femustafa/repos","events_url":"https://api.github.com/users/femustafa/events{/privacy}","received_events_url":"https://api.github.com/users/femustafa/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-01-06T10:08:28Z","updated_at":"2023-01-07T08:23:24Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!-- Before submitting an issue, make sure to check the docs and closed issues and FAQ to see if any of the solutions work for you. https://github.com/doccano/doccano/wiki/Frequently-Asked-Questions -->\r\n\r\nHow to reproduce the problem\r\n---------\r\nI install the package using pip installation and connect it with PostgreSQL by setting DATABASE_URL. The data and the user sign-in details persist when I sign in again.\r\ne.g doccano createuser --username faizan--password faizan_pass\r\n \r\nThen I install the package using the docker-compose using following .env file\r\n\r\n```bash\r\n\r\n# platform settings\r\nADMIN_USERNAME=admin\r\nADMIN_PASSWORD=password\r\nADMIN_EMAIL=admin@example.com\r\n# i donot change user info because i want to use user i created using pip install\r\n\r\n# rabbit mq settings\r\nRABBITMQ_DEFAULT_USER=doccano\r\nRABBITMQ_DEFAULT_PASS=doccano\r\n\r\n# database settings\r\nPOSTGRES_USER=femustafa\r\nPOSTGRES_PASSWORD=femustafa_pass\r\nPOSTGRES_DB=test\r\n\r\n# Flower settings\r\nFLOWER_BASIC_AUTH=\"\"\r\n```\r\n\r\nThe URL (http://127.0.0.1/) is working but this creates a new user and I can not log in with the user sign-in information I specify in the pip installation. However, the changes i make for the docker compose user also persist while signing in again. My question is why the pip-installed user info can not be used to sign in for docker-compose even though both are connected to the same Postgres DB? Is this something to do with the connection error to rabbitmq while docker-compose installation? Following is traceback while docker composes installation. \r\n\r\n\r\n```bash\r\ndocker-celery-1    | [2023-01-06 09:35:13,102: ERROR/MainProcess] consumer: Cannot connect to amqp://doccano:**@rabbitmq:5672//: \r\n[Errno 111] Connection refused.\r\n```\r\nFull Traceback\r\n```bash\r\n- Container docker-postgres-1  Created                                                                                     0.0s \r\n - Container docker-backend-1   Created                                                                                     0.0s \r\n - Container docker-nginx-1     Created                                                                                     0.0s \r\n - Container docker-rabbitmq-1  Created                                                                                     0.0s \r\n - Container docker-celery-1    Created                                                                                     0.0s \r\n - Container docker-flower-1    Created                                                                                     0.0s \r\nAttaching to docker-backend-1, docker-celery-1, docker-flower-1, docker-nginx-1, docker-postgres-1, docker-rabbitmq-1\r\ndocker-postgres-1  | \r\ndocker-postgres-1  | PostgreSQL Database directory appears to contain a database; Skipping initialization\r\ndocker-postgres-1  | \r\ndocker-postgres-1  | 2023-01-06 09:35:04.166 UTC [1] LOG:  starting PostgreSQL 13.3 on x86_64-pc-linux-musl, compiled by gcc (Alpine 10.3.1_git20210424) 10.3.1 20210424, 64-bit\r\ndocker-postgres-1  | 2023-01-06 09:35:04.166 UTC [1] LOG:  listening on IPv4 address \"0.0.0.0\", port 5432\r\ndocker-postgres-1  | 2023-01-06 09:35:04.166 UTC [1] LOG:  listening on IPv6 address \"::\", port 5432\r\ndocker-postgres-1  | 2023-01-06 09:35:04.194 UTC [1] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\r\ndocker-postgres-1  | 2023-01-06 09:35:04.218 UTC [21] LOG:  database system was interrupted; last known up at 2023-01-06 09:23:53 UTC\r\ndocker-postgres-1  | 2023-01-06 09:35:04.724 UTC [21] LOG:  database system was not properly shut down; automatic recovery in progress\r\ndocker-postgres-1  | 2023-01-06 09:35:04.731 UTC [21] LOG:  redo starts at 0/1873320\r\ndocker-postgres-1  | 2023-01-06 09:35:04.732 UTC [21] LOG:  invalid record length at 0/1873358: wanted 24, got 0\r\ndocker-postgres-1  | 2023-01-06 09:35:04.732 UTC [21] LOG:  redo done at 0/1873320\r\ndocker-postgres-1  | 2023-01-06 09:35:04.779 UTC [1] LOG:  database system is ready to accept connections\r\ndocker-celery-1    | Waiting for database\r\ndocker-backend-1   | Making staticfiles\r\ndocker-backend-1   | Initializing database\r\ndocker-celery-1    | [2023-01-06 09:35:07 +0000] [8] [INFO] [django_drf_filepond.apps::ready::61] App init: no django-storages backend configured, using default (local) storage backend if set, otherwise you need to manage file storage independently of this app.\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.807726+00:00 [info] <0.222.0> Feature flags: list of feature flags found:\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.823248+00:00 [info] <0.222.0> Feature flags:   [x] classic_mirrored_queue_version\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.823293+00:00 [info] <0.222.0> Feature flags:   [x] implicit_default_bindings\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.823316+00:00 [info] <0.222.0> Feature flags:   [x] maintenance_mode_status\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.823344+00:00 [info] <0.222.0> Feature flags:   [x] quorum_queue\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.823404+00:00 [info] <0.222.0> Feature flags:   [x] stream_queue\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.823428+00:00 [info] <0.222.0> Feature flags:   [x] user_limits\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.823460+00:00 [info] <0.222.0> Feature flags:   [x] virtual_host_metadata\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:07.823502+00:00 [info] <0.222.0> Feature flags: feature flag states written to disk: yes   \r\ndocker-backend-1   | [2023-01-06 09:35:08 +0000] [8] [INFO] [django_drf_filepond.apps::ready::61] App init: no django-storages backend configured, using default (local) storage backend if set, otherwise you need to manage file storage independently of this app.\r\ndocker-flower-1    | Waiting for database\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:08.466885+00:00 [notice] <0.44.0> Application syslog exited with reason: stopped\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:08.466985+00:00 [notice] <0.222.0> Logging: switching to configured handler(s); following messages may not be visible in this log output\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:08.500262+00:00 [notice] <0.222.0> Logging: configured log handlers are now ACTIVE\r\ndocker-celery-1    | Starting celery\r\ndocker-flower-1    | [2023-01-06 09:35:10 +0000] [8] [INFO] [django_drf_filepond.apps::ready::61] App init: no django-storages backend configured, using default (local) storage backend if set, otherwise you need to manage file storage independently of this app.\r\ndocker-celery-1    | [2023-01-06 09:35:11 +0000] [17] [INFO] [django_drf_filepond.apps::ready::61] App init: no django-storages backend configured, using default (local) storage backend if set, otherwise you need to manage file storage independently of this \r\napp.\r\ndocker-backend-1   | [2023-01-06 09:35:11 +0000] [17] [INFO] [django_drf_filepond.apps::ready::61] App init: no django-storages backend configured, using default (local) storage backend if set, otherwise you need to manage file storage independently of this \r\napp.\r\ndocker-flower-1    | Starting flower\r\ndocker-celery-1    |  \r\ndocker-celery-1    |  -------------- celery@b7d69d14891b v5.2.7 (dawn-chorus)\r\ndocker-celery-1    | --- ***** -----\r\ndocker-celery-1    | -- ******* ---- Linux-5.10.16.3-microsoft-standard-WSL2-x86_64-with-glibc2.2.5 2023-01-06 09:35:13\r\ndocker-celery-1    | - *** --- * ---\r\ndocker-celery-1    | - ** ---------- [config]\r\ndocker-celery-1    | - ** ---------- .> app:         config:0x7f841c955460\r\ndocker-celery-1    | - ** ---------- .> transport:   amqp://doccano:**@rabbitmq:5672//\r\ndocker-celery-1    | - ** ---------- .> results:\r\ndocker-celery-1    | - *** --- * --- .> concurrency: 8 (solo)\r\ndocker-celery-1    | -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)\r\ndocker-celery-1    | --- ***** -----\r\ndocker-celery-1    |  -------------- [queues]\r\ndocker-celery-1    |                 .> celery           exchange=celery(direct) key=celery\r\ndocker-celery-1    | \r\ndocker-celery-1    | \r\ndocker-celery-1    | [tasks]\r\ndocker-celery-1    |   . data_export.celery_tasks.export_dataset\r\ndocker-celery-1    |   . data_import.celery_tasks.import_dataset\r\ndocker-celery-1    |   . health_check.contrib.celery.tasks.add\r\ndocker-celery-1    | \r\ndocker-celery-1    | [2023-01-06 09:35:13,102: ERROR/MainProcess] consumer: Cannot connect to amqp://doccano:**@rabbitmq:5672//: \r\n[Errno 111] Connection refused.\r\ndocker-celery-1    | Trying again in 2.00 seconds... (1/100)\r\ndocker-celery-1    | \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.175747+00:00 [info] <0.222.0> ra: starting system quorum_queues\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.175851+00:00 [info] <0.222.0> starting Ra system: quorum_queues in directory: /var/lib/rabbitmq/mnesia/rabbit@6e98e0652723/quorum/rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.178283+00:00 [info] <0.286.0> ra system 'quorum_queues' running pre init for 0 registered servers\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.182313+00:00 [info] <0.288.0> ra: meta data store initialised for system quorum_queues. \r\n0 record(s) recovered\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.182849+00:00 [notice] <0.299.0> WAL: ra_log_wal init, open tbls: ra_log_open_mem_tables, closed tbls: ra_log_closed_mem_tables\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.223916+00:00 [info] <0.222.0> ra: starting system coordination\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.224204+00:00 [info] <0.222.0> starting Ra system: coordination in directory: /var/lib/rabbitmq/mnesia/rabbit@6e98e0652723/coordination/rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.241470+00:00 [info] <0.322.0> ra system 'coordination' running pre init for 0 registered servers\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.246466+00:00 [info] <0.323.0> ra: meta data store initialised for system coordination. 0 record(s) recovered\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.248122+00:00 [notice] <0.332.0> WAL: ra_coordination_log_wal init, open tbls: ra_coordination_log_open_mem_tables, closed tbls: ra_coordination_log_closed_mem_tables\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.278542+00:00 [info] <0.222.0> \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.278542+00:00 [info] <0.222.0>  Starting RabbitMQ 3.10.7 on Erlang 25.0.4 [jit]\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.278542+00:00 [info] <0.222.0>  Copyright (c) 2007-2022 VMware, Inc. or its affiliates.  \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.278542+00:00 [info] <0.222.0>  Licensed under the MPL 2.0. Website: https://rabbitmq.comdocker-rabbitmq-1  | \r\ndocker-rabbitmq-1  |   ##  ##      RabbitMQ 3.10.7\r\ndocker-rabbitmq-1  |   ##  ##\r\ndocker-rabbitmq-1  |   ##########  Copyright (c) 2007-2022 VMware, Inc. or its affiliates.\r\ndocker-rabbitmq-1  |   ######  ##\r\ndocker-rabbitmq-1  |   ##########  Licensed under the MPL 2.0. Website: https://rabbitmq.com\r\ndocker-rabbitmq-1  | \r\ndocker-rabbitmq-1  |   Erlang:      25.0.4 [jit]\r\ndocker-rabbitmq-1  |   TLS Library: OpenSSL - OpenSSL 1.1.1q  5 Jul 2022\r\ndocker-rabbitmq-1  | \r\ndocker-rabbitmq-1  |   Doc guides:  https://rabbitmq.com/documentation.html\r\ndocker-rabbitmq-1  |   Support:     https://rabbitmq.com/contact.html\r\ndocker-rabbitmq-1  |   Tutorials:   https://rabbitmq.com/getstarted.html\r\ndocker-rabbitmq-1  |   Monitoring:  https://rabbitmq.com/monitoring.html\r\ndocker-rabbitmq-1  | \r\ndocker-rabbitmq-1  |   Logs: /var/log/rabbitmq/rabbit@6e98e0652723_upgrade.log\r\ndocker-rabbitmq-1  |         <stdout>\r\ndocker-rabbitmq-1  | \r\ndocker-rabbitmq-1  |   Config file(s): /etc/rabbitmq/conf.d/10-defaults.conf\r\ndocker-rabbitmq-1  |                   /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf\r\ndocker-rabbitmq-1  | \r\ndocker-rabbitmq-1  |   Starting broker...2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>  node           : rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>  home dir       : /var/lib/rabbitmq\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>  config file(s) : /etc/rabbitmq/conf.d/10-defaults.conf   \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>                 : /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>  cookie hash    : 7t7e3FxCB9DDIJWmYuWNTg==\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>  log(s)         : /var/log/rabbitmq/rabbit@6e98e0652723_upgrade.log\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>                 : <stdout>\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.284104+00:00 [info] <0.222.0>  database dir   : /var/lib/rabbitmq/mnesia/rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510233+00:00 [info] <0.222.0> Feature flags: list of feature flags found:\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510337+00:00 [info] <0.222.0> Feature flags:   [x] classic_mirrored_queue_version\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510374+00:00 [info] <0.222.0> Feature flags:   [x] drop_unroutable_metric\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510394+00:00 [info] <0.222.0> Feature flags:   [x] empty_basic_get_metric\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510425+00:00 [info] <0.222.0> Feature flags:   [x] implicit_default_bindings\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510519+00:00 [info] <0.222.0> Feature flags:   [x] maintenance_mode_status\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510539+00:00 [info] <0.222.0> Feature flags:   [x] quorum_queue\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510563+00:00 [info] <0.222.0> Feature flags:   [x] stream_queue\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510588+00:00 [info] <0.222.0> Feature flags:   [x] user_limits\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510605+00:00 [info] <0.222.0> Feature flags:   [x] virtual_host_metadata\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.510622+00:00 [info] <0.222.0> Feature flags: feature flag states written to disk: yes   \r\ndocker-flower-1 exited with code 0\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.842501+00:00 [info] <0.222.0> Running boot step pre_boot defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.842598+00:00 [info] <0.222.0> Running boot step rabbit_global_counters defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.843157+00:00 [info] <0.222.0> Running boot step rabbit_osiris_metrics defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.843292+00:00 [info] <0.222.0> Running boot step rabbit_core_metrics defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.846298+00:00 [info] <0.222.0> Running boot step rabbit_alarm defined by app rabbit      \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.851099+00:00 [info] <0.365.0> Memory high watermark set to 5086 MiB (5333683404 bytes) of 12716 MiB (13334208512 bytes) total\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.857019+00:00 [info] <0.367.0> Enabling free disk space monitoring\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.857107+00:00 [info] <0.367.0> Disk free limit set to 50MB\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.861108+00:00 [info] <0.222.0> Running boot step code_server_cache defined by app rabbit \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.861288+00:00 [info] <0.222.0> Running boot step file_handle_cache defined by app rabbit \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.861819+00:00 [info] <0.372.0> Limiting to approx 1048479 file handles (943629 sockets)  \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.862101+00:00 [info] <0.373.0> FHC read buffering: OFF\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.862209+00:00 [info] <0.373.0> FHC write buffering: ON\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.863022+00:00 [info] <0.222.0> Running boot step worker_pool defined by app rabbit       \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.863215+00:00 [info] <0.357.0> Will use 8 processes for default worker pool\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.863300+00:00 [info] <0.357.0> Starting worker pool 'worker_pool' with 8 processes in it \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.864283+00:00 [info] <0.222.0> Running boot step database defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.868590+00:00 [info] <0.222.0> Waiting for Mnesia tables for 30000 ms, 9 retries left\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.886511+00:00 [info] <0.222.0> Successfully synced tables from a peer\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.886644+00:00 [info] <0.222.0> Waiting for Mnesia tables for 30000 ms, 9 retries left    \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.886877+00:00 [info] <0.222.0> Successfully synced tables from a peer\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.919321+00:00 [info] <0.222.0> Waiting for Mnesia tables for 30000 ms, 9 retries left\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.919630+00:00 [info] <0.222.0> Successfully synced tables from a peer\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.919736+00:00 [info] <0.222.0> Peer discovery backend rabbit_peer_discovery_classic_config does not support registration, skipping registration.\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.919956+00:00 [info] <0.222.0> Running boot step database_sync defined by app rabbit     \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.920147+00:00 [info] <0.222.0> Running boot step feature_flags defined by app rabbit     \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.921119+00:00 [info] <0.222.0> Running boot step codec_correctness_check defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.921231+00:00 [info] <0.222.0> Running boot step external_infrastructure defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.921336+00:00 [info] <0.222.0> Running boot step rabbit_event defined by app rabbit      \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.921656+00:00 [info] <0.222.0> Running boot step rabbit_registry defined by app rabbit   \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.921869+00:00 [info] <0.222.0> Running boot step rabbit_auth_mechanism_amqplain defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.921966+00:00 [info] <0.222.0> Running boot step rabbit_auth_mechanism_cr_demo defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.922139+00:00 [info] <0.222.0> Running boot step rabbit_auth_mechanism_plain defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.922228+00:00 [info] <0.222.0> Running boot step rabbit_exchange_type_direct defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.922341+00:00 [info] <0.222.0> Running boot step rabbit_exchange_type_fanout defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.922478+00:00 [info] <0.222.0> Running boot step rabbit_exchange_type_headers defined by \r\napp rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.922665+00:00 [info] <0.222.0> Running boot step rabbit_exchange_type_topic defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.922897+00:00 [info] <0.222.0> Running boot step rabbit_mirror_queue_mode_all defined by \r\napp rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.923054+00:00 [info] <0.222.0> Running boot step rabbit_mirror_queue_mode_exactly defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.923193+00:00 [info] <0.222.0> Running boot step rabbit_mirror_queue_mode_nodes defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.923346+00:00 [info] <0.222.0> Running boot step rabbit_priority_queue defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.923616+00:00 [info] <0.222.0> Priority queues enabled, real BQ is rabbit_variable_queue \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.923724+00:00 [info] <0.222.0> Running boot step rabbit_queue_location_client_local defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.924032+00:00 [info] <0.222.0> Running boot step rabbit_queue_location_min_masters defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.924266+00:00 [info] <0.222.0> Running boot step rabbit_queue_location_random defined by \r\napp rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.924440+00:00 [info] <0.222.0> Running boot step kernel_ready defined by app rabbit      \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.924520+00:00 [info] <0.222.0> Running boot step rabbit_sysmon_minder defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.924833+00:00 [info] <0.222.0> Running boot step rabbit_epmd_monitor defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.928599+00:00 [info] <0.399.0> epmd monitor knows us, inter-node communication (distribution) port: 25672\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.928880+00:00 [info] <0.222.0> Running boot step guid_generator defined by app rabbit    \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.944423+00:00 [info] <0.222.0> Running boot step rabbit_node_monitor defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.944871+00:00 [info] <0.403.0> Starting rabbit_node_monitor\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.945370+00:00 [info] <0.222.0> Running boot step delegate_sup defined by app rabbit      \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.947148+00:00 [info] <0.222.0> Running boot step rabbit_memory_monitor defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.947769+00:00 [info] <0.222.0> Running boot step rabbit_fifo_dlx_sup defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.948049+00:00 [info] <0.222.0> Running boot step core_initialized defined by app rabbit  \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.948157+00:00 [info] <0.222.0> Running boot step upgrade_queues defined by app rabbit    \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.963871+00:00 [info] <0.222.0> Running boot step channel_tracking defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.964806+00:00 [info] <0.222.0> Setting up a table for channel tracking on this node: tracked_channel_on_node_rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.965248+00:00 [info] <0.222.0> Setting up a table for channel tracking on this node: tracked_channel_table_per_user_on_node_rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.965875+00:00 [info] <0.222.0> Running boot step rabbit_channel_tracking_handler defined \r\nby app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.966205+00:00 [info] <0.222.0> Running boot step connection_tracking defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.966946+00:00 [info] <0.222.0> Setting up a table for connection tracking on this node: tracked_connection_on_node_rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.967402+00:00 [info] <0.222.0> Setting up a table for per-vhost connection counting on this node: tracked_connection_per_vhost_on_node_rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.967866+00:00 [info] <0.222.0> Setting up a table for per-user connection counting on this node: tracked_connection_table_per_user_on_node_rabbit@6e98e0652723\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.968551+00:00 [info] <0.222.0> Running boot step rabbit_connection_tracking_handler defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.968742+00:00 [info] <0.222.0> Running boot step rabbit_definitions_hashing defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.968911+00:00 [info] <0.222.0> Running boot step rabbit_exchange_parameters defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.969093+00:00 [info] <0.222.0> Running boot step rabbit_mirror_queue_misc defined by app \r\nrabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.969665+00:00 [info] <0.222.0> Running boot step rabbit_policies defined by app rabbit   \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.970390+00:00 [info] <0.222.0> Running boot step rabbit_policy defined by app rabbit     \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.970612+00:00 [info] <0.222.0> Running boot step rabbit_queue_location_validator defined \r\nby app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.970751+00:00 [info] <0.222.0> Running boot step rabbit_quorum_memory_manager defined by \r\napp rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.970908+00:00 [info] <0.222.0> Running boot step rabbit_stream_coordinator defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.971177+00:00 [info] <0.222.0> Running boot step rabbit_vhost_limit defined by app rabbitdocker-rabbitmq-1  | 2023-01-06 09:35:13.971356+00:00 [info] <0.222.0> Running boot step rabbit_mgmt_db_handler defined by app rabbitmq_management_agent\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.971463+00:00 [info] <0.222.0> Management plugin: using rates mode 'basic'\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.972516+00:00 [info] <0.222.0> Running boot step recovery defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.974974+00:00 [info] <0.442.0> Making sure data directory '/var/lib/rabbitmq/mnesia/rabbit@6e98e0652723/msg_stores/vhosts/628WB79CIFDYO9LJI6DKMI09L' for vhost '/' exists\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.991359+00:00 [info] <0.442.0> Starting message stores for vhost '/'\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.991839+00:00 [info] <0.447.0> Message store \"628WB79CIFDYO9LJI6DKMI09L/msg_store_transient\": using rabbit_msg_store_ets_index to provide index\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.997474+00:00 [info] <0.442.0> Started message store of type transient for vhost '/'     \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.997789+00:00 [info] <0.451.0> Message store \"628WB79CIFDYO9LJI6DKMI09L/msg_store_persistent\": using rabbit_msg_store_ets_index to provide index\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:13.998936+00:00 [warning] <0.451.0> Message store \"628WB79CIFDYO9LJI6DKMI09L/msg_store_persistent\": rebuilding indices from scratch\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.002779+00:00 [info] <0.442.0> Started message store of type persistent for vhost '/'    \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.029872+00:00 [info] <0.442.0> Recovering 1 queues of type rabbit_classic_queue took 53msdocker-rabbitmq-1  | 2023-01-06 09:35:14.030024+00:00 [info] <0.442.0> Recovering 0 queues of type rabbit_quorum_queue took 0ms\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.030074+00:00 [info] <0.442.0> Recovering 0 queues of type rabbit_stream_queue took 0ms  \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.036509+00:00 [info] <0.222.0> Running boot step empty_db_check defined by app rabbit    \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.036651+00:00 [info] <0.222.0> Will not seed default virtual host and user: have definitions to load...\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.036692+00:00 [info] <0.222.0> Running boot step rabbit_looking_glass defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.036783+00:00 [info] <0.222.0> Running boot step rabbit_core_metrics_gc defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.037104+00:00 [info] <0.222.0> Running boot step background_gc defined by app rabbit     \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.037640+00:00 [info] <0.222.0> Running boot step routing_ready defined by app rabbit     \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.037779+00:00 [info] <0.222.0> Running boot step pre_flight defined by app rabbit        \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.037908+00:00 [info] <0.222.0> Running boot step notify_cluster defined by app rabbit    \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.037982+00:00 [info] <0.222.0> Running boot step networking defined by app rabbit        \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.038059+00:00 [info] <0.222.0> Running boot step definition_import_worker_pool defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.038149+00:00 [info] <0.357.0> Starting worker pool 'definition_import_pool' with 8 processes in it\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.039090+00:00 [info] <0.222.0> Running boot step cluster_name defined by app rabbit      \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.039180+00:00 [info] <0.222.0> Running boot step direct_client defined by app rabbit     \r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.039413+00:00 [info] <0.222.0> Running boot step rabbit_maintenance_mode_state defined by app rabbit\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.039498+00:00 [info] <0.222.0> Creating table rabbit_node_maintenance_states for feature \r\nflag `maintenance_mode_status`\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.040166+00:00 [info] <0.492.0> Resetting node maintenance status\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.073523+00:00 [info] <0.519.0> Prometheus metrics: HTTP (non-TLS) listener started on port 15692\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.073817+00:00 [info] <0.492.0> Ready to start client connection listeners\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.076643+00:00 [info] <0.563.0> started TCP listener on [::]:5672\r\ndocker-rabbitmq-1  |  completed with 3 plugins.\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.225917+00:00 [info] <0.492.0> Server startup complete; 3 plugins started.\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.225917+00:00 [info] <0.492.0>  * rabbitmq_prometheus\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.225917+00:00 [info] <0.492.0>  * rabbitmq_web_dispatch\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:14.225917+00:00 [info] <0.492.0>  * rabbitmq_management_agent\r\ndocker-backend-1   | Traceback (most recent call last):\r\ndocker-backend-1   |   File \"manage.py\", line 15, in <module>\r\ndocker-backend-1   |     execute_from_command_line(sys.argv)\r\ndocker-backend-1   |   File \"/usr/local/lib/python3.8/site-packages/django/core/management/__init__.py\", line 446, in execute_from_command_line\r\ndocker-backend-1   |     utility.execute()\r\ndocker-backend-1   |   File \"/usr/local/lib/python3.8/site-packages/django/core/management/__init__.py\", line 440, in execute    \r\ndocker-backend-1   |     self.fetch_command(subcommand).run_from_argv(self.argv)\r\ndocker-backend-1   |   File \"/usr/local/lib/python3.8/site-packages/django/core/management/base.py\", line 414, in run_from_argv  \r\ndocker-backend-1   |     self.execute(*args, **cmd_options)\r\ndocker-backend-1   |   File \"/usr/local/lib/python3.8/site-packages/django/core/management/base.py\", line 460, in execute        \r\ndocker-backend-1   |     output = self.handle(*args, **options)\r\ndocker-backend-1   |   File \"/usr/local/lib/python3.8/site-packages/django/core/management/base.py\", line 98, in wrapped\r\ndocker-backend-1   |     res = handle_func(*args, **kwargs)\r\ndocker-backend-1   |   File \"/usr/local/lib/python3.8/site-packages/django/core/management/commands/migrate.py\", line 111, in handle\r\ndocker-backend-1   |     executor.loader.check_consistent_history(connection)\r\ndocker-backend-1   |   File \"/usr/local/lib/python3.8/site-packages/django/db/migrations/loader.py\", line 327, in check_consistent_history\r\ndocker-backend-1   |     raise InconsistentMigrationHistory(\r\ndocker-backend-1   | django.db.migrations.exceptions.InconsistentMigrationHistory: Migration socialaccount.0001_initial is applied before its dependency sites.0001_initial on database 'default'.\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:15.109920+00:00 [info] <0.566.0> accepting AMQP connection <0.566.0> (172.19.0.5:43930 -> 172.19.0.3:5672)\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:15.125666+00:00 [info] <0.566.0> connection <0.566.0> (172.19.0.5:43930 -> 172.19.0.3:5672): user 'doccano' authenticated and granted access to vhost '/'\r\ndocker-celery-1    | [2023-01-06 09:35:15,125: INFO/MainProcess] Connected to amqp://doccano:**@rabbitmq:5672//\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:15.144210+00:00 [info] <0.574.0> accepting AMQP connection <0.574.0> (172.19.0.5:43932 -> 172.19.0.3:5672)\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:15.160756+00:00 [info] <0.574.0> connection <0.574.0> (172.19.0.5:43932 -> 172.19.0.3:5672): user 'doccano' authenticated and granted access to vhost '/'\r\ndocker-celery-1    | [2023-01-06 09:35:15,162: INFO/MainProcess] mingle: searching for neighbors\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:15.211373+00:00 [info] <0.592.0> accepting AMQP connection <0.592.0> (172.19.0.5:43934 -> 172.19.0.3:5672)\r\ndocker-rabbitmq-1  | 2023-01-06 09:35:15.216764+00:00 [info] <0.592.0> connection <0.592.0> (172.19.0.5:43934 -> 172.19.0.3:5672): user 'doccano' authenticated and granted access to vhost '/'\r\ndocker-backend-1 exited with code 1\r\ndocker-celery-1    | [2023-01-06 09:35:16,268: INFO/MainProcess] mingle: all alone\r\ndocker-celery-1    | [2023-01-06 09:35:16,335: INFO/MainProcess] celery@b7d69d14891b ready.\r\n```\r\n\r\n\r\n\r\nYour Environment\r\n---------\r\n<!-- Include details of your environment.-->\r\n*   Operating System: Windows\r\n*   Python Version Used: 3.10.9\r\n*  Latest version of git repo used\r\n\r\n Your help will be really appreciated. \r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/2107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/2107/timeline","performed_via_github_app":null,"state_reason":null}