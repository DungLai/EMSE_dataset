{"url":"https://api.github.com/repos/doccano/doccano/issues/1091","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/1091/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/1091/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/1091/events","html_url":"https://github.com/doccano/doccano/issues/1091","id":756904458,"node_id":"MDU6SXNzdWU3NTY5MDQ0NTg=","number":1091,"title":"Backend container always dies on startup","user":{"login":"alexmadey-oc","id":71346676,"node_id":"MDQ6VXNlcjcxMzQ2Njc2","avatar_url":"https://avatars.githubusercontent.com/u/71346676?v=4","gravatar_id":"","url":"https://api.github.com/users/alexmadey-oc","html_url":"https://github.com/alexmadey-oc","followers_url":"https://api.github.com/users/alexmadey-oc/followers","following_url":"https://api.github.com/users/alexmadey-oc/following{/other_user}","gists_url":"https://api.github.com/users/alexmadey-oc/gists{/gist_id}","starred_url":"https://api.github.com/users/alexmadey-oc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexmadey-oc/subscriptions","organizations_url":"https://api.github.com/users/alexmadey-oc/orgs","repos_url":"https://api.github.com/users/alexmadey-oc/repos","events_url":"https://api.github.com/users/alexmadey-oc/events{/privacy}","received_events_url":"https://api.github.com/users/alexmadey-oc/received_events","type":"User","site_admin":false},"labels":[{"id":927327719,"node_id":"MDU6TGFiZWw5MjczMjc3MTk=","url":"https://api.github.com/repos/doccano/doccano/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-12-04T08:21:44Z","updated_at":"2020-12-04T11:59:29Z","closed_at":"2020-12-04T11:59:29Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Before submitting an issue, make sure to check the docs and closed issues and FAQ to see if any of the solutions work for you. https://github.com/doccano/doccano/wiki/Frequently-Asked-Questions -->\r\n\r\nI'm unable to start doccano locally. The backend container always dies.\r\n\r\nHow to reproduce the problem\r\n---------\r\nI ran the following commands\r\n$ git clone https://github.com/doccano/doccano.git\r\n$ cd doccano\r\n$ docker-compose -f docker-compose.prod.yml up\r\n\r\n```\r\nCreating network \"doccano_default\" with the default driver\r\nCreating doccano_postgres_1 ... done\r\nCreating doccano_frontend_1 ... done\r\nCreating doccano_backend_1  ... done\r\nCreating doccano_nginx_1    ... done\r\nAttaching to doccano_postgres_1, doccano_frontend_1, doccano_backend_1, doccano_nginx_1\r\nbackend_1   | Making staticfiles\r\npostgres_1  | \r\npostgres_1  | PostgreSQL Database directory appears to contain a database; Skipping initialization\r\npostgres_1  | \r\nbackend_1   | Executing collectstatic\r\npostgres_1  | 2020-12-04 07:56:18.363 UTC [1] LOG:  starting PostgreSQL 13.1 on x86_64-pc-linux-musl, compiled by gcc (Alpine 9.3.0) 9.3.0, 64-bit\r\npostgres_1  | 2020-12-04 07:56:18.363 UTC [1] LOG:  listening on IPv4 address \"0.0.0.0\", port 5432\r\npostgres_1  | 2020-12-04 07:56:18.363 UTC [1] LOG:  listening on IPv6 address \"::\", port 5432\r\npostgres_1  | 2020-12-04 07:56:18.367 UTC [1] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\r\npostgres_1  | 2020-12-04 07:56:18.372 UTC [20] LOG:  database system was shut down at 2020-12-04 07:50:52 UTC\r\npostgres_1  | 2020-12-04 07:56:18.376 UTC [1] LOG:  database system is ready to accept connections\r\ndoccano_frontend_1 exited with code 0\r\nbackend_1   | Traceback (most recent call last):\r\nbackend_1   |   File \"manage.py\", line 15, in <module>\r\nbackend_1   |     execute_from_command_line(sys.argv)\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/core/management/__init__.py\", line 381, in execute_from_command_line\r\nbackend_1   |     utility.execute()\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/core/management/__init__.py\", line 375, in execute\r\nbackend_1   |     self.fetch_command(subcommand).run_from_argv(self.argv)\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/core/management/base.py\", line 323, in run_from_argv\r\nbackend_1   |     self.execute(*args, **cmd_options)\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/core/management/base.py\", line 364, in execute\r\nbackend_1   |     output = self.handle(*args, **options)\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/contrib/staticfiles/management/commands/collectstatic.py\", line 188, in handle\r\nbackend_1   |     collected = self.collect()\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/contrib/staticfiles/management/commands/collectstatic.py\", line 105, in collect\r\nbackend_1   |     for path, storage in finder.list(self.ignore_patterns):\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/contrib/staticfiles/finders.py\", line 131, in list\r\nbackend_1   |     for path in utils.get_files(storage, ignore_patterns):\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/contrib/staticfiles/utils.py\", line 23, in get_files\r\nbackend_1   |     directories, files = storage.listdir(location)\r\nbackend_1   |   File \"/usr/lib/python3.6/site-packages/django/core/files/storage.py\", line 315, in listdir\r\nbackend_1   |     for entry in os.scandir(path):\r\nbackend_1   | FileNotFoundError: [Errno 2] No such file or directory: '/app/client/dist/static'\r\ndoccano_backend_1 exited with code 1\r\n\r\n```\r\n\r\nYour Environment\r\n---------\r\n<!-- Include details of your environment.-->\r\n*   Operating System: Mac OS 10.15.7\r\n*   Python Version Used: 3.6\r\n*   When you install doccano: today\r\n*   How did you install doccano (Heroku button etc): locally\r\n","closed_by":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/1091/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/1091/timeline","performed_via_github_app":null,"state_reason":"completed"}