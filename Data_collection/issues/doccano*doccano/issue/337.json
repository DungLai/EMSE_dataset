{"url":"https://api.github.com/repos/doccano/doccano/issues/337","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/337/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/337/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/337/events","html_url":"https://github.com/doccano/doccano/issues/337","id":482133820,"node_id":"MDU6SXNzdWU0ODIxMzM4MjA=","number":337,"title":"Docker build failed by nodejs=8.16.0-1nodesource1 installation","user":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"labels":[{"id":927327719,"node_id":"MDU6TGFiZWw5MjczMjc3MTk=","url":"https://api.github.com/repos/doccano/doccano/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-08-19T06:45:06Z","updated_at":"2019-08-20T04:54:54Z","closed_at":"2019-08-20T04:54:54Z","author_association":"MEMBER","active_lock_reason":null,"body":"When running docker build command, it failed by `nodejs=8.16.0-1nodesource1` installation. `8.16.1-1nodesource1` is OK.\r\n\r\n### System information\r\n- Docker\r\n- nodejs=8.16.0-1nodesource1\r\n\r\n### Source code / logs\r\n\r\n```bash\r\ndoccanoVenv â¯ docker build -t doccano:latest .\r\nSending build context to Docker daemon  3.534MB\r\nStep 1/33 : ARG PYTHON_VERSION=\"3.6\"\r\nStep 2/33 : FROM python:${PYTHON_VERSION}-stretch AS builder\r\n ---> 9167692c277e\r\nStep 3/33 : ARG NODE_VERSION=\"8.x\"\r\n ---> Using cache\r\n ---> 26a0c6eb53d1\r\nStep 4/33 : RUN curl -sL \"https://deb.nodesource.com/setup_${NODE_VERSION}\" | bash -  && apt-get install --no-install-recommends -y       nodejs=8.16.0-1nodesource1\r\n ---> Running in c451ea3170fb\r\n\r\n## Installing the NodeSource Node.js 8.x LTS Carbon repo...\r\n\r\n\r\n## Populating apt-get cache...\r\n\r\n+ apt-get update\r\nIgn:1 http://deb.debian.org/debian stretch InRelease\r\nGet:2 http://security.debian.org/debian-security stretch/updates InRelease [94.3 kB]\r\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [91.0 kB]\r\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\r\nGet:5 http://deb.debian.org/debian stretch Release.gpg [2434 B]\r\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [502 kB]\r\nGet:7 http://deb.debian.org/debian stretch-updates/main amd64 Packages [27.4 kB]\r\nGet:8 http://deb.debian.org/debian stretch/main amd64 Packages [7082 kB]\r\nFetched 7918 kB in 2s (2946 kB/s)\r\nReading package lists...\r\n\r\n## Installing packages required for setup: apt-transport-https lsb-release...\r\n\r\n+ apt-get install -y apt-transport-https lsb-release > /dev/null 2>&1\r\n\r\n## Confirming \"stretch\" is supported...\r\n\r\n+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_8.x/dists/stretch/Release'\r\n\r\n## Adding the NodeSource signing key to your keyring...\r\n\r\n+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | apt-key add -\r\nWarning: apt-key output should not be parsed (stdout is not a terminal)\r\nOK\r\n\r\n## Creating apt sources list file for the NodeSource Node.js 8.x LTS Carbon repo...\r\n\r\n+ echo 'deb https://deb.nodesource.com/node_8.x stretch main' > /etc/apt/sources.list.d/nodesource.list\r\n+ echo 'deb-src https://deb.nodesource.com/node_8.x stretch main' >> /etc/apt/sources.list.d/nodesource.list\r\n\r\n## Running `apt-get update` for you...\r\n\r\n+ apt-get update\r\nHit:1 http://security.debian.org/debian-security stretch/updates InRelease\r\nIgn:2 http://deb.debian.org/debian stretch InRelease\r\nHit:3 http://deb.debian.org/debian stretch-updates InRelease\r\nHit:4 http://deb.debian.org/debian stretch Release\r\nGet:5 https://deb.nodesource.com/node_8.x stretch InRelease [4620 B]\r\nGet:7 https://deb.nodesource.com/node_8.x stretch/main Sources [762 B]\r\nGet:8 https://deb.nodesource.com/node_8.x stretch/main amd64 Packages [1009 B]\r\nFetched 6391 B in 0s (9007 B/s)\r\nReading package lists...\r\n\r\n## Run `sudo apt-get install -y nodejs` to install Node.js 8.x LTS Carbon and npm\r\n## You may also need development tools to build native addons:\r\n     sudo apt-get install gcc g++ make\r\n## To install the Yarn package manager, run:\r\n     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -\r\n     echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list\r\n     sudo apt-get update && sudo apt-get install yarn\r\n\r\n\r\nReading package lists...\r\nBuilding dependency tree...\r\nReading state information...\r\nE: Version '8.16.0-1nodesource1' for 'nodejs' was not found\r\nThe command '/bin/sh -c curl -sL \"https://deb.nodesource.com/setup_${NODE_VERSION}\" | bash -  && apt-get install --no-install-recommends -y       nodejs=8.16.0-1nodesource1' returned a non-zero code: 100\r\n```","closed_by":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/337/timeline","performed_via_github_app":null,"state_reason":"completed"}