{"url":"https://api.github.com/repos/doccano/doccano/issues/500","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/500/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/500/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/500/events","html_url":"https://github.com/doccano/doccano/issues/500","id":538481415,"node_id":"MDU6SXNzdWU1Mzg0ODE0MTU=","number":500,"title":"Front-end npm installation issue ","user":{"login":"JordanSimba","id":37552529,"node_id":"MDQ6VXNlcjM3NTUyNTI5","avatar_url":"https://avatars.githubusercontent.com/u/37552529?v=4","gravatar_id":"","url":"https://api.github.com/users/JordanSimba","html_url":"https://github.com/JordanSimba","followers_url":"https://api.github.com/users/JordanSimba/followers","following_url":"https://api.github.com/users/JordanSimba/following{/other_user}","gists_url":"https://api.github.com/users/JordanSimba/gists{/gist_id}","starred_url":"https://api.github.com/users/JordanSimba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JordanSimba/subscriptions","organizations_url":"https://api.github.com/users/JordanSimba/orgs","repos_url":"https://api.github.com/users/JordanSimba/repos","events_url":"https://api.github.com/users/JordanSimba/events{/privacy}","received_events_url":"https://api.github.com/users/JordanSimba/received_events","type":"User","site_admin":false},"labels":[{"id":927327728,"node_id":"MDU6TGFiZWw5MjczMjc3Mjg=","url":"https://api.github.com/repos/doccano/doccano/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-12-16T15:25:53Z","updated_at":"2021-02-24T05:29:15Z","closed_at":"2019-12-19T16:05:29Z","author_association":"NONE","active_lock_reason":null,"body":"When running npm install inside 'frontend' docker file, error occurs.\r\nRunning with **production** docker-compose \r\n\r\nHow to reproduce the problem\r\n\r\n```$docker pull node:13.1.0```\r\n\r\n```$docker run -it  -v ./frontent:/app --entrypoint bash node:13.1.0```\r\n\r\n```root@container:/app# npm install\r\nroot@ac4c6f3a1914:/app# npm install\r\nnpm WARN deprecated core-js@2.6.11: core-js@<3 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.\r\nnpm WARN deprecated left-pad@1.3.0: use String.prototype.padStart()\r\nnpm ERR! Error while executing:\r\nnpm ERR! /usr/bin/git ls-remote -h -t git://github.com/adobe-webplatform/eve.git\r\nnpm ERR!\r\nnpm ERR! fatal: unable to connect to github.com:\r\nnpm ERR! github.com[0: 140.82.118.3]: errno=Connection refused\r\nnpm ERR!\r\nnpm ERR!\r\nnpm ERR! exited with error code: 128\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2019-12-16T15_01_20_133Z-debug.log\r\n```\r\n\r\n\r\nOR run \r\n\r\n``` root@container:/app# yarn install\r\nroot@ac4c6f3a1914:/app# npm install\r\nyarn install v1.19.2\r\n[1/4] Resolving packages...\r\n[2/4] Fetching packages...\r\nerror Command failed.\r\nExit code: 128\r\nCommand: git\r\nArguments: ls-remote --tags --heads git://github.com/adobe-webplatform/eve.git\r\nDirectory: /app\r\nOutput:\r\nfatal: unable to connect to github.com:\r\ngithub.com[0: 140.82.118.3]: errno=Connection refused\r\ninfo Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command.\r\n```\r\n\r\n## What I've tried\r\nTo get circumvent this issue I've found that using \r\n```\r\nhttps://github.com/adobe-webplatform/eve.git\r\n```\r\ninstead of the **git** 'protocol' works i.e.\r\n```\r\ngit://github.com/adobe-webplatform/eve.git\r\n```\r\nHowever, I'm not sure how to implement a solution to this.\r\nIf it is not too difficult, I wouldn't mind a nudge in the right direction and putting up a PR if **IT IS** a real bug.\r\n \r\nEnvironment\r\n---------\r\n<!-- Include details of your environment.-->\r\n*   Operating System: windows 10\r\n*   Python Version Used: Running in docker \r\n\r\ndocker info:\r\n```\r\nClient:\r\n Debug Mode: false\r\n\r\nServer:\r\n Containers: 44\r\n  Running: 2\r\n  Paused: 0\r\n  Stopped: 42\r\n Images: 60\r\n Server Version: 19.03.5\r\n Storage Driver: overlay2\r\n  Backing Filesystem: extfs\r\n  Supports d_type: true\r\n  Native Overlay Diff: true\r\n Logging Driver: json-file\r\n Cgroup Driver: cgroupfs\r\n Plugins:\r\n  Volume: local\r\n  Network: bridge host ipvlan macvlan null overlay\r\n  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog\r\n Swarm: inactive\r\n Runtimes: runc\r\n Default Runtime: runc\r\n Init Binary: docker-init\r\n containerd version: b34a5c8af56e510852c35414db4c1f4fa6172339\r\n runc version: 3e425f80a8c931f88e6d94a8c831b9d5aa481657\r\n init version: fec3683\r\n Security Options:\r\n  seccomp\r\n   Profile: default\r\n Kernel Version: 4.9.184-linuxkit\r\n Operating System: Docker Desktop\r\n OSType: linux\r\n Architecture: x86_64\r\n CPUs: 2\r\n Total Memory: 3.855GiB\r\n Name: docker-desktop\r\n ID: xxxx-xxxx-xxxx-xxx-xxxx-xxx-xxx\r\n Docker Root Dir: /var/lib/docker\r\n Debug Mode: true\r\n  File Descriptors: 51\r\n  Goroutines: 66\r\n  System Time: 2019-12-16T15:22:47.5637998Z\r\n  EventsListeners: 1\r\n Registry: https://index.docker.io/v1/\r\n Labels:\r\n Experimental: false\r\n Insecure Registries:\r\n  127.0.0.0/8\r\n Live Restore Enabled: false\r\n Product License: Community Engine\r\n```\r\n*   When you install doccano: 16 Dec 2019\r\n*   How did you install doccano (Heroku button etc): docker-compose (**production**)\r\n","closed_by":{"login":"JordanSimba","id":37552529,"node_id":"MDQ6VXNlcjM3NTUyNTI5","avatar_url":"https://avatars.githubusercontent.com/u/37552529?v=4","gravatar_id":"","url":"https://api.github.com/users/JordanSimba","html_url":"https://github.com/JordanSimba","followers_url":"https://api.github.com/users/JordanSimba/followers","following_url":"https://api.github.com/users/JordanSimba/following{/other_user}","gists_url":"https://api.github.com/users/JordanSimba/gists{/gist_id}","starred_url":"https://api.github.com/users/JordanSimba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JordanSimba/subscriptions","organizations_url":"https://api.github.com/users/JordanSimba/orgs","repos_url":"https://api.github.com/users/JordanSimba/repos","events_url":"https://api.github.com/users/JordanSimba/events{/privacy}","received_events_url":"https://api.github.com/users/JordanSimba/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/500/timeline","performed_via_github_app":null,"state_reason":"completed"}