{"url":"https://api.github.com/repos/doccano/doccano/issues/374","repository_url":"https://api.github.com/repos/doccano/doccano","labels_url":"https://api.github.com/repos/doccano/doccano/issues/374/labels{/name}","comments_url":"https://api.github.com/repos/doccano/doccano/issues/374/comments","events_url":"https://api.github.com/repos/doccano/doccano/issues/374/events","html_url":"https://github.com/doccano/doccano/issues/374","id":490682371,"node_id":"MDU6SXNzdWU0OTA2ODIzNzE=","number":374,"title":"Deployment option #3 fails","user":{"login":"leungi","id":30273868,"node_id":"MDQ6VXNlcjMwMjczODY4","avatar_url":"https://avatars.githubusercontent.com/u/30273868?v=4","gravatar_id":"","url":"https://api.github.com/users/leungi","html_url":"https://github.com/leungi","followers_url":"https://api.github.com/users/leungi/followers","following_url":"https://api.github.com/users/leungi/following{/other_user}","gists_url":"https://api.github.com/users/leungi/gists{/gist_id}","starred_url":"https://api.github.com/users/leungi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leungi/subscriptions","organizations_url":"https://api.github.com/users/leungi/orgs","repos_url":"https://api.github.com/users/leungi/repos","events_url":"https://api.github.com/users/leungi/events{/privacy}","received_events_url":"https://api.github.com/users/leungi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-09-07T21:31:35Z","updated_at":"2019-10-09T00:05:05Z","closed_at":"2019-09-08T12:35:54Z","author_association":"NONE","active_lock_reason":null,"body":"Deploy option #1 works, but option #3on `docker-compose up`.\r\n\r\nI suspect this line ` /usr/bin/env: 'bash\\r': No such file or directory` causing the issue. \r\n\r\nI'm familiar with Dockerfile, but still green on docker-compose; apologies that I can't help debug.\r\n\r\n```\r\nD:\\doccano>docker-compose up\r\nWARNING: The Docker Engine you're using is running in swarm mode.\r\n\r\nCompose does not use swarm mode to deploy services to multiple nodes in a swarm. All containers will be scheduled on the current node.\r\n\r\nTo deploy your application across the swarm, use `docker stack deploy`.\r\n\r\nStarting doccano_webpack_1 ...\r\nStarting doccano_webpack_1 ... done\r\nStarting doccano_django_1  ... done\r\nAttaching to doccano_postgres_1, doccano_webpack_1, doccano_django_1\r\nwebpack_1   | /usr/bin/env: 'bash\\r': No such file or directory\r\ndjango_1    | /usr/bin/env: ‘bash\\r’: No such file or directory\r\npostgres_1  | The files belonging to this database system will be owned by user \"postgres\".\r\npostgres_1  | This user must also own the server process.\r\npostgres_1  |\r\npostgres_1  | The database cluster will be initialized with locale \"en_US.utf8\".\r\npostgres_1  | The default database encoding has accordingly been set to \"UTF8\".\r\npostgres_1  | The default text search configuration will be set to \"english\".\r\npostgres_1  |\r\npostgres_1  | Data page checksums are disabled.\r\npostgres_1  |\r\npostgres_1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok\r\npostgres_1  | creating subdirectories ... ok\r\npostgres_1  | selecting default max_connections ... 100\r\npostgres_1  | selecting default shared_buffers ... 128MB\r\npostgres_1  | selecting default timezone ... Etc/UTC\r\npostgres_1  | selecting dynamic shared memory implementation ... posix\r\npostgres_1  | creating configuration files ... ok\r\npostgres_1  | running bootstrap script ... ok\r\npostgres_1  | performing post-bootstrap initialization ... ok\r\npostgres_1  | syncing data to disk ... ok\r\npostgres_1  |\r\npostgres_1  | Success. You can now start the database server using:\r\npostgres_1  |\r\npostgres_1  |     pg_ctl -D /var/lib/postgresql/data -l logfile start\r\npostgres_1  |\r\npostgres_1  |\r\npostgres_1  | WARNING: enabling \"trust\" authentication for local connections\r\npostgres_1  | You can change this by editing pg_hba.conf or using the option -A, or\r\npostgres_1  | --auth-local and --auth-host, the next time you run initdb.\r\npostgres_1  | waiting for server to start....LOG:  database system was shut down at 2019-09-07 21:19:58 UTC\r\npostgres_1  | LOG:  MultiXact member wraparound protections are now enabled\r\npostgres_1  | LOG:  database system is ready to accept connections\r\npostgres_1  | LOG:  autovacuum launcher started\r\npostgres_1  |  done\r\npostgres_1  | server started\r\npostgres_1  | CREATE DATABASE\r\npostgres_1  |\r\npostgres_1  |\r\npostgres_1  | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*\r\npostgres_1  |\r\npostgres_1  | waiting for server to shut down...LOG:  received fast shutdown request\r\npostgres_1  | .LOG:  aborting any active transactions\r\npostgres_1  | LOG:  autovacuum launcher shutting down\r\npostgres_1  | LOG:  shutting down\r\npostgres_1  | LOG:  database system is shut down\r\npostgres_1  |  done\r\npostgres_1  | server stopped\r\npostgres_1  |\r\npostgres_1  | PostgreSQL init process complete; ready for start up.\r\npostgres_1  |\r\npostgres_1  | LOG:  database system was shut down at 2019-09-07 21:19:59 UTC\r\npostgres_1  | LOG:  MultiXact member wraparound protections are now enabled\r\npostgres_1  | LOG:  database system is ready to accept connections\r\npostgres_1  | LOG:  autovacuum launcher started\r\ndoccano_webpack_1 exited with code 127\r\ndoccano_django_1 exited with code 127\r\n```","closed_by":{"login":"icoxfog417","id":544269,"node_id":"MDQ6VXNlcjU0NDI2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/544269?v=4","gravatar_id":"","url":"https://api.github.com/users/icoxfog417","html_url":"https://github.com/icoxfog417","followers_url":"https://api.github.com/users/icoxfog417/followers","following_url":"https://api.github.com/users/icoxfog417/following{/other_user}","gists_url":"https://api.github.com/users/icoxfog417/gists{/gist_id}","starred_url":"https://api.github.com/users/icoxfog417/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icoxfog417/subscriptions","organizations_url":"https://api.github.com/users/icoxfog417/orgs","repos_url":"https://api.github.com/users/icoxfog417/repos","events_url":"https://api.github.com/users/icoxfog417/events{/privacy}","received_events_url":"https://api.github.com/users/icoxfog417/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doccano/doccano/issues/374/timeline","performed_via_github_app":null,"state_reason":"completed"}