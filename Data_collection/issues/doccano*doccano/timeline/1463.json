[{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/896999223","html_url":"https://github.com/doccano/doccano/issues/1463#issuecomment-896999223","issue_url":"https://api.github.com/repos/doccano/doccano/issues/1463","id":896999223,"node_id":"IC_kwDOB-j9wM41dx83","user":{"login":"tmarice","id":1169270,"node_id":"MDQ6VXNlcjExNjkyNzA=","avatar_url":"https://avatars.githubusercontent.com/u/1169270?v=4","gravatar_id":"","url":"https://api.github.com/users/tmarice","html_url":"https://github.com/tmarice","followers_url":"https://api.github.com/users/tmarice/followers","following_url":"https://api.github.com/users/tmarice/following{/other_user}","gists_url":"https://api.github.com/users/tmarice/gists{/gist_id}","starred_url":"https://api.github.com/users/tmarice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmarice/subscriptions","organizations_url":"https://api.github.com/users/tmarice/orgs","repos_url":"https://api.github.com/users/tmarice/repos","events_url":"https://api.github.com/users/tmarice/events{/privacy}","received_events_url":"https://api.github.com/users/tmarice/received_events","type":"User","site_admin":false},"created_at":"2021-08-11T17:07:58Z","updated_at":"2021-08-11T17:07:58Z","author_association":"NONE","body":"I have the same issue. After some digging around, it seems the `api.tasks.injest_data` task fails with the following traceback:\r\n```\r\nTraceback (most recent call last):\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/backends/utils.py\", line 84, in _execute\r\nreturn self.cursor.execute(sql, params)\r\npsycopg2.errors.StringDataRightTruncation: value too long for type character varying(100)\r\n\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\nFile \"/usr/local/lib/python3.8/site-packages/celery/app/trace.py\", line 450, in trace_task\r\nR = retval = fun(*args, **kwargs)\r\nFile \"/usr/local/lib/python3.8/site-packages/celery/app/trace.py\", line 731, in __protected_call__\r\nreturn self.run(*args, **kwargs)\r\nFile \"/backend/api/tasks.py\", line 123, in injest_data\r\nfactory.create(buffer.data, user, project)\r\nFile \"/backend/api/tasks.py\", line 84, in create\r\nids = self.create_data(examples, project)\r\nFile \"/backend/api/tasks.py\", line 66, in create_data\r\nself.data_class.objects.bulk_create(dataset)\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/models/manager.py\", line 85, in manager_method\r\nreturn getattr(self.get_queryset(), name)(*args, **kwargs)\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/models/query.py\", line 514, in bulk_create\r\nreturned_columns = self._batched_insert(\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/models/query.py\", line 1287, in _batched_insert\r\ninserted_rows.extend(self._insert(\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/models/query.py\", line 1270, in _insert\r\nreturn query.get_compiler(using=using).execute_sql(returning_fields)\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/models/sql/compiler.py\", line 1416, in execute_sql\r\ncursor.execute(sql, params)\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/backends/utils.py\", line 98, in execute\r\nreturn super().execute(sql, params)\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/backends/utils.py\", line 66, in execute\r\nreturn self._execute_with_wrappers(sql, params, many=False, executor=self._execute)\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/backends/utils.py\", line 75, in _execute_with_wrappers\r\nreturn executor(sql, params, many, context)\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/backends/utils.py\", line 84, in _execute\r\nreturn self.cursor.execute(sql, params)\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/utils.py\", line 90, in __exit__\r\nraise dj_exc_value.with_traceback(traceback) from exc_value\r\nFile \"/usr/local/lib/python3.8/site-packages/django/db/backends/utils.py\", line 84, in _execute\r\nreturn self.cursor.execute(sql, params)\r\ndjango.db.utils.DataError: value too long for type character varying(100)\r\n```\r\n\r\nI think the problem is in the `Examle.filename` field, which is a `FileField` with implicit `max_length=100`, while the uploaded file path is something like `/backend/media/jCaR4v5qx7E5BeTHZYTmsP/iMsw4yUv8bXkSZgotQn4Jc/xxxxxxxxxxxxxxxxxxxxxxxxxxxx.txt` which can easily surpass 100 characters. \r\n\r\n\r\nThe fix would be to simply increase the max_length to 300.\r\n","reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/896999223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmarice","id":1169270,"node_id":"MDQ6VXNlcjExNjkyNzA=","avatar_url":"https://avatars.githubusercontent.com/u/1169270?v=4","gravatar_id":"","url":"https://api.github.com/users/tmarice","html_url":"https://github.com/tmarice","followers_url":"https://api.github.com/users/tmarice/followers","following_url":"https://api.github.com/users/tmarice/following{/other_user}","gists_url":"https://api.github.com/users/tmarice/gists{/gist_id}","starred_url":"https://api.github.com/users/tmarice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmarice/subscriptions","organizations_url":"https://api.github.com/users/tmarice/orgs","repos_url":"https://api.github.com/users/tmarice/repos","events_url":"https://api.github.com/users/tmarice/events{/privacy}","received_events_url":"https://api.github.com/users/tmarice/received_events","type":"User","site_admin":false}},{"id":5606995579,"node_id":"LE_lADOB-j9wM45D2oFzwAAAAFOM_Z7","url":"https://api.github.com/repos/doccano/doccano/issues/events/5606995579","actor":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-11-12T01:42:00Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/966750298","html_url":"https://github.com/doccano/doccano/issues/1463#issuecomment-966750298","issue_url":"https://api.github.com/repos/doccano/doccano/issues/1463","id":966750298,"node_id":"IC_kwDOB-j9wM45n3Ba","user":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"created_at":"2021-11-12T01:42:14Z","updated_at":"2021-11-12T01:42:14Z","author_association":"MEMBER","body":"Solved by https://github.com/doccano/doccano/pull/1500","reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/966750298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false}},{"id":5606996096,"node_id":"CE_lADOB-j9wM45D2oFzwAAAAFOM_iA","url":"https://api.github.com/repos/doccano/doccano/issues/events/5606996096","actor":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-11-12T01:42:14Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/966954025","html_url":"https://github.com/doccano/doccano/issues/1463#issuecomment-966954025","issue_url":"https://api.github.com/repos/doccano/doccano/issues/1463","id":966954025,"node_id":"IC_kwDOB-j9wM45oowp","user":{"login":"CVxTz","id":13545260,"node_id":"MDQ6VXNlcjEzNTQ1MjYw","avatar_url":"https://avatars.githubusercontent.com/u/13545260?v=4","gravatar_id":"","url":"https://api.github.com/users/CVxTz","html_url":"https://github.com/CVxTz","followers_url":"https://api.github.com/users/CVxTz/followers","following_url":"https://api.github.com/users/CVxTz/following{/other_user}","gists_url":"https://api.github.com/users/CVxTz/gists{/gist_id}","starred_url":"https://api.github.com/users/CVxTz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CVxTz/subscriptions","organizations_url":"https://api.github.com/users/CVxTz/orgs","repos_url":"https://api.github.com/users/CVxTz/repos","events_url":"https://api.github.com/users/CVxTz/events{/privacy}","received_events_url":"https://api.github.com/users/CVxTz/received_events","type":"User","site_admin":false},"created_at":"2021-11-12T09:30:06Z","updated_at":"2021-11-12T09:30:06Z","author_association":"NONE","body":"Thanks @Hironsan, @tmarice !","reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/966954025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"CVxTz","id":13545260,"node_id":"MDQ6VXNlcjEzNTQ1MjYw","avatar_url":"https://avatars.githubusercontent.com/u/13545260?v=4","gravatar_id":"","url":"https://api.github.com/users/CVxTz","html_url":"https://github.com/CVxTz","followers_url":"https://api.github.com/users/CVxTz/followers","following_url":"https://api.github.com/users/CVxTz/following{/other_user}","gists_url":"https://api.github.com/users/CVxTz/gists{/gist_id}","starred_url":"https://api.github.com/users/CVxTz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CVxTz/subscriptions","organizations_url":"https://api.github.com/users/CVxTz/orgs","repos_url":"https://api.github.com/users/CVxTz/repos","events_url":"https://api.github.com/users/CVxTz/events{/privacy}","received_events_url":"https://api.github.com/users/CVxTz/received_events","type":"User","site_admin":false}},{"id":5608454997,"node_id":"MEE_lADOB-j9wM45D2oFzwAAAAFOSjtV","url":"https://api.github.com/repos/doccano/doccano/issues/events/5608454997","actor":{"login":"tmarice","id":1169270,"node_id":"MDQ6VXNlcjExNjkyNzA=","avatar_url":"https://avatars.githubusercontent.com/u/1169270?v=4","gravatar_id":"","url":"https://api.github.com/users/tmarice","html_url":"https://github.com/tmarice","followers_url":"https://api.github.com/users/tmarice/followers","following_url":"https://api.github.com/users/tmarice/following{/other_user}","gists_url":"https://api.github.com/users/tmarice/gists{/gist_id}","starred_url":"https://api.github.com/users/tmarice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmarice/subscriptions","organizations_url":"https://api.github.com/users/tmarice/orgs","repos_url":"https://api.github.com/users/tmarice/repos","events_url":"https://api.github.com/users/tmarice/events{/privacy}","received_events_url":"https://api.github.com/users/tmarice/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-11-12T09:30:06Z","performed_via_github_app":null},{"id":5608455001,"node_id":"SE_lADOB-j9wM45D2oFzwAAAAFOSjtZ","url":"https://api.github.com/repos/doccano/doccano/issues/events/5608455001","actor":{"login":"tmarice","id":1169270,"node_id":"MDQ6VXNlcjExNjkyNzA=","avatar_url":"https://avatars.githubusercontent.com/u/1169270?v=4","gravatar_id":"","url":"https://api.github.com/users/tmarice","html_url":"https://github.com/tmarice","followers_url":"https://api.github.com/users/tmarice/followers","following_url":"https://api.github.com/users/tmarice/following{/other_user}","gists_url":"https://api.github.com/users/tmarice/gists{/gist_id}","starred_url":"https://api.github.com/users/tmarice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmarice/subscriptions","organizations_url":"https://api.github.com/users/tmarice/orgs","repos_url":"https://api.github.com/users/tmarice/repos","events_url":"https://api.github.com/users/tmarice/events{/privacy}","received_events_url":"https://api.github.com/users/tmarice/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-11-12T09:30:06Z","performed_via_github_app":null},{"id":5608455011,"node_id":"MEE_lADOB-j9wM45D2oFzwAAAAFOSjtj","url":"https://api.github.com/repos/doccano/doccano/issues/events/5608455011","actor":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-11-12T09:30:06Z","performed_via_github_app":null},{"id":5608455018,"node_id":"SE_lADOB-j9wM45D2oFzwAAAAFOSjtq","url":"https://api.github.com/repos/doccano/doccano/issues/events/5608455018","actor":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-11-12T09:30:06Z","performed_via_github_app":null}]