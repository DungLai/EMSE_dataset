[{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/863260890","html_url":"https://github.com/doccano/doccano/issues/1415#issuecomment-863260890","issue_url":"https://api.github.com/repos/doccano/doccano/issues/1415","id":863260890,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzI2MDg5MA==","user":{"login":"alexdashkov","id":6633228,"node_id":"MDQ6VXNlcjY2MzMyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6633228?v=4","gravatar_id":"","url":"https://api.github.com/users/alexdashkov","html_url":"https://github.com/alexdashkov","followers_url":"https://api.github.com/users/alexdashkov/followers","following_url":"https://api.github.com/users/alexdashkov/following{/other_user}","gists_url":"https://api.github.com/users/alexdashkov/gists{/gist_id}","starred_url":"https://api.github.com/users/alexdashkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexdashkov/subscriptions","organizations_url":"https://api.github.com/users/alexdashkov/orgs","repos_url":"https://api.github.com/users/alexdashkov/repos","events_url":"https://api.github.com/users/alexdashkov/events{/privacy}","received_events_url":"https://api.github.com/users/alexdashkov/received_events","type":"User","site_admin":false},"created_at":"2021-06-17T13:55:52Z","updated_at":"2021-06-17T13:59:58Z","author_association":"NONE","body":"You could use this function as an example https://github.com/doccano/doccano-client/blob/master/doccano_api_client/__init__.py#L121\r\n\r\nFor me, the cookies auth works well, so I choose it instead of token auth. However, `/auth/login/` route returns a key too. My guess is that you can use it for your need if you don't want to use session auth.\r\n\r\nAnother example : \r\n\r\n```python\r\nclass DoccanoClient:\r\n    def __init__(self, host: str, login: str, password: str, project_id: int):\r\n        self._url: str = f\"{host}/v1\"\r\n        self._auth_data: dict = {\"username\": login, \"password\": password}\r\n        self._session: requests.Session = requests.Session()\r\n        self._project_id = project_id\r\n\r\n    def authenticate(self):\r\n        \"\"\"\r\n        Auth to the doccano service and keep csrf token in the headers\r\n        \"\"\"\r\n        auth_response = self._request(\"POST\", \"auth/login/\", data=self._auth_data)\r\n        # keep csrf token to headers\r\n        self._session.headers[\"X-CSRFToken\"] = auth_response.cookies[\"csrftoken\"]\r\n\r\n    def _request(self, method: str, endpoint: str, *args, **kwargs) -> requests.Response:\r\n        \"\"\"\r\n        Internal proxy method to convert calls to the format of the request\r\n\r\n        :param method: HTTP method POST, GET, etc..\r\n        :param endpoint: HTTP endpoint\r\n        \"\"\"\r\n        url = f\"{self._url}/{endpoint}\"\r\n        response = self._session.request(method, url, *args, **kwargs)\r\n        try:\r\n            response.raise_for_status()\r\n        except requests.exceptions.RequestException as re:\r\n            logging.error(response)\r\n            logging.error(response.text)\r\n            raise re\r\n        return response\r\n``` ","reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/863260890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alexdashkov","id":6633228,"node_id":"MDQ6VXNlcjY2MzMyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6633228?v=4","gravatar_id":"","url":"https://api.github.com/users/alexdashkov","html_url":"https://github.com/alexdashkov","followers_url":"https://api.github.com/users/alexdashkov/followers","following_url":"https://api.github.com/users/alexdashkov/following{/other_user}","gists_url":"https://api.github.com/users/alexdashkov/gists{/gist_id}","starred_url":"https://api.github.com/users/alexdashkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexdashkov/subscriptions","organizations_url":"https://api.github.com/users/alexdashkov/orgs","repos_url":"https://api.github.com/users/alexdashkov/repos","events_url":"https://api.github.com/users/alexdashkov/events{/privacy}","received_events_url":"https://api.github.com/users/alexdashkov/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/865695349","html_url":"https://github.com/doccano/doccano/issues/1415#issuecomment-865695349","issue_url":"https://api.github.com/repos/doccano/doccano/issues/1415","id":865695349,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY5NTM0OQ==","user":{"login":"EnzoNclt","id":23526246,"node_id":"MDQ6VXNlcjIzNTI2MjQ2","avatar_url":"https://avatars.githubusercontent.com/u/23526246?v=4","gravatar_id":"","url":"https://api.github.com/users/EnzoNclt","html_url":"https://github.com/EnzoNclt","followers_url":"https://api.github.com/users/EnzoNclt/followers","following_url":"https://api.github.com/users/EnzoNclt/following{/other_user}","gists_url":"https://api.github.com/users/EnzoNclt/gists{/gist_id}","starred_url":"https://api.github.com/users/EnzoNclt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EnzoNclt/subscriptions","organizations_url":"https://api.github.com/users/EnzoNclt/orgs","repos_url":"https://api.github.com/users/EnzoNclt/repos","events_url":"https://api.github.com/users/EnzoNclt/events{/privacy}","received_events_url":"https://api.github.com/users/EnzoNclt/received_events","type":"User","site_admin":false},"created_at":"2021-06-22T08:07:04Z","updated_at":"2021-06-22T08:07:04Z","author_association":"NONE","body":"Thanks @alexdashkov for the answer, worked for me !","reactions":{"url":"https://api.github.com/repos/doccano/doccano/issues/comments/865695349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"EnzoNclt","id":23526246,"node_id":"MDQ6VXNlcjIzNTI2MjQ2","avatar_url":"https://avatars.githubusercontent.com/u/23526246?v=4","gravatar_id":"","url":"https://api.github.com/users/EnzoNclt","html_url":"https://github.com/EnzoNclt","followers_url":"https://api.github.com/users/EnzoNclt/followers","following_url":"https://api.github.com/users/EnzoNclt/following{/other_user}","gists_url":"https://api.github.com/users/EnzoNclt/gists{/gist_id}","starred_url":"https://api.github.com/users/EnzoNclt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EnzoNclt/subscriptions","organizations_url":"https://api.github.com/users/EnzoNclt/orgs","repos_url":"https://api.github.com/users/EnzoNclt/repos","events_url":"https://api.github.com/users/EnzoNclt/events{/privacy}","received_events_url":"https://api.github.com/users/EnzoNclt/received_events","type":"User","site_admin":false}},{"id":4921069644,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDkyMTA2OTY0NA==","url":"https://api.github.com/repos/doccano/doccano/issues/events/4921069644","actor":{"login":"alexdashkov","id":6633228,"node_id":"MDQ6VXNlcjY2MzMyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6633228?v=4","gravatar_id":"","url":"https://api.github.com/users/alexdashkov","html_url":"https://github.com/alexdashkov","followers_url":"https://api.github.com/users/alexdashkov/followers","following_url":"https://api.github.com/users/alexdashkov/following{/other_user}","gists_url":"https://api.github.com/users/alexdashkov/gists{/gist_id}","starred_url":"https://api.github.com/users/alexdashkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexdashkov/subscriptions","organizations_url":"https://api.github.com/users/alexdashkov/orgs","repos_url":"https://api.github.com/users/alexdashkov/repos","events_url":"https://api.github.com/users/alexdashkov/events{/privacy}","received_events_url":"https://api.github.com/users/alexdashkov/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-06-22T08:07:04Z","performed_via_github_app":null},{"id":4921069649,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ5MjEwNjk2NDk=","url":"https://api.github.com/repos/doccano/doccano/issues/events/4921069649","actor":{"login":"alexdashkov","id":6633228,"node_id":"MDQ6VXNlcjY2MzMyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6633228?v=4","gravatar_id":"","url":"https://api.github.com/users/alexdashkov","html_url":"https://github.com/alexdashkov","followers_url":"https://api.github.com/users/alexdashkov/followers","following_url":"https://api.github.com/users/alexdashkov/following{/other_user}","gists_url":"https://api.github.com/users/alexdashkov/gists{/gist_id}","starred_url":"https://api.github.com/users/alexdashkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexdashkov/subscriptions","organizations_url":"https://api.github.com/users/alexdashkov/orgs","repos_url":"https://api.github.com/users/alexdashkov/repos","events_url":"https://api.github.com/users/alexdashkov/events{/privacy}","received_events_url":"https://api.github.com/users/alexdashkov/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-06-22T08:07:04Z","performed_via_github_app":null},{"id":4921071370,"node_id":"MDExOkNsb3NlZEV2ZW50NDkyMTA3MTM3MA==","url":"https://api.github.com/repos/doccano/doccano/issues/events/4921071370","actor":{"login":"EnzoNclt","id":23526246,"node_id":"MDQ6VXNlcjIzNTI2MjQ2","avatar_url":"https://avatars.githubusercontent.com/u/23526246?v=4","gravatar_id":"","url":"https://api.github.com/users/EnzoNclt","html_url":"https://github.com/EnzoNclt","followers_url":"https://api.github.com/users/EnzoNclt/followers","following_url":"https://api.github.com/users/EnzoNclt/following{/other_user}","gists_url":"https://api.github.com/users/EnzoNclt/gists{/gist_id}","starred_url":"https://api.github.com/users/EnzoNclt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EnzoNclt/subscriptions","organizations_url":"https://api.github.com/users/EnzoNclt/orgs","repos_url":"https://api.github.com/users/EnzoNclt/repos","events_url":"https://api.github.com/users/EnzoNclt/events{/privacy}","received_events_url":"https://api.github.com/users/EnzoNclt/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-06-22T08:07:22Z","state_reason":null,"performed_via_github_app":null}]