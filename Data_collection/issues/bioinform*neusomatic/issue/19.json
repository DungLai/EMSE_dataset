{"url":"https://api.github.com/repos/bioinform/neusomatic/issues/19","repository_url":"https://api.github.com/repos/bioinform/neusomatic","labels_url":"https://api.github.com/repos/bioinform/neusomatic/issues/19/labels{/name}","comments_url":"https://api.github.com/repos/bioinform/neusomatic/issues/19/comments","events_url":"https://api.github.com/repos/bioinform/neusomatic/issues/19/events","html_url":"https://github.com/bioinform/neusomatic/issues/19","id":371325712,"node_id":"MDU6SXNzdWUzNzEzMjU3MTI=","number":19,"title":"ensemble.tsv error","user":{"login":"sugyun","id":22545969,"node_id":"MDQ6VXNlcjIyNTQ1OTY5","avatar_url":"https://avatars.githubusercontent.com/u/22545969?v=4","gravatar_id":"","url":"https://api.github.com/users/sugyun","html_url":"https://github.com/sugyun","followers_url":"https://api.github.com/users/sugyun/followers","following_url":"https://api.github.com/users/sugyun/following{/other_user}","gists_url":"https://api.github.com/users/sugyun/gists{/gist_id}","starred_url":"https://api.github.com/users/sugyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sugyun/subscriptions","organizations_url":"https://api.github.com/users/sugyun/orgs","repos_url":"https://api.github.com/users/sugyun/repos","events_url":"https://api.github.com/users/sugyun/events{/privacy}","received_events_url":"https://api.github.com/users/sugyun/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-10-18T01:25:16Z","updated_at":"2019-03-01T07:09:49Z","closed_at":"2019-03-01T07:09:49Z","author_association":"NONE","active_lock_reason":null,"body":"Hello.\r\nWhen I try to make .tsv file for ensemble mode using SomaticSeq.Wrapper.sh, I encounter below error.\r\n\"\"\"\r\nThis SomaticSeq.Wrapper.sh script is being obsolesced.\r\nIt is only here to maintain compatibility with previous versions.\r\nYou should look into run_parallel.py or somaticseq/run_somaticseq.py in the future.\r\nThis script simply runs the somaticseq/run_somaticseq.py script.\r\n\r\n2018-10-18 10:05:36,629 - SomaticSeq - INFO - SomaticSeq Input Arguments: output_directory=/hdd8tb/sgan/29-O, genome_reference=/hdd8tb/sgan/ucsc.hg19.fasta, truth_snv=None, truth_indel=None, classifier_snv=None, classifier_indel=None, pass_threshold=0.5, lowqual_threshold=0.1, homozygous_threshold=0.85, heterozygous_threshold=0.01, minimum_mapping_quality=1, minimum_base_quality=5, minimum_num_callers=0.5, dbsnp_vcf=dbsnp.GRCh38.vcf, cosmic_vcf=None, inclusion_region=region.bed, exclusion_region=None, threads=1, keep_intermediates=False, somaticseq_train=False, tumor_bam_file=/hdd8tb/sgan/29-O.recal.bam, normal_bam_file=/hdd8tb/sgan/29-N.recal.bam, tumor_sample=TUMOR, normal_sample=NORMAL, mutect_vcf=None, indelocator_vcf=None, mutect2_vcf=MuTect2.vcf, varscan_snv=VarScan2.snp.vcf, varscan_indel=VarScan2.indel.vcf, jsm_vcf=None, somaticsniper_vcf=SomaticSniper.vcf, vardict_vcf=VarDict.vcf, muse_vcf=MuSE.vcf, lofreq_snv=None, lofreq_indel=None, scalpel_vcf=None, strelka_snv=somatic.snvs.vcf.gz, strelka_indel=somatic.indels.vcf.gz, tnscope_vcf=None, platypus_vcf=None, which=paired\r\nsh: 1: intersectBed: not found\r\nTraceback (most recent call last):\r\n  File \"/home/sgan/software/somaticseq/somaticseq/run_somaticseq.py\", line 361, in <module>\r\n    keep_intermediates = runParameters['keep_intermediates'] )\r\n  File \"/home/sgan/software/somaticseq/somaticseq/run_somaticseq.py\", line 58, in runPaired\r\n    outSnv, outIndel, intermediateVcfs, tempFiles = combineCallers.combinePaired(outdir=outdir, ref=ref, tbam=tbam, nbam=nbam, inclusion=inclusion, exclusion=exclusion, mutect=mutect, indelocator=indelocator, mutect2=mutect2, varscan_snv=varscan_snv, varscan_indel=varscan_indel, jsm=jsm, sniper=sniper, vardict=vardict, muse=muse, lofreq_snv=lofreq_snv, lofreq_indel=lofreq_indel, scalpel=scalpel, strelka_snv=strelka_snv, strelka_indel=strelka_indel, tnscope=tnscope, platypus=platypus, keep_intermediates=True)\r\n  File \"/home/sgan/software/somaticseq/somaticseq/../somaticseq/combine_callers.py\", line 237, in combinePaired\r\n    mod_mutect2.convert(mutect2_in, snv_mutect_out, indel_mutect_out, False)\r\n  File \"/home/sgan/software/somaticseq/somaticseq/../vcfModifier/modify_MuTect2.py\", line 69, in convert\r\n    normal_index = header.index(normal_name) - 9\r\nUnboundLocalError: local variable 'normal_name' referenced before assignment\r\n\"\"\"\r\nI use Python 3.6.3.\r\n\r\nHow could I fix this error? Do I did anything wrong?\r\n\r\n","closed_by":{"login":"msahraeian","id":11095648,"node_id":"MDQ6VXNlcjExMDk1NjQ4","avatar_url":"https://avatars.githubusercontent.com/u/11095648?v=4","gravatar_id":"","url":"https://api.github.com/users/msahraeian","html_url":"https://github.com/msahraeian","followers_url":"https://api.github.com/users/msahraeian/followers","following_url":"https://api.github.com/users/msahraeian/following{/other_user}","gists_url":"https://api.github.com/users/msahraeian/gists{/gist_id}","starred_url":"https://api.github.com/users/msahraeian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msahraeian/subscriptions","organizations_url":"https://api.github.com/users/msahraeian/orgs","repos_url":"https://api.github.com/users/msahraeian/repos","events_url":"https://api.github.com/users/msahraeian/events{/privacy}","received_events_url":"https://api.github.com/users/msahraeian/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bioinform/neusomatic/issues/19/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bioinform/neusomatic/issues/19/timeline","performed_via_github_app":null,"state_reason":"completed"}