{"url":"https://api.github.com/repos/yaserkl/RLSeq2Seq/issues/2","repository_url":"https://api.github.com/repos/yaserkl/RLSeq2Seq","labels_url":"https://api.github.com/repos/yaserkl/RLSeq2Seq/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/yaserkl/RLSeq2Seq/issues/2/comments","events_url":"https://api.github.com/repos/yaserkl/RLSeq2Seq/issues/2/events","html_url":"https://github.com/yaserkl/RLSeq2Seq/issues/2","id":326771224,"node_id":"MDU6SXNzdWUzMjY3NzEyMjQ=","number":2,"title":"Python 3 issues.","user":{"login":"cclauss","id":3709715,"node_id":"MDQ6VXNlcjM3MDk3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3709715?v=4","gravatar_id":"","url":"https://api.github.com/users/cclauss","html_url":"https://github.com/cclauss","followers_url":"https://api.github.com/users/cclauss/followers","following_url":"https://api.github.com/users/cclauss/following{/other_user}","gists_url":"https://api.github.com/users/cclauss/gists{/gist_id}","starred_url":"https://api.github.com/users/cclauss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cclauss/subscriptions","organizations_url":"https://api.github.com/users/cclauss/orgs","repos_url":"https://api.github.com/users/cclauss/repos","events_url":"https://api.github.com/users/cclauss/events{/privacy}","received_events_url":"https://api.github.com/users/cclauss/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-26T22:20:13Z","updated_at":"2018-05-29T22:54:43Z","closed_at":"2018-05-29T22:54:43Z","author_association":"NONE","active_lock_reason":null,"body":"flake8 testing of https://github.com/yaserkl/RLSeq2Seq on Python 3.6.3\r\n\r\n\u001B$ __flake8 . --count --select=E901,E999,F821,F822,F823 --show-source --statistics__\r\n```\r\n./code/batcher.py:172:16: F821 undefined name 'xrange'\r\n      for j in xrange(ex.enc_len):\r\n               ^\r\n./code/batcher.py:209:16: F821 undefined name 'xrange'\r\n      for j in xrange(ex.dec_len):\r\n               ^\r\n./code/batcher.py:256:14: F821 undefined name 'xrange'\r\n    for _ in xrange(self._num_example_q_threads):\r\n             ^\r\n./code/batcher.py:261:14: F821 undefined name 'xrange'\r\n    for _ in xrange(self._num_batch_q_threads):\r\n             ^\r\n./code/batcher.py:320:18: F821 undefined name 'xrange'\r\n        for _ in xrange(self._hps.batch_size * self._bucketing_cache_size):\r\n                 ^\r\n./code/batcher.py:326:18: F821 undefined name 'xrange'\r\n        for i in xrange(0, len(inputs), self._hps.batch_size):\r\n                 ^\r\n./code/batcher.py:335:26: F821 undefined name 'xrange'\r\n        b = [ex for _ in xrange(self._hps.batch_size)]\r\n                         ^\r\n./code/beam_search.py:107:33: F821 undefined name 'xrange'\r\n                     ) for _ in xrange(FLAGS.beam_size)]\r\n                                ^\r\n./code/beam_search.py:121:32: F821 undefined name 'xrange'\r\n    latest_tokens = [t if t in xrange(vocab.size()) else vocab.word2id(data.UNKNOWN_TOKEN) for t in latest_tokens] # change any in-article temporary OOV ids to [UNK] id, so that we can lookup word embeddings\r\n                               ^\r\n./code/beam_search.py:157:14: F821 undefined name 'xrange'\r\n    for i in xrange(num_orig_hyps):\r\n             ^\r\n./code/beam_search.py:159:16: F821 undefined name 'xrange'\r\n      for j in xrange(FLAGS.beam_size * 2):  # for each of the top 2*beam_size hyps:\r\n               ^\r\n./code/data.py:64:78: E999 SyntaxError: invalid syntax\r\n          print 'Warning: incorrectly formatted line in vocabulary file: %s\\n' % line\r\n                                                                             ^\r\n./code/decode.py:203:10: E999 SyntaxError: invalid syntax\r\n  print \"\"\r\n         ^\r\n./code/inspect_checkpoint.py:32:29: E999 SyntaxError: invalid syntax\r\n  print \"\\nFINITE VARIABLES:\"\r\n                            ^\r\n./code/model.py:734:112: F821 undefined name 'xrange'\r\n    new_states = [tf.contrib.rnn.LSTMStateTuple(results['states'].c[i, :], results['states'].h[i, :]) for i in xrange(beam_size)]\r\n                                                                                                               ^\r\n./code/model.py:746:31: F821 undefined name 'xrange'\r\n      p_gens = [None for _ in xrange(beam_size)]\r\n                              ^\r\n./code/model.py:762:37: F821 undefined name 'xrange'\r\n      new_coverage = [None for _ in xrange(beam_size)]\r\n                                    ^\r\n./code/replay_buffer.py:62:12: F821 undefined name 'cmp'\r\n    return cmp(item.reward, self.reward) # bigger numbers have more priority\r\n           ^\r\n./code/replay_buffer.py:97:14: F821 undefined name 'xrange'\r\n    for _ in xrange(self._num_example_q_threads):\r\n             ^\r\n./code/replay_buffer.py:102:14: F821 undefined name 'xrange'\r\n    for _ in xrange(self._num_batch_q_threads):\r\n             ^\r\n./code/replay_buffer.py:151:16: F821 undefined name 'xrange'\r\n      for _ in xrange(self._hps.dqn_batch_size * self._bucketing_cache_size):\r\n               ^\r\n./code/replay_buffer.py:159:16: F821 undefined name 'xrange'\r\n      for i in xrange(0, len(inputs), self._hps.dqn_batch_size):\r\n               ^\r\n./code/run_summarization.py:163:41: E999 SyntaxError: invalid syntax\r\n    print \"Initializing all variables...\"\r\n                                        ^\r\n./code/helper/cnn_dm_data_maker.py:24:16: F821 undefined name 'unicode'\r\n        return unicode(unidecode(unicode(text, encoding = \"utf-8\")))\r\n               ^\r\n./code/helper/cnn_dm_data_maker.py:24:34: F821 undefined name 'unicode'\r\n        return unicode(unidecode(unicode(text, encoding = \"utf-8\")))\r\n                                 ^\r\n./code/helper/cnn_dm_data_merger.py:29:26: F821 undefined name 'working_dir'\r\nfw = open('{}/{}'.format(working_dir,outfile),'w')\r\n                         ^\r\n./code/helper/cnn_dm_data_merger.py:31:19: F821 undefined name 'os'\r\n    working_dir = os.path.join(root_dir, dataset)\r\n                  ^\r\n./code/helper/cnn_dm_data_merger.py:34:45: F821 undefined name 'filter_file'\r\n    filter_files = [k.strip() for k in open(filter_file).readlines()]\r\n                                            ^\r\n./code/helper/cnn_dm_data_merger.py:76:25: F821 undefined name 'np'\r\ntrain, validate, test = np.split(dt.sample(frac=1), [int(.8*len(dt)), int(.1*len(dt))])\r\n                        ^\r\n./code/helper/cnn_dm_data_merger.py:83:9: F821 undefined name 'Counter'\r\nvocab = Counter()\r\n        ^\r\n./code/helper/cnn_dm_data_merger.py:86:30: F821 undefined name 'izip'\r\n    for article, abstract in izip(data[filetype]['article'],data[filetype]['abstract']):\r\n                             ^\r\n./code/helper/cnn_dm_data_merger.py:87:22: F821 undefined name 'example_pb2'\r\n        tf_example = example_pb2.Example()\r\n                     ^\r\n./code/helper/cnn_dm_data_merger.py:92:22: F821 undefined name 'struct'\r\n        writer.write(struct.pack('q', str_len))\r\n                     ^\r\n./code/helper/cnn_dm_data_merger.py:93:22: F821 undefined name 'struct'\r\n        writer.write(struct.pack('%ds' % str_len, tf_example_str))\r\n                     ^\r\n./code/helper/cnn_dm_downloader.py:16:5: F821 undefined name 'reload'\r\n    reload(sys)\r\n    ^\r\n./code/helper/cnn_dm_downloader.py:32:26: F821 undefined name 'unicode'\r\n        return unidecode(unicode(text, encoding = \"utf-8\"))\r\n                         ^\r\n./code/helper/newsroom_data_maker.py:31:16: F821 undefined name 'unicode'\r\n        return unicode(unidecode(unicode(text, encoding = \"utf-8\")))\r\n               ^\r\n./code/helper/newsroom_data_maker.py:31:34: F821 undefined name 'unicode'\r\n        return unicode(unidecode(unicode(text, encoding = \"utf-8\")))\r\n                                 ^\r\n4     E999 SyntaxError: invalid syntax\r\n34    F821 undefined name 'xrange'\r\n38\r\n```","closed_by":{"login":"astorfi","id":13461059,"node_id":"MDQ6VXNlcjEzNDYxMDU5","avatar_url":"https://avatars.githubusercontent.com/u/13461059?v=4","gravatar_id":"","url":"https://api.github.com/users/astorfi","html_url":"https://github.com/astorfi","followers_url":"https://api.github.com/users/astorfi/followers","following_url":"https://api.github.com/users/astorfi/following{/other_user}","gists_url":"https://api.github.com/users/astorfi/gists{/gist_id}","starred_url":"https://api.github.com/users/astorfi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astorfi/subscriptions","organizations_url":"https://api.github.com/users/astorfi/orgs","repos_url":"https://api.github.com/users/astorfi/repos","events_url":"https://api.github.com/users/astorfi/events{/privacy}","received_events_url":"https://api.github.com/users/astorfi/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yaserkl/RLSeq2Seq/issues/2/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yaserkl/RLSeq2Seq/issues/2/timeline","performed_via_github_app":null,"state_reason":"completed"}