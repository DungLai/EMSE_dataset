[{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/685439618","html_url":"https://github.com/Hironsan/asari/issues/9#issuecomment-685439618","issue_url":"https://api.github.com/repos/Hironsan/asari/issues/9","id":685439618,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTQzOTYxOA==","user":{"login":"jorgeqscholz","id":10179550,"node_id":"MDQ6VXNlcjEwMTc5NTUw","avatar_url":"https://avatars.githubusercontent.com/u/10179550?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgeqscholz","html_url":"https://github.com/jorgeqscholz","followers_url":"https://api.github.com/users/jorgeqscholz/followers","following_url":"https://api.github.com/users/jorgeqscholz/following{/other_user}","gists_url":"https://api.github.com/users/jorgeqscholz/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgeqscholz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgeqscholz/subscriptions","organizations_url":"https://api.github.com/users/jorgeqscholz/orgs","repos_url":"https://api.github.com/users/jorgeqscholz/repos","events_url":"https://api.github.com/users/jorgeqscholz/events{/privacy}","received_events_url":"https://api.github.com/users/jorgeqscholz/received_events","type":"User","site_admin":false},"created_at":"2020-09-02T08:24:31Z","updated_at":"2020-09-02T08:24:31Z","author_association":"NONE","body":"Same error.","reactions":{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/685439618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jorgeqscholz","id":10179550,"node_id":"MDQ6VXNlcjEwMTc5NTUw","avatar_url":"https://avatars.githubusercontent.com/u/10179550?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgeqscholz","html_url":"https://github.com/jorgeqscholz","followers_url":"https://api.github.com/users/jorgeqscholz/followers","following_url":"https://api.github.com/users/jorgeqscholz/following{/other_user}","gists_url":"https://api.github.com/users/jorgeqscholz/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgeqscholz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgeqscholz/subscriptions","organizations_url":"https://api.github.com/users/jorgeqscholz/orgs","repos_url":"https://api.github.com/users/jorgeqscholz/repos","events_url":"https://api.github.com/users/jorgeqscholz/events{/privacy}","received_events_url":"https://api.github.com/users/jorgeqscholz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/687291304","html_url":"https://github.com/Hironsan/asari/issues/9#issuecomment-687291304","issue_url":"https://api.github.com/repos/Hironsan/asari/issues/9","id":687291304,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzI5MTMwNA==","user":{"login":"takky0330","id":9403106,"node_id":"MDQ6VXNlcjk0MDMxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/9403106?v=4","gravatar_id":"","url":"https://api.github.com/users/takky0330","html_url":"https://github.com/takky0330","followers_url":"https://api.github.com/users/takky0330/followers","following_url":"https://api.github.com/users/takky0330/following{/other_user}","gists_url":"https://api.github.com/users/takky0330/gists{/gist_id}","starred_url":"https://api.github.com/users/takky0330/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/takky0330/subscriptions","organizations_url":"https://api.github.com/users/takky0330/orgs","repos_url":"https://api.github.com/users/takky0330/repos","events_url":"https://api.github.com/users/takky0330/events{/privacy}","received_events_url":"https://api.github.com/users/takky0330/received_events","type":"User","site_admin":false},"created_at":"2020-09-04T17:44:48Z","updated_at":"2020-09-04T17:44:48Z","author_association":"NONE","body":"私も同じ現象にぶち当たっております。\r\npython3.6 で実行した時は、問題なく処理できていました。この時にインストールされたのは ==0.0.3 でした。\r\n\r\n今回、python を 3.7 で実行した場合（ ==0.0.4 ： モデルが ＂.joblib＂）、ここでの報告と同様のエラーとなります。\r\nそして、python を 3.7 でも、==0.0.3 （： モデルが ＂.pkl＂）にダウングレードしたら改善するかと思い、\r\nダウングレードしてみましたが、状況はまるで変化がありませんでした。\r\n\r\nもしかすると、python3.7 以降は対応されていないのでしょうか？\r\n（python3.6 + ==0.0.4 がどうなるかは、確認しておりません…）\r\n\r\n非常に良いライブラリと思いますので、是非解決してくださるよう、お願いいたします！","reactions":{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/687291304/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"takky0330","id":9403106,"node_id":"MDQ6VXNlcjk0MDMxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/9403106?v=4","gravatar_id":"","url":"https://api.github.com/users/takky0330","html_url":"https://github.com/takky0330","followers_url":"https://api.github.com/users/takky0330/followers","following_url":"https://api.github.com/users/takky0330/following{/other_user}","gists_url":"https://api.github.com/users/takky0330/gists{/gist_id}","starred_url":"https://api.github.com/users/takky0330/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/takky0330/subscriptions","organizations_url":"https://api.github.com/users/takky0330/orgs","repos_url":"https://api.github.com/users/takky0330/repos","events_url":"https://api.github.com/users/takky0330/events{/privacy}","received_events_url":"https://api.github.com/users/takky0330/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/695439625","html_url":"https://github.com/Hironsan/asari/issues/9#issuecomment-695439625","issue_url":"https://api.github.com/repos/Hironsan/asari/issues/9","id":695439625,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTQzOTYyNQ==","user":{"login":"hourglasshoro","id":46660741,"node_id":"MDQ6VXNlcjQ2NjYwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/46660741?v=4","gravatar_id":"","url":"https://api.github.com/users/hourglasshoro","html_url":"https://github.com/hourglasshoro","followers_url":"https://api.github.com/users/hourglasshoro/followers","following_url":"https://api.github.com/users/hourglasshoro/following{/other_user}","gists_url":"https://api.github.com/users/hourglasshoro/gists{/gist_id}","starred_url":"https://api.github.com/users/hourglasshoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hourglasshoro/subscriptions","organizations_url":"https://api.github.com/users/hourglasshoro/orgs","repos_url":"https://api.github.com/users/hourglasshoro/repos","events_url":"https://api.github.com/users/hourglasshoro/events{/privacy}","received_events_url":"https://api.github.com/users/hourglasshoro/received_events","type":"User","site_admin":false},"created_at":"2020-09-20T01:26:07Z","updated_at":"2020-09-20T02:42:38Z","author_association":"NONE","body":"とりあえず、https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/feature_extraction/text.py の242行目を\r\n\r\n```\r\nn_original_tokens = len(list(original_tokens))\r\n```\r\n\r\nのように書き換えると動きます。\r\n\r\npreprocess.joblibで読み込んでいるTfidfVectorizerがうまく動作していないように思います。","reactions":{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/695439625/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hourglasshoro","id":46660741,"node_id":"MDQ6VXNlcjQ2NjYwNzQx","avatar_url":"https://avatars.githubusercontent.com/u/46660741?v=4","gravatar_id":"","url":"https://api.github.com/users/hourglasshoro","html_url":"https://github.com/hourglasshoro","followers_url":"https://api.github.com/users/hourglasshoro/followers","following_url":"https://api.github.com/users/hourglasshoro/following{/other_user}","gists_url":"https://api.github.com/users/hourglasshoro/gists{/gist_id}","starred_url":"https://api.github.com/users/hourglasshoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hourglasshoro/subscriptions","organizations_url":"https://api.github.com/users/hourglasshoro/orgs","repos_url":"https://api.github.com/users/hourglasshoro/repos","events_url":"https://api.github.com/users/hourglasshoro/events{/privacy}","received_events_url":"https://api.github.com/users/hourglasshoro/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/695706645","html_url":"https://github.com/Hironsan/asari/issues/9#issuecomment-695706645","issue_url":"https://api.github.com/repos/Hironsan/asari/issues/9","id":695706645,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTcwNjY0NQ==","user":{"login":"hnishi","id":10335686,"node_id":"MDQ6VXNlcjEwMzM1Njg2","avatar_url":"https://avatars.githubusercontent.com/u/10335686?v=4","gravatar_id":"","url":"https://api.github.com/users/hnishi","html_url":"https://github.com/hnishi","followers_url":"https://api.github.com/users/hnishi/followers","following_url":"https://api.github.com/users/hnishi/following{/other_user}","gists_url":"https://api.github.com/users/hnishi/gists{/gist_id}","starred_url":"https://api.github.com/users/hnishi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hnishi/subscriptions","organizations_url":"https://api.github.com/users/hnishi/orgs","repos_url":"https://api.github.com/users/hnishi/repos","events_url":"https://api.github.com/users/hnishi/events{/privacy}","received_events_url":"https://api.github.com/users/hnishi/received_events","type":"User","site_admin":false},"created_at":"2020-09-20T04:33:13Z","updated_at":"2020-09-20T04:33:13Z","author_association":"NONE","body":"こちら、私の方でも調べてみました。\r\n\r\nとりあえず、Janome==0.3.7 をインストールすれば、エラーなく動きました。\r\n\r\n@Hironsan さんの preprocessor では Janome v0.3.7 を使用しており、Janome v0.4.0 以上を asari v0.0.4 と組み合わせて使うと、上記エラーが発生するようです。\r\nおそらく preprocessor に、 Janome v0.4.0 で廃止された tokenize() の stream オプションを使用しているためだと考えられます。\r\n\r\n> v0.4.0 から，ストリーミングモードのみサポートしており， stream オプションは廃止されました。\r\n\r\n> tokenize() メソッドに stream = True オプションを与えると，ストリーミングモードで動作します。ストリーミングモードでは，部分的な解析が完了する都度，解析結果を返します。戻り値はリストではなく generator になります。\r\n\r\nhttps://mocobeta.github.io/janome/#v0-3-1-v0-3-10","reactions":{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/695706645/reactions","total_count":6,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hnishi","id":10335686,"node_id":"MDQ6VXNlcjEwMzM1Njg2","avatar_url":"https://avatars.githubusercontent.com/u/10335686?v=4","gravatar_id":"","url":"https://api.github.com/users/hnishi","html_url":"https://github.com/hnishi","followers_url":"https://api.github.com/users/hnishi/followers","following_url":"https://api.github.com/users/hnishi/following{/other_user}","gists_url":"https://api.github.com/users/hnishi/gists{/gist_id}","starred_url":"https://api.github.com/users/hnishi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hnishi/subscriptions","organizations_url":"https://api.github.com/users/hnishi/orgs","repos_url":"https://api.github.com/users/hnishi/repos","events_url":"https://api.github.com/users/hnishi/events{/privacy}","received_events_url":"https://api.github.com/users/hnishi/received_events","type":"User","site_admin":false}},{"id":3785722698,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzc4NTcyMjY5OA==","url":"https://api.github.com/repos/Hironsan/asari/issues/events/3785722698","actor":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-20T04:33:13Z","performed_via_github_app":null},{"id":3785722700,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM3ODU3MjI3MDA=","url":"https://api.github.com/repos/Hironsan/asari/issues/events/3785722700","actor":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-20T04:33:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/748411602","html_url":"https://github.com/Hironsan/asari/issues/9#issuecomment-748411602","issue_url":"https://api.github.com/repos/Hironsan/asari/issues/9","id":748411602,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODQxMTYwMg==","user":{"login":"mooz","id":40159,"node_id":"MDQ6VXNlcjQwMTU5","avatar_url":"https://avatars.githubusercontent.com/u/40159?v=4","gravatar_id":"","url":"https://api.github.com/users/mooz","html_url":"https://github.com/mooz","followers_url":"https://api.github.com/users/mooz/followers","following_url":"https://api.github.com/users/mooz/following{/other_user}","gists_url":"https://api.github.com/users/mooz/gists{/gist_id}","starred_url":"https://api.github.com/users/mooz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mooz/subscriptions","organizations_url":"https://api.github.com/users/mooz/orgs","repos_url":"https://api.github.com/users/mooz/repos","events_url":"https://api.github.com/users/mooz/events{/privacy}","received_events_url":"https://api.github.com/users/mooz/received_events","type":"User","site_admin":false},"created_at":"2020-12-19T03:19:38Z","updated_at":"2020-12-19T03:19:38Z","author_association":"CONTRIBUTOR","body":"Made a patch and pull request at #10. You can try\r\n```\r\n$ pip install git+https://github.com/mooz/asari.git@fix-tfidf-vectorizer-incompat\r\n```\r\nuntil the merge.","reactions":{"url":"https://api.github.com/repos/Hironsan/asari/issues/comments/748411602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mooz","id":40159,"node_id":"MDQ6VXNlcjQwMTU5","avatar_url":"https://avatars.githubusercontent.com/u/40159?v=4","gravatar_id":"","url":"https://api.github.com/users/mooz","html_url":"https://github.com/mooz","followers_url":"https://api.github.com/users/mooz/followers","following_url":"https://api.github.com/users/mooz/following{/other_user}","gists_url":"https://api.github.com/users/mooz/gists{/gist_id}","starred_url":"https://api.github.com/users/mooz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mooz/subscriptions","organizations_url":"https://api.github.com/users/mooz/orgs","repos_url":"https://api.github.com/users/mooz/repos","events_url":"https://api.github.com/users/mooz/events{/privacy}","received_events_url":"https://api.github.com/users/mooz/received_events","type":"User","site_admin":false}},{"id":4132095562,"node_id":"MDExOkNsb3NlZEV2ZW50NDEzMjA5NTU2Mg==","url":"https://api.github.com/repos/Hironsan/asari/issues/events/4132095562","actor":{"login":"Hironsan","id":6737785,"node_id":"MDQ6VXNlcjY3Mzc3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6737785?v=4","gravatar_id":"","url":"https://api.github.com/users/Hironsan","html_url":"https://github.com/Hironsan","followers_url":"https://api.github.com/users/Hironsan/followers","following_url":"https://api.github.com/users/Hironsan/following{/other_user}","gists_url":"https://api.github.com/users/Hironsan/gists{/gist_id}","starred_url":"https://api.github.com/users/Hironsan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hironsan/subscriptions","organizations_url":"https://api.github.com/users/Hironsan/orgs","repos_url":"https://api.github.com/users/Hironsan/repos","events_url":"https://api.github.com/users/Hironsan/events{/privacy}","received_events_url":"https://api.github.com/users/Hironsan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":"face58c29e9e69e3af67f8c40e9530527745a62b","commit_url":"https://api.github.com/repos/Hironsan/asari/commits/face58c29e9e69e3af67f8c40e9530527745a62b","created_at":"2020-12-19T03:31:36Z","state_reason":null,"performed_via_github_app":null}]