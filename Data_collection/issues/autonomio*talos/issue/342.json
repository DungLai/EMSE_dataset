{"url":"https://api.github.com/repos/autonomio/talos/issues/342","repository_url":"https://api.github.com/repos/autonomio/talos","labels_url":"https://api.github.com/repos/autonomio/talos/issues/342/labels{/name}","comments_url":"https://api.github.com/repos/autonomio/talos/issues/342/comments","events_url":"https://api.github.com/repos/autonomio/talos/issues/342/events","html_url":"https://github.com/autonomio/talos/issues/342","id":465157383,"node_id":"MDU6SXNzdWU0NjUxNTczODM=","number":342,"title":"Memory leak problem (tensorflow backend)","user":{"login":"Adnane017","id":31845955,"node_id":"MDQ6VXNlcjMxODQ1OTU1","avatar_url":"https://avatars.githubusercontent.com/u/31845955?v=4","gravatar_id":"","url":"https://api.github.com/users/Adnane017","html_url":"https://github.com/Adnane017","followers_url":"https://api.github.com/users/Adnane017/followers","following_url":"https://api.github.com/users/Adnane017/following{/other_user}","gists_url":"https://api.github.com/users/Adnane017/gists{/gist_id}","starred_url":"https://api.github.com/users/Adnane017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Adnane017/subscriptions","organizations_url":"https://api.github.com/users/Adnane017/orgs","repos_url":"https://api.github.com/users/Adnane017/repos","events_url":"https://api.github.com/users/Adnane017/events{/privacy}","received_events_url":"https://api.github.com/users/Adnane017/received_events","type":"User","site_admin":false},"labels":[{"id":1040763409,"node_id":"MDU6TGFiZWwxMDQwNzYzNDA5","url":"https://api.github.com/repos/autonomio/talos/labels/user%20support","name":"user support","color":"59db8b","default":false,"description":"nothing is wrong with Talos"}],"state":"closed","locked":false,"assignee":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"assignees":[{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-07-08T09:41:27Z","updated_at":"2019-07-08T18:04:17Z","closed_at":"2019-07-08T18:04:17Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nThis is related to issues #206 and #238. I am doing a grid search using the scan() function to find the best parameters for both feedforward and LSTM architectures. For both, the scan function stops writing results in the csv file after 15-20 iterations. This happens for both CPU and GPU versions of tensorflow. The recommendation from #206 was to add 'del keras_model' and 'gc.collect()'. My question is where do you put these lines? Is it at the start of the function where you build the model and which is called by the scan() function? But then how can you get the last keras model that was built to be able to delete it? \r\n\r\nTo give you some context, I am using a dataset with about 500k rows. The dimension of the input for the FNN is 10^4 (retaining the 10^4 most frequent word), while the output has dimension 7. For LSTM the input has dimension 20*10^4 (I am using the first 20 words in each sentence and I am not using embedding). I am also employing generators to call the batch of data only. \r\n\r\nIf you need more information, please let me know. Thanks!\r\n\r\n  ","closed_by":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/autonomio/talos/issues/342/timeline","performed_via_github_app":null,"state_reason":"completed"}