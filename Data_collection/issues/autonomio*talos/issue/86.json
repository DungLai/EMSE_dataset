{"url":"https://api.github.com/repos/autonomio/talos/issues/86","repository_url":"https://api.github.com/repos/autonomio/talos","labels_url":"https://api.github.com/repos/autonomio/talos/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/autonomio/talos/issues/86/comments","events_url":"https://api.github.com/repos/autonomio/talos/issues/86/events","html_url":"https://github.com/autonomio/talos/issues/86","id":356380473,"node_id":"MDU6SXNzdWUzNTYzODA0NzM=","number":86,"title":"New error with functional model support with update","user":{"login":"Jakedismo","id":32139094,"node_id":"MDQ6VXNlcjMyMTM5MDk0","avatar_url":"https://avatars.githubusercontent.com/u/32139094?v=4","gravatar_id":"","url":"https://api.github.com/users/Jakedismo","html_url":"https://github.com/Jakedismo","followers_url":"https://api.github.com/users/Jakedismo/followers","following_url":"https://api.github.com/users/Jakedismo/following{/other_user}","gists_url":"https://api.github.com/users/Jakedismo/gists{/gist_id}","starred_url":"https://api.github.com/users/Jakedismo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jakedismo/subscriptions","organizations_url":"https://api.github.com/users/Jakedismo/orgs","repos_url":"https://api.github.com/users/Jakedismo/repos","events_url":"https://api.github.com/users/Jakedismo/events{/privacy}","received_events_url":"https://api.github.com/users/Jakedismo/received_events","type":"User","site_admin":false},"labels":[{"id":994489876,"node_id":"MDU6TGFiZWw5OTQ0ODk4NzY=","url":"https://api.github.com/repos/autonomio/talos/labels/investigation","name":"investigation","color":"d3d3d3","default":false,"description":"gathering information"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-09-03T07:00:41Z","updated_at":"2018-09-05T08:01:11Z","closed_at":"2018-09-05T08:01:10Z","author_association":"NONE","active_lock_reason":null,"body":" So it just updated the package and got an error, this didn't happen with talos 0.2 so just a heads up\r\n\r\n```\r\n  0%|                                                                                          | 0/480 [00:00<?, ?it/s]C:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\ipykernel_launcher.py:5: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(150, kernel_regularizer=<keras.reg..., bias_regularizer=<keras.reg...)`\r\n  \"\"\"\r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\ipykernel_launcher.py:6: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(100, kernel_regularizer=<keras.reg..., bias_regularizer=<keras.reg...)`\r\n  \r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\ipykernel_launcher.py:7: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(50, kernel_regularizer=<keras.reg..., bias_regularizer=<keras.reg...)`\r\n  import sys\r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\ipykernel_launcher.py:10: UserWarning: Update your `Embedding` call to the Keras 2 API: `Embedding(input_dim=1682, output_dim=50, input_length=1, embeddings_regularizer=<keras.reg...)`\r\n  # Remove the CWD from sys.path while we load stuff.\r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\ipykernel_launcher.py:17: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=[<tf.Tenso..., outputs=Tensor(\"de...)`\r\n\r\nEpoch 1/10\r\n1682/1682 [==============================] - ETA: 32s - loss: 533.6068 - rmse: 0.5008 - mean_absolute_error: 0.5002 - mean_squared_error: 0.2508 - top_k_categorical_accuracy: 0.0000e+0 - ETA: 2s - loss: 462.0961 - rmse: 0.4991 - mean_absolute_error: 0.4985 - mean_squared_error: 0.2491 - top_k_categorical_accuracy: 0.0257    - ETA: 0s - loss: 447.5030 - rmse: 0.4958 - mean_absolute_error: 0.4933 - mean_squared_error: 0.2459 - top_k_categorical_accuracy: 0.04 - 3s 2ms/step - loss: 448.2066 - rmse: 0.4956 - mean_absolute_error: 0.4931 - mean_squared_error: 0.2457 - top_k_categorical_accuracy: 0.0446\r\nEpoch 2/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 420.6283 - rmse: 0.4835 - mean_absolute_error: 0.4686 - mean_squared_error: 0.2340 - top_k_categorical_accuracy: 0.13 - ETA: 0s - loss: 435.6371 - rmse: 0.4807 - mean_absolute_error: 0.4573 - mean_squared_error: 0.2315 - top_k_categorical_accuracy: 0.13 - ETA: 0s - loss: 423.9495 - rmse: 0.4778 - mean_absolute_error: 0.4500 - mean_squared_error: 0.2289 - top_k_categorical_accuracy: 0.10 - 0s 86us/step - loss: 420.6379 - rmse: 0.4774 - mean_absolute_error: 0.4490 - mean_squared_error: 0.2285 - top_k_categorical_accuracy: 0.0969\r\nEpoch 3/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 426.6587 - rmse: 0.4709 - mean_absolute_error: 0.4307 - mean_squared_error: 0.2225 - top_k_categorical_accuracy: 0.06 - ETA: 0s - loss: 402.5648 - rmse: 0.4704 - mean_absolute_error: 0.4266 - mean_squared_error: 0.2219 - top_k_categorical_accuracy: 0.10 - ETA: 0s - loss: 402.1367 - rmse: 0.4684 - mean_absolute_error: 0.4188 - mean_squared_error: 0.2200 - top_k_categorical_accuracy: 0.13 - 0s 83us/step - loss: 403.7910 - rmse: 0.4676 - mean_absolute_error: 0.4168 - mean_squared_error: 0.2194 - top_k_categorical_accuracy: 0.1326\r\nEpoch 4/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 411.1533 - rmse: 0.4625 - mean_absolute_error: 0.4040 - mean_squared_error: 0.2147 - top_k_categorical_accuracy: 0.13 - ETA: 0s - loss: 388.7712 - rmse: 0.4599 - mean_absolute_error: 0.3950 - mean_squared_error: 0.2123 - top_k_categorical_accuracy: 0.14 - ETA: 0s - loss: 395.6255 - rmse: 0.4572 - mean_absolute_error: 0.3912 - mean_squared_error: 0.2098 - top_k_categorical_accuracy: 0.14 - 0s 83us/step - loss: 394.7993 - rmse: 0.4571 - mean_absolute_error: 0.3912 - mean_squared_error: 0.2097 - top_k_categorical_accuracy: 0.1480\r\nEpoch 5/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 388.0175 - rmse: 0.4475 - mean_absolute_error: 0.3798 - mean_squared_error: 0.2012 - top_k_categorical_accuracy: 0.11 - ETA: 0s - loss: 391.3927 - rmse: 0.4449 - mean_absolute_error: 0.3726 - mean_squared_error: 0.1989 - top_k_categorical_accuracy: 0.16 - ETA: 0s - loss: 389.6300 - rmse: 0.4413 - mean_absolute_error: 0.3649 - mean_squared_error: 0.1956 - top_k_categorical_accuracy: 0.16 - 0s 85us/step - loss: 388.0759 - rmse: 0.4412 - mean_absolute_error: 0.3649 - mean_squared_error: 0.1956 - top_k_categorical_accuracy: 0.1623\r\nEpoch 6/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 386.7392 - rmse: 0.4286 - mean_absolute_error: 0.3421 - mean_squared_error: 0.1846 - top_k_categorical_accuracy: 0.14 - ETA: 0s - loss: 385.7391 - rmse: 0.4255 - mean_absolute_error: 0.3376 - mean_squared_error: 0.1819 - top_k_categorical_accuracy: 0.16 - ETA: 0s - loss: 377.6822 - rmse: 0.4222 - mean_absolute_error: 0.3346 - mean_squared_error: 0.1791 - top_k_categorical_accuracy: 0.17 - 0s 83us/step - loss: 383.0783 - rmse: 0.4213 - mean_absolute_error: 0.3333 - mean_squared_error: 0.1783 - top_k_categorical_accuracy: 0.1736\r\nEpoch 7/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 484.9147 - rmse: 0.4066 - mean_absolute_error: 0.3100 - mean_squared_error: 0.1661 - top_k_categorical_accuracy: 0.17 - ETA: 0s - loss: 385.8222 - rmse: 0.4045 - mean_absolute_error: 0.3099 - mean_squared_error: 0.1643 - top_k_categorical_accuracy: 0.18 - ETA: 0s - loss: 380.1024 - rmse: 0.4005 - mean_absolute_error: 0.3044 - mean_squared_error: 0.1611 - top_k_categorical_accuracy: 0.17 - 0s 80us/step - loss: 379.4916 - rmse: 0.4004 - mean_absolute_error: 0.3042 - mean_squared_error: 0.1610 - top_k_categorical_accuracy: 0.1784\r\nEpoch 8/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 473.9874 - rmse: 0.3872 - mean_absolute_error: 0.2896 - mean_squared_error: 0.1506 - top_k_categorical_accuracy: 0.18 - ETA: 0s - loss: 388.2065 - rmse: 0.3820 - mean_absolute_error: 0.2778 - mean_squared_error: 0.1465 - top_k_categorical_accuracy: 0.16 - ETA: 0s - loss: 376.5891 - rmse: 0.3775 - mean_absolute_error: 0.2747 - mean_squared_error: 0.1430 - top_k_categorical_accuracy: 0.15 - 0s 79us/step - loss: 376.4516 - rmse: 0.3766 - mean_absolute_error: 0.2737 - mean_squared_error: 0.1423 - top_k_categorical_accuracy: 0.1546\r\nEpoch 9/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 379.7334 - rmse: 0.3633 - mean_absolute_error: 0.2554 - mean_squared_error: 0.1325 - top_k_categorical_accuracy: 0.17 - ETA: 0s - loss: 382.4771 - rmse: 0.3591 - mean_absolute_error: 0.2534 - mean_squared_error: 0.1294 - top_k_categorical_accuracy: 0.15 - ETA: 0s - loss: 374.8909 - rmse: 0.3547 - mean_absolute_error: 0.2475 - mean_squared_error: 0.1262 - top_k_categorical_accuracy: 0.15 - 0s 81us/step - loss: 374.0301 - rmse: 0.3546 - mean_absolute_error: 0.2476 - mean_squared_error: 0.1261 - top_k_categorical_accuracy: 0.1552\r\nEpoch 10/10\r\n1682/1682 [==============================] - ETA: 0s - loss: 377.3037 - rmse: 0.3441 - mean_absolute_error: 0.2400 - mean_squared_error: 0.1188 - top_k_categorical_accuracy: 0.16 - ETA: 0s - loss: 370.1280 - rmse: 0.3386 - mean_absolute_error: 0.2303 - mean_squared_error: 0.1151 - top_k_categorical_accuracy: 0.14 - ETA: 0s - loss: 374.0464 - rmse: 0.3361 - mean_absolute_error: 0.2285 - mean_squared_error: 0.1135 - top_k_categorical_accuracy: 0.15 - 0s 82us/step - loss: 372.3904 - rmse: 0.3352 - mean_absolute_error: 0.2281 - mean_squared_error: 0.1129 - top_k_categorical_accuracy: 0.1564\r\n\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-6-ec122bbd6a4b> in <module>()\r\n      8             dataset_name='movie_lens_full_data',\r\n      9             experiment_no='1',\r\n---> 10             experimental_functional_support=True)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\talos\\scan\\Scan.py in __init__(self, x, y, params, dataset_name, experiment_no, model, x_val, y_val, val_split, shuffle, search_method, reduction_method, reduction_interval, reduction_window, grid_downsample, reduction_threshold, reduction_metric, reduce_loss, round_limit, talos_log_name, debug, seed, clear_tf_session, disable_progress_bar, experimental_functional_support, last_epoch_value)\r\n    145         # input parameters section ends\r\n    146 \r\n--> 147         self._null = self.runtime()\r\n    148 \r\n    149     def runtime(self):\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\talos\\scan\\Scan.py in runtime(self)\r\n    150 \r\n    151         self = scan_prepare(self)\r\n--> 152         self = scan_run(self)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\talos\\scan\\scan_run.py in scan_run(self)\r\n     27                      disable=self.disable_progress_bar)\r\n     28     while len(self.param_log) != 0:\r\n---> 29         self = rounds_run(self)\r\n     30         self.pbar.update(1)\r\n     31     self.pbar.close()\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\talos\\scan\\scan_run.py in rounds_run(self)\r\n     51 \r\n     52     # create log and other stats\r\n---> 53     self.epoch_entropy.append(epoch_entropy((_hr_out)))\r\n     54 \r\n     55     if self.round_counter == 0:\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\DataScienceEnv\\lib\\site-packages\\talos\\metrics\\entropy.py in epoch_entropy(history)\r\n     34 \r\n     35         elif 'loss' in history.history.keys():\r\n---> 36             loss_entropy = entropy(history.history['val_loss'],\r\n     37                                    history.history['loss'])\r\n     38             acc_entropy = nan\r\n\r\nKeyError: 'val_loss'\r\n\r\n\r\n```","closed_by":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/autonomio/talos/issues/86/timeline","performed_via_github_app":null,"state_reason":"completed"}