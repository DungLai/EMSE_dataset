{"url":"https://api.github.com/repos/autonomio/talos/issues/115","repository_url":"https://api.github.com/repos/autonomio/talos","labels_url":"https://api.github.com/repos/autonomio/talos/issues/115/labels{/name}","comments_url":"https://api.github.com/repos/autonomio/talos/issues/115/comments","events_url":"https://api.github.com/repos/autonomio/talos/issues/115/events","html_url":"https://github.com/autonomio/talos/issues/115","id":371176563,"node_id":"MDU6SXNzdWUzNzExNzY1NjM=","number":115,"title":"Scan object has no _y_range attributes ","user":{"login":"AAbusnina","id":14133090,"node_id":"MDQ6VXNlcjE0MTMzMDkw","avatar_url":"https://avatars.githubusercontent.com/u/14133090?v=4","gravatar_id":"","url":"https://api.github.com/users/AAbusnina","html_url":"https://github.com/AAbusnina","followers_url":"https://api.github.com/users/AAbusnina/followers","following_url":"https://api.github.com/users/AAbusnina/following{/other_user}","gists_url":"https://api.github.com/users/AAbusnina/gists{/gist_id}","starred_url":"https://api.github.com/users/AAbusnina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AAbusnina/subscriptions","organizations_url":"https://api.github.com/users/AAbusnina/orgs","repos_url":"https://api.github.com/users/AAbusnina/repos","events_url":"https://api.github.com/users/AAbusnina/events{/privacy}","received_events_url":"https://api.github.com/users/AAbusnina/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-10-17T17:00:54Z","updated_at":"2018-10-24T14:02:25Z","closed_at":"2018-10-24T14:02:24Z","author_association":"NONE","active_lock_reason":null,"body":"I am trying to use talos to optimise eras model for regression problem. \r\nMy also version is '0.4.3'\r\nmy x input shape is (264,4)\r\nmy y input shape is (264,1)\r\n\r\nHere is y eras model:\r\n\r\n```\r\ndef ann_product_a(x_train, y_train, x_val, y_val, params):  \r\n    # create model\r\n    model = Sequential()\r\n    model.add(Dense(params[\"first_neuron\"], input_dim=x_train.shape[1], kernel_initializer='normal', activation=\"relu\"))\r\n    model.add(Dropout(params['dropout'], input_shape=(x_train.shape[1],)))\r\n    model.add(Dense(1, kernel_initializer='normal'))\r\n    # Compile model\r\n    model.compile(optimizer=params['optimizer'],  metrics=['acc'],\r\n                  loss=params['losses'])\r\n    \r\n    out = model.fit(x_train, y_train,\r\n                    batch_size=params['batch_size'],\r\n                    epochs=params['epochs'],\r\n                    verbose=1,\r\n                    validation_split=0.33,\r\n                    validation_data=[x_val, y_val])\r\n    \r\n    return out, model \r\n\r\n```\r\n Here is my param dict:\r\n\r\n```\r\np = {'first_neuron': [16, 32,60],\r\n     'hidden_layers': [2, 3],\r\n     'batch_size': [2, 3 ],\r\n     'epochs': [10,20],\r\n     'dropout': (0, 0.40,3),\r\n     'optimizer': [\"adam\"],#['adam', 'nadam'],\r\n     'losses': [mean_squared_error] #[mean_squared_error, mean_absolute_error],#[relu, elu],}\r\n    }\r\n```\r\nand here is the error I am getting:\r\n\r\n```\r\n\r\n\r\n0%|          | 0/720 [00:00<?, ?it/s]\r\nTrain on 158 samples, validate on 68 samples\r\nEpoch 1/10\r\n158/158 [==============================] - 0s 2ms/step - loss: 0.0154 - acc: 0.1646 - val_loss: 0.0053 - val_acc: 0.1765\r\nEpoch 2/10\r\n158/158 [==============================] - 0s 296us/step - loss: 0.0038 - acc: 0.1646 - val_loss: 0.0019 - val_acc: 0.1765\r\nEpoch 3/10\r\n158/158 [==============================] - 0s 302us/step - loss: 0.0022 - acc: 0.1646 - val_loss: 0.0015 - val_acc: 0.1765\r\nEpoch 4/10\r\n158/158 [==============================] - 0s 314us/step - loss: 0.0019 - acc: 0.1646 - val_loss: 0.0012 - val_acc: 0.1765\r\nEpoch 5/10\r\n158/158 [==============================] - 0s 301us/step - loss: 0.0016 - acc: 0.1646 - val_loss: 0.0011 - val_acc: 0.1765\r\nEpoch 6/10\r\n158/158 [==============================] - 0s 333us/step - loss: 0.0016 - acc: 0.1646 - val_loss: 0.0011 - val_acc: 0.1765\r\nEpoch 7/10\r\n158/158 [==============================] - 0s 299us/step - loss: 0.0015 - acc: 0.1646 - val_loss: 0.0012 - val_acc: 0.1765\r\nEpoch 8/10\r\n158/158 [==============================] - 0s 285us/step - loss: 0.0013 - acc: 0.1646 - val_loss: 0.0011 - val_acc: 0.1765\r\nEpoch 9/10\r\n158/158 [==============================] - 0s 288us/step - loss: 0.0015 - acc: 0.1646 - val_loss: 0.0010 - val_acc: 0.1765\r\nEpoch 10/10\r\n158/158 [==============================] - 0s 294us/step - loss: 0.0012 - acc: 0.1646 - val_loss: 9.9037e-04 - val_acc: 0.1765\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n~/anaconda3/lib/python3.6/site-packages/talos/utils/logging.py in dict_tostr(self, d)\r\n     38     try:\r\n---> 39         s += ',' + str(round(self._val_score, 3))\r\n     40     except TypeError:\r\n\r\nTypeError: type str doesn't define __round__ method\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-35-f80aa0c8ec8e> in <module>()\r\n      3             dataset_name='ann_test',\r\n      4             experiment_no='1',\r\n----> 5             grid_downsample=1)\r\n\r\n~/anaconda3/lib/python3.6/site-packages/talos/scan/Scan.py in __init__(self, x, y, params, model, dataset_name, experiment_no, x_val, y_val, val_split, shuffle, round_limit, grid_downsample, random_method, seed, search_method, reduction_method, reduction_interval, reduction_window, reduction_threshold, reduction_metric, reduce_loss, last_epoch_value, talos_log_name, clear_tf_session, functional_model, disable_progress_bar, print_params, debug)\r\n    164         # input parameters section ends\r\n    165 \r\n--> 166         self._null = self.runtime()\r\n    167 \r\n    168     def runtime(self):\r\n\r\n~/anaconda3/lib/python3.6/site-packages/talos/scan/Scan.py in runtime(self)\r\n    169 \r\n    170         self = scan_prepare(self)\r\n--> 171         self = scan_run(self)\r\n\r\n~/anaconda3/lib/python3.6/site-packages/talos/scan/scan_run.py in scan_run(self)\r\n     19                      disable=self.disable_progress_bar)\r\n     20     while len(self.param_log) != 0:\r\n---> 21         self = scan_round(self)\r\n     22         self.pbar.update(1)\r\n     23     self.pbar.close()\r\n\r\n~/anaconda3/lib/python3.6/site-packages/talos/scan/scan_round.py in scan_round(self)\r\n     46     _hr_out = run_round_results(self, _hr_out)\r\n     47     self._val_score = get_score(self)\r\n---> 48     write_log(self)\r\n     49     self.result.append(_hr_out)\r\n     50     save_result(self)\r\n\r\n~/anaconda3/lib/python3.6/site-packages/talos/utils/logging.py in write_log(self)\r\n     55 \r\n     56     _wt_out = clean_dict(self)\r\n---> 57     _wt_out = dict_tostr(self, _wt_out)\r\n     58     self.logfile.write(_wt_out + '\\n')\r\n     59 \r\n\r\n~/anaconda3/lib/python3.6/site-packages/talos/utils/logging.py in dict_tostr(self, d)\r\n     42         s += ',' + str(self._round_epochs)\r\n     43         s += ',' + self.shape\r\n---> 44         s += ',' + str(self._y_range)\r\n     45         s += ',' + self._y_format\r\n     46         s += ',' + str(self.val_split)\r\n\r\nAttributeError: 'Scan' object has no attribute '_y_range'\r\n```\r\n\r\nWhy scan object has no attribute '_y_range'? The tutorial notebook runs smoothly on my machine though. ","closed_by":{"login":"AAbusnina","id":14133090,"node_id":"MDQ6VXNlcjE0MTMzMDkw","avatar_url":"https://avatars.githubusercontent.com/u/14133090?v=4","gravatar_id":"","url":"https://api.github.com/users/AAbusnina","html_url":"https://github.com/AAbusnina","followers_url":"https://api.github.com/users/AAbusnina/followers","following_url":"https://api.github.com/users/AAbusnina/following{/other_user}","gists_url":"https://api.github.com/users/AAbusnina/gists{/gist_id}","starred_url":"https://api.github.com/users/AAbusnina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AAbusnina/subscriptions","organizations_url":"https://api.github.com/users/AAbusnina/orgs","repos_url":"https://api.github.com/users/AAbusnina/repos","events_url":"https://api.github.com/users/AAbusnina/events{/privacy}","received_events_url":"https://api.github.com/users/AAbusnina/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/autonomio/talos/issues/115/timeline","performed_via_github_app":null,"state_reason":"completed"}