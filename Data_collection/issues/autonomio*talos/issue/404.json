{"url":"https://api.github.com/repos/autonomio/talos/issues/404","repository_url":"https://api.github.com/repos/autonomio/talos","labels_url":"https://api.github.com/repos/autonomio/talos/issues/404/labels{/name}","comments_url":"https://api.github.com/repos/autonomio/talos/issues/404/comments","events_url":"https://api.github.com/repos/autonomio/talos/issues/404/events","html_url":"https://github.com/autonomio/talos/issues/404","id":493931160,"node_id":"MDU6SXNzdWU0OTM5MzExNjA=","number":404,"title":"AttributeError: module 'tensorflow._api.v1.summary' has no attribute 'create_file_writer'","user":{"login":"mtwenzel","id":44993360,"node_id":"MDQ6VXNlcjQ0OTkzMzYw","avatar_url":"https://avatars.githubusercontent.com/u/44993360?v=4","gravatar_id":"","url":"https://api.github.com/users/mtwenzel","html_url":"https://github.com/mtwenzel","followers_url":"https://api.github.com/users/mtwenzel/followers","following_url":"https://api.github.com/users/mtwenzel/following{/other_user}","gists_url":"https://api.github.com/users/mtwenzel/gists{/gist_id}","starred_url":"https://api.github.com/users/mtwenzel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtwenzel/subscriptions","organizations_url":"https://api.github.com/users/mtwenzel/orgs","repos_url":"https://api.github.com/users/mtwenzel/repos","events_url":"https://api.github.com/users/mtwenzel/events{/privacy}","received_events_url":"https://api.github.com/users/mtwenzel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-09-16T09:12:30Z","updated_at":"2020-11-21T06:49:58Z","closed_at":"2019-09-16T11:37:50Z","author_association":"NONE","active_lock_reason":null,"body":"Thank you very much for reporting a bug on Talos. Before you do, please go through the below checklist carefully and make sure to prepare your bug report in a way that facilitates effective handling of the matter.\r\n\r\n#### 1) Confirm the below\r\n\r\n- [x] My Python version is 3.5 or higher\r\n- [x] I have searched through the issues [Issues](https://github.com/autonomio/talos/issues) for a duplicate\r\n- [x] I've tested that my Keras model works as a stand-alone\r\n\r\n#### 2) Include the output of:\r\n\r\n`talos.__version__`\r\n0.6.3\r\n\r\n#### 3) Explain clearly what you expect to happen\r\n\r\nTune one hyperparameter.\r\n\r\n#### 4) Explain what actually happened\r\n\r\nError: \r\n```\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-21-ea93cf9be25f> in <module>()\r\n----> 1 h = talos.Scan(train_images.astype(np.float32), train_labels, p, demo_model, 'patchsize')\r\n\r\n7 frames\r\n/usr/local/lib/python3.6/dist-packages/talos/scan/Scan.py in __init__(self, x, y, params, model, experiment_name, x_val, y_val, val_split, random_method, seed, performance_target, fraction_limit, round_limit, time_limit, boolean_limit, reduction_method, reduction_interval, reduction_window, reduction_threshold, reduction_metric, minimize_loss, disable_progress_bar, print_params, clear_session, save_weights)\r\n    194         # input parameters section ends\r\n    195 \r\n--> 196         self._runtime()\r\n    197 \r\n    198     def _runtime(self):\r\n\r\n/usr/local/lib/python3.6/dist-packages/talos/scan/Scan.py in _runtime(self)\r\n    199 \r\n    200         from .scan_run import scan_run\r\n--> 201         self = scan_run(self)\r\n\r\n/usr/local/lib/python3.6/dist-packages/talos/scan/scan_run.py in scan_run(self)\r\n     24         # otherwise proceed with next permutation\r\n     25         from .scan_round import scan_round\r\n---> 26         self = scan_round(self)\r\n     27         self.pbar.update(1)\r\n     28 \r\n\r\n/usr/local/lib/python3.6/dist-packages/talos/scan/scan_round.py in scan_round(self)\r\n     17     # fit the model\r\n     18     from ..model.ingest_model import ingest_model\r\n---> 19     self.model_history, self.round_model = ingest_model(self)\r\n     20     self.round_history.append(self.model_history.history)\r\n     21 \r\n\r\n/usr/local/lib/python3.6/dist-packages/talos/model/ingest_model.py in ingest_model(self)\r\n      8                       self.x_val,\r\n      9                       self.y_val,\r\n---> 10                       self.round_params)\r\n\r\n<ipython-input-19-b08f1577d5b4> in demo_model(x_train, y_train, x_val, y_val, params)\r\n     74   # class_index value should match the validation_data selected above\r\n     75   callbacks = [\r\n---> 76       tf_explain.callbacks.GradCAMCallback(validation_class_three, 'target_layer', class_index=3, output_dir='logs/GradCam/class3expl3'),\r\n     77       tf_explain.callbacks.GradCAMCallback(validation_class_three, 'target_layer', class_index=9, output_dir='logs/GradCam/class3expl9'),\r\n     78       tf_explain.callbacks.GradCAMCallback(validation_class_nine, 'target_layer', class_index=3, output_dir='logs/GradCam/class9expl3'),\r\n\r\n/usr/local/lib/python3.6/dist-packages/tf_explain/callbacks/grad_cam.py in __init__(self, validation_data, layer_name, class_index, output_dir)\r\n     42         Path.mkdir(Path(self.output_dir), parents=True, exist_ok=True)\r\n     43 \r\n---> 44         self.file_writer = tf.summary.create_file_writer(str(self.output_dir))\r\n     45 \r\n     46     def on_epoch_end(self, epoch, logs=None):\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/util/deprecation_wrapper.py in __getattr__(self, name)\r\n    104     if name.startswith('_dw_'):\r\n    105       raise AttributeError('Accessing local variables before they are created.')\r\n--> 106     attr = getattr(self._dw_wrapped_module, name)\r\n    107     if (self._dw_warning_count < _PER_MODULE_WARNING_LIMIT and\r\n    108         name not in self._dw_deprecated_printed):\r\n\r\nAttributeError: module 'tensorflow._api.v1.summary' has no attribute 'create_file_writer'\r\n```\r\n\r\n#### 5) Provide a code-complete reference\r\n\r\nDon't think it will help. Error is supposedly related to version incompatibility, as all code runs fine without talos.\r\n","closed_by":{"login":"mtwenzel","id":44993360,"node_id":"MDQ6VXNlcjQ0OTkzMzYw","avatar_url":"https://avatars.githubusercontent.com/u/44993360?v=4","gravatar_id":"","url":"https://api.github.com/users/mtwenzel","html_url":"https://github.com/mtwenzel","followers_url":"https://api.github.com/users/mtwenzel/followers","following_url":"https://api.github.com/users/mtwenzel/following{/other_user}","gists_url":"https://api.github.com/users/mtwenzel/gists{/gist_id}","starred_url":"https://api.github.com/users/mtwenzel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtwenzel/subscriptions","organizations_url":"https://api.github.com/users/mtwenzel/orgs","repos_url":"https://api.github.com/users/mtwenzel/repos","events_url":"https://api.github.com/users/mtwenzel/events{/privacy}","received_events_url":"https://api.github.com/users/mtwenzel/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/autonomio/talos/issues/404/timeline","performed_via_github_app":null,"state_reason":"completed"}