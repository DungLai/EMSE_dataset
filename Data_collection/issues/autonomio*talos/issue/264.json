{"url":"https://api.github.com/repos/autonomio/talos/issues/264","repository_url":"https://api.github.com/repos/autonomio/talos","labels_url":"https://api.github.com/repos/autonomio/talos/issues/264/labels{/name}","comments_url":"https://api.github.com/repos/autonomio/talos/issues/264/comments","events_url":"https://api.github.com/repos/autonomio/talos/issues/264/events","html_url":"https://github.com/autonomio/talos/issues/264","id":418231689,"node_id":"MDU6SXNzdWU0MTgyMzE2ODk=","number":264,"title":"Talos conventions","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"labels":[{"id":1809664171,"node_id":"MDU6TGFiZWwxODA5NjY0MTcx","url":"https://api.github.com/repos/autonomio/talos/labels/move-to-docs","name":"move-to-docs","color":"000000","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-03-07T10:20:20Z","updated_at":"2020-01-26T17:32:13Z","closed_at":"2020-01-26T17:32:13Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Slightly related with #256. \r\n\r\nFor the past few days I've been working on a major overhaul of the codebase. Over the past few months I've noticed three things:\r\n\r\n- there are parts of the code that are rather cryptic\r\n- some things (like inferring metric names) are done many times\r\n- the mainline code is all over the place (goes from here to there in a way that is difficult to follow) \r\n\r\nI've thought, as part of this process, some basic conventions for going forward. \r\n\r\n- /commands contains one file per command (end-user command)\r\n- /scan contains everything related with Scan\r\n- /reducers contains all kinds of limits and reducers \r\n- if the file name is *_run.py it represents the main procedural code of that aspect\r\n- if the file name is * _prepare.py or *_prepare.py it is called only from corresponding *_run.py\r\n- in all other cases, the docstring has to start with \"Called from path/function.py\" \r\n- imports outside of talos are made inside each function below doctstring\r\n- imports outside of talos must contain a two letter prefix e.g. `import numpy as np`\r\n- import outside of talos may alternatively be in the form `import numpy`\r\n- NOTE: it's absolutely prohibited to perform absolute imports e.g. `from numpy import array`\r\n- imports from inside talos are made immediately before the corresponding line of code\r\n- import from inside talos are always absolute imports (to disclose the full path to the originating code)\r\n- a reducer (e.g. correlation) is a single self-contained function in its own file\r\n- a reducer accepts self from Scan() only and returns `value` and `label` only where label is the parameter label and value is the parameter value\r\n\r\n...more to come. Before releasing this overhaul, I will write up a wiki entry with comprehensive information conventions / standards etc. ","closed_by":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/autonomio/talos/issues/264/timeline","performed_via_github_app":null,"state_reason":"completed"}