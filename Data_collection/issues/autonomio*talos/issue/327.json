{"url":"https://api.github.com/repos/autonomio/talos/issues/327","repository_url":"https://api.github.com/repos/autonomio/talos","labels_url":"https://api.github.com/repos/autonomio/talos/issues/327/labels{/name}","comments_url":"https://api.github.com/repos/autonomio/talos/issues/327/comments","events_url":"https://api.github.com/repos/autonomio/talos/issues/327/events","html_url":"https://github.com/autonomio/talos/issues/327","id":455750776,"node_id":"MDU6SXNzdWU0NTU3NTA3NzY=","number":327,"title":"Installing problems","user":{"login":"tuananhvip","id":41987543,"node_id":"MDQ6VXNlcjQxOTg3NTQz","avatar_url":"https://avatars.githubusercontent.com/u/41987543?v=4","gravatar_id":"","url":"https://api.github.com/users/tuananhvip","html_url":"https://github.com/tuananhvip","followers_url":"https://api.github.com/users/tuananhvip/followers","following_url":"https://api.github.com/users/tuananhvip/following{/other_user}","gists_url":"https://api.github.com/users/tuananhvip/gists{/gist_id}","starred_url":"https://api.github.com/users/tuananhvip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuananhvip/subscriptions","organizations_url":"https://api.github.com/users/tuananhvip/orgs","repos_url":"https://api.github.com/users/tuananhvip/repos","events_url":"https://api.github.com/users/tuananhvip/events{/privacy}","received_events_url":"https://api.github.com/users/tuananhvip/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-06-13T13:44:12Z","updated_at":"2020-08-31T15:23:12Z","closed_at":"2019-06-13T17:01:59Z","author_association":"NONE","active_lock_reason":null,"body":"I have problems when installing it, all come from versions of requirements packages like matplotlib. I were already update them all, but still errors. \r\nplz give me an exactly version of all requirements to install Talos (I will be installed in anaconda envs).\r\nThank you!\r\n\r\nafter run: \r\n`!python3.6 -m pip install -U talos`\r\n\r\nEverythings up-to-date:\r\n\r\n```\r\nRequirement already up-to-date: talos in /home/u/anaconda3/envs/TA/lib/python3.6/site-packages (0.4.9)\r\nRequirement already satisfied, skipping upgrade: numpy in /home/u/anaconda3/envs/TA/lib/python3.6/site-packages (from talos) (1.16.2)\r\nRequirement already satisfied, skipping upgrade: keras in /home/u/anaconda3/envs/TA/lib/python3.6/site-packages (from talos) (2.2.4)\r\n........\r\n```\r\n\r\nthen run:\r\n\r\n`import talos as ta`\r\n\r\nI got some errors somethings like this:\r\n\r\n```python\r\n.....................\r\nNO INTERNET CONNECTION: Reporting plots will not work.  <<<==== Why you need internet ?????\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-27-3bf072900deb> in <module>\r\n----> 1 import talos as ta\r\n...........\r\n----> 5 import matplotlib.pyplot as plt    <<<=== May be errors from here, why I got this error????\r\n      6 from IPython.display import clear_output\r\n      7 \r\n..............\r\n---> 45 from matplotlib.axes._base import _AxesBase, _process_plot_format\r\n     46 \r\n     47 _log = logging.getLogger(__name__)\r\n\r\n~/anaconda3/envs/TA/lib/python3.6/site-packages/matplotlib/axes/_base.py in <module>\r\n     41 rcParams = matplotlib.rcParams\r\n     42 \r\n---> 43 is_string_like = cbook.is_string_like\r\n     44 is_sequence_of_strings = cbook.is_sequence_of_strings\r\n     45 \r\n\r\nAttributeError: module 'matplotlib.cbook' has no attribute 'is_string_like'\r\n```\r\n\r\nthen I down grade of mathplotlib from 2.2.3 ==> 2.2.2 \r\nso this requirement with matplotlib should be <=  2.2.2\r\nSolved!\r\n\r\n\r\nimport talos successful, but when I run training the easiest example, i got this error:\r\n\r\n```python\r\nt = ta.Scan(x, y, p, diabetes)\r\n\r\n.................\r\n0%|          | 0/18 [00:00<?, ?it/s]\r\n\r\nInternalError                             Traceback (most recent call last)\r\n<ipython-input-10-5b06afa64c3f> in <module>\r\n----> 1 t = ta.Scan(x, y, p, diabetes)\r\n\r\n~/anaconda3/envs/TA/lib/python3.6/site-packages/talos/scan/Scan.py in __init__(self, x, y, params, model, dataset_name, experiment_no, x_val, y_val, val_split, shuffle, round_limit, grid_downsample, random_method, seed, search_method, reduction_method, reduction_interval, reduction_window, reduction_threshold, reduction_metric, reduce_loss, last_epoch_value, clear_tf_session, disable_progress_bar, print_params, debug)\r\n    168         # input parameters section ends\r\n    169 \r\n--> 170         self._null = self.runtime()\r\n\r\n.........\r\n\r\n~/anaconda3/envs/TA/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py in __exit__(self, type_arg, value_arg, traceback_arg)\r\n    517             None, None,\r\n    518             compat.as_text(c_api.TF_Message(self.status.status)),\r\n--> 519             c_api.TF_GetCode(self.status.status))\r\n    520     # Delete the underlying status object from memory otherwise it stays alive\r\n    521     # as there is a reference to status from this from the traceback due to\r\n\r\nInternalError: Blas GEMM launch failed : a.shape=(10, 8), b.shape=(8, 8), m=10, n=8, k=8\r\n\t [[Node: dense_1/MatMul = MatMul[T=DT_FLOAT, _class=[\"loc:@training/Adam/gradients/dense_1/MatMul_grad/MatMul_1\"], transpose_a=false, transpose_b=false, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_dense_1_input_0_0/_47, dense_1/kernel/read)]]\r\n\t [[Node: metrics/acc/Mean_1/_69 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_485_metrics/acc/Mean_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\n\r\n```\r\n\r\nSolved:\r\nClosed all others, exit all running python, restart jupyter then run from beginning!\r\n\r\n\r\nRunning: `Hyperparameter Optimization with Keras for the Iris Prediction`\r\nNow it is running only very little on 1 GPU (on 4GPUs server), even I changed Batch_size from [2,3,4] to [200,300,400]\r\n```\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GTX 108...  Off  | 00000000:02:00.0 Off |                  N/A |\r\n| 32%   58C    P2    57W / 250W |  10665MiB / 11178MiB |      9%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  GeForce GTX 108...  Off  | 00000000:03:00.0 Off |                  N/A |\r\n| 24%   44C    P2    55W / 250W |  10631MiB / 11178MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   2  GeForce GTX 108...  Off  | 00000000:82:00.0 Off |                  N/A |\r\n| 23%   38C    P2    57W / 250W |  10631MiB / 11178MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   3  GeForce GTX 108...  Off  | 00000000:83:00.0 Off |                  N/A |\r\n| 23%   41C    P2    57W / 250W |  10631MiB / 11178MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n```\r\nHow can I run 80~100% in all 4 GPUs?\r\n\r\nafter it finished 36/36, it produced error:\r\n100%|██████████| 36/36 [01:10<00:00,  1.89s/it]\r\n```python\r\n...\r\n--> 170         self._null = self.runtime()\r\n...\r\n---> 26     self = scan_finish(self)\r\n...\r\n~/anaconda3/envs/TA/lib/python3.6/site-packages/talos/scan/scan_finish.py in scan_finish(self)\r\n     70 \r\n     71     # convert to numeric\r\n---> 72     self.data = string_cols_to_numeric(self.data)\r\n...\r\n~/anaconda3/envs/TA/lib/python3.6/site-packages/talos/utils/string_cols_to_numeric.py in isnumber(value)\r\n      6 \r\n      7     try:\r\n----> 8         float(value)\r\n      9         return True\r\n     10     except ValueError:\r\n\r\n~/anaconda3/envs/TA/lib/python3.6/site-packages/pandas/core/series.py in wrapper(self)\r\n     91             return converter(self.iloc[0])\r\n     92         raise TypeError(\"cannot convert the series to \"\r\n---> 93                         \"{0}\".format(str(converter)))\r\n     94 \r\n     95     wrapper.__name__ = \"__{name}__\".format(name=converter.__name__)\r\n\r\nTypeError: (\"cannot convert the series to <class 'float'>\", 'occurred at index loss')\r\n```\r\nSolved!\r\nI edited `~/anaconda3/envs/TA/lib/python3.6/site-packages/talos/utils/string_cols_to_numeric.py`\r\nfrom:\r\n```python\r\n    try:\r\n        float(value)\r\n        return True\r\n    except ValueError:\r\n        return False\r\n```\r\nto:\r\n```python\r\n    try:\r\n        float(value)\r\n        return True\r\n    except :\r\n        return False\r\n```\r\nI dont know why you all can run, but this way worked!\r\n","closed_by":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/autonomio/talos/issues/327/timeline","performed_via_github_app":null,"state_reason":"completed"}