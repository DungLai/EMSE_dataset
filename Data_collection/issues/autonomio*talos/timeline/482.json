[{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/616164221","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-616164221","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":616164221,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjE2NDIyMQ==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-19T15:35:34Z","updated_at":"2020-04-19T15:35:34Z","author_association":"NONE","body":"My parameter dictionary is: \r\n\r\n```python\r\np = {\r\n    \"sigma_noise\": [0, 0.01],\r\n    \"nb_filters_0\": [16, 32, 64],\r\n    \"loss_func\": [\"cat_CE\", \"tversky_loss\", \"cat_FL\"],\r\n    \"arch\": [\"U-Net\"],\r\n    \"act\": [Swish, ReLU],\r\n}\r\n```\r\n\r\nAnd I'm running a U-net with 34 million trainable parameters (for `nb_filters_0 == 64`) and input dimensions of `(208, 208, 3)` with a batch size of 12 and 400 epochs.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/616164221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/616355618","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-616355618","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":616355618,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjM1NTYxOA==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-20T07:10:36Z","updated_at":"2020-04-20T07:10:36Z","author_association":"NONE","body":"UPDATE: I did a \"quick\" test, where I ran each model for only 50 epochs and I got a `ResourceExhaustedError` again in round 4  during the 5th epoch, and I think that was actually the exact same spot as before when each of the 3 previous model had run for +100 epochs. This tells me, that the models are not properly cleaned out of the GPU memory and on top of that, I might have a memory leak in my generator. @mikkokotila, what do you think?","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/616355618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"id":3250381026,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI1MDM4MTAyNg==","url":"https://api.github.com/repos/autonomio/talos/issues/events/3250381026","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-20T07:10:36Z","performed_via_github_app":null},{"id":3250381029,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyNTAzODEwMjk=","url":"https://api.github.com/repos/autonomio/talos/issues/events/3250381029","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-20T07:10:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617019546","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-617019546","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":617019546,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzAxOTU0Ng==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-04-21T07:58:54Z","updated_at":"2020-04-21T07:58:54Z","author_association":"CONTRIBUTOR","body":"Very interesting. Can you post your full trace. ","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617019546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617142015","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-617142015","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":617142015,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzE0MjAxNQ==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-21T12:13:53Z","updated_at":"2020-04-21T12:13:53Z","author_association":"NONE","body":"Of course! See below. I also added the output leading up, because I think it gives some idea of how the exception occurs.\r\n\r\n![oom-crash](https://user-images.githubusercontent.com/885853/79864656-16644280-83da-11ea-8289-da780a77ca7a.png)\r\n\r\n```python\r\n---------------------------------------------------------------------------\r\nResourceExhaustedError                    Traceback (most recent call last)\r\n<ipython-input-10-d1427f7c3b24> in <module>\r\n    104     params=p,\r\n    105     experiment_name=\"talos/\" + date_string,\r\n--> 106     reduction_method='gamify',\r\n    107 )\r\n    108 \r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/talos/scan/Scan.py in __init__(self, x, y, params, model, experiment_name, x_val, y_val, val_split, random_method, seed, performance_target, fraction_limit, round_limit, time_limit, boolean_limit, reduction_method, reduction_interval, reduction_window, reduction_threshold, reduction_metric, minimize_loss, disable_progress_bar, print_params, clear_session, save_weights)\r\n    194         # start runtime\r\n    195         from .scan_run import scan_run\r\n--> 196         scan_run(self)\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/talos/scan/scan_run.py in scan_run(self)\r\n     24         # otherwise proceed with next permutation\r\n     25         from .scan_round import scan_round\r\n---> 26         self = scan_round(self)\r\n     27         self.pbar.update(1)\r\n     28 \r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/talos/scan/scan_round.py in scan_round(self)\r\n     17     # fit the model\r\n     18     from ..model.ingest_model import ingest_model\r\n---> 19     self.model_history, self.round_model = ingest_model(self)\r\n     20     self.round_history.append(self.model_history.history)\r\n     21 \r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/talos/model/ingest_model.py in ingest_model(self)\r\n      8                       self.x_val,\r\n      9                       self.y_val,\r\n---> 10                       self.round_params)\r\n\r\n~/myapps/mmciad/src/mmciad/utils/hyper.py in talos_model(x, y, val_x, val_y, talos_params)\r\n    301                 class_weight=class_weights,\r\n    302                 verbose=internal_params[\"verbose\"],\r\n--> 303                 callbacks=model_callbacks + opti_callbacks,\r\n    304             )\r\n    305         return history, model\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/keras/legacy/interfaces.py in wrapper(*args, **kwargs)\r\n     89                 warnings.warn('Update your `' + object_name + '` call to the ' +\r\n     90                               'Keras 2 API: ' + signature, stacklevel=2)\r\n---> 91             return func(*args, **kwargs)\r\n     92         wrapper._original_function = func\r\n     93         return wrapper\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/keras/engine/training.py in fit_generator(self, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, validation_freq, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)\r\n   1730             use_multiprocessing=use_multiprocessing,\r\n   1731             shuffle=shuffle,\r\n-> 1732             initial_epoch=initial_epoch)\r\n   1733 \r\n   1734     @interfaces.legacy_generator_methods_support\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/keras/engine/training_generator.py in fit_generator(model, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, validation_freq, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)\r\n    218                                             sample_weight=sample_weight,\r\n    219                                             class_weight=class_weight,\r\n--> 220                                             reset_metrics=False)\r\n    221 \r\n    222                 outs = to_list(outs)\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/keras/engine/training.py in train_on_batch(self, x, y, sample_weight, class_weight, reset_metrics)\r\n   1512             ins = x + y + sample_weights\r\n   1513         self._make_train_function()\r\n-> 1514         outputs = self.train_function(ins)\r\n   1515 \r\n   1516         if reset_metrics:\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/tensorflow/python/keras/backend.py in __call__(self, inputs)\r\n   3290 \r\n   3291     fetched = self._callable_fn(*array_vals,\r\n-> 3292                                 run_metadata=self.run_metadata)\r\n   3293     self._call_fetch_callbacks(fetched[-len(self._fetches):])\r\n   3294     output_structure = nest.pack_sequence_as(\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/tensorflow/python/client/session.py in __call__(self, *args, **kwargs)\r\n   1456         ret = tf_session.TF_SessionRunCallable(self._session._session,\r\n   1457                                                self._handle, args,\r\n-> 1458                                                run_metadata_ptr)\r\n   1459         if run_metadata:\r\n   1460           proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\r\n\r\nResourceExhaustedError: OOM when allocating tensor with shape[16,192,208,208] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\n\t [[{{node training/Adam/gradients/block1_u_conv1/convolution_grad/Conv2DBackpropInput}}]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n```","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617142015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617190633","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-617190633","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":617190633,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzE5MDYzMw==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-04-21T13:46:37Z","updated_at":"2020-04-21T13:46:37Z","author_association":"CONTRIBUTOR","body":"Have you looked at [this SO post](https://stackoverflow.com/questions/46066850/understanding-the-resourceexhaustederror-oom-when-allocating-tensor-with-shape).","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617190633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617191834","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-617191834","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":617191834,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzE5MTgzNA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-04-21T13:48:39Z","updated_at":"2020-04-21T13:48:39Z","author_association":"CONTRIBUTOR","body":"How much memory your GPU has?","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617191834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617883218","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-617883218","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":617883218,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzg4MzIxOA==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-22T16:22:44Z","updated_at":"2020-04-22T16:22:44Z","author_association":"NONE","body":"I just check out your link and it does not appear to describe the issue I am having, though at first it did look similar. I am running with an Nvidia GeForce GTX 1080 TI with 11 GB ram.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/617883218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618223724","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-618223724","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":618223724,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODIyMzcyNA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T07:12:35Z","updated_at":"2020-04-23T07:12:35Z","author_association":"CONTRIBUTOR","body":"Can you do this: \r\n\r\n`Hint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.`\r\n\r\n...and share the output you get.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618223724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618308076","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-618308076","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":618308076,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODMwODA3Ng==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T10:01:55Z","updated_at":"2020-04-23T10:01:55Z","author_association":"NONE","body":"I would love to, but that option crashes my python kernel, so it's not really possible. This is a long-standing Keras bug, I believe.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618308076/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618332196","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-618332196","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":618332196,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODMzMjE5Ng==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T10:52:38Z","updated_at":"2020-04-23T10:52:38Z","author_association":"CONTRIBUTOR","body":"Yes, it most certainly is an upstream bug in Keras or TensorFlow.\r\n\r\nTo avoid doubt, can you share your `Scan()` command. \r\n\r\nAlso, how about giving Talos 1.0 a shot. It will use different backend, so you might have better luck. ","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618332196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618344817","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-618344817","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":618344817,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODM0NDgxNw==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T11:21:27Z","updated_at":"2020-04-23T11:21:27Z","author_association":"NONE","body":"Sure! I use custom `keras.utils.Sequence` data generators, so I have two dummy variables for my scan command as shown below:\r\n\r\n ```python\r\n   dummy_x = np.empty((1, BATCH_SIZE, 208, 208))\r\n    dummy_y = np.empty((1, BATCH_SIZE))\r\n\r\n    scan_object = ta.Scan(\r\n        x=dummy_x,\r\n        y=dummy_y,\r\n        disable_progress_bar=False,\r\n        print_params=True,\r\n        model=talos_model,\r\n        params=p,\r\n        experiment_name=\"talos/\" + date_string,\r\n        reduction_method='gamify',\r\n    )\r\n```\r\n\r\nI will take a look at talos 1.0 right away!","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618344817/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618425282","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-618425282","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":618425282,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQyNTI4Mg==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T14:25:33Z","updated_at":"2020-04-23T14:25:33Z","author_association":"NONE","body":"So running talos 1.0 had the same outcome, but with a slightly different error message at the end:\r\n\r\n```python\r\n 14% |█▌        | 5/36 [1:52:10<11:43:52, 1362.35s/it]\r\n{'act': <class 'keras_contrib.layers.advanced_activations.swish.Swish'>, 'arch': 'U-Net', 'loss_func': 'cat_CE', 'nb_filters_0': 64, 'sigma_noise': 0.01}\r\ntracking <tf.Variable 'block1_d_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block1_d_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block2_d_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block2_d_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block3_d_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block3_d_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block4_d_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block4_d_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block5_bottom_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block5_bottom_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block4_u_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block4_u_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block3_u_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block3_u_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block2_u_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block2_u_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block1_u_Swish1/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\ntracking <tf.Variable 'block1_u_Swish2/scaling_factor:0' shape=() dtype=float32> scaling_factor\r\nTraining |          | 0% 0/5 [00:00<?, ?it/s]\r\nEpoch 0  |██▌        | [loss: 2.2988, acc: 0.1848, jaccard1_coef: 0.0575] : 25% 113/451 [01:19<03:12, 1.76it/s]\r\n---------------------------------------------------------------------------\r\nResourceExhaustedError                    Traceback (most recent call last)\r\n<ipython-input-10-050e8f7c8199> in <module>\r\n    104         params=p,\r\n    105         experiment_name=\"talos/\" + date_string,\r\n--> 106         reduction_method='gamify',\r\n    107     )\r\n    108 \r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/talos/scan/Scan.py in __init__(self, x, y, params, model, experiment_name, x_val, y_val, val_split, random_method, seed, performance_target, fraction_limit, round_limit, time_limit, boolean_limit, reduction_method, reduction_interval, reduction_window, reduction_threshold, reduction_metric, minimize_loss, disable_progress_bar, print_params, clear_session, save_weights)\r\n    194         # start runtime\r\n    195         from .scan_run import scan_run\r\n--> 196         scan_run(self)\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/talos/scan/scan_run.py in scan_run(self)\r\n     24         # otherwise proceed with next permutation\r\n     25         from .scan_round import scan_round\r\n---> 26         self = scan_round(self)\r\n     27         self.pbar.update(1)\r\n     28 \r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/talos/scan/scan_round.py in scan_round(self)\r\n     17     # fit the model\r\n     18     from ..model.ingest_model import ingest_model\r\n---> 19     self.model_history, self.round_model = ingest_model(self)\r\n     20     self.round_history.append(self.model_history.history)\r\n     21 \r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/talos/model/ingest_model.py in ingest_model(self)\r\n      8                       self.x_val,\r\n      9                       self.y_val,\r\n---> 10                       self.round_params)\r\n\r\n~/myapps/mmciad/src/mmciad/utils/hyper.py in talos_model(x, y, val_x, val_y, talos_params)\r\n    303                 class_weight=class_weights,\r\n    304                 verbose=internal_params[\"verbose\"],\r\n--> 305                 callbacks=model_callbacks + opti_callbacks,\r\n    306             )\r\n    307         return history, model\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/keras/legacy/interfaces.py in wrapper(*args, **kwargs)\r\n     89                 warnings.warn('Update your `' + object_name + '` call to the ' +\r\n     90                               'Keras 2 API: ' + signature, stacklevel=2)\r\n---> 91             return func(*args, **kwargs)\r\n     92         wrapper._original_function = func\r\n     93         return wrapper\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/keras/engine/training.py in fit_generator(self, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, validation_freq, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)\r\n   1730             use_multiprocessing=use_multiprocessing,\r\n   1731             shuffle=shuffle,\r\n-> 1732             initial_epoch=initial_epoch)\r\n   1733 \r\n   1734     @interfaces.legacy_generator_methods_support\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/keras/engine/training_generator.py in fit_generator(model, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, validation_freq, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)\r\n    218                                             sample_weight=sample_weight,\r\n    219                                             class_weight=class_weight,\r\n--> 220                                             reset_metrics=False)\r\n    221 \r\n    222                 outs = to_list(outs)\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/keras/engine/training.py in train_on_batch(self, x, y, sample_weight, class_weight, reset_metrics)\r\n   1512             ins = x + y + sample_weights\r\n   1513         self._make_train_function()\r\n-> 1514         outputs = self.train_function(ins)\r\n   1515 \r\n   1516         if reset_metrics:\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/tensorflow/python/keras/backend.py in __call__(self, inputs)\r\n   3290 \r\n   3291     fetched = self._callable_fn(*array_vals,\r\n-> 3292                                 run_metadata=self.run_metadata)\r\n   3293     self._call_fetch_callbacks(fetched[-len(self._fetches):])\r\n   3294     output_structure = nest.pack_sequence_as(\r\n\r\n~/.pyenv/versions/miniconda3-4.3.30/envs/tf_gpu/lib/python3.6/site-packages/tensorflow/python/client/session.py in __call__(self, *args, **kwargs)\r\n   1456         ret = tf_session.TF_SessionRunCallable(self._session._session,\r\n   1457                                                self._handle, args,\r\n-> 1458                                                run_metadata_ptr)\r\n   1459         if run_metadata:\r\n   1460           proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\r\n\r\nResourceExhaustedError: 2 root error(s) found.\r\n  (0) Resource exhausted: OOM when allocating tensor with shape[16,64,208,208] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\n\t [[{{node GaussianNoise_preout/cond/add-1-TransposeNHWCToNCHW-LayoutOptimizer}}]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n\r\n\t [[metrics/acc/Identity/_1095]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n\r\n  (1) Resource exhausted: OOM when allocating tensor with shape[16,64,208,208] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\n\t [[{{node GaussianNoise_preout/cond/add-1-TransposeNHWCToNCHW-LayoutOptimizer}}]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n\r\n0 successful operations.\r\n0 derived errors ignored.\r\n```","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/618425282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/619765034","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-619765034","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":619765034,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTc2NTAzNA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-04-27T06:45:18Z","updated_at":"2020-04-27T06:45:18Z","author_association":"CONTRIBUTOR","body":"Can you run the input model in a loop a few times and see if you can get the same result. If yes, I suggest posting this directly to TensorFlow.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/619765034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"id":3274229325,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQzMjc0MjI5MzI1","url":"https://api.github.com/repos/autonomio/talos/issues/events/3274229325","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-04-27T06:45:52Z","assignee":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"id":3274229841,"node_id":"MDEyOkxhYmVsZWRFdmVudDMyNzQyMjk4NDE=","url":"https://api.github.com/repos/autonomio/talos/issues/events/3274229841","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-04-27T06:46:02Z","label":{"name":"topic: tensorflow","color":"ffffff"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/619798669","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-619798669","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":619798669,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTc5ODY2OQ==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-27T07:48:09Z","updated_at":"2020-04-27T07:48:09Z","author_association":"NONE","body":"Do you mean a simple loop like this:\r\n\r\n```python\r\nmodel = create_model(*args, **kwargs)\r\n\r\nfor _ in range(6):\r\n    model.compile(**kwargs)\r\n    model.fit(train_generator, epochs=10)\r\n```\r\nOr should I try to add some sort of garbage collection to this?","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/619798669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/619905783","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-619905783","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":619905783,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTkwNTc4Mw==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-04-27T10:57:49Z","updated_at":"2020-04-27T10:57:49Z","author_association":"CONTRIBUTOR","body":"No, just the simplest possible loop. ","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/619905783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/620469634","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-620469634","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":620469634,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDQ2OTYzNA==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-28T08:47:21Z","updated_at":"2020-04-28T09:17:01Z","author_association":"NONE","body":"Is the above code example simple enough or can it be even simpler?\r\n\r\nEDIT: BTW, can you maybe elaborate a bit on what was changed in talos 1.0? I tried upgrading to tf-2.2.0rc3 because it fixed a memory leak in fit method related to the keras sequence class.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/620469634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/620565657","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-620565657","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":620565657,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDU2NTY1Nw==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-28T12:09:56Z","updated_at":"2020-04-28T12:09:56Z","author_association":"NONE","body":"So far, when running a loop like the one I wrote earlier, I am not getting any ResourceExhaustedError. I have almost completed 5 iterations of the loop with 50 epochs pr iteration. With talos it crashed in the beginning of the fifth iteration.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/620565657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/621037160","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-621037160","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":621037160,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTAzNzE2MA==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-29T07:32:43Z","updated_at":"2020-04-29T07:32:43Z","author_association":"NONE","body":"Okay, so the loop was set to do ten training sessions of 50 epochs since I knew that 50 epochs was enough to get the `ResourceExhaustedError ` after 5 iterations in the talos `Scan()`. Now it has completed all 10 passes of the loop without any errors whatsoever. I assume this rules out it being a TensorFlow bug?","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/621037160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/621469575","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-621469575","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":621469575,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTQ2OTU3NQ==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-04-29T21:18:07Z","updated_at":"2020-04-29T21:18:07Z","author_association":"NONE","body":"For good measure, I redid the `Scan()` just to confirm that updating some of the packages did not alter the outcome. Rather than getting the `ResourceExhaustedError`, my kernel crashed completely (though it may still be due to a `ResourceExhaustedError`). Any ideas on how to proceed?","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/621469575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/622291169","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-622291169","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":622291169,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjI5MTE2OQ==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-05-01T08:00:44Z","updated_at":"2020-05-01T08:00:44Z","author_association":"NONE","body":"I have now tested it on a different machine with a larger GPU (the NVIDIA Quatro RTX6000 with 24 GB ram) and the same thing happens.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/622291169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/623153918","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-623153918","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":623153918,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzE1MzkxOA==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-05-03T18:03:41Z","updated_at":"2020-05-03T18:03:41Z","author_association":"NONE","body":"To summarize\r\n-\r\nThe bug(?) appears on two systems with the below configuration(s):\r\n- Nvidia GTX 1080 TI or Nvidia Quattro RTX 6000\r\n- Nvidia 418.87.00\r\n- CUDA 10.1\r\n- CuDNN 7.6.5\r\n- Python >=3.7.6\r\n- Both TensorFlow 1.13, 2.1, and >=2.2.0rc2\r\n- Talos >= 0.6.0\r\n\r\nIt does not appear to happen if a model is compiled and fitted several times in a simple loop, which seem to eliminate the possibility of this being a TensorFlow problem.\r\n","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/623153918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/623891928","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-623891928","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":623891928,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzg5MTkyOA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-05-05T07:12:16Z","updated_at":"2020-05-05T07:12:48Z","author_association":"CONTRIBUTOR","body":"Is it possible for you to share a Jupyter notebook or colab which is self-contained, so I can just run and repeat. \r\n\r\nAlso, is `create_model` identical in both cases?","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/623891928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/625159334","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-625159334","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":625159334,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTE1OTMzNA==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-05-07T10:07:17Z","updated_at":"2020-05-07T13:08:03Z","author_association":"NONE","body":"Yes, `create_model` is identical. I will try and see if I can make a self-contained notebook. Currently, my solution has been to modify talos to accept a new boolean parameter `allow_resume`, which if True savew ParamSpace, list of keys/metrics and the various stores to files on disk and in the event of a crash (or interrupt) it will read these files and restore the important parts of the `Scan` object before executing `scan_run()`. It might sacrifice some efficiency, but it sure beats never getting to the finish line ;)\r\n\r\nBTW, are there any special considerations behind doing method level imports rather than module/top level imports?\r\n\r\nEDIT: If you want, you can have a look at my fork of talos and see what i changed. I haven't committed the latest addition yet, but the primary stuff is in place.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/625159334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/724154010","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-724154010","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":724154010,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDE1NDAxMA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2020-11-09T17:19:46Z","updated_at":"2020-11-09T17:19:46Z","author_association":"CONTRIBUTOR","body":"Sorry, I totally missed this.\r\n\r\n> BTW, are there any special considerations behind doing method level imports rather than module/top level imports?\r\n\r\nYes. Chunks of code are self-contained, readability improves, import only if need etc.\r\n\r\nHow about we implement the above-said feature into v1.1? ","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/724154010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/725295152","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-725295152","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":725295152,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTI5NTE1Mg==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-11-11T08:57:37Z","updated_at":"2020-11-11T08:57:37Z","author_association":"NONE","body":"We could do that, but I'm not sure my hack is the best way to go at this point. It makes sense for me, but it could be a lot cleaner, I think. Perhaps storing everything in one file rather than having about three different files to read from :) I will be happy to show you the changes I made, though, and you can decide for yourself what you think of it.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/725295152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/725327286","html_url":"https://github.com/autonomio/talos/issues/482#issuecomment-725327286","issue_url":"https://api.github.com/repos/autonomio/talos/issues/482","id":725327286,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTMyNzI4Ng==","user":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false},"created_at":"2020-11-11T10:00:03Z","updated_at":"2020-11-11T10:00:03Z","author_association":"NONE","body":"You can look at the changes and additions here: https://github.com/bjtho08/talos/tree/1.0.1-dev","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/725327286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bjtho08","id":885853,"node_id":"MDQ6VXNlcjg4NTg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/885853?v=4","gravatar_id":"","url":"https://api.github.com/users/bjtho08","html_url":"https://github.com/bjtho08","followers_url":"https://api.github.com/users/bjtho08/followers","following_url":"https://api.github.com/users/bjtho08/following{/other_user}","gists_url":"https://api.github.com/users/bjtho08/gists{/gist_id}","starred_url":"https://api.github.com/users/bjtho08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjtho08/subscriptions","organizations_url":"https://api.github.com/users/bjtho08/orgs","repos_url":"https://api.github.com/users/bjtho08/repos","events_url":"https://api.github.com/users/bjtho08/events{/privacy}","received_events_url":"https://api.github.com/users/bjtho08/received_events","type":"User","site_admin":false}}]