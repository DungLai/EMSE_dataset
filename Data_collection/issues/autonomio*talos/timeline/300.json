[{"id":2320666011,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjMyMDY2NjAxMQ==","url":"https://api.github.com/repos/autonomio/talos/issues/events/2320666011","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-05-06T11:11:24Z","rename":{"from":"Using multi_gpu on auto-encoder model, possibly critical bug.","to":"Using multi_gpu on auto-encoder model"},"performed_via_github_app":null},{"id":2320666151,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzMjA2NjYxNTE=","url":"https://api.github.com/repos/autonomio/talos/issues/events/2320666151","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-05-06T11:11:29Z","label":{"name":"investigation","color":"c5def5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/489584478","html_url":"https://github.com/autonomio/talos/issues/300#issuecomment-489584478","issue_url":"https://api.github.com/repos/autonomio/talos/issues/300","id":489584478,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU4NDQ3OA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2019-05-06T11:12:35Z","updated_at":"2019-05-06T11:12:35Z","author_association":"CONTRIBUTOR","body":"Can you repeat the same without Talos i.e. just running the model both multi_gpu and no as stand alone Keras model and see what happens.\r\n\r\nMy guess is that whatever Keras is doing to handle multi_gpu situation, results in the kind of output you are seeing. ","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/489584478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/489594382","html_url":"https://github.com/autonomio/talos/issues/300#issuecomment-489594382","issue_url":"https://api.github.com/repos/autonomio/talos/issues/300","id":489594382,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU5NDM4Mg==","user":{"login":"aaronfderybel","id":43145159,"node_id":"MDQ6VXNlcjQzMTQ1MTU5","avatar_url":"https://avatars.githubusercontent.com/u/43145159?v=4","gravatar_id":"","url":"https://api.github.com/users/aaronfderybel","html_url":"https://github.com/aaronfderybel","followers_url":"https://api.github.com/users/aaronfderybel/followers","following_url":"https://api.github.com/users/aaronfderybel/following{/other_user}","gists_url":"https://api.github.com/users/aaronfderybel/gists{/gist_id}","starred_url":"https://api.github.com/users/aaronfderybel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaronfderybel/subscriptions","organizations_url":"https://api.github.com/users/aaronfderybel/orgs","repos_url":"https://api.github.com/users/aaronfderybel/repos","events_url":"https://api.github.com/users/aaronfderybel/events{/privacy}","received_events_url":"https://api.github.com/users/aaronfderybel/received_events","type":"User","site_admin":false},"created_at":"2019-05-06T11:55:55Z","updated_at":"2019-05-13T12:20:20Z","author_association":"NONE","body":"Hello @mikkokotila ,\r\n\r\n\r\nthank you for your swift response.\r\n**NOT** using the `talos.Scan(..)` function and directly using `build(hyperpar)` with the hyperparameters:\r\n```python\r\nparams = {'opt': adam, \\\r\n          'lr': 10 ** (-3), \\\r\n          'n_layer': 2, \\\r\n          'loss_func': 'mse'\r\n          }\r\n```\r\nWhen using `multi_gpu(..)`  the output remains the same.\r\n![image](https://user-images.githubusercontent.com/43145159/57223334-f8090980-7005-11e9-9244-4c64e686f2ec.png)\r\n\r\nWhen not using `multi_gpu` i see expected output.\r\nI could also remake `build(self, hyperpar)` into `build(self)` but this should not make a difference since i'm\r\nsending one set of hyperparameters to the function **not using**  talos scan.\r\n\r\nI think this confirms that `multi_gpu(..)` is responsible for the output.\r\n*Update*\r\nI also looked at the loss functions of both putting multi_gpu on/off , keep in mind that they will not produce exactly same results: \r\n![image](https://user-images.githubusercontent.com/43145159/57620711-dff73400-7589-11e9-8044-cdb6149282ee.png)\r\n\r\nThey look as similar as multiple runs without multi_gpu.\r\n\r\n@mikkokotila Did you have time to look into this ? \r\nIt's not a pressing issue if `multi_gpu()` only produces a wrong `model.summary()` printout.\r\nIf this is the case, I suggest the issue is closed\r\n","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/489594382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aaronfderybel","id":43145159,"node_id":"MDQ6VXNlcjQzMTQ1MTU5","avatar_url":"https://avatars.githubusercontent.com/u/43145159?v=4","gravatar_id":"","url":"https://api.github.com/users/aaronfderybel","html_url":"https://github.com/aaronfderybel","followers_url":"https://api.github.com/users/aaronfderybel/followers","following_url":"https://api.github.com/users/aaronfderybel/following{/other_user}","gists_url":"https://api.github.com/users/aaronfderybel/gists{/gist_id}","starred_url":"https://api.github.com/users/aaronfderybel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaronfderybel/subscriptions","organizations_url":"https://api.github.com/users/aaronfderybel/orgs","repos_url":"https://api.github.com/users/aaronfderybel/repos","events_url":"https://api.github.com/users/aaronfderybel/events{/privacy}","received_events_url":"https://api.github.com/users/aaronfderybel/received_events","type":"User","site_admin":false}},{"id":2320752995,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjMyMDc1Mjk5NQ==","url":"https://api.github.com/repos/autonomio/talos/issues/events/2320752995","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-06T11:55:55Z","performed_via_github_app":null},{"id":2320752996,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzMjA3NTI5OTY=","url":"https://api.github.com/repos/autonomio/talos/issues/events/2320752996","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-06T11:55:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/492119760","html_url":"https://github.com/autonomio/talos/issues/300#issuecomment-492119760","issue_url":"https://api.github.com/repos/autonomio/talos/issues/300","id":492119760,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjExOTc2MA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2019-05-14T07:51:15Z","updated_at":"2019-05-14T07:51:15Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification and sorry for delay in replying. As you had suggested, does not seem that anything is wrong with Talos, so closing here. \r\n\r\nThanks again.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/492119760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"id":2339189247,"node_id":"MDExOkNsb3NlZEV2ZW50MjMzOTE4OTI0Nw==","url":"https://api.github.com/repos/autonomio/talos/issues/events/2339189247","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-14T07:51:15Z","state_reason":null,"performed_via_github_app":null}]