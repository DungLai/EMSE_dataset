[{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/455892448","html_url":"https://github.com/autonomio/talos/issues/179#issuecomment-455892448","issue_url":"https://api.github.com/repos/autonomio/talos/issues/179","id":455892448,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTg5MjQ0OA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2019-01-20T18:57:48Z","updated_at":"2019-01-20T18:57:48Z","author_association":"CONTRIBUTOR","body":"It refers to line 181 in RnaToSnpGridSearch.py. What's happening there?\r\n\r\n`File \"/raid/aclyde11/Benchmarks/Pilot1/RNAseqToSnp/RnaToSnpGridSearch.py\", line 181, in snp_snp_gridsearch`","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/455892448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/455893301","html_url":"https://github.com/autonomio/talos/issues/179#issuecomment-455893301","issue_url":"https://api.github.com/repos/autonomio/talos/issues/179","id":455893301,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTg5MzMwMQ==","user":{"login":"aclyde11","id":17033421,"node_id":"MDQ6VXNlcjE3MDMzNDIx","avatar_url":"https://avatars.githubusercontent.com/u/17033421?v=4","gravatar_id":"","url":"https://api.github.com/users/aclyde11","html_url":"https://github.com/aclyde11","followers_url":"https://api.github.com/users/aclyde11/followers","following_url":"https://api.github.com/users/aclyde11/following{/other_user}","gists_url":"https://api.github.com/users/aclyde11/gists{/gist_id}","starred_url":"https://api.github.com/users/aclyde11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aclyde11/subscriptions","organizations_url":"https://api.github.com/users/aclyde11/orgs","repos_url":"https://api.github.com/users/aclyde11/repos","events_url":"https://api.github.com/users/aclyde11/events{/privacy}","received_events_url":"https://api.github.com/users/aclyde11/received_events","type":"User","site_admin":false},"created_at":"2019-01-20T19:09:10Z","updated_at":"2019-01-20T19:09:27Z","author_association":"NONE","body":"I included the functions above, which line 181 is ta.Scan(). The error is happening in Talos\r\n  File \"/home/aclyde11/scratch-area/Benchmarks/venv/local/lib/python2.7/site-packages/talos/reducers/reduce_prepare.py\", line 22, in reduce_prepare\r\n    self.param_table.insert(0, self.reduction_metric, self.data[self.reduction_metric])","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/455893301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aclyde11","id":17033421,"node_id":"MDQ6VXNlcjE3MDMzNDIx","avatar_url":"https://avatars.githubusercontent.com/u/17033421?v=4","gravatar_id":"","url":"https://api.github.com/users/aclyde11","html_url":"https://github.com/aclyde11","followers_url":"https://api.github.com/users/aclyde11/followers","following_url":"https://api.github.com/users/aclyde11/following{/other_user}","gists_url":"https://api.github.com/users/aclyde11/gists{/gist_id}","starred_url":"https://api.github.com/users/aclyde11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aclyde11/subscriptions","organizations_url":"https://api.github.com/users/aclyde11/orgs","repos_url":"https://api.github.com/users/aclyde11/repos","events_url":"https://api.github.com/users/aclyde11/events{/privacy}","received_events_url":"https://api.github.com/users/aclyde11/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/455997398","html_url":"https://github.com/autonomio/talos/issues/179#issuecomment-455997398","issue_url":"https://api.github.com/repos/autonomio/talos/issues/179","id":455997398,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTk5NzM5OA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2019-01-21T09:04:53Z","updated_at":"2019-01-21T09:04:53Z","author_association":"CONTRIBUTOR","body":"Can you try without statistical reduction i.e remove from your Scan() the following: \r\n\r\n```\r\nreduction_metric='val_r2',\r\nreduction_method='correlation',\r\n```\r\nLet's see if that works, which will identify the source of the problem to have to do with the way a custom metric would be handled in reduction (which is very likely the only issue here. That should be easy to fix.\r\n","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/455997398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/456071525","html_url":"https://github.com/autonomio/talos/issues/179#issuecomment-456071525","issue_url":"https://api.github.com/repos/autonomio/talos/issues/179","id":456071525,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjA3MTUyNQ==","user":{"login":"aclyde11","id":17033421,"node_id":"MDQ6VXNlcjE3MDMzNDIx","avatar_url":"https://avatars.githubusercontent.com/u/17033421?v=4","gravatar_id":"","url":"https://api.github.com/users/aclyde11","html_url":"https://github.com/aclyde11","followers_url":"https://api.github.com/users/aclyde11/followers","following_url":"https://api.github.com/users/aclyde11/following{/other_user}","gists_url":"https://api.github.com/users/aclyde11/gists{/gist_id}","starred_url":"https://api.github.com/users/aclyde11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aclyde11/subscriptions","organizations_url":"https://api.github.com/users/aclyde11/orgs","repos_url":"https://api.github.com/users/aclyde11/repos","events_url":"https://api.github.com/users/aclyde11/events{/privacy}","received_events_url":"https://api.github.com/users/aclyde11/received_events","type":"User","site_admin":false},"created_at":"2019-01-21T13:19:52Z","updated_at":"2019-01-21T13:19:52Z","author_association":"NONE","body":"I ran this, but it caused the reporting results to be off. When I run without any custom metrics it seems to work fine.\r\n\r\n\r\n```\r\nta.Scan(x_train, y_train, x_val=x_val, y_val=y_val,\r\n                params=snps_from_rnaseq_params(),\r\n                model=rna_snp_pt_gridsearch,\r\n                grid_downsample=0.1,\r\n                reduction_metric='val_r2',\r\n                dataset_name=\"RNA Autoencoder pretained snp 'ENSG00000181143', 'ENSG00000145113', 'ENSG00000127914', 'ENSG00000149311'\",\r\n                experiment_no='1', debug=True, print_params=True)\r\n\r\n```\r\n\r\nproduced a table where all the headings are wrong:\r\n```\r\nround_epochs,val_acc,r2,loss,acc,val_loss,val_r2,dropout,kernel_initializer,first_neuron,lr,batch_size,last_activation,activation,epochs,auto_losses,encoded_dim,optimizer\r\n30,0.0009868420908644207,-0.6940937965725864,1.5713749124486809,0.0013984863458776815,1.5580697216485675,-0.6852260108448958,0.19999999999999998,normal,2000,325,sigmoid,relu,mse,500,30,0.001,<class 'keras.optimizers.SGD'>\r\n30,0.0,-0.06117733305871153,1.050414535100227,0.0,1.0466488873291957,-0.04934450160515936,0.19999999999999998,normal,3000,325,relu,sigmoid,mse,500,30,1.0,<class 'keras.optimizers.Adam'>\r\n10,0.0,-0.22330016052695473,0.6943834601518707,0.0,0.6916910868726278,-0.124912670568416,0.0,uniform,3000,100,sigmoid,relu,mae,2000,10,0.1,<class 'keras.optimizers.SGD'>\r\n10,0.0,-0.021660796471746707,1.0004304707560268,0.0,0.9982786290347576,-0.0003427976840420773,0.09999999999999999,normal,2000,250,sigmoid,relu,mse,500,10,0.1,<class 'keras.optimizers.Adam'>\r\n10,0.0,-0.4863396825936328,0.8720775461973583,0.00024679171952059507,0.8620093786402753,-0.4671794352562804,0.09999999999999999,normal,3000,250,relu,sigmoid,mae,1000,10,0.1,<class 'keras.optimizers.SGD'>\r\n30,0.00032894736489795734,-0.33370781199796373,0.8732570537555057,0.0,0.866916883442747,-0.28448471583818136,0.09999999999999999,uniform,2000,175,relu,sigmoid,mse,2000,30,0.1,<class 'keras.optimizers.SGD'>\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/456071525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aclyde11","id":17033421,"node_id":"MDQ6VXNlcjE3MDMzNDIx","avatar_url":"https://avatars.githubusercontent.com/u/17033421?v=4","gravatar_id":"","url":"https://api.github.com/users/aclyde11","html_url":"https://github.com/aclyde11","followers_url":"https://api.github.com/users/aclyde11/followers","following_url":"https://api.github.com/users/aclyde11/following{/other_user}","gists_url":"https://api.github.com/users/aclyde11/gists{/gist_id}","starred_url":"https://api.github.com/users/aclyde11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aclyde11/subscriptions","organizations_url":"https://api.github.com/users/aclyde11/orgs","repos_url":"https://api.github.com/users/aclyde11/repos","events_url":"https://api.github.com/users/aclyde11/events{/privacy}","received_events_url":"https://api.github.com/users/aclyde11/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/456173657","html_url":"https://github.com/autonomio/talos/issues/179#issuecomment-456173657","issue_url":"https://api.github.com/repos/autonomio/talos/issues/179","id":456173657,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjE3MzY1Nw==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2019-01-21T19:10:38Z","updated_at":"2019-01-21T19:10:38Z","author_association":"CONTRIBUTOR","body":"See #146 as it's resolved and probably the same issue you are having. The fix is very simple, wrap params inside `OrderedDict` from after `from collections import OrderedDict`. \r\n\r\nAlso do make sure that you get 0.4.6 or 0.4.7 `from print(talos.__version__)`.\r\n\r\nLet's see where that lands you :) ","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/456173657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/466250615","html_url":"https://github.com/autonomio/talos/issues/179#issuecomment-466250615","issue_url":"https://api.github.com/repos/autonomio/talos/issues/179","id":466250615,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjI1MDYxNQ==","user":{"login":"Joe310","id":1937555,"node_id":"MDQ6VXNlcjE5Mzc1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1937555?v=4","gravatar_id":"","url":"https://api.github.com/users/Joe310","html_url":"https://github.com/Joe310","followers_url":"https://api.github.com/users/Joe310/followers","following_url":"https://api.github.com/users/Joe310/following{/other_user}","gists_url":"https://api.github.com/users/Joe310/gists{/gist_id}","starred_url":"https://api.github.com/users/Joe310/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joe310/subscriptions","organizations_url":"https://api.github.com/users/Joe310/orgs","repos_url":"https://api.github.com/users/Joe310/repos","events_url":"https://api.github.com/users/Joe310/events{/privacy}","received_events_url":"https://api.github.com/users/Joe310/received_events","type":"User","site_admin":false},"created_at":"2019-02-22T02:34:09Z","updated_at":"2019-02-22T02:34:09Z","author_association":"NONE","body":"I ran into this same problem when trying to use the categorical_accuracy metric.  I was able to fix it by adding categorical_accuracy and val_categorical_accuracy to the list returned by metric_names() in reducers.reduce_prepare(). \r\n\r\nYou may want to update metric_names() to include all the metrics in keras.metrics or add a check to ensure the self.reduction_metric is actually included in the list returned by metric_names().","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/466250615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Joe310","id":1937555,"node_id":"MDQ6VXNlcjE5Mzc1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1937555?v=4","gravatar_id":"","url":"https://api.github.com/users/Joe310","html_url":"https://github.com/Joe310","followers_url":"https://api.github.com/users/Joe310/followers","following_url":"https://api.github.com/users/Joe310/following{/other_user}","gists_url":"https://api.github.com/users/Joe310/gists{/gist_id}","starred_url":"https://api.github.com/users/Joe310/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Joe310/subscriptions","organizations_url":"https://api.github.com/users/Joe310/orgs","repos_url":"https://api.github.com/users/Joe310/repos","events_url":"https://api.github.com/users/Joe310/events{/privacy}","received_events_url":"https://api.github.com/users/Joe310/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/531858378","html_url":"https://github.com/autonomio/talos/issues/179#issuecomment-531858378","issue_url":"https://api.github.com/repos/autonomio/talos/issues/179","id":531858378,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTg1ODM3OA==","user":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"created_at":"2019-09-16T16:40:38Z","updated_at":"2019-09-16T16:40:38Z","author_association":"CONTRIBUTOR","body":"Closing here as these issues are no longer relevant in the current versions of Talos.","reactions":{"url":"https://api.github.com/repos/autonomio/talos/issues/comments/531858378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false}},{"id":2637072447,"node_id":"MDExOkNsb3NlZEV2ZW50MjYzNzA3MjQ0Nw==","url":"https://api.github.com/repos/autonomio/talos/issues/events/2637072447","actor":{"login":"mikkokotila","id":7943188,"node_id":"MDQ6VXNlcjc5NDMxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7943188?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkokotila","html_url":"https://github.com/mikkokotila","followers_url":"https://api.github.com/users/mikkokotila/followers","following_url":"https://api.github.com/users/mikkokotila/following{/other_user}","gists_url":"https://api.github.com/users/mikkokotila/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkokotila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkokotila/subscriptions","organizations_url":"https://api.github.com/users/mikkokotila/orgs","repos_url":"https://api.github.com/users/mikkokotila/repos","events_url":"https://api.github.com/users/mikkokotila/events{/privacy}","received_events_url":"https://api.github.com/users/mikkokotila/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-09-16T16:40:39Z","state_reason":null,"performed_via_github_app":null}]