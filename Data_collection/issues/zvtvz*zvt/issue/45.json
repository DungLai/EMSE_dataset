{"url":"https://api.github.com/repos/zvtvz/zvt/issues/45","repository_url":"https://api.github.com/repos/zvtvz/zvt","labels_url":"https://api.github.com/repos/zvtvz/zvt/issues/45/labels{/name}","comments_url":"https://api.github.com/repos/zvtvz/zvt/issues/45/comments","events_url":"https://api.github.com/repos/zvtvz/zvt/issues/45/events","html_url":"https://github.com/zvtvz/zvt/issues/45","id":553859656,"node_id":"MDU6SXNzdWU1NTM4NTk2NTY=","number":45,"title":"BlockStock记录新浪板块资金流入出错","user":{"login":"manstiilin","id":59165635,"node_id":"MDQ6VXNlcjU5MTY1NjM1","avatar_url":"https://avatars.githubusercontent.com/u/59165635?v=4","gravatar_id":"","url":"https://api.github.com/users/manstiilin","html_url":"https://github.com/manstiilin","followers_url":"https://api.github.com/users/manstiilin/followers","following_url":"https://api.github.com/users/manstiilin/following{/other_user}","gists_url":"https://api.github.com/users/manstiilin/gists{/gist_id}","starred_url":"https://api.github.com/users/manstiilin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manstiilin/subscriptions","organizations_url":"https://api.github.com/users/manstiilin/orgs","repos_url":"https://api.github.com/users/manstiilin/repos","events_url":"https://api.github.com/users/manstiilin/events{/privacy}","received_events_url":"https://api.github.com/users/manstiilin/received_events","type":"User","site_admin":false},"labels":[{"id":1303735434,"node_id":"MDU6TGFiZWwxMzAzNzM1NDM0","url":"https://api.github.com/repos/zvtvz/zvt/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-01-22T23:44:25Z","updated_at":"2020-01-30T05:13:07Z","closed_at":"2020-01-30T05:13:07Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"```\r\nIn [2]: BlockMoneyFlow.record_data(codes=['gn_jght'])\r\nBlockMoneyFlow registered recorders:{'sina': <class 'zvt.recorders.sina.money_flow.sina_block_money_flow_recorder.SinaBlockMoneyFlowRecorder'>}\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-2-3b3704d6ea6e> in <module>\r\n----> 1 BlockMoneyFlow.record_data(codes=['gn_jght'])\r\n\r\n~/workspace/github/zvtvz/zvt/zvdata/__init__.py in record_data(cls, provider_index, provider, exchanges, entity_ids, codes, batch_size, force_update, sleeping_time, default_size, real_time, fix_duplicate_way, start_timestamp, end_timestamp, close_hour, close_minute)\r\n    232                 # 2)the table of schema with IntervalLevel format is {entity}_{level}_{event}\r\n    233                 table: str = cls.__tablename__\r\n--> 234                 level = IntervalLevel(table.split('_')[1])\r\n    235                 r = recorder_class(exchanges=exchanges, entity_ids=entity_ids, codes=codes, batch_size=batch_size,\r\n    236                                    force_update=force_update, sleeping_time=sleeping_time, default_size=default_size,\r\n\r\n~/workspace/github/zvtvz/zvt/ve/lib/python3.6/enum.py in __call__(cls, value, names, module, qualname, type, start)\r\n    289         \"\"\"\r\n    290         if names is None:  # simple value lookup\r\n--> 291             return cls.__new__(cls, value)\r\n    292         # otherwise, functional API: we're creating a new Enum type\r\n    293         return cls._create_(value, names, module=module, qualname=qualname, type=type, start=start)\r\n\r\n~/workspace/github/zvtvz/zvt/ve/lib/python3.6/enum.py in __new__(cls, value)\r\n    531                     return member\r\n    532         # still not found -- try _missing_ hook\r\n--> 533         return cls._missing_(value)\r\n    534\r\n    535     def _generate_next_value_(name, start, count, last_values):\r\n\r\n~/workspace/github/zvtvz/zvt/ve/lib/python3.6/enum.py in _missing_(cls, value)\r\n    544     @classmethod\r\n    545     def _missing_(cls, value):\r\n--> 546         raise ValueError(\"%r is not a valid %s\" % (value, cls.__name__))\r\n    547\r\n    548     def __repr__(self):\r\n\r\nValueError: 'money' is not a valid IntervalLevel\r\n```\r\n\r\n直接使用SinaBlockMoneyFlowRecorder可以，应该是代理的构造函数的问题","closed_by":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/45/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zvtvz/zvt/issues/45/timeline","performed_via_github_app":null,"state_reason":"completed"}