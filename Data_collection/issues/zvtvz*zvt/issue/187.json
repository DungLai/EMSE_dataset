{"url":"https://api.github.com/repos/zvtvz/zvt/issues/187","repository_url":"https://api.github.com/repos/zvtvz/zvt","labels_url":"https://api.github.com/repos/zvtvz/zvt/issues/187/labels{/name}","comments_url":"https://api.github.com/repos/zvtvz/zvt/issues/187/comments","events_url":"https://api.github.com/repos/zvtvz/zvt/issues/187/events","html_url":"https://github.com/zvtvz/zvt/issues/187","id":996278764,"node_id":"I_kwDOCrI2ac47YgHs","number":187,"title":"所有的交易测试都会报一个数据为空的错误，examples和tests里的都是这样","user":{"login":"krqi","id":5196666,"node_id":"MDQ6VXNlcjUxOTY2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5196666?v=4","gravatar_id":"","url":"https://api.github.com/users/krqi","html_url":"https://github.com/krqi","followers_url":"https://api.github.com/users/krqi/followers","following_url":"https://api.github.com/users/krqi/following{/other_user}","gists_url":"https://api.github.com/users/krqi/gists{/gist_id}","starred_url":"https://api.github.com/users/krqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krqi/subscriptions","organizations_url":"https://api.github.com/users/krqi/orgs","repos_url":"https://api.github.com/users/krqi/repos","events_url":"https://api.github.com/users/krqi/events{/privacy}","received_events_url":"https://api.github.com/users/krqi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-09-14T17:45:36Z","updated_at":"2021-09-14T18:09:33Z","closed_at":"2021-09-14T18:09:33Z","author_association":"NONE","active_lock_reason":null,"body":"2021-09-15 00:45:21,832  WARNING  MainThread  trader:macddaytrader has run before,old result would be deleted\r\n2021-09-15 00:45:21,869  INFO  MainThread  init_account,holding size:0 profit:None input_money:1000000 cash:1000000 value:0 all_value:1000000\r\n2021-09-15 00:45:21,885  INFO  MainThread  load_data start\r\n2021-09-15 00:45:21,885  INFO  MainThread  query_data params:{'entity_ids': None, 'provider': 'joinquant', 'columns': [<sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000223A6116E50>, <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000223A6120450>, <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000223A6120270>, <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000223A6116EF0>, <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000223A61204F0>, <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000223A6120310>, <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000223A6116F90>, <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000223A61203B0>], 'start_timestamp': Timestamp('2018-11-12 00:00:00'), 'end_timestamp': Timestamp('2020-01-01 00:00:00'), 'filters': None, 'order': None, 'limit': None, 'level': <IntervalLevel.LEVEL_1DAY: '1d'>, 'index': ['entity_id', 'timestamp'], 'time_field': 'timestamp'}\r\n2021-09-15 00:45:21,898  INFO  MainThread  load_data finished, cost_time:0.012971162796020508\r\n2021-09-15 00:45:21,898  INFO  MainThread  trader level:IntervalLevel.LEVEL_1DAY,selectors level:[<IntervalLevel.LEVEL_1DAY: '1d'>]\r\nTraceback (most recent call last):\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm 2021.2\\plugins\\python\\helpers\\pydev\\pydevd.py\", line 1483, in _exec\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm 2021.2\\plugins\\python\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"E:/code/zvt/env_zvt/examples/trader/macd_day_trader.py\", line 80, in <module>\r\n    trader = MacdDayTrader(start_timestamp='2019-01-01', end_timestamp='2020-01-01')\r\n  File \"E:\\code\\zvt\\env_zvt\\zvt\\trader\\trader.py\", line 491, in __init__\r\n    super().__init__(entity_ids, exchanges, codes, start_timestamp, end_timestamp, provider, level, trader_name,\r\n  File \"E:\\code\\zvt\\env_zvt\\zvt\\trader\\trader.py\", line 112, in __init__\r\n    selector.run()\r\n  File \"E:\\code\\zvt\\env_zvt\\zvt\\factors\\target_selector.py\", line 99, in run\r\n    raise Exception('no data for factor:{},{}'.format(factor.factor_name, factor))\r\nException: no data for factor:goldcrossfactor_1d,<zvt.factors.macd.macd_factor.GoldCrossFactor object at 0x00000223A6D9C430>\r\n\r\nProcess finished with exit code 1","closed_by":{"login":"krqi","id":5196666,"node_id":"MDQ6VXNlcjUxOTY2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5196666?v=4","gravatar_id":"","url":"https://api.github.com/users/krqi","html_url":"https://github.com/krqi","followers_url":"https://api.github.com/users/krqi/followers","following_url":"https://api.github.com/users/krqi/following{/other_user}","gists_url":"https://api.github.com/users/krqi/gists{/gist_id}","starred_url":"https://api.github.com/users/krqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krqi/subscriptions","organizations_url":"https://api.github.com/users/krqi/orgs","repos_url":"https://api.github.com/users/krqi/repos","events_url":"https://api.github.com/users/krqi/events{/privacy}","received_events_url":"https://api.github.com/users/krqi/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zvtvz/zvt/issues/187/timeline","performed_via_github_app":null,"state_reason":"completed"}