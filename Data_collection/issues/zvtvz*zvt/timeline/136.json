[{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/763522932","html_url":"https://github.com/zvtvz/zvt/issues/136#issuecomment-763522932","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/136","id":763522932,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzUyMjkzMg==","user":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"created_at":"2021-01-20T10:59:50Z","updated_at":"2021-01-20T11:06:43Z","author_association":"MEMBER","body":"zvt_context其实是当类来用了，python里面module和class很多时候作用类似。\r\nzvt_context目前是只维护最简单的关系，整个系统在 约束 和 方便 上做了一些平衡，定位还是方便扩展数据，并假设大家遵守entity->entity event的数据关系(使用register注册)。\r\n\r\n不同数据的统一操作，目前没有强约束，大部分是通过自己读取数据，然后在py生态里面去做(sqlite存储起辅助作用)。","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/763522932/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764202259","html_url":"https://github.com/zvtvz/zvt/issues/136#issuecomment-764202259","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/136","id":764202259,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDIwMjI1OQ==","user":{"login":"svjack","id":27874014,"node_id":"MDQ6VXNlcjI3ODc0MDE0","avatar_url":"https://avatars.githubusercontent.com/u/27874014?v=4","gravatar_id":"","url":"https://api.github.com/users/svjack","html_url":"https://github.com/svjack","followers_url":"https://api.github.com/users/svjack/followers","following_url":"https://api.github.com/users/svjack/following{/other_user}","gists_url":"https://api.github.com/users/svjack/gists{/gist_id}","starred_url":"https://api.github.com/users/svjack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svjack/subscriptions","organizations_url":"https://api.github.com/users/svjack/orgs","repos_url":"https://api.github.com/users/svjack/repos","events_url":"https://api.github.com/users/svjack/events{/privacy}","received_events_url":"https://api.github.com/users/svjack/received_events","type":"User","site_admin":false},"created_at":"2021-01-21T03:06:21Z","updated_at":"2021-01-21T03:06:21Z","author_association":"NONE","body":"kdata部分你都做了按level预先采样存表，并根据query关于level过滤。\r\n而不是对于最小细密度动态采样生成数据。\r\n设计的IntervalLevel to_pd_freq 接口在工程本身并没有使用，\r\n当然可以用于本地采样，那么有没有先根据条件过滤再动态采样的做法呢？","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764202259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"svjack","id":27874014,"node_id":"MDQ6VXNlcjI3ODc0MDE0","avatar_url":"https://avatars.githubusercontent.com/u/27874014?v=4","gravatar_id":"","url":"https://api.github.com/users/svjack","html_url":"https://github.com/svjack","followers_url":"https://api.github.com/users/svjack/followers","following_url":"https://api.github.com/users/svjack/following{/other_user}","gists_url":"https://api.github.com/users/svjack/gists{/gist_id}","starred_url":"https://api.github.com/users/svjack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svjack/subscriptions","organizations_url":"https://api.github.com/users/svjack/orgs","repos_url":"https://api.github.com/users/svjack/repos","events_url":"https://api.github.com/users/svjack/events{/privacy}","received_events_url":"https://api.github.com/users/svjack/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764202841","html_url":"https://github.com/zvtvz/zvt/issues/136#issuecomment-764202841","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/136","id":764202841,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDIwMjg0MQ==","user":{"login":"svjack","id":27874014,"node_id":"MDQ6VXNlcjI3ODc0MDE0","avatar_url":"https://avatars.githubusercontent.com/u/27874014?v=4","gravatar_id":"","url":"https://api.github.com/users/svjack","html_url":"https://github.com/svjack","followers_url":"https://api.github.com/users/svjack/followers","following_url":"https://api.github.com/users/svjack/following{/other_user}","gists_url":"https://api.github.com/users/svjack/gists{/gist_id}","starred_url":"https://api.github.com/users/svjack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svjack/subscriptions","organizations_url":"https://api.github.com/users/svjack/orgs","repos_url":"https://api.github.com/users/svjack/repos","events_url":"https://api.github.com/users/svjack/events{/privacy}","received_events_url":"https://api.github.com/users/svjack/received_events","type":"User","site_admin":false},"created_at":"2021-01-21T03:08:08Z","updated_at":"2021-01-21T03:08:08Z","author_association":"NONE","body":"当然这会影响速度。","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764202841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"svjack","id":27874014,"node_id":"MDQ6VXNlcjI3ODc0MDE0","avatar_url":"https://avatars.githubusercontent.com/u/27874014?v=4","gravatar_id":"","url":"https://api.github.com/users/svjack","html_url":"https://github.com/svjack","followers_url":"https://api.github.com/users/svjack/followers","following_url":"https://api.github.com/users/svjack/following{/other_user}","gists_url":"https://api.github.com/users/svjack/gists{/gist_id}","starred_url":"https://api.github.com/users/svjack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svjack/subscriptions","organizations_url":"https://api.github.com/users/svjack/orgs","repos_url":"https://api.github.com/users/svjack/repos","events_url":"https://api.github.com/users/svjack/events{/privacy}","received_events_url":"https://api.github.com/users/svjack/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764205341","html_url":"https://github.com/zvtvz/zvt/issues/136#issuecomment-764205341","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/136","id":764205341,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDIwNTM0MQ==","user":{"login":"svjack","id":27874014,"node_id":"MDQ6VXNlcjI3ODc0MDE0","avatar_url":"https://avatars.githubusercontent.com/u/27874014?v=4","gravatar_id":"","url":"https://api.github.com/users/svjack","html_url":"https://github.com/svjack","followers_url":"https://api.github.com/users/svjack/followers","following_url":"https://api.github.com/users/svjack/following{/other_user}","gists_url":"https://api.github.com/users/svjack/gists{/gist_id}","starred_url":"https://api.github.com/users/svjack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svjack/subscriptions","organizations_url":"https://api.github.com/users/svjack/orgs","repos_url":"https://api.github.com/users/svjack/repos","events_url":"https://api.github.com/users/svjack/events{/privacy}","received_events_url":"https://api.github.com/users/svjack/received_events","type":"User","site_admin":false},"created_at":"2021-01-21T03:16:40Z","updated_at":"2021-01-21T03:16:40Z","author_association":"NONE","body":"to_pd_freq 并不支持LEVEL_1WEEK\r\nto_high_level_kdata 又只支持week\r\n按理说应该有一个如 pandas infer_freq 的函数根据timestamp 支持动态判断当前level (当然，这里由于\r\n时间序列有开收盘的间断性，并不能直接用infer_freq，而是根据预先采样数据设定level列）","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764205341/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"svjack","id":27874014,"node_id":"MDQ6VXNlcjI3ODc0MDE0","avatar_url":"https://avatars.githubusercontent.com/u/27874014?v=4","gravatar_id":"","url":"https://api.github.com/users/svjack","html_url":"https://github.com/svjack","followers_url":"https://api.github.com/users/svjack/followers","following_url":"https://api.github.com/users/svjack/following{/other_user}","gists_url":"https://api.github.com/users/svjack/gists{/gist_id}","starred_url":"https://api.github.com/users/svjack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svjack/subscriptions","organizations_url":"https://api.github.com/users/svjack/orgs","repos_url":"https://api.github.com/users/svjack/repos","events_url":"https://api.github.com/users/svjack/events{/privacy}","received_events_url":"https://api.github.com/users/svjack/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764342748","html_url":"https://github.com/zvtvz/zvt/issues/136#issuecomment-764342748","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/136","id":764342748,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDM0Mjc0OA==","user":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"created_at":"2021-01-21T05:09:06Z","updated_at":"2021-01-21T05:09:06Z","author_association":"MEMBER","body":"> to_pd_freq 并不支持LEVEL_1WEEK\r\n> to_high_level_kdata 又只支持week\r\n> 按理说应该有一个如 pandas infer_freq 的函数根据timestamp 支持动态判断当前level (当然，这里由于\r\n> 时间序列有开收盘的间断性，并不能直接用infer_freq，而是根据预先采样数据设定level列）\r\n\r\n嗯，低级别合成高级别并没有做完，也没有真正使用。\r\n主要目前抓各级别的数据还比较方便，个人也主要只使用日线和周线数据。\r\n能够帮忙完善的话，可以pr哈。","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764342748/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764431458","html_url":"https://github.com/zvtvz/zvt/issues/136#issuecomment-764431458","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/136","id":764431458,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDQzMTQ1OA==","user":{"login":"svjack","id":27874014,"node_id":"MDQ6VXNlcjI3ODc0MDE0","avatar_url":"https://avatars.githubusercontent.com/u/27874014?v=4","gravatar_id":"","url":"https://api.github.com/users/svjack","html_url":"https://github.com/svjack","followers_url":"https://api.github.com/users/svjack/followers","following_url":"https://api.github.com/users/svjack/following{/other_user}","gists_url":"https://api.github.com/users/svjack/gists{/gist_id}","starred_url":"https://api.github.com/users/svjack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svjack/subscriptions","organizations_url":"https://api.github.com/users/svjack/orgs","repos_url":"https://api.github.com/users/svjack/repos","events_url":"https://api.github.com/users/svjack/events{/privacy}","received_events_url":"https://api.github.com/users/svjack/received_events","type":"User","site_admin":false},"created_at":"2021-01-21T07:05:08Z","updated_at":"2021-01-21T07:05:08Z","author_association":"NONE","body":"> > to_pd_freq 并不支持LEVEL_1WEEK\r\n> > to_high_level_kdata 又只支持week\r\n> > 按理说应该有一个如 pandas infer_freq 的函数根据timestamp 支持动态判断当前level (当然，这里由于\r\n> > 时间序列有开收盘的间断性，并不能直接用infer_freq，而是根据预先采样数据设定level列）\r\n> \r\n> 嗯，低级别合成高级别并没有做完，也没有真正使用。\r\n> 主要目前抓各级别的数据还比较方便，个人也主要只使用日线和周线数据。\r\n> 能够帮忙完善的话，可以pr哈。\r\n\r\n另外kdata表名的命名，比如5m 1wk 1mon这些都与pandas内建的采样offset不一致，其相对应的是\r\n5T 1W 1M如果能更改一下，就可以根据表名直接与IntervalLevel做比较，看是否支持某个high_level\r\n采样。","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764431458/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"svjack","id":27874014,"node_id":"MDQ6VXNlcjI3ODc0MDE0","avatar_url":"https://avatars.githubusercontent.com/u/27874014?v=4","gravatar_id":"","url":"https://api.github.com/users/svjack","html_url":"https://github.com/svjack","followers_url":"https://api.github.com/users/svjack/followers","following_url":"https://api.github.com/users/svjack/following{/other_user}","gists_url":"https://api.github.com/users/svjack/gists{/gist_id}","starred_url":"https://api.github.com/users/svjack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svjack/subscriptions","organizations_url":"https://api.github.com/users/svjack/orgs","repos_url":"https://api.github.com/users/svjack/repos","events_url":"https://api.github.com/users/svjack/events{/privacy}","received_events_url":"https://api.github.com/users/svjack/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764451850","html_url":"https://github.com/zvtvz/zvt/issues/136#issuecomment-764451850","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/136","id":764451850,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDQ1MTg1MA==","user":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"created_at":"2021-01-21T07:53:45Z","updated_at":"2021-01-21T07:53:45Z","author_association":"MEMBER","body":"> > > to_pd_freq 并不支持LEVEL_1WEEK\r\n> > > to_high_level_kdata 又只支持week\r\n> > > 按理说应该有一个如 pandas infer_freq 的函数根据timestamp 支持动态判断当前level (当然，这里由于\r\n> > > 时间序列有开收盘的间断性，并不能直接用infer_freq，而是根据预先采样数据设定level列）\r\n> > \r\n> > \r\n> > 嗯，低级别合成高级别并没有做完，也没有真正使用。\r\n> > 主要目前抓各级别的数据还比较方便，个人也主要只使用日线和周线数据。\r\n> > 能够帮忙完善的话，可以pr哈。\r\n> \r\n> 另外kdata表名的命名，比如5m 1wk 1mon这些都与pandas内建的采样offset不一致，其相对应的是\r\n> 5T 1W 1M如果能更改一下，就可以根据表名直接与IntervalLevel做比较，看是否支持某个high_level\r\n> 采样。\r\n\r\n对的，一开始并没有强依赖pandas，也没做多级别，历史原因。","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/764451850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false}},{"id":5264945319,"node_id":"CE_lADOCrI2ac4vEfKuzwAAAAE50LCn","url":"https://api.github.com/repos/zvtvz/zvt/issues/events/5264945319","actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-09-07T10:44:47Z","state_reason":null,"performed_via_github_app":null}]