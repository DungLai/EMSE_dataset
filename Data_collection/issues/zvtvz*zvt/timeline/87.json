[{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/667457627","html_url":"https://github.com/zvtvz/zvt/issues/87#issuecomment-667457627","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/87","id":667457627,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQ1NzYyNw==","user":{"login":"scanfyu","id":3198940,"node_id":"MDQ6VXNlcjMxOTg5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/3198940?v=4","gravatar_id":"","url":"https://api.github.com/users/scanfyu","html_url":"https://github.com/scanfyu","followers_url":"https://api.github.com/users/scanfyu/followers","following_url":"https://api.github.com/users/scanfyu/following{/other_user}","gists_url":"https://api.github.com/users/scanfyu/gists{/gist_id}","starred_url":"https://api.github.com/users/scanfyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scanfyu/subscriptions","organizations_url":"https://api.github.com/users/scanfyu/orgs","repos_url":"https://api.github.com/users/scanfyu/repos","events_url":"https://api.github.com/users/scanfyu/events{/privacy}","received_events_url":"https://api.github.com/users/scanfyu/received_events","type":"User","site_admin":false},"created_at":"2020-08-01T02:53:59Z","updated_at":"2020-08-01T02:53:59Z","author_association":"CONTRIBUTOR","body":"A new plugin for zvt, see https://github.com/scanfyu/zvt-tushare.","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/667457627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"scanfyu","id":3198940,"node_id":"MDQ6VXNlcjMxOTg5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/3198940?v=4","gravatar_id":"","url":"https://api.github.com/users/scanfyu","html_url":"https://github.com/scanfyu","followers_url":"https://api.github.com/users/scanfyu/followers","following_url":"https://api.github.com/users/scanfyu/following{/other_user}","gists_url":"https://api.github.com/users/scanfyu/gists{/gist_id}","starred_url":"https://api.github.com/users/scanfyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scanfyu/subscriptions","organizations_url":"https://api.github.com/users/scanfyu/orgs","repos_url":"https://api.github.com/users/scanfyu/repos","events_url":"https://api.github.com/users/scanfyu/events{/privacy}","received_events_url":"https://api.github.com/users/scanfyu/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/667747953","html_url":"https://github.com/zvtvz/zvt/issues/87#issuecomment-667747953","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/87","id":667747953,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzc0Nzk1Mw==","user":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"created_at":"2020-08-03T00:38:47Z","updated_at":"2020-08-03T00:49:14Z","author_association":"MEMBER","body":"@scanfyu \r\n建议实现步骤\r\n1)复用Stock entity，只是添加tushare provider\r\n加上这句:\r\n```\r\nregister_schema(providers=['joinquant', 'eastmoney', 'exchange', 'sina','tushare'], db_name='stock_meta',\r\n                schema_base=StockMetaBase)\r\n```\r\n这样其他人安装zvt-tushare,获得tushare数据的能力，其他模块直接复用\r\n2）其他数据属于entity event\r\n参考\r\nhttps://zvtvz.github.io/zvt/#/data_extending\r\nhttps://github.com/zvtvz/zvt-ccxt\r\n\r\n然后就是重复以下步骤\r\n\r\n- 定义domain\r\n\r\n- 根据provider提供的api,决定如何使用evaluate_start_end_size_timestamps","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/667747953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false}},{"id":3613828885,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYxMzgyODg4NQ==","url":"https://api.github.com/repos/zvtvz/zvt/issues/events/3613828885","actor":{"login":"scanfyu","id":3198940,"node_id":"MDQ6VXNlcjMxOTg5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/3198940?v=4","gravatar_id":"","url":"https://api.github.com/users/scanfyu","html_url":"https://github.com/scanfyu","followers_url":"https://api.github.com/users/scanfyu/followers","following_url":"https://api.github.com/users/scanfyu/following{/other_user}","gists_url":"https://api.github.com/users/scanfyu/gists{/gist_id}","starred_url":"https://api.github.com/users/scanfyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scanfyu/subscriptions","organizations_url":"https://api.github.com/users/scanfyu/orgs","repos_url":"https://api.github.com/users/scanfyu/repos","events_url":"https://api.github.com/users/scanfyu/events{/privacy}","received_events_url":"https://api.github.com/users/scanfyu/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-03T00:38:47Z","performed_via_github_app":null},{"id":3613828887,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MTM4Mjg4ODc=","url":"https://api.github.com/repos/zvtvz/zvt/issues/events/3613828887","actor":{"login":"scanfyu","id":3198940,"node_id":"MDQ6VXNlcjMxOTg5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/3198940?v=4","gravatar_id":"","url":"https://api.github.com/users/scanfyu","html_url":"https://github.com/scanfyu","followers_url":"https://api.github.com/users/scanfyu/followers","following_url":"https://api.github.com/users/scanfyu/following{/other_user}","gists_url":"https://api.github.com/users/scanfyu/gists{/gist_id}","starred_url":"https://api.github.com/users/scanfyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scanfyu/subscriptions","organizations_url":"https://api.github.com/users/scanfyu/orgs","repos_url":"https://api.github.com/users/scanfyu/repos","events_url":"https://api.github.com/users/scanfyu/events{/privacy}","received_events_url":"https://api.github.com/users/scanfyu/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-03T00:38:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/667947130","html_url":"https://github.com/zvtvz/zvt/issues/87#issuecomment-667947130","issue_url":"https://api.github.com/repos/zvtvz/zvt/issues/87","id":667947130,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzk0NzEzMA==","user":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"created_at":"2020-08-03T10:33:04Z","updated_at":"2020-08-04T01:01:52Z","author_association":"MEMBER","body":"@scanfyu \r\n>这里我是在domain下边新建一个meta并继承stock_meta还是说直接在domain下建立stock_meta并继承啊？\r\n\r\n两种方案\r\n1）\r\n请使用zvt0.8.5以上版本，参考代码\r\nhttps://github.com/zvtvz/zvt/blob/master/tests/contract/test_add_provider_plugin.py\r\n\r\n可以不重新建meta,只是在domain的__init__里面执行如下语句：\r\n```\r\n    from zvt.contract.register import register_schema\r\n    from zvt.domain.meta.stock_meta import StockMetaBase\r\n\r\n    register_schema(providers=['tushare'], db_name='stock_meta',\r\n                    schema_base=StockMetaBase)\r\n```\r\n这样便注册了tushare provider,并创建了相应的数据库\r\n\r\n2)自己新定义一种entity，比如TushareStock\r\n\r\n这样Factor,StockTrader,get_kdata等如果要使用Tushare的entity数据,entity schema需要重新指定，问题不大。\r\n\r\n推荐使用方法一，尽可能复用现在的代码。\r\nEntity只是提供标的的列表功能和一些组合，主要还是其他数据。","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/comments/667947130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false}},{"id":3615328876,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYxNTMyODg3Ng==","url":"https://api.github.com/repos/zvtvz/zvt/issues/events/3615328876","actor":{"login":"scanfyu","id":3198940,"node_id":"MDQ6VXNlcjMxOTg5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/3198940?v=4","gravatar_id":"","url":"https://api.github.com/users/scanfyu","html_url":"https://github.com/scanfyu","followers_url":"https://api.github.com/users/scanfyu/followers","following_url":"https://api.github.com/users/scanfyu/following{/other_user}","gists_url":"https://api.github.com/users/scanfyu/gists{/gist_id}","starred_url":"https://api.github.com/users/scanfyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scanfyu/subscriptions","organizations_url":"https://api.github.com/users/scanfyu/orgs","repos_url":"https://api.github.com/users/scanfyu/repos","events_url":"https://api.github.com/users/scanfyu/events{/privacy}","received_events_url":"https://api.github.com/users/scanfyu/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-03T10:33:04Z","performed_via_github_app":null},{"id":3615328878,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MTUzMjg4Nzg=","url":"https://api.github.com/repos/zvtvz/zvt/issues/events/3615328878","actor":{"login":"scanfyu","id":3198940,"node_id":"MDQ6VXNlcjMxOTg5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/3198940?v=4","gravatar_id":"","url":"https://api.github.com/users/scanfyu","html_url":"https://github.com/scanfyu","followers_url":"https://api.github.com/users/scanfyu/followers","following_url":"https://api.github.com/users/scanfyu/following{/other_user}","gists_url":"https://api.github.com/users/scanfyu/gists{/gist_id}","starred_url":"https://api.github.com/users/scanfyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scanfyu/subscriptions","organizations_url":"https://api.github.com/users/scanfyu/orgs","repos_url":"https://api.github.com/users/scanfyu/repos","events_url":"https://api.github.com/users/scanfyu/events{/privacy}","received_events_url":"https://api.github.com/users/scanfyu/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-03T10:33:04Z","performed_via_github_app":null},{"actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"created_at":"2020-08-08T02:39:46Z","updated_at":"2020-08-08T02:39:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/93","repository_url":"https://api.github.com/repos/zvtvz/zvt","labels_url":"https://api.github.com/repos/zvtvz/zvt/issues/93/labels{/name}","comments_url":"https://api.github.com/repos/zvtvz/zvt/issues/93/comments","events_url":"https://api.github.com/repos/zvtvz/zvt/issues/93/events","html_url":"https://github.com/zvtvz/zvt/issues/93","id":675408151,"node_id":"MDU6SXNzdWU2NzU0MDgxNTE=","number":93,"title":"[data]北向资金(沪深港通)持股数据","user":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-08-08T02:37:25Z","updated_at":"2022-06-14T10:22:41Z","closed_at":"2021-05-21T01:20:46Z","author_association":"MEMBER","active_lock_reason":null,"repository":{"id":179451497,"node_id":"MDEwOlJlcG9zaXRvcnkxNzk0NTE0OTc=","name":"zvt","full_name":"zvtvz/zvt","private":false,"owner":{"login":"zvtvz","id":49115722,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ5MTE1NzIy","avatar_url":"https://avatars.githubusercontent.com/u/49115722?v=4","gravatar_id":"","url":"https://api.github.com/users/zvtvz","html_url":"https://github.com/zvtvz","followers_url":"https://api.github.com/users/zvtvz/followers","following_url":"https://api.github.com/users/zvtvz/following{/other_user}","gists_url":"https://api.github.com/users/zvtvz/gists{/gist_id}","starred_url":"https://api.github.com/users/zvtvz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zvtvz/subscriptions","organizations_url":"https://api.github.com/users/zvtvz/orgs","repos_url":"https://api.github.com/users/zvtvz/repos","events_url":"https://api.github.com/users/zvtvz/events{/privacy}","received_events_url":"https://api.github.com/users/zvtvz/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/zvtvz/zvt","description":"modular quant framework.","fork":false,"url":"https://api.github.com/repos/zvtvz/zvt","forks_url":"https://api.github.com/repos/zvtvz/zvt/forks","keys_url":"https://api.github.com/repos/zvtvz/zvt/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zvtvz/zvt/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zvtvz/zvt/teams","hooks_url":"https://api.github.com/repos/zvtvz/zvt/hooks","issue_events_url":"https://api.github.com/repos/zvtvz/zvt/issues/events{/number}","events_url":"https://api.github.com/repos/zvtvz/zvt/events","assignees_url":"https://api.github.com/repos/zvtvz/zvt/assignees{/user}","branches_url":"https://api.github.com/repos/zvtvz/zvt/branches{/branch}","tags_url":"https://api.github.com/repos/zvtvz/zvt/tags","blobs_url":"https://api.github.com/repos/zvtvz/zvt/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zvtvz/zvt/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zvtvz/zvt/git/refs{/sha}","trees_url":"https://api.github.com/repos/zvtvz/zvt/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zvtvz/zvt/statuses/{sha}","languages_url":"https://api.github.com/repos/zvtvz/zvt/languages","stargazers_url":"https://api.github.com/repos/zvtvz/zvt/stargazers","contributors_url":"https://api.github.com/repos/zvtvz/zvt/contributors","subscribers_url":"https://api.github.com/repos/zvtvz/zvt/subscribers","subscription_url":"https://api.github.com/repos/zvtvz/zvt/subscription","commits_url":"https://api.github.com/repos/zvtvz/zvt/commits{/sha}","git_commits_url":"https://api.github.com/repos/zvtvz/zvt/git/commits{/sha}","comments_url":"https://api.github.com/repos/zvtvz/zvt/comments{/number}","issue_comment_url":"https://api.github.com/repos/zvtvz/zvt/issues/comments{/number}","contents_url":"https://api.github.com/repos/zvtvz/zvt/contents/{+path}","compare_url":"https://api.github.com/repos/zvtvz/zvt/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zvtvz/zvt/merges","archive_url":"https://api.github.com/repos/zvtvz/zvt/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zvtvz/zvt/downloads","issues_url":"https://api.github.com/repos/zvtvz/zvt/issues{/number}","pulls_url":"https://api.github.com/repos/zvtvz/zvt/pulls{/number}","milestones_url":"https://api.github.com/repos/zvtvz/zvt/milestones{/number}","notifications_url":"https://api.github.com/repos/zvtvz/zvt/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zvtvz/zvt/labels{/name}","releases_url":"https://api.github.com/repos/zvtvz/zvt/releases{/id}","deployments_url":"https://api.github.com/repos/zvtvz/zvt/deployments","created_at":"2019-04-04T08:06:57Z","updated_at":"2023-01-19T01:33:22Z","pushed_at":"2023-01-17T10:25:08Z","git_url":"git://github.com/zvtvz/zvt.git","ssh_url":"git@github.com:zvtvz/zvt.git","clone_url":"https://github.com/zvtvz/zvt.git","svn_url":"https://github.com/zvtvz/zvt","homepage":"https://zvt.readthedocs.io/en/latest/","size":43710,"stargazers_count":2297,"watchers_count":2297,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":722,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":18,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["algorithmic-trading","backtesting","cryptocurrency","fintech","fundamental-analysis","machine-learning","ml","python","quant","quantitative-finance","quantitative-trading","stock","stock-market","technical-analysis","trading-bot","trading-platform","trading-strategies","zvt"],"visibility":"public","forks":722,"open_issues":18,"watchers":2297,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"- **define schema**\r\nhttps://github.com/zvtvz/zvt/blob/master/zvt/domain/misc/holder.py\r\n```\r\nclass HkHolder(HolderBase, Mixin):\r\n    __tablename__ = 'hk_holder'\r\n    # 股票代码\r\n    code = Column(String(length=32))\r\n    # 股票名称\r\n    name = Column(String(length=32))\r\n\r\n    # 市场通编码\t三种类型：310001-沪股通，310002-深股通，310005-港股通\r\n    holder_code = Column(String(length=32))\r\n    # 市场通名称\t三种类型：沪股通，深股通，港股通\r\n    holder_name = Column(String(length=32))\r\n\r\n    # 持股数量\r\n    share_number = Column(Float)\r\n    # 持股比例\r\n    share_ratio = Column(Float)\r\n```\r\n\r\n- **implement recorder**\r\n\r\nhttps://github.com/zvtvz/zvt/blob/master/zvt/recorders/joinquant/misc/joinquant_hk_holder_recorder.py\r\n\r\n- **use in zvt**\r\n\r\n下载数据\r\n```\r\nfrom zvt.domain import *\r\nHkHolder.record_data(provider='joinquant')\r\n```\r\n\r\n使用例子，最新的持仓比例前50\r\n```\r\nIn [13]: df=HkHolder.query_data(start_timestamp='2020-08-07',order=HkHolder.share_ratio.desc(),limit=50,provider='joinquant',columns=['code','name','share_ratio'])\r\n\r\nIn [14]: df\r\nOut[14]:\r\n      code  name  share_ratio  timestamp\r\n0   600009  上海机场        22.99 2020-08-07\r\n1   603489  八方股份        22.97 2020-08-07\r\n2   603501  韦尔股份        22.16 2020-08-07\r\n3   002572   索菲亚        20.07 2020-08-07\r\n4   300012  华测检测        19.93 2020-08-07\r\n5   600201  生物股份        18.01 2020-08-07\r\n6   601901  方正证券        17.87 2020-08-07\r\n7   000333  美的集团        16.75 2020-08-07\r\n8   603605   珀莱雅        16.48 2020-08-07\r\n9   000651  格力电器        16.35 2020-08-07\r\n10  300347  泰格医药        15.78 2020-08-07\r\n11  600406  国电南瑞        15.71 2020-08-07\r\n12  002008  大族激光        14.73 2020-08-07\r\n13  002439  启明星辰        14.61 2020-08-07\r\n14  002508  老板电器        14.14 2020-08-07\r\n15  600887  伊利股份        12.97 2020-08-07\r\n16  601138  工业富联        12.94 2020-08-07\r\n17  600298  安琪酵母        12.90 2020-08-07\r\n18  000338  潍柴动力        12.77 2020-08-07\r\n19  603882  金域医学        12.60 2020-08-07\r\n20  603259  药明康得        12.36 2020-08-07\r\n21  603939  益丰药房        12.23 2020-08-07\r\n22  002271  东方雨虹        11.68 2020-08-07\r\n23  600276  恒瑞医药        11.53 2020-08-07\r\n24  002557  洽洽食品        11.48 2020-08-07\r\n25  300124  汇川技术        11.44 2020-08-07\r\n26  600585  海螺水泥        11.31 2020-08-07\r\n27  600872  中炬高新        11.31 2020-08-07\r\n28  000157  中联重科        11.09 2020-08-07\r\n29  300244  迪安诊断        11.08 2020-08-07\r\n30  600885  宏发股份        10.86 2020-08-07\r\n31  601888  中国国旅        10.82 2020-08-07\r\n32  002410   广联达        10.38 2020-08-07\r\n33  600660  福耀玻璃        10.37 2020-08-07\r\n34  300285  国瓷材料        10.22 2020-08-07\r\n35  603713  密尔克卫        10.04 2020-08-07\r\n36  601100  恒立液压         9.90 2020-08-07\r\n37  600031  三一重工         9.86 2020-08-07\r\n38  600690  海尔智家         9.73 2020-08-07\r\n39  300383  光环新网         9.57 2020-08-07\r\n40  603915  国茂股份         9.30 2020-08-07\r\n41  002179  中航光电         9.15 2020-08-07\r\n42  603056  德邦股份         9.02 2020-08-07\r\n43  002027  分众传媒         8.87 2020-08-07\r\n44  002697  红旗连锁         8.64 2020-08-07\r\n45  603533  掌阅科技         8.51 2020-08-07\r\n46  600066  宇通客车         8.45 2020-08-07\r\n47  600519  贵州茅台         8.30 2020-08-07\r\n48  600835  上海机电         8.30 2020-08-07\r\n49  603737   三棵树         8.28 2020-08-07\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/zvtvz/zvt/issues/93/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zvtvz/zvt/issues/93/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":3635288175,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzYzNTI4ODE3NQ==","url":"https://api.github.com/repos/zvtvz/zvt/issues/events/3635288175","actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-08-08T02:48:27Z","rename":{"from":"数据需求：沪深港股通持股明细","to":"[data]沪深港股通持股明细"},"performed_via_github_app":null},{"id":4776700690,"node_id":"MDExOkNsb3NlZEV2ZW50NDc3NjcwMDY5MA==","url":"https://api.github.com/repos/zvtvz/zvt/issues/events/4776700690","actor":{"login":"foolcage","id":1160499,"node_id":"MDQ6VXNlcjExNjA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1160499?v=4","gravatar_id":"","url":"https://api.github.com/users/foolcage","html_url":"https://github.com/foolcage","followers_url":"https://api.github.com/users/foolcage/followers","following_url":"https://api.github.com/users/foolcage/following{/other_user}","gists_url":"https://api.github.com/users/foolcage/gists{/gist_id}","starred_url":"https://api.github.com/users/foolcage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foolcage/subscriptions","organizations_url":"https://api.github.com/users/foolcage/orgs","repos_url":"https://api.github.com/users/foolcage/repos","events_url":"https://api.github.com/users/foolcage/events{/privacy}","received_events_url":"https://api.github.com/users/foolcage/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-05-21T01:19:05Z","state_reason":null,"performed_via_github_app":null}]