[{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/521881730","html_url":"https://github.com/castorini/hedwig/issues/31#issuecomment-521881730","issue_url":"https://api.github.com/repos/castorini/hedwig/issues/31","id":521881730,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTg4MTczMA==","user":{"login":"achyudh","id":7617287,"node_id":"MDQ6VXNlcjc2MTcyODc=","avatar_url":"https://avatars.githubusercontent.com/u/7617287?v=4","gravatar_id":"","url":"https://api.github.com/users/achyudh","html_url":"https://github.com/achyudh","followers_url":"https://api.github.com/users/achyudh/followers","following_url":"https://api.github.com/users/achyudh/following{/other_user}","gists_url":"https://api.github.com/users/achyudh/gists{/gist_id}","starred_url":"https://api.github.com/users/achyudh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achyudh/subscriptions","organizations_url":"https://api.github.com/users/achyudh/orgs","repos_url":"https://api.github.com/users/achyudh/repos","events_url":"https://api.github.com/users/achyudh/events{/privacy}","received_events_url":"https://api.github.com/users/achyudh/received_events","type":"User","site_admin":false},"created_at":"2019-08-16T04:42:42Z","updated_at":"2019-08-16T04:42:42Z","author_association":"MEMBER","body":"Please check lines 121 to 125 here: https://github.com/castorini/hedwig/blob/master/common/trainers/bert_trainer.py","reactions":{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/521881730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"achyudh","id":7617287,"node_id":"MDQ6VXNlcjc2MTcyODc=","avatar_url":"https://avatars.githubusercontent.com/u/7617287?v=4","gravatar_id":"","url":"https://api.github.com/users/achyudh","html_url":"https://github.com/achyudh","followers_url":"https://api.github.com/users/achyudh/followers","following_url":"https://api.github.com/users/achyudh/following{/other_user}","gists_url":"https://api.github.com/users/achyudh/gists{/gist_id}","starred_url":"https://api.github.com/users/achyudh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achyudh/subscriptions","organizations_url":"https://api.github.com/users/achyudh/orgs","repos_url":"https://api.github.com/users/achyudh/repos","events_url":"https://api.github.com/users/achyudh/events{/privacy}","received_events_url":"https://api.github.com/users/achyudh/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/521884823","html_url":"https://github.com/castorini/hedwig/issues/31#issuecomment-521884823","issue_url":"https://api.github.com/repos/castorini/hedwig/issues/31","id":521884823,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTg4NDgyMw==","user":{"login":"fengyunyi","id":16924267,"node_id":"MDQ6VXNlcjE2OTI0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/16924267?v=4","gravatar_id":"","url":"https://api.github.com/users/fengyunyi","html_url":"https://github.com/fengyunyi","followers_url":"https://api.github.com/users/fengyunyi/followers","following_url":"https://api.github.com/users/fengyunyi/following{/other_user}","gists_url":"https://api.github.com/users/fengyunyi/gists{/gist_id}","starred_url":"https://api.github.com/users/fengyunyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengyunyi/subscriptions","organizations_url":"https://api.github.com/users/fengyunyi/orgs","repos_url":"https://api.github.com/users/fengyunyi/repos","events_url":"https://api.github.com/users/fengyunyi/events{/privacy}","received_events_url":"https://api.github.com/users/fengyunyi/received_events","type":"User","site_admin":false},"created_at":"2019-08-16T05:04:04Z","updated_at":"2019-08-16T05:04:04Z","author_association":"NONE","body":"Got it. Changed the path name on the README.md and it will work. ","reactions":{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/521884823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fengyunyi","id":16924267,"node_id":"MDQ6VXNlcjE2OTI0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/16924267?v=4","gravatar_id":"","url":"https://api.github.com/users/fengyunyi","html_url":"https://github.com/fengyunyi","followers_url":"https://api.github.com/users/fengyunyi/followers","following_url":"https://api.github.com/users/fengyunyi/following{/other_user}","gists_url":"https://api.github.com/users/fengyunyi/gists{/gist_id}","starred_url":"https://api.github.com/users/fengyunyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengyunyi/subscriptions","organizations_url":"https://api.github.com/users/fengyunyi/orgs","repos_url":"https://api.github.com/users/fengyunyi/repos","events_url":"https://api.github.com/users/fengyunyi/events{/privacy}","received_events_url":"https://api.github.com/users/fengyunyi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/522091926","html_url":"https://github.com/castorini/hedwig/issues/31#issuecomment-522091926","issue_url":"https://api.github.com/repos/castorini/hedwig/issues/31","id":522091926,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjA5MTkyNg==","user":{"login":"amirmohammadkz","id":16422611,"node_id":"MDQ6VXNlcjE2NDIyNjEx","avatar_url":"https://avatars.githubusercontent.com/u/16422611?v=4","gravatar_id":"","url":"https://api.github.com/users/amirmohammadkz","html_url":"https://github.com/amirmohammadkz","followers_url":"https://api.github.com/users/amirmohammadkz/followers","following_url":"https://api.github.com/users/amirmohammadkz/following{/other_user}","gists_url":"https://api.github.com/users/amirmohammadkz/gists{/gist_id}","starred_url":"https://api.github.com/users/amirmohammadkz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amirmohammadkz/subscriptions","organizations_url":"https://api.github.com/users/amirmohammadkz/orgs","repos_url":"https://api.github.com/users/amirmohammadkz/repos","events_url":"https://api.github.com/users/amirmohammadkz/events{/privacy}","received_events_url":"https://api.github.com/users/amirmohammadkz/received_events","type":"User","site_admin":false},"created_at":"2019-08-16T17:39:51Z","updated_at":"2019-08-16T17:39:51Z","author_association":"NONE","body":"> \r\n> \r\n> Got it. Changed the path name on the README.md and it will work.\r\n\r\nCan you explain which part exactly should I change? After finetuning I have only a checkpoint file in checkpoint folder which its name timestamp refers to the end of the first epoch time","reactions":{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/522091926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amirmohammadkz","id":16422611,"node_id":"MDQ6VXNlcjE2NDIyNjEx","avatar_url":"https://avatars.githubusercontent.com/u/16422611?v=4","gravatar_id":"","url":"https://api.github.com/users/amirmohammadkz","html_url":"https://github.com/amirmohammadkz","followers_url":"https://api.github.com/users/amirmohammadkz/followers","following_url":"https://api.github.com/users/amirmohammadkz/following{/other_user}","gists_url":"https://api.github.com/users/amirmohammadkz/gists{/gist_id}","starred_url":"https://api.github.com/users/amirmohammadkz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amirmohammadkz/subscriptions","organizations_url":"https://api.github.com/users/amirmohammadkz/orgs","repos_url":"https://api.github.com/users/amirmohammadkz/repos","events_url":"https://api.github.com/users/amirmohammadkz/events{/privacy}","received_events_url":"https://api.github.com/users/amirmohammadkz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/522191126","html_url":"https://github.com/castorini/hedwig/issues/31#issuecomment-522191126","issue_url":"https://api.github.com/repos/castorini/hedwig/issues/31","id":522191126,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjE5MTEyNg==","user":{"login":"fengyunyi","id":16924267,"node_id":"MDQ6VXNlcjE2OTI0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/16924267?v=4","gravatar_id":"","url":"https://api.github.com/users/fengyunyi","html_url":"https://github.com/fengyunyi","followers_url":"https://api.github.com/users/fengyunyi/followers","following_url":"https://api.github.com/users/fengyunyi/following{/other_user}","gists_url":"https://api.github.com/users/fengyunyi/gists{/gist_id}","starred_url":"https://api.github.com/users/fengyunyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengyunyi/subscriptions","organizations_url":"https://api.github.com/users/fengyunyi/orgs","repos_url":"https://api.github.com/users/fengyunyi/repos","events_url":"https://api.github.com/users/fengyunyi/events{/privacy}","received_events_url":"https://api.github.com/users/fengyunyi/received_events","type":"User","site_admin":false},"created_at":"2019-08-17T01:06:33Z","updated_at":"2019-08-17T01:06:33Z","author_association":"NONE","body":"> > Got it. Changed the path name on the README.md and it will work.\r\n> \r\n> Can you explain which part exactly should I change? After finetuning I have only a checkpoint file in checkpoint folder which its name timestamp refers to the end of the first epoch time\r\n\r\nI think that is it. ","reactions":{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/522191126/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fengyunyi","id":16924267,"node_id":"MDQ6VXNlcjE2OTI0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/16924267?v=4","gravatar_id":"","url":"https://api.github.com/users/fengyunyi","html_url":"https://github.com/fengyunyi","followers_url":"https://api.github.com/users/fengyunyi/followers","following_url":"https://api.github.com/users/fengyunyi/following{/other_user}","gists_url":"https://api.github.com/users/fengyunyi/gists{/gist_id}","starred_url":"https://api.github.com/users/fengyunyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengyunyi/subscriptions","organizations_url":"https://api.github.com/users/fengyunyi/orgs","repos_url":"https://api.github.com/users/fengyunyi/repos","events_url":"https://api.github.com/users/fengyunyi/events{/privacy}","received_events_url":"https://api.github.com/users/fengyunyi/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/522204454","html_url":"https://github.com/castorini/hedwig/issues/31#issuecomment-522204454","issue_url":"https://api.github.com/repos/castorini/hedwig/issues/31","id":522204454,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIwNDQ1NA==","user":{"login":"amirmohammadkz","id":16422611,"node_id":"MDQ6VXNlcjE2NDIyNjEx","avatar_url":"https://avatars.githubusercontent.com/u/16422611?v=4","gravatar_id":"","url":"https://api.github.com/users/amirmohammadkz","html_url":"https://github.com/amirmohammadkz","followers_url":"https://api.github.com/users/amirmohammadkz/followers","following_url":"https://api.github.com/users/amirmohammadkz/following{/other_user}","gists_url":"https://api.github.com/users/amirmohammadkz/gists{/gist_id}","starred_url":"https://api.github.com/users/amirmohammadkz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amirmohammadkz/subscriptions","organizations_url":"https://api.github.com/users/amirmohammadkz/orgs","repos_url":"https://api.github.com/users/amirmohammadkz/repos","events_url":"https://api.github.com/users/amirmohammadkz/events{/privacy}","received_events_url":"https://api.github.com/users/amirmohammadkz/received_events","type":"User","site_admin":false},"created_at":"2019-08-17T04:48:56Z","updated_at":"2019-08-17T04:48:56Z","author_association":"NONE","body":"> \r\n> \r\n> > > Got it. Changed the path name on the README.md and it will work.\r\n> > \r\n> > \r\n> > Can you explain which part exactly should I change? After finetuning I have only a checkpoint file in checkpoint folder which its name timestamp refers to the end of the first epoch time\r\n> \r\n> I think that is it.\r\n\r\nThanks! But another question. In the finetuning process, I think for every epoch we get accuracy for dev set and at the end of finetuning, The model picks the best dev acc and tests it on the test dataset( so we can see the best result at the end of the output).\r\nbut I was wondering when I am running the test process on the checkpoint(I mentioned before), sometimes the dev acc that is shown is not included in the finetuning process outputs and often it is lower than the best dev acc. Let me show an example:\r\n\r\noutput of finetuning(I skip unnesseray logs):\r\n\r\n```\r\nDevice: CUDA\r\nNumber of GPUs: 1\r\nDistributed training: False\r\nFP16: False\r\n100% 231508/231508 [00:00<00:00, 430268.33B/s]\r\n100% 407873900/407873900 [00:32<00:00, 12631201.67B/s]\r\nNumber of examples:  5661\r\nBatch size: 16\r\nNum of steps: 7060\r\n\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    1       354      1/20    0.5730   0.5730   0.5730   0.5730     0.6836\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    2       708      2/20    0.5842   0.5842   0.5842   0.5842     0.6809\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    3      1062      3/20    0.5842   0.5842   0.5842   0.5842     0.6810\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    4      1416      4/20    0.5817   0.5817   0.5817   0.5817     0.9512\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    5      1770      5/20    0.5755   0.5755   0.5755   0.5755     1.4543\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    6      2124      6/20    0.6064   0.6064   0.6064   0.6064     2.0489\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    7      2478      7/20    0.5854   0.5854   0.5854   0.5854     2.1437\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    8      2832      8/20    0.5990   0.5990   0.5990   0.5990     2.2655\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n    9      3186      9/20    0.5817   0.5817   0.5817   0.5817     2.2572\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n   10      3540     10/20    0.5965   0.5965   0.5965   0.5965     2.3332\r\nEpoch Iteration Progress   Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n   11      3894     11/20    0.5854   0.5854   0.5854   0.5854     2.4956\r\nEarly Stopping. Epoch: 10, Best Dev F1: 0.6064356435643564\r\nEpoch:  50% 10/20 [1:50:36<1:40:21, 602.18s/it]Inference time 29.027603149414062\r\n\r\nSplit  Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n  DEV    0.6064   0.6064   0.6064   0.6064     2.0489\r\nInference time 25.89557933807373\r\n\r\nSplit  Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n TEST    0.6092   0.6092   0.6092   0.6092     2.0600\r\n\r\n```\r\noutput of testing:\r\n\r\n```\r\nDevice: CUDA\r\nNumber of GPUs: 1\r\nDistributed training: False\r\nFP16: False\r\nInference time 8.667673826217651\r\n\r\nSplit  Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n  DEV    0.5199   0.5199   0.5199   0.5199     0.7643\r\nInference time 7.662160158157349\r\n\r\nSplit  Dev/Acc.  Dev/Pr.  Dev/Re.   Dev/F1   Dev/Loss\r\n TEST    0.6341   0.6341   0.6341   0.6341     0.6951\r\n```\r\nAs you see, the dev acc of testing output is lower than the best dev acc of finetuning output but I can not find the accs of testing output in finetuning output. why?","reactions":{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/522204454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amirmohammadkz","id":16422611,"node_id":"MDQ6VXNlcjE2NDIyNjEx","avatar_url":"https://avatars.githubusercontent.com/u/16422611?v=4","gravatar_id":"","url":"https://api.github.com/users/amirmohammadkz","html_url":"https://github.com/amirmohammadkz","followers_url":"https://api.github.com/users/amirmohammadkz/followers","following_url":"https://api.github.com/users/amirmohammadkz/following{/other_user}","gists_url":"https://api.github.com/users/amirmohammadkz/gists{/gist_id}","starred_url":"https://api.github.com/users/amirmohammadkz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amirmohammadkz/subscriptions","organizations_url":"https://api.github.com/users/amirmohammadkz/orgs","repos_url":"https://api.github.com/users/amirmohammadkz/repos","events_url":"https://api.github.com/users/amirmohammadkz/events{/privacy}","received_events_url":"https://api.github.com/users/amirmohammadkz/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/522287309","html_url":"https://github.com/castorini/hedwig/issues/31#issuecomment-522287309","issue_url":"https://api.github.com/repos/castorini/hedwig/issues/31","id":522287309,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI4NzMwOQ==","user":{"login":"fengyunyi","id":16924267,"node_id":"MDQ6VXNlcjE2OTI0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/16924267?v=4","gravatar_id":"","url":"https://api.github.com/users/fengyunyi","html_url":"https://github.com/fengyunyi","followers_url":"https://api.github.com/users/fengyunyi/followers","following_url":"https://api.github.com/users/fengyunyi/following{/other_user}","gists_url":"https://api.github.com/users/fengyunyi/gists{/gist_id}","starred_url":"https://api.github.com/users/fengyunyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengyunyi/subscriptions","organizations_url":"https://api.github.com/users/fengyunyi/orgs","repos_url":"https://api.github.com/users/fengyunyi/repos","events_url":"https://api.github.com/users/fengyunyi/events{/privacy}","received_events_url":"https://api.github.com/users/fengyunyi/received_events","type":"User","site_admin":false},"created_at":"2019-08-18T03:18:10Z","updated_at":"2019-08-18T03:18:10Z","author_association":"NONE","body":"I don't know. I tried but it was the same. The code looks same too. ","reactions":{"url":"https://api.github.com/repos/castorini/hedwig/issues/comments/522287309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fengyunyi","id":16924267,"node_id":"MDQ6VXNlcjE2OTI0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/16924267?v=4","gravatar_id":"","url":"https://api.github.com/users/fengyunyi","html_url":"https://github.com/fengyunyi","followers_url":"https://api.github.com/users/fengyunyi/followers","following_url":"https://api.github.com/users/fengyunyi/following{/other_user}","gists_url":"https://api.github.com/users/fengyunyi/gists{/gist_id}","starred_url":"https://api.github.com/users/fengyunyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengyunyi/subscriptions","organizations_url":"https://api.github.com/users/fengyunyi/orgs","repos_url":"https://api.github.com/users/fengyunyi/repos","events_url":"https://api.github.com/users/fengyunyi/events{/privacy}","received_events_url":"https://api.github.com/users/fengyunyi/received_events","type":"User","site_admin":false}},{"id":2564251492,"node_id":"MDExOkNsb3NlZEV2ZW50MjU2NDI1MTQ5Mg==","url":"https://api.github.com/repos/castorini/hedwig/issues/events/2564251492","actor":{"login":"fengyunyi","id":16924267,"node_id":"MDQ6VXNlcjE2OTI0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/16924267?v=4","gravatar_id":"","url":"https://api.github.com/users/fengyunyi","html_url":"https://github.com/fengyunyi","followers_url":"https://api.github.com/users/fengyunyi/followers","following_url":"https://api.github.com/users/fengyunyi/following{/other_user}","gists_url":"https://api.github.com/users/fengyunyi/gists{/gist_id}","starred_url":"https://api.github.com/users/fengyunyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengyunyi/subscriptions","organizations_url":"https://api.github.com/users/fengyunyi/orgs","repos_url":"https://api.github.com/users/fengyunyi/repos","events_url":"https://api.github.com/users/fengyunyi/events{/privacy}","received_events_url":"https://api.github.com/users/fengyunyi/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-08-18T03:18:10Z","state_reason":null,"performed_via_github_app":null}]