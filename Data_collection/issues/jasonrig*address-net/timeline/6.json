[{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/524135658","html_url":"https://github.com/jasonrig/address-net/issues/6#issuecomment-524135658","issue_url":"https://api.github.com/repos/jasonrig/address-net/issues/6","id":524135658,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDEzNTY1OA==","user":{"login":"jasonrig","id":6635497,"node_id":"MDQ6VXNlcjY2MzU0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6635497?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonrig","html_url":"https://github.com/jasonrig","followers_url":"https://api.github.com/users/jasonrig/followers","following_url":"https://api.github.com/users/jasonrig/following{/other_user}","gists_url":"https://api.github.com/users/jasonrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonrig/subscriptions","organizations_url":"https://api.github.com/users/jasonrig/orgs","repos_url":"https://api.github.com/users/jasonrig/repos","events_url":"https://api.github.com/users/jasonrig/events{/privacy}","received_events_url":"https://api.github.com/users/jasonrig/received_events","type":"User","site_admin":false},"created_at":"2019-08-23T01:18:57Z","updated_at":"2019-08-23T01:18:57Z","author_association":"OWNER","body":"As with issue #5 I think this will come down to tuning the address generation code used during training. The reason your approach of adding L to lookups.py didn't work is that the model is assigning a high probability of L being a unit number prefix, and a high probability of 900 and 9 both being the unit number itself (so the code concatenates them since it groups letters of the same class).\r\n\r\nPerhaps issue #5 and #6 can be worked on together since they both would involve tuning the address synthesis code.\r\n\r\nIf you wanted to have a play around and see if anything works for you, I would try to work through the [`synthesise_address` function](https://github.com/jasonrig/address-net/blob/master/addressnet/dataset.py#L238). It's a little ugly, but you can see that for a given clean record from GNAF, it mutates the string in various ways while keeping track of what each character's class (unit type, street name, etc.) is. The goal would be to include more examples of the cases you're seeing that fail when performing these random mutations.","reactions":{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/524135658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasonrig","id":6635497,"node_id":"MDQ6VXNlcjY2MzU0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6635497?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonrig","html_url":"https://github.com/jasonrig","followers_url":"https://api.github.com/users/jasonrig/followers","following_url":"https://api.github.com/users/jasonrig/following{/other_user}","gists_url":"https://api.github.com/users/jasonrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonrig/subscriptions","organizations_url":"https://api.github.com/users/jasonrig/orgs","repos_url":"https://api.github.com/users/jasonrig/repos","events_url":"https://api.github.com/users/jasonrig/events{/privacy}","received_events_url":"https://api.github.com/users/jasonrig/received_events","type":"User","site_admin":false}},{"id":2593133459,"node_id":"MDEyOkxhYmVsZWRFdmVudDI1OTMxMzM0NTk=","url":"https://api.github.com/repos/jasonrig/address-net/issues/events/2593133459","actor":{"login":"jasonrig","id":6635497,"node_id":"MDQ6VXNlcjY2MzU0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6635497?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonrig","html_url":"https://github.com/jasonrig","followers_url":"https://api.github.com/users/jasonrig/followers","following_url":"https://api.github.com/users/jasonrig/following{/other_user}","gists_url":"https://api.github.com/users/jasonrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonrig/subscriptions","organizations_url":"https://api.github.com/users/jasonrig/orgs","repos_url":"https://api.github.com/users/jasonrig/repos","events_url":"https://api.github.com/users/jasonrig/events{/privacy}","received_events_url":"https://api.github.com/users/jasonrig/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-08-29T08:31:53Z","label":{"name":"model improvement","color":"d80abd"},"performed_via_github_app":null}]