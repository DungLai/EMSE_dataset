[{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/943928620","html_url":"https://github.com/jasonrig/address-net/issues/17#issuecomment-943928620","issue_url":"https://api.github.com/repos/jasonrig/address-net/issues/17","id":943928620,"node_id":"IC_kwDOCZA00M44QzUs","user":{"login":"Aretle","id":41976158,"node_id":"MDQ6VXNlcjQxOTc2MTU4","avatar_url":"https://avatars.githubusercontent.com/u/41976158?v=4","gravatar_id":"","url":"https://api.github.com/users/Aretle","html_url":"https://github.com/Aretle","followers_url":"https://api.github.com/users/Aretle/followers","following_url":"https://api.github.com/users/Aretle/following{/other_user}","gists_url":"https://api.github.com/users/Aretle/gists{/gist_id}","starred_url":"https://api.github.com/users/Aretle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aretle/subscriptions","organizations_url":"https://api.github.com/users/Aretle/orgs","repos_url":"https://api.github.com/users/Aretle/repos","events_url":"https://api.github.com/users/Aretle/events{/privacy}","received_events_url":"https://api.github.com/users/Aretle/received_events","type":"User","site_admin":false},"created_at":"2021-10-15T02:15:00Z","updated_at":"2021-10-15T02:15:00Z","author_association":"NONE","body":"I've seen this before and just chalked it up to random prediction errors to do with the model rather than the script. The examples here don't seem too similar to the addresses used for training the model, which leads me to suspect that that is the cause of this issue. The model used won't be 100% accurate all the time.\r\n\r\nYou could retrain the model to better fit with the format of addresses that you will be predicting, that might help solve your problem. If you wanted to confirm whether the problem comes from the script rather than the model you would have to debug the addressnet code line by line from where the input address string is inferred by Tensorflow to where you get the formatted address output from addressnet.\r\n\r\nPlease correct me if I'm wrong on anything.\r\n\r\nGood luck :)","reactions":{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/943928620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Aretle","id":41976158,"node_id":"MDQ6VXNlcjQxOTc2MTU4","avatar_url":"https://avatars.githubusercontent.com/u/41976158?v=4","gravatar_id":"","url":"https://api.github.com/users/Aretle","html_url":"https://github.com/Aretle","followers_url":"https://api.github.com/users/Aretle/followers","following_url":"https://api.github.com/users/Aretle/following{/other_user}","gists_url":"https://api.github.com/users/Aretle/gists{/gist_id}","starred_url":"https://api.github.com/users/Aretle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aretle/subscriptions","organizations_url":"https://api.github.com/users/Aretle/orgs","repos_url":"https://api.github.com/users/Aretle/repos","events_url":"https://api.github.com/users/Aretle/events{/privacy}","received_events_url":"https://api.github.com/users/Aretle/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/950685646","html_url":"https://github.com/jasonrig/address-net/issues/17#issuecomment-950685646","issue_url":"https://api.github.com/repos/jasonrig/address-net/issues/17","id":950685646,"node_id":"IC_kwDOCZA00M44qk_O","user":{"login":"jasonrig","id":6635497,"node_id":"MDQ6VXNlcjY2MzU0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6635497?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonrig","html_url":"https://github.com/jasonrig","followers_url":"https://api.github.com/users/jasonrig/followers","following_url":"https://api.github.com/users/jasonrig/following{/other_user}","gists_url":"https://api.github.com/users/jasonrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonrig/subscriptions","organizations_url":"https://api.github.com/users/jasonrig/orgs","repos_url":"https://api.github.com/users/jasonrig/repos","events_url":"https://api.github.com/users/jasonrig/events{/privacy}","received_events_url":"https://api.github.com/users/jasonrig/received_events","type":"User","site_admin":false},"created_at":"2021-10-25T08:56:23Z","updated_at":"2021-10-25T08:56:23Z","author_association":"OWNER","body":"@MohsinTariq10 I'm pretty sure what you're seeing is as @Aretle said, where the class assigned to the individual character is wrong, and it gets bundled up with the wrong part of the address.\r\n\r\nFYI, the characters get grouped according to their class here: https://github.com/jasonrig/address-net/blob/master/addressnet/predict.py#L147\r\n\r\nMy guess is that this really comes down to having very incomplete addresses (and non-Australian addresses, it would seem), whereas the training data was always (or at least very close to) a complete address. Even ignoring that they appear to be UK addresses, those examples you gave are particularly difficult. Consider the second one:\r\n\r\npontefract general infirmary southgate pontefract\r\n\r\nWithout prior knowledge about location and hospital, it's pretty difficult to discern which is the suburb, street name, building name, etc. Personally I've never heard of Pontefract, so, for example, I wouldn't know if it was the street name and you just left off \"Road\", or whether the suburb is actually two words \"Southgate Pontefract\". My point is that even for a human, you have to spend a little bit of time working it out. ðŸ˜‰\r\n\r\nThe _general_ approach to this model is transferrable to most/all addressing schemes (unless dealing with more complex writing systems like Japanese or Chinese, for example) so long as you have some source data, like a government database, and some knowledge of how it could possibly be structured when entered into your system, you should be able to use this model as inspiration. You will see that I made [many](https://github.com/jasonrig/address-net/blob/master/addressnet/typo.py#L45) [assumptions](https://github.com/jasonrig/address-net/blob/master/addressnet/dataset.py#L238) in this regard. Together, these give the model some flexibility when it comes to spelling variation, as well as tolerance to some permutations/omissions, that regex matching can't handle. But, since it is probabilistic in nature, if the model makes a mistake, you're kind of stuck with it unless you improve your source data and retrain (or alternatively have some corrective step _after_ the model produces the output).","reactions":{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/950685646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasonrig","id":6635497,"node_id":"MDQ6VXNlcjY2MzU0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6635497?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonrig","html_url":"https://github.com/jasonrig","followers_url":"https://api.github.com/users/jasonrig/followers","following_url":"https://api.github.com/users/jasonrig/following{/other_user}","gists_url":"https://api.github.com/users/jasonrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonrig/subscriptions","organizations_url":"https://api.github.com/users/jasonrig/orgs","repos_url":"https://api.github.com/users/jasonrig/repos","events_url":"https://api.github.com/users/jasonrig/events{/privacy}","received_events_url":"https://api.github.com/users/jasonrig/received_events","type":"User","site_admin":false}},{"id":5511993215,"node_id":"CE_lADOCZA00M49HGftzwAAAAFIild_","url":"https://api.github.com/repos/jasonrig/address-net/issues/events/5511993215","actor":{"login":"jasonrig","id":6635497,"node_id":"MDQ6VXNlcjY2MzU0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6635497?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonrig","html_url":"https://github.com/jasonrig","followers_url":"https://api.github.com/users/jasonrig/followers","following_url":"https://api.github.com/users/jasonrig/following{/other_user}","gists_url":"https://api.github.com/users/jasonrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonrig/subscriptions","organizations_url":"https://api.github.com/users/jasonrig/orgs","repos_url":"https://api.github.com/users/jasonrig/repos","events_url":"https://api.github.com/users/jasonrig/events{/privacy}","received_events_url":"https://api.github.com/users/jasonrig/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-10-25T08:56:23Z","state_reason":null,"performed_via_github_app":null},{"id":5511993235,"node_id":"MEE_lADOCZA00M49HGftzwAAAAFIileT","url":"https://api.github.com/repos/jasonrig/address-net/issues/events/5511993235","actor":{"login":"MohsinTariq10","id":4686418,"node_id":"MDQ6VXNlcjQ2ODY0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/4686418?v=4","gravatar_id":"","url":"https://api.github.com/users/MohsinTariq10","html_url":"https://github.com/MohsinTariq10","followers_url":"https://api.github.com/users/MohsinTariq10/followers","following_url":"https://api.github.com/users/MohsinTariq10/following{/other_user}","gists_url":"https://api.github.com/users/MohsinTariq10/gists{/gist_id}","starred_url":"https://api.github.com/users/MohsinTariq10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohsinTariq10/subscriptions","organizations_url":"https://api.github.com/users/MohsinTariq10/orgs","repos_url":"https://api.github.com/users/MohsinTariq10/repos","events_url":"https://api.github.com/users/MohsinTariq10/events{/privacy}","received_events_url":"https://api.github.com/users/MohsinTariq10/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-25T08:56:23Z","performed_via_github_app":null},{"id":5511993240,"node_id":"SE_lADOCZA00M49HGftzwAAAAFIileY","url":"https://api.github.com/repos/jasonrig/address-net/issues/events/5511993240","actor":{"login":"MohsinTariq10","id":4686418,"node_id":"MDQ6VXNlcjQ2ODY0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/4686418?v=4","gravatar_id":"","url":"https://api.github.com/users/MohsinTariq10","html_url":"https://github.com/MohsinTariq10","followers_url":"https://api.github.com/users/MohsinTariq10/followers","following_url":"https://api.github.com/users/MohsinTariq10/following{/other_user}","gists_url":"https://api.github.com/users/MohsinTariq10/gists{/gist_id}","starred_url":"https://api.github.com/users/MohsinTariq10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohsinTariq10/subscriptions","organizations_url":"https://api.github.com/users/MohsinTariq10/orgs","repos_url":"https://api.github.com/users/MohsinTariq10/repos","events_url":"https://api.github.com/users/MohsinTariq10/events{/privacy}","received_events_url":"https://api.github.com/users/MohsinTariq10/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-25T08:56:23Z","performed_via_github_app":null},{"id":5511993247,"node_id":"MEE_lADOCZA00M49HGftzwAAAAFIilef","url":"https://api.github.com/repos/jasonrig/address-net/issues/events/5511993247","actor":{"login":"Aretle","id":41976158,"node_id":"MDQ6VXNlcjQxOTc2MTU4","avatar_url":"https://avatars.githubusercontent.com/u/41976158?v=4","gravatar_id":"","url":"https://api.github.com/users/Aretle","html_url":"https://github.com/Aretle","followers_url":"https://api.github.com/users/Aretle/followers","following_url":"https://api.github.com/users/Aretle/following{/other_user}","gists_url":"https://api.github.com/users/Aretle/gists{/gist_id}","starred_url":"https://api.github.com/users/Aretle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aretle/subscriptions","organizations_url":"https://api.github.com/users/Aretle/orgs","repos_url":"https://api.github.com/users/Aretle/repos","events_url":"https://api.github.com/users/Aretle/events{/privacy}","received_events_url":"https://api.github.com/users/Aretle/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-25T08:56:24Z","performed_via_github_app":null},{"id":5511993256,"node_id":"SE_lADOCZA00M49HGftzwAAAAFIileo","url":"https://api.github.com/repos/jasonrig/address-net/issues/events/5511993256","actor":{"login":"Aretle","id":41976158,"node_id":"MDQ6VXNlcjQxOTc2MTU4","avatar_url":"https://avatars.githubusercontent.com/u/41976158?v=4","gravatar_id":"","url":"https://api.github.com/users/Aretle","html_url":"https://github.com/Aretle","followers_url":"https://api.github.com/users/Aretle/followers","following_url":"https://api.github.com/users/Aretle/following{/other_user}","gists_url":"https://api.github.com/users/Aretle/gists{/gist_id}","starred_url":"https://api.github.com/users/Aretle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aretle/subscriptions","organizations_url":"https://api.github.com/users/Aretle/orgs","repos_url":"https://api.github.com/users/Aretle/repos","events_url":"https://api.github.com/users/Aretle/events{/privacy}","received_events_url":"https://api.github.com/users/Aretle/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-25T08:56:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/950914424","html_url":"https://github.com/jasonrig/address-net/issues/17#issuecomment-950914424","issue_url":"https://api.github.com/repos/jasonrig/address-net/issues/17","id":950914424,"node_id":"IC_kwDOCZA00M44rc14","user":{"login":"MohsinTariq10","id":4686418,"node_id":"MDQ6VXNlcjQ2ODY0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/4686418?v=4","gravatar_id":"","url":"https://api.github.com/users/MohsinTariq10","html_url":"https://github.com/MohsinTariq10","followers_url":"https://api.github.com/users/MohsinTariq10/followers","following_url":"https://api.github.com/users/MohsinTariq10/following{/other_user}","gists_url":"https://api.github.com/users/MohsinTariq10/gists{/gist_id}","starred_url":"https://api.github.com/users/MohsinTariq10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohsinTariq10/subscriptions","organizations_url":"https://api.github.com/users/MohsinTariq10/orgs","repos_url":"https://api.github.com/users/MohsinTariq10/repos","events_url":"https://api.github.com/users/MohsinTariq10/events{/privacy}","received_events_url":"https://api.github.com/users/MohsinTariq10/received_events","type":"User","site_admin":false},"created_at":"2021-10-25T13:11:51Z","updated_at":"2021-10-25T13:11:51Z","author_association":"NONE","body":"Thank you so much for the explanation,  what i wanted to know was that was it related to the model or the post processing step. ","reactions":{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/950914424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MohsinTariq10","id":4686418,"node_id":"MDQ6VXNlcjQ2ODY0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/4686418?v=4","gravatar_id":"","url":"https://api.github.com/users/MohsinTariq10","html_url":"https://github.com/MohsinTariq10","followers_url":"https://api.github.com/users/MohsinTariq10/followers","following_url":"https://api.github.com/users/MohsinTariq10/following{/other_user}","gists_url":"https://api.github.com/users/MohsinTariq10/gists{/gist_id}","starred_url":"https://api.github.com/users/MohsinTariq10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohsinTariq10/subscriptions","organizations_url":"https://api.github.com/users/MohsinTariq10/orgs","repos_url":"https://api.github.com/users/MohsinTariq10/repos","events_url":"https://api.github.com/users/MohsinTariq10/events{/privacy}","received_events_url":"https://api.github.com/users/MohsinTariq10/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/952588555","html_url":"https://github.com/jasonrig/address-net/issues/17#issuecomment-952588555","issue_url":"https://api.github.com/repos/jasonrig/address-net/issues/17","id":952588555,"node_id":"IC_kwDOCZA00M44x1kL","user":{"login":"jasonrig","id":6635497,"node_id":"MDQ6VXNlcjY2MzU0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6635497?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonrig","html_url":"https://github.com/jasonrig","followers_url":"https://api.github.com/users/jasonrig/followers","following_url":"https://api.github.com/users/jasonrig/following{/other_user}","gists_url":"https://api.github.com/users/jasonrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonrig/subscriptions","organizations_url":"https://api.github.com/users/jasonrig/orgs","repos_url":"https://api.github.com/users/jasonrig/repos","events_url":"https://api.github.com/users/jasonrig/events{/privacy}","received_events_url":"https://api.github.com/users/jasonrig/received_events","type":"User","site_admin":false},"created_at":"2021-10-27T06:40:21Z","updated_at":"2021-10-27T06:40:21Z","author_association":"OWNER","body":"@MohsinTariq10 yeah I understand. I think the short answer is that it's the model, long answer is that they're both interdependent (post processing has some assumptions about the model, which in turn has assumptions about the data).","reactions":{"url":"https://api.github.com/repos/jasonrig/address-net/issues/comments/952588555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasonrig","id":6635497,"node_id":"MDQ6VXNlcjY2MzU0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6635497?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonrig","html_url":"https://github.com/jasonrig","followers_url":"https://api.github.com/users/jasonrig/followers","following_url":"https://api.github.com/users/jasonrig/following{/other_user}","gists_url":"https://api.github.com/users/jasonrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonrig/subscriptions","organizations_url":"https://api.github.com/users/jasonrig/orgs","repos_url":"https://api.github.com/users/jasonrig/repos","events_url":"https://api.github.com/users/jasonrig/events{/privacy}","received_events_url":"https://api.github.com/users/jasonrig/received_events","type":"User","site_admin":false}},{"id":5525135731,"node_id":"MEE_lADOCZA00M49HGftzwAAAAFJUuFz","url":"https://api.github.com/repos/jasonrig/address-net/issues/events/5525135731","actor":{"login":"MohsinTariq10","id":4686418,"node_id":"MDQ6VXNlcjQ2ODY0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/4686418?v=4","gravatar_id":"","url":"https://api.github.com/users/MohsinTariq10","html_url":"https://github.com/MohsinTariq10","followers_url":"https://api.github.com/users/MohsinTariq10/followers","following_url":"https://api.github.com/users/MohsinTariq10/following{/other_user}","gists_url":"https://api.github.com/users/MohsinTariq10/gists{/gist_id}","starred_url":"https://api.github.com/users/MohsinTariq10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohsinTariq10/subscriptions","organizations_url":"https://api.github.com/users/MohsinTariq10/orgs","repos_url":"https://api.github.com/users/MohsinTariq10/repos","events_url":"https://api.github.com/users/MohsinTariq10/events{/privacy}","received_events_url":"https://api.github.com/users/MohsinTariq10/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-27T06:40:22Z","performed_via_github_app":null},{"id":5525135735,"node_id":"SE_lADOCZA00M49HGftzwAAAAFJUuF3","url":"https://api.github.com/repos/jasonrig/address-net/issues/events/5525135735","actor":{"login":"MohsinTariq10","id":4686418,"node_id":"MDQ6VXNlcjQ2ODY0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/4686418?v=4","gravatar_id":"","url":"https://api.github.com/users/MohsinTariq10","html_url":"https://github.com/MohsinTariq10","followers_url":"https://api.github.com/users/MohsinTariq10/followers","following_url":"https://api.github.com/users/MohsinTariq10/following{/other_user}","gists_url":"https://api.github.com/users/MohsinTariq10/gists{/gist_id}","starred_url":"https://api.github.com/users/MohsinTariq10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohsinTariq10/subscriptions","organizations_url":"https://api.github.com/users/MohsinTariq10/orgs","repos_url":"https://api.github.com/users/MohsinTariq10/repos","events_url":"https://api.github.com/users/MohsinTariq10/events{/privacy}","received_events_url":"https://api.github.com/users/MohsinTariq10/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-27T06:40:22Z","performed_via_github_app":null}]