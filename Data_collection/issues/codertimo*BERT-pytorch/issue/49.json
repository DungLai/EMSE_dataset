{"url":"https://api.github.com/repos/codertimo/BERT-pytorch/issues/49","repository_url":"https://api.github.com/repos/codertimo/BERT-pytorch","labels_url":"https://api.github.com/repos/codertimo/BERT-pytorch/issues/49/labels{/name}","comments_url":"https://api.github.com/repos/codertimo/BERT-pytorch/issues/49/comments","events_url":"https://api.github.com/repos/codertimo/BERT-pytorch/issues/49/events","html_url":"https://github.com/codertimo/BERT-pytorch/issues/49","id":388628392,"node_id":"MDU6SXNzdWUzODg2MjgzOTI=","number":49,"title":"Question about the loss of Masked LM","user":{"login":"zhezhaoa","id":10495098,"node_id":"MDQ6VXNlcjEwNDk1MDk4","avatar_url":"https://avatars.githubusercontent.com/u/10495098?v=4","gravatar_id":"","url":"https://api.github.com/users/zhezhaoa","html_url":"https://github.com/zhezhaoa","followers_url":"https://api.github.com/users/zhezhaoa/followers","following_url":"https://api.github.com/users/zhezhaoa/following{/other_user}","gists_url":"https://api.github.com/users/zhezhaoa/gists{/gist_id}","starred_url":"https://api.github.com/users/zhezhaoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhezhaoa/subscriptions","organizations_url":"https://api.github.com/users/zhezhaoa/orgs","repos_url":"https://api.github.com/users/zhezhaoa/repos","events_url":"https://api.github.com/users/zhezhaoa/events{/privacy}","received_events_url":"https://api.github.com/users/zhezhaoa/received_events","type":"User","site_admin":false},"labels":[{"id":1091696789,"node_id":"MDU6TGFiZWwxMDkxNjk2Nzg5","url":"https://api.github.com/repos/codertimo/BERT-pytorch/labels/good%20first%20issue","name":"good first issue","color":"7057ff","default":true,"description":"Good for newcomers"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-12-07T12:07:29Z","updated_at":"2019-05-05T12:41:43Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Thank you very much for this great contribution. \r\nI found the loss of masked LM didn't decrease when it reaches the value around 7. However, in the official  tensorflow implementation, the loss of MLM decreases to 1 easily. I think something went wrong in your implementation. \r\nIn additional, I found the code can not predict the next sentence correctly. I think the reason is: `self.criterion = nn.NLLLoss(ignore_index=0)`.   It can not be used as criterion for sentence prediction because the label of sentence is 1 or 0. We should remove ignore_index=0 for sentence prediction. \r\nI am looking forward to your reply~","closed_by":null,"reactions":{"url":"https://api.github.com/repos/codertimo/BERT-pytorch/issues/49/reactions","total_count":10,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/codertimo/BERT-pytorch/issues/49/timeline","performed_via_github_app":null,"state_reason":null}