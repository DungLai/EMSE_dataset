{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/986","repository_url":"https://api.github.com/repos/Drakkar-Software/OctoBot","labels_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/986/labels{/name}","comments_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/986/comments","events_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/986/events","html_url":"https://github.com/Drakkar-Software/OctoBot/issues/986","id":505987692,"node_id":"MDU6SXNzdWU1MDU5ODc2OTI=","number":986,"title":"Handle closed markets","user":{"login":"GuillaumeDSM","id":9078616,"node_id":"MDQ6VXNlcjkwNzg2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9078616?v=4","gravatar_id":"","url":"https://api.github.com/users/GuillaumeDSM","html_url":"https://github.com/GuillaumeDSM","followers_url":"https://api.github.com/users/GuillaumeDSM/followers","following_url":"https://api.github.com/users/GuillaumeDSM/following{/other_user}","gists_url":"https://api.github.com/users/GuillaumeDSM/gists{/gist_id}","starred_url":"https://api.github.com/users/GuillaumeDSM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GuillaumeDSM/subscriptions","organizations_url":"https://api.github.com/users/GuillaumeDSM/orgs","repos_url":"https://api.github.com/users/GuillaumeDSM/repos","events_url":"https://api.github.com/users/GuillaumeDSM/events{/privacy}","received_events_url":"https://api.github.com/users/GuillaumeDSM/received_events","type":"User","site_admin":false},"labels":[{"id":939700482,"node_id":"MDU6TGFiZWw5Mzk3MDA0ODI=","url":"https://api.github.com/repos/Drakkar-Software/OctoBot/labels/trading%20&%20exchanges","name":"trading & exchanges","color":"66f742","default":false,"description":"About trading and exchange features"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-10-11T18:08:43Z","updated_at":"2019-12-30T15:25:45Z","closed_at":"2019-12-30T15:25:45Z","author_association":"MEMBER","active_lock_reason":null,"body":"Idea: when InvalidOrder ccxt exception with \"Market is closed\" => stop watching this pair.\r\nI suggest implementing this feature in 0.4.\r\n\r\nerror messsage on closed markets:\r\n\r\n2019-10-11 16:30:02,486 ERROR    RESTExchange[binance] Failed to create order : binance {\"code\":-1013,\"msg\":\"Market is closed.\"} (order_type: TraderOrderType.SELL_LIMIT, symbol: PAX/ETH, quantity: 15.0, price: 0.00913642, stop_price: None)\r\n 2019-10-11 16:30:02,487 ERROR    RESTExchange[binance] binance {\"code\":-1013,\"msg\":\"Market is closed.\"}\r\nTraceback (most recent call last):\r\n  File \"/home/doct0r/Desktop/Multi-Octo/Me/Mining/trading/exchanges/rest_exchanges/rest_exchange.py\", line 220, in create_order\r\n    created_order = await self._create_specific_order(order_type, symbol, quantity, price)\r\n  File \"/home/doct0r/Desktop/Multi-Octo/Me/Mining/trading/exchanges/rest_exchanges/rest_exchange.py\", line 254, in _create_specific_order\r\n    created_order = await self.client.create_limit_sell_order(symbol, quantity, price)\r\n  File \"/home/doct0r/.local/lib/python3.7/site-packages/ccxt/async_support/binance.py\", line 706, in create_order\r\n    response = await getattr(self, method)(self.extend(request, params))\r\n  File \"/home/doct0r/.local/lib/python3.7/site-packages/ccxt/async_support/binance.py\", line 1223, in request\r\n    response = await self.fetch2(path, api, method, params, headers, body)\r\n  File \"/home/doct0r/.local/lib/python3.7/site-packages/ccxt/async_support/base/exchange.py\", line 117, in fetch2\r\n    return await self.fetch(request['url'], request['method'], request['headers'], request['body'])\r\n  File \"/home/doct0r/.local/lib/python3.7/site-packages/ccxt/async_support/base/exchange.py\", line 168, in fetch\r\n    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response)\r\n  File \"/home/doct0r/.local/lib/python3.7/site-packages/ccxt/async_support/binance.py\", line 1216, in handle_errors\r\n    raise exceptions[error](self.id + ' ' + body)\r\nccxt.base.errors.InvalidOrder: binance {\"code\":-1013,\"msg\":\"Market is closed.\"}\r\n 2019-10-11 16:30:02,488 INFO     Trader[binance]      Created order on binance: None\r\n 2019-10-11 16:30:02,489 ERROR    DailyTradingModeCreator Failed to create order : 'NoneType' object is not subscriptable. Order: PAX/ETH | SELL_LIMIT | Price : 0.00913642 | Quantity : 15.0 | Status : OPEN\r\n 2019-10-11 16:30:02,489 ERROR    DailyTradingModeCreator 'NoneType' object is not subscriptable\r\nTraceback (most recent call last):\r\n  File \"/home/doct0r/Desktop/Multi-Octo/Me/Mining/tentacles/Trading/Mode/Default/daily_trading_mode.py\", line 276, in create_new_order\r\n    updated_limit = await trader.create_order(current_order, portfolio)\r\n  File \"/home/doct0r/Desktop/Multi-Octo/Me/Mining/trading/trader/trader.py\", line 196, in create_order\r\n    new_order = await self._create_not_loaded_order(order, new_order, portfolio)\r\n  File \"/home/doct0r/Desktop/Multi-Octo/Me/Mining/trading/trader/trader.py\", line 243, in _create_not_loaded_order\r\n    new_order = self.parse_exchange_order_to_order_instance(created_order)\r\n  File \"/home/doct0r/Desktop/Multi-Octo/Me/Mining/trading/trader/trader.py\", line 482, in parse_exchange_order_to_order_instance\r\n    return self.create_order_instance(order_type=self.parse_order_type(order),\r\n  File \"/home/doct0r/Desktop/Multi-Octo/Me/Mining/trading/trader/trader.py\", line 533, in parse_order_type\r\n    side = TradeOrderSide(order[\"side\"])\r\nTypeError: 'NoneType' object is not subscriptable","closed_by":{"login":"Herklos","id":10454670,"node_id":"MDQ6VXNlcjEwNDU0Njcw","avatar_url":"https://avatars.githubusercontent.com/u/10454670?v=4","gravatar_id":"","url":"https://api.github.com/users/Herklos","html_url":"https://github.com/Herklos","followers_url":"https://api.github.com/users/Herklos/followers","following_url":"https://api.github.com/users/Herklos/following{/other_user}","gists_url":"https://api.github.com/users/Herklos/gists{/gist_id}","starred_url":"https://api.github.com/users/Herklos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Herklos/subscriptions","organizations_url":"https://api.github.com/users/Herklos/orgs","repos_url":"https://api.github.com/users/Herklos/repos","events_url":"https://api.github.com/users/Herklos/events{/privacy}","received_events_url":"https://api.github.com/users/Herklos/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/986/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/986/timeline","performed_via_github_app":null,"state_reason":"completed"}