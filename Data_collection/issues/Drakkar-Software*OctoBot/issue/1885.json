{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1885","repository_url":"https://api.github.com/repos/Drakkar-Software/OctoBot","labels_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1885/labels{/name}","comments_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1885/comments","events_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1885/events","html_url":"https://github.com/Drakkar-Software/OctoBot/issues/1885","id":1055029760,"node_id":"I_kwDOB0_7-s4-4noA","number":1885,"title":"backtesting from strategy page throws an error","user":{"login":"Noilly-Prat","id":78227449,"node_id":"MDQ6VXNlcjc4MjI3NDQ5","avatar_url":"https://avatars.githubusercontent.com/u/78227449?v=4","gravatar_id":"","url":"https://api.github.com/users/Noilly-Prat","html_url":"https://github.com/Noilly-Prat","followers_url":"https://api.github.com/users/Noilly-Prat/followers","following_url":"https://api.github.com/users/Noilly-Prat/following{/other_user}","gists_url":"https://api.github.com/users/Noilly-Prat/gists{/gist_id}","starred_url":"https://api.github.com/users/Noilly-Prat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Noilly-Prat/subscriptions","organizations_url":"https://api.github.com/users/Noilly-Prat/orgs","repos_url":"https://api.github.com/users/Noilly-Prat/repos","events_url":"https://api.github.com/users/Noilly-Prat/events{/privacy}","received_events_url":"https://api.github.com/users/Noilly-Prat/received_events","type":"User","site_admin":false},"labels":[{"id":2278561011,"node_id":"MDU6TGFiZWwyMjc4NTYxMDEx","url":"https://api.github.com/repos/Drakkar-Software/OctoBot/labels/fixed%20but%20not%20released","name":"fixed but not released","color":"000e8e","default":false,"description":""}],"state":"open","locked":false,"assignee":{"login":"valouvaliavlo","id":28919459,"node_id":"MDQ6VXNlcjI4OTE5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/28919459?v=4","gravatar_id":"","url":"https://api.github.com/users/valouvaliavlo","html_url":"https://github.com/valouvaliavlo","followers_url":"https://api.github.com/users/valouvaliavlo/followers","following_url":"https://api.github.com/users/valouvaliavlo/following{/other_user}","gists_url":"https://api.github.com/users/valouvaliavlo/gists{/gist_id}","starred_url":"https://api.github.com/users/valouvaliavlo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/valouvaliavlo/subscriptions","organizations_url":"https://api.github.com/users/valouvaliavlo/orgs","repos_url":"https://api.github.com/users/valouvaliavlo/repos","events_url":"https://api.github.com/users/valouvaliavlo/events{/privacy}","received_events_url":"https://api.github.com/users/valouvaliavlo/received_events","type":"User","site_admin":false},"assignees":[{"login":"valouvaliavlo","id":28919459,"node_id":"MDQ6VXNlcjI4OTE5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/28919459?v=4","gravatar_id":"","url":"https://api.github.com/users/valouvaliavlo","html_url":"https://github.com/valouvaliavlo","followers_url":"https://api.github.com/users/valouvaliavlo/followers","following_url":"https://api.github.com/users/valouvaliavlo/following{/other_user}","gists_url":"https://api.github.com/users/valouvaliavlo/gists{/gist_id}","starred_url":"https://api.github.com/users/valouvaliavlo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/valouvaliavlo/subscriptions","organizations_url":"https://api.github.com/users/valouvaliavlo/orgs","repos_url":"https://api.github.com/users/valouvaliavlo/repos","events_url":"https://api.github.com/users/valouvaliavlo/events{/privacy}","received_events_url":"https://api.github.com/users/valouvaliavlo/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2021-11-16T15:42:02Z","updated_at":"2021-11-20T09:37:54Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"## Step 1: Have you search for this issue before posting it?\r\nyes\r\n\r\n## Step 2: Describe your environment\r\nusing the Oketo deployment.\r\nSo I would say \r\n  * OS : Linux\r\n  * Python Version/ 3.8\r\n  * In case you are not using a binary version:\r\n    * Branch: Master \r\n    * Last Commit ID: N/A\r\n \r\n## Step 3: Describe the problem:\r\n**Describe the bug**\r\nFrom a strategy configuration page (tested with SimpleStrategyEvaluator under the DailyTrading mode), I canoot backtest the configuration.\r\nI got the error\r\n`list indices must be integers or slices, not str (TypeError)`\r\nI tried with binance and bitfinex\r\n\r\nExtra: backtesting from the backtesting page works well with the same datasets\r\n\r\n**Expected behavior**\r\nClicking on Backtesting from the strategy configuration page should work\r\n\r\n### Steps to reproduce:\r\n\r\n  1. Go to a strategy configuration page\r\n  2. Try to backtest that config\r\n  3. ERROR\r\n  \r\n### Observed Results:\r\n\r\n  * What happened?\r\n  * What did you expect to happen?\r\n\r\n### Relevant code exceptions or logs:\r\nIf applicable, add screenshots to help explain your problem.\r\n![capture2](https://user-images.githubusercontent.com/78227449/142016169-1b17d863-85e9-40a9-ba79-9fdb1ada5568.png)\r\n \r\n```\r\noctobot-0octobotTraceback (most recent call last):\r\noctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 2447, in wsgi_app\r\noctobot-0octobot    response = self.full_dispatch_request()\r\noctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\noctobot-0octobot    rv = self.handle_user_exception(e)\r\noctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\noctobot-0octobot    reraise(exc_type, exc_value, tb)\r\noctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/_compat.py\", line 39, in reraise\r\noctobot-0octobot    raise value\r\noctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\noctobot-0octobot    rv = self.dispatch_request()\r\noctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 1936, in dispatch_request\r\noctobot-0octobot    return self.view_functions[rule.endpoint](**req.view_args)\r\noctobot-0octobot  File \"/octobot/tentacles/Services/Interfaces/web_interface/login/web_login_manager.py\", line 67, in decorated_view\r\noctobot-0octobot    return func(*args, **kwargs)\r\noctobot-0octobot  File \"/octobot/tentacles/Services/Interfaces/web_interface/controllers/backtesting.py\", line 41, in backtesting\r\noctobot-0octobot    success, reply = models.start_backtesting_using_specific_files(data[\"files\"],\r\noctobot-0octobot 2021-11-16 15:40:20,281 ERROR    WebInterfaceErrorHandler Error when displaying page: list indices must be integers or slices, not str (TypeError)\r\n```\r\n\r\nSame logs with the timestamp\r\n```\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobotTraceback (most recent call last):\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot    response = self.full_dispatch_request()\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot    rv = self.handle_user_exception(e)\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot    reraise(exc_type, exc_value, tb)\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/_compat.py\", line 39, in reraise\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot    raise value\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot    rv = self.dispatch_request()\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot  File \"/opt/venv/lib/python3.8/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot    return self.view_functions[rule.endpoint](**req.view_args)\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot  File \"/octobot/tentacles/Services/Interfaces/web_interface/login/web_login_manager.py\", line 67, in decorated_view\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot    return func(*args, **kwargs)\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot  File \"/octobot/tentacles/Services/Interfaces/web_interface/controllers/backtesting.py\", line 41, in backtesting\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot    success, reply = models.start_backtesting_using_specific_files(data[\"files\"],\r\n2021-11-16 15:40:20.28 UTCoctobot-0octobot 2021-11-16 15:40:20,281 ERROR    WebInterfaceErrorHandler Error when displaying page: list indices must be integers or slices, not str (TypeError)\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1885/timeline","performed_via_github_app":null,"state_reason":null}