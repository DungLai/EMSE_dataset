{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1899","repository_url":"https://api.github.com/repos/Drakkar-Software/OctoBot","labels_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1899/labels{/name}","comments_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1899/comments","events_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1899/events","html_url":"https://github.com/Drakkar-Software/OctoBot/issues/1899","id":1065607057,"node_id":"I_kwDOB0_7-s4_g9-R","number":1899,"title":"Portfolio fails to calculate indirect currencies","user":{"login":"daniel-lucio","id":3492858,"node_id":"MDQ6VXNlcjM0OTI4NTg=","avatar_url":"https://avatars.githubusercontent.com/u/3492858?v=4","gravatar_id":"","url":"https://api.github.com/users/daniel-lucio","html_url":"https://github.com/daniel-lucio","followers_url":"https://api.github.com/users/daniel-lucio/followers","following_url":"https://api.github.com/users/daniel-lucio/following{/other_user}","gists_url":"https://api.github.com/users/daniel-lucio/gists{/gist_id}","starred_url":"https://api.github.com/users/daniel-lucio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniel-lucio/subscriptions","organizations_url":"https://api.github.com/users/daniel-lucio/orgs","repos_url":"https://api.github.com/users/daniel-lucio/repos","events_url":"https://api.github.com/users/daniel-lucio/events{/privacy}","received_events_url":"https://api.github.com/users/daniel-lucio/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-11-29T04:50:07Z","updated_at":"2021-11-29T21:10:48Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"## Step 1: Have you search for this issue before posting it?\r\nYes\r\n\r\n## Step 2: Describe your environment\r\n  * OS : Linux \r\n  * Python 3.8\r\n  * In case you are not using a binary version:\r\n    * Branch: tag 0.4.3\r\n \r\n## Step 3: Describe the problem:\r\n**Describe the bug**\r\nOctobot fails to calculate portfolio of currencies that do not have a direct pair with the reference-market currency. Example:\r\ngate.io does not offer SC/BTC market, but it does offer SC/USD and SC/ETH, there is also available the USD/BTC and ETH/BTC market. Octobot fails to calculate in an indirect way the SC value when BTC is the reference-market currency.\r\n\r\n**Expected behavior**\r\nUse indirect market to make the maths, in this example, it should be using SC/USD or SC/ETH and then USD/BTC or ETH/BTC to get an indirect value of SC when BTC is the reference market currency.\r\n\r\n### Steps to reproduce:\r\n\r\n  1. get gate.io configured \r\n  2. put some SC in your portfolio (works with simulated trading as well), more than 6000 SC as SC value is small.\r\n  3. setup BTC as reference market currency\r\n  4. save and restart Octobot\r\n  5. check the logs, see how SC has 0 value\r\n  \r\n### Observed Results:\r\n\r\n  * What happened?\r\nSC has 0 BTC value market\r\n\r\n  * What did you expect to happen?\r\nSC should have something different than 0.\r\n\r\n### Relevant code exceptions or logs:\r\nCan access them on this computer, you will see this when you follow my reproduction steps\r\n \r\n```\r\n// paste your log here\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1899/timeline","performed_via_github_app":null,"state_reason":null}