{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1350","repository_url":"https://api.github.com/repos/Drakkar-Software/OctoBot","labels_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1350/labels{/name}","comments_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1350/comments","events_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1350/events","html_url":"https://github.com/Drakkar-Software/OctoBot/issues/1350","id":729817791,"node_id":"MDU6SXNzdWU3Mjk4MTc3OTE=","number":1350,"title":"[windows][python3.8][asyncio][aiohttp] Event loop is closed","user":{"login":"GuillaumeDSM","id":9078616,"node_id":"MDQ6VXNlcjkwNzg2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9078616?v=4","gravatar_id":"","url":"https://api.github.com/users/GuillaumeDSM","html_url":"https://github.com/GuillaumeDSM","followers_url":"https://api.github.com/users/GuillaumeDSM/followers","following_url":"https://api.github.com/users/GuillaumeDSM/following{/other_user}","gists_url":"https://api.github.com/users/GuillaumeDSM/gists{/gist_id}","starred_url":"https://api.github.com/users/GuillaumeDSM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GuillaumeDSM/subscriptions","organizations_url":"https://api.github.com/users/GuillaumeDSM/orgs","repos_url":"https://api.github.com/users/GuillaumeDSM/repos","events_url":"https://api.github.com/users/GuillaumeDSM/events{/privacy}","received_events_url":"https://api.github.com/users/GuillaumeDSM/received_events","type":"User","site_admin":false},"labels":[{"id":1298622608,"node_id":"MDU6TGFiZWwxMjk4NjIyNjA4","url":"https://api.github.com/repos/Drakkar-Software/OctoBot/labels/dependencies","name":"dependencies","color":"0025ff","default":false,"description":"Pull requests that update a dependency file"},{"id":2089489756,"node_id":"MDU6TGFiZWwyMDg5NDg5NzU2","url":"https://api.github.com/repos/Drakkar-Software/OctoBot/labels/pending","name":"pending","color":"1f2293","default":false,"description":""}],"state":"open","locked":false,"assignee":{"login":"Herklos","id":10454670,"node_id":"MDQ6VXNlcjEwNDU0Njcw","avatar_url":"https://avatars.githubusercontent.com/u/10454670?v=4","gravatar_id":"","url":"https://api.github.com/users/Herklos","html_url":"https://github.com/Herklos","followers_url":"https://api.github.com/users/Herklos/followers","following_url":"https://api.github.com/users/Herklos/following{/other_user}","gists_url":"https://api.github.com/users/Herklos/gists{/gist_id}","starred_url":"https://api.github.com/users/Herklos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Herklos/subscriptions","organizations_url":"https://api.github.com/users/Herklos/orgs","repos_url":"https://api.github.com/users/Herklos/repos","events_url":"https://api.github.com/users/Herklos/events{/privacy}","received_events_url":"https://api.github.com/users/Herklos/received_events","type":"User","site_admin":false},"assignees":[{"login":"Herklos","id":10454670,"node_id":"MDQ6VXNlcjEwNDU0Njcw","avatar_url":"https://avatars.githubusercontent.com/u/10454670?v=4","gravatar_id":"","url":"https://api.github.com/users/Herklos","html_url":"https://github.com/Herklos","followers_url":"https://api.github.com/users/Herklos/followers","following_url":"https://api.github.com/users/Herklos/following{/other_user}","gists_url":"https://api.github.com/users/Herklos/gists{/gist_id}","starred_url":"https://api.github.com/users/Herklos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Herklos/subscriptions","organizations_url":"https://api.github.com/users/Herklos/orgs","repos_url":"https://api.github.com/users/Herklos/repos","events_url":"https://api.github.com/users/Herklos/events{/privacy}","received_events_url":"https://api.github.com/users/Herklos/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2020-10-26T18:47:03Z","updated_at":"2020-10-26T18:47:03Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"This is a Windows only issue.\r\nSince Python3.8, the Windows loop default implementation generates issues with several libs including aiohttp.\r\n![image](https://user-images.githubusercontent.com/9078616/97214415-6249d700-17c3-11eb-9c5d-68caea4bd96c.png)\r\n\r\nTo avoid this warning, `SelectorEventLoop` (see [event_loop doc](https://docs.python.org/3.8/library/asyncio-eventloop.html#event-loop-implementations)) is forced in \r\n* OctoBot-Trading tests (https://github.com/Drakkar-Software/OctoBot-Trading/pull/393)\r\n* OctoBot-Tentacles-Manager tests (https://github.com/Drakkar-Software/OctoBot-Tentacles-Manager/pull/71)\r\n\r\nfix from https://github.com/encode/httpx/issues/914#issuecomment-622586610\r\n\r\nThis warning also sometime appears during the bot run (ex: after a data collector run). Is currently accepted and only visible in console logs.\r\nFor now no fix is available.\r\n\r\nTodo: Use fixed versions of python or aiohttp and revert `SelectorEventLoop` force is tests.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1350/timeline","performed_via_github_app":null,"state_reason":null}