{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1993","repository_url":"https://api.github.com/repos/Drakkar-Software/OctoBot","labels_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1993/labels{/name}","comments_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1993/comments","events_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1993/events","html_url":"https://github.com/Drakkar-Software/OctoBot/issues/1993","id":1305574421,"node_id":"I_kwDOB0_7-s5N0XwV","number":1993,"title":"During order create, type error for unsupported operand type(s) for *: 'decimal.Decimal' and 'float'","user":{"login":"AndrewSerra","id":7320235,"node_id":"MDQ6VXNlcjczMjAyMzU=","avatar_url":"https://avatars.githubusercontent.com/u/7320235?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrewSerra","html_url":"https://github.com/AndrewSerra","followers_url":"https://api.github.com/users/AndrewSerra/followers","following_url":"https://api.github.com/users/AndrewSerra/following{/other_user}","gists_url":"https://api.github.com/users/AndrewSerra/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrewSerra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrewSerra/subscriptions","organizations_url":"https://api.github.com/users/AndrewSerra/orgs","repos_url":"https://api.github.com/users/AndrewSerra/repos","events_url":"https://api.github.com/users/AndrewSerra/events{/privacy}","received_events_url":"https://api.github.com/users/AndrewSerra/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"GuillaumeDSM","id":9078616,"node_id":"MDQ6VXNlcjkwNzg2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9078616?v=4","gravatar_id":"","url":"https://api.github.com/users/GuillaumeDSM","html_url":"https://github.com/GuillaumeDSM","followers_url":"https://api.github.com/users/GuillaumeDSM/followers","following_url":"https://api.github.com/users/GuillaumeDSM/following{/other_user}","gists_url":"https://api.github.com/users/GuillaumeDSM/gists{/gist_id}","starred_url":"https://api.github.com/users/GuillaumeDSM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GuillaumeDSM/subscriptions","organizations_url":"https://api.github.com/users/GuillaumeDSM/orgs","repos_url":"https://api.github.com/users/GuillaumeDSM/repos","events_url":"https://api.github.com/users/GuillaumeDSM/events{/privacy}","received_events_url":"https://api.github.com/users/GuillaumeDSM/received_events","type":"User","site_admin":false},"assignees":[{"login":"GuillaumeDSM","id":9078616,"node_id":"MDQ6VXNlcjkwNzg2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9078616?v=4","gravatar_id":"","url":"https://api.github.com/users/GuillaumeDSM","html_url":"https://github.com/GuillaumeDSM","followers_url":"https://api.github.com/users/GuillaumeDSM/followers","following_url":"https://api.github.com/users/GuillaumeDSM/following{/other_user}","gists_url":"https://api.github.com/users/GuillaumeDSM/gists{/gist_id}","starred_url":"https://api.github.com/users/GuillaumeDSM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GuillaumeDSM/subscriptions","organizations_url":"https://api.github.com/users/GuillaumeDSM/orgs","repos_url":"https://api.github.com/users/GuillaumeDSM/repos","events_url":"https://api.github.com/users/GuillaumeDSM/events{/privacy}","received_events_url":"https://api.github.com/users/GuillaumeDSM/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2022-07-15T04:55:07Z","updated_at":"2022-07-17T13:33:28Z","closed_at":"2022-07-17T13:33:28Z","author_association":"NONE","active_lock_reason":null,"body":"## Step 1: Have you search for this issue before posting it?\r\nYes\r\n\r\n## Step 2: Describe your environment\r\n  * OS : [Alpine Linux on Raspberry Pi, deployed with docker] \r\n  * Python Version: 3.8 (`python -V`)\r\n \r\n## Step 3: Describe the problem:\r\n**Describe the bug**\r\nWhen there is an order to be created, the following error occurs:\r\n```\r\n2022-07-15 04:15:54,203 ERROR    DailyTradingModeConsumer [<class 'decimal.ConversionSyntax'>]\r\nTraceback (most recent call last):\r\n  File \"/octobot/tentacles/Trading/Mode/daily_trading_mode/daily_trading.py\", line 320, in create_new_orders\r\n    quantity = trading_personal_data.decimal_add_dusts_to_quantity_if_necessary(quantity, price, symbol_market,\r\n  File \"octobot_trading/personal_data/orders/decimal_order_adapter.py\", line 243, in octobot_trading.personal_data.orders.decimal_order_adapter.decimal_add_dusts_to_quantity_if_necessary\r\ndecimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\r\n 2022-07-15 04:15:54,209 ERROR    DailyTradingModeConsumer Failed to create order : [<class 'decimal.ConversionSyntax'>]. (InvalidOperation)\r\n```\r\nThis happens with every order trying to be created. I have checked the markets that have the option to buy/sell. The \"view only\" ones are not in my currency list.\r\n\r\n**Expected behavior**\r\nTo create a trade using Coinbase Pro.\r\n\r\n### Steps to reproduce:\r\n\r\n  1. Pull docker image and start it\r\n  2. Add coinbase pro credentials\r\n  3. Add currencies\r\n  4. Enter real trading\r\n  5. Wait for data to fill in\r\n  \r\n### Observed Results:\r\n\r\n  * What happened?\r\nAs soon as there is a possible trade, the error shows up during order creation. Data can be pulled in for graphs, and the currency states update.\r\n  * What did you expect to happen?\r\nTo have the order be created for the analysis and trade settings.\r\n\r\n### Relevant code exceptions or logs:\r\n\r\n<img width=\"1594\" alt=\"Screen Shot 2022-07-15 at 12 51 45 AM\" src=\"https://user-images.githubusercontent.com/7320235/179153143-9f329697-2934-4944-89e2-1c8d2e66b1d9.png\">\r\n \r\n```\r\n 2022-07-15 04:15:53,889 ERROR    root                 <class 'TypeError'>: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'\r\nNoneType: None\r\nException ignored in: 'octobot_trading.exchanges.util.exchange_market_status_fixer.ExchangeMarketStatusFixer._fix_market_status_limits_with_price'\r\nTraceback (most recent call last):\r\n  File \"/octobot/tentacles/Trading/Mode/daily_trading_mode/daily_trading.py\", line 320, in create_new_orders\r\n    quantity = trading_personal_data.decimal_add_dusts_to_quantity_if_necessary(quantity, price, symbol_market,\r\nTypeError: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'\r\n 2022-07-15 04:15:53,896 ERROR    DailyTradingModeConsumer [<class 'decimal.ConversionSyntax'>]\r\nTraceback (most recent call last):\r\n  File \"/octobot/tentacles/Trading/Mode/daily_trading_mode/daily_trading.py\", line 320, in create_new_orders\r\n    quantity = trading_personal_data.decimal_add_dusts_to_quantity_if_necessary(quantity, price, symbol_market,\r\n  File \"octobot_trading/personal_data/orders/decimal_order_adapter.py\", line 243, in octobot_trading.personal_data.orders.decimal_order_adapter.decimal_add_dusts_to_quantity_if_necessary\r\ndecimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\r\n 2022-07-15 04:15:53,903 ERROR    DailyTradingModeConsumer Failed to create order : [<class 'decimal.ConversionSyntax'>]. (InvalidOperation)\r\n 2022-07-15 04:15:53,956 INFO     DailyTradingModeProducer [ETH/USD] new state: NEUTRAL\r\n 2022-07-15 04:15:54,052 INFO     DailyTradingModeProducer [AVAX/USD] new state: SHORT\r\n 2022-07-15 04:15:54,162 INFO     DailyTradingModeProducer [SOL/ETH] new state: SHORT\r\n 2022-07-15 04:15:54,187 ERROR    root                 \r\nNoneType: None\r\n 2022-07-15 04:15:54,196 ERROR    root                 <class 'TypeError'>: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'\r\nNoneType: None\r\nException ignored in: 'octobot_trading.exchanges.util.exchange_market_status_fixer.ExchangeMarketStatusFixer._fix_market_status_limits_with_price'\r\nTraceback (most recent call last):\r\n  File \"/octobot/tentacles/Trading/Mode/daily_trading_mode/daily_trading.py\", line 320, in create_new_orders\r\n    quantity = trading_personal_data.decimal_add_dusts_to_quantity_if_necessary(quantity, price, symbol_market,\r\nTypeError: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'\r\n 2022-07-15 04:15:54,203 ERROR    DailyTradingModeConsumer [<class 'decimal.ConversionSyntax'>]\r\nTraceback (most recent call last):\r\n  File \"/octobot/tentacles/Trading/Mode/daily_trading_mode/daily_trading.py\", line 320, in create_new_orders\r\n    quantity = trading_personal_data.decimal_add_dusts_to_quantity_if_necessary(quantity, price, symbol_market,\r\n  File \"octobot_trading/personal_data/orders/decimal_order_adapter.py\", line 243, in octobot_trading.personal_data.orders.decimal_order_adapter.decimal_add_dusts_to_quantity_if_necessary\r\ndecimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\r\n 2022-07-15 04:15:54,209 ERROR    DailyTradingModeConsumer Failed to create order : [<class 'decimal.ConversionSyntax'>]. (InvalidOperation)\r\n```\r\n","closed_by":{"login":"GuillaumeDSM","id":9078616,"node_id":"MDQ6VXNlcjkwNzg2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9078616?v=4","gravatar_id":"","url":"https://api.github.com/users/GuillaumeDSM","html_url":"https://github.com/GuillaumeDSM","followers_url":"https://api.github.com/users/GuillaumeDSM/followers","following_url":"https://api.github.com/users/GuillaumeDSM/following{/other_user}","gists_url":"https://api.github.com/users/GuillaumeDSM/gists{/gist_id}","starred_url":"https://api.github.com/users/GuillaumeDSM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GuillaumeDSM/subscriptions","organizations_url":"https://api.github.com/users/GuillaumeDSM/orgs","repos_url":"https://api.github.com/users/GuillaumeDSM/repos","events_url":"https://api.github.com/users/GuillaumeDSM/events{/privacy}","received_events_url":"https://api.github.com/users/GuillaumeDSM/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1993/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1993/timeline","performed_via_github_app":null,"state_reason":"completed"}