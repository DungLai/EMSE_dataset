{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1901","repository_url":"https://api.github.com/repos/Drakkar-Software/OctoBot","labels_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1901/labels{/name}","comments_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1901/comments","events_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1901/events","html_url":"https://github.com/Drakkar-Software/OctoBot/issues/1901","id":1071045433,"node_id":"I_kwDOB0_7-s4_1ts5","number":1901,"title":"[telegram-api] RPCError while login ","user":{"login":"Malcom3D","id":10485437,"node_id":"MDQ6VXNlcjEwNDg1NDM3","avatar_url":"https://avatars.githubusercontent.com/u/10485437?v=4","gravatar_id":"","url":"https://api.github.com/users/Malcom3D","html_url":"https://github.com/Malcom3D","followers_url":"https://api.github.com/users/Malcom3D/followers","following_url":"https://api.github.com/users/Malcom3D/following{/other_user}","gists_url":"https://api.github.com/users/Malcom3D/gists{/gist_id}","starred_url":"https://api.github.com/users/Malcom3D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Malcom3D/subscriptions","organizations_url":"https://api.github.com/users/Malcom3D/orgs","repos_url":"https://api.github.com/users/Malcom3D/repos","events_url":"https://api.github.com/users/Malcom3D/events{/privacy}","received_events_url":"https://api.github.com/users/Malcom3D/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"Herklos","id":10454670,"node_id":"MDQ6VXNlcjEwNDU0Njcw","avatar_url":"https://avatars.githubusercontent.com/u/10454670?v=4","gravatar_id":"","url":"https://api.github.com/users/Herklos","html_url":"https://github.com/Herklos","followers_url":"https://api.github.com/users/Herklos/followers","following_url":"https://api.github.com/users/Herklos/following{/other_user}","gists_url":"https://api.github.com/users/Herklos/gists{/gist_id}","starred_url":"https://api.github.com/users/Herklos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Herklos/subscriptions","organizations_url":"https://api.github.com/users/Herklos/orgs","repos_url":"https://api.github.com/users/Herklos/repos","events_url":"https://api.github.com/users/Herklos/events{/privacy}","received_events_url":"https://api.github.com/users/Herklos/received_events","type":"User","site_admin":false},"assignees":[{"login":"Herklos","id":10454670,"node_id":"MDQ6VXNlcjEwNDU0Njcw","avatar_url":"https://avatars.githubusercontent.com/u/10454670?v=4","gravatar_id":"","url":"https://api.github.com/users/Herklos","html_url":"https://github.com/Herklos","followers_url":"https://api.github.com/users/Herklos/followers","following_url":"https://api.github.com/users/Herklos/following{/other_user}","gists_url":"https://api.github.com/users/Herklos/gists{/gist_id}","starred_url":"https://api.github.com/users/Herklos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Herklos/subscriptions","organizations_url":"https://api.github.com/users/Herklos/orgs","repos_url":"https://api.github.com/users/Herklos/repos","events_url":"https://api.github.com/users/Herklos/events{/privacy}","received_events_url":"https://api.github.com/users/Herklos/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2021-12-03T23:26:24Z","updated_at":"2022-01-02T19:09:43Z","closed_at":"2022-01-02T19:09:43Z","author_association":"NONE","active_lock_reason":null,"body":"## Step 1: Have you search for this issue before posting it?\r\n\r\nyes\r\n\r\n## Step 2: Describe your environment\r\n  * OS :  Linux\r\n  * Python Version: 3.8.12\r\n  * In case you are not using a binary version:\r\n    * Branch: Master\r\n    * Last Commit ID: c80ed2270e5d085994213955c0f56b9e3b70b476\r\n \r\n## Step 3: Describe the problem:\r\n**Describe the bug**\r\nTelegram Api Service fail to connect with the error described in this [Telethon issue](https://github.com/LonamiWebs/Telethon/issues/3215).\r\nWas fixed with telethon version 1.24 some day ago, but octobot-services requires telethon 1.23\r\n\r\n**Expected behavior**\r\nTelegram Api Service connect without error.\r\n\r\n### Steps to reproduce:\r\n\r\n  1. if you don't already have it, create a new configuration for [telegram-api](https://docs.octobot.online/interfaces/telegram-interface/telegram-api).\r\n  2. save and restart Octobot.\r\n  3. check the logs for TelegramApiService ERROR.\r\n  \r\n### Observed Results:\r\n\r\n  * What happened?\r\n    Telegram Api Service return error on login.\r\n\r\n  * What did you expect to happen?\r\n    Telegram Api Service login without errors.\r\n\r\n### Relevant code exceptions or logs:\r\n\r\n 2021-12-03 23:54:37,643 ERROR    TelegramApiService   Failed to connect to Telegram Api : RPCError 406: UPDATE_APP_TO_LOGIN (caused by SendCodeRequest)\r\n 2021-12-03 23:54:37,645 ERROR    TelegramApiService   Error when connecting to Telegram API ('NoneType' object has no attribute 'username'): invalid telegram configuration.\r\n 2021-12-03 23:54:37,645 WARNING  ServiceFactory       TelegramApiService initial checkup failed.\r\n 2021-12-03 23:54:37,646 WARNING  TelegramApiServiceFeed Impossible to start TelegramApiServiceFeed: required service TelegramApiService is not available.\r\n 2021-12-03 23:54:37,647 ERROR    OctoBotChannelServiceConsumer Failed to start TelegramApiServiceFeed. Evaluators requiring this service feed might not work properly.","closed_by":{"login":"Herklos","id":10454670,"node_id":"MDQ6VXNlcjEwNDU0Njcw","avatar_url":"https://avatars.githubusercontent.com/u/10454670?v=4","gravatar_id":"","url":"https://api.github.com/users/Herklos","html_url":"https://github.com/Herklos","followers_url":"https://api.github.com/users/Herklos/followers","following_url":"https://api.github.com/users/Herklos/following{/other_user}","gists_url":"https://api.github.com/users/Herklos/gists{/gist_id}","starred_url":"https://api.github.com/users/Herklos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Herklos/subscriptions","organizations_url":"https://api.github.com/users/Herklos/orgs","repos_url":"https://api.github.com/users/Herklos/repos","events_url":"https://api.github.com/users/Herklos/events{/privacy}","received_events_url":"https://api.github.com/users/Herklos/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1901/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/1901/timeline","performed_via_github_app":null,"state_reason":"completed"}