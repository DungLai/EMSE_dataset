{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/898","repository_url":"https://api.github.com/repos/Drakkar-Software/OctoBot","labels_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/898/labels{/name}","comments_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/898/comments","events_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/898/events","html_url":"https://github.com/Drakkar-Software/OctoBot/issues/898","id":445747341,"node_id":"MDU6SXNzdWU0NDU3NDczNDE=","number":898,"title":"Update OctoBot fail on MacOS","user":{"login":"dbzalpha","id":32240515,"node_id":"MDQ6VXNlcjMyMjQwNTE1","avatar_url":"https://avatars.githubusercontent.com/u/32240515?v=4","gravatar_id":"","url":"https://api.github.com/users/dbzalpha","html_url":"https://github.com/dbzalpha","followers_url":"https://api.github.com/users/dbzalpha/followers","following_url":"https://api.github.com/users/dbzalpha/following{/other_user}","gists_url":"https://api.github.com/users/dbzalpha/gists{/gist_id}","starred_url":"https://api.github.com/users/dbzalpha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbzalpha/subscriptions","organizations_url":"https://api.github.com/users/dbzalpha/orgs","repos_url":"https://api.github.com/users/dbzalpha/repos","events_url":"https://api.github.com/users/dbzalpha/events{/privacy}","received_events_url":"https://api.github.com/users/dbzalpha/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-05-18T19:35:45Z","updated_at":"2019-05-20T18:15:54Z","closed_at":"2019-05-20T18:15:54Z","author_association":"NONE","active_lock_reason":null,"body":"## Step 1: Have you search for this issue before posting it?\r\nYes\r\n\r\n## Step 2: Describe your environment\r\n  * OS : MacOS 10.13.6 \r\n  * Python Version: 3.7.3, via virtualenv\r\n  * Firefox Browser\r\n \r\n## Step 3: Describe the problem:\r\n**Describe the bug**\r\n\"Update Octobot\" doesn't complete through the browser\r\n\r\n### Steps to reproduce:\r\n\r\n  1. $ virtualenv -p python3.7 venv\r\n  2. $ source venv/bin/activate\r\n  3. python3.7 -m pip install OctoBot\r\n  4. download of launcher_app_osx and paste in $ \r\n  5. $ chmod +x launcher_app_osx\r\n  6. $ ./launcher_app_osx\r\n  7. interface launched in browser, left part (Octobot) a bit long to load (30s approx.)\r\n  8. click on \"Update OctoBot\", start to load, then fail and show \"This service is temporary unavailable.\"\r\n\r\n### Observed Results:\r\n\r\n  * What happened?\r\n  * What did you expect to happen?\r\n\r\n### Relevant code exceptions or logs:\r\n![temporary_unavailable](https://user-images.githubusercontent.com/32240515/57974135-bc692a80-7989-11e9-8c3a-04e1eb3e29cb.png)\r\n \r\n```\r\nINFO:root:Launcher updated\r\nINFO:root:Launcher fresh install...\r\nINFO:root:Interface successfully initialized and accessible at: http://192.168.15.13:5010\r\nINFO:werkzeug:192.168.15.13 - - [18/May/2019 16:16:31] \"GET / HTTP/1.1\" 200 -\r\nINFO:werkzeug:192.168.15.13 - - [18/May/2019 16:16:31] \"GET /news HTTP/1.1\" 200 -\r\nINFO:werkzeug:192.168.15.13 - - [18/May/2019 16:16:32] \"GET /launcher HTTP/1.1\" 200 -\r\nINFO:werkzeug:192.168.15.13 - - [18/May/2019 16:17:47] \"GET /bot HTTP/1.1\" 200 -\r\nINFO:root:OctoBot is checking your environment...\r\nINFO:werkzeug:192.168.15.13 - - [18/May/2019 16:17:51] \"GET /progress HTTP/1.1\" 200 -\r\nINFO:root:Your OctoBot environment is ready !\r\nINFO:root:OctoBot is checking for updates...\r\nINFO:werkzeug:192.168.15.13 - - [18/May/2019 16:17:52] \"GET /progress HTTP/1.1\" 200 -\r\nINFO:werkzeug:192.168.15.13 - - [18/May/2019 16:18:03] \"GET /progress HTTP/1.1\" 200 -\r\nERROR:flask.app:Exception on /install [GET]\r\nTraceback (most recent call last):\r\n  File \"flask/app.py\", line 2292, in wsgi_app\r\n  File \"flask/app.py\", line 1815, in full_dispatch_request\r\n  File \"flask/app.py\", line 1718, in handle_user_exception\r\n  File \"flask/_compat.py\", line 35, in reraise\r\n  File \"flask/app.py\", line 1813, in full_dispatch_request\r\n  File \"flask/app.py\", line 1799, in dispatch_request\r\n  File \"/Users/dbecq/code/octobot/launcher/app/app_controller.py\", line 68, in install\r\n    launcher_instance.update_bot(launcher_module.bot_instance)\r\n  File \"/Users/dbecq/code/octobot/launcher/app/launcher_app.py\", line 94, in update_bot\r\n    environment.install_bot(force_package=force_package)\r\n  File \"/Users/dbecq/code/octobot/launcher/tools/environment.py\", line 96, in install_bot\r\n    update_tentacles(executable_path, force_install=True)\r\n  File \"/Users/dbecq/code/octobot/launcher/tools/environment.py\", line 140, in update_tentacles\r\n    executor.execute_command_on_current_binary(binary_path, [\"-p\", \"install\", \"all\", \"force\"])\r\n  File \"/Users/dbecq/code/octobot/launcher/tools/executor.py\", line 26, in execute_command_on_current_binary\r\n    return subprocess.Popen(cmd, stdout=PIPE).stdout.read().rstrip().decode()\r\n  File \"subprocess.py\", line 775, in __init__\r\n  File \"subprocess.py\", line 1522, in _execute_child\r\nOSError: [Errno 8] Exec format error: './OctoBot'\r\nINFO:werkzeug:192.168.15.13 - - [18/May/2019 16:18:03] \"GET /install HTTP/1.1\" 500 -\r\n```\r\n","closed_by":{"login":"Herklos","id":10454670,"node_id":"MDQ6VXNlcjEwNDU0Njcw","avatar_url":"https://avatars.githubusercontent.com/u/10454670?v=4","gravatar_id":"","url":"https://api.github.com/users/Herklos","html_url":"https://github.com/Herklos","followers_url":"https://api.github.com/users/Herklos/followers","following_url":"https://api.github.com/users/Herklos/following{/other_user}","gists_url":"https://api.github.com/users/Herklos/gists{/gist_id}","starred_url":"https://api.github.com/users/Herklos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Herklos/subscriptions","organizations_url":"https://api.github.com/users/Herklos/orgs","repos_url":"https://api.github.com/users/Herklos/repos","events_url":"https://api.github.com/users/Herklos/events{/privacy}","received_events_url":"https://api.github.com/users/Herklos/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Drakkar-Software/OctoBot/issues/898/timeline","performed_via_github_app":null,"state_reason":"completed"}