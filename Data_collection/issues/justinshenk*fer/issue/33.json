{"url":"https://api.github.com/repos/justinshenk/fer/issues/33","repository_url":"https://api.github.com/repos/justinshenk/fer","labels_url":"https://api.github.com/repos/justinshenk/fer/issues/33/labels{/name}","comments_url":"https://api.github.com/repos/justinshenk/fer/issues/33/comments","events_url":"https://api.github.com/repos/justinshenk/fer/issues/33/events","html_url":"https://github.com/justinshenk/fer/issues/33","id":1022500858,"node_id":"I_kwDOCPJ3J8488h_6","number":33,"title":"Padding only applied to first bounding box if needed","user":{"login":"geloescht","id":4966286,"node_id":"MDQ6VXNlcjQ5NjYyODY=","avatar_url":"https://avatars.githubusercontent.com/u/4966286?v=4","gravatar_id":"","url":"https://api.github.com/users/geloescht","html_url":"https://github.com/geloescht","followers_url":"https://api.github.com/users/geloescht/followers","following_url":"https://api.github.com/users/geloescht/following{/other_user}","gists_url":"https://api.github.com/users/geloescht/gists{/gist_id}","starred_url":"https://api.github.com/users/geloescht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geloescht/subscriptions","organizations_url":"https://api.github.com/users/geloescht/orgs","repos_url":"https://api.github.com/users/geloescht/repos","events_url":"https://api.github.com/users/geloescht/events{/privacy}","received_events_url":"https://api.github.com/users/geloescht/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-10-11T09:58:35Z","updated_at":"2021-10-13T14:25:03Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"From scanning the code I can detect a possible error that could result in subtle mispredictions.\r\nWhen a bounding box overlaps the top or left edge of the input image (why not bottom and right?), the image is padded with 40 pixels in line https://github.com/justinshenk/fer/blob/1810e3e895bc10853872689c88961f11c19f6a00/src/fer/fer.py#L219 and the corresponding bounding box adjusted accordingly. Unfortunately the padding is permanent but the adjustment only applied to this one bounding box. All following bounding boxes will be out of alignment with the padded image. Also if another bounding box also overlaps the former top or left edge, the image will be padded again.\r\nA solution would be to do an in-place adjustment to all bounding boxes when the padding happens.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/justinshenk/fer/issues/33/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/justinshenk/fer/issues/33/timeline","performed_via_github_app":null,"state_reason":null}