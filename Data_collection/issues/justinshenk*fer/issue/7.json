{"url":"https://api.github.com/repos/justinshenk/fer/issues/7","repository_url":"https://api.github.com/repos/justinshenk/fer","labels_url":"https://api.github.com/repos/justinshenk/fer/issues/7/labels{/name}","comments_url":"https://api.github.com/repos/justinshenk/fer/issues/7/comments","events_url":"https://api.github.com/repos/justinshenk/fer/issues/7/events","html_url":"https://github.com/justinshenk/fer/issues/7","id":516376585,"node_id":"MDU6SXNzdWU1MTYzNzY1ODU=","number":7,"title":"TensorFlow 2.0 has no attribute 'ConfigProto'; fix proposed","user":{"login":"etjones","id":615213,"node_id":"MDQ6VXNlcjYxNTIxMw==","avatar_url":"https://avatars.githubusercontent.com/u/615213?v=4","gravatar_id":"","url":"https://api.github.com/users/etjones","html_url":"https://github.com/etjones","followers_url":"https://api.github.com/users/etjones/followers","following_url":"https://api.github.com/users/etjones/following{/other_user}","gists_url":"https://api.github.com/users/etjones/gists{/gist_id}","starred_url":"https://api.github.com/users/etjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/etjones/subscriptions","organizations_url":"https://api.github.com/users/etjones/orgs","repos_url":"https://api.github.com/users/etjones/repos","events_url":"https://api.github.com/users/etjones/events{/privacy}","received_events_url":"https://api.github.com/users/etjones/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-11-01T22:23:07Z","updated_at":"2020-05-02T18:07:45Z","closed_at":"2020-05-02T18:07:45Z","author_association":"NONE","active_lock_reason":null,"body":"Nice project! Thanks for putting it together!\r\n\r\nI found a breaking issue today, with a simple fix.  The versioning strings ask for TensorFlow >=1.14, but there's some internal code that relies on a TF configuration object that was changed in TF2.0.  A workaround is to change the tensorflow requirement strings in `setup.py` and `requirements.txt` from `\"tensorflow>=1.14\",`  to  `\"tensorflow>=1.14,<2.0\",`\r\n\r\nI did a `pip install fer` in a new virtualenv and then started following the usage instructions. Here's a session dump:\r\n```shell\r\nIn [1]: import tensorflow    \r\nIn [2]: tensorflow.__version__  \r\nOut[2]: '2.0.0'\r\nIn [3]: from fer import FER   \r\nIn [4]: detector = FER()      \r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-2-a308cfd708c0> in <module>\r\n----> 1 detector = FER()\r\n\r\n~/td_venv/lib/python3.7/site-packages/fer/fer.py in __init__(self, cascade_file, mtcnn, emotion_model, scale_factor, min_face_size, min_neighbors, offsets, compile)\r\n    110                 \"fer\", \"data/emotion_model.hdf5\"\r\n    111             )\r\n--> 112             self.config = tf.ConfigProto(log_device_placement=False)\r\n    113             self.config.gpu_options.allow_growth = True\r\n    114 \r\n\r\nAttributeError: module 'tensorflow' has no attribute 'ConfigProto'\r\n```\r\n[Here's a workaround](https://stackoverflow.com/a/56994817)  for TF1/TF2 compatibility that I think would also resolve things.\r\n\r\nI'll send a PR later on if I can get something working smoothly. Cheers!\r\n","closed_by":{"login":"justinshenk","id":10270308,"node_id":"MDQ6VXNlcjEwMjcwMzA4","avatar_url":"https://avatars.githubusercontent.com/u/10270308?v=4","gravatar_id":"","url":"https://api.github.com/users/justinshenk","html_url":"https://github.com/justinshenk","followers_url":"https://api.github.com/users/justinshenk/followers","following_url":"https://api.github.com/users/justinshenk/following{/other_user}","gists_url":"https://api.github.com/users/justinshenk/gists{/gist_id}","starred_url":"https://api.github.com/users/justinshenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinshenk/subscriptions","organizations_url":"https://api.github.com/users/justinshenk/orgs","repos_url":"https://api.github.com/users/justinshenk/repos","events_url":"https://api.github.com/users/justinshenk/events{/privacy}","received_events_url":"https://api.github.com/users/justinshenk/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/justinshenk/fer/issues/7/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/justinshenk/fer/issues/7/timeline","performed_via_github_app":null,"state_reason":"completed"}