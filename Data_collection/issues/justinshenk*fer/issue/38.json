{"url":"https://api.github.com/repos/justinshenk/fer/issues/38","repository_url":"https://api.github.com/repos/justinshenk/fer","labels_url":"https://api.github.com/repos/justinshenk/fer/issues/38/labels{/name}","comments_url":"https://api.github.com/repos/justinshenk/fer/issues/38/comments","events_url":"https://api.github.com/repos/justinshenk/fer/issues/38/events","html_url":"https://github.com/justinshenk/fer/issues/38","id":1096992575,"node_id":"I_kwDOCPJ3J85BYsc_","number":38,"title":"video cropping","user":{"login":"kingkw1","id":28263171,"node_id":"MDQ6VXNlcjI4MjYzMTcx","avatar_url":"https://avatars.githubusercontent.com/u/28263171?v=4","gravatar_id":"","url":"https://api.github.com/users/kingkw1","html_url":"https://github.com/kingkw1","followers_url":"https://api.github.com/users/kingkw1/followers","following_url":"https://api.github.com/users/kingkw1/following{/other_user}","gists_url":"https://api.github.com/users/kingkw1/gists{/gist_id}","starred_url":"https://api.github.com/users/kingkw1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingkw1/subscriptions","organizations_url":"https://api.github.com/users/kingkw1/orgs","repos_url":"https://api.github.com/users/kingkw1/repos","events_url":"https://api.github.com/users/kingkw1/events{/privacy}","received_events_url":"https://api.github.com/users/kingkw1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-01-08T17:45:24Z","updated_at":"2022-01-11T15:48:00Z","closed_at":"2022-01-11T15:41:09Z","author_association":"NONE","active_lock_reason":null,"body":"I've encountered issues with using the detection_box argument in the Video.analyze() function. With a little digging, I've found that self._crop(frame, detection_box) results in the following error:\r\n\r\n`{TypeError}_crop() missing 1 required positional argument: 'detection_box'`\r\n\r\nThis problem stems from the combination of a @staticmethod decorator and \"self\" as an input argument to the _crop() function, and can be resolved by removing the \"self\" input argument from the _crop function definition.\r\n```\r\n\r\n    @staticmethod\r\n    def _crop(self, frame, detection_box):\r\n\r\n```\r\n\r\nFor the time being I've gotten around this with a monkey patch:\r\n\r\n```\r\nfrom fer import Video\r\nVideo._crop = lambda self, frame, _detection_box: frame[\r\n                                                  _detection_box.get(\"y_min\"): _detection_box.get(\"y_max\"),\r\n                                                  _detection_box.get(\"x_min\"): _detection_box.get(\"x_max\")]\r\n```\r\n","closed_by":{"login":"justinshenk","id":10270308,"node_id":"MDQ6VXNlcjEwMjcwMzA4","avatar_url":"https://avatars.githubusercontent.com/u/10270308?v=4","gravatar_id":"","url":"https://api.github.com/users/justinshenk","html_url":"https://github.com/justinshenk","followers_url":"https://api.github.com/users/justinshenk/followers","following_url":"https://api.github.com/users/justinshenk/following{/other_user}","gists_url":"https://api.github.com/users/justinshenk/gists{/gist_id}","starred_url":"https://api.github.com/users/justinshenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinshenk/subscriptions","organizations_url":"https://api.github.com/users/justinshenk/orgs","repos_url":"https://api.github.com/users/justinshenk/repos","events_url":"https://api.github.com/users/justinshenk/events{/privacy}","received_events_url":"https://api.github.com/users/justinshenk/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/justinshenk/fer/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/justinshenk/fer/issues/38/timeline","performed_via_github_app":null,"state_reason":"completed"}