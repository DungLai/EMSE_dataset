{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/223","repository_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch","labels_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/223/labels{/name}","comments_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/223/comments","events_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/223/events","html_url":"https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/223","id":1068355385,"node_id":"I_kwDOCldfCM4_rc85","number":223,"title":"shift = stride / 2 - 0.5，why -0.5?","user":{"login":"lawo123","id":44777088,"node_id":"MDQ6VXNlcjQ0Nzc3MDg4","avatar_url":"https://avatars.githubusercontent.com/u/44777088?v=4","gravatar_id":"","url":"https://api.github.com/users/lawo123","html_url":"https://github.com/lawo123","followers_url":"https://api.github.com/users/lawo123/followers","following_url":"https://api.github.com/users/lawo123/following{/other_user}","gists_url":"https://api.github.com/users/lawo123/gists{/gist_id}","starred_url":"https://api.github.com/users/lawo123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lawo123/subscriptions","organizations_url":"https://api.github.com/users/lawo123/orgs","repos_url":"https://api.github.com/users/lawo123/repos","events_url":"https://api.github.com/users/lawo123/events{/privacy}","received_events_url":"https://api.github.com/users/lawo123/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-12-01T12:35:44Z","updated_at":"2021-12-06T07:09:13Z","closed_at":"2021-12-06T07:09:13Z","author_association":"NONE","active_lock_reason":null,"body":"\r\ndef _add_gaussian(self, keypoint_map, x, y, stride, sigma):\r\n\r\n        n_sigma = 4\r\n        tl = [int(x - n_sigma * sigma), int(y - n_sigma * sigma)]\r\n        tl[0] = max(tl[0], 0)\r\n        tl[1] = max(tl[1], 0)\r\n        br = [int(x + n_sigma * sigma), int(y + n_sigma * sigma)]\r\n        map_h, map_w = keypoint_map.shape\r\n        br[0] = min(br[0], map_w * stride)\r\n        br[1] = min(br[1], map_h * stride)\r\n\r\n        shift = stride / 2 - 0.5  ##**why -0.5？**\r\n        for map_y in range(tl[1] // stride, br[1] // stride):\r\n            for map_x in range(tl[0] // stride, br[0] // stride):\r\n                d2 = (map_x * stride + shift - x) * (map_x * stride + shift - x) + \\\r\n                    (map_y * stride + shift - y) * (map_y * stride + shift - y)\r\n                exponent = d2 / 2 / sigma / sigma\r\n                if exponent > 4.6052:  # threshold, ln(100), ~0.01\r\n                    continue\r\n                keypoint_map[map_y, map_x] += math.exp(-exponent)\r\n                if keypoint_map[map_y, map_x] > 1:\r\n                    keypoint_map[map_y, map_x] = 1\r\n\r\n@Daniil-Osokin \r\n","closed_by":{"login":"lawo123","id":44777088,"node_id":"MDQ6VXNlcjQ0Nzc3MDg4","avatar_url":"https://avatars.githubusercontent.com/u/44777088?v=4","gravatar_id":"","url":"https://api.github.com/users/lawo123","html_url":"https://github.com/lawo123","followers_url":"https://api.github.com/users/lawo123/followers","following_url":"https://api.github.com/users/lawo123/following{/other_user}","gists_url":"https://api.github.com/users/lawo123/gists{/gist_id}","starred_url":"https://api.github.com/users/lawo123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lawo123/subscriptions","organizations_url":"https://api.github.com/users/lawo123/orgs","repos_url":"https://api.github.com/users/lawo123/repos","events_url":"https://api.github.com/users/lawo123/events{/privacy}","received_events_url":"https://api.github.com/users/lawo123/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/223/timeline","performed_via_github_app":null,"state_reason":"completed"}