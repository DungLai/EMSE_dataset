{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/29","repository_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch","labels_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/29/labels{/name}","comments_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/29/comments","events_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/29/events","html_url":"https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/29","id":449571171,"node_id":"MDU6SXNzdWU0NDk1NzExNzE=","number":29,"title":"something wrong about visualize dataset","user":{"login":"lexuszhi1990","id":548467,"node_id":"MDQ6VXNlcjU0ODQ2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/548467?v=4","gravatar_id":"","url":"https://api.github.com/users/lexuszhi1990","html_url":"https://github.com/lexuszhi1990","followers_url":"https://api.github.com/users/lexuszhi1990/followers","following_url":"https://api.github.com/users/lexuszhi1990/following{/other_user}","gists_url":"https://api.github.com/users/lexuszhi1990/gists{/gist_id}","starred_url":"https://api.github.com/users/lexuszhi1990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexuszhi1990/subscriptions","organizations_url":"https://api.github.com/users/lexuszhi1990/orgs","repos_url":"https://api.github.com/users/lexuszhi1990/repos","events_url":"https://api.github.com/users/lexuszhi1990/events{/privacy}","received_events_url":"https://api.github.com/users/lexuszhi1990/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-05-29T02:43:52Z","updated_at":"2020-02-20T19:42:36Z","closed_at":"2020-02-20T19:40:37Z","author_association":"NONE","active_lock_reason":null,"body":"When I visualize the dataset, use you code, I found some keypoints in picture  are misleading, e.g.\r\n\r\n![sample-vis-kp-kp-ori-with-lines](https://user-images.githubusercontent.com/548467/58525406-39a06500-81fe-11e9-945f-466fbeed3a4f.png)\r\n\r\nthe image info is: \r\n{'img_paths': '000000181542.jpg', 'img_width': 640, 'img_height': 600, 'objpos': [590.4, 256.405], 'image_id': 181542}\r\n\r\nthe reason is, the man's left shoulder is marked as \"not in image\", so the stat number is 2, and right sholder is visualizable, so the stat number is 0, according the [code](https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/blob/a6e41cf56e0b5e2d23686de9ef15671833bdb72e/datasets/transformations.py#L40-L46)\r\n\r\n```\r\nconverted_keypoints.insert(1, [(keypoints[5][0] + keypoints[6][0]) / 2,\r\n                               (keypoints[5][1] + keypoints[6][1]) / 2, 0])  # Add neck as a mean of shoulders\r\nif keypoints[5][2] == 2 and keypoints[6][2] == 2:\r\n    converted_keypoints[1][2] = 2\r\nelif keypoints[5][2] == 3 and keypoints[6][2] == 3:\r\n    converted_keypoints[1][2] = 3\r\nelif keypoints[5][2] == 1 and keypoints[6][2] == 1:\r\n    converted_keypoints[1][2] = 1\r\nif (converted_keypoints[1][0] < 0\r\n        or converted_keypoints[1][0] >= w\r\n        or converted_keypoints[1][1] < 0\r\n        or converted_keypoints[1][1] >= h):\r\n    converted_keypoints[1][2] = 2\r\n```\r\n\r\n`converted_keypoints[1][1]` is > 0 and `converted_keypoints[1][1]` is between [0, h], so finally it will insert a neck as state number 0. I change the code as blow and it works just it is:\r\n\r\n```\r\nconverted_keypoints.insert(1, [(keypoints[5][0] + keypoints[6][0]) / 2,\r\n                               (keypoints[5][1] + keypoints[6][1]) / 2, 1])  # Add neck as a mean of shoulders\r\nif keypoints[5][2] == 2 or keypoints[6][2] == 2:\r\n    converted_keypoints[1][2] = 2\r\nelif keypoints[5][2] == 0 and keypoints[6][2] == 0:\r\n    converted_keypoints[1][2] = 0\r\n```\r\n","closed_by":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/29/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/29/timeline","performed_via_github_app":null,"state_reason":"completed"}