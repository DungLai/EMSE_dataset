[{"id":4900410475,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDkwMDQxMDQ3NQ==","url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/events/4900410475","actor":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-06-16T21:04:07Z","performed_via_github_app":null},{"id":4900410478,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ5MDA0MTA0Nzg=","url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/events/4900410478","actor":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-06-16T21:04:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/comments/863456753","html_url":"https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/191#issuecomment-863456753","issue_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/191","id":863456753,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzQ1Njc1Mw==","user":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false},"created_at":"2021-06-17T18:14:35Z","updated_at":"2021-06-17T18:17:07Z","author_association":"OWNER","body":"Hi! `BODY_PARTS_PAF_IDS` list defines indices of network output channels which encode connection between corresponding keypoints pair. So, to group keypoints with 5 and 17 ids in a person part, 26 and 27 channels of the second network output need to be used (hope you have went through [TRAIN-ON-CUSTOM-DATASET.md](https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/blob/master/TRAIN-ON-CUSTOM-DATASET.md#what-is-body_parts_kpt_ids-and-body_parts_paf_ids)). ","reactions":{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/comments/863456753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/comments/865436097","html_url":"https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/191#issuecomment-865436097","issue_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/191","id":865436097,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQzNjA5Nw==","user":{"login":"kevkid","id":1369930,"node_id":"MDQ6VXNlcjEzNjk5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1369930?v=4","gravatar_id":"","url":"https://api.github.com/users/kevkid","html_url":"https://github.com/kevkid","followers_url":"https://api.github.com/users/kevkid/followers","following_url":"https://api.github.com/users/kevkid/following{/other_user}","gists_url":"https://api.github.com/users/kevkid/gists{/gist_id}","starred_url":"https://api.github.com/users/kevkid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevkid/subscriptions","organizations_url":"https://api.github.com/users/kevkid/orgs","repos_url":"https://api.github.com/users/kevkid/repos","events_url":"https://api.github.com/users/kevkid/events{/privacy}","received_events_url":"https://api.github.com/users/kevkid/received_events","type":"User","site_admin":false},"created_at":"2021-06-22T00:35:34Z","updated_at":"2021-06-22T00:35:34Z","author_association":"NONE","body":"> Hi! `BODY_PARTS_PAF_IDS` list defines indices of network output channels which encode connection between corresponding keypoints pair. So, to group keypoints with 5 and 17 ids in a person part, 26 and 27 channels of the second network output need to be used (hope you have went through [TRAIN-ON-CUSTOM-DATASET.md](https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/blob/master/TRAIN-ON-CUSTOM-DATASET.md#what-is-body_parts_kpt_ids-and-body_parts_paf_ids)).\r\n\r\nThank you! I will try. \r\n\r\nOne more question, I can make this a separate issue if that works.\r\nI have been trying to evaluate my model trained with a custom dataset that consists of a entity with a more limited number of joints (only 5). I was able to modify the train code and train the model, but I can't evaluate? I am getting:\r\n\r\n`AssertionError: Results do not correspond to current coco set`\r\n\r\nAny idea why this may be happening? I changed:\r\nhttps://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/blob/master/val.py#L58 to\r\n`keypoints = [0] * 5 * 3`\r\n\r\nremoved:\r\nhttps://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/blob/master/val.py#L64-L65\r\n\r\nchanged https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/blob/master/val.py#L73-L75 to:\r\n`            keypoints[position_id + 0] = cx\r\n            keypoints[position_id + 1] = cy\r\n            keypoints[position_id + 2] = visibility`\r\nChanged https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/blob/master/val.py#L73-L75 to\r\n```\r\navg_heatmaps = np.zeros((height, width, 6), dtype=np.float32)# 19\r\navg_pafs = np.zeros((height, width, 10), dtype=np.float32)# 38\r\n```\r\nand changed  #https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/blob/master/val.py#L174 to:\r\n`PoseEstimationWithMobileNet(1, num_heatmaps=6, num_pafs=10)`\r\n\r\nBut I am getting:\r\n```\r\nTraceback (most recent call last):\r\n  File \"val.py\", line 216, in <module>\r\n    evaluate(args.labels, args.output_name, args.images_folder, net, args.multiscale, args.visualize)\r\n  File \"val.py\", line 198, in evaluate\r\n    run_coco_eval(labels, output_name)\r\n  File \"val.py\", line 21, in run_coco_eval\r\n    coco_dt = coco_gt.loadRes(dt_file_path)\r\n  File \"C:\\Users\\kevin\\Anaconda3\\lib\\site-packages\\pycocotools\\coco.py\", line 327, in loadRes\r\n    'Results do not correspond to current coco set'\r\nAssertionError: Results do not correspond to current coco set\r\n```\r\nIs this due to the coco evaluator expecting 17 keypoints? Is there a way for me to get this to work with only the 5 kps? Do I keep all 17 and only use 5 of them (although it is different anatomy/kp than coco)","reactions":{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/comments/865436097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kevkid","id":1369930,"node_id":"MDQ6VXNlcjEzNjk5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1369930?v=4","gravatar_id":"","url":"https://api.github.com/users/kevkid","html_url":"https://github.com/kevkid","followers_url":"https://api.github.com/users/kevkid/followers","following_url":"https://api.github.com/users/kevkid/following{/other_user}","gists_url":"https://api.github.com/users/kevkid/gists{/gist_id}","starred_url":"https://api.github.com/users/kevkid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevkid/subscriptions","organizations_url":"https://api.github.com/users/kevkid/orgs","repos_url":"https://api.github.com/users/kevkid/repos","events_url":"https://api.github.com/users/kevkid/events{/privacy}","received_events_url":"https://api.github.com/users/kevkid/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/comments/866244939","html_url":"https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/191#issuecomment-866244939","issue_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/191","id":866244939,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI0NDkzOQ==","user":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false},"created_at":"2021-06-22T18:49:38Z","updated_at":"2021-06-22T18:49:38Z","author_association":"OWNER","body":"COCO evaluator works with custom annotation, but it has to be correctly formatted. I believe it is due to gold annotation has different format with predicted. Please, check [COCO](https://cocodataset.org/#format-data) format description. Possibly `categories` in `json` contain more keypoints, than needed. You can make some minimal snippet for gold annotation and predicted to check that you have got the format right.","reactions":{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/comments/866244939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/comments/869147556","html_url":"https://github.com/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/191#issuecomment-869147556","issue_url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/191","id":869147556,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTE0NzU1Ng==","user":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false},"created_at":"2021-06-27T11:40:52Z","updated_at":"2021-06-27T11:40:52Z","author_association":"OWNER","body":"Hope, it helped.","reactions":{"url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/comments/869147556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false}},{"id":4943836773,"node_id":"MDExOkNsb3NlZEV2ZW50NDk0MzgzNjc3Mw==","url":"https://api.github.com/repos/Daniil-Osokin/lightweight-human-pose-estimation.pytorch/issues/events/4943836773","actor":{"login":"Daniil-Osokin","id":2491976,"node_id":"MDQ6VXNlcjI0OTE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2491976?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniil-Osokin","html_url":"https://github.com/Daniil-Osokin","followers_url":"https://api.github.com/users/Daniil-Osokin/followers","following_url":"https://api.github.com/users/Daniil-Osokin/following{/other_user}","gists_url":"https://api.github.com/users/Daniil-Osokin/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniil-Osokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniil-Osokin/subscriptions","organizations_url":"https://api.github.com/users/Daniil-Osokin/orgs","repos_url":"https://api.github.com/users/Daniil-Osokin/repos","events_url":"https://api.github.com/users/Daniil-Osokin/events{/privacy}","received_events_url":"https://api.github.com/users/Daniil-Osokin/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-06-27T11:40:52Z","state_reason":null,"performed_via_github_app":null}]