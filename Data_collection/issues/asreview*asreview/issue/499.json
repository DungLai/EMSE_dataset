{"url":"https://api.github.com/repos/asreview/asreview/issues/499","repository_url":"https://api.github.com/repos/asreview/asreview","labels_url":"https://api.github.com/repos/asreview/asreview/issues/499/labels{/name}","comments_url":"https://api.github.com/repos/asreview/asreview/issues/499/comments","events_url":"https://api.github.com/repos/asreview/asreview/issues/499/events","html_url":"https://github.com/asreview/asreview/issues/499","id":812819919,"node_id":"MDU6SXNzdWU4MTI4MTk5MTk=","number":499,"title":"ASReview Analysis submodule struggles with simulations with exactly 1 inclusion. ","user":{"login":"J535D165","id":12981139,"node_id":"MDQ6VXNlcjEyOTgxMTM5","avatar_url":"https://avatars.githubusercontent.com/u/12981139?v=4","gravatar_id":"","url":"https://api.github.com/users/J535D165","html_url":"https://github.com/J535D165","followers_url":"https://api.github.com/users/J535D165/followers","following_url":"https://api.github.com/users/J535D165/following{/other_user}","gists_url":"https://api.github.com/users/J535D165/gists{/gist_id}","starred_url":"https://api.github.com/users/J535D165/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/J535D165/subscriptions","organizations_url":"https://api.github.com/users/J535D165/orgs","repos_url":"https://api.github.com/users/J535D165/repos","events_url":"https://api.github.com/users/J535D165/events{/privacy}","received_events_url":"https://api.github.com/users/J535D165/received_events","type":"User","site_admin":false},"labels":[{"id":1186392107,"node_id":"MDU6TGFiZWwxMTg2MzkyMTA3","url":"https://api.github.com/repos/asreview/asreview/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-21T10:12:55Z","updated_at":"2022-03-31T16:00:55Z","closed_at":"2022-03-31T16:00:55Z","author_association":"MEMBER","active_lock_reason":null,"body":"More specific: If the number of relevenant items in the dataset matches the number of relevant items in the prior knowledge, the submodule ASReview Analysis struggles with computing metrics. This pops up when using ASReview-statistics. \r\n\r\nExample: Dataset with 1 relevant record which is used ats prior knowledge. Simulate run and then call `asreview stats`. \r\n\r\n```\r\njonathan$ asreview stat test.h5 \r\n/Users/jonathan/asreview/asreview/analysis/analysis.py:170: RuntimeWarning: invalid value encountered in true_divide\r\n  norm_yr = (np.array(self.inc_found[fl][\"avg\"]) - dy) / y_norm\r\n/Users/jonathan/asreview/asreview/analysis/analysis.py:171: RuntimeWarning: invalid value encountered in true_divide\r\n  norm_y_err = np.array(self.inc_found[fl][\"err\"]) / y_norm\r\nTraceback (most recent call last):\r\n  File \"/Users/jonathan/.pyenv/versions/asreview/bin/asreview\", line 11, in <module>\r\n    load_entry_point('asreview', 'console_scripts', 'asreview')()\r\n  File \"/Users/jonathan/asreview/asreview/__main__.py\", line 80, in main\r\n    entry.load()().execute(sys.argv[2:])\r\n  File \"/Users/jonathan/asreview-statistics/asreviewcontrib/statistics/entrypoint.py\", line 71, in execute\r\n    print(stat)\r\n  File \"/Users/jonathan/asreview-statistics/asreviewcontrib/statistics/statistics.py\", line 99, in __str__\r\n    results = self.to_dict()\r\n  File \"/Users/jonathan/asreview-statistics/asreviewcontrib/statistics/statistics.py\", line 89, in to_dict\r\n    \"loss\": self.loss(),\r\n  File \"/Users/jonathan/asreview-statistics/asreviewcontrib/statistics/statistics.py\", line 61, in loss\r\n    return loss/len(avg_discovery_time)\r\nZeroDivisionError: division by zero\r\n\r\n```","closed_by":{"login":"J535D165","id":12981139,"node_id":"MDQ6VXNlcjEyOTgxMTM5","avatar_url":"https://avatars.githubusercontent.com/u/12981139?v=4","gravatar_id":"","url":"https://api.github.com/users/J535D165","html_url":"https://github.com/J535D165","followers_url":"https://api.github.com/users/J535D165/followers","following_url":"https://api.github.com/users/J535D165/following{/other_user}","gists_url":"https://api.github.com/users/J535D165/gists{/gist_id}","starred_url":"https://api.github.com/users/J535D165/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/J535D165/subscriptions","organizations_url":"https://api.github.com/users/J535D165/orgs","repos_url":"https://api.github.com/users/J535D165/repos","events_url":"https://api.github.com/users/J535D165/events{/privacy}","received_events_url":"https://api.github.com/users/J535D165/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/asreview/asreview/issues/499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asreview/asreview/issues/499/timeline","performed_via_github_app":null,"state_reason":"completed"}