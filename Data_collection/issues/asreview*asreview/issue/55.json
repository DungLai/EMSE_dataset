{"url":"https://api.github.com/repos/asreview/asreview/issues/55","repository_url":"https://api.github.com/repos/asreview/asreview","labels_url":"https://api.github.com/repos/asreview/asreview/issues/55/labels{/name}","comments_url":"https://api.github.com/repos/asreview/asreview/issues/55/comments","events_url":"https://api.github.com/repos/asreview/asreview/issues/55/events","html_url":"https://github.com/asreview/asreview/issues/55","id":458665802,"node_id":"MDU6SXNzdWU0NTg2NjU4MDI=","number":55,"title":"UnboundLocalError","user":{"login":"rpool","id":854205,"node_id":"MDQ6VXNlcjg1NDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/854205?v=4","gravatar_id":"","url":"https://api.github.com/users/rpool","html_url":"https://github.com/rpool","followers_url":"https://api.github.com/users/rpool/followers","following_url":"https://api.github.com/users/rpool/following{/other_user}","gists_url":"https://api.github.com/users/rpool/gists{/gist_id}","starred_url":"https://api.github.com/users/rpool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rpool/subscriptions","organizations_url":"https://api.github.com/users/rpool/orgs","repos_url":"https://api.github.com/users/rpool/repos","events_url":"https://api.github.com/users/rpool/events{/privacy}","received_events_url":"https://api.github.com/users/rpool/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-06-20T13:41:22Z","updated_at":"2019-06-24T12:02:50Z","closed_at":"2019-06-24T12:02:50Z","author_association":"NONE","active_lock_reason":null,"body":"Hi all,\r\nWhen running in oracle mode, I encounter an \"UnboundLocalError\". It seems that indeed the data variable is not set in review.py. What does this data structure have to filled with?\r\n\r\nCommand line: \"asr oracle ../../schoot-lgmm-ptsd.csv \"\r\nScreen output:\r\nUsing lstm_base model\r\nStart review in 'oracle' mode.\r\nPrepare dataset.\r\n\r\n\r\n                (  )   (   )  )\r\n                 ) (   )  (  (\r\n                 ( )  (    ) )\r\n                 _____________\r\n                <_____________> ___\r\n                |             |/ _ \\ \r\n                |               | | |\r\n                |               |_| |\r\n             ___|             |\\___/\r\n            /    \\___________/    \\ \r\n            \\_____________________/\r\n\r\nReading 2000000 vectors with 300 dimensions.\r\nFound 17080 word vectors.\r\nCreating matrix with 20000 vectors with dimension 300.\r\nShape of embedding matrix:  (20001, 300)\r\nUsing class weights: 0 <- 1.0, 1 <- 30.0\r\nQuery strategy: Least confidence / Uncertainty sampling\r\nUsing all training data method to obtain training data.\r\nAre there papers you definitively want to include?\r\nGive the indices of these papers. Separate them with spaces.\r\nInclude: 219 261\r\nAre there papers you definitively want to exclude?\r\nGive the indices of these papers. Separate them with spaces.\r\nExclude: 1 2\r\nTraceback (most recent call last):\r\n  File \"/usr/local/r.pool/anaconda3/bin/asr\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/r.pool/anaconda3/lib/python3.7/site-packages/asr/__main__.py\", line 167, in main\r\n    _review_oracle()\r\n  File \"/usr/local/r.pool/anaconda3/lib/python3.7/site-packages/asr/__main__.py\", line 148, in _review_oracle\r\n    review_oracle(path, **args_dict)\r\n  File \"/usr/local/r.pool/anaconda3/lib/python3.7/site-packages/asr/review.py\", line 264, in review_oracle\r\n    review(dataset, mode='oracle', **kwargs)\r\n  File \"/usr/local/r.pool/anaconda3/lib/python3.7/site-packages/asr/review.py\", line 227, in review\r\n    data,\r\nUnboundLocalError: local variable 'data' referenced before assignment","closed_by":{"login":"J535D165","id":12981139,"node_id":"MDQ6VXNlcjEyOTgxMTM5","avatar_url":"https://avatars.githubusercontent.com/u/12981139?v=4","gravatar_id":"","url":"https://api.github.com/users/J535D165","html_url":"https://github.com/J535D165","followers_url":"https://api.github.com/users/J535D165/followers","following_url":"https://api.github.com/users/J535D165/following{/other_user}","gists_url":"https://api.github.com/users/J535D165/gists{/gist_id}","starred_url":"https://api.github.com/users/J535D165/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/J535D165/subscriptions","organizations_url":"https://api.github.com/users/J535D165/orgs","repos_url":"https://api.github.com/users/J535D165/repos","events_url":"https://api.github.com/users/J535D165/events{/privacy}","received_events_url":"https://api.github.com/users/J535D165/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/asreview/asreview/issues/55/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asreview/asreview/issues/55/timeline","performed_via_github_app":null,"state_reason":"completed"}