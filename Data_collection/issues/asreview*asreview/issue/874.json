{"url":"https://api.github.com/repos/asreview/asreview/issues/874","repository_url":"https://api.github.com/repos/asreview/asreview","labels_url":"https://api.github.com/repos/asreview/asreview/issues/874/labels{/name}","comments_url":"https://api.github.com/repos/asreview/asreview/issues/874/comments","events_url":"https://api.github.com/repos/asreview/asreview/issues/874/events","html_url":"https://github.com/asreview/asreview/issues/874","id":1072107707,"node_id":"I_kwDOCdPKjs4_5xC7","number":874,"title":"SBert feature extractor depends on a depricated transformer","user":{"login":"JTeijema","id":28191416,"node_id":"MDQ6VXNlcjI4MTkxNDE2","avatar_url":"https://avatars.githubusercontent.com/u/28191416?v=4","gravatar_id":"","url":"https://api.github.com/users/JTeijema","html_url":"https://github.com/JTeijema","followers_url":"https://api.github.com/users/JTeijema/followers","following_url":"https://api.github.com/users/JTeijema/following{/other_user}","gists_url":"https://api.github.com/users/JTeijema/gists{/gist_id}","starred_url":"https://api.github.com/users/JTeijema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JTeijema/subscriptions","organizations_url":"https://api.github.com/users/JTeijema/orgs","repos_url":"https://api.github.com/users/JTeijema/repos","events_url":"https://api.github.com/users/JTeijema/events{/privacy}","received_events_url":"https://api.github.com/users/JTeijema/received_events","type":"User","site_admin":false},"labels":[{"id":1186392107,"node_id":"MDU6TGFiZWwxMTg2MzkyMTA3","url":"https://api.github.com/repos/asreview/asreview/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2828555121,"node_id":"MDU6TGFiZWwyODI4NTU1MTIx","url":"https://api.github.com/repos/asreview/asreview/labels/models","name":"models","color":"c5def5","default":false,"description":"Issues on Active learning models"}],"state":"closed","locked":false,"assignee":{"login":"JTeijema","id":28191416,"node_id":"MDQ6VXNlcjI4MTkxNDE2","avatar_url":"https://avatars.githubusercontent.com/u/28191416?v=4","gravatar_id":"","url":"https://api.github.com/users/JTeijema","html_url":"https://github.com/JTeijema","followers_url":"https://api.github.com/users/JTeijema/followers","following_url":"https://api.github.com/users/JTeijema/following{/other_user}","gists_url":"https://api.github.com/users/JTeijema/gists{/gist_id}","starred_url":"https://api.github.com/users/JTeijema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JTeijema/subscriptions","organizations_url":"https://api.github.com/users/JTeijema/orgs","repos_url":"https://api.github.com/users/JTeijema/repos","events_url":"https://api.github.com/users/JTeijema/events{/privacy}","received_events_url":"https://api.github.com/users/JTeijema/received_events","type":"User","site_admin":false},"assignees":[{"login":"JTeijema","id":28191416,"node_id":"MDQ6VXNlcjI4MTkxNDE2","avatar_url":"https://avatars.githubusercontent.com/u/28191416?v=4","gravatar_id":"","url":"https://api.github.com/users/JTeijema","html_url":"https://github.com/JTeijema","followers_url":"https://api.github.com/users/JTeijema/followers","following_url":"https://api.github.com/users/JTeijema/following{/other_user}","gists_url":"https://api.github.com/users/JTeijema/gists{/gist_id}","starred_url":"https://api.github.com/users/JTeijema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JTeijema/subscriptions","organizations_url":"https://api.github.com/users/JTeijema/orgs","repos_url":"https://api.github.com/users/JTeijema/repos","events_url":"https://api.github.com/users/JTeijema/events{/privacy}","received_events_url":"https://api.github.com/users/JTeijema/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2021-12-06T12:42:36Z","updated_at":"2021-12-08T12:57:57Z","closed_at":"2021-12-08T12:57:50Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Describe the bug**\r\nWhen selecting the SBert feature extractor, the following error arises:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\review\\base.py\", line 201, in __init__\r\n    self.X = state.get_feature_matrix(as_data.hash())\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\state\\dict.py\", line 125, in get_feature_matrix\r\n    my_data = self._state_dict[\"data_properties\"][data_hash]\r\nKeyError: 'data_properties'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\Scripts\\asreview.exe\\__main__.py\", line 7, in <module>\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\__main__.py\", line 80, in main\r\n    entry.load()().execute(sys.argv[2:])\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\entry_points\\simulate.py\", line 48, in execute\r\n    review_simulate(path, **args_dict)\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\review\\factory.py\", line 314, in review_simulate\r\n    review(dataset, *args, mode='simulate', **kwargs)\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\review\\factory.py\", line 268, in review\r\n    reviewer = get_reviewer(*args, mode=mode, model=model, **kwargs)\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\review\\factory.py\", line 229, in get_reviewer\r\n    reviewer = ReviewSimulate(as_data,\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\review\\simulate.py\", line 100, in __init__\r\n    super(ReviewSimulate, self).__init__(as_data,\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\review\\base.py\", line 203, in __init__\r\n    self.X = feature_model.fit_transform(as_data.texts,\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\models\\feature_extraction\\base.py\", line 55, in fit_transform\r\n    X = self.transform(texts)\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\asreview\\models\\feature_extraction\\sbert.py\", line 56, in transform\r\n    model = SentenceTransformer('bert-base-nli-mean-tokens')\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 80, in __init__\r\n    snapshot_download(model_name_or_path,\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\sentence_transformers\\util.py\", line 454, in snapshot_download\r\n    path = cached_download(\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\huggingface_hub\\file_download.py\", line 351, in cached_download\r\n    r.raise_for_status()\r\n  File \"C:\\Users\\5927226\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\requests\\models.py\", line 953, in raise_for_status\r\n    raise HTTPError(http_error_msg, response=self)\r\nrequests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://huggingface.co/sentence-transformers/bert-base-nli-mean-tokens/resolve/940b797366fedff0e361664b655910c1d37edf76/.gitattributes\r\n```\r\n\r\nTo my knowledge, this is caused by the use of a [deprecated transformer](https://huggingface.co/sentence-transformers/bert-base-nli-mean-tokens) in [sbert.py](https://github.com/asreview/asreview/blob/master/asreview/models/feature_extraction/sbert.py)\r\n\r\n**Version information**\r\n - OS: Windows\r\n - ASReview version 0.18","closed_by":{"login":"Rensvandeschoot","id":36502709,"node_id":"MDQ6VXNlcjM2NTAyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/36502709?v=4","gravatar_id":"","url":"https://api.github.com/users/Rensvandeschoot","html_url":"https://github.com/Rensvandeschoot","followers_url":"https://api.github.com/users/Rensvandeschoot/followers","following_url":"https://api.github.com/users/Rensvandeschoot/following{/other_user}","gists_url":"https://api.github.com/users/Rensvandeschoot/gists{/gist_id}","starred_url":"https://api.github.com/users/Rensvandeschoot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rensvandeschoot/subscriptions","organizations_url":"https://api.github.com/users/Rensvandeschoot/orgs","repos_url":"https://api.github.com/users/Rensvandeschoot/repos","events_url":"https://api.github.com/users/Rensvandeschoot/events{/privacy}","received_events_url":"https://api.github.com/users/Rensvandeschoot/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/asreview/asreview/issues/874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asreview/asreview/issues/874/timeline","performed_via_github_app":null,"state_reason":"completed"}