[{"id":2736244484,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyNzM2MjQ0NDg0","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/2736244484","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-10-23T09:08:29Z","assignee":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/549028310","html_url":"https://github.com/kpe/bert-for-tf2/issues/12#issuecomment-549028310","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/12","id":549028310,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTAyODMxMA==","user":{"login":"fendouai","id":6284532,"node_id":"MDQ6VXNlcjYyODQ1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6284532?v=4","gravatar_id":"","url":"https://api.github.com/users/fendouai","html_url":"https://github.com/fendouai","followers_url":"https://api.github.com/users/fendouai/followers","following_url":"https://api.github.com/users/fendouai/following{/other_user}","gists_url":"https://api.github.com/users/fendouai/gists{/gist_id}","starred_url":"https://api.github.com/users/fendouai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fendouai/subscriptions","organizations_url":"https://api.github.com/users/fendouai/orgs","repos_url":"https://api.github.com/users/fendouai/repos","events_url":"https://api.github.com/users/fendouai/events{/privacy}","received_events_url":"https://api.github.com/users/fendouai/received_events","type":"User","site_admin":false},"created_at":"2019-11-02T09:49:33Z","updated_at":"2019-11-02T09:49:33Z","author_association":"NONE","body":"Please add more example, especially using bert and crf to do sequence labelling tasks.","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/549028310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fendouai","id":6284532,"node_id":"MDQ6VXNlcjYyODQ1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6284532?v=4","gravatar_id":"","url":"https://api.github.com/users/fendouai","html_url":"https://github.com/fendouai","followers_url":"https://api.github.com/users/fendouai/followers","following_url":"https://api.github.com/users/fendouai/following{/other_user}","gists_url":"https://api.github.com/users/fendouai/gists{/gist_id}","starred_url":"https://api.github.com/users/fendouai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fendouai/subscriptions","organizations_url":"https://api.github.com/users/fendouai/orgs","repos_url":"https://api.github.com/users/fendouai/repos","events_url":"https://api.github.com/users/fendouai/events{/privacy}","received_events_url":"https://api.github.com/users/fendouai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/567755426","html_url":"https://github.com/kpe/bert-for-tf2/issues/12#issuecomment-567755426","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/12","id":567755426,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Nzc1NTQyNg==","user":{"login":"DUTANGx","id":14912685,"node_id":"MDQ6VXNlcjE0OTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/14912685?v=4","gravatar_id":"","url":"https://api.github.com/users/DUTANGx","html_url":"https://github.com/DUTANGx","followers_url":"https://api.github.com/users/DUTANGx/followers","following_url":"https://api.github.com/users/DUTANGx/following{/other_user}","gists_url":"https://api.github.com/users/DUTANGx/gists{/gist_id}","starred_url":"https://api.github.com/users/DUTANGx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DUTANGx/subscriptions","organizations_url":"https://api.github.com/users/DUTANGx/orgs","repos_url":"https://api.github.com/users/DUTANGx/repos","events_url":"https://api.github.com/users/DUTANGx/events{/privacy}","received_events_url":"https://api.github.com/users/DUTANGx/received_events","type":"User","site_admin":false},"created_at":"2019-12-20T02:02:28Z","updated_at":"2019-12-20T02:02:28Z","author_association":"NONE","body":"Hi I've made a rough implementation of sequence labelling using this library and CRF. Please have a check: https://github.com/DUTANGx/TF2-albert-NER","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/567755426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DUTANGx","id":14912685,"node_id":"MDQ6VXNlcjE0OTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/14912685?v=4","gravatar_id":"","url":"https://api.github.com/users/DUTANGx","html_url":"https://github.com/DUTANGx","followers_url":"https://api.github.com/users/DUTANGx/followers","following_url":"https://api.github.com/users/DUTANGx/following{/other_user}","gists_url":"https://api.github.com/users/DUTANGx/gists{/gist_id}","starred_url":"https://api.github.com/users/DUTANGx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DUTANGx/subscriptions","organizations_url":"https://api.github.com/users/DUTANGx/orgs","repos_url":"https://api.github.com/users/DUTANGx/repos","events_url":"https://api.github.com/users/DUTANGx/events{/privacy}","received_events_url":"https://api.github.com/users/DUTANGx/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/570235058","html_url":"https://github.com/kpe/bert-for-tf2/issues/12#issuecomment-570235058","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/12","id":570235058,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDIzNTA1OA==","user":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"created_at":"2020-01-02T15:08:13Z","updated_at":"2020-01-02T15:09:04Z","author_association":"OWNER","body":"@DUTANGx - thank you for your contribution. Have you made any comparison of how much improvement could be obtained by using CRF on top of (AL)BERT as compared to using (AL)BERT only? ","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/570235058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false}},{"id":2917947040,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkxNzk0NzA0MA==","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/2917947040","actor":{"login":"DUTANGx","id":14912685,"node_id":"MDQ6VXNlcjE0OTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/14912685?v=4","gravatar_id":"","url":"https://api.github.com/users/DUTANGx","html_url":"https://github.com/DUTANGx","followers_url":"https://api.github.com/users/DUTANGx/followers","following_url":"https://api.github.com/users/DUTANGx/following{/other_user}","gists_url":"https://api.github.com/users/DUTANGx/gists{/gist_id}","starred_url":"https://api.github.com/users/DUTANGx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DUTANGx/subscriptions","organizations_url":"https://api.github.com/users/DUTANGx/orgs","repos_url":"https://api.github.com/users/DUTANGx/repos","events_url":"https://api.github.com/users/DUTANGx/events{/privacy}","received_events_url":"https://api.github.com/users/DUTANGx/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-02T15:08:13Z","performed_via_github_app":null},{"id":2917947042,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5MTc5NDcwNDI=","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/2917947042","actor":{"login":"DUTANGx","id":14912685,"node_id":"MDQ6VXNlcjE0OTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/14912685?v=4","gravatar_id":"","url":"https://api.github.com/users/DUTANGx","html_url":"https://github.com/DUTANGx","followers_url":"https://api.github.com/users/DUTANGx/followers","following_url":"https://api.github.com/users/DUTANGx/following{/other_user}","gists_url":"https://api.github.com/users/DUTANGx/gists{/gist_id}","starred_url":"https://api.github.com/users/DUTANGx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DUTANGx/subscriptions","organizations_url":"https://api.github.com/users/DUTANGx/orgs","repos_url":"https://api.github.com/users/DUTANGx/repos","events_url":"https://api.github.com/users/DUTANGx/events{/privacy}","received_events_url":"https://api.github.com/users/DUTANGx/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-02T15:08:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/570976061","html_url":"https://github.com/kpe/bert-for-tf2/issues/12#issuecomment-570976061","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/12","id":570976061,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDk3NjA2MQ==","user":{"login":"DUTANGx","id":14912685,"node_id":"MDQ6VXNlcjE0OTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/14912685?v=4","gravatar_id":"","url":"https://api.github.com/users/DUTANGx","html_url":"https://github.com/DUTANGx","followers_url":"https://api.github.com/users/DUTANGx/followers","following_url":"https://api.github.com/users/DUTANGx/following{/other_user}","gists_url":"https://api.github.com/users/DUTANGx/gists{/gist_id}","starred_url":"https://api.github.com/users/DUTANGx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DUTANGx/subscriptions","organizations_url":"https://api.github.com/users/DUTANGx/orgs","repos_url":"https://api.github.com/users/DUTANGx/repos","events_url":"https://api.github.com/users/DUTANGx/events{/privacy}","received_events_url":"https://api.github.com/users/DUTANGx/received_events","type":"User","site_admin":false},"created_at":"2020-01-06T02:02:17Z","updated_at":"2020-01-06T02:02:17Z","author_association":"NONE","body":"> @DUTANGx - thank you for your contribution. Have you made any comparison of how much improvement could be obtained by using CRF on top of (AL)BERT as compared to using (AL)BERT only?\r\n\r\n@kpe Thanks to your really nice library :) I've tested on a Chinese Corpus \"MSRA\". Adding CRF brings around 3%-5% improvement on F1 score using alBERT. \r\nBTW, one thing might be interesting to look at is that, when I added a bi-lstm(with default tanh as hidden activation) after the alBERT layer, a ValueError is raised, says the lstm layer can't handle float type input. This is fixed by changing the activation to elu.","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/570976061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DUTANGx","id":14912685,"node_id":"MDQ6VXNlcjE0OTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/14912685?v=4","gravatar_id":"","url":"https://api.github.com/users/DUTANGx","html_url":"https://github.com/DUTANGx","followers_url":"https://api.github.com/users/DUTANGx/followers","following_url":"https://api.github.com/users/DUTANGx/following{/other_user}","gists_url":"https://api.github.com/users/DUTANGx/gists{/gist_id}","starred_url":"https://api.github.com/users/DUTANGx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DUTANGx/subscriptions","organizations_url":"https://api.github.com/users/DUTANGx/orgs","repos_url":"https://api.github.com/users/DUTANGx/repos","events_url":"https://api.github.com/users/DUTANGx/events{/privacy}","received_events_url":"https://api.github.com/users/DUTANGx/received_events","type":"User","site_admin":false}},{"id":2922884964,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkyMjg4NDk2NA==","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/2922884964","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-06T02:02:17Z","performed_via_github_app":null},{"id":2922884965,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5MjI4ODQ5NjU=","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/2922884965","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-06T02:02:17Z","performed_via_github_app":null},{"id":2922884966,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkyMjg4NDk2Ng==","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/2922884966","actor":{"login":"DUTANGx","id":14912685,"node_id":"MDQ6VXNlcjE0OTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/14912685?v=4","gravatar_id":"","url":"https://api.github.com/users/DUTANGx","html_url":"https://github.com/DUTANGx","followers_url":"https://api.github.com/users/DUTANGx/followers","following_url":"https://api.github.com/users/DUTANGx/following{/other_user}","gists_url":"https://api.github.com/users/DUTANGx/gists{/gist_id}","starred_url":"https://api.github.com/users/DUTANGx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DUTANGx/subscriptions","organizations_url":"https://api.github.com/users/DUTANGx/orgs","repos_url":"https://api.github.com/users/DUTANGx/repos","events_url":"https://api.github.com/users/DUTANGx/events{/privacy}","received_events_url":"https://api.github.com/users/DUTANGx/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-01-06T02:02:17Z","performed_via_github_app":null},{"id":2922884967,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5MjI4ODQ5Njc=","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/2922884967","actor":{"login":"DUTANGx","id":14912685,"node_id":"MDQ6VXNlcjE0OTEyNjg1","avatar_url":"https://avatars.githubusercontent.com/u/14912685?v=4","gravatar_id":"","url":"https://api.github.com/users/DUTANGx","html_url":"https://github.com/DUTANGx","followers_url":"https://api.github.com/users/DUTANGx/followers","following_url":"https://api.github.com/users/DUTANGx/following{/other_user}","gists_url":"https://api.github.com/users/DUTANGx/gists{/gist_id}","starred_url":"https://api.github.com/users/DUTANGx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DUTANGx/subscriptions","organizations_url":"https://api.github.com/users/DUTANGx/orgs","repos_url":"https://api.github.com/users/DUTANGx/repos","events_url":"https://api.github.com/users/DUTANGx/events{/privacy}","received_events_url":"https://api.github.com/users/DUTANGx/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-01-06T02:02:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/582855687","html_url":"https://github.com/kpe/bert-for-tf2/issues/12#issuecomment-582855687","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/12","id":582855687,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjg1NTY4Nw==","user":{"login":"atreyasha","id":35427332,"node_id":"MDQ6VXNlcjM1NDI3MzMy","avatar_url":"https://avatars.githubusercontent.com/u/35427332?v=4","gravatar_id":"","url":"https://api.github.com/users/atreyasha","html_url":"https://github.com/atreyasha","followers_url":"https://api.github.com/users/atreyasha/followers","following_url":"https://api.github.com/users/atreyasha/following{/other_user}","gists_url":"https://api.github.com/users/atreyasha/gists{/gist_id}","starred_url":"https://api.github.com/users/atreyasha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atreyasha/subscriptions","organizations_url":"https://api.github.com/users/atreyasha/orgs","repos_url":"https://api.github.com/users/atreyasha/repos","events_url":"https://api.github.com/users/atreyasha/events{/privacy}","received_events_url":"https://api.github.com/users/atreyasha/received_events","type":"User","site_admin":false},"created_at":"2020-02-06T11:12:55Z","updated_at":"2020-02-06T11:12:55Z","author_association":"NONE","body":"I am testing albert with non-crf layers as decoders for a sequence labelling task where one classifies tokens into argumentation candidates. The repository is very rough at the moment but you can take a look here if it helps (https://github.com/atreyasha/sentiment-argument-mining/tree/develop_argumentation).\r\n\r\nI am using this module and adding decoder layers such 1d-convolutions, lstm's and time-distributed dense layers. So far the results are quite good.\r\n\r\nHowever, I did notice one problem. As I have limited hardware (1 GPU with 12 GB RAM), I can only train with a small batch size (48 samples) and I also have to truncate my sequence lengths to the point that I lose a lot of data.\r\n\r\n@kpe I was thinking of implementing a gradient accumulation optimizer which could help to save some memory and thereby allow for longer sequence lengths. Have you by chance already implemented a gradient accumulator in this library or in your code somewhere? This is also an issue in tensorflow (https://github.com/tensorflow/tensorflow/pull/32576).\r\n\r\nIf not, do you think it would a good addition for this python package? I could implement such a thing and submit a pull request. This has already been done by some folks here  (https://github.com/run-ai/runai), however it only works for keras and not tensorflow.keras.","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/582855687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"atreyasha","id":35427332,"node_id":"MDQ6VXNlcjM1NDI3MzMy","avatar_url":"https://avatars.githubusercontent.com/u/35427332?v=4","gravatar_id":"","url":"https://api.github.com/users/atreyasha","html_url":"https://github.com/atreyasha","followers_url":"https://api.github.com/users/atreyasha/followers","following_url":"https://api.github.com/users/atreyasha/following{/other_user}","gists_url":"https://api.github.com/users/atreyasha/gists{/gist_id}","starred_url":"https://api.github.com/users/atreyasha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atreyasha/subscriptions","organizations_url":"https://api.github.com/users/atreyasha/orgs","repos_url":"https://api.github.com/users/atreyasha/repos","events_url":"https://api.github.com/users/atreyasha/events{/privacy}","received_events_url":"https://api.github.com/users/atreyasha/received_events","type":"User","site_admin":false}},{"id":3013467523,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzAxMzQ2NzUyMw==","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/3013467523","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-02-06T11:12:56Z","performed_via_github_app":null},{"id":3013467527,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwMTM0Njc1Mjc=","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/3013467527","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-02-06T11:12:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/582873479","html_url":"https://github.com/kpe/bert-for-tf2/issues/12#issuecomment-582873479","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/12","id":582873479,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjg3MzQ3OQ==","user":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"created_at":"2020-02-06T12:02:11Z","updated_at":"2020-02-12T14:15:23Z","author_association":"OWNER","body":"@atreyasha - I have not done gradient accumulation yet. \r\nI think if you do one, it would best fit https://github.com/kpe/params-flow as it is not model specific, but feel free to do a PR where you like.\r\n\r\nI'm not sure what's currently the best option for on training larger batches (check TFRC for getting access to a TPU pod and use it with the LAMB optimizer), but tweaking on the optimizer might be the best option (as ADAM needs so much memory) - there is for example https://github.com/openai/gradient-checkpointing (check https://medium.com/tensorflow/fitting-larger-networks-into-memory-583e3c758ff9), but there might also be some more recent developments. \r\n\r\nAdaFactor seems to also be a good choice for transformer based models.","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/582873479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false}},{"id":3013610040,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzAxMzYxMDA0MA==","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/3013610040","actor":{"login":"atreyasha","id":35427332,"node_id":"MDQ6VXNlcjM1NDI3MzMy","avatar_url":"https://avatars.githubusercontent.com/u/35427332?v=4","gravatar_id":"","url":"https://api.github.com/users/atreyasha","html_url":"https://github.com/atreyasha","followers_url":"https://api.github.com/users/atreyasha/followers","following_url":"https://api.github.com/users/atreyasha/following{/other_user}","gists_url":"https://api.github.com/users/atreyasha/gists{/gist_id}","starred_url":"https://api.github.com/users/atreyasha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atreyasha/subscriptions","organizations_url":"https://api.github.com/users/atreyasha/orgs","repos_url":"https://api.github.com/users/atreyasha/repos","events_url":"https://api.github.com/users/atreyasha/events{/privacy}","received_events_url":"https://api.github.com/users/atreyasha/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-02-06T12:02:11Z","performed_via_github_app":null},{"id":3013610045,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwMTM2MTAwNDU=","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/3013610045","actor":{"login":"atreyasha","id":35427332,"node_id":"MDQ6VXNlcjM1NDI3MzMy","avatar_url":"https://avatars.githubusercontent.com/u/35427332?v=4","gravatar_id":"","url":"https://api.github.com/users/atreyasha","html_url":"https://github.com/atreyasha","followers_url":"https://api.github.com/users/atreyasha/followers","following_url":"https://api.github.com/users/atreyasha/following{/other_user}","gists_url":"https://api.github.com/users/atreyasha/gists{/gist_id}","starred_url":"https://api.github.com/users/atreyasha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atreyasha/subscriptions","organizations_url":"https://api.github.com/users/atreyasha/orgs","repos_url":"https://api.github.com/users/atreyasha/repos","events_url":"https://api.github.com/users/atreyasha/events{/privacy}","received_events_url":"https://api.github.com/users/atreyasha/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-02-06T12:02:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/599750604","html_url":"https://github.com/kpe/bert-for-tf2/issues/12#issuecomment-599750604","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/12","id":599750604,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc1MDYwNA==","user":{"login":"atreyasha","id":35427332,"node_id":"MDQ6VXNlcjM1NDI3MzMy","avatar_url":"https://avatars.githubusercontent.com/u/35427332?v=4","gravatar_id":"","url":"https://api.github.com/users/atreyasha","html_url":"https://github.com/atreyasha","followers_url":"https://api.github.com/users/atreyasha/followers","following_url":"https://api.github.com/users/atreyasha/following{/other_user}","gists_url":"https://api.github.com/users/atreyasha/gists{/gist_id}","starred_url":"https://api.github.com/users/atreyasha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atreyasha/subscriptions","organizations_url":"https://api.github.com/users/atreyasha/orgs","repos_url":"https://api.github.com/users/atreyasha/repos","events_url":"https://api.github.com/users/atreyasha/events{/privacy}","received_events_url":"https://api.github.com/users/atreyasha/received_events","type":"User","site_admin":false},"created_at":"2020-03-16T20:45:59Z","updated_at":"2020-03-16T20:45:59Z","author_association":"NONE","body":"Just as a note, I used `bert-for-tf2` successfully in a sequence labelling task. This is detailed in the repository [here](https://github.com/atreyasha/sentiment-argument-mining/). The relevant information on the training and pre-processing can be found [here](https://github.com/atreyasha/sentiment-argument-mining/blob/master/src/argumentation.md).\r\n\r\nDue to lack of better hardware and faulty gradient-memory-handling solutions with tensorflow 2, I had to stick to the naive approach of simply keeping a very small batch-size.\r\n\r\nAcknowledgments to @kpe are of course there as well :smile: ","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/599750604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"atreyasha","id":35427332,"node_id":"MDQ6VXNlcjM1NDI3MzMy","avatar_url":"https://avatars.githubusercontent.com/u/35427332?v=4","gravatar_id":"","url":"https://api.github.com/users/atreyasha","html_url":"https://github.com/atreyasha","followers_url":"https://api.github.com/users/atreyasha/followers","following_url":"https://api.github.com/users/atreyasha/following{/other_user}","gists_url":"https://api.github.com/users/atreyasha/gists{/gist_id}","starred_url":"https://api.github.com/users/atreyasha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atreyasha/subscriptions","organizations_url":"https://api.github.com/users/atreyasha/orgs","repos_url":"https://api.github.com/users/atreyasha/repos","events_url":"https://api.github.com/users/atreyasha/events{/privacy}","received_events_url":"https://api.github.com/users/atreyasha/received_events","type":"User","site_admin":false}},{"id":3134902790,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzEzNDkwMjc5MA==","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/3134902790","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-16T20:45:59Z","performed_via_github_app":null},{"id":3134902795,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMzQ5MDI3OTU=","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/3134902795","actor":{"login":"kpe","id":2535923,"node_id":"MDQ6VXNlcjI1MzU5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/2535923?v=4","gravatar_id":"","url":"https://api.github.com/users/kpe","html_url":"https://github.com/kpe","followers_url":"https://api.github.com/users/kpe/followers","following_url":"https://api.github.com/users/kpe/following{/other_user}","gists_url":"https://api.github.com/users/kpe/gists{/gist_id}","starred_url":"https://api.github.com/users/kpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpe/subscriptions","organizations_url":"https://api.github.com/users/kpe/orgs","repos_url":"https://api.github.com/users/kpe/repos","events_url":"https://api.github.com/users/kpe/events{/privacy}","received_events_url":"https://api.github.com/users/kpe/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-16T20:45:59Z","performed_via_github_app":null}]