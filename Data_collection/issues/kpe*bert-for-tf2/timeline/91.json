[{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/907080455","html_url":"https://github.com/kpe/bert-for-tf2/issues/91#issuecomment-907080455","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/91","id":907080455,"node_id":"IC_kwDOCzR_5M42EPMH","user":{"login":"ljsun","id":23302883,"node_id":"MDQ6VXNlcjIzMzAyODgz","avatar_url":"https://avatars.githubusercontent.com/u/23302883?v=4","gravatar_id":"","url":"https://api.github.com/users/ljsun","html_url":"https://github.com/ljsun","followers_url":"https://api.github.com/users/ljsun/followers","following_url":"https://api.github.com/users/ljsun/following{/other_user}","gists_url":"https://api.github.com/users/ljsun/gists{/gist_id}","starred_url":"https://api.github.com/users/ljsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljsun/subscriptions","organizations_url":"https://api.github.com/users/ljsun/orgs","repos_url":"https://api.github.com/users/ljsun/repos","events_url":"https://api.github.com/users/ljsun/events{/privacy}","received_events_url":"https://api.github.com/users/ljsun/received_events","type":"User","site_admin":false},"created_at":"2021-08-27T09:56:33Z","updated_at":"2021-08-27T10:44:18Z","author_association":"NONE","body":"Unfortunately, I ran into the same problem, and solved the issue by downgrading to tensorflow=2.3","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/907080455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ljsun","id":23302883,"node_id":"MDQ6VXNlcjIzMzAyODgz","avatar_url":"https://avatars.githubusercontent.com/u/23302883?v=4","gravatar_id":"","url":"https://api.github.com/users/ljsun","html_url":"https://github.com/ljsun","followers_url":"https://api.github.com/users/ljsun/followers","following_url":"https://api.github.com/users/ljsun/following{/other_user}","gists_url":"https://api.github.com/users/ljsun/gists{/gist_id}","starred_url":"https://api.github.com/users/ljsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljsun/subscriptions","organizations_url":"https://api.github.com/users/ljsun/orgs","repos_url":"https://api.github.com/users/ljsun/repos","events_url":"https://api.github.com/users/ljsun/events{/privacy}","received_events_url":"https://api.github.com/users/ljsun/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/926996248","html_url":"https://github.com/kpe/bert-for-tf2/issues/91#issuecomment-926996248","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/91","id":926996248,"node_id":"IC_kwDOCzR_5M43QNcY","user":{"login":"czf1009","id":22541801,"node_id":"MDQ6VXNlcjIyNTQxODAx","avatar_url":"https://avatars.githubusercontent.com/u/22541801?v=4","gravatar_id":"","url":"https://api.github.com/users/czf1009","html_url":"https://github.com/czf1009","followers_url":"https://api.github.com/users/czf1009/followers","following_url":"https://api.github.com/users/czf1009/following{/other_user}","gists_url":"https://api.github.com/users/czf1009/gists{/gist_id}","starred_url":"https://api.github.com/users/czf1009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/czf1009/subscriptions","organizations_url":"https://api.github.com/users/czf1009/orgs","repos_url":"https://api.github.com/users/czf1009/repos","events_url":"https://api.github.com/users/czf1009/events{/privacy}","received_events_url":"https://api.github.com/users/czf1009/received_events","type":"User","site_admin":false},"created_at":"2021-09-25T02:21:20Z","updated_at":"2021-09-25T02:21:20Z","author_association":"NONE","body":"This is cause by mix usage of tensorflow.python.keras and tensorflow.keras, when i replace all tensorflow.python.keras by tensorflow.keras, it work.","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/926996248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"czf1009","id":22541801,"node_id":"MDQ6VXNlcjIyNTQxODAx","avatar_url":"https://avatars.githubusercontent.com/u/22541801?v=4","gravatar_id":"","url":"https://api.github.com/users/czf1009","html_url":"https://github.com/czf1009","followers_url":"https://api.github.com/users/czf1009/followers","following_url":"https://api.github.com/users/czf1009/following{/other_user}","gists_url":"https://api.github.com/users/czf1009/gists{/gist_id}","starred_url":"https://api.github.com/users/czf1009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/czf1009/subscriptions","organizations_url":"https://api.github.com/users/czf1009/orgs","repos_url":"https://api.github.com/users/czf1009/repos","events_url":"https://api.github.com/users/czf1009/events{/privacy}","received_events_url":"https://api.github.com/users/czf1009/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/1062933987","html_url":"https://github.com/kpe/bert-for-tf2/issues/91#issuecomment-1062933987","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/91","id":1062933987,"node_id":"IC_kwDOCzR_5M4_WxXj","user":{"login":"lgalant","id":8270074,"node_id":"MDQ6VXNlcjgyNzAwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/8270074?v=4","gravatar_id":"","url":"https://api.github.com/users/lgalant","html_url":"https://github.com/lgalant","followers_url":"https://api.github.com/users/lgalant/followers","following_url":"https://api.github.com/users/lgalant/following{/other_user}","gists_url":"https://api.github.com/users/lgalant/gists{/gist_id}","starred_url":"https://api.github.com/users/lgalant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgalant/subscriptions","organizations_url":"https://api.github.com/users/lgalant/orgs","repos_url":"https://api.github.com/users/lgalant/repos","events_url":"https://api.github.com/users/lgalant/events{/privacy}","received_events_url":"https://api.github.com/users/lgalant/received_events","type":"User","site_admin":false},"created_at":"2022-03-09T13:42:44Z","updated_at":"2022-03-09T13:42:44Z","author_association":"NONE","body":"I got it to work by following @czf1009 advice.\r\nThis is what I did:\r\n\r\n1) I cloned the latest versions of this repos into my virtual environment (venv) lib/python3.8/site-packages folder\r\n* bert-for-tf2\r\n* params-flow\r\n* params-py\r\n\r\n(I believe these can be cloned to a local folder as well)\r\n\r\n2) I modified the following files on the bert (bert-for-tf2) repo\r\n* transformer.py\r\n*attention.py\r\n\r\nWhere it says \"from tensorflow.python import keras\" replaced by \"from tensorflow import keras\"\r\n\r\n3)To remove some warnings , I pip installed gast==0.3.3 and abs-py=1.0.0\r\n\r\nHope it helps!\r\n\r\n","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/1062933987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lgalant","id":8270074,"node_id":"MDQ6VXNlcjgyNzAwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/8270074?v=4","gravatar_id":"","url":"https://api.github.com/users/lgalant","html_url":"https://github.com/lgalant","followers_url":"https://api.github.com/users/lgalant/followers","following_url":"https://api.github.com/users/lgalant/following{/other_user}","gists_url":"https://api.github.com/users/lgalant/gists{/gist_id}","starred_url":"https://api.github.com/users/lgalant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgalant/subscriptions","organizations_url":"https://api.github.com/users/lgalant/orgs","repos_url":"https://api.github.com/users/lgalant/repos","events_url":"https://api.github.com/users/lgalant/events{/privacy}","received_events_url":"https://api.github.com/users/lgalant/received_events","type":"User","site_admin":false}},{"id":6210072968,"node_id":"MEE_lADOCzR_5M46dylAzwAAAAFyJjGI","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/6210072968","actor":{"login":"czf1009","id":22541801,"node_id":"MDQ6VXNlcjIyNTQxODAx","avatar_url":"https://avatars.githubusercontent.com/u/22541801?v=4","gravatar_id":"","url":"https://api.github.com/users/czf1009","html_url":"https://github.com/czf1009","followers_url":"https://api.github.com/users/czf1009/followers","following_url":"https://api.github.com/users/czf1009/following{/other_user}","gists_url":"https://api.github.com/users/czf1009/gists{/gist_id}","starred_url":"https://api.github.com/users/czf1009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/czf1009/subscriptions","organizations_url":"https://api.github.com/users/czf1009/orgs","repos_url":"https://api.github.com/users/czf1009/repos","events_url":"https://api.github.com/users/czf1009/events{/privacy}","received_events_url":"https://api.github.com/users/czf1009/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-03-09T13:42:44Z","performed_via_github_app":null},{"id":6210072976,"node_id":"SE_lADOCzR_5M46dylAzwAAAAFyJjGQ","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/6210072976","actor":{"login":"czf1009","id":22541801,"node_id":"MDQ6VXNlcjIyNTQxODAx","avatar_url":"https://avatars.githubusercontent.com/u/22541801?v=4","gravatar_id":"","url":"https://api.github.com/users/czf1009","html_url":"https://github.com/czf1009","followers_url":"https://api.github.com/users/czf1009/followers","following_url":"https://api.github.com/users/czf1009/following{/other_user}","gists_url":"https://api.github.com/users/czf1009/gists{/gist_id}","starred_url":"https://api.github.com/users/czf1009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/czf1009/subscriptions","organizations_url":"https://api.github.com/users/czf1009/orgs","repos_url":"https://api.github.com/users/czf1009/repos","events_url":"https://api.github.com/users/czf1009/events{/privacy}","received_events_url":"https://api.github.com/users/czf1009/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-03-09T13:42:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/1137084495","html_url":"https://github.com/kpe/bert-for-tf2/issues/91#issuecomment-1137084495","issue_url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/91","id":1137084495,"node_id":"IC_kwDOCzR_5M5DxohP","user":{"login":"bcazur","id":81704233,"node_id":"MDQ6VXNlcjgxNzA0MjMz","avatar_url":"https://avatars.githubusercontent.com/u/81704233?v=4","gravatar_id":"","url":"https://api.github.com/users/bcazur","html_url":"https://github.com/bcazur","followers_url":"https://api.github.com/users/bcazur/followers","following_url":"https://api.github.com/users/bcazur/following{/other_user}","gists_url":"https://api.github.com/users/bcazur/gists{/gist_id}","starred_url":"https://api.github.com/users/bcazur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcazur/subscriptions","organizations_url":"https://api.github.com/users/bcazur/orgs","repos_url":"https://api.github.com/users/bcazur/repos","events_url":"https://api.github.com/users/bcazur/events{/privacy}","received_events_url":"https://api.github.com/users/bcazur/received_events","type":"User","site_admin":false},"created_at":"2022-05-25T10:41:23Z","updated_at":"2022-05-25T10:41:23Z","author_association":"NONE","body":"Created https://github.com/kpe/bert-for-tf2/pull/94 with the solution from @lgalant ","reactions":{"url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/comments/1137084495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bcazur","id":81704233,"node_id":"MDQ6VXNlcjgxNzA0MjMz","avatar_url":"https://avatars.githubusercontent.com/u/81704233?v=4","gravatar_id":"","url":"https://api.github.com/users/bcazur","html_url":"https://github.com/bcazur","followers_url":"https://api.github.com/users/bcazur/followers","following_url":"https://api.github.com/users/bcazur/following{/other_user}","gists_url":"https://api.github.com/users/bcazur/gists{/gist_id}","starred_url":"https://api.github.com/users/bcazur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcazur/subscriptions","organizations_url":"https://api.github.com/users/bcazur/orgs","repos_url":"https://api.github.com/users/bcazur/repos","events_url":"https://api.github.com/users/bcazur/events{/privacy}","received_events_url":"https://api.github.com/users/bcazur/received_events","type":"User","site_admin":false}},{"id":6676642144,"node_id":"MEE_lADOCzR_5M46dylAzwAAAAGN9Xlg","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/6676642144","actor":{"login":"lgalant","id":8270074,"node_id":"MDQ6VXNlcjgyNzAwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/8270074?v=4","gravatar_id":"","url":"https://api.github.com/users/lgalant","html_url":"https://github.com/lgalant","followers_url":"https://api.github.com/users/lgalant/followers","following_url":"https://api.github.com/users/lgalant/following{/other_user}","gists_url":"https://api.github.com/users/lgalant/gists{/gist_id}","starred_url":"https://api.github.com/users/lgalant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgalant/subscriptions","organizations_url":"https://api.github.com/users/lgalant/orgs","repos_url":"https://api.github.com/users/lgalant/repos","events_url":"https://api.github.com/users/lgalant/events{/privacy}","received_events_url":"https://api.github.com/users/lgalant/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-25T10:41:23Z","performed_via_github_app":null},{"id":6676642152,"node_id":"SE_lADOCzR_5M46dylAzwAAAAGN9Xlo","url":"https://api.github.com/repos/kpe/bert-for-tf2/issues/events/6676642152","actor":{"login":"lgalant","id":8270074,"node_id":"MDQ6VXNlcjgyNzAwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/8270074?v=4","gravatar_id":"","url":"https://api.github.com/users/lgalant","html_url":"https://github.com/lgalant","followers_url":"https://api.github.com/users/lgalant/followers","following_url":"https://api.github.com/users/lgalant/following{/other_user}","gists_url":"https://api.github.com/users/lgalant/gists{/gist_id}","starred_url":"https://api.github.com/users/lgalant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgalant/subscriptions","organizations_url":"https://api.github.com/users/lgalant/orgs","repos_url":"https://api.github.com/users/lgalant/repos","events_url":"https://api.github.com/users/lgalant/events{/privacy}","received_events_url":"https://api.github.com/users/lgalant/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-25T10:41:23Z","performed_via_github_app":null}]