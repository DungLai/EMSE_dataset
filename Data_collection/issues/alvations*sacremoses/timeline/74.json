[{"id":2823037959,"node_id":"MDEyOkxhYmVsZWRFdmVudDI4MjMwMzc5NTk=","url":"https://api.github.com/repos/alvations/sacremoses/issues/events/2823037959","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-22T12:13:54Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557512670","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557512670","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557512670,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzUxMjY3MA==","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T12:23:53Z","updated_at":"2019-11-22T12:25:47Z","author_association":"OWNER","body":"Seems to be the behavior of default moses too =(\r\n\r\n```\r\n$ echo \"yesterday ’s reception\" | perl tokenizer.perl -l en | perl detokenizer.perl \r\nDetokenizer Version $Revision: 4134 $\r\nLanguage: en\r\nTokenizer Version 1.1\r\nLanguage: en\r\nNumber of threads: 1\r\nyesterday ’ s reception\r\n\r\n\r\n$ echo \"yesterday 's reception\" | perl tokenizer.perl -l en | perl detokenizer.perl \r\nDetokenizer Version $Revision: 4134 $\r\nLanguage: en\r\nTokenizer Version 1.1\r\nLanguage: en\r\nNumber of threads: 1\r\nyesterday 's reception\r\n```\r\n\r\nBut that's because the `'s` is usually converted into `&apos;s` during tokenization and detokenization only recognize the `&apos;s` for the de-spacing. \r\n\r\n\r\n```\r\n$ echo \"yesterday's reception\" | perl tokenizer.perl -l en \r\nTokenizer Version 1.1\r\nLanguage: en\r\nNumber of threads: 1\r\nyesterday &apos;s reception\r\n```\r\nAnd also when using `’s` instead of `'s`, apostrophe didn't get escape to `&apos;s`, thus the detokenization didn't work.\r\n\r\n\r\n```\r\n$ echo \"yesterday ’s reception\" | perl tokenizer.perl -l en \r\nTokenizer Version 1.1\r\nLanguage: en\r\nNumber of threads: 1\r\nyesterday ’ s reception\r\n```\r\n\r\n\r\n-----\r\n\r\nIn short, you should try to normalize the input and then detokenize it before tokenizing it again and finally detokenize.\r\n\r\nThat being said, seems like the `’` is not mapping to the right apostrophe in Sacremoses =(\r\n\r\n\r\n```python\r\n>>> from sacremoses import MosesPunctNormalizer\r\n>>> from sacremoses import MosesTokenizer, MosesDetokenizer\r\n\r\n>>> mpn = MosesPunctNormalizer()\r\n>>> mt = MosesTokenizer(lang='en')\r\n>>> md = MosesDetokenizer(lang='en')\r\n\r\n>>> text = \"yesterday ’s reception\"\r\n\r\n>>> mpn.normalize(text)\r\n'yesterday \"s reception'\r\n\r\n>>> mt.tokenize(mpn.normalize(text))\r\n['yesterday', '&quot;', 's', 'reception']\r\n\r\n>>> md.detokenize(mt.tokenize(mpn.normalize(text)))\r\n'yesterday \"s reception'\r\n```\r\n\r\nWhich also happens in Moses' perl script:\r\n\r\n```\r\n$ echo \"yesterday ’s reception\" | perl normalize-punctuation.perl \r\nyesterday \"s reception\r\n```","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557512670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557513554","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557513554","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557513554,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzUxMzU1NA==","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T12:27:06Z","updated_at":"2019-11-22T12:27:06Z","author_association":"OWNER","body":"The normalization bug in sacremoses happens here:\r\n\r\n- https://github.com/alvations/sacremoses/blob/master/sacremoses/normalize.py#L41 and\r\n- https://github.com/alvations/sacremoses/blob/master/sacremoses/normalize.py#L43","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557513554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false}},{"actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T12:30:44Z","updated_at":"2019-11-22T12:30:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/78","repository_url":"https://api.github.com/repos/alvations/sacremoses","labels_url":"https://api.github.com/repos/alvations/sacremoses/issues/78/labels{/name}","comments_url":"https://api.github.com/repos/alvations/sacremoses/issues/78/comments","events_url":"https://api.github.com/repos/alvations/sacremoses/issues/78/events","html_url":"https://github.com/alvations/sacremoses/pull/78","id":527169668,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ0NDk1NDA4","number":78,"title":"Patching single quotes normalization","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-11-22T12:30:44Z","updated_at":"2020-04-13T03:04:45Z","closed_at":"2020-01-06T00:56:40Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":130306621,"node_id":"MDEwOlJlcG9zaXRvcnkxMzAzMDY2MjE=","name":"sacremoses","full_name":"alvations/sacremoses","private":false,"owner":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"html_url":"https://github.com/alvations/sacremoses","description":"Python port of Moses tokenizer, truecaser and normalizer","fork":false,"url":"https://api.github.com/repos/alvations/sacremoses","forks_url":"https://api.github.com/repos/alvations/sacremoses/forks","keys_url":"https://api.github.com/repos/alvations/sacremoses/keys{/key_id}","collaborators_url":"https://api.github.com/repos/alvations/sacremoses/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/alvations/sacremoses/teams","hooks_url":"https://api.github.com/repos/alvations/sacremoses/hooks","issue_events_url":"https://api.github.com/repos/alvations/sacremoses/issues/events{/number}","events_url":"https://api.github.com/repos/alvations/sacremoses/events","assignees_url":"https://api.github.com/repos/alvations/sacremoses/assignees{/user}","branches_url":"https://api.github.com/repos/alvations/sacremoses/branches{/branch}","tags_url":"https://api.github.com/repos/alvations/sacremoses/tags","blobs_url":"https://api.github.com/repos/alvations/sacremoses/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/alvations/sacremoses/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/alvations/sacremoses/git/refs{/sha}","trees_url":"https://api.github.com/repos/alvations/sacremoses/git/trees{/sha}","statuses_url":"https://api.github.com/repos/alvations/sacremoses/statuses/{sha}","languages_url":"https://api.github.com/repos/alvations/sacremoses/languages","stargazers_url":"https://api.github.com/repos/alvations/sacremoses/stargazers","contributors_url":"https://api.github.com/repos/alvations/sacremoses/contributors","subscribers_url":"https://api.github.com/repos/alvations/sacremoses/subscribers","subscription_url":"https://api.github.com/repos/alvations/sacremoses/subscription","commits_url":"https://api.github.com/repos/alvations/sacremoses/commits{/sha}","git_commits_url":"https://api.github.com/repos/alvations/sacremoses/git/commits{/sha}","comments_url":"https://api.github.com/repos/alvations/sacremoses/comments{/number}","issue_comment_url":"https://api.github.com/repos/alvations/sacremoses/issues/comments{/number}","contents_url":"https://api.github.com/repos/alvations/sacremoses/contents/{+path}","compare_url":"https://api.github.com/repos/alvations/sacremoses/compare/{base}...{head}","merges_url":"https://api.github.com/repos/alvations/sacremoses/merges","archive_url":"https://api.github.com/repos/alvations/sacremoses/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/alvations/sacremoses/downloads","issues_url":"https://api.github.com/repos/alvations/sacremoses/issues{/number}","pulls_url":"https://api.github.com/repos/alvations/sacremoses/pulls{/number}","milestones_url":"https://api.github.com/repos/alvations/sacremoses/milestones{/number}","notifications_url":"https://api.github.com/repos/alvations/sacremoses/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/alvations/sacremoses/labels{/name}","releases_url":"https://api.github.com/repos/alvations/sacremoses/releases{/id}","deployments_url":"https://api.github.com/repos/alvations/sacremoses/deployments","created_at":"2018-04-20T03:59:25Z","updated_at":"2023-01-15T15:05:16Z","pushed_at":"2022-10-13T13:07:10Z","git_url":"git://github.com/alvations/sacremoses.git","ssh_url":"git@github.com:alvations/sacremoses.git","clone_url":"https://github.com/alvations/sacremoses.git","svn_url":"https://github.com/alvations/sacremoses","homepage":"","size":688,"stargazers_count":430,"watchers_count":430,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":49,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":31,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["machine-translation","nlp","tokenizer"],"visibility":"public","forks":49,"open_issues":31,"watchers":430,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/alvations/sacremoses/pulls/78","html_url":"https://github.com/alvations/sacremoses/pull/78","diff_url":"https://github.com/alvations/sacremoses/pull/78.diff","patch_url":"https://github.com/alvations/sacremoses/pull/78.patch","merged_at":"2020-01-06T00:56:40Z"},"body":"c.f. #74 ","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/78/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alvations/sacremoses/issues/78/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557514845","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557514845","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557514845,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzUxNDg0NQ==","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T12:31:49Z","updated_at":"2019-11-22T12:31:49Z","author_association":"OWNER","body":"Thanks @j0hannes for catching this, #78 should fix it but it should be rechecked with the Moses decoder repo too.","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557514845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false}},{"id":2823083686,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjgyMzA4MzY4Ng==","url":"https://api.github.com/repos/alvations/sacremoses/issues/events/2823083686","actor":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-22T12:31:49Z","performed_via_github_app":null},{"id":2823083699,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4MjMwODM2OTk=","url":"https://api.github.com/repos/alvations/sacremoses/issues/events/2823083699","actor":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-22T12:31:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557515900","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557515900","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557515900,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzUxNTkwMA==","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T12:36:03Z","updated_at":"2019-11-22T12:36:11Z","author_association":"OWNER","body":"After the #78 fix, your cleaning workflow for your input would be something like:\r\n\r\n1. First normalize your input\r\n2. Then detokenize it (that's assuming you know that the original input is tokenized)\r\n\r\nAnd if necessary:\r\n\r\n3. Then tokenize it \r\n4. Finally detokenize it again\r\n\r\n```python\r\n>>> from sacremoses import MosesPunctNormalizer\r\n>>> from sacremoses import MosesTokenizer, MosesDetokenizer\r\n\r\n>>> mpn = MosesPunctNormalizer()\r\n>>> mt = MosesTokenizer(lang='en')\r\n>>> md = MosesDetokenizer(lang='en')\r\n\r\n>>> text = \"yesterday ’s reception\"\r\n>>> md.detokenize(mt.tokenize(md.detokenize(mpn.normalize(text).split())))\r\n\"yesterday's reception\"\r\n```","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557515900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557552299","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557552299","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557552299,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzU1MjI5OQ==","user":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T14:28:33Z","updated_at":"2019-11-22T14:28:33Z","author_association":"NONE","body":"So, to get the detokenized version of my text, and not the detokenized version of the normalized text, I would need to do perform double detokenization, find out which spaces got removed by the detokenizer, and remove those spaces from my original text. Otherwise, I would end up with something which is different to the original text.","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557552299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557554619","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557554619","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557554619,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzU1NDYxOQ==","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T14:35:27Z","updated_at":"2019-11-22T14:35:27Z","author_association":"OWNER","body":"Yes, the example I gave is one of the typical pipeline that people use to clean the data for machine translation. \r\n\r\nWhat's the expected output of in your example? Do you want to detokenize or tokenize or normalize? \r\n","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557554619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557555275","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557555275","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557555275,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzU1NTI3NQ==","user":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T14:37:22Z","updated_at":"2019-11-22T14:37:22Z","author_association":"NONE","body":"I want to detokenize, without any changes to the text.","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557555275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557955336","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557955336","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557955336,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Nzk1NTMzNg==","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T01:41:43Z","updated_at":"2019-11-25T01:41:43Z","author_association":"OWNER","body":"Ah, do you mean something like:\r\n\r\n```python\r\n>>> from sacremoses import MosesDetokenizer\r\n\r\n>>> md = MosesDetokenizer(lang='en')\r\n\r\n>>> text = \"yesterday 's reception\"\r\n>>> md.detokenize(text.split())\r\n\"yesterday's reception\"\r\n```\r\n\r\nBut with the non-standard apostrophe:\r\n\r\n```\r\n>>> text = \"yesterday ’s reception\"\r\n>>> md.detokenize(text.split())\r\n'yesterday ’s reception'\r\n```","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557955336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557958941","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-557958941","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":557958941,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Nzk1ODk0MQ==","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T02:06:16Z","updated_at":"2019-11-25T02:06:56Z","author_association":"OWNER","body":"Actually, this part on adding new apostrophe to the detokenization process isn't simple, https://github.com/alvations/sacremoses/blob/master/sacremoses/tokenize.py#L678\r\n\r\nBecause:\r\n - There's some smart quote counting happening\r\n - And the de-spacing of apostrophe might be language dependent\r\n\r\nI'll suggest, bearing with the normalization of the apostrophe instead:\r\n\r\n```python\r\nfrom sacremoses import MosesPunctNormalizer\r\nfrom sacremoses import MosesTokenizer, MosesDetokenizer\r\n\r\nmpn = MosesPunctNormalizer()\r\nmd = MosesDetokenizer(lang='en')\r\n\r\ntext = \"yesterday ’s reception\"\r\nmd.detokenize(mpn.normalize(text).split())\r\n```\r\n\r\n[out]:\r\n\r\n\r\n```\r\nyesterday's reception\r\n```","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/557958941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false}},{"id":2826464449,"node_id":"MDEyOkxhYmVsZWRFdmVudDI4MjY0NjQ0NDk=","url":"https://api.github.com/repos/alvations/sacremoses/issues/events/2826464449","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-25T02:06:29Z","label":{"name":"wontfix","color":"ffffff"},"performed_via_github_app":null},{"actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T02:12:16Z","updated_at":"2019-11-25T02:12:16Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues/215","repository_url":"https://api.github.com/repos/moses-smt/mosesdecoder","labels_url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues/215/labels{/name}","comments_url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues/215/comments","events_url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues/215/events","html_url":"https://github.com/moses-smt/mosesdecoder/pull/215","id":527803842,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ0OTgzMzIx","number":215,"title":"Single quotes should be escaped as single quotes.","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-11-25T02:12:15Z","updated_at":"2019-11-25T02:38:11Z","closed_at":"2019-11-25T02:38:07Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":2236146,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM2MTQ2","name":"mosesdecoder","full_name":"moses-smt/mosesdecoder","private":false,"owner":{"login":"moses-smt","id":1038770,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEwMzg3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1038770?v=4","gravatar_id":"","url":"https://api.github.com/users/moses-smt","html_url":"https://github.com/moses-smt","followers_url":"https://api.github.com/users/moses-smt/followers","following_url":"https://api.github.com/users/moses-smt/following{/other_user}","gists_url":"https://api.github.com/users/moses-smt/gists{/gist_id}","starred_url":"https://api.github.com/users/moses-smt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moses-smt/subscriptions","organizations_url":"https://api.github.com/users/moses-smt/orgs","repos_url":"https://api.github.com/users/moses-smt/repos","events_url":"https://api.github.com/users/moses-smt/events{/privacy}","received_events_url":"https://api.github.com/users/moses-smt/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/moses-smt/mosesdecoder","description":"Moses, the machine translation system","fork":false,"url":"https://api.github.com/repos/moses-smt/mosesdecoder","forks_url":"https://api.github.com/repos/moses-smt/mosesdecoder/forks","keys_url":"https://api.github.com/repos/moses-smt/mosesdecoder/keys{/key_id}","collaborators_url":"https://api.github.com/repos/moses-smt/mosesdecoder/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/moses-smt/mosesdecoder/teams","hooks_url":"https://api.github.com/repos/moses-smt/mosesdecoder/hooks","issue_events_url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues/events{/number}","events_url":"https://api.github.com/repos/moses-smt/mosesdecoder/events","assignees_url":"https://api.github.com/repos/moses-smt/mosesdecoder/assignees{/user}","branches_url":"https://api.github.com/repos/moses-smt/mosesdecoder/branches{/branch}","tags_url":"https://api.github.com/repos/moses-smt/mosesdecoder/tags","blobs_url":"https://api.github.com/repos/moses-smt/mosesdecoder/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/moses-smt/mosesdecoder/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/moses-smt/mosesdecoder/git/refs{/sha}","trees_url":"https://api.github.com/repos/moses-smt/mosesdecoder/git/trees{/sha}","statuses_url":"https://api.github.com/repos/moses-smt/mosesdecoder/statuses/{sha}","languages_url":"https://api.github.com/repos/moses-smt/mosesdecoder/languages","stargazers_url":"https://api.github.com/repos/moses-smt/mosesdecoder/stargazers","contributors_url":"https://api.github.com/repos/moses-smt/mosesdecoder/contributors","subscribers_url":"https://api.github.com/repos/moses-smt/mosesdecoder/subscribers","subscription_url":"https://api.github.com/repos/moses-smt/mosesdecoder/subscription","commits_url":"https://api.github.com/repos/moses-smt/mosesdecoder/commits{/sha}","git_commits_url":"https://api.github.com/repos/moses-smt/mosesdecoder/git/commits{/sha}","comments_url":"https://api.github.com/repos/moses-smt/mosesdecoder/comments{/number}","issue_comment_url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues/comments{/number}","contents_url":"https://api.github.com/repos/moses-smt/mosesdecoder/contents/{+path}","compare_url":"https://api.github.com/repos/moses-smt/mosesdecoder/compare/{base}...{head}","merges_url":"https://api.github.com/repos/moses-smt/mosesdecoder/merges","archive_url":"https://api.github.com/repos/moses-smt/mosesdecoder/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/moses-smt/mosesdecoder/downloads","issues_url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues{/number}","pulls_url":"https://api.github.com/repos/moses-smt/mosesdecoder/pulls{/number}","milestones_url":"https://api.github.com/repos/moses-smt/mosesdecoder/milestones{/number}","notifications_url":"https://api.github.com/repos/moses-smt/mosesdecoder/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/moses-smt/mosesdecoder/labels{/name}","releases_url":"https://api.github.com/repos/moses-smt/mosesdecoder/releases{/id}","deployments_url":"https://api.github.com/repos/moses-smt/mosesdecoder/deployments","created_at":"2011-08-19T20:22:46Z","updated_at":"2023-01-19T06:14:00Z","pushed_at":"2022-05-08T06:28:27Z","git_url":"git://github.com/moses-smt/mosesdecoder.git","ssh_url":"git@github.com:moses-smt/mosesdecoder.git","clone_url":"https://github.com/moses-smt/mosesdecoder.git","svn_url":"https://github.com/moses-smt/mosesdecoder","homepage":"http://www.statmt.org/moses","size":132956,"stargazers_count":1472,"watchers_count":1472,"language":"Roff","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":770,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":5,"license":{"key":"lgpl-2.1","name":"GNU Lesser General Public License v2.1","spdx_id":"LGPL-2.1","url":"https://api.github.com/licenses/lgpl-2.1","node_id":"MDc6TGljZW5zZTEx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":770,"open_issues":5,"watchers":1472,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/moses-smt/mosesdecoder/pulls/215","html_url":"https://github.com/moses-smt/mosesdecoder/pull/215","diff_url":"https://github.com/moses-smt/mosesdecoder/pull/215.diff","patch_url":"https://github.com/moses-smt/mosesdecoder/pull/215.patch","merged_at":"2019-11-25T02:38:06Z"},"body":"Somehow the normalization script was normalizing the non-ascii single quotes as double quotes. \r\nMaybe there was a reason behind this but it doesn't seem to be right, thus this PR. \r\n\r\nAre there reasons why the single quotes would be normalized into double quotes?\r\n\r\nC.f. https://github.com/alvations/sacremoses/issues/74 ","reactions":{"url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues/215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/moses-smt/mosesdecoder/issues/215/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/558023336","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-558023336","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":558023336,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODAyMzMzNg==","user":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T07:15:27Z","updated_at":"2019-11-25T07:15:27Z","author_association":"NONE","body":"Sorry, this is not an option. I think I'll either try to embed the detokenizer, so that it returns an abstract representation of removed spaces that I can apply to the original text, or maybe there's some software out there that can do detokenization without touching the text. Are there many cases in which this function destroys the text (apart from apostrophes and probably also quotation marks)?","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/558023336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/558053996","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-558053996","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":558053996,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODA1Mzk5Ng==","user":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T08:52:59Z","updated_at":"2019-11-25T08:52:59Z","author_association":"OWNER","body":"Maybe try https://sjmielke.com/papers/tokenize/ or spacy for your use-case.\r\n\r\nI can take a look at this again without changing detokenization behavior but no promises. Because to support non-normalized text opens a can of worms to support all other non-normalized forms =(","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/558053996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/558060149","html_url":"https://github.com/alvations/sacremoses/issues/74#issuecomment-558060149","issue_url":"https://api.github.com/repos/alvations/sacremoses/issues/74","id":558060149,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODA2MDE0OQ==","user":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T09:10:24Z","updated_at":"2019-11-25T09:10:24Z","author_association":"NONE","body":"I had seen that, but it's overly simplistic and language-agnostic, it can't possibly get the job done in all languages. An enhancement that would allow me to use the sacremoses detokenizer would be to have it return length and offset of each part of the string that would be removed instead of a string with those parts already removed.","reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/comments/558060149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"j0hannes","id":3944397,"node_id":"MDQ6VXNlcjM5NDQzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/3944397?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hannes","html_url":"https://github.com/j0hannes","followers_url":"https://api.github.com/users/j0hannes/followers","following_url":"https://api.github.com/users/j0hannes/following{/other_user}","gists_url":"https://api.github.com/users/j0hannes/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hannes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hannes/subscriptions","organizations_url":"https://api.github.com/users/j0hannes/orgs","repos_url":"https://api.github.com/users/j0hannes/repos","events_url":"https://api.github.com/users/j0hannes/events{/privacy}","received_events_url":"https://api.github.com/users/j0hannes/received_events","type":"User","site_admin":false}}]