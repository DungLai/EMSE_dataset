{"url":"https://api.github.com/repos/alvations/sacremoses/issues/86","repository_url":"https://api.github.com/repos/alvations/sacremoses","labels_url":"https://api.github.com/repos/alvations/sacremoses/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/alvations/sacremoses/issues/86/comments","events_url":"https://api.github.com/repos/alvations/sacremoses/issues/86/events","html_url":"https://github.com/alvations/sacremoses/issues/86","id":570778019,"node_id":"MDU6SXNzdWU1NzA3NzgwMTk=","number":86,"title":"pip3 install error: AttributeError: '_io.BufferedWriter' object has no attribute 'encoding'","user":{"login":"youssefavx","id":56129524,"node_id":"MDQ6VXNlcjU2MTI5NTI0","avatar_url":"https://avatars.githubusercontent.com/u/56129524?v=4","gravatar_id":"","url":"https://api.github.com/users/youssefavx","html_url":"https://github.com/youssefavx","followers_url":"https://api.github.com/users/youssefavx/followers","following_url":"https://api.github.com/users/youssefavx/following{/other_user}","gists_url":"https://api.github.com/users/youssefavx/gists{/gist_id}","starred_url":"https://api.github.com/users/youssefavx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youssefavx/subscriptions","organizations_url":"https://api.github.com/users/youssefavx/orgs","repos_url":"https://api.github.com/users/youssefavx/repos","events_url":"https://api.github.com/users/youssefavx/events{/privacy}","received_events_url":"https://api.github.com/users/youssefavx/received_events","type":"User","site_admin":false},"labels":[{"id":907981943,"node_id":"MDU6TGFiZWw5MDc5ODE5NDM=","url":"https://api.github.com/repos/alvations/sacremoses/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-02-25T19:21:31Z","updated_at":"2020-04-13T04:13:40Z","closed_at":"2020-04-13T04:13:40Z","author_association":"NONE","active_lock_reason":null,"body":"```\r\nERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/py_compile.py\", line 143, in compile\r\n    _optimize=optimize)\r\n  File \"<frozen importlib._bootstrap_external>\", line 791, in source_to_code\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/private/var/folders/g0/5zwy4mtx7579v5x6rxqb083r0000gn/T/pip-unpacked-wheel-l2i9ti3m/sacremoses/sent_tokenize.py\", line 69\r\n    if re.search(IS_EOS, token)\r\n                              ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/compileall.py\", line 159, in compile_file\r\n    invalidation_mode=invalidation_mode)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/py_compile.py\", line 147, in compile\r\n    raise py_exc\r\npy_compile.PyCompileError:   File \"/private/var/folders/g0/5zwy4mtx7579v5x6rxqb083r0000gn/T/pip-unpacked-wheel-l2i9ti3m/sacremoses/sent_tokenize.py\", line 69\r\n    if re.search(IS_EOS, token)\r\n                              ^\r\nSyntaxError: invalid syntax\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/cli/base_command.py\", line 186, in _main\r\n    status = self.run(options, args)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/commands/install.py\", line 404, in run\r\n    use_user_site=options.use_user_site,\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/req/__init__.py\", line 71, in install_given_reqs\r\n    **kwargs\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/req/req_install.py\", line 815, in install\r\n    warn_script_location=warn_script_location,\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/operations/install/wheel.py\", line 614, in install_wheel\r\n    warn_script_location=warn_script_location,\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/operations/install/wheel.py\", line 338, in install_unpacked_wheel\r\n    compileall.compile_dir(source, force=True, quiet=True)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/compileall.py\", line 97, in compile_dir\r\n    legacy, optimize, invalidation_mode):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/compileall.py\", line 169, in compile_file\r\n    msg = err.msg.encode(sys.stdout.encoding,\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/utils/misc.py\", line 554, in encoding\r\n    return self.orig_stream.encoding\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/codecs.py\", line 409, in __getattr__\r\n    return getattr(self.stream, name)\r\nAttributeError: '_io.BufferedWriter' object has no attribute 'encoding'\r\n```\r\n\r\nGetting this error when doing pip3 install -U sacremoses and also when installing other packages which rely on this package.","closed_by":{"login":"alvations","id":1050316,"node_id":"MDQ6VXNlcjEwNTAzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050316?v=4","gravatar_id":"","url":"https://api.github.com/users/alvations","html_url":"https://github.com/alvations","followers_url":"https://api.github.com/users/alvations/followers","following_url":"https://api.github.com/users/alvations/following{/other_user}","gists_url":"https://api.github.com/users/alvations/gists{/gist_id}","starred_url":"https://api.github.com/users/alvations/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvations/subscriptions","organizations_url":"https://api.github.com/users/alvations/orgs","repos_url":"https://api.github.com/users/alvations/repos","events_url":"https://api.github.com/users/alvations/events{/privacy}","received_events_url":"https://api.github.com/users/alvations/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alvations/sacremoses/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alvations/sacremoses/issues/86/timeline","performed_via_github_app":null,"state_reason":"completed"}