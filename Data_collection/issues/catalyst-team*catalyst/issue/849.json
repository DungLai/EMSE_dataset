{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/849","repository_url":"https://api.github.com/repos/catalyst-team/catalyst","labels_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/849/labels{/name}","comments_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/849/comments","events_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/849/events","html_url":"https://github.com/catalyst-team/catalyst/issues/849","id":642323976,"node_id":"MDU6SXNzdWU2NDIzMjM5NzY=","number":849,"title":"Reproduce the performance of PSPNet on segmentation benchmark","user":{"login":"baibaidj","id":24452296,"node_id":"MDQ6VXNlcjI0NDUyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/24452296?v=4","gravatar_id":"","url":"https://api.github.com/users/baibaidj","html_url":"https://github.com/baibaidj","followers_url":"https://api.github.com/users/baibaidj/followers","following_url":"https://api.github.com/users/baibaidj/following{/other_user}","gists_url":"https://api.github.com/users/baibaidj/gists{/gist_id}","starred_url":"https://api.github.com/users/baibaidj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baibaidj/subscriptions","organizations_url":"https://api.github.com/users/baibaidj/orgs","repos_url":"https://api.github.com/users/baibaidj/repos","events_url":"https://api.github.com/users/baibaidj/events{/privacy}","received_events_url":"https://api.github.com/users/baibaidj/received_events","type":"User","site_admin":false},"labels":[{"id":1029400273,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcz","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/help%20wanted","name":"help wanted","color":"008672","default":true,"description":"Extra attention is needed"},{"id":1029400276,"node_id":"MDU6TGFiZWwxMDI5NDAwMjc2","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"},{"id":1029400277,"node_id":"MDU6TGFiZWwxMDI5NDAwMjc3","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-20T06:58:48Z","updated_at":"2020-09-04T16:46:51Z","closed_at":"2020-09-04T16:46:51Z","author_association":"NONE","active_lock_reason":null,"body":"## ‚ùì Questions and Help\r\nI want to use the catalyst framework to reproduce the PSPNet on the cityscapes dataset. With the [official repo of PSPNet](https://github.com/hszhao/semseg), I can achieve mIoU of 0.756, very close that reported by the authors of PSPnet. However, I can only get 0.45 mIoU using the catalyast framework. I've checked the input, the preprocessing with albumentations, loss functions and metrics, trying to mimics the official repo as much as possible. \r\nI was wondering if the catalyst team or other developers have tried to reproduce the the results of major CNNs on semantic segmentation benchmarks like cityscapes, PASCOL VOC or ADE20K. \r\n\r\nI'm still investigating what's going wrong.  \r\n\r\nAny insights are welcomed. \r\n\r\n### Before asking:   \r\n1. search the issues.   \r\n2. search the docs.    \r\n\r\n<!-- If you still can't find what you need: -->\r\n\r\n\r\n#### What is your question?\r\nHow can I reproduce the performance of PSPNet on cityscapes dataset. \r\n\r\n#### Code\r\n```\r\n\r\ndataset=cityscapes\r\n\r\nfor ARCH in smp.PSPNet; do #smp.Unet smp.FPN\r\n      for encoder in resnet50; do\r\n      log_name=${ARCH}-${encoder}\r\n      batchsize=8\r\n      numworkers=8\r\n      LOGDIR=exp/catalyst-${dataset}/${log_name}/\r\n      mkdir -p ${LOGDIR} \r\n      USE_WANDB=0 catalyst-dl run \\\r\n            --configs ./catalyst_${dataset}/config_${dataset}.yml \\\r\n            ./catalyst_${dataset}/transforms.yml \\\r\n            --expdir=./catalyst_${dataset} \\\r\n            --logdir=$LOGDIR \\\r\n            --model_params/model=$ARCH:str \\\r\n            --model_params/encoder_name=$encoder:str \\\r\n            --monitoring_params/name=${log_name}:str \\\r\n            --stages/data_params/batch_size=${batchsize}:int\\\r\n            --stages/data_params/num_workers=${numworkers}:int\\\r\n            --verbose --distributed --autoresume best\\\r\n      done\r\ndone\r\n\r\n```\r\n\r\n#### What have you tried?\r\nI've checked the input, the preprocessing with albumentations, loss functions and metrics, trying to mimics the official repo as much as possible. \r\n\r\n#### What's your environment?\r\nCatalyst version: 20.05\r\nPyTorch version: 1.4.0\r\nIs debug build: No\r\nCUDA used to build PyTorch: 10.1\r\nTensorFlow version: N/A\r\nTensorBoard version: 2.2.1\r\n\r\nOS: linux\r\nGCC version: (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nCMake version: version 3.10.2\r\n\r\nPython version: 3.7\r\nIs CUDA available: Yes\r\nCUDA runtime version: 10.1.243\r\nNvidia driver version: 418.56\r\n\r\nsegmentation-models-pytorch==0.1.0\r\n```\r\n\r\n\r\n### Additional context\r\n<!-- Add any other context about the problem here. -->","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/849/timeline","performed_via_github_app":null,"state_reason":"completed"}