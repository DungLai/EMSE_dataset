{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/680","repository_url":"https://api.github.com/repos/catalyst-team/catalyst","labels_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/680/labels{/name}","comments_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/680/comments","events_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/680/events","html_url":"https://github.com/catalyst-team/catalyst/issues/680","id":571804041,"node_id":"MDU6SXNzdWU1NzE4MDQwNDE=","number":680,"title":"Error loading from checkpoint","user":{"login":"ternaus","id":5481618,"node_id":"MDQ6VXNlcjU0ODE2MTg=","avatar_url":"https://avatars.githubusercontent.com/u/5481618?v=4","gravatar_id":"","url":"https://api.github.com/users/ternaus","html_url":"https://github.com/ternaus","followers_url":"https://api.github.com/users/ternaus/followers","following_url":"https://api.github.com/users/ternaus/following{/other_user}","gists_url":"https://api.github.com/users/ternaus/gists{/gist_id}","starred_url":"https://api.github.com/users/ternaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ternaus/subscriptions","organizations_url":"https://api.github.com/users/ternaus/orgs","repos_url":"https://api.github.com/users/ternaus/repos","events_url":"https://api.github.com/users/ternaus/events{/privacy}","received_events_url":"https://api.github.com/users/ternaus/received_events","type":"User","site_admin":false},"labels":[{"id":1029400270,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcw","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-27T03:56:04Z","updated_at":"2020-02-28T18:07:16Z","closed_at":"2020-02-28T18:07:16Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Loading weights from checkpoint:\r\n\r\n```\r\ncallbacks = [CheckpointCallback(resume=args.checkpoint_path)]\r\n\r\nrunner = SupervisedRunner()\r\n    runner.train(\r\n        model=model,\r\n        criterion=config.loss,\r\n        optimizer=config.optimizer,\r\n        callbacks=callbacks,\r\n        logdir=config.logdir,\r\n        loaders=data_loaders,\r\n        num_epochs=config.train_parameters.num_epochs,\r\n        # scheduler=config.scheduler,\r\n        verbose=True,\r\n        minimize_metric=True,\r\n        fp16=config.train_parameters.fp16,\r\n        valid_loader=\"train\",\r\n    )\r\n```\r\n\r\nGet an error\r\n\r\n```\r\n=> loading checkpoint /home/vladimir/workspace/evo970/data/kaggle_deepfake/checkpoints/resnext50_32x4d/logs/checkpoints/last_full.pth\r\nloaded checkpoint /home/vladimir/workspace/evo970/data/kaggle_deepfake/checkpoints/resnext50_32x4d/logs/checkpoints/last_full.pth (epoch 119, stage_epoch 119, stage train)\r\nTraceback (most recent call last):\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/mnt/evo850/workspace/kaggle_deepfake/kaggle_deepfake/train.py\", line 126, in <module>\r\n    main()\r\n  File \"/mnt/evo850/workspace/kaggle_deepfake/kaggle_deepfake/train.py\", line 121, in main\r\n    valid_loader=\"train\",\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/dl/runner/supervised.py\", line 206, in train\r\n    self.run_experiment(experiment, check=check)\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/core/runner.py\", line 389, in run_experiment\r\n    self._run_event(\"exception\", moment=None)\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/core/runner.py\", line 234, in _run_event\r\n    getattr(logger, fn_name)(self.state)\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/dl/callbacks/misc.py\", line 152, in on_exception\r\n    raise exception\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/core/runner.py\", line 381, in run_experiment\r\n    self._run_stage(stage)\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/core/runner.py\", line 342, in _run_stage\r\n    self._run_event(\"stage\", moment=\"start\")\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/core/runner.py\", line 228, in _run_event\r\n    getattr(callback, fn_name)(self.state)\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/core/callbacks/checkpoint.py\", line 222, in on_stage_start\r\n    state.resume = None\r\n  File \"/home/vladimir/anaconda3/lib/python3.7/site-packages/catalyst/utils/tools/frozen_class.py\", line 12, in __setattr__\r\n    raise TypeError(\"%r is a frozen class\" % self)\r\n\r\n```","closed_by":{"login":"ternaus","id":5481618,"node_id":"MDQ6VXNlcjU0ODE2MTg=","avatar_url":"https://avatars.githubusercontent.com/u/5481618?v=4","gravatar_id":"","url":"https://api.github.com/users/ternaus","html_url":"https://github.com/ternaus","followers_url":"https://api.github.com/users/ternaus/followers","following_url":"https://api.github.com/users/ternaus/following{/other_user}","gists_url":"https://api.github.com/users/ternaus/gists{/gist_id}","starred_url":"https://api.github.com/users/ternaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ternaus/subscriptions","organizations_url":"https://api.github.com/users/ternaus/orgs","repos_url":"https://api.github.com/users/ternaus/repos","events_url":"https://api.github.com/users/ternaus/events{/privacy}","received_events_url":"https://api.github.com/users/ternaus/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/680/timeline","performed_via_github_app":null,"state_reason":"completed"}