{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/803","repository_url":"https://api.github.com/repos/catalyst-team/catalyst","labels_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/803/labels{/name}","comments_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/803/comments","events_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/803/events","html_url":"https://github.com/catalyst-team/catalyst/issues/803","id":616576979,"node_id":"MDU6SXNzdWU2MTY1NzY5Nzk=","number":803,"title":"Fail to get Transform function","user":{"login":"baibaidj","id":24452296,"node_id":"MDQ6VXNlcjI0NDUyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/24452296?v=4","gravatar_id":"","url":"https://api.github.com/users/baibaidj","html_url":"https://github.com/baibaidj","followers_url":"https://api.github.com/users/baibaidj/followers","following_url":"https://api.github.com/users/baibaidj/following{/other_user}","gists_url":"https://api.github.com/users/baibaidj/gists{/gist_id}","starred_url":"https://api.github.com/users/baibaidj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baibaidj/subscriptions","organizations_url":"https://api.github.com/users/baibaidj/orgs","repos_url":"https://api.github.com/users/baibaidj/repos","events_url":"https://api.github.com/users/baibaidj/events{/privacy}","received_events_url":"https://api.github.com/users/baibaidj/received_events","type":"User","site_admin":false},"labels":[{"id":1029400270,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcw","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1029400273,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcz","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/help%20wanted","name":"help wanted","color":"008672","default":true,"description":"Extra attention is needed"}],"state":"closed","locked":false,"assignee":{"login":"bagxi","id":19803638,"node_id":"MDQ6VXNlcjE5ODAzNjM4","avatar_url":"https://avatars.githubusercontent.com/u/19803638?v=4","gravatar_id":"","url":"https://api.github.com/users/bagxi","html_url":"https://github.com/bagxi","followers_url":"https://api.github.com/users/bagxi/followers","following_url":"https://api.github.com/users/bagxi/following{/other_user}","gists_url":"https://api.github.com/users/bagxi/gists{/gist_id}","starred_url":"https://api.github.com/users/bagxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagxi/subscriptions","organizations_url":"https://api.github.com/users/bagxi/orgs","repos_url":"https://api.github.com/users/bagxi/repos","events_url":"https://api.github.com/users/bagxi/events{/privacy}","received_events_url":"https://api.github.com/users/bagxi/received_events","type":"User","site_admin":false},"assignees":[{"login":"bagxi","id":19803638,"node_id":"MDQ6VXNlcjE5ODAzNjM4","avatar_url":"https://avatars.githubusercontent.com/u/19803638?v=4","gravatar_id":"","url":"https://api.github.com/users/bagxi","html_url":"https://github.com/bagxi","followers_url":"https://api.github.com/users/bagxi/followers","following_url":"https://api.github.com/users/bagxi/following{/other_user}","gists_url":"https://api.github.com/users/bagxi/gists{/gist_id}","starred_url":"https://api.github.com/users/bagxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagxi/subscriptions","organizations_url":"https://api.github.com/users/bagxi/orgs","repos_url":"https://api.github.com/users/bagxi/repos","events_url":"https://api.github.com/users/bagxi/events{/privacy}","received_events_url":"https://api.github.com/users/bagxi/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2020-05-12T11:21:58Z","updated_at":"2020-06-02T07:37:50Z","closed_at":"2020-05-20T02:54:54Z","author_association":"NONE","active_lock_reason":null,"body":"## üêõ Bug Report\r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\nI think a bug exists here https://github.com/catalyst-team/catalyst/blob/master/catalyst/dl/experiment/config.py#L415. \r\nSo the line \"elif not isinstance(transform, AugmentorCompose)\" is trying to check if the \"transform\" function generated is a AugmentorCompose object. When I use the transform.yml provided in _test_cv_segmentation, the resulting transform is in fact a Compose object and will be judged as NOT AugmentorCompose. Finally the returning transform cannot accept the dict with 'image' and 'mask' keys as input, thus leading to error. Without this judgment (e.g. removing the not), the transform will behave as anticipated.\r\n\r\n### How To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Go to https://github.com/catalyst-team/catalyst/tree/master/tests/_tests_cv_segmentation\r\n1. Run the training script with the transform.yml in the folder. \r\n3. you should be able to encounter the error. \r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well --> \r\n\r\n\r\n#### Code sample\r\nthis code is in the tests folder.\r\n\r\n\r\n#### Screenshots\r\n<!-- If applicable, add screenshots to help explain your problem.  -->\r\n![Â±èÂπïÂø´ÁÖß 2020-05-12 ‰∏ãÂçà7 07 27](https://user-images.githubusercontent.com/24452296/81765596-d12dbf00-9506-11ea-8e01-436f9bff7700.png)\r\n![Â±èÂπïÂø´ÁÖß 2020-05-12 ‰∏ãÂçà7 07 43](https://user-images.githubusercontent.com/24452296/81765637-f28eab00-9506-11ea-81c7-9624db69b315.png)\r\n\r\n\r\n\r\n### Expected behavior\r\nget a transform function (Compose object from albumentation) that can accept a dict with 'image' and 'mask' keys as input and do the transformation as indicted in the transform.yml. \r\n\r\n### Environment\r\nCatalyst version: 20.05\r\nPyTorch version: 1.1.0\r\nTensorFlow version: 2.2.0\r\nTensorBoard version: 2.2.0\r\nOS: Ubuntu 16.04.3 LTS\r\nPython version: 3.6\r\nCUDA runtime version: Could not collect\r\nNvidia driver version: 387.26\r\ncuDNN version: Could not collect\r\n\r\n\r\n### Additional context\r\n<!-- Add any other context about the problem here. -->\r\n","closed_by":{"login":"baibaidj","id":24452296,"node_id":"MDQ6VXNlcjI0NDUyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/24452296?v=4","gravatar_id":"","url":"https://api.github.com/users/baibaidj","html_url":"https://github.com/baibaidj","followers_url":"https://api.github.com/users/baibaidj/followers","following_url":"https://api.github.com/users/baibaidj/following{/other_user}","gists_url":"https://api.github.com/users/baibaidj/gists{/gist_id}","starred_url":"https://api.github.com/users/baibaidj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baibaidj/subscriptions","organizations_url":"https://api.github.com/users/baibaidj/orgs","repos_url":"https://api.github.com/users/baibaidj/repos","events_url":"https://api.github.com/users/baibaidj/events{/privacy}","received_events_url":"https://api.github.com/users/baibaidj/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/803/timeline","performed_via_github_app":null,"state_reason":"completed"}