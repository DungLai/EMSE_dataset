{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/847","repository_url":"https://api.github.com/repos/catalyst-team/catalyst","labels_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/847/labels{/name}","comments_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/847/comments","events_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/847/events","html_url":"https://github.com/catalyst-team/catalyst/issues/847","id":641760299,"node_id":"MDU6SXNzdWU2NDE3NjAyOTk=","number":847,"title":"Bug: catalyst depends from system git","user":{"login":"ditwoo","id":7264490,"node_id":"MDQ6VXNlcjcyNjQ0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/7264490?v=4","gravatar_id":"","url":"https://api.github.com/users/ditwoo","html_url":"https://github.com/ditwoo","followers_url":"https://api.github.com/users/ditwoo/followers","following_url":"https://api.github.com/users/ditwoo/following{/other_user}","gists_url":"https://api.github.com/users/ditwoo/gists{/gist_id}","starred_url":"https://api.github.com/users/ditwoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ditwoo/subscriptions","organizations_url":"https://api.github.com/users/ditwoo/orgs","repos_url":"https://api.github.com/users/ditwoo/repos","events_url":"https://api.github.com/users/ditwoo/events{/privacy}","received_events_url":"https://api.github.com/users/ditwoo/received_events","type":"User","site_admin":false},"labels":[{"id":1029400270,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcw","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1029400273,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcz","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/help%20wanted","name":"help wanted","color":"008672","default":true,"description":"Extra attention is needed"},{"id":1029400274,"node_id":"MDU6TGFiZWwxMDI5NDAwMjc0","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/good%20first%20issue","name":"good first issue","color":"7057ff","default":true,"description":"Good for newcomers"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-06-19T07:14:24Z","updated_at":"2020-09-24T06:33:39Z","closed_at":"2020-09-24T06:33:39Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"## üêõ Bug Report\r\n\r\nIf you try to run experiment in system/docker container where missing git (in system) your code will crush at this line:\r\n\r\nhttps://github.com/catalyst-team/catalyst/blob/master/catalyst/utils/pipelines.py#L4\r\n\r\nwith message like this:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/git/__init__.py\", line 83, in <module>\r\n    refresh()\r\n  File \"/usr/local/lib/python3.7/site-packages/git/__init__.py\", line 73, in refresh\r\n    if not Git.refresh(path=path):\r\n  File \"/usr/local/lib/python3.7/site-packages/git/cmd.py\", line 278, in refresh\r\n    raise ImportError(err)\r\nImportError: Bad git executable.\r\nThe git executable must be specified in one of the following ways:\r\n    - be included in your $PATH\r\n    - be set via $GIT_PYTHON_GIT_EXECUTABLE\r\n    - explicitly set via git.refresh()\r\n\r\nAll git commands will error until this is rectified.\r\n\r\nThis initial warning can be silenced or aggravated in the future by setting the\r\n$GIT_PYTHON_REFRESH environment variable. Use one of the following values:\r\n    - quiet|q|silence|s|none|n|0: for no warning or exception\r\n    - warn|w|warning|1: for a printed warning\r\n    - error|e|raise|r|2: for a raised exception\r\n\r\nExample:\r\n    export GIT_PYTHON_REFRESH=quiet\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/catalyst-dl\", line 5, in <module>\r\n    from catalyst.dl.__main__ import main\r\n  File \"/usr/local/lib/python3.7/site-packages/catalyst/dl/__init__.py\", line 4, in <module>\r\n    from catalyst.core import *\r\n  File \"/usr/local/lib/python3.7/site-packages/catalyst/core/__init__.py\", line 10, in <module>\r\n    from .state import State\r\n  File \"/usr/local/lib/python3.7/site-packages/catalyst/core/state.py\", line 8, in <module>\r\n    from catalyst.core import utils\r\n  File \"/usr/local/lib/python3.7/site-packages/catalyst/core/utils/__init__.py\", line 4, in <module>\r\n    from catalyst.utils import *\r\n  File \"/usr/local/lib/python3.7/site-packages/catalyst/utils/__init__.py\", line 67, in <module>\r\n    from .pipelines import clone_pipeline\r\n  File \"/usr/local/lib/python3.7/site-packages/catalyst/utils/pipelines.py\", line 4, in <module>\r\n    from git import Repo as repo\r\n  File \"/usr/local/lib/python3.7/site-packages/git/__init__.py\", line 85, in <module>\r\n    raise ImportError('Failed to initialize: {0}'.format(exc))\r\nImportError: Failed to initialize: Bad git executable.\r\nThe git executable must be specified in one of the following ways:\r\n    - be included in your $PATH\r\n    - be set via $GIT_PYTHON_GIT_EXECUTABLE\r\n    - explicitly set via git.refresh()\r\n\r\nAll git commands will error until this is rectified.\r\n\r\nThis initial warning can be silenced or aggravated in the future by setting the\r\n$GIT_PYTHON_REFRESH environment variable. Use one of the following values:\r\n    - quiet|q|silence|s|none|n|0: for no warning or exception\r\n    - warn|w|warning|1: for a printed warning\r\n    - error|e|raise|r|2: for a raised exception\r\n\r\nExample:\r\n    export GIT_PYTHON_REFRESH=quiet\r\n\r\n```\r\n\r\n### How To Reproduce\r\n\r\nHere is a repo with all code to reproduce this bug - https://github.com/Ditwoo/err-exp\r\n\r\n### Expected behavior\r\n\r\nI think that catalyst should not depend from system's internal packages.\r\n","closed_by":{"login":"Scitator","id":7606451,"node_id":"MDQ6VXNlcjc2MDY0NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7606451?v=4","gravatar_id":"","url":"https://api.github.com/users/Scitator","html_url":"https://github.com/Scitator","followers_url":"https://api.github.com/users/Scitator/followers","following_url":"https://api.github.com/users/Scitator/following{/other_user}","gists_url":"https://api.github.com/users/Scitator/gists{/gist_id}","starred_url":"https://api.github.com/users/Scitator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Scitator/subscriptions","organizations_url":"https://api.github.com/users/Scitator/orgs","repos_url":"https://api.github.com/users/Scitator/repos","events_url":"https://api.github.com/users/Scitator/events{/privacy}","received_events_url":"https://api.github.com/users/Scitator/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/847/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/847/timeline","performed_via_github_app":null,"state_reason":"completed"}