{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/512","repository_url":"https://api.github.com/repos/catalyst-team/catalyst","labels_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/512/labels{/name}","comments_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/512/comments","events_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/512/events","html_url":"https://github.com/catalyst-team/catalyst/issues/512","id":522607633,"node_id":"MDU6SXNzdWU1MjI2MDc2MzM=","number":512,"title":"Infer stages","user":{"login":"gazay","id":29658,"node_id":"MDQ6VXNlcjI5NjU4","avatar_url":"https://avatars.githubusercontent.com/u/29658?v=4","gravatar_id":"","url":"https://api.github.com/users/gazay","html_url":"https://github.com/gazay","followers_url":"https://api.github.com/users/gazay/followers","following_url":"https://api.github.com/users/gazay/following{/other_user}","gists_url":"https://api.github.com/users/gazay/gists{/gist_id}","starred_url":"https://api.github.com/users/gazay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gazay/subscriptions","organizations_url":"https://api.github.com/users/gazay/orgs","repos_url":"https://api.github.com/users/gazay/repos","events_url":"https://api.github.com/users/gazay/events{/privacy}","received_events_url":"https://api.github.com/users/gazay/received_events","type":"User","site_admin":false},"labels":[{"id":1029400272,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcy","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-11-14T03:51:33Z","updated_at":"2020-03-24T13:55:07Z","closed_at":"2020-03-24T13:55:07Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"My idea is to separate train stages from infer stages. In train stages could be lots of common params, and it is useful to have the possibility to write, for example common `state_params` section where you can set `num_epochs` to 3 for all train stages. But in most cases, it will be meaningless for infer stage - you don't want to run your inference process three times. The same thing about criterion and other possibly \"common\" pipeline blocks of train stages - it just will not work through the inference stage as you don't have `targets`.\r\n\r\nAlso, storing train and infer stages inside one parent `stages_params` section raises problems on differentiation of logic according to stage name (some of the functions will be skipped if stage name starts with `infer`) - that could work in general. Still, it's not incorporated in all abstractions one can define in common stages section (or when implemented custom components). \r\n\r\nI can think of a couple of possible solutions:\r\n1. To use differently named parent sections - `train_stages_params` and `infer_stages_params`\r\n2. To allow several `stages_params` and differentiate them by required `mode` attribute, which could take one of `[\"train\", \"valid\", \"infer\" ...]` modes. I see it as a more flexible solution than 1, but it will bring a bit more overhead in config parsing logic with shadowy benefit (but it's maybe because I can't imagine a lot of cases when we would need more than two groups of stages).","closed_by":{"login":"gazay","id":29658,"node_id":"MDQ6VXNlcjI5NjU4","avatar_url":"https://avatars.githubusercontent.com/u/29658?v=4","gravatar_id":"","url":"https://api.github.com/users/gazay","html_url":"https://github.com/gazay","followers_url":"https://api.github.com/users/gazay/followers","following_url":"https://api.github.com/users/gazay/following{/other_user}","gists_url":"https://api.github.com/users/gazay/gists{/gist_id}","starred_url":"https://api.github.com/users/gazay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gazay/subscriptions","organizations_url":"https://api.github.com/users/gazay/orgs","repos_url":"https://api.github.com/users/gazay/repos","events_url":"https://api.github.com/users/gazay/events{/privacy}","received_events_url":"https://api.github.com/users/gazay/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/512/timeline","performed_via_github_app":null,"state_reason":"completed"}