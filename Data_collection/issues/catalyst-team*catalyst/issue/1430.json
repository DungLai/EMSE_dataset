{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/1430","repository_url":"https://api.github.com/repos/catalyst-team/catalyst","labels_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/1430/labels{/name}","comments_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/1430/comments","events_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/1430/events","html_url":"https://github.com/catalyst-team/catalyst/issues/1430","id":1376223147,"node_id":"I_kwDOCKpmxM5SB3-r","number":1430,"title":"Idea: offload all launch-related code Accelerate","user":{"login":"tadejsv","id":11489772,"node_id":"MDQ6VXNlcjExNDg5Nzcy","avatar_url":"https://avatars.githubusercontent.com/u/11489772?v=4","gravatar_id":"","url":"https://api.github.com/users/tadejsv","html_url":"https://github.com/tadejsv","followers_url":"https://api.github.com/users/tadejsv/followers","following_url":"https://api.github.com/users/tadejsv/following{/other_user}","gists_url":"https://api.github.com/users/tadejsv/gists{/gist_id}","starred_url":"https://api.github.com/users/tadejsv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tadejsv/subscriptions","organizations_url":"https://api.github.com/users/tadejsv/orgs","repos_url":"https://api.github.com/users/tadejsv/repos","events_url":"https://api.github.com/users/tadejsv/events{/privacy}","received_events_url":"https://api.github.com/users/tadejsv/received_events","type":"User","site_admin":false},"labels":[{"id":1029400272,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcy","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":1029400273,"node_id":"MDU6TGFiZWwxMDI5NDAwMjcz","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/help%20wanted","name":"help wanted","color":"008672","default":true,"description":"Extra attention is needed"},{"id":1029400277,"node_id":"MDU6TGFiZWwxMDI5NDAwMjc3","url":"https://api.github.com/repos/catalyst-team/catalyst/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":{"login":"Scitator","id":7606451,"node_id":"MDQ6VXNlcjc2MDY0NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7606451?v=4","gravatar_id":"","url":"https://api.github.com/users/Scitator","html_url":"https://github.com/Scitator","followers_url":"https://api.github.com/users/Scitator/followers","following_url":"https://api.github.com/users/Scitator/following{/other_user}","gists_url":"https://api.github.com/users/Scitator/gists{/gist_id}","starred_url":"https://api.github.com/users/Scitator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Scitator/subscriptions","organizations_url":"https://api.github.com/users/Scitator/orgs","repos_url":"https://api.github.com/users/Scitator/repos","events_url":"https://api.github.com/users/Scitator/events{/privacy}","received_events_url":"https://api.github.com/users/Scitator/received_events","type":"User","site_admin":false},"assignees":[{"login":"Scitator","id":7606451,"node_id":"MDQ6VXNlcjc2MDY0NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7606451?v=4","gravatar_id":"","url":"https://api.github.com/users/Scitator","html_url":"https://github.com/Scitator","followers_url":"https://api.github.com/users/Scitator/followers","following_url":"https://api.github.com/users/Scitator/following{/other_user}","gists_url":"https://api.github.com/users/Scitator/gists{/gist_id}","starred_url":"https://api.github.com/users/Scitator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Scitator/subscriptions","organizations_url":"https://api.github.com/users/Scitator/orgs","repos_url":"https://api.github.com/users/Scitator/repos","events_url":"https://api.github.com/users/Scitator/events{/privacy}","received_events_url":"https://api.github.com/users/Scitator/received_events","type":"User","site_admin":false},{"login":"bagxi","id":19803638,"node_id":"MDQ6VXNlcjE5ODAzNjM4","avatar_url":"https://avatars.githubusercontent.com/u/19803638?v=4","gravatar_id":"","url":"https://api.github.com/users/bagxi","html_url":"https://github.com/bagxi","followers_url":"https://api.github.com/users/bagxi/followers","following_url":"https://api.github.com/users/bagxi/following{/other_user}","gists_url":"https://api.github.com/users/bagxi/gists{/gist_id}","starred_url":"https://api.github.com/users/bagxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagxi/subscriptions","organizations_url":"https://api.github.com/users/bagxi/orgs","repos_url":"https://api.github.com/users/bagxi/repos","events_url":"https://api.github.com/users/bagxi/events{/privacy}","received_events_url":"https://api.github.com/users/bagxi/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2022-09-16T17:31:42Z","updated_at":"2022-12-21T01:50:20Z","closed_at":"2022-12-21T01:50:20Z","author_association":"NONE","active_lock_reason":null,"body":"## ðŸš€ Feature Request\r\n\r\nI propose to separate concerns between Accelerate and Catalyst: Catalyst should not try to spawn/launch anything - this should all be taken care of by `accelerate launch`. \r\n\r\nThis would also remove `ddp` related settings from `Runner`s and remove all but the cpu and gpu engine [I noticed that a similar change was implemented in Animus]. \r\n\r\n### Motivation\r\n\r\nCurrently, `accelerate launch` and Catalyst do not play nice by default - if multiple GPUs are detected, Catalyst will try to do multiple process launching itself (this can be circumvented by directly specifying gpu engine).\r\n\r\nI think it is redundant to keep this duplicated functionality, and imo it would make more sense to offload it to Accelerate, as it is very actively developed.\r\n\r\n### Additional context\r\n\r\nI guess the current design originated from a time when Accelerate was less powerful/organized than it is now, so now would be a good time to update it :)\r\n\r\nThis would be a breaking change for some users - i.e. those that used `ddp` settings from Runners or relied on the default behavior or launching multiple processes for when multiple GPUs are detected.\r\n\r\nFor `ddp` setting, we could raise an error or a warning if it is provided, explaining to the user that the new way is to launch the script using `accelerate launch`.","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catalyst-team/catalyst/issues/1430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catalyst-team/catalyst/issues/1430/timeline","performed_via_github_app":null,"state_reason":"completed"}