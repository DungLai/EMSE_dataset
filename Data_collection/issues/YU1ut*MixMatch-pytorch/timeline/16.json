[{"id":2540097564,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU0MDA5NzU2NA==","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/2540097564","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-07T13:35:16Z","performed_via_github_app":null},{"id":2540097567,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1NDAwOTc1Njc=","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/2540097567","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-07T13:35:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/519148492","html_url":"https://github.com/YU1ut/MixMatch-pytorch/issues/16#issuecomment-519148492","issue_url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/16","id":519148492,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE0ODQ5Mg==","user":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"created_at":"2019-08-07T15:29:16Z","updated_at":"2019-08-08T04:08:32Z","author_association":"OWNER","body":"Good questions.\r\nFirst, `param.data.mul_(1 - self.wd)` is weight decay.It is also used in the official code (https://github.com/google-research/mixmatch/blob/master/mixmatch.py#L92), but it is different from the normal weight decay of pytorch (which is using L2 penalty). So I implemented it directly in the calculation of EMA.\r\nSecondly, Mean-Teacher only uses `model.parameters()` to update EMA model but `model.parameters()` do not contain the stats of BatchNorm. You can check it by printing the parameters of BatchNorm in model and EMA model. Mean-Teacher works well because they also feed samples into the EMA model during training which means EMA model can get correct mean and std, but in this code no samples are passed through EMA model in training so I copy the parameters of BatchNorm by `model.state_dict()` at the end of each epoch to solve this problem.\r\nThe gap of accuracy maybe come from other factors like Adam vs SGD, learning rate scheduling and other hyper-parameters.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/519148492/reactions","total_count":11,"+1":11,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/519346417","html_url":"https://github.com/YU1ut/MixMatch-pytorch/issues/16#issuecomment-519346417","issue_url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/16","id":519346417,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM0NjQxNw==","user":{"login":"sanyouwu","id":32358325,"node_id":"MDQ6VXNlcjMyMzU4MzI1","avatar_url":"https://avatars.githubusercontent.com/u/32358325?v=4","gravatar_id":"","url":"https://api.github.com/users/sanyouwu","html_url":"https://github.com/sanyouwu","followers_url":"https://api.github.com/users/sanyouwu/followers","following_url":"https://api.github.com/users/sanyouwu/following{/other_user}","gists_url":"https://api.github.com/users/sanyouwu/gists{/gist_id}","starred_url":"https://api.github.com/users/sanyouwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanyouwu/subscriptions","organizations_url":"https://api.github.com/users/sanyouwu/orgs","repos_url":"https://api.github.com/users/sanyouwu/repos","events_url":"https://api.github.com/users/sanyouwu/events{/privacy}","received_events_url":"https://api.github.com/users/sanyouwu/received_events","type":"User","site_admin":false},"created_at":"2019-08-08T03:16:13Z","updated_at":"2019-08-08T03:16:13Z","author_association":"NONE","body":"Great, thank you!\r\n@YU1ut ","reactions":{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/519346417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sanyouwu","id":32358325,"node_id":"MDQ6VXNlcjMyMzU4MzI1","avatar_url":"https://avatars.githubusercontent.com/u/32358325?v=4","gravatar_id":"","url":"https://api.github.com/users/sanyouwu","html_url":"https://github.com/sanyouwu","followers_url":"https://api.github.com/users/sanyouwu/followers","following_url":"https://api.github.com/users/sanyouwu/following{/other_user}","gists_url":"https://api.github.com/users/sanyouwu/gists{/gist_id}","starred_url":"https://api.github.com/users/sanyouwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanyouwu/subscriptions","organizations_url":"https://api.github.com/users/sanyouwu/orgs","repos_url":"https://api.github.com/users/sanyouwu/repos","events_url":"https://api.github.com/users/sanyouwu/events{/privacy}","received_events_url":"https://api.github.com/users/sanyouwu/received_events","type":"User","site_admin":false}},{"id":2541948146,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU0MTk0ODE0Ng==","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/2541948146","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-08T03:16:14Z","performed_via_github_app":null},{"id":2541948147,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1NDE5NDgxNDc=","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/2541948147","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-08T03:16:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/520856733","html_url":"https://github.com/YU1ut/MixMatch-pytorch/issues/16#issuecomment-520856733","issue_url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/16","id":520856733,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg1NjczMw==","user":{"login":"xmengli","id":19164360,"node_id":"MDQ6VXNlcjE5MTY0MzYw","avatar_url":"https://avatars.githubusercontent.com/u/19164360?v=4","gravatar_id":"","url":"https://api.github.com/users/xmengli","html_url":"https://github.com/xmengli","followers_url":"https://api.github.com/users/xmengli/followers","following_url":"https://api.github.com/users/xmengli/following{/other_user}","gists_url":"https://api.github.com/users/xmengli/gists{/gist_id}","starred_url":"https://api.github.com/users/xmengli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmengli/subscriptions","organizations_url":"https://api.github.com/users/xmengli/orgs","repos_url":"https://api.github.com/users/xmengli/repos","events_url":"https://api.github.com/users/xmengli/events{/privacy}","received_events_url":"https://api.github.com/users/xmengli/received_events","type":"User","site_admin":false},"created_at":"2019-08-13T14:24:05Z","updated_at":"2019-08-13T14:24:05Z","author_association":"NONE","body":"@YU1ut \r\n\r\nThanks for your explanation. I noticed that you copy the BN parameters from self.tmp_model instead of self.model. Could you please explain why is this?  \r\n\r\n```\r\n            for ema_param, tmp_param in zip(self.ema_model.parameters(), self.tmp_model.parameters()):\r\n                tmp_param.data.copy_(ema_param.data.detach())\r\n\r\n            self.ema_model.load_state_dict(self.model.state_dict())\r\n\r\n            for ema_param, tmp_param in zip(self.ema_model.parameters(), self.tmp_model.parameters()):\r\n                ema_param.data.copy_(tmp_param.data.detach())\r\n```\r\n    ","reactions":{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/520856733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xmengli","id":19164360,"node_id":"MDQ6VXNlcjE5MTY0MzYw","avatar_url":"https://avatars.githubusercontent.com/u/19164360?v=4","gravatar_id":"","url":"https://api.github.com/users/xmengli","html_url":"https://github.com/xmengli","followers_url":"https://api.github.com/users/xmengli/followers","following_url":"https://api.github.com/users/xmengli/following{/other_user}","gists_url":"https://api.github.com/users/xmengli/gists{/gist_id}","starred_url":"https://api.github.com/users/xmengli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmengli/subscriptions","organizations_url":"https://api.github.com/users/xmengli/orgs","repos_url":"https://api.github.com/users/xmengli/repos","events_url":"https://api.github.com/users/xmengli/events{/privacy}","received_events_url":"https://api.github.com/users/xmengli/received_events","type":"User","site_admin":false}},{"id":2553564530,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU1MzU2NDUzMA==","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/2553564530","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-13T14:24:05Z","performed_via_github_app":null},{"id":2553564531,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1NTM1NjQ1MzE=","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/2553564531","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-13T14:24:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/533034568","html_url":"https://github.com/YU1ut/MixMatch-pytorch/issues/16#issuecomment-533034568","issue_url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/16","id":533034568,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzAzNDU2OA==","user":{"login":"atinghosh","id":35990830,"node_id":"MDQ6VXNlcjM1OTkwODMw","avatar_url":"https://avatars.githubusercontent.com/u/35990830?v=4","gravatar_id":"","url":"https://api.github.com/users/atinghosh","html_url":"https://github.com/atinghosh","followers_url":"https://api.github.com/users/atinghosh/followers","following_url":"https://api.github.com/users/atinghosh/following{/other_user}","gists_url":"https://api.github.com/users/atinghosh/gists{/gist_id}","starred_url":"https://api.github.com/users/atinghosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atinghosh/subscriptions","organizations_url":"https://api.github.com/users/atinghosh/orgs","repos_url":"https://api.github.com/users/atinghosh/repos","events_url":"https://api.github.com/users/atinghosh/events{/privacy}","received_events_url":"https://api.github.com/users/atinghosh/received_events","type":"User","site_admin":false},"created_at":"2019-09-19T08:52:23Z","updated_at":"2019-09-19T08:56:40Z","author_association":"NONE","body":"@xmengli999 \r\n\r\nHe only wants to copy batch norm statistic (running mean and std which is crucial for inference) from self.model (current model)  to ema_model at the end of every epoch. \r\n\r\nThis is because batch normalization parameters such as running_mean and running_var are not included in model.parameters(). However, they appear in the model[‘state_dict’].\r\n\r\nI think for ema_model BN parameter should also be exponentially moving averaged? since, BN parameter of tmp_model = BN parameter of ema_model. ","reactions":{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/533034568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"atinghosh","id":35990830,"node_id":"MDQ6VXNlcjM1OTkwODMw","avatar_url":"https://avatars.githubusercontent.com/u/35990830?v=4","gravatar_id":"","url":"https://api.github.com/users/atinghosh","html_url":"https://github.com/atinghosh","followers_url":"https://api.github.com/users/atinghosh/followers","following_url":"https://api.github.com/users/atinghosh/following{/other_user}","gists_url":"https://api.github.com/users/atinghosh/gists{/gist_id}","starred_url":"https://api.github.com/users/atinghosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atinghosh/subscriptions","organizations_url":"https://api.github.com/users/atinghosh/orgs","repos_url":"https://api.github.com/users/atinghosh/repos","events_url":"https://api.github.com/users/atinghosh/events{/privacy}","received_events_url":"https://api.github.com/users/atinghosh/received_events","type":"User","site_admin":false}},{"id":2646165942,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjY0NjE2NTk0Mg==","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/2646165942","actor":{"login":"xmengli","id":19164360,"node_id":"MDQ6VXNlcjE5MTY0MzYw","avatar_url":"https://avatars.githubusercontent.com/u/19164360?v=4","gravatar_id":"","url":"https://api.github.com/users/xmengli","html_url":"https://github.com/xmengli","followers_url":"https://api.github.com/users/xmengli/followers","following_url":"https://api.github.com/users/xmengli/following{/other_user}","gists_url":"https://api.github.com/users/xmengli/gists{/gist_id}","starred_url":"https://api.github.com/users/xmengli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmengli/subscriptions","organizations_url":"https://api.github.com/users/xmengli/orgs","repos_url":"https://api.github.com/users/xmengli/repos","events_url":"https://api.github.com/users/xmengli/events{/privacy}","received_events_url":"https://api.github.com/users/xmengli/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-09-19T08:52:23Z","performed_via_github_app":null},{"id":2646165944,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2NDYxNjU5NDQ=","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/2646165944","actor":{"login":"xmengli","id":19164360,"node_id":"MDQ6VXNlcjE5MTY0MzYw","avatar_url":"https://avatars.githubusercontent.com/u/19164360?v=4","gravatar_id":"","url":"https://api.github.com/users/xmengli","html_url":"https://github.com/xmengli","followers_url":"https://api.github.com/users/xmengli/followers","following_url":"https://api.github.com/users/xmengli/following{/other_user}","gists_url":"https://api.github.com/users/xmengli/gists{/gist_id}","starred_url":"https://api.github.com/users/xmengli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmengli/subscriptions","organizations_url":"https://api.github.com/users/xmengli/orgs","repos_url":"https://api.github.com/users/xmengli/repos","events_url":"https://api.github.com/users/xmengli/events{/privacy}","received_events_url":"https://api.github.com/users/xmengli/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-09-19T08:52:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/626305855","html_url":"https://github.com/YU1ut/MixMatch-pytorch/issues/16#issuecomment-626305855","issue_url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/16","id":626305855,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjMwNTg1NQ==","user":{"login":"stellaywu","id":10345436,"node_id":"MDQ6VXNlcjEwMzQ1NDM2","avatar_url":"https://avatars.githubusercontent.com/u/10345436?v=4","gravatar_id":"","url":"https://api.github.com/users/stellaywu","html_url":"https://github.com/stellaywu","followers_url":"https://api.github.com/users/stellaywu/followers","following_url":"https://api.github.com/users/stellaywu/following{/other_user}","gists_url":"https://api.github.com/users/stellaywu/gists{/gist_id}","starred_url":"https://api.github.com/users/stellaywu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stellaywu/subscriptions","organizations_url":"https://api.github.com/users/stellaywu/orgs","repos_url":"https://api.github.com/users/stellaywu/repos","events_url":"https://api.github.com/users/stellaywu/events{/privacy}","received_events_url":"https://api.github.com/users/stellaywu/received_events","type":"User","site_admin":false},"created_at":"2020-05-10T10:29:09Z","updated_at":"2020-05-10T10:36:05Z","author_association":"NONE","body":"@YU1ut  thanks for the implementation ! a few more questions on WeightEMA class:\r\n\r\n1. in the init part of the class there's\r\n```\r\nfor param, ema_param in zip(self.params, self.ema_params):\r\n            param.data.copy_(ema_param.data)\r\n```\r\nWhat does it do? \r\nI'm thinking it's copying ema_param.data to param.data for each parameter, but it's executing on param.data, doesn't change the values in self.params and self.ema_params . \r\n\r\n2.  WeightEMA does two things: 1) updates ema_param with param and 2) add  a weight decay on param on top of Adam optimizer ? (since optimizer.step() is called before calling WeightEMA in train() ) Why does weight decay happen after ema_param is calculated with the pre-decayed param values?\r\n\r\nThanks! ","reactions":{"url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/comments/626305855/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stellaywu","id":10345436,"node_id":"MDQ6VXNlcjEwMzQ1NDM2","avatar_url":"https://avatars.githubusercontent.com/u/10345436?v=4","gravatar_id":"","url":"https://api.github.com/users/stellaywu","html_url":"https://github.com/stellaywu","followers_url":"https://api.github.com/users/stellaywu/followers","following_url":"https://api.github.com/users/stellaywu/following{/other_user}","gists_url":"https://api.github.com/users/stellaywu/gists{/gist_id}","starred_url":"https://api.github.com/users/stellaywu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stellaywu/subscriptions","organizations_url":"https://api.github.com/users/stellaywu/orgs","repos_url":"https://api.github.com/users/stellaywu/repos","events_url":"https://api.github.com/users/stellaywu/events{/privacy}","received_events_url":"https://api.github.com/users/stellaywu/received_events","type":"User","site_admin":false}},{"id":3320188460,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyMDE4ODQ2MA==","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/3320188460","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-10T10:29:09Z","performed_via_github_app":null},{"id":3320188462,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjAxODg0NjI=","url":"https://api.github.com/repos/YU1ut/MixMatch-pytorch/issues/events/3320188462","actor":{"login":"YU1ut","id":19549807,"node_id":"MDQ6VXNlcjE5NTQ5ODA3","avatar_url":"https://avatars.githubusercontent.com/u/19549807?v=4","gravatar_id":"","url":"https://api.github.com/users/YU1ut","html_url":"https://github.com/YU1ut","followers_url":"https://api.github.com/users/YU1ut/followers","following_url":"https://api.github.com/users/YU1ut/following{/other_user}","gists_url":"https://api.github.com/users/YU1ut/gists{/gist_id}","starred_url":"https://api.github.com/users/YU1ut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YU1ut/subscriptions","organizations_url":"https://api.github.com/users/YU1ut/orgs","repos_url":"https://api.github.com/users/YU1ut/repos","events_url":"https://api.github.com/users/YU1ut/events{/privacy}","received_events_url":"https://api.github.com/users/YU1ut/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-10T10:29:09Z","performed_via_github_app":null}]