[{"id":4834180577,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4MzQxODA1Nzc=","url":"https://api.github.com/repos/mikgroup/sigpy/issues/events/4834180577","actor":{"login":"ad12","id":12801331,"node_id":"MDQ6VXNlcjEyODAxMzMx","avatar_url":"https://avatars.githubusercontent.com/u/12801331?v=4","gravatar_id":"","url":"https://api.github.com/users/ad12","html_url":"https://github.com/ad12","followers_url":"https://api.github.com/users/ad12/followers","following_url":"https://api.github.com/users/ad12/following{/other_user}","gists_url":"https://api.github.com/users/ad12/gists{/gist_id}","starred_url":"https://api.github.com/users/ad12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ad12/subscriptions","organizations_url":"https://api.github.com/users/ad12/orgs","repos_url":"https://api.github.com/users/ad12/repos","events_url":"https://api.github.com/users/ad12/events{/privacy}","received_events_url":"https://api.github.com/users/ad12/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-02T21:26:34Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/854093685","html_url":"https://github.com/mikgroup/sigpy/issues/83#issuecomment-854093685","issue_url":"https://api.github.com/repos/mikgroup/sigpy/issues/83","id":854093685,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDA5MzY4NQ==","user":{"login":"kmjohnson3","id":1915541,"node_id":"MDQ6VXNlcjE5MTU1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1915541?v=4","gravatar_id":"","url":"https://api.github.com/users/kmjohnson3","html_url":"https://github.com/kmjohnson3","followers_url":"https://api.github.com/users/kmjohnson3/followers","following_url":"https://api.github.com/users/kmjohnson3/following{/other_user}","gists_url":"https://api.github.com/users/kmjohnson3/gists{/gist_id}","starred_url":"https://api.github.com/users/kmjohnson3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmjohnson3/subscriptions","organizations_url":"https://api.github.com/users/kmjohnson3/orgs","repos_url":"https://api.github.com/users/kmjohnson3/repos","events_url":"https://api.github.com/users/kmjohnson3/events{/privacy}","received_events_url":"https://api.github.com/users/kmjohnson3/received_events","type":"User","site_admin":false},"created_at":"2021-06-03T18:41:29Z","updated_at":"2021-06-03T18:41:29Z","author_association":"CONTRIBUTOR","body":"I did briefly look at your code and notice a couple of things which might point to this error. \r\n- The code uses np.all( ) but you should probably be using np.allclose. \r\n- The error is quite small, relative to the signal\r\n\r\nMy first thought is that this may be due to a parallelization issue. With floating point addition/sumation, there can be differences in the floating point error depending on the order of sums (e.g. (A+B)+C != A + ( B + C) ). ","reactions":{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/854093685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kmjohnson3","id":1915541,"node_id":"MDQ6VXNlcjE5MTU1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1915541?v=4","gravatar_id":"","url":"https://api.github.com/users/kmjohnson3","html_url":"https://github.com/kmjohnson3","followers_url":"https://api.github.com/users/kmjohnson3/followers","following_url":"https://api.github.com/users/kmjohnson3/following{/other_user}","gists_url":"https://api.github.com/users/kmjohnson3/gists{/gist_id}","starred_url":"https://api.github.com/users/kmjohnson3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmjohnson3/subscriptions","organizations_url":"https://api.github.com/users/kmjohnson3/orgs","repos_url":"https://api.github.com/users/kmjohnson3/repos","events_url":"https://api.github.com/users/kmjohnson3/events{/privacy}","received_events_url":"https://api.github.com/users/kmjohnson3/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/854202708","html_url":"https://github.com/mikgroup/sigpy/issues/83#issuecomment-854202708","issue_url":"https://api.github.com/repos/mikgroup/sigpy/issues/83","id":854202708,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDIwMjcwOA==","user":{"login":"ad12","id":12801331,"node_id":"MDQ6VXNlcjEyODAxMzMx","avatar_url":"https://avatars.githubusercontent.com/u/12801331?v=4","gravatar_id":"","url":"https://api.github.com/users/ad12","html_url":"https://github.com/ad12","followers_url":"https://api.github.com/users/ad12/followers","following_url":"https://api.github.com/users/ad12/following{/other_user}","gists_url":"https://api.github.com/users/ad12/gists{/gist_id}","starred_url":"https://api.github.com/users/ad12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ad12/subscriptions","organizations_url":"https://api.github.com/users/ad12/orgs","repos_url":"https://api.github.com/users/ad12/repos","events_url":"https://api.github.com/users/ad12/events{/privacy}","received_events_url":"https://api.github.com/users/ad12/received_events","type":"User","site_admin":false},"created_at":"2021-06-03T21:47:19Z","updated_at":"2021-06-10T19:32:50Z","author_association":"CONTRIBUTOR","body":"Great points - adding some thoughts below\r\n\r\n1. we tried with `np.allclose` earlier, and we get the same issue even with higher relative and absolute tolerances (1e-4). Given that complex128 can represent floating point numbers with precision of 1e-15, I would think that we wouldnt see this with a 1e-4 tolerance.\r\n2. On another note, the `espirit` calibration would have these floating point operations, in which case we would expect to see some degree of random behavior; however, we consistently get reproducible results with espirit. This is also the case for a few other datasets we have tested locally.\r\n3. The reproducibility issues with Jsense are also seen when testing this on the cpu (i.e. `sp.Device(-1)`), so the non-deterministic behavior that is sometimes characteristic of gpu ops may not be the culprit","reactions":{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/854202708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ad12","id":12801331,"node_id":"MDQ6VXNlcjEyODAxMzMx","avatar_url":"https://avatars.githubusercontent.com/u/12801331?v=4","gravatar_id":"","url":"https://api.github.com/users/ad12","html_url":"https://github.com/ad12","followers_url":"https://api.github.com/users/ad12/followers","following_url":"https://api.github.com/users/ad12/following{/other_user}","gists_url":"https://api.github.com/users/ad12/gists{/gist_id}","starred_url":"https://api.github.com/users/ad12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ad12/subscriptions","organizations_url":"https://api.github.com/users/ad12/orgs","repos_url":"https://api.github.com/users/ad12/repos","events_url":"https://api.github.com/users/ad12/events{/privacy}","received_events_url":"https://api.github.com/users/ad12/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/872583110","html_url":"https://github.com/mikgroup/sigpy/issues/83#issuecomment-872583110","issue_url":"https://api.github.com/repos/mikgroup/sigpy/issues/83","id":872583110,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjU4MzExMA==","user":{"login":"frankong","id":9143405,"node_id":"MDQ6VXNlcjkxNDM0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/9143405?v=4","gravatar_id":"","url":"https://api.github.com/users/frankong","html_url":"https://github.com/frankong","followers_url":"https://api.github.com/users/frankong/followers","following_url":"https://api.github.com/users/frankong/following{/other_user}","gists_url":"https://api.github.com/users/frankong/gists{/gist_id}","starred_url":"https://api.github.com/users/frankong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frankong/subscriptions","organizations_url":"https://api.github.com/users/frankong/orgs","repos_url":"https://api.github.com/users/frankong/repos","events_url":"https://api.github.com/users/frankong/events{/privacy}","received_events_url":"https://api.github.com/users/frankong/received_events","type":"User","site_admin":false},"created_at":"2021-07-01T22:15:16Z","updated_at":"2021-07-01T22:16:05Z","author_association":"MEMBER","body":"Hi, I finally get the chance to run through the notebook. I think the errors are within reasonable tolerance. In particular, when I look at element-wise difference I got `np.abs(maps - old_maps).max():  9.840061e-05`\r\n\r\nBecause we are doing a lot of FFTs and iFFTs over data with high dynamic range (k-space centers are orders of magnitude larger than outer k-space), I think ~1e-4 is reasonable for normalized sensitivity maps (max is 1). For reproducibility, you can set a higher threshold, say 1e-3. ","reactions":{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/872583110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"frankong","id":9143405,"node_id":"MDQ6VXNlcjkxNDM0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/9143405?v=4","gravatar_id":"","url":"https://api.github.com/users/frankong","html_url":"https://github.com/frankong","followers_url":"https://api.github.com/users/frankong/followers","following_url":"https://api.github.com/users/frankong/following{/other_user}","gists_url":"https://api.github.com/users/frankong/gists{/gist_id}","starred_url":"https://api.github.com/users/frankong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frankong/subscriptions","organizations_url":"https://api.github.com/users/frankong/orgs","repos_url":"https://api.github.com/users/frankong/repos","events_url":"https://api.github.com/users/frankong/events{/privacy}","received_events_url":"https://api.github.com/users/frankong/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/873246008","html_url":"https://github.com/mikgroup/sigpy/issues/83#issuecomment-873246008","issue_url":"https://api.github.com/repos/mikgroup/sigpy/issues/83","id":873246008,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzI0NjAwOA==","user":{"login":"ad12","id":12801331,"node_id":"MDQ6VXNlcjEyODAxMzMx","avatar_url":"https://avatars.githubusercontent.com/u/12801331?v=4","gravatar_id":"","url":"https://api.github.com/users/ad12","html_url":"https://github.com/ad12","followers_url":"https://api.github.com/users/ad12/followers","following_url":"https://api.github.com/users/ad12/following{/other_user}","gists_url":"https://api.github.com/users/ad12/gists{/gist_id}","starred_url":"https://api.github.com/users/ad12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ad12/subscriptions","organizations_url":"https://api.github.com/users/ad12/orgs","repos_url":"https://api.github.com/users/ad12/repos","events_url":"https://api.github.com/users/ad12/events{/privacy}","received_events_url":"https://api.github.com/users/ad12/received_events","type":"User","site_admin":false},"created_at":"2021-07-02T20:39:46Z","updated_at":"2021-07-02T20:39:46Z","author_association":"CONTRIBUTOR","body":"Makes sense - could be good to add this as a note in the method. I can make a small PR for that","reactions":{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/873246008/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ad12","id":12801331,"node_id":"MDQ6VXNlcjEyODAxMzMx","avatar_url":"https://avatars.githubusercontent.com/u/12801331?v=4","gravatar_id":"","url":"https://api.github.com/users/ad12","html_url":"https://github.com/ad12","followers_url":"https://api.github.com/users/ad12/followers","following_url":"https://api.github.com/users/ad12/following{/other_user}","gists_url":"https://api.github.com/users/ad12/gists{/gist_id}","starred_url":"https://api.github.com/users/ad12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ad12/subscriptions","organizations_url":"https://api.github.com/users/ad12/orgs","repos_url":"https://api.github.com/users/ad12/repos","events_url":"https://api.github.com/users/ad12/events{/privacy}","received_events_url":"https://api.github.com/users/ad12/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/901498943","html_url":"https://github.com/mikgroup/sigpy/issues/83#issuecomment-901498943","issue_url":"https://api.github.com/repos/mikgroup/sigpy/issues/83","id":901498943,"node_id":"IC_kwDOCFKrHc41u8g_","user":{"login":"sidward","id":7364812,"node_id":"MDQ6VXNlcjczNjQ4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/7364812?v=4","gravatar_id":"","url":"https://api.github.com/users/sidward","html_url":"https://github.com/sidward","followers_url":"https://api.github.com/users/sidward/followers","following_url":"https://api.github.com/users/sidward/following{/other_user}","gists_url":"https://api.github.com/users/sidward/gists{/gist_id}","starred_url":"https://api.github.com/users/sidward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidward/subscriptions","organizations_url":"https://api.github.com/users/sidward/orgs","repos_url":"https://api.github.com/users/sidward/repos","events_url":"https://api.github.com/users/sidward/events{/privacy}","received_events_url":"https://api.github.com/users/sidward/received_events","type":"User","site_admin":false},"created_at":"2021-08-18T23:38:11Z","updated_at":"2021-08-18T23:38:11Z","author_association":"COLLABORATOR","body":"@ad12 Please refer to this when you make a PR! I'm closing this issue for now.","reactions":{"url":"https://api.github.com/repos/mikgroup/sigpy/issues/comments/901498943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sidward","id":7364812,"node_id":"MDQ6VXNlcjczNjQ4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/7364812?v=4","gravatar_id":"","url":"https://api.github.com/users/sidward","html_url":"https://github.com/sidward","followers_url":"https://api.github.com/users/sidward/followers","following_url":"https://api.github.com/users/sidward/following{/other_user}","gists_url":"https://api.github.com/users/sidward/gists{/gist_id}","starred_url":"https://api.github.com/users/sidward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidward/subscriptions","organizations_url":"https://api.github.com/users/sidward/orgs","repos_url":"https://api.github.com/users/sidward/repos","events_url":"https://api.github.com/users/sidward/events{/privacy}","received_events_url":"https://api.github.com/users/sidward/received_events","type":"User","site_admin":false}},{"id":5177620148,"node_id":"MDExOkNsb3NlZEV2ZW50NTE3NzYyMDE0OA==","url":"https://api.github.com/repos/mikgroup/sigpy/issues/events/5177620148","actor":{"login":"sidward","id":7364812,"node_id":"MDQ6VXNlcjczNjQ4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/7364812?v=4","gravatar_id":"","url":"https://api.github.com/users/sidward","html_url":"https://github.com/sidward","followers_url":"https://api.github.com/users/sidward/followers","following_url":"https://api.github.com/users/sidward/following{/other_user}","gists_url":"https://api.github.com/users/sidward/gists{/gist_id}","starred_url":"https://api.github.com/users/sidward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidward/subscriptions","organizations_url":"https://api.github.com/users/sidward/orgs","repos_url":"https://api.github.com/users/sidward/repos","events_url":"https://api.github.com/users/sidward/events{/privacy}","received_events_url":"https://api.github.com/users/sidward/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-08-18T23:38:11Z","state_reason":null,"performed_via_github_app":null},{"id":5177620162,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTE3NzYyMDE2Mg==","url":"https://api.github.com/repos/mikgroup/sigpy/issues/events/5177620162","actor":{"login":"ad12","id":12801331,"node_id":"MDQ6VXNlcjEyODAxMzMx","avatar_url":"https://avatars.githubusercontent.com/u/12801331?v=4","gravatar_id":"","url":"https://api.github.com/users/ad12","html_url":"https://github.com/ad12","followers_url":"https://api.github.com/users/ad12/followers","following_url":"https://api.github.com/users/ad12/following{/other_user}","gists_url":"https://api.github.com/users/ad12/gists{/gist_id}","starred_url":"https://api.github.com/users/ad12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ad12/subscriptions","organizations_url":"https://api.github.com/users/ad12/orgs","repos_url":"https://api.github.com/users/ad12/repos","events_url":"https://api.github.com/users/ad12/events{/privacy}","received_events_url":"https://api.github.com/users/ad12/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-08-18T23:38:11Z","performed_via_github_app":null},{"id":5177620163,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUxNzc2MjAxNjM=","url":"https://api.github.com/repos/mikgroup/sigpy/issues/events/5177620163","actor":{"login":"ad12","id":12801331,"node_id":"MDQ6VXNlcjEyODAxMzMx","avatar_url":"https://avatars.githubusercontent.com/u/12801331?v=4","gravatar_id":"","url":"https://api.github.com/users/ad12","html_url":"https://github.com/ad12","followers_url":"https://api.github.com/users/ad12/followers","following_url":"https://api.github.com/users/ad12/following{/other_user}","gists_url":"https://api.github.com/users/ad12/gists{/gist_id}","starred_url":"https://api.github.com/users/ad12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ad12/subscriptions","organizations_url":"https://api.github.com/users/ad12/orgs","repos_url":"https://api.github.com/users/ad12/repos","events_url":"https://api.github.com/users/ad12/events{/privacy}","received_events_url":"https://api.github.com/users/ad12/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-08-18T23:38:11Z","performed_via_github_app":null}]