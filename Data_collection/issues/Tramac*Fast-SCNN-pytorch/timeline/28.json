[{"id":3144756453,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzE0NDc1NjQ1Mw==","url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/events/3144756453","actor":{"login":"Tramac","id":22740819,"node_id":"MDQ6VXNlcjIyNzQwODE5","avatar_url":"https://avatars.githubusercontent.com/u/22740819?v=4","gravatar_id":"","url":"https://api.github.com/users/Tramac","html_url":"https://github.com/Tramac","followers_url":"https://api.github.com/users/Tramac/followers","following_url":"https://api.github.com/users/Tramac/following{/other_user}","gists_url":"https://api.github.com/users/Tramac/gists{/gist_id}","starred_url":"https://api.github.com/users/Tramac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tramac/subscriptions","organizations_url":"https://api.github.com/users/Tramac/orgs","repos_url":"https://api.github.com/users/Tramac/repos","events_url":"https://api.github.com/users/Tramac/events{/privacy}","received_events_url":"https://api.github.com/users/Tramac/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-19T09:34:43Z","performed_via_github_app":null},{"id":3144756454,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxNDQ3NTY0NTQ=","url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/events/3144756454","actor":{"login":"Tramac","id":22740819,"node_id":"MDQ6VXNlcjIyNzQwODE5","avatar_url":"https://avatars.githubusercontent.com/u/22740819?v=4","gravatar_id":"","url":"https://api.github.com/users/Tramac","html_url":"https://github.com/Tramac","followers_url":"https://api.github.com/users/Tramac/followers","following_url":"https://api.github.com/users/Tramac/following{/other_user}","gists_url":"https://api.github.com/users/Tramac/gists{/gist_id}","starred_url":"https://api.github.com/users/Tramac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tramac/subscriptions","organizations_url":"https://api.github.com/users/Tramac/orgs","repos_url":"https://api.github.com/users/Tramac/repos","events_url":"https://api.github.com/users/Tramac/events{/privacy}","received_events_url":"https://api.github.com/users/Tramac/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-19T09:34:43Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/comments/894041069","html_url":"https://github.com/Tramac/Fast-SCNN-pytorch/issues/28#issuecomment-894041069","issue_url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/28","id":894041069,"node_id":"IC_kwDOCpYb2c41Sfvt","user":{"login":"Bidski","id":2320984,"node_id":"MDQ6VXNlcjIzMjA5ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/2320984?v=4","gravatar_id":"","url":"https://api.github.com/users/Bidski","html_url":"https://github.com/Bidski","followers_url":"https://api.github.com/users/Bidski/followers","following_url":"https://api.github.com/users/Bidski/following{/other_user}","gists_url":"https://api.github.com/users/Bidski/gists{/gist_id}","starred_url":"https://api.github.com/users/Bidski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bidski/subscriptions","organizations_url":"https://api.github.com/users/Bidski/orgs","repos_url":"https://api.github.com/users/Bidski/repos","events_url":"https://api.github.com/users/Bidski/events{/privacy}","received_events_url":"https://api.github.com/users/Bidski/received_events","type":"User","site_admin":false},"created_at":"2021-08-06T06:44:35Z","updated_at":"2021-08-06T06:44:35Z","author_association":"NONE","body":"I am also encountering this issue","reactions":{"url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/comments/894041069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Bidski","id":2320984,"node_id":"MDQ6VXNlcjIzMjA5ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/2320984?v=4","gravatar_id":"","url":"https://api.github.com/users/Bidski","html_url":"https://github.com/Bidski","followers_url":"https://api.github.com/users/Bidski/followers","following_url":"https://api.github.com/users/Bidski/following{/other_user}","gists_url":"https://api.github.com/users/Bidski/gists{/gist_id}","starred_url":"https://api.github.com/users/Bidski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bidski/subscriptions","organizations_url":"https://api.github.com/users/Bidski/orgs","repos_url":"https://api.github.com/users/Bidski/repos","events_url":"https://api.github.com/users/Bidski/events{/privacy}","received_events_url":"https://api.github.com/users/Bidski/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/comments/919457181","html_url":"https://github.com/Tramac/Fast-SCNN-pytorch/issues/28#issuecomment-919457181","issue_url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/28","id":919457181,"node_id":"IC_kwDOCpYb2c42zc2d","user":{"login":"SarBH","id":30393837,"node_id":"MDQ6VXNlcjMwMzkzODM3","avatar_url":"https://avatars.githubusercontent.com/u/30393837?v=4","gravatar_id":"","url":"https://api.github.com/users/SarBH","html_url":"https://github.com/SarBH","followers_url":"https://api.github.com/users/SarBH/followers","following_url":"https://api.github.com/users/SarBH/following{/other_user}","gists_url":"https://api.github.com/users/SarBH/gists{/gist_id}","starred_url":"https://api.github.com/users/SarBH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SarBH/subscriptions","organizations_url":"https://api.github.com/users/SarBH/orgs","repos_url":"https://api.github.com/users/SarBH/repos","events_url":"https://api.github.com/users/SarBH/events{/privacy}","received_events_url":"https://api.github.com/users/SarBH/received_events","type":"User","site_admin":false},"created_at":"2021-09-14T19:37:50Z","updated_at":"2021-09-14T19:37:50Z","author_association":"NONE","body":"Same issue. To debug, I ran timing on each portion of training, I was able to identify the source of the largest delay:\r\nThe computation of the SoftmaxCrossEntropyOHEMLoss occurs on CPU:\r\n https://github.com/Tramac/Fast-SCNN-pytorch/blob/0638517d359ae1664a27dfb2cd1780a40a06c465/utils/loss.py#L60\r\n\r\n\r\nOn my workstation and my training data, the training is taking ~1.1 seconds/image. The execution of the `forward` method in `class SoftmaxCrossEntropyOHEMLoss(nn.Module)` alone accounts for ~60% of that duration.\r\n\r\nHas anyone come up with a more efficient implementation of this OHEM loss? Possibly translating the ops from numpy to torch to be able to run on GPU?","reactions":{"url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/comments/919457181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SarBH","id":30393837,"node_id":"MDQ6VXNlcjMwMzkzODM3","avatar_url":"https://avatars.githubusercontent.com/u/30393837?v=4","gravatar_id":"","url":"https://api.github.com/users/SarBH","html_url":"https://github.com/SarBH","followers_url":"https://api.github.com/users/SarBH/followers","following_url":"https://api.github.com/users/SarBH/following{/other_user}","gists_url":"https://api.github.com/users/SarBH/gists{/gist_id}","starred_url":"https://api.github.com/users/SarBH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SarBH/subscriptions","organizations_url":"https://api.github.com/users/SarBH/orgs","repos_url":"https://api.github.com/users/SarBH/repos","events_url":"https://api.github.com/users/SarBH/events{/privacy}","received_events_url":"https://api.github.com/users/SarBH/received_events","type":"User","site_admin":false}}]