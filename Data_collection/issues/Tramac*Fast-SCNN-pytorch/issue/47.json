{"url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/47","repository_url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch","labels_url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/47/labels{/name}","comments_url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/47/comments","events_url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/47/events","html_url":"https://github.com/Tramac/Fast-SCNN-pytorch/issues/47","id":821729129,"node_id":"MDU6SXNzdWU4MjE3MjkxMjk=","number":47,"title":"RuntimeError: CUDA out of memory when run `eval.py`","user":{"login":"yanzhou-li","id":52486096,"node_id":"MDQ6VXNlcjUyNDg2MDk2","avatar_url":"https://avatars.githubusercontent.com/u/52486096?v=4","gravatar_id":"","url":"https://api.github.com/users/yanzhou-li","html_url":"https://github.com/yanzhou-li","followers_url":"https://api.github.com/users/yanzhou-li/followers","following_url":"https://api.github.com/users/yanzhou-li/following{/other_user}","gists_url":"https://api.github.com/users/yanzhou-li/gists{/gist_id}","starred_url":"https://api.github.com/users/yanzhou-li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanzhou-li/subscriptions","organizations_url":"https://api.github.com/users/yanzhou-li/orgs","repos_url":"https://api.github.com/users/yanzhou-li/repos","events_url":"https://api.github.com/users/yanzhou-li/events{/privacy}","received_events_url":"https://api.github.com/users/yanzhou-li/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-04T04:01:22Z","updated_at":"2021-03-24T09:58:27Z","closed_at":"2021-03-24T09:58:27Z","author_association":"NONE","active_lock_reason":null,"body":" @Tramac .When I run `eval.py` to predict my own images.I met a problem.The code can inference the first image in the folder of `validation` ,but when I inference the second image and then an error occurred,as fellow:\r\n`Traceback (most recent call last):\r\n  File \"eval.py\", line 96, in <module>\r\n    evaluator.eval()\r\n  File \"eval.py\", line 66, in eval\r\n    outputs = self.model(image)\r\n  File \"/home/liyanzhou/anaconda3/envs/py36torch10_fastscnn/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/liyanzhou/pycharm_project/demo/Fast-SCNN-pytorch-master/models/fast_scnn.py\", line 35, in forward\r\n    higher_res_features = self.learning_to_downsample(x)\r\n  File \"/home/liyanzhou/anaconda3/envs/py36torch10_fastscnn/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/liyanzhou/pycharm_project/demo/Fast-SCNN-pytorch-master/models/fast_scnn.py\", line 159, in forward\r\n    x = self.dsconv1(x)\r\n  File \"/home/liyanzhou/anaconda3/envs/py36torch10_fastscnn/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/liyanzhou/pycharm_project/demo/Fast-SCNN-pytorch-master/models/fast_scnn.py\", line 79, in forward\r\n    return self.conv(x)\r\n  File \"/home/liyanzhou/anaconda3/envs/py36torch10_fastscnn/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/liyanzhou/anaconda3/envs/py36torch10_fastscnn/lib/python3.6/site-packages/torch/nn/modules/container.py\", line 92, in forward\r\n    input = module(input)\r\n  File \"/home/liyanzhou/anaconda3/envs/py36torch10_fastscnn/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/liyanzhou/anaconda3/envs/py36torch10_fastscnn/lib/python3.6/site-packages/torch/nn/modules/batchnorm.py\", line 83, in forward\r\n    exponential_average_factor, self.eps)\r\n  File \"/home/liyanzhou/anaconda3/envs/py36torch10_fastscnn/lib/python3.6/site-packages/torch/nn/functional.py\", line 1697, in batch_norm\r\n    training, momentum, eps, torch.backends.cudnn.enabled\r\nRuntimeError: CUDA out of memory. Tried to allocate 152.00 MiB (GPU 0; 10.76 GiB total capacity; 9.88 GiB already allocated; 36.19 MiB free; 68.67 MiB cached)`\r\nThe size of the image I entered was `w*h=5440*3648`,the crop-size is `2816`.How to solve it? Can you give me some advice? Thank you!","closed_by":{"login":"Tramac","id":22740819,"node_id":"MDQ6VXNlcjIyNzQwODE5","avatar_url":"https://avatars.githubusercontent.com/u/22740819?v=4","gravatar_id":"","url":"https://api.github.com/users/Tramac","html_url":"https://github.com/Tramac","followers_url":"https://api.github.com/users/Tramac/followers","following_url":"https://api.github.com/users/Tramac/following{/other_user}","gists_url":"https://api.github.com/users/Tramac/gists{/gist_id}","starred_url":"https://api.github.com/users/Tramac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tramac/subscriptions","organizations_url":"https://api.github.com/users/Tramac/orgs","repos_url":"https://api.github.com/users/Tramac/repos","events_url":"https://api.github.com/users/Tramac/events{/privacy}","received_events_url":"https://api.github.com/users/Tramac/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/47/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Tramac/Fast-SCNN-pytorch/issues/47/timeline","performed_via_github_app":null,"state_reason":"completed"}