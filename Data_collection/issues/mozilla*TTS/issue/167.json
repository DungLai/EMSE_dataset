{"url":"https://api.github.com/repos/mozilla/TTS/issues/167","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/167/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/167/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/167/events","html_url":"https://github.com/mozilla/TTS/issues/167","id":436178556,"node_id":"MDU6SXNzdWU0MzYxNzg1NTY=","number":167,"title":"Global Style Tokens","user":{"login":"twerkmeister","id":1107341,"node_id":"MDQ6VXNlcjExMDczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/1107341?v=4","gravatar_id":"","url":"https://api.github.com/users/twerkmeister","html_url":"https://github.com/twerkmeister","followers_url":"https://api.github.com/users/twerkmeister/followers","following_url":"https://api.github.com/users/twerkmeister/following{/other_user}","gists_url":"https://api.github.com/users/twerkmeister/gists{/gist_id}","starred_url":"https://api.github.com/users/twerkmeister/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twerkmeister/subscriptions","organizations_url":"https://api.github.com/users/twerkmeister/orgs","repos_url":"https://api.github.com/users/twerkmeister/repos","events_url":"https://api.github.com/users/twerkmeister/events{/privacy}","received_events_url":"https://api.github.com/users/twerkmeister/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2019-04-23T13:08:43Z","updated_at":"2020-03-14T13:21:29Z","closed_at":"2019-11-12T00:10:11Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Global Style Tokens are embeddings that capture prosodic styles across the training set. This allows the system to explicitly specify the desired prosody of a generated sequence, i.e. essentially how the sentence is spoken, e.g. with a certain emotion or whispering etc. Additionally it should help training because the text of an example has no hints to prosody. Thus, the TTS system currently has to guess prosody or factor it into the character/phoneme embeddings.\r\n\r\nThe main papers for this line of work are \r\n1. [Towards End-to-End Prosody Transfer for Expressive Speech Synthesis with Tacotron](https://arxiv.org/pdf/1803.09047.pdf) for the reference encoder capturing the sequence prosody\r\n2. [Style Tokens: Unsupervised Style Modeling, Control and Transfer in End-to-End Speech Synthesis](https://arxiv.org/pdf/1803.09017.pdf) for the style tokens and matching them with the prosody embedding\r\n\r\nTo implement this in Mozilla TTS I think the following steps are necessary:\r\n1. implement the reference encoder as an additional layer that takes in the spectrogram representation and returns the prosody embedding\r\n2. implement the style embeddings and their configuration, plus the attention mechanism matching prosody embedding and style embeddings\r\n3. replicate and concatenate the aggregated style embedding with the encoder outputs, then pass the result into the decoder\r\n4. during inference we would need some form of default style. Not sure how to go about this yet. The most robust might be to ship a calmly spoken text sequence that can be used as a reference. This approach should work even if style token embeddings and their ordering vary across trainings.\r\n\r\nThoughts?","closed_by":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/167/timeline","performed_via_github_app":null,"state_reason":"completed"}