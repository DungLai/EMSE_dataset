{"url":"https://api.github.com/repos/mozilla/TTS/issues/217","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/217/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/217/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/217/events","html_url":"https://github.com/mozilla/TTS/issues/217","id":456821168,"node_id":"MDU6SXNzdWU0NTY4MjExNjg=","number":217,"title":"TypeError: __init__() missing 1 required positional argument: 'mulaw'","user":{"login":"MuruganR96","id":35978784,"node_id":"MDQ6VXNlcjM1OTc4Nzg0","avatar_url":"https://avatars.githubusercontent.com/u/35978784?v=4","gravatar_id":"","url":"https://api.github.com/users/MuruganR96","html_url":"https://github.com/MuruganR96","followers_url":"https://api.github.com/users/MuruganR96/followers","following_url":"https://api.github.com/users/MuruganR96/following{/other_user}","gists_url":"https://api.github.com/users/MuruganR96/gists{/gist_id}","starred_url":"https://api.github.com/users/MuruganR96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MuruganR96/subscriptions","organizations_url":"https://api.github.com/users/MuruganR96/orgs","repos_url":"https://api.github.com/users/MuruganR96/repos","events_url":"https://api.github.com/users/MuruganR96/events{/privacy}","received_events_url":"https://api.github.com/users/MuruganR96/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2019-06-17T09:03:07Z","updated_at":"2021-06-08T07:50:32Z","closed_at":"2019-06-18T10:44:09Z","author_association":"NONE","active_lock_reason":null,"body":"I tried for Tacotron-2 TTS.\r\n\r\n```\r\ngit clone https://github.com/mozilla/TTS.git\r\ncd TTS\r\ngit checkout -b 824c091\r\n\r\npip install -r requirements.txt\r\n\r\ngit clone https://github.com/erogol/WaveRNN.git\r\ncd WaveRNN\r\ngit checkout -b 8a1c152\r\n\r\npip install -r requirements.txt\r\npip install soundfile\r\n\r\n```\r\nand i was downloaded **LJSpeech_model and WaveRNN-MOLD** Models.\r\n \r\nLike this.\r\nWaveRNN-MOLD:\r\nhttps://drive.google.com/drive/folders/1Xvx7Ce7STSLCr79gxo0Ou9sZ6b8pyQu9\r\n\r\nLJSpeech_model Tacotron-2:\r\nhttps://drive.google.com/drive/folders/1FJRjGDAqWIyZRX4CsppaIPEW8UWXCWzF\r\n\r\nwhen i run this server,\r\n`python3 server/server.py -c server/conf.json`\r\n\r\nit was given error.\r\n```\r\nTraceback (most recent call last):\r\n  File \"server/server.py\", line 3, in <module>\r\n    from synthesizer import Synthesizer\r\n  File \"/home/dell/Murugan_R/17-06-2019/TTS/server/synthesizer.py\", line 3\r\n    <<<<<<< HEAD\r\n     ^\r\nSyntaxError: invalid syntax\r\n```\r\ni resolved this one. but again occurred some issues, \r\n\r\n`AttributeError: 'AttrDict' object has no attribute 'prenet_dropout'`\r\n\r\n`AttributeError: 'AttrDict' object has no attribute 'location_attn'`\r\n\r\n`AttributeError: 'AttrDict' object has no attribute 'separate_stopnet'`\r\n\r\narguments missing in pretrained model **config.json** .\r\n\r\nthen i was added,\r\n```\r\n\"prenet_dropout\": false,\r\n\"location_attn\": true,\r\n\"separate_stopnet\": false,\r\n```\r\nthat error was gone.\r\nbut then shape mismatch error occured.\r\n```\r\nRuntimeError: Error(s) in loading state_dict for Tacotron2:\r\n\tsize mismatch for embedding.weight: copying a param with shape torch.Size([62, 512]) from checkpoint, the shape in current model is torch.Size([130, 512]).\r\n```\r\nactually,\r\nif \"use_phonemes\": true means **TTS phonemes 130.** returned defaultly. [130, 512]\r\n\r\nbut pretrained model showing [62, 512] size.\r\n\r\nso i was defaultly assigned TTS phonemes as 62.\r\n\r\nthat  error also gone.\r\n\r\nagain one more error was occurred.\r\n`TypeError: __init__() missing 1 required positional argument: 'mulaw'`\r\n\r\narguments missing in pretrained WaveRNN-MOLD model **config.json** .\r\n\r\nthis time can't find anything, because \r\n\r\n```\r\nself.wavernn = Model(\r\n                rnn_dims=512,\r\n                fc_dims=512,\r\n                mode=self.wavernn_config.mode,\r\n                **mulaw = self.mulaw**,\r\n                pad=2,\r\n                upsample_factors=self.wavernn_config.upsample_factors,  # set this depending on dataset\r\n                feat_dims=80,\r\n                compute_dims=128,\r\n                res_out_dims=128,\r\n                res_blocks=10,\r\n                hop_length=self.ap.hop_length,\r\n                sample_rate=self.ap.sample_rate,\r\n            ).cuda()\r\n```\r\n**mulaw** attribute missing in config.json.\r\n\r\ni was referred this one.\r\nhttps://github.com/erogol/WaveRNN/blob/master/config.json\r\n\r\nbut no use. how to rectify this issue sir,\r\nis this correct way or not?\r\n\r\nif i am wrong means, please correct me. and give me some suggestions sir.\r\n\r\nThank you sir.\r\n","closed_by":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/217/timeline","performed_via_github_app":null,"state_reason":"completed"}