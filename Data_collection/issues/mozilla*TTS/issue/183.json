{"url":"https://api.github.com/repos/mozilla/TTS/issues/183","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/183/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/183/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/183/events","html_url":"https://github.com/mozilla/TTS/issues/183","id":438208161,"node_id":"MDU6SXNzdWU0MzgyMDgxNjE=","number":183,"title":"Dynamic Batch Sizes","user":{"login":"twerkmeister","id":1107341,"node_id":"MDQ6VXNlcjExMDczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/1107341?v=4","gravatar_id":"","url":"https://api.github.com/users/twerkmeister","html_url":"https://github.com/twerkmeister","followers_url":"https://api.github.com/users/twerkmeister/followers","following_url":"https://api.github.com/users/twerkmeister/following{/other_user}","gists_url":"https://api.github.com/users/twerkmeister/gists{/gist_id}","starred_url":"https://api.github.com/users/twerkmeister/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twerkmeister/subscriptions","organizations_url":"https://api.github.com/users/twerkmeister/orgs","repos_url":"https://api.github.com/users/twerkmeister/repos","events_url":"https://api.github.com/users/twerkmeister/events{/privacy}","received_events_url":"https://api.github.com/users/twerkmeister/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-04-29T08:44:25Z","updated_at":"2019-11-12T00:09:09Z","closed_at":"2019-11-12T00:09:08Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"During some of my trainings I noticed, that the memory consumption differs greatly as the sentence size increases within an epoch. For short sentences in the beginning, TTS only consumed about 3GB, but then later for the long example sentences over 7,4GB. I guess a fixed batch size comes from tasks that deal with fixed size tensors, like in image classification. Given that batch size seems important for learning attention, it might be worth experimenting with dynamic batch sizes. That can probably double the batch size for medium sized sentences.\r\n\r\nAny thoughts?","closed_by":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/183/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/183/timeline","performed_via_github_app":null,"state_reason":"completed"}