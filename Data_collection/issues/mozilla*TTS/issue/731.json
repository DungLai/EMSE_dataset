{"url":"https://api.github.com/repos/mozilla/TTS/issues/731","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/731/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/731/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/731/events","html_url":"https://github.com/mozilla/TTS/issues/731","id":1036876618,"node_id":"I_kwDOBxIBp849zXtK","number":731,"title":"TTS synthesis via pip module throws torch exception for short phrases","user":{"login":"mischief","id":1487996,"node_id":"MDQ6VXNlcjE0ODc5OTY=","avatar_url":"https://avatars.githubusercontent.com/u/1487996?v=4","gravatar_id":"","url":"https://api.github.com/users/mischief","html_url":"https://github.com/mischief","followers_url":"https://api.github.com/users/mischief/followers","following_url":"https://api.github.com/users/mischief/following{/other_user}","gists_url":"https://api.github.com/users/mischief/gists{/gist_id}","starred_url":"https://api.github.com/users/mischief/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mischief/subscriptions","organizations_url":"https://api.github.com/users/mischief/orgs","repos_url":"https://api.github.com/users/mischief/repos","events_url":"https://api.github.com/users/mischief/events{/privacy}","received_events_url":"https://api.github.com/users/mischief/received_events","type":"User","site_admin":false},"labels":[{"id":813922298,"node_id":"MDU6TGFiZWw4MTM5MjIyOTg=","url":"https://api.github.com/repos/mozilla/TTS/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-10-27T01:17:35Z","updated_at":"2022-04-16T06:52:38Z","closed_at":"2022-04-16T06:52:38Z","author_association":"NONE","active_lock_reason":null,"body":"i've installed the module via pip:\r\n\r\n    pip3 install --force-reinstall --user --upgrade TTS\r\n\r\nhowever, TTS synthesis fails for short phrases or words i have tried:\r\n\r\n```\r\n$ tts --text \"whatever\" --model_name tts_models/en/ljspeech/speedy-speech 2>&1 | xclip\r\n > tts_models/en/ljspeech/speedy-speech is already downloaded.\r\n > vocoder_models/en/ljspeech/hifigan_v2 is already downloaded.\r\n > Using model: speedy_speech\r\n > Vocoder Model: hifigan\r\n > Generator Model: hifigan_generator\r\n > Discriminator Model: hifigan_discriminator\r\nRemoving weight norm...\r\n > Text: whatever\r\n > Text splitted to sentences.\r\n['whatever']\r\nTraceback (most recent call last):\r\n  File \"<my home dir>/.local/bin/tts\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/bin/synthesize.py\", line 257, in main\r\n    wav = synthesizer.tts(args.text, args.speaker_idx, args.speaker_wav)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/utils/synthesizer.py\", line 228, in tts\r\n    outputs = synthesis(\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/utils/synthesis.py\", line 281, in synthesis\r\n    outputs = run_model_torch(model, text_inputs, speaker_id, style_mel, d_vector=d_vector)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/utils/synthesis.py\", line 92, in run_model_torch\r\n    outputs = _func(\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/autograd/grad_mode.py\", line 28, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/models/forward_tts.py\", line 590, in inference\r\n    o_en, x_mask, g, _ = self._forward_encoder(x, x_mask, g)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/models/forward_tts.py\", line 357, in _forward_encoder\r\n    o_en = self.encoder(torch.transpose(x_emb, 1, -1), x_mask)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1102, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/layers/feed_forward/encoder.py\", line 161, in forward\r\n    o = self.encoder(x, x_mask)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1102, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/layers/feed_forward/encoder.py\", line 71, in forward\r\n    o = self.res_conv_block(o, x_mask)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1102, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/layers/generic/res_conv_bn.py\", line 124, in forward\r\n    o = block(o)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1102, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/layers/generic/res_conv_bn.py\", line 79, in forward\r\n    return self.conv_bn_blocks(x)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1102, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/container.py\", line 141, in forward\r\n    input = module(input)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1102, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/TTS/tts/layers/generic/res_conv_bn.py\", line 42, in forward\r\n    o = self.conv1d(x)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1102, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/conv.py\", line 301, in forward\r\n    return self._conv_forward(input, self.weight, self.bias)\r\n  File \"<my home dir>/.local/lib/python3.8/site-packages/torch/nn/modules/conv.py\", line 297, in _conv_forward\r\n    return F.conv1d(input, weight, bias, self.stride,\r\nRuntimeError: Calculated padded input size per channel: (6). Kernel size: (7). Kernel size can't be greater than actual input size\r\n\r\nthis occurs for other short phrases i have tried.","closed_by":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/731/timeline","performed_via_github_app":null,"state_reason":"completed"}