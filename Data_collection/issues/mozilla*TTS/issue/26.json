{"url":"https://api.github.com/repos/mozilla/TTS/issues/26","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/26/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/26/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/26/events","html_url":"https://github.com/mozilla/TTS/issues/26","id":320558202,"node_id":"MDU6SXNzdWUzMjA1NTgyMDI=","number":26,"title":"Tacotron2 + WaveRNN experiments","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"labels":[{"id":813922288,"node_id":"MDU6TGFiZWw4MTM5MjIyODg=","url":"https://api.github.com/repos/mozilla/TTS/labels/improvement","name":"improvement","color":"a2eeef","default":false,"description":"a new feature"},{"id":937345845,"node_id":"MDU6TGFiZWw5MzczNDU4NDU=","url":"https://api.github.com/repos/mozilla/TTS/labels/experiment","name":"experiment","color":"74820a","default":false,"description":"experimental things"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":80,"created_at":"2018-05-06T02:57:06Z","updated_at":"2020-06-27T19:06:20Z","closed_at":"2019-06-05T09:49:40Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Tacotron2: https://arxiv.org/pdf/1712.05884.pdf \r\nWaveRNN: https://github.com/erogol/WaveRNN forked from https://github.com/fatchord/WaveRNN\r\n\r\nThe idea is to add Tacotron2 as another alternative if it is really useful then the current model.\r\n\r\n- [x] Code boilerplate tracotron2 architecture.\r\n- [x] Train Tacotron2 and compare results (Baseline)\r\n- [x] Train TTS current model in a comparable size with T2. (Current TTS model has 7M and Tacotron2 has 28M parameters)\r\n- [x] Add TTS specific architectural changes to T2 and compare with the baseline.\r\n- [x] Train WaveRNN a vocoder on generated spectrograms\r\n- [x] Train a better stopnet. Stopnet sometimes misses the prediction that leads to unstable predictions. Maybe it is better to use a RNN as previous TTS version.\r\n- [x] Release LJspeech Tacotron 2 model. (soon)\r\n- [x] Release LJSpeech WaveRNN model. (https://github.com/erogol/WaveRNN)\r\n\r\nBest result so far: https://soundcloud.com/user-565970875/ljspeech-logistic-wavernn\r\n\r\nSome findings:\r\n- Adding an entropy loss for the attention seems to improve the cases hard to learn the alignment. It forces network to learn more sparse and noise free alignment weights. \r\n```\r\nentropy = torch.distributions.Categorical(probs=alignments).entropy()\r\nentropy_loss = (entropy / np.log(alignments.shape[1])).mean()\r\nloss += 1e-4 * entropy_loss\r\n```\r\nHere is the alignment with entropy loss. However, if you keep the loss weight high, then it degrades the model's generalization for new words.\r\n![image](https://user-images.githubusercontent.com/1402048/55290075-9cc47580-53ce-11e9-9fd0-df120d9ac3ac.png)\r\n\r\n- Replacing Prenet with a BatchNorm version ehnace the performance quite a lot. \r\n- A network with BN Prenet is harder to learn the attention. It looks like the network needs a level of noise onto autoregressive connection to relate encoder output to network output. Otwerwise, in teacher forcing mode, network does not need encoder output since it finds previous prediction frame enough to generate the next frame. \r\n- Forward attention seems more robust to longer sequences and faster to align. (https://arxiv.org/abs/1807.06736)\r\n","closed_by":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/26/reactions","total_count":10,"+1":7,"-1":0,"laugh":0,"hooray":3,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/26/timeline","performed_via_github_app":null,"state_reason":"completed"}