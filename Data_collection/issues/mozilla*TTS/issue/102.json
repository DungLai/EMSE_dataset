{"url":"https://api.github.com/repos/mozilla/TTS/issues/102","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/102/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/102/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/102/events","html_url":"https://github.com/mozilla/TTS/issues/102","id":404467564,"node_id":"MDU6SXNzdWU0MDQ0Njc1NjQ=","number":102,"title":"Trained model but TypeError running ReadArticle notebook","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-01-29T20:14:27Z","updated_at":"2019-02-15T09:37:03Z","closed_at":"2019-02-15T09:37:03Z","author_association":"NONE","active_lock_reason":null,"body":"I just finished running my first model using a dataset I created myself. I'm trying to now test the model using the ReadArticle notebook however I can't progress as I receive the following error on the last step of the notebook:\r\n\r\n```\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-31-b8e2f1f4e7a5> in <module>\r\n     29     text = \"Voice is natural, voice is human. That’s why we are fascinated with creating usable voice technology for our machines. But to create voice systems, an extremely large amount of voice data is required. Most of the data used by large companies isn’t available to the majority of people. We think that stifles innovation. So we’ve launched Project Common Voice, a project to help make voice recognition open to everyone.\"\r\n     30 #     text = \"Does the quick brown fox jump over the lazy dog?\"\r\n---> 31     wavs = text2audio(text, model, CONFIG, use_cuda, ap)\r\n     32 \r\n     33     audio = np.concatenate(wavs)\r\n\r\n<ipython-input-2-e48f88b767bf> in text2audio(text, model, CONFIG, use_cuda, ap)\r\n     11         sen = sen.strip()\r\n     12         print(sen)\r\n---> 13         wav = tts(model, sen, CONFIG, use_cuda, ap)\r\n     14         wavs.append(wav)\r\n     15         wavs.append(np.zeros(10000))\r\n\r\n<ipython-input-2-e48f88b767bf> in tts(model, text, CONFIG, use_cuda, ap, figures)\r\n      1 def tts(model, text, CONFIG, use_cuda, ap, figures=True):\r\n----> 2     waveform, alignment, spectrogram, stop_tokens = create_speech(model, text, CONFIG, use_cuda, ap)\r\n      3     return waveform\r\n      4 \r\n      5 def text2audio(text, model, CONFIG, use_cuda, ap):\r\n\r\n~/Development/TTS/TTS/notebooks/synthesis.py in create_speech(m, s, CONFIG, use_cuda, ap)\r\n     19     alignment = alignments[0].cpu().data.numpy()\r\n     20     spec = ap._denormalize(linear_out)\r\n---> 21     wav = ap.inv_spectrogram(linear_out.T)\r\n     22     wav = wav[:ap.find_endpoint(wav)]\r\n     23     out = io.BytesIO()\r\n\r\n~/Development/TTS/TTS/utils/audio.py in inv_spectrogram(self, spectrogram)\r\n    162         # Reconstruct phase\r\n    163         if self.preemphasis != 0:\r\n--> 164             return self.apply_inv_preemphasis(self._griffin_lim(S**self.power))\r\n    165         else:\r\n    166             return self._griffin_lim(S**self.power)\r\n\r\n~/Development/TTS/TTS/utils/audio.py in _griffin_lim(self, S)\r\n    180         S_complex = np.abs(S).astype(np.complex)\r\n    181         y = self._istft(S_complex * angles)\r\n--> 182         for i in range(self.griffin_lim_iters):\r\n    183             angles = np.exp(1j * np.angle(self._stft(y)))\r\n    184             y = self._istft(S_complex * angles)\r\n\r\nTypeError: 'NoneType' object cannot be interpreted as an integer\r\n```\r\n\r\nI've already had to change some of the scripts as attributes in the CONFIG AttrDict were not referenced correctly, but I've got no idea where to go from here. Is it possibly something wrong with my model?\r\n","closed_by":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/102/timeline","performed_via_github_app":null,"state_reason":"completed"}