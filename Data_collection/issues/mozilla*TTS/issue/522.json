{"url":"https://api.github.com/repos/mozilla/TTS/issues/522","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/522/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/522/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/522/events","html_url":"https://github.com/mozilla/TTS/issues/522","id":704479627,"node_id":"MDU6SXNzdWU3MDQ0Nzk2Mjc=","number":522,"title":"Tacotron2 decoder has internally hard-coded stop_threshold=0.5, which leads to unexpected model interruption","user":{"login":"ksofiyuk","id":5459767,"node_id":"MDQ6VXNlcjU0NTk3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5459767?v=4","gravatar_id":"","url":"https://api.github.com/users/ksofiyuk","html_url":"https://github.com/ksofiyuk","followers_url":"https://api.github.com/users/ksofiyuk/followers","following_url":"https://api.github.com/users/ksofiyuk/following{/other_user}","gists_url":"https://api.github.com/users/ksofiyuk/gists{/gist_id}","starred_url":"https://api.github.com/users/ksofiyuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ksofiyuk/subscriptions","organizations_url":"https://api.github.com/users/ksofiyuk/orgs","repos_url":"https://api.github.com/users/ksofiyuk/repos","events_url":"https://api.github.com/users/ksofiyuk/events{/privacy}","received_events_url":"https://api.github.com/users/ksofiyuk/received_events","type":"User","site_admin":false},"labels":[{"id":813922298,"node_id":"MDU6TGFiZWw4MTM5MjIyOTg=","url":"https://api.github.com/repos/mozilla/TTS/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-09-18T15:45:09Z","updated_at":"2021-01-03T14:47:17Z","closed_at":"2021-01-03T14:47:17Z","author_association":"NONE","active_lock_reason":null,"body":"Following the issue #521, which I think was closed too early without appropriate discussion. And I don't really agree that it isn't a bug, if it can be completely fixed just by changing an internal hard-coded threshold.\r\n\r\nI found [hard-coded threshold](https://github.com/mozilla/TTS/blob/540d811dd52b5598a7cd21cbbcf197b0bfbeab62/TTS/tts/layers/tacotron2.py#L157) in Tacotron2 Decoder. Its value is 0.5. I guess it is too low and makes the model too sensitive for stopping, especially for long complex sentences. In my experiments, increasing the threshold to 0.7 fully resolves the problem without any noticeable side effects.\r\n\r\nIn my view, this variable can be separated between training and inference modes, and its value should be increased at least for inference to prevent model interruptions. Or at least this threshold shouldn't be internally hard-coded without any description.","closed_by":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/522/timeline","performed_via_github_app":null,"state_reason":"completed"}