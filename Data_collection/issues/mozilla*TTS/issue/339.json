{"url":"https://api.github.com/repos/mozilla/TTS/issues/339","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/339/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/339/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/339/events","html_url":"https://github.com/mozilla/TTS/issues/339","id":550469906,"node_id":"MDU6SXNzdWU1NTA0Njk5MDY=","number":339,"title":"why Tacotron2 mel are sometimes negative?","user":{"login":"vcjob","id":51916323,"node_id":"MDQ6VXNlcjUxOTE2MzIz","avatar_url":"https://avatars.githubusercontent.com/u/51916323?v=4","gravatar_id":"","url":"https://api.github.com/users/vcjob","html_url":"https://github.com/vcjob","followers_url":"https://api.github.com/users/vcjob/followers","following_url":"https://api.github.com/users/vcjob/following{/other_user}","gists_url":"https://api.github.com/users/vcjob/gists{/gist_id}","starred_url":"https://api.github.com/users/vcjob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vcjob/subscriptions","organizations_url":"https://api.github.com/users/vcjob/orgs","repos_url":"https://api.github.com/users/vcjob/repos","events_url":"https://api.github.com/users/vcjob/events{/privacy}","received_events_url":"https://api.github.com/users/vcjob/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2020-01-15T22:40:29Z","updated_at":"2020-01-27T16:00:20Z","closed_at":"2020-01-27T15:44:43Z","author_association":"NONE","active_lock_reason":null,"body":"Hello everyone!\r\n\r\nI mentioned that the mel spectrogram generated by the Tacotron model (obtained with \r\n```\r\nwaveform, alignment, decoder_outputs, postnet_output, stop_tokens = synthesis(\r\n        model, text, C, use_cuda, ap, False, C.enable_eos_bos_chars)\r\nvocoder_input = torch.FloatTensor(postnet_output.T).unsqueeze(0)\r\n```\r\n where _vocoder_input_ is, as I suppose, mel-spectrogram) sometimes (always) has negative values (very small ones, like -0.037 or so). If we compute the ground-true spectrogram with \r\n```\r\nap = AudioProcessor(**CONFIG.audio)\r\nmel = ap.melspectrogram(wav).astype(np.float32)\r\n```\r\nwe have always positive values, though. So if we compare ground-truth mels with generated by Tacotron2 ones, the ground-truth's are always a bit bigger, like 0.550 comparing to 0.450 and so on.\r\nSo, here's my question:\r\nWhy is that? May I get this around?\r\nI want to train melgan and generate the mels NOT by tacotron2, but with AudioProcessor. It is the right way to go? I am worried about those negative values, as they are not going to be presented in the training set for melgan.\r\n\r\nThank you!\r\n\r\n","closed_by":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/339/timeline","performed_via_github_app":null,"state_reason":"completed"}