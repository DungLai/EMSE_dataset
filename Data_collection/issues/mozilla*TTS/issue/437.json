{"url":"https://api.github.com/repos/mozilla/TTS/issues/437","repository_url":"https://api.github.com/repos/mozilla/TTS","labels_url":"https://api.github.com/repos/mozilla/TTS/issues/437/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/TTS/issues/437/comments","events_url":"https://api.github.com/repos/mozilla/TTS/issues/437/events","html_url":"https://github.com/mozilla/TTS/issues/437","id":641709625,"node_id":"MDU6SXNzdWU2NDE3MDk2MjU=","number":437,"title":"librosa, numba.decorators dependency","user":{"login":"xeb","id":7634,"node_id":"MDQ6VXNlcjc2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7634?v=4","gravatar_id":"","url":"https://api.github.com/users/xeb","html_url":"https://github.com/xeb","followers_url":"https://api.github.com/users/xeb/followers","following_url":"https://api.github.com/users/xeb/following{/other_user}","gists_url":"https://api.github.com/users/xeb/gists{/gist_id}","starred_url":"https://api.github.com/users/xeb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xeb/subscriptions","organizations_url":"https://api.github.com/users/xeb/orgs","repos_url":"https://api.github.com/users/xeb/repos","events_url":"https://api.github.com/users/xeb/events{/privacy}","received_events_url":"https://api.github.com/users/xeb/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-19T05:12:56Z","updated_at":"2020-06-19T08:20:33Z","closed_at":"2020-06-19T08:20:33Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I keep running into an issue (in Docker and with virtualenv) where librosa==0.6.2\r\n\r\n```\r\nroot@ed2a55775478:/pwd# python TTS/train.py --config_path config.json \r\nTraceback (most recent call last):\r\n  File \"TTS/train.py\", line 16, in <module>\r\n    from TTS.utils.audio import AudioProcessor\r\n  File \"/opt/conda/lib/python3.6/site-packages/TTS-0.0.3-py3.6.egg/TTS/utils/audio.py\", line 1, in <module>\r\n    import librosa\r\n  File \"/opt/conda/lib/python3.6/site-packages/librosa/__init__.py\", line 12, in <module>\r\n    from . import core\r\n  File \"/opt/conda/lib/python3.6/site-packages/librosa/core/__init__.py\", line 125, in <module>\r\n    from .time_frequency import *  # pylint: disable=wildcard-import\r\n  File \"/opt/conda/lib/python3.6/site-packages/librosa/core/time_frequency.py\", line 11, in <module>\r\n    from ..util.exceptions import ParameterError\r\n  File \"/opt/conda/lib/python3.6/site-packages/librosa/util/__init__.py\", line 77, in <module>\r\n    from .utils import *  # pylint: disable=wildcard-import\r\n  File \"/opt/conda/lib/python3.6/site-packages/librosa/util/utils.py\", line 15, in <module>\r\n    from .decorators import deprecated\r\n  File \"/opt/conda/lib/python3.6/site-packages/librosa/util/decorators.py\", line 9, in <module>\r\n    from numba.decorators import jit as optional_jit\r\nModuleNotFoundError: No module named 'numba.decorators'\r\n```\r\n\r\nAnd here's the output of `pip freeze`:\r\n```\r\n$ pip freeze\r\nattrdict==2.0.1\r\nattrs==19.3.0\r\naudioread==2.1.8\r\nbokeh==1.4.0\r\ncffi==1.14.0\r\nclick==7.1.2\r\nclldutils==3.5.2\r\ncolorlog==4.1.0\r\ncsvw==1.7.0\r\ncycler==0.10.0\r\ndecorator==4.4.2\r\nFlask==1.1.2\r\nfuture==0.18.2\r\nisodate==0.6.0\r\nitsdangerous==2.0.0a1\r\nJinja2==3.0.0a1\r\njoblib==0.15.1\r\nkiwisolver==1.2.0\r\nlibrosa==0.6.2\r\nllvmlite==0.33.0\r\nMarkupSafe==2.0.0a1\r\nmatplotlib==3.3.0rc1\r\nnumba==0.50.0\r\nnumpy==1.19.0rc2\r\npackaging==20.4\r\nphonemizer==2.2\r\nPillow==7.1.2\r\nprotobuf==3.12.2\r\npycparser==2.20\r\npyparsing==3.0.0a1\r\npython-dateutil==2.8.1\r\nPyYAML==5.3.1\r\nregex==2020.6.8\r\nresampy==0.2.2\r\nrfc3986==1.4.0\r\nscikit-learn==0.23.1\r\nscipy==1.5.0rc2\r\nsegments==2.1.3\r\nsix==1.15.0\r\nSoundFile==0.10.3.post1\r\ntabulate==0.8.7\r\ntensorboardX==2.0\r\nthreadpoolctl==2.1.0\r\ntorch==1.5.1\r\ntornado==6.0.4\r\ntqdm==4.46.1\r\n-e git+https://github.com/mozilla/TTS.git@669776ae856c1f38be14b35ebc7504a3b5310119#egg=TTS\r\nUnidecode==0.4.20\r\nuritemplate==3.0.1\r\nWerkzeug==1.0.1\r\n```\r\n\r\nNumba seems to have moved to the `numba.core.decorators` namespace in 0.50.0 -- since librosa is locked on 0.6.2, should the same be set (in setup.py) for numba 0.48.0?\r\n\r\nIf I add `numba==0.48.0` to setup.py -- this fixes things. (I'll just submit a PR...)\r\n","closed_by":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/TTS/issues/437/timeline","performed_via_github_app":null,"state_reason":"completed"}