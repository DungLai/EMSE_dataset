[{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694766180","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-694766180","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":694766180,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDc2NjE4MA==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T09:38:20Z","updated_at":"2020-09-18T09:38:20Z","author_association":"CONTRIBUTOR","body":"I think we can add interpolation to audio.py and call it from there as necessary. ","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694766180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694766818","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-694766818","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":694766818,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDc2NjgxOA==","user":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T09:39:44Z","updated_at":"2020-09-18T09:39:44Z","author_association":"CONTRIBUTOR","body":"Ok thanks. I'm gonna look into it today","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694766818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694769173","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-694769173","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":694769173,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDc2OTE3Mw==","user":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T09:44:18Z","updated_at":"2020-09-18T09:44:18Z","author_association":"CONTRIBUTOR","body":"Also, do you know a way to compute the shape of the target mel spectogram without having to initialize two different audioprocessors ?","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694769173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694803541","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-694803541","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":694803541,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDgwMzU0MQ==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T11:02:35Z","updated_at":"2020-09-18T11:02:35Z","author_association":"CONTRIBUTOR","body":"you can have the ratio of two ```config_TTS.audio['sample_rate'] / config_vocoder.audio['sample_rate] ``` \r\n\r\nwould that be ok?","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694803541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694830921","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-694830921","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":694830921,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDgzMDkyMQ==","user":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T12:09:43Z","updated_at":"2020-09-18T12:09:43Z","author_association":"CONTRIBUTOR","body":"> you can have the ratio of two `config_TTS.audio['sample_rate'] / config_vocoder.audio['sample_rate] `\r\n\r\nThing is, sample rate is not the only audio parameter that affects the shape of the mel-spectogram. I know fft_size and num_mels affects it as well and I'm suspecting others do. Although I don't know if there is a need to support those other differences...\r\n","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694830921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694951378","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-694951378","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":694951378,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDk1MTM3OA==","user":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T16:01:34Z","updated_at":"2020-09-18T16:01:34Z","author_association":"CONTRIBUTOR","body":"Also, the function that interpolate the mel will need both the audio config of the vocoder and of the TTS. I was thinking that if we implement it in audio.py, the audio processor would need to have both configs in the constructor or we could pass the TTS config every time we want to interpolate directly to the function. Do you see a better way to implement this ?","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694951378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694955195","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-694955195","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":694955195,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDk1NTE5NQ==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T16:09:20Z","updated_at":"2020-09-18T16:09:20Z","author_association":"CONTRIBUTOR","body":"I was thinking to just having a function in audio.py which would take the target sample rate and than interpolate it relative to its sample-rate\r\n\r\n```\r\ndef interpolate(target_sr):\r\n    scale_factor = target_sr / self.sample_rate\r\n    return interpolate(scale_factor....)\r\n```\r\n\r\nthen it is up to the user to use it anywhere he likes. I don't think there is a straight forward way to automate all these without more code spread around, which I'd prefer not to do for the sake of simplicity.\r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694955195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694972051","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-694972051","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":694972051,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDk3MjA1MQ==","user":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false},"created_at":"2020-09-18T16:45:49Z","updated_at":"2020-09-18T16:45:49Z","author_association":"CONTRIBUTOR","body":"Yeah I guess we can start with that. It was @george-roussos's [comment](https://github.com/mozilla/TTS/issues/501#issuecomment-688201355) that made me realise that it would be nice to support other kinds of audio processing tweaks (like the fft_size he uses).\r\n\r\nTo support all of this, we could just have a a function like this :\r\n```python\r\ndef interpolate(target_sr=None, scale_factors=None):\r\n    if not scale_factors:\r\n        scale_factors = (1, target_sr / self.sample_rate)\r\n    return interpolate(scale_factors....)\r\n```","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/694972051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false}},{"id":3783432130,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzc4MzQzMjEzMA==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3783432130","actor":{"login":"george-roussos","id":25833833,"node_id":"MDQ6VXNlcjI1ODMzODMz","avatar_url":"https://avatars.githubusercontent.com/u/25833833?v=4","gravatar_id":"","url":"https://api.github.com/users/george-roussos","html_url":"https://github.com/george-roussos","followers_url":"https://api.github.com/users/george-roussos/followers","following_url":"https://api.github.com/users/george-roussos/following{/other_user}","gists_url":"https://api.github.com/users/george-roussos/gists{/gist_id}","starred_url":"https://api.github.com/users/george-roussos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/george-roussos/subscriptions","organizations_url":"https://api.github.com/users/george-roussos/orgs","repos_url":"https://api.github.com/users/george-roussos/repos","events_url":"https://api.github.com/users/george-roussos/events{/privacy}","received_events_url":"https://api.github.com/users/george-roussos/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-18T16:45:49Z","performed_via_github_app":null},{"id":3783432131,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM3ODM0MzIxMzE=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3783432131","actor":{"login":"george-roussos","id":25833833,"node_id":"MDQ6VXNlcjI1ODMzODMz","avatar_url":"https://avatars.githubusercontent.com/u/25833833?v=4","gravatar_id":"","url":"https://api.github.com/users/george-roussos","html_url":"https://github.com/george-roussos","followers_url":"https://api.github.com/users/george-roussos/followers","following_url":"https://api.github.com/users/george-roussos/following{/other_user}","gists_url":"https://api.github.com/users/george-roussos/gists{/gist_id}","starred_url":"https://api.github.com/users/george-roussos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/george-roussos/subscriptions","organizations_url":"https://api.github.com/users/george-roussos/orgs","repos_url":"https://api.github.com/users/george-roussos/repos","events_url":"https://api.github.com/users/george-roussos/events{/privacy}","received_events_url":"https://api.github.com/users/george-roussos/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-18T16:45:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/700490677","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-700490677","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":700490677,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDQ5MDY3Nw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2020-09-29T06:54:37Z","updated_at":"2020-09-29T06:54:37Z","author_association":"NONE","body":"> > you can have the ratio of two `config_TTS.audio['sample_rate'] / config_vocoder.audio['sample_rate] `\r\n> \r\n> Thing is, sample rate is not the only audio parameter that affects the shape of the mel-spectogram. I know fft_size and num_mels affects it as well and I'm suspecting others do. Although I don't know if there is a need to support those other differences...\r\n\r\nHello @WeberJulian, I've looked into interpolation for vocoder compatibility too, but never had to write the code because I've always trained my synthesizer with the intent to use a specific vocoder. The relevant parameters are the following:\r\n#### 1. `frame_shift = hop_length / sample_rate`\r\nThis determines the time duration of each mel frame. A frame shift of 12.5ms is typical.\r\n\r\n#### 2. `num_mels, fmin, fmax`\r\nThese 3 parameters determine the frequency range of each mel band (typically num_mels=80 of them). Since it's mel scale there will be logarithmic spacing with more bands allocated to the lower frequencies.\r\n\r\n#### 3. `max_norm, symmetric_norm`\r\nIf these are different, then the spectrogram data needs to be adjusted for the output volume to be correct.\r\n","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/700490677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false}},{"id":3817791939,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgxNzc5MTkzOQ==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3817791939","actor":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-29T06:54:37Z","performed_via_github_app":null},{"id":3817791941,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MTc3OTE5NDE=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3817791941","actor":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-29T06:54:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/700545331","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-700545331","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":700545331,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU0NTMzMQ==","user":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false},"created_at":"2020-09-29T08:42:47Z","updated_at":"2020-09-29T08:42:47Z","author_association":"CONTRIBUTOR","body":"Hi @blue-fish, thanks for the info.\r\nKnowing what parameters influence the size of the mel spec is the easier half of the battle. The hard part would be to be able to compute the exact transformation from all of those parameters. For now I think the best solution would be to let people choose between scale from sr ratio (90% usecases), let them choose the scale_factors or automatically computing it by giving as an argument the TTS's audio processor.\r\n\r\nOr we could do a separate function that does just that once:\r\n\r\n```python\r\ndef compute_scale_factors(self, ap_tts):\r\n    y_TTS = torch.rand(ap_tts.sample_rate)  # Generating a random wav of length 1 sec\r\n    y_vocoder = torch.rand(self.sample_rate) # Same but for the vocoder\r\n    mel_TTS = ap_tts.melspectrogram(y_TTS)\r\n    mel_vocoder = self.melspectrogram(y_vocoder)\r\n    return (mel_vocoder.shape[0] / mel_TTS.shape[0], mel_vocoder.shape[1] / mel_TTS.shape[1]) #returns scale_factors\r\n```\r\nand this for interpolation:\r\n\r\n```python\r\ndef interpolate(mel, target_sr=None, scale_factors=None):\r\n    if not scale_factors:\r\n        scale_factors = (1, target_sr / self.sample_rate);\r\n    return F.interpolate(mel.unsqueeze(0).unsqueeze(0), scale_factor=scale_factor, mode='bilinear').squeeze().squeeze()\r\n```\r\n\r\nWhat do you think @erogol ?","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/700545331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WeberJulian","id":17219561,"node_id":"MDQ6VXNlcjE3MjE5NTYx","avatar_url":"https://avatars.githubusercontent.com/u/17219561?v=4","gravatar_id":"","url":"https://api.github.com/users/WeberJulian","html_url":"https://github.com/WeberJulian","followers_url":"https://api.github.com/users/WeberJulian/followers","following_url":"https://api.github.com/users/WeberJulian/following{/other_user}","gists_url":"https://api.github.com/users/WeberJulian/gists{/gist_id}","starred_url":"https://api.github.com/users/WeberJulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeberJulian/subscriptions","organizations_url":"https://api.github.com/users/WeberJulian/orgs","repos_url":"https://api.github.com/users/WeberJulian/repos","events_url":"https://api.github.com/users/WeberJulian/events{/privacy}","received_events_url":"https://api.github.com/users/WeberJulian/received_events","type":"User","site_admin":false}},{"id":3818245302,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgxODI0NTMwMg==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3818245302","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-29T08:42:47Z","performed_via_github_app":null},{"id":3818245306,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MTgyNDUzMDY=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3818245306","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-29T08:42:47Z","performed_via_github_app":null},{"id":3818245310,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgxODI0NTMxMA==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3818245310","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-29T08:42:47Z","performed_via_github_app":null},{"id":3818245311,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MTgyNDUzMTE=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3818245311","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-29T08:42:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/735244294","html_url":"https://github.com/mozilla/TTS/issues/520#issuecomment-735244294","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/520","id":735244294,"node_id":"MDEyOklzc3VlQ29tbWVudDczNTI0NDI5NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"created_at":"2020-11-28T15:24:56Z","updated_at":"2020-11-28T15:24:56Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions. You might also look our discourse page for further help. https://discourse.mozilla.org/c/tts\n","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/735244294/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false}},{"id":4048162898,"node_id":"MDEyOkxhYmVsZWRFdmVudDQwNDgxNjI4OTg=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4048162898","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-28T15:24:57Z","label":{"name":"wontfix","color":"ffffff"},"performed_via_github_app":null},{"id":4048682882,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50NDA0ODY4Mjg4Mg==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4048682882","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-11-29T04:04:54Z","label":{"name":"wontfix","color":"ffffff"},"performed_via_github_app":null},{"id":4048682956,"node_id":"MDExOkNsb3NlZEV2ZW50NDA0ODY4Mjk1Ng==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4048682956","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-11-29T04:05:06Z","state_reason":null,"performed_via_github_app":null},{"id":5529735821,"node_id":"REFE_lADOBxIBp84p9WDezwAAAAFJmRKN","url":"https://api.github.com/repos/mozilla/TTS/issues/events/5529735821","actor":{"login":"Mic92","id":96200,"node_id":"MDQ6VXNlcjk2MjAw","avatar_url":"https://avatars.githubusercontent.com/u/96200?v=4","gravatar_id":"","url":"https://api.github.com/users/Mic92","html_url":"https://github.com/Mic92","followers_url":"https://api.github.com/users/Mic92/followers","following_url":"https://api.github.com/users/Mic92/following{/other_user}","gists_url":"https://api.github.com/users/Mic92/gists{/gist_id}","starred_url":"https://api.github.com/users/Mic92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mic92/subscriptions","organizations_url":"https://api.github.com/users/Mic92/orgs","repos_url":"https://api.github.com/users/Mic92/repos","events_url":"https://api.github.com/users/Mic92/events{/privacy}","received_events_url":"https://api.github.com/users/Mic92/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"ea31215087838ea3388bb5be9ab8989dc38ee2b6","commit_url":"https://api.github.com/repos/Mic92/TTS/commits/ea31215087838ea3388bb5be9ab8989dc38ee2b6","created_at":"2021-10-27T19:39:27Z","performed_via_github_app":null}]