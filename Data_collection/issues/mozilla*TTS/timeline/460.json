[{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/658038997","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-658038997","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":658038997,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODAzODk5Nw==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-07-14T08:13:05Z","updated_at":"2020-07-14T08:13:05Z","author_association":"CONTRIBUTOR","body":"it might be \"out of memory\".","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/658038997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/663261068","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-663261068","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":663261068,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzI2MTA2OA==","user":{"login":"andrenatal","id":973388,"node_id":"MDQ6VXNlcjk3MzM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/973388?v=4","gravatar_id":"","url":"https://api.github.com/users/andrenatal","html_url":"https://github.com/andrenatal","followers_url":"https://api.github.com/users/andrenatal/followers","following_url":"https://api.github.com/users/andrenatal/following{/other_user}","gists_url":"https://api.github.com/users/andrenatal/gists{/gist_id}","starred_url":"https://api.github.com/users/andrenatal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrenatal/subscriptions","organizations_url":"https://api.github.com/users/andrenatal/orgs","repos_url":"https://api.github.com/users/andrenatal/repos","events_url":"https://api.github.com/users/andrenatal/events{/privacy}","received_events_url":"https://api.github.com/users/andrenatal/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T22:22:17Z","updated_at":"2020-07-23T22:22:17Z","author_association":"MEMBER","body":"I'm also having this issue when running on a different server, dedicated to the TTS training. \r\n\r\n```\r\n\r\n\r\n    EPOCH: 480/1000\r\n\r\n    Number of output frames: 5\r\n\r\n    TRAINING (2020-07-22 21:59:20)\r\n\r\n--> STEP: 4/53 -- GLOBAL_STEP: 25925\r\n| > decoder_loss: 0.12594 (0.11075)\r\n| > postnet_loss: 0.10912 (0.09601)\r\n| > stopnet_loss: 0.04531 (0.10720)\r\n| > ga_loss: 0.00919 (0.01194)\r\n| > loss: 0.24424\r\n| > align_error: 0.40299 (0.40881)\r\n| > avg_spec_len: 279.0\r\n| > avg_text_len: 36.453125\r\n| > step_time: 2.75\r\n| > loader_time: 0.03\r\n| > lr: 0.00010\r\n\r\n--> STEP: 29/53 -- GLOBAL_STEP: 25950\r\n| > decoder_loss: 0.14363 (0.13465)\r\n| > postnet_loss: 0.12181 (0.11508)\r\n| > stopnet_loss: 0.05399 (0.07072)\r\n| > ga_loss: 0.00060 (0.00314)\r\n| > loss: 0.26604\r\n| > align_error: 0.38774 (0.38671)\r\n| > avg_spec_len: 678.921875\r\n| > avg_text_len: 99.953125\r\n| > step_time: 2.03\r\n| > loader_time: 0.02\r\n| > lr: 0.00010\r\n! Run is kept in /home/andre/projects/tts-mozilla/perola/output_model/perola-July-22-2020_12+10AM-599c2db\r\nTraceback (most recent call last):\r\nFile \"train.py\", line 676, in <module>\r\nmain(args)\r\nFile \"train.py\", line 591, in main\r\nglobal_step, epoch)\r\nFile \"train.py\", line 191, in train\r\nloss_dict['loss'].backward()\r\nFile \"/home/andre/projects/tts-mozilla/tts_env/lib/python3.6/site-packages/torch-1.5.1-py3.6-linux-x86_64.egg/torch/tensor.py\", line 198, in backward\r\ntorch.autograd.backward(self, gradient, retain_graph, create_graph)\r\nFile \"/home/andre/projects/tts-mozilla/tts_env/lib/python3.6/site-packages/torch-1.5.1-py3.6-linux-x86_64.egg/torch/autograd/init.py\", line 100, in backward\r\nallow_unreachable=True) # allow_unreachable flag\r\nFile \"/home/andre/projects/tts-mozilla/tts_env/lib/python3.6/site-packages/torch-1.5.1-py3.6-linux-x86_64.egg/torch/utils/data/_utils/signal_handling.py\", line 66, in handler\r\n_error_if_any_worker_fails()\r\nRuntimeError: DataLoader worker (pid 596) is killed by signal: Killed.\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/663261068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andrenatal","id":973388,"node_id":"MDQ6VXNlcjk3MzM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/973388?v=4","gravatar_id":"","url":"https://api.github.com/users/andrenatal","html_url":"https://github.com/andrenatal","followers_url":"https://api.github.com/users/andrenatal/followers","following_url":"https://api.github.com/users/andrenatal/following{/other_user}","gists_url":"https://api.github.com/users/andrenatal/gists{/gist_id}","starred_url":"https://api.github.com/users/andrenatal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrenatal/subscriptions","organizations_url":"https://api.github.com/users/andrenatal/orgs","repos_url":"https://api.github.com/users/andrenatal/repos","events_url":"https://api.github.com/users/andrenatal/events{/privacy}","received_events_url":"https://api.github.com/users/andrenatal/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/665698392","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-665698392","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":665698392,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTY5ODM5Mg==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-07-29T14:28:30Z","updated_at":"2020-07-29T14:32:27Z","author_association":"CONTRIBUTOR","body":"What is your batch size? 32 ?\r\n\r\nAre you running on docker?\r\n\r\nCan you run the same code with `num_loader_workers=0` in config.json? It should give a better error message.\r\n\r\nIt might also be a PyTorch issue https://github.com/pytorch/pytorch/issues/8976 ","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/665698392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/665939321","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-665939321","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":665939321,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkzOTMyMQ==","user":{"login":"andrenatal","id":973388,"node_id":"MDQ6VXNlcjk3MzM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/973388?v=4","gravatar_id":"","url":"https://api.github.com/users/andrenatal","html_url":"https://github.com/andrenatal","followers_url":"https://api.github.com/users/andrenatal/followers","following_url":"https://api.github.com/users/andrenatal/following{/other_user}","gists_url":"https://api.github.com/users/andrenatal/gists{/gist_id}","starred_url":"https://api.github.com/users/andrenatal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrenatal/subscriptions","organizations_url":"https://api.github.com/users/andrenatal/orgs","repos_url":"https://api.github.com/users/andrenatal/repos","events_url":"https://api.github.com/users/andrenatal/events{/privacy}","received_events_url":"https://api.github.com/users/andrenatal/received_events","type":"User","site_admin":false},"created_at":"2020-07-29T21:30:58Z","updated_at":"2020-07-29T21:30:58Z","author_association":"MEMBER","body":"> What is your batch size? 32 ?\r\n> \r\n\r\nYes.\r\n\r\n```\r\n    // TRAINING\r\n    \"batch_size\": 32,       // Batch size for training. Lower values than 32 might cause hard to learn attention. It is overwritten by 'gradual_training'.\r\n    \"eval_batch_size\":16,\r\n```\r\n\r\n> Are you running on docker?\r\n> \r\n\r\nNo.\r\n\r\n> Can you run the same code with `num_loader_workers=0` in config.json? It should give a better error message.\r\n> \r\n> It might also be a PyTorch issue [pytorch/pytorch#8976](https://github.com/pytorch/pytorch/issues/8976)\r\n\r\nOk\r\n","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/665939321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andrenatal","id":973388,"node_id":"MDQ6VXNlcjk3MzM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/973388?v=4","gravatar_id":"","url":"https://api.github.com/users/andrenatal","html_url":"https://github.com/andrenatal","followers_url":"https://api.github.com/users/andrenatal/followers","following_url":"https://api.github.com/users/andrenatal/following{/other_user}","gists_url":"https://api.github.com/users/andrenatal/gists{/gist_id}","starred_url":"https://api.github.com/users/andrenatal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrenatal/subscriptions","organizations_url":"https://api.github.com/users/andrenatal/orgs","repos_url":"https://api.github.com/users/andrenatal/repos","events_url":"https://api.github.com/users/andrenatal/events{/privacy}","received_events_url":"https://api.github.com/users/andrenatal/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667257250","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-667257250","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":667257250,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzI1NzI1MA==","user":{"login":"dan-wells","id":7267494,"node_id":"MDQ6VXNlcjcyNjc0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7267494?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-wells","html_url":"https://github.com/dan-wells","followers_url":"https://api.github.com/users/dan-wells/followers","following_url":"https://api.github.com/users/dan-wells/following{/other_user}","gists_url":"https://api.github.com/users/dan-wells/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-wells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-wells/subscriptions","organizations_url":"https://api.github.com/users/dan-wells/orgs","repos_url":"https://api.github.com/users/dan-wells/repos","events_url":"https://api.github.com/users/dan-wells/events{/privacy}","received_events_url":"https://api.github.com/users/dan-wells/received_events","type":"User","site_admin":false},"created_at":"2020-07-31T18:00:48Z","updated_at":"2020-07-31T18:41:24Z","author_association":"NONE","body":"I had a similar problem, training killed by OOM Killer after some time, somewhere after 20k steps. That was on a desktop with 16GB memory, then I observed directly the memory consumption increase over time after continuing training on a server with 256GB. It seemed to get up to around 60GB after 150k steps.\r\n\r\nEarly in the training, I saw a warning from matplotlib:\r\n`/home/s1462938/tools/mozilla-tts/tts_namespace/TTS/utils/visual.py:14: RuntimeWarning: More than 20 figures have been opened. Figures created through the pyplot interface ('matplotlib.pyplot.figure') are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam 'figure.max_open_warning').`\r\n\r\nI added some `plt.close()` calls in the functions generating alignment and spectrogram plots and it seems to have solved the issue -- see https://github.com/dan-wells/mozilla-tts/commit/3136204456f10a8aeae572549cc4880d652ace9a. At least with this I see no memory consumption increase over the first 10k steps of a training run using the same config as before, with `num_loader_workers=4` and `num_val_loader_workers=4`.\r\n\r\nThis doesn't affect the visibility of those plots in TensorBoard, but I haven't tested the notebook which calls `TTS.utils.visual.visualize` (which I changed as well just for consistency, but I guess it's less likely to eat a ton of memory than something running throughout training iterations).\r\n\r\n@andrenatal Do you maybe see a similar warning about pyplot memory consumption?","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667257250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dan-wells","id":7267494,"node_id":"MDQ6VXNlcjcyNjc0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7267494?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-wells","html_url":"https://github.com/dan-wells","followers_url":"https://api.github.com/users/dan-wells/followers","following_url":"https://api.github.com/users/dan-wells/following{/other_user}","gists_url":"https://api.github.com/users/dan-wells/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-wells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-wells/subscriptions","organizations_url":"https://api.github.com/users/dan-wells/orgs","repos_url":"https://api.github.com/users/dan-wells/repos","events_url":"https://api.github.com/users/dan-wells/events{/privacy}","received_events_url":"https://api.github.com/users/dan-wells/received_events","type":"User","site_admin":false}},{"id":3609644914,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYwOTY0NDkxNA==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3609644914","actor":{"login":"andrenatal","id":973388,"node_id":"MDQ6VXNlcjk3MzM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/973388?v=4","gravatar_id":"","url":"https://api.github.com/users/andrenatal","html_url":"https://github.com/andrenatal","followers_url":"https://api.github.com/users/andrenatal/followers","following_url":"https://api.github.com/users/andrenatal/following{/other_user}","gists_url":"https://api.github.com/users/andrenatal/gists{/gist_id}","starred_url":"https://api.github.com/users/andrenatal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrenatal/subscriptions","organizations_url":"https://api.github.com/users/andrenatal/orgs","repos_url":"https://api.github.com/users/andrenatal/repos","events_url":"https://api.github.com/users/andrenatal/events{/privacy}","received_events_url":"https://api.github.com/users/andrenatal/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-31T18:00:48Z","performed_via_github_app":null},{"id":3609644917,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MDk2NDQ5MTc=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3609644917","actor":{"login":"andrenatal","id":973388,"node_id":"MDQ6VXNlcjk3MzM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/973388?v=4","gravatar_id":"","url":"https://api.github.com/users/andrenatal","html_url":"https://github.com/andrenatal","followers_url":"https://api.github.com/users/andrenatal/followers","following_url":"https://api.github.com/users/andrenatal/following{/other_user}","gists_url":"https://api.github.com/users/andrenatal/gists{/gist_id}","starred_url":"https://api.github.com/users/andrenatal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrenatal/subscriptions","organizations_url":"https://api.github.com/users/andrenatal/orgs","repos_url":"https://api.github.com/users/andrenatal/repos","events_url":"https://api.github.com/users/andrenatal/events{/privacy}","received_events_url":"https://api.github.com/users/andrenatal/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-31T18:00:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667340867","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-667340867","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":667340867,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzM0MDg2Nw==","user":{"login":"andrenatal","id":973388,"node_id":"MDQ6VXNlcjk3MzM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/973388?v=4","gravatar_id":"","url":"https://api.github.com/users/andrenatal","html_url":"https://github.com/andrenatal","followers_url":"https://api.github.com/users/andrenatal/followers","following_url":"https://api.github.com/users/andrenatal/following{/other_user}","gists_url":"https://api.github.com/users/andrenatal/gists{/gist_id}","starred_url":"https://api.github.com/users/andrenatal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrenatal/subscriptions","organizations_url":"https://api.github.com/users/andrenatal/orgs","repos_url":"https://api.github.com/users/andrenatal/repos","events_url":"https://api.github.com/users/andrenatal/events{/privacy}","received_events_url":"https://api.github.com/users/andrenatal/received_events","type":"User","site_admin":false},"created_at":"2020-07-31T20:22:56Z","updated_at":"2020-07-31T20:22:56Z","author_association":"MEMBER","body":"Thanks @dan-wells. \r\n\r\nReducing `num_loader_workers` to `0` didn't work.\r\n\r\nI'll try applying your patch.\r\n\r\nThanks for pointing that out!  ","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667340867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andrenatal","id":973388,"node_id":"MDQ6VXNlcjk3MzM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/973388?v=4","gravatar_id":"","url":"https://api.github.com/users/andrenatal","html_url":"https://github.com/andrenatal","followers_url":"https://api.github.com/users/andrenatal/followers","following_url":"https://api.github.com/users/andrenatal/following{/other_user}","gists_url":"https://api.github.com/users/andrenatal/gists{/gist_id}","starred_url":"https://api.github.com/users/andrenatal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrenatal/subscriptions","organizations_url":"https://api.github.com/users/andrenatal/orgs","repos_url":"https://api.github.com/users/andrenatal/repos","events_url":"https://api.github.com/users/andrenatal/events{/privacy}","received_events_url":"https://api.github.com/users/andrenatal/received_events","type":"User","site_admin":false}},{"id":3610157213,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYxMDE1NzIxMw==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3610157213","actor":{"login":"dan-wells","id":7267494,"node_id":"MDQ6VXNlcjcyNjc0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7267494?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-wells","html_url":"https://github.com/dan-wells","followers_url":"https://api.github.com/users/dan-wells/followers","following_url":"https://api.github.com/users/dan-wells/following{/other_user}","gists_url":"https://api.github.com/users/dan-wells/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-wells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-wells/subscriptions","organizations_url":"https://api.github.com/users/dan-wells/orgs","repos_url":"https://api.github.com/users/dan-wells/repos","events_url":"https://api.github.com/users/dan-wells/events{/privacy}","received_events_url":"https://api.github.com/users/dan-wells/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-31T20:22:56Z","performed_via_github_app":null},{"id":3610157216,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MTAxNTcyMTY=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3610157216","actor":{"login":"dan-wells","id":7267494,"node_id":"MDQ6VXNlcjcyNjc0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7267494?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-wells","html_url":"https://github.com/dan-wells","followers_url":"https://api.github.com/users/dan-wells/followers","following_url":"https://api.github.com/users/dan-wells/following{/other_user}","gists_url":"https://api.github.com/users/dan-wells/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-wells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-wells/subscriptions","organizations_url":"https://api.github.com/users/dan-wells/orgs","repos_url":"https://api.github.com/users/dan-wells/repos","events_url":"https://api.github.com/users/dan-wells/events{/privacy}","received_events_url":"https://api.github.com/users/dan-wells/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-31T20:22:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667595705","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-667595705","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":667595705,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzU5NTcwNQ==","user":{"login":"nmstoker","id":3694484,"node_id":"MDQ6VXNlcjM2OTQ0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3694484?v=4","gravatar_id":"","url":"https://api.github.com/users/nmstoker","html_url":"https://github.com/nmstoker","followers_url":"https://api.github.com/users/nmstoker/followers","following_url":"https://api.github.com/users/nmstoker/following{/other_user}","gists_url":"https://api.github.com/users/nmstoker/gists{/gist_id}","starred_url":"https://api.github.com/users/nmstoker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmstoker/subscriptions","organizations_url":"https://api.github.com/users/nmstoker/orgs","repos_url":"https://api.github.com/users/nmstoker/repos","events_url":"https://api.github.com/users/nmstoker/events{/privacy}","received_events_url":"https://api.github.com/users/nmstoker/received_events","type":"User","site_admin":false},"created_at":"2020-08-01T22:37:54Z","updated_at":"2020-08-01T22:37:54Z","author_association":"CONTRIBUTOR","body":"Thanks @dan-wells - this worked for me with the Vocoder where I was also experiencing a memory issue. I'd actually tried something similar myself but had applied the close at the wrong point so it wasn't working. Your code did the trick.\r\n\r\nThe location of visual.py moved after the refactor in dev but the exact same changes within the file work.","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667595705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nmstoker","id":3694484,"node_id":"MDQ6VXNlcjM2OTQ0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3694484?v=4","gravatar_id":"","url":"https://api.github.com/users/nmstoker","html_url":"https://github.com/nmstoker","followers_url":"https://api.github.com/users/nmstoker/followers","following_url":"https://api.github.com/users/nmstoker/following{/other_user}","gists_url":"https://api.github.com/users/nmstoker/gists{/gist_id}","starred_url":"https://api.github.com/users/nmstoker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmstoker/subscriptions","organizations_url":"https://api.github.com/users/nmstoker/orgs","repos_url":"https://api.github.com/users/nmstoker/repos","events_url":"https://api.github.com/users/nmstoker/events{/privacy}","received_events_url":"https://api.github.com/users/nmstoker/received_events","type":"User","site_admin":false}},{"id":3612594266,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYxMjU5NDI2Ng==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3612594266","actor":{"login":"dan-wells","id":7267494,"node_id":"MDQ6VXNlcjcyNjc0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7267494?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-wells","html_url":"https://github.com/dan-wells","followers_url":"https://api.github.com/users/dan-wells/followers","following_url":"https://api.github.com/users/dan-wells/following{/other_user}","gists_url":"https://api.github.com/users/dan-wells/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-wells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-wells/subscriptions","organizations_url":"https://api.github.com/users/dan-wells/orgs","repos_url":"https://api.github.com/users/dan-wells/repos","events_url":"https://api.github.com/users/dan-wells/events{/privacy}","received_events_url":"https://api.github.com/users/dan-wells/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-01T22:37:54Z","performed_via_github_app":null},{"id":3612594267,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MTI1OTQyNjc=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3612594267","actor":{"login":"dan-wells","id":7267494,"node_id":"MDQ6VXNlcjcyNjc0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7267494?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-wells","html_url":"https://github.com/dan-wells","followers_url":"https://api.github.com/users/dan-wells/followers","following_url":"https://api.github.com/users/dan-wells/following{/other_user}","gists_url":"https://api.github.com/users/dan-wells/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-wells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-wells/subscriptions","organizations_url":"https://api.github.com/users/dan-wells/orgs","repos_url":"https://api.github.com/users/dan-wells/repos","events_url":"https://api.github.com/users/dan-wells/events{/privacy}","received_events_url":"https://api.github.com/users/dan-wells/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-01T22:37:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667671019","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-667671019","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":667671019,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzY3MTAxOQ==","user":{"login":"dan-wells","id":7267494,"node_id":"MDQ6VXNlcjcyNjc0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7267494?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-wells","html_url":"https://github.com/dan-wells","followers_url":"https://api.github.com/users/dan-wells/followers","following_url":"https://api.github.com/users/dan-wells/following{/other_user}","gists_url":"https://api.github.com/users/dan-wells/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-wells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-wells/subscriptions","organizations_url":"https://api.github.com/users/dan-wells/orgs","repos_url":"https://api.github.com/users/dan-wells/repos","events_url":"https://api.github.com/users/dan-wells/events{/privacy}","received_events_url":"https://api.github.com/users/dan-wells/received_events","type":"User","site_admin":false},"created_at":"2020-08-02T12:58:13Z","updated_at":"2020-08-02T12:58:13Z","author_association":"NONE","body":"@nmstoker I saw your Discourse thread about the vocoder training and wondered if it was the same thing. Glad to hear it helps there too!","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667671019/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dan-wells","id":7267494,"node_id":"MDQ6VXNlcjcyNjc0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7267494?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-wells","html_url":"https://github.com/dan-wells","followers_url":"https://api.github.com/users/dan-wells/followers","following_url":"https://api.github.com/users/dan-wells/following{/other_user}","gists_url":"https://api.github.com/users/dan-wells/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-wells/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-wells/subscriptions","organizations_url":"https://api.github.com/users/dan-wells/orgs","repos_url":"https://api.github.com/users/dan-wells/repos","events_url":"https://api.github.com/users/dan-wells/events{/privacy}","received_events_url":"https://api.github.com/users/dan-wells/received_events","type":"User","site_admin":false}},{"id":3613321226,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYxMzMyMTIyNg==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3613321226","actor":{"login":"nmstoker","id":3694484,"node_id":"MDQ6VXNlcjM2OTQ0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3694484?v=4","gravatar_id":"","url":"https://api.github.com/users/nmstoker","html_url":"https://github.com/nmstoker","followers_url":"https://api.github.com/users/nmstoker/followers","following_url":"https://api.github.com/users/nmstoker/following{/other_user}","gists_url":"https://api.github.com/users/nmstoker/gists{/gist_id}","starred_url":"https://api.github.com/users/nmstoker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmstoker/subscriptions","organizations_url":"https://api.github.com/users/nmstoker/orgs","repos_url":"https://api.github.com/users/nmstoker/repos","events_url":"https://api.github.com/users/nmstoker/events{/privacy}","received_events_url":"https://api.github.com/users/nmstoker/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-02T12:58:14Z","performed_via_github_app":null},{"id":3613321227,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2MTMzMjEyMjc=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3613321227","actor":{"login":"nmstoker","id":3694484,"node_id":"MDQ6VXNlcjM2OTQ0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3694484?v=4","gravatar_id":"","url":"https://api.github.com/users/nmstoker","html_url":"https://github.com/nmstoker","followers_url":"https://api.github.com/users/nmstoker/followers","following_url":"https://api.github.com/users/nmstoker/following{/other_user}","gists_url":"https://api.github.com/users/nmstoker/gists{/gist_id}","starred_url":"https://api.github.com/users/nmstoker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmstoker/subscriptions","organizations_url":"https://api.github.com/users/nmstoker/orgs","repos_url":"https://api.github.com/users/nmstoker/repos","events_url":"https://api.github.com/users/nmstoker/events{/privacy}","received_events_url":"https://api.github.com/users/nmstoker/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-02T12:58:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667963917","html_url":"https://github.com/mozilla/TTS/issues/460#issuecomment-667963917","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/460","id":667963917,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzk2MzkxNw==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-08-03T11:13:31Z","updated_at":"2020-08-03T11:13:31Z","author_association":"CONTRIBUTOR","body":"I added the close statements in dev branch. Pls reopen if you see the same problem again using dev branch.","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/667963917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"id":3615459753,"node_id":"MDExOkNsb3NlZEV2ZW50MzYxNTQ1OTc1Mw==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/3615459753","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-08-03T11:13:31Z","state_reason":null,"performed_via_github_app":null}]