[{"id":4051784702,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA1MTc4NDcwMg==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4051784702","actor":{"login":"nmstoker","id":3694484,"node_id":"MDQ6VXNlcjM2OTQ0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3694484?v=4","gravatar_id":"","url":"https://api.github.com/users/nmstoker","html_url":"https://github.com/nmstoker","followers_url":"https://api.github.com/users/nmstoker/followers","following_url":"https://api.github.com/users/nmstoker/following{/other_user}","gists_url":"https://api.github.com/users/nmstoker/gists{/gist_id}","starred_url":"https://api.github.com/users/nmstoker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmstoker/subscriptions","organizations_url":"https://api.github.com/users/nmstoker/orgs","repos_url":"https://api.github.com/users/nmstoker/repos","events_url":"https://api.github.com/users/nmstoker/events{/privacy}","received_events_url":"https://api.github.com/users/nmstoker/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-11-30T12:52:54Z","performed_via_github_app":null},{"id":4051784708,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNTE3ODQ3MDg=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4051784708","actor":{"login":"nmstoker","id":3694484,"node_id":"MDQ6VXNlcjM2OTQ0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3694484?v=4","gravatar_id":"","url":"https://api.github.com/users/nmstoker","html_url":"https://github.com/nmstoker","followers_url":"https://api.github.com/users/nmstoker/followers","following_url":"https://api.github.com/users/nmstoker/following{/other_user}","gists_url":"https://api.github.com/users/nmstoker/gists{/gist_id}","starred_url":"https://api.github.com/users/nmstoker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmstoker/subscriptions","organizations_url":"https://api.github.com/users/nmstoker/orgs","repos_url":"https://api.github.com/users/nmstoker/repos","events_url":"https://api.github.com/users/nmstoker/events{/privacy}","received_events_url":"https://api.github.com/users/nmstoker/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-11-30T12:52:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/735783696","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-735783696","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":735783696,"node_id":"MDEyOklzc3VlQ29tbWVudDczNTc4MzY5Ng==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-11-30T13:25:10Z","updated_at":"2020-11-30T13:25:10Z","author_association":"CONTRIBUTOR","body":"it is probably OOM error in a different face.","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/735783696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/735825014","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-735825014","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":735825014,"node_id":"MDEyOklzc3VlQ29tbWVudDczNTgyNTAxNA==","user":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"created_at":"2020-11-30T14:38:52Z","updated_at":"2020-11-30T14:38:52Z","author_association":"CONTRIBUTOR","body":"That would be the most obvious, but it tried decreasing batchsizes from 96 (_default_) down to 8 with no effect.\r\nI also tried changing lr from 1e-4 (_default_) to 2e-4 (_default value in freds0 wavegrad implementation_).\r\n\r\nI initially set \"stats_path\" to the \"taco2-scale_stats.npy\" from our taco2 model training (**is this a good idea in genera**l)? If i leave \"stats_path\" empty i receive a warning before training is failing with previous written error:\r\n\r\n```\r\n > TRAINING (2020-11-30 15:32:13) \r\n/home/thorsten/___prj/tts/models/vocoder/wavegrad/mozilla/lib/python3.6/site-packages/torch/optim/lr_scheduler.py:123: UserWarning: Detected call of `lr_scheduler.step()` before `optimizer.step()`. In PyTorch 1.1.0 and later, you should call them in the opposite order: `optimizer.step()` before `lr_scheduler.step()`.  Failure to do this will result in PyTorch skipping the first value of the learning rate schedule. See more details at https://pytorch.org/docs/stable/optim.html#how-to-adjust-learning-rate\r\n  \"https://pytorch.org/docs/stable/optim.html#how-to-adjust-learning-rate\", UserWarning)\r\n```","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/735825014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/735840104","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-735840104","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":735840104,"node_id":"MDEyOklzc3VlQ29tbWVudDczNTg0MDEwNA==","user":{"login":"nmstoker","id":3694484,"node_id":"MDQ6VXNlcjM2OTQ0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3694484?v=4","gravatar_id":"","url":"https://api.github.com/users/nmstoker","html_url":"https://github.com/nmstoker","followers_url":"https://api.github.com/users/nmstoker/followers","following_url":"https://api.github.com/users/nmstoker/following{/other_user}","gists_url":"https://api.github.com/users/nmstoker/gists{/gist_id}","starred_url":"https://api.github.com/users/nmstoker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmstoker/subscriptions","organizations_url":"https://api.github.com/users/nmstoker/orgs","repos_url":"https://api.github.com/users/nmstoker/repos","events_url":"https://api.github.com/users/nmstoker/events{/privacy}","received_events_url":"https://api.github.com/users/nmstoker/received_events","type":"User","site_admin":false},"created_at":"2020-11-30T15:03:27Z","updated_at":"2020-11-30T15:03:27Z","author_association":"CONTRIBUTOR","body":"I realise each case can be different but I'm pretty sure it went okay for me using the WaveGrad in TTS with the LR at 1e-4, although I did hit some minor problems where I was continuing training (although looks like those aren't quite what you have here).\r\n\r\nFor the original error, \"CUDA error: device-side assert triggered\", I think you may be able to get more detail if you run it again with:\r\n**CUDA_LAUNCH_BLOCKING=\"1\"**","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/735840104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nmstoker","id":3694484,"node_id":"MDQ6VXNlcjM2OTQ0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3694484?v=4","gravatar_id":"","url":"https://api.github.com/users/nmstoker","html_url":"https://github.com/nmstoker","followers_url":"https://api.github.com/users/nmstoker/followers","following_url":"https://api.github.com/users/nmstoker/following{/other_user}","gists_url":"https://api.github.com/users/nmstoker/gists{/gist_id}","starred_url":"https://api.github.com/users/nmstoker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmstoker/subscriptions","organizations_url":"https://api.github.com/users/nmstoker/orgs","repos_url":"https://api.github.com/users/nmstoker/repos","events_url":"https://api.github.com/users/nmstoker/events{/privacy}","received_events_url":"https://api.github.com/users/nmstoker/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736020988","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-736020988","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":736020988,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjAyMDk4OA==","user":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"created_at":"2020-11-30T20:22:30Z","updated_at":"2020-11-30T20:22:30Z","author_association":"CONTRIBUTOR","body":"Running with \r\n> CUDA_LAUNCH_BLOCKING=\"1\"\r\n\r\ndidn't provide more debug output.\r\n\r\nI ran \"compute_statistics.py\" with my wavegrad vocoder config file and it provided these output. I used the .npy file as stats_path in vocoder config.\r\n```\r\n > There are 22672 files.\r\n100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 22672/22672 [15:03<00:00, 25.09it/s]\r\n > Avg mel spec mean: -50.53502474642339\r\n > Avg mel spec scale: 16.255307995251243\r\n > Avg linear spec mean: -36.591325638551716\r\n > Avg lienar spec scale: 14.408225508873507\r\n > stats saved to /tmp/thorsten-wavegrad-vocoder-stats.npy\r\n```\r\n\r\nI think maybe my torch version 1.6 has influence on that. Trying torch version 1.7 next.","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736020988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736051393","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-736051393","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":736051393,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjA1MTM5Mw==","user":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false},"created_at":"2020-11-30T21:04:12Z","updated_at":"2020-11-30T21:04:48Z","author_association":"CONTRIBUTOR","body":"Did you run it using `CUDA_LAUNCH_BLOCKING=1 python ./TTS/bin/train_vocoder_wavegrad.py --config_path ./TTS/vocoder/configs/wavegrad_thorsten.json`? This should force cpu execution. ","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736051393/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736247428","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-736247428","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":736247428,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjI0NzQyOA==","user":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"created_at":"2020-12-01T06:13:44Z","updated_at":"2020-12-01T06:13:44Z","author_association":"CONTRIBUTOR","body":"Yes, @SanjaESC i ran the above command but output shows that CUDA is still used.\r\nI also tried \"export CUDA_LAUNCH_BLOCKING=1\" without success.\r\n\r\nI'm asking me if i'm doing something wrong in general if it works for you all, but i'm struggeling with it.\r\nIs there a recommenden torch version?\r\n\r\n```\r\n(mozilla) thorsten@nvidia-agx:~/___prj/tts/models/vocoder/wavegrad/mozilla/TTS$ CUDA_LAUNCH_BLOCKING=1 python ./TTS/bin/train_vocoder_wavegrad.py --config_path ./TTS/vocoder/configs/wavegrad_thorsten.json\r\n > Using CUDA:  True\r\n > Number of GPUs:  1\r\n   >  Mixed precision is enabled\r\n > Git Hash: ac46c3f\r\n > Experiment folder: /home/thorsten/___prj/tts/models/vocoder/wavegrad/mozilla/wavegrad-model-output/wavegrad-thorsten-December-01-2020_07+11AM-ac46c3f\r\n```","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736247428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false}},{"id":4055334843,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA1NTMzNDg0Mw==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4055334843","actor":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-01T06:13:44Z","performed_via_github_app":null},{"id":4055334845,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNTUzMzQ4NDU=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4055334845","actor":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-01T06:13:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736248673","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-736248673","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":736248673,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjI0ODY3Mw==","user":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"created_at":"2020-12-01T06:16:56Z","updated_at":"2020-12-01T06:16:56Z","author_association":"CONTRIBUTOR","body":"btw. that's happening on torch 1.7:\r\n\r\n```\r\n > EPOCH: 0/10000\r\n\r\n > TRAINING (2020-12-01 07:11:57) \r\n ! Run is removed from /home/thorsten/___prj/tts/models/vocoder/wavegrad/mozilla/wavegrad-model-output/wavegrad-thorsten-December-01-2020_07+11AM-ac46c3f\r\nTraceback (most recent call last):\r\n  File \"./TTS/bin/train_vocoder_wavegrad.py\", line 504, in <module>\r\n    main(args)\r\n  File \"./TTS/bin/train_vocoder_wavegrad.py\", line 401, in main\r\n    epoch)\r\n  File \"./TTS/bin/train_vocoder_wavegrad.py\", line 127, in train\r\n    raise RuntimeError(f'Detected NaN loss at step {global_step}.')\r\nRuntimeError: Detected NaN loss at step 1.\r\n```\r\n\r\nI tried some workaround from this wavegrad repo (https://github.com/ivanvovk/WaveGrad/issues/8#issuecomment-706800710)","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736248673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736542046","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-736542046","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":736542046,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjU0MjA0Ng==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-12-01T13:11:09Z","updated_at":"2020-12-01T13:11:09Z","author_association":"CONTRIBUTOR","body":"it is the latest dev right? ","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736542046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736577995","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-736577995","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":736577995,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjU3Nzk5NQ==","user":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"created_at":"2020-12-01T14:15:09Z","updated_at":"2020-12-01T14:16:08Z","author_association":"CONTRIBUTOR","body":"Yes.\r\ngit pull: Already up to date\r\n\r\n![Screenshot_20201201_151203](https://user-images.githubusercontent.com/9558265/100751642-dfcabd80-33e7-11eb-8ee2-a3bf1c60ff09.jpg)\r\n","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736577995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736708365","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-736708365","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":736708365,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjcwODM2NQ==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-12-01T17:38:18Z","updated_at":"2020-12-01T17:38:18Z","author_association":"CONTRIBUTOR","body":"It also happens on my side but smaller LR fixed NaN or jumping losses. ","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736708365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736862836","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-736862836","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":736862836,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg2MjgzNg==","user":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"created_at":"2020-12-01T22:33:35Z","updated_at":"2020-12-01T22:33:35Z","author_association":"CONTRIBUTOR","body":"\r\nChanging LR value didn't help.\r\nI tried different values for mixed_precision true/false, gamma and pad_short without success.\r\n\r\nI thought maybe it's because i've some too short audio files in my dataset, so i copied the biggest 500 audio recordings to a mini-dataset but that didn't change anything.\r\n\r\nNext i'd try with another dataset to check if my setup or my dataset is the problem.\r\nIf anybody is interested and has time left here's the download for my dataset which causes the problems.\r\nhttps://drive.google.com/file/d/1mGWfG0s2V2TEg-AI2m85tze1m4pyeM7b/view?usp=sharing","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/736862836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737239569","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-737239569","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":737239569,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzIzOTU2OQ==","user":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false},"created_at":"2020-12-02T13:46:06Z","updated_at":"2020-12-02T13:54:16Z","author_association":"CONTRIBUTOR","body":"> Next i'd try with another dataset to check if my setup or my dataset is the problem.\r\n> If anybody is interested and has time left here's the download for my dataset which causes the problems.\r\n> https://drive.google.com/file/d/1mGWfG0s2V2TEg-AI2m85tze1m4pyeM7b/view?usp=sharing\r\n\r\nI've had the same `RuntimeError: CUDA error: device-side assert triggered` trying to train on your data. \r\n\r\nI think the problem stems from here https://github.com/mozilla/TTS/blob/ac46c3ff4ce7ae85d99b1b40dde0802e31de5767/TTS/vocoder/models/wavegrad.py#L108\r\n\r\nThere is a chance to get an index which will fail in the next line \r\nhttps://github.com/mozilla/TTS/blob/ac46c3ff4ce7ae85d99b1b40dde0802e31de5767/TTS/vocoder/models/wavegrad.py#L109\r\n\r\nSo changing line 108 to `s = torch.randint(0, self.num_steps, [y_0.shape[0]])` worked, and it seems to train fine.\r\n\r\n[wavegrad_thorsten.zip](https://github.com/mozilla/TTS/files/5629675/wavegrad_thorsten.zip)\r\n","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737239569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737317131","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-737317131","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":737317131,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzMxNzEzMQ==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-12-02T15:49:55Z","updated_at":"2020-12-02T15:50:03Z","author_association":"CONTRIBUTOR","body":"I'm confused. What is the issue here? NaN loss or indexing problem?","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737317131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737322868","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-737322868","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":737322868,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzMyMjg2OA==","user":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"created_at":"2020-12-02T15:58:44Z","updated_at":"2020-12-02T15:58:44Z","author_association":"CONTRIBUTOR","body":"Thanks @SanjaESC for figuring out the problem üëç . Did you cancel training or is it still running?\r\n@erogol I started with torch 1.6.0 and ran into the index problem. After that i tried training using torch 1.7 and ran into the NaN problem.\r\n\r\nWhen i understand @SanjaESC right i'll switch back to torch 1.6 and apply the \"fix\" for my dataset in line 108 and training should work then.","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737322868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false}},{"id":4063113816,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2MzExMzgxNg==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063113816","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-02T15:58:44Z","performed_via_github_app":null},{"id":4063113822,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjMxMTM4MjI=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063113822","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-02T15:58:44Z","performed_via_github_app":null},{"id":4063113832,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2MzExMzgzMg==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063113832","actor":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-02T15:58:44Z","performed_via_github_app":null},{"id":4063113837,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjMxMTM4Mzc=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063113837","actor":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-02T15:58:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737336083","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-737336083","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":737336083,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzMzNjA4Mw==","user":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false},"created_at":"2020-12-02T16:18:10Z","updated_at":"2020-12-02T16:18:10Z","author_association":"CONTRIBUTOR","body":"@thorstenMueller I've stopped it. \r\n@erogol For me it was the indexing problem. \r\n\r\nMore Infos: \r\n- tested with the current dev branch. \r\n- torch version is 1.7\r\n","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737336083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false}},{"id":4063213685,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2MzIxMzY4NQ==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063213685","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-02T16:18:10Z","performed_via_github_app":null},{"id":4063213696,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjMyMTM2OTY=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063213696","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-02T16:18:10Z","performed_via_github_app":null},{"id":4063213712,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2MzIxMzcxMg==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063213712","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-02T16:18:10Z","performed_via_github_app":null},{"id":4063213714,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjMyMTM3MTQ=","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063213714","actor":{"login":"thorstenMueller","id":9558265,"node_id":"MDQ6VXNlcjk1NTgyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9558265?v=4","gravatar_id":"","url":"https://api.github.com/users/thorstenMueller","html_url":"https://github.com/thorstenMueller","followers_url":"https://api.github.com/users/thorstenMueller/followers","following_url":"https://api.github.com/users/thorstenMueller/following{/other_user}","gists_url":"https://api.github.com/users/thorstenMueller/gists{/gist_id}","starred_url":"https://api.github.com/users/thorstenMueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorstenMueller/subscriptions","organizations_url":"https://api.github.com/users/thorstenMueller/orgs","repos_url":"https://api.github.com/users/thorstenMueller/repos","events_url":"https://api.github.com/users/thorstenMueller/events{/privacy}","received_events_url":"https://api.github.com/users/thorstenMueller/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-02T16:18:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737353970","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-737353970","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":737353970,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzM1Mzk3MA==","user":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"created_at":"2020-12-02T16:45:46Z","updated_at":"2020-12-02T16:45:46Z","author_association":"CONTRIBUTOR","body":"but if you do this \r\n\r\n```s = torch.randint(0, self.num_steps, [y_0.shape[0]])```\r\n\r\nThe next line could get index -1 since it generates values in a range including 0","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737353970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737382518","html_url":"https://github.com/mozilla/TTS/issues/581#issuecomment-737382518","issue_url":"https://api.github.com/repos/mozilla/TTS/issues/581","id":737382518,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzM4MjUxOA==","user":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false},"created_at":"2020-12-02T17:33:57Z","updated_at":"2020-12-02T17:36:17Z","author_association":"CONTRIBUTOR","body":"@erogol I have not really investigated the code yet. \r\nBut the error only appears when there is a value=1000 inside the tensor s. Guess because it's only 0-999 for the noise schedule.\r\n\r\nSo ` s = torch.randint(1, self.num_steps, [y_0.shape[0]])` should be sufficient here, but not sure how it might impact the model performance here.\r\n\r\nBut thinking about it, wouldn't -1 just be the last value of the list? So guess that's why it also works.\r\n","reactions":{"url":"https://api.github.com/repos/mozilla/TTS/issues/comments/737382518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lexkoro","id":6319070,"node_id":"MDQ6VXNlcjYzMTkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6319070?v=4","gravatar_id":"","url":"https://api.github.com/users/lexkoro","html_url":"https://github.com/lexkoro","followers_url":"https://api.github.com/users/lexkoro/followers","following_url":"https://api.github.com/users/lexkoro/following{/other_user}","gists_url":"https://api.github.com/users/lexkoro/gists{/gist_id}","starred_url":"https://api.github.com/users/lexkoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexkoro/subscriptions","organizations_url":"https://api.github.com/users/lexkoro/orgs","repos_url":"https://api.github.com/users/lexkoro/repos","events_url":"https://api.github.com/users/lexkoro/events{/privacy}","received_events_url":"https://api.github.com/users/lexkoro/received_events","type":"User","site_admin":false}},{"id":4063575983,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2MzU3NTk4Mw==","url":"https://api.github.com/repos/mozilla/TTS/issues/events/4063575983","actor":{"login":"erogol","id":1402048,"node_id":"MDQ6VXNlcjE0MDIwNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1402048?v=4","gravatar_id":"","url":"https://api.github.com/users/erogol","html_url":"https://github.com/erogol","followers_url":"https://api.github.com/users/erogol/followers","following_url":"https://api.github.com/users/erogol/following{/other_user}","gists_url":"https://api.github.com/users/erogol/gists{/gist_id}","starred_url":"https://api.github.com/users/erogol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erogol/subscriptions","organizations_url":"https://api.github.com/users/erogol/orgs","repos_url":"https://api.github.com/users/erogol/repos","events_url":"https://api.github.com/users/erogol/events{/privacy}","received_events_url":"https://api.github.com/users/erogol/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-02T17:33:57Z","performed_via_github_app":null}]