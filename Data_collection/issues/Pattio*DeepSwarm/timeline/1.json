[{"url":"https://api.github.com/repos/Pattio/DeepSwarm/issues/comments/494063559","html_url":"https://github.com/Pattio/DeepSwarm/issues/1#issuecomment-494063559","issue_url":"https://api.github.com/repos/Pattio/DeepSwarm/issues/1","id":494063559,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDA2MzU1OQ==","user":{"login":"Pattio","id":9087174,"node_id":"MDQ6VXNlcjkwODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9087174?v=4","gravatar_id":"","url":"https://api.github.com/users/Pattio","html_url":"https://github.com/Pattio","followers_url":"https://api.github.com/users/Pattio/followers","following_url":"https://api.github.com/users/Pattio/following{/other_user}","gists_url":"https://api.github.com/users/Pattio/gists{/gist_id}","starred_url":"https://api.github.com/users/Pattio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pattio/subscriptions","organizations_url":"https://api.github.com/users/Pattio/orgs","repos_url":"https://api.github.com/users/Pattio/repos","events_url":"https://api.github.com/users/Pattio/events{/privacy}","received_events_url":"https://api.github.com/users/Pattio/received_events","type":"User","site_admin":false},"created_at":"2019-05-20T16:40:50Z","updated_at":"2019-05-20T16:40:50Z","author_association":"OWNER","body":"Hi, thank you for the catch üëç I totally forgot to update the minimum requirements. I think it should be good now so I'm closing the issue, but if you see any problems please message me.","reactions":{"url":"https://api.github.com/repos/Pattio/DeepSwarm/issues/comments/494063559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Pattio","id":9087174,"node_id":"MDQ6VXNlcjkwODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9087174?v=4","gravatar_id":"","url":"https://api.github.com/users/Pattio","html_url":"https://github.com/Pattio","followers_url":"https://api.github.com/users/Pattio/followers","following_url":"https://api.github.com/users/Pattio/following{/other_user}","gists_url":"https://api.github.com/users/Pattio/gists{/gist_id}","starred_url":"https://api.github.com/users/Pattio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pattio/subscriptions","organizations_url":"https://api.github.com/users/Pattio/orgs","repos_url":"https://api.github.com/users/Pattio/repos","events_url":"https://api.github.com/users/Pattio/events{/privacy}","received_events_url":"https://api.github.com/users/Pattio/received_events","type":"User","site_admin":false}},{"id":2353702945,"node_id":"MDExOkNsb3NlZEV2ZW50MjM1MzcwMjk0NQ==","url":"https://api.github.com/repos/Pattio/DeepSwarm/issues/events/2353702945","actor":{"login":"Pattio","id":9087174,"node_id":"MDQ6VXNlcjkwODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9087174?v=4","gravatar_id":"","url":"https://api.github.com/users/Pattio","html_url":"https://github.com/Pattio","followers_url":"https://api.github.com/users/Pattio/followers","following_url":"https://api.github.com/users/Pattio/following{/other_user}","gists_url":"https://api.github.com/users/Pattio/gists{/gist_id}","starred_url":"https://api.github.com/users/Pattio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pattio/subscriptions","organizations_url":"https://api.github.com/users/Pattio/orgs","repos_url":"https://api.github.com/users/Pattio/repos","events_url":"https://api.github.com/users/Pattio/events{/privacy}","received_events_url":"https://api.github.com/users/Pattio/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-20T16:40:50Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/Pattio/DeepSwarm/issues/comments/494069181","html_url":"https://github.com/Pattio/DeepSwarm/issues/1#issuecomment-494069181","issue_url":"https://api.github.com/repos/Pattio/DeepSwarm/issues/1","id":494069181,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDA2OTE4MQ==","user":{"login":"isaacgerg","id":11971499,"node_id":"MDQ6VXNlcjExOTcxNDk5","avatar_url":"https://avatars.githubusercontent.com/u/11971499?v=4","gravatar_id":"","url":"https://api.github.com/users/isaacgerg","html_url":"https://github.com/isaacgerg","followers_url":"https://api.github.com/users/isaacgerg/followers","following_url":"https://api.github.com/users/isaacgerg/following{/other_user}","gists_url":"https://api.github.com/users/isaacgerg/gists{/gist_id}","starred_url":"https://api.github.com/users/isaacgerg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isaacgerg/subscriptions","organizations_url":"https://api.github.com/users/isaacgerg/orgs","repos_url":"https://api.github.com/users/isaacgerg/repos","events_url":"https://api.github.com/users/isaacgerg/events{/privacy}","received_events_url":"https://api.github.com/users/isaacgerg/received_events","type":"User","site_admin":false},"created_at":"2019-05-20T16:57:42Z","updated_at":"2019-05-20T23:02:10Z","author_association":"NONE","body":"You may want to consider performing additional metrics aside from the keras ones which are batch driven.  For example, you could use the following code and compute AUC.\r\n\r\n'''\r\ndef predict(model, generator, steps, numThreads=2, qSize=5):\r\n    numItemsPushed_predict = 0\r\n    dataQueue = queue.Queue(maxsize=qSize)\r\n    mutex = threading.Lock()\r\n\r\n    def producer(steps):\r\n        nonlocal numItemsPushed_predict\r\n        killMe = False\r\n        while True:\r\n            mutex.acquire()\r\n            if numItemsPushed_predict < steps:\r\n                numItemsPushed_predict += 1\r\n            else:\r\n                killMe = True\r\n            myUid = numItemsPushed_predict\r\n            mutex.release()\r\n            if killMe:\r\n                return\r\n            #\r\n            x, y = generator.next(myUid-1)\r\n            dataQueue.put((x,y,myUid-1))\r\n            #\r\n        #\r\n    #\r\n\r\n    tVec = []\r\n    for k in range(numThreads):\r\n        t = threading.Thread(target=producer, args=(steps,))\r\n        t.daemon = True\r\n        t.start()\r\n        tVec.append(t)\r\n\r\n    truthVec = None\r\n    predVec = None\r\n    batchSize = None\r\n    pBar = tqdm.tqdm(range(steps), desc='TEST')\r\n    for k in pBar:\r\n        currentQSize = dataQueue.qsize()\r\n        item = dataQueue.get()\r\n        x = item[0]\r\n        y = item[1]\r\n        uid = item[2] # TODO for ordering\r\n        if batchSize is None:\r\n            if type(x) is list:\r\n                batchSize = x[0].shape[0]\r\n            else:\r\n                batchSize = x.shape[0]\r\n            #\r\n            truthVec = np.zeros(batchSize*steps)\r\n            predVec = np.zeros(batchSize*steps)\r\n        y_pred = model.predict(x, batch_size = batchSize)\r\n        truthVec[uid*batchSize : (uid+1)*batchSize] = y.flatten()\r\n        if type(y_pred) is list:\r\n            predVec[uid*batchSize : (uid+1)*batchSize] = y_pred[0].flatten()\r\n        else:\r\n            predVec[uid*batchSize : (uid+1)*batchSize] = y_pred.flatten()\r\n        pBar.set_description('TEST | QSize: {0}/{1}'.format(currentQSize, qSize))\r\n    #\r\n\r\n    return truthVec, predVec\r\n'''\r\n\r\n\r\n`aucRoc = metrics.auc(turthVec, predVec)`\r\n\r\nAdditionally, use the above code, you could pass in generators instead of fixed data arrays.  The above code works in Windows and Linux.","reactions":{"url":"https://api.github.com/repos/Pattio/DeepSwarm/issues/comments/494069181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"isaacgerg","id":11971499,"node_id":"MDQ6VXNlcjExOTcxNDk5","avatar_url":"https://avatars.githubusercontent.com/u/11971499?v=4","gravatar_id":"","url":"https://api.github.com/users/isaacgerg","html_url":"https://github.com/isaacgerg","followers_url":"https://api.github.com/users/isaacgerg/followers","following_url":"https://api.github.com/users/isaacgerg/following{/other_user}","gists_url":"https://api.github.com/users/isaacgerg/gists{/gist_id}","starred_url":"https://api.github.com/users/isaacgerg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isaacgerg/subscriptions","organizations_url":"https://api.github.com/users/isaacgerg/orgs","repos_url":"https://api.github.com/users/isaacgerg/repos","events_url":"https://api.github.com/users/isaacgerg/events{/privacy}","received_events_url":"https://api.github.com/users/isaacgerg/received_events","type":"User","site_admin":false}}]