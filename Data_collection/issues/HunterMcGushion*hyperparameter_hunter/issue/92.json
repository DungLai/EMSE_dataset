{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/92","repository_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter","labels_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/92/labels{/name}","comments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/92/comments","events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/92/events","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/92","id":376968704,"node_id":"MDU6SXNzdWUzNzY5Njg3MDQ=","number":92,"title":"Basic examples not working","user":{"login":"Codeguyross","id":1108129,"node_id":"MDQ6VXNlcjExMDgxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/1108129?v=4","gravatar_id":"","url":"https://api.github.com/users/Codeguyross","html_url":"https://github.com/Codeguyross","followers_url":"https://api.github.com/users/Codeguyross/followers","following_url":"https://api.github.com/users/Codeguyross/following{/other_user}","gists_url":"https://api.github.com/users/Codeguyross/gists{/gist_id}","starred_url":"https://api.github.com/users/Codeguyross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Codeguyross/subscriptions","organizations_url":"https://api.github.com/users/Codeguyross/orgs","repos_url":"https://api.github.com/users/Codeguyross/repos","events_url":"https://api.github.com/users/Codeguyross/events{/privacy}","received_events_url":"https://api.github.com/users/Codeguyross/received_events","type":"User","site_admin":false},"labels":[{"id":951977102,"node_id":"MDU6TGFiZWw5NTE5NzcxMDI=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/labels/Easy","name":"Easy","color":"7057ff","default":false,"description":"Good for newcomers"},{"id":988857074,"node_id":"MDU6TGFiZWw5ODg4NTcwNzQ=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/labels/Documentation","name":"Documentation","color":"f27304","default":false,"description":"Documentation needs to be added/updated"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-11-02T21:09:56Z","updated_at":"2018-11-14T21:52:35Z","closed_at":"2018-11-14T21:52:35Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n```\r\nfrom hyperparameter_hunter import Environment, CrossValidationExperiment\r\nimport pandas as pd\r\nfrom sklearn.datasets import load_breast_cancer\r\nfrom sklearn.model_selection import StratifiedKFold\r\n\r\ndata = load_breast_cancer()\r\ndf = pd.DataFrame(data=data.data, columns=data.feature_names)\r\ndf['target'] = data.target\r\n\r\nenv = Environment(\r\n    train_dataset=df,  # Add holdout/test dataframes, too\r\n    root_results_path='results',  # Where your result files will go\r\n    metrics_map=['roc_auc_score'],  # Callables, or strings referring to `sklearn.metrics`\r\n    cross_validation_type=StratifiedKFold,  # Class, or string in `sklearn.model_selection`\r\n    cross_validation_params=dict(n_splits=5, shuffle=True, random_state=32)\r\n)\r\n```\r\n\r\nThe above block outputs this:\r\n`<2018-11-02 15:53:47,410> Cross-Experiment Key: 8d0CT6TLUxP99vjBuX57LW5JHu2bone60xiNY_gduIs=`\r\n\r\nThe next block throws an error:\r\n\r\n```\r\n# Same format used by `keras.wrappers.scikit_learn`. Nothing new to learn\r\ndef build_fn(input_shape):  # `input_shape` calculated for you\r\n    model = Sequential([\r\n        Dense(100, kernel_initializer='uniform', input_shape=input_shape, activation='relu'),\r\n        Dropout(0.5),\r\n        Dense(1, kernel_initializer='uniform', activation='sigmoid')\r\n    ])  # All layer arguments saved (whether explicit or Keras default) for future use\r\n    model.compile(optimizer='adam', loss='binary_crossentropy', metrics=['accuracy'])\r\n    return model\r\n\r\nexperiment = CrossValidationExperiment(\r\n    model_initializer=KerasClassifier,\r\n    model_init_params=build_fn,  # We interpret your build_fn to save hyperparameters in a useful, readable format\r\n    model_extra_params=dict(\r\n        callbacks=[ReduceLROnPlateau(patience=5)],  # Use Keras callbacks\r\n        batch_size=32, epochs=10, verbose=0  # Fit/predict arguments\r\n    )\r\n)\r\n```\r\n\r\nThe Error:\r\n\r\n```\r\n<2018-11-02 15:54:14,596> Validated Environment with key: '8d0CT6TLUxP99vjBuX57LW5JHu2bone60xiNY_gduIs='\r\n<2018-11-02 15:54:14,597> \r\n<2018-11-02 15:54:14,598> Initialized new Experiment with ID: 86bef01b-a9b8-4c71-95b4-8233d5ce31c5\r\n---------------------------------------------------------------------------\r\nFileNotFoundError                         Traceback (most recent call last)\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiments.py in _create_script_backup(self)\r\n    357                 try:\r\n--> 358                     self._source_copy_helper()\r\n    359                 except FileNotFoundError:\r\n\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiments.py in _source_copy_helper(self)\r\n    381         shutil.copyfile(\r\n--> 382             self.source_script, f\"{self.result_paths['script_backup']}/{self.experiment_id}.py\"\r\n    383         )\r\n\r\n~/anaconda/envs/testing/lib/python3.6/shutil.py in copyfile(src, dst, follow_symlinks)\r\n    119     else:\r\n--> 120         with open(src, 'rb') as fsrc:\r\n    121             with open(dst, 'wb') as fdst:\r\n\r\nFileNotFoundError: [Errno 2] No such file or directory: '/Users/codeguyross/Documents/hyperparameter_hunter/examples/<ipython-input-24-7d9bb9a149c6>'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nFileNotFoundError                         Traceback (most recent call last)\r\n<ipython-input-24-7d9bb9a149c6> in <module>()\r\n     14     model_extra_params=dict(\r\n     15         callbacks=[ReduceLROnPlateau(patience=5)],  # Use Keras callbacks\r\n---> 16         batch_size=32, epochs=10, verbose=0  # Fit/predict arguments\r\n     17     )\r\n     18 )\r\n\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiment_core.py in __call__(cls, *args, **kwargs)\r\n    130         cls.__bases__ = original_bases + auxiliary_bases\r\n    131 \r\n--> 132         return super().__call__(*args, **kwargs)\r\n    133 \r\n    134 \r\n\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiments.py in __init__(self, model_initializer, model_init_params, model_extra_params, feature_selector, preprocessing_pipeline, preprocessing_params, notes, do_raise_repeated, auto_start, target_metric)\r\n    613             do_raise_repeated=do_raise_repeated,\r\n    614             auto_start=auto_start,\r\n--> 615             target_metric=target_metric,\r\n    616         )\r\n    617 \r\n\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiments.py in __init__(self, model_initializer, model_init_params, model_extra_params, feature_selector, preprocessing_pipeline, preprocessing_params, notes, do_raise_repeated, auto_start, target_metric)\r\n    485             do_raise_repeated=do_raise_repeated,\r\n    486             auto_start=auto_start,\r\n--> 487             target_metric=target_metric,\r\n    488         )\r\n    489 \r\n\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiments.py in __init__(self, model_initializer, model_init_params, model_extra_params, feature_selector, preprocessing_pipeline, preprocessing_params, notes, do_raise_repeated, auto_start, target_metric)\r\n    188 \r\n    189         if self.auto_start is True:\r\n--> 190             self.preparation_workflow()\r\n    191             self.experiment_workflow()\r\n    192 \r\n\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiments.py in preparation_workflow(self)\r\n    235         G.debug(\"Starting preparation_workflow...\")\r\n    236         self._generate_experiment_id()\r\n--> 237         self._create_script_backup()\r\n    238         self._validate_parameters()\r\n    239         self._generate_hyperparameter_key()\r\n\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiments.py in _create_script_backup(self)\r\n    359                 except FileNotFoundError:\r\n    360                     os.makedirs(self.result_paths[\"script_backup\"], exist_ok=False)\r\n--> 361                     self._source_copy_helper()\r\n    362                 G.log(\"Created backup of file: '{}'\".format(self.source_script))\r\n    363             else:\r\n\r\n~/anaconda/envs/testing/lib/python3.6/site-packages/hyperparameter_hunter/experiments.py in _source_copy_helper(self)\r\n    380         \"\"\"Helper method to handle attempting to copy source script to backup file\"\"\"\r\n    381         shutil.copyfile(\r\n--> 382             self.source_script, f\"{self.result_paths['script_backup']}/{self.experiment_id}.py\"\r\n    383         )\r\n    384 \r\n\r\n~/anaconda/envs/testing/lib/python3.6/shutil.py in copyfile(src, dst, follow_symlinks)\r\n    118         os.symlink(os.readlink(src), dst)\r\n    119     else:\r\n--> 120         with open(src, 'rb') as fsrc:\r\n    121             with open(dst, 'wb') as fdst:\r\n    122                 copyfileobj(fsrc, fdst)\r\n\r\nFileNotFoundError: [Errno 2] No such file or directory: '/Users/codeguyross/Documents/hyperparameter_hunter/examples/<ipython-input-24-7d9bb9a149c6>'\r\n```\r\n","closed_by":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/92/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/92/timeline","performed_via_github_app":null,"state_reason":"completed"}