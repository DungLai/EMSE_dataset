[{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/435183811","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-435183811","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":435183811,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTE4MzgxMQ==","user":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"created_at":"2018-11-01T20:55:01Z","updated_at":"2018-11-01T20:55:01Z","author_association":"OWNER","body":"Hi, @caprone, thanks for opening this issue! Have you tried providing the `do_predict_proba` kwarg on initialization of :class:`environment.Environment`. If that doesn't resolve it, can you provide a minimal code example to recreate the problem?","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/435183811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false}},{"id":1941564761,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTk0MTU2NDc2MQ==","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1941564761","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-11-01T20:55:01Z","performed_via_github_app":null},{"id":1941564762,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5NDE1NjQ3NjI=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1941564762","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-11-01T20:55:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/435388785","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-435388785","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":435388785,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM4ODc4NQ==","user":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"created_at":"2018-11-02T13:59:27Z","updated_at":"2018-11-02T14:29:41Z","author_association":"NONE","body":"HI @HunterMcGushion , thanks for answer.\r\n\r\nUnfortunately this don\"t resolve problem,\r\nin this toy script -- binary classification --, we compare the same algorithm RF, but different scores \"size/scale\" computed \r\n(but the same issue occurs with others algorithms, like xgbclassifier, ....)\r\n\r\nEDIT: probably issue can be that we can\"t  specify the positive class in Enviroment....?\r\n`\r\n  import os\r\n  os.environ['KERAS_BACKEND'] = 'tensorflow'\r\n\r\n  from hyperparameter_hunter import Environment, Integer, Real, ExtraTreesOptimization\r\n  from sklearn.ensemble import RandomForestClassifier\r\n  from sklearn.metrics import log_loss\r\n  from sklearn.model_selection import train_test_split\r\n  from sklearn.datasets.samples_generator import make_classification\r\n  from pandas import DataFrame\r\n\r\n  x, y = make_classification(n_samples=100,  n_features=10)\r\n  x_train1 = DataFrame(dict(x=x[:, 0], y=x[:, 1], target=y))\r\n  x_train1.info()\r\n\r\n\r\n  hunter_path = '../HyperparameterHunterAssets'\r\n\r\n\r\ndef execute():\r\n\r\n    env = Environment(\r\n        train_dataset=x_train1,\r\n        target_column=\"target\",\r\n        root_results_path=hunter_path,\r\n        # metrics_map=[\"log_loss\"],\r\n        do_predict_proba=True,\r\n        metrics_map=dict(log_loss=lambda t, p: -log_loss(t, p)),\r\n        cross_validation_type='KFold',\r\n        cross_validation_params=dict(n_splits=5,  shuffle=True, random_state=32),\r\n        runs=1\r\n    )\r\n\r\n    optimizer = ExtraTreesOptimization(\r\n                                        iterations=10, read_experiments=True, random_state=None)\r\n\r\n    optimizer.set_experiment_guidelines(\r\n        model_initializer=RandomForestClassifier,\r\n        model_init_params=dict(\r\n            n_estimators=10,\r\n            n_jobs=6,\r\n            max_depth=Integer(4, 6)\r\n\r\n        ),\r\n    )\r\n\r\n    optimizer.go()\r\n    print()\r\n    print()\r\n    print(\"start second randomForest model with TRUE logloss values predicted:\")\r\n    label = x_train1['target'].values\r\n\r\n    x_train = x_train1.drop('target', 1)\r\n    X_train, X_test, y_train, y_test = train_test_split(x_train, label, test_size=0.30, random_state=0)\r\n\r\n    def randomForest():\r\n\r\n        clf = RandomForestClassifier(max_depth=4, n_estimators=10)\r\n        clf.fit(X_train, y_train)\r\n        y_pred = clf.predict_proba(X_test)\r\n        # here we select \"1 prob predictions\" as positive class -- >>>> probably issue here??\r\n        y_pred = y_pred[:, 1]\r\n\r\n        print(\"logloss score is: {}\".format(log_loss(y_test, y_pred)))\r\n\r\n    randomForest()\r\n\r\n\r\nif __name__ == '__main__':\r\n    execute()\r\n`","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/435388785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false}},{"id":1943010451,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTk0MzAxMDQ1MQ==","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1943010451","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-11-02T13:59:27Z","performed_via_github_app":null},{"id":1943010452,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5NDMwMTA0NTI=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1943010452","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-11-02T13:59:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/436486127","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-436486127","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":436486127,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQ4NjEyNw==","user":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"created_at":"2018-11-07T02:51:50Z","updated_at":"2018-11-07T02:51:50Z","author_association":"OWNER","body":"Sorry for the delayed response, @caprone!\r\n\r\nIn the provided example, the comparison being made wouldn’t work, since HyperparameterHunter is automatically performing KFold cross-validation with the given parameters to produce the `log_loss` score. However, the classifier (`clf`) that is trained without HyperparameterHunter doesn’t undergo a fitting process even near the one specified in `env`. Therefore, we can’t really expect the results of those two tests to be similar, much less identical, since HyperparameterHunter is told to evaluate with 5 KFold splits, whereas `clf` is given a `train_test_split` of 0.30. Additionally, the random seeds are different, which produces further different results.\r\n\r\nI’ve attempted to make a closer comparison; however, there is a lot that is handled by HyperparameterHunter behind the scenes, so we can’t make a true comparison. That said, I’ve modified your script, and come up with the following to replicate a little bit of the core functionality of HyperparameterHunter:\r\n\r\n```python\r\nfrom hyperparameter_hunter import Environment, CrossValidationExperiment\r\n\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sklearn.ensemble import RandomForestClassifier\r\nfrom sklearn.metrics import log_loss\r\nfrom sklearn.model_selection import KFold\r\nfrom sklearn.datasets import make_classification\r\n\r\nCV_PARAMS = dict(n_splits=3, shuffle=True, random_state=32)\r\nMODEL_INIT_PARAMS = dict(n_estimators=10, max_depth=4, random_state=32)\r\n\r\nINPUT, TARGET = make_classification(n_samples=100, n_features=10, n_classes=2, random_state=32)\r\nTRAIN_DF = pd.DataFrame(data=INPUT, columns=range(INPUT.shape[1]))\r\nTRAIN_DF[\"target\"] = TARGET\r\n\r\n\r\ndef run_hyperparameter_hunter():\r\n    env = Environment(\r\n        train_dataset=TRAIN_DF.copy(),\r\n        root_results_path=\"HyperparameterHunterAssets\",\r\n        do_predict_proba=False,\r\n        metrics_map=dict(log_loss=lambda t, p: -log_loss(t, p)),\r\n        cross_validation_type=\"KFold\",\r\n        cross_validation_params=CV_PARAMS,\r\n    )\r\n\r\n    experiment = CrossValidationExperiment(\r\n        model_initializer=RandomForestClassifier,\r\n        model_init_params=MODEL_INIT_PARAMS\r\n    )\r\n\r\n    return experiment\r\n\r\n\r\ndef run_normal(random_seeds):\r\n    #################### Result Placeholders ####################\r\n    oof_predictions = np.zeros_like(TARGET)\r\n    oof_predictions_proba_0 = np.zeros_like(TARGET)\r\n    oof_predictions_proba_1 = np.zeros_like(TARGET)\r\n    oof_scores = []\r\n    oof_scores_proba_0 = []\r\n    oof_scores_proba_1 = []\r\n\r\n    for fold, (train_index, validation_index) in enumerate(KFold(**CV_PARAMS).split(INPUT, TARGET)):\r\n        np.random.seed(random_seeds[fold][0])\r\n\r\n        #################### Split Data ####################\r\n        train_input, validation_input = INPUT[train_index], INPUT[validation_index]\r\n        train_target, validation_target = TARGET[train_index], TARGET[validation_index]\r\n\r\n        #################### Fit Classifier ####################\r\n        classifier = RandomForestClassifier(\r\n            **dict(MODEL_INIT_PARAMS, **dict(random_state=random_seeds[fold][0]))\r\n        )\r\n        classifier.fit(train_input, train_target)\r\n\r\n        #################### Make Predictions ####################\r\n        validation_predictions = classifier.predict(validation_input)\r\n        validation_predictions_proba = classifier.predict_proba(validation_input)\r\n\r\n        #################### Calculate Score ####################\r\n        validation_score = -log_loss(validation_target, validation_predictions)\r\n        validation_score_proba_0 = -log_loss(validation_target, validation_predictions_proba[:, 0])\r\n        validation_score_proba_1 = -log_loss(validation_target, validation_predictions_proba[:, 1])\r\n\r\n        #################### Collect Results ####################\r\n        oof_scores.append(validation_score)\r\n        oof_scores_proba_0.append(validation_score_proba_0)\r\n        oof_scores_proba_1.append(validation_score_proba_1)\r\n\r\n        oof_predictions[validation_index] = validation_predictions\r\n        oof_predictions_proba_0[validation_index] = validation_predictions_proba[:, 0]\r\n        oof_predictions_proba_1[validation_index] = validation_predictions_proba[:, 1]\r\n\r\n        print(\" - F{}:     {}     {}     {}\".format(\r\n            fold, validation_score, validation_score_proba_0, validation_score_proba_1\r\n        ))\r\n\r\n    print(\"FINAL:     {}     {}     {}\".format(\r\n        np.average(oof_scores), np.average(oof_scores_proba_0), np.average(oof_scores_proba_1)\r\n    ))\r\n\r\n\r\ndef execute():\r\n    exp = run_hyperparameter_hunter()\r\n    print(\"#\" * 80)\r\n    run_normal(exp.experiment_params[\"random_seeds\"][0])\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    execute()\r\n```\r\n\r\nIf we run the above script as-is, with `Environment.do_predict_proba`=False, the HyperparameterHunter `experiment` produces validation negative log_loss scores of [-3.04754, -5.23322, -2.09326] over three folds, with a final score of -3.45390\r\n- These scores match the scores produces by `run_normal` in its `validation_score` and `oof_scores` variables, which were calculated using `classifier.predict` (which reflects the `do_predict_proba`=False given earlier to `Environment`)\r\n\r\nIf, instead, we slightly modify the script, and run it with `Environment.do_predict_proba`=True, the HyperparameterHunter `experiment` produces validation negative log_loss scores of [-8.18999, -4.69224, -3.89328] over three folds, with a final score of -5.61782\r\n- These scores match the scores produces by `run_normal` in its `validation_score_proba_0` and `oof_scores_proba_0` variables, which were calculated using `classifier.predict_proba(…)[:, 0]` (which reflects the `do_predict_proba`=True given earlier to `Environment`)\r\n\r\n**TL;DR:**\r\nSo if I’m understanding your question correctly, there seem to be two problems:\r\n1. The original comparison in your first example script doesn’t evaluate the classifiers in the same way, so we can’t expect similar results, and\r\n2. `Environment.do_predict_proba` should be set according to however you would predict your values if you weren’t using HyperparameterHunter, as can be seen by the difference between the two script executions above\r\n\r\nI hope this clears things up for you, but please let me know if you have any other questions, and thanks again for opening this issue!","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/436486127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false}},{"id":1950628374,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTk1MDYyODM3NA==","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1950628374","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-11-07T02:51:50Z","performed_via_github_app":null},{"id":1950628375,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5NTA2MjgzNzU=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1950628375","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-11-07T02:51:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/436621926","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-436621926","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":436621926,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjYyMTkyNg==","user":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"created_at":"2018-11-07T13:27:14Z","updated_at":"2018-11-07T16:19:30Z","author_association":"NONE","body":"HI @HunterMcGushion!\r\nyour comparision is very helpful THANKS!\r\n\r\n@HunterMcGushion \r\n\"\"\"Environment.do_predict_proba should be set according to however you would predict your values if you weren’t using HyperparameterHunter\"\"\"\r\n\r\nYes, finally the problem is that in \"Environment.do_predict_proba\" \r\nit is not possible set the \"positive\"(for example 1 and not zero) class, then in binary classification \r\nautomatically Hunter compute pobability of zero class (right?);\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/436621926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false}},{"id":1951602199,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTk1MTYwMjE5OQ==","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1951602199","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-11-07T13:27:14Z","performed_via_github_app":null},{"id":1951602200,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5NTE2MDIyMDA=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1951602200","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-11-07T13:27:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/436768281","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-436768281","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":436768281,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjc2ODI4MQ==","user":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"created_at":"2018-11-07T20:36:19Z","updated_at":"2018-11-07T20:36:19Z","author_association":"OWNER","body":"Glad to hear it! \r\n\r\nYou are correct. If a a model's predictions are not one-dimensional, the default is to use the column at index 0. This takes place in `hyperparameter_hunter.models.Model.predict`:\r\n\r\nhttps://github.com/HunterMcGushion/hyperparameter_hunter/blob/f3a5bd01e8f9699baffd45241183974348929ca5/hyperparameter_hunter/models.py#L174-L196\r\n\r\nSpecifically, I think you'll be interested in line 194. \r\n\r\nDo you think it would be helpful to be able to specify the column index selected when using `do_predict_proba`=True?","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/436768281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/436979561","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-436979561","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":436979561,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjk3OTU2MQ==","user":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T12:35:26Z","updated_at":"2018-11-08T12:35:26Z","author_association":"NONE","body":"okk   @HunterMcGushion !, perfect!\r\n\r\nYes I think  it would be very helpful to be able to specify the column index in \"proba_predictions\", because often algorithms return positive class's probability(usually 1 for binary classification) in the second matrix's column.\r\n\r\nthanks again!!","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/436979561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false}},{"id":1954162231,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTk1NDE2MjIzMQ==","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1954162231","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-11-08T12:35:27Z","performed_via_github_app":null},{"id":1954162233,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5NTQxNjIyMzM=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1954162233","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-11-08T12:35:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/437178694","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-437178694","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":437178694,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE3ODY5NA==","user":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T22:26:29Z","updated_at":"2018-11-08T22:26:29Z","author_association":"OWNER","body":"Great point! I'm thinking the easiest way to get this done would be to allow the `do_predict_proba` parameter to be an integer, as well as a boolean. \r\n\r\nIf it's a boolean and False, then the model's `predict` method is called (default). If it's a boolean and True, the model's `predict_proba` method is called and the default index of 0 is used to select the column. \r\n\r\nThe new part is if `do_predict_proba` is an integer, then `do_predict_proba` is interpreted as having been True, but the integer passed as is now used as the column index. So in your example, you would pass `do_predict_proba=1` to get the second column.","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/437178694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/437179102","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-437179102","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":437179102,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE3OTEwMg==","user":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T22:27:58Z","updated_at":"2018-11-09T00:34:42Z","author_association":"OWNER","body":"Although, there may be a bit of confusion since it is popular to pass truthy or falsey values, like 0 and 1, in place of actual booleans, which could produce unexpected results in this case. \r\n\r\n@caprone, could you check out #95 to see if it does what you need?","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/437179102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false}},{"actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T00:33:43Z","updated_at":"2018-11-09T00:33:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/95","repository_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter","labels_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/95/labels{/name}","comments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/95/comments","events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/95/events","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/pull/95","id":378975665,"node_id":"MDExOlB1bGxSZXF1ZXN0MjI5NTUzNjQ1","number":95,"title":"Feat/predict proba index","user":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-11-09T00:33:42Z","updated_at":"2018-11-11T01:29:35Z","closed_at":"2018-11-11T00:03:39Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":135771325,"node_id":"MDEwOlJlcG9zaXRvcnkxMzU3NzEzMjU=","name":"hyperparameter_hunter","full_name":"HunterMcGushion/hyperparameter_hunter","private":false,"owner":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter","description":"Easy hyperparameter optimization and automatic result saving across machine learning algorithms and libraries","fork":false,"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter","forks_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/forks","keys_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/teams","hooks_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/hooks","issue_events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events{/number}","events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/events","assignees_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/assignees{/user}","branches_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/branches{/branch}","tags_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/tags","blobs_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/refs{/sha}","trees_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/statuses/{sha}","languages_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/languages","stargazers_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/stargazers","contributors_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/contributors","subscribers_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/subscribers","subscription_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/subscription","commits_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/commits{/sha}","git_commits_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/commits{/sha}","comments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/comments{/number}","issue_comment_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments{/number}","contents_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/contents/{+path}","compare_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/merges","archive_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/downloads","issues_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues{/number}","pulls_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/pulls{/number}","milestones_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/milestones{/number}","notifications_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/labels{/name}","releases_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/releases{/id}","deployments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/deployments","created_at":"2018-06-01T23:17:00Z","updated_at":"2023-01-18T02:01:43Z","pushed_at":"2021-01-20T03:52:41Z","git_url":"git://github.com/HunterMcGushion/hyperparameter_hunter.git","ssh_url":"git@github.com:HunterMcGushion/hyperparameter_hunter.git","clone_url":"https://github.com/HunterMcGushion/hyperparameter_hunter.git","svn_url":"https://github.com/HunterMcGushion/hyperparameter_hunter","homepage":null,"size":7628,"stargazers_count":698,"watchers_count":698,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":97,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":37,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ai","artificial-intelligence","catboost","data-science","deep-learning","experimentation","feature-engineering","hyperparameter-optimization","hyperparameter-tuning","keras","lightgbm","machine-learning","ml","neural-network","optimization","python","rgf","scikit-learn","sklearn","xgboost"],"visibility":"public","forks":97,"open_issues":37,"watchers":698,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/pulls/95","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/pull/95","diff_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/pull/95.diff","patch_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/pull/95.patch","merged_at":"2018-11-11T00:03:39Z"},"body":"- Closes #90, opened by @caprone\r\n- The `do_predict_proba` parameter of `environment.Environment` (and consequently `models.Model`) is now allowed to be an int, as well as a bool\r\n   - If `do_predict_proba` is an int, the `predict_proba` method is called, and the int specifies the index of the column in the model's probability predictions whose values should be passed on as the final predictions\r\n   - Original behavior when passing a boolean is unaffected\r\n   - See `Environment` documentation for usage notes and warnings about providing truthy or falsey values for the `do_predict_proba` parameter ","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/95/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/95/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":1955766884,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTk1NTc2Njg4NA==","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1955766884","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-11-09T00:34:42Z","performed_via_github_app":null},{"id":1955766885,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5NTU3NjY4ODU=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1955766885","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-11-09T00:34:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/437360218","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-437360218","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":437360218,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzM2MDIxOA==","user":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T13:32:15Z","updated_at":"2018-11-09T13:36:51Z","author_association":"NONE","body":"HI @HunterMcGushion!!\r\nfor me Your solutiuon is very effective, great!!\r\n\r\n@ doc\r\n\"\"\"\r\ndo_predict_proba: Boolean, or int, default=False\r\n            * If False, :meth:`.models.Model.fit` will call :meth:`models.Model.model.predict`\r\n            * If True, it will call :meth:`models.Model.model.predict_proba`, and the values in the\r\n              first column (index 0) will be used as the actual prediction values\r\n            * If `do_predict_proba` is an int, :meth:`.models.Model.fit` will call\r\n              :meth:`models.Model.model.predict_proba`, as is the case when `do_predict_proba` is\r\n              True, but the int supplied as `do_predict_proba` declares the column index to use as\r\n              the actual prediction value\r\n\"\"\"\r\n I also agree that:\r\n@HunterMcGushion \r\n\"\"\" there may be a bit of confusion since it is popular to pass truthy or falsey values, \r\nlike 0 and 1, in place of actual booleans\"\"\"\r\n\r\nespecially if someone do not read the documentation / or comment;\r\n\r\none solution can be make \"model.do_predict_proba\" only boolean and create new integer class attribute\r\nthat specifies index column of positive class, for ex: self.model.do_pos_class=1;\r\n\r\nhowever I think that your solution is very useful!!\r\nthanks again!!","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/437360218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"caprone","id":15055331,"node_id":"MDQ6VXNlcjE1MDU1MzMx","avatar_url":"https://avatars.githubusercontent.com/u/15055331?v=4","gravatar_id":"","url":"https://api.github.com/users/caprone","html_url":"https://github.com/caprone","followers_url":"https://api.github.com/users/caprone/followers","following_url":"https://api.github.com/users/caprone/following{/other_user}","gists_url":"https://api.github.com/users/caprone/gists{/gist_id}","starred_url":"https://api.github.com/users/caprone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caprone/subscriptions","organizations_url":"https://api.github.com/users/caprone/orgs","repos_url":"https://api.github.com/users/caprone/repos","events_url":"https://api.github.com/users/caprone/events{/privacy}","received_events_url":"https://api.github.com/users/caprone/received_events","type":"User","site_admin":false}},{"id":1956851925,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTk1Njg1MTkyNQ==","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1956851925","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-11-09T13:32:15Z","performed_via_github_app":null},{"id":1956851927,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5NTY4NTE5Mjc=","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1956851927","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-11-09T13:32:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/437631708","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/90#issuecomment-437631708","issue_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/90","id":437631708,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzYzMTcwOA==","user":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"created_at":"2018-11-11T00:01:53Z","updated_at":"2018-11-11T00:01:53Z","author_association":"OWNER","body":"That's a great idea. For now, I'd prefer not to add too many more parameters, but if it looks like others are having problems, we should revisit your idea! Let me know if the problems persist after merging, and thanks again for opening the issue!","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments/437631708/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false}},{"id":1958649661,"node_id":"MDExOkNsb3NlZEV2ZW50MTk1ODY0OTY2MQ==","url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events/1958649661","actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-11-11T00:03:39Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"chwang1991","id":39996696,"node_id":"MDQ6VXNlcjM5OTk2Njk2","avatar_url":"https://avatars.githubusercontent.com/u/39996696?v=4","gravatar_id":"","url":"https://api.github.com/users/chwang1991","html_url":"https://github.com/chwang1991","followers_url":"https://api.github.com/users/chwang1991/followers","following_url":"https://api.github.com/users/chwang1991/following{/other_user}","gists_url":"https://api.github.com/users/chwang1991/gists{/gist_id}","starred_url":"https://api.github.com/users/chwang1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chwang1991/subscriptions","organizations_url":"https://api.github.com/users/chwang1991/orgs","repos_url":"https://api.github.com/users/chwang1991/repos","events_url":"https://api.github.com/users/chwang1991/events{/privacy}","received_events_url":"https://api.github.com/users/chwang1991/received_events","type":"User","site_admin":false},"created_at":"2019-09-17T18:17:15Z","updated_at":"2019-09-17T18:17:15Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/197","repository_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter","labels_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/197/labels{/name}","comments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/197/comments","events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/197/events","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/197","id":494777274,"node_id":"MDU6SXNzdWU0OTQ3NzcyNzQ=","number":197,"title":"logloss issue with multiclass task","user":{"login":"chwang1991","id":39996696,"node_id":"MDQ6VXNlcjM5OTk2Njk2","avatar_url":"https://avatars.githubusercontent.com/u/39996696?v=4","gravatar_id":"","url":"https://api.github.com/users/chwang1991","html_url":"https://github.com/chwang1991","followers_url":"https://api.github.com/users/chwang1991/followers","following_url":"https://api.github.com/users/chwang1991/following{/other_user}","gists_url":"https://api.github.com/users/chwang1991/gists{/gist_id}","starred_url":"https://api.github.com/users/chwang1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chwang1991/subscriptions","organizations_url":"https://api.github.com/users/chwang1991/orgs","repos_url":"https://api.github.com/users/chwang1991/repos","events_url":"https://api.github.com/users/chwang1991/events{/privacy}","received_events_url":"https://api.github.com/users/chwang1991/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-09-17T18:17:15Z","updated_at":"2019-09-30T06:23:43Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"repository":{"id":135771325,"node_id":"MDEwOlJlcG9zaXRvcnkxMzU3NzEzMjU=","name":"hyperparameter_hunter","full_name":"HunterMcGushion/hyperparameter_hunter","private":false,"owner":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter","description":"Easy hyperparameter optimization and automatic result saving across machine learning algorithms and libraries","fork":false,"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter","forks_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/forks","keys_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/teams","hooks_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/hooks","issue_events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events{/number}","events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/events","assignees_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/assignees{/user}","branches_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/branches{/branch}","tags_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/tags","blobs_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/refs{/sha}","trees_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/statuses/{sha}","languages_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/languages","stargazers_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/stargazers","contributors_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/contributors","subscribers_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/subscribers","subscription_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/subscription","commits_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/commits{/sha}","git_commits_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/commits{/sha}","comments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/comments{/number}","issue_comment_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments{/number}","contents_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/contents/{+path}","compare_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/merges","archive_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/downloads","issues_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues{/number}","pulls_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/pulls{/number}","milestones_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/milestones{/number}","notifications_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/labels{/name}","releases_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/releases{/id}","deployments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/deployments","created_at":"2018-06-01T23:17:00Z","updated_at":"2023-01-18T02:01:43Z","pushed_at":"2021-01-20T03:52:41Z","git_url":"git://github.com/HunterMcGushion/hyperparameter_hunter.git","ssh_url":"git@github.com:HunterMcGushion/hyperparameter_hunter.git","clone_url":"https://github.com/HunterMcGushion/hyperparameter_hunter.git","svn_url":"https://github.com/HunterMcGushion/hyperparameter_hunter","homepage":null,"size":7628,"stargazers_count":698,"watchers_count":698,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":97,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":37,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ai","artificial-intelligence","catboost","data-science","deep-learning","experimentation","feature-engineering","hyperparameter-optimization","hyperparameter-tuning","keras","lightgbm","machine-learning","ml","neural-network","optimization","python","rgf","scikit-learn","sklearn","xgboost"],"visibility":"public","forks":97,"open_issues":37,"watchers":698,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi HunterMcGushion,\r\n\r\nI am doing a multi-classification task and I wanna set `sklearn.metrics.log_loss` as the experiment metric, but I have a trouble:\r\n\r\n```\r\nenv = Environment(\r\n    results_path=HPHPATH, \r\n    train_dataset=df, \r\n    target_column='Quality_label',\r\n    metrics=['log_loss'],\r\n#     metrics=dict(logloss=lambda y_true, y_pred: metrics.log_loss(y_true, y_pred, labels=[0,1,2,3])),\r\n    cv_type=StratifiedKFold,\r\n    cv_params=dict(n_splits=6, shuffle=True),\r\n#     global_random_seed=seed\r\n)\r\n\r\nexperiment = CVExperiment(\r\n    model_initializer=RandomForestClassifier,\r\n    model_init_params=dict(\r\n        n_estimators=20\r\n    )\r\n)\r\n```\r\n\r\nSee, the target has 4 labels, 0 to 3. When I run the code above, it triggers a value error:\r\n```\r\nValueError: y_true and y_pred contain different number of classes 4, 2.\r\n```\r\n\r\nIf I set `labels` for logloss metric, `metrics=dict(logloss=lambda y_true, y_pred: metrics.log_loss(y_true, y_pred, labels=[0,1,2,3]))`, it throws out another error:\r\n\r\n`ValueError: The number of classes in labels is different from that in y_pred.`\r\n\r\nI checked the examples and previous issues like #90, and I wonder have you tested logloss for multiclass task?\r\n","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/197/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"created_at":"2020-03-20T23:46:26Z","updated_at":"2020-03-20T23:46:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/211","repository_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter","labels_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/211/labels{/name}","comments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/211/comments","events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/211/events","html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter/issues/211","id":560250991,"node_id":"MDU6SXNzdWU1NjAyNTA5OTE=","number":211,"title":"ROC AUC scores don't match to those of sklearn","user":{"login":"abudis","id":4252441,"node_id":"MDQ6VXNlcjQyNTI0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/4252441?v=4","gravatar_id":"","url":"https://api.github.com/users/abudis","html_url":"https://github.com/abudis","followers_url":"https://api.github.com/users/abudis/followers","following_url":"https://api.github.com/users/abudis/following{/other_user}","gists_url":"https://api.github.com/users/abudis/gists{/gist_id}","starred_url":"https://api.github.com/users/abudis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abudis/subscriptions","organizations_url":"https://api.github.com/users/abudis/orgs","repos_url":"https://api.github.com/users/abudis/repos","events_url":"https://api.github.com/users/abudis/events{/privacy}","received_events_url":"https://api.github.com/users/abudis/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-05T09:41:59Z","updated_at":"2020-03-20T23:46:26Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"repository":{"id":135771325,"node_id":"MDEwOlJlcG9zaXRvcnkxMzU3NzEzMjU=","name":"hyperparameter_hunter","full_name":"HunterMcGushion/hyperparameter_hunter","private":false,"owner":{"login":"HunterMcGushion","id":11300915,"node_id":"MDQ6VXNlcjExMzAwOTE1","avatar_url":"https://avatars.githubusercontent.com/u/11300915?v=4","gravatar_id":"","url":"https://api.github.com/users/HunterMcGushion","html_url":"https://github.com/HunterMcGushion","followers_url":"https://api.github.com/users/HunterMcGushion/followers","following_url":"https://api.github.com/users/HunterMcGushion/following{/other_user}","gists_url":"https://api.github.com/users/HunterMcGushion/gists{/gist_id}","starred_url":"https://api.github.com/users/HunterMcGushion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HunterMcGushion/subscriptions","organizations_url":"https://api.github.com/users/HunterMcGushion/orgs","repos_url":"https://api.github.com/users/HunterMcGushion/repos","events_url":"https://api.github.com/users/HunterMcGushion/events{/privacy}","received_events_url":"https://api.github.com/users/HunterMcGushion/received_events","type":"User","site_admin":false},"html_url":"https://github.com/HunterMcGushion/hyperparameter_hunter","description":"Easy hyperparameter optimization and automatic result saving across machine learning algorithms and libraries","fork":false,"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter","forks_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/forks","keys_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/teams","hooks_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/hooks","issue_events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/events{/number}","events_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/events","assignees_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/assignees{/user}","branches_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/branches{/branch}","tags_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/tags","blobs_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/refs{/sha}","trees_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/statuses/{sha}","languages_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/languages","stargazers_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/stargazers","contributors_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/contributors","subscribers_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/subscribers","subscription_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/subscription","commits_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/commits{/sha}","git_commits_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/git/commits{/sha}","comments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/comments{/number}","issue_comment_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/comments{/number}","contents_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/contents/{+path}","compare_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/merges","archive_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/downloads","issues_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues{/number}","pulls_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/pulls{/number}","milestones_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/milestones{/number}","notifications_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/labels{/name}","releases_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/releases{/id}","deployments_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/deployments","created_at":"2018-06-01T23:17:00Z","updated_at":"2023-01-18T02:01:43Z","pushed_at":"2021-01-20T03:52:41Z","git_url":"git://github.com/HunterMcGushion/hyperparameter_hunter.git","ssh_url":"git@github.com:HunterMcGushion/hyperparameter_hunter.git","clone_url":"https://github.com/HunterMcGushion/hyperparameter_hunter.git","svn_url":"https://github.com/HunterMcGushion/hyperparameter_hunter","homepage":null,"size":7628,"stargazers_count":698,"watchers_count":698,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":97,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":37,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ai","artificial-intelligence","catboost","data-science","deep-learning","experimentation","feature-engineering","hyperparameter-optimization","hyperparameter-tuning","keras","lightgbm","machine-learning","ml","neural-network","optimization","python","rgf","scikit-learn","sklearn","xgboost"],"visibility":"public","forks":97,"open_issues":37,"watchers":698,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hey,\r\n\r\nI've tried using the package on my dataset, which is binary classification problem, but the ROC AUC scores produced by HPH don't match to the scores produced by a simple CV loop from sklearn.\r\n\r\nThe difference is about 0.1, which is way too large for this to be explained by random splits.\r\nI tried multiple packages - XGBoost, LGBM, CatBoost, and they all produce similar result: HPH CV AUC is about 0.1 lower than the CV AUC calculated by sklearn's cross_validate.\r\n\r\nI use the same hyperparameters to cross validate in sklearn and in HPH, therefore this cannot be explained by the different hyperparams neither.\r\n\r\nOn HPH side, I only used CVExperiment for now.\r\n\r\nCould you please point me in the direction, where the difference may come from?\r\n\r\nCheers,\r\nArtem\r\n","reactions":{"url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/HunterMcGushion/hyperparameter_hunter/issues/211/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]