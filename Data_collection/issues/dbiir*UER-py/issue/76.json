{"url":"https://api.github.com/repos/dbiir/UER-py/issues/76","repository_url":"https://api.github.com/repos/dbiir/UER-py","labels_url":"https://api.github.com/repos/dbiir/UER-py/issues/76/labels{/name}","comments_url":"https://api.github.com/repos/dbiir/UER-py/issues/76/comments","events_url":"https://api.github.com/repos/dbiir/UER-py/issues/76/events","html_url":"https://github.com/dbiir/UER-py/issues/76","id":740426811,"node_id":"MDU6SXNzdWU3NDA0MjY4MTE=","number":76,"title":"gpt文本生成时embeddingsize mismatch","user":{"login":"Tia-Cheung","id":68932652,"node_id":"MDQ6VXNlcjY4OTMyNjUy","avatar_url":"https://avatars.githubusercontent.com/u/68932652?v=4","gravatar_id":"","url":"https://api.github.com/users/Tia-Cheung","html_url":"https://github.com/Tia-Cheung","followers_url":"https://api.github.com/users/Tia-Cheung/followers","following_url":"https://api.github.com/users/Tia-Cheung/following{/other_user}","gists_url":"https://api.github.com/users/Tia-Cheung/gists{/gist_id}","starred_url":"https://api.github.com/users/Tia-Cheung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tia-Cheung/subscriptions","organizations_url":"https://api.github.com/users/Tia-Cheung/orgs","repos_url":"https://api.github.com/users/Tia-Cheung/repos","events_url":"https://api.github.com/users/Tia-Cheung/events{/privacy}","received_events_url":"https://api.github.com/users/Tia-Cheung/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-11T03:27:39Z","updated_at":"2020-11-11T04:53:32Z","closed_at":"2020-11-11T04:53:31Z","author_association":"NONE","active_lock_reason":null,"body":"参照instructions里gpt文本生成的方法复现时，遇到了`size mismatch for embedding.position_embedding.weight: copying a param with shape torch.Size([512, 768]) from checkpoint, the shape in current model is torch.Size([1024, 768])`的报错\r\n\r\n训练模型\r\n`preprocess.py \r\n--corpus_path corpora/book_review.txt --vocab_path models/google_zh_vocab.txt \r\n--dataset_path dataset.pt --processes_num 8 --target lm`\r\n\r\n`pretrain.py  \r\n--dataset_path dataset.pt --vocab_path models/google_zh_vocab.txt --output_model_path models/output_model.bin \r\n--config_path models/bert_base_config.json --learning_rate 1e-4 --gpu_ranks 0 --encoder gpt --target lm `\r\n\r\n生成文本\r\n`scripts/generate.py \r\n--pretrained_model_path models/output_model.bin-100000 --vocab_path models/google_zh_vocab.txt --input_path story_beginning.txt --output_path story_full.txt --config_path models/bert_base_config.json --encoder gpt --target lm`\r\n\r\n配置文件都是没有改过的，想问下是否知道问题出在哪里？\r\n谢谢","closed_by":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/76/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dbiir/UER-py/issues/76/timeline","performed_via_github_app":null,"state_reason":"completed"}