{"url":"https://api.github.com/repos/dbiir/UER-py/issues/298","repository_url":"https://api.github.com/repos/dbiir/UER-py","labels_url":"https://api.github.com/repos/dbiir/UER-py/issues/298/labels{/name}","comments_url":"https://api.github.com/repos/dbiir/UER-py/issues/298/comments","events_url":"https://api.github.com/repos/dbiir/UER-py/issues/298/events","html_url":"https://github.com/dbiir/UER-py/issues/298","id":1189456681,"node_id":"I_kwDOCsNQKM5G5asp","number":298,"title":"利用官方BERT进行下游任务（多分类）微调时报错","user":{"login":"Moximixi","id":32200567,"node_id":"MDQ6VXNlcjMyMjAwNTY3","avatar_url":"https://avatars.githubusercontent.com/u/32200567?v=4","gravatar_id":"","url":"https://api.github.com/users/Moximixi","html_url":"https://github.com/Moximixi","followers_url":"https://api.github.com/users/Moximixi/followers","following_url":"https://api.github.com/users/Moximixi/following{/other_user}","gists_url":"https://api.github.com/users/Moximixi/gists{/gist_id}","starred_url":"https://api.github.com/users/Moximixi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Moximixi/subscriptions","organizations_url":"https://api.github.com/users/Moximixi/orgs","repos_url":"https://api.github.com/users/Moximixi/repos","events_url":"https://api.github.com/users/Moximixi/events{/privacy}","received_events_url":"https://api.github.com/users/Moximixi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-04-01T08:38:30Z","updated_at":"2022-04-02T07:42:58Z","closed_at":"2022-04-02T07:42:58Z","author_association":"NONE","active_lock_reason":null,"body":"想要利用bert模型进行六分类下游任务微调，但是报错\r\n运行命令：\r\n``` shell\r\nCUDA_VISIBLE_DEVICES=0  python3 finetune/run_classifier.py --pretrained_model_path models/bert-base-chinese/pytorch_model.bin \\\r\n                                   --vocab_path models/bert-base-chinese/bert-base-chinese-vocab.txt \\\r\n                                   --train_path datasets/weibo/train.tsv \\\r\n                                   --dev_path datasets/weibo/dev.tsv \\\r\n                                   --test_path datasets/weibo/test.tsv \\\r\n                                   --output_model_path models/bert_weibo_classifier_model.bin \\\r\n                                   --epochs_num 10 --batch_size 32 \\\r\n                                   --embedding word_pos_seg --encoder transformer --mask fully_visible\r\n```\r\n 下载的bert模型来自谷歌官方\r\ntrain.tsv:\r\n![image](https://user-images.githubusercontent.com/32200567/161226764-513fb779-24f2-48cf-aab6-ae9760566b63.png)\r\ndev.tsv:\r\n![image](https://user-images.githubusercontent.com/32200567/161226818-4033f5f2-c6a0-4aed-a3aa-fc5fceee6bcd.png)\r\ntest.tsv:\r\n![image](https://user-images.githubusercontent.com/32200567/161227357-de2912e4-b0ea-41f8-804c-dc036adfa475.png)\r\n\r\n三者都是严格按照官方文档进行格式化处理\r\n\r\n报错图片：\r\n![image](https://user-images.githubusercontent.com/32200567/161226611-c67c094f-b2c5-4226-b30f-6df8601ceb90.png)\r\n\r\n之前进行二分类时没有问题。请问进行多分类任务时，是不是需要对`run_classifier.py`文件进行更改？\r\n","closed_by":{"login":"Moximixi","id":32200567,"node_id":"MDQ6VXNlcjMyMjAwNTY3","avatar_url":"https://avatars.githubusercontent.com/u/32200567?v=4","gravatar_id":"","url":"https://api.github.com/users/Moximixi","html_url":"https://github.com/Moximixi","followers_url":"https://api.github.com/users/Moximixi/followers","following_url":"https://api.github.com/users/Moximixi/following{/other_user}","gists_url":"https://api.github.com/users/Moximixi/gists{/gist_id}","starred_url":"https://api.github.com/users/Moximixi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Moximixi/subscriptions","organizations_url":"https://api.github.com/users/Moximixi/orgs","repos_url":"https://api.github.com/users/Moximixi/repos","events_url":"https://api.github.com/users/Moximixi/events{/privacy}","received_events_url":"https://api.github.com/users/Moximixi/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dbiir/UER-py/issues/298/timeline","performed_via_github_app":null,"state_reason":"completed"}