{"url":"https://api.github.com/repos/dbiir/UER-py/issues/296","repository_url":"https://api.github.com/repos/dbiir/UER-py","labels_url":"https://api.github.com/repos/dbiir/UER-py/issues/296/labels{/name}","comments_url":"https://api.github.com/repos/dbiir/UER-py/issues/296/comments","events_url":"https://api.github.com/repos/dbiir/UER-py/issues/296/events","html_url":"https://github.com/dbiir/UER-py/issues/296","id":1173149320,"node_id":"I_kwDOCsNQKM5F7NaI","number":296,"title":"The error of \"list index out of range\" appears on line 44 of inference/run_classifier_infer.py","user":{"login":"yrchen92","id":23690398,"node_id":"MDQ6VXNlcjIzNjkwMzk4","avatar_url":"https://avatars.githubusercontent.com/u/23690398?v=4","gravatar_id":"","url":"https://api.github.com/users/yrchen92","html_url":"https://github.com/yrchen92","followers_url":"https://api.github.com/users/yrchen92/followers","following_url":"https://api.github.com/users/yrchen92/following{/other_user}","gists_url":"https://api.github.com/users/yrchen92/gists{/gist_id}","starred_url":"https://api.github.com/users/yrchen92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yrchen92/subscriptions","organizations_url":"https://api.github.com/users/yrchen92/orgs","repos_url":"https://api.github.com/users/yrchen92/repos","events_url":"https://api.github.com/users/yrchen92/events{/privacy}","received_events_url":"https://api.github.com/users/yrchen92/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-03-18T03:33:37Z","updated_at":"2022-03-21T06:37:34Z","closed_at":"2022-03-21T06:37:34Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"inference/run_classifier_infer.py line 44: line = line.strip().split(\"\\t\")\r\nIn the dataset reading stage when making inference, if there are multiple columns of data ('text_a' and 'text_b') with the empty field, strip will remove the \\r\\n at the end and the \\t between the fields. That will result in the the number of columns divided by \\t becomes 1. When it calls text_a, text_b = line[columns[\"text_a\"]], line[columns[\"text_b\"]], there will be a list index out of range problem.\r\n\r\nThe implementation of this problem in the finetune phase (line 142 of finetune/run_classifier.py): line = line[:-1].split(\"\\t\")\r\nIt is also necessary to ensure that there is only one newline character at the end of each line. For example, it cannot be \\r\\n in Windows format. Otherwise there is a risk of leaving a newline character in the text of the last field.\r\n\r\nI recommended that all relevant issues should be dealt with in a unified manner.","closed_by":{"login":"haoyanliu","id":44767133,"node_id":"MDQ6VXNlcjQ0NzY3MTMz","avatar_url":"https://avatars.githubusercontent.com/u/44767133?v=4","gravatar_id":"","url":"https://api.github.com/users/haoyanliu","html_url":"https://github.com/haoyanliu","followers_url":"https://api.github.com/users/haoyanliu/followers","following_url":"https://api.github.com/users/haoyanliu/following{/other_user}","gists_url":"https://api.github.com/users/haoyanliu/gists{/gist_id}","starred_url":"https://api.github.com/users/haoyanliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haoyanliu/subscriptions","organizations_url":"https://api.github.com/users/haoyanliu/orgs","repos_url":"https://api.github.com/users/haoyanliu/repos","events_url":"https://api.github.com/users/haoyanliu/events{/privacy}","received_events_url":"https://api.github.com/users/haoyanliu/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/296/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dbiir/UER-py/issues/296/timeline","performed_via_github_app":null,"state_reason":"completed"}