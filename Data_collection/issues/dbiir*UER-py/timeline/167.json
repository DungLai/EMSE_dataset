[{"id":4942824794,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ5NDI4MjQ3OTQ=","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/4942824794","actor":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-26T10:55:01Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":4980692582,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ5ODA2OTI1ODI=","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/4980692582","actor":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"event":"referenced","commit_id":"8654406ca6277d9bd8710e6ea202f8840c45c11c","commit_url":"https://api.github.com/repos/dbiir/UER-py/commits/8654406ca6277d9bd8710e6ea202f8840c45c11c","created_at":"2021-07-06T03:01:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874425192","html_url":"https://github.com/dbiir/UER-py/issues/167#issuecomment-874425192","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/167","id":874425192,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDQyNTE5Mg==","user":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"created_at":"2021-07-06T03:05:31Z","updated_at":"2021-07-06T03:05:31Z","author_association":"COLLABORATOR","body":"我们更新了代码，请再试一下是否还有这个问题","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874425192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874428015","html_url":"https://github.com/dbiir/UER-py/issues/167#issuecomment-874428015","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/167","id":874428015,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDQyODAxNQ==","user":{"login":"Wchoward","id":29882211,"node_id":"MDQ6VXNlcjI5ODgyMjEx","avatar_url":"https://avatars.githubusercontent.com/u/29882211?v=4","gravatar_id":"","url":"https://api.github.com/users/Wchoward","html_url":"https://github.com/Wchoward","followers_url":"https://api.github.com/users/Wchoward/followers","following_url":"https://api.github.com/users/Wchoward/following{/other_user}","gists_url":"https://api.github.com/users/Wchoward/gists{/gist_id}","starred_url":"https://api.github.com/users/Wchoward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wchoward/subscriptions","organizations_url":"https://api.github.com/users/Wchoward/orgs","repos_url":"https://api.github.com/users/Wchoward/repos","events_url":"https://api.github.com/users/Wchoward/events{/privacy}","received_events_url":"https://api.github.com/users/Wchoward/received_events","type":"User","site_admin":false},"created_at":"2021-07-06T03:14:02Z","updated_at":"2021-07-06T03:14:02Z","author_association":"NONE","body":"> 我们更新了代码，请再试一下是否还有这个问题\r\n\r\n您好，我解决了OOM的问题，看了下您的代码，仅使用`torch.cuda.empty_cache()`在我之前的尝试中是无法解决的。\r\n我通过 `import gc` ，并在每个fold结束前（eval后）\r\n```\r\ndel model, scheduler, optimizer\r\ngc.collect()\r\ntorch.cuda.empty_cache()\r\n```\r\n解决了OOM问题。\r\n但是不知道这样写是否合理？还希望您能帮忙看一下，谢谢！","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874428015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Wchoward","id":29882211,"node_id":"MDQ6VXNlcjI5ODgyMjEx","avatar_url":"https://avatars.githubusercontent.com/u/29882211?v=4","gravatar_id":"","url":"https://api.github.com/users/Wchoward","html_url":"https://github.com/Wchoward","followers_url":"https://api.github.com/users/Wchoward/followers","following_url":"https://api.github.com/users/Wchoward/following{/other_user}","gists_url":"https://api.github.com/users/Wchoward/gists{/gist_id}","starred_url":"https://api.github.com/users/Wchoward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wchoward/subscriptions","organizations_url":"https://api.github.com/users/Wchoward/orgs","repos_url":"https://api.github.com/users/Wchoward/repos","events_url":"https://api.github.com/users/Wchoward/events{/privacy}","received_events_url":"https://api.github.com/users/Wchoward/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874428910","html_url":"https://github.com/dbiir/UER-py/issues/167#issuecomment-874428910","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/167","id":874428910,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDQyODkxMA==","user":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"created_at":"2021-07-06T03:16:57Z","updated_at":"2021-07-06T03:16:57Z","author_association":"COLLABORATOR","body":"这个问题在我们这边的环境并没有出现，可能是版本的问题，您的torch和python版本是？","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874428910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874430531","html_url":"https://github.com/dbiir/UER-py/issues/167#issuecomment-874430531","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/167","id":874430531,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDQzMDUzMQ==","user":{"login":"Wchoward","id":29882211,"node_id":"MDQ6VXNlcjI5ODgyMjEx","avatar_url":"https://avatars.githubusercontent.com/u/29882211?v=4","gravatar_id":"","url":"https://api.github.com/users/Wchoward","html_url":"https://github.com/Wchoward","followers_url":"https://api.github.com/users/Wchoward/followers","following_url":"https://api.github.com/users/Wchoward/following{/other_user}","gists_url":"https://api.github.com/users/Wchoward/gists{/gist_id}","starred_url":"https://api.github.com/users/Wchoward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wchoward/subscriptions","organizations_url":"https://api.github.com/users/Wchoward/orgs","repos_url":"https://api.github.com/users/Wchoward/repos","events_url":"https://api.github.com/users/Wchoward/events{/privacy}","received_events_url":"https://api.github.com/users/Wchoward/received_events","type":"User","site_admin":false},"created_at":"2021-07-06T03:22:54Z","updated_at":"2021-07-06T03:22:54Z","author_association":"NONE","body":"python 3.6.10\r\ntorch 1.2.0\r\ncudatoolkit 10.0.130\r\ncudnn 7.6.5","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874430531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Wchoward","id":29882211,"node_id":"MDQ6VXNlcjI5ODgyMjEx","avatar_url":"https://avatars.githubusercontent.com/u/29882211?v=4","gravatar_id":"","url":"https://api.github.com/users/Wchoward","html_url":"https://github.com/Wchoward","followers_url":"https://api.github.com/users/Wchoward/followers","following_url":"https://api.github.com/users/Wchoward/following{/other_user}","gists_url":"https://api.github.com/users/Wchoward/gists{/gist_id}","starred_url":"https://api.github.com/users/Wchoward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wchoward/subscriptions","organizations_url":"https://api.github.com/users/Wchoward/orgs","repos_url":"https://api.github.com/users/Wchoward/repos","events_url":"https://api.github.com/users/Wchoward/events{/privacy}","received_events_url":"https://api.github.com/users/Wchoward/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874431679","html_url":"https://github.com/dbiir/UER-py/issues/167#issuecomment-874431679","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/167","id":874431679,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDQzMTY3OQ==","user":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"created_at":"2021-07-06T03:26:47Z","updated_at":"2021-07-06T03:26:47Z","author_association":"COLLABORATOR","body":"可能是torch版本的原因，我们用的是1.8。\r\n后续用低版本看看能不能复现这个问题，将您的方案合并进去，感谢您的反馈！","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874431679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874452005","html_url":"https://github.com/dbiir/UER-py/issues/167#issuecomment-874452005","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/167","id":874452005,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDQ1MjAwNQ==","user":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"created_at":"2021-07-06T04:34:09Z","updated_at":"2021-07-06T04:34:09Z","author_association":"COLLABORATOR","body":"您也可以将您的方案提一个pull request，我们一起来讨论一下如何改进现有的代码","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/874452005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/899949362","html_url":"https://github.com/dbiir/UER-py/issues/167#issuecomment-899949362","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/167","id":899949362,"node_id":"IC_kwDOCsNQKM41pCMy","user":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"created_at":"2021-08-17T02:40:14Z","updated_at":"2021-08-17T02:40:14Z","author_association":"COLLABORATOR","body":"如果您还有此类问题可以重启这个issue","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/899949362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false}},{"id":5166305141,"node_id":"MDExOkNsb3NlZEV2ZW50NTE2NjMwNTE0MQ==","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/5166305141","actor":{"login":"ydli-ai","id":20391895,"node_id":"MDQ6VXNlcjIwMzkxODk1","avatar_url":"https://avatars.githubusercontent.com/u/20391895?v=4","gravatar_id":"","url":"https://api.github.com/users/ydli-ai","html_url":"https://github.com/ydli-ai","followers_url":"https://api.github.com/users/ydli-ai/followers","following_url":"https://api.github.com/users/ydli-ai/following{/other_user}","gists_url":"https://api.github.com/users/ydli-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/ydli-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ydli-ai/subscriptions","organizations_url":"https://api.github.com/users/ydli-ai/orgs","repos_url":"https://api.github.com/users/ydli-ai/repos","events_url":"https://api.github.com/users/ydli-ai/events{/privacy}","received_events_url":"https://api.github.com/users/ydli-ai/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-08-17T02:40:14Z","state_reason":null,"performed_via_github_app":null}]