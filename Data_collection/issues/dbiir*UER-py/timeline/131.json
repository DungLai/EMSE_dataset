[{"id":4585560784,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDU4NTU2MDc4NA==","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/4585560784","actor":{"login":"linwhitehat","id":20349381,"node_id":"MDQ6VXNlcjIwMzQ5Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/20349381?v=4","gravatar_id":"","url":"https://api.github.com/users/linwhitehat","html_url":"https://github.com/linwhitehat","followers_url":"https://api.github.com/users/linwhitehat/followers","following_url":"https://api.github.com/users/linwhitehat/following{/other_user}","gists_url":"https://api.github.com/users/linwhitehat/gists{/gist_id}","starred_url":"https://api.github.com/users/linwhitehat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linwhitehat/subscriptions","organizations_url":"https://api.github.com/users/linwhitehat/orgs","repos_url":"https://api.github.com/users/linwhitehat/repos","events_url":"https://api.github.com/users/linwhitehat/events{/privacy}","received_events_url":"https://api.github.com/users/linwhitehat/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-04-13T03:24:42Z","rename":{"from":"修改下游任务处理的询问","to":"下游分类任务的encoder结果处理"},"performed_via_github_app":null},{"id":4585887224,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDU4NTg4NzIyNA==","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/4585887224","actor":{"login":"linwhitehat","id":20349381,"node_id":"MDQ6VXNlcjIwMzQ5Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/20349381?v=4","gravatar_id":"","url":"https://api.github.com/users/linwhitehat","html_url":"https://github.com/linwhitehat","followers_url":"https://api.github.com/users/linwhitehat/followers","following_url":"https://api.github.com/users/linwhitehat/following{/other_user}","gists_url":"https://api.github.com/users/linwhitehat/gists{/gist_id}","starred_url":"https://api.github.com/users/linwhitehat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linwhitehat/subscriptions","organizations_url":"https://api.github.com/users/linwhitehat/orgs","repos_url":"https://api.github.com/users/linwhitehat/repos","events_url":"https://api.github.com/users/linwhitehat/events{/privacy}","received_events_url":"https://api.github.com/users/linwhitehat/received_events","type":"User","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-04-13T05:46:35Z","rename":{"from":"下游分类任务的encoder结果处理","to":"如何将下游任务改为篇章级别分类，而不是句子分类"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/818568379","html_url":"https://github.com/dbiir/UER-py/issues/131#issuecomment-818568379","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/131","id":818568379,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODU2ODM3OQ==","user":{"login":"Embedding","id":31317254,"node_id":"MDQ6VXNlcjMxMzE3MjU0","avatar_url":"https://avatars.githubusercontent.com/u/31317254?v=4","gravatar_id":"","url":"https://api.github.com/users/Embedding","html_url":"https://github.com/Embedding","followers_url":"https://api.github.com/users/Embedding/followers","following_url":"https://api.github.com/users/Embedding/following{/other_user}","gists_url":"https://api.github.com/users/Embedding/gists{/gist_id}","starred_url":"https://api.github.com/users/Embedding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Embedding/subscriptions","organizations_url":"https://api.github.com/users/Embedding/orgs","repos_url":"https://api.github.com/users/Embedding/repos","events_url":"https://api.github.com/users/Embedding/events{/privacy}","received_events_url":"https://api.github.com/users/Embedding/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T08:52:14Z","updated_at":"2021-04-13T08:52:14Z","author_association":"COLLABORATOR","body":"*run_classifier.py* 支持篇章级别的分类。篇章级别的分类和句子级别的分类在处理上没有区别，只需要通过 *--seq_length* 指定长度就好\r\n*run_classifier.py* 中的Classifier类里面说明了如何得到CLS位置的最后输出层向量 \r\n","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/818568379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Embedding","id":31317254,"node_id":"MDQ6VXNlcjMxMzE3MjU0","avatar_url":"https://avatars.githubusercontent.com/u/31317254?v=4","gravatar_id":"","url":"https://api.github.com/users/Embedding","html_url":"https://github.com/Embedding","followers_url":"https://api.github.com/users/Embedding/followers","following_url":"https://api.github.com/users/Embedding/following{/other_user}","gists_url":"https://api.github.com/users/Embedding/gists{/gist_id}","starred_url":"https://api.github.com/users/Embedding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Embedding/subscriptions","organizations_url":"https://api.github.com/users/Embedding/orgs","repos_url":"https://api.github.com/users/Embedding/repos","events_url":"https://api.github.com/users/Embedding/events{/privacy}","received_events_url":"https://api.github.com/users/Embedding/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/818587446","html_url":"https://github.com/dbiir/UER-py/issues/131#issuecomment-818587446","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/131","id":818587446,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODU4NzQ0Ng==","user":{"login":"linwhitehat","id":20349381,"node_id":"MDQ6VXNlcjIwMzQ5Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/20349381?v=4","gravatar_id":"","url":"https://api.github.com/users/linwhitehat","html_url":"https://github.com/linwhitehat","followers_url":"https://api.github.com/users/linwhitehat/followers","following_url":"https://api.github.com/users/linwhitehat/following{/other_user}","gists_url":"https://api.github.com/users/linwhitehat/gists{/gist_id}","starred_url":"https://api.github.com/users/linwhitehat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linwhitehat/subscriptions","organizations_url":"https://api.github.com/users/linwhitehat/orgs","repos_url":"https://api.github.com/users/linwhitehat/repos","events_url":"https://api.github.com/users/linwhitehat/events{/privacy}","received_events_url":"https://api.github.com/users/linwhitehat/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T09:19:55Z","updated_at":"2021-04-13T09:19:55Z","author_association":"NONE","body":"> _run_classifier.py_ 支持篇章级别的分类。篇章级别的分类和句子级别的分类在处理上没有区别，只需要通过 _--seq_length_ 指定长度就好\r\n> _run_classifier.py_ 中的Classifier类里面说明了如何得到CLS位置的最后输出层向量\r\n\r\n谢谢答疑。有一些理解的疑惑再询问一下。\r\n我看了run_classifier的代码，encode输出output就是cls的输出层向量吗？如果下游使用篇章级别分类，我的一个句子是128，那篇章选择seq_length为5个句子，设置640，这么处理的话是输入的1个样本就是一个篇章而不是一个句子，我这样理解正确吗？因为预训练好的模型是句子级别的，我想在输入样本为篇章时切割为句子，在encoder结果的cls向量再进行合并。","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/818587446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"linwhitehat","id":20349381,"node_id":"MDQ6VXNlcjIwMzQ5Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/20349381?v=4","gravatar_id":"","url":"https://api.github.com/users/linwhitehat","html_url":"https://github.com/linwhitehat","followers_url":"https://api.github.com/users/linwhitehat/followers","following_url":"https://api.github.com/users/linwhitehat/following{/other_user}","gists_url":"https://api.github.com/users/linwhitehat/gists{/gist_id}","starred_url":"https://api.github.com/users/linwhitehat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linwhitehat/subscriptions","organizations_url":"https://api.github.com/users/linwhitehat/orgs","repos_url":"https://api.github.com/users/linwhitehat/repos","events_url":"https://api.github.com/users/linwhitehat/events{/privacy}","received_events_url":"https://api.github.com/users/linwhitehat/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/819489265","html_url":"https://github.com/dbiir/UER-py/issues/131#issuecomment-819489265","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/131","id":819489265,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTQ4OTI2NQ==","user":{"login":"Embedding","id":31317254,"node_id":"MDQ6VXNlcjMxMzE3MjU0","avatar_url":"https://avatars.githubusercontent.com/u/31317254?v=4","gravatar_id":"","url":"https://api.github.com/users/Embedding","html_url":"https://github.com/Embedding","followers_url":"https://api.github.com/users/Embedding/followers","following_url":"https://api.github.com/users/Embedding/following{/other_user}","gists_url":"https://api.github.com/users/Embedding/gists{/gist_id}","starred_url":"https://api.github.com/users/Embedding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Embedding/subscriptions","organizations_url":"https://api.github.com/users/Embedding/orgs","repos_url":"https://api.github.com/users/Embedding/repos","events_url":"https://api.github.com/users/Embedding/events{/privacy}","received_events_url":"https://api.github.com/users/Embedding/received_events","type":"User","site_admin":false},"created_at":"2021-04-14T12:44:51Z","updated_at":"2021-04-14T12:44:51Z","author_association":"COLLABORATOR","body":"> > _run_classifier.py_ 支持篇章级别的分类。篇章级别的分类和句子级别的分类在处理上没有区别，只需要通过 _--seq_length_ 指定长度就好\r\n> > _run_classifier.py_ 中的Classifier类里面说明了如何得到CLS位置的最后输出层向量\r\n> \r\n> 谢谢答疑。有一些理解的疑惑再询问一下。\r\n> 我看了run_classifier的代码，encode输出output就是cls的输出层向量吗？如果下游使用篇章级别分类，我的一个句子是128，那篇章选择seq_length为5个句子，设置640，这么处理的话是输入的1个样本就是一个篇章而不是一个句子，我这样理解正确吗？因为预训练好的模型是句子级别的，我想在输入样本为篇章时切割为句子，在encoder结果的cls向量再进行合并。\r\n\r\n我建议是把所有句子合并在一起，整体作为一个样本。这样操作简单并且模型能够对句子之间的信息进行建模\r\nencode输出output输出后，需要经过pooling，得到固定维度的向量","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/819489265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Embedding","id":31317254,"node_id":"MDQ6VXNlcjMxMzE3MjU0","avatar_url":"https://avatars.githubusercontent.com/u/31317254?v=4","gravatar_id":"","url":"https://api.github.com/users/Embedding","html_url":"https://github.com/Embedding","followers_url":"https://api.github.com/users/Embedding/followers","following_url":"https://api.github.com/users/Embedding/following{/other_user}","gists_url":"https://api.github.com/users/Embedding/gists{/gist_id}","starred_url":"https://api.github.com/users/Embedding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Embedding/subscriptions","organizations_url":"https://api.github.com/users/Embedding/orgs","repos_url":"https://api.github.com/users/Embedding/repos","events_url":"https://api.github.com/users/Embedding/events{/privacy}","received_events_url":"https://api.github.com/users/Embedding/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/821805635","html_url":"https://github.com/dbiir/UER-py/issues/131#issuecomment-821805635","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/131","id":821805635,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTgwNTYzNQ==","user":{"login":"linwhitehat","id":20349381,"node_id":"MDQ6VXNlcjIwMzQ5Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/20349381?v=4","gravatar_id":"","url":"https://api.github.com/users/linwhitehat","html_url":"https://github.com/linwhitehat","followers_url":"https://api.github.com/users/linwhitehat/followers","following_url":"https://api.github.com/users/linwhitehat/following{/other_user}","gists_url":"https://api.github.com/users/linwhitehat/gists{/gist_id}","starred_url":"https://api.github.com/users/linwhitehat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linwhitehat/subscriptions","organizations_url":"https://api.github.com/users/linwhitehat/orgs","repos_url":"https://api.github.com/users/linwhitehat/repos","events_url":"https://api.github.com/users/linwhitehat/events{/privacy}","received_events_url":"https://api.github.com/users/linwhitehat/received_events","type":"User","site_admin":false},"created_at":"2021-04-17T11:00:53Z","updated_at":"2021-04-17T11:00:53Z","author_association":"NONE","body":"> > > _run_classifier.py_ 支持篇章级别的分类。篇章级别的分类和句子级别的分类在处理上没有区别，只需要通过 _--seq_length_ 指定长度就好\r\n> > > _run_classifier.py_ 中的Classifier类里面说明了如何得到CLS位置的最后输出层向量\r\n> > \r\n> > \r\n> > 谢谢答疑。有一些理解的疑惑再询问一下。\r\n> > 我看了run_classifier的代码，encode输出output就是cls的输出层向量吗？如果下游使用篇章级别分类，我的一个句子是128，那篇章选择seq_length为5个句子，设置640，这么处理的话是输入的1个样本就是一个篇章而不是一个句子，我这样理解正确吗？因为预训练好的模型是句子级别的，我想在输入样本为篇章时切割为句子，在encoder结果的cls向量再进行合并。\r\n> \r\n> 我建议是把所有句子合并在一起，整体作为一个样本。这样操作简单并且模型能够对句子之间的信息进行建模\r\n> encode输出output输出后，需要经过pooling，得到固定维度的向量\r\n\r\n好的，谢谢你的建议。我因为对bert的理解还不到位，所以想问一下，在第一个问题的回答中你指的**run_classifier.py 中的Classifier类里面说明了如何得到CLS位置的最后输出层向量**是什么意思？是下面图中的这部分分支的处理吗？如果我输入的是所有句子，最终输出的是只有1个CLS的输出是吗？因为我的文本内容没有具体的语义，加上预训练的时候是用单个句子进行训练的，所以才想试试把一个篇章的几个句子单独输入编码，将输出的每个CLS结果合并再进行分类。\r\n![image](https://user-images.githubusercontent.com/20349381/115110602-d913a000-9fae-11eb-909a-4b84ef8d5e54.png)\r\n","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/821805635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"linwhitehat","id":20349381,"node_id":"MDQ6VXNlcjIwMzQ5Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/20349381?v=4","gravatar_id":"","url":"https://api.github.com/users/linwhitehat","html_url":"https://github.com/linwhitehat","followers_url":"https://api.github.com/users/linwhitehat/followers","following_url":"https://api.github.com/users/linwhitehat/following{/other_user}","gists_url":"https://api.github.com/users/linwhitehat/gists{/gist_id}","starred_url":"https://api.github.com/users/linwhitehat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linwhitehat/subscriptions","organizations_url":"https://api.github.com/users/linwhitehat/orgs","repos_url":"https://api.github.com/users/linwhitehat/repos","events_url":"https://api.github.com/users/linwhitehat/events{/privacy}","received_events_url":"https://api.github.com/users/linwhitehat/received_events","type":"User","site_admin":false}},{"id":4693026704,"node_id":"MDExOkNsb3NlZEV2ZW50NDY5MzAyNjcwNA==","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/4693026704","actor":{"login":"linwhitehat","id":20349381,"node_id":"MDQ6VXNlcjIwMzQ5Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/20349381?v=4","gravatar_id":"","url":"https://api.github.com/users/linwhitehat","html_url":"https://github.com/linwhitehat","followers_url":"https://api.github.com/users/linwhitehat/followers","following_url":"https://api.github.com/users/linwhitehat/following{/other_user}","gists_url":"https://api.github.com/users/linwhitehat/gists{/gist_id}","starred_url":"https://api.github.com/users/linwhitehat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linwhitehat/subscriptions","organizations_url":"https://api.github.com/users/linwhitehat/orgs","repos_url":"https://api.github.com/users/linwhitehat/repos","events_url":"https://api.github.com/users/linwhitehat/events{/privacy}","received_events_url":"https://api.github.com/users/linwhitehat/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-05-06T06:18:27Z","state_reason":null,"performed_via_github_app":null}]