[{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/566924876","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-566924876","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":566924876,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjkyNDg3Ng==","user":{"login":"ZhaoxinRuc","id":38198098,"node_id":"MDQ6VXNlcjM4MTk4MDk4","avatar_url":"https://avatars.githubusercontent.com/u/38198098?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhaoxinRuc","html_url":"https://github.com/ZhaoxinRuc","followers_url":"https://api.github.com/users/ZhaoxinRuc/followers","following_url":"https://api.github.com/users/ZhaoxinRuc/following{/other_user}","gists_url":"https://api.github.com/users/ZhaoxinRuc/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhaoxinRuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhaoxinRuc/subscriptions","organizations_url":"https://api.github.com/users/ZhaoxinRuc/orgs","repos_url":"https://api.github.com/users/ZhaoxinRuc/repos","events_url":"https://api.github.com/users/ZhaoxinRuc/events{/privacy}","received_events_url":"https://api.github.com/users/ZhaoxinRuc/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T08:13:25Z","updated_at":"2019-12-18T08:13:25Z","author_association":"COLLABORATOR","body":"Maybe you didn't specify the correct parameters, you should add `--layers_num 24` to the command. Because the default of layers_num  is 12. If you have any question, please tell me.","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/566924876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhaoxinRuc","id":38198098,"node_id":"MDQ6VXNlcjM4MTk4MDk4","avatar_url":"https://avatars.githubusercontent.com/u/38198098?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhaoxinRuc","html_url":"https://github.com/ZhaoxinRuc","followers_url":"https://api.github.com/users/ZhaoxinRuc/followers","following_url":"https://api.github.com/users/ZhaoxinRuc/following{/other_user}","gists_url":"https://api.github.com/users/ZhaoxinRuc/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhaoxinRuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhaoxinRuc/subscriptions","organizations_url":"https://api.github.com/users/ZhaoxinRuc/orgs","repos_url":"https://api.github.com/users/ZhaoxinRuc/repos","events_url":"https://api.github.com/users/ZhaoxinRuc/events{/privacy}","received_events_url":"https://api.github.com/users/ZhaoxinRuc/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567272631","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-567272631","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":567272631,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzI3MjYzMQ==","user":{"login":"nlp4869","id":56213980,"node_id":"MDQ6VXNlcjU2MjEzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/56213980?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4869","html_url":"https://github.com/nlp4869","followers_url":"https://api.github.com/users/nlp4869/followers","following_url":"https://api.github.com/users/nlp4869/following{/other_user}","gists_url":"https://api.github.com/users/nlp4869/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4869/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4869/subscriptions","organizations_url":"https://api.github.com/users/nlp4869/orgs","repos_url":"https://api.github.com/users/nlp4869/repos","events_url":"https://api.github.com/users/nlp4869/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4869/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T00:22:50Z","updated_at":"2019-12-19T00:29:53Z","author_association":"NONE","body":"Hi @ZhaoxinRuc ,\r\nHere is the command that I used to convert model:\r\n```\r\npython convert_bert_from_uer_to_google.py --layers_num=24 --input_model_path=./mixed_large_24_model.bin --output_model_path=./output/model.ckpt\r\n```\r\n\r\nAlso, as I am using a CPU-only machine, I added `map_location='cpu'` in torch.load function: https://github.com/dbiir/UER-py/blob/master/scripts/convert_bert_from_uer_to_google.py#L21\r\nI am not sure if this will result in a bad conversion.\r\nI am using `tensorflow==1.14.0` and `python 3.7.3`\r\nThank you for your help.\r\n","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567272631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4869","id":56213980,"node_id":"MDQ6VXNlcjU2MjEzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/56213980?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4869","html_url":"https://github.com/nlp4869","followers_url":"https://api.github.com/users/nlp4869/followers","following_url":"https://api.github.com/users/nlp4869/following{/other_user}","gists_url":"https://api.github.com/users/nlp4869/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4869/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4869/subscriptions","organizations_url":"https://api.github.com/users/nlp4869/orgs","repos_url":"https://api.github.com/users/nlp4869/repos","events_url":"https://api.github.com/users/nlp4869/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4869/received_events","type":"User","site_admin":false}},{"id":2895481446,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg5NTQ4MTQ0Ng==","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/2895481446","actor":{"login":"ZhaoxinRuc","id":38198098,"node_id":"MDQ6VXNlcjM4MTk4MDk4","avatar_url":"https://avatars.githubusercontent.com/u/38198098?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhaoxinRuc","html_url":"https://github.com/ZhaoxinRuc","followers_url":"https://api.github.com/users/ZhaoxinRuc/followers","following_url":"https://api.github.com/users/ZhaoxinRuc/following{/other_user}","gists_url":"https://api.github.com/users/ZhaoxinRuc/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhaoxinRuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhaoxinRuc/subscriptions","organizations_url":"https://api.github.com/users/ZhaoxinRuc/orgs","repos_url":"https://api.github.com/users/ZhaoxinRuc/repos","events_url":"https://api.github.com/users/ZhaoxinRuc/events{/privacy}","received_events_url":"https://api.github.com/users/ZhaoxinRuc/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-19T00:22:50Z","performed_via_github_app":null},{"id":2895481449,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4OTU0ODE0NDk=","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/2895481449","actor":{"login":"ZhaoxinRuc","id":38198098,"node_id":"MDQ6VXNlcjM4MTk4MDk4","avatar_url":"https://avatars.githubusercontent.com/u/38198098?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhaoxinRuc","html_url":"https://github.com/ZhaoxinRuc","followers_url":"https://api.github.com/users/ZhaoxinRuc/followers","following_url":"https://api.github.com/users/ZhaoxinRuc/following{/other_user}","gists_url":"https://api.github.com/users/ZhaoxinRuc/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhaoxinRuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhaoxinRuc/subscriptions","organizations_url":"https://api.github.com/users/ZhaoxinRuc/orgs","repos_url":"https://api.github.com/users/ZhaoxinRuc/repos","events_url":"https://api.github.com/users/ZhaoxinRuc/events{/privacy}","received_events_url":"https://api.github.com/users/ZhaoxinRuc/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-19T00:22:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567292115","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-567292115","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":567292115,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzI5MjExNQ==","user":{"login":"nlp4869","id":56213980,"node_id":"MDQ6VXNlcjU2MjEzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/56213980?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4869","html_url":"https://github.com/nlp4869","followers_url":"https://api.github.com/users/nlp4869/followers","following_url":"https://api.github.com/users/nlp4869/following{/other_user}","gists_url":"https://api.github.com/users/nlp4869/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4869/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4869/subscriptions","organizations_url":"https://api.github.com/users/nlp4869/orgs","repos_url":"https://api.github.com/users/nlp4869/repos","events_url":"https://api.github.com/users/nlp4869/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4869/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T01:42:04Z","updated_at":"2019-12-19T01:42:04Z","author_association":"NONE","body":"Update:\r\nUsing GPU with original script (without `map_location='cpu'`) under tf=1.13.1 and python3 still results in bad random results (tried with several classification tasks).","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567292115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4869","id":56213980,"node_id":"MDQ6VXNlcjU2MjEzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/56213980?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4869","html_url":"https://github.com/nlp4869","followers_url":"https://api.github.com/users/nlp4869/followers","following_url":"https://api.github.com/users/nlp4869/following{/other_user}","gists_url":"https://api.github.com/users/nlp4869/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4869/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4869/subscriptions","organizations_url":"https://api.github.com/users/nlp4869/orgs","repos_url":"https://api.github.com/users/nlp4869/repos","events_url":"https://api.github.com/users/nlp4869/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4869/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567478044","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-567478044","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":567478044,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzQ3ODA0NA==","user":{"login":"zhezhaoa","id":10495098,"node_id":"MDQ6VXNlcjEwNDk1MDk4","avatar_url":"https://avatars.githubusercontent.com/u/10495098?v=4","gravatar_id":"","url":"https://api.github.com/users/zhezhaoa","html_url":"https://github.com/zhezhaoa","followers_url":"https://api.github.com/users/zhezhaoa/followers","following_url":"https://api.github.com/users/zhezhaoa/following{/other_user}","gists_url":"https://api.github.com/users/zhezhaoa/gists{/gist_id}","starred_url":"https://api.github.com/users/zhezhaoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhezhaoa/subscriptions","organizations_url":"https://api.github.com/users/zhezhaoa/orgs","repos_url":"https://api.github.com/users/zhezhaoa/repos","events_url":"https://api.github.com/users/zhezhaoa/events{/privacy}","received_events_url":"https://api.github.com/users/zhezhaoa/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T12:54:57Z","updated_at":"2019-12-19T14:10:51Z","author_association":"COLLABORATOR","body":"We have tested BERT-large model on Google BERT-tf and it performs normally.\r\nCould you give us more details, such as vocabulary (do you use the Chinese version?) and config file.\r\nHere are our commands:\r\n\r\npython .\\scripts\\convert_bert_from_uer_to_google.py --layers_num 24 --input_model_path .\\models\\mixed_large_24_model.bin --output_model_path .\\models\\google_model_24.ckpt\r\n\r\nTensorflow:\r\npython run_classifier.py   --task_name=BKRV   --do_train=true   --do_eval=true   --data_dir=./datasets/book_review --vocab_file=./model/google_zh_vocab.txt   --bert_config_file=.model/bert_config.json   --init_checkpoint=./output_new/googel_model_24.ckpt   --max_seq_length=128   --train_batch_size=4   --learning_rate=2e-5   --num_train_epochs=3.0   --output_dir=/run/user/1010/tmp\r\n\r\nConfig file is as follows:\r\n{\r\n  \"attention_probs_dropout_prob\": 0.1,\r\n  \"hidden_act\": \"gelu\",\r\n  \"hidden_dropout_prob\": 0.1,\r\n  \"hidden_size\": 1024,\r\n  \"initializer_range\": 0.02,\r\n  \"intermediate_size\": 4096,\r\n  \"max_position_embeddings\": 512,\r\n  \"num_attention_heads\": 16,\r\n  \"num_hidden_layers\": 24,\r\n  \"type_vocab_size\": 2,\r\n  \"vocab_size\": 21128\r\n}\r\n\r\nBKRV is a Chinese dataset and its label and text are divided by \\t .\r\nPerhaps we can communicate in private. \r\nQQ number：1152543959","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567478044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zhezhaoa","id":10495098,"node_id":"MDQ6VXNlcjEwNDk1MDk4","avatar_url":"https://avatars.githubusercontent.com/u/10495098?v=4","gravatar_id":"","url":"https://api.github.com/users/zhezhaoa","html_url":"https://github.com/zhezhaoa","followers_url":"https://api.github.com/users/zhezhaoa/followers","following_url":"https://api.github.com/users/zhezhaoa/following{/other_user}","gists_url":"https://api.github.com/users/zhezhaoa/gists{/gist_id}","starred_url":"https://api.github.com/users/zhezhaoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhezhaoa/subscriptions","organizations_url":"https://api.github.com/users/zhezhaoa/orgs","repos_url":"https://api.github.com/users/zhezhaoa/repos","events_url":"https://api.github.com/users/zhezhaoa/events{/privacy}","received_events_url":"https://api.github.com/users/zhezhaoa/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567492559","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-567492559","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":567492559,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzQ5MjU1OQ==","user":{"login":"nlp4869","id":56213980,"node_id":"MDQ6VXNlcjU2MjEzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/56213980?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4869","html_url":"https://github.com/nlp4869","followers_url":"https://api.github.com/users/nlp4869/followers","following_url":"https://api.github.com/users/nlp4869/following{/other_user}","gists_url":"https://api.github.com/users/nlp4869/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4869/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4869/subscriptions","organizations_url":"https://api.github.com/users/nlp4869/orgs","repos_url":"https://api.github.com/users/nlp4869/repos","events_url":"https://api.github.com/users/nlp4869/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4869/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T13:36:44Z","updated_at":"2019-12-19T13:39:19Z","author_association":"NONE","body":"I used original Chinese vocabulary (21,128 entries) and config file provided by Google official.\r\nI have been using original `roberta-wwm-ext-large` and could get an accuracy of ~95.7 on the ChnSentiCorp test set. \r\nBut when I **ONLY** change the weight file to your model, the performance gets bad (almost random output). I checked the logs and found the weights are correctly initialized, so I think it must be the problem of the conversion process.\r\nI noticed that you've updated conversion script, so I regenerated your model into TensorFlow version, but it didn't help.\r\n\r\nHere is the generated files:\r\n<img width=\"609\" alt=\"image\" src=\"https://user-images.githubusercontent.com/56213980/71177899-fb58b900-22a7-11ea-91eb-4025a9392d49.png\">","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567492559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4869","id":56213980,"node_id":"MDQ6VXNlcjU2MjEzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/56213980?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4869","html_url":"https://github.com/nlp4869","followers_url":"https://api.github.com/users/nlp4869/followers","following_url":"https://api.github.com/users/nlp4869/following{/other_user}","gists_url":"https://api.github.com/users/nlp4869/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4869/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4869/subscriptions","organizations_url":"https://api.github.com/users/nlp4869/orgs","repos_url":"https://api.github.com/users/nlp4869/repos","events_url":"https://api.github.com/users/nlp4869/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4869/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567763554","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-567763554","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":567763554,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Nzc2MzU1NA==","user":{"login":"ZhaoxinRuc","id":38198098,"node_id":"MDQ6VXNlcjM4MTk4MDk4","avatar_url":"https://avatars.githubusercontent.com/u/38198098?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhaoxinRuc","html_url":"https://github.com/ZhaoxinRuc","followers_url":"https://api.github.com/users/ZhaoxinRuc/followers","following_url":"https://api.github.com/users/ZhaoxinRuc/following{/other_user}","gists_url":"https://api.github.com/users/ZhaoxinRuc/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhaoxinRuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhaoxinRuc/subscriptions","organizations_url":"https://api.github.com/users/ZhaoxinRuc/orgs","repos_url":"https://api.github.com/users/ZhaoxinRuc/repos","events_url":"https://api.github.com/users/ZhaoxinRuc/events{/privacy}","received_events_url":"https://api.github.com/users/ZhaoxinRuc/received_events","type":"User","site_admin":false},"created_at":"2019-12-20T02:43:16Z","updated_at":"2019-12-20T02:43:16Z","author_association":"COLLABORATOR","body":"do you change the _run_classifier.py_ file in _google-research/bert_ as follows:\r\n```\r\nclass BkrvProcessor(DataProcessor):\r\n  \"\"\"Processor for the MRPC data set (GLUE version).\"\"\"\r\n\r\n  def get_train_examples(self, data_dir):\r\n    \"\"\"See base class.\"\"\"\r\n    return self._create_examples(\r\n        self._read_tsv(os.path.join(data_dir, \"train.tsv\")), \"train\")\r\n\r\n  def get_dev_examples(self, data_dir):\r\n    \"\"\"See base class.\"\"\"\r\n    return self._create_examples(\r\n        self._read_tsv(os.path.join(data_dir, \"dev.tsv\")), \"dev\")\r\n\r\n  def get_test_examples(self, data_dir):\r\n    \"\"\"See base class.\"\"\"\r\n    return self._create_examples(\r\n        self._read_tsv(os.path.join(data_dir, \"test.tsv\")), \"test\")\r\n\r\n  def get_labels(self):\r\n    \"\"\"See base class.\"\"\"\r\n    return [\"0\", \"1\"]\r\n\r\n  def _create_examples(self, lines, set_type):\r\n    \"\"\"Creates examples for the training and dev sets.\"\"\"\r\n    examples = []\r\n    for (i, line) in enumerate(lines):\r\n      if i == 0:\r\n        continue\r\n      guid = \"%s-%s\" % (set_type, i)\r\n      text_a = tokenization.convert_to_unicode(line[1])\r\n      if set_type == \"test\":\r\n        label = \"0\"\r\n      else:\r\n        label = tokenization.convert_to_unicode(line[0])\r\n      examples.append(\r\n          InputExample(guid=guid, text_a=text_a, text_b=None, label=label))\r\n    return examples\r\n```\r\n```\r\ndef main(_):\r\n  tf.logging.set_verbosity(tf.logging.INFO)\r\n\r\n  processors = {\r\n      \"cola\": ColaProcessor,\r\n      \"mnli\": MnliProcessor,\r\n      \"mrpc\": MrpcProcessor,\r\n      \"xnli\": XnliProcessor,\r\n      \"bkrv\": BkrvProcessor,\r\n  }\r\n```\r\nAnd this is my result in book_review dataset:\r\n\r\n> INFO:tensorflow:***** Eval results *****\r\n> INFO:tensorflow:  eval_accuracy = 0.8954\r\n> INFO:tensorflow:  eval_loss = 0.5452643\r\n> INFO:tensorflow:  global_step = 15000\r\n> INFO:tensorflow:  loss = 0.5452643\r\n","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567763554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhaoxinRuc","id":38198098,"node_id":"MDQ6VXNlcjM4MTk4MDk4","avatar_url":"https://avatars.githubusercontent.com/u/38198098?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhaoxinRuc","html_url":"https://github.com/ZhaoxinRuc","followers_url":"https://api.github.com/users/ZhaoxinRuc/followers","following_url":"https://api.github.com/users/ZhaoxinRuc/following{/other_user}","gists_url":"https://api.github.com/users/ZhaoxinRuc/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhaoxinRuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhaoxinRuc/subscriptions","organizations_url":"https://api.github.com/users/ZhaoxinRuc/orgs","repos_url":"https://api.github.com/users/ZhaoxinRuc/repos","events_url":"https://api.github.com/users/ZhaoxinRuc/events{/privacy}","received_events_url":"https://api.github.com/users/ZhaoxinRuc/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567772260","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-567772260","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":567772260,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Nzc3MjI2MA==","user":{"login":"ZhaoxinRuc","id":38198098,"node_id":"MDQ6VXNlcjM4MTk4MDk4","avatar_url":"https://avatars.githubusercontent.com/u/38198098?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhaoxinRuc","html_url":"https://github.com/ZhaoxinRuc","followers_url":"https://api.github.com/users/ZhaoxinRuc/followers","following_url":"https://api.github.com/users/ZhaoxinRuc/following{/other_user}","gists_url":"https://api.github.com/users/ZhaoxinRuc/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhaoxinRuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhaoxinRuc/subscriptions","organizations_url":"https://api.github.com/users/ZhaoxinRuc/orgs","repos_url":"https://api.github.com/users/ZhaoxinRuc/repos","events_url":"https://api.github.com/users/ZhaoxinRuc/events{/privacy}","received_events_url":"https://api.github.com/users/ZhaoxinRuc/received_events","type":"User","site_admin":false},"created_at":"2019-12-20T03:26:30Z","updated_at":"2019-12-20T03:26:30Z","author_association":"COLLABORATOR","body":" can you give me the config file you used in the experiment?\r\nthis is my result in chnsenticorp dataset by using google_model_24.ckpt converted from mixed_large_24_model.bin.\r\n\r\n> INFO:tensorflow:***** Eval results *****\r\n> INFO:tensorflow:  eval_accuracy = 0.95\r\n> INFO:tensorflow:  eval_loss = 0.29745975\r\n> INFO:tensorflow:  global_step = 7200\r\n> INFO:tensorflow:  loss = 0.29745975\r\n","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567772260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhaoxinRuc","id":38198098,"node_id":"MDQ6VXNlcjM4MTk4MDk4","avatar_url":"https://avatars.githubusercontent.com/u/38198098?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhaoxinRuc","html_url":"https://github.com/ZhaoxinRuc","followers_url":"https://api.github.com/users/ZhaoxinRuc/followers","following_url":"https://api.github.com/users/ZhaoxinRuc/following{/other_user}","gists_url":"https://api.github.com/users/ZhaoxinRuc/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhaoxinRuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhaoxinRuc/subscriptions","organizations_url":"https://api.github.com/users/ZhaoxinRuc/orgs","repos_url":"https://api.github.com/users/ZhaoxinRuc/repos","events_url":"https://api.github.com/users/ZhaoxinRuc/events{/privacy}","received_events_url":"https://api.github.com/users/ZhaoxinRuc/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567773356","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-567773356","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":567773356,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Nzc3MzM1Ng==","user":{"login":"nlp4869","id":56213980,"node_id":"MDQ6VXNlcjU2MjEzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/56213980?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4869","html_url":"https://github.com/nlp4869","followers_url":"https://api.github.com/users/nlp4869/followers","following_url":"https://api.github.com/users/nlp4869/following{/other_user}","gists_url":"https://api.github.com/users/nlp4869/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4869/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4869/subscriptions","organizations_url":"https://api.github.com/users/nlp4869/orgs","repos_url":"https://api.github.com/users/nlp4869/repos","events_url":"https://api.github.com/users/nlp4869/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4869/received_events","type":"User","site_admin":false},"created_at":"2019-12-20T03:31:53Z","updated_at":"2019-12-20T03:34:24Z","author_association":"NONE","body":"Config file as @zhezhaoa provided.\r\n{\r\n\"attention_probs_dropout_prob\": 0.1,\r\n\"hidden_act\": \"gelu\",\r\n\"hidden_dropout_prob\": 0.1,\r\n\"hidden_size\": 1024,\r\n\"initializer_range\": 0.02,\r\n\"intermediate_size\": 4096,\r\n\"max_position_embeddings\": 512,\r\n\"num_attention_heads\": 16,\r\n\"num_hidden_layers\": 24,\r\n\"type_vocab_size\": 2,\r\n\"vocab_size\": 21128\r\n}\r\n\r\nI assumed your model is identical to the `roberta-wwm-ext-large`, so I just replaced your model (converted by your script) and DID NOT change other configurations (such as config, vocabulary, hyper-params, etc.).","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567773356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nlp4869","id":56213980,"node_id":"MDQ6VXNlcjU2MjEzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/56213980?v=4","gravatar_id":"","url":"https://api.github.com/users/nlp4869","html_url":"https://github.com/nlp4869","followers_url":"https://api.github.com/users/nlp4869/followers","following_url":"https://api.github.com/users/nlp4869/following{/other_user}","gists_url":"https://api.github.com/users/nlp4869/gists{/gist_id}","starred_url":"https://api.github.com/users/nlp4869/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlp4869/subscriptions","organizations_url":"https://api.github.com/users/nlp4869/orgs","repos_url":"https://api.github.com/users/nlp4869/repos","events_url":"https://api.github.com/users/nlp4869/events{/privacy}","received_events_url":"https://api.github.com/users/nlp4869/received_events","type":"User","site_admin":false}},{"id":2899452053,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg5OTQ1MjA1Mw==","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/2899452053","actor":{"login":"zhezhaoa","id":10495098,"node_id":"MDQ6VXNlcjEwNDk1MDk4","avatar_url":"https://avatars.githubusercontent.com/u/10495098?v=4","gravatar_id":"","url":"https://api.github.com/users/zhezhaoa","html_url":"https://github.com/zhezhaoa","followers_url":"https://api.github.com/users/zhezhaoa/followers","following_url":"https://api.github.com/users/zhezhaoa/following{/other_user}","gists_url":"https://api.github.com/users/zhezhaoa/gists{/gist_id}","starred_url":"https://api.github.com/users/zhezhaoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhezhaoa/subscriptions","organizations_url":"https://api.github.com/users/zhezhaoa/orgs","repos_url":"https://api.github.com/users/zhezhaoa/repos","events_url":"https://api.github.com/users/zhezhaoa/events{/privacy}","received_events_url":"https://api.github.com/users/zhezhaoa/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-20T03:31:53Z","performed_via_github_app":null},{"id":2899452056,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4OTk0NTIwNTY=","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/2899452056","actor":{"login":"zhezhaoa","id":10495098,"node_id":"MDQ6VXNlcjEwNDk1MDk4","avatar_url":"https://avatars.githubusercontent.com/u/10495098?v=4","gravatar_id":"","url":"https://api.github.com/users/zhezhaoa","html_url":"https://github.com/zhezhaoa","followers_url":"https://api.github.com/users/zhezhaoa/followers","following_url":"https://api.github.com/users/zhezhaoa/following{/other_user}","gists_url":"https://api.github.com/users/zhezhaoa/gists{/gist_id}","starred_url":"https://api.github.com/users/zhezhaoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhezhaoa/subscriptions","organizations_url":"https://api.github.com/users/zhezhaoa/orgs","repos_url":"https://api.github.com/users/zhezhaoa/repos","events_url":"https://api.github.com/users/zhezhaoa/events{/privacy}","received_events_url":"https://api.github.com/users/zhezhaoa/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-20T03:31:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567794701","html_url":"https://github.com/dbiir/UER-py/issues/37#issuecomment-567794701","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/37","id":567794701,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Nzc5NDcwMQ==","user":{"login":"zhezhaoa","id":10495098,"node_id":"MDQ6VXNlcjEwNDk1MDk4","avatar_url":"https://avatars.githubusercontent.com/u/10495098?v=4","gravatar_id":"","url":"https://api.github.com/users/zhezhaoa","html_url":"https://github.com/zhezhaoa","followers_url":"https://api.github.com/users/zhezhaoa/followers","following_url":"https://api.github.com/users/zhezhaoa/following{/other_user}","gists_url":"https://api.github.com/users/zhezhaoa/gists{/gist_id}","starred_url":"https://api.github.com/users/zhezhaoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhezhaoa/subscriptions","organizations_url":"https://api.github.com/users/zhezhaoa/orgs","repos_url":"https://api.github.com/users/zhezhaoa/repos","events_url":"https://api.github.com/users/zhezhaoa/events{/privacy}","received_events_url":"https://api.github.com/users/zhezhaoa/received_events","type":"User","site_admin":false},"created_at":"2019-12-20T05:32:43Z","updated_at":"2019-12-20T05:32:43Z","author_association":"COLLABORATOR","body":"It seems that you use the correct vocabulary and config file. \r\nWe download the lastest Google-BERT-tf and achieve normal results by loading our model.\r\nPerhaps we can communicate via mail since we don't think it is a general problem.\r\n1152543959@qq.com","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/567794701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zhezhaoa","id":10495098,"node_id":"MDQ6VXNlcjEwNDk1MDk4","avatar_url":"https://avatars.githubusercontent.com/u/10495098?v=4","gravatar_id":"","url":"https://api.github.com/users/zhezhaoa","html_url":"https://github.com/zhezhaoa","followers_url":"https://api.github.com/users/zhezhaoa/followers","following_url":"https://api.github.com/users/zhezhaoa/following{/other_user}","gists_url":"https://api.github.com/users/zhezhaoa/gists{/gist_id}","starred_url":"https://api.github.com/users/zhezhaoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhezhaoa/subscriptions","organizations_url":"https://api.github.com/users/zhezhaoa/orgs","repos_url":"https://api.github.com/users/zhezhaoa/repos","events_url":"https://api.github.com/users/zhezhaoa/events{/privacy}","received_events_url":"https://api.github.com/users/zhezhaoa/received_events","type":"User","site_admin":false}}]