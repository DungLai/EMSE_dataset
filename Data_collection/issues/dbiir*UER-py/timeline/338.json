[{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225533762","html_url":"https://github.com/dbiir/UER-py/issues/338#issuecomment-1225533762","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/338","id":1225533762,"node_id":"IC_kwDOCsNQKM5JDClC","user":{"login":"hhou435","id":59219579,"node_id":"MDQ6VXNlcjU5MjE5NTc5","avatar_url":"https://avatars.githubusercontent.com/u/59219579?v=4","gravatar_id":"","url":"https://api.github.com/users/hhou435","html_url":"https://github.com/hhou435","followers_url":"https://api.github.com/users/hhou435/followers","following_url":"https://api.github.com/users/hhou435/following{/other_user}","gists_url":"https://api.github.com/users/hhou435/gists{/gist_id}","starred_url":"https://api.github.com/users/hhou435/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhou435/subscriptions","organizations_url":"https://api.github.com/users/hhou435/orgs","repos_url":"https://api.github.com/users/hhou435/repos","events_url":"https://api.github.com/users/hhou435/events{/privacy}","received_events_url":"https://api.github.com/users/hhou435/received_events","type":"User","site_admin":false},"created_at":"2022-08-24T10:31:22Z","updated_at":"2022-08-24T10:31:22Z","author_association":"COLLABORATOR","body":"Hello, I have not used Huggingface Transformers to fine-tune the t5 model we uploaded. The main difference between the T5 model we trained and the T5 model trained by huggingface is the use of different tokenizers. We still use Berttokenizer while Huggingface uses T5tokenizer. A fine-tuning example of T5 is also given in our project https://github.com/dbiir/UER-py/wiki/Finetune-the-tasks#fine-tuning-in-a-text2text-manner\r\n","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225533762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hhou435","id":59219579,"node_id":"MDQ6VXNlcjU5MjE5NTc5","avatar_url":"https://avatars.githubusercontent.com/u/59219579?v=4","gravatar_id":"","url":"https://api.github.com/users/hhou435","html_url":"https://github.com/hhou435","followers_url":"https://api.github.com/users/hhou435/followers","following_url":"https://api.github.com/users/hhou435/following{/other_user}","gists_url":"https://api.github.com/users/hhou435/gists{/gist_id}","starred_url":"https://api.github.com/users/hhou435/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhou435/subscriptions","organizations_url":"https://api.github.com/users/hhou435/orgs","repos_url":"https://api.github.com/users/hhou435/repos","events_url":"https://api.github.com/users/hhou435/events{/privacy}","received_events_url":"https://api.github.com/users/hhou435/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225666814","html_url":"https://github.com/dbiir/UER-py/issues/338#issuecomment-1225666814","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/338","id":1225666814,"node_id":"IC_kwDOCsNQKM5JDjD-","user":{"login":"ShaneTian","id":42370681,"node_id":"MDQ6VXNlcjQyMzcwNjgx","avatar_url":"https://avatars.githubusercontent.com/u/42370681?v=4","gravatar_id":"","url":"https://api.github.com/users/ShaneTian","html_url":"https://github.com/ShaneTian","followers_url":"https://api.github.com/users/ShaneTian/followers","following_url":"https://api.github.com/users/ShaneTian/following{/other_user}","gists_url":"https://api.github.com/users/ShaneTian/gists{/gist_id}","starred_url":"https://api.github.com/users/ShaneTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShaneTian/subscriptions","organizations_url":"https://api.github.com/users/ShaneTian/orgs","repos_url":"https://api.github.com/users/ShaneTian/repos","events_url":"https://api.github.com/users/ShaneTian/events{/privacy}","received_events_url":"https://api.github.com/users/ShaneTian/received_events","type":"User","site_admin":false},"created_at":"2022-08-24T12:38:28Z","updated_at":"2022-08-24T12:38:44Z","author_association":"NONE","body":"Thanks for your reply!\r\n\r\n> The main difference between the T5 model we trained and the T5 model trained by huggingface is the use of different tokenizers.\r\n\r\nDo you mean that [uer/t5-base-chinese-cluecorpussmall](https://huggingface.co/uer/t5-base-chinese-cluecorpussmall) is not trained by UER-py, but HuggingFace?\r\n\r\n> We still use Berttokenizer while Huggingface uses T5tokenizer.\r\n\r\nIf I want to use [uer/t5-base-chinese-cluecorpussmall](https://huggingface.co/uer/t5-base-chinese-cluecorpussmall), which tokenizer should I use?\r\n`BertTokenizer` is used in [HuggingFace model card](https://huggingface.co/uer/t5-base-chinese-cluecorpussmall#how-to-use).\r\n\r\n> A fine-tuning example of T5 is also given in our project https://github.com/dbiir/UER-py/wiki/Finetune-the-tasks#fine-tuning-in-a-text2text-manner\r\n\r\nIf I want to use HuggingFace Transformers to fine-tune this model ([uer/t5-base-chinese-cluecorpussmall](https://huggingface.co/uer/t5-base-chinese-cluecorpussmall)), how should I prepare my input data?","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225666814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ShaneTian","id":42370681,"node_id":"MDQ6VXNlcjQyMzcwNjgx","avatar_url":"https://avatars.githubusercontent.com/u/42370681?v=4","gravatar_id":"","url":"https://api.github.com/users/ShaneTian","html_url":"https://github.com/ShaneTian","followers_url":"https://api.github.com/users/ShaneTian/followers","following_url":"https://api.github.com/users/ShaneTian/following{/other_user}","gists_url":"https://api.github.com/users/ShaneTian/gists{/gist_id}","starred_url":"https://api.github.com/users/ShaneTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShaneTian/subscriptions","organizations_url":"https://api.github.com/users/ShaneTian/orgs","repos_url":"https://api.github.com/users/ShaneTian/repos","events_url":"https://api.github.com/users/ShaneTian/events{/privacy}","received_events_url":"https://api.github.com/users/ShaneTian/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225698565","html_url":"https://github.com/dbiir/UER-py/issues/338#issuecomment-1225698565","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/338","id":1225698565,"node_id":"IC_kwDOCsNQKM5JDq0F","user":{"login":"hhou435","id":59219579,"node_id":"MDQ6VXNlcjU5MjE5NTc5","avatar_url":"https://avatars.githubusercontent.com/u/59219579?v=4","gravatar_id":"","url":"https://api.github.com/users/hhou435","html_url":"https://github.com/hhou435","followers_url":"https://api.github.com/users/hhou435/followers","following_url":"https://api.github.com/users/hhou435/following{/other_user}","gists_url":"https://api.github.com/users/hhou435/gists{/gist_id}","starred_url":"https://api.github.com/users/hhou435/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhou435/subscriptions","organizations_url":"https://api.github.com/users/hhou435/orgs","repos_url":"https://api.github.com/users/hhou435/repos","events_url":"https://api.github.com/users/hhou435/events{/privacy}","received_events_url":"https://api.github.com/users/hhou435/received_events","type":"User","site_admin":false},"created_at":"2022-08-24T13:04:25Z","updated_at":"2022-08-24T13:04:25Z","author_association":"COLLABORATOR","body":"1.I mean the difference between these two models [uer/t5-base-chinese-cluecorpussmall](https://huggingface.co/uer/t5-base-chinese-cluecorpussmall) [t5-base](https://huggingface.co/t5-base) \r\n[uer/t5-base-chinese-cluecorpussmall](https://huggingface.co/uer/t5-base-chinese-cluecorpussmall)This model is trained by UER \r\n2.Use Berttokenizer\r\n3.I have not tried to fine-tune the T5 model using HuggingFace Transformers' script , the processing format of the corpus during the pre-training is like src = [cls_token, src_token_1, src_token_2, ..., sep_token] tgt = [cls_token, extra0_token, tgt_token_1, tgt_token_2, ..., sep_token]","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225698565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hhou435","id":59219579,"node_id":"MDQ6VXNlcjU5MjE5NTc5","avatar_url":"https://avatars.githubusercontent.com/u/59219579?v=4","gravatar_id":"","url":"https://api.github.com/users/hhou435","html_url":"https://github.com/hhou435","followers_url":"https://api.github.com/users/hhou435/followers","following_url":"https://api.github.com/users/hhou435/following{/other_user}","gists_url":"https://api.github.com/users/hhou435/gists{/gist_id}","starred_url":"https://api.github.com/users/hhou435/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhou435/subscriptions","organizations_url":"https://api.github.com/users/hhou435/orgs","repos_url":"https://api.github.com/users/hhou435/repos","events_url":"https://api.github.com/users/hhou435/events{/privacy}","received_events_url":"https://api.github.com/users/hhou435/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225710955","html_url":"https://github.com/dbiir/UER-py/issues/338#issuecomment-1225710955","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/338","id":1225710955,"node_id":"IC_kwDOCsNQKM5JDt1r","user":{"login":"ShaneTian","id":42370681,"node_id":"MDQ6VXNlcjQyMzcwNjgx","avatar_url":"https://avatars.githubusercontent.com/u/42370681?v=4","gravatar_id":"","url":"https://api.github.com/users/ShaneTian","html_url":"https://github.com/ShaneTian","followers_url":"https://api.github.com/users/ShaneTian/followers","following_url":"https://api.github.com/users/ShaneTian/following{/other_user}","gists_url":"https://api.github.com/users/ShaneTian/gists{/gist_id}","starred_url":"https://api.github.com/users/ShaneTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShaneTian/subscriptions","organizations_url":"https://api.github.com/users/ShaneTian/orgs","repos_url":"https://api.github.com/users/ShaneTian/repos","events_url":"https://api.github.com/users/ShaneTian/events{/privacy}","received_events_url":"https://api.github.com/users/ShaneTian/received_events","type":"User","site_admin":false},"created_at":"2022-08-24T13:14:49Z","updated_at":"2022-08-24T13:14:49Z","author_association":"NONE","body":"Thanks again.\r\n\r\n3. In pre-training, the data format is:\r\n  ```\r\n  src_seq = \"北京是中国的extra0，它具有悠久的extra1。\"\r\n  tgt_seq = \"extra0首都extra1历史\"\r\n  src = [cls_token, src_token_1, ..., extra0_token, src_token_x, ..., extra1_token, sep_token]\r\n  tgt = [cls_token, extra0_token, tgt_token_1, ..., extra1_token, tgt_token_x, ..., sep_token]\r\n  ```\r\n  Right?\r\n\r\n  If I want to fine-tune a text-to-text generation task, like:\r\n  ```\r\n  src_seq = \"北京是中国的首都，\"\r\n  tgt_seq = \"它具有悠久的历史。\"\r\n  ```\r\n  In your opinion, should I process my data format as:\r\n  ```\r\n  src = [cls_token, src_token_1, ..., src_token_n, sep_token]\r\n  tgt = [cls_token, tgt_token_1, ..., tgt_token_n, sep_token]\r\n  ```\r\n  or:\r\n  ```\r\n  src = [cls_token, src_token_1, ..., src_token_n, extra0_token, sep_token]\r\n  tgt = [cls_token, extra0_token, tgt_token_1, ..., tgt_token_n, sep_token]\r\n  ```\r\n  Which is better?","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225710955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ShaneTian","id":42370681,"node_id":"MDQ6VXNlcjQyMzcwNjgx","avatar_url":"https://avatars.githubusercontent.com/u/42370681?v=4","gravatar_id":"","url":"https://api.github.com/users/ShaneTian","html_url":"https://github.com/ShaneTian","followers_url":"https://api.github.com/users/ShaneTian/followers","following_url":"https://api.github.com/users/ShaneTian/following{/other_user}","gists_url":"https://api.github.com/users/ShaneTian/gists{/gist_id}","starred_url":"https://api.github.com/users/ShaneTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShaneTian/subscriptions","organizations_url":"https://api.github.com/users/ShaneTian/orgs","repos_url":"https://api.github.com/users/ShaneTian/repos","events_url":"https://api.github.com/users/ShaneTian/events{/privacy}","received_events_url":"https://api.github.com/users/ShaneTian/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225716421","html_url":"https://github.com/dbiir/UER-py/issues/338#issuecomment-1225716421","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/338","id":1225716421,"node_id":"IC_kwDOCsNQKM5JDvLF","user":{"login":"hhou435","id":59219579,"node_id":"MDQ6VXNlcjU5MjE5NTc5","avatar_url":"https://avatars.githubusercontent.com/u/59219579?v=4","gravatar_id":"","url":"https://api.github.com/users/hhou435","html_url":"https://github.com/hhou435","followers_url":"https://api.github.com/users/hhou435/followers","following_url":"https://api.github.com/users/hhou435/following{/other_user}","gists_url":"https://api.github.com/users/hhou435/gists{/gist_id}","starred_url":"https://api.github.com/users/hhou435/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhou435/subscriptions","organizations_url":"https://api.github.com/users/hhou435/orgs","repos_url":"https://api.github.com/users/hhou435/repos","events_url":"https://api.github.com/users/hhou435/events{/privacy}","received_events_url":"https://api.github.com/users/hhou435/received_events","type":"User","site_admin":false},"created_at":"2022-08-24T13:19:20Z","updated_at":"2022-08-24T13:19:20Z","author_association":"COLLABORATOR","body":"The first format is used in our project https://github.com/dbiir/UER-py/blob/master/finetune/run_text2text.py#L77","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225716421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hhou435","id":59219579,"node_id":"MDQ6VXNlcjU5MjE5NTc5","avatar_url":"https://avatars.githubusercontent.com/u/59219579?v=4","gravatar_id":"","url":"https://api.github.com/users/hhou435","html_url":"https://github.com/hhou435","followers_url":"https://api.github.com/users/hhou435/followers","following_url":"https://api.github.com/users/hhou435/following{/other_user}","gists_url":"https://api.github.com/users/hhou435/gists{/gist_id}","starred_url":"https://api.github.com/users/hhou435/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhou435/subscriptions","organizations_url":"https://api.github.com/users/hhou435/orgs","repos_url":"https://api.github.com/users/hhou435/repos","events_url":"https://api.github.com/users/hhou435/events{/privacy}","received_events_url":"https://api.github.com/users/hhou435/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225838775","html_url":"https://github.com/dbiir/UER-py/issues/338#issuecomment-1225838775","issue_url":"https://api.github.com/repos/dbiir/UER-py/issues/338","id":1225838775,"node_id":"IC_kwDOCsNQKM5JENC3","user":{"login":"ShaneTian","id":42370681,"node_id":"MDQ6VXNlcjQyMzcwNjgx","avatar_url":"https://avatars.githubusercontent.com/u/42370681?v=4","gravatar_id":"","url":"https://api.github.com/users/ShaneTian","html_url":"https://github.com/ShaneTian","followers_url":"https://api.github.com/users/ShaneTian/followers","following_url":"https://api.github.com/users/ShaneTian/following{/other_user}","gists_url":"https://api.github.com/users/ShaneTian/gists{/gist_id}","starred_url":"https://api.github.com/users/ShaneTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShaneTian/subscriptions","organizations_url":"https://api.github.com/users/ShaneTian/orgs","repos_url":"https://api.github.com/users/ShaneTian/repos","events_url":"https://api.github.com/users/ShaneTian/events{/privacy}","received_events_url":"https://api.github.com/users/ShaneTian/received_events","type":"User","site_admin":false},"created_at":"2022-08-24T14:54:47Z","updated_at":"2022-08-24T14:54:47Z","author_association":"NONE","body":"Thanks","reactions":{"url":"https://api.github.com/repos/dbiir/UER-py/issues/comments/1225838775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ShaneTian","id":42370681,"node_id":"MDQ6VXNlcjQyMzcwNjgx","avatar_url":"https://avatars.githubusercontent.com/u/42370681?v=4","gravatar_id":"","url":"https://api.github.com/users/ShaneTian","html_url":"https://github.com/ShaneTian","followers_url":"https://api.github.com/users/ShaneTian/followers","following_url":"https://api.github.com/users/ShaneTian/following{/other_user}","gists_url":"https://api.github.com/users/ShaneTian/gists{/gist_id}","starred_url":"https://api.github.com/users/ShaneTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShaneTian/subscriptions","organizations_url":"https://api.github.com/users/ShaneTian/orgs","repos_url":"https://api.github.com/users/ShaneTian/repos","events_url":"https://api.github.com/users/ShaneTian/events{/privacy}","received_events_url":"https://api.github.com/users/ShaneTian/received_events","type":"User","site_admin":false}},{"id":7251760134,"node_id":"CE_lADOCsNQKM5QHYTozwAAAAGwPRQG","url":"https://api.github.com/repos/dbiir/UER-py/issues/events/7251760134","actor":{"login":"ShaneTian","id":42370681,"node_id":"MDQ6VXNlcjQyMzcwNjgx","avatar_url":"https://avatars.githubusercontent.com/u/42370681?v=4","gravatar_id":"","url":"https://api.github.com/users/ShaneTian","html_url":"https://github.com/ShaneTian","followers_url":"https://api.github.com/users/ShaneTian/followers","following_url":"https://api.github.com/users/ShaneTian/following{/other_user}","gists_url":"https://api.github.com/users/ShaneTian/gists{/gist_id}","starred_url":"https://api.github.com/users/ShaneTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShaneTian/subscriptions","organizations_url":"https://api.github.com/users/ShaneTian/orgs","repos_url":"https://api.github.com/users/ShaneTian/repos","events_url":"https://api.github.com/users/ShaneTian/events{/privacy}","received_events_url":"https://api.github.com/users/ShaneTian/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-08-24T14:54:47Z","state_reason":null,"performed_via_github_app":null}]