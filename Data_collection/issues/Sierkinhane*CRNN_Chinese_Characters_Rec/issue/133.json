{"url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/133","repository_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec","labels_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/133/labels{/name}","comments_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/133/comments","events_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/133/events","html_url":"https://github.com/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/133","id":481462691,"node_id":"MDU6SXNzdWU0ODE0NjI2OTE=","number":133,"title":"关于调整代码以适应其它高度图片的训练","user":{"login":"dc-chengchao","id":49435542,"node_id":"MDQ6VXNlcjQ5NDM1NTQy","avatar_url":"https://avatars.githubusercontent.com/u/49435542?v=4","gravatar_id":"","url":"https://api.github.com/users/dc-chengchao","html_url":"https://github.com/dc-chengchao","followers_url":"https://api.github.com/users/dc-chengchao/followers","following_url":"https://api.github.com/users/dc-chengchao/following{/other_user}","gists_url":"https://api.github.com/users/dc-chengchao/gists{/gist_id}","starred_url":"https://api.github.com/users/dc-chengchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dc-chengchao/subscriptions","organizations_url":"https://api.github.com/users/dc-chengchao/orgs","repos_url":"https://api.github.com/users/dc-chengchao/repos","events_url":"https://api.github.com/users/dc-chengchao/events{/privacy}","received_events_url":"https://api.github.com/users/dc-chengchao/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-08-16T06:31:33Z","updated_at":"2020-07-05T07:35:22Z","closed_at":"2020-03-31T10:03:20Z","author_association":"NONE","active_lock_reason":null,"body":"目前代码的CNN部分，在图片输入后运算得到的结果为C \\* (H/16 - 1) \\* (W/4 + 1)。所以在目前的代码中有检测图片高度是否为16的倍数，以及对于32的高度，最终得到的feature map的高度就是1，通道数为512。\r\n\r\n但是由于我的应用场景比较特殊，字体颜色与背景图片比较接近，在放缩到32像素高度时很多图片都无法辨识出文字内容了，所以我在考虑将图片按比例放缩到64或128的高度进行训练。此时（以64高度为例）对于CNN的结果得到的尺寸为512 \\* 3 \\* (W / 4 + 1)，只需要将C \\* 3 的部分都拉伸到通道内即可传送给接下来的RNN。不过这样操作我有两个疑问：\r\n\r\n1. 在这个例子里，LSTM的输入从512变成了512 * 3，那么其中的隐藏层参数也需要按照这个比例（3倍）放大么？\r\n\r\n1. 由于是等比例放缩，高度翻倍后，宽度也翻倍了，由于CNN的结果是将宽度上每一个像素为单位输入给RNN，所以最终的ctc的那个编码长度也翻倍了，但是我的图片中的文字长度其实没有变化。尤其是我在进一步放大图片输入网络进行训练后，这个编码长度会继续翻倍。所以相对于这样简单的拉伸CNN的结果来适应训练图片高度的变化，是不是还要再继续考虑在CNN的部分中加入跟多的卷积层，池化层等方式，来缩短ctc的编码长度？","closed_by":{"login":"Sierkinhane","id":41798797,"node_id":"MDQ6VXNlcjQxNzk4Nzk3","avatar_url":"https://avatars.githubusercontent.com/u/41798797?v=4","gravatar_id":"","url":"https://api.github.com/users/Sierkinhane","html_url":"https://github.com/Sierkinhane","followers_url":"https://api.github.com/users/Sierkinhane/followers","following_url":"https://api.github.com/users/Sierkinhane/following{/other_user}","gists_url":"https://api.github.com/users/Sierkinhane/gists{/gist_id}","starred_url":"https://api.github.com/users/Sierkinhane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sierkinhane/subscriptions","organizations_url":"https://api.github.com/users/Sierkinhane/orgs","repos_url":"https://api.github.com/users/Sierkinhane/repos","events_url":"https://api.github.com/users/Sierkinhane/events{/privacy}","received_events_url":"https://api.github.com/users/Sierkinhane/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/133/timeline","performed_via_github_app":null,"state_reason":"completed"}