{"url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/222","repository_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec","labels_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/222/labels{/name}","comments_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/222/comments","events_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/222/events","html_url":"https://github.com/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/222","id":623797592,"node_id":"MDU6SXNzdWU2MjM3OTc1OTI=","number":222,"title":"GPU上无法运行","user":{"login":"a-whitej","id":7991894,"node_id":"MDQ6VXNlcjc5OTE4OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7991894?v=4","gravatar_id":"","url":"https://api.github.com/users/a-whitej","html_url":"https://github.com/a-whitej","followers_url":"https://api.github.com/users/a-whitej/followers","following_url":"https://api.github.com/users/a-whitej/following{/other_user}","gists_url":"https://api.github.com/users/a-whitej/gists{/gist_id}","starred_url":"https://api.github.com/users/a-whitej/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a-whitej/subscriptions","organizations_url":"https://api.github.com/users/a-whitej/orgs","repos_url":"https://api.github.com/users/a-whitej/repos","events_url":"https://api.github.com/users/a-whitej/events{/privacy}","received_events_url":"https://api.github.com/users/a-whitej/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-05-24T05:19:55Z","updated_at":"2020-05-26T08:50:49Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"（1）GPU版本\r\ntorch                              1.5.0+cu101\r\ntorch-geometric                    1.3.2\r\ntorchfile                          0.1.0\r\ntorchvision                        0.6.0+cu101\r\n\r\n（2）\r\n   尝试修改后，报错，只能用cpu上运行\r\n        #inp = Variable(inp, requires_grad=True)\r\n\r\n        inp = inp.to(device)\r\n\r\n        # inference\r\n        preds = model(inp).cpu()\r\n        #with torch.no_grad():\r\n        #    preds = model(inp)\r\n\r\n（3）错误信息\r\n  File \"train.py\", line 140, in <module>\r\n    main()\r\n  File \"train.py\", line 117, in main\r\n    function.train(config, train_loader, train_dataset, converter, model, criterion, optimizer, device, epoch, writer_dict, output_dict)\r\n  File \"D:\\work\\ocr\\CRNN_Chinese_Characters_Rec-stable\\lib\\core\\function.py\", line 62, in train\r\n    loss.backward()\r\n  File \"E:\\Anaconda37\\lib\\site-packages\\torch\\tensor.py\", line 198, in backward\r\n    torch.autograd.backward(self, gradient, retain_graph, create_graph)\r\n  File \"E:\\Anaconda37\\lib\\site-packages\\torch\\autograd\\__init__.py\", line 100, in backward\r\n    allow_unreachable=True)  # allow_unreachable flag\r\nRuntimeError: element 0 of tensors does not require grad and does not have a grad_fn\r\n\r\n（4）最后在 loss.backward() 上报错，不确定torch.nn.CTCLoss在gpu是不是有什么bug\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Sierkinhane/CRNN_Chinese_Characters_Rec/issues/222/timeline","performed_via_github_app":null,"state_reason":null}