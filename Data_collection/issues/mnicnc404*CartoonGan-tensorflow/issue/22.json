{"url":"https://api.github.com/repos/mnicnc404/CartoonGan-tensorflow/issues/22","repository_url":"https://api.github.com/repos/mnicnc404/CartoonGan-tensorflow","labels_url":"https://api.github.com/repos/mnicnc404/CartoonGan-tensorflow/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/mnicnc404/CartoonGan-tensorflow/issues/22/comments","events_url":"https://api.github.com/repos/mnicnc404/CartoonGan-tensorflow/issues/22/events","html_url":"https://github.com/mnicnc404/CartoonGan-tensorflow/issues/22","id":499455012,"node_id":"MDU6SXNzdWU0OTk0NTUwMTI=","number":22,"title":"The added layer must be an instance of class Layer","user":{"login":"360disrupt","id":7427903,"node_id":"MDQ6VXNlcjc0Mjc5MDM=","avatar_url":"https://avatars.githubusercontent.com/u/7427903?v=4","gravatar_id":"","url":"https://api.github.com/users/360disrupt","html_url":"https://github.com/360disrupt","followers_url":"https://api.github.com/users/360disrupt/followers","following_url":"https://api.github.com/users/360disrupt/following{/other_user}","gists_url":"https://api.github.com/users/360disrupt/gists{/gist_id}","starred_url":"https://api.github.com/users/360disrupt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/360disrupt/subscriptions","organizations_url":"https://api.github.com/users/360disrupt/orgs","repos_url":"https://api.github.com/users/360disrupt/repos","events_url":"https://api.github.com/users/360disrupt/events{/privacy}","received_events_url":"https://api.github.com/users/360disrupt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-09-27T13:43:56Z","updated_at":"2020-04-20T10:55:47Z","closed_at":"2019-09-27T15:48:08Z","author_association":"NONE","active_lock_reason":null,"body":"If I run this command:\r\n```\r\npython train.py     --batch_size 4     --pretrain_epochs 1     --content_lambda .4     --pretrain_learning_rate 1e-4     --g_adv_lambda 8.     --generator_lr 4e-5     --discriminator_lr 1.5e-5     --style_lambda 25.     --light     --dataset_name mozart\r\n```\r\n\r\nI run into this err.\r\n```\r\nuser:CartoonGan-tensorflow user$ python train.py     --batch_size 4     --pretrain_epochs 1     --content_lambda .4     --pretrain_learning_rate 1e-4     --g_adv_lambda 8.     --generator_lr 4e-5     --discriminator_lr 1.5e-5     --style_lambda 25.     --light     --dataset_name mozart\r\nWARNING:root:Limited tf.compat.v2.summary API due to missing TensorBoard installation.\r\nWARNING:root:Limited tf.compat.v2.summary API due to missing TensorBoard installation.\r\nWARNING:root:Limited tf.summary API due to missing TensorBoard installation.\r\nUsing TensorFlow backend.\r\n[2019-09-27 15:34:29] [Trainer] [INFO] Setting up VGG19 for computing content loss...\r\n[2019-09-27 15:34:30] [Trainer] [INFO] Setting up objective functions and metrics using lsgan...\r\n[2019-09-27 15:34:30] [Trainer] [INFO] Setting up checkpoint paths...\r\n[2019-09-27 15:34:30] [Trainer] [INFO] Starting to pretrain generator with 1 epochs...\r\n[2019-09-27 15:34:30] [Trainer] [INFO] Building `mozart` dataset with domain `A`...\r\n[2019-09-27 15:34:30] [Trainer] [INFO] Found 5 domainA images in trainA folder.\r\nWARNING:tensorflow:From train.py:221: shuffle_and_repeat (from tensorflow.python.data.experimental.ops.shuffle_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.data.Dataset.shuffle(buffer_size, seed)` followed by `tf.data.Dataset.repeat(count)`. Static tf.data optimizations will take care of using the fused implementation.\r\nWARNING:tensorflow:From train.py:221: shuffle_and_repeat (from tensorflow.python.data.experimental.ops.shuffle_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.data.Dataset.shuffle(buffer_size, seed)` followed by `tf.data.Dataset.repeat(count)`. Static tf.data optimizations will take care of using the fused implementation.\r\nWARNING:tensorflow:From train.py:229: map_and_batch (from tensorflow.python.data.experimental.ops.batching) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.data.Dataset.map(map_func, num_parallel_calls)` followed by `tf.data.Dataset.batch(batch_size, drop_remainder)`. Static tf.data optimizations will take care of using the fused implementation.\r\nWARNING:tensorflow:From train.py:229: map_and_batch (from tensorflow.python.data.experimental.ops.batching) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.data.Dataset.map(map_func, num_parallel_calls)` followed by `tf.data.Dataset.batch(batch_size, drop_remainder)`. Static tf.data optimizations will take care of using the fused implementation.\r\nWARNING:root:Limited tf.compat.v2.summary API due to missing TensorBoard installation.\r\nWARNING:tensorflow:Entity <function Trainer.get_dataset.<locals>.fn at 0x10e6d31e0> could not be transformed and will be executed as-is. Please report this to the AutoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: Bad argument number for Name: 3, expecting 4\r\nWARNING:tensorflow:Entity <function Trainer.get_dataset.<locals>.fn at 0x10e6d31e0> could not be transformed and will be executed as-is. Please report this to the AutoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: Bad argument number for Name: 3, expecting 4\r\nWARNING:tensorflow:Entity <bound method Trainer.image_processing of <tensorflow.python.eager.function.TfMethodTarget object at 0x139e667b8>> could not be transformed and will be executed as-is. Please report this to the AutoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: module 'gast' has no attribute 'Num'\r\nWARNING:tensorflow:Entity <bound method Trainer.image_processing of <tensorflow.python.eager.function.TfMethodTarget object at 0x139e667b8>> could not be transformed and will be executed as-is. Please report this to the AutoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: module 'gast' has no attribute 'Num'\r\n[2019-09-27 15:34:30] [Trainer] [INFO] Initializing generator with batch_size: 4, input_size: 256...\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 696, in <module>\r\n    main(**kwargs)\r\n  File \"train.py\", line 632, in main\r\n    t.pretrain_generator()\r\n  File \"train.py\", line 337, in pretrain_generator\r\n    generator = Generator(base_filters=2 if self.debug else 64, light=self.light)\r\n  File \"/Users/user/Projekte/1-NODEJS/image-ai/CartoonGan-tensorflow/generator.py\", line 29, in __init__\r\n    pad_type=pad_type)\r\n  File \"/Users/user/Projekte/1-NODEJS/image-ai/CartoonGan-tensorflow/layers.py\", line 66, in __init__\r\n    self.model.add(get_norm(norm_type))\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow_core/python/training/tracking/base.py\", line 457, in _method_wrapper\r\n    result = method(self, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/sequential.py\", line 158, in add\r\n    'Found: ' + str(layer))\r\nTypeError: The added layer must be an instance of class Layer. Found: <keras_contrib.layers.normalization.instancenormalization.InstanceNormalization object at 0x10e6e6278>\r\nuser:CartoonGan-tensorflow user$ \r\n\r\n```\r\n\r\nAre the images required to have the same sizes/ get they auto cropped?\r\n\r\n`python --version: Python 3.6.5`\r\n","closed_by":{"login":"360disrupt","id":7427903,"node_id":"MDQ6VXNlcjc0Mjc5MDM=","avatar_url":"https://avatars.githubusercontent.com/u/7427903?v=4","gravatar_id":"","url":"https://api.github.com/users/360disrupt","html_url":"https://github.com/360disrupt","followers_url":"https://api.github.com/users/360disrupt/followers","following_url":"https://api.github.com/users/360disrupt/following{/other_user}","gists_url":"https://api.github.com/users/360disrupt/gists{/gist_id}","starred_url":"https://api.github.com/users/360disrupt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/360disrupt/subscriptions","organizations_url":"https://api.github.com/users/360disrupt/orgs","repos_url":"https://api.github.com/users/360disrupt/repos","events_url":"https://api.github.com/users/360disrupt/events{/privacy}","received_events_url":"https://api.github.com/users/360disrupt/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mnicnc404/CartoonGan-tensorflow/issues/22/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mnicnc404/CartoonGan-tensorflow/issues/22/timeline","performed_via_github_app":null,"state_reason":"completed"}