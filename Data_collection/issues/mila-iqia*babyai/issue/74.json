{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/74","repository_url":"https://api.github.com/repos/mila-iqia/babyai","labels_url":"https://api.github.com/repos/mila-iqia/babyai/issues/74/labels{/name}","comments_url":"https://api.github.com/repos/mila-iqia/babyai/issues/74/comments","events_url":"https://api.github.com/repos/mila-iqia/babyai/issues/74/events","html_url":"https://github.com/mila-iqia/babyai/issues/74","id":456708149,"node_id":"MDU6SXNzdWU0NTY3MDgxNDk=","number":74,"title":"How to measure RL sample efficiency","user":{"login":"rickyloynd-microsoft","id":16617055,"node_id":"MDQ6VXNlcjE2NjE3MDU1","avatar_url":"https://avatars.githubusercontent.com/u/16617055?v=4","gravatar_id":"","url":"https://api.github.com/users/rickyloynd-microsoft","html_url":"https://github.com/rickyloynd-microsoft","followers_url":"https://api.github.com/users/rickyloynd-microsoft/followers","following_url":"https://api.github.com/users/rickyloynd-microsoft/following{/other_user}","gists_url":"https://api.github.com/users/rickyloynd-microsoft/gists{/gist_id}","starred_url":"https://api.github.com/users/rickyloynd-microsoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickyloynd-microsoft/subscriptions","organizations_url":"https://api.github.com/users/rickyloynd-microsoft/orgs","repos_url":"https://api.github.com/users/rickyloynd-microsoft/repos","events_url":"https://api.github.com/users/rickyloynd-microsoft/events{/privacy}","received_events_url":"https://api.github.com/users/rickyloynd-microsoft/received_events","type":"User","site_admin":false},"labels":[{"id":1077087732,"node_id":"MDU6TGFiZWwxMDc3MDg3NzMy","url":"https://api.github.com/repos/mila-iqia/babyai/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"open","locked":false,"assignee":{"login":"rizar","id":654434,"node_id":"MDQ6VXNlcjY1NDQzNA==","avatar_url":"https://avatars.githubusercontent.com/u/654434?v=4","gravatar_id":"","url":"https://api.github.com/users/rizar","html_url":"https://github.com/rizar","followers_url":"https://api.github.com/users/rizar/followers","following_url":"https://api.github.com/users/rizar/following{/other_user}","gists_url":"https://api.github.com/users/rizar/gists{/gist_id}","starred_url":"https://api.github.com/users/rizar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rizar/subscriptions","organizations_url":"https://api.github.com/users/rizar/orgs","repos_url":"https://api.github.com/users/rizar/repos","events_url":"https://api.github.com/users/rizar/events{/privacy}","received_events_url":"https://api.github.com/users/rizar/received_events","type":"User","site_admin":false},"assignees":[{"login":"rizar","id":654434,"node_id":"MDQ6VXNlcjY1NDQzNA==","avatar_url":"https://avatars.githubusercontent.com/u/654434?v=4","gravatar_id":"","url":"https://api.github.com/users/rizar","html_url":"https://github.com/rizar","followers_url":"https://api.github.com/users/rizar/followers","following_url":"https://api.github.com/users/rizar/following{/other_user}","gists_url":"https://api.github.com/users/rizar/gists{/gist_id}","starred_url":"https://api.github.com/users/rizar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rizar/subscriptions","organizations_url":"https://api.github.com/users/rizar/orgs","repos_url":"https://api.github.com/users/rizar/repos","events_url":"https://api.github.com/users/rizar/events{/privacy}","received_events_url":"https://api.github.com/users/rizar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-06-17T01:45:59Z","updated_at":"2019-06-18T01:14:46Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nMy question relates to the RL results in Table 3 of the paper. Iâ€™m trying to use the iclr19 branch to generate at least 10 such results (for each level) to get stable mean and variance. The train_rl.py script seems to do almost everything required. But at the bottom of that file, after calculating the success rate over the (default of 512) episodes that were tested, the success rate is not actually logged. The mean return is logged instead. \r\n\r\nAdding the following line (right after the calculation of success_rate) seems to log the missing number:\r\n\r\n**logger.info(\"Success rate {: .4f} reached after {} training episodes\".format(success_rate, status['num_episodes']))**\r\n\r\nAlso, it seems that the default save_interval of 1000 is too large for some of the easier levels. For instance, to get sufficiently frequent tests on GoToRedBallGrey, I call the script like this:\r\n\r\n**python scripts/train_rl.py --env BabyAI-GoToRedBallGrey-v0 --save-interval 10**\r\n\r\nThen to obtain the sample efficiency, I just look in the log for the first success rate to exceed 0.99, and take the number of training episodes up to that point. For seed=1, it happens on this line:\r\n\r\n**__main__: 2019-06-17 01:27:36,671: Success rate  0.9922 reached after 30769 training episodes**\r\n\r\nIs this the right way to generate more RL results like those in Table 3? Or is there an easier way?\r\n\r\nThank you for this excellent environment!\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/74/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mila-iqia/babyai/issues/74/timeline","performed_via_github_app":null,"state_reason":null}