[{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/469872955","html_url":"https://github.com/mila-iqia/babyai/issues/55#issuecomment-469872955","issue_url":"https://api.github.com/repos/mila-iqia/babyai/issues/55","id":469872955,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTg3Mjk1NQ==","user":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false},"created_at":"2019-03-05T21:54:04Z","updated_at":"2019-03-05T21:54:04Z","author_association":"COLLABORATOR","body":"Hi, just to make sure, did you use the models in the docker image with the code that is also in the docker image? We've made changes to the master branch since, so if you're using the models from the docker image with code from the current github repo, it's to be expected that this won't work.\r\n\r\nIf that's not the problem, can you tell us what shell commands you used to run evaluate.py?","reactions":{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/469872955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/469903593","html_url":"https://github.com/mila-iqia/babyai/issues/55#issuecomment-469903593","issue_url":"https://api.github.com/repos/mila-iqia/babyai/issues/55","id":469903593,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTkwMzU5Mw==","user":{"login":"akshay-sharma1995","id":13129062,"node_id":"MDQ6VXNlcjEzMTI5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/13129062?v=4","gravatar_id":"","url":"https://api.github.com/users/akshay-sharma1995","html_url":"https://github.com/akshay-sharma1995","followers_url":"https://api.github.com/users/akshay-sharma1995/followers","following_url":"https://api.github.com/users/akshay-sharma1995/following{/other_user}","gists_url":"https://api.github.com/users/akshay-sharma1995/gists{/gist_id}","starred_url":"https://api.github.com/users/akshay-sharma1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshay-sharma1995/subscriptions","organizations_url":"https://api.github.com/users/akshay-sharma1995/orgs","repos_url":"https://api.github.com/users/akshay-sharma1995/repos","events_url":"https://api.github.com/users/akshay-sharma1995/events{/privacy}","received_events_url":"https://api.github.com/users/akshay-sharma1995/received_events","type":"User","site_admin":false},"created_at":"2019-03-05T23:36:19Z","updated_at":"2019-03-05T23:36:19Z","author_association":"NONE","body":"Hi Maxime,\r\nThanks for the quick reply. \r\nSo for the results I have posted I used the models from the docker image with the code from the github repo. But after you pointed it out I used the code provided in the docker image, and the results did not change much. Now I am getting 12% success rate for the GoToSeq-v0 environment, and 69% success rate for the PickupLocal-v0. I have used the same models as mentioned in the earlier post.\r\nI used the following shell commands:\r\n`python3 evaluate.py --env BabyAI-GoToSeq-v0 --model GoToSeq-1` \r\n`python3 evaluate.py --env BabyAI-PickupLoc-v0 --model PickupLoc-4_best`","reactions":{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/469903593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"akshay-sharma1995","id":13129062,"node_id":"MDQ6VXNlcjEzMTI5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/13129062?v=4","gravatar_id":"","url":"https://api.github.com/users/akshay-sharma1995","html_url":"https://github.com/akshay-sharma1995","followers_url":"https://api.github.com/users/akshay-sharma1995/followers","following_url":"https://api.github.com/users/akshay-sharma1995/following{/other_user}","gists_url":"https://api.github.com/users/akshay-sharma1995/gists{/gist_id}","starred_url":"https://api.github.com/users/akshay-sharma1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshay-sharma1995/subscriptions","organizations_url":"https://api.github.com/users/akshay-sharma1995/orgs","repos_url":"https://api.github.com/users/akshay-sharma1995/repos","events_url":"https://api.github.com/users/akshay-sharma1995/events{/privacy}","received_events_url":"https://api.github.com/users/akshay-sharma1995/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/470181899","html_url":"https://github.com/mila-iqia/babyai/issues/55#issuecomment-470181899","issue_url":"https://api.github.com/repos/mila-iqia/babyai/issues/55","id":470181899,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDE4MTg5OQ==","user":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false},"created_at":"2019-03-06T16:43:11Z","updated_at":"2019-03-06T16:43:11Z","author_association":"COLLABORATOR","body":"The commands that you provided don't work as-is, you'd have to use:\r\n\r\n```\r\npython3 -m scripts.evaluate --env BabyAI-GoToSeq-v0 --model il_baselines/GoToSeq-1\r\npython3 -m scripts.evaluate --env BabyAI-PickupLoc-v0 --model rl_baselines/PickupLoc-4_best\r\n```\r\n\r\nThey seem to be working on my end. Evaluating with just 50 episodes because this laptop has a slow GPU:\r\n\r\n```\r\nroot@2f97e72b8915:/babyai# python3 -m scripts.evaluate --env BabyAI-PickupLoc-v0 --model rl_baselines/PickupLoc-4_best --episodes 50\r\nF 362 | FPS 136 | D 0:00:02 | R:xsmM 0.90 0.07 0.70 0.97 | S 1.00 | F:xsmM 7.2 4.9 2 21\r\n10 worst episodes:\r\n- episode 29: R=0.7046874999999999, F=21\r\n- episode 45: R=0.7046874999999999, F=21\r\n- episode 25: R=0.7328125, F=19\r\n- episode 2: R=0.775, F=16\r\n- episode 46: R=0.775, F=16\r\n- episode 20: R=0.803125, F=14\r\n- episode 15: R=0.8171875, F=13\r\n- episode 10: R=0.83125, F=12\r\n- episode 17: R=0.83125, F=12\r\n- episode 40: R=0.83125, F=12\r\n```\r\n\r\n```\r\nroot@2f97e72b8915:/babyai# python3 -m scripts.evaluate --env BabyAI-GoToSeq-v0 --model il_baselines/GoToSeq-1 --episodes 50\r\nF 7813 | FPS 240 | D 0:00:32 | R:xsmM 0.86 0.16 0.00 1.00 | S 0.98 | F:xsmM 156.3 193.7 2 1152\r\n10 worst episodes:\r\n- episode 28: R=0.0, F=1152\r\n- episode 22: R=0.5640624999999999, F=279\r\n- episode 38: R=0.5757812499999999, F=543\r\n- episode 2: R=0.675, F=416\r\n- episode 36: R=0.7015625, F=191\r\n- episode 46: R=0.7234375, F=177\r\n- episode 19: R=0.7375, F=168\r\n- episode 5: R=0.746875, F=162\r\n- episode 15: R=0.759375, F=154\r\n- episode 32: R=0.759765625, F=615\r\n```\r\n\r\nDo you have `nvidia-docker` installed, or are you using plain docker?\r\n","reactions":{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/470181899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/470373021","html_url":"https://github.com/mila-iqia/babyai/issues/55#issuecomment-470373021","issue_url":"https://api.github.com/repos/mila-iqia/babyai/issues/55","id":470373021,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM3MzAyMQ==","user":{"login":"akshay-sharma1995","id":13129062,"node_id":"MDQ6VXNlcjEzMTI5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/13129062?v=4","gravatar_id":"","url":"https://api.github.com/users/akshay-sharma1995","html_url":"https://github.com/akshay-sharma1995","followers_url":"https://api.github.com/users/akshay-sharma1995/followers","following_url":"https://api.github.com/users/akshay-sharma1995/following{/other_user}","gists_url":"https://api.github.com/users/akshay-sharma1995/gists{/gist_id}","starred_url":"https://api.github.com/users/akshay-sharma1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshay-sharma1995/subscriptions","organizations_url":"https://api.github.com/users/akshay-sharma1995/orgs","repos_url":"https://api.github.com/users/akshay-sharma1995/repos","events_url":"https://api.github.com/users/akshay-sharma1995/events{/privacy}","received_events_url":"https://api.github.com/users/akshay-sharma1995/received_events","type":"User","site_admin":false},"created_at":"2019-03-07T03:43:31Z","updated_at":"2019-03-07T03:43:31Z","author_association":"NONE","body":"The reason I had used the commands like that was because I was running them from the script directory, and had kind of remapped the model directory such that it worked like that.\r\nBut anyways I tried to do it the way you suggested. So if I use the shell commands while in the docker image they work fine. \r\nBut earlier I had just copied all the stuff out of the docker container into my local machine, and was running it like that. So even now when I tried to run the shell commands you have mentioned on my local copy, it still gives those not so good results I have mentioned earlier.\r\nI am not sure why is it happening. Is it something to do with running everything inside the docker container? Sorry I have never used docker before so not sure about it.","reactions":{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/470373021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"akshay-sharma1995","id":13129062,"node_id":"MDQ6VXNlcjEzMTI5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/13129062?v=4","gravatar_id":"","url":"https://api.github.com/users/akshay-sharma1995","html_url":"https://github.com/akshay-sharma1995","followers_url":"https://api.github.com/users/akshay-sharma1995/followers","following_url":"https://api.github.com/users/akshay-sharma1995/following{/other_user}","gists_url":"https://api.github.com/users/akshay-sharma1995/gists{/gist_id}","starred_url":"https://api.github.com/users/akshay-sharma1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshay-sharma1995/subscriptions","organizations_url":"https://api.github.com/users/akshay-sharma1995/orgs","repos_url":"https://api.github.com/users/akshay-sharma1995/repos","events_url":"https://api.github.com/users/akshay-sharma1995/events{/privacy}","received_events_url":"https://api.github.com/users/akshay-sharma1995/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/470373451","html_url":"https://github.com/mila-iqia/babyai/issues/55#issuecomment-470373451","issue_url":"https://api.github.com/repos/mila-iqia/babyai/issues/55","id":470373451,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM3MzQ1MQ==","user":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false},"created_at":"2019-03-07T03:46:07Z","updated_at":"2019-03-07T03:46:07Z","author_association":"COLLABORATOR","body":"The docker images also contains an installation of torch, python, numpy, etc. It maintains everything in a \"frozen\" configuration so the results stay replicable, eg: you're running exactly the setup we has when we trained those models. It's hard to say exactly what's different with your configuration outside of the docker container.","reactions":{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/470373451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/470374131","html_url":"https://github.com/mila-iqia/babyai/issues/55#issuecomment-470374131","issue_url":"https://api.github.com/repos/mila-iqia/babyai/issues/55","id":470374131,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM3NDEzMQ==","user":{"login":"akshay-sharma1995","id":13129062,"node_id":"MDQ6VXNlcjEzMTI5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/13129062?v=4","gravatar_id":"","url":"https://api.github.com/users/akshay-sharma1995","html_url":"https://github.com/akshay-sharma1995","followers_url":"https://api.github.com/users/akshay-sharma1995/followers","following_url":"https://api.github.com/users/akshay-sharma1995/following{/other_user}","gists_url":"https://api.github.com/users/akshay-sharma1995/gists{/gist_id}","starred_url":"https://api.github.com/users/akshay-sharma1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshay-sharma1995/subscriptions","organizations_url":"https://api.github.com/users/akshay-sharma1995/orgs","repos_url":"https://api.github.com/users/akshay-sharma1995/repos","events_url":"https://api.github.com/users/akshay-sharma1995/events{/privacy}","received_events_url":"https://api.github.com/users/akshay-sharma1995/received_events","type":"User","site_admin":false},"created_at":"2019-03-07T03:50:12Z","updated_at":"2019-03-07T03:50:12Z","author_association":"NONE","body":"I did not know that. Seems like that might have been the issue then.\r\nThanks for the help!","reactions":{"url":"https://api.github.com/repos/mila-iqia/babyai/issues/comments/470374131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"akshay-sharma1995","id":13129062,"node_id":"MDQ6VXNlcjEzMTI5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/13129062?v=4","gravatar_id":"","url":"https://api.github.com/users/akshay-sharma1995","html_url":"https://github.com/akshay-sharma1995","followers_url":"https://api.github.com/users/akshay-sharma1995/followers","following_url":"https://api.github.com/users/akshay-sharma1995/following{/other_user}","gists_url":"https://api.github.com/users/akshay-sharma1995/gists{/gist_id}","starred_url":"https://api.github.com/users/akshay-sharma1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshay-sharma1995/subscriptions","organizations_url":"https://api.github.com/users/akshay-sharma1995/orgs","repos_url":"https://api.github.com/users/akshay-sharma1995/repos","events_url":"https://api.github.com/users/akshay-sharma1995/events{/privacy}","received_events_url":"https://api.github.com/users/akshay-sharma1995/received_events","type":"User","site_admin":false}},{"id":2186060509,"node_id":"MDExOkNsb3NlZEV2ZW50MjE4NjA2MDUwOQ==","url":"https://api.github.com/repos/mila-iqia/babyai/issues/events/2186060509","actor":{"login":"maximecb","id":713766,"node_id":"MDQ6VXNlcjcxMzc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713766?v=4","gravatar_id":"","url":"https://api.github.com/users/maximecb","html_url":"https://github.com/maximecb","followers_url":"https://api.github.com/users/maximecb/followers","following_url":"https://api.github.com/users/maximecb/following{/other_user}","gists_url":"https://api.github.com/users/maximecb/gists{/gist_id}","starred_url":"https://api.github.com/users/maximecb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximecb/subscriptions","organizations_url":"https://api.github.com/users/maximecb/orgs","repos_url":"https://api.github.com/users/maximecb/repos","events_url":"https://api.github.com/users/maximecb/events{/privacy}","received_events_url":"https://api.github.com/users/maximecb/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-07T03:54:03Z","state_reason":null,"performed_via_github_app":null}]