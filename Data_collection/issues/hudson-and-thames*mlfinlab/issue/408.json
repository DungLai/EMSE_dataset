{"url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/408","repository_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab","labels_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/408/labels{/name}","comments_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/408/comments","events_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/408/events","html_url":"https://github.com/hudson-and-thames/mlfinlab/issues/408","id":646357096,"node_id":"MDU6SXNzdWU2NDYzNTcwOTY=","number":408,"title":"Online Portfolio Selection > Production-ready models","user":{"login":"Eriz11","id":33129094,"node_id":"MDQ6VXNlcjMzMTI5MDk0","avatar_url":"https://avatars.githubusercontent.com/u/33129094?v=4","gravatar_id":"","url":"https://api.github.com/users/Eriz11","html_url":"https://github.com/Eriz11","followers_url":"https://api.github.com/users/Eriz11/followers","following_url":"https://api.github.com/users/Eriz11/following{/other_user}","gists_url":"https://api.github.com/users/Eriz11/gists{/gist_id}","starred_url":"https://api.github.com/users/Eriz11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eriz11/subscriptions","organizations_url":"https://api.github.com/users/Eriz11/orgs","repos_url":"https://api.github.com/users/Eriz11/repos","events_url":"https://api.github.com/users/Eriz11/events{/privacy}","received_events_url":"https://api.github.com/users/Eriz11/received_events","type":"User","site_admin":false},"labels":[{"id":1232033405,"node_id":"MDU6TGFiZWwxMjMyMDMzNDA1","url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":{"login":"akwon31","id":29555998,"node_id":"MDQ6VXNlcjI5NTU1OTk4","avatar_url":"https://avatars.githubusercontent.com/u/29555998?v=4","gravatar_id":"","url":"https://api.github.com/users/akwon31","html_url":"https://github.com/akwon31","followers_url":"https://api.github.com/users/akwon31/followers","following_url":"https://api.github.com/users/akwon31/following{/other_user}","gists_url":"https://api.github.com/users/akwon31/gists{/gist_id}","starred_url":"https://api.github.com/users/akwon31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akwon31/subscriptions","organizations_url":"https://api.github.com/users/akwon31/orgs","repos_url":"https://api.github.com/users/akwon31/repos","events_url":"https://api.github.com/users/akwon31/events{/privacy}","received_events_url":"https://api.github.com/users/akwon31/received_events","type":"User","site_admin":false},"assignees":[{"login":"akwon31","id":29555998,"node_id":"MDQ6VXNlcjI5NTU1OTk4","avatar_url":"https://avatars.githubusercontent.com/u/29555998?v=4","gravatar_id":"","url":"https://api.github.com/users/akwon31","html_url":"https://github.com/akwon31","followers_url":"https://api.github.com/users/akwon31/followers","following_url":"https://api.github.com/users/akwon31/following{/other_user}","gists_url":"https://api.github.com/users/akwon31/gists{/gist_id}","starred_url":"https://api.github.com/users/akwon31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akwon31/subscriptions","organizations_url":"https://api.github.com/users/akwon31/orgs","repos_url":"https://api.github.com/users/akwon31/repos","events_url":"https://api.github.com/users/akwon31/events{/privacy}","received_events_url":"https://api.github.com/users/akwon31/received_events","type":"User","site_admin":false}],"milestone":null,"comments":36,"created_at":"2020-06-26T15:55:42Z","updated_at":"2020-08-09T10:59:05Z","closed_at":"2020-08-06T21:15:22Z","author_association":"NONE","active_lock_reason":null,"body":"Hey **mlfinlab** team!\r\n\r\nIt's Eriz from the **Alpha Team at Darwinex**.\r\n\r\nHuge congrats for the development of the `Online Portfolio Selection` module; the API is genuinely created together with the docs!\r\n\r\nJust a little \"enhancement\" in a question form:\r\n\r\nLet's say that I want to use the `RMR` method in production code. As the prices I'm feeding are the `close prices` of the `assets`, I guess (**if not, please correct me**) that the portfolio weights that are associated with each date are the ones to allocate for the following day (i.e. weights on `2019-05-26` in the final `all_weights` DataFrame are the weights that should be allocated on the following day's open > `2019-05-27`).\r\n\r\nIn this particular case, the allocation strategy needs to have and X quantity of observations based on the `window` parameter to get the following prediction. If after today's close I want to run this method to get tomorrow's open allocations what I believe is that I could:\r\n\r\n1) Call `.allocate()` on the whole dataset plus the new data as the last row in the DataFrame of the assets close prices and then get the `weights` attribute (pretty inefficient but easy as some data providers actually just update the overall dataset when new observations are available).\r\n\r\n2) Call `.allocate()` on just the last X `window` observations for the calculation to work (it seems much more practical, but is algorithm specific).\r\n\r\nÂ¿Is my understanding correct on how to apply this and the inner workings for production-like environments?\r\n\r\n**PD**: The enhancement bit is to create a little example for the new comers in the docs when new data wants to be used for future prediction. Even to be more complete it would be awesome to adapt the different classes with a method that will throw to the back-end all the inner workings of new data prediction depending on the method (maybe I missed it and it is implemented?).\r\n\r\n**PD2**: Using open prices if available to simulate the strategy better in this case adding them into another DataFrame and taking then for the returns calculations.\r\n\r\nCheers and again many thanks for all the work!","closed_by":{"login":"Jackal08","id":6911714,"node_id":"MDQ6VXNlcjY5MTE3MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6911714?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackal08","html_url":"https://github.com/Jackal08","followers_url":"https://api.github.com/users/Jackal08/followers","following_url":"https://api.github.com/users/Jackal08/following{/other_user}","gists_url":"https://api.github.com/users/Jackal08/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackal08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackal08/subscriptions","organizations_url":"https://api.github.com/users/Jackal08/orgs","repos_url":"https://api.github.com/users/Jackal08/repos","events_url":"https://api.github.com/users/Jackal08/events{/privacy}","received_events_url":"https://api.github.com/users/Jackal08/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/408/timeline","performed_via_github_app":null,"state_reason":"completed"}