{"url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/98","repository_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab","labels_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/98/labels{/name}","comments_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/98/comments","events_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/98/events","html_url":"https://github.com/hudson-and-thames/mlfinlab/issues/98","id":469014441,"node_id":"MDU6SXNzdWU0NjkwMTQ0NDE=","number":98,"title":"Cannot converge while merging tick imbalance bars","user":{"login":"yuchengwto","id":42574785,"node_id":"MDQ6VXNlcjQyNTc0Nzg1","avatar_url":"https://avatars.githubusercontent.com/u/42574785?v=4","gravatar_id":"","url":"https://api.github.com/users/yuchengwto","html_url":"https://github.com/yuchengwto","followers_url":"https://api.github.com/users/yuchengwto/followers","following_url":"https://api.github.com/users/yuchengwto/following{/other_user}","gists_url":"https://api.github.com/users/yuchengwto/gists{/gist_id}","starred_url":"https://api.github.com/users/yuchengwto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuchengwto/subscriptions","organizations_url":"https://api.github.com/users/yuchengwto/orgs","repos_url":"https://api.github.com/users/yuchengwto/repos","events_url":"https://api.github.com/users/yuchengwto/events{/privacy}","received_events_url":"https://api.github.com/users/yuchengwto/received_events","type":"User","site_admin":false},"labels":[{"id":1232033405,"node_id":"MDU6TGFiZWwxMjMyMDMzNDA1","url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":{"login":"proskurin","id":14288229,"node_id":"MDQ6VXNlcjE0Mjg4MjI5","avatar_url":"https://avatars.githubusercontent.com/u/14288229?v=4","gravatar_id":"","url":"https://api.github.com/users/proskurin","html_url":"https://github.com/proskurin","followers_url":"https://api.github.com/users/proskurin/followers","following_url":"https://api.github.com/users/proskurin/following{/other_user}","gists_url":"https://api.github.com/users/proskurin/gists{/gist_id}","starred_url":"https://api.github.com/users/proskurin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/proskurin/subscriptions","organizations_url":"https://api.github.com/users/proskurin/orgs","repos_url":"https://api.github.com/users/proskurin/repos","events_url":"https://api.github.com/users/proskurin/events{/privacy}","received_events_url":"https://api.github.com/users/proskurin/received_events","type":"User","site_admin":false},"assignees":[{"login":"proskurin","id":14288229,"node_id":"MDQ6VXNlcjE0Mjg4MjI5","avatar_url":"https://avatars.githubusercontent.com/u/14288229?v=4","gravatar_id":"","url":"https://api.github.com/users/proskurin","html_url":"https://github.com/proskurin","followers_url":"https://api.github.com/users/proskurin/followers","following_url":"https://api.github.com/users/proskurin/following{/other_user}","gists_url":"https://api.github.com/users/proskurin/gists{/gist_id}","starred_url":"https://api.github.com/users/proskurin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/proskurin/subscriptions","organizations_url":"https://api.github.com/users/proskurin/orgs","repos_url":"https://api.github.com/users/proskurin/repos","events_url":"https://api.github.com/users/proskurin/events{/privacy}","received_events_url":"https://api.github.com/users/proskurin/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-07-17T06:38:41Z","updated_at":"2019-08-03T14:11:33Z","closed_at":"2019-08-03T14:11:33Z","author_association":"NONE","active_lock_reason":null,"body":"Guys, have u ever met this problem?\r\n`In [26]: res = mlfinlab.data_structures.get_tick_imbalance_bars(path_, 50, 1000)`\r\n`In [27]: res\r\nOut[27]:\r\n                            date_time          open  ...         close       volume\r\n0       2019-07-07 01:01:32.652000000  11276.000000  ...  11210.000000   395.311349\r\n1       2019-07-07 02:51:57.741000000  11210.000000  ...  11130.000000   577.519686\r\n2       2019-07-07 06:38:15.639000000  11130.000000  ...  11203.000000  1096.206388\r\n3       2019-07-07 11:29:44.698000000  11203.000000  ...  11361.000000   980.128337\r\n4       2019-07-07 11:29:46.009000000  11361.000000  ...  11366.000000    13.877771\r\n5       2019-07-07 11:29:46.213000000  11366.000000  ...  11366.000000     0.301300\r\n6       2019-07-07 11:30:11.551000000  11366.000000  ...  11368.000000    23.228099\r\n7       2019-07-07 11:30:43.179000000  11368.000000  ...  11336.000000     5.960929\r\n8       2019-07-07 11:30:54.108000000  11336.000000  ...  11354.000000     3.368090\r\n9       2019-07-07 11:31:01.005000000  11354.000000  ...  11360.000000     1.201738\r\n10      2019-07-07 11:31:41.411000000  11360.000000  ...  11363.000000     5.781358\r\n11      2019-07-07 11:31:59.655000000  11363.000000  ...  11359.000000     0.463053\r\n12      2019-07-07 11:32:01.518000000  11359.000000  ...  11355.000000     0.844763\r\n13      2019-07-07 11:32:15.132000000  11355.000000  ...  11359.000000     0.078297\r\n14      2019-07-07 11:32:24.891000000  11359.000000  ...  11350.000000     0.439543\r\n15      2019-07-07 11:32:24.891000000  11350.000000  ...  11349.278360     0.855000\r\n16      2019-07-07 11:32:32.321000000  11349.278360  ...  11349.000000     0.024400\r\n17      2019-07-07 11:32:38.925000000  11349.000000  ...  11349.307177     0.005000\r\n18      2019-07-07 11:32:42.225000000  11349.307177  ...  11350.000000     0.020000\r\n19      2019-07-07 11:32:44.915000000  11350.000000  ...  11348.000000     0.005000\r\n20      2019-07-07 11:32:50.130000000  11348.000000  ...  11348.000000     0.025000\r\n21      2019-07-07 11:32:50.345000000  11348.000000  ...  11348.000000     0.000500\r\n22      2019-07-07 11:32:51.960000000  11348.000000  ...  11349.000000     0.020000\r\n23      2019-07-07 11:32:52.813000000  11349.000000  ...  11348.000000     0.106642\r\n24      2019-07-07 11:32:52.885000000  11348.000000  ...  11348.000000     0.362858\r\n25      2019-07-07 11:32:54.936000000  11348.000000  ...  11344.000000     0.020000\r\n26      2019-07-07 11:33:00.869000000  11344.000000  ...  11337.292932     0.008530\r\n27      2019-07-07 11:33:00.869000000  11337.292932  ...  11337.000000     0.003470\r\n28      2019-07-07 11:33:00.869000000  11337.000000  ...  11343.000000     0.008000\r\n29      2019-07-07 11:33:02.263000000  11343.000000  ...  11344.000000     0.200201\r\n...                               ...           ...  ...           ...          ...\r\n829621  2019-07-17 00:05:59.775000000   9479.900000  ...   9479.900000     0.005000\r\n829622  2019-07-17 00:06:02.233000000   9479.900000  ...   9479.926203     0.005000\r\n829623  2019-07-17 00:06:03.775000000   9479.926203  ...   9477.600000     0.054919\r\n829624  2019-07-17 00:06:03.775000000   9477.600000  ...   9472.200000     0.100081\r\n829625  2019-07-17 00:06:03.775000000   9472.200000  ...   9479.900000     0.475000\r\n829626  2019-07-17 00:06:04.667000000   9479.900000  ...   9473.800000     0.052570\r\n829627  2019-07-17 00:06:08.959000000   9473.800000  ...   9472.463345     0.005000\r\n829628  2019-07-17 00:06:12.489000000   9472.463345  ...   9472.458424     0.007000\r\n829629  2019-07-17 00:06:12.746000000   9472.458424  ...   9471.600000     0.003000\r\n829630  2019-07-17 00:06:12.985000000   9471.600000  ...   9473.200000     0.003000\r\n829631  2019-07-17 00:06:13.451000000   9473.200000  ...   9473.200000     0.005000\r\n829632  2019-07-17 00:06:17.196000000   9473.200000  ...   9478.926158     0.007364\r\n829633  2019-07-17 00:06:17.196000000   9478.926158  ...   9473.312484     0.002636\r\n829634  2019-07-17 00:06:19.833000000   9473.312484  ...   9479.700000     0.025000\r\n829635  2019-07-17 00:06:23.619000000   9479.700000  ...   9472.800000     0.050000\r\n829636  2019-07-17 00:06:24.166000000   9472.800000  ...   9471.800000     0.020590\r\n829637  2019-07-17 00:06:26.738000000   9471.800000  ...   9470.800000     0.005000\r\n829638  2019-07-17 00:06:29.878000000   9470.800000  ...   9478.900000     0.737578\r\n829639  2019-07-17 00:06:29.878000000   9478.900000  ...   9478.800000     1.388973\r\n829640  2019-07-17 00:06:29.878000000   9478.800000  ...   9478.600000     0.174806\r\n829641  2019-07-17 00:06:29.878000000   9478.600000  ...   9480.100000     0.432925\r\n829642  2019-07-17 00:06:29.878000000   9480.100000  ...   9478.700000     0.500000\r\n829643  2019-07-17 00:06:29.878000000   9478.700000  ...   9478.500000     0.100000\r\n829644  2019-07-17 00:06:29.878000000   9478.500000  ...   9478.500000     0.200000\r\n829645  2019-07-17 00:06:29.878000000   9478.500000  ...   9481.000000     0.500000\r\n829646  2019-07-17 00:06:29.878000000   9481.000000  ...   9481.600000     0.247993\r\n829647  2019-07-17 00:06:29.878000000   9481.600000  ...   9476.400000     0.357412\r\n829648  2019-07-17 00:06:29.878000000   9476.400000  ...   9476.154272     0.002901\r\n829649  2019-07-17 00:06:29.878000000   9476.154272  ...   9473.700000     0.357412\r\n829650  2019-07-17 00:06:33.698000000   9473.700000  ...   9476.400000     0.010000\r\n\r\n[829651 rows x 6 columns]`\r\n\r\nthe volume of merged tick bars will diverge to a tiny value after several bars with the third parameter that is \"exp_num_ticks_init\" set to a relatively small value like 1000.\r\n\r\nHow can i avoid this divergence happens ? \r\nPlz give me some help.","closed_by":{"login":"Jackal08","id":6911714,"node_id":"MDQ6VXNlcjY5MTE3MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6911714?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackal08","html_url":"https://github.com/Jackal08","followers_url":"https://api.github.com/users/Jackal08/followers","following_url":"https://api.github.com/users/Jackal08/following{/other_user}","gists_url":"https://api.github.com/users/Jackal08/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackal08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackal08/subscriptions","organizations_url":"https://api.github.com/users/Jackal08/orgs","repos_url":"https://api.github.com/users/Jackal08/repos","events_url":"https://api.github.com/users/Jackal08/events{/privacy}","received_events_url":"https://api.github.com/users/Jackal08/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/98/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/98/timeline","performed_via_github_app":null,"state_reason":"completed"}