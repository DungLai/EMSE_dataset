{"url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/321","repository_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab","labels_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/321/labels{/name}","comments_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/321/comments","events_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/321/events","html_url":"https://github.com/hudson-and-thames/mlfinlab/issues/321","id":616864885,"node_id":"MDU6SXNzdWU2MTY4NjQ4ODU=","number":321,"title":"HCAA - If I include covariance and expected_asset_returns, should I need to include asset_returns / asset_prices?","user":{"login":"kchima","id":1223934,"node_id":"MDQ6VXNlcjEyMjM5MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1223934?v=4","gravatar_id":"","url":"https://api.github.com/users/kchima","html_url":"https://github.com/kchima","followers_url":"https://api.github.com/users/kchima/followers","following_url":"https://api.github.com/users/kchima/following{/other_user}","gists_url":"https://api.github.com/users/kchima/gists{/gist_id}","starred_url":"https://api.github.com/users/kchima/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchima/subscriptions","organizations_url":"https://api.github.com/users/kchima/orgs","repos_url":"https://api.github.com/users/kchima/repos","events_url":"https://api.github.com/users/kchima/events{/privacy}","received_events_url":"https://api.github.com/users/kchima/received_events","type":"User","site_admin":false},"labels":[{"id":1232033405,"node_id":"MDU6TGFiZWwxMjMyMDMzNDA1","url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":{"login":"aditya1702","id":15054664,"node_id":"MDQ6VXNlcjE1MDU0NjY0","avatar_url":"https://avatars.githubusercontent.com/u/15054664?v=4","gravatar_id":"","url":"https://api.github.com/users/aditya1702","html_url":"https://github.com/aditya1702","followers_url":"https://api.github.com/users/aditya1702/followers","following_url":"https://api.github.com/users/aditya1702/following{/other_user}","gists_url":"https://api.github.com/users/aditya1702/gists{/gist_id}","starred_url":"https://api.github.com/users/aditya1702/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditya1702/subscriptions","organizations_url":"https://api.github.com/users/aditya1702/orgs","repos_url":"https://api.github.com/users/aditya1702/repos","events_url":"https://api.github.com/users/aditya1702/events{/privacy}","received_events_url":"https://api.github.com/users/aditya1702/received_events","type":"User","site_admin":false},"assignees":[{"login":"aditya1702","id":15054664,"node_id":"MDQ6VXNlcjE1MDU0NjY0","avatar_url":"https://avatars.githubusercontent.com/u/15054664?v=4","gravatar_id":"","url":"https://api.github.com/users/aditya1702","html_url":"https://github.com/aditya1702","followers_url":"https://api.github.com/users/aditya1702/followers","following_url":"https://api.github.com/users/aditya1702/following{/other_user}","gists_url":"https://api.github.com/users/aditya1702/gists{/gist_id}","starred_url":"https://api.github.com/users/aditya1702/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditya1702/subscriptions","organizations_url":"https://api.github.com/users/aditya1702/orgs","repos_url":"https://api.github.com/users/aditya1702/repos","events_url":"https://api.github.com/users/aditya1702/events{/privacy}","received_events_url":"https://api.github.com/users/aditya1702/received_events","type":"User","site_admin":false}],"milestone":null,"comments":9,"created_at":"2020-05-12T18:24:41Z","updated_at":"2020-06-05T04:40:26Z","closed_at":"2020-05-14T13:04:23Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\nI attempt to call the HCAA (HierarchicalClusteringAssetAllocation) function like this:\r\nhcaa.allocate(\r\n                asset_names=self.assets.columns.values,\r\n                allocation_metric='sharpe_ratio',\r\n                expected_asset_returns=mu,\r\n                covariance_matrix=S\r\n            )\r\n\r\nI get this error:\r\nFile \"/Users/keithchima/venv/qstrader3/lib/python3.7/site-packages/mlfinlab/portfolio_optimization/hcaa.py\", line 99, in allocate\r\n    asset_returns = self.returns_estimator.calculate_returns(asset_prices=asset_prices, resample_by=resample_by)\r\n  File \"/Users/keithchima/venv/qstrader3/lib/python3.7/site-packages/mlfinlab/portfolio_optimization/returns_estimators.py\", line 64, in calculate_returns\r\n    asset_returns = asset_prices.pct_change()\r\nAttributeError: 'NoneType' object has no attribute 'pct_change'\r\n\r\nbecause I didn't include asset_returns or asset_prices (I want it to use the covariance matrix for clustering and use my predicted prices in conjunction with clusters to determine allocation). Should I need to? Based on the self._perform_checks at the start of the function, it seems like this should be a valid way to call the function.\r\n\r\nOn a side note, some example code would be helpful. There is not much documentation on the proper ways to invoke the functions without diving into the source code.\r\n\r\nI really appreciate the library, though, if I can get it working, I think it will be exactly the thing I need!\r\n\r\nThank you for your help.","closed_by":{"login":"kchima","id":1223934,"node_id":"MDQ6VXNlcjEyMjM5MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1223934?v=4","gravatar_id":"","url":"https://api.github.com/users/kchima","html_url":"https://github.com/kchima","followers_url":"https://api.github.com/users/kchima/followers","following_url":"https://api.github.com/users/kchima/following{/other_user}","gists_url":"https://api.github.com/users/kchima/gists{/gist_id}","starred_url":"https://api.github.com/users/kchima/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchima/subscriptions","organizations_url":"https://api.github.com/users/kchima/orgs","repos_url":"https://api.github.com/users/kchima/repos","events_url":"https://api.github.com/users/kchima/events{/privacy}","received_events_url":"https://api.github.com/users/kchima/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hudson-and-thames/mlfinlab/issues/321/timeline","performed_via_github_app":null,"state_reason":"completed"}