{"url":"https://api.github.com/repos/salesforce/decaNLP/issues/46","repository_url":"https://api.github.com/repos/salesforce/decaNLP","labels_url":"https://api.github.com/repos/salesforce/decaNLP/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/salesforce/decaNLP/issues/46/comments","events_url":"https://api.github.com/repos/salesforce/decaNLP/issues/46/events","html_url":"https://github.com/salesforce/decaNLP/issues/46","id":401592513,"node_id":"MDU6SXNzdWU0MDE1OTI1MTM=","number":46,"title":"connection error for /research.metamind.io/cove/wmtlstm-8f474287.pth","user":{"login":"smsalaken","id":14285677,"node_id":"MDQ6VXNlcjE0Mjg1Njc3","avatar_url":"https://avatars.githubusercontent.com/u/14285677?v=4","gravatar_id":"","url":"https://api.github.com/users/smsalaken","html_url":"https://github.com/smsalaken","followers_url":"https://api.github.com/users/smsalaken/followers","following_url":"https://api.github.com/users/smsalaken/following{/other_user}","gists_url":"https://api.github.com/users/smsalaken/gists{/gist_id}","starred_url":"https://api.github.com/users/smsalaken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smsalaken/subscriptions","organizations_url":"https://api.github.com/users/smsalaken/orgs","repos_url":"https://api.github.com/users/smsalaken/repos","events_url":"https://api.github.com/users/smsalaken/events{/privacy}","received_events_url":"https://api.github.com/users/smsalaken/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-01-22T04:13:06Z","updated_at":"2019-01-25T06:46:08Z","closed_at":"2019-01-23T21:39:54Z","author_association":"NONE","active_lock_reason":null,"body":"Docker fails to find `/research.metamind.io/cove/wmtlstm-8f474287.pth` and keeps returning `Temporary failure in name resolution` error. When I paste `research.metamind.io` in browser, it fails to resolve the IP. When I paste `metamind.io`, it goes to `https://einstein.ai/`. How do I sove this?\r\n\r\n_Other information:_\r\n\r\nI am inside `/home/documents/some_other_folders/decalnlp` directory. The `declanlp` folder was created by `git clone`. \r\n\r\n\r\nCommand yielding error:\r\n```\r\n sudo docker run -it --rm -v `pwd`:/decaNLP/ -u $(id -u):$(id -g) bmccann/decanlp:torch041 bash -c \"python decaNLP/predict.py --evaluate validation --path decaNLP/mqan_decanlp_better_sampling_cove_cpu/ --checkpoint_name iteration_560000.pth --device -1 --silent\"\r\n```\r\n\r\nError:\r\n```\r\nArguments:\r\n{'best_checkpoint': 'decaNLP/mqan_decanlp_better_sampling_cove_cpu/iteration_560000.pth',\r\n 'bleu': False,\r\n 'checkpoint_name': 'iteration_560000.pth',\r\n 'cove': True,\r\n 'data': '/decaNLP/.data/',\r\n 'devices': [-1],\r\n 'dimension': 200,\r\n 'dropout_ratio': 0.0,\r\n 'elmo': [-1],\r\n 'embeddings': '/decaNLP/.embeddings',\r\n 'evaluate': 'validation',\r\n 'glove_and_char': True,\r\n 'intermediate_cove': False,\r\n 'load': None,\r\n 'lower': True,\r\n 'max_generative_vocab': 50000,\r\n 'max_output_length': 100,\r\n 'max_val_context_length': 400,\r\n 'model': 'MultitaskQuestionAnsweringNetwork',\r\n 'overwrite': False,\r\n 'path': 'decaNLP/mqan_decanlp_better_sampling_cove_cpu/',\r\n 'rnn_layers': 1,\r\n 'rouge': False,\r\n 'seed': 123,\r\n 'silent': True,\r\n 'task_to_metric': {'cnn_dailymail': 'avg_rouge',\r\n                    'iwslt.en.de': 'bleu',\r\n                    'multinli.in.out': 'em',\r\n                    'schema': 'em',\r\n                    'squad': 'nf1',\r\n                    'srl': 'nf1',\r\n                    'sst': 'em',\r\n                    'wikisql': 'lfem',\r\n                    'woz.en': 'joint_goal_em',\r\n                    'zre': 'corpus_f1'},\r\n 'tasks': ['squad',\r\n           'iwslt.en.de',\r\n           'cnn_dailymail',\r\n           'multinli.in.out',\r\n           'sst',\r\n           'srl',\r\n           'zre',\r\n           'woz.en',\r\n           'wikisql',\r\n           'schema'],\r\n 'transformer_heads': 3,\r\n 'transformer_hidden': 150,\r\n 'transformer_layers': 2,\r\n 'val_batch_size': [256, 256, 256, 256, 256, 256, 256, 256, 256, 256]}\r\nLoading from decaNLP/mqan_decanlp_better_sampling_cove_cpu/iteration_560000.pth\r\nInitializing Model\r\nDownloading: \"https://s3.amazonaws.com/research.metamind.io/cove/wmtlstm-8f474287.pth\" to /decaNLP/.embeddings/wmtlstm-8f474287.pth\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/connection.py\", line 171, in _new_conn\r\n    (self._dns_host, self.port), self.timeout, **extra_kw)\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/util/connection.py\", line 56, in create_connection\r\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\r\n  File \"/opt/conda/lib/python3.6/socket.py\", line 745, in getaddrinfo\r\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\r\nsocket.gaierror: [Errno -3] Temporary failure in name resolution\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 343, in _make_request\r\n    self._validate_conn(conn)\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 849, in _validate_conn\r\n    conn.connect()\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/connection.py\", line 314, in connect\r\n    conn = self._new_conn()\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/connection.py\", line 180, in _new_conn\r\n    self, \"Failed to establish a new connection: %s\" % e)\r\nurllib3.exceptions.NewConnectionError: <urllib3.connection.VerifiedHTTPSConnection object at 0x7f0396c401d0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.6/site-packages/requests/adapters.py\", line 445, in send\r\n    timeout=timeout\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 638, in urlopen\r\n    _stacktrace=sys.exc_info()[2])\r\n  File \"/opt/conda/lib/python3.6/site-packages/urllib3/util/retry.py\", line 398, in increment\r\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\r\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='s3.amazonaws.com', port=443): Max retries exceeded with url: /research.metamind.io/cove/wmtlstm-8f474287.pth (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f0396c401d0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution',))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"decaNLP/predict.py\", line 297, in <module>\r\n    model = Model(field, args)\r\n  File \"/decaNLP/models/multitask_question_answering_network.py\", line 33, in __init__\r\n    self.cove = MTLSTM(model_cache=args.embeddings, layer0=args.intermediate_cove, layer1=args.cove)\r\n  File \"/src/cove/cove/encoder.py\", line 45, in __init__\r\n    state_dict = model_zoo.load_url(model_urls['wmt-lstm'], model_dir=model_cache)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/utils/model_zoo.py\", line 65, in load_url\r\n    _download_url_to_file(url, cached_file, hash_prefix, progress=progress)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/utils/model_zoo.py\", line 71, in _download_url_to_file\r\n    u = urlopen(url, stream=True)\r\n  File \"/opt/conda/lib/python3.6/site-packages/requests/api.py\", line 72, in get\r\n    return request('get', url, params=params, **kwargs)\r\n  File \"/opt/conda/lib/python3.6/site-packages/requests/api.py\", line 58, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"/opt/conda/lib/python3.6/site-packages/requests/sessions.py\", line 512, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/opt/conda/lib/python3.6/site-packages/requests/sessions.py\", line 622, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/opt/conda/lib/python3.6/site-packages/requests/adapters.py\", line 513, in send\r\n    raise ConnectionError(e, request=request)\r\nrequests.exceptions.ConnectionError: HTTPSConnectionPool(host='s3.amazonaws.com', port=443): Max retries exceeded with url: /research.metamind.io/cove/wmtlstm-8f474287.pth (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f0396c401d0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution',))\r\n\r\n```\r\n\r\nSystem details:\r\n\r\n\r\n```\r\n>> lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 16.04.5 LTS\r\nRelease:\t16.04\r\nCodename:\txenial\r\n\r\n>> uname -r\r\n4.15.0-43-generic\r\n\r\n```\r\n","closed_by":{"login":"bmccann","id":3359909,"node_id":"MDQ6VXNlcjMzNTk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3359909?v=4","gravatar_id":"","url":"https://api.github.com/users/bmccann","html_url":"https://github.com/bmccann","followers_url":"https://api.github.com/users/bmccann/followers","following_url":"https://api.github.com/users/bmccann/following{/other_user}","gists_url":"https://api.github.com/users/bmccann/gists{/gist_id}","starred_url":"https://api.github.com/users/bmccann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmccann/subscriptions","organizations_url":"https://api.github.com/users/bmccann/orgs","repos_url":"https://api.github.com/users/bmccann/repos","events_url":"https://api.github.com/users/bmccann/events{/privacy}","received_events_url":"https://api.github.com/users/bmccann/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/salesforce/decaNLP/issues/46/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/salesforce/decaNLP/issues/46/timeline","performed_via_github_app":null,"state_reason":"completed"}