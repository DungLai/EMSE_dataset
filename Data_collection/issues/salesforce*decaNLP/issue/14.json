{"url":"https://api.github.com/repos/salesforce/decaNLP/issues/14","repository_url":"https://api.github.com/repos/salesforce/decaNLP","labels_url":"https://api.github.com/repos/salesforce/decaNLP/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/salesforce/decaNLP/issues/14/comments","events_url":"https://api.github.com/repos/salesforce/decaNLP/issues/14/events","html_url":"https://github.com/salesforce/decaNLP/issues/14","id":338779971,"node_id":"MDU6SXNzdWUzMzg3Nzk5NzE=","number":14,"title":"Runtime error： the number of sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)","user":{"login":"mongolia19","id":7299174,"node_id":"MDQ6VXNlcjcyOTkxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7299174?v=4","gravatar_id":"","url":"https://api.github.com/users/mongolia19","html_url":"https://github.com/mongolia19","followers_url":"https://api.github.com/users/mongolia19/followers","following_url":"https://api.github.com/users/mongolia19/following{/other_user}","gists_url":"https://api.github.com/users/mongolia19/gists{/gist_id}","starred_url":"https://api.github.com/users/mongolia19/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mongolia19/subscriptions","organizations_url":"https://api.github.com/users/mongolia19/orgs","repos_url":"https://api.github.com/users/mongolia19/repos","events_url":"https://api.github.com/users/mongolia19/events{/privacy}","received_events_url":"https://api.github.com/users/mongolia19/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-07-06T02:03:01Z","updated_at":"2018-07-19T09:03:21Z","closed_at":"2018-07-18T22:49:50Z","author_association":"NONE","active_lock_reason":null,"body":"Hi，\r\nI am running the code using my own corpus with format of squad， and I did not change any other settings. But when I ran the code， I encountered this issue：\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 369, in <module>\r\n    main()\r\n  File \"train.py\", line 365, in main\r\n    run(args, run_args, world_size=args.world_size)\r\n  File \"train.py\", line 313, in run\r\n    writer=writer if rank==0 else None, save_every=args.save_every, start_iteration=start_iteration)\r\n  File \"train.py\", line 180, in train\r\n    val_loss, metric_dict = validate(val_task, val_iter, model, logger, field, world_size, rank, num_print=args.num_print, args=args)\r\n  File \"/data01/bao/decaNLP/validate.py\", line 72, in validate\r\n    loss, prediction   answers, results = gather_results(model, val_iter, field, world_size, optional_names=optional_names)\r\nf sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)\r\n  File \"/data01/bao/decaNLP/validate.py\", line 48, in gather_results\r\n    loss, predictions, answers, outputs = compute_validation_outputs(model, val_iter, field, optional_names=optional_names)\r\n  File \"/data01/bao/decaNLP/validate.py\", line 9, in compute_validation_outputs\r\n    l, p = model(batch)\r\n  File \"/home/kaifa/anaconda3/envs/tensorflow/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 491, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/data01/bao/decaNLP/models/multitask_question_answering_network.py\", line 124, in forward\r\n    oov_to_limited_idx, rnn_state=context_rnn_state).data\r\n  File \"/data01/bao/decaNLP/models/multitask_question_answering_network.py\", line 196, in greedy\r\n    outs[:, t] = Variable(preds.data.cpu().apply_(self.map_to_full), volatile=True)\r\nRuntimeError: expand(_**torch.LongTensor{[256, 1]}, size=[256])**_: the number of sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)\r\n\r\nIt seems that the torch need a size with two dimensions but you only offer one？ Does size[256] work correctly here？ Or do I need to change this?\r\nThank you!","closed_by":{"login":"bmccann","id":3359909,"node_id":"MDQ6VXNlcjMzNTk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3359909?v=4","gravatar_id":"","url":"https://api.github.com/users/bmccann","html_url":"https://github.com/bmccann","followers_url":"https://api.github.com/users/bmccann/followers","following_url":"https://api.github.com/users/bmccann/following{/other_user}","gists_url":"https://api.github.com/users/bmccann/gists{/gist_id}","starred_url":"https://api.github.com/users/bmccann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmccann/subscriptions","organizations_url":"https://api.github.com/users/bmccann/orgs","repos_url":"https://api.github.com/users/bmccann/repos","events_url":"https://api.github.com/users/bmccann/events{/privacy}","received_events_url":"https://api.github.com/users/bmccann/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/salesforce/decaNLP/issues/14/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/salesforce/decaNLP/issues/14/timeline","performed_via_github_app":null,"state_reason":"completed"}