[{"id":2766990297,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc2Njk5MDI5Nw==","url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/events/2766990297","actor":{"login":"AliaksandrSiarohin","id":3857997,"node_id":"MDQ6VXNlcjM4NTc5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3857997?v=4","gravatar_id":"","url":"https://api.github.com/users/AliaksandrSiarohin","html_url":"https://github.com/AliaksandrSiarohin","followers_url":"https://api.github.com/users/AliaksandrSiarohin/followers","following_url":"https://api.github.com/users/AliaksandrSiarohin/following{/other_user}","gists_url":"https://api.github.com/users/AliaksandrSiarohin/gists{/gist_id}","starred_url":"https://api.github.com/users/AliaksandrSiarohin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliaksandrSiarohin/subscriptions","organizations_url":"https://api.github.com/users/AliaksandrSiarohin/orgs","repos_url":"https://api.github.com/users/AliaksandrSiarohin/repos","events_url":"https://api.github.com/users/AliaksandrSiarohin/events{/privacy}","received_events_url":"https://api.github.com/users/AliaksandrSiarohin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-04T09:27:13Z","performed_via_github_app":null},{"id":2766990298,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3NjY5OTAyOTg=","url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/events/2766990298","actor":{"login":"AliaksandrSiarohin","id":3857997,"node_id":"MDQ6VXNlcjM4NTc5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3857997?v=4","gravatar_id":"","url":"https://api.github.com/users/AliaksandrSiarohin","html_url":"https://github.com/AliaksandrSiarohin","followers_url":"https://api.github.com/users/AliaksandrSiarohin/followers","following_url":"https://api.github.com/users/AliaksandrSiarohin/following{/other_user}","gists_url":"https://api.github.com/users/AliaksandrSiarohin/gists{/gist_id}","starred_url":"https://api.github.com/users/AliaksandrSiarohin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliaksandrSiarohin/subscriptions","organizations_url":"https://api.github.com/users/AliaksandrSiarohin/orgs","repos_url":"https://api.github.com/users/AliaksandrSiarohin/repos","events_url":"https://api.github.com/users/AliaksandrSiarohin/events{/privacy}","received_events_url":"https://api.github.com/users/AliaksandrSiarohin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-04T09:27:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/comments/549328271","html_url":"https://github.com/AliaksandrSiarohin/monkey-net/issues/18#issuecomment-549328271","issue_url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/18","id":549328271,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTMyODI3MQ==","user":{"login":"AliaksandrSiarohin","id":3857997,"node_id":"MDQ6VXNlcjM4NTc5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3857997?v=4","gravatar_id":"","url":"https://api.github.com/users/AliaksandrSiarohin","html_url":"https://github.com/AliaksandrSiarohin","followers_url":"https://api.github.com/users/AliaksandrSiarohin/followers","following_url":"https://api.github.com/users/AliaksandrSiarohin/following{/other_user}","gists_url":"https://api.github.com/users/AliaksandrSiarohin/gists{/gist_id}","starred_url":"https://api.github.com/users/AliaksandrSiarohin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliaksandrSiarohin/subscriptions","organizations_url":"https://api.github.com/users/AliaksandrSiarohin/orgs","repos_url":"https://api.github.com/users/AliaksandrSiarohin/repos","events_url":"https://api.github.com/users/AliaksandrSiarohin/events{/privacy}","received_events_url":"https://api.github.com/users/AliaksandrSiarohin/received_events","type":"User","site_admin":false},"created_at":"2019-11-04T12:16:22Z","updated_at":"2019-11-04T12:16:22Z","author_association":"OWNER","body":"First of all, test/****.png is actually videos. The frames are stacked together for a simpler i/o.\r\n1. What do you mean resize? You resize some of your images to 64x64, or resize test/***.png to 128x128? If you want to use the model for higher resolution, the model should be trained on higher resolution dataset. For example 256x256 models on nemo dataset can be found [here](https://yadi.sk/d/aQkPn8mAPftHdQ), 256x256 models on VoxCeleb [here](https://yadi.sk/d/207_DmR0LnpWXw).\r\n\r\n2. What is the common face image? Please post your images and your results.\r\n","reactions":{"url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/comments/549328271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AliaksandrSiarohin","id":3857997,"node_id":"MDQ6VXNlcjM4NTc5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3857997?v=4","gravatar_id":"","url":"https://api.github.com/users/AliaksandrSiarohin","html_url":"https://github.com/AliaksandrSiarohin","followers_url":"https://api.github.com/users/AliaksandrSiarohin/followers","following_url":"https://api.github.com/users/AliaksandrSiarohin/following{/other_user}","gists_url":"https://api.github.com/users/AliaksandrSiarohin/gists{/gist_id}","starred_url":"https://api.github.com/users/AliaksandrSiarohin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliaksandrSiarohin/subscriptions","organizations_url":"https://api.github.com/users/AliaksandrSiarohin/orgs","repos_url":"https://api.github.com/users/AliaksandrSiarohin/repos","events_url":"https://api.github.com/users/AliaksandrSiarohin/events{/privacy}","received_events_url":"https://api.github.com/users/AliaksandrSiarohin/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/comments/549365266","html_url":"https://github.com/AliaksandrSiarohin/monkey-net/issues/18#issuecomment-549365266","issue_url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/18","id":549365266,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTM2NTI2Ng==","user":{"login":"PapaMadeleine2022","id":13058184,"node_id":"MDQ6VXNlcjEzMDU4MTg0","avatar_url":"https://avatars.githubusercontent.com/u/13058184?v=4","gravatar_id":"","url":"https://api.github.com/users/PapaMadeleine2022","html_url":"https://github.com/PapaMadeleine2022","followers_url":"https://api.github.com/users/PapaMadeleine2022/followers","following_url":"https://api.github.com/users/PapaMadeleine2022/following{/other_user}","gists_url":"https://api.github.com/users/PapaMadeleine2022/gists{/gist_id}","starred_url":"https://api.github.com/users/PapaMadeleine2022/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PapaMadeleine2022/subscriptions","organizations_url":"https://api.github.com/users/PapaMadeleine2022/orgs","repos_url":"https://api.github.com/users/PapaMadeleine2022/repos","events_url":"https://api.github.com/users/PapaMadeleine2022/events{/privacy}","received_events_url":"https://api.github.com/users/PapaMadeleine2022/received_events","type":"User","site_admin":false},"created_at":"2019-11-04T13:58:30Z","updated_at":"2019-11-04T13:58:30Z","author_association":"NONE","body":"@AliaksandrSiarohin  Thanks for your reply.\r\n\r\n1. I use `resize`. For example, for driving image `test/213_deliberate_smile_1.png`, I modify some codes in `frames_dataset.py` to :\r\n\r\n```\r\n        video_array = np.moveaxis(image, 1, 0)\r\n\r\n        video_array = video_array.reshape((-1,) + image_shape)\r\n        video_array = np.moveaxis(video_array, 1, 2)\r\n        video_array = np.array([resize(frame, (256, 256)) for frame in video_array])\r\n```\r\nOf cause, I do the same `resize` operation of 256x256 with the source image for the first five frames of `test/505_spontaneous_smile_4.png`.   The result image is blurred for `resize` of 128x128 or 256x256 ops.\r\n\r\nThanks for your 256x256 pre-trained model, but how to modify some configuration in `config/nemo.yaml`, because I get this error:\r\n```\r\nTraceback (most recent call last):\r\n ...\r\nRuntimeError: Error(s) in loading state_dict for MotionTransferGenerator:\r\n\tUnexpected key(s) in state_dict: \"appearance_encoder.down_blocks.5.conv.weight\", \"appearance_encoder.down_blocks.5.conv.bias\", \"appearance_encoder.down_blocks.5.norm.weight\", \"appearance_encoder.down_blocks.5.norm.bias\", \"appearance_encoder.down_blocks.5.norm.running_mean\", \"appearance_encoder.down_blocks.5.norm.running_var\", \"appearance_encoder.down_blocks.5.norm.num_batches_tracked\", \"appearance_encoder.down_blocks.6.conv.weight\", \"appearance_encoder.down_blocks.6.conv.bias\", \"appearance_encoder.down_blocks.6.norm.weight\", \"appearance_encoder.down_blocks.6.norm.bias\", \"appearance_encoder.down_blocks.6.norm.running_mean\", \"appearance_encoder.down_blocks.6.norm.running_var\", \"appearance_encoder.down_blocks.6.norm.num_batches_tracked\", \"video_decoder.up_blocks.5.conv.weight\", \"video_decoder.up_blocks.5.conv.bias\", \"video_decoder.up_blocks.5.norm.weight\", \"video_decoder.up_blocks.5.norm.bias\", \"video_decoder.up_blocks.5.norm.running_mean\", \"video_decoder.up_blocks.5.norm.running_var\", \"video_decoder.up_blocks.5.norm.num_batches_tracked\", \"video_decoder.up_blocks.6.conv.weight\", \"video_decoder.up_blocks.6.conv.bias\", \"video_decoder.up_blocks.6.norm.weight\", \"video_decoder.up_blocks.6.norm.bias\", \"video_decoder.up_blocks.6.norm.running_mean\", \"video_decoder.up_blocks.6.norm.running_var\", \"video_decoder.up_blocks.6.norm.num_batches_tracked\".\r\n\tsize mismatch for appearance_encoder.down_blocks.4.conv.weight: copying a param with shape torch.Size([1024, 512, 1, 3, 3]) from checkpoint, the shape in current model is torch.Size([512, 512, 1, 3, 3]).\r\n\tsize mismatch for appearance_encoder.down_blocks.4.conv.bias: copying a param with shape torch.Size([1024]) from checkpoint, the shape in current model is torch.Size([512]).\r\n\tsize mismatch for appearance_encoder.down_blocks.4.norm.weight: copying a param with shape torch.Size([1024]) from checkpoint, the shape in current model is torch.Size([512]).\r\n...\r\n```\r\n\r\n\r\n2. I upload 4 test images [here](https://github.com/IvyGongoogle/test) , the `xxx_result.gif` is corresponding to the `xxx.gif` that is source image for `nemo-ckp.pth.tar` model and meanwhile I use `test/213_deliberate_smile_1.png` as driving image.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/comments/549365266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"PapaMadeleine2022","id":13058184,"node_id":"MDQ6VXNlcjEzMDU4MTg0","avatar_url":"https://avatars.githubusercontent.com/u/13058184?v=4","gravatar_id":"","url":"https://api.github.com/users/PapaMadeleine2022","html_url":"https://github.com/PapaMadeleine2022","followers_url":"https://api.github.com/users/PapaMadeleine2022/followers","following_url":"https://api.github.com/users/PapaMadeleine2022/following{/other_user}","gists_url":"https://api.github.com/users/PapaMadeleine2022/gists{/gist_id}","starred_url":"https://api.github.com/users/PapaMadeleine2022/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PapaMadeleine2022/subscriptions","organizations_url":"https://api.github.com/users/PapaMadeleine2022/orgs","repos_url":"https://api.github.com/users/PapaMadeleine2022/repos","events_url":"https://api.github.com/users/PapaMadeleine2022/events{/privacy}","received_events_url":"https://api.github.com/users/PapaMadeleine2022/received_events","type":"User","site_admin":false}},{"id":2767777288,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc2Nzc3NzI4OA==","url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/events/2767777288","actor":{"login":"AliaksandrSiarohin","id":3857997,"node_id":"MDQ6VXNlcjM4NTc5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3857997?v=4","gravatar_id":"","url":"https://api.github.com/users/AliaksandrSiarohin","html_url":"https://github.com/AliaksandrSiarohin","followers_url":"https://api.github.com/users/AliaksandrSiarohin/followers","following_url":"https://api.github.com/users/AliaksandrSiarohin/following{/other_user}","gists_url":"https://api.github.com/users/AliaksandrSiarohin/gists{/gist_id}","starred_url":"https://api.github.com/users/AliaksandrSiarohin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliaksandrSiarohin/subscriptions","organizations_url":"https://api.github.com/users/AliaksandrSiarohin/orgs","repos_url":"https://api.github.com/users/AliaksandrSiarohin/repos","events_url":"https://api.github.com/users/AliaksandrSiarohin/events{/privacy}","received_events_url":"https://api.github.com/users/AliaksandrSiarohin/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-04T13:58:30Z","performed_via_github_app":null},{"id":2767777291,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3Njc3NzcyOTE=","url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/events/2767777291","actor":{"login":"AliaksandrSiarohin","id":3857997,"node_id":"MDQ6VXNlcjM4NTc5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3857997?v=4","gravatar_id":"","url":"https://api.github.com/users/AliaksandrSiarohin","html_url":"https://github.com/AliaksandrSiarohin","followers_url":"https://api.github.com/users/AliaksandrSiarohin/followers","following_url":"https://api.github.com/users/AliaksandrSiarohin/following{/other_user}","gists_url":"https://api.github.com/users/AliaksandrSiarohin/gists{/gist_id}","starred_url":"https://api.github.com/users/AliaksandrSiarohin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliaksandrSiarohin/subscriptions","organizations_url":"https://api.github.com/users/AliaksandrSiarohin/orgs","repos_url":"https://api.github.com/users/AliaksandrSiarohin/repos","events_url":"https://api.github.com/users/AliaksandrSiarohin/events{/privacy}","received_events_url":"https://api.github.com/users/AliaksandrSiarohin/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-04T13:58:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/comments/549369059","html_url":"https://github.com/AliaksandrSiarohin/monkey-net/issues/18#issuecomment-549369059","issue_url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/18","id":549369059,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTM2OTA1OQ==","user":{"login":"AliaksandrSiarohin","id":3857997,"node_id":"MDQ6VXNlcjM4NTc5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3857997?v=4","gravatar_id":"","url":"https://api.github.com/users/AliaksandrSiarohin","html_url":"https://github.com/AliaksandrSiarohin","followers_url":"https://api.github.com/users/AliaksandrSiarohin/followers","following_url":"https://api.github.com/users/AliaksandrSiarohin/following{/other_user}","gists_url":"https://api.github.com/users/AliaksandrSiarohin/gists{/gist_id}","starred_url":"https://api.github.com/users/AliaksandrSiarohin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliaksandrSiarohin/subscriptions","organizations_url":"https://api.github.com/users/AliaksandrSiarohin/orgs","repos_url":"https://api.github.com/users/AliaksandrSiarohin/repos","events_url":"https://api.github.com/users/AliaksandrSiarohin/events{/privacy}","received_events_url":"https://api.github.com/users/AliaksandrSiarohin/received_events","type":"User","site_admin":false},"created_at":"2019-11-04T14:06:41Z","updated_at":"2019-11-04T14:06:41Z","author_association":"OWNER","body":"1. Yes the keypoints is learned to be extracted at resolution 64x64, I doubt it generalize to higher resolutions. Need another model, or model trained on different resolutions.\r\nModel params should be, same as in vox.yaml.:\r\n```\r\nmodel_params:\r\n  common_params:\r\n    num_kp: 10\r\n    kp_variance: 'matrix'\r\n    num_channels: 3\r\n  kp_detector_params:\r\n     temperature: 0.1\r\n     block_expansion: 32\r\n     max_features: 1024\r\n     scale_factor: 0.25 \r\n     num_blocks: 5\r\n     clip_variance: 0.001 \r\n  generator_params:\r\n    interpolation_mode: 'trilinear'\r\n    block_expansion: 32\r\n    max_features: 1024\r\n    num_blocks: 7\r\n    num_refinement_blocks: 4\r\n    dense_motion_params:\r\n      block_expansion: 32\r\n      max_features: 1024\r\n      num_blocks: 5\r\n      use_mask: True\r\n      use_correction: True\r\n      scale_factor: 0.25\r\n      mask_embedding_params:\r\n        use_heatmap: True\r\n        use_deformed_source_image: True\r\n        heatmap_type: 'difference'\r\n        norm_const: 100\r\n      num_group_blocks: 2\r\n    kp_embedding_params:\r\n      scale_factor: 0.25 \r\n      use_heatmap: True\r\n      norm_const: 100\r\n      heatmap_type: 'difference'\r\n  discriminator_params:\r\n    kp_embedding_params:\r\n      norm_const: 100\r\n    block_expansion: 32\r\n    max_features: 256\r\n    num_blocks: 4\r\n```\r\n\r\n2. Most likely nemo is too small to generalize to arbitrary faces. Try model trained on vox-celeb.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/AliaksandrSiarohin/monkey-net/issues/comments/549369059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AliaksandrSiarohin","id":3857997,"node_id":"MDQ6VXNlcjM4NTc5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3857997?v=4","gravatar_id":"","url":"https://api.github.com/users/AliaksandrSiarohin","html_url":"https://github.com/AliaksandrSiarohin","followers_url":"https://api.github.com/users/AliaksandrSiarohin/followers","following_url":"https://api.github.com/users/AliaksandrSiarohin/following{/other_user}","gists_url":"https://api.github.com/users/AliaksandrSiarohin/gists{/gist_id}","starred_url":"https://api.github.com/users/AliaksandrSiarohin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliaksandrSiarohin/subscriptions","organizations_url":"https://api.github.com/users/AliaksandrSiarohin/orgs","repos_url":"https://api.github.com/users/AliaksandrSiarohin/repos","events_url":"https://api.github.com/users/AliaksandrSiarohin/events{/privacy}","received_events_url":"https://api.github.com/users/AliaksandrSiarohin/received_events","type":"User","site_admin":false}}]