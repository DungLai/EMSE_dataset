{"url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/77","repository_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch","labels_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/77/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/77/comments","events_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/77/events","html_url":"https://github.com/microsoft/human-pose-estimation.pytorch/issues/77","id":398726444,"node_id":"MDU6SXNzdWUzOTg3MjY0NDQ=","number":77,"title":"I have error to load image file in data/coco/images/val2017","user":{"login":"hsw2012s","id":13174001,"node_id":"MDQ6VXNlcjEzMTc0MDAx","avatar_url":"https://avatars.githubusercontent.com/u/13174001?v=4","gravatar_id":"","url":"https://api.github.com/users/hsw2012s","html_url":"https://github.com/hsw2012s","followers_url":"https://api.github.com/users/hsw2012s/followers","following_url":"https://api.github.com/users/hsw2012s/following{/other_user}","gists_url":"https://api.github.com/users/hsw2012s/gists{/gist_id}","starred_url":"https://api.github.com/users/hsw2012s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hsw2012s/subscriptions","organizations_url":"https://api.github.com/users/hsw2012s/orgs","repos_url":"https://api.github.com/users/hsw2012s/repos","events_url":"https://api.github.com/users/hsw2012s/events{/privacy}","received_events_url":"https://api.github.com/users/hsw2012s/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-01-14T01:59:01Z","updated_at":"2022-04-01T12:42:15Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I use python 3.6.\r\n\r\nIn step Valid on COCO val2017 using pretrained models,\r\nI did \r\n\r\n sudo python3 pose_estimation/valid.py --cfg experiments/coco/resnet50/256x192_d256x3_adam_lr1e-3.yaml --flip-test --model-file models/pytorch/pose_coco/pose_resnet_50_256x192.pth.tar\r\n\r\nand the error occurs\r\n\r\n**=> creating output/coco/pose_resnet_50/256x192_d256x3_adam_lr1e-3\r\n=> creating log/coco/pose_resnet_50/256x192_d256x3_adam_lr1e-3_2019-01-14-10-45\r\nNamespace(cfg='experiments/coco/resnet50/256x192_d256x3_adam_lr1e-3.yaml', coco_bbox_file=None, flip_test=True, frequent=100, gpus=None, model_file='models/pytorch/pose_coco/pose_resnet_50_256x192.pth.tar', post_process=False, shift_heatmap=False, use_detect_bbox=False, workers=None)\r\n{'CUDNN': {'BENCHMARK': True, 'DETERMINISTIC': False, 'ENABLED': True},\r\n 'DATASET': {'DATASET': 'coco',\r\n             'DATA_FORMAT': 'jpg',\r\n             'FLIP': True,\r\n             'HYBRID_JOINTS_TYPE': '',\r\n             'ROOT': 'data/coco/',\r\n             'ROT_FACTOR': 40,\r\n             'SCALE_FACTOR': 0.3,\r\n             'SELECT_DATA': False,\r\n             'TEST_SET': 'val2017',\r\n             'TRAIN_SET': 'train2017'},\r\n 'DATA_DIR': '',\r\n 'DEBUG': {'DEBUG': True,\r\n           'SAVE_BATCH_IMAGES_GT': True,\r\n           'SAVE_BATCH_IMAGES_PRED': True,\r\n           'SAVE_HEATMAPS_GT': True,\r\n           'SAVE_HEATMAPS_PRED': True},\r\n 'GPUS': '0',\r\n 'LOG_DIR': 'log',\r\n 'LOSS': {'USE_TARGET_WEIGHT': True},\r\n 'MODEL': {'EXTRA': {'DECONV_WITH_BIAS': False,\r\n                     'FINAL_CONV_KERNEL': 1,\r\n                     'HEATMAP_SIZE': array([48, 64]),\r\n                     'NUM_DECONV_FILTERS': [256, 256, 256],\r\n                     'NUM_DECONV_KERNELS': [4, 4, 4],\r\n                     'NUM_DECONV_LAYERS': 3,\r\n                     'NUM_LAYERS': 50,\r\n                     'SIGMA': 2,\r\n                     'TARGET_TYPE': 'gaussian'},\r\n           'IMAGE_SIZE': array([192, 256]),\r\n           'INIT_WEIGHTS': True,\r\n           'NAME': 'pose_resnet',\r\n           'NUM_JOINTS': 17,\r\n           'PRETRAINED': 'models/pytorch/imagenet/resnet50-19c8e357.pth',\r\n           'STYLE': 'pytorch'},\r\n 'OUTPUT_DIR': 'output',\r\n 'PRINT_FREQ': 100,\r\n 'TEST': {'BATCH_SIZE': 32,\r\n          'BBOX_THRE': 1.0,\r\n          'COCO_BBOX_FILE': 'data/coco/person_detection_results/COCO_val2017_detections_AP_H_56_person.json',\r\n          'FLIP_TEST': True,\r\n          'IMAGE_THRE': 0.0,\r\n          'IN_VIS_THRE': 0.2,\r\n          'MODEL_FILE': 'models/pytorch/pose_coco/pose_resnet_50_256x192.pth.tar',\r\n          'NMS_THRE': 1.0,\r\n          'OKS_THRE': 0.9,\r\n          'POST_PROCESS': True,\r\n          'SHIFT_HEATMAP': True,\r\n          'USE_GT_BBOX': True},\r\n 'TRAIN': {'BATCH_SIZE': 32,\r\n           'BEGIN_EPOCH': 0,\r\n           'CHECKPOINT': '',\r\n           'END_EPOCH': 140,\r\n           'GAMMA1': 0.99,\r\n           'GAMMA2': 0.0,\r\n           'LR': 0.001,\r\n           'LR_FACTOR': 0.1,\r\n           'LR_STEP': [90, 120],\r\n           'MOMENTUM': 0.9,\r\n           'NESTEROV': False,\r\n           'OPTIMIZER': 'adam',\r\n           'RESUME': False,\r\n           'SHUFFLE': True,\r\n           'WD': 0.0001},\r\n 'WORKERS': 4}\r\n=> loading model from models/pytorch/pose_coco/pose_resnet_50_256x192.pth.tar\r\n/home/elysium/.local/lib/python3.6/site-packages/torch/nn/_reduction.py:49: UserWarning: size_average and reduce args will be deprecated, please use reduction='mean' instead.\r\n  warnings.warn(warning.format(ret))\r\nloading annotations into memory...\r\nDone (t=0.13s)\r\ncreating index...\r\nindex created!\r\n=> classes: ['__background__', 'person']\r\n=> num_images: 5000\r\n=> load 6352 samples\r\n=> fail to read data/coco/images/val2017/000000397133.jpg\r\n=> fail to read data/coco/images/val2017/000000476258.jpg\r\n=> fail to read data/coco/images/val2017/000000329323.jpg\r\n=> fail to read data/coco/images/val2017/000000355257.jpg\r\n=> fail to read data/coco/images/val2017/000000559842.jpg\r\n=> fail to read data/coco/images/val2017/000000512836.jpg\r\n=> fail to read data/coco/images/val2017/000000524456.jpg\r\n=> fail to read data/coco/images/val2017/000000329219.jpg\r\n=> fail to read data/coco/images/val2017/000000414170.jpg\r\nTraceback (most recent call last):\r\n  File \"pose_estimation/valid.py\", line 165, in <module>\r\n    main()\r\n  File \"pose_estimation/valid.py\", line 161, in main\r\n    final_output_dir, tb_log_dir)\r\n  File \"/home/elysium/Documents/human-pose-estimation.pytorch-master/pose_estimation/../lib/core/function.py\", line 108, in validate\r\n    for i, (input, target, target_weight, meta) in enumerate(val_loader):\r\n  File \"/home/elysium/.local/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 637, in __next__\r\n    return self._process_next_batch(batch)\r\n  File \"/home/elysium/.local/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 658, in _process_next_batch\r\n    raise batch.exc_type(batch.exc_msg)\r\nValueError: Traceback (most recent call last):\r\n  File \"/home/elysium/.local/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 138, in _worker_loop\r\n    samples = collate_fn([dataset[i] for i in batch_indices])\r\n  File \"/home/elysium/.local/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 138, in <listcomp>\r\n    samples = collate_fn([dataset[i] for i in batch_indices])\r\n  File \"/home/elysium/Documents/human-pose-estimation.pytorch-master/pose_estimation/../lib/dataset/JointsDataset.py\", line 80, in __getitem__\r\n    raise ValueError('Fail to read {}'.format(image_file))\r\nValueError: Fail to read data/coco/images/val2017/000000397133.jpg**\r\n\r\nI have image file \"000000397133.jpg\" in data/coco/images/val2017/000000397133.jpg.\r\nwhy this error occur?\r\n\r\nMy directory is look like this\r\n\r\n![screenshot from 2019-01-14 11-02-50](https://user-images.githubusercontent.com/13174001/51093965-f4017380-17eb-11e9-94ea-211aac8fd737.png)\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/77/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/77/timeline","performed_via_github_app":null,"state_reason":null}