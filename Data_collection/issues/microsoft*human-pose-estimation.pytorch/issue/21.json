{"url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/21","repository_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch","labels_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/21/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/21/comments","events_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/21/events","html_url":"https://github.com/microsoft/human-pose-estimation.pytorch/issues/21","id":359362727,"node_id":"MDU6SXNzdWUzNTkzNjI3Mjc=","number":21,"title":"During training, process interrupted by RuntimeError: cuda runtime error (4)","user":{"login":"liuruijin17","id":29913368,"node_id":"MDQ6VXNlcjI5OTEzMzY4","avatar_url":"https://avatars.githubusercontent.com/u/29913368?v=4","gravatar_id":"","url":"https://api.github.com/users/liuruijin17","html_url":"https://github.com/liuruijin17","followers_url":"https://api.github.com/users/liuruijin17/followers","following_url":"https://api.github.com/users/liuruijin17/following{/other_user}","gists_url":"https://api.github.com/users/liuruijin17/gists{/gist_id}","starred_url":"https://api.github.com/users/liuruijin17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuruijin17/subscriptions","organizations_url":"https://api.github.com/users/liuruijin17/orgs","repos_url":"https://api.github.com/users/liuruijin17/repos","events_url":"https://api.github.com/users/liuruijin17/events{/privacy}","received_events_url":"https://api.github.com/users/liuruijin17/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-09-12T08:09:58Z","updated_at":"2018-09-13T08:00:58Z","closed_at":"2018-09-13T08:00:58Z","author_association":"NONE","active_lock_reason":null,"body":"Thanks for your excellent work. I would like to ask a problem (might not your code bug).\r\nWhen training on coco dataset under your instruction by\r\n`python pose_estimation/train.py \\\r\n    --cfg experiments/coco/resnet50/384x288_d256x3_adam_lr1e-3.yaml`\r\nAt an unexpected moment (not always in epoch 1, this happened at any time before), process is interrupted unexpectedly, the log in terminal is as follow\r\n\r\n**Epoch: [1][2000/4682]\tTime 0.499s (0.496s)\tSpeed 64.1 samples/s\tData 0.000s (0.007s)\tLoss 0.00067 (0.00070)\tAccuracy 0.648 (0.578)\r\nEpoch: [1][2100/4682]\tTime 0.476s (0.496s)\tSpeed 67.2 samples/s\tData 0.000s (0.007s)\tLoss 0.00062 (0.00070)\tAccuracy 0.571 (0.580)\r\nEpoch: [1][2200/4682]\tTime 0.479s (0.497s)\tSpeed 66.8 samples/s\tData 0.000s (0.007s)\tLoss 0.00068 (0.00070)\tAccuracy 0.624 (0.582)\r\nTHCudaCheck FAIL file=/pytorch/aten/src/THC/generated/../generic/THCTensorMathPointwise.cu line=265 error=4 : unspecified launch failure\r\nTraceback (most recent call last):\r\n  File \"pose_estimation/train.py\", line 206, in <module>\r\n    main()\r\n  File \"pose_estimation/train.py\", line 174, in main\r\n    final_output_dir, tb_log_dir, writer_dict)\r\n  File \"/home/vision01/Workspace/Python/Pose/human-pose-estimation.pytorch-master/pose_estimation/../lib/core/function.py\", line 53, in train\r\n    optimizer.step()\r\n  File \"/home/vision01/anaconda3/lib/python3.6/site-packages/torch/optim/adam.py\", line 92, in step\r\n    exp_avg.mul_(beta1).add_(1 - beta1, grad)\r\nRuntimeError: cuda runtime error (4) : unspecified launch failure at /pytorch/aten/src/THC/generated/../generic/THCTensorMathPointwise.cu:265\r\nTHCudaCheckWarn FAIL file=/pytorch/aten/src/THC/THCStream.cpp line=50 error=4 : unspecified launch failure**\r\n\r\nI disabled cudnn for batch_norm as you instructed\r\nMy platform is Ubuntu 16.04, GTX1080TI, CUDA 9.0.176, cudnn 7.0.5, python3.6, pytorch0.4.0\r\nDon`t think is a bug in your code, butI was confused a lot and still had no clue after google.\r\nHope your guys can help me, thanks a lot!","closed_by":{"login":"liuruijin17","id":29913368,"node_id":"MDQ6VXNlcjI5OTEzMzY4","avatar_url":"https://avatars.githubusercontent.com/u/29913368?v=4","gravatar_id":"","url":"https://api.github.com/users/liuruijin17","html_url":"https://github.com/liuruijin17","followers_url":"https://api.github.com/users/liuruijin17/followers","following_url":"https://api.github.com/users/liuruijin17/following{/other_user}","gists_url":"https://api.github.com/users/liuruijin17/gists{/gist_id}","starred_url":"https://api.github.com/users/liuruijin17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuruijin17/subscriptions","organizations_url":"https://api.github.com/users/liuruijin17/orgs","repos_url":"https://api.github.com/users/liuruijin17/repos","events_url":"https://api.github.com/users/liuruijin17/events{/privacy}","received_events_url":"https://api.github.com/users/liuruijin17/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/21/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/human-pose-estimation.pytorch/issues/21/timeline","performed_via_github_app":null,"state_reason":"completed"}