{"url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/5","repository_url":"https://api.github.com/repos/perslev/MultiPlanarUNet","labels_url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/5/labels{/name}","comments_url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/5/comments","events_url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/5/events","html_url":"https://github.com/perslev/MultiPlanarUNet/issues/5","id":514612678,"node_id":"MDU6SXNzdWU1MTQ2MTI2Nzg=","number":5,"title":"Getting ValueError in new environment","user":{"login":"mnc1423","id":41675771,"node_id":"MDQ6VXNlcjQxNjc1Nzcx","avatar_url":"https://avatars.githubusercontent.com/u/41675771?v=4","gravatar_id":"","url":"https://api.github.com/users/mnc1423","html_url":"https://github.com/mnc1423","followers_url":"https://api.github.com/users/mnc1423/followers","following_url":"https://api.github.com/users/mnc1423/following{/other_user}","gists_url":"https://api.github.com/users/mnc1423/gists{/gist_id}","starred_url":"https://api.github.com/users/mnc1423/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mnc1423/subscriptions","organizations_url":"https://api.github.com/users/mnc1423/orgs","repos_url":"https://api.github.com/users/mnc1423/repos","events_url":"https://api.github.com/users/mnc1423/events{/privacy}","received_events_url":"https://api.github.com/users/mnc1423/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-10-30T12:01:33Z","updated_at":"2019-10-30T12:25:38Z","closed_at":"2019-10-30T12:25:38Z","author_association":"NONE","active_lock_reason":null,"body":"Hey Perslev\r\n\r\nI'm setting up in a new environment with RTX Titans and seem to run into a ValueError\r\n\r\n#mp train --num_GPUs=1\r\n\r\nValueError: weights can not be broadcast to values. values.rank=3. weights.rank=1. values.shape=(16, 512, 512). weights.shape=(16,).\r\n\r\nTrain_hparams.yaml\r\nbuild: &BUILD\r\n  \r\n   Hyperparameters passed to the Model.build and __init__ methods\r\n  \r\n  model_class_name: \"UNet\"\r\n  n_classes: 2\r\n  n_channels: 1\r\n  dim: 512\r\n  complexity_factor: 2\r\n  out_activation: \"softmax\"\r\n  l1_reg: False\r\n  l2_reg: False\r\n  biased_output_layer: True\r\n  depth: 4\r\n\r\nfit: &FIT\r\n  \r\n   Hyperparameters passed to the Trainer object\r\n  \r\n\r\n   Views\r\n  views: 6\r\n  noise_sd: 0.1\r\n  real_space_span: 512.0\r\n  intrp_style: 'iso_live'\r\n\r\n  Use class weights?\r\n  class_weights: False\r\n\r\n   On-the-fly augmentation?\r\n   Leave empty or delete entirely if not\r\n  augmenters: [\r\n    {cls_name: \"Elastic2D\",\r\n     kwargs: {alpha: [0, 450], sigma: [20, 30], apply_prob: 0.333}}\r\n  ]\r\n\r\n  Loss function\r\n  loss: \"sparse_categorical_crossentropy\"\r\n  metrics: []\r\n\r\n   Optimization\r\n  batch_size: 16\r\n  n_epochs: 500\r\n  verbose: true\r\n  shuffle_batch_order: true\r\n  optimizer: \"Adam\"\r\n  optimizer_kwargs: {lr: 5.0e-05, decay: 0.0, beta_1: 0.9, beta_2: 0.999, epsilon: 1.0e-8}\r\n\r\n   Minimum fraction of image slices with FG labels in each mini-batch\r\n  fg_batch_fraction: 0.50\r\n  bg_class: 0        # background class label\r\n  bg_value: 1pct\r\n\r\n   Normalization, using sklearn.preprocessing scalers\r\n   NOTE: Applied across full image volumes (after interpolation)\r\n   Options: MinMaxScaler, StandardScaler, MaxAbsScaler,\r\n           RobustScaler, QuantileTransformer, Null\r\n  scaler: \"RobustScaler\"\r\n\r\n  Callbacks\r\n  callbacks: [*RLOP, *TB, *MCP_CLEAN, *ES, *TIMER, *CSV]\r\n\r\n__VERSION__: 0.2.2\r\n__BRANCH__: master\r\n__COMMIT__: 66d5075\r\n\r\nThanks in advance \r\nCheers!","closed_by":{"login":"mnc1423","id":41675771,"node_id":"MDQ6VXNlcjQxNjc1Nzcx","avatar_url":"https://avatars.githubusercontent.com/u/41675771?v=4","gravatar_id":"","url":"https://api.github.com/users/mnc1423","html_url":"https://github.com/mnc1423","followers_url":"https://api.github.com/users/mnc1423/followers","following_url":"https://api.github.com/users/mnc1423/following{/other_user}","gists_url":"https://api.github.com/users/mnc1423/gists{/gist_id}","starred_url":"https://api.github.com/users/mnc1423/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mnc1423/subscriptions","organizations_url":"https://api.github.com/users/mnc1423/orgs","repos_url":"https://api.github.com/users/mnc1423/repos","events_url":"https://api.github.com/users/mnc1423/events{/privacy}","received_events_url":"https://api.github.com/users/mnc1423/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/5/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/5/timeline","performed_via_github_app":null,"state_reason":"completed"}