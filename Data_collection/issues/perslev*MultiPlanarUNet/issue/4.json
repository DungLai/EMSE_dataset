{"url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/4","repository_url":"https://api.github.com/repos/perslev/MultiPlanarUNet","labels_url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/4/labels{/name}","comments_url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/4/comments","events_url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/4/events","html_url":"https://github.com/perslev/MultiPlanarUNet/issues/4","id":513294308,"node_id":"MDU6SXNzdWU1MTMyOTQzMDg=","number":4,"title":"Clallbacks: Cannot feed value of shape (16, 128, 128, 1) for Tensor 'conv2d/truediv:0', which has shape '(?, 128, 128, 3)'","user":{"login":"htt1994","id":26806474,"node_id":"MDQ6VXNlcjI2ODA2NDc0","avatar_url":"https://avatars.githubusercontent.com/u/26806474?v=4","gravatar_id":"","url":"https://api.github.com/users/htt1994","html_url":"https://github.com/htt1994","followers_url":"https://api.github.com/users/htt1994/followers","following_url":"https://api.github.com/users/htt1994/following{/other_user}","gists_url":"https://api.github.com/users/htt1994/gists{/gist_id}","starred_url":"https://api.github.com/users/htt1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htt1994/subscriptions","organizations_url":"https://api.github.com/users/htt1994/orgs","repos_url":"https://api.github.com/users/htt1994/repos","events_url":"https://api.github.com/users/htt1994/events{/privacy}","received_events_url":"https://api.github.com/users/htt1994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-10-28T13:12:32Z","updated_at":"2020-02-10T12:34:34Z","closed_at":"2020-02-10T12:34:34Z","author_association":"NONE","active_lock_reason":null,"body":"The project is much beneficial for me! Howeverm I got an error when traning at the code (outs = sess.run(tensors, feed_dict=ins)) in the file callbacks.py. The detail is following: \r\n\r\n  1/157 [..............................] - ETA: 29:39 - loss: 0.17492019-10-28 20:54:58.429846: I tensorflow/core/platform/default/device_tracer.cc:641] Collecting 1361 kernel records, 15 memcpy records.\r\n156/157 [============================>.] - ETA: 0s - loss: 0.0912<class 'list'>\r\n<class 'dict'>\r\nself.model.total_loss: Tensor(\"loss_1/mul:0\", shape=(), dtype=float32)\r\nmetrics_tensors: {}\r\nself.model.outputs: [<tf.Tensor 'conv2d/truediv:0' shape=(?, 128, 128, 3) dtype=float32>]\r\n\r\nW1028 20:55:51.747634 140053831063296 deprecation_wrapper.py:119] From /home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/callbacks/callbacks.py:334: The name tf.keras.backend.get_session is deprecated. Please use tf.compat.v1.keras.backend.get_session instead.\r\n\r\ntensors:  [<tf.Tensor 'loss_1/mul:0' shape=() dtype=float32>, {}, <tf.Tensor 'conv2d/truediv:0' shape=(?, 128, 128, 3) dtype=float32>]\r\nCannot feed value of shape (16, 128, 128, 1) for Tensor 'conv2d/truediv:0', which has shape '(?, 128, 128, 3)'\r\nTraceback (most recent call last):\r\n  File \"/home/taoh/.vscode/extensions/ms-python.python-2019.9.34911/pythonFiles/ptvsd_launcher.py\", line 43, in <module>\r\n    main(ptvsdArgs)\r\n  File \"/home/taoh/.vscode/extensions/ms-python.python-2019.9.34911/pythonFiles/lib/python/ptvsd/__main__.py\", line 432, in main\r\n    run()\r\n  File \"/home/taoh/.vscode/extensions/ms-python.python-2019.9.34911/pythonFiles/lib/python/ptvsd/__main__.py\", line 316, in run_file\r\n    runpy.run_path(target, run_name='__main__')\r\n  File \"/home/taoh/anaconda3/envs/3Dircadb_Use_Unet/lib/python3.6/runpy.py\", line 263, in run_path\r\n    pkg_name=pkg_name, script_name=fname)\r\n  File \"/home/taoh/anaconda3/envs/3Dircadb_Use_Unet/lib/python3.6/runpy.py\", line 96, in _run_module_code\r\n    mod_name, mod_spec, pkg_name, script_name)\r\n  File \"/home/taoh/anaconda3/envs/3Dircadb_Use_Unet/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/bin/train.py\", line 344, in <module>\r\n    entry_func()\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/bin/train.py\", line 340, in entry_func\r\n    raise e\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/bin/train.py\", line 336, in entry_func\r\n    run(project_dir=project_dir, gpu_mon=gpu_mon, logger=logger, args=args)\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/bin/train.py\", line 290, in run\r\n    hparams=hparams, no_im=args.no_images, **hparams[\"fit\"])\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/train/trainer.py\", line 122, in fit\r\n    raise e\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/train/trainer.py\", line 107, in fit\r\n    val_ignore_class_zero)\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/train/trainer.py\", line 215, in _fit_loop\r\n    self.model.fit_generator(**fit_kwargs)\r\n  File \"/home/taoh/anaconda3/envs/3Dircadb_Use_Unet/lib/python3.6/site-packages/tensorflow/python/keras/engine/training.py\", line 1433, in fit_generator\r\n    steps_name='steps_per_epoch')\r\n  File \"/home/taoh/anaconda3/envs/3Dircadb_Use_Unet/lib/python3.6/site-packages/tensorflow/python/keras/engine/training_generator.py\", line 331, in model_iteration\r\n    callbacks.on_epoch_end(epoch, epoch_logs)\r\n  File \"/home/taoh/anaconda3/envs/3Dircadb_Use_Unet/lib/python3.6/site-packages/tensorflow/python/keras/callbacks.py\", line 311, in on_epoch_end\r\n    callback.on_epoch_end(epoch, logs)\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/callbacks/callbacks.py\", line 428, in on_epoch_end\r\n    TPs, relevant, selected, metrics = self.predict()\r\n  File \"/home/taoh/Project/DeepLearning/Examples/AwesomeExLearning/MultiPlanarUNet-master/MultiPlanarUNet/callbacks/callbacks.py\", line 353, in predict\r\n    outs = sess.run(tensors, feed_dict=ins)\r\n  File \"/home/taoh/anaconda3/envs/3Dircadb_Use_Unet/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 950, in run\r\n    run_metadata_ptr)\r\n  File \"/home/taoh/anaconda3/envs/3Dircadb_Use_Unet/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1149, in _run\r\n    str(subfeed_t.get_shape())))\r\nValueError: Cannot feed value of shape (16, 128, 128, 1) for Tensor 'conv2d/truediv:0', which has shape '(?, 128, 128, 3)'","closed_by":{"login":"perslev","id":12041524,"node_id":"MDQ6VXNlcjEyMDQxNTI0","avatar_url":"https://avatars.githubusercontent.com/u/12041524?v=4","gravatar_id":"","url":"https://api.github.com/users/perslev","html_url":"https://github.com/perslev","followers_url":"https://api.github.com/users/perslev/followers","following_url":"https://api.github.com/users/perslev/following{/other_user}","gists_url":"https://api.github.com/users/perslev/gists{/gist_id}","starred_url":"https://api.github.com/users/perslev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/perslev/subscriptions","organizations_url":"https://api.github.com/users/perslev/orgs","repos_url":"https://api.github.com/users/perslev/repos","events_url":"https://api.github.com/users/perslev/events{/privacy}","received_events_url":"https://api.github.com/users/perslev/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/4/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/perslev/MultiPlanarUNet/issues/4/timeline","performed_via_github_app":null,"state_reason":"completed"}