[{"url":"https://api.github.com/repos/NVlabs/MUNIT/issues/comments/408611063","html_url":"https://github.com/NVlabs/MUNIT/issues/30#issuecomment-408611063","issue_url":"https://api.github.com/repos/NVlabs/MUNIT/issues/30","id":408611063,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODYxMTA2Mw==","user":{"login":"mingyuliutw","id":8594682,"node_id":"MDQ6VXNlcjg1OTQ2ODI=","avatar_url":"https://avatars.githubusercontent.com/u/8594682?v=4","gravatar_id":"","url":"https://api.github.com/users/mingyuliutw","html_url":"https://github.com/mingyuliutw","followers_url":"https://api.github.com/users/mingyuliutw/followers","following_url":"https://api.github.com/users/mingyuliutw/following{/other_user}","gists_url":"https://api.github.com/users/mingyuliutw/gists{/gist_id}","starred_url":"https://api.github.com/users/mingyuliutw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mingyuliutw/subscriptions","organizations_url":"https://api.github.com/users/mingyuliutw/orgs","repos_url":"https://api.github.com/users/mingyuliutw/repos","events_url":"https://api.github.com/users/mingyuliutw/events{/privacy}","received_events_url":"https://api.github.com/users/mingyuliutw/received_events","type":"User","site_admin":false},"created_at":"2018-07-28T14:20:09Z","updated_at":"2018-07-28T14:20:09Z","author_association":"COLLABORATOR","body":"@c1a1o1 This line of code is not in our repository.","reactions":{"url":"https://api.github.com/repos/NVlabs/MUNIT/issues/comments/408611063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mingyuliutw","id":8594682,"node_id":"MDQ6VXNlcjg1OTQ2ODI=","avatar_url":"https://avatars.githubusercontent.com/u/8594682?v=4","gravatar_id":"","url":"https://api.github.com/users/mingyuliutw","html_url":"https://github.com/mingyuliutw","followers_url":"https://api.github.com/users/mingyuliutw/followers","following_url":"https://api.github.com/users/mingyuliutw/following{/other_user}","gists_url":"https://api.github.com/users/mingyuliutw/gists{/gist_id}","starred_url":"https://api.github.com/users/mingyuliutw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mingyuliutw/subscriptions","organizations_url":"https://api.github.com/users/mingyuliutw/orgs","repos_url":"https://api.github.com/users/mingyuliutw/repos","events_url":"https://api.github.com/users/mingyuliutw/events{/privacy}","received_events_url":"https://api.github.com/users/mingyuliutw/received_events","type":"User","site_admin":false}},{"id":1758552687,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc1ODU1MjY4Nw==","url":"https://api.github.com/repos/NVlabs/MUNIT/issues/events/1758552687","actor":{"login":"c1a1o1","id":7991905,"node_id":"MDQ6VXNlcjc5OTE5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/7991905?v=4","gravatar_id":"","url":"https://api.github.com/users/c1a1o1","html_url":"https://github.com/c1a1o1","followers_url":"https://api.github.com/users/c1a1o1/followers","following_url":"https://api.github.com/users/c1a1o1/following{/other_user}","gists_url":"https://api.github.com/users/c1a1o1/gists{/gist_id}","starred_url":"https://api.github.com/users/c1a1o1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c1a1o1/subscriptions","organizations_url":"https://api.github.com/users/c1a1o1/orgs","repos_url":"https://api.github.com/users/c1a1o1/repos","events_url":"https://api.github.com/users/c1a1o1/events{/privacy}","received_events_url":"https://api.github.com/users/c1a1o1/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-28T14:20:09Z","performed_via_github_app":null},{"id":1758552688,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3NTg1NTI2ODg=","url":"https://api.github.com/repos/NVlabs/MUNIT/issues/events/1758552688","actor":{"login":"c1a1o1","id":7991905,"node_id":"MDQ6VXNlcjc5OTE5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/7991905?v=4","gravatar_id":"","url":"https://api.github.com/users/c1a1o1","html_url":"https://github.com/c1a1o1","followers_url":"https://api.github.com/users/c1a1o1/followers","following_url":"https://api.github.com/users/c1a1o1/following{/other_user}","gists_url":"https://api.github.com/users/c1a1o1/gists{/gist_id}","starred_url":"https://api.github.com/users/c1a1o1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c1a1o1/subscriptions","organizations_url":"https://api.github.com/users/c1a1o1/orgs","repos_url":"https://api.github.com/users/c1a1o1/repos","events_url":"https://api.github.com/users/c1a1o1/events{/privacy}","received_events_url":"https://api.github.com/users/c1a1o1/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-28T14:20:09Z","performed_via_github_app":null},{"id":1768646344,"node_id":"MDExOkNsb3NlZEV2ZW50MTc2ODY0NjM0NA==","url":"https://api.github.com/repos/NVlabs/MUNIT/issues/events/1768646344","actor":{"login":"mingyuliutw","id":8594682,"node_id":"MDQ6VXNlcjg1OTQ2ODI=","avatar_url":"https://avatars.githubusercontent.com/u/8594682?v=4","gravatar_id":"","url":"https://api.github.com/users/mingyuliutw","html_url":"https://github.com/mingyuliutw","followers_url":"https://api.github.com/users/mingyuliutw/followers","following_url":"https://api.github.com/users/mingyuliutw/following{/other_user}","gists_url":"https://api.github.com/users/mingyuliutw/gists{/gist_id}","starred_url":"https://api.github.com/users/mingyuliutw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mingyuliutw/subscriptions","organizations_url":"https://api.github.com/users/mingyuliutw/orgs","repos_url":"https://api.github.com/users/mingyuliutw/repos","events_url":"https://api.github.com/users/mingyuliutw/events{/privacy}","received_events_url":"https://api.github.com/users/mingyuliutw/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-08-02T20:53:15Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/NVlabs/MUNIT/issues/comments/460457937","html_url":"https://github.com/NVlabs/MUNIT/issues/30#issuecomment-460457937","issue_url":"https://api.github.com/repos/NVlabs/MUNIT/issues/30","id":460457937,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDQ1NzkzNw==","user":{"login":"SorourMo","id":29081391,"node_id":"MDQ6VXNlcjI5MDgxMzkx","avatar_url":"https://avatars.githubusercontent.com/u/29081391?v=4","gravatar_id":"","url":"https://api.github.com/users/SorourMo","html_url":"https://github.com/SorourMo","followers_url":"https://api.github.com/users/SorourMo/followers","following_url":"https://api.github.com/users/SorourMo/following{/other_user}","gists_url":"https://api.github.com/users/SorourMo/gists{/gist_id}","starred_url":"https://api.github.com/users/SorourMo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SorourMo/subscriptions","organizations_url":"https://api.github.com/users/SorourMo/orgs","repos_url":"https://api.github.com/users/SorourMo/repos","events_url":"https://api.github.com/users/SorourMo/events{/privacy}","received_events_url":"https://api.github.com/users/SorourMo/received_events","type":"User","site_admin":false},"created_at":"2019-02-04T23:41:28Z","updated_at":"2019-02-04T23:41:56Z","author_association":"NONE","body":"I got the same error and fixed it with adding the following line in the train.py after the import section:\r\n```\r\nif __name__ == '__main__':\r\n   \"the rest of the codes in train.py\"\r\n```\r\n\r\nsource: https://stackoverflow.com/questions/18204782/runtimeerror-on-windows-trying-python-multiprocessing","reactions":{"url":"https://api.github.com/repos/NVlabs/MUNIT/issues/comments/460457937/reactions","total_count":17,"+1":15,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":2,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SorourMo","id":29081391,"node_id":"MDQ6VXNlcjI5MDgxMzkx","avatar_url":"https://avatars.githubusercontent.com/u/29081391?v=4","gravatar_id":"","url":"https://api.github.com/users/SorourMo","html_url":"https://github.com/SorourMo","followers_url":"https://api.github.com/users/SorourMo/followers","following_url":"https://api.github.com/users/SorourMo/following{/other_user}","gists_url":"https://api.github.com/users/SorourMo/gists{/gist_id}","starred_url":"https://api.github.com/users/SorourMo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SorourMo/subscriptions","organizations_url":"https://api.github.com/users/SorourMo/orgs","repos_url":"https://api.github.com/users/SorourMo/repos","events_url":"https://api.github.com/users/SorourMo/events{/privacy}","received_events_url":"https://api.github.com/users/SorourMo/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NVlabs/MUNIT/issues/comments/796449899","html_url":"https://github.com/NVlabs/MUNIT/issues/30#issuecomment-796449899","issue_url":"https://api.github.com/repos/NVlabs/MUNIT/issues/30","id":796449899,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NjQ0OTg5OQ==","user":{"login":"rickkk856","id":62864640,"node_id":"MDQ6VXNlcjYyODY0NjQw","avatar_url":"https://avatars.githubusercontent.com/u/62864640?v=4","gravatar_id":"","url":"https://api.github.com/users/rickkk856","html_url":"https://github.com/rickkk856","followers_url":"https://api.github.com/users/rickkk856/followers","following_url":"https://api.github.com/users/rickkk856/following{/other_user}","gists_url":"https://api.github.com/users/rickkk856/gists{/gist_id}","starred_url":"https://api.github.com/users/rickkk856/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickkk856/subscriptions","organizations_url":"https://api.github.com/users/rickkk856/orgs","repos_url":"https://api.github.com/users/rickkk856/repos","events_url":"https://api.github.com/users/rickkk856/events{/privacy}","received_events_url":"https://api.github.com/users/rickkk856/received_events","type":"User","site_admin":false},"created_at":"2021-03-11T04:50:00Z","updated_at":"2021-03-11T04:50:00Z","author_association":"NONE","body":"It took me sometime to figure out what I was doing wrong so, to fix this error change `train.py` to the code bellow\r\n\r\n```\r\nfrom utils import get_all_data_loaders, prepare_sub_folder, write_html, write_loss, get_config, write_2images, Timer\r\nimport argparse\r\nfrom torch.autograd import Variable\r\nfrom trainer import MUNIT_Trainer, UNIT_Trainer\r\nimport torch.backends.cudnn as cudnn\r\nimport torch\r\ntry:\r\n    from itertools import izip as zip\r\nexcept ImportError: # will be 3.x series\r\n    pass\r\nimport os\r\nimport sys\r\nimport tensorboardX\r\nimport shutil\r\n\r\n\r\nif __name__ == '__main__':\r\n    parser = argparse.ArgumentParser()\r\n    parser.add_argument('--config', type=str, default='configs/edges2handbags_folder.yaml', help='Path to the config file.')\r\n    parser.add_argument('--output_path', type=str, default='.', help=\"outputs path\")\r\n    parser.add_argument(\"--resume\", action=\"store_true\")\r\n    parser.add_argument('--trainer', type=str, default='MUNIT', help=\"MUNIT|UNIT\")\r\n    opts = parser.parse_args()\r\n\r\n    cudnn.benchmark = True\r\n\r\n    # Load experiment setting\r\n    config = get_config(opts.config)\r\n    max_iter = config['max_iter']\r\n    display_size = config['display_size']\r\n    config['vgg_model_path'] = opts.output_path\r\n    \r\n    # Setup model and data loader\r\n    if opts.trainer == 'MUNIT':\r\n        trainer = MUNIT_Trainer(config)\r\n    elif opts.trainer == 'UNIT':\r\n        trainer = UNIT_Trainer(config)\r\n    else:\r\n        sys.exit(\"Only support MUNIT|UNIT\")\r\n    trainer.cuda()\r\n    train_loader_a, train_loader_b, test_loader_a, test_loader_b = get_all_data_loaders(config)\r\n    train_display_images_a = torch.stack([train_loader_a.dataset[i] for i in range(display_size)]).cuda()\r\n    train_display_images_b = torch.stack([train_loader_b.dataset[i] for i in range(display_size)]).cuda()\r\n    test_display_images_a = torch.stack([test_loader_a.dataset[i] for i in range(display_size)]).cuda()\r\n    test_display_images_b = torch.stack([test_loader_b.dataset[i] for i in range(display_size)]).cuda()\r\n\r\n    # Setup logger and output folders\r\n    model_name = os.path.splitext(os.path.basename(opts.config))[0]\r\n    train_writer = tensorboardX.SummaryWriter(os.path.join(opts.output_path + \"/logs\", model_name))\r\n    output_directory = os.path.join(opts.output_path + \"/outputs\", model_name)\r\n    checkpoint_directory, image_directory = prepare_sub_folder(output_directory)\r\n    shutil.copy(opts.config, os.path.join(output_directory, 'config.yaml')) # copy config file to output folder\r\n\r\n    # Start training\r\n    iterations = trainer.resume(checkpoint_directory, hyperparameters=config) if opts.resume else 0\r\n    while True:\r\n        for it, (images_a, images_b) in enumerate(zip(train_loader_a, train_loader_b)):\r\n            trainer.update_learning_rate()\r\n            images_a, images_b = images_a.cuda().detach(), images_b.cuda().detach()\r\n\r\n            with Timer(\"Elapsed time in update: %f\"):\r\n                # Main training code\r\n                trainer.dis_update(images_a, images_b, config)\r\n                trainer.gen_update(images_a, images_b, config)\r\n                torch.cuda.synchronize()\r\n\r\n            # Dump training stats in log file\r\n            if (iterations + 1) % config['log_iter'] == 0:\r\n                print(\"Iteration: %08d/%08d\" % (iterations + 1, max_iter))\r\n                write_loss(iterations, trainer, train_writer)\r\n\r\n            # Write images\r\n            if (iterations + 1) % config['image_save_iter'] == 0:\r\n                with torch.no_grad():\r\n                    test_image_outputs = trainer.sample(test_display_images_a, test_display_images_b)\r\n                    train_image_outputs = trainer.sample(train_display_images_a, train_display_images_b)\r\n                write_2images(test_image_outputs, display_size, image_directory, 'test_%08d' % (iterations + 1))\r\n                write_2images(train_image_outputs, display_size, image_directory, 'train_%08d' % (iterations + 1))\r\n                # HTML\r\n                write_html(output_directory + \"/index.html\", iterations + 1, config['image_save_iter'], 'images')\r\n\r\n            if (iterations + 1) % config['image_display_iter'] == 0:\r\n                with torch.no_grad():\r\n                    image_outputs = trainer.sample(train_display_images_a, train_display_images_b)\r\n                write_2images(image_outputs, display_size, image_directory, 'train_current')\r\n\r\n            # Save network weights\r\n                if (iterations + 1) % config['snapshot_save_iter'] == 0:\r\n                    trainer.save(checkpoint_directory, iterations)\r\n\r\n            iterations += 1\r\n            if iterations >= max_iter:\r\n                sys.exit('Finish training')\r\n```","reactions":{"url":"https://api.github.com/repos/NVlabs/MUNIT/issues/comments/796449899/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rickkk856","id":62864640,"node_id":"MDQ6VXNlcjYyODY0NjQw","avatar_url":"https://avatars.githubusercontent.com/u/62864640?v=4","gravatar_id":"","url":"https://api.github.com/users/rickkk856","html_url":"https://github.com/rickkk856","followers_url":"https://api.github.com/users/rickkk856/followers","following_url":"https://api.github.com/users/rickkk856/following{/other_user}","gists_url":"https://api.github.com/users/rickkk856/gists{/gist_id}","starred_url":"https://api.github.com/users/rickkk856/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickkk856/subscriptions","organizations_url":"https://api.github.com/users/rickkk856/orgs","repos_url":"https://api.github.com/users/rickkk856/repos","events_url":"https://api.github.com/users/rickkk856/events{/privacy}","received_events_url":"https://api.github.com/users/rickkk856/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/NVlabs/MUNIT/issues/comments/1171005649","html_url":"https://github.com/NVlabs/MUNIT/issues/30#issuecomment-1171005649","issue_url":"https://api.github.com/repos/NVlabs/MUNIT/issues/30","id":1171005649,"node_id":"IC_kwDOB5kjIM5FzCDR","user":{"login":"Czshippee","id":48871022,"node_id":"MDQ6VXNlcjQ4ODcxMDIy","avatar_url":"https://avatars.githubusercontent.com/u/48871022?v=4","gravatar_id":"","url":"https://api.github.com/users/Czshippee","html_url":"https://github.com/Czshippee","followers_url":"https://api.github.com/users/Czshippee/followers","following_url":"https://api.github.com/users/Czshippee/following{/other_user}","gists_url":"https://api.github.com/users/Czshippee/gists{/gist_id}","starred_url":"https://api.github.com/users/Czshippee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Czshippee/subscriptions","organizations_url":"https://api.github.com/users/Czshippee/orgs","repos_url":"https://api.github.com/users/Czshippee/repos","events_url":"https://api.github.com/users/Czshippee/events{/privacy}","received_events_url":"https://api.github.com/users/Czshippee/received_events","type":"User","site_admin":false},"created_at":"2022-06-30T09:49:11Z","updated_at":"2022-06-30T09:49:11Z","author_association":"NONE","body":"I also encounter this problem and want to ask why this problem will happen?\r\nWhy we need put all code inside the 'if __name__ == '__main__':' ?\r\nWhy we put code outside will cause this problem? Thanks","reactions":{"url":"https://api.github.com/repos/NVlabs/MUNIT/issues/comments/1171005649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Czshippee","id":48871022,"node_id":"MDQ6VXNlcjQ4ODcxMDIy","avatar_url":"https://avatars.githubusercontent.com/u/48871022?v=4","gravatar_id":"","url":"https://api.github.com/users/Czshippee","html_url":"https://github.com/Czshippee","followers_url":"https://api.github.com/users/Czshippee/followers","following_url":"https://api.github.com/users/Czshippee/following{/other_user}","gists_url":"https://api.github.com/users/Czshippee/gists{/gist_id}","starred_url":"https://api.github.com/users/Czshippee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Czshippee/subscriptions","organizations_url":"https://api.github.com/users/Czshippee/orgs","repos_url":"https://api.github.com/users/Czshippee/repos","events_url":"https://api.github.com/users/Czshippee/events{/privacy}","received_events_url":"https://api.github.com/users/Czshippee/received_events","type":"User","site_admin":false}}]