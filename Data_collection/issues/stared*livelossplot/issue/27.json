{"url":"https://api.github.com/repos/stared/livelossplot/issues/27","repository_url":"https://api.github.com/repos/stared/livelossplot","labels_url":"https://api.github.com/repos/stared/livelossplot/issues/27/labels{/name}","comments_url":"https://api.github.com/repos/stared/livelossplot/issues/27/comments","events_url":"https://api.github.com/repos/stared/livelossplot/issues/27/events","html_url":"https://github.com/stared/livelossplot/issues/27","id":386838401,"node_id":"MDU6SXNzdWUzODY4Mzg0MDE=","number":27,"title":"Parsing of loss name raises a TypeError when loss is a dict","user":{"login":"AlFontal","id":10958332,"node_id":"MDQ6VXNlcjEwOTU4MzMy","avatar_url":"https://avatars.githubusercontent.com/u/10958332?v=4","gravatar_id":"","url":"https://api.github.com/users/AlFontal","html_url":"https://github.com/AlFontal","followers_url":"https://api.github.com/users/AlFontal/followers","following_url":"https://api.github.com/users/AlFontal/following{/other_user}","gists_url":"https://api.github.com/users/AlFontal/gists{/gist_id}","starred_url":"https://api.github.com/users/AlFontal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlFontal/subscriptions","organizations_url":"https://api.github.com/users/AlFontal/orgs","repos_url":"https://api.github.com/users/AlFontal/repos","events_url":"https://api.github.com/users/AlFontal/events{/privacy}","received_events_url":"https://api.github.com/users/AlFontal/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-12-03T14:18:26Z","updated_at":"2019-01-01T18:44:10Z","closed_at":"2019-01-01T18:44:10Z","author_association":"NONE","active_lock_reason":null,"body":"I am working in a multitask model where I am passing a dictionary of losses and metrics for each task in `model_compile()`. It is a mixture of classification and regression tasks so I use custom variants of MSE and binary crossentropy.  There is no issue when I pass each of these custom losses in a model as a single value, but I get an error when I try to use your `PlotLossesKeras` as callback and a dictionary of losses. \r\n\r\nI checked the code and I think I found what causes the issue in `keras_plot.py`:\r\n```\r\n if isinstance(self.model.loss, list):\r\n    losses = self.model.loss\r\nelif isinstance(self.model.loss, dict):\r\n    losses = self.model.loss.values()\r\nelse:\r\n# by far the most common scenario\r\n    losses = [self.model.loss]\r\n\r\nloss_name = loss2name(losses[0])\r\n```\r\nThe last line raises a type error when losses is of type `dict_values` since it does not support indexing. \r\nIn any case, the purpose of this line is to get a name for the *general* loss, which at least in my case (and I believe in most cases where a dictionary of losses will be passed) does not really make sense and a generic term like 'loss' would make more sense. (In my case this value is the equivalent of the sum of all the individual losses of each task).\r\n\r\nMy solution was just to change this line to:\r\n```\r\nloss_name = loss2name(losses[0]) if isinstance(losses, list) else 'loss'\r\n```\r\nPD: Your little package is great, I have been using for a good while and it adds a neat functionality to the networks I train in my jupyter notebooks!","closed_by":{"login":"stared","id":1001610,"node_id":"MDQ6VXNlcjEwMDE2MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1001610?v=4","gravatar_id":"","url":"https://api.github.com/users/stared","html_url":"https://github.com/stared","followers_url":"https://api.github.com/users/stared/followers","following_url":"https://api.github.com/users/stared/following{/other_user}","gists_url":"https://api.github.com/users/stared/gists{/gist_id}","starred_url":"https://api.github.com/users/stared/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stared/subscriptions","organizations_url":"https://api.github.com/users/stared/orgs","repos_url":"https://api.github.com/users/stared/repos","events_url":"https://api.github.com/users/stared/events{/privacy}","received_events_url":"https://api.github.com/users/stared/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/stared/livelossplot/issues/27/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/stared/livelossplot/issues/27/timeline","performed_via_github_app":null,"state_reason":"completed"}