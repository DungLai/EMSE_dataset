[{"id":4073587220,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ0MDczNTg3MjIw","url":"https://api.github.com/repos/namisan/mt-dnn/issues/events/4073587220","actor":{"login":"namisan","id":3060273,"node_id":"MDQ6VXNlcjMwNjAyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/3060273?v=4","gravatar_id":"","url":"https://api.github.com/users/namisan","html_url":"https://github.com/namisan","followers_url":"https://api.github.com/users/namisan/followers","following_url":"https://api.github.com/users/namisan/following{/other_user}","gists_url":"https://api.github.com/users/namisan/gists{/gist_id}","starred_url":"https://api.github.com/users/namisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namisan/subscriptions","organizations_url":"https://api.github.com/users/namisan/orgs","repos_url":"https://api.github.com/users/namisan/repos","events_url":"https://api.github.com/users/namisan/events{/privacy}","received_events_url":"https://api.github.com/users/namisan/received_events","type":"User","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-12-04T16:55:34Z","assignee":{"login":"namisan","id":3060273,"node_id":"MDQ6VXNlcjMwNjAyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/3060273?v=4","gravatar_id":"","url":"https://api.github.com/users/namisan","html_url":"https://github.com/namisan","followers_url":"https://api.github.com/users/namisan/followers","following_url":"https://api.github.com/users/namisan/following{/other_user}","gists_url":"https://api.github.com/users/namisan/gists{/gist_id}","starred_url":"https://api.github.com/users/namisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namisan/subscriptions","organizations_url":"https://api.github.com/users/namisan/orgs","repos_url":"https://api.github.com/users/namisan/repos","events_url":"https://api.github.com/users/namisan/events{/privacy}","received_events_url":"https://api.github.com/users/namisan/received_events","type":"User","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/namisan/mt-dnn/issues/comments/742460466","html_url":"https://github.com/namisan/mt-dnn/issues/196#issuecomment-742460466","issue_url":"https://api.github.com/repos/namisan/mt-dnn/issues/196","id":742460466,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjQ2MDQ2Ng==","user":{"login":"nanzhao","id":4546867,"node_id":"MDQ6VXNlcjQ1NDY4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/4546867?v=4","gravatar_id":"","url":"https://api.github.com/users/nanzhao","html_url":"https://github.com/nanzhao","followers_url":"https://api.github.com/users/nanzhao/followers","following_url":"https://api.github.com/users/nanzhao/following{/other_user}","gists_url":"https://api.github.com/users/nanzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/nanzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nanzhao/subscriptions","organizations_url":"https://api.github.com/users/nanzhao/orgs","repos_url":"https://api.github.com/users/nanzhao/repos","events_url":"https://api.github.com/users/nanzhao/events{/privacy}","received_events_url":"https://api.github.com/users/nanzhao/received_events","type":"User","site_admin":false},"created_at":"2020-12-10T11:24:15Z","updated_at":"2020-12-10T11:24:28Z","author_association":"NONE","body":" should be like this ?    \r\n  \r\n      if self.config['local_rank'] != -1:\r\n            # print('Rank ', self.config['local_rank'], ' loss ', loss)\r\n            copied_loss = copy.deepcopy(loss.data)\r\n            torch.distributed.all_reduce(copied_loss)\r\n            copied_loss = copied_loss / self.config['world_size']\r\n            self.train_loss.update(copied_loss.item(), batch_size)\r\n        else:\r\n            self.train_loss.update(loss.item(), batch_size)","reactions":{"url":"https://api.github.com/repos/namisan/mt-dnn/issues/comments/742460466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nanzhao","id":4546867,"node_id":"MDQ6VXNlcjQ1NDY4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/4546867?v=4","gravatar_id":"","url":"https://api.github.com/users/nanzhao","html_url":"https://github.com/nanzhao","followers_url":"https://api.github.com/users/nanzhao/followers","following_url":"https://api.github.com/users/nanzhao/following{/other_user}","gists_url":"https://api.github.com/users/nanzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/nanzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nanzhao/subscriptions","organizations_url":"https://api.github.com/users/nanzhao/orgs","repos_url":"https://api.github.com/users/nanzhao/repos","events_url":"https://api.github.com/users/nanzhao/events{/privacy}","received_events_url":"https://api.github.com/users/nanzhao/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/namisan/mt-dnn/issues/comments/743341417","html_url":"https://github.com/namisan/mt-dnn/issues/196#issuecomment-743341417","issue_url":"https://api.github.com/repos/namisan/mt-dnn/issues/196","id":743341417,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM0MTQxNw==","user":{"login":"namisan","id":3060273,"node_id":"MDQ6VXNlcjMwNjAyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/3060273?v=4","gravatar_id":"","url":"https://api.github.com/users/namisan","html_url":"https://github.com/namisan","followers_url":"https://api.github.com/users/namisan/followers","following_url":"https://api.github.com/users/namisan/following{/other_user}","gists_url":"https://api.github.com/users/namisan/gists{/gist_id}","starred_url":"https://api.github.com/users/namisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namisan/subscriptions","organizations_url":"https://api.github.com/users/namisan/orgs","repos_url":"https://api.github.com/users/namisan/repos","events_url":"https://api.github.com/users/namisan/events{/privacy}","received_events_url":"https://api.github.com/users/namisan/received_events","type":"User","site_admin":false},"created_at":"2020-12-11T18:02:06Z","updated_at":"2020-12-11T18:02:06Z","author_association":"OWNER","body":"thanks @nanzhao , I've already fixed the bug. I recently imp-ed dynamic bins and DDP to speed up training, and it works quite well. Will update instructions.  \r\n ","reactions":{"url":"https://api.github.com/repos/namisan/mt-dnn/issues/comments/743341417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"namisan","id":3060273,"node_id":"MDQ6VXNlcjMwNjAyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/3060273?v=4","gravatar_id":"","url":"https://api.github.com/users/namisan","html_url":"https://github.com/namisan","followers_url":"https://api.github.com/users/namisan/followers","following_url":"https://api.github.com/users/namisan/following{/other_user}","gists_url":"https://api.github.com/users/namisan/gists{/gist_id}","starred_url":"https://api.github.com/users/namisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namisan/subscriptions","organizations_url":"https://api.github.com/users/namisan/orgs","repos_url":"https://api.github.com/users/namisan/repos","events_url":"https://api.github.com/users/namisan/events{/privacy}","received_events_url":"https://api.github.com/users/namisan/received_events","type":"User","site_admin":false}},{"id":4101643445,"node_id":"MDExOkNsb3NlZEV2ZW50NDEwMTY0MzQ0NQ==","url":"https://api.github.com/repos/namisan/mt-dnn/issues/events/4101643445","actor":{"login":"namisan","id":3060273,"node_id":"MDQ6VXNlcjMwNjAyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/3060273?v=4","gravatar_id":"","url":"https://api.github.com/users/namisan","html_url":"https://github.com/namisan","followers_url":"https://api.github.com/users/namisan/followers","following_url":"https://api.github.com/users/namisan/following{/other_user}","gists_url":"https://api.github.com/users/namisan/gists{/gist_id}","starred_url":"https://api.github.com/users/namisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namisan/subscriptions","organizations_url":"https://api.github.com/users/namisan/orgs","repos_url":"https://api.github.com/users/namisan/repos","events_url":"https://api.github.com/users/namisan/events{/privacy}","received_events_url":"https://api.github.com/users/namisan/received_events","type":"User","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-12-11T18:02:06Z","state_reason":null,"performed_via_github_app":null},{"id":4101643457,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDEwMTY0MzQ1Nw==","url":"https://api.github.com/repos/namisan/mt-dnn/issues/events/4101643457","actor":{"login":"nanzhao","id":4546867,"node_id":"MDQ6VXNlcjQ1NDY4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/4546867?v=4","gravatar_id":"","url":"https://api.github.com/users/nanzhao","html_url":"https://github.com/nanzhao","followers_url":"https://api.github.com/users/nanzhao/followers","following_url":"https://api.github.com/users/nanzhao/following{/other_user}","gists_url":"https://api.github.com/users/nanzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/nanzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nanzhao/subscriptions","organizations_url":"https://api.github.com/users/nanzhao/orgs","repos_url":"https://api.github.com/users/nanzhao/repos","events_url":"https://api.github.com/users/nanzhao/events{/privacy}","received_events_url":"https://api.github.com/users/nanzhao/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-11T18:02:06Z","performed_via_github_app":null},{"id":4101643466,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxMDE2NDM0NjY=","url":"https://api.github.com/repos/namisan/mt-dnn/issues/events/4101643466","actor":{"login":"nanzhao","id":4546867,"node_id":"MDQ6VXNlcjQ1NDY4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/4546867?v=4","gravatar_id":"","url":"https://api.github.com/users/nanzhao","html_url":"https://github.com/nanzhao","followers_url":"https://api.github.com/users/nanzhao/followers","following_url":"https://api.github.com/users/nanzhao/following{/other_user}","gists_url":"https://api.github.com/users/nanzhao/gists{/gist_id}","starred_url":"https://api.github.com/users/nanzhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nanzhao/subscriptions","organizations_url":"https://api.github.com/users/nanzhao/orgs","repos_url":"https://api.github.com/users/nanzhao/repos","events_url":"https://api.github.com/users/nanzhao/events{/privacy}","received_events_url":"https://api.github.com/users/nanzhao/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-11T18:02:07Z","performed_via_github_app":null}]