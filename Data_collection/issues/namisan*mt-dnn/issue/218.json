{"url":"https://api.github.com/repos/namisan/mt-dnn/issues/218","repository_url":"https://api.github.com/repos/namisan/mt-dnn","labels_url":"https://api.github.com/repos/namisan/mt-dnn/issues/218/labels{/name}","comments_url":"https://api.github.com/repos/namisan/mt-dnn/issues/218/comments","events_url":"https://api.github.com/repos/namisan/mt-dnn/issues/218/events","html_url":"https://github.com/namisan/mt-dnn/issues/218","id":937143967,"node_id":"MDU6SXNzdWU5MzcxNDM5Njc=","number":218,"title":"RoBERTa results are much worse than the BERTs'","user":{"login":"DiamondRock","id":39501236,"node_id":"MDQ6VXNlcjM5NTAxMjM2","avatar_url":"https://avatars.githubusercontent.com/u/39501236?v=4","gravatar_id":"","url":"https://api.github.com/users/DiamondRock","html_url":"https://github.com/DiamondRock","followers_url":"https://api.github.com/users/DiamondRock/followers","following_url":"https://api.github.com/users/DiamondRock/following{/other_user}","gists_url":"https://api.github.com/users/DiamondRock/gists{/gist_id}","starred_url":"https://api.github.com/users/DiamondRock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DiamondRock/subscriptions","organizations_url":"https://api.github.com/users/DiamondRock/orgs","repos_url":"https://api.github.com/users/DiamondRock/repos","events_url":"https://api.github.com/users/DiamondRock/events{/privacy}","received_events_url":"https://api.github.com/users/DiamondRock/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-07-05T14:23:39Z","updated_at":"2021-08-05T23:11:44Z","closed_at":"2021-07-27T22:09:35Z","author_association":"NONE","active_lock_reason":null,"body":"I have run train.py for three models, bert-large, bert-base, and roberta-base, on two different multi-class classification datasets, one with 3 labels and one with 5 labels. The results for BERTs are pretty good, but the results for RoBERTa are pretty bad. By printing the confusion matrices at each epoch, it is understandable what the differences are. For instance, at epoch 2, the results for BERT base uncased for 5-class classification are:\r\n07/05/2021 08:47:44 Task fiveClass -- epoch 2 -- Dev ACC: 84.121\r\n07/05/2021 08:47:44 Task fiveClass -- epoch 2 -- Dev F1MAC: 81.951\r\n07/05/2021 08:47:44 Task fiveClass -- epoch 2 -- Dev F1MIC: 84.121\r\n07/05/2021 08:47:44 Task fiveClass-- epoch 2 -- Dev CMAT: \r\n[[328  37   7  39  13]\r\n [ 20 545  26  20  12]\r\n [  4  16 118  14   5]\r\n [ 26  15  21 405  33]\r\n [  9   5   9  15 437]]\r\n\r\nAnd the results for RoBERTA-base are:\r\n07/05/2021 08:56:05 Task fiveClass -- epoch 3 -- Dev ACC: 47.958\r\n07/05/2021 08:56:05 Task fiveClass -- epoch 3 -- Dev F1MAC: 35.243\r\n07/05/2021 08:56:05 Task fiveClass -- epoch 3 -- Dev F1MIC: 47.958\r\n07/05/2021 08:56:05 Task fiveClass -- epoch 3 -- Dev CMAT: \r\n[[ 65 242   0  56  61]\r\n [ 44 512   0  43  24]\r\n [ 29  89   0  16  23]\r\n [ 62 226   0 111 101]\r\n [ 21  39   0  58 357]]\r\n\r\nI have gone up to epoch 20; the results improve a little for RoBERTa but start to degrade after some epochs. \r\nIf you notice, the RoBERTa has absolute zero capability to detect label 2. I ran this experiment on the 3-class classification as well and found that there also RoBERTa cannot detect label 2 at all.\r\n\r\nDoes anybody have any solution for this?","closed_by":{"login":"namisan","id":3060273,"node_id":"MDQ6VXNlcjMwNjAyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/3060273?v=4","gravatar_id":"","url":"https://api.github.com/users/namisan","html_url":"https://github.com/namisan","followers_url":"https://api.github.com/users/namisan/followers","following_url":"https://api.github.com/users/namisan/following{/other_user}","gists_url":"https://api.github.com/users/namisan/gists{/gist_id}","starred_url":"https://api.github.com/users/namisan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namisan/subscriptions","organizations_url":"https://api.github.com/users/namisan/orgs","repos_url":"https://api.github.com/users/namisan/repos","events_url":"https://api.github.com/users/namisan/events{/privacy}","received_events_url":"https://api.github.com/users/namisan/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/namisan/mt-dnn/issues/218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/namisan/mt-dnn/issues/218/timeline","performed_via_github_app":null,"state_reason":"completed"}