[{"url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/comments/1014774017","html_url":"https://github.com/HypoX64/DeepMosaics/issues/73#issuecomment-1014774017","issue_url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/73","id":1014774017,"node_id":"IC_kwDOCl7ihc48fDkB","user":{"login":"d0ne187","id":97824496,"node_id":"U_kgDOBdSu8A","avatar_url":"https://avatars.githubusercontent.com/u/97824496?v=4","gravatar_id":"","url":"https://api.github.com/users/d0ne187","html_url":"https://github.com/d0ne187","followers_url":"https://api.github.com/users/d0ne187/followers","following_url":"https://api.github.com/users/d0ne187/following{/other_user}","gists_url":"https://api.github.com/users/d0ne187/gists{/gist_id}","starred_url":"https://api.github.com/users/d0ne187/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0ne187/subscriptions","organizations_url":"https://api.github.com/users/d0ne187/orgs","repos_url":"https://api.github.com/users/d0ne187/repos","events_url":"https://api.github.com/users/d0ne187/events{/privacy}","received_events_url":"https://api.github.com/users/d0ne187/received_events","type":"User","site_admin":false},"created_at":"2022-01-17T17:44:59Z","updated_at":"2022-01-17T17:44:59Z","author_association":"NONE","body":"If you run the master code you can edit the util/ffmpeg.py under the image2video line to tell ffmpeg how to convert the color format. I got the parameters from google, but the result looks almost the same as the source to me using the PNG option. The line looks like this in my file:\r\nos.system('ffmpeg -y -r '+str(fps)+' -i '+imagepath+' -vcodec libx264 -crf 20 -tune film -preset slow -pix_fmt yuv420p -vf colormatrix=bt601:bt709 -sws_flags +accurate_rnd+full_chroma_int '+os.path.split(voicepath)[0]+'/video_tmp.mp4')","reactions":{"url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/comments/1014774017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"d0ne187","id":97824496,"node_id":"U_kgDOBdSu8A","avatar_url":"https://avatars.githubusercontent.com/u/97824496?v=4","gravatar_id":"","url":"https://api.github.com/users/d0ne187","html_url":"https://github.com/d0ne187","followers_url":"https://api.github.com/users/d0ne187/followers","following_url":"https://api.github.com/users/d0ne187/following{/other_user}","gists_url":"https://api.github.com/users/d0ne187/gists{/gist_id}","starred_url":"https://api.github.com/users/d0ne187/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0ne187/subscriptions","organizations_url":"https://api.github.com/users/d0ne187/orgs","repos_url":"https://api.github.com/users/d0ne187/repos","events_url":"https://api.github.com/users/d0ne187/events{/privacy}","received_events_url":"https://api.github.com/users/d0ne187/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/comments/1014823150","html_url":"https://github.com/HypoX64/DeepMosaics/issues/73#issuecomment-1014823150","issue_url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/73","id":1014823150,"node_id":"IC_kwDOCl7ihc48fPju","user":{"login":"suphamster","id":17669188,"node_id":"MDQ6VXNlcjE3NjY5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/17669188?v=4","gravatar_id":"","url":"https://api.github.com/users/suphamster","html_url":"https://github.com/suphamster","followers_url":"https://api.github.com/users/suphamster/followers","following_url":"https://api.github.com/users/suphamster/following{/other_user}","gists_url":"https://api.github.com/users/suphamster/gists{/gist_id}","starred_url":"https://api.github.com/users/suphamster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suphamster/subscriptions","organizations_url":"https://api.github.com/users/suphamster/orgs","repos_url":"https://api.github.com/users/suphamster/repos","events_url":"https://api.github.com/users/suphamster/events{/privacy}","received_events_url":"https://api.github.com/users/suphamster/received_events","type":"User","site_admin":false},"created_at":"2022-01-17T19:09:23Z","updated_at":"2022-01-17T19:10:58Z","author_association":"NONE","body":"Thanks, will try it. Btw how do u run from master code? I'm a noob at Python so when I run deepmosaic.py from Pyhon 3.7 (prerequisites installed of cause) directly it says that I have some missing dll's (not tells what exactly) and don't run but when run same script from VS 2019 it works fine but problem is to sent command line variables to VS 2019 like in developer's example \"python deepmosaic.py --media_path ./imgs/ruoruo.jpg --model_path ./pretrained_models/mosaic/add_face.pth --gpu_id 0\".","reactions":{"url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/comments/1014823150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"suphamster","id":17669188,"node_id":"MDQ6VXNlcjE3NjY5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/17669188?v=4","gravatar_id":"","url":"https://api.github.com/users/suphamster","html_url":"https://github.com/suphamster","followers_url":"https://api.github.com/users/suphamster/followers","following_url":"https://api.github.com/users/suphamster/following{/other_user}","gists_url":"https://api.github.com/users/suphamster/gists{/gist_id}","starred_url":"https://api.github.com/users/suphamster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suphamster/subscriptions","organizations_url":"https://api.github.com/users/suphamster/orgs","repos_url":"https://api.github.com/users/suphamster/repos","events_url":"https://api.github.com/users/suphamster/events{/privacy}","received_events_url":"https://api.github.com/users/suphamster/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/comments/1014829453","html_url":"https://github.com/HypoX64/DeepMosaics/issues/73#issuecomment-1014829453","issue_url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/73","id":1014829453,"node_id":"IC_kwDOCl7ihc48fRGN","user":{"login":"d0ne187","id":97824496,"node_id":"U_kgDOBdSu8A","avatar_url":"https://avatars.githubusercontent.com/u/97824496?v=4","gravatar_id":"","url":"https://api.github.com/users/d0ne187","html_url":"https://github.com/d0ne187","followers_url":"https://api.github.com/users/d0ne187/followers","following_url":"https://api.github.com/users/d0ne187/following{/other_user}","gists_url":"https://api.github.com/users/d0ne187/gists{/gist_id}","starred_url":"https://api.github.com/users/d0ne187/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0ne187/subscriptions","organizations_url":"https://api.github.com/users/d0ne187/orgs","repos_url":"https://api.github.com/users/d0ne187/repos","events_url":"https://api.github.com/users/d0ne187/events{/privacy}","received_events_url":"https://api.github.com/users/d0ne187/received_events","type":"User","site_admin":false},"created_at":"2022-01-17T19:19:25Z","updated_at":"2022-01-17T19:19:25Z","author_association":"NONE","body":"I also just installed Python (3.6 in my case), then I installed Cuda 10.2, then pytorch following the instructions on their homepage for Cuda 10.2 (pip3 install torch==1.10.1+cu102 torchvision==0.11.2+cu102 torchaudio===0.10.1+cu102 -f https://download.pytorch.org/whl/cu102/torch_stable.html) and then the prerequisites.txt (minus torchvision and torch) and then I just run the example line you posted. You also need to put the ffmpeg files (ffmpeg.exe, ffplay.exe,ffprobe.exe) into the root folder where the deepmosaic.py is located.","reactions":{"url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/comments/1014829453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"d0ne187","id":97824496,"node_id":"U_kgDOBdSu8A","avatar_url":"https://avatars.githubusercontent.com/u/97824496?v=4","gravatar_id":"","url":"https://api.github.com/users/d0ne187","html_url":"https://github.com/d0ne187","followers_url":"https://api.github.com/users/d0ne187/followers","following_url":"https://api.github.com/users/d0ne187/following{/other_user}","gists_url":"https://api.github.com/users/d0ne187/gists{/gist_id}","starred_url":"https://api.github.com/users/d0ne187/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d0ne187/subscriptions","organizations_url":"https://api.github.com/users/d0ne187/orgs","repos_url":"https://api.github.com/users/d0ne187/repos","events_url":"https://api.github.com/users/d0ne187/events{/privacy}","received_events_url":"https://api.github.com/users/d0ne187/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/comments/1084569380","html_url":"https://github.com/HypoX64/DeepMosaics/issues/73#issuecomment-1084569380","issue_url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/73","id":1084569380,"node_id":"IC_kwDOCl7ihc5ApTck","user":{"login":"mirh","id":9366725,"node_id":"MDQ6VXNlcjkzNjY3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/9366725?v=4","gravatar_id":"","url":"https://api.github.com/users/mirh","html_url":"https://github.com/mirh","followers_url":"https://api.github.com/users/mirh/followers","following_url":"https://api.github.com/users/mirh/following{/other_user}","gists_url":"https://api.github.com/users/mirh/gists{/gist_id}","starred_url":"https://api.github.com/users/mirh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mirh/subscriptions","organizations_url":"https://api.github.com/users/mirh/orgs","repos_url":"https://api.github.com/users/mirh/repos","events_url":"https://api.github.com/users/mirh/events{/privacy}","received_events_url":"https://api.github.com/users/mirh/received_events","type":"User","site_admin":false},"created_at":"2022-03-31T13:21:18Z","updated_at":"2022-03-31T13:21:18Z","author_association":"NONE","body":"This is a combination of two ffmpeg bugs (please edit the title, this is about colorspace being wrong, not worse \"quality\" per se)\r\n\r\n[First](https://github.com/k4yt3x/video2x/issues/403#issuecomment-1012683319) the tool doesn't tag the final video with the proper colorspace, so poor video players have to guess it. \r\nJust about every operation targets bt.601, so you have to hope they can take the right stab, but alas divination would be easier. \r\n\r\nWhy this doesn't affect jpeg though? Because of [another bug](https://github.com/n00mkrad/flowframes/issues/84#issuecomment-1073103337) where they forget to take into account the color space/matrix when converting to full range. \r\nSo, I don't have OP's source video, but I can imagine it was tagged bt.709, which is then incorrectly converted to jpg, only to be finally incorrectly \"stored\" in the output video file. \r\n(if the input was untagged bt.709 instead, even png would probably be fine)","reactions":{"url":"https://api.github.com/repos/HypoX64/DeepMosaics/issues/comments/1084569380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mirh","id":9366725,"node_id":"MDQ6VXNlcjkzNjY3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/9366725?v=4","gravatar_id":"","url":"https://api.github.com/users/mirh","html_url":"https://github.com/mirh","followers_url":"https://api.github.com/users/mirh/followers","following_url":"https://api.github.com/users/mirh/following{/other_user}","gists_url":"https://api.github.com/users/mirh/gists{/gist_id}","starred_url":"https://api.github.com/users/mirh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mirh/subscriptions","organizations_url":"https://api.github.com/users/mirh/orgs","repos_url":"https://api.github.com/users/mirh/repos","events_url":"https://api.github.com/users/mirh/events{/privacy}","received_events_url":"https://api.github.com/users/mirh/received_events","type":"User","site_admin":false}}]