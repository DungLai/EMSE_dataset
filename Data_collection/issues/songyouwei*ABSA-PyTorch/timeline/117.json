[{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593193741","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593193741","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593193741,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzE5Mzc0MQ==","user":{"login":"songyouwei","id":2573291,"node_id":"MDQ6VXNlcjI1NzMyOTE=","avatar_url":"https://avatars.githubusercontent.com/u/2573291?v=4","gravatar_id":"","url":"https://api.github.com/users/songyouwei","html_url":"https://github.com/songyouwei","followers_url":"https://api.github.com/users/songyouwei/followers","following_url":"https://api.github.com/users/songyouwei/following{/other_user}","gists_url":"https://api.github.com/users/songyouwei/gists{/gist_id}","starred_url":"https://api.github.com/users/songyouwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/songyouwei/subscriptions","organizations_url":"https://api.github.com/users/songyouwei/orgs","repos_url":"https://api.github.com/users/songyouwei/repos","events_url":"https://api.github.com/users/songyouwei/events{/privacy}","received_events_url":"https://api.github.com/users/songyouwei/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T02:44:05Z","updated_at":"2020-03-02T02:44:05Z","author_association":"OWNER","body":"@GeneZC 麻烦看一下","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593193741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"songyouwei","id":2573291,"node_id":"MDQ6VXNlcjI1NzMyOTE=","avatar_url":"https://avatars.githubusercontent.com/u/2573291?v=4","gravatar_id":"","url":"https://api.github.com/users/songyouwei","html_url":"https://github.com/songyouwei","followers_url":"https://api.github.com/users/songyouwei/followers","following_url":"https://api.github.com/users/songyouwei/following{/other_user}","gists_url":"https://api.github.com/users/songyouwei/gists{/gist_id}","starred_url":"https://api.github.com/users/songyouwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/songyouwei/subscriptions","organizations_url":"https://api.github.com/users/songyouwei/orgs","repos_url":"https://api.github.com/users/songyouwei/repos","events_url":"https://api.github.com/users/songyouwei/events{/privacy}","received_events_url":"https://api.github.com/users/songyouwei/received_events","type":"User","site_admin":false}},{"id":3086214771,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA4NjIxNDc3MQ==","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086214771","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-02T02:44:05Z","performed_via_github_app":null},{"id":3086214773,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwODYyMTQ3NzM=","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086214773","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-02T02:44:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593207619","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593207619","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593207619,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzIwNzYxOQ==","user":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T03:58:22Z","updated_at":"2020-03-02T03:58:22Z","author_association":"COLLABORATOR","body":"@ZhangYikaii 按理说只要seq_len是所有数据的最大长度应该就没问题？","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593207619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false}},{"id":3086325577,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA4NjMyNTU3Nw==","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086325577","actor":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-02T03:58:23Z","performed_via_github_app":null},{"id":3086325581,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwODYzMjU1ODE=","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086325581","actor":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-02T03:58:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593209181","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593209181","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593209181,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzIwOTE4MQ==","user":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T04:07:56Z","updated_at":"2020-03-02T04:07:56Z","author_association":"COLLABORATOR","body":"我发现这个也提了类似的错误 #114  ","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593209181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593216392","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593216392","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593216392,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzIxNjM5Mg==","user":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T04:44:25Z","updated_at":"2020-03-02T04:44:25Z","author_association":"CONTRIBUTOR","body":"是的, 就是这个报错, 您按照我上面的代码修改就没问题了\r\n\r\n您看: `pos_inx[i][1] == seq_len` 的时候(aspect在末尾), 中间的`for`就会走到比`seq_len`还多的地方, `weight.append`之后就多了, 长度就不一致了","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593216392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593216426","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593216426","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593216426,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzIxNjQyNg==","user":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T04:44:36Z","updated_at":"2020-03-02T04:44:36Z","author_association":"CONTRIBUTOR","body":"@GeneZC ","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593216426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false}},{"id":3086389941,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA4NjM4OTk0MQ==","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086389941","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-02T04:44:36Z","performed_via_github_app":null},{"id":3086389942,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwODYzODk5NDI=","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086389942","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-02T04:44:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593222900","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593222900","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593222900,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzIyMjkwMA==","user":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T05:13:41Z","updated_at":"2020-03-02T05:13:41Z","author_association":"COLLABORATOR","body":"我个人分析应该是这样的：\r\n所有文本的最长长度为83（举个例子）\r\n而本仓库设置的文本最长长度为80，所以会有原文本被阶段的情况（当aspect在末尾是，aspect也会被部分截断），损失了文本信息。\r\n在处理时，我计算pos_inx的方式是利用aspect左文本长度和aspect本身长度，此时pos_idx[i][1]可能会大于seq_len。\r\n综上，我个人觉得更为合理的解决方式是，将max_len设置为所有文本的最长长度（亦即本仓库中的seq_len），这样不但能解决上述超过界限的问题，还能够不损失文本信息。","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593222900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593248256","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593248256","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593248256,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI0ODI1Ng==","user":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T06:51:28Z","updated_at":"2020-03-02T06:51:28Z","author_association":"CONTRIBUTOR","body":"@GeneZC \r\n或许是这样?\r\n\r\n调节`max_len`诚然可以保留更多的文本信息, 但是以上报错的根本成因是 https://github.com/songyouwei/ABSA-PyTorch/blob/master/models/mgan.py#L31 \r\n`pos_inx[i][1] + 1 > seq_len` (当aspect在末尾, 即便`max_len = 所有文本最长长度`), weight[i].append()被执行超过`seq_len`次, 导致weight矩阵中某些行长度超出seq_len.\r\n\r\n不过您说的有道理, 我会关注一下aspect被截掉的情况, 谢谢","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593248256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false}},{"id":3086622793,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA4NjYyMjc5Mw==","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086622793","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-02T06:51:29Z","performed_via_github_app":null},{"id":3086622795,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwODY2MjI3OTU=","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086622795","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-02T06:51:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593249461","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593249461","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593249461,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI0OTQ2MQ==","user":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T06:55:51Z","updated_at":"2020-03-02T07:00:51Z","author_association":"COLLABORATOR","body":"我个人的理解是，其实只要max_len=所有文本最长长度，pos_inx[i][1]+1就不会大于seq_len","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593249461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593258328","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593258328","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593258328,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI1ODMyOA==","user":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T07:25:09Z","updated_at":"2020-03-02T07:25:09Z","author_association":"CONTRIBUTOR","body":"或许是, 是我没有理解整个过程, 抱歉","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593258328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false}},{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593262302","html_url":"https://github.com/songyouwei/ABSA-PyTorch/issues/117#issuecomment-593262302","issue_url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/117","id":593262302,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI2MjMwMg==","user":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T07:37:21Z","updated_at":"2020-03-02T07:37:21Z","author_association":"COLLABORATOR","body":"@ZhangYikaii 没必要抱歉啊，互相交流而已 ：）","reactions":{"url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/comments/593262302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GeneZC","id":24239326,"node_id":"MDQ6VXNlcjI0MjM5MzI2","avatar_url":"https://avatars.githubusercontent.com/u/24239326?v=4","gravatar_id":"","url":"https://api.github.com/users/GeneZC","html_url":"https://github.com/GeneZC","followers_url":"https://api.github.com/users/GeneZC/followers","following_url":"https://api.github.com/users/GeneZC/following{/other_user}","gists_url":"https://api.github.com/users/GeneZC/gists{/gist_id}","starred_url":"https://api.github.com/users/GeneZC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeneZC/subscriptions","organizations_url":"https://api.github.com/users/GeneZC/orgs","repos_url":"https://api.github.com/users/GeneZC/repos","events_url":"https://api.github.com/users/GeneZC/events{/privacy}","received_events_url":"https://api.github.com/users/GeneZC/received_events","type":"User","site_admin":false}},{"id":3086731137,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA4NjczMTEzNw==","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086731137","actor":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-02T07:37:22Z","performed_via_github_app":null},{"id":3086731141,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwODY3MzExNDE=","url":"https://api.github.com/repos/songyouwei/ABSA-PyTorch/issues/events/3086731141","actor":{"login":"ZhangYikaii","id":46623714,"node_id":"MDQ6VXNlcjQ2NjIzNzE0","avatar_url":"https://avatars.githubusercontent.com/u/46623714?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhangYikaii","html_url":"https://github.com/ZhangYikaii","followers_url":"https://api.github.com/users/ZhangYikaii/followers","following_url":"https://api.github.com/users/ZhangYikaii/following{/other_user}","gists_url":"https://api.github.com/users/ZhangYikaii/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhangYikaii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhangYikaii/subscriptions","organizations_url":"https://api.github.com/users/ZhangYikaii/orgs","repos_url":"https://api.github.com/users/ZhangYikaii/repos","events_url":"https://api.github.com/users/ZhangYikaii/events{/privacy}","received_events_url":"https://api.github.com/users/ZhangYikaii/received_events","type":"User","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-02T07:37:22Z","performed_via_github_app":null}]