{"url":"https://api.github.com/repos/cleardusk/3DDFA/issues/53","repository_url":"https://api.github.com/repos/cleardusk/3DDFA","labels_url":"https://api.github.com/repos/cleardusk/3DDFA/issues/53/labels{/name}","comments_url":"https://api.github.com/repos/cleardusk/3DDFA/issues/53/comments","events_url":"https://api.github.com/repos/cleardusk/3DDFA/issues/53/events","html_url":"https://github.com/cleardusk/3DDFA/issues/53","id":424685942,"node_id":"MDU6SXNzdWU0MjQ2ODU5NDI=","number":53,"title":"Possible error in \"matrix2angle\" function?","user":{"login":"yxchng","id":10518587,"node_id":"MDQ6VXNlcjEwNTE4NTg3","avatar_url":"https://avatars.githubusercontent.com/u/10518587?v=4","gravatar_id":"","url":"https://api.github.com/users/yxchng","html_url":"https://github.com/yxchng","followers_url":"https://api.github.com/users/yxchng/followers","following_url":"https://api.github.com/users/yxchng/following{/other_user}","gists_url":"https://api.github.com/users/yxchng/gists{/gist_id}","starred_url":"https://api.github.com/users/yxchng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yxchng/subscriptions","organizations_url":"https://api.github.com/users/yxchng/orgs","repos_url":"https://api.github.com/users/yxchng/repos","events_url":"https://api.github.com/users/yxchng/events{/privacy}","received_events_url":"https://api.github.com/users/yxchng/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-03-25T01:16:21Z","updated_at":"2020-12-04T07:38:46Z","closed_at":"2019-05-20T16:42:33Z","author_association":"NONE","active_lock_reason":null,"body":"Your code:\r\n\r\n> def matrix2angle(R):\r\n>     ''' compute three Euler angles from a Rotation Matrix. Ref: http://www.gregslabaugh.net/publications/euler.pdf\r\n>     Args:\r\n>         R: (3,3). rotation matrix\r\n>     Returns:\r\n>         x: yaw\r\n>         y: pitch\r\n>         z: roll\r\n>     '''\r\n>     # assert(isRotationMatrix(R))\r\n> \r\n>     if R[2, 0] != 1 or R[2, 0] != -1:\r\n>         x = asin(R[2, 0])\r\n>         y = atan2(R[2, 1] / cos(x), R[2, 2] / cos(x))\r\n>         z = atan2(R[1, 0] / cos(x), R[0, 0] / cos(x))\r\n> \r\n>     else:  # Gimbal lock\r\n>         z = 0  # can be anything\r\n>         if R[2, 0] == -1:\r\n>             x = np.pi / 2\r\n>             y = z + atan2(R[0, 1], R[0, 2])\r\n>         else:\r\n>             x = -np.pi / 2\r\n>             y = -z + atan2(-R[0, 1], -R[0, 2])\r\n> \r\n>     return x, y, z\r\n> \r\n\r\nReference:\r\n\r\n![Screenshot from 2019-03-25 09-14-24](https://user-images.githubusercontent.com/10518587/54889237-9457d080-4ede-11e9-816a-4a09dc76818a.png)\r\n\r\nHi I checked your estimate_pose.py code with the reference `http://www.gregslabaugh.net/publications/euler.pdf` and it seems that x is supposed to be `x = -asin(R[2,0])`? Is this a bug? Or is there any special reason to remove the negative sign? If so, can you explain why the sign is removed? Thanks!","closed_by":{"login":"cleardusk","id":7555251,"node_id":"MDQ6VXNlcjc1NTUyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/7555251?v=4","gravatar_id":"","url":"https://api.github.com/users/cleardusk","html_url":"https://github.com/cleardusk","followers_url":"https://api.github.com/users/cleardusk/followers","following_url":"https://api.github.com/users/cleardusk/following{/other_user}","gists_url":"https://api.github.com/users/cleardusk/gists{/gist_id}","starred_url":"https://api.github.com/users/cleardusk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cleardusk/subscriptions","organizations_url":"https://api.github.com/users/cleardusk/orgs","repos_url":"https://api.github.com/users/cleardusk/repos","events_url":"https://api.github.com/users/cleardusk/events{/privacy}","received_events_url":"https://api.github.com/users/cleardusk/received_events","type":"User","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cleardusk/3DDFA/issues/53/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cleardusk/3DDFA/issues/53/timeline","performed_via_github_app":null,"state_reason":"completed"}